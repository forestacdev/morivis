var He=Object.defineProperty;var Ne=(t,e,n)=>e in t?He(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var k=(t,e,n)=>Ne(t,typeof e!="symbol"?e+"":e,n);import{x as Z,h as M,aj as q,ag as Re,b as St,d as je,n as I,P as ze,v as Ve,w as Nt,y as Q,g as F,ap as Be,z as he,e as pe,f as Ge,av as ge,at as ve,af as Ue,F as Y,V as Rt,aw as ut,C as me,ae as W,ax as At,ay as qe,az as Et,aA as jt,aB as Ye,as as Qe,aC as We,aD as Ke,aE as Xe,ai as Se,t as yt,aF as Je,aq as Ze,ao as tn,aG as en,aH as nn,aI as sn,aJ as rn,aK as on,E as an,aL as cn,aM as ln,A as un,l as fn,aN as dn,aO as hn,D as j,ab as zt,ac as Vt,ad as pn,aP as gn,aQ as vn,a9 as E,J as x,p as mn,a2 as Sn,a8 as yn,aR as bn,aS as wn,a5 as Bt,a as _n,I as Gt,aT as ft,o as Tn,aU as In,$ as An,c as En,r as Mn}from"./BSdiOwP2.js";import{g as Ut,i as Cn,j as Pn,k as xn,l as kn,d as Ln,o as Dn,p as On,q as $n,r as Fn,w as Hn,c as qt,a as X,n as Nn,t as Rn}from"./D0t-KpC4.js";import{i as jn}from"./DCoaoSqf.js";import{l as zn,i as Yt}from"./BLZvhTbo.js";let tt=null;function bi(t,e){return e}function Vn(t,e,n,s){for(var i=[],r=e.length,o=0;o<r;o++)Ye(e[o].e,i,!0);var a=r>0&&i.length===0&&n!==null;if(a){var c=n.parentNode;Qe(c),c.append(n),s.clear(),D(t,e[0].prev,e[r-1].next)}We(i,()=>{for(var u=0;u<r;u++){var f=e[u];a||(s.delete(f.k),D(t,f.prev,f.next)),Ke(f.e,!a)}})}function wi(t,e,n,s,i,r=null){var o=t,a={flags:e,items:new Map,first:null},c=(e&ge)!==0;if(c){var u=t;o=M?Z(q(u)):u.appendChild(Re())}M&&St();var f=null,d=!1,l=ze(()=>{var h=n();return Ue(h)?h:h==null?[]:ve(h)});je(()=>{var h=I(l),S=h.length;if(d&&S===0)return;d=S===0;let y=!1;if(M){var b=o.data===Ve;b!==(S===0)&&(o=Nt(),Z(o),Q(!1),y=!0)}if(M){for(var p=null,m,v=0;v<S;v++){if(F.nodeType===8&&F.data===Be){o=F,y=!0,Q(!1);break}var g=h[v],w=s(g,v);m=ye(F,a,p,null,g,w,v,i,e,n),a.items.set(w,m),p=m}S>0&&Z(Nt())}M||Bn(h,a,o,i,e,s,n),r!==null&&(S===0?f?he(f):f=pe(()=>r(o)):f!==null&&Ge(f,()=>{f=null})),y&&Q(!0),I(l)}),M&&(o=F)}function Bn(t,e,n,s,i,r,o){var Dt,Ot,$t,Ft;var a=(i&qe)!==0,c=(i&(Et|At))!==0,u=t.length,f=e.items,d=e.first,l=d,h,S=null,y,b=[],p=[],m,v,g,w;if(a)for(w=0;w<u;w+=1)m=t[w],v=r(m,w),g=f.get(v),g!==void 0&&((Dt=g.a)==null||Dt.measure(),(y??(y=new Set)).add(g));for(w=0;w<u;w+=1){if(m=t[w],v=r(m,w),g=f.get(v),g===void 0){var _=l?l.e.nodes_start:n;S=ye(_,e,S,S===null?e.first:S.next,m,v,w,s,i,o),f.set(v,S),b=[],p=[],l=S.next;continue}if(c&&Gn(g,m,w,i),g.e.f&ut&&(he(g.e),a&&((Ot=g.a)==null||Ot.unfix(),(y??(y=new Set)).delete(g))),g!==l){if(h!==void 0&&h.has(g)){if(b.length<p.length){var T=p[0],A;S=T.prev;var C=b[0],P=b[b.length-1];for(A=0;A<b.length;A+=1)Qt(b[A],T,n);for(A=0;A<p.length;A+=1)h.delete(p[A]);D(e,C.prev,P.next),D(e,S,C),D(e,P,T),l=T,S=P,w-=1,b=[],p=[]}else h.delete(g),Qt(g,l,n),D(e,g.prev,g.next),D(e,g,S===null?e.first:S.next),D(e,S,g),S=g;continue}for(b=[],p=[];l!==null&&l.k!==v;)l.e.f&ut||(h??(h=new Set)).add(l),p.push(l),l=l.next;if(l===null)continue;g=l}b.push(g),S=g,l=g.next}if(l!==null||h!==void 0){for(var R=h===void 0?[]:ve(h);l!==null;)l.e.f&ut||R.push(l),l=l.next;var lt=R.length;if(lt>0){var Fe=i&ge&&u===0?n:null;if(a){for(w=0;w<lt;w+=1)($t=R[w].a)==null||$t.measure();for(w=0;w<lt;w+=1)(Ft=R[w].a)==null||Ft.fix()}Vn(e,R,Fe,f)}}a&&me(()=>{var Ht;if(y!==void 0)for(g of y)(Ht=g.a)==null||Ht.apply()}),W.first=e.first&&e.first.e,W.last=S&&S.e}function Gn(t,e,n,s){s&Et&&jt(t.v,e),s&At?jt(t.i,n):t.i=n}function ye(t,e,n,s,i,r,o,a,c,u){var f=tt,d=(c&Et)!==0,l=(c&Xe)===0,h=d?l?Y(i):Rt(i):i,S=c&At?Rt(o):o,y={i:S,v:h,k:r,a:null,e:null,prev:n,next:s};tt=y;try{return y.e=pe(()=>a(t,h,S,u),M),y.e.prev=n&&n.e,y.e.next=s&&s.e,n===null?e.first=y:(n.next=y,n.e.next=y.e),s!==null&&(s.prev=y,s.e.prev=y.e),y}finally{tt=f}}function Qt(t,e,n){for(var s=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,r=t.e.nodes_start;r!==s;){var o=Se(r);i.before(r),r=o}}function D(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Un(t,e,n=!1,s=!1,i=!1){var r=t,o="";yt(()=>{var a=W;if(o===(o=e()??"")){M&&St();return}if(a.nodes_start!==null&&(Je(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),o!==""){if(M){F.data;for(var c=St(),u=c;c!==null&&(c.nodeType!==8||c.data!=="");)u=c,c=Se(c);if(c===null)throw Ze(),tn;Ut(F,u),r=Z(c);return}var f=o+"";n?f=`<svg>${f}</svg>`:s&&(f=`<math>${f}</math>`);var d=Cn(f);if((n||s)&&(d=q(d)),Ut(q(d),d.lastChild),n||s)for(;q(d);)r.before(q(d));else r.before(d)}})}function be(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=be(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function qn(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=be(t))&&(s&&(s+=" "),s+=e);return s}function Yn(t){return typeof t=="object"?qn(t):t??""}const Wt=[...` 	
\r\fÂ \v\uFEFF`];function Qn(t,e,n){var s=t==null?"":""+t;if(e&&(s=s?s+" "+e:e),n){for(var i in n)if(n[i])s=s?s+" "+i:i;else if(s.length)for(var r=i.length,o=0;(o=s.indexOf(i,o))>=0;){var a=o+r;(o===0||Wt.includes(s[o-1]))&&(a===s.length||Wt.includes(s[a]))?s=(o===0?"":s.substring(0,o))+s.substring(a+1):o=a}}return s===""?null:s}function Kt(t,e=!1){var n=e?" !important;":";",s="";for(var i in t){var r=t[i];r!=null&&r!==""&&(s+=" "+i+": "+r+n)}return s}function dt(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Wn(t,e){if(e){var n="",s,i;if(Array.isArray(e)?(s=e[0],i=e[1]):s=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var r=!1,o=0,a=!1,c=[];s&&c.push(...Object.keys(s).map(dt)),i&&c.push(...Object.keys(i).map(dt));var u=0,f=-1;const y=t.length;for(var d=0;d<y;d++){var l=t[d];if(a?l==="/"&&t[d-1]==="*"&&(a=!1):r?r===l&&(r=!1):l==="/"&&t[d+1]==="*"?a=!0:l==='"'||l==="'"?r=l:l==="("?o++:l===")"&&o--,!a&&r===!1&&o===0){if(l===":"&&f===-1)f=d;else if(l===";"||d===y-1){if(f!==-1){var h=dt(t.substring(u,f).trim());if(!c.includes(h)){l!==";"&&d++;var S=t.substring(u,d).trim();n+=" "+S+";"}}u=d+1,f=-1}}}}return s&&(n+=Kt(s)),i&&(n+=Kt(i,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function Kn(t,e,n,s,i,r){var o=t.__className;if(M||o!==n||o===void 0){var a=Qn(n,s,r);(!M||a!==t.getAttribute("class"))&&(a==null?t.removeAttribute("class"):e?t.className=a:t.setAttribute("class",a)),t.__className=n}else if(r&&i!==r)for(var c in r){var u=!!r[c];(i==null||u!==!!i[c])&&t.classList.toggle(c,u)}return r}function ht(t,e={},n,s){for(var i in n){var r=n[i];e[i]!==r&&(n[i]==null?t.style.removeProperty(i):t.style.setProperty(i,r,s))}}function Xn(t,e,n,s){var i=t.__style;if(M||i!==e){var r=Wn(e,s);(!M||r!==t.getAttribute("style"))&&(r==null?t.removeAttribute("style"):t.style.cssText=r),t.__style=e}else s&&(Array.isArray(s)?(ht(t,n==null?void 0:n[0],s[0]),ht(t,n==null?void 0:n[1],s[1],"important")):ht(t,n,s));return s}const z=Symbol("class"),V=Symbol("style"),we=Symbol("is custom element"),_e=Symbol("is html");function _i(t){if(M){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var s=t.value;st(t,"value",null),t.value=s}if(t.hasAttribute("checked")){var i=t.checked;st(t,"checked",null),t.checked=i}}};t.__on_r=n,on(n),Pn()}}function Ti(t,e){var n=Mt(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Jn(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function st(t,e,n,s){var i=Mt(t);M&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=n)&&(e==="loading"&&(t[sn]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Te(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Xt(t,e,n,s,i=!1){var r=Mt(t),o=r[we],a=!r[_e];let c=M&&o;c&&Q(!1);var u=e||{},f=t.tagName==="OPTION";for(var d in e)d in n||(n[d]=null);n.class?n.class=Yn(n.class):n[z]&&(n.class=null),n[V]&&(n.style??(n.style=null));var l=Te(t);for(const v in n){let g=n[v];if(f&&v==="value"&&g==null){t.value=t.__value="",u[v]=g;continue}if(v==="class"){var h=t.namespaceURI==="http://www.w3.org/1999/xhtml";Kn(t,h,g,s,e==null?void 0:e[z],n[z]),u[v]=g,u[z]=n[z];continue}if(v==="style"){Xn(t,g,e==null?void 0:e[V],n[V]),u[v]=g,u[V]=n[V];continue}var S=u[v];if(g!==S){u[v]=g;var y=v[0]+v[1];if(y!=="$$")if(y==="on"){const w={},_="$$"+v;let T=v.slice(2);var b=$n(T);if(xn(T)&&(T=T.slice(0,-7),w.capture=!0),!b&&S){if(g!=null)continue;t.removeEventListener(T,u[_],w),u[_]=null}if(g!=null)if(b)t[`__${T}`]=g,Ln([T]);else{let A=function(C){u[v].call(this,C)};u[_]=kn(T,t,A,w)}else b&&(t[`__${T}`]=void 0)}else if(v==="style")st(t,v,g);else if(v==="autofocus")Dn(t,!!g);else if(!o&&(v==="__value"||v==="value"&&g!=null))t.value=t.__value=g;else if(v==="selected"&&f)Jn(t,g);else{var p=v;a||(p=On(p));var m=p==="defaultValue"||p==="defaultChecked";if(g==null&&!o&&!m)if(r[v]=null,p==="value"||p==="checked"){let w=t;const _=e===void 0;if(p==="value"){let T=w.defaultValue;w.removeAttribute(p),w.defaultValue=T,w.value=w.__value=_?T:null}else{let T=w.defaultChecked;w.removeAttribute(p),w.defaultChecked=T,w.checked=_?T:!1}}else t.removeAttribute(v);else m||l.includes(p)&&(o||typeof g!="string")?t[p]=g:typeof g!="function"&&st(t,p,g)}}}return c&&Q(!0),u}function Mt(t){return t.__attributes??(t.__attributes={[we]:t.nodeName.includes("-"),[_e]:t.namespaceURI===en})}var Jt=new Map;function Te(t){var e=Jt.get(t.nodeName);if(e)return e;Jt.set(t.nodeName,e=[]);for(var n,s=t,i=Element.prototype;i!==s;){n=rn(s);for(var r in n)n[r].set&&e.push(r);s=nn(s)}return e}const Zn=()=>performance.now(),L={tick:t=>requestAnimationFrame(t),now:()=>Zn(),tasks:new Set};function Ie(){const t=L.now();L.tasks.forEach(e=>{e.c(t)||(L.tasks.delete(e),e.f())}),L.tasks.size!==0&&L.tick(Ie)}function ts(t){let e;return L.tasks.size===0&&L.tick(Ie),{promise:new Promise(n=>{L.tasks.add(e={c:t,f:n})}),abort(){L.tasks.delete(e)}}}function J(t,e){Hn(()=>{t.dispatchEvent(new CustomEvent(e))})}function es(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Zt(t){const e={},n=t.split(";");for(const s of n){const[i,r]=s.split(":");if(!i||r===void 0)break;const o=es(i.trim());e[o]=r.trim()}return e}const ns=t=>t;function Ii(t,e,n){var s=tt,i,r,o,a=null;s.a??(s.a={element:t,measure(){i=this.element.getBoundingClientRect()},apply(){if(o==null||o.abort(),r=this.element.getBoundingClientRect(),i.left!==r.left||i.right!==r.right||i.top!==r.top||i.bottom!==r.bottom){const c=e()(this.element,{from:i,to:r},n==null?void 0:n());o=it(this.element,c,void 0,1,()=>{o==null||o.abort(),o=void 0})}},fix(){if(!t.getAnimations().length){var{position:c,width:u,height:f}=getComputedStyle(t);if(c!=="absolute"&&c!=="fixed"){var d=t.style;a={position:d.position,width:d.width,height:d.height,transform:d.transform},d.position="absolute",d.width=u,d.height=f;var l=t.getBoundingClientRect();if(i.left!==l.left||i.top!==l.top){var h=`translate(${i.left-l.left}px, ${i.top-l.top}px)`;d.transform=d.transform?`${d.transform} ${h}`:h}}}},unfix(){if(a){var c=t.style;c.position=a.position,c.width=a.width,c.height=a.height,c.transform=a.transform}}}),s.a.element=t}function Ai(t,e,n,s){var i=(t&gn)!==0,r=(t&vn)!==0,o=i&&r,a=(t&dn)!==0,c=o?"both":i?"in":"out",u,f=e.inert,d=e.style.overflow,l,h;function S(){var v=pn,g=W;zt(null),Vt(null);try{return u??(u=n()(e,(s==null?void 0:s())??{},{direction:c}))}finally{zt(v),Vt(g)}}var y={is_global:a,in(){var v;if(e.inert=f,!i){h==null||h.abort(),(v=h==null?void 0:h.reset)==null||v.call(h);return}r||l==null||l.abort(),J(e,"introstart"),l=it(e,S(),h,1,()=>{J(e,"introend"),l==null||l.abort(),l=u=void 0,e.style.overflow=d})},out(v){if(!r){v==null||v(),u=void 0;return}e.inert=!0,J(e,"outrostart"),h=it(e,S(),l,0,()=>{J(e,"outroend"),v==null||v()})},stop:()=>{l==null||l.abort(),h==null||h.abort()}},b=W;if((b.transitions??(b.transitions=[])).push(y),i&&Fn){var p=a;if(!p){for(var m=b.parent;m&&m.f&an;)for(;(m=m.parent)&&!(m.f&cn););p=!m||(m.f&ln)!==0}p&&un(()=>{fn(()=>y.in())})}}function it(t,e,n,s,i){var r=s===1;if(hn(e)){var o,a=!1;return me(()=>{if(!a){var b=e({direction:r?"in":"out"});o=it(t,b,n,s,i)}}),{abort:()=>{a=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return i(),{abort:j,deactivate:j,reset:j,t:()=>s};const{delay:c=0,css:u,tick:f,easing:d=ns}=e;var l=[];if(r&&n===void 0&&(f&&f(0,1),u)){var h=Zt(u(0,1));l.push(h,h)}var S=()=>1-s,y=t.animate(l,{duration:c});return y.onfinish=()=>{var b=(n==null?void 0:n.t())??1-s;n==null||n.abort();var p=s-b,m=e.duration*Math.abs(p),v=[];if(m>0){var g=!1;if(u)for(var w=Math.ceil(m/16.666666666666668),_=0;_<=w;_+=1){var T=b+p*d(_/w),A=Zt(u(T,1-T));v.push(A),g||(g=A.overflow==="hidden")}g&&(t.style.overflow="hidden"),S=()=>{var C=y.currentTime;return b+p*d(C/m)},f&&ts(()=>{if(y.playState!=="running")return!1;var C=S();return f(C,1-C),!0})}y=t.animate(v,{duration:m,fill:"forwards"}),y.onfinish=()=>{S=()=>s,f==null||f(s,1-s),i()}},{abort:()=>{y&&(y.cancel(),y.effect=null,y.onfinish=j)},deactivate:()=>{i=j},reset:()=>{s===0&&(f==null||f(1,0))},t:()=>S()}}const ss="https://forestacdev.github.io/morivis-data",O=ss+"/data",Ei=O+"/legend",Ct=O+"/entries",Mi=Ct+"/fgb",Ci=Ct+"/pmtiles/raster",Pi=Ct+"/pmtiles/vector",xi=O+"/images/cover",ki=O+"/images/feature",Li=O+"/images/icons",Di=O+"/street_view",is=O+"/font",Oi=is+"/{fontstack}/{range}.pbf",$i=O+"/sprite/sprite",Fi="#00d4fe",ot=768,Hi={center:[136.921382,35.55356],zoom:16,pitch:0,bearing:0,bounds:[136.91917,35.54692,136.926817,35.555122]},rs={zoom_7:{x:113,y:50,z:7},zoom_16:{x:57693,y:25835,z:16},zoom_15:{x:28846,y:12917,z:15}},Ni=rs.zoom_15,Ri=["ensyurin_owl","ensyurin_road","ensyurin_syouhan"],ji=E(!1),zi=E([]),Vi=E([]),Bi=E("view"),B=E(!1),H=E(!1),Gi=E(""),bt=()=>!!(window.matchMedia&&window.matchMedia(`(min-device-width: ${ot+1}px)`).matches),os=()=>!!(window.matchMedia&&window.matchMedia(`(max-device-width: ${ot}px)`).matches),Ui=()=>window.innerWidth<=ot,qi=(t,e)=>{let n;if(e==="color"?n="bxs:color-fill":e==="number"?n="lsicon:number-filled":n="bxs:color-fill",!t)return n;switch(t){case"match":return"material-symbols:category-rounded";case"step":return"subway:step-1";case"linear":return"mdi:graph-bell-curve-cumulative";default:return n}},as=t=>t;function Pt(t){const e=t-1;return e*e*e+1}function te(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function Yi(t,{delay:e=0,duration:n=400,easing:s=as}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:s,css:r=>`opacity: ${r*i}`}}function Qi(t,{delay:e=0,duration:n=400,easing:s=Pt,x:i=0,y:r=0,opacity:o=0}={}){const a=getComputedStyle(t),c=+a.opacity,u=a.transform==="none"?"":a.transform,f=c*(1-o),[d,l]=te(i),[h,S]=te(r);return{delay:e,duration:n,easing:s,css:(y,b)=>`
			transform: ${u} translate(${(1-y)*d}${l}, ${(1-y)*h}${S});
			opacity: ${c-f*b}`}}function Wi(t,{delay:e=0,duration:n=400,easing:s=Pt,axis:i="y"}={}){const r=getComputedStyle(t),o=+r.opacity,a=i==="y"?"height":"width",c=parseFloat(r[a]),u=i==="y"?["top","bottom"]:["left","right"],f=u.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),d=parseFloat(r[`padding${f[0]}`]),l=parseFloat(r[`padding${f[1]}`]),h=parseFloat(r[`margin${f[0]}`]),S=parseFloat(r[`margin${f[1]}`]),y=parseFloat(r[`border${f[0]}Width`]),b=parseFloat(r[`border${f[1]}Width`]);return{delay:e,duration:n,easing:s,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*o};${a}: ${p*c}px;padding-${u[0]}: ${p*d}px;padding-${u[1]}: ${p*l}px;margin-${u[0]}: ${p*h}px;margin-${u[1]}: ${p*S}px;border-${u[0]}-width: ${p*y}px;border-${u[1]}-width: ${p*b}px;min-${a}: 0`}}function Ki(t,{delay:e=0,duration:n=400,easing:s=Pt,start:i=0,opacity:r=0}={}){const o=getComputedStyle(t),a=+o.opacity,c=o.transform==="none"?"":o.transform,u=1-i,f=a*(1-r);return{delay:e,duration:n,easing:s,css:(d,l)=>`
			transform: ${c} scale(${1-u*l});
			opacity: ${a-f*l}
		`}}const Xi=E(!1),Ji=E(!1),Zi=E(!1),pt=E(!!bt()),gt=E(!1),tr=E(!1),er=E(!1),nr=E(!1),sr=E(!1),$=E("map"),ee=E(!1),cs=()=>{(()=>{const e=window.matchMedia(`(max-width: ${ot}px)`);ee.set(e.matches),e.addEventListener("change",n=>ee.set(n.matches))})()};cs();const ls=()=>{const{subscribe:t,set:e}=E("");return{subscribe:t,trigger:n=>{e(n),setTimeout(()=>e(""),0)}}},ir=ls();class us{constructor(){k(this,"isInitialized",!1);k(this,"isHandlingPopstate",!1);k(this,"previousState");k(this,"unsubscribers",[]);this.previousState=this.getInitialState(),this.init()}getInitialState(){return{showLayerMenu:!1,showDataMenu:!1,timestamp:Date.now()}}init(){this.isInitialized||(this.previousState=this.getCurrentStoreState(),history.state||history.replaceState(this.previousState,"",null),this.setupSubscriptions(),window.addEventListener("popstate",this.handlePopState.bind(this)),this.isInitialized=!0)}getCurrentStoreState(){return{showLayerMenu:x(pt),showDataMenu:x(gt),timestamp:Date.now()}}setupSubscriptions(){const e=pt.subscribe(s=>{this.handleStoreChange("showLayerMenu",s)}),n=gt.subscribe(s=>{this.handleStoreChange("showDataMenu",s)});this.unsubscribers=[e,n]}handleStoreChange(e,n){if(this.isHandlingPopstate)return;if(this.previousState[e]!==n&&(this.previousState[e]=n,this.previousState.timestamp=Date.now(),n===!0&&this.shouldAddToHistory(e))){const i={...this.previousState};history.pushState(i,"",null)}}shouldAddToHistory(e){return!(e==="showLayerMenu"&&bt())}handlePopState(e){if(this.isHandlingPopstate=!0,e.state&&this.isValidState(e.state))this.applyStateToStores(e.state);else{const n={showLayerMenu:!!bt(),showDataMenu:!1,timestamp:Date.now()};this.applyStateToStores(n)}setTimeout(()=>{this.isHandlingPopstate=!1},10)}isValidState(e){return e&&typeof e=="object"&&typeof e.showLayerMenu=="boolean"&&typeof e.showDataMenu=="boolean"}applyStateToStores(e){pt.set(e.showLayerMenu??!0),gt.set(e.showDataMenu??!1),this.previousState={showLayerMenu:e.showLayerMenu??!0,showDataMenu:e.showDataMenu??!1,timestamp:e.timestamp??Date.now()}}getCurrentState(){return{...this.previousState}}getOpenMenuCount(){let e=0;return this.previousState.showDataMenu&&e++,e}getIsInitialized(){return this.isInitialized}destroy(){this.unsubscribers.forEach(e=>{typeof e=="function"&&e()}),this.unsubscribers=[],window.removeEventListener("popstate",this.handlePopState.bind(this)),this.isInitialized=!1}}class fs{constructor(){k(this,"isInitialized",!1);k(this,"isHandlingPopstate",!1);k(this,"previousState");k(this,"unsubscribers",[]);this.previousState=this.getInitialState(),this.init()}getInitialState(){return{activeMenu:"map",isStreetView:!1,isStyleEdit:!1,timestamp:Date.now()}}init(){this.isInitialized||(this.previousState=this.getCurrentStoreState(),history.state||history.replaceState(this.previousState,"",null),this.setupSubscription(),window.addEventListener("popstate",this.handlePopState.bind(this)),this.isInitialized=!0)}getCurrentStoreState(){return{activeMenu:x($),isStreetView:x(H),isStyleEdit:x(B),timestamp:Date.now()}}setupSubscription(){const e=$.subscribe(i=>{this.handleMenuChange(i)}),n=H.subscribe(i=>{this.handleStreetViewChange(i)}),s=B.subscribe(i=>{this.handleStyleEditChange(i)});this.unsubscribers=[e,n,s]}handleMenuChange(e){if(this.isHandlingPopstate)return;const n=this.previousState.activeMenu;if(n!==e&&(this.previousState.activeMenu=e,this.previousState.timestamp=Date.now(),this.shouldAddToHistoryForMenu(n,e))){const s={...this.previousState};history.pushState(s,"",null)}}handleStreetViewChange(e){if(this.isHandlingPopstate)return;const n=this.previousState.isStreetView;if(n!==e&&(this.previousState.isStreetView=e,this.previousState.timestamp=Date.now(),this.shouldAddToHistoryForStreetView(n,e))){const s={...this.previousState};history.pushState(s,"",null)}}handleStyleEditChange(e){if(this.isHandlingPopstate)return;const n=this.previousState.isStyleEdit;if(n!==e&&(this.previousState.isStyleEdit=e,this.previousState.timestamp=Date.now(),this.shouldAddToHistoryForStyleEdit(n,e))){const s={...this.previousState};history.pushState(s,"",null)}}shouldAddToHistoryForMenu(e,n){return e==="map"&&n!=="map"}shouldAddToHistoryForStreetView(e,n){return e===!1&&n===!0}shouldAddToHistoryForStyleEdit(e,n){return e===!1&&n===!0}handlePopState(e){const n=x($),s=x(H),i=x(B);if(s){this.isHandlingPopstate=!0,H.set(!1),$.set("map"),this.previousState={activeMenu:"map",isStreetView:!1,isStyleEdit:!1,timestamp:Date.now()},setTimeout(()=>{this.isHandlingPopstate=!1},10);return}if(i){this.isHandlingPopstate=!0,B.set(!1),$.set("map"),this.previousState={activeMenu:"map",isStreetView:!1,isStyleEdit:!1,timestamp:Date.now()},setTimeout(()=>{this.isHandlingPopstate=!1},10);return}if(n!=="map"){if(this.isHandlingPopstate=!0,e.state&&this.isValidState(e.state))this.applyStateToStore(e.state);else{const r={activeMenu:"map",isStreetView:!1,isStyleEdit:!1,timestamp:Date.now()};this.applyStateToStore(r)}setTimeout(()=>{this.isHandlingPopstate=!1},10)}}isValidState(e){const n=["map","layer","data","other"];return e&&typeof e=="object"&&typeof e.activeMenu=="string"&&n.includes(e.activeMenu)&&typeof e.isStreetView=="boolean"&&typeof e.isStyleEdit=="boolean"}applyStateToStore(e){$.set(e.activeMenu??"map"),H.set(e.isStreetView??!1),this.previousState={activeMenu:e.activeMenu??"map",isStreetView:e.isStreetView??!1,isStyleEdit:e.isStyleEdit??!1,timestamp:e.timestamp??Date.now()}}getCurrentState(){return{...this.previousState}}getCurrentMenu(){return x($)}isMapActive(){return this.getCurrentMenu()==="map"}isStreetViewActive(){return x(H)}isStyleEditActive(){return x(B)}getIsInitialized(){return this.isInitialized}destroy(){this.unsubscribers.forEach(e=>{typeof e=="function"&&e()}),this.unsubscribers=[],window.removeEventListener("popstate",this.handlePopState.bind(this)),this.isInitialized=!1}}os()?new fs:new us;const Ae=/^[a-z0-9]+(-[a-z0-9]+)*$/,at=(t,e,n,s="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;s=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),c=i.pop(),u={provider:i.length>0?i[0]:s,prefix:c,name:a};return e&&!et(u)?null:u}const r=i[0],o=r.split("-");if(o.length>1){const a={provider:s,prefix:o.shift(),name:o.join("-")};return e&&!et(a)?null:a}if(n&&s===""){const a={provider:s,prefix:"",name:r};return e&&!et(a,n)?null:a}return null},et=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,Ee=Object.freeze({left:0,top:0,width:16,height:16}),rt=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ct=Object.freeze({...Ee,...rt}),wt=Object.freeze({...ct,body:"",hidden:!1});function ds(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const s=((t.rotate||0)+(e.rotate||0))%4;return s&&(n.rotate=s),n}function ne(t,e){const n=ds(t,e);for(const s in wt)s in rt?s in t&&!(s in n)&&(n[s]=rt[s]):s in e?n[s]=e[s]:s in t&&(n[s]=t[s]);return n}function hs(t,e){const n=t.icons,s=t.aliases||Object.create(null),i=Object.create(null);function r(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=s[o]&&s[o].parent,c=a&&r(a);c&&(i[o]=[a].concat(c))}return i[o]}return Object.keys(n).concat(Object.keys(s)).forEach(r),i}function ps(t,e,n){const s=t.icons,i=t.aliases||Object.create(null);let r={};function o(a){r=ne(s[a]||i[a],r)}return o(e),n.forEach(o),ne(t,r)}function Me(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),n.push(i)});const s=hs(t);for(const i in s){const r=s[i];r&&(e(i,ps(t,i,r)),n.push(i))}return n}const gs={provider:"",aliases:{},not_found:{},...Ee};function vt(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function Ce(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!vt(t,gs))return null;const n=e.icons;for(const i in n){const r=n[i];if(!i||typeof r.body!="string"||!vt(r,wt))return null}const s=e.aliases||Object.create(null);for(const i in s){const r=s[i],o=r.parent;if(!i||typeof o!="string"||!n[o]&&!s[o]||!vt(r,wt))return null}return e}const se=Object.create(null);function vs(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function N(t,e){const n=se[t]||(se[t]=Object.create(null));return n[e]||(n[e]=vs(t,e))}function Pe(t,e){return Ce(e)?Me(e,(n,s)=>{s?t.icons[n]=s:t.missing.add(n)}):[]}function ms(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let K=!1;function xe(t){return typeof t=="boolean"&&(K=t),K}function Ss(t){const e=typeof t=="string"?at(t,!0,K):t;if(e){const n=N(e.provider,e.prefix),s=e.name;return n.icons[s]||(n.missing.has(s)?null:void 0)}}function ys(t,e){const n=at(t,!0,K);if(!n)return!1;const s=N(n.provider,n.prefix);return e?ms(s,n.name,e):(s.missing.add(n.name),!0)}function bs(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),K&&!e&&!t.prefix){let i=!1;return Ce(t)&&(t.prefix="",Me(t,(r,o)=>{ys(r,o)&&(i=!0)})),i}const n=t.prefix;if(!et({prefix:n,name:"a"}))return!1;const s=N(e,n);return!!Pe(s,t)}const ke=Object.freeze({width:null,height:null}),Le=Object.freeze({...ke,...rt}),ws=/(-?[0-9.]*[0-9]+[0-9.]*)/g,_s=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ie(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const s=t.split(ws);if(s===null||!s.length)return t;const i=[];let r=s.shift(),o=_s.test(r);for(;;){if(o){const a=parseFloat(r);isNaN(a)?i.push(r):i.push(Math.ceil(a*e*n)/n)}else i.push(r);if(r=s.shift(),r===void 0)return i.join("");o=!o}}function Ts(t,e="defs"){let n="";const s=t.indexOf("<"+e);for(;s>=0;){const i=t.indexOf(">",s),r=t.indexOf("</"+e);if(i===-1||r===-1)break;const o=t.indexOf(">",r);if(o===-1)break;n+=t.slice(i+1,r).trim(),t=t.slice(0,s).trim()+t.slice(o+1)}return{defs:n,content:t}}function Is(t,e){return t?"<defs>"+t+"</defs>"+e:e}function As(t,e,n){const s=Ts(t);return Is(s.defs,e+s.content+n)}const Es=t=>t==="unset"||t==="undefined"||t==="none";function Ms(t,e){const n={...ct,...t},s={...Le,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let r=n.body;[n,s].forEach(y=>{const b=[],p=y.hFlip,m=y.vFlip;let v=y.rotate;p?m?v+=2:(b.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),b.push("scale(-1 1)"),i.top=i.left=0):m&&(b.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),b.push("scale(1 -1)"),i.top=i.left=0);let g;switch(v<0&&(v-=Math.floor(v/4)*4),v=v%4,v){case 1:g=i.height/2+i.top,b.unshift("rotate(90 "+g.toString()+" "+g.toString()+")");break;case 2:b.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:g=i.width/2+i.left,b.unshift("rotate(-90 "+g.toString()+" "+g.toString()+")");break}v%2===1&&(i.left!==i.top&&(g=i.left,i.left=i.top,i.top=g),i.width!==i.height&&(g=i.width,i.width=i.height,i.height=g)),b.length&&(r=As(r,'<g transform="'+b.join(" ")+'">',"</g>"))});const o=s.width,a=s.height,c=i.width,u=i.height;let f,d;o===null?(d=a===null?"1em":a==="auto"?u:a,f=ie(d,c/u)):(f=o==="auto"?c:o,d=a===null?ie(f,u/c):a==="auto"?u:a);const l={},h=(y,b)=>{Es(b)||(l[y]=b.toString())};h("width",f),h("height",d);const S=[i.left,i.top,c,u];return l.viewBox=S.join(" "),{attributes:l,viewBox:S,body:r}}const Cs=/\sid="(\S+)"/g,Ps="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let xs=0;function ks(t,e=Ps){const n=[];let s;for(;s=Cs.exec(t);)n.push(s[1]);if(!n.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(r=>{const o=typeof e=="function"?e(r):e+(xs++).toString(),a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const _t=Object.create(null);function Ls(t,e){_t[t]=e}function Tt(t){return _t[t]||_t[""]}function xt(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const kt=Object.create(null),G=["https://api.simplesvg.com","https://api.unisvg.com"],nt=[];for(;G.length>0;)G.length===1||Math.random()>.5?nt.push(G.shift()):nt.push(G.pop());kt[""]=xt({resources:["https://api.iconify.design"].concat(nt)});function Ds(t,e){const n=xt(e);return n===null?!1:(kt[t]=n,!0)}function Lt(t){return kt[t]}const Os=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let re=Os();function $s(t,e){const n=Lt(t);if(!n)return 0;let s;if(!n.maxURL)s=0;else{let i=0;n.resources.forEach(o=>{i=Math.max(i,o.length)});const r=e+".json?icons=";s=n.maxURL-i-n.path.length-r.length}return s}function Fs(t){return t===404}const Hs=(t,e,n)=>{const s=[],i=$s(t,e),r="icons";let o={type:r,provider:t,prefix:e,icons:[]},a=0;return n.forEach((c,u)=>{a+=c.length+1,a>=i&&u>0&&(s.push(o),o={type:r,provider:t,prefix:e,icons:[]},a=c.length),o.icons.push(c)}),s.push(o),s};function Ns(t){if(typeof t=="string"){const e=Lt(t);if(e)return e.path}return"/"}const Rs=(t,e,n)=>{if(!re){n("abort",424);return}let s=Ns(e.provider);switch(e.type){case"icons":{const r=e.prefix,a=e.icons.join(","),c=new URLSearchParams({icons:a});s+=r+".json?"+c.toString();break}case"custom":{const r=e.uri;s+=r.slice(0,1)==="/"?r.slice(1):r;break}default:n("abort",400);return}let i=503;re(t+s).then(r=>{const o=r.status;if(o!==200){setTimeout(()=>{n(Fs(o)?"abort":"next",o)});return}return i=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?n("abort",r):n("next",i)});return}setTimeout(()=>{n("success",r)})}).catch(()=>{n("next",i)})},js={prepare:Hs,send:Rs};function zs(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((i,r)=>i.provider!==r.provider?i.provider.localeCompare(r.provider):i.prefix!==r.prefix?i.prefix.localeCompare(r.prefix):i.name.localeCompare(r.name));let s={provider:"",prefix:"",name:""};return t.forEach(i=>{if(s.name===i.name&&s.prefix===i.prefix&&s.provider===i.provider)return;s=i;const r=i.provider,o=i.prefix,a=i.name,c=n[r]||(n[r]=Object.create(null)),u=c[o]||(c[o]=N(r,o));let f;a in u.icons?f=e.loaded:o===""||u.missing.has(a)?f=e.missing:f=e.pending;const d={provider:r,prefix:o,name:a};f.push(d)}),e}function De(t,e){t.forEach(n=>{const s=n.loaderCallbacks;s&&(n.loaderCallbacks=s.filter(i=>i.id!==e))})}function Vs(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const s=t.provider,i=t.prefix;e.forEach(r=>{const o=r.icons,a=o.pending.length;o.pending=o.pending.filter(c=>{if(c.prefix!==i)return!0;const u=c.name;if(t.icons[u])o.loaded.push({provider:s,prefix:i,name:u});else if(t.missing.has(u))o.missing.push({provider:s,prefix:i,name:u});else return n=!0,!0;return!1}),o.pending.length!==a&&(n||De([t],r.id),r.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),r.abort))})}))}let Bs=0;function Gs(t,e,n){const s=Bs++,i=De.bind(null,n,s);if(!e.pending.length)return i;const r={id:s,icons:e,callback:t,abort:i};return n.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(r)}),i}function Us(t,e=!0,n=!1){const s=[];return t.forEach(i=>{const r=typeof i=="string"?at(i,e,n):i;r&&s.push(r)}),s}var qs={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Ys(t,e,n,s){const i=t.resources.length,r=t.random?Math.floor(Math.random()*i):t.index;let o;if(t.random){let _=t.resources.slice(0);for(o=[];_.length>1;){const T=Math.floor(Math.random()*_.length);o.push(_[T]),_=_.slice(0,T).concat(_.slice(T+1))}o=o.concat(_)}else o=t.resources.slice(r).concat(t.resources.slice(0,r));const a=Date.now();let c="pending",u=0,f,d=null,l=[],h=[];typeof s=="function"&&h.push(s);function S(){d&&(clearTimeout(d),d=null)}function y(){c==="pending"&&(c="aborted"),S(),l.forEach(_=>{_.status==="pending"&&(_.status="aborted")}),l=[]}function b(_,T){T&&(h=[]),typeof _=="function"&&h.push(_)}function p(){return{startTime:a,payload:e,status:c,queriesSent:u,queriesPending:l.length,subscribe:b,abort:y}}function m(){c="failed",h.forEach(_=>{_(void 0,f)})}function v(){l.forEach(_=>{_.status==="pending"&&(_.status="aborted")}),l=[]}function g(_,T,A){const C=T!=="success";switch(l=l.filter(P=>P!==_),c){case"pending":break;case"failed":if(C||!t.dataAfterTimeout)return;break;default:return}if(T==="abort"){f=A,m();return}if(C){f=A,l.length||(o.length?w():m());return}if(S(),v(),!t.random){const P=t.resources.indexOf(_.resource);P!==-1&&P!==t.index&&(t.index=P)}c="completed",h.forEach(P=>{P(A)})}function w(){if(c!=="pending")return;S();const _=o.shift();if(_===void 0){if(l.length){d=setTimeout(()=>{S(),c==="pending"&&(v(),m())},t.timeout);return}m();return}const T={status:"pending",resource:_,callback:(A,C)=>{g(T,A,C)}};l.push(T),u++,d=setTimeout(w,t.rotate),n(_,e,T.callback)}return setTimeout(w),p}function Oe(t){const e={...qs,...t};let n=[];function s(){n=n.filter(a=>a().status==="pending")}function i(a,c,u){const f=Ys(e,a,c,(d,l)=>{s(),u&&u(d,l)});return n.push(f),f}function r(a){return n.find(c=>a(c))||null}return{query:i,find:r,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:s}}function oe(){}const mt=Object.create(null);function Qs(t){if(!mt[t]){const e=Lt(t);if(!e)return;const n=Oe(e),s={config:e,redundancy:n};mt[t]=s}return mt[t]}function Ws(t,e,n){let s,i;if(typeof t=="string"){const r=Tt(t);if(!r)return n(void 0,424),oe;i=r.send;const o=Qs(t);o&&(s=o.redundancy)}else{const r=xt(t);if(r){s=Oe(r);const o=t.resources?t.resources[0]:"",a=Tt(o);a&&(i=a.send)}}return!s||!i?(n(void 0,424),oe):s.query(e,i,n)().abort}function ae(){}function Ks(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,Vs(t)}))}function Xs(t){const e=[],n=[];return t.forEach(s=>{(s.match(Ae)?e:n).push(s)}),{valid:e,invalid:n}}function U(t,e,n){function s(){const i=t.pendingIcons;e.forEach(r=>{i&&i.delete(r),t.icons[r]||t.missing.add(r)})}if(n&&typeof n=="object")try{if(!Pe(t,n).length){s();return}}catch(i){console.error(i)}s(),Ks(t)}function ce(t,e){t instanceof Promise?t.then(n=>{e(n)}).catch(()=>{e(null)}):e(t)}function Js(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:s}=t,i=t.iconsToLoad;if(delete t.iconsToLoad,!i||!i.length)return;const r=t.loadIcon;if(t.loadIcons&&(i.length>1||!r)){ce(t.loadIcons(i,s,n),f=>{U(t,i,f)});return}if(r){i.forEach(f=>{const d=r(f,s,n);ce(d,l=>{const h=l?{prefix:s,icons:{[f]:l}}:null;U(t,[f],h)})});return}const{valid:o,invalid:a}=Xs(i);if(a.length&&U(t,a,null),!o.length)return;const c=s.match(Ae)?Tt(n):null;if(!c){U(t,o,null);return}c.prepare(n,s,o).forEach(f=>{Ws(n,f,d=>{U(t,f.icons,d)})})}))}const Zs=(t,e)=>{const n=Us(t,!0,xe()),s=zs(n);if(!s.pending.length){let c=!0;return e&&setTimeout(()=>{c&&e(s.loaded,s.missing,s.pending,ae)}),()=>{c=!1}}const i=Object.create(null),r=[];let o,a;return s.pending.forEach(c=>{const{provider:u,prefix:f}=c;if(f===a&&u===o)return;o=u,a=f,r.push(N(u,f));const d=i[u]||(i[u]=Object.create(null));d[f]||(d[f]=[])}),s.pending.forEach(c=>{const{provider:u,prefix:f,name:d}=c,l=N(u,f),h=l.pendingIcons||(l.pendingIcons=new Set);h.has(d)||(h.add(d),i[u][f].push(d))}),r.forEach(c=>{const u=i[c.provider][c.prefix];u.length&&Js(c,u)}),e?Gs(e,s,r):ae};function ti(t,e){const n={...t};for(const s in e){const i=e[s],r=typeof i;s in ke?(i===null||i&&(r==="string"||r==="number"))&&(n[s]=i):r===typeof n[s]&&(n[s]=s==="rotate"?i%4:i)}return n}const ei=/[\s,]+/;function ni(t,e){e.split(ei).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function si(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function s(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(t);return isNaN(i)?0:s(i)}else if(n!==t){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let r=parseFloat(t.slice(0,t.length-n.length));return isNaN(r)?0:(r=r/i,r%1===0?s(r):0)}}return e}function ii(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const s in e)n+=" "+s+'="'+e[s]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function ri(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function oi(t){return"data:image/svg+xml,"+ri(t)}function ai(t){return'url("'+oi(t)+'")'}const le={...Le,inline:!1},ci={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},li={display:"inline-block"},It={"background-color":"currentColor"},$e={"background-color":"transparent"},ue={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},fe={"-webkit-mask":It,mask:It,background:$e};for(const t in fe){const e=fe[t];for(const n in ue)e[t+"-"+n]=ue[n]}function ui(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}function fi(t,e){const n=ti(le,e),s=e.mode||"svg",i=s==="svg"?{...ci}:{};t.body.indexOf("xlink:")===-1&&delete i["xmlns:xlink"];let r=typeof e.style=="string"?e.style:"";for(let p in e){const m=e[p];if(m!==void 0)switch(p){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[p]=m===!0||m==="true"||m===1;break;case"flip":typeof m=="string"&&ni(n,m);break;case"color":r=r+(r.length>0&&r.trim().slice(-1)!==";"?";":"")+"color: "+m+"; ";break;case"rotate":typeof m=="string"?n[p]=si(m):typeof m=="number"&&(n[p]=m);break;case"ariaHidden":case"aria-hidden":m!==!0&&m!=="true"&&delete i["aria-hidden"];break;default:if(p.slice(0,3)==="on:")break;le[p]===void 0&&(i[p]=m)}}const o=Ms(t,n),a=o.attributes;if(n.inline&&(r="vertical-align: -0.125em; "+r),s==="svg"){Object.assign(i,a),r!==""&&(i.style=r);let p=0,m=e.id;return typeof m=="string"&&(m=m.replace(/-/g,"_")),{svg:!0,attributes:i,body:ks(o.body,m?()=>m+"ID"+p++:"iconifySvelte")}}const{body:c,width:u,height:f}=t,d=s==="mask"||(s==="bg"?!1:c.indexOf("currentColor")!==-1),l=ii(c,{...a,width:u+"",height:f+""}),S={"--svg":ai(l)},y=p=>{const m=a[p];m&&(S[p]=ui(m))};y("width"),y("height"),Object.assign(S,li,d?It:$e);let b="";for(const p in S)b+=p+": "+S[p]+";";return i.style=b+r,{svg:!1,attributes:i}}xe(!0);Ls("",js);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(s=>{try{(typeof s!="object"||s===null||s instanceof Array||typeof s.icons!="object"||typeof s.prefix!="string"||!bs(s))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const s="IconifyProviders["+n+"] is invalid.";try{const i=e[n];if(typeof i!="object"||!i||i.resources===void 0)continue;Ds(n,i)||console.error(s)}catch{console.error(s)}}}}function di(t,e,n,s,i){function r(){e.loading&&(e.loading.abort(),e.loading=null)}if(typeof t=="object"&&t!==null&&typeof t.body=="string")return e.name="",r(),{data:{...ct,...t}};let o;if(typeof t!="string"||(o=at(t,!1,!0))===null)return r(),null;const a=Ss(o);if(!a)return n&&(!e.loading||e.loading.name!==t)&&(r(),e.name="",e.loading={name:t,abort:Zs([o],s)}),null;r(),e.name!==t&&(e.name=t,i&&!e.destroyed&&i(t));const c=["iconify"];return o.prefix!==""&&c.push("iconify--"+o.prefix),o.provider!==""&&c.push("iconify--"+o.provider),{data:a,classes:c}}function de(t,e){return t?fi({...ct,...t},e):null}var hi=Nn("<svg><!></svg>"),pi=Rn("<span></span>");function rr(t,e){const n=zn(e,["children","$$slots","$$events","$$legacy"]);mn(e,!1);const s=Y({name:"",loading:null,destroyed:!1});let i=Y(!1),r=Y(0),o=Y();const a=l=>{typeof n.onLoad=="function"&&n.onLoad(l),In()("load",{icon:l})};function c(){An(r)}Sn(()=>{Gt(i,!0)}),yn(()=>{ft(s,I(s).destroyed=!0),I(s).loading&&(I(s).loading.abort(),ft(s,I(s).loading=null))}),bn(()=>(I(r),Tn(n),I(i),I(s),I(o),de),()=>{I(r);const l=!!n.ssr||I(i),h=di(n.icon,I(s),l,c,a);Gt(o,h?de(h.data,n):null),I(o)&&h.classes&&ft(o,I(o).attributes.class=(typeof n.class=="string"?n.class+" ":"")+h.classes.join(" "))}),wn(),jn();var u=qt(),f=Bt(u);{var d=l=>{var h=qt(),S=Bt(h);{var y=p=>{var m=hi();let v;var g=En(m);Un(g,()=>I(o).body,!0),Mn(m),yt(()=>v=Xt(m,v,{...I(o).attributes})),X(p,m)},b=p=>{var m=pi();let v;yt(()=>v=Xt(m,v,{...I(o).attributes})),X(p,m)};Yt(S,p=>{I(o).svg?p(y):p(b,!1)})}X(l,h)};Yt(f,l=>{I(o)&&l(d)})}X(t,u),_n()}export{L as $,Ni as A,gt as B,xi as C,bi as D,Ci as E,ki as F,Qi as G,Fi as H,rr as I,Gi as J,B as K,Ei as L,Hi as M,sr as N,O,Bi as P,Zi as Q,Xi as R,nr as S,$ as T,pt as U,Ii as V,Ti as W,qi as X,Li as Y,Di as Z,Ui as _,tr as a,ts as a0,ir as a1,er as b,Kn as c,Wi as d,Ki as e,Yi as f,os as g,Un as h,Ji as i,ee as j,H as k,rs as l,Mi as m,Pi as n,Ri as o,bt as p,ji as q,wi as r,st as s,Ai as t,Xn as u,_i as v,zi as w,Vi as x,Oi as y,$i as z};
