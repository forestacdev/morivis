var ka=Object.defineProperty;var Aa=(n,e,t)=>e in n?ka(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var F=(n,e,t)=>Aa(n,typeof e!="symbol"?e+"":e,t);import{d as Pa,E as Da,e as Ca,n as Ba,aB as Sa,h as Ta,g as Ia}from"./D-DEec_z.js";import{d as Ma,g as X,w as T}from"./vPfvdkF7.js";import{g as Br,m as xt}from"./C0WTQo7N.js";import{M as $e,l as Oa,m as Sr,n as We,L as za,E as Na,o as H,C as Ne,p as Qe,F as ja,q as Wt,r as Qn,u as rn,v as Ka,h as Ra,g as La}from"./DFtbaiAG.js";import{s as Ua,g as $a}from"./CEBH9B5z.js";function Iu(n,e,...t){var r=n,a=Ba,s;Pa(()=>{a!==(a=e())&&(s&&(Sa(s),s=null),s=Ca(()=>a(r,...t)))},Da),Ta&&(r=Ia)}var ee=Uint8Array,de=Uint16Array,On=Int32Array,Qt=new ee([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Yt=new ee([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gn=new ee([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tr=function(n,e){for(var t=new de(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new On(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)a[s]=s-t[r]<<5|r;return{b:t,r:a}},Ir=Tr(Qt,2),Mr=Ir.b,_n=Ir.r;Mr[28]=258,_n[258]=28;var Or=Tr(Yt,0),Za=Or.b,Yn=Or.r,pn=new de(32768);for(var U=0;U<32768;++U){var Ie=(U&43690)>>1|(U&21845)<<1;Ie=(Ie&52428)>>2|(Ie&13107)<<2,Ie=(Ie&61680)>>4|(Ie&3855)<<4,pn[U]=((Ie&65280)>>8|(Ie&255)<<8)>>1}var Pe=function(n,e,t){for(var r=n.length,a=0,s=new de(e);a<r;++a)n[a]&&++s[n[a]-1];var i=new de(e);for(a=1;a<e;++a)i[a]=i[a-1]+s[a-1]<<1;var l;if(t){l=new de(1<<e);var c=15-e;for(a=0;a<r;++a)if(n[a])for(var o=a<<4|n[a],u=e-n[a],d=i[n[a]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)l[pn[d]>>c]=o}else for(l=new de(r),a=0;a<r;++a)n[a]&&(l[a]=pn[i[n[a]-1]++]>>15-n[a]);return l},Oe=new ee(288);for(var U=0;U<144;++U)Oe[U]=8;for(var U=144;U<256;++U)Oe[U]=9;for(var U=256;U<280;++U)Oe[U]=7;for(var U=280;U<288;++U)Oe[U]=8;var wt=new ee(32);for(var U=0;U<32;++U)wt[U]=5;var Ja=Pe(Oe,9,0),Va=Pe(Oe,9,1),Ga=Pe(wt,5,0),Ha=Pe(wt,5,1),an=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Fe=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},sn=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},zn=function(n){return(n+7)/8|0},zr=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new ee(n.subarray(e,t))},qa=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ue=function(n,e,t){var r=new Error(e||qa[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,ue),!t)throw r;return r},Nn=function(n,e,t,r){var a=n.length,s=0;if(!a||e.f&&!e.l)return t||new ee(0);var i=!t,l=i||e.i!=2,c=e.i;i&&(t=new ee(a*3));var o=function(Ye){var Xe=t.length;if(Ye>Xe){var Ue=new ee(Math.max(Xe*2,Ye));Ue.set(t),t=Ue}},u=e.f||0,d=e.p||0,f=e.b||0,h=e.l,b=e.d,m=e.m,g=e.n,v=a*8;do{if(!h){u=Fe(n,d,1);var y=Fe(n,d+1,3);if(d+=3,y)if(y==1)h=Va,b=Ha,m=9,g=5;else if(y==2){var R=Fe(n,d,31)+257,C=Fe(n,d+10,15)+4,P=R+Fe(n,d+5,31)+1;d+=14;for(var w=new ee(P),j=new ee(19),O=0;O<C;++O)j[gn[O]]=Fe(n,d+O*3,7);d+=C*3;for(var K=an(j),ye=(1<<K)-1,z=Pe(j,K,1),O=0;O<P;){var G=z[Fe(n,d,ye)];d+=G&15;var p=G>>4;if(p<16)w[O++]=p;else{var V=0,Z=0;for(p==16?(Z=3+Fe(n,d,3),d+=2,V=w[O-1]):p==17?(Z=3+Fe(n,d,7),d+=3):p==18&&(Z=11+Fe(n,d,127),d+=7);Z--;)w[O++]=V}}var te=w.subarray(0,R),q=w.subarray(R);m=an(te),g=an(q),h=Pe(te,m,1),b=Pe(q,g,1)}else ue(1);else{var p=zn(d)+4,A=n[p-4]|n[p-3]<<8,x=p+A;if(x>a){c&&ue(0);break}l&&o(f+A),t.set(n.subarray(p,x),f),e.b=f+=A,e.p=d=x*8,e.f=u;continue}if(d>v){c&&ue(0);break}}l&&o(f+131072);for(var Ke=(1<<m)-1,ne=(1<<g)-1,he=d;;he=d){var V=h[sn(n,d)&Ke],ae=V>>4;if(d+=V&15,d>v){c&&ue(0);break}if(V||ue(2),ae<256)t[f++]=ae;else if(ae==256){he=d,h=null;break}else{var se=ae-254;if(ae>264){var O=ae-257,B=Qt[O];se=Fe(n,d,(1<<B)-1)+Mr[O],d+=B}var ve=b[sn(n,d)&ne],Re=ve>>4;ve||ue(3),d+=ve&15;var q=Za[Re];if(Re>3){var B=Yt[Re];q+=sn(n,d)&(1<<B)-1,d+=B}if(d>v){c&&ue(0);break}l&&o(f+131072);var Le=f+se;if(f<q){var ft=s-q,dt=Math.min(q,Le);for(ft+f<0&&ue(3);f<dt;++f)t[f]=r[ft+f]}for(;f<Le;++f)t[f]=t[f-q]}}e.l=h,e.p=he,e.b=f,e.f=u,h&&(u=1,e.m=m,e.d=b,e.n=g)}while(!u);return f!=t.length&&i?zr(t,0,f):t.subarray(0,f)},De=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},ht=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},on=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,s=t.slice();if(!a)return{t:jr,l:0};if(a==1){var i=new ee(t[0].s+1);return i[t[0].s]=1,{t:i,l:1}}t.sort(function(x,R){return x.f-R.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],o=0,u=1,d=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=t[t[o].f<t[d].f?o++:d++],c=t[o!=u&&t[o].f<t[d].f?o++:d++],t[u++]={s:-1,f:l.f+c.f,l,r:c};for(var f=s[0].s,r=1;r<a;++r)s[r].s>f&&(f=s[r].s);var h=new de(f+1),b=yn(t[u-1],h,0);if(b>e){var r=0,m=0,g=b-e,v=1<<g;for(s.sort(function(R,C){return h[C.s]-h[R.s]||R.f-C.f});r<a;++r){var y=s[r].s;if(h[y]>e)m+=v-(1<<b-h[y]),h[y]=e;else break}for(m>>=g;m>0;){var p=s[r].s;h[p]<e?m-=1<<e-h[p]++-1:++r}for(;r>=0&&m;--r){var A=s[r].s;h[A]==e&&(--h[A],++m)}b=e}return{t:new ee(h),l:b}},yn=function(n,e,t){return n.s==-1?Math.max(yn(n.l,e,t+1),yn(n.r,e,t+1)):e[n.s]=t},Xn=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new de(++e),r=0,a=n[0],s=1,i=function(c){t[r++]=c},l=1;l<=e;++l)if(n[l]==a&&l!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=n[l]}return{c:t.subarray(0,r),n:e}},mt=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Nr=function(n,e,t){var r=t.length,a=zn(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var s=0;s<r;++s)n[a+s+4]=t[s];return(a+4+r)*8},er=function(n,e,t,r,a,s,i,l,c,o,u){De(e,u++,t),++a[256];for(var d=on(a,15),f=d.t,h=d.l,b=on(s,15),m=b.t,g=b.l,v=Xn(f),y=v.c,p=v.n,A=Xn(m),x=A.c,R=A.n,C=new de(19),P=0;P<y.length;++P)++C[y[P]&31];for(var P=0;P<x.length;++P)++C[x[P]&31];for(var w=on(C,7),j=w.t,O=w.l,K=19;K>4&&!j[gn[K-1]];--K);var ye=o+5<<3,z=mt(a,Oe)+mt(s,wt)+i,G=mt(a,f)+mt(s,m)+i+14+3*K+mt(C,j)+2*C[16]+3*C[17]+7*C[18];if(c>=0&&ye<=z&&ye<=G)return Nr(e,u,n.subarray(c,c+o));var V,Z,te,q;if(De(e,u,1+(G<z)),u+=2,G<z){V=Pe(f,h,0),Z=f,te=Pe(m,g,0),q=m;var Ke=Pe(j,O,0);De(e,u,p-257),De(e,u+5,R-1),De(e,u+10,K-4),u+=14;for(var P=0;P<K;++P)De(e,u+3*P,j[gn[P]]);u+=3*K;for(var ne=[y,x],he=0;he<2;++he)for(var ae=ne[he],P=0;P<ae.length;++P){var se=ae[P]&31;De(e,u,Ke[se]),u+=j[se],se>15&&(De(e,u,ae[P]>>5&127),u+=ae[P]>>12)}}else V=Ja,Z=Oe,te=Ga,q=wt;for(var P=0;P<l;++P){var B=r[P];if(B>255){var se=B>>18&31;ht(e,u,V[se+257]),u+=Z[se+257],se>7&&(De(e,u,B>>23&31),u+=Qt[se]);var ve=B&31;ht(e,u,te[ve]),u+=q[ve],ve>3&&(ht(e,u,B>>5&8191),u+=Yt[ve])}else ht(e,u,V[B]),u+=Z[B]}return ht(e,u,V[256]),u+Z[256]},Wa=new On([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jr=new ee(0),Qa=function(n,e,t,r,a,s){var i=s.z||n.length,l=new ee(r+i+5*(1+Math.ceil(i/7e3))+a),c=l.subarray(r,l.length-a),o=s.l,u=(s.r||0)&7;if(e){u&&(c[0]=s.r>>3);for(var d=Wa[e-1],f=d>>13,h=d&8191,b=(1<<t)-1,m=s.p||new de(32768),g=s.h||new de(b+1),v=Math.ceil(t/3),y=2*v,p=function(Pt){return(n[Pt]^n[Pt+1]<<v^n[Pt+2]<<y)&b},A=new On(25e3),x=new de(288),R=new de(32),C=0,P=0,w=s.i||0,j=0,O=s.w||0,K=0;w+2<i;++w){var ye=p(w),z=w&32767,G=g[ye];if(m[z]=G,g[ye]=z,O<=w){var V=i-w;if((C>7e3||j>24576)&&(V>423||!o)){u=er(n,c,0,A,x,R,P,j,K,w-K,u),j=C=P=0,K=w;for(var Z=0;Z<286;++Z)x[Z]=0;for(var Z=0;Z<30;++Z)R[Z]=0}var te=2,q=0,Ke=h,ne=z-G&32767;if(V>2&&ye==p(w-ne))for(var he=Math.min(f,V)-1,ae=Math.min(32767,w),se=Math.min(258,V);ne<=ae&&--Ke&&z!=G;){if(n[w+te]==n[w+te-ne]){for(var B=0;B<se&&n[w+B]==n[w+B-ne];++B);if(B>te){if(te=B,q=ne,B>he)break;for(var ve=Math.min(ne,B-2),Re=0,Z=0;Z<ve;++Z){var Le=w-ne+Z&32767,ft=m[Le],dt=Le-ft&32767;dt>Re&&(Re=dt,G=Le)}}}z=G,G=m[z],ne+=z-G&32767}if(q){A[j++]=268435456|_n[te]<<18|Yn[q];var Ye=_n[te]&31,Xe=Yn[q]&31;P+=Qt[Ye]+Yt[Xe],++x[257+Ye],++R[Xe],O=w+te,++C}else A[j++]=n[w],++x[n[w]]}}for(w=Math.max(w,O);w<i;++w)A[j++]=n[w],++x[n[w]];u=er(n,c,o,A,x,R,P,j,K,w-K,u),o||(s.r=u&7|c[u/8|0]<<3,u-=7,s.h=g,s.p=m,s.i=w,s.w=O)}else{for(var w=s.w||0;w<i+o;w+=65535){var Ue=w+65535;Ue>=i&&(c[u/8|0]=o,Ue=i),u=Nr(c,u+1,n.subarray(w,Ue))}s.i=i}return zr(l,0,r+zn(u)+a)},Kr=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,s=t.length|0,i=0;i!=s;){for(var l=Math.min(i+2655,s);i<l;++i)a+=r+=t[i];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Ya=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),i=new ee(s.length+n.length);i.set(s),i.set(n,s.length),n=i,a.w=s.length}return Qa(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},Rr=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Xa=function(n){(n[0]!=31||n[1]!=139||n[2]!=8)&&ue(6,"invalid gzip data");var e=n[3],t=10;e&4&&(t+=(n[10]|n[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!n[t++]);return t+(e&2)},es=function(n){var e=n.length;return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0},ts=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=Kr();a.p(e.dictionary),Rr(n,2,a.d())}},ns=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&ue(6,"invalid zlib data"),(n[1]>>5&1)==1&&ue(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function rs(n,e){return Nn(n,{i:2},e,e)}function as(n,e){var t=Xa(n);return t+8>n.length&&ue(6,"invalid gzip data"),Nn(n.subarray(t,-8),{i:2},new ee(es(n)),e)}function Mu(n,e){e||(e={});var t=Kr();t.p(n);var r=Ya(n,e,e.dictionary?6:2,4);return ts(r,e),Rr(r,r.length-4,t.d()),r}function ss(n,e){return Nn(n.subarray(ns(n),-4),{i:2},e,e)}function is(n,e){return n[0]==31&&n[1]==139&&n[2]==8?as(n,e):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?rs(n,e):ss(n,e)}var os=typeof TextDecoder<"u"&&new TextDecoder,ls=0;try{os.decode(jr,{stream:!0}),ls=1}catch{}var cs=Object.defineProperty,yt=Math.pow,M=(n,e)=>cs(n,"name",{value:e,configurable:!0}),Q=(n,e,t)=>new Promise((r,a)=>{var s=c=>{try{l(t.next(c))}catch(o){a(o)}},i=c=>{try{l(t.throw(c))}catch(o){a(o)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,i);l((t=t.apply(n,e)).next())});M((n,e)=>{let t=!1,r="",a=L.GridLayer.extend({createTile:M((s,i)=>{let l=document.createElement("img"),c=new AbortController,o=c.signal;return l.cancel=()=>{c.abort()},t||(n.getHeader().then(u=>{u.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):u.tileType===2?r="image/png":u.tileType===3?r="image/jpeg":u.tileType===4?r="image/webp":u.tileType===5&&(r="image/avif")}),t=!0),n.getZxy(s.z,s.x,s.y,o).then(u=>{if(u){let d=new Blob([u.data],{type:r}),f=window.URL.createObjectURL(d);l.src=f,l.cancel=void 0,i(void 0,l)}}).catch(u=>{if(u.name!=="AbortError")throw u}),l},"createTile"),_removeTile:M(function(s){let i=this._tiles[s];i&&(i.el.cancel&&i.el.cancel(),i.el.width=0,i.el.height=0,i.el.deleted=!0,L.DomUtil.remove(i.el),delete this._tiles[s],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(s)}))},"_removeTile")});return new a(e)},"leafletRasterLayer");var us=M(n=>(e,t)=>{if(t instanceof AbortController)return n(e,t);let r=new AbortController;return n(e,r).then(a=>t(void 0,a.data,a.cacheControl||"",a.expires||""),a=>t(a)).catch(a=>t(a)),{cancel:M(()=>r.abort(),"cancel")}},"v3compat"),Lr=class{constructor(e){this.tilev4=M((t,r)=>Q(this,null,function*(){if(t.type==="json"){let h=t.url.substr(10),b=this.tiles.get(h);if(b||(b=new Kt(h),this.tiles.set(h,b)),this.metadata)return{data:yield b.getTileJson(t.url)};let m=yield b.getHeader();return(m.minLon>=m.maxLon||m.minLat>=m.maxLat)&&console.error(`Bounds of PMTiles archive ${m.minLon},${m.minLat},${m.maxLon},${m.maxLat} are not valid.`),{data:{tiles:[`${t.url}/{z}/{x}/{y}`],minzoom:m.minZoom,maxzoom:m.maxZoom,bounds:[m.minLon,m.minLat,m.maxLon,m.maxLat]}}}let a=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),s=t.url.match(a);if(!s)throw new Error("Invalid PMTiles protocol URL");let i=s[1],l=this.tiles.get(i);l||(l=new Kt(i),this.tiles.set(i,l));let c=s[2],o=s[3],u=s[4],d=yield l.getHeader(),f=yield l==null?void 0:l.getZxy(+c,+o,+u,r.signal);if(f)return{data:new Uint8Array(f.data),cacheControl:f.cacheControl,expires:f.expires};if(d.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4"),this.tile=us(this.tilev4),this.tiles=new Map,this.metadata=(e==null?void 0:e.metadata)||!1,this.errorOnMissingTile=(e==null?void 0:e.errorOnMissingTile)||!1}add(e){this.tiles.set(e.source.getKey(),e)}get(e){return this.tiles.get(e)}};M(Lr,"Protocol");var fs=Lr;function Ur(n,e){return(e>>>0)*4294967296+(n>>>0)}M(Ur,"toNum");function $r(n,e){let t=e.buf,r=t[e.pos++],a=(r&112)>>4;if(r<128||(r=t[e.pos++],a|=(r&127)<<3,r<128)||(r=t[e.pos++],a|=(r&127)<<10,r<128)||(r=t[e.pos++],a|=(r&127)<<17,r<128)||(r=t[e.pos++],a|=(r&127)<<24,r<128)||(r=t[e.pos++],a|=(r&1)<<31,r<128))return Ur(n,a);throw new Error("Expected varint not more than 10 bytes")}M($r,"readVarintRemainder");function tt(n){let e=n.buf,t=e[n.pos++],r=t&127;return t<128||(t=e[n.pos++],r|=(t&127)<<7,t<128)||(t=e[n.pos++],r|=(t&127)<<14,t<128)||(t=e[n.pos++],r|=(t&127)<<21,t<128)?r:(t=e[n.pos],r|=(t&15)<<28,$r(r,n))}M(tt,"readVarint");function jn(n,e,t,r){if(r===0){t===1&&(e[0]=n-1-e[0],e[1]=n-1-e[1]);let a=e[0];e[0]=e[1],e[1]=a}}M(jn,"rotate");function Zr(n,e){let t=yt(2,n),r=e,a=e,s=e,i=[0,0],l=1;for(;l<t;)r=1&s/2,a=1&(s^r),jn(l,i,r,a),i[0]+=l*r,i[1]+=l*a,s=s/4,l*=2;return[n,i[0],i[1]]}M(Zr,"idOnLevel");var ds=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function Jr(n,e,t){if(n>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(e>yt(2,n)-1||t>yt(2,n)-1)throw new Error("tile x/y outside zoom level bounds");let r=ds[n],a=yt(2,n),s=0,i=0,l=0,c=[e,t],o=a/2;for(;o>0;)s=(c[0]&o)>0?1:0,i=(c[1]&o)>0?1:0,l+=o*o*(3*s^i),jn(o,c,s,i),o=o/2;return r+l}M(Jr,"zxyToTileId");function bs(n){let e=0;for(let t=0;t<27;t++){let r=(1<<t)*(1<<t);if(e+r>n)return Zr(t,n-e);e+=r}throw new Error("Tile zoom level exceeds max safe number limit (26)")}M(bs,"tileIdToZxy");var hs=(n=>(n[n.Unknown=0]="Unknown",n[n.None=1]="None",n[n.Gzip=2]="Gzip",n[n.Brotli=3]="Brotli",n[n.Zstd=4]="Zstd",n))(hs||{});function Xt(n,e){return Q(this,null,function*(){if(e===1||e===0)return n;if(e===2){if(typeof globalThis.DecompressionStream>"u")return is(new Uint8Array(n));let t=new Response(n).body;if(!t)throw new Error("Failed to read response stream");let r=t.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(r).arrayBuffer()}throw new Error("Compression method not supported")})}M(Xt,"defaultDecompress");var ms=(n=>(n[n.Unknown=0]="Unknown",n[n.Mvt=1]="Mvt",n[n.Png=2]="Png",n[n.Jpeg=3]="Jpeg",n[n.Webp=4]="Webp",n[n.Avif=5]="Avif",n))(ms||{});function Vr(n){return n===1?".mvt":n===2?".png":n===3?".jpg":n===4?".webp":n===5?".avif":""}M(Vr,"tileTypeExt");var gs=127;function Gr(n,e){let t=0,r=n.length-1;for(;t<=r;){let a=r+t>>1,s=e-n[a].tileId;if(s>0)t=a+1;else if(s<0)r=a-1;else return n[a]}return r>=0&&(n[r].runLength===0||e-n[r].tileId<n[r].runLength)?n[r]:null}M(Gr,"findTile");var _s=class{constructor(e){this.file=e}getKey(){return this.file.name}getBytes(e,t){return Q(this,null,function*(){return{data:yield this.file.slice(e,e+t).arrayBuffer()}})}};M(_s,"FileSource");var Hr=class{constructor(e,t=new Headers){this.url=e,this.customHeaders=t,this.mustReload=!1;let r="";"navigator"in globalThis&&(r=globalThis.navigator.userAgent||"");let a=r.indexOf("Windows")>-1,s=/Chrome|Chromium|Edg|OPR|Brave/.test(r);this.chromeWindowsNoCache=!1,a&&s&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(e){this.customHeaders=e}getBytes(e,t,r,a){return Q(this,null,function*(){let s,i;r?i=r:(s=new AbortController,i=s.signal);let l=new Headers(this.customHeaders);l.set("range",`bytes=${e}-${e+t-1}`);let c;this.mustReload?c="reload":this.chromeWindowsNoCache&&(c="no-store");let o=yield fetch(this.url,{signal:i,cache:c,headers:l});if(e===0&&o.status===416){let f=o.headers.get("Content-Range");if(!f||!f.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let h=+f.substr(8);o=yield fetch(this.url,{signal:i,cache:"reload",headers:{range:`bytes=0-${h-1}`}})}let u=o.headers.get("Etag");if(u!=null&&u.startsWith("W/")&&(u=null),o.status===416||a&&u&&u!==a)throw this.mustReload=!0,new vn(`Server returned non-matching ETag ${a} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(o.status>=300)throw new Error(`Bad response code: ${o.status}`);let d=o.headers.get("Content-Length");if(o.status===200&&(!d||+d>t))throw s&&s.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield o.arrayBuffer(),etag:u||void 0,cacheControl:o.headers.get("Cache-Control")||void 0,expires:o.headers.get("Expires")||void 0}})}};M(Hr,"FetchSource");var ps=Hr;function me(n,e){let t=n.getUint32(e+4,!0),r=n.getUint32(e+0,!0);return t*yt(2,32)+r}M(me,"getUint64");function qr(n,e){let t=new DataView(n),r=t.getUint8(7);if(r>3)throw new Error(`Archive is spec version ${r} but this library supports up to spec version 3`);return{specVersion:r,rootDirectoryOffset:me(t,8),rootDirectoryLength:me(t,16),jsonMetadataOffset:me(t,24),jsonMetadataLength:me(t,32),leafDirectoryOffset:me(t,40),leafDirectoryLength:me(t,48),tileDataOffset:me(t,56),tileDataLength:me(t,64),numAddressedTiles:me(t,72),numTileEntries:me(t,80),numTileContents:me(t,88),clustered:t.getUint8(96)===1,internalCompression:t.getUint8(97),tileCompression:t.getUint8(98),tileType:t.getUint8(99),minZoom:t.getUint8(100),maxZoom:t.getUint8(101),minLon:t.getInt32(102,!0)/1e7,minLat:t.getInt32(106,!0)/1e7,maxLon:t.getInt32(110,!0)/1e7,maxLat:t.getInt32(114,!0)/1e7,centerZoom:t.getUint8(118),centerLon:t.getInt32(119,!0)/1e7,centerLat:t.getInt32(123,!0)/1e7,etag:e}}M(qr,"bytesToHeader");function Kn(n){let e={buf:new Uint8Array(n),pos:0},t=tt(e),r=[],a=0;for(let s=0;s<t;s++){let i=tt(e);r.push({tileId:a+i,offset:0,length:0,runLength:1}),a+=i}for(let s=0;s<t;s++)r[s].runLength=tt(e);for(let s=0;s<t;s++)r[s].length=tt(e);for(let s=0;s<t;s++){let i=tt(e);i===0&&s>0?r[s].offset=r[s-1].offset+r[s-1].length:r[s].offset=i-1}return r}M(Kn,"deserializeIndex");var Wr=class extends Error{};M(Wr,"EtagMismatch");var vn=Wr;function Rn(n,e){return Q(this,null,function*(){let t=yield n.getBytes(0,16384);if(new DataView(t.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let r=t.data.slice(0,gs),a=qr(r,t.etag),s=t.data.slice(a.rootDirectoryOffset,a.rootDirectoryOffset+a.rootDirectoryLength),i=`${n.getKey()}|${a.etag||""}|${a.rootDirectoryOffset}|${a.rootDirectoryLength}`,l=Kn(yield e(s,a.internalCompression));return[a,[i,l.length,l]]})}M(Rn,"getHeaderAndRoot");function Ln(n,e,t,r,a){return Q(this,null,function*(){let s=yield n.getBytes(t,r,void 0,a.etag),i=yield e(s.data,a.internalCompression),l=Kn(i);if(l.length===0)throw new Error("Empty directory is invalid");return l})}M(Ln,"getDirectory");var ys=class{constructor(e=100,t=!0,r=Xt){this.cache=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=r}getHeader(e){return Q(this,null,function*(){let t=e.getKey(),r=this.cache.get(t);if(r)return r.lastUsed=this.counter++,r.data;let a=yield Rn(e,this.decompress);return a[1]&&this.cache.set(a[1][0],{lastUsed:this.counter++,data:a[1][2]}),this.cache.set(t,{lastUsed:this.counter++,data:a[0]}),this.prune(),a[0]})}getDirectory(e,t,r,a){return Q(this,null,function*(){let s=`${e.getKey()}|${a.etag||""}|${t}|${r}`,i=this.cache.get(s);if(i)return i.lastUsed=this.counter++,i.data;let l=yield Ln(e,this.decompress,t,r,a);return this.cache.set(s,{lastUsed:this.counter++,data:l}),this.prune(),l})}prune(){if(this.cache.size>this.maxCacheEntries){let e=1/0,t;this.cache.forEach((r,a)=>{r.lastUsed<e&&(e=r.lastUsed,t=a)}),t&&this.cache.delete(t)}}invalidate(e){return Q(this,null,function*(){this.cache.delete(e.getKey())})}};M(ys,"ResolvedValueCache");var Qr=class{constructor(e=100,t=!0,r=Xt){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=r}getHeader(e){return Q(this,null,function*(){let t=e.getKey(),r=this.cache.get(t);if(r)return r.lastUsed=this.counter++,yield r.data;let a=new Promise((s,i)=>{Rn(e,this.decompress).then(l=>{l[1]&&this.cache.set(l[1][0],{lastUsed:this.counter++,data:Promise.resolve(l[1][2])}),s(l[0]),this.prune()}).catch(l=>{i(l)})});return this.cache.set(t,{lastUsed:this.counter++,data:a}),a})}getDirectory(e,t,r,a){return Q(this,null,function*(){let s=`${e.getKey()}|${a.etag||""}|${t}|${r}`,i=this.cache.get(s);if(i)return i.lastUsed=this.counter++,yield i.data;let l=new Promise((c,o)=>{Ln(e,this.decompress,t,r,a).then(u=>{c(u),this.prune()}).catch(u=>{o(u)})});return this.cache.set(s,{lastUsed:this.counter++,data:l}),l})}prune(){if(this.cache.size>=this.maxCacheEntries){let e=1/0,t;this.cache.forEach((r,a)=>{r.lastUsed<e&&(e=r.lastUsed,t=a)}),t&&this.cache.delete(t)}}invalidate(e){return Q(this,null,function*(){let t=e.getKey();if(this.invalidations.get(t))return yield this.invalidations.get(t);this.cache.delete(e.getKey());let r=new Promise((a,s)=>{this.getHeader(e).then(i=>{a(),this.invalidations.delete(t)}).catch(i=>{s(i)})});this.invalidations.set(t,r)})}};M(Qr,"SharedPromiseCache");var vs=Qr,Yr=class{constructor(e,t,r){typeof e=="string"?this.source=new ps(e):this.source=e,r?this.decompress=r:this.decompress=Xt,t?this.cache=t:this.cache=new vs}getHeader(){return Q(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(e,t,r,a){return Q(this,null,function*(){let s=Jr(e,t,r),i=yield this.cache.getHeader(this.source);if(e<i.minZoom||e>i.maxZoom)return;let l=i.rootDirectoryOffset,c=i.rootDirectoryLength;for(let o=0;o<=3;o++){let u=yield this.cache.getDirectory(this.source,l,c,i),d=Gr(u,s);if(d){if(d.runLength>0){let f=yield this.source.getBytes(i.tileDataOffset+d.offset,d.length,a,i.etag);return{data:yield this.decompress(f.data,i.tileCompression),cacheControl:f.cacheControl,expires:f.expires}}l=i.leafDirectoryOffset+d.offset,c=d.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(e,t,r,a){return Q(this,null,function*(){try{return yield this.getZxyAttempt(e,t,r,a)}catch(s){if(s instanceof vn)return this.cache.invalidate(this.source),yield this.getZxyAttempt(e,t,r,a);throw s}})}getMetadataAttempt(){return Q(this,null,function*(){let e=yield this.cache.getHeader(this.source),t=yield this.source.getBytes(e.jsonMetadataOffset,e.jsonMetadataLength,void 0,e.etag),r=yield this.decompress(t.data,e.internalCompression),a=new TextDecoder("utf-8");return JSON.parse(a.decode(r))})}getMetadata(){return Q(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(e){if(e instanceof vn)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw e}})}getTileJson(e){return Q(this,null,function*(){let t=yield this.getHeader(),r=yield this.getMetadata(),a=Vr(t.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${e}/{z}/{x}/{y}${a}`],vector_layers:r.vector_layers,attribution:r.attribution,description:r.description,name:r.name,version:r.version,bounds:[t.minLon,t.minLat,t.maxLon,t.maxLat],center:[t.centerLon,t.centerLat,t.centerZoom],minzoom:t.minZoom,maxzoom:t.maxZoom}})}};M(Yr,"PMTiles");var Kt=Yr;function Xr(n,e,t={}){const r={type:"Feature"};return(t.id===0||t.id)&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.properties=e||{},r.geometry=n,r}function Uu(n,e,t={}){if(!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!tr(n[0])||!tr(n[1]))throw new Error("coordinates must contain numbers");return Xr({type:"Point",coordinates:n},e,t)}function xs(n,e,t={}){for(const a of n){if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(a[a.length-1].length!==a[0].length)throw new Error("First and last Position are not equivalent.");for(let s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return Xr({type:"Polygon",coordinates:n},e,t)}function $u(n){return n%(2*Math.PI)*180/Math.PI}function Zu(n){return n%360*Math.PI/180}function tr(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function ea(n,e,t){if(n!==null)for(var r,a,s,i,l,c,o,u=0,d=0,f,h=n.type,b=h==="FeatureCollection",m=h==="Feature",g=b?n.features.length:1,v=0;v<g;v++){o=b?n.features[v].geometry:m?n.geometry:n,f=o?o.type==="GeometryCollection":!1,l=f?o.geometries.length:1;for(var y=0;y<l;y++){var p=0,A=0;if(i=f?o.geometries[y]:o,i!==null){c=i.coordinates;var x=i.type;switch(u=0,x){case null:break;case"Point":if(e(c,d,v,p,A)===!1)return!1;d++,p++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(e(c[r],d,v,p,A)===!1)return!1;d++,x==="MultiPoint"&&p++}x==="LineString"&&p++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(a=0;a<c[r].length-u;a++){if(e(c[r][a],d,v,p,A)===!1)return!1;d++}x==="MultiLineString"&&p++,x==="Polygon"&&A++}x==="Polygon"&&p++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(A=0,a=0;a<c[r].length;a++){for(s=0;s<c[r][a].length-u;s++){if(e(c[r][a][s],d,v,p,A)===!1)return!1;d++}A++}p++}break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)if(ea(i.geometries[r],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ws(n,e={}){if(n.bbox!=null&&e.recompute!==!0)return n.bbox;const t=[1/0,1/0,-1/0,-1/0];return ea(n,r=>{t[0]>r[0]&&(t[0]=r[0]),t[1]>r[1]&&(t[1]=r[1]),t[2]<r[0]&&(t[2]=r[0]),t[3]<r[1]&&(t[3]=r[1])}),t}var Fs=ws;const Es=()=>{const n=Ua;return{page:{subscribe:n.page.subscribe},navigating:{subscribe:n.navigating.subscribe},updated:n.updated}},ks={subscribe(n){return Es().page.subscribe(n)}};let Dt=String.fromCharCode,ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",Ct={};function As(n,e){if(!Ct[n]){Ct[n]={};for(let t=0;t<n.length;t++)Ct[n][n.charAt(t)]=t}return Ct[n][e]}function Ps(n){return n==null?"":Cs(n,6,function(e){return ta.charAt(e)})}function Ds(n){return n==null?"":n==""?null:Bs((n=n.replace(/ /g,"+")).length,32,function(e){return As(ta,n.charAt(e))})}function Cs(n,e,t){if(n==null)return"";let r,a,s={},i={},l="",c="",o="",u=2,d=3,f=2,h=[],b=0,m=0,g;for(g=0;g<n.length;g+=1)if(l=n.charAt(g),Object.prototype.hasOwnProperty.call(s,l)||(s[l]=d++,i[l]=!0),c=o+l,Object.prototype.hasOwnProperty.call(s,c))o=c;else{if(Object.prototype.hasOwnProperty.call(i,o)){if(256>o.charCodeAt(0)){for(r=0;r<f;r++)b<<=1,m==e-1?(m=0,h.push(t(b)),b=0):m++;for(r=0,a=o.charCodeAt(0);r<8;r++)b=b<<1|1&a,m==e-1?(m=0,h.push(t(b)),b=0):m++,a>>=1}else{for(r=0,a=1;r<f;r++)b=b<<1|a,m==e-1?(m=0,h.push(t(b)),b=0):m++,a=0;for(r=0,a=o.charCodeAt(0);r<16;r++)b=b<<1|1&a,m==e-1?(m=0,h.push(t(b)),b=0):m++,a>>=1}--u==0&&(u=Math.pow(2,f),f++),delete i[o]}else for(r=0,a=s[o];r<f;r++)b=b<<1|1&a,m==e-1?(m=0,h.push(t(b)),b=0):m++,a>>=1;--u==0&&(u=Math.pow(2,f),f++),s[c]=d++,o=String(l)}if(o!==""){if(Object.prototype.hasOwnProperty.call(i,o)){if(256>o.charCodeAt(0)){for(r=0;r<f;r++)b<<=1,m==e-1?(m=0,h.push(t(b)),b=0):m++;for(r=0,a=o.charCodeAt(0);r<8;r++)b=b<<1|1&a,m==e-1?(m=0,h.push(t(b)),b=0):m++,a>>=1}else{for(r=0,a=1;r<f;r++)b=b<<1|a,m==e-1?(m=0,h.push(t(b)),b=0):m++,a=0;for(r=0,a=o.charCodeAt(0);r<16;r++)b=b<<1|1&a,m==e-1?(m=0,h.push(t(b)),b=0):m++,a>>=1}--u==0&&(u=Math.pow(2,f),f++),delete i[o]}else for(r=0,a=s[o];r<f;r++)b=b<<1|1&a,m==e-1?(m=0,h.push(t(b)),b=0):m++,a>>=1;--u==0&&(u=Math.pow(2,f),f++)}for(r=0,a=2;r<f;r++)b=b<<1|1&a,m==e-1?(m=0,h.push(t(b)),b=0):m++,a>>=1;for(;;){if(b<<=1,m==e-1){h.push(t(b));break}m++}return h.join("")}function Bs(n,e,t){let r=[],a=4,s=4,i=3,l="",c=[],o,u,d,f,h,b,m,g={val:t(0),position:e,index:1};for(o=0;o<3;o+=1)r[o]=o;for(d=0,h=4,b=1;b!=h;)f=g.val&g.position,g.position>>=1,g.position==0&&(g.position=e,g.val=t(g.index++)),d|=(f>0?1:0)*b,b<<=1;switch(d){case 0:for(d=0,h=256,b=1;b!=h;)f=g.val&g.position,g.position>>=1,g.position==0&&(g.position=e,g.val=t(g.index++)),d|=(f>0?1:0)*b,b<<=1;m=Dt(d);break;case 1:for(d=0,h=65536,b=1;b!=h;)f=g.val&g.position,g.position>>=1,g.position==0&&(g.position=e,g.val=t(g.index++)),d|=(f>0?1:0)*b,b<<=1;m=Dt(d);break;case 2:return""}for(r[3]=m,u=m,c.push(m);;){if(g.index>n)return"";for(d=0,h=Math.pow(2,i),b=1;b!=h;)f=g.val&g.position,g.position>>=1,g.position==0&&(g.position=e,g.val=t(g.index++)),d|=(f>0?1:0)*b,b<<=1;switch(m=d){case 0:for(d=0,h=256,b=1;b!=h;)f=g.val&g.position,g.position>>=1,g.position==0&&(g.position=e,g.val=t(g.index++)),d|=(f>0?1:0)*b,b<<=1;r[s++]=Dt(d),m=s-1,a--;break;case 1:for(d=0,h=65536,b=1;b!=h;)f=g.val&g.position,g.position>>=1,g.position==0&&(g.position=e,g.val=t(g.index++)),d|=(f>0?1:0)*b,b<<=1;r[s++]=Dt(d),m=s-1,a--;break;case 2:return c.join("")}if(a==0&&(a=Math.pow(2,i),i++),r[m])l=r[m];else{if(m!==s)return null;l=u+u.charAt(0)}c.push(l),r[s++]=u+l.charAt(0),a--,u=l,a==0&&(a=Math.pow(2,i),i++)}}let na;na=ks;const Ss={keepFocus:!0,noScroll:!0,replaceState:!0},Ts={keepFocus:!0,noScroll:!0,replaceState:!1};function Is(n,e,t){var s;const r=Array.from(new Set(Array.from(((s=n==null?void 0:n.keys)==null?void 0:s.call(n))||[]).concat(Object.keys(t??{}))));let a=!1;return[Object.fromEntries(r.map(i=>{if(e[i]!=null)return[i,e[i]];let l=d=>d;const c=t==null?void 0:t[i];typeof c!="boolean"&&typeof(c==null?void 0:c.decode)=="function"&&(l=c.decode);const o=n==null?void 0:n.get(i);let u;return o==null&&(c==null?void 0:c.defaultValue)!=null?(u=c.defaultValue,a=!0):u=l(o),[i,u]})),a]}function Ms(n,e,t=(r,a)=>JSON.stringify(r)===JSON.stringify(a)){return typeof n=="object"&&typeof e=="object"&&t(n,e)}function ln({encode:n,decode:e}){function t(r){return{encode:n,decode:e,defaultValue:r}}return t}function Os(n){return{encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:n}}function zs(n){return{encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:n}}function Ns(n){return{encode:e=>Ps(JSON.stringify(e)),decode:e=>{if(!e)return null;try{return JSON.parse(Ds(e)??"")}catch{return null}},defaultValue:n}}const Bt={number:ln({encode:n=>n.toString(),decode:n=>n?parseFloat(n):null}),boolean:ln({encode:n=>n+"",decode:n=>n!==null&&n!=="false"}),string:ln({encode:n=>n??"",decode:n=>n}),object:Os,array:zs,lz:Ns},cn=new Set;let nr;const rr=new Map;function _e(n,{debounceHistory:e=0,pushHistory:t=!0,sort:r=!0,showDefaults:a=!0,equalityFn:s}={}){const i=T({});let l,c=!0;function o(d,f){c=!1;const h=window.location.hash,b=new URLSearchParams(window.location.search),m=g=>{for(const v of Object.keys(d)){if(d[v]==null){g.delete(v);continue}let y=x=>x.toString();const p=n==null?void 0:n[v];typeof p!="boolean"&&typeof(p==null?void 0:p.encode)=="function"&&(y=p.encode);const A=y(d[v]);A==null?g.delete(v):g.set(v,A)}};cn.add(m),clearTimeout(nr),nr=setTimeout(async()=>{cn.forEach(g=>{g(b)}),clearTimeout(rr.get("queryParameters"));{i.set(d);async function g(){r&&b.sort(),await $a(`?${b}${h}`,t?Ts:Ss),i.set({})}f||e===0?g():rr.set("queryParameters",setTimeout(g,e))}cn.clear()})}const{subscribe:u}=Ma([na,i],([d,f],h)=>{var g;const[b,m]=Is((g=d==null?void 0:d.url)==null?void 0:g.searchParams,f,n);if(m&&a&&o(structuredClone(b),c),!Ms(l,b,s))return l=structuredClone(b),h(structuredClone(b))});return{set(d){o(d)},subscribe:u,update:d=>{const f=X({subscribe:u}),h=d(f);o(h)}}}const js=(n,e)=>!isNaN(n)&&!isNaN(e)&&n>=-180&&n<=180&&e>=-90&&e<=90,Ks=n=>!isNaN(n)&&n>=0&&n<=24,Rs=n=>!isNaN(n)&&n>=0&&n<=85,Ls=n=>!isNaN(n)&&n>=-180&&n<=180,Ju=n=>{const e=n.slice(1).split("&"),t={};return e.forEach(r=>{t[r.split("=")[0]]=r.split("=")[1]}),t},Us=()=>{const n=X(_e({c:Bt.string(),z:Bt.number(),p:Bt.number(),b:Bt.number()},{pushHistory:!1}));if(n.c===null||n.c===void 0||n.z===null||n.z===void 0||n.p===null||n.p===void 0||n.b===null||n.b===void 0)return $e;try{const e=n.c.split("_");if(e.length!==2)return $e;const[t,r]=e.map(Number);if(!js(t,r))return console.warn("Invalid coordinates:",{lng:t,lat:r}),$e;const a=Number(n.z),s=Number(n.p),i=Number(n.b);return Ks(a)?Rs(s)?Ls(i)?{center:[t,r],zoom:a,pitch:s,bearing:i}:(console.warn("Invalid bearing:",i),$e):(console.warn("Invalid pitch:",s),$e):(console.warn("Invalid zoom:",a),$e)}catch(e){return console.error("Error parsing map parameters:",e),$e}},$s=n=>{const e=X(_e({},{pushHistory:!1})),t=n.center.map(r=>r.toFixed(6)).join("_");e.c=t,e.z=n.zoom.toFixed(1),e.p=n.pitch.toFixed(0),e.b=n.bearing.toFixed(0),X(Oa)||(e.sv="-1"),X(Fa)||(e["3d"]="0"),_e({},{pushHistory:!1}).set(e)},Vu=n=>{const e=X(_e({}));e.sv=n.toString(),_e({},{pushHistory:!1}).set(e)},Gu=()=>X(_e({},{pushHistory:!1})).sv,Hu=({x:n,y:e})=>{const t=X(_e({}));t.cr=`${n.toFixed(2)}_${e.toFixed(2)}`,_e({},{pushHistory:!1}).set(t)},qu=()=>{const e=X(_e({},{pushHistory:!1})).cr;if(!e)return null;const[t,r]=e.split("_"),a=parseFloat(t),s=parseFloat(r);return isNaN(a)||isNaN(s)?null:{x:a,y:s}},ar=n=>{const e=X(_e({}));e["3d"]=n,_e({},{pushHistory:!1}).set(e)},Wu=()=>X(_e({},{pushHistory:!1}))["3d"],Qu=n=>{const e=new URLSearchParams;for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];Array.isArray(r)?r.forEach(a=>{e.append(t,a)}):r!=null&&e.append(t,String(r))}return e.toString()},gt=4,_t=4,Et=4,Me=new Int32Array(2),sr=new Float32Array(Me.buffer),ir=new Float64Array(Me.buffer),St=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var xn;(function(n){n[n.UTF8_BYTES=1]="UTF8_BYTES",n[n.UTF16_STRING=2]="UTF16_STRING"})(xn||(xn={}));class Be{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new Be(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return Me[0]=this.readInt32(e),sr[0]}readFloat64(e){return Me[St?0:1]=this.readInt32(e),Me[St?1:0]=this.readInt32(e+4),ir[0]}writeInt8(e,t){this.bytes_[e]=t}writeUint8(e,t){this.bytes_[e]=t}writeInt16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeUint16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeInt32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeUint32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeInt64(e,t){this.writeInt32(e,Number(BigInt.asIntN(32,t))),this.writeInt32(e+4,Number(BigInt.asIntN(32,t>>BigInt(32))))}writeUint64(e,t){this.writeUint32(e,Number(BigInt.asUintN(32,t))),this.writeUint32(e+4,Number(BigInt.asUintN(32,t>>BigInt(32))))}writeFloat32(e,t){sr[0]=t,this.writeInt32(e,Me[0])}writeFloat64(e,t){ir[0]=t,this.writeInt32(e,Me[St?0:1]),this.writeInt32(e+4,Me[St?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+gt+_t)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let t=0;t<_t;t++)e+=String.fromCharCode(this.readInt8(this.position_+gt+t));return e}__offset(e,t){const r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0}__union(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e}__string(e,t){e+=this.readInt32(e);const r=this.readInt32(e);e+=gt;const a=this.bytes_.subarray(e,e+r);return t===xn.UTF8_BYTES?a:this.text_decoder_.decode(a)}__union_with_string(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+gt}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=_t)throw new Error("FlatBuffers: file identifier must be length "+_t);for(let t=0;t<_t;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+gt+t))return!1;return!0}createScalarList(e,t){const r=[];for(let a=0;a<t;++a){const s=e(a);s!==null&&r.push(s)}return r}createObjList(e,t){const r=[];for(let a=0;a<t;++a){const s=e(a);s!==null&&r.push(s.unpack())}return r}}const Un=new Uint8Array(0);function Zs(){return this._source.cancel()}function Js(n,e){if(!n.length)return e;if(!e.length)return n;var t=new Uint8Array(n.length+e.length);return t.set(n),t.set(e,n.length),t}function Vs(){var n=this,e=n._array.subarray(n._index);return n._source.read().then(function(t){return n._array=Un,n._index=0,t.done?e.length>0?{done:!1,value:e}:{done:!0,value:void 0}:{done:!1,value:Js(e,t.value)}})}function Gs(n){if((n|=0)<0)throw new Error("invalid length");var e=this,t=this._array.length-this._index;if(this._index+n<=this._array.length)return Promise.resolve(this._array.subarray(this._index,this._index+=n));var r=new Uint8Array(n);return r.set(this._array.subarray(this._index)),function a(){return e._source.read().then(function(s){return s.done?(e._array=Un,e._index=0,t>0?r.subarray(0,t):null):t+s.value.length>=n?(e._array=s.value,e._index=n-t,r.set(s.value.subarray(0,n-t),t),r):(r.set(s.value,t),t+=s.value.length,a())})}()}function Hs(n){return typeof n.slice=="function"?n:new en(typeof n.read=="function"?n:n.getReader())}function en(n){this._source=n,this._array=Un,this._index=0}en.prototype.read=Vs;en.prototype.slice=Gs;en.prototype.cancel=Zs;var I,Y=((I={})[I.Byte=0]="Byte",I[I.UByte=1]="UByte",I[I.Bool=2]="Bool",I[I.Short=3]="Short",I[I.UShort=4]="UShort",I[I.Int=5]="Int",I[I.UInt=6]="UInt",I[I.Long=7]="Long",I[I.ULong=8]="ULong",I[I.Float=9]="Float",I[I.Double=10]="Double",I[I.String=11]="String",I[I.Json=12]="Json",I[I.DateTime=13]="DateTime",I[I.Binary=14]="Binary",I);class W{constructor(){F(this,"bb",null);F(this,"bb_pos",0)}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsColumn(e,t){return(t||new W).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsColumn(e,t){return e.setPosition(e.position()+Et),(t||new W).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Y.Byte}title(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}description(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null}width(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt32(this.bb_pos+e):-1}precision(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt32(this.bb_pos+e):-1}scale(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt32(this.bb_pos+e):-1}nullable(){let e=this.bb.__offset(this.bb_pos,18);return!e||!!this.bb.readInt8(this.bb_pos+e)}unique(){let e=this.bb.__offset(this.bb_pos,20);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}primaryKey(){let e=this.bb.__offset(this.bb_pos,22);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}metadata(e){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__string(this.bb_pos+t,e):null}static startColumn(e){e.startObject(11)}static addName(e,t){e.addFieldOffset(0,t,0)}static addType(e,t){e.addFieldInt8(1,t,Y.Byte)}static addTitle(e,t){e.addFieldOffset(2,t,0)}static addDescription(e,t){e.addFieldOffset(3,t,0)}static addWidth(e,t){e.addFieldInt32(4,t,-1)}static addPrecision(e,t){e.addFieldInt32(5,t,-1)}static addScale(e,t){e.addFieldInt32(6,t,-1)}static addNullable(e,t){e.addFieldInt8(7,+t,1)}static addUnique(e,t){e.addFieldInt8(8,+t,0)}static addPrimaryKey(e,t){e.addFieldInt8(9,+t,0)}static addMetadata(e,t){e.addFieldOffset(10,t,0)}static endColumn(e){let t=e.endObject();return e.requiredField(t,4),t}static createColumn(e,t,r,a,s,i,l,c,o,u,d,f){return W.startColumn(e),W.addName(e,t),W.addType(e,r),W.addTitle(e,a),W.addDescription(e,s),W.addWidth(e,i),W.addPrecision(e,l),W.addScale(e,c),W.addNullable(e,o),W.addUnique(e,u),W.addPrimaryKey(e,d),W.addMetadata(e,f),W.endColumn(e)}}class ge{constructor(){F(this,"bb",null);F(this,"bb_pos",0)}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsCrs(e,t){return(t||new ge).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsCrs(e,t){return e.setPosition(e.position()+Et),(t||new ge).__init(e.readInt32(e.position())+e.position(),e)}org(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}code(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}name(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}description(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null}wkt(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null}codeString(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}static startCrs(e){e.startObject(6)}static addOrg(e,t){e.addFieldOffset(0,t,0)}static addCode(e,t){e.addFieldInt32(1,t,0)}static addName(e,t){e.addFieldOffset(2,t,0)}static addDescription(e,t){e.addFieldOffset(3,t,0)}static addWkt(e,t){e.addFieldOffset(4,t,0)}static addCodeString(e,t){e.addFieldOffset(5,t,0)}static endCrs(e){return e.endObject()}static createCrs(e,t,r,a,s,i,l){return ge.startCrs(e),ge.addOrg(e,t),ge.addCode(e,r),ge.addName(e,a),ge.addDescription(e,s),ge.addWkt(e,i),ge.addCodeString(e,l),ge.endCrs(e)}}var S,re=((S={})[S.Unknown=0]="Unknown",S[S.Point=1]="Point",S[S.LineString=2]="LineString",S[S.Polygon=3]="Polygon",S[S.MultiPoint=4]="MultiPoint",S[S.MultiLineString=5]="MultiLineString",S[S.MultiPolygon=6]="MultiPolygon",S[S.GeometryCollection=7]="GeometryCollection",S[S.CircularString=8]="CircularString",S[S.CompoundCurve=9]="CompoundCurve",S[S.CurvePolygon=10]="CurvePolygon",S[S.MultiCurve=11]="MultiCurve",S[S.MultiSurface=12]="MultiSurface",S[S.Curve=13]="Curve",S[S.Surface=14]="Surface",S[S.PolyhedralSurface=15]="PolyhedralSurface",S[S.TIN=16]="TIN",S[S.Triangle=17]="Triangle",S);class Rt{constructor(){F(this,"bb",null);F(this,"bb_pos",0)}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsHeader(e,t){return(t||new Rt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsHeader(e,t){return e.setPosition(e.position()+Et),(t||new Rt).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}envelope(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat64(this.bb.__vector(this.bb_pos+t)+8*e):0}envelopeLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}envelopeArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}geometryType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):re.Unknown}hasZ(){let e=this.bb.__offset(this.bb_pos,10);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}hasM(){let e=this.bb.__offset(this.bb_pos,12);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}hasT(){let e=this.bb.__offset(this.bb_pos,14);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}hasTm(){let e=this.bb.__offset(this.bb_pos,16);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}columns(e,t){let r=this.bb.__offset(this.bb_pos,18);return r?(t||new W).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}columnsLength(){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0}featuresCount(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readUint64(this.bb_pos+e):BigInt("0")}indexNodeSize(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.readUint16(this.bb_pos+e):16}crs(e){let t=this.bb.__offset(this.bb_pos,24);return t?(e||new ge).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}title(e){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__string(this.bb_pos+t,e):null}description(e){let t=this.bb.__offset(this.bb_pos,28);return t?this.bb.__string(this.bb_pos+t,e):null}metadata(e){let t=this.bb.__offset(this.bb_pos,30);return t?this.bb.__string(this.bb_pos+t,e):null}static startHeader(e){e.startObject(14)}static addName(e,t){e.addFieldOffset(0,t,0)}static addEnvelope(e,t){e.addFieldOffset(1,t,0)}static createEnvelopeVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addFloat64(t[r]);return e.endVector()}static startEnvelopeVector(e,t){e.startVector(8,t,8)}static addGeometryType(e,t){e.addFieldInt8(2,t,re.Unknown)}static addHasZ(e,t){e.addFieldInt8(3,+t,0)}static addHasM(e,t){e.addFieldInt8(4,+t,0)}static addHasT(e,t){e.addFieldInt8(5,+t,0)}static addHasTm(e,t){e.addFieldInt8(6,+t,0)}static addColumns(e,t){e.addFieldOffset(7,t,0)}static createColumnsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startColumnsVector(e,t){e.startVector(4,t,4)}static addFeaturesCount(e,t){e.addFieldInt64(8,t,BigInt("0"))}static addIndexNodeSize(e,t){e.addFieldInt16(9,t,16)}static addCrs(e,t){e.addFieldOffset(10,t,0)}static addTitle(e,t){e.addFieldOffset(11,t,0)}static addDescription(e,t){e.addFieldOffset(12,t,0)}static addMetadata(e,t){e.addFieldOffset(13,t,0)}static endHeader(e){return e.endObject()}static finishHeaderBuffer(e,t){e.finish(t)}static finishSizePrefixedHeaderBuffer(e,t){e.finish(t,void 0,!0)}}class oe{constructor(){F(this,"bb",null);F(this,"bb_pos",0)}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsGeometry(e,t){return(t||new oe).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsGeometry(e,t){return e.setPosition(e.position()+Et),(t||new oe).__init(e.readInt32(e.position())+e.position(),e)}ends(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb.__vector(this.bb_pos+t)+4*e):0}endsLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}endsArray(){let e=this.bb.__offset(this.bb_pos,4);return e?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}xy(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat64(this.bb.__vector(this.bb_pos+t)+8*e):0}xyLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}xyArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}z(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat64(this.bb.__vector(this.bb_pos+t)+8*e):0}zLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}zArray(){let e=this.bb.__offset(this.bb_pos,8);return e?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}m(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readFloat64(this.bb.__vector(this.bb_pos+t)+8*e):0}mLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}mArray(){let e=this.bb.__offset(this.bb_pos,10);return e?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}t(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readFloat64(this.bb.__vector(this.bb_pos+t)+8*e):0}tLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}tArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}tm(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readUint64(this.bb.__vector(this.bb_pos+t)+8*e):BigInt(0)}tmLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}type(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readUint8(this.bb_pos+e):re.Unknown}parts(e,t){let r=this.bb.__offset(this.bb_pos,18);return r?(t||new oe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}partsLength(){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0}static startGeometry(e){e.startObject(8)}static addEnds(e,t){e.addFieldOffset(0,t,0)}static createEndsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startEndsVector(e,t){e.startVector(4,t,4)}static addXy(e,t){e.addFieldOffset(1,t,0)}static createXyVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addFloat64(t[r]);return e.endVector()}static startXyVector(e,t){e.startVector(8,t,8)}static addZ(e,t){e.addFieldOffset(2,t,0)}static createZVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addFloat64(t[r]);return e.endVector()}static startZVector(e,t){e.startVector(8,t,8)}static addM(e,t){e.addFieldOffset(3,t,0)}static createMVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addFloat64(t[r]);return e.endVector()}static startMVector(e,t){e.startVector(8,t,8)}static addT(e,t){e.addFieldOffset(4,t,0)}static createTVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addFloat64(t[r]);return e.endVector()}static startTVector(e,t){e.startVector(8,t,8)}static addTm(e,t){e.addFieldOffset(5,t,0)}static createTmVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startTmVector(e,t){e.startVector(8,t,8)}static addType(e,t){e.addFieldInt8(6,t,re.Unknown)}static addParts(e,t){e.addFieldOffset(7,t,0)}static createPartsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startPartsVector(e,t){e.startVector(4,t,4)}static endGeometry(e){return e.endObject()}static createGeometry(e,t,r,a,s,i,l,c,o){return oe.startGeometry(e),oe.addEnds(e,t),oe.addXy(e,r),oe.addZ(e,a),oe.addM(e,s),oe.addT(e,i),oe.addTm(e,l),oe.addType(e,c),oe.addParts(e,o),oe.endGeometry(e)}}class Ee{constructor(){F(this,"bb",null);F(this,"bb_pos",0)}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFeature(e,t){return(t||new Ee).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFeature(e,t){return e.setPosition(e.position()+Et),(t||new Ee).__init(e.readInt32(e.position())+e.position(),e)}geometry(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new oe).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}properties(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0}propertiesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}propertiesArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}columns(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new W).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}columnsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFeature(e){e.startObject(3)}static addGeometry(e,t){e.addFieldOffset(0,t,0)}static addProperties(e,t){e.addFieldOffset(1,t,0)}static createPropertiesVector(e,t){e.startVector(1,t.length,1);for(let r=t.length-1;r>=0;r--)e.addInt8(t[r]);return e.endVector()}static startPropertiesVector(e,t){e.startVector(1,t,1)}static addColumns(e,t){e.addFieldOffset(2,t,0)}static createColumnsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startColumnsVector(e,t){e.startVector(4,t,4)}static endFeature(e){return e.endObject()}static finishFeatureBuffer(e,t){e.finish(t)}static finishSizePrefixedFeatureBuffer(e,t){e.finish(t,void 0,!0)}static createFeature(e,t,r,a){return Ee.startFeature(e),Ee.addGeometry(e,t),Ee.addProperties(e,r),Ee.addColumns(e,a),Ee.endFeature(e)}}function $n(n){let e=Rt.getRootAsHeader(n),t=e.featuresCount(),r=e.indexNodeSize(),a=[];for(let l=0;l<e.columnsLength();l++){let c=e.columns(l);if(!c)throw Error("Column unexpectedly missing");if(!c.name())throw Error("Column name unexpectedly missing");a.push({name:c.name(),type:c.type(),title:c.title(),description:c.description(),width:c.width(),precision:c.precision(),scale:c.scale(),nullable:c.nullable(),unique:c.unique(),primary_key:c.primaryKey()})}let s=e.crs(),i=s?{org:s.org(),code:s.code(),name:s.name(),description:s.description(),wkt:s.wkt(),code_string:s.codeString()}:null;return{geometryType:e.geometryType(),columns:a,envelope:null,featuresCount:Number(t),indexNodeSize:r,crs:i,title:e.title(),description:e.description(),metadata:e.metadata()}}const He=new Uint8Array([102,103,98,3,102,103,98,0]),Ce=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wn=function(n,e){return wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a])},wn(n,e)};function qs(n,e){wn(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function st(n,e,t,r){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(u){try{o(r.next(u))}catch(d){i(d)}}function c(u){try{o(r.throw(u))}catch(d){i(d)}}function o(u){u.done?s(u.value):a(u.value).then(l,c)}o((r=r.apply(n,[])).next())})}function ze(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(o){return function(u){return c([o,u])}}function c(o){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,a&&(s=o[0]&2?a.return:o[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,o[1])).done)return s;switch(a=0,s&&(o=[o[0]&2,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return t.label++,{value:o[1],done:!1};case 5:t.label++,a=o[1],o=[0];continue;case 7:o=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){t=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){t.label=o[1];break}if(o[0]===6&&t.label<s[1]){t.label=s[1],s=o;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(o);break}s[2]&&t.ops.pop(),t.trys.pop();continue}o=e.call(n,t)}catch(u){o=[6,u],a=0}finally{r=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function it(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ft(n){return this instanceof Ft?(this.v=n,this):new Ft(n)}function Ws(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),a,s=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(f){r[f]&&(a[f]=function(h){return new Promise(function(b,m){s.push([f,h,b,m])>1||l(f,h)})})}function l(f,h){try{c(r[f](h))}catch(b){d(s[0][3],b)}}function c(f){f.value instanceof Ft?Promise.resolve(f.value.v).then(o,u):d(s[0][2],f)}function o(f){l("next",f)}function u(f){l("throw",f)}function d(f,h){f(h),s.shift(),s.length&&l(s[0][0],s[0][1])}}var ra=function(n){qs(e,n);function e(t){var r=n.call(this,t)||this;return Object.defineProperty(r,"name",{value:"RepeaterOverflowError",enumerable:!1}),typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(r,r.constructor.prototype):r.__proto__=r.constructor.prototype,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(r,r.constructor),r}return e}(Error);(function(){function n(e){if(e<0)throw new RangeError("Capacity may not be less than 0");this._c=e,this._q=[]}return Object.defineProperty(n.prototype,"empty",{get:function(){return this._q.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"full",{get:function(){return this._q.length>=this._c},enumerable:!1,configurable:!0}),n.prototype.add=function(e){if(this.full)throw new Error("Buffer full");this._q.push(e)},n.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()},n})();(function(){function n(e){if(e<1)throw new RangeError("Capacity may not be less than 1");this._c=e,this._q=[]}return Object.defineProperty(n.prototype,"empty",{get:function(){return this._q.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"full",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.add=function(e){for(;this._q.length>=this._c;)this._q.shift();this._q.push(e)},n.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()},n})();(function(){function n(e){if(e<1)throw new RangeError("Capacity may not be less than 1");this._c=e,this._q=[]}return Object.defineProperty(n.prototype,"empty",{get:function(){return this._q.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"full",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.add=function(e){this._q.length<this._c&&this._q.push(e)},n.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()},n})();function Fn(n){n!=null&&typeof n.then=="function"&&n.then($t,$t)}var un=0,or=1,qe=2,Lt=3,En=4,Ut=1024,$t=function(){};function at(n){var e=n.err,t=Promise.resolve(n.execution).then(function(r){if(e!=null)throw e;return r});return n.err=void 0,n.execution=t.then(function(){},function(){}),n.pending===void 0?t:n.pending.then(function(){return t})}function Je(n,e){var t=n.state>=Lt;return Promise.resolve(e).then(function(r){return!t&&n.state>=En?at(n).then(function(a){return{value:a,done:!0}}):{value:r,done:t}})}function Zn(n,e){var t,r;if(!(n.state>=qe))if(n.state=qe,n.onnext(),n.onstop(),n.err==null&&(n.err=e),n.pushes.length===0&&(typeof n.buffer>"u"||n.buffer.empty))vt(n);else try{for(var a=it(n.pushes),s=a.next();!s.done;s=a.next()){var i=s.value;i.resolve()}}catch(l){t={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}}function vt(n){var e,t;if(!(n.state>=Lt)){n.state<qe&&Zn(n),n.state=Lt,n.buffer=void 0;try{for(var r=it(n.nexts),a=r.next();!a.done;a=r.next()){var s=a.value,i=n.pending===void 0?at(n):n.pending.then(function(){return at(n)});s.resolve(Je(n,i))}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}n.pushes=[],n.nexts=[]}}function lr(n){n.state>=En||(n.state<Lt&&vt(n),n.state=En)}function Qs(n,e){if(Fn(e),n.pushes.length>=Ut)throw new ra("No more than "+Ut+" pending calls to push are allowed on a single repeater.");if(n.state>=qe)return Promise.resolve(void 0);var t=n.pending===void 0?Promise.resolve(e):n.pending.then(function(){return e});t=t.catch(function(c){n.state<qe&&(n.err=c),lr(n)});var r;if(n.nexts.length){var a=n.nexts.shift();a.resolve(Je(n,t)),n.nexts.length?r=Promise.resolve(n.nexts[0].value):typeof n.buffer<"u"&&!n.buffer.full?r=Promise.resolve(void 0):r=new Promise(function(c){return n.onnext=c})}else typeof n.buffer<"u"&&!n.buffer.full?(n.buffer.add(t),r=Promise.resolve(void 0)):r=new Promise(function(c){return n.pushes.push({resolve:c,value:t})});var s=!0,i={},l=r.catch(function(c){if(s)throw c});return i.then=function(c,o){return s=!1,Promise.prototype.then.call(r,c,o)},i.catch=function(c){return s=!1,Promise.prototype.catch.call(r,c)},i.finally=r.finally.bind(r),n.pending=t.then(function(){return l}).catch(function(c){n.err=c,lr(n)}),i}function Ys(n){var e=Zn.bind(null,n),t=new Promise(function(r){return n.onstop=r});return e.then=t.then.bind(t),e.catch=t.catch.bind(t),e.finally=t.finally.bind(t),e}function Xs(n){if(!(n.state>=or)){n.state=or;var e=Qs.bind(null,n),t=Ys(n);n.execution=new Promise(function(r){return r(n.executor(e,t))}),n.execution.catch(function(){return Zn(n)})}}var Tt=new WeakMap,kt=function(){function n(e,t){Tt.set(this,{executor:e,buffer:t,err:void 0,state:un,pushes:[],nexts:[],pending:void 0,execution:void 0,onnext:$t,onstop:$t})}return n.prototype.next=function(e){Fn(e);var t=Tt.get(this);if(t===void 0)throw new Error("WeakMap error");if(t.nexts.length>=Ut)throw new ra("No more than "+Ut+" pending calls to next are allowed on a single repeater.");if(t.state<=un&&Xs(t),t.onnext(e),typeof t.buffer<"u"&&!t.buffer.empty){var r=Je(t,t.buffer.remove());if(t.pushes.length){var a=t.pushes.shift();t.buffer.add(a.value),t.onnext=a.resolve}return r}else if(t.pushes.length){var s=t.pushes.shift();return t.onnext=s.resolve,Je(t,s.value)}else if(t.state>=qe)return vt(t),Je(t,at(t));return new Promise(function(i){return t.nexts.push({resolve:i,value:e})})},n.prototype.return=function(e){Fn(e);var t=Tt.get(this);if(t===void 0)throw new Error("WeakMap error");return vt(t),t.execution=Promise.resolve(t.execution).then(function(){return e}),Je(t,at(t))},n.prototype.throw=function(e){var t=Tt.get(this);if(t===void 0)throw new Error("WeakMap error");return t.state<=un||t.state>=qe||typeof t.buffer<"u"&&!t.buffer.empty?(vt(t),t.err==null&&(t.err=e),Je(t,at(t))):this.next(Promise.reject(e))},n.prototype[Symbol.asyncIterator]=function(){return this},n.race=ei,n.merge=ti,n.zip=ni,n.latest=ri,n}();function tn(n,e){var t,r,a=[],s=function(o){o!=null&&typeof o[Symbol.asyncIterator]=="function"?a.push(o[Symbol.asyncIterator]()):o!=null&&typeof o[Symbol.iterator]=="function"?a.push(o[Symbol.iterator]()):a.push(function(){return Ws(this,arguments,function(){return ze(this,function(f){switch(f.label){case 0:return e.yieldValues?[4,Ft(o)]:[3,3];case 1:return[4,f.sent()];case 2:f.sent(),f.label=3;case 3:return e.returnValues?[4,Ft(o)]:[3,5];case 4:return[2,f.sent()];case 5:return[2]}})})}())};try{for(var i=it(n),l=i.next();!l.done;l=i.next()){var c=l.value;s(c)}}catch(o){t={error:o}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return a}function ei(n){var e=this,t=tn(n,{returnValues:!0});return new kt(function(r,a){return st(e,void 0,void 0,function(){var s,i,l,c,o,u;return ze(this,function(d){switch(d.label){case 0:if(!t.length)return a(),[2];i=!1,a.then(function(){s(),i=!0}),d.label=1;case 1:d.trys.push([1,,5,7]),c=void 0,o=0,u=function(){var f,h,b,m,g,v;return ze(this,function(y){switch(y.label){case 0:f=o;try{for(h=(g=void 0,it(t)),b=h.next();!b.done;b=h.next())m=b.value,Promise.resolve(m.next()).then(function(p){p.done?(a(),l===void 0&&(l=p)):o===f&&(o++,s(p))},function(p){return a(p)})}catch(p){g={error:p}}finally{try{b&&!b.done&&(v=h.return)&&v.call(h)}finally{if(g)throw g.error}}return[4,new Promise(function(p){return s=p})];case 1:return c=y.sent(),c===void 0?[3,3]:[4,r(c.value)];case 2:y.sent(),y.label=3;case 3:return[2]}})},d.label=2;case 2:return i?[3,4]:[5,u()];case 3:return d.sent(),[3,2];case 4:return[2,l&&l.value];case 5:return a(),[4,Promise.race(t.map(function(f){return f.return&&f.return()}))];case 6:return d.sent(),[7];case 7:return[2]}})})})}function ti(n){var e=this,t=tn(n,{yieldValues:!0});return new kt(function(r,a){return st(e,void 0,void 0,function(){var s,i,l,c=this;return ze(this,function(o){switch(o.label){case 0:if(!t.length)return a(),[2];s=[],i=!1,a.then(function(){var u,d;i=!0;try{for(var f=it(s),h=f.next();!h.done;h=f.next()){var b=h.value;b()}}catch(m){u={error:m}}finally{try{h&&!h.done&&(d=f.return)&&d.call(f)}finally{if(u)throw u.error}}}),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,Promise.all(t.map(function(u,d){return st(c,void 0,void 0,function(){var f,h;return ze(this,function(b){switch(b.label){case 0:b.trys.push([0,,6,9]),b.label=1;case 1:return i?[3,5]:(Promise.resolve(u.next()).then(function(m){return s[d](m)},function(m){return a(m)}),[4,new Promise(function(m){s[d]=m})]);case 2:return f=b.sent(),f===void 0?[3,4]:f.done?(l=f,[2]):[4,r(f.value)];case 3:b.sent(),b.label=4;case 4:return[3,1];case 5:return[3,9];case 6:return h=u.return,h?[4,u.return()]:[3,8];case 7:h=b.sent(),b.label=8;case 8:return[7];case 9:return[2]}})})}))];case 2:return o.sent(),[2,l&&l.value];case 3:return a(),[7];case 4:return[2]}})})})}function ni(n){var e=this,t=tn(n,{returnValues:!0});return new kt(function(r,a){return st(e,void 0,void 0,function(){var s,i,l,c;return ze(this,function(o){switch(o.label){case 0:if(!t.length)return a(),[2,[]];i=!1,a.then(function(){s(),i=!0}),o.label=1;case 1:o.trys.push([1,,6,8]),o.label=2;case 2:return i?[3,5]:(Promise.all(t.map(function(u){return u.next()})).then(function(u){return s(u)},function(u){return a(u)}),[4,new Promise(function(u){return s=u})]);case 3:return l=o.sent(),l===void 0?[2]:(c=l.map(function(u){return u.value}),l.some(function(u){return u.done})?[2,c]:[4,r(c)]);case 4:return o.sent(),[3,2];case 5:return[3,8];case 6:return a(),[4,Promise.all(t.map(function(u){return u.return&&u.return()}))];case 7:return o.sent(),[7];case 8:return[2]}})})})}function ri(n){var e=this,t=tn(n,{yieldValues:!0,returnValues:!0});return new kt(function(r,a){return st(e,void 0,void 0,function(){var s,i,l,c,o,u=this;return ze(this,function(d){switch(d.label){case 0:if(!t.length)return a(),[2,[]];i=[],l=!1,a.then(function(){var f,h;s();try{for(var b=it(i),m=b.next();!m.done;m=b.next()){var g=m.value;g()}}catch(v){f={error:v}}finally{try{m&&!m.done&&(h=b.return)&&h.call(b)}finally{if(f)throw f.error}}l=!0}),d.label=1;case 1:return d.trys.push([1,,5,7]),Promise.all(t.map(function(f){return f.next()})).then(function(f){return s(f)},function(f){return a(f)}),[4,new Promise(function(f){return s=f})];case 2:return c=d.sent(),c===void 0?[2]:(o=c.map(function(f){return f.value}),c.every(function(f){return f.done})?[2,o]:[4,r(o.slice())]);case 3:return d.sent(),[4,Promise.all(t.map(function(f,h){return st(u,void 0,void 0,function(){var b;return ze(this,function(m){switch(m.label){case 0:if(c[h].done)return[2,c[h].value];m.label=1;case 1:return l?[3,4]:(Promise.resolve(f.next()).then(function(g){return i[h](g)},function(g){return a(g)}),[4,new Promise(function(g){return i[h]=g})]);case 2:return b=m.sent(),b===void 0?[2,c[h].value]:b.done?[2,b.value]:(o[h]=b.value,[4,r(o.slice())]);case 3:return m.sent(),[3,1];case 4:return[2]}})})}))];case 4:return[2,d.sent()];case 5:return a(),[4,Promise.all(t.map(function(f){return f.return&&f.return()}))];case 6:return d.sent(),[7];case 7:return[2]}})})})}const qt=class qt{constructor(){F(this,"_extraRequestThreshold",262144)}extraRequestThreshold(){return this._extraRequestThreshold}setExtraRequestThreshold(e){if(e<0)throw Error("extraRequestThreshold cannot be negative");this._extraRequestThreshold=e}};F(qt,"global",new qt);let Zt=qt;const ai=40,si=16;function Jn(n,e){e=Math.min(Math.max(+e,2),65535);let t=n,r=t;do r+=t=Math.ceil(t/e);while(t!==1);return 40*r}function ii(n,e){if(e<2)throw Error("Node size must be at least 2");if(n===0)throw Error("Number of items must be greater than 0");let t=n,r=t,a=[t];do r+=t=Math.ceil(t/e),a.push(t);while(t!==1);let s=[];for(let l of(t=r,a))s.push(t-l),t-=l;let i=[];for(let l=0;l<a.length;l++)i.push([s[l],s[l]+a[l]]);return i}async function*oi(n,e,t,r){class a{constructor(h,b){F(this,"_level");F(this,"nodes");this._level=b,this.nodes=h}level(){return this._level}startNodeIdx(){return this.nodes[0]}endNodeIdx(){return this.nodes[1]}extendEndNodeIdx(h){this.nodes[1]=h}toString(){return`[NodeRange level: ${this._level}, nodes: ${this.nodes[0]}-${this.nodes[1]}]`}}let{minX:s,minY:i,maxX:l,maxY:c}=t,o=ii(n,e),u=o[0][0],d=[new a([0,1],o.length-1)];for(;d.length!==0;){let f=d.shift(),h=f.startNodeIdx(),b=h>=u,m=(()=>{let[,y]=o[f.level()],p=Math.min(f.endNodeIdx()+e,y);return b&&p<y?p+1:p})(),g=m-h,v=new DataView(await r(40*h,40*g));for(let y=h;y<m;y++){let p=y-h,A=40*p;if(l<v.getFloat64(A+0,!0)||c<v.getFloat64(A+8,!0)||s>v.getFloat64(A+16,!0)||i>v.getFloat64(A+24,!0))continue;let x=v.getBigUint64(A+32,!0);if(b){let w=(()=>{if(y<n-1){let O=(p+1)*40;return v.getBigUint64(O+32,!0)-x}return null})(),j=y-u;yield[Number(x),j,Number(w)];continue}let R=Zt.global.extraRequestThreshold()/40,C=d[d.length-1];if(C!==void 0&&C.level()===f.level()-1&&x<C.endNodeIdx()+R){C.extendEndNodeIdx(Number(x));continue}let P=(()=>{let w=f.level()-1;return new a([Number(x),Number(x)+1],w)})();C!==void 0&&(C.level(),P.level()),d.push(P)}}}class Vn{constructor(e,t,r,a,s){F(this,"headerClient");F(this,"header");F(this,"headerLength");F(this,"indexLength");F(this,"nocache");this.headerClient=e,this.header=t,this.headerLength=r,this.indexLength=a,this.nocache=s}static async open(e,t){let r,a=new cr(e,t),s=2024+(()=>{let o,u=0;for(o=0;o<3;o++)u+=si**o*ai;return u})();if(!new Uint8Array(await a.getRange(0,8,s,"header")).subarray(0,3).every((o,u)=>He[u]===o))throw Error("Not a FlatGeobuf file");if((r=new DataView(await a.getRange(8,4,s,"header")).getUint32(0,!0))>10485760||r<8)throw Error("Invalid header size");let i=await a.getRange(12,r,s,"header"),l=$n(new Be(new Uint8Array(i))),c=Jn(l.featuresCount,l.indexNodeSize);return new Vn(a,l,r,c,t)}async*selectBbox(e){let t=this.lengthBeforeTree(),r=this.headerClient,a=async(c,o)=>r.getRange(t+c,o,0,"index"),s=[],i=[];for await(let c of oi(this.header.featuresCount,this.header.indexNodeSize,e,a)){let[o,u]=c,[,,d]=c;if(d||(d=4),i.length===0){i.push([o,d,u]);continue}let f=i[i.length-1];o-(f[0]+f[1])>Zt.global.extraRequestThreshold()&&(s.push(i),i=[]),i.push([o,d,u])}this.headerClient.logUsage("header+index"),i.length>0&&s.push(i);let l=s.flatMap(c=>this.readFeatureBatch(c,this.nocache));yield*kt.merge(l)}lengthBeforeTree(){return He.length+Ce+this.headerLength}lengthBeforeFeatures(){return this.lengthBeforeTree()+this.indexLength}buildFeatureClient(e){return new cr(this.headerClient.httpClient,e)}async*readFeatureBatch(e,t){let[r]=e[0],[a,s]=e[e.length-1],i=this.buildFeatureClient(t),l=a+s-r;for(let[c,,o]of e){let u=await this.readFeature(i,c,l);yield{id:o,feature:u},l=0}i.logUsage("feature")}async readFeature(e,t,r){let a,s=t+this.lengthBeforeFeatures();a=new DataView(await e.getRange(s,4,r,"feature length")).getUint32(0,!0);let i=new Uint8Array(await e.getRange(s+4,a,r,"feature data")),l=new Uint8Array(a+Ce);l.set(i,Ce);let c=new Be(l);return c.setPosition(Ce),Ee.getRootAsFeature(c)}}class cr{constructor(e,t){F(this,"httpClient");F(this,"bytesEverUsed",0);F(this,"bytesEverFetched",0);F(this,"buffer",new ArrayBuffer(0));F(this,"head",0);if(typeof e=="string")this.httpClient=new ur(e,t);else if(e instanceof ur)this.httpClient=e;else throw Error("Unknown source ")}async getRange(e,t,r,a){this.bytesEverUsed+=t;let s=e-this.head,i=s+t;if(s>=0&&i<=this.buffer.byteLength)return this.buffer.slice(s,i);let l=Math.max(t,r);return this.bytesEverFetched+=l,this.buffer=await this.httpClient.getRange(e,l,a),this.head=e,this.buffer.slice(0,t)}logUsage(e){e.split(" ")[0],(100*this.bytesEverUsed/this.bytesEverFetched).toFixed(2)}}class ur{constructor(e,t){F(this,"url");F(this,"nocache");F(this,"requestsEverMade",0);F(this,"bytesEverRequested",0);this.url=e,this.nocache=t}async getRange(e,t,r){this.requestsEverMade+=1,this.bytesEverRequested+=t;let a={Range:`bytes=${e}-${e+t-1}`};return this.nocache&&(a["Cache-Control"]="no-cache, no-store"),await(await fetch(this.url,{headers:a})).arrayBuffer()}}function fn(n,e){let t=[];for(let r=0;r<n.length;r+=2){let a=[n[r],n[r+1]];e&&a.push(e[r>>1]),t.push(a)}return t}new TextEncoder;let fr=new TextDecoder;function li(n,e){let t={};if(!e||e.length===0)return t;let r=n.propertiesArray();if(!r)return t;let a=new DataView(r.buffer,r.byteOffset),s=n.propertiesLength(),i=0;for(;i<s;){let l=a.getUint16(i,!0);i+=2;let c=e[l],o=c.name;switch(c.type){case Y.Bool:t[o]=!!a.getUint8(i),i+=1;break;case Y.Byte:t[o]=a.getInt8(i),i+=1;break;case Y.UByte:t[o]=a.getUint8(i),i+=1;break;case Y.Short:t[o]=a.getInt16(i,!0),i+=2;break;case Y.UShort:t[o]=a.getUint16(i,!0),i+=2;break;case Y.Int:t[o]=a.getInt32(i,!0),i+=4;break;case Y.UInt:t[o]=a.getUint32(i,!0),i+=4;break;case Y.Long:t[o]=Number(a.getBigInt64(i,!0)),i+=8;break;case Y.ULong:t[o]=Number(a.getBigUint64(i,!0)),i+=8;break;case Y.Float:t[o]=a.getFloat32(i,!0),i+=4;break;case Y.Double:t[o]=a.getFloat64(i,!0),i+=8;break;case Y.DateTime:case Y.String:{let u=a.getUint32(i,!0);i+=4,t[o]=fr.decode(r.subarray(i,i+u)),i+=u;break}case Y.Json:{let u=a.getUint32(i,!0);i+=4;let d=fr.decode(r.subarray(i,i+u));t[o]=JSON.parse(d),i+=u;break}case Y.Binary:{let u=a.getUint32(i,!0);i+=4,t[o]=r.subarray(i,i+u),i+=u;break}default:throw Error(`Unknown type ${c.type}`)}}return t}function ci(n,e,t){if(!n.subarray(0,3).every((u,d)=>He[d]===u))throw Error("Not a FlatGeobuf file");let r=new Be(n),a=r.readUint32(He.length);r.setPosition(He.length+Ce);let s=$n(r),i=He.length+Ce+a,{indexNodeSize:l,featuresCount:c}=s;l>0&&(i+=Jn(c,l));let o=[];for(;i<r.capacity();){let u=r.readUint32(i);r.setPosition(i+Ce);let d=Ee.getRootAsFeature(r);o.push(e(o.length,d,s)),i+=Ce+u}return o}async function*ui(n,e,t){let r,a=Hs(n),s=async h=>await a.slice(h),i=new Uint8Array(await s(8));if(!i.subarray(0,3).every((h,b)=>He[b]===h))throw Error("Not a FlatGeobuf file");i=new Uint8Array(await s(4));let l=new Be(i),c=l.readUint32(0);i=new Uint8Array(await s(c));let o=$n(l=new Be(i)),{indexNodeSize:u,featuresCount:d}=o;if(u>0){let h=Jn(d,u);await s(h)}let f=0;for(;r=await di(s,o,e,f++);)yield r}async function*fi(n,e,t,r,a=!1){let s=await Vn.open(n,a);for await(let i of s.selectBbox(e))yield t(i.id,i.feature,s.header)}async function di(n,e,t,r){let a=new Uint8Array(await n(4,"feature length"));if(a.byteLength===0)return;let s=new Be(a),i=s.readUint32(0);a=new Uint8Array(await n(i,"feature data"));let l=new Uint8Array(i+4);return l.set(a,4),(s=new Be(l)).setPosition(Ce),t(r,Ee.getRootAsFeature(s),e)}const bi={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class aa{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||bi[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const At=6378137,nt=Math.PI*At,hi=[-nt,-nt,nt,nt],mi=[-180,-85,180,85],It=At*Math.log(Math.tan(Math.PI/2));class et extends aa{constructor(e){super({code:e,units:"m",extent:hi,global:!0,worldExtent:mi,getPointResolution:function(t,r){return t/Math.cosh(r[1]/At)}})}}const dr=[new et("EPSG:3857"),new et("EPSG:102100"),new et("EPSG:102113"),new et("EPSG:900913"),new et("http://www.opengis.net/def/crs/EPSG/0/3857"),new et("http://www.opengis.net/gml/srs/epsg.xml#3857")];function gi(n,e,t,r){const a=n.length;t=t>1?t:2,r=r??t,e===void 0&&(t>2?e=n.slice():e=new Array(a));for(let s=0;s<a;s+=r){e[s]=nt*n[s]/180;let i=At*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));i>It?i=It:i<-It&&(i=-It),e[s+1]=i}return e}function _i(n,e,t,r){const a=n.length;t=t>1?t:2,r=r??t,e===void 0&&(t>2?e=n.slice():e=new Array(a));for(let s=0;s<a;s+=r)e[s]=180*n[s]/nt,e[s+1]=360*Math.atan(Math.exp(n[s+1]/At))/Math.PI-90;return e}const pi=6378137,br=[-180,-90,180,90],yi=Math.PI*pi/180;class Ze extends aa{constructor(e,t){super({code:e,units:"degrees",extent:br,axisOrientation:t,global:!0,metersPerUnit:yi,worldExtent:br})}}const hr=[new Ze("CRS:84"),new Ze("EPSG:4326","neu"),new Ze("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ze("urn:ogc:def:crs:OGC:2:84"),new Ze("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Ze("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ze("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let dn={};function Jt(n,e,t){const r=n.getCode(),a=e.getCode();r in dn||(dn[r]={}),dn[r][a]=t}function sa(n,e){if(e!==void 0){for(let t=0,r=n.length;t<r;++t)e[t]=n[t];e=e}else e=n.slice();return e}function vi(n){n.getCode(),Jt(n,n,sa)}function xi(n){n.forEach(vi)}function mr(n){xi(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Jt(e,t,sa)})})}function wi(n,e,t,r){n.forEach(function(a){e.forEach(function(s){Jt(a,s,t),Jt(s,a,r)})})}function Fi(){mr(dr),mr(hr),wi(hr,dr,gi,_i)}Fi();function kn(n,e){let t=e;if(t===re.Unknown&&(t=n.type()),t===re.GeometryCollection){let a=[];for(let s=0;s<n.partsLength();s++){let i=n.parts(s),l=i.type();a.push(kn(i,l))}return{type:re[t],geometries:a}}if(t===re.MultiPolygon){let a=[];for(let s=0;s<n.partsLength();s++)a.push(kn(n.parts(s),re.Polygon));return{type:re[t],coordinates:a.map(s=>s.coordinates)}}let r=function(a,s){let i=a.xyArray(),l=a.zArray();switch(s){case re.Point:{let c=Array.from(i);return l&&c.push(l[0]),c}case re.MultiPoint:case re.LineString:return fn(i,l);case re.MultiLineString:case re.Polygon:return function(c,o,u){let d;if(!u||u.length===0)return[fn(c,o)];let f=0,h=Array.from(u).map(b=>c.slice(f,f=b<<1));return o&&(f=0,d=Array.from(u).map(b=>o.slice(f,f=b))),h.map((b,m)=>fn(b,d?d[m]:void 0))}(i,l,a.endsArray())}}(n,t);return{type:re[t],coordinates:r}}function Gn(n,e,t){let r=t.columns;return{type:"Feature",id:n,geometry:kn(e.geometry(),t.geometryType),properties:li(e,r)}}function Ei(n,e){return{type:"FeatureCollection",features:ci(n,Gn)}}function ki(n,e){return ui(n,Gn)}function Ai(n,e,t,r=!1){return fi(n,e,Gn,t,r)}function Pi(n,e,t,r=!1){return n instanceof Uint8Array?Ei(n):n instanceof ReadableStream?ki(n):Ai(n,e,t,r)}const be={type:"basemap",opacity:1,visible:!0,preset:"default",hueRotate:0,brightnessMin:0,brightnessMax:1,saturation:0,contrast:0},ot={type:"categorical",opacity:.7,visible:!0,legend:{type:"category",name:"",colors:[""],labels:[""]}},$={type:"dem",opacity:1,visualization:{demType:"gsi",mode:"relief",uniformsData:{relief:{max:4e3,min:0,colorMap:"jet"},slope:{max:90,min:0,colorMap:"salinity"},aspect:{colorMap:"rainbow-soft"}}}},le={clickable:!1},Vt={type:"circle",opacity:.7,visible:!0,markerType:"circle",colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#ff00ea"}}]},radius:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:8}}]},outline:{show:!0,color:"#ffffff",width:2},labels:{key:"name",show:!1,expressions:[{key:"name",name:"name",value:"{name}"}]}},ia={type:"line",opacity:.7,visible:!0,colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#cf42cc"}}]},width:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:5}}]},lineStyle:"solid",labels:{key:"name",show:!1,expressions:[{key:"name",name:"name",value:"{name}"}]}},oa={type:"fill",opacity:.7,visible:!0,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c"}}]},outline:{show:!0,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"name",show:!1,expressions:[{key:"name",name:"name",value:"{name}"}]}},Di=n=>{const e=n.map(t=>({key:t,name:t,value:`{${t}}`}));return{key:n[0],show:!1,expressions:e}},nn={type:"match",key:"",name:"",mapping:{categories:["","","","","","","","","","","L","","","","",""],values:["#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4"],patterns:[null,null,null,null,null,null,null,null,null,null,null,null,"tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-light-200-black"]},noData:{value:"transparent",pattern:null}},Hn=[-180,-85.051128779807,180,85.051128779807],Ci=85.051128779807,Bi=-85.051128779807,Si=180,Ti=-180,pe=[122.933755,24.045713,153.986895,45.556277],lt=[139.326731,36.199924,140.291983,37.155039],ct=[138.915784,35.128768,139.798226,35.675618],Ii=[138.180108,35.168403,139.13438,35.971564],Mi=[137.325027,35.198461,138.739196,37.030423],Oi=[134.252809,34.156129,135.468591,35.674667],zi=[132.036485,34.034954,133.470397,35.106602],Ni=[132.017257,32.901919,133.692787,34.299619],ji=[138.55255031479942,37.10031545326591,139.24508261732308,37.76892107563275],Ki=[{name:"",bbox:[139.334302,41.35211,148.894833,45.556277]},{name:"",bbox:[139.860725,40.218604,141.68324,41.555998]},{name:"",bbox:[140.653166,38.747651,142.072461,40.449927]},{name:"",bbox:[140.274764,37.773252,141.675431,39.002776]},{name:"",bbox:[139.694597,38.874522,140.995425,40.511122]},{name:"",bbox:[139.539712,37.73383,140.646377,39.208476]},{name:"",bbox:[139.164746,36.791324,141.042336,37.976555]},{name:"",bbox:[139.687691,35.739138,140.851966,36.945225]},{name:"",bbox:[139.326731,36.199924,140.291983,37.155039]},{name:"",bbox:[138.397022,35.985419,139.668249,37.058627]},{name:"",bbox:[138.711401,35.753442,139.90032,36.281751]},{name:"",bbox:[139.739525,34.899595,140.870652,36.104157]},{name:"",bbox:[138.942865,24.224731,153.986895,35.898404]},{name:"",bbox:[138.915784,35.128768,139.798226,35.675618]},{name:"",bbox:[137.635121,36.736544,139.900012,38.553524]},{name:"",bbox:[136.768684,36.274308,137.763276,36.979692]},{name:"",bbox:[136.244148,36.067618,137.360649,37.855068]},{name:"",bbox:[135.449342,35.344187,136.832362,36.295361]},{name:"",bbox:[138.180108,35.168403,139.13438,35.971564]},{name:"",bbox:[137.325027,35.198461,138.739196,37.030423]},{name:"",bbox:[136.276225,35.133729,137.651936,36.465031]},{name:"",bbox:[137.474177,34.594644,139.176371,35.646621]},{name:"",bbox:[136.671033,34.578195,137.838064,35.424789]},{name:"",bbox:[135.853192,33.722879,136.987749,35.257953]},{name:"",bbox:[135.763805,34.79126,136.454846,35.70372]},{name:"",bbox:[134.853727,34.705754,136.054372,35.779277]},{name:"",bbox:[135.093449,34.271827,135.746596,35.051282]},{name:"",bbox:[134.252809,34.156129,135.468591,35.674667]},{name:"",bbox:[135.539726,33.858956,136.22982,34.781294]},{name:"",bbox:[134.999059,33.433595,136.013461,34.38446]},{name:"",bbox:[133.136116,35.057691,134.514725,35.614221]},{name:"",bbox:[131.667965,34.302497,133.385926,37.244272]},{name:"",bbox:[133.266987,34.2984,134.412698,35.352889]},{name:"",bbox:[132.036485,34.034954,133.470397,35.106602]},{name:"",bbox:[130.775059,33.712909,132.492149,34.798657]},{name:"",bbox:[133.660905,33.539632,134.820436,34.252034]},{name:"",bbox:[133.446605,34.012302,134.440441,34.564615]},{name:"",bbox:[132.017257,32.901919,133.692787,34.299619]},{name:"",bbox:[132.479888,32.702505,134.31367,33.882997]},{name:"",bbox:[130.032703,33.000004,131.190597,34.249456]},{name:"",bbox:[129.740621,32.950517,130.542127,33.618923]},{name:"",bbox:[128.34462,31.988773,130.380232,34.707891]},{name:"",bbox:[129.963357,32.094995,131.328424,33.195128]},{name:"",bbox:[130.823676,32.714503,132.085332,33.740236]},{name:"",bbox:[130.703426,31.360721,131.882746,32.837348]},{name:"",bbox:[128.395452,27.01874,131.205448,32.307013]},{name:"",bbox:[122.933755,24.045713,131.332068,27.885401]},{name:"",bbox:[139.164746,36.791324,142.072461,41.555998]},{name:"",bbox:[136.83845019821013,35.5104054980036,136.97907453990035,35.65244055693736]},{name:"",bbox:pe},{name:"",bbox:Hn},{name:"",bbox:[136.91278,35.543576,136.92986,35.556704]}];new Map(Ki.map(n=>[n.name,n.bbox]));const Ri={id:"ehime_ls_standtype",type:"raster",format:{type:"image",url:"https://rinya-ehime.geospatial.jp/tile/rinya/2024/ls_standtype_Ehime/{z}/{x}/{-y}.png"},metaData:{name:" ",attribution:"",location:"",tags:["","",""],minZoom:8,maxZoom:18,tileSize:256,bounds:Ni,downloadUrl:"https://www.geospatial.jp/ckan/dataset/ls_standtype_ehime",xyzImageTile:{x:227730,y:105126,z:18}},interaction:{...le},style:{...be}},Li=Object.freeze(Object.defineProperty({__proto__:null,default:Ri},Symbol.toStringTag,{value:"Module"})),Ui={id:"gifu_cs_map",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/21_gifu/csmap_2023/{z}/{x}/{y}.webp"},metaData:{name:" CS",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-gifu-maptiles",location:"",tags:["",""],minZoom:8,maxZoom:18,tileSize:256,xyzImageTile:{x:14424,y:6458,z:14},bounds:[136.1828594,34.9090933,137.8301219,36.7868122]},interaction:{...le},style:{...be}},$i=Object.freeze(Object.defineProperty({__proto__:null,default:Ui},Symbol.toStringTag,{value:"Module"})),Zi={id:"gifu_pref",type:"raster",format:{type:"image",url:"https://mapdata.qchizu.xyz/gifu_pref_00/{z}/{x}/{y}.png"},metaData:{name:" ",sourceDataName:"",attribution:"Q",downloadUrl:"https://maps.qchizu.xyz/#9/35.814472/137.059937/&base=std&ls=std%7Cgifu_pref_00&blend=0&disp=11&lcd=gifu_pref_00&vs=c1j0h0k0l0u0t0z0r0s0m0f1&d=m",location:"",tags:[""],minZoom:5,maxZoom:18,tileSize:256,xyzImageTile:Sr,bounds:[136.276225,35.133729,137.651936,36.465031]},interaction:{...le},style:{...be}},Ji=Object.freeze(Object.defineProperty({__proto__:null,default:Zi},Symbol.toStringTag,{value:"Module"})),Vi={id:"gsi_pre",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/pale/{z}/{x}/{y}.png"},metaData:{name:"",attribution:"",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#pale",location:"",tags:["",""],minZoom:1,maxZoom:18,tileSize:256,bounds:pe,xyzImageTile:We.zoom_15},interaction:{...le},style:{...be}},Gi=Object.freeze(Object.defineProperty({__proto__:null,default:Vi},Symbol.toStringTag,{value:"Module"})),Hi={id:"gsi_seamlessphoto",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/seamlessphoto/{z}/{x}/{y}.jpg"},metaData:{name:"",sourceDataName:"",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#seamlessphoto",attribution:"",location:"",tags:[""],minZoom:1,maxZoom:18,tileSize:256,xyzImageTile:We.zoom_15,bounds:pe},interaction:{...le},style:{...be}},qi=Object.freeze(Object.defineProperty({__proto__:null,default:Hi},Symbol.toStringTag,{value:"Module"})),Wi={id:"gsi_std",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png"},metaData:{name:"",attribution:"",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#std",location:"",tags:["",""],minZoom:1,maxZoom:18,tileSize:256,bounds:pe,xyzImageTile:We.zoom_15},interaction:{...le},style:{...be}},Qi=Object.freeze(Object.defineProperty({__proto__:null,default:Wi},Symbol.toStringTag,{value:"Module"})),Yi={id:"kanagawa_cs",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/14_kanagawa/csmap_2022/{z}/{x}/{y}.webp"},metaData:{name:" CS",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["",""],bounds:ct,downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-kanagawa-maptiles2",xyzImageTile:{x:29045,y:12933,z:15}},interaction:{...le},style:{...be}},Xi=Object.freeze(Object.defineProperty({__proto__:null,default:Yi},Symbol.toStringTag,{value:"Module"})),eo={id:"kanagawa_ls_standtype",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/14_kanagawa/ls_standtype_2020/{z}/{x}/{y}.webp"},metaData:{name:" ",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["","",""],bounds:ct,downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-kanagawa-maptiles2",xyzImageTile:{x:29045,y:12933,z:15}},interaction:{...le},style:{...be}},to=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),no={id:"kanagawa_rrim",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/14_kanagawa/rrim_2022/{z}/{x}/{y}.webp"},metaData:{name:" ",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["",""],bounds:ct,downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-kanagawa-maptiles",xyzImageTile:{x:29045,y:12933,z:15}},interaction:{...le},style:{...be}},ro=Object.freeze(Object.defineProperty({__proto__:null,default:no},Symbol.toStringTag,{value:"Module"})),ao={id:"nagano_cs",type:"raster",format:{type:"image",url:"https://tile.geospatial.jp/CS/VER2/{z}/{x}/{y}.png"},metaData:{name:" CS",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["",""],bounds:Mi,downloadUrl:"https://www.geospatial.jp/ckan/dataset/nagano-csmap",xyzImageTile:{x:28950,y:12852,z:15}},interaction:{...le},style:{...be}},so=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"})),io={id:"tochigi_cs",type:"raster",format:{type:"image",url:"https://rinya-tochigi.geospatial.jp/2023/rinya/tile/csmap/{z}/{x}/{y}.png"},metaData:{name:" CS",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["",""],bounds:lt,downloadUrl:"https://www.geospatial.jp/ckan/dataset/csmap_tochigi",xyzImageTile:{x:3635,y:1597,z:12}},interaction:{...le},style:{...be}},oo=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"})),lo={id:"tochigi_ls_standtype",type:"raster",format:{type:"image",url:"https://rinya-tochigi.geospatial.jp/2023/rinya/tile/ls_standtype/{z}/{x}/{y}.png"},metaData:{name:" ",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["","",""],bounds:lt,downloadUrl:"https://www.geospatial.jp/ckan/dataset/ls_standtype_tochigi",xyzImageTile:{x:3635,y:1597,z:12}},interaction:{...le},style:{...be}},co=Object.freeze(Object.defineProperty({__proto__:null,default:lo},Symbol.toStringTag,{value:"Module"})),uo={id:"ecoris_sugihinoki",type:"raster",format:{type:"image",url:"https://map.ecoris.info/tiles/sugihinoki/{z}/{x}/{y}.png"},metaData:{name:"",sourceDataName:" GIS",attribution:"",tags:[""],location:"",minZoom:5,maxZoom:15,tileSize:256,bounds:pe,downloadUrl:"https://map.ecoris.info/#contents",xyzImageTile:{x:450,y:201,z:9}},interaction:{clickable:!0},style:{...ot,legend:{type:"category",name:"",colors:["#FD4202","#B7FFFF","#FFFFFF"],labels:["","",""]}}},fo=Object.freeze(Object.defineProperty({__proto__:null,default:uo},Symbol.toStringTag,{value:"Module"})),bo={id:"ecoris_tanbo",type:"raster",format:{type:"image",url:"https://map.ecoris.info/tiles/tanbo/{z}/{x}/{y}.png"},metaData:{name:"",sourceDataName:" GIS",attribution:"",location:"",minZoom:5,maxZoom:15,tileSize:256,tags:[""],bounds:pe,downloadUrl:"https://map.ecoris.info/#contents",xyzImageTile:{x:3605,y:1615,z:12}},interaction:{clickable:!0},style:{...ot,legend:{type:"category",name:"",colors:["#02FF02"],labels:[""]}}},ho=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"})),mo={id:"ecoris_vege_6",type:"raster",format:{type:"image",url:"https://map.ecoris.info/tiles/vege67/{z}/{x}/{y}.png"},metaData:{name:"",sourceDataName:"67  GIS",attribution:"",downloadUrl:"https://map.ecoris.info/#contents",location:"",minZoom:5,maxZoom:15,tileSize:256,tags:[""],bounds:pe,xyzImageTile:{x:7211,y:3229,z:13}},interaction:{...le},style:{...ot,legend:{type:"category",name:"",colors:["#fdf1ce","#997f60","#a58f74","#178017","#5b9700","#003300","#004a00","#ffff00","#697720","#8cd27d","#868585","#99ffff","#cccc20","#69ff00","#999662"],labels:["","","","","","","","","","","","","","",""]}}},go=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"})),_o={id:"gifu_slope_map",type:"raster",format:{type:"image",url:"https://tiles.arcgis.com/tiles/jJQWqgqiNhLLjkin/arcgis/rest/services/Gifu_2021Slpoe_2022_07_25_15_54/MapServer/tile/{z}/{y}/{x}"},metaData:{name:" ",downloadUrl:"https://www.forest.rd.pref.gifu.lg.jp/shiyou/sinrinwebmap.html",attribution:"",location:"",tags:["",""],minZoom:1,maxZoom:18,tileSize:256,bounds:[136.1828594,34.9090933,137.8301219,36.7868122],xyzImageTile:{x:14424,y:6458,z:14}},interaction:{clickable:!0},style:{...ot,legend:{type:"category",name:"",colors:["#FFFFFF","#A2E0CB","#268F1E","#95E537","#E7E539","#E35CC2","#CC000D","#8F086A"],labels:["0 - 10","10.1 - 15","15.1 - 20","20.1 - 25","25.1 - 30","30.1 - 35","35.1 - 40","40.1"]}}},po=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"})),yo={id:"gsi_slopemap",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/slopemap/{z}/{x}/{y}.png"},metaData:{name:"",attribution:"",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#slopemap",location:"",tags:["",""],minZoom:3,maxZoom:15,tileSize:256,xyzImageTile:Sr,bounds:pe},interaction:{clickable:!0},style:{...ot,legend:{type:"gradient",name:"",colors:["#FFFFFF","#000000"],range:[0,90],unit:""}}},vo=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"})),N=za+"/landslide",xo={id:"landslide",type:"raster",format:{type:"image",url:"https://www.j-shis.bosai.go.jp/map/xyz/landslide/{z}/{x}/{y}.png"},metaData:{name:"",attribution:"",location:"",tags:["",""],minZoom:5,maxZoom:15,tileSize:256,bounds:pe,xyzImageTile:{z:13,x:7262,y:3214},downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#landslide"},interaction:{clickable:!1},style:{type:"categorical",opacity:.7,legend:{type:"image",categories:[{name:" ",urls:[`${N}/0.webp`,`${N}/1.webp`,`${N}/2.webp`,`${N}/3.webp`,`${N}/4.webp`,`${N}/5.webp`,`${N}/6.webp`,`${N}/7.webp`],labels:["","","","","","","",""]},{name:" ",urls:[`${N}/8.webp`,`${N}/9.webp`,`${N}/10.webp`,`${N}/11.webp`,`${N}/12.webp`,`${N}/13.webp`],labels:["","","","","",""]},{name:"",urls:[`${N}/14.webp`,`${N}/15.webp`,`${N}/16.webp`,`${N}/17.webp`,`${N}/18.webp`,`${N}/19.webp`,`${N}/20.webp`],labels:["","","","","","",""]},{name:"",urls:[`${N}/21.webp`,`${N}/22.webp`,`${N}/23.webp`,`${N}/24.webp`,`${N}/25.webp`,`${N}/26.webp`],labels:["","","","","",""]}]}}},wo=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"})),Fo={id:"",type:"raster",format:{type:"image",url:"https://rinya-tochigi.geospatial.jp/2023/rinya/tile/slopemap/{z}/{x}/{y}.png"},metaData:{name:" ",attribution:"",location:"",tags:[""],minZoom:8,maxZoom:15,tileSize:256,bounds:lt,downloadUrl:"https://www.geospatial.jp/ckan/dataset/slopemap_tochigi",xyzImageTile:{x:3635,y:1597,z:12}},interaction:{clickable:!0},style:{...ot,legend:{type:"category",name:"",colors:["#0000FE","#56FE01","#FFFF00","#FE0000"],labels:["0 - 15","15.1 - 30","30.1 - 35","35.1"]}}},Eo=Object.freeze(Object.defineProperty({__proto__:null,default:Fo},Symbol.toStringTag,{value:"Module"})),ko={id:"dchm_niigata_nagaoka",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/15_niigata/nagaoka/dchm_2024/{z}/{x}/{y}.png"},metaData:{name:" ",sourceDataName:"DCHM0.5m2024",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-dchm-nagaoka2024",attribution:"",tags:["","DCHM","","0.5m"],location:"",minZoom:8,maxZoom:18,tileSize:256,xyzImageTile:{x:116178,y:50794,z:17},bounds:ji},interaction:{clickable:!0},style:{...$,visualization:{...$.visualization,demType:"gsi",uniformsData:{...$.visualization.uniformsData,relief:{max:45,min:0,colorMap:"jet"}}}}},Ao=Object.freeze(Object.defineProperty({__proto__:null,default:ko},Symbol.toStringTag,{value:"Module"})),Po={id:"dem_10b",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/dem_png/{z}/{x}/{y}.png"},metaData:{name:" 10m",sourceDataName:" DEM10B",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#dem",attribution:"",tags:["DEM","","10m"],location:"",minZoom:1,maxZoom:14,tileSize:256,bounds:[122.935,20.425,153.986,45.551],xyzImageTile:We.zoom_7},interaction:{clickable:!0},style:{...$,visualization:{...$.visualization,demType:"gsi"}}},Do=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"})),Co={id:"dem_1a",type:"raster",format:{type:"image",url:"https://mapdata.qchizu.xyz/03_dem/52_gsi/all_2025/1_02/{z}/{x}/{y}.webp"},metaData:{name:" 1m",sourceDataName:"1mDEM",downloadUrl:"https://www.geospatial.jp/ckan/dataset/qchizu_94dem_99gsi",attribution:"Q",tags:["DEM","","1m"],location:"",minZoom:1,maxZoom:17,tileSize:256,bounds:[122.935,20.425,153.986,45.551],xyzImageTile:We.zoom_7},interaction:{clickable:!0},style:{...$,visualization:{...$.visualization,demType:"gsi"}}},Bo=Object.freeze(Object.defineProperty({__proto__:null,default:Co},Symbol.toStringTag,{value:"Module"})),So={id:"dem_5a",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/dem5a_png/{z}/{x}/{y}.png"},metaData:{name:" 5m",sourceDataName:" DEM5A",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#dem",attribution:"",tags:["DEM","","5m"],location:"",minZoom:1,maxZoom:15,tileSize:256,bounds:[122.935,20.425,153.986,45.551],xyzImageTile:We.zoom_7},interaction:{clickable:!0},style:{...$,visualization:{...$.visualization,demType:"gsi"}}},To=Object.freeze(Object.defineProperty({__proto__:null,default:So},Symbol.toStringTag,{value:"Module"})),Io={id:"dem_kanagawa",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/14_kanagawa/dem_2022/{z}/{x}/{y}.png"},metaData:{name:" ",sourceDataName:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-kanagawa-maptiles2",attribution:"",location:"",tags:["DEM","","0.5m"],minZoom:8,maxZoom:18,tileSize:256,bounds:ct,xyzImageTile:{x:7262,y:3230,z:13}},interaction:{clickable:!0},style:{...$,visualization:{...$.visualization,demType:"gsi",uniformsData:{...$.visualization.uniformsData,relief:{max:2e3,min:0,colorMap:"jet"}}}}},Mo=Object.freeze(Object.defineProperty({__proto__:null,default:Io},Symbol.toStringTag,{value:"Module"})),Oo={id:"tochigi_dem",type:"raster",format:{type:"image",url:"https://tiles.gsj.jp/tiles/elev/tochigi/{z}/{y}/{x}.png"},metaData:{name:" ",downloadUrl:"https://www.geospatial.jp/ckan/dataset/dem05_tochigi",attribution:"",location:"",tags:["DEM","","0.5m"],minZoom:2,maxZoom:18,tileSize:256,xyzImageTile:{x:3635,y:1597,z:12},bounds:lt},interaction:{clickable:!0},style:{...$,visualization:{...$.visualization,demType:"gsi",uniformsData:{...$.visualization.uniformsData,relief:{max:2600,min:0,colorMap:"jet"}}}}},zo=Object.freeze(Object.defineProperty({__proto__:null,default:Oo},Symbol.toStringTag,{value:"Module"})),No={id:"dem_tokyo",type:"raster",format:{type:"image",url:"https://tiles.gsj.jp/tiles/elev/tokyo/{z}/{y}/{x}.png"},metaData:{name:" ",downloadUrl:"https://tiles.gsj.jp/tiles/elev/tiles.html#h_tokyo",attribution:"",tags:["DEM","","0.25m"],location:"",minZoom:2,maxZoom:19,tileSize:256,bounds:[138.942922,32.440258,139.861054,35.898368],xyzImageTile:{x:3631,y:1612,z:12}},interaction:{clickable:!0},style:{...$,visualization:{...$.visualization,demType:"gsi"}}},jo=Object.freeze(Object.defineProperty({__proto__:null,default:No},Symbol.toStringTag,{value:"Module"})),Ko={id:"dem_yamanashi",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/19_yamanashi/dem_terrainRGB_2024/{z}/{x}/{y}.png"},metaData:{name:" ",sourceDataName:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-yamanashi-maptiles",attribution:"",location:"",tags:["DEM","","0.5m"],minZoom:8,maxZoom:18,tileSize:256,bounds:Ii,xyzImageTile:{x:14486,y:6449,z:14}},interaction:{clickable:!0},style:{...$,visualization:{...$.visualization,demType:"mapbox"}}},Ro=Object.freeze(Object.defineProperty({__proto__:null,default:Ko},Symbol.toStringTag,{value:"Module"})),Lo={id:"dsm_kanagawa",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/14_kanagawa/dsm_terrainRGB_2022/{z}/{x}/{y}.png"},metaData:{name:" ",sourceDataName:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-kanagawa-maptiles2",attribution:"",location:"",tags:["DSM","","0.5m"],minZoom:8,maxZoom:18,tileSize:256,bounds:ct,xyzImageTile:{x:7262,y:3230,z:13}},interaction:{clickable:!0},style:{...$,visualization:{...$.visualization,demType:"mapbox",uniformsData:{...$.visualization.uniformsData,relief:{max:2e3,min:0,colorMap:"jet"}}}}},Uo=Object.freeze(Object.defineProperty({__proto__:null,default:Lo},Symbol.toStringTag,{value:"Module"})),$o={id:"ensyurin_curvatoure",type:"raster",format:{type:"pmtiles",url:`${Na}/ensyurin_curvature.pmtiles`},metaData:{name:" ",description:"",attribution:"",location:"",tags:["",""],minZoom:14,maxZoom:16,tileSize:256,xyzImageTile:We.zoom_16,bounds:[136.91683974376355,35.540611389073774,136.9346116207808,35.55838201305548]},interaction:{clickable:!0},style:{...$,visualization:{...$.visualization,demType:"terrarium",mode:"relief",uniformsData:{relief:{...$.visualization.uniformsData.relief,max:5.3,min:-4.3,colorMap:"rdbu"}}}}},Zo=Object.freeze(Object.defineProperty({__proto__:null,default:$o},Symbol.toStringTag,{value:"Module"})),Jo={id:"ensyurin_road",type:"vector",format:{type:"fgb",geometryType:"LineString",url:`${Qe}/ensyurin_road.fgb`},metaData:{name:" ",description:"",attribution:"",location:"",tags:["",""],maxZoom:17,minZoom:8,bounds:[136.919335,35.546981,136.92684,35.555131],coverImage:`${Ne}/ensyurin_road.webp`,mapImage:`${H}/ensyurin_road.webp`,xyzImageTile:{x:115387,y:51671,z:17}},properties:{keys:["","_m"],titles:[]},interaction:{clickable:!0},style:{type:"line",opacity:.7,colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#cacaca"}},{type:"match",key:"",name:"",mapping:{categories:["",""],values:["#ffec42","#e0e0e0"]}}]},width:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:5}},{type:"match",key:"",name:"",mapping:{categories:["",""],values:[10,5]}}]},lineStyle:"solid",labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{}"},{key:"_m",name:"",value:"{_m} m"}]},default:{line:{paint:{},layout:{"line-cap":"round","line-join":"round"}},symbol:{paint:{},layout:{"text-size":10,"symbol-placement":"line","symbol-spacing":100}}}}},Vo=Object.freeze(Object.defineProperty({__proto__:null,default:Jo},Symbol.toStringTag,{value:"Module"})),Go={id:"ensyurin_kikenboku_h25",type:"vector",format:{type:"fgb",geometryType:"Point",url:`${Qe}/ensyurin_kikenboku_h25.fgb`},metaData:{name:" 2013",description:"",attribution:"",location:"",minZoom:10,maxZoom:22,tags:["",""],bounds:[136.919727,35.547376,136.92669,35.554887],coverImage:`${Ne}/ensyurin_kikenboku_h25.webp`,mapImage:`${H}/ensyurin_kikenboku_h25.webp`,xyzImageTile:{x:115387,y:51670,z:17}},properties:{keys:["",""],titles:[{conditions:[],template:"{} {}"}]},interaction:{clickable:!0},style:{type:"circle",opacity:.7,markerType:"circle",colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#ff0000"}}]},radius:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:8}}]},outline:{show:!0,color:"#ffffff",width:2},labels:{key:"name",show:!1,expressions:[{key:"name",name:"name",value:"{name}"}]}}},Ho=Object.freeze(Object.defineProperty({__proto__:null,default:Go},Symbol.toStringTag,{value:"Module"})),qo={id:"ensyurin_owl",type:"vector",format:{type:"fgb",geometryType:"Point",url:`${Qe}/ensyurin_owl.fgb`},metaData:{name:" ",description:"2021OWL",attribution:"",location:"",minZoom:10,maxZoom:22,tags:["",""],bounds:[136.920923,35.548695,136.921198,35.548997],xyzImageTile:{x:923099,y:413380,z:20},coverImage:`${Ne}/ensyurin_owl.webp`,mapImage:`${H}/ensyurin_owl.webp`},properties:{keys:["id","cm","m3","m","kg","m","2cmcm","2cm[kg]","","2cmm3","X","Y","cm","Z","cm","ID2"],titles:[{conditions:[""],template:"{}"},{conditions:[],template:"OWL"}]},interaction:{clickable:!0},style:{type:"circle",opacity:.7,markerType:"circle",colors:{show:!0,key:"m",expressions:[{type:"single",key:"",name:"",mapping:{value:"#e70000"}},{type:"step",key:"m",name:"",mapping:{scheme:"YlOrRd",range:[4,20],divisions:6}}]},radius:{key:"cm",expressions:[{type:"single",key:"",name:"",mapping:{value:8}},{type:"linear",key:"cm",name:"",mapping:{range:[7,42.5],values:[5,10]}}]},outline:{show:!0,color:"#ffffff",width:2},labels:{key:"cm",show:!1,expressions:[{key:"id",name:"id",value:"{id}"},{key:"cm",name:"",value:"{cm} cm"},{key:"m3",name:"",value:"{m3} m3"},{key:"m",name:"",value:"{m} m"},{key:"kg",name:"",value:"{kg}"},{key:"m",name:"",value:"{m}m"},{key:"2cmcm",name:"2cmcm",value:"{2cmcm}"},{key:"2cm[kg]",name:"",value:"{2cm[kg]} kg"},{key:"",name:"",value:"{}"},{key:"2cmm3",name:"2cm",value:"{2cmm3} m3"},{key:"cm",name:"",value:"{cm} cm"},{key:"cm",name:"",value:"{cm} cm"}]},default:{circle:{paint:{},layout:{}}}}},Wo=Object.freeze(Object.defineProperty({__proto__:null,default:qo},Symbol.toStringTag,{value:"Module"})),Qo={id:"ensyurin_pole",type:"vector",format:{type:"fgb",geometryType:"Point",url:`${Qe}/ensyurin_pole.fgb`},metaData:{name:"",description:"",attribution:"",location:"",tags:[""],maxZoom:17,minZoom:1,bounds:[136.919359,35.549761,136.926759,35.557836],xyzImageTile:{x:57693,y:25835,z:16},coverImage:`${ja}/pole_3.webp`,mapImage:`${H}/ensyurin_pole.webp`},properties:{keys:["name"],titles:[{conditions:["name"],template:"{name}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"circle",opacity:.7,markerType:"circle",colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#e70000"}}]},radius:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:8}}]},outline:{show:!0,color:"#ffffff",width:2},labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{name}"}]}}},Yo=Object.freeze(Object.defineProperty({__proto__:null,default:Qo},Symbol.toStringTag,{value:"Module"})),Xo={id:"fac_sisetuannaitou",type:"vector",format:{type:"fgb",geometryType:"Point",url:`${Qe}/fac_sisetuannaitou.fgb`},metaData:{name:"",description:"",attribution:"",location:"",minZoom:10,maxZoom:22,tags:[""],bounds:[136.917205,35.553612,136.919391,35.556191],xyzImageTile:{x:115386,y:51669,z:17},coverImage:`${Ne}/fac_sisetuannaitou.webp`,mapImage:`${H}/fac_sisetuannaitou.webp`},properties:{keys:[],titles:[{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"circle",opacity:.7,markerType:"circle",colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#834f00"}}]},radius:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:8}}]},outline:{show:!0,color:"#ffffff",width:2},labels:{key:"name",show:!1,expressions:[{key:"name",name:"name",value:"{name}"}]}}},el=Object.freeze(Object.defineProperty({__proto__:null,default:Xo},Symbol.toStringTag,{value:"Module"})),tl={id:"ensyurin_siken",type:"vector",format:{type:"fgb",geometryType:"Polygon",url:`${Qe}/ensyurin_siken.fgb`},metaData:{name:" ",description:"",attribution:"",location:"",maxZoom:17,minZoom:8,tags:[""],bounds:[136.920084,35.549852,136.925498,35.554401],coverImage:`${Ne}/ensyurin_siken.webp`,mapImage:`${H}/ensyurin_siken.webp`,xyzImageTile:{x:230774,y:103341,z:18}},properties:{keys:["","",""],titles:[{conditions:["",""],template:"{} {}"},{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.7,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#cab2d6"}}]},outline:{show:!0,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"",show:!0,expressions:[{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"}]}}},nl=Object.freeze(Object.defineProperty({__proto__:null,default:tl},Symbol.toStringTag,{value:"Module"})),rl={id:"ensyurin_syouhan",type:"vector",format:{type:"fgb",geometryType:"Polygon",url:`${Qe}/ensyurin_syouhan.fgb`},metaData:{name:" ",description:"",attribution:"",location:"",tags:["",""],maxZoom:17,minZoom:10,bounds:[136.91917,35.54692,136.926817,35.555122],mapImage:`${H}/ensyurin_syouhan.webp`,coverImage:`${Ne}/ensyurin_syouhan.webp`,xyzImageTile:{x:115387,y:51671,z:17}},properties:{keys:["ID","","","",""],titles:[{template:"{} {}",conditions:["",""]},{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#33a02c",pattern:null}},{type:"match",key:"",name:"",mapping:{categories:["","","","","","",""],values:["#33a02c","#b2df8a","#e31a1c","#1f78b4","#fdbf6f","#a6cee3","#fb9a99"],patterns:[null,null,null,null,null,null,null]}},{type:"match",key:"",name:"",mapping:{categories:[1,2,3],values:["#a6cee3","#1f78b4","#b2df8a"],patterns:[null,null,null]}},{type:"step",key:"",name:"",mapping:{scheme:"BuGn",range:[0,100],divisions:5}},{type:"step",key:"",name:"",mapping:{scheme:"Oranges",range:[0,1],divisions:5}}]},outline:{show:!0,color:"#ffffff",width:2,lineStyle:"dashed"},labels:{key:"",show:!0,expressions:[{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["match",["get",""],["","",""],["get",""],["concat",["get",""],""]]]},{key:"",name:"",value:"{} ha"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:["case",["all",["has",""],["!=",["get",""],""]],["concat",["get",""],""],""]},{key:"",name:"",value:["case",["all",["has",""],["!=",["get",""],""]],["concat",["get",""],""],""]}]}}},al=Object.freeze(Object.defineProperty({__proto__:null,default:rl},Symbol.toStringTag,{value:"Module"})),sl={id:"geological_survey",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://forestacdev.github.io/tiles-geological-survey/tiles/{z}/{x}/{y}.pbf"},metaData:{name:"",sourceDataName:"201V2",attribution:"",downloadUrl:"https://gbank.gsj.jp/seamless/use.html#use-webapi",location:"",tags:[""],minZoom:1,maxZoom:14,sourceLayer:"geological_survey",bounds:pe,xyzImageTile:{x:225,y:100,z:8},mapImage:`${H}/geological_survey.webp`},properties:{keys:["ser","symbol","","r","g","b","","formationAge","","group","","lithology"],titles:[{conditions:["symbol"],template:"{symbol}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"symbol",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#8f37e7",pattern:null}},{type:"match",key:"symbol",name:"symbol",mapping:{categories:["C13-J1_soh_J1","C13-J22_soh_J2","C13-P1_vbs_o_J1","C13-P1_vbs_o_P2","C13-P1_vbs_o_Tr","C13-P2_soh_P2","C13-P2_sol_P2","C13-Tr32_sol_J2","C13-Tr32_vbs_o_J2","C13-Tr_sol_J1","C1_som_Cb","C_sbl","C_sol","C_som","C_sosma","C_va_al","C_vb_al","Ca4-S_mgama_mag","Ca4-S_mgama_mam","Ca4-S_mgmpe_mag","Ca4-S_mgmpe_mam","Ca4-S_mgngr_mam","Ca4-S_mmgma_mag","Ca_pim_a","Ca_pin_a","D2-3_sol","D2-3_som","D2-3_sosma","D2-3_va_al","D3-P1_mscca_hg","D3-P1_mscfe_hlb","D3-P1_mscma_hab","D3-P1_mscma_hc","D3-P1_mscma_hg","D3-P1_mscma_hlb","D3-P1_mscpe_hab","D3-P1_mscpe_ham","D3-P1_mscpe_hc","D3-P1_mscpe_hg","D3-P1_mscpe_hlb","D3-P1_mscsi_hg","D3-P1_mscsi_hlb","D3-P1_msp_hc","D3-P1_msp_hg","D3-P1_msp_hlb","D3_soh_Cb","D3_vbs_o_Cb","H1_sol","H2_or","H2_sol","H_sad","H_sld","H_smd","H_ssd","H_svd","H_v_ad","H_vas_al","H_vas_ap","H_vbs_al","H_via_al","H_vis_al","J1-22_soc_J1","J1-22_som_J1","J1-22_sosma_J1","J1-22_soss_J1","J1-22_sx_J1","J1-2_pam_a","J1-2_pan_a","J1-2_pbd_a","J1-2_pbg_a","J1-2_pim_a","J1-2_pin_a","J1_sbc","J1_sbsm","J1_soc","J1_som","J1_sosma","J1_soss","J2-31_soc_J2","J2-31_som_J2","J2-31_sosma_J2","J2-31_soss_J2","J2-31_sx_J2","J24-K11_soc_J3","J24-K11_som_J3","J24-K11_sosma_J3","J24-K11_soss_J3","J24-K11_sx_J3","J2_sbsm","J2_soc","J2_som","J2_sosma","J2_soss","J3-K11_pb_o_Jb","J3-K11_pu_o_Jb","J3-K11_sx_Jb","J3-K11_vbs_o_Jb","J32-K111_vba_ol_Kn","J32-K12_sol_Kn","J33-K121_soh_K1","J33-K121_sol_K1","J33-K121_sor_K1","J33-K121_vbs_o_K1","J33-K212_soh_K2","J33-K212_sol_K2","J33-K212_sor_K2","J33-K212_vbs_o_K2","J3_sbc","J3_sbsm","J3_sbss","J3_snsmm","J3_snss","J3_soc","J3_sod","J3_soi","J3_sol","J3_som","J3_sosma","J3_soss","K1-211_vbs_o_KPg","K11-121_mscma_hlb","K11-121_msp_hlb","K111-113_sol_KPg","K112-121_mgama_ham","K112-121_mrga_ham","K112-121_mrps_hc","K112-121_mscma_hc","K112-121_mscpe_hc","K11_pbd_a","K11_pim_a","K11_pin_a","K11_sbc","K11_sbsm","K11_snc","K11_snsmm","K11_soc","K11_sod","K11_soi","K11_sol","K11_som","K11_sosma","K11_soss","K12-212_soc_K1","K12-212_som_K1","K12-212_somam_K1","K12-212_somas_K1","K12-212_soss_K1","K12-212_sx_K1","K12-212_va_ol_K1","K122-Pg12_mgama_hag","K122-Pg12_mgama_ham","K122-Pg12_mgama_hec","K122-Pg12_mmgma_hag","K122-Pg12_mpyma_hc","K122-Pg12_mpype_hc","K122-Pg12_mrbs_hc","K122-Pg12_mrch_hc","K122-Pg12_mrga_hc","K122-Pg12_mrga_hec","K122-Pg12_mrga_hg","K122-Pg12_mrhb_hc","K122-Pg12_mrls_hc","K122-Pg12_mrpr_hec","K122-Pg12_mrps_hc","K122-Pg12_mscca_hc","K122-Pg12_mscca_hec","K122-Pg12_msccg_hc","K122-Pg12_mscma_hab","K122-Pg12_mscma_hc","K122-Pg12_mscma_hec","K122-Pg12_mscma_hg","K122-Pg12_mscma_hob","K122-Pg12_mscpe_hab","K122-Pg12_mscpe_hc","K122-Pg12_mscpe_hec","K122-Pg12_mscpe_hg","K122-Pg12_mscpe_hob","K122-Pg12_mscps_hc","K122-Pg12_mscps_hec","K122-Pg12_mscsi_hab","K122-Pg12_mscsi_hc","K122-Pg12_mscsi_hec","K122-Pg12_mscsi_hg","K122-Pg12_mscsi_hob","K122-Pg12_msl_hc","K122-Pg12_msp_hab","K122-Pg12_msp_hc","K122-Pg12_msp_hg","K122-Pg12_msp_hob","K12_mgama_lgc","K12_mgama_lkc","K12_mgama_lks","K12_mgmpe_lgc","K12_mgmpe_lop","K12_mgngb_lgc","K12_mmgma_lgc","K12_mrls_lb","K12_msama_lb","K12_mscfe_lb","K12_mscma_lb","K12_mscpe_lb","K12_msgca_lgc","K12_msgca_lop","K12_msgul_lgc","K12_msgul_lks","K12_msmpe_lks","K12_msp_lb","K12_msp_lgc","K12_pam_a","K12_pbd_a","K12_pbg_a","K12_pim_a","K12_pin_a","K12_sbc","K12_sbsm","K12_sbss","K12_snc","K12_snsmm","K12_snss","K12_soc","K12_sol","K12_som","K12_son","K12_sosma","K12_soss","K12_vas_ai","K12_vas_al","K12_vas_ap","K12_vbs_al","K12_vis_ai","K12_vis_al","K2-Pg12_mgama_lkc","K2-Pg12_mggps_lgc","K2-Pg12_mggps_lkc","K2-Pg12_mggps_lks","K2-Pg12_mgmpe_lgc","K2-Pg12_mgmpe_lks","K2-Pg12_mgmps_lkc","K2-Pg12_mgmps_lks","K2-Pg12_mgmsi_lgc","K2-Pg12_mgnfe_lks","K2-Pg12_mgnsi_lks","K2-Pg12_mmgma_lgc","K2-Pg12_mmygd_dgs","K2-Pg12_mmypn_lb","K2-Pg12_mrbs_lb","K2-Pg12_mrch_lb","K2-Pg12_mrls_lb","K2-Pg12_mrps_lb","K2-Pg12_msama_lkc","K2-Pg12_mscma_lb","K2-Pg12_mscpe_lb","K2-Pg12_msgul_lkc","K2-Pg12_msl_lb","K2-Pg12_msmpe_lkc","K2-Pg12_msmpe_lks","K2-Pg12_msmsi_lkc","K2-Pg12_msmsi_lks","K2-Pg12_msnca_lkc","K2-Pg12_msnca_lks","K2-Pg12_msnpe_lkc","K211-212_sx_Kn","K212-22_soc_K2","K212-22_som_K2","K212-22_somam_K2","K212-22_somas_K2","K212-22_soss_K2","K212-22_sx_K2","K212-22_va_ol_K2","K214-Pg1_som_KPg","K214-Pg1_sosma_KPg","K214-Pg1_soss_KPg","K214-Pg1_sx_KPg","K21_pam_a","K21_pan_a","K21_pbd_a","K21_pbg_a","K21_pim_a","K21_pin_a","K21_sbc","K21_sbsm","K21_sbss","K21_snc","K21_snm","K21_snsmm","K21_snss","K21_soc","K21_sod","K21_sol","K21_som","K21_sosma","K21_soss","K21_vas_ai","K21_vas_al","K21_vas_ap","K21_vbs_ai","K21_vis_ai","K21_vis_al","K21_vis_ap","K22_pam_a","K22_pan_a","K22_pbd_a","K22_pbg_a","K22_pim_a","K22_pin_a","K22_sbsm","K22_sbss","K22_snc","K22_snm","K22_snsmm","K22_snss","K22_soc","K22_som","K22_sosma","K22_soss","K22_vas_ai","K22_vas_al","K22_vas_ap","K22_vba_al","K22_vis_ai","K22_vis_al","K22_vis_ap","K2_pu_a","K2_pu_o_Kp","K_som_Ki","K_soss_Ki","K_sx_Ki","N12-211_pb_a_N2","N12-211_sol_N2","N12-211_vba_ol_N2","N12-221_sama_N2","N12-221_som_N2","N12-221_sosma_N2","N12-221_soss_N2","N12-221_sx_N2","N12-221_vas_ol_N2","N12-221_vbs_o_N2","N122-221_vi_al_N2","N1_pam_a","N1_pbd_a","N1_pbg_a","N1_pim_a","N1_pin_a","N1_sbc","N1_sbm","N1_sbs","N1_snc","N1_snm","N1_sns","N1_soc","N1_sod","N1_soi","N1_som","N1_sosma","N1_soss","N1_vas_ai","N1_vas_al","N1_vas_ap","N1_vba_ai","N1_vbs_ai","N1_vbs_al","N1_via_ai","N1_via_al","N1_vis_ai","N1_vis_al","N21_pam_a","N21_pbd_a","N21_pbg_a","N21_pim_a","N222-32_somas_N3","N222-32_soss_N3","N22_pam_a","N22_pbd_a","N22_pim_a","N2_sbm","N2_sbs","N2_snc","N2_snm","N2_sns","N2_soc","N2_soi","N2_sol","N2_som","N2_son","N2_sosma","N2_soss","N2_vas_ai","N2_vas_al","N2_vas_ap","N2_vba_ai","N2_vba_al","N2_vbs_ai","N2_vbs_al","N2_via_ai","N2_via_al","N2_vis_ai","N2_vis_al","N2_vis_ap","N3_mscfe_lgs","N3_mscma_lgs","N3_pam_a","N3_pbd_a","N3_pbg_a","N3_pim_a","N3_sbc","N3_sbs","N3_snc","N3_sns","N3_soc","N3_soi","N3_sol","N3_som","N3_son","N3_sosma","N3_soss","N3_vaa_al","N3_vas_ai","N3_vas_al","N3_vas_ap","N3_vba_ai","N3_vba_al","N3_vbs_ai","N3_vbs_al","N3_via_al","N3_vis_ai","N3_vis_al","N3_vis_ap","O-S_pam_a","O-S_pan_a","O-S_pbd_a","O-S_pbg_a","O-S_pim_a","O-S_pin_a","O-S_pu_a","O-S_pu_o","O3-D1_soc","O3-D1_sol","O3-D1_som","O3-D1_va_al","O3-D1_vb_al","P12-J31_soh_J3","P12-J_sol_J3","P12-Tr32_vbs_o_J3","P1_soc","P1_sol","P1_som","P1_sosma","P1_soss","P2-3_som_P2","P2-3_sosma_P2","P2-3_soss_P2","P2-3_sx_P2","P2-3_va_ol_P2","P2-Tr32_soh_Tr","P2_soc","P2_sol","P2_som","P2_sosma","P2_soss","P2_va_al","P3-J2_vbs_o_Ki","P3-Tr32_sol_Ki","P3_soc","P3_som","P3_sosma","P3_soss","P_mgama_mam","P_pbd_a","P_pbg_a","P_pim_a","P_pin_a","P_pu_a","P_vb_al","Pg12-21_sor_Pg2","Pg12-21_vbs_o_Pg2","Pg13-22_pb_o_Pg4","Pg13-22_pu_o_Pg4","Pg13-41_vbs_o_Pg4","Pg14-3_soc_Pg2","Pg14-3_som_Pg2","Pg14-3_somam_Pg2","Pg14-3_somas_Pg2","Pg14-3_soss_Pg2","Pg14-3_sx_Pg2","Pg14-3_va_ol_Pg2","Pg1_pam_a","Pg1_pbd_a","Pg1_pbg_a","Pg1_pim_a","Pg1_pin_a","Pg1_sbc","Pg1_sbm","Pg1_sbs","Pg1_snc","Pg1_soc","Pg1_sod","Pg1_som","Pg1_sosma","Pg1_soss","Pg1_vas_ai","Pg1_vas_al","Pg1_vas_ap","Pg1_vis_ai","Pg1_vis_al","Pg2-3_sol_Pg4","Pg2-N121_mgama_lks","Pg2-N121_mgmpe_lgc","Pg2-N121_mgmpe_lop","Pg2-N121_mgnfe_lks","Pg2-N121_mmgma_lgc","Pg2-N121_mmgma_lop","Pg2-N121_mrga_lkc","Pg2-N121_mrpr_lkc","Pg2-N121_msama_lkc","Pg2-N121_mscma_lb","Pg2-N121_mscpe_lb","Pg2-N121_mscpe_lkc","Pg2-N121_msmpe_lkc","Pg2-N121_msmpe_lks","Pg22-N211_vba_ol_Pg4","Pg2_pam_a","Pg2_pbd_a","Pg2_pbg_a","Pg2_pim_a","Pg2_sbc","Pg2_sbm","Pg2_sbs","Pg2_snc","Pg2_snm","Pg2_sns","Pg2_soc","Pg2_sol","Pg2_som","Pg2_sosma","Pg2_soss","Pg2_vas_ai","Pg2_vas_al","Pg2_vas_ap","Pg2_vbs_ai","Pg2_vbs_al","Pg2_vis_al","Pg2_vis_ap","Pg3-4_soh_Pg4","Pg3_pam_a","Pg3_pbd_a","Pg3_pbg_a","Pg3_pim_a","Pg3_sbs","Pg3_snc","Pg3_sns","Pg3_soc","Pg3_soi","Pg3_sol","Pg3_som","Pg3_sosma","Pg3_soss","Pg3_vas_ai","Pg3_vas_al","Pg3_vas_ap","Pg3_vbs_al","Pg3_vis_al","Pg4-N211_soc_Pg4","Pg4-N211_som_Pg4","Pg4-N211_somam_Pg4","Pg4-N211_somas_Pg4","Pg4-N211_soss_Pg4","Pg4-N211_sx_Pg4","Pg4_pam_a","Pg4_pbd_a","Pg4_pim_a","Pg4_pu_a","Pg4_sbs","Pg4_snc","Pg4_sns","Pg4_soc","Pg4_sod","Pg4_soi","Pg4_som","Pg4_sosma","Pg4_soss","Pg4_vaa_al","Pg4_vas_ai","Pg4_vas_al","Pg4_vas_ap","Pg4_vbs_al","Pg4_vis_ai","Pg4_vis_al","Q1-21_sb","Q1-21_sn","Q1-21_so","Q1-2_sol","Q1-H_v_af","Q11_vaa_al","Q11_vas_ai","Q11_vas_al","Q11_vas_ap","Q11_vba_al","Q11_vbs_al","Q11_via_al","Q11_vis_al","Q11_vis_ap","Q12-H_se","Q12_vas_ai","Q12_vas_al","Q12_vas_ap","Q12_vba_al","Q12_vbs_ai","Q12_vbs_al","Q12_vis_ai","Q12_vis_al","Q1_pbd_a","Q1_pim_a","Q22-H_sdd","Q22_sb","Q22_sn","Q22_so","Q22_std","Q2_v_ad","Q2_vas_ai","Q2_vas_al","Q2_vas_ap","Q2_vba_al","Q2_vbs_al","Q2_vis_ai","Q2_vis_al","Q2_vis_ap","Q31_ssd","Q31_std","Q31_vas_ap","Q31_vis_ap","Q32-33_ssd","Q32-33_std","Q32-H_sgd","Q32_vas_ap","Q32_vis_ap","Q33-H_sfd","Q33_vas_ap","Q3_sb","Q3_sn","Q3_sol","Q3_v_ad","Q3_vas_al","Q3_vba_al","Q3_vbs_al","Q3_via_al","Q3_vis_al","Tr1-21_sbc","Tr1-21_sbsm","Tr1-21_sbss","Tr1-21_sol","Tr1-21_som","Tr1-21_sosma","Tr1-21_soss","Tr1-32_mgama_mam","Tr1-32_mgmpe_mag","Tr1-32_mgmpe_mam","Tr1-32_mgnfe_mam","Tr1-32_mmgma_mam","Tr1-32_mscpe_mam","Tr1-32_msgca_mam","Tr1-32_msgma_mam","Tr1-32_msmpe_mam","Tr2-3_soss_Tr","Tr2-3_sx_Tr","Tr22-3_sbm","Tr22-3_sbsm","Tr22-3_sbss","Tr22-3_soc","Tr22-3_sol","Tr22-3_som","Tr22-3_sosma","Tr22-3_soss","Tr22-J31_mpyma_hc","Tr22-J31_mpype_hc","Tr22-J31_mrbs_hc","Tr22-J31_mrch_hc","Tr22-J31_mrga_hc","Tr22-J31_mrls_hc","Tr22-J31_mrpr_hc","Tr22-J31_mrps_hc","Tr22-J31_mscca_hc","Tr22-J31_mscfe_hc","Tr22-J31_mscma_hc","Tr22-J31_mscma_hg","Tr22-J31_mscpe_hc","Tr22-J31_mscpe_hg","Tr22-J31_mscps_hc","Tr22-J31_mscps_hg","Tr22-J31_mscsi_hc","Tr22-J31_mscsi_hg","Tr22-J31_msp_hc","Tr22-J31_msp_hg","Tr32-K211_soh_Ki","Tr_pam_a","Tr_pan_a","Tr_pim_a"],values:["#EE9800","#F49800","#00AF00","#00A500","#00AA00","#E29800","#0064E9","#0082E9","#00B400","#0078E9","#52A8AC","#3F7FFF","#004EFF","#4A84A8","#6DC26E","#ED7CAD","#7B5D9C","#75005C","#75005A","#34002A","#4B0011","#E24856","#750071","#970002","#B90000","#0048FF","#417FA4","#67BF6E","#EC74A8","#0833E1","#FF7D14","#137100","#0B7100","#107100","#177100","#1B0C00","#1C0D01","#0F2E00","#332900","#01265E","#FA5F14","#FF6114","#4103A3","#4608A8","#4F11B1","#DC9800","#00A000","#8CC8FF","#F4DFCA","#8CB4FF","#E6FFFF","#C8F0FA","#D2FAFF","#FFFF96","#F5FFE6","#E6F5DC","#D93332","#FFB6E6","#70658F","#9D5B1D","#CB4800","#6E5F3F","#66B4B6","#C8CF1E","#E9E01B","#7C8A87","#CF5299","#CF52AD","#900F8F","#970E6C","#D12843","#DC142F","#C38344","#A7E7A8","#C38342","#79A2CC","#91D083","#CFCC00","#6E6543","#6DB8BA","#C7D328","#EBE224","#848F8B","#6E6B47","#74BCBD","#C6D732","#EDE42D","#8B948F","#ABEBAC","#C78746","#7DA7D0","#97D38A","#D3CF00","#971212","#7835B4","#637775","#009A7A","#825EB2","#00B4E9","#FF9800","#0096E9","#784800","#00BE00","#FD9D00","#00A0E9","#8C4800","#00C300","#CB8B4C","#AFEFB0","#F3EF2F","#AFEFAF","#EBE929","#CB8B4A","#6E6E6E","#BEA873","#007EFF","#81ACD4","#9DD591","#D7D200","#00D200","#157100","#4D0FAF","#00BEE9","#437100","#2F406C","#D2BE15","#097100","#006EE1","#951393","#DC3050","#E31739","#CF8F50","#B3F3B4","#CF8F4F","#B3F3B3","#CF8F4E","#787878","#C3AC78","#0084FF","#8DB1DC","#A3D898","#DDD900","#6E714B","#7ABFC0","#88BA93","#C5DB3C","#EFE636","#939993","#EEA4BE","#477100","#427100","#407100","#567100","#006F00","#438DD7","#007100","#E25F14","#00406C","#0D406C","#05406C","#38406C","#0823E1","#4C00A0","#D2BE14","#082BE1","#0845E1","#826514","#127100","#087100","#227100","#0D7100","#147100","#0067AC","#428CD6","#1A237D","#026BE8","#006795","#D2BE1C","#D2BE36","#FC5F14","#F25F14","#FF6C14","#F75F14","#FE5F14","#438DD8","#480AAA","#3E00A0","#4305A5","#4A0CAC","#750053","#75007D","#75004F","#D34714","#6F2014","#4A4975","#750068","#201DE1","#75001E","#E2481C","#75000D","#CB7F14","#441DE1","#481DE1","#8300A0","#7F00A0","#D25E14","#5214B4","#5D1FBF","#D778A3","#9A1797","#A1116F","#E7385D","#EA1A43","#D39354","#B7F7B8","#F9F737","#D39353","#B7F7B7","#EDE937","#D39352","#038AFF","#8DB6DF","#17B2C8","#A9DA9F","#E1DC00","#F25202","#FFC24D","#FFD1FF","#6048AA","#877C5F","#D67824","#75004B","#FFF600","#FFEF00","#FFF200","#D34700","#D56103","#FFDA00","#FFDD00","#E24860","#E24882","#E24844","#750067","#FFCC15","#CD8102","#750002","#E24801","#1F1DE1","#EAD700","#750021","#75000C","#CB7F00","#7B00A0","#CC8001","#CD6600","#D25E00","#E2482C","#E2482F","#361DE2","#361CE1","#CE6701","#A9A79F","#6E774F","#81C3C4","#92C49D","#C4DF46","#F1E83F","#9A9D97","#F2AEC3","#95CFCE","#C1EB64","#F7EE5A","#B1ABA3","#DB8BA8","#DB8BBC","#9F1B9B","#A61370","#F2406A","#F11D4D","#D79758","#BBFBBC","#FCFB3B","#D79757","#7CB0CD","#BBFBBB","#EEE93E","#D79756","#8C8C8C","#0790FF","#8DBBE2","#AFDDA6","#E5DF00","#F25802","#FFC752","#FFD3FA","#A2318B","#8F7C5F","#D98121","#D7A760","#DD9BAD","#DF9BC1","#A41F9F","#AB1472","#F43F65","#F32152","#BFFFC0","#FFFF3F","#DB9B5B","#82B5CE","#BFFFBF","#EFE945","#DB9B5A","#8DC0E5","#B5DFAD","#E9E200","#F25E02","#FFCB56","#FFD5F6","#9E3D8B","#977C5F","#DC8A1E","#D9AB68","#3A126F","#7D39B9","#88C7C7","#F3EA48","#A2A29B","#B72222","#00DCE9","#8276DF","#C1F5AA","#A9DBD8","#BEF782","#FDF475","#C7B9AF","#FECCD2","#00E100","#C39637","#DAACC2","#BE33B3","#C41C79","#FB3F4F","#FC336B","#F3CF8B","#AAD5D6","#FFFA53","#E6CF8B","#A3D0D4","#F7DE53","#FFCF8B","#C8C8C8","#EECEA3","#AEE2FA","#D6ECD4","#FFF246","#F27E02","#FFE56E","#FFE1DD","#904981","#8B5DA6","#7E8CC8","#A27161","#BF8C1E","#C27A61","#EDBC0E","#D9AFC6","#C337B7","#C91D7A","#FC3F4B","#BDFF8C","#FFF67E","#D8B1CB","#C83BBB","#FD3F47","#B2DFDC","#FFFA82","#E6E2AC","#AFDAD6","#FBE282","#FFE2AC","#F8D6AD","#3BFFFF","#BAECFE","#3BFFD7","#E2F1E2","#FFF582","#F28A02","#FFEF77","#FFE6D3","#974F86","#B57DA6","#846BAF","#869ED0","#B07061","#C59B21","#D27962","#F3CE08","#ECCEA2","#E24873","#750077","#D7B4CF","#CD3FBF","#D3207D","#FE3F43","#F3E8AA","#FFFABE","#E6E8AA","#FFE6BE","#FFE8AA","#FFDCB4","#78FFFF","#C3F3FF","#78FFD7","#EBF5EC","#FFF799","#DEDF61","#F29302","#FFF67F","#FFE9CD","#9C538D","#B98AAC","#7F75B5","#8CABD6","#C9A623","#DE7863","#F7DB03","#F0D7AE","#BF0085","#BF049E","#8B0B8B","#880864","#A4080F","#C00408","#29126F","#0E2A77","#A36323","#0042FF","#397AA0","#EB6CA3","#7B5695","#FA9800","#008CE9","#00B900","#AF6F2F","#0054FF","#5489B0","#73C46E","#C4BD0A","#59ACAF","#CAC70A","#E5DC09","#6D817F","#E69AB9","#E89800","#B37333","#005AFF","#548EB4","#79C76E","#C7C00A","#EF8CB7","#00C800","#00AAE9","#B77737","#5793B8","#7FC96E","#CAC30A","#75007E","#870787","#8E0B68","#BB1829","#CE0C1B","#32126F","#7B64A3","#A04800","#00D700","#AF1E1E","#823DBE","#00DC00","#6E8F5F","#9CD3D1","#9CCEA7","#C0EF6E","#F9F063","#B8B0A7","#F6B8C8","#DEA1B1","#A923A3","#B01673","#F63F60","#F52557","#F3985A","#98BEC9","#F8DF23","#E6985A","#FF985A","#A0A0A0","#93C8EC","#BBE2B4","#EFE900","#F26402","#FFD05A","#FFD7F1","#9F7B60","#DF931B","#00D2E9","#75004D","#A80054","#9A000C","#E24881","#750066","#75006A","#16406C","#5500A0","#750020","#75000B","#FF792B","#FB522F","#FF5633","#FF2331","#826ED0","#DDA4B5","#AE27A7","#B51775","#F83F5C","#F39E72","#9CC3CC","#F3EA26","#E69E72","#8EBFD0","#F1D841","#FF9E72","#1DB4FF","#99CDEF","#C1E4BB","#F3EB0D","#F26A02","#FFD55F","#FFDAED","#984598","#706CBA","#E29C18","#DEB477","#F3B600","#DCA7BA","#B42BAB","#BA1976","#F93F58","#F3ED35","#E6AF85","#F3DA47","#FFAF85","#E1C496","#1DC8FF","#9FD2F2","#C7E6C2","#F7ED19","#F27002","#FFDA63","#FFDCE8","#7475BE","#E5A515","#6E9563","#A2D7D5","#A6D8B1","#BFF378","#FBF26C","#C0B5AB","#DBA9BE","#B92FAF","#FA3F53","#4A126F","#F3F044","#E6BE85","#F5DC4D","#FFBE85","#BEBEBE","#E6C89B","#A5D7F5","#CDE9C9","#FBEF28","#DEB95C","#F27502","#FFDE68","#FFDEE3","#787EC2","#B67B60","#E8AE12","#FFFFD2","#FFFFDC","#E6FFD2","#9BDCFF","#FFFADC","#DED266","#EB8504","#FFDD78","#FFEBC8","#B67BA3","#869DC8","#C19720","#F7C707","#ECCCA8","#FFE6FF","#E47706","#F9C270","#FFE2CD","#B36C99","#7F5191","#818FBA","#B35A38","#E7A100","#BF35C5","#FF3F3F","#C8E6DC","#DCFFB4","#DCFFBE","#BEFFBE","#DCFF64","#E6EBB4","#DD6908","#F29B76","#FFD9D2","#B05D90","#7B81AB","#9E4B23","#D59400","#E3B59C","#EBFFAA","#C8FF7A","#FFD0D7","#DEA996","#EBFA96","#C8FFAA","#F0FFC8","#FFC8DC","#DA9E90","#DCF0C8","#FFBFE1","#DCFFD2","#DCFFDC","#9BC8FF","#E6F0C8","#EB6161","#AD4E87","#76739D","#A86B17","#D07100","#BB7B3C","#9FDFA0","#E7DF1F","#0066FF","#6C98C0","#85CC75","#C5C913","#750059","#571300","#624400","#E2488D","#75006E","#624501","#4A1DE1","#750044","#634501","#E7DE12","#758683","#7896B1","#A3E3A4","#EAE323","#BF7F3E","#006CFF","#719DC4","#8BCE7C","#C8CC13","#027100","#5D769D","#007200","#E45F14","#02406C","#0825E1","#4100A0","#D2BE16","#082DE1","#FF7014","#0A7100","#0F7100","#5C759C","#3A4B7B","#D2BE1E","#D2BE23","#F45F14","#F95F14","#4002A2","#4507A7","#FBA200","#CB3F94","#CB3FA9","#C62036"],patterns:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"symbol",show:!1,expressions:[{key:"ser",name:"ser",value:"{ser}"},{key:"symbol",name:"symbol",value:"{symbol}"},{key:"",name:"",value:"{}"},{key:"r",name:"r",value:"{r}"},{key:"g",name:"g",value:"{g}"},{key:"b",name:"b",value:"{b}"},{key:"",name:"",value:"{}"},{key:"formationAge",name:"formationAge",value:"{formationAge}"},{key:"",name:"",value:"{}"},{key:"group",name:"group",value:"{group}"},{key:"",name:"",value:"{}"},{key:"lithology",name:"lithology",value:"{lithology}"}]}}},il=Object.freeze(Object.defineProperty({__proto__:null,default:sl},Symbol.toStringTag,{value:"Module"})),ol={id:"hiroshima_tree_species",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://raw.githubusercontent.com/forestacdev/tiles-tree-species-hiroshima/main/tiles/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-hiroshima-maptiles",location:"",tags:[],minZoom:8,maxZoom:16,sourceLayer:"tree_species_hiroshima",bounds:zi,xyzImageTile:{x:28450,y:13023,z:15},mapImage:`${H}/hiroshima_tree_species.webp`},properties:{keys:["ID","","_ha","","","code","code","ID",""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c",pattern:null}},{type:"match",key:"",name:"",mapping:{categories:["","","","",""],values:["#33a02c","#b2df8a","#a6cee3","#b15928","#1f78b4"],patterns:[null,null,null,null,"tmpoly-line-vertical-down-light-200-black"]}},{type:"step",key:"_ha",name:"",mapping:{scheme:"RdPu",range:[0,9380],divisions:5}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"_ha",name:"",value:"{_ha} ha"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-padding":10}}}}},ll=Object.freeze(Object.defineProperty({__proto__:null,default:ol},Symbol.toStringTag,{value:"Module"})),cl={id:"hyogo_fr_mesh20m",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://rinya-hyogo.geospatial.jp/2023/rinya/tile/fr_mesh20m/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/fr_mesh20m_hyogo",location:"",tags:["",""],minZoom:13,maxZoom:16,sourceLayer:"fr_mesh20m_hyogo",bounds:[134.252809,34.156129,135.468591,35.674667],xyzImageTile:{x:57274,y:25978,z:16},center:[134.651168,34.897842],mapImage:`${H}/hyogo_fr_mesh20m.webp`},properties:{keys:["ID","","ID","","_ha","","","","","","ha","","","","","","","","","","","code","code","ID","90",""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.7,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c"}},{...nn},{type:"step",key:"",name:"",mapping:{scheme:"RdPu",range:[1,50],divisions:5}}]},outline:{show:!0,color:"#000000",width:.1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"_ha",name:"_ha",value:"{_ha}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"ha",name:"ha",value:"{ha}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"},{key:"ID",name:"ID",value:"{ID}"},{key:"90",name:"90",value:"{90}"},{key:"",name:"",value:"{}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-anchor":"center","text-padding":10}}}}},ul=Object.freeze(Object.defineProperty({__proto__:null,default:cl},Symbol.toStringTag,{value:"Module"})),fl={id:"hyogo_tree_species",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://rinya-hyogo.geospatial.jp/2023/rinya/tile/tree_species/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/tree_species_hyogo",location:"",tags:["",""],minZoom:8,maxZoom:18,sourceLayer:"tree_species_hyogo",bounds:Oi,xyzImageTile:{x:14326,y:6487,z:14},center:[134.848807,35.043807],mapImage:`${H}/hyogo_tree_species.webp`},properties:{keys:["ID","","ID","","_ha","","","code","code","ID","90","","","",""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c",pattern:null}},{...nn},{type:"step",key:"_ha",name:"",mapping:{scheme:"RdPu",range:[0,200],divisions:5}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"_ha",name:"",value:"{_ha} ha"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"},{key:"ID",name:"ID",value:"{ID}"},{key:"90",name:"90",value:"{90}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-padding":10}}}}},dl=Object.freeze(Object.defineProperty({__proto__:null,default:fl},Symbol.toStringTag,{value:"Module"})),bl={id:"kanagawa_tree_species",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://raw.githubusercontent.com/forestacdev/tiles-tree-species-kanagawa/main/tiles/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-kanagawa-maptiles2",location:"",tags:[],minZoom:8,maxZoom:16,sourceLayer:"tree_species_kanagawa",bounds:ct,xyzImageTile:{x:14521,y:6467,z:14},mapImage:`${H}/kanagawa_tree_species.webp`},properties:{keys:["_ha","ID","","","","code","code"],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c",pattern:null}},{type:"match",key:"",name:"",mapping:{categories:["","","","","","L","","","","",""],values:["#33a02c","#b2df8a","#a6cee3","#1f78b4","#fdbf6f","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4"],patterns:[null,null,null,null,null,null,null,"tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-light-200-black"]},noData:{value:"transparent",pattern:null}},{type:"step",key:"_ha",name:"",mapping:{scheme:"RdPu",range:[0,5914],divisions:6}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"_ha",name:"_ha",value:"{_ha}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-padding":10}}}}},hl=Object.freeze(Object.defineProperty({__proto__:null,default:bl},Symbol.toStringTag,{value:"Module"})),ml={id:"kochi_fr_mesh20m",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://rinya-kochi.geospatial.jp/2023/rinya/tile/fr_mesh20m/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/fr_mesh20m_kochi",location:"",tags:["",""],minZoom:13,maxZoom:16,sourceLayer:"fr_mesh20m_kochi",bounds:[132.479888,32.702505,134.31367,33.882997],xyzImageTile:{x:57075,y:26263,z:16},center:[133.49424,33.636878],mapImage:`${H}/kochi_fr_mesh20m.webp`},properties:{keys:["ID","","ID","","_ha","","","","","","ha","","","","","","","","","","","code","code"],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.7,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c"}},{type:"match",key:"",name:"",mapping:{categories:["",""],values:["#33a02c","#b2df8a"],patterns:[null,null]},noData:{value:"transparent",pattern:null}},{type:"step",key:"",name:"",mapping:{scheme:"OrRd",range:[0,100],divisions:5}}]},outline:{show:!0,color:"#5f5f5f",width:.5,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"_ha",name:"_ha",value:"{_ha}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"ha",name:"ha",value:"{ha}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-variable-anchor":["top","bottom","left","right"],"text-radial-offset":.5,"text-justify":"auto"}}}}},gl=Object.freeze(Object.defineProperty({__proto__:null,default:ml},Symbol.toStringTag,{value:"Module"})),_l={id:"national_forest_stand",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://forestacdev.github.io/tiles-national-forest-stand/tiles/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",description:"GIS",downloadUrl:"https://www.geospatial.jp/ckan/dataset/a45",location:"",tags:["",""],minZoom:8,maxZoom:14,sourceLayer:"national_forest_stand",bounds:pe,xyzImageTile:{x:3626,y:1598,z:12},coverImage:`${Ne}/national_forest_stand.webp`,mapImage:`${H}/national_forest_stand.webp`},properties:{keys:["ID","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],titles:[{conditions:[""],template:" {}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#b2df8a",pattern:null}},{type:"match",key:"",name:"",mapping:{categories:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],values:["#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928"],patterns:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},noData:{category:"",value:"#F7F7F7",pattern:null}},{type:"step",key:"",name:"",mapping:{scheme:"RdPu",range:[0,5e3],divisions:9}},{type:"step",key:"",name:"",mapping:{scheme:"RdPu",range:[0,100],divisions:9}},{type:"step",key:"",name:"",mapping:{scheme:"RdPu",range:[0,200],divisions:9}},{type:"step",key:"",name:"",mapping:{scheme:"BuGn",range:[0,200],divisions:9}},{type:"step",key:"",name:"",mapping:{scheme:"BuGn",range:[0,415],divisions:9}}]},outline:{show:!0,minZoom:11,color:"#ebebeb",width:.5,lineStyle:"dashed"},labels:{key:"",show:!0,minZoom:12,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{} m3"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["concat",["get",""],""]]},{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["concat",["get",""],""]]},{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["concat",["get",""],""]]},{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["concat",["get",""],""]]},{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["concat",["get",""],""]]},{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["concat",["get",""],""]]},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{} ha"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"}]}}},pl=Object.freeze(Object.defineProperty({__proto__:null,default:_l},Symbol.toStringTag,{value:"Module"})),yl={id:"tochigi_fr_mesh20m",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://rinya-tochigi.geospatial.jp/2023/rinya/tile/fr_mesh20m/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/fr_mesh20m_tochigi",location:"",tags:["",""],minZoom:13,maxZoom:16,sourceLayer:"fr_mesh20m_tochigi",bounds:lt,xyzImageTile:{x:58224,y:25564,z:16},center:[139.833104,36.723743],mapImage:`${H}/tochigi_fr_mesh20m.webp`},properties:{keys:["ID","","ID","","_ha","","","","","","","code","code","ID","","","Shape_Length","Shape_Area"],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.7,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#33a02c",pattern:null}},{...nn},{type:"step",key:"",name:"",mapping:{scheme:"BuGn",range:[0,500],divisions:5}}]},outline:{show:!0,color:"#000000",width:.1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"_ha",name:"_ha",value:"{_ha}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"Shape_Length",name:"Shape_Length",value:"{Shape_Length}"},{key:"Shape_Area",name:"Shape_Area",value:"{Shape_Area}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-anchor":"center","text-padding":10}}}}},vl=Object.freeze(Object.defineProperty({__proto__:null,default:yl},Symbol.toStringTag,{value:"Module"})),xl={id:"tochigi_tree_species",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://rinya-tochigi.geospatial.jp/2023/rinya/tile/tree_species/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/tree_species_tochigi",location:"",tags:["",""],minZoom:8,maxZoom:18,sourceLayer:"tree_species_tochigi",bounds:lt,xyzImageTile:{x:29096,y:12791,z:15},mapImage:`${H}/tochigi_tree_species.webp`},properties:{keys:["ID","","ID","","_ha","","","code","code",""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c",pattern:null}},{...nn},{type:"step",key:"_ha",name:"",mapping:{scheme:"BuGn",range:[0,200],divisions:5}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"_ha",name:"",value:"{_ha} ha"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"},{key:"",name:"",value:"{}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-padding":10}}}}},wl=Object.freeze(Object.defineProperty({__proto__:null,default:xl},Symbol.toStringTag,{value:"Module"})),Fl={id:"national_forest_road",type:"vector",format:{type:"pmtiles",geometryType:"LineString",url:"https://forestacdev.github.io/tiles-national-forest-road/national_forest_road.pmtiles"},metaData:{name:" ",attribution:"",description:"GIS",location:"",tags:["",""],bounds:pe,maxZoom:14,minZoom:0,sourceLayer:"national_forest_road",xyzImageTile:{x:3613,y:1612,z:12},downloadUrl:"https://www.geospatial.jp/ckan/dataset/a45",mapImage:`${H}/national_forest_road.webp`},properties:{keys:[""],titles:[]},interaction:{clickable:!1},style:{type:"line",opacity:.5,colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#def06e"}}]},width:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:5}}]},lineStyle:"solid",labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{}"}]},default:{symbol:{paint:{},layout:{"text-size":10,"symbol-placement":"line","symbol-spacing":100}}}}},El=Object.freeze(Object.defineProperty({__proto__:null,default:Fl},Symbol.toStringTag,{value:"Module"})),kl={id:"fac_phenology_2020",type:"vector",format:{type:"pmtiles",geometryType:"Point",url:`${Wt}/fac_phenology_2020.pmtiles`},metaData:{name:" 2020",description:"",attribution:"",location:"",sourceLayer:"fac_phenology_2020",minZoom:10,maxZoom:18,tags:[""],bounds:[136.918075,35.554408,136.9268,35.558411],coverImage:`${Ne}/fac_phenology_2020.webp`,mapImage:`${H}/fac_phenology_2020.webp`,xyzImageTile:{x:230773,y:103338,z:18}},properties:{keys:[""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:"_2020"}]},interaction:{clickable:!0},style:{type:"circle",opacity:.7,markerType:"circle",colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#33ec00"}}]},radius:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:8}}]},outline:{show:!0,color:"#ffffff",width:2},labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{}"}]},default:{circle:{paint:{},layout:{}},symbol:{paint:{},layout:{}},heatmap:{paint:{},layout:{}}}}},Al=Object.freeze(Object.defineProperty({__proto__:null,default:kl},Symbol.toStringTag,{value:"Module"}));var Pl={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]};function Dl(n,e,t){return n*(1-t)+e*t}var Cl=Dl,gr=Pl,Mt=Cl,Bl=Sl;function Sl(n){var e,t,r,a,s,i,l,c,f,o,u;if(n||(n={}),c=(n.nshades||72)-1,l=n.format||"hex",i=n.colormap,i||(i="jet"),typeof i=="string"){if(i=i.toLowerCase(),!gr[i])throw Error(i+" not a supported colorscale");s=gr[i]}else if(Array.isArray(i))s=i.slice();else throw Error("unsupported colormap option",i);if(s.length>c+1)throw new Error(i+" map requires nshades to be at least size "+s.length);Array.isArray(n.alpha)?n.alpha.length!==2?o=[1,1]:o=n.alpha.slice():typeof n.alpha=="number"?o=[n.alpha,n.alpha]:o=[1,1],e=s.map(function(m){return Math.round(m.index*c)}),o[0]=Math.min(Math.max(o[0],0),1),o[1]=Math.min(Math.max(o[1],0),1);var d=s.map(function(m,g){var v=s[g].index,y=s[g].rgb.slice();return y.length===4&&y[3]>=0&&y[3]<=1||(y[3]=o[0]+(o[1]-o[0])*v),y}),f=[];for(u=0;u<e.length-1;++u){a=e[u+1]-e[u],t=d[u],r=d[u+1];for(var h=0;h<a;h++){var b=h/a;f.push([Math.round(Mt(t[0],r[0],b)),Math.round(Mt(t[1],r[1],b)),Math.round(Mt(t[2],r[2],b)),Mt(t[3],r[3],b)])}}return f.push(s[s.length-1].rgb.concat(o[1])),l==="hex"?f=f.map(Il):l==="rgbaString"?f=f.map(Ml):l==="float"&&(f=f.map(Tl)),f}function Tl(n){return[n[0]/255,n[1]/255,n[2]/255,n[3]]}function Il(n){for(var e,t="#",r=0;r<3;++r)e=n[r],e=e.toString(16),t+=("00"+e).substr(e.length);return t}function Ml(n){return"rgba("+n.join(",")+")"}const Ot=Br(Bl),la={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}},Ol=["Blues","Greens","Greys","Oranges","Purples","Reds"],zl=["BuGn","BuPu","GnBu","OrRd","PuBu","PuBuGn","PuRd","RdPu","YlGn","YlGnBu","YlOrBr","YlOrRd"],Yu={sequential:{9:[...Ol,...zl]}},Nl=(n,e)=>la[n][e],ca=(n="Set1")=>{const e=la[n][8],t=Math.floor(Math.random()*e.length);return e[t]},Xu=n=>{const{range:e,divisions:t,scheme:r}=n,[a,s]=e,i=s-a,l=i>=100?0:i>=10?1:i>=1?2:3,c=Array.from({length:t},(u,d)=>{const f=d/(t-1),h=a+(s-a)*f;return Number(h.toFixed(l))}),o=Nl(r,t);return{categories:c,values:o}},ef=n=>{const e=100/n.length;return`linear-gradient(to right, ${n.flatMap((r,a)=>{const s=e*a,i=e*(a+1);return`${r} ${s}%, ${r} ${i}%`}).join(", ")})`},jl=(n,e,t)=>{n=n/360,e=e/100,t=t/100;const r=(l,c,o)=>(o<0&&(o+=1),o>1&&(o-=1),o<1/6?l+(c-l)*6*o:o<1/2?c:o<2/3?l+(c-l)*(2/3-o)*6:l);let a,s,i;if(e===0)a=s=i=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;a=r(c,l,n+1/3),s=r(c,l,n),i=r(c,l,n-1/3)}return{r:Math.round(a*255),g:Math.round(s*255),b:Math.round(i*255)}},Kl=n=>{const e=[];for(let t=0;t<n;t++){const r=360/n*t,i=jl(r,70,50),l=`#${i.r.toString(16).padStart(2,"0")}${i.g.toString(16).padStart(2,"0")}${i.b.toString(16).padStart(2,"0")}`;e.push(l)}return e};class Rl{constructor(){F(this,"cache");this.cache=new Map}createColorArray(e){const t=`${e}`;if(this.has(t))return this.get(t);const r=256,a=new Uint8Array(r*3);let i=Ot({colormap:e,nshades:r,format:"rgb",alpha:1}),l=0;for(let c=0;c<r;c++){const o=i[c];a[l++]=o[0],a[l++]=o[1],a[l++]=o[2]}return this.cache.set(t,a),a}createSimpleCSSGradient(e,t=30,r="to right"){let s=Ot({colormap:e,nshades:t,format:"hex",alpha:1});return`linear-gradient(${r}, ${s.join(", ")})`}getMinColor(e,t="hex"){return Ot({colormap:e,nshades:16,format:t,alpha:1})[0]}getMaxColor(e,t="hex"){const a=Ot({colormap:e,nshades:16,format:t,alpha:1});return a[a.length-1]}add(e,t){this.cache.set(e,t)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}}const Ll={id:"tokyo_gairoju",type:"vector",format:{type:"pmtiles",geometryType:"Point",url:`${Wt}/tokyo_gairoju.pmtiles`},metaData:{name:"23 ",sourceDataName:"",description:`
            `,attribution:"",tags:["",""],downloadUrl:"https://catalog.data.metro.tokyo.lg.jp/dataset/t000014d2000000029",location:"",minZoom:7,maxZoom:14,sourceLayer:"tokyo_gairoju",bounds:[139.5658198,35.5473344,139.9092201,35.8170772],xyzImageTile:{x:14552,y:6452,z:14},mapImage:`${H}/tokyo_gairoju.webp`},properties:{keys:["","","(m)","(m)","(cm","","","","","",""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:" 23"}]},interaction:{clickable:!0},style:{type:"circle",opacity:.5,markerType:"circle",colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#009405"}},{type:"match",key:"",name:"",mapping:{categories:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","/","","","","","","","","","//","///","","","","","","////","","","","","","","","","/","","","////","","//","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","sp.","","","","","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],values:Kl(405)},noData:{category:"",value:"#F7F7F7",pattern:null}}]},radius:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:8}}]},outline:{show:!0,color:"#FFFFFF",width:2},labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"(m)",name:"",value:"{(m)} m"},{key:"(m)",name:"",value:"{(m)} m"},{key:"(cm",name:"",value:"{(cm} cm"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"}]}}},Ul=Object.freeze(Object.defineProperty({__proto__:null,default:Ll},Symbol.toStringTag,{value:"Module"})),$l={id:"gifu_sugi_kansetugai",type:"vector",format:{type:"pmtiles",geometryType:"Polygon",url:`${Wt}/gifu_sugi_kansetugai.pmtiles`},metaData:{name:" ",description:"",downloadUrl:"https://www.forest.rd.pref.gifu.lg.jp/shiyou/kansetsugaimap.html",attribution:"",tags:[""],location:"",xyzImageTile:{x:901,y:403,z:10},maxZoom:14,minZoom:1,sourceLayer:"gifu_sugi_kansetugai",bounds:[136.275,35.13333333333333,137.6625,36.46666666666667],mapImage:`${H}/gifu_sugi_kansetugai.webp`},properties:{keys:["code","20",""],titles:[{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"20",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#ff7f00"}},{type:"match",key:"20",name:"20",mapping:{categories:["0","1~2","3~5","6~10","1115","16~20","21"],values:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],patterns:[null,null,null,null,null,null,null]}}]},outline:{show:!1,color:"#444444",minZoom:7,width:.5,lineStyle:"solid"},labels:{key:"20",show:!1,expressions:[{key:"code",name:"code",value:"{code}"},{key:"20",name:"20",value:"{20}"},{key:"",name:"",value:"{}"}]}}},Zl=Object.freeze(Object.defineProperty({__proto__:null,default:$l},Symbol.toStringTag,{value:"Module"})),Jl={id:"ksj_tmplt_a15",type:"vector",format:{type:"pmtiles",geometryType:"Polygon",url:`${Wt}/ksj_tmplt_a15.pmtiles`},metaData:{name:"",description:"2015",attribution:"",downloadUrl:"https://nlftp.mlit.go.jp/ksj/gml/datalist/KsjTmplt-A15.html",location:"",maxZoom:14,minZoom:1,tags:[""],sourceLayer:"ksj_tmplt_a15",bounds:[123.00744367,24.19197,153.99083742,45.45090445],xyzImageTile:{x:903,y:400,z:10},mapImage:`${H}/ksj_tmplt_a15.webp`},properties:{keys:["","","","","","","ID","","",""],titles:[{conditions:["",""],template:"{} {}"}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#33f543"}},{type:"match",key:"",name:"",mapping:{categories:["","","",""],values:["#f55b23","#f5d133","#00b4fb","#50e3c2"],patterns:[null,null,null,null]}}]},outline:{show:!0,color:"#444444",width:.5,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"}]}}},Vl=Object.freeze(Object.defineProperty({__proto__:null,default:Jl},Symbol.toStringTag,{value:"Module"})),tf=(n,e)=>{var r;const t=(r=e.find(({conditions:a})=>a.every(s=>n[s]!==void 0)))==null?void 0:r.template;return t?t.replace(/\{([^}]+)\}/g,(a,s)=>n[s]!==void 0?n[s]:`{${s}}`):""},Gl=n=>{const e=new Set;return n.features.forEach(t=>{t.properties&&Object.keys(t.properties).forEach(r=>{e.add(r)})}),Array.from(e)},Hl=n=>{if(n.type==="raster")return"raster";if(n.type==="vector"){if(n.format.geometryType==="Point")return"point";if(n.format.geometryType==="LineString")return"line";if(n.format.geometryType==="Polygon")return"polygon"}else throw new Error(`Unknown layer type: ${n}`)},nf=n=>{switch(n){case"point":return"ic:baseline-mode-standby";case"line":return"ic:baseline-polymer";case"polygon":return"ic:baseline-pentagon";case"raster":return"mdi:raster";default:throw new Error(`Unknown layer type: ${n}`)}},rf={point:"",line:"",polygon:"",raster:""};function Se(n){return Array.isArray?Array.isArray(n):da(n)==="[object Array]"}function ql(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function Wl(n){return n==null?"":ql(n)}function Ae(n){return typeof n=="string"}function ua(n){return typeof n=="number"}function Ql(n){return n===!0||n===!1||Yl(n)&&da(n)=="[object Boolean]"}function fa(n){return typeof n=="object"}function Yl(n){return fa(n)&&n!==null}function fe(n){return n!=null}function bn(n){return!n.trim().length}function da(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const Xl="Incorrect 'index' type",ec=n=>`Invalid value for key ${n}`,tc=n=>`Pattern length exceeds max of ${n}.`,nc=n=>`Missing ${n} property in key`,rc=n=>`Property 'weight' in key '${n}' must be a positive integer`,_r=Object.prototype.hasOwnProperty;class ac{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(r=>{let a=ba(r);this._keys.push(a),this._keyMap[a.id]=a,t+=a.weight}),this._keys.forEach(r=>{r.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ba(n){let e=null,t=null,r=null,a=1,s=null;if(Ae(n)||Se(n))r=n,e=pr(n),t=An(n);else{if(!_r.call(n,"name"))throw new Error(nc("name"));const i=n.name;if(r=i,_r.call(n,"weight")&&(a=n.weight,a<=0))throw new Error(rc(i));e=pr(i),t=An(i),s=n.getFn}return{path:e,id:t,weight:a,src:r,getFn:s}}function pr(n){return Se(n)?n:n.split(".")}function An(n){return Se(n)?n.join("."):n}function sc(n,e){let t=[],r=!1;const a=(s,i,l)=>{if(fe(s))if(!i[l])t.push(s);else{let c=i[l];const o=s[c];if(!fe(o))return;if(l===i.length-1&&(Ae(o)||ua(o)||Ql(o)))t.push(Wl(o));else if(Se(o)){r=!0;for(let u=0,d=o.length;u<d;u+=1)a(o[u],i,l+1)}else i.length&&a(o,i,l+1)}};return a(n,Ae(e)?e.split("."):e,0),r?t:t[0]}const ic={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},oc={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},lc={location:0,threshold:.6,distance:100},cc={useExtendedSearch:!1,getFn:sc,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var E={...oc,...ic,...lc,...cc};const uc=/[^ ]+/g;function fc(n=1,e=3){const t=new Map,r=Math.pow(10,e);return{get(a){const s=a.match(uc).length;if(t.has(s))return t.get(s);const i=1/Math.pow(s,.5*n),l=parseFloat(Math.round(i*r)/r);return t.set(s,l),l},clear(){t.clear()}}}class qn{constructor({getFn:e=E.getFn,fieldNormWeight:t=E.fieldNormWeight}={}){this.norm=fc(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,r)=>{this._keysMap[t.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ae(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();Ae(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,r=this.size();t<r;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!fe(e)||bn(e))return;let r={v:e,i:t,n:this.norm.get(e)};this.records.push(r)}_addObject(e,t){let r={i:t,$:{}};this.keys.forEach((a,s)=>{let i=a.getFn?a.getFn(e):this.getFn(e,a.path);if(fe(i)){if(Se(i)){let l=[];const c=[{nestedArrIndex:-1,value:i}];for(;c.length;){const{nestedArrIndex:o,value:u}=c.pop();if(fe(u))if(Ae(u)&&!bn(u)){let d={v:u,i:o,n:this.norm.get(u)};l.push(d)}else Se(u)&&u.forEach((d,f)=>{c.push({nestedArrIndex:f,value:d})})}r.$[s]=l}else if(Ae(i)&&!bn(i)){let l={v:i,n:this.norm.get(i)};r.$[s]=l}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function ha(n,e,{getFn:t=E.getFn,fieldNormWeight:r=E.fieldNormWeight}={}){const a=new qn({getFn:t,fieldNormWeight:r});return a.setKeys(n.map(ba)),a.setSources(e),a.create(),a}function dc(n,{getFn:e=E.getFn,fieldNormWeight:t=E.fieldNormWeight}={}){const{keys:r,records:a}=n,s=new qn({getFn:e,fieldNormWeight:t});return s.setKeys(r),s.setIndexRecords(a),s}function zt(n,{errors:e=0,currentLocation:t=0,expectedLocation:r=0,distance:a=E.distance,ignoreLocation:s=E.ignoreLocation}={}){const i=e/n.length;if(s)return i;const l=Math.abs(r-t);return a?i+l/a:l?1:i}function bc(n=[],e=E.minMatchCharLength){let t=[],r=-1,a=-1,s=0;for(let i=n.length;s<i;s+=1){let l=n[s];l&&r===-1?r=s:!l&&r!==-1&&(a=s-1,a-r+1>=e&&t.push([r,a]),r=-1)}return n[s-1]&&s-r>=e&&t.push([r,s-1]),t}const Ve=32;function hc(n,e,t,{location:r=E.location,distance:a=E.distance,threshold:s=E.threshold,findAllMatches:i=E.findAllMatches,minMatchCharLength:l=E.minMatchCharLength,includeMatches:c=E.includeMatches,ignoreLocation:o=E.ignoreLocation}={}){if(e.length>Ve)throw new Error(tc(Ve));const u=e.length,d=n.length,f=Math.max(0,Math.min(r,d));let h=s,b=f;const m=l>1||c,g=m?Array(d):[];let v;for(;(v=n.indexOf(e,b))>-1;){let C=zt(e,{currentLocation:v,expectedLocation:f,distance:a,ignoreLocation:o});if(h=Math.min(C,h),b=v+u,m){let P=0;for(;P<u;)g[v+P]=1,P+=1}}b=-1;let y=[],p=1,A=u+d;const x=1<<u-1;for(let C=0;C<u;C+=1){let P=0,w=A;for(;P<w;)zt(e,{errors:C,currentLocation:f+w,expectedLocation:f,distance:a,ignoreLocation:o})<=h?P=w:A=w,w=Math.floor((A-P)/2+P);A=w;let j=Math.max(1,f-w+1),O=i?d:Math.min(f+w,d)+u,K=Array(O+2);K[O+1]=(1<<C)-1;for(let z=O;z>=j;z-=1){let G=z-1,V=t[n.charAt(G)];if(m&&(g[G]=+!!V),K[z]=(K[z+1]<<1|1)&V,C&&(K[z]|=(y[z+1]|y[z])<<1|1|y[z+1]),K[z]&x&&(p=zt(e,{errors:C,currentLocation:G,expectedLocation:f,distance:a,ignoreLocation:o}),p<=h)){if(h=p,b=G,b<=f)break;j=Math.max(1,2*f-b)}}if(zt(e,{errors:C+1,currentLocation:f,expectedLocation:f,distance:a,ignoreLocation:o})>h)break;y=K}const R={isMatch:b>=0,score:Math.max(.001,p)};if(m){const C=bc(g,l);C.length?c&&(R.indices=C):R.isMatch=!1}return R}function mc(n){let e={};for(let t=0,r=n.length;t<r;t+=1){const a=n.charAt(t);e[a]=(e[a]||0)|1<<r-t-1}return e}const Gt=String.prototype.normalize?n=>n.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):n=>n;class ma{constructor(e,{location:t=E.location,threshold:r=E.threshold,distance:a=E.distance,includeMatches:s=E.includeMatches,findAllMatches:i=E.findAllMatches,minMatchCharLength:l=E.minMatchCharLength,isCaseSensitive:c=E.isCaseSensitive,ignoreDiacritics:o=E.ignoreDiacritics,ignoreLocation:u=E.ignoreLocation}={}){if(this.options={location:t,threshold:r,distance:a,includeMatches:s,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:o,ignoreLocation:u},e=c?e:e.toLowerCase(),e=o?Gt(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const d=(h,b)=>{this.chunks.push({pattern:h,alphabet:mc(h),startIndex:b})},f=this.pattern.length;if(f>Ve){let h=0;const b=f%Ve,m=f-b;for(;h<m;)d(this.pattern.substr(h,Ve),h),h+=Ve;if(b){const g=f-Ve;d(this.pattern.substr(g),g)}}else d(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:r,includeMatches:a}=this.options;if(e=t?e:e.toLowerCase(),e=r?Gt(e):e,this.pattern===e){let m={isMatch:!0,score:0};return a&&(m.indices=[[0,e.length-1]]),m}const{location:s,distance:i,threshold:l,findAllMatches:c,minMatchCharLength:o,ignoreLocation:u}=this.options;let d=[],f=0,h=!1;this.chunks.forEach(({pattern:m,alphabet:g,startIndex:v})=>{const{isMatch:y,score:p,indices:A}=hc(e,m,g,{location:s+v,distance:i,threshold:l,findAllMatches:c,minMatchCharLength:o,includeMatches:a,ignoreLocation:u});y&&(h=!0),f+=p,y&&A&&(d=[...d,...A])});let b={isMatch:h,score:h?f/this.chunks.length:1};return h&&a&&(b.indices=d),b}}class je{constructor(e){this.pattern=e}static isMultiMatch(e){return yr(e,this.multiRegex)}static isSingleMatch(e){return yr(e,this.singleRegex)}search(){}}function yr(n,e){const t=n.match(e);return t?t[1]:null}class gc extends je{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class _c extends je{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class pc extends je{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class yc extends je{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class vc extends je{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class xc extends je{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class ga extends je{constructor(e,{location:t=E.location,threshold:r=E.threshold,distance:a=E.distance,includeMatches:s=E.includeMatches,findAllMatches:i=E.findAllMatches,minMatchCharLength:l=E.minMatchCharLength,isCaseSensitive:c=E.isCaseSensitive,ignoreDiacritics:o=E.ignoreDiacritics,ignoreLocation:u=E.ignoreLocation}={}){super(e),this._bitapSearch=new ma(e,{location:t,threshold:r,distance:a,includeMatches:s,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:o,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class _a extends je{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,r;const a=[],s=this.pattern.length;for(;(r=e.indexOf(this.pattern,t))>-1;)t=r+s,a.push([r,t-1]);const i=!!a.length;return{isMatch:i,score:i?0:1,indices:a}}}const Pn=[gc,_a,pc,yc,xc,vc,_c,ga],vr=Pn.length,wc=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Fc="|";function Ec(n,e={}){return n.split(Fc).map(t=>{let r=t.trim().split(wc).filter(s=>s&&!!s.trim()),a=[];for(let s=0,i=r.length;s<i;s+=1){const l=r[s];let c=!1,o=-1;for(;!c&&++o<vr;){const u=Pn[o];let d=u.isMultiMatch(l);d&&(a.push(new u(d,e)),c=!0)}if(!c)for(o=-1;++o<vr;){const u=Pn[o];let d=u.isSingleMatch(l);if(d){a.push(new u(d,e));break}}}return a})}const kc=new Set([ga.type,_a.type]);class Ac{constructor(e,{isCaseSensitive:t=E.isCaseSensitive,ignoreDiacritics:r=E.ignoreDiacritics,includeMatches:a=E.includeMatches,minMatchCharLength:s=E.minMatchCharLength,ignoreLocation:i=E.ignoreLocation,findAllMatches:l=E.findAllMatches,location:c=E.location,threshold:o=E.threshold,distance:u=E.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:r,includeMatches:a,minMatchCharLength:s,findAllMatches:l,ignoreLocation:i,location:c,threshold:o,distance:u},e=t?e:e.toLowerCase(),e=r?Gt(e):e,this.pattern=e,this.query=Ec(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:a,ignoreDiacritics:s}=this.options;e=a?e:e.toLowerCase(),e=s?Gt(e):e;let i=0,l=[],c=0;for(let o=0,u=t.length;o<u;o+=1){const d=t[o];l.length=0,i=0;for(let f=0,h=d.length;f<h;f+=1){const b=d[f],{isMatch:m,indices:g,score:v}=b.search(e);if(m){if(i+=1,c+=v,r){const y=b.constructor.type;kc.has(y)?l=[...l,...g]:l.push(g)}}else{c=0,i=0,l.length=0;break}}if(i){let f={isMatch:!0,score:c/i};return r&&(f.indices=l),f}}return{isMatch:!1,score:1}}}const Dn=[];function Pc(...n){Dn.push(...n)}function Cn(n,e){for(let t=0,r=Dn.length;t<r;t+=1){let a=Dn[t];if(a.condition(n,e))return new a(n,e)}return new ma(n,e)}const Ht={AND:"$and",OR:"$or"},Bn={PATH:"$path",PATTERN:"$val"},Sn=n=>!!(n[Ht.AND]||n[Ht.OR]),Dc=n=>!!n[Bn.PATH],Cc=n=>!Se(n)&&fa(n)&&!Sn(n),xr=n=>({[Ht.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function pa(n,e,{auto:t=!0}={}){const r=a=>{let s=Object.keys(a);const i=Dc(a);if(!i&&s.length>1&&!Sn(a))return r(xr(a));if(Cc(a)){const c=i?a[Bn.PATH]:s[0],o=i?a[Bn.PATTERN]:a[c];if(!Ae(o))throw new Error(ec(c));const u={keyId:An(c),pattern:o};return t&&(u.searcher=Cn(o,e)),u}let l={children:[],operator:s[0]};return s.forEach(c=>{const o=a[c];Se(o)&&o.forEach(u=>{l.children.push(r(u))})}),l};return Sn(n)||(n=xr(n)),r(n)}function Bc(n,{ignoreFieldNorm:e=E.ignoreFieldNorm}){n.forEach(t=>{let r=1;t.matches.forEach(({key:a,norm:s,score:i})=>{const l=a?a.weight:null;r*=Math.pow(i===0&&l?Number.EPSILON:i,(l||1)*(e?1:s))}),t.score=r})}function Sc(n,e){const t=n.matches;e.matches=[],fe(t)&&t.forEach(r=>{if(!fe(r.indices)||!r.indices.length)return;const{indices:a,value:s}=r;let i={indices:a,value:s};r.key&&(i.key=r.key.src),r.idx>-1&&(i.refIndex=r.idx),e.matches.push(i)})}function Tc(n,e){e.score=n.score}function Ic(n,e,{includeMatches:t=E.includeMatches,includeScore:r=E.includeScore}={}){const a=[];return t&&a.push(Sc),r&&a.push(Tc),n.map(s=>{const{idx:i}=s,l={item:e[i],refIndex:i};return a.length&&a.forEach(c=>{c(s,l)}),l})}class ut{constructor(e,t={},r){this.options={...E,...t},this.options.useExtendedSearch,this._keyStore=new ac(this.options.keys),this.setCollection(e,r)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof qn))throw new Error(Xl);this._myIndex=t||ha(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){fe(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let r=0,a=this._docs.length;r<a;r+=1){const s=this._docs[r];e(s,r)&&(this.removeAt(r),r-=1,a-=1,t.push(s))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:r,includeScore:a,shouldSort:s,sortFn:i,ignoreFieldNorm:l}=this.options;let c=Ae(e)?Ae(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Bc(c,{ignoreFieldNorm:l}),s&&c.sort(i),ua(t)&&t>-1&&(c=c.slice(0,t)),Ic(c,this._docs,{includeMatches:r,includeScore:a})}_searchStringList(e){const t=Cn(e,this.options),{records:r}=this._myIndex,a=[];return r.forEach(({v:s,i,n:l})=>{if(!fe(s))return;const{isMatch:c,score:o,indices:u}=t.searchIn(s);c&&a.push({item:s,idx:i,matches:[{score:o,value:s,norm:l,indices:u}]})}),a}_searchLogical(e){const t=pa(e,this.options),r=(l,c,o)=>{if(!l.children){const{keyId:d,searcher:f}=l,h=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(c,d),searcher:f});return h&&h.length?[{idx:o,item:c,matches:h}]:[]}const u=[];for(let d=0,f=l.children.length;d<f;d+=1){const h=l.children[d],b=r(h,c,o);if(b.length)u.push(...b);else if(l.operator===Ht.AND)return[]}return u},a=this._myIndex.records,s={},i=[];return a.forEach(({$:l,i:c})=>{if(fe(l)){let o=r(t,l,c);o.length&&(s[c]||(s[c]={idx:c,item:l,matches:[]},i.push(s[c])),o.forEach(({matches:u})=>{s[c].matches.push(...u)}))}}),i}_searchObjectList(e){const t=Cn(e,this.options),{keys:r,records:a}=this._myIndex,s=[];return a.forEach(({$:i,i:l})=>{if(!fe(i))return;let c=[];r.forEach((o,u)=>{c.push(...this._findMatches({key:o,value:i[u],searcher:t}))}),c.length&&s.push({idx:l,item:i,matches:c})}),s}_findMatches({key:e,value:t,searcher:r}){if(!fe(t))return[];let a=[];if(Se(t))t.forEach(({v:s,i,n:l})=>{if(!fe(s))return;const{isMatch:c,score:o,indices:u}=r.searchIn(s);c&&a.push({score:o,key:e,value:s,idx:i,norm:l,indices:u})});else{const{v:s,n:i}=t,{isMatch:l,score:c,indices:o}=r.searchIn(s);l&&a.push({score:c,key:e,value:s,norm:i,indices:o})}return a}}ut.version="7.1.0";ut.createIndex=ha;ut.parseIndex=dc;ut.config=E;ut.parseQuery=pa;Pc(Ac);function ce(n,e){this.origin=e,this._result=this.origin,this._mojisyu=n}ce.prototype.toString=function(){return this._result};ce.prototype.convert=function(e,t){var r=this._mojisyu[e],a=this._mojisyu[t];if(this._mojisyuType(r)==="range"&&this._mojisyuType(a)==="range")return this._result=this._rangeConvert(r,a),this;if(this._mojisyuType(r)==="regexp"&&this._mojisyuType(a)==="regexp")return this._result=this._regexpConvert(r,a),this};ce.prototype._rangeConvert=function(e,t){var r=t.start-e.start;return this._rangeMap(e,function(a,s,i){return s?String.fromCharCode(i+r):a}).join("")};ce.prototype._regexpConvert=function(e,t){return this._regexpMap(e,function(r,a,s){return a?t.list[s]:r})};ce.prototype.filter=function(e){var t=this._mojisyu[e];if(this._mojisyuType(t)==="range")return this._result=this._rangeFilter(t),this;if(this._mojisyuType(t)==="regexp")return this._result=this._regexpFilter(t),this};ce.prototype._rangeFilter=function(e){return this._rangeMap(e,function(t,r){return r?t:""}).join("")};ce.prototype._regexpFilter=function(e){var t=[];return this._regexpMap(e,function(r,a){a&&t.push(r)}),t.join("")};ce.prototype.reject=function(e){var t=this._mojisyu[e];if(this._mojisyuType(t)==="range")return this._result=this._rangeReject(t),this;if(this._mojisyuType(t)==="regexp")return this._result=this._regexpReject(t),this};ce.prototype._rangeReject=function(e){return this._rangeMap(e,function(t,r){return r?"":t}).join("")};ce.prototype._regexpReject=function(e){var t=this._regexpFilter(e);return this._result.replace(t,"")};ce.prototype._mojisyuType=function(e){return e.start&&e.end?"range":e.regexp&&e.list?"regexp":""};ce.prototype._rangeMap=function(e,t){return this._result.split("").map(function(r){var a=r.charCodeAt(0),s=a>=e.start&&a<=e.end;return t.call(this,r,s,a)})};ce.prototype._regexpMap=function(e,t){return this._result.replace(e.regexp,function(r){var a=e.list.indexOf(r),s=a>=0;return t.call(this,r,s,a)})};var Mc=ce;function Oc(){return this.trim=function(){return this._result=this._result.trim(),this},this.match=function(n){var e=this._result.match(n);return!e||!n?this:(this._result=e.toString(),this)},this.replace=function(n,e){return this._result=this._result.replace(n,e),this},this}var zc=Oc,Nc={ZE:{start:65281,end:65374},HE:{start:33,end:126},HG:{start:12353,end:12438},KK:{start:12449,end:12534},HS:{regexp:/(\s|\u00A0)/g,list:[" ",""]},ZS:{regexp:/(\u3000)/g,list:["",""]},HK:{regexp:/([\uff66-\uff9c]\uff9e)|([\uff8a-\uff8e]\uff9f)|([\uff61-\uff9f])/g,list:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ZK:{regexp:/([\u3001-\u30fc])/g,list:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}},jc=Object.prototype.propertyIsEnumerable;function Kc(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function Rc(n){var e=Object.getOwnPropertyNames(n);return Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n))),e.filter(function(t){return jc.call(n,t)})}var Lc=Object.assign||function(n,e){for(var t,r,a=Kc(n),s=1;s<arguments.length;s++){t=arguments[s],r=Rc(Object(t));for(var i=0;i<r.length;i++)a[r[i]]=t[r[i]]}return a},ya=Mc,Uc=zc,$c=Nc,va=Lc,Tn=va({},$c);Uc.call(ya.prototype);var xa=function(n){return new ya(Tn,n)};xa.addMojisyu=function(n){Tn=va(Tn,n)};var Zc=xa;const Jc=Br(Zc),Nt=n=>Jc(n).convert("HK","ZK").convert("ZS","HS").convert("ZE","HE").convert("HG","KK").toString().replace(/\s+/g,"").toLowerCase(),af=n=>{let e=n;e=e.replace(/[---]/g,r=>String.fromCharCode(r.charCodeAt(0)-65248)),e=e.replace(/^/,""),e=e.replace(/^/,""),e=e.replace(/^/,""),e=e.replace(/^/,""),e=e.replace(/^/,"");const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];if(!e.includes("")&&!e.includes("")&&!e.includes("")){for(const r of t)if(e.includes(r)&&!e.startsWith(r)){const a=e.split(r);if(a.length>1){e=`${r}${r}${a[1]}`;break}}}return e=e.replace(/$/,""),e=e.replace(/$/,""),e=e.replace(/\s+/g,""),e},Vc=n=>{try{n.forEach(e=>{e.style.visible=!0})}catch(e){console.error(e),console.warn("")}return n},Gc=Object.assign({"/src/routes/map/data/entries/raster/image_tile/base_map/ehime_ls_standtype.ts":Li,"/src/routes/map/data/entries/raster/image_tile/base_map/gifu_cs_map.ts":$i,"/src/routes/map/data/entries/raster/image_tile/base_map/gifu_pref.ts":Ji,"/src/routes/map/data/entries/raster/image_tile/base_map/gsi_pre.ts":Gi,"/src/routes/map/data/entries/raster/image_tile/base_map/gsi_seamlessphoto.ts":qi,"/src/routes/map/data/entries/raster/image_tile/base_map/gsi_std.ts":Qi,"/src/routes/map/data/entries/raster/image_tile/base_map/kanagawa_cs.ts":Xi,"/src/routes/map/data/entries/raster/image_tile/base_map/kanagawa_ls_standtype.ts":to,"/src/routes/map/data/entries/raster/image_tile/base_map/kanagawa_rrim.ts":ro,"/src/routes/map/data/entries/raster/image_tile/base_map/nagano_cs.ts":so,"/src/routes/map/data/entries/raster/image_tile/base_map/tochigi_cs.ts":oo,"/src/routes/map/data/entries/raster/image_tile/base_map/tochigi_ls_standtype.ts":co,"/src/routes/map/data/entries/raster/image_tile/categorical/ecoris_sugihinoki.ts":fo,"/src/routes/map/data/entries/raster/image_tile/categorical/ecoris_tanbo.ts":ho,"/src/routes/map/data/entries/raster/image_tile/categorical/ecoris_vege_6.ts":go,"/src/routes/map/data/entries/raster/image_tile/categorical/gifu_slope_map.ts":po,"/src/routes/map/data/entries/raster/image_tile/categorical/gsi_slopemap.ts":vo,"/src/routes/map/data/entries/raster/image_tile/categorical/landslide.ts":wo,"/src/routes/map/data/entries/raster/image_tile/categorical/tochigi_slope.ts":Eo,"/src/routes/map/data/entries/raster/image_tile/dem/dchm_niigata_nagaoka.ts":Ao,"/src/routes/map/data/entries/raster/image_tile/dem/dem_10b.ts":Do,"/src/routes/map/data/entries/raster/image_tile/dem/dem_1a.ts":Bo,"/src/routes/map/data/entries/raster/image_tile/dem/dem_5a.ts":To,"/src/routes/map/data/entries/raster/image_tile/dem/dem_kanagawa.ts":Mo,"/src/routes/map/data/entries/raster/image_tile/dem/dem_tochigi.ts":zo,"/src/routes/map/data/entries/raster/image_tile/dem/dem_tokyo.ts":jo,"/src/routes/map/data/entries/raster/image_tile/dem/dem_yamanashi.ts":Ro,"/src/routes/map/data/entries/raster/image_tile/dem/dsm_kanagawa.ts":Uo,"/src/routes/map/data/entries/raster/pmtiles/dem/ensyurin_curvatoure.ts":Zo,"/src/routes/map/data/entries/vector/fgb/line_string/ensyurin_road.ts":Vo,"/src/routes/map/data/entries/vector/fgb/point/ensyurin_kikenboku_h25.ts":Ho,"/src/routes/map/data/entries/vector/fgb/point/ensyurin_owl.ts":Wo,"/src/routes/map/data/entries/vector/fgb/point/ensyurin_pole.ts":Yo,"/src/routes/map/data/entries/vector/fgb/point/fac_sisetuannaitou.ts":el,"/src/routes/map/data/entries/vector/fgb/polygon/ensyurin_siken.ts":nl,"/src/routes/map/data/entries/vector/fgb/polygon/ensyurin_syouhan.ts":al,"/src/routes/map/data/entries/vector/mvt/polygon/geological_survey.ts":il,"/src/routes/map/data/entries/vector/mvt/polygon/hiroshima_tree_species.ts":ll,"/src/routes/map/data/entries/vector/mvt/polygon/hyogo_fr_mesh20m.ts":ul,"/src/routes/map/data/entries/vector/mvt/polygon/hyogo_tree_species.ts":dl,"/src/routes/map/data/entries/vector/mvt/polygon/kanagawa_tree_species.ts":hl,"/src/routes/map/data/entries/vector/mvt/polygon/kochi_fr_mesh20m.ts":gl,"/src/routes/map/data/entries/vector/mvt/polygon/national_forest_stand.ts":pl,"/src/routes/map/data/entries/vector/mvt/polygon/tochigi_fr_mesh20m.ts":vl,"/src/routes/map/data/entries/vector/mvt/polygon/tochigi_tree_species.ts":wl,"/src/routes/map/data/entries/vector/pmtiles/line_string/national_forest_road.ts":El,"/src/routes/map/data/entries/vector/pmtiles/point/fac_phenology_2020.ts":Al,"/src/routes/map/data/entries/vector/pmtiles/point/tokyo_gairoju.ts":Ul,"/src/routes/map/data/entries/vector/pmtiles/polygon/gifu_sugi_kansetugai.ts":Zl,"/src/routes/map/data/entries/vector/pmtiles/polygon/ksj_tmplt_a15.ts":Vl}),In=Object.values(Gc).map(n=>n.default).sort((n,e)=>n.metaData.name.localeCompare(e.metaData.name,"ja")),Hc=(()=>{const e=In.map(t=>t.id).filter((t,r,a)=>a.indexOf(t)!==r);return e.length>0&&console.warn("id:",e),Vc(In)})(),sf=new ut(Hc,{keys:["metaData.name","metaData.tags","metaData.location","metaData.attribution"],threshold:.3,getFn:(n,e)=>{const t=[];return n.metaData.name&&t.push(Nt(n.metaData.name)),n.metaData.location&&t.push(Nt(n.metaData.location)),n.metaData.attribution&&t.push(Nt(n.metaData.attribution)),n.metaData.tags&&Array.isArray(n.metaData.tags)&&n.metaData.tags.forEach(r=>{t.push(Nt(r))}),t}});class rt{static get(e){return this.map.get(e)}static has(e){return this.map.has(e)}static add(e,t){this.map.has(e)||this.map.set(e,t)}static keys(){return Array.from(this.map.keys())}}F(rt,"map",new Map(In.map(e=>[e.id,Hl(e)??"raster"])));const of=n=>{const e=new Set;if(n.features.forEach(t=>{t.geometry&&t.geometry.type&&e.add(t.geometry.type)}),e.has("Point"))return"Point";if(e.has("LineString"))return"LineString";if(e.has("Polygon"))return"Polygon";if(e.has("MultiPoint"))return"Point";if(e.has("MultiLineString"))return"LineString";if(e.has("MultiPolygon"))return"Polygon"},Wn={name:"",description:"",attribution:"",location:"",maxZoom:24,minZoom:0,tags:[],bounds:Hn},lf=(n,e,t,r,a=ca())=>{const s={...Wn,name:t,bounds:r};let i;if(e==="Point")i=Vt;else if(e==="LineString")i=ia;else if(e==="Polygon")i=oa;else if(e==="Label"){i=Vt;return}else{console.error("");return}if(!i){console.error("");return}i.colors={key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:a}}]};const l=Gl(n);i.labels=Di(l);const c="geojson_"+crypto.randomUUID();return Ge.set(c,n),{id:c,type:"vector",format:{type:"geojson",geometryType:e,url:""},metaData:s,interaction:{clickable:!0},properties:{keys:l,titles:[{conditions:[],template:t}]},style:i}},cf=(n,e,t,r,a=ca())=>{const s={...Wn,name:n,sourceLayer:t};let i;if(r==="Point")i=Vt;else if(r==="LineString")i=ia;else if(r==="Polygon")i=oa;else if(r==="Label"){i=Vt;return}else{console.error("");return}if(!i){console.error("");return}return i.colors={key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:a}}]},{id:"vectorTile_"+crypto.randomUUID(),type:"vector",format:{type:"mvt",geometryType:r,url:e},metaData:s,interaction:{clickable:!0},properties:{keys:[],titles:[{conditions:[],template:n}]},style:i}},uf=(n,e)=>({id:"raster_"+crypto.randomUUID(),type:"raster",format:{type:"image",url:e},metaData:{...Wn,name:n,tileSize:256,bounds:Hn},interaction:{...le},style:{...be}}),ff=T([]),qc=()=>{const n=T([]),{subscribe:e,update:t,set:r}=n;return{subscribe:e,add:a=>{t(s=>s.some(i=>i.id===a.id)?s:[...s,a])},remove:a=>{t(s=>s.filter(i=>i.id!==a))},clearAttributions:()=>r([])}},Wc=qc(),wr=T("idle"),Fr=["point","line","polygon","raster"],hn=n=>n.sort((e,t)=>{(!rt.has(e)||!rt.has(t))&&console.warn(`EntryIdToTypeMap does not have entry for ${e} or ${t}`);const r=rt.get(e)||"raster",a=rt.get(t)||"raster",s=Fr.indexOf(r),i=Fr.indexOf(a);return s-i}),Qc=()=>{const n=T([...Qn]),{subscribe:e,update:t,set:r}=n;return{subscribe:e,setLayers:a=>{Ge.clear(),r(hn(a))},add:a=>t(s=>(s.includes(a)||(s=[a,...s]),hn(s))),has:a=>X(n).includes(a),addType:(a,s)=>{rt.add(a,s)},remove:a=>t(s=>{const i=s.filter(l=>l!==a);return Ge.has(a)&&Ge.remove(a),Wc.remove(a),i}),reorder:(a,s)=>t(i=>{const l=i.indexOf(a),c=i.indexOf(s);if(l===-1||c===-1||l===c)return wr.set("invalid"),i;const o=[...i],u=o.splice(l,1)[0];return o.splice(c,0,u),wr.set("success"),hn(o)}),reset:()=>{for(const a of Ge.keys())Ge.remove(a);r([...Qn])}}},df=Qc(),bf=T("satellite"),hf=T(!0),mf=T(!0),gf=T(!0),_f=T(!0),pf=T(!1),yf=T(!1),vf=async n=>{try{return(await fetch(n)).json()}catch(e){throw console.error(e),new Error("Failed to fetch GeoJSON")}},xf=async(n,e)=>{try{const t=await fetch(n),r=Pi(t.body),a={type:"FeatureCollection",features:[]};for await(const s of r)a.features.push(s);return a}catch(t){throw console.error(t),new Error("Failed to fetch GeoJSON")}},wf=(n,e)=>{const{properties:t,id:r,layer:a}=n;return{point:e,properties:t,featureId:r,layerId:a.id}};class Ge{static set(e,t){this.cache.set(e,t)}static get(e){return this.cache.get(e)}static remove(e){this.cache.delete(e)}static clear(){this.cache.clear()}static has(e){return this.cache.has(e)}static keys(){return this.cache.keys()}}F(Ge,"cache",new Map);const Ff=async n=>{try{const e=await n.text(),t=JSON.parse(e);if(t.type!=="FeatureCollection"||!Array.isArray(t.features))throw new Error("Invalid GeoJSON structure");return t}catch(e){throw console.error("GeoJSON parsing error:",e),new Error("Failed to parse GeoJSON file")}},wa={mapbox:0,gsi:1,terrarium:2},Ef=["jet","hsv","hot","spring","summer","autumn","winter","bone","copper","greys","yignbu","greens","yiorrd","bluered","rdbu","picnic","rainbow","portland","blackbody","earth","electric","viridis","inferno","magma","plasma","warm","cool","rainbow-soft","bathymetry","cdom","chlorophyll","density","freesurface-blue","freesurface-red","oxygen","par","phase","salinity","temperature","turbidity","velocity-blue","velocity-green","cubehelix"],Yc={default:0,relief:1,slope:2,aspect:3,curvature:4,shadow:5},ke=class ke{constructor(e=500){F(this,"imageBaseUrlCache",new Map);F(this,"cache");F(this,"cacheSizeLimit");F(this,"cacheOrder");this.cache=new Map,this.cacheSizeLimit=e,this.cacheOrder=[],this.imageBaseUrlCache=new Map}static getInstance(e=500){return ke.instance||(ke.instance=new ke(e)),ke.instance}async loadImagePmtiles(e,t,r){try{let a=ke.pmCache.get(e);a||(a=new Kt(e),ke.pmCache.set(e,a));const s=await a.getZxy(t.z,t.x,t.y,r);if(!s||!s.data)throw new Error("Tile data not found");const i=new Blob([s.data],{type:"image/png"});return await createImageBitmap(i)}catch(a){if(a instanceof Error&&a.name==="AbortError")throw a;return await createImageBitmap(new ImageData(1,1))}}async loadImage(e,t){try{const r=await fetch(e,{signal:t});if(!r.ok)throw new Error("Failed to fetch image");return await createImageBitmap(await r.blob())}catch(r){if(r instanceof Error&&r.name==="AbortError")throw r;return await createImageBitmap(new ImageData(1,1))}}async getSingleTileImage(e,t,r,a,s,i,l){const c=s.replace("{x}",t.toString()).replace("{y}",r.toString()).replace("{z}",a.toString());if(this.cache.has(e)){const o=this.cache.get(e);return this.add(e,o),o}try{let o;if(i==="image")o=await this.loadImage(c,l.signal);else if(i==="pmtiles"){const u={x:t,y:r,z:a};o=await this.loadImagePmtiles(c,u,l.signal)}if(!o)throw new Error(`Failed to load image for ${e}`);return this.add(e,o),o}catch(o){if(o instanceof Error&&o.name==="AbortError")throw o;return console.error(`Error in getSingleTileImage for ${e}:`,o),await createImageBitmap(new ImageData(1,1))}}async getAdjacentTilesWithImages(e,t,r,a,s,i,l){const c=[{position:"center",dx:0,dy:0},{position:"left",dx:-1,dy:0},{position:"right",dx:1,dy:0},{position:"top",dx:0,dy:-1},{position:"bottom",dx:0,dy:1}],o={};return await Promise.all(c.map(async({position:u,dx:d,dy:f})=>{const h=t+d,b=r+f,m=`${e}_${h}_${b}_${a}`,v=(this.imageBaseUrlCache.get(e)||s).replace("{x}",h.toString()).replace("{y}",b.toString()).replace("{z}",a.toString());let y=this.cache.get(m);if(!y){if(i==="image")y=await this.loadImage(v,l.signal);else if(i==="pmtiles"){const p={x:h,y:b,z:a};y=await this.loadImagePmtiles(v,p,l.signal)}}y&&(this.add(m,y),o[u]={tileId:m,image:y})})),o}add(e,t){if(this.cacheOrder.length>=this.cacheSizeLimit){const a=this.cacheOrder.shift();a&&this.cache.delete(a)}this.cache.set(e,t);const r=this.cacheOrder.indexOf(e);r>-1&&this.cacheOrder.splice(r,1),this.cacheOrder.push(e)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}clear(){this.cache.clear(),this.cacheOrder=[]}getUrlcache(e){return this.imageBaseUrlCache.get(e)}addUrlcache(e,t){this.imageBaseUrlCache.set(e,t)}deleteUrlcache(e){this.imageBaseUrlCache.delete(e)}};F(ke,"instance"),F(ke,"pmCache",new Map);let Mn=ke,Xc=class{constructor(e){F(this,"worker");F(this,"pendingRequests");F(this,"tileCache");F(this,"colorMapCache");F(this,"handleMessage",e=>{const{id:t,buffer:r,error:a}=e.data,s=this.pendingRequests.get(t);a?(console.error(`Error processing tile ${t}:`,a),s&&(s.reject(new Error(a)),this.pendingRequests.delete(t))):s&&(s.resolve({data:r}),this.pendingRequests.delete(t))});this.worker=e,this.pendingRequests=new Map,this.tileCache=Mn.getInstance(),this.colorMapCache=new Rl,this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,t){const r=parseInt(e.searchParams.get("x")||"0",10),a=parseInt(e.searchParams.get("y")||"0",10),s=parseInt(e.searchParams.get("z")||"0",10),i=e.searchParams.get("entryId")||"",l=e.origin+e.pathname,c=`${i}_${r}_${a}_${s}`,o=e.searchParams.get("formatType"),u=e.searchParams.get("demType"),d=wa[u],f=e.searchParams.get("mode")||"default",h=Yc[f],b="buffar";if(f==="relief"){const m=await this.tileCache.getSingleTileImage(c,r,a,s,l,o,t),g=this.colorMapCache.createColorArray(e.searchParams.get("colorMap")||"bone"),v=parseFloat(e.searchParams.get("max")||"10000"),y=parseFloat(e.searchParams.get("min")||"0");return new Promise((p,A)=>{this.pendingRequests.set(c,{resolve:p,reject:A,controller:t}),this.worker.postMessage({tileId:c,center:m,demTypeNumber:d,modeNumber:h,mode:f,elevationColorArray:g,max:v,min:y,encodeType:b})})}else{const m=await this.tileCache.getAdjacentTilesWithImages(i,r,a,s,l,o,t),g=this.colorMapCache.createColorArray(e.searchParams.get("colorMap")||"bone"),v=m.center,y=v.tileId,p=m.left,A=m.right,x=m.top,R=m.bottom,C=parseFloat(e.searchParams.get("max")||"90"),P=parseFloat(e.searchParams.get("min")||"0");return new Promise((w,j)=>{this.pendingRequests.set(y,{resolve:w,reject:j,controller:t}),this.worker.postMessage({tileId:y,center:v.image,left:p.image,right:A.image,top:x.image,bottom:R.image,demTypeNumber:d,modeNumber:h,mode:f,elevationColorArray:g,max:C,min:P,tile:{x:r,y:a,z:s},encodeType:b})})}}handleError(e){console.error("Worker error:",e),this.pendingRequests.forEach(t=>{t.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()}cancelAllRequests(){this.pendingRequests.size>0&&this.pendingRequests.forEach(({reject:e,controller:t})=>{t.abort(),e(new Error("Request cancelled"))}),console.info("All requests have been cancelled."),this.pendingRequests.clear()}clearCache(){this.tileCache.clear()}};class eu{constructor(e){F(this,"workers",[]);F(this,"workerIndex",0);F(this,"poolSize");this.poolSize=e;for(let t=0;t<e;t++){const r=new Worker(new URL(""+new URL("../workers/worker-Dr9vdl9S.js",import.meta.url).href,import.meta.url),{type:"module"});this.workers.push(new Xc(r))}}getNextWorker(){const e=this.workers[this.workerIndex];return this.workerIndex=(this.workerIndex+1)%this.poolSize,e}async request(e,t){return this.getNextWorker().request(e,t)}cancelAllRequests(){this.workers.forEach(e=>e.cancelAllRequests())}clearCache(){this.workers.forEach(e=>e.clearCache())}}const mn=new eu(2),tu=n=>({protocolName:n,request:(e,t)=>{const r=e.url.replace(`${n}://`,""),a=new URL(r,window.location.origin);return mn.request(a,t)},cancelAllRequests:()=>mn.cancelAllRequests(),clearCache:()=>mn.clearCache()}),nu=180/Math.PI;function Er(n,e){return n/Math.pow(2,e)*360-180}function kr(n,e){const t=Math.PI-2*Math.PI*n/Math.pow(2,e);return nu*Math.atan(.5*(Math.exp(t)-Math.exp(-t)))}function ru(n){const e=Er(n[0]+1,n[2]),t=Er(n[0],n[2]),r=kr(n[1]+1,n[2]),a=kr(n[1],n[2]);return[t,r,e,a]}function au(n){return[[n[0]*2,n[1]*2,n[2]+1],[n[0]*2+1,n[1]*2,n[2]+1],[n[0]*2+1,n[1]*2+1,n[2]+1],[n[0]*2,n[1]*2+1,n[2]+1]]}function su(n){return[n[0]>>1,n[1]>>1,n[2]-1]}function iu(n){return au(su(n))}function ou(n,e={}){const t=Number(n[0]),r=Number(n[1]),a=Number(n[2]),s=Number(n[3]);if(n.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");const i=[t,r];return xs([[i,[a,r],[a,s],[t,s],i]],e.properties,{bbox:n,id:e.id})}var lu=ou;let cu=class{constructor(e){F(this,"worker");F(this,"pendingRequests");F(this,"handleMessage",e=>{const{id:t,buffer:r,error:a}=e.data;if(a){const s=this.pendingRequests.get(t);s&&(s.resolve({data:new Uint8Array}),this.pendingRequests.delete(t))}else{const s=this.pendingRequests.get(t);s&&(s.resolve({data:r}),this.pendingRequests.delete(t))}});F(this,"handleError",e=>{console.error("Worker error:",e),this.pendingRequests.forEach(t=>{t.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()});this.worker=e,this.pendingRequests=new Map,this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,t){try{const r=parseInt(e.searchParams.get("x")||"0",10),a=parseInt(e.searchParams.get("y")||"0",10),s=parseInt(e.searchParams.get("z")||"0",10),l={type:"FeatureCollection",features:iu([r,a,s]).map(u=>{const[d,f,h]=u,b=ru([d,f,h]);return{...lu(b),properties:{x:r,y:a,z:s,index:`${h}/${d}/${f}`}}})},{signal:c}=t,o=`${s}/${r}/${a}_tile_index`;return new Promise((u,d)=>{this.pendingRequests.set(o,{resolve:u,reject:d}),c.addEventListener("abort",()=>{this.pendingRequests.delete(o),d(new Error("Request aborted"))}),this.worker.postMessage({id:o,z:s,x:r,y:a,geojson:l})})}catch(r){return Promise.reject(r)}}};const uu=new Worker(new URL(""+new URL("../workers/worker-DfC3PjOV.js",import.meta.url).href,import.meta.url),{type:"module"});new cu(uu);const Ar=new Map,fu=async(n,e,t)=>{try{let r=Ar.get(n);r||(r=new Kt(n),Ar.set(n,r));const a=await r.getZxy(e.z,e.x,e.y,t);if(!a||!a.data)throw new Error("Tile data not found");const s=new Blob([a.data],{type:"image/png"});return await createImageBitmap(s)}catch(r){if(r instanceof Error&&r.name==="AbortError")throw new Error("Request aborted");return await createImageBitmap(new ImageData(1,1))}},du=async(n,e)=>{try{const t=await fetch(n,{signal:e});if(!t.ok)throw new Error("Failed to fetch image");return await createImageBitmap(await t.blob())}catch(t){if(t instanceof Error&&t.name==="AbortError")throw new Error("Request aborted");return await createImageBitmap(new ImageData(1,1))}};class bu{constructor(e){F(this,"worker");F(this,"pendingRequests");F(this,"handleMessage",e=>{const{id:t,buffer:r,error:a}=e.data,s=this.pendingRequests.get(t);a?(console.error(`Error processing tile ${t}:`,a),s&&(s.reject(new Error(a)),this.pendingRequests.delete(t))):s&&(s.resolve({data:r}),this.pendingRequests.delete(t))});F(this,"handleError",e=>{console.error("Worker error:",e),this.pendingRequests.forEach(t=>{t.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()});this.worker=e,this.pendingRequests=new Map,this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,t){try{const r=parseInt(e.searchParams.get("x")||"0",10),a=parseInt(e.searchParams.get("y")||"0",10),s=parseInt(e.searchParams.get("z")||"0",10),i=e.origin+e.pathname,l=e.searchParams.get("entryId")||"",c=`${i}_${l}_${r}_${a}_${s}`,o=e.searchParams.get("formatType")||"image",u=e.searchParams.get("demType")||"mapbox";let d;return o==="pmtiles"?d=await fu(i,{x:r,y:a,z:s},t.signal):o==="image"&&(d=await du(i,t.signal)),new Promise((f,h)=>{const b=wa[u];this.pendingRequests.set(c,{resolve:f,reject:h,controller:t}),this.worker.postMessage({image:d,demTypeNumber:b,id:c}),t.signal.addEventListener("abort",()=>{this.pendingRequests.delete(c),h(new Error("Request aborted"))})})}catch(r){return Promise.reject(r)}}}const hu=new Worker(new URL(""+new URL("../workers/worker-qG8lXCev.js",import.meta.url).href,import.meta.url),{type:"module"}),mu=new bu(hu),gu=n=>({protocolName:n,request:(e,t)=>{const r=e.url.replace(`${n}://`,""),a=new URL(r);return mu.request(a,t)}}),_u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAkCAYAAAB4+EEtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQ0SURBVHgBtVdNTBtHFH6zP/7HsSFppQYldtpITS4lKI3US7TgHNJTI/Vewa0ih9AbPgWf8nOiCq04urlHSm40xWHpJahUCkrV0CpV2ARKSHHA2Nhr7649nbfFyDHM7oLoJ3m1OzP7vn3/zwRccGV0OFYMmgOEwifsUQECMaDsx0AA5imhGm3AAx/41Mn0mOYkiziTGNdEURr2d4RiciQIvkgAiCACEQX7jFWtgaUbYGzpUN0o4VJWpnKGR7onWer20DVBkEaDXdFY6GhsR7gT6obFCItQfrOhUUozj9LfZ9vPiO0Ll24NXRcl+Wb8o+MB/5EI04SAFwjsg3xM+0A8GjOKlSsnU72wODU3wyWzifyB0c7T3SDIEhwESBrs7ACzqCsn+s69Q7hD1n9jaECU5TEk8mI2J6A1ArEI1DbKysnUuc3FqV9n7XW8XL7xdcIk4nTXxycSok+GwwL6cf35ciFSFpL3R8cKtgqM6Hr4/fihEiFEnwSho0diRb81jM9kW6tFphU4kR0LRuHzRC9c7D4LIckPa3oRFtaX4d7zx/Y9D7TegPwfr2ztJAMEJRjvcCRCgq/OKDZJK/mx42fh/Hsfwt0FFX7++9me76L//dFwbKtRHBAIEb7AkHXSqJ2oFSHZb+/jOR6wGFBWgRgZJKSAj3vwy9OfcYlaCdHEPMhhWxlFYNneIwX5ws50doMXXGQm5QFzD2uqa0I5macVqB0Pdt5SJCNQwIjhoWLVwAvcIhJ5BNY65i2dL3Bm+XfwgoW3S9w97A5AybzALjO1YoV7cFJ74qod7t/7a5a7X10vASH0gWAFpDGdtQaeKdE8d5+pXEJcx30nMxrlKlgN+b6o/ThbPZX6VAFBSPDy7WVpDR6//hPCLAVCcgDCLBiQJPfqKUw8fWhXEq5WrKmyX3Y6feeH//oIJZlKvqCwOsat+PjlE789hP2CNVOos+6N97bkqfS4CvWGihuHCdSqbphZdXtM2FHDovXByttCwSky94MGay/s4wtNrd4hU9MTGmmQb4tLa3AYKL9Zh4ZpZtSW4WfXgJG6dfVJqCvWE/mgCw4KNF9x6R8tN/JdsnV9VzTUCbXNabLx7CDYNh8GRV/73q7pSvtpbjXZf6FmVvTLwXjU83TVxNZKHti73zwauTPpSoZYzM3NJvvOK6wHJXwdIfAKPb8J5bVClpkvvdc+t+rb0ZkvaFhqvADNV1rJa63R55nMjk5KBkuv80yQCW5EGy9WAM+rDvO+6CTkRe4X7VT/BcJqm8JGce45Fnms/tUyufR41kmeI9k2oZpUehVap3v6DyOPmVplRINusjyNvk3/taeDWdYxeTWLSq5Ensma/iu8XN3xH/oJq42bn1rhasYmmv6zqoYSYH8cNrVVMHXD1U+t2F/GMly6eXWajWaKWa6qUyPjffB/Q7k91AMHwL8l8AYhw3HokQAAAABJRU5ErkJggg==",pu=new fs;xt.addProtocol("pmtiles",pu.tile);const Pr=tu("webgl");xt.addProtocol(Pr.protocolName,Pr.request);const Dr=gu("terrain");xt.addProtocol(Dr.protocolName,Dr.request);const yu=T(!1),jt=T(!0),Fa=T(!1),vu=()=>{let n=null,e=null;const{subscribe:t,set:r}=T(null),a=T({bbox:[0,0,0,0],zoom:0,center:[0,0],pitch:0,bearing:0}),s=T(null),i=T(null),l=T(null),c=T(null),o=T(null),u=T(null),d=T(null),f=T(null),h=T(null),b=T(null),m=T(null),g=T(null),v=T(null),y=T(null),p=T(null),A=(_,D)=>{const J=Us();e=new xt.Map({...J,minZoom:rn()?2:1,container:_,centerClampedToGround:!0,style:D,attributionControl:!1,localIdeographFontFamily:!1,maxPitch:85,transformRequest:(k,ie)=>({url:k})}),X(Ka)&&e.on("data",k=>{}),h.set(D),e&&(e.on("styleimagemissing",k=>{if(!e)return;const ie=k.id;if(ie==="marker_png")fetch(_u).then(async xe=>{if(!xe.ok)throw new Error(`Failed to fetch image: ${xe.statusText}`);const Te=await createImageBitmap(await xe.blob());e&&e.addImage("marker_png",Te)});else if(ie==="poi-icon"){const bt=new Uint8Array(1024);e.addImage("poi-icon",{width:16,height:16,data:bt})}}),e.once("style.load",()=>{b.set(e)}),e.on("styledata",k=>{e&&(a.set({bbox:ne(),zoom:e.getZoom(),center:[e.getCenter().lng,e.getCenter().lat],pitch:e.getPitch(),bearing:e.getBearing()}),m.set(k))}),e.on("load",k=>{p.set(k)}),e.on("click",k=>{X(yu)||s.set(k)}),e.on("resize",k=>{v.set(k)}),e.on("data",k=>{jt.set(!0)}),e.on("idle",k=>{jt.set(!1)}),e.on("rotate",k=>{if(!e)return;const ie=e.getBearing();d.set(ie)}),e.on("mousemove",k=>{c.set(k)}),e.on("mousedown",k=>{o.set(k)}),e.on("mouseup",k=>{u.set(k)}),e.on("mouseover",k=>{i.set(k)}),e.on("mouseout",k=>{l.set(k)}),e.on("moveend",k=>{if(!e)return;const ie=window.location.href;let xe=window.location.origin;xe+="/morivis";const Te=e.getZoom(),bt=e.getCenter(),we=e.getBearing(),Ea=e.getPitch();ie.startsWith(`${xe}/map`)&&$s({center:[bt.lng,bt.lat],zoom:Te,pitch:Ea,bearing:we}),a.set({bbox:ne(),zoom:e.getZoom(),center:[e.getCenter().lng,e.getCenter().lat],pitch:e.getPitch(),bearing:e.getBearing()}),g.set(k)}),e.on("zoom",k=>{if(!e)return;const ie=e.getZoom();f.set(ie)}),y.set(e))},x=_=>_&&typeof _=="object"&&typeof _.getLayer=="function"&&typeof _.setLayoutProperty=="function"&&!_._removed,R=_=>{!e||!x(e)||(h.set(_),e.setStyle(_))},C=(_,D)=>{if(!e||!x(e))return;e.getLayer(_)?e.setFilter(_,D):console.warn(`Layer with ID ${_} does not exist.`)},P=(_,D)=>{!e||!x(e)||(n=new xt.Marker({element:_}).setLngLat(D).addTo(e))},w=()=>{if(!e||!x(e))return;const _=[136.91917,35.54692,136.926817,35.555122];e.fitBounds(_,{padding:20,bearing:e.getBearing(),duration:1e3,animate:!0})},j=async()=>{if(!e||!x(e))return;const _=e.getCanvasContainer(),D=_.clientWidth,J=_.clientHeight;return{canvas:_,witdh:D,height:J}},O=()=>{!e||!x(e)||n&&n.remove()},K=()=>{!e||!x(e)||e.getTerrain()&&setTimeout(()=>{e&&e.terrain.sourceCache.sourceCache.reload()},200)},ye=_=>{if(!(!e||!x(e)))try{_?e.getSource("terrain")&&(e.setTerrain({source:"terrain",exaggeration:1}),ar("1")):(e.getTerrain()&&e.setTerrain(null),ar("0"))}catch(D){console.error("Terrain control error:",D)}},z=(_,D)=>e?e.queryRenderedFeatures(_,D):[],G=(_,D)=>{!e||!x(e)||e.panTo(_,D)},V=_=>{if(!(!e||!x(e))&&(rn()&&e.panTo(_,{duration:300}),Ra())){const k=e.getContainer().clientHeight/4;e.panTo(_,{offset:[0,-k],duration:300})}},Z=_=>{!e||!x(e)||e.easeTo(_)},te=async _=>{if(!(!e||!x(e)))if(rn(),_.metaData.center){e.easeTo({center:_.metaData.center,zoom:_.metaData.minZoom+1.5,bearing:e.getBearing(),pitch:e.getPitch(),duration:500});return}else e.fitBounds(_.metaData.bounds,{bearing:e.getBearing(),padding:-100,duration:500})},q=async _=>{if(!e||!x(e))return;const D=Fs(_.geometry);e.fitBounds(D,{bearing:e.getBearing(),padding:20,duration:500})},Ke=_=>{if(!e||!x(e))return;const D=e.getSprite();D||console.warn("Sprite is not available yet.");const J=D.find(k=>k.id===_);if(J)return J.url;console.warn(`Sprite with id ${_} not found.`)},ne=()=>{if(!e||!x(e))return console.warn("Map is not ready yet."),[0,0,0,0];const _=we=>Math.max(Bi,Math.min(Ci,we)),D=we=>(we=we%360,we>180?we-=360:we<-180&&(we+=360),we),J=e.getBounds(),k=_(J._sw.lat),ie=_(J._ne.lat);let xe=D(J._sw.lng),Te=D(J._ne.lng);return xe>Te&&(xe=Ti,Te=Si),[xe,k,Te,ie]},he=()=>{if(!e||!x(e)){console.warn("Map is not ready yet.");return}const _=e.getStyle(),D={..._.sources},J=[..._.layers];for(const k of J)e.getLayer(k.id)&&e.removeLayer(k.id);for(const k in D)e.getSource(k)&&e.removeSource(k);for(const[k,ie]of Object.entries(D))e.addSource(k,ie);for(const k of J)e.addLayer(k);X(Fa)&&e.setTerrain({source:"terrain",exaggeration:1})},ae=()=>{!e||!x(e)||(e.setTerrain(null),e.removeSource("terrain"),e.setTerrain({source:"terrain",exaggeration:1}),e.getBounds().toArray(),e.getZoom(),he(),K())},se=_=>{if(!e||!x(e))return;const D=e.getCanvas();D&&(D.style.cursor=_)},B=_=>D=>_.subscribe(J=>{J&&D(J)});return{subscribe:t,init:A,isInitialized:()=>X(y),remove:()=>{!e||!x(e)||(e.remove(),e=null,r(null),i.set(null),l.set(null),d.set(null),f.set(null),h.set(null),jt.set(!0),b.set(null),g.set(null),v.set(null),y.set(null),p.set(null),n=null)},addLockonMarker:P,removeLockonMarker:O,queryRenderedFeatures:z,setCursor:se,setData:(_,D)=>{if(!e||!x(e))return;const J=e.getSource(_);J?J.setData(D):console.warn(`Source with ID ${_} does not exist.`)},setStyle:R,setFilter:C,setFeatureState:(_,D)=>{e&&e.setFeatureState(_,D)},setLayoutProperty:(_,D,J,k)=>{if(!(!e||!x(e)))try{e.getLayer(_)?e.setLayoutProperty(_,D,J,k):console.warn(`Layer with ID ${_} does not exist.`)}catch(ie){console.error(`Error setting layout property for layer ${_}:`,ie)}},setBearing:_=>e==null?void 0:e.setBearing(_),setPitch:_=>e==null?void 0:e.setPitch(_),setZoom:_=>e==null?void 0:e.setZoom(_),setCamera:_=>{if(!e)return;const D=e.queryTerrainElevation(_);e.setCenterClampedToGround(!1),e.setCenterElevation(D??0),e._elevationStart=e._elevationTarget},resetCamera:()=>{e&&(e.setCenterClampedToGround(!0),e.setCenterElevation(0),e._elevationStart=e._elevationTarget)},fitBounds:(_,D)=>{!e||!x(e)||e.fitBounds(_,D)},panTo:G,panToPoi:V,flyTo:(_,D)=>{!e||!x(e)||e.flyTo({center:_,...D})},easeTo:_=>Z(_),focusLayer:te,focusFeature:q,jumpToFac:w,terrainReload:K,toggleTerrain:ye,resetDem:ae,resetAllSourcesAndLayers:he,getLockonMarker:()=>n,getMap:()=>e,getZoom:()=>e==null?void 0:e.getZoom(),getCenter:()=>e==null?void 0:e.getCenter(),getPitch:()=>e==null?void 0:e.getPitch(),getBearing:()=>e==null?void 0:e.getBearing(),getTerrain:()=>e==null?void 0:e.getTerrain(),getLayer:_=>{if(!(!e||!x(e)))return e.getLayer(_)},getState:()=>X(a),getImage:_=>e==null?void 0:e.getImage(_),getMapBounds:ne,getSpriteUrl:Ke,getCanvas:()=>e==null?void 0:e.getCanvas(),getMapContainer:j,onSetStyle:B(h),onResize:B(v),onload:B(p),onClick:B(s),onMouseover:B(i),onMouseout:B(l),onMousemove:B(c),onMouseDown:B(o),onMouseUp:B(u),onRotate:B(d),onZoom:B(f),onMooveEnd:B(g),onLoading:B(jt),onInitialized:B(y),onStyleLoad:B(b),onStateChange:a.subscribe}},Pf=vu();class xu extends Error{constructor(e="The operation was aborted"){super(e),this.name="AbortError"}}function Df(n,{signal:e}={}){return new Promise((t,r)=>{const a=()=>{r(new xu)},s=()=>{clearTimeout(i),a()};if(e!=null&&e.aborted)return a();const i=setTimeout(()=>{e==null||e.removeEventListener("abort",s),t()},n);e==null||e.addEventListener("abort",s,{once:!0})})}const wu=T(null),Cr=(n,e,t=!1)=>{wu.set({message:n,type:e,persistent:t})},Fu=()=>window.matchMedia("(display-mode: standalone)").matches,Eu=()=>{const n=navigator.userAgent;return/iPad|iPhone|iPod/.test(n)&&/Safari/.test(n)&&!/CriOS|FxiOS|OPiOS|mercury/.test(n)},ku=()=>/Android/.test(navigator.userAgent);let pt=null;const Cf=n=>{pt=n},Au=()=>{La.set(!0)},Bf=()=>{if(Fu()){Cr("PWA","info");return}if(pt&&ku()){pt.prompt(),pt.userChoice.then(n=>{n.outcome,pt=null});return}if(Eu()){Au();return}Cr("PWA","info")};export{lf as $,Cr as A,sf as B,Rl as C,Yc as D,Nt as E,tf as F,Ge as G,af as H,Pf as I,ut as J,wr as K,rf as L,Ef as M,ef as N,Nl as O,Yu as P,Fa as Q,ar as R,Vu as S,Mn as T,wf as U,Pi as V,Bi as W,Hs as X,Ff as Y,Fs as Z,of as _,Cf as a,yu as a0,pf as a1,wu as a2,Fu as a3,Bf as a4,Hu as a5,qu as a6,uf as a7,cf as a8,ws as a9,Uu as aa,Ju as ab,Gu as ac,Wu as ad,Zu as b,Ci as c,Df as d,vf as e,bf as f,xf as g,hf as h,mf as i,_f as j,gf as k,Hc as l,ff as m,yf as n,Qu as o,Xu as p,wa as q,$u as r,Iu as s,ru as t,ss as u,Hl as v,df as w,Kt as x,nf as y,Mu as z};
