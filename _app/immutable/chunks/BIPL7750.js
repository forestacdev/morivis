var Se=Object.defineProperty;var we=(t,e,s)=>e in t?Se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var k=(t,e,s)=>we(t,typeof e!="symbol"?e+"":e,s);import{t as _e,h as C,d as At,T as yt,ap as Te,al as Et,aj as Ie,ak as Ae,aq as Ee,ar as Me,as as Mt,C as Pe,at as Ce,ai as G,au as xe,E as Le,av as ke,aw as Oe,F as bt,u as ft,ax as De,ay as Xt,az as $e,I as Zt,n as N,aA as Fe,aB as Ne,aC as te,aD as lt,aE as ee,aF as He,aG as Re,aH as je,L as ze,aI as Ve,aJ as Be,aK as Ge,aL as Ue,aM as Ye,aN as qe,q as A,aO as Qe,D as Pt,aP as We,aQ as Ke,ae as Je,aR as Xe,aS as Ze,aT as ts,aU as es,p as ss,o as ns,af as is,aV as rs,aW as os,ab as Ct,a9 as xt,a as U,b as as,K as Lt,J as Y,aX as nt,v as cs,aY as us,$ as fs,y as ls,c as ds,r as hs,f as ps}from"./Dd4CGWiK.js";import{w as E,g as P}from"./BWjmW4OD.js";import"./CWj6FrbW.js";import{i as gs}from"./CQnr0Roj.js";import{l as vs,i as kt}from"./H7Pt7YBJ.js";function ms(t,e,s=!1,n=!1,i=!1){var r=t,o="";_e(()=>{var a=yt;if(o===(o=e()??"")){C&&At();return}if(a.nodes!==null&&(Te(a.nodes.start,a.nodes.end),a.nodes=null),o!==""){if(C){Et.data;for(var c=At(),f=c;c!==null&&(c.nodeType!==Ie||c.data!=="");)f=c,c=Ae(c);if(c===null)throw Ee(),Me;Mt(Et,f),r=Pe(c);return}var l=o+"";s?l=`<svg>${l}</svg>`:n&&(l=`<math>${l}</math>`);var d=Ce(l);if((s||n)&&(d=G(d)),Mt(G(d),d.lastChild),s||n)for(;G(d);)r.before(G(d));else r.before(d)}})}const ys=()=>performance.now(),O={tick:t=>requestAnimationFrame(t),now:()=>ys(),tasks:new Set};function se(){const t=O.now();O.tasks.forEach(e=>{e.c(t)||(O.tasks.delete(e),e.f())}),O.tasks.size!==0&&O.tick(se)}function bs(t){let e;return O.tasks.size===0&&O.tick(se),{promise:new Promise(s=>{O.tasks.add(e={c:t,f:s})}),abort(){O.tasks.delete(e)}}}function q(t,e){Xt(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ss(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function Ot(t){const e={},s=t.split(";");for(const n of s){const[i,r]=n.split(":");if(!i||r===void 0)break;const o=Ss(i.trim());e[o]=r.trim()}return e}const ws=t=>t;function Xn(t,e,s){var n=yt,i=n.nodes,r,o,a,c=null;i.a??(i.a={element:t,measure(){r=this.element.getBoundingClientRect()},apply(){if(a==null||a.abort(),o=this.element.getBoundingClientRect(),r.left!==o.left||r.right!==o.right||r.top!==o.top||r.bottom!==o.bottom){const f=e()(this.element,{from:r,to:o},s==null?void 0:s());a=K(this.element,f,void 0,1,()=>{a==null||a.abort(),a=void 0})}},fix(){if(!t.getAnimations().length){var{position:f,width:l,height:d}=getComputedStyle(t);if(f!=="absolute"&&f!=="fixed"){var u=t.style;c={position:u.position,width:u.width,height:u.height,transform:u.transform},u.position="absolute",u.width=l,u.height=d;var p=t.getBoundingClientRect();if(r.left!==p.left||r.top!==p.top){var m=`translate(${r.left-p.left}px, ${r.top-p.top}px)`;u.transform=u.transform?`${u.transform} ${m}`:m}}}},unfix(){if(c){var f=t.style;f.position=c.position,f.width=c.width,f.height=c.height,f.transform=c.transform}}}),i.a.element=t}function Zn(t,e,s,n){var _;var i=(t&Fe)!==0,r=(t&Ne)!==0,o=i&&r,a=(t&De)!==0,c=o?"both":i?"in":"out",f,l=e.inert,d=e.style.overflow,u,p;function m(){return Xt(()=>f??(f=s()(e,(n==null?void 0:n())??{},{direction:c})))}var b={is_global:a,in(){var y;if(e.inert=l,!i){p==null||p.abort(),(y=p==null?void 0:p.reset)==null||y.call(p);return}r||u==null||u.abort(),q(e,"introstart"),u=K(e,m(),p,1,()=>{q(e,"introend"),u==null||u.abort(),u=f=void 0,e.style.overflow=d})},out(y){if(!r){y==null||y(),f=void 0;return}e.inert=!0,q(e,"outrostart"),p=K(e,m(),u,0,()=>{q(e,"outroend"),y==null||y()})},stop:()=>{u==null||u.abort(),p==null||p.abort()}},S=yt;if(((_=S.nodes).t??(_.t=[])).push(b),i&&xe){var h=a;if(!h){for(var g=S.parent;g&&g.f&Le;)for(;(g=g.parent)&&!(g.f&ke););h=!g||(g.f&Oe)!==0}h&&bt(()=>{ft(()=>b.in())})}}function K(t,e,s,n,i){var r=n===1;if($e(e)){var o,a=!1;return Zt(()=>{if(!a){var S=e({direction:r?"in":"out"});o=K(t,S,s,n,i)}}),{abort:()=>{a=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(s==null||s.deactivate(),!(e!=null&&e.duration))return i(),{abort:N,deactivate:N,reset:N,t:()=>n};const{delay:c=0,css:f,tick:l,easing:d=ws}=e;var u=[];if(r&&s===void 0&&(l&&l(0,1),f)){var p=Ot(f(0,1));u.push(p,p)}var m=()=>1-n,b=t.animate(u,{duration:c,fill:"forwards"});return b.onfinish=()=>{b.cancel();var S=(s==null?void 0:s.t())??1-n;s==null||s.abort();var h=n-S,g=e.duration*Math.abs(h),_=[];if(g>0){var y=!1;if(f)for(var L=Math.ceil(g/16.666666666666668),v=0;v<=L;v+=1){var w=S+h*d(v/L),I=Ot(f(w,1-w));_.push(I),y||(y=I.overflow==="hidden")}y&&(t.style.overflow="hidden"),m=()=>{var M=b.currentTime;return S+h*d(M/g)},l&&bs(()=>{if(b.playState!=="running")return!1;var M=m();return l(M,1-M),!0})}b=t.animate(_,{duration:g,fill:"forwards"}),b.onfinish=()=>{m=()=>n,l==null||l(n,1-n),i()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=N)},deactivate:()=>{i=N},reset:()=>{n===0&&(l==null||l(1,0))},t:()=>m()}}function _s(t,e){var s=void 0,n;te(()=>{s!==(s=e())&&(n&&(lt(n),n=null),s&&(n=ee(()=>{bt(()=>s(t))})))})}function ne(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=ne(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function Ts(){for(var t,e,s=0,n="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=ne(t))&&(n&&(n+=" "),n+=e);return n}function Is(t){return typeof t=="object"?Ts(t):t??""}const Dt=[...` 	
\r\fÂ \v\uFEFF`];function As(t,e,s){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),s){for(var i in s)if(s[i])n=n?n+" "+i:i;else if(n.length)for(var r=i.length,o=0;(o=n.indexOf(i,o))>=0;){var a=o+r;(o===0||Dt.includes(n[o-1]))&&(a===n.length||Dt.includes(n[a]))?n=(o===0?"":n.substring(0,o))+n.substring(a+1):o=a}}return n===""?null:n}function $t(t,e=!1){var s=e?" !important;":";",n="";for(var i in t){var r=t[i];r!=null&&r!==""&&(n+=" "+i+": "+r+s)}return n}function it(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Es(t,e){if(e){var s="",n,i;if(Array.isArray(e)?(n=e[0],i=e[1]):n=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var r=!1,o=0,a=!1,c=[];n&&c.push(...Object.keys(n).map(it)),i&&c.push(...Object.keys(i).map(it));var f=0,l=-1;const b=t.length;for(var d=0;d<b;d++){var u=t[d];if(a?u==="/"&&t[d-1]==="*"&&(a=!1):r?r===u&&(r=!1):u==="/"&&t[d+1]==="*"?a=!0:u==='"'||u==="'"?r=u:u==="("?o++:u===")"&&o--,!a&&r===!1&&o===0){if(u===":"&&l===-1)l=d;else if(u===";"||d===b-1){if(l!==-1){var p=it(t.substring(f,l).trim());if(!c.includes(p)){u!==";"&&d++;var m=t.substring(f,d).trim();s+=" "+m+";"}}f=d+1,l=-1}}}}return n&&(s+=$t(n)),i&&(s+=$t(i,!0)),s=s.trim(),s===""?null:s}return t==null?null:String(t)}function Ms(t,e,s,n,i,r){var o=t.__className;if(C||o!==s||o===void 0){var a=As(s,n,r);(!C||a!==t.getAttribute("class"))&&(a==null?t.removeAttribute("class"):e?t.className=a:t.setAttribute("class",a)),t.__className=s}else if(r&&i!==r)for(var c in r){var f=!!r[c];(i==null||f!==!!i[c])&&t.classList.toggle(c,f)}return r}function rt(t,e={},s,n){for(var i in s){var r=s[i];e[i]!==r&&(s[i]==null?t.style.removeProperty(i):t.style.setProperty(i,r,n))}}function Ps(t,e,s,n){var i=t.__style;if(C||i!==e){var r=Es(e,n);(!C||r!==t.getAttribute("style"))&&(r==null?t.removeAttribute("style"):t.style.cssText=r),t.__style=e}else n&&(Array.isArray(n)?(rt(t,s==null?void 0:s[0],n[0]),rt(t,s==null?void 0:s[1],n[1],"important")):rt(t,s,n));return n}function dt(t,e,s=!1){if(t.multiple){if(e==null)return;if(!He(e))return Re();for(var n of t.options)n.selected=e.includes(Ft(n));return}for(n of t.options){var i=Ft(n);if(je(i,e)){n.selected=!0;return}}(!s||e!==void 0)&&(t.selectedIndex=-1)}function Cs(t){var e=new MutationObserver(()=>{dt(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ze(()=>{e.disconnect()})}function Ft(t){return"__value"in t?t.__value:t.value}const H=Symbol("class"),R=Symbol("style"),ie=Symbol("is custom element"),re=Symbol("is html");function xs(t){if(C){var e=!1,s=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var n=t.value;J(t,"value",null),t.value=n}if(t.hasAttribute("checked")){var i=t.checked;J(t,"checked",null),t.checked=i}}};t.__on_r=s,Zt(s),Ye()}}function ti(t,e){var s=St(t);s.value===(s.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Ls(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function J(t,e,s,n){var i=St(t);C&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=s)&&(e==="loading"&&(t[Ge]=s),s==null?t.removeAttribute(e):typeof s!="string"&&oe(t).includes(e)?t[e]=s:t.setAttribute(e,s))}function ks(t,e,s,n,i=!1,r=!1){if(C&&i&&t.tagName==="INPUT"){var o=t,a=o.type==="checkbox"?"defaultChecked":"defaultValue";a in s||xs(o)}var c=St(t),f=c[ie],l=!c[re];let d=C&&f;d&&Pt(!1);var u=e||{},p=t.tagName==="OPTION";for(var m in e)m in s||(s[m]=null);s.class?s.class=Is(s.class):s[H]&&(s.class=null),s[R]&&(s.style??(s.style=null));var b=oe(t);for(const v in s){let w=s[v];if(p&&v==="value"&&w==null){t.value=t.__value="",u[v]=w;continue}if(v==="class"){var S=t.namespaceURI==="http://www.w3.org/1999/xhtml";Ms(t,S,w,n,e==null?void 0:e[H],s[H]),u[v]=w,u[H]=s[H];continue}if(v==="style"){Ps(t,w,e==null?void 0:e[R],s[R]),u[v]=w,u[R]=s[R];continue}var h=u[v];if(!(w===h&&!(w===void 0&&t.hasAttribute(v)))){u[v]=w;var g=v[0]+v[1];if(g!=="$$")if(g==="on"){const I={},M="$$"+v;let T=v.slice(2);var _=es(T);if(We(T)&&(T=T.slice(0,-7),I.capture=!0),!_&&h){if(w!=null)continue;t.removeEventListener(T,u[M],I),u[M]=null}if(w!=null)if(_)t[`__${T}`]=w,Je([T]);else{let ye=function(be){u[v].call(this,be)};u[M]=Ke(T,t,ye,I)}else _&&(t[`__${T}`]=void 0)}else if(v==="style")J(t,v,w);else if(v==="autofocus")Xe(t,!!w);else if(!f&&(v==="__value"||v==="value"&&w!=null))t.value=t.__value=w;else if(v==="selected"&&p)Ls(t,w);else{var y=v;l||(y=Ze(y));var L=y==="defaultValue"||y==="defaultChecked";if(w==null&&!f&&!L)if(c[v]=null,y==="value"||y==="checked"){let I=t;const M=e===void 0;if(y==="value"){let T=I.defaultValue;I.removeAttribute(y),I.defaultValue=T,I.value=I.__value=M?T:null}else{let T=I.defaultChecked;I.removeAttribute(y),I.defaultChecked=T,I.checked=M?T:!1}}else t.removeAttribute(v);else L||b.includes(y)&&(f||typeof w!="string")?(t[y]=w,y in c&&(c[y]=ts)):typeof w!="function"&&J(t,y,w)}}}return d&&Pt(!0),u}function Nt(t,e,s=[],n=[],i=[],r,o=!1,a=!1){qe(i,s,n,c=>{var f=void 0,l={},d=t.nodeName==="SELECT",u=!1;if(te(()=>{var m=e(...c.map(A)),b=ks(t,f,m,r,o,a);u&&d&&"value"in m&&dt(t,m.value);for(let h of Object.getOwnPropertySymbols(l))m[h]||lt(l[h]);for(let h of Object.getOwnPropertySymbols(m)){var S=m[h];h.description===Qe&&(!f||S!==f[h])&&(l[h]&&lt(l[h]),l[h]=ee(()=>_s(t,()=>S))),b[h]=S}f=b}),d){var p=t;bt(()=>{dt(p,f.value,!0),Cs(p)})}u=!0})}function St(t){return t.__attributes??(t.__attributes={[ie]:t.nodeName.includes("-"),[re]:t.namespaceURI===Ve})}var Ht=new Map;function oe(t){var e=t.getAttribute("is")||t.nodeName,s=Ht.get(e);if(s)return s;Ht.set(e,s=[]);for(var n,i=t,r=Element.prototype;r!==i;){n=Ue(i);for(var o in n)n[o].set&&s.push(o);i=Be(i)}return s}const Os=t=>t;function wt(t){const e=t-1;return e*e*e+1}function Rt(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function ei(t,{delay:e=0,duration:s=400,easing:n=Os}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:s,easing:n,css:r=>`opacity: ${r*i}`}}function si(t,{delay:e=0,duration:s=400,easing:n=wt,x:i=0,y:r=0,opacity:o=0}={}){const a=getComputedStyle(t),c=+a.opacity,f=a.transform==="none"?"":a.transform,l=c*(1-o),[d,u]=Rt(i),[p,m]=Rt(r);return{delay:e,duration:s,easing:n,css:(b,S)=>`
			transform: ${f} translate(${(1-b)*d}${u}, ${(1-b)*p}${m});
			opacity: ${c-l*S}`}}function ni(t,{delay:e=0,duration:s=400,easing:n=wt,axis:i="y"}={}){const r=getComputedStyle(t),o=+r.opacity,a=i==="y"?"height":"width",c=parseFloat(r[a]),f=i==="y"?["top","bottom"]:["left","right"],l=f.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),d=parseFloat(r[`padding${l[0]}`]),u=parseFloat(r[`padding${l[1]}`]),p=parseFloat(r[`margin${l[0]}`]),m=parseFloat(r[`margin${l[1]}`]),b=parseFloat(r[`border${l[0]}Width`]),S=parseFloat(r[`border${l[1]}Width`]);return{delay:e,duration:s,easing:n,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*o};${a}: ${h*c}px;padding-${f[0]}: ${h*d}px;padding-${f[1]}: ${h*u}px;margin-${f[0]}: ${h*p}px;margin-${f[1]}: ${h*m}px;border-${f[0]}-width: ${h*b}px;border-${f[1]}-width: ${h*S}px;min-${a}: 0`}}function ii(t,{delay:e=0,duration:s=400,easing:n=wt,start:i=0,opacity:r=0}={}){const o=getComputedStyle(t),a=+o.opacity,c=o.transform==="none"?"":o.transform,f=1-i,l=a*(1-r);return{delay:e,duration:s,easing:n,css:(d,u)=>`
			transform: ${c} scale(${1-f*u});
			opacity: ${a-l*u}
		`}}const Ds="https://forestacdev.github.io/morivis-data",x=Ds,ri=x+"/legend",oi=x+"/table_join",Z=x+"/entries",ai=Z+"/fgb",ci=Z+"/gltf",ui=Z+"/pmtiles/raster",fi=Z+"/pmtiles/vector",li=x+"/images/cover",di=x+"/images/map",hi=x+"/images/feature",pi=x+"/images/icons",gi=x+"/street_view",$s=x+"/font",vi=$s+"/{fontstack}/{range}.pbf",mi=x+"/sprite/sprite",yi="#00d4fe",tt=768,bi={center:[136.921382,35.55356],zoom:16,pitch:0,bearing:0,bounds:[136.91917,35.54692,136.926817,35.555122]},Fs={zoom_0:{x:0,y:0,z:0},zoom_7:{x:113,y:50,z:7},zoom_9:{x:453,y:202,z:9},zoom_16:{x:57693,y:25835,z:16},zoom_15:{x:28846,y:12917,z:15}},Si=Fs.zoom_15,wi=["ensyurin_owl","ensyurin_road","ensyurin_syouhan","national_forest_stand"],ht=()=>!!(window.matchMedia&&window.matchMedia(`(min-device-width: ${tt+1}px)`).matches),Ns=()=>!!(window.matchMedia&&window.matchMedia(`(max-device-width: ${tt}px)`).matches),_i=()=>window.innerWidth<=tt,Ti=(t,e)=>{let s;if(e==="color"?s="bxs:color-fill":e==="number"?s="lsicon:number-filled":s="bxs:color-fill",!t)return s;switch(t){case"match":return"material-symbols:category-rounded";case"step":return"subway:step-1";case"linear":return"mdi:graph-bell-curve-cumulative";default:return s}},Ii=E(!1),Ai=E([]),Ei=E([]),Mi=E("view"),j=E(!1),$=E(!1),Pi=E(""),Ci=E(!1),xi=E(!1),Li=E(!1),ot=E(!!ht()),at=E(!1),ki=E(!1),Oi=E(!1),Di=E(!1),$i=E(!1),D=E("map"),jt=E(!1),Fi=E(!1),Hs=()=>{(()=>{const e=window.matchMedia(`(max-width: ${tt}px)`);jt.set(e.matches),e.addEventListener("change",s=>jt.set(s.matches))})()};Hs();const Rs=()=>{const{subscribe:t,set:e}=E("");return{subscribe:t,trigger:s=>{e(s),setTimeout(()=>e(""),0)}}},Ni=Rs();class js{constructor(){k(this,"isInitialized",!1);k(this,"isHandlingPopstate",!1);k(this,"previousState");k(this,"unsubscribers",[]);this.previousState=this.getInitialState(),this.init()}getInitialState(){return{showLayerMenu:!1,showDataMenu:!1,timestamp:Date.now()}}init(){this.isInitialized||(this.previousState=this.getCurrentStoreState(),history.state||history.replaceState(this.previousState,"",null),this.setupSubscriptions(),window.addEventListener("popstate",this.handlePopState.bind(this)),this.isInitialized=!0)}getCurrentStoreState(){return{showLayerMenu:P(ot),showDataMenu:P(at),timestamp:Date.now()}}setupSubscriptions(){const e=ot.subscribe(n=>{this.handleStoreChange("showLayerMenu",n)}),s=at.subscribe(n=>{this.handleStoreChange("showDataMenu",n)});this.unsubscribers=[e,s]}handleStoreChange(e,s){if(this.isHandlingPopstate)return;if(this.previousState[e]!==s&&(this.previousState[e]=s,this.previousState.timestamp=Date.now(),s===!0&&this.shouldAddToHistory(e))){const i={...this.previousState};history.pushState(i,"",null)}}shouldAddToHistory(e){return!(e==="showLayerMenu"&&ht())}handlePopState(e){if(this.isHandlingPopstate=!0,e.state&&this.isValidState(e.state))this.applyStateToStores(e.state);else{const s={showLayerMenu:!!ht(),showDataMenu:!1,timestamp:Date.now()};this.applyStateToStores(s)}setTimeout(()=>{this.isHandlingPopstate=!1},10)}isValidState(e){return e&&typeof e=="object"&&typeof e.showLayerMenu=="boolean"&&typeof e.showDataMenu=="boolean"}applyStateToStores(e){ot.set(e.showLayerMenu??!0),at.set(e.showDataMenu??!1),this.previousState={showLayerMenu:e.showLayerMenu??!0,showDataMenu:e.showDataMenu??!1,timestamp:e.timestamp??Date.now()}}getCurrentState(){return{...this.previousState}}getOpenMenuCount(){let e=0;return this.previousState.showDataMenu&&e++,e}getIsInitialized(){return this.isInitialized}destroy(){this.unsubscribers.forEach(e=>{typeof e=="function"&&e()}),this.unsubscribers=[],window.removeEventListener("popstate",this.handlePopState.bind(this)),this.isInitialized=!1}}class zs{constructor(){k(this,"isInitialized",!1);k(this,"isHandlingPopstate",!1);k(this,"previousState");k(this,"unsubscribers",[]);this.previousState=this.getInitialState(),this.init()}getInitialState(){return{activeMenu:"map",isStreetView:!1,isStyleEdit:!1,timestamp:Date.now()}}init(){this.isInitialized||(this.previousState=this.getCurrentStoreState(),history.state||history.replaceState(this.previousState,"",null),this.setupSubscription(),window.addEventListener("popstate",this.handlePopState.bind(this)),this.isInitialized=!0)}getCurrentStoreState(){return{activeMenu:P(D),isStreetView:P($),isStyleEdit:P(j),timestamp:Date.now()}}setupSubscription(){const e=D.subscribe(i=>{this.handleMenuChange(i)}),s=$.subscribe(i=>{this.handleStreetViewChange(i)}),n=j.subscribe(i=>{this.handleStyleEditChange(i)});this.unsubscribers=[e,s,n]}handleMenuChange(e){if(this.isHandlingPopstate)return;const s=this.previousState.activeMenu;if(s!==e&&(this.previousState.activeMenu=e,this.previousState.timestamp=Date.now(),this.shouldAddToHistoryForMenu(s,e))){const n={...this.previousState};history.pushState(n,"",null)}}handleStreetViewChange(e){if(this.isHandlingPopstate)return;const s=this.previousState.isStreetView;if(s!==e&&(this.previousState.isStreetView=e,this.previousState.timestamp=Date.now(),this.shouldAddToHistoryForStreetView(s,e))){const n={...this.previousState};history.pushState(n,"",null)}}handleStyleEditChange(e){if(this.isHandlingPopstate)return;const s=this.previousState.isStyleEdit;if(s!==e&&(this.previousState.isStyleEdit=e,this.previousState.timestamp=Date.now(),this.shouldAddToHistoryForStyleEdit(s,e))){const n={...this.previousState};history.pushState(n,"",null)}}shouldAddToHistoryForMenu(e,s){return e==="map"&&s!=="map"}shouldAddToHistoryForStreetView(e,s){return e===!1&&s===!0}shouldAddToHistoryForStyleEdit(e,s){return e===!1&&s===!0}handlePopState(e){const s=P(D),n=P($),i=P(j);if(n){this.isHandlingPopstate=!0,$.set(!1),D.set("map"),this.previousState={activeMenu:"map",isStreetView:!1,isStyleEdit:!1,timestamp:Date.now()},setTimeout(()=>{this.isHandlingPopstate=!1},10);return}if(i){this.isHandlingPopstate=!0,j.set(!1),D.set("map"),this.previousState={activeMenu:"map",isStreetView:!1,isStyleEdit:!1,timestamp:Date.now()},setTimeout(()=>{this.isHandlingPopstate=!1},10);return}if(s!=="map"){if(this.isHandlingPopstate=!0,e.state&&this.isValidState(e.state))this.applyStateToStore(e.state);else{const r={activeMenu:"map",isStreetView:!1,isStyleEdit:!1,timestamp:Date.now()};this.applyStateToStore(r)}setTimeout(()=>{this.isHandlingPopstate=!1},10)}}isValidState(e){const s=["map","layer","data","other"];return e&&typeof e=="object"&&typeof e.activeMenu=="string"&&s.includes(e.activeMenu)&&typeof e.isStreetView=="boolean"&&typeof e.isStyleEdit=="boolean"}applyStateToStore(e){D.set(e.activeMenu??"map"),$.set(e.isStreetView??!1),this.previousState={activeMenu:e.activeMenu??"map",isStreetView:e.isStreetView??!1,isStyleEdit:e.isStyleEdit??!1,timestamp:e.timestamp??Date.now()}}getCurrentState(){return{...this.previousState}}getCurrentMenu(){return P(D)}isMapActive(){return this.getCurrentMenu()==="map"}isStreetViewActive(){return P($)}isStyleEditActive(){return P(j)}getIsInitialized(){return this.isInitialized}destroy(){this.unsubscribers.forEach(e=>{typeof e=="function"&&e()}),this.unsubscribers=[],window.removeEventListener("popstate",this.handlePopState.bind(this)),this.isInitialized=!1}}Ns()?new zs:new js;const ae=/^[a-z0-9]+(-[a-z0-9]+)*$/,et=(t,e,s,n="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),c=i.pop(),f={provider:i.length>0?i[0]:n,prefix:c,name:a};return e&&!Q(f)?null:f}const r=i[0],o=r.split("-");if(o.length>1){const a={provider:n,prefix:o.shift(),name:o.join("-")};return e&&!Q(a)?null:a}if(s&&n===""){const a={provider:n,prefix:"",name:r};return e&&!Q(a,s)?null:a}return null},Q=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,ce=Object.freeze({left:0,top:0,width:16,height:16}),X=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),st=Object.freeze({...ce,...X}),pt=Object.freeze({...st,body:"",hidden:!1});function Vs(t,e){const s={};!t.hFlip!=!e.hFlip&&(s.hFlip=!0),!t.vFlip!=!e.vFlip&&(s.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(s.rotate=n),s}function zt(t,e){const s=Vs(t,e);for(const n in pt)n in X?n in t&&!(n in s)&&(s[n]=X[n]):n in e?s[n]=e[n]:n in t&&(s[n]=t[n]);return s}function Bs(t,e){const s=t.icons,n=t.aliases||Object.create(null),i=Object.create(null);function r(o){if(s[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=n[o]&&n[o].parent,c=a&&r(a);c&&(i[o]=[a].concat(c))}return i[o]}return Object.keys(s).concat(Object.keys(n)).forEach(r),i}function Gs(t,e,s){const n=t.icons,i=t.aliases||Object.create(null);let r={};function o(a){r=zt(n[a]||i[a],r)}return o(e),s.forEach(o),zt(t,r)}function ue(t,e){const s=[];if(typeof t!="object"||typeof t.icons!="object")return s;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),s.push(i)});const n=Bs(t);for(const i in n){const r=n[i];r&&(e(i,Gs(t,i,r)),s.push(i))}return s}const Us={provider:"",aliases:{},not_found:{},...ce};function ct(t,e){for(const s in e)if(s in t&&typeof t[s]!=typeof e[s])return!1;return!0}function fe(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!ct(t,Us))return null;const s=e.icons;for(const i in s){const r=s[i];if(!i||typeof r.body!="string"||!ct(r,pt))return null}const n=e.aliases||Object.create(null);for(const i in n){const r=n[i],o=r.parent;if(!i||typeof o!="string"||!s[o]&&!n[o]||!ct(r,pt))return null}return e}const Vt=Object.create(null);function Ys(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function F(t,e){const s=Vt[t]||(Vt[t]=Object.create(null));return s[e]||(s[e]=Ys(t,e))}function le(t,e){return fe(e)?ue(e,(s,n)=>{n?t.icons[s]=n:t.missing.add(s)}):[]}function qs(t,e,s){try{if(typeof s.body=="string")return t.icons[e]={...s},!0}catch{}return!1}let B=!1;function de(t){return typeof t=="boolean"&&(B=t),B}function Qs(t){const e=typeof t=="string"?et(t,!0,B):t;if(e){const s=F(e.provider,e.prefix),n=e.name;return s.icons[n]||(s.missing.has(n)?null:void 0)}}function Ws(t,e){const s=et(t,!0,B);if(!s)return!1;const n=F(s.provider,s.prefix);return e?qs(n,s.name,e):(n.missing.add(s.name),!0)}function Ks(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),B&&!e&&!t.prefix){let i=!1;return fe(t)&&(t.prefix="",ue(t,(r,o)=>{Ws(r,o)&&(i=!0)})),i}const s=t.prefix;if(!Q({prefix:s,name:"a"}))return!1;const n=F(e,s);return!!le(n,t)}const he=Object.freeze({width:null,height:null}),pe=Object.freeze({...he,...X}),Js=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Xs=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Bt(t,e,s){if(e===1)return t;if(s=s||100,typeof t=="number")return Math.ceil(t*e*s)/s;if(typeof t!="string")return t;const n=t.split(Js);if(n===null||!n.length)return t;const i=[];let r=n.shift(),o=Xs.test(r);for(;;){if(o){const a=parseFloat(r);isNaN(a)?i.push(r):i.push(Math.ceil(a*e*s)/s)}else i.push(r);if(r=n.shift(),r===void 0)return i.join("");o=!o}}function Zs(t,e="defs"){let s="";const n=t.indexOf("<"+e);for(;n>=0;){const i=t.indexOf(">",n),r=t.indexOf("</"+e);if(i===-1||r===-1)break;const o=t.indexOf(">",r);if(o===-1)break;s+=t.slice(i+1,r).trim(),t=t.slice(0,n).trim()+t.slice(o+1)}return{defs:s,content:t}}function tn(t,e){return t?"<defs>"+t+"</defs>"+e:e}function en(t,e,s){const n=Zs(t);return tn(n.defs,e+n.content+s)}const sn=t=>t==="unset"||t==="undefined"||t==="none";function nn(t,e){const s={...st,...t},n={...pe,...e},i={left:s.left,top:s.top,width:s.width,height:s.height};let r=s.body;[s,n].forEach(b=>{const S=[],h=b.hFlip,g=b.vFlip;let _=b.rotate;h?g?_+=2:(S.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),S.push("scale(-1 1)"),i.top=i.left=0):g&&(S.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),S.push("scale(1 -1)"),i.top=i.left=0);let y;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:y=i.height/2+i.top,S.unshift("rotate(90 "+y.toString()+" "+y.toString()+")");break;case 2:S.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:y=i.width/2+i.left,S.unshift("rotate(-90 "+y.toString()+" "+y.toString()+")");break}_%2===1&&(i.left!==i.top&&(y=i.left,i.left=i.top,i.top=y),i.width!==i.height&&(y=i.width,i.width=i.height,i.height=y)),S.length&&(r=en(r,'<g transform="'+S.join(" ")+'">',"</g>"))});const o=n.width,a=n.height,c=i.width,f=i.height;let l,d;o===null?(d=a===null?"1em":a==="auto"?f:a,l=Bt(d,c/f)):(l=o==="auto"?c:o,d=a===null?Bt(l,f/c):a==="auto"?f:a);const u={},p=(b,S)=>{sn(S)||(u[b]=S.toString())};p("width",l),p("height",d);const m=[i.left,i.top,c,f];return u.viewBox=m.join(" "),{attributes:u,viewBox:m,body:r}}const rn=/\sid="(\S+)"/g,on="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let an=0;function cn(t,e=on){const s=[];let n;for(;n=rn.exec(t);)s.push(n[1]);if(!s.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return s.forEach(r=>{const o=typeof e=="function"?e(r):e+(an++).toString(),a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const gt=Object.create(null);function un(t,e){gt[t]=e}function vt(t){return gt[t]||gt[""]}function _t(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const Tt=Object.create(null),z=["https://api.simplesvg.com","https://api.unisvg.com"],W=[];for(;z.length>0;)z.length===1||Math.random()>.5?W.push(z.shift()):W.push(z.pop());Tt[""]=_t({resources:["https://api.iconify.design"].concat(W)});function fn(t,e){const s=_t(e);return s===null?!1:(Tt[t]=s,!0)}function It(t){return Tt[t]}const ln=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let Gt=ln();function dn(t,e){const s=It(t);if(!s)return 0;let n;if(!s.maxURL)n=0;else{let i=0;s.resources.forEach(o=>{i=Math.max(i,o.length)});const r=e+".json?icons=";n=s.maxURL-i-s.path.length-r.length}return n}function hn(t){return t===404}const pn=(t,e,s)=>{const n=[],i=dn(t,e),r="icons";let o={type:r,provider:t,prefix:e,icons:[]},a=0;return s.forEach((c,f)=>{a+=c.length+1,a>=i&&f>0&&(n.push(o),o={type:r,provider:t,prefix:e,icons:[]},a=c.length),o.icons.push(c)}),n.push(o),n};function gn(t){if(typeof t=="string"){const e=It(t);if(e)return e.path}return"/"}const vn=(t,e,s)=>{if(!Gt){s("abort",424);return}let n=gn(e.provider);switch(e.type){case"icons":{const r=e.prefix,a=e.icons.join(","),c=new URLSearchParams({icons:a});n+=r+".json?"+c.toString();break}case"custom":{const r=e.uri;n+=r.slice(0,1)==="/"?r.slice(1):r;break}default:s("abort",400);return}let i=503;Gt(t+n).then(r=>{const o=r.status;if(o!==200){setTimeout(()=>{s(hn(o)?"abort":"next",o)});return}return i=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?s("abort",r):s("next",i)});return}setTimeout(()=>{s("success",r)})}).catch(()=>{s("next",i)})},mn={prepare:pn,send:vn};function yn(t){const e={loaded:[],missing:[],pending:[]},s=Object.create(null);t.sort((i,r)=>i.provider!==r.provider?i.provider.localeCompare(r.provider):i.prefix!==r.prefix?i.prefix.localeCompare(r.prefix):i.name.localeCompare(r.name));let n={provider:"",prefix:"",name:""};return t.forEach(i=>{if(n.name===i.name&&n.prefix===i.prefix&&n.provider===i.provider)return;n=i;const r=i.provider,o=i.prefix,a=i.name,c=s[r]||(s[r]=Object.create(null)),f=c[o]||(c[o]=F(r,o));let l;a in f.icons?l=e.loaded:o===""||f.missing.has(a)?l=e.missing:l=e.pending;const d={provider:r,prefix:o,name:a};l.push(d)}),e}function ge(t,e){t.forEach(s=>{const n=s.loaderCallbacks;n&&(s.loaderCallbacks=n.filter(i=>i.id!==e))})}function bn(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let s=!1;const n=t.provider,i=t.prefix;e.forEach(r=>{const o=r.icons,a=o.pending.length;o.pending=o.pending.filter(c=>{if(c.prefix!==i)return!0;const f=c.name;if(t.icons[f])o.loaded.push({provider:n,prefix:i,name:f});else if(t.missing.has(f))o.missing.push({provider:n,prefix:i,name:f});else return s=!0,!0;return!1}),o.pending.length!==a&&(s||ge([t],r.id),r.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),r.abort))})}))}let Sn=0;function wn(t,e,s){const n=Sn++,i=ge.bind(null,s,n);if(!e.pending.length)return i;const r={id:n,icons:e,callback:t,abort:i};return s.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(r)}),i}function _n(t,e=!0,s=!1){const n=[];return t.forEach(i=>{const r=typeof i=="string"?et(i,e,s):i;r&&n.push(r)}),n}var Tn={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function In(t,e,s,n){const i=t.resources.length,r=t.random?Math.floor(Math.random()*i):t.index;let o;if(t.random){let v=t.resources.slice(0);for(o=[];v.length>1;){const w=Math.floor(Math.random()*v.length);o.push(v[w]),v=v.slice(0,w).concat(v.slice(w+1))}o=o.concat(v)}else o=t.resources.slice(r).concat(t.resources.slice(0,r));const a=Date.now();let c="pending",f=0,l,d=null,u=[],p=[];typeof n=="function"&&p.push(n);function m(){d&&(clearTimeout(d),d=null)}function b(){c==="pending"&&(c="aborted"),m(),u.forEach(v=>{v.status==="pending"&&(v.status="aborted")}),u=[]}function S(v,w){w&&(p=[]),typeof v=="function"&&p.push(v)}function h(){return{startTime:a,payload:e,status:c,queriesSent:f,queriesPending:u.length,subscribe:S,abort:b}}function g(){c="failed",p.forEach(v=>{v(void 0,l)})}function _(){u.forEach(v=>{v.status==="pending"&&(v.status="aborted")}),u=[]}function y(v,w,I){const M=w!=="success";switch(u=u.filter(T=>T!==v),c){case"pending":break;case"failed":if(M||!t.dataAfterTimeout)return;break;default:return}if(w==="abort"){l=I,g();return}if(M){l=I,u.length||(o.length?L():g());return}if(m(),_(),!t.random){const T=t.resources.indexOf(v.resource);T!==-1&&T!==t.index&&(t.index=T)}c="completed",p.forEach(T=>{T(I)})}function L(){if(c!=="pending")return;m();const v=o.shift();if(v===void 0){if(u.length){d=setTimeout(()=>{m(),c==="pending"&&(_(),g())},t.timeout);return}g();return}const w={status:"pending",resource:v,callback:(I,M)=>{y(w,I,M)}};u.push(w),f++,d=setTimeout(L,t.rotate),s(v,e,w.callback)}return setTimeout(L),h}function ve(t){const e={...Tn,...t};let s=[];function n(){s=s.filter(a=>a().status==="pending")}function i(a,c,f){const l=In(e,a,c,(d,u)=>{n(),f&&f(d,u)});return s.push(l),l}function r(a){return s.find(c=>a(c))||null}return{query:i,find:r,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:n}}function Ut(){}const ut=Object.create(null);function An(t){if(!ut[t]){const e=It(t);if(!e)return;const s=ve(e),n={config:e,redundancy:s};ut[t]=n}return ut[t]}function En(t,e,s){let n,i;if(typeof t=="string"){const r=vt(t);if(!r)return s(void 0,424),Ut;i=r.send;const o=An(t);o&&(n=o.redundancy)}else{const r=_t(t);if(r){n=ve(r);const o=t.resources?t.resources[0]:"",a=vt(o);a&&(i=a.send)}}return!n||!i?(s(void 0,424),Ut):n.query(e,i,s)().abort}function Yt(){}function Mn(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,bn(t)}))}function Pn(t){const e=[],s=[];return t.forEach(n=>{(n.match(ae)?e:s).push(n)}),{valid:e,invalid:s}}function V(t,e,s){function n(){const i=t.pendingIcons;e.forEach(r=>{i&&i.delete(r),t.icons[r]||t.missing.add(r)})}if(s&&typeof s=="object")try{if(!le(t,s).length){n();return}}catch(i){console.error(i)}n(),Mn(t)}function qt(t,e){t instanceof Promise?t.then(s=>{e(s)}).catch(()=>{e(null)}):e(t)}function Cn(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:s,prefix:n}=t,i=t.iconsToLoad;if(delete t.iconsToLoad,!i||!i.length)return;const r=t.loadIcon;if(t.loadIcons&&(i.length>1||!r)){qt(t.loadIcons(i,n,s),l=>{V(t,i,l)});return}if(r){i.forEach(l=>{const d=r(l,n,s);qt(d,u=>{const p=u?{prefix:n,icons:{[l]:u}}:null;V(t,[l],p)})});return}const{valid:o,invalid:a}=Pn(i);if(a.length&&V(t,a,null),!o.length)return;const c=n.match(ae)?vt(s):null;if(!c){V(t,o,null);return}c.prepare(s,n,o).forEach(l=>{En(s,l,d=>{V(t,l.icons,d)})})}))}const xn=(t,e)=>{const s=_n(t,!0,de()),n=yn(s);if(!n.pending.length){let c=!0;return e&&setTimeout(()=>{c&&e(n.loaded,n.missing,n.pending,Yt)}),()=>{c=!1}}const i=Object.create(null),r=[];let o,a;return n.pending.forEach(c=>{const{provider:f,prefix:l}=c;if(l===a&&f===o)return;o=f,a=l,r.push(F(f,l));const d=i[f]||(i[f]=Object.create(null));d[l]||(d[l]=[])}),n.pending.forEach(c=>{const{provider:f,prefix:l,name:d}=c,u=F(f,l),p=u.pendingIcons||(u.pendingIcons=new Set);p.has(d)||(p.add(d),i[f][l].push(d))}),r.forEach(c=>{const f=i[c.provider][c.prefix];f.length&&Cn(c,f)}),e?wn(e,n,r):Yt};function Ln(t,e){const s={...t};for(const n in e){const i=e[n],r=typeof i;n in he?(i===null||i&&(r==="string"||r==="number"))&&(s[n]=i):r===typeof s[n]&&(s[n]=n==="rotate"?i%4:i)}return s}const kn=/[\s,]+/;function On(t,e){e.split(kn).forEach(s=>{switch(s.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function Dn(t,e=0){const s=t.replace(/^-?[0-9.]*/,"");function n(i){for(;i<0;)i+=4;return i%4}if(s===""){const i=parseInt(t);return isNaN(i)?0:n(i)}else if(s!==t){let i=0;switch(s){case"%":i=25;break;case"deg":i=90}if(i){let r=parseFloat(t.slice(0,t.length-s.length));return isNaN(r)?0:(r=r/i,r%1===0?n(r):0)}}return e}function $n(t,e){let s=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)s+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+s+">"+t+"</svg>"}function Fn(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Nn(t){return"data:image/svg+xml,"+Fn(t)}function Hn(t){return'url("'+Nn(t)+'")'}const Qt={...pe,inline:!1},Rn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},jn={display:"inline-block"},mt={"background-color":"currentColor"},me={"background-color":"transparent"},Wt={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Kt={"-webkit-mask":mt,mask:mt,background:me};for(const t in Kt){const e=Kt[t];for(const s in Wt)e[t+"-"+s]=Wt[s]}function zn(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}function Vn(t,e){const s=Ln(Qt,e),n=e.mode||"svg",i=n==="svg"?{...Rn}:{};t.body.indexOf("xlink:")===-1&&delete i["xmlns:xlink"];let r=typeof e.style=="string"?e.style:"";for(let h in e){const g=e[h];if(g!==void 0)switch(h){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":s[h]=g===!0||g==="true"||g===1;break;case"flip":typeof g=="string"&&On(s,g);break;case"color":r=r+(r.length>0&&r.trim().slice(-1)!==";"?";":"")+"color: "+g+"; ";break;case"rotate":typeof g=="string"?s[h]=Dn(g):typeof g=="number"&&(s[h]=g);break;case"ariaHidden":case"aria-hidden":g!==!0&&g!=="true"&&delete i["aria-hidden"];break;default:if(h.slice(0,3)==="on:")break;Qt[h]===void 0&&(i[h]=g)}}const o=nn(t,s),a=o.attributes;if(s.inline&&(r="vertical-align: -0.125em; "+r),n==="svg"){Object.assign(i,a),r!==""&&(i.style=r);let h=0,g=e.id;return typeof g=="string"&&(g=g.replace(/-/g,"_")),{svg:!0,attributes:i,body:cn(o.body,g?()=>g+"ID"+h++:"iconifySvelte")}}const{body:c,width:f,height:l}=t,d=n==="mask"||(n==="bg"?!1:c.indexOf("currentColor")!==-1),u=$n(c,{...a,width:f+"",height:l+""}),m={"--svg":Hn(u)},b=h=>{const g=a[h];g&&(m[h]=zn(g))};b("width"),b("height"),Object.assign(m,jn,d?mt:me);let S="";for(const h in m)S+=h+": "+m[h]+";";return i.style=S+r,{svg:!1,attributes:i}}de(!0);un("",mn);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,s="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!Ks(n))&&console.error(s)}catch{console.error(s)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let s in e){const n="IconifyProviders["+s+"] is invalid.";try{const i=e[s];if(typeof i!="object"||!i||i.resources===void 0)continue;fn(s,i)||console.error(n)}catch{console.error(n)}}}}function Bn(t,e,s,n,i){function r(){e.loading&&(e.loading.abort(),e.loading=null)}if(typeof t=="object"&&t!==null&&typeof t.body=="string")return e.name="",r(),{data:{...st,...t}};let o;if(typeof t!="string"||(o=et(t,!1,!0))===null)return r(),null;const a=Qs(o);if(!a)return s&&(!e.loading||e.loading.name!==t)&&(r(),e.name="",e.loading={name:t,abort:xn([o],n)}),null;r(),e.name!==t&&(e.name=t,i&&!e.destroyed&&i(t));const c=["iconify"];return o.prefix!==""&&c.push("iconify--"+o.prefix),o.provider!==""&&c.push("iconify--"+o.provider),{data:a,classes:c}}function Jt(t,e){return t?Vn({...st,...t},e):null}var Gn=ls("<svg><!></svg>"),Un=ps("<span></span>");function Hi(t,e){const s=vs(e,["children","$$slots","$$events","$$legacy"]);ss(e,!1);const n=Y({name:"",loading:null,destroyed:!1});let i=Y(!1),r=Y(0),o=Y();const a=u=>{typeof s.onLoad=="function"&&s.onLoad(u),us()("load",{icon:u})};function c(){fs(r)}ns(()=>{Lt(i,!0)}),is(()=>{nt(n,A(n).destroyed=!0),A(n).loading&&(A(n).loading.abort(),nt(n,A(n).loading=null))}),rs(()=>(A(r),cs(s),A(i),A(n),A(o),Jt),()=>{A(r);const u=!!s.ssr||A(i),p=Bn(s.icon,A(n),u,c,a);Lt(o,p?Jt(p.data,s):null),A(o)&&p.classes&&nt(o,A(o).attributes.class=(typeof s.class=="string"?s.class+" ":"")+p.classes.join(" "))}),os(),gs();var f=Ct(),l=xt(f);{var d=u=>{var p=Ct(),m=xt(p);{var b=h=>{var g=Gn();Nt(g,()=>({...A(o).attributes}));var _=ds(g);ms(_,()=>(A(o),ft(()=>A(o).body)),!0),hs(g),U(h,g)},S=h=>{var g=Un();Nt(g,()=>({...A(o).attributes})),U(h,g)};kt(m,h=>{A(o),ft(()=>A(o).svg)?h(b):h(S,!1)})}U(u,p)};kt(l,u=>{A(o)&&u(d)})}U(t,f),as()}export{ti as $,vi as A,mi as B,li as C,Si as D,ci as E,hi as F,at as G,yi as H,Hi as I,si as J,Pi as K,ri as L,di as M,j as N,$i as O,x as P,Di as Q,pi as R,Mi as S,oi as T,Li as U,Ci as V,D as W,Xn as X,_i as Y,ot as Z,Is as _,J as a,Ti as a0,O as a1,bs as a2,Ni as a3,gi as a4,ki as b,Oi as c,Ms as d,ni as e,ii as f,ei as g,Ns as h,xi as i,ms as j,jt as k,Ps as l,Fs as m,ui as n,ai as o,fi as p,wi as q,xs as r,Fi as s,Zn as t,ht as u,Ii as v,bi as w,$ as x,Ai as y,Ei as z};
