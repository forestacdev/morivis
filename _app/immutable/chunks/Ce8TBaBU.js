import{w as u}from"./BWjmW4OD.js";import{s as d}from"./BIPL7750.js";class m extends Error{constructor(t="The operation was aborted"){super(t),this.name="AbortError"}}function l(e,{signal:t}={}){return new Promise((o,c)=>{const n=()=>{c(new m)},s=()=>{clearTimeout(i),n()};if(t!=null&&t.aborted)return n();const i=setTimeout(()=>{t==null||t.removeEventListener("abort",s),o()},e);t==null||t.addEventListener("abort",s,{once:!0})})}const f=u(null),a=(e,t,o=!1)=>{f.set({message:e,type:t,persistent:o})},p=()=>window.matchMedia("(display-mode: standalone)").matches,w=()=>{const e=navigator.userAgent;return/iPad|iPhone|iPod/.test(e)&&/Safari/.test(e)&&!/CriOS|FxiOS|OPiOS|mercury/.test(e)},h=()=>/Android/.test(navigator.userAgent);let r=null;const S=e=>{r=e},P=()=>{d.set(!0)},E=()=>{if(p()){a("すでにPWAとしてインストールされています。","info");return}if(r&&h()){r.prompt(),r.userChoice.then(e=>{e.outcome,r=null});return}if(w()){P();return}a("このブラウザではPWAの自動インストールに対応していません。ブラウザの設定から「ホーム画面に追加」を選択してください。","info")};export{a,p as c,l as d,f as n,E as p,S as s};
