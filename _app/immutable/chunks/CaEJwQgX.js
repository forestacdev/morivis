const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BfN7rNmm.js","./B2c5_Eok.js","./dv0JZMFe.js","./BQaxZROR.js","./cGR8rlZ2.js","./AId8NOvR.js","./BJShDDuD.js","./DsOwnU2b.js","../assets/maplibre-gl.wmUbnWXg.css","./ByRDRQcx.js","./DkC97FJr.js"])))=>i.map(i=>d[i]);
var JK=Object.defineProperty;var WE=n=>{throw TypeError(n)};var ZK=(n,e,t)=>e in n?JK(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var z=(n,e,t)=>ZK(n,typeof e!="symbol"?e+"":e,t),bb=(n,e,t)=>e.has(n)||WE("Cannot "+t);var Qi=(n,e,t)=>(bb(n,e,"read from private field"),t?t.call(n):e.get(n)),t0=(n,e,t)=>e.has(n)?WE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Pu=(n,e,t,r)=>(bb(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),qE=(n,e,t)=>(bb(n,e,"access private method"),t);import"./CWj6FrbW.js";import{aF as Ek,aJ as e$,aZ as t$,h as pa,d as zy,a_ as Ck,e as VL,a$ as XE,H as Ik,C as rm,A as Hw,D as Bh,B as Tk,I as Km,b0 as Eg,W as $m,J as g0,b1 as n$,b2 as r$,b3 as i$,b4 as s$,a5 as Ca,aT as a$,ai as o$,ag as vb,q as E,V as l$,z as c$,al as d_,aj as A$,b5 as u$,b6 as Xf,aE as Qw,b7 as f$,b8 as Mk,b9 as KL,ba as h$,bb as d$,bc as g$,bd as E0,be as Sk,bf as Fk,bg as wb,ak as p$,bh as _$,bi as m$,aD as y$,F as Uk,u as td,G as Ap,v as Ac,g as b$,bj as $L,a8 as v$,bk as w$,aH as L$,L as Nk,N as x$,p as Mt,aY as R$,o as ni,K as ee,af as Ga,aX as B$,aV as Lb,aW as E$,f as we,c as q,aa as oe,ab as xt,a9 as Je,a as Z,r as $,t as Ye,b as St,s as yt,y as wn,Q as Wr,ae as Ln,a7 as Oe,l as on,ac as Ot,bl as Bn,bm as Eh,an as jn,bn as kk,ad as Cg,ao as Wm,n as m1,bo as C$}from"./Dd4CGWiK.js";import{p as Ne,b as qn,i as Te,s as Rr,a as qt,c as xr,m as w2}from"./H7Pt7YBJ.js";import{l as Xr,r as ts,d as Xt,C as D0,E as I$,m as La,L as T$,n as up,M as ri,o as J1,F as nn,T as Pk,p as Id,q as jw,u as Di,h as Na,v as Ig,w as Du,x as Qo,y as Dk,z as M$,H as Ok,A as zk,B as Hk,D as Hy,a as pt,G as vi,t as Yt,g as cr,I as Bt,f as Qy,k as k1,J as br,K as Xs,N as ma,O as gc,P as WL,Q as YA,R as qL,S as Ch,U as Wi,V as y1,e as Sl,W as Bl,X as Qk,Y as jk,Z as C0,_ as S$,$ as JE,a0 as ZE,j as F$,c as qm,b as Xm,i as im,a1 as U$,a2 as N$,a3 as Yk,a4 as xb}from"./BWlXFjk0.js";import{g as Z1,m as Qr,a as k$,c as eg}from"./DsOwnU2b.js";import{i as XL}from"./CQnr0Roj.js";import{a as ci,n as Rb,c as P$,p as D$,d as g_}from"./8dP04HcF.js";import{w as er,g as Wn,d as O$}from"./BWjmW4OD.js";import{s as z$,g as Gk}from"./DaKngItT.js";import{_ as Jo,c as H$}from"./CjsD6gND.js";import{T as Q$,m as Yw,n as Vk,L as j$,o as Tg,p as Kk,q as Uc,a as $k,c as ZA,r as O0,s as nd,t as Y$,u as G$,D as V$,g as L0,V as _s,I as K$,Q as Wk,v as $$,w as qk,x as Xk,y as W$,e as Bb,z as q$,A as Jk,E as X$,G as J$,H as Z$,J as y3,N as Zk,R as Gw,K as eW,i as tW,U as nW,X as Eb,Y as rW,Z as Jm,_ as eP,$ as ah,a0 as iW,B as sW,a1 as aW,f as sm,a2 as oW,a3 as lW,a4 as cW,a5 as AW,a6 as Mg,P as tP,b as l1,a7 as uW,a8 as fW,a9 as hW,aa as dW,ab as gW,ac as nP,ad as pW,ae as eC,af as tC,ag as nC,ah as rC,ai as iC,aj as _W,ak as mW,al as yW,am as bW,an as vW,h as rP,k as iP,ao as wW,F as LW,S as xW,ap as RW,O as BW,aq as sC}from"./CjlIZGlY.js";import{p as EW}from"./0qnk07pU.js";const CW=[];function IW(n,e=!1,t=!1){return am(n,new Map,"",CW,null,t)}function am(n,e,t,r,i=null,s=!1){if(typeof n=="object"&&n!==null){var a=e.get(n);if(a!==void 0)return a;if(n instanceof Map)return new Map(n);if(n instanceof Set)return new Set(n);if(Ek(n)){var o=Array(n.length);e.set(n,o),i!==null&&e.set(i,o);for(var l=0;l<n.length;l+=1){var c=n[l];l in n&&(o[l]=am(c,e,t,r,null,s))}return o}if(e$(n)===t$){o={},e.set(n,o),i!==null&&e.set(i,o);for(var A in n)o[A]=am(n[A],e,t,r,null,s);return o}if(n instanceof Date)return structuredClone(n);if(typeof n.toJSON=="function"&&!s)return am(n.toJSON(),e,t,r,n)}if(n instanceof EventTarget)return n;try{return structuredClone(n)}catch{return n}}const aC=0,Cb=1;function ef(n,e,t,r,i){pa&&zy();var s=Ck(),a=a$,o=s?$m(a):g0(a,!1,!1),l=s?$m(a):g0(a,!1,!1),c=new Tk(n);VL(()=>{var A=e(),u=!1;let h=pa&&XE(A)===(n.data===Ik);if(h&&(rm(Hw()),Bh(!1)),XE(A)){var f=n$(),d=!1;const g=_=>{if(!u){d=!0,f(!1),r$.ensure(),pa&&Bh(!1);try{_()}finally{i$(),s$||Ca()}}};A.then(_=>{g(()=>{Eg(o,_),c.ensure(Cb,r&&(m=>r(m,o)))})},_=>{g(()=>{if(Eg(l,_),c.ensure(Cb,i&&(m=>i(m,l))),!i)throw l.v})}),pa?c.ensure(aC,t):Km(()=>{d||g(()=>{c.ensure(aC,t)})})}else Eg(o,A),c.ensure(Cb,r&&(g=>r(g,o)));return h&&Bh(!0),()=>{u=!0}})}function b3(n,e,t){pa&&zy();var r=new Tk(n),i=!Ck();VL(()=>{var s=e();i&&s!==null&&typeof s=="object"&&(s={}),r.ensure(s,t)})}function wi(n,e){return e}function TW(n,e,t){for(var r=[],i=e.length,s,a=e.length,o=0;o<i;o++){let u=e[o];Fk(u,()=>{if(s){if(s.pending.delete(u),s.done.add(u),s.pending.size===0){var h=n.outrogroups;Vw(KL(s.done)),h.delete(s),h.size===0&&(n.outrogroups=null)}}else a-=1},!1)}if(a===0){var l=r.length===0&&t!==null;if(l){var c=t,A=c.parentNode;m$(A),A.append(c),n.items.clear()}Vw(e,!l)}else s={pending:new Set(e),done:new Set},(n.outrogroups??(n.outrogroups=new Set)).add(s)}function Vw(n,e=!0){for(var t=0;t<n.length;t++)y$(n[t],e)}var oC;function Fn(n,e,t,r,i,s=null){var a=n,o=new Map,l=(e&Mk)!==0;if(l){var c=n;a=pa?rm(o$(c)):c.appendChild(vb())}pa&&zy();var A=null,u=l$(()=>{var m=t();return Ek(m)?m:m==null?[]:KL(m)}),h,f=!0;function d(){_.fallback=A,MW(_,h,a,e,r),A!==null&&(h.length===0?A.f&E0?(A.f^=E0,tg(A,null,a)):Sk(A):Fk(A,()=>{A=null}))}var g=VL(()=>{h=E(u);var m=h.length;let y=!1;if(pa){var b=c$(a)===Ik;b!==(m===0)&&(a=Hw(),rm(a),Bh(!1),y=!0)}for(var v=new Set,B=Xf,C=f$(),I=0;I<m;I+=1){pa&&d_.nodeType===A$&&d_.data===u$&&(a=d_,y=!0,Bh(!1));var R=h[I],w=r(R,I),U=f?null:o.get(w);U?(U.v&&Eg(U.v,R),U.i&&Eg(U.i,I),C&&B.skipped_effects.delete(U.e)):(U=SW(o,f?a:oC??(oC=vb()),R,w,I,i,e,t),f||(U.e.f|=E0),o.set(w,U)),v.add(w)}if(m===0&&s&&!A&&(f?A=Qw(()=>s(a)):(A=Qw(()=>s(oC??(oC=vb()))),A.f|=E0)),pa&&m>0&&rm(Hw()),!f)if(C){for(const[M,F]of o)v.has(M)||B.skipped_effects.add(F.e);B.oncommit(d),B.ondiscard(()=>{})}else d();y&&Bh(!0),E(u)}),_={effect:g,items:o,outrogroups:null,fallback:A};f=!1,pa&&(a=d_)}function MW(n,e,t,r,i){var U,M,F,P,S,W,re,G,ie;var s=(r&_$)!==0,a=e.length,o=n.items,l=n.effect.first,c,A=null,u,h=[],f=[],d,g,_,m;if(s)for(m=0;m<a;m+=1)d=e[m],g=i(d,m),_=o.get(g).e,_.f&E0||((M=(U=_.nodes)==null?void 0:U.a)==null||M.measure(),(u??(u=new Set)).add(_));for(m=0;m<a;m+=1){if(d=e[m],g=i(d,m),_=o.get(g).e,n.outrogroups!==null)for(const X of n.outrogroups)X.pending.delete(_),X.done.delete(_);if(_.f&E0)if(_.f^=E0,_===l)tg(_,null,t);else{var y=A?A.next:l;_===n.effect.last&&(n.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),fA(n,A,_),fA(n,_,y),tg(_,y,t),A=_,h=[],f=[],l=A.next;continue}if(_.f&wb&&(Sk(_),s&&((P=(F=_.nodes)==null?void 0:F.a)==null||P.unfix(),(u??(u=new Set)).delete(_))),_!==l){if(c!==void 0&&c.has(_)){if(h.length<f.length){var b=f[0],v;A=b.prev;var B=h[0],C=h[h.length-1];for(v=0;v<h.length;v+=1)tg(h[v],b,t);for(v=0;v<f.length;v+=1)c.delete(f[v]);fA(n,B.prev,C.next),fA(n,A,B),fA(n,C,b),l=b,A=C,m-=1,h=[],f=[]}else c.delete(_),tg(_,l,t),fA(n,_.prev,_.next),fA(n,_,A===null?n.effect.first:A.next),fA(n,A,_),A=_;continue}for(h=[],f=[];l!==null&&l!==_;)(c??(c=new Set)).add(l),f.push(l),l=l.next;if(l===null)continue}_.f&E0||h.push(_),A=_,l=_.next}if(n.outrogroups!==null){for(const X of n.outrogroups)X.pending.size===0&&(Vw(KL(X.done)),(S=n.outrogroups)==null||S.delete(X));n.outrogroups.size===0&&(n.outrogroups=null)}if(l!==null||c!==void 0){var I=[];if(c!==void 0)for(_ of c)_.f&wb||I.push(_);for(;l!==null;)!(l.f&wb)&&l!==n.fallback&&I.push(l),l=l.next;var R=I.length;if(R>0){var w=r&Mk&&a===0?t:null;if(s){for(m=0;m<R;m+=1)(re=(W=I[m].nodes)==null?void 0:W.a)==null||re.measure();for(m=0;m<R;m+=1)(ie=(G=I[m].nodes)==null?void 0:G.a)==null||ie.fix()}TW(n,I,w)}}s&&Km(()=>{var X,ge;if(u!==void 0)for(_ of u)(ge=(X=_.nodes)==null?void 0:X.a)==null||ge.apply()})}function SW(n,e,t,r,i,s,a,o){var l=a&d$?a&g$?$m(t):g0(t,!1,!1):null,c=a&h$?$m(i):null;return{v:l,i:c,e:Qw(()=>(s(e,l??t,c??i,o),()=>{n.delete(r)}))}}function tg(n,e,t){if(n.nodes)for(var r=n.nodes.start,i=n.nodes.end,s=e&&!(e.f&E0)?e.nodes.start:t;r!==null;){var a=p$(r);if(s.before(r),r===i)return;r=a}}function fA(n,e,t){e===null?n.effect.first=t:e.next=t,t===null?n.effect.last=e:t.prev=e}function Ib(n,e,t,r,i){var o;pa&&zy();var s=(o=e.$$slots)==null?void 0:o[t],a=!1;s===!0&&(s=e[t==="default"?"children":t],a=!0),s===void 0||s(n,a?()=>r:r)}function JL(n,e,t){Uk(()=>{var r=td(()=>e(n,t==null?void 0:t())||{});if(t&&(r!=null&&r.update)){var i=!1,s={};Ap(()=>{var a=t();Ac(a),i&&b$(s,a)&&(s=a,r.update(a))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function fp(n,e,t=e){var r=new WeakSet;$L(n,"input",async i=>{var s=i?n.defaultValue:n.value;if(s=Mb(n)?Sb(s):s,t(s),Xf!==null&&r.add(Xf),await v$(),s!==(s=e())){var a=n.selectionStart,o=n.selectionEnd,l=n.value.length;if(n.value=s??"",o!==null){var c=n.value.length;a===o&&o===l&&c>l?(n.selectionStart=c,n.selectionEnd=c):(n.selectionStart=a,n.selectionEnd=Math.min(o,c))}}}),(pa&&n.defaultValue!==n.value||td(e)==null&&n.value)&&(t(Mb(n)?Sb(n.value):n.value),Xf!==null&&r.add(Xf)),Ap(()=>{var i=e();if(n===document.activeElement){var s=w$??Xf;if(r.has(s))return}Mb(n)&&i===Sb(n.value)||n.type==="date"&&!i&&!n.value||i!==n.value&&(n.value=i??"")})}const Tb=new Set;function z0(n,e,t,r,i=r){var s=t.getAttribute("type")==="checkbox",a=n;let o=!1;if(e!==null)for(var l of e)a=a[l]??(a[l]=[]);a.push(t),$L(t,"change",()=>{var c=t.__value;s&&(c=lC(a,c,t.checked)),i(c)},()=>i(s?[]:null)),Ap(()=>{var c=r();if(pa&&t.defaultChecked!==t.checked){o=!0;return}s?(c=c||[],t.checked=c.includes(t.__value)):t.checked=L$(t.__value,c)}),Nk(()=>{var c=a.indexOf(t);c!==-1&&a.splice(c,1)}),Tb.has(a)||(Tb.add(a),Km(()=>{a.sort((c,A)=>c.compareDocumentPosition(A)===4?-1:1),Tb.delete(a)})),Km(()=>{if(o){var c;if(s)c=lC(a,c,t.checked);else{var A=a.find(u=>u.checked);c=A==null?void 0:A.__value}i(c)}})}function jy(n,e,t=e){$L(n,"change",r=>{var i=r?n.defaultChecked:n.checked;t(i)}),(pa&&n.defaultChecked!==n.checked||td(e)==null)&&t(n.checked),Ap(()=>{var r=e();n.checked=!!r})}function lC(n,e,t){for(var r=new Set,i=0;i<n.length;i+=1)n[i].checked&&r.add(n[i].__value);return t||r.delete(e),Array.from(r)}function Mb(n){var e=n.type;return e==="number"||e==="range"}function Sb(n){return n===""?null:+n}function FW(n,e,t){var r=x$(n,e);r&&r.set&&(n[e]=t,Nk(()=>{n[e]=null}))}var TA,Zh,lp,wy,sP;const Ly=class Ly{constructor(e){t0(this,wy);t0(this,TA,new WeakMap);t0(this,Zh);t0(this,lp);Pu(this,lp,e)}observe(e,t){var r=Qi(this,TA).get(e)||new Set;return r.add(t),Qi(this,TA).set(e,r),qE(this,wy,sP).call(this).observe(e,Qi(this,lp)),()=>{var i=Qi(this,TA).get(e);i.delete(t),i.size===0&&(Qi(this,TA).delete(e),Qi(this,Zh).unobserve(e))}}};TA=new WeakMap,Zh=new WeakMap,lp=new WeakMap,wy=new WeakSet,sP=function(){return Qi(this,Zh)??Pu(this,Zh,new ResizeObserver(e=>{for(var t of e){Ly.entries.set(t.target,t);for(var r of Qi(this,TA).get(t.target)||[])r(t)}}))},z(Ly,"entries",new WeakMap);let Kw=Ly;var UW=new Kw({box:"border-box"});function cC(n,e,t){var r=UW.observe(n,()=>t(n[e]));Uk(()=>(td(()=>t(n[e])),r))}function Yy(n,e,{signal:t,edges:r}={}){let i,s=null;const a=r!=null&&r.includes("leading"),o=r==null||r.includes("trailing"),l=()=>{s!==null&&(n.apply(i,s),i=void 0,s=null)},c=()=>{o&&l(),f()};let A=null;const u=()=>{A!=null&&clearTimeout(A),A=setTimeout(()=>{A=null,c()},e)},h=()=>{A!==null&&(clearTimeout(A),A=null)},f=()=>{h(),i=void 0,s=null},d=()=>{l()},g=function(..._){if(t!=null&&t.aborted)return;i=this,s=_;const m=A==null;u(),a&&m&&l()};return g.schedule=u,g.cancel=f,g.flush=d,t==null||t.addEventListener("abort",f,{once:!0}),g}function NW(n,e,{signal:t,edges:r=["leading","trailing"]}={}){let i=null;const s=Yy(n,e,{signal:t,edges:r}),a=function(...o){i==null?i=Date.now():Date.now()-i>=e&&(i=Date.now(),s.cancel()),s.apply(this,o)};return a.cancel=s.cancel,a.flush=s.flush,a}function zs(n){return(e,...t)=>kW(n,e,t)}function Td(n,e){return zs(aP(n,e).get)}const{apply:kW,getOwnPropertyDescriptor:aP,getPrototypeOf:ZL,ownKeys:PW}=Reflect,{iterator:hp,toStringTag:DW}=Symbol,OW=Object,{create:ex,defineProperty:zW}=OW,HW=Array,QW=HW.prototype,oP=QW[hp],jW=zs(oP),lP=ArrayBuffer,YW=lP.prototype;Td(YW,"byteLength");const AC=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;AC&&Td(AC.prototype,"byteLength");const cP=ZL(Uint8Array);cP.from;const xa=cP.prototype;xa[hp];zs(xa.keys);zs(xa.values);zs(xa.entries);zs(xa.set);zs(xa.reverse);zs(xa.fill);zs(xa.copyWithin);zs(xa.sort);zs(xa.slice);zs(xa.subarray);Td(xa,"buffer");Td(xa,"byteOffset");Td(xa,"length");Td(xa,DW);const GW=Uint8Array,AP=Uint16Array,tx=Uint32Array,VW=Float32Array,v3=ZL([][hp]()),uP=zs(v3.next),KW=zs(function*(){}().next),$W=ZL(v3),WW=DataView.prototype,qW=zs(WW.getUint16),nx=WeakMap,fP=nx.prototype,hP=zs(fP.get),XW=zs(fP.set),dP=new nx,JW=ex(null,{next:{value:function(){const e=hP(dP,this);return uP(e)}},[hp]:{value:function(){return this}}});function ZW(n){if(n[hp]===oP&&v3.next===uP)return n;const e=ex(JW);return XW(dP,e,jW(n)),e}const eq=new nx,tq=ex($W,{next:{value:function(){const e=hP(eq,this);return KW(e)},writable:!0,configurable:!0}});for(const n of PW(v3))n!=="next"&&zW(tq,n,aP(v3,n));const gP=new lP(4),nq=new VW(gP),rq=new tx(gP),ic=new AP(512),sc=new GW(512);for(let n=0;n<256;++n){const e=n-127;e<-24?(ic[n]=0,ic[n|256]=32768,sc[n]=24,sc[n|256]=24):e<-14?(ic[n]=1024>>-e-14,ic[n|256]=1024>>-e-14|32768,sc[n]=-e-1,sc[n|256]=-e-1):e<=15?(ic[n]=e+15<<10,ic[n|256]=e+15<<10|32768,sc[n]=13,sc[n|256]=13):e<128?(ic[n]=31744,ic[n|256]=64512,sc[n]=24,sc[n|256]=24):(ic[n]=31744,ic[n|256]=64512,sc[n]=13,sc[n|256]=13)}const rx=new tx(2048);for(let n=1;n<1024;++n){let e=n<<13,t=0;for(;!(e&8388608);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,rx[n]=e|t}for(let n=1024;n<2048;++n)rx[n]=939524096+(n-1024<<13);const Md=new tx(64);for(let n=1;n<31;++n)Md[n]=n<<23;Md[31]=1199570944;Md[32]=2147483648;for(let n=33;n<63;++n)Md[n]=2147483648+(n-32<<23);Md[63]=3347054592;const pP=new AP(64);for(let n=1;n<64;++n)n!==32&&(pP[n]=1024);function iq(n){const e=n>>10;return rq[0]=rx[pP[e]+(n&1023)]+Md[e],nq[0]}function _P(n,e,...t){return iq(qW(n,e,...ZW(t)))}var ix={exports:{}};function mP(n,e,t){const r=t&&t.debug||!1;r&&console.log("[xml-utils] getting "+e+" in "+n);const i=typeof n=="object"?n.outer:n,s=i.slice(0,i.indexOf(">")+1),a=['"',"'"];for(let o=0;o<a.length;o++){const l=a[o],c=e+"\\="+l+"([^"+l+"]*)"+l;r&&console.log("[xml-utils] pattern:",c);const u=new RegExp(c).exec(s);if(r&&console.log("[xml-utils] match:",u),u)return u[1]}}ix.exports=mP;ix.exports.default=mP;var sq=ix.exports;const Fb=Z1(sq);var sx={exports:{}},ax={exports:{}},ox={exports:{}};function yP(n,e,t){const i=new RegExp(e).exec(n.slice(t));return i?t+i.index:-1}ox.exports=yP;ox.exports.default=yP;var aq=ox.exports,lx={exports:{}};function bP(n,e,t){const i=new RegExp(e).exec(n.slice(t));return i?t+i.index+i[0].length-1:-1}lx.exports=bP;lx.exports.default=bP;var oq=lx.exports,cx={exports:{}};function vP(n,e){const t=new RegExp(e,"g"),r=n.match(t);return r?r.length:0}cx.exports=vP;cx.exports.default=vP;var lq=cx.exports;const cq=aq,Ub=oq,uC=lq;function wP(n,e,t){const r=t&&t.debug||!1,i=!(t&&typeof t.nested===!1),s=t&&t.startIndex||0;r&&console.log("[xml-utils] starting findTagByName with",e," and ",t);const a=cq(n,`<${e}[ 
>/]`,s);if(r&&console.log("[xml-utils] start:",a),a===-1)return;const o=n.slice(a+e.length);let l=Ub(o,"^[^<]*[ /]>",0);const c=l!==-1&&o[l-1]==="/";if(r&&console.log("[xml-utils] selfClosing:",c),c===!1)if(i){let f=0,d=1,g=0;for(;(l=Ub(o,"[ /]"+e+">",f))!==-1;){const _=o.substring(f,l+1);if(d+=uC(_,"<"+e+`[ 
	>]`),g+=uC(_,"</"+e+">"),g>=d)break;f=l}}else l=Ub(o,"[ /]"+e+">",0);const A=a+e.length+l+1;if(r&&console.log("[xml-utils] end:",A),A===-1)return;const u=n.slice(a,A);let h;return c?h=null:h=u.slice(u.indexOf(">")+1,u.lastIndexOf("<")),{inner:h,outer:u,start:a,end:A}}ax.exports=wP;ax.exports.default=wP;var Aq=ax.exports;const uq=Aq;function LP(n,e,t){const r=[],i=t&&t.debug||!1,s=t&&typeof t.nested=="boolean"?t.nested:!0;let a=t&&t.startIndex||0,o;for(;o=uq(n,e,{debug:i,startIndex:a});)s?a=o.start+1+e.length:a=o.end,r.push(o);return i&&console.log("findTagsByName found",r.length,"tags"),r}sx.exports=LP;sx.exports.default=LP;var fq=sx.exports;const hq=Z1(fq),Sg={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},uc={};for(const n in Sg)Sg.hasOwnProperty(n)&&(uc[Sg[n]]=parseInt(n,10));const dq=[uc.BitsPerSample,uc.ExtraSamples,uc.SampleFormat,uc.StripByteCounts,uc.StripOffsets,uc.StripRowCounts,uc.TileByteCounts,uc.TileOffsets,uc.SubIFDs],Nb={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},Pn={};for(const n in Nb)Nb.hasOwnProperty(n)&&(Pn[Nb[n]]=parseInt(n,10));const ro={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,CMYK:5,YCbCr:6,CIELab:8},gq={Unspecified:0},H2t={AddCompression:1},Q2t={None:0,Deflate:1,Zstandard:2},pq={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"};function _q(n,e){const{width:t,height:r}=n,i=new Uint8Array(t*r*3);let s;for(let a=0,o=0;a<n.length;++a,o+=3)s=256-n[a]/e*256,i[o]=s,i[o+1]=s,i[o+2]=s;return i}function mq(n,e){const{width:t,height:r}=n,i=new Uint8Array(t*r*3);let s;for(let a=0,o=0;a<n.length;++a,o+=3)s=n[a]/e*256,i[o]=s,i[o+1]=s,i[o+2]=s;return i}function yq(n,e){const{width:t,height:r}=n,i=new Uint8Array(t*r*3),s=e.length/3,a=e.length/3*2;for(let o=0,l=0;o<n.length;++o,l+=3){const c=n[o];i[l]=e[c]/65536*256,i[l+1]=e[c+s]/65536*256,i[l+2]=e[c+a]/65536*256}return i}function bq(n){const{width:e,height:t}=n,r=new Uint8Array(e*t*3);for(let i=0,s=0;i<n.length;i+=4,s+=3){const a=n[i],o=n[i+1],l=n[i+2],c=n[i+3];r[s]=255*((255-a)/256)*((255-c)/256),r[s+1]=255*((255-o)/256)*((255-c)/256),r[s+2]=255*((255-l)/256)*((255-c)/256)}return r}function vq(n){const{width:e,height:t}=n,r=new Uint8ClampedArray(e*t*3);for(let i=0,s=0;i<n.length;i+=3,s+=3){const a=n[i],o=n[i+1],l=n[i+2];r[s]=a+1.402*(l-128),r[s+1]=a-.34414*(o-128)-.71414*(l-128),r[s+2]=a+1.772*(o-128)}return r}const wq=.95047,Lq=1,xq=1.08883;function Rq(n){const{width:e,height:t}=n,r=new Uint8Array(e*t*3);for(let i=0,s=0;i<n.length;i+=3,s+=3){const a=n[i+0],o=n[i+1]<<24>>24,l=n[i+2]<<24>>24;let c=(a+16)/116,A=o/500+c,u=c-l/200,h,f,d;A=wq*(A*A*A>.008856?A*A*A:(A-16/116)/7.787),c=Lq*(c*c*c>.008856?c*c*c:(c-16/116)/7.787),u=xq*(u*u*u>.008856?u*u*u:(u-16/116)/7.787),h=A*3.2406+c*-1.5372+u*-.4986,f=A*-.9689+c*1.8758+u*.0415,d=A*.0557+c*-.204+u*1.057,h=h>.0031308?1.055*h**(1/2.4)-.055:12.92*h,f=f>.0031308?1.055*f**(1/2.4)-.055:12.92*f,d=d>.0031308?1.055*d**(1/2.4)-.055:12.92*d,r[s]=Math.max(0,Math.min(1,h))*255,r[s+1]=Math.max(0,Math.min(1,f))*255,r[s+2]=Math.max(0,Math.min(1,d))*255}return r}const xP=new Map;function du(n,e){Array.isArray(n)||(n=[n]),n.forEach(t=>xP.set(t,e))}async function Bq(n){const e=xP.get(n.Compression);if(!e)throw new Error(`Unknown compression method identifier: ${n.Compression}`);const t=await e();return new t(n)}du([void 0,1],()=>Jo(()=>import("./BfN7rNmm.js"),__vite__mapDeps([0,1]),import.meta.url).then(n=>n.default));du(5,()=>Jo(()=>import("./dv0JZMFe.js"),__vite__mapDeps([2,1]),import.meta.url).then(n=>n.default));du(6,()=>{throw new Error("old style JPEG compression is not supported.")});du(7,()=>Jo(()=>import("./BQaxZROR.js"),__vite__mapDeps([3,1]),import.meta.url).then(n=>n.default));du([8,32946],()=>Jo(()=>import("./cGR8rlZ2.js"),__vite__mapDeps([4,1]),import.meta.url).then(n=>n.default));du(32773,()=>Jo(()=>import("./AId8NOvR.js"),__vite__mapDeps([5,1]),import.meta.url).then(n=>n.default));du(34887,()=>Jo(()=>import("./BJShDDuD.js"),__vite__mapDeps([6,7,8,1]),import.meta.url).then(async n=>(await n.zstd.init(),n)).then(n=>n.default));du(50001,()=>Jo(()=>import("./ByRDRQcx.js"),__vite__mapDeps([9,1]),import.meta.url).then(n=>n.default));function Gy(n,e,t,r=1){return new(Object.getPrototypeOf(n)).constructor(e*t*r)}function Eq(n,e,t,r,i){const s=e/r,a=t/i;return n.map(o=>{const l=Gy(o,r,i);for(let c=0;c<i;++c){const A=Math.min(Math.round(a*c),t-1);for(let u=0;u<r;++u){const h=Math.min(Math.round(s*u),e-1),f=o[A*e+h];l[c*r+u]=f}}return l})}function Ih(n,e,t){return(1-t)*n+t*e}function Cq(n,e,t,r,i){const s=e/r,a=t/i;return n.map(o=>{const l=Gy(o,r,i);for(let c=0;c<i;++c){const A=a*c,u=Math.floor(A),h=Math.min(Math.ceil(A),t-1);for(let f=0;f<r;++f){const d=s*f,g=d%1,_=Math.floor(d),m=Math.min(Math.ceil(d),e-1),y=o[u*e+_],b=o[u*e+m],v=o[h*e+_],B=o[h*e+m],C=Ih(Ih(y,b,g),Ih(v,B,g),A%1);l[c*r+f]=C}}return l})}function Iq(n,e,t,r,i,s="nearest"){switch(s.toLowerCase()){case"nearest":return Eq(n,e,t,r,i);case"bilinear":case"linear":return Cq(n,e,t,r,i);default:throw new Error(`Unsupported resampling method: '${s}'`)}}function Tq(n,e,t,r,i,s){const a=e/r,o=t/i,l=Gy(n,r,i,s);for(let c=0;c<i;++c){const A=Math.min(Math.round(o*c),t-1);for(let u=0;u<r;++u){const h=Math.min(Math.round(a*u),e-1);for(let f=0;f<s;++f){const d=n[A*e*s+h*s+f];l[c*r*s+u*s+f]=d}}}return l}function Mq(n,e,t,r,i,s){const a=e/r,o=t/i,l=Gy(n,r,i,s);for(let c=0;c<i;++c){const A=o*c,u=Math.floor(A),h=Math.min(Math.ceil(A),t-1);for(let f=0;f<r;++f){const d=a*f,g=d%1,_=Math.floor(d),m=Math.min(Math.ceil(d),e-1);for(let y=0;y<s;++y){const b=n[u*e*s+_*s+y],v=n[u*e*s+m*s+y],B=n[h*e*s+_*s+y],C=n[h*e*s+m*s+y],I=Ih(Ih(b,v,g),Ih(B,C,g),A%1);l[c*r*s+f*s+y]=I}}}return l}function Sq(n,e,t,r,i,s,a="nearest"){switch(a.toLowerCase()){case"nearest":return Tq(n,e,t,r,i,s);case"bilinear":case"linear":return Mq(n,e,t,r,i,s);default:throw new Error(`Unsupported resampling method: '${a}'`)}}function Fq(n,e,t){let r=0;for(let i=e;i<t;++i)r+=n[i];return r}function $w(n,e,t){switch(n){case 1:if(e<=8)return new Uint8Array(t);if(e<=16)return new Uint16Array(t);if(e<=32)return new Uint32Array(t);break;case 2:if(e===8)return new Int8Array(t);if(e===16)return new Int16Array(t);if(e===32)return new Int32Array(t);break;case 3:switch(e){case 16:case 32:return new Float32Array(t);case 64:return new Float64Array(t)}break}throw Error("Unsupported data format/bitsPerSample")}function Uq(n,e){return(n===1||n===2)&&e<=32&&e%8===0?!1:!(n===3&&(e===16||e===32||e===64))}function Nq(n,e,t,r,i,s,a){const o=new DataView(n),l=t===2?a*s:a*s*r,c=t===2?1:r,A=$w(e,i,l),u=parseInt("1".repeat(i),2);if(e===1){let h;t===1?h=r*i:h=i;let f=s*h;f&7&&(f=f+7&-8);for(let d=0;d<a;++d){const g=d*f;for(let _=0;_<s;++_){const m=g+_*c*i;for(let y=0;y<c;++y){const b=m+y*i,v=(d*s+_)*c+y,B=Math.floor(b/8),C=b%8;if(C+i<=8)A[v]=o.getUint8(B)>>8-i-C&u;else if(C+i<=16)A[v]=o.getUint16(B)>>16-i-C&u;else if(C+i<=24){const I=o.getUint16(B)<<8|o.getUint8(B+2);A[v]=I>>24-i-C&u}else A[v]=o.getUint32(B)>>32-i-C&u}}}}return A.buffer}class kq{constructor(e,t,r,i,s,a){this.fileDirectory=e,this.geoKeys=t,this.dataView=r,this.littleEndian=i,this.tiles=s?{}:null,this.isTiled=!e.StripOffsets;const o=e.PlanarConfiguration;if(this.planarConfiguration=typeof o>"u"?1:o,this.planarConfiguration!==1&&this.planarConfiguration!==2)throw new Error("Invalid planar configuration.");this.source=a}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return typeof this.fileDirectory.SamplesPerPixel<"u"?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:typeof this.fileDirectory.RowsPerStrip<"u"?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}getBytesPerPixel(){let e=0;for(let t=0;t<this.fileDirectory.BitsPerSample.length;++t)e+=this.getSampleByteSize(t);return e}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${e} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}getReaderForSample(e){const t=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,r=this.fileDirectory.BitsPerSample[e];switch(t){case 1:if(r<=8)return DataView.prototype.getUint8;if(r<=16)return DataView.prototype.getUint16;if(r<=32)return DataView.prototype.getUint32;break;case 2:if(r<=8)return DataView.prototype.getInt8;if(r<=16)return DataView.prototype.getInt16;if(r<=32)return DataView.prototype.getInt32;break;case 3:switch(r){case 16:return function(i,s){return _P(this,i,s)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}break}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(e=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}getBitsPerSample(e=0){return this.fileDirectory.BitsPerSample[e]}getArrayForSample(e,t){const r=this.getSampleFormat(e),i=this.getBitsPerSample(e);return $w(r,i,t)}async getTileOrStrip(e,t,r,i,s){const a=Math.ceil(this.getWidth()/this.getTileWidth()),o=Math.ceil(this.getHeight()/this.getTileHeight());let l;const{tiles:c}=this;this.planarConfiguration===1?l=t*a+e:this.planarConfiguration===2&&(l=r*a*o+t*a+e);let A,u;this.isTiled?(A=this.fileDirectory.TileOffsets[l],u=this.fileDirectory.TileByteCounts[l]):(A=this.fileDirectory.StripOffsets[l],u=this.fileDirectory.StripByteCounts[l]);const h=(await this.source.fetch([{offset:A,length:u}],s))[0];let f;return c===null||!c[l]?(f=(async()=>{let d=await i.decode(this.fileDirectory,h);const g=this.getSampleFormat(),_=this.getBitsPerSample();return Uq(g,_)&&(d=Nq(d,g,this.planarConfiguration,this.getSamplesPerPixel(),_,this.getTileWidth(),this.getBlockHeight(t))),d})(),c!==null&&(c[l]=f)):f=c[l],{x:e,y:t,sample:r,data:await f}}async _readRaster(e,t,r,i,s,a,o,l,c){const A=this.getTileWidth(),u=this.getTileHeight(),h=this.getWidth(),f=this.getHeight(),d=Math.max(Math.floor(e[0]/A),0),g=Math.min(Math.ceil(e[2]/A),Math.ceil(h/A)),_=Math.max(Math.floor(e[1]/u),0),m=Math.min(Math.ceil(e[3]/u),Math.ceil(f/u)),y=e[2]-e[0];let b=this.getBytesPerPixel();const v=[],B=[];for(let R=0;R<t.length;++R)this.planarConfiguration===1?v.push(Fq(this.fileDirectory.BitsPerSample,0,t[R])/8):v.push(0),B.push(this.getReaderForSample(t[R]));const C=[],{littleEndian:I}=this;for(let R=_;R<m;++R)for(let w=d;w<g;++w){let U;this.planarConfiguration===1&&(U=this.getTileOrStrip(w,R,0,s,c));for(let M=0;M<t.length;++M){const F=M,P=t[M];this.planarConfiguration===2&&(b=this.getSampleByteSize(P),U=this.getTileOrStrip(w,R,P,s,c));const S=U.then(W=>{const re=W.data,G=new DataView(re),ie=this.getBlockHeight(W.y),X=W.y*u,ge=W.x*A,K=X+ie,N=(W.x+1)*A,H=B[F],V=Math.min(ie,ie-(K-e[3]),f-X),j=Math.min(A,A-(N-e[2]),h-ge);for(let le=Math.max(0,e[1]-X);le<V;++le)for(let de=Math.max(0,e[0]-ge);de<j;++de){const he=(le*A+de)*b,ue=H.call(G,he+v[F],I);let me;i?(me=(le+X-e[1])*y*t.length+(de+ge-e[0])*t.length+F,r[me]=ue):(me=(le+X-e[1])*y+de+ge-e[0],r[F][me]=ue)}});C.push(S)}}if(await Promise.all(C),a&&e[2]-e[0]!==a||o&&e[3]-e[1]!==o){let R;return i?R=Sq(r,e[2]-e[0],e[3]-e[1],a,o,t.length,l):R=Iq(r,e[2]-e[0],e[3]-e[1],a,o,l),R.width=a,R.height=o,R}return r.width=a||e[2]-e[0],r.height=o||e[3]-e[1],r}async readRasters({window:e,samples:t=[],interleave:r,pool:i=null,width:s,height:a,resampleMethod:o,fillValue:l,signal:c}={}){const A=e||[0,0,this.getWidth(),this.getHeight()];if(A[0]>A[2]||A[1]>A[3])throw new Error("Invalid subsets");const u=A[2]-A[0],h=A[3]-A[1],f=u*h,d=this.getSamplesPerPixel();if(!t||!t.length)for(let y=0;y<d;++y)t.push(y);else for(let y=0;y<t.length;++y)if(t[y]>=d)return Promise.reject(new RangeError(`Invalid sample index '${t[y]}'.`));let g;if(r){const y=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,b=Math.max.apply(null,this.fileDirectory.BitsPerSample);g=$w(y,b,f*t.length),l&&g.fill(l)}else{g=[];for(let y=0;y<t.length;++y){const b=this.getArrayForSample(t[y],f);Array.isArray(l)&&y<l.length?b.fill(l[y]):l&&!Array.isArray(l)&&b.fill(l),g.push(b)}}const _=i||await Bq(this.fileDirectory);return await this._readRaster(A,t,g,r,_,s,a,o,c)}async readRGB({window:e,interleave:t=!0,pool:r=null,width:i,height:s,resampleMethod:a,enableAlpha:o=!1,signal:l}={}){const c=e||[0,0,this.getWidth(),this.getHeight()];if(c[0]>c[2]||c[1]>c[3])throw new Error("Invalid subsets");const A=this.fileDirectory.PhotometricInterpretation;if(A===ro.RGB){let m=[0,1,2];if(this.fileDirectory.ExtraSamples!==gq.Unspecified&&o){m=[];for(let y=0;y<this.fileDirectory.BitsPerSample.length;y+=1)m.push(y)}return this.readRasters({window:e,interleave:t,samples:m,pool:r,width:i,height:s,resampleMethod:a,signal:l})}let u;switch(A){case ro.WhiteIsZero:case ro.BlackIsZero:case ro.Palette:u=[0];break;case ro.CMYK:u=[0,1,2,3];break;case ro.YCbCr:case ro.CIELab:u=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const h={window:c,interleave:!0,samples:u,pool:r,width:i,height:s,resampleMethod:a,signal:l},{fileDirectory:f}=this,d=await this.readRasters(h),g=2**this.fileDirectory.BitsPerSample[0];let _;switch(A){case ro.WhiteIsZero:_=_q(d,g);break;case ro.BlackIsZero:_=mq(d,g);break;case ro.Palette:_=yq(d,f.ColorMap);break;case ro.CMYK:_=bq(d);break;case ro.YCbCr:_=vq(d);break;case ro.CIELab:_=Rq(d);break;default:throw new Error("Unsupported photometric interpretation.")}if(!t){const m=new Uint8Array(_.length/3),y=new Uint8Array(_.length/3),b=new Uint8Array(_.length/3);for(let v=0,B=0;v<_.length;v+=3,++B)m[B]=_[v],y[B]=_[v+1],b[B]=_[v+2];_=[m,y,b]}return _.width=d.width,_.height=d.height,_}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const e=[];for(let t=0;t<this.fileDirectory.ModelTiepoint.length;t+=6)e.push({i:this.fileDirectory.ModelTiepoint[t],j:this.fileDirectory.ModelTiepoint[t+1],k:this.fileDirectory.ModelTiepoint[t+2],x:this.fileDirectory.ModelTiepoint[t+3],y:this.fileDirectory.ModelTiepoint[t+4],z:this.fileDirectory.ModelTiepoint[t+5]});return e}getGDALMetadata(e=null){const t={};if(!this.fileDirectory.GDAL_METADATA)return null;const r=this.fileDirectory.GDAL_METADATA;let i=hq(r,"Item");e===null?i=i.filter(s=>Fb(s,"sample")===void 0):i=i.filter(s=>Number(Fb(s,"sample"))===e);for(let s=0;s<i.length;++s){const a=i[s];t[Fb(a,"name")]=a.inner}return t}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){const e=this.fileDirectory.ModelTiepoint,t=this.fileDirectory.ModelTransformation;if(e&&e.length===6)return[e[3],e[4],e[5]];if(t)return[t[3],t[7],t[11]];throw new Error("The image does not have an affine transformation.")}getResolution(e=null){const t=this.fileDirectory.ModelPixelScale,r=this.fileDirectory.ModelTransformation;if(t)return[t[0],-t[1],t[2]];if(r)return r[1]===0&&r[4]===0?[r[0],-r[5],r[10]]:[Math.sqrt(r[0]*r[0]+r[4]*r[4]),-Math.sqrt(r[1]*r[1]+r[5]*r[5]),r[10]];if(e){const[i,s,a]=e.getResolution();return[i*e.getWidth()/this.getWidth(),s*e.getHeight()/this.getHeight(),a*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return this.geoKeys.GTRasterTypeGeoKey===1}getBoundingBox(e=!1){const t=this.getHeight(),r=this.getWidth();if(this.fileDirectory.ModelTransformation&&!e){const[i,s,a,o,l,c,A,u]=this.fileDirectory.ModelTransformation,f=[[0,0],[0,t],[r,0],[r,t]].map(([_,m])=>[o+i*_+s*m,u+l*_+c*m]),d=f.map(_=>_[0]),g=f.map(_=>_[1]);return[Math.min(...d),Math.min(...g),Math.max(...d),Math.max(...g)]}else{const i=this.getOrigin(),s=this.getResolution(),a=i[0],o=i[1],l=a+s[0]*r,c=o+s[1]*t;return[Math.min(a,l),Math.min(o,c),Math.max(a,l),Math.max(o,c)]}}}class Pq{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,t){const r=this.getUint32(e,t),i=this.getUint32(e+4,t);let s;if(t){if(s=r+2**32*i,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}if(s=2**32*r+i,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}getInt64(e,t){let r=0;const i=(this._dataView.getUint8(e+(t?7:0))&128)>0;let s=!0;for(let a=0;a<8;a++){let o=this._dataView.getUint8(e+(t?a:7-a));i&&(s?o!==0&&(o=~(o-1)&255,s=!1):o=~o&255),r+=o*256**a}return i&&(r=-r),r}getUint8(e,t){return this._dataView.getUint8(e,t)}getInt8(e,t){return this._dataView.getInt8(e,t)}getUint16(e,t){return this._dataView.getUint16(e,t)}getInt16(e,t){return this._dataView.getInt16(e,t)}getUint32(e,t){return this._dataView.getUint32(e,t)}getInt32(e,t){return this._dataView.getInt32(e,t)}getFloat16(e,t){return _P(this._dataView,e,t)}getFloat32(e,t){return this._dataView.getFloat32(e,t)}getFloat64(e,t){return this._dataView.getFloat64(e,t)}}class Dq{constructor(e,t,r,i){this._dataView=new DataView(e),this._sliceOffset=t,this._littleEndian=r,this._bigTiff=i}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,t){return this.sliceOffset<=e&&this.sliceTop>=e+t}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){const t=this.readUint32(e),r=this.readUint32(e+4);let i;if(this._littleEndian){if(i=t+2**32*r,!Number.isSafeInteger(i))throw new Error(`${i} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return i}if(i=2**32*t+r,!Number.isSafeInteger(i))throw new Error(`${i} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return i}readInt64(e){let t=0;const r=(this._dataView.getUint8(e+(this._littleEndian?7:0))&128)>0;let i=!0;for(let s=0;s<8;s++){let a=this._dataView.getUint8(e+(this._littleEndian?s:7-s));r&&(i?a!==0&&(a=~(a-1)&255,i=!1):a=~a&255),t+=a*256**s}return r&&(t=-t),t}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}class Oq{async fetch(e,t=void 0){return Promise.all(e.map(r=>this.fetchSlice(r,t)))}async fetchSlice(e){throw new Error(`fetching of slice ${e} not possible, not implemented`)}get fileSize(){return null}async close(){}}class Ax extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,Ax),this.name="AbortError"}}class zq extends Oq{constructor(e){super(),this.arrayBuffer=e}fetchSlice(e,t){if(t&&t.aborted)throw new Ax("Request aborted");return this.arrayBuffer.slice(e.offset,e.offset+e.length)}}function Hq(n){return new zq(n)}function Ww(n){switch(n){case Pn.BYTE:case Pn.ASCII:case Pn.SBYTE:case Pn.UNDEFINED:return 1;case Pn.SHORT:case Pn.SSHORT:return 2;case Pn.LONG:case Pn.SLONG:case Pn.FLOAT:case Pn.IFD:return 4;case Pn.RATIONAL:case Pn.SRATIONAL:case Pn.DOUBLE:case Pn.LONG8:case Pn.SLONG8:case Pn.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${n}`)}}function Qq(n){const e=n.GeoKeyDirectory;if(!e)return null;const t={};for(let r=4;r<=e[3]*4;r+=4){const i=pq[e[r]],s=e[r+1]?Sg[e[r+1]]:null,a=e[r+2],o=e[r+3];let l=null;if(!s)l=o;else{if(l=n[s],typeof l>"u"||l===null)throw new Error(`Could not get value of geoKey '${i}'.`);typeof l=="string"?l=l.substring(o,o+a-1):l.subarray&&(l=l.subarray(o,o+a),a===1&&(l=l[0]))}t[i]=l}return t}function wf(n,e,t,r){let i=null,s=null;const a=Ww(e);switch(e){case Pn.BYTE:case Pn.ASCII:case Pn.UNDEFINED:i=new Uint8Array(t),s=n.readUint8;break;case Pn.SBYTE:i=new Int8Array(t),s=n.readInt8;break;case Pn.SHORT:i=new Uint16Array(t),s=n.readUint16;break;case Pn.SSHORT:i=new Int16Array(t),s=n.readInt16;break;case Pn.LONG:case Pn.IFD:i=new Uint32Array(t),s=n.readUint32;break;case Pn.SLONG:i=new Int32Array(t),s=n.readInt32;break;case Pn.LONG8:case Pn.IFD8:i=new Array(t),s=n.readUint64;break;case Pn.SLONG8:i=new Array(t),s=n.readInt64;break;case Pn.RATIONAL:i=new Uint32Array(t*2),s=n.readUint32;break;case Pn.SRATIONAL:i=new Int32Array(t*2),s=n.readInt32;break;case Pn.FLOAT:i=new Float32Array(t),s=n.readFloat32;break;case Pn.DOUBLE:i=new Float64Array(t),s=n.readFloat64;break;default:throw new RangeError(`Invalid field type: ${e}`)}if(e===Pn.RATIONAL||e===Pn.SRATIONAL)for(let o=0;o<t;o+=2)i[o]=s.call(n,r+o*a),i[o+1]=s.call(n,r+(o*a+4));else for(let o=0;o<t;++o)i[o]=s.call(n,r+o*a);return e===Pn.ASCII?new TextDecoder("utf-8").decode(i):i}class jq{constructor(e,t,r){this.fileDirectory=e,this.geoKeyDirectory=t,this.nextIFDByteOffset=r}}class p_ extends Error{constructor(e){super(`No image at index ${e}`),this.index=e}}class Yq{async readRasters(e={}){const{window:t,width:r,height:i}=e;let{resX:s,resY:a,bbox:o}=e;const l=await this.getImage();let c=l;const A=await this.getImageCount(),u=l.getBoundingBox();if(t&&o)throw new Error('Both "bbox" and "window" passed.');if(r||i){if(t){const[d,g]=l.getOrigin(),[_,m]=l.getResolution();o=[d+t[0]*_,g+t[1]*m,d+t[2]*_,g+t[3]*m]}const f=o||u;if(r){if(s)throw new Error("Both width and resX passed");s=(f[2]-f[0])/r}if(i){if(a)throw new Error("Both width and resY passed");a=(f[3]-f[1])/i}}if(s||a){const f=[];for(let d=0;d<A;++d){const g=await this.getImage(d),{SubfileType:_,NewSubfileType:m}=g.fileDirectory;(d===0||_===2||m&1)&&f.push(g)}f.sort((d,g)=>d.getWidth()-g.getWidth());for(let d=0;d<f.length;++d){const g=f[d],_=(u[2]-u[0])/g.getWidth(),m=(u[3]-u[1])/g.getHeight();if(c=g,s&&s>_||a&&a>m)break}}let h=t;if(o){const[f,d]=l.getOrigin(),[g,_]=c.getResolution(l);h=[Math.round((o[0]-f)/g),Math.round((o[1]-d)/_),Math.round((o[2]-f)/g),Math.round((o[3]-d)/_)],h=[Math.min(h[0],h[2]),Math.min(h[1],h[3]),Math.max(h[0],h[2]),Math.max(h[1],h[3])]}return c.readRasters({...e,window:h})}}class ux extends Yq{constructor(e,t,r,i,s={}){super(),this.source=e,this.littleEndian=t,this.bigTiff=r,this.firstIFDOffset=i,this.cache=s.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,t){const r=this.bigTiff?4048:1024;return new Dq((await this.source.fetch([{offset:e,length:typeof t<"u"?t:r}]))[0],e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){const t=this.bigTiff?20:12,r=this.bigTiff?8:2;let i=await this.getSlice(e);const s=this.bigTiff?i.readUint64(e):i.readUint16(e),a=s*t+(this.bigTiff?16:6);i.covers(e,a)||(i=await this.getSlice(e,a));const o={};let l=e+(this.bigTiff?8:2);for(let u=0;u<s;l+=t,++u){const h=i.readUint16(l),f=i.readUint16(l+2),d=this.bigTiff?i.readUint64(l+4):i.readUint32(l+4);let g,_;const m=Ww(f),y=l+(this.bigTiff?12:8);if(m*d<=(this.bigTiff?8:4))g=wf(i,f,d,y);else{const b=i.readOffset(y),v=Ww(f)*d;if(i.covers(b,v))g=wf(i,f,d,b);else{const B=await this.getSlice(b,v);g=wf(B,f,d,b)}}d===1&&dq.indexOf(h)===-1&&!(f===Pn.RATIONAL||f===Pn.SRATIONAL)?_=g[0]:_=g,o[Sg[h]]=_}const c=Qq(o),A=i.readOffset(e+r+t*s);return new jq(o,c,A)}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(e===0)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(t){throw t instanceof p_?new p_(e):t}return this.ifdRequests[e]=(async()=>{const t=await this.ifdRequests[e-1];if(t.nextIFDByteOffset===0)throw new p_(e);return this.parseFileDirectoryAt(t.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){const t=await this.requestIFD(e);return new kq(t.fileDirectory,t.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,t=!0;for(;t;)try{await this.requestIFD(e),++e}catch(r){if(r instanceof p_)t=!1;else throw r}return e}async getGhostValues(){const e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const t="GDAL_STRUCTURAL_METADATA_SIZE=",r=t.length+100;let i=await this.getSlice(e,r);if(t===wf(i,Pn.ASCII,t.length,e)){const a=wf(i,Pn.ASCII,r,e).split(`
`)[0],o=Number(a.split("=")[1].split(" ")[0])+a.length;o>r&&(i=await this.getSlice(e,o));const l=wf(i,Pn.ASCII,o,e);this.ghostValues={},l.split(`
`).filter(c=>c.length>0).map(c=>c.split("=")).forEach(([c,A])=>{this.ghostValues[c]=A})}return this.ghostValues}static async fromSource(e,t,r){const i=(await e.fetch([{offset:0,length:1024}],r))[0],s=new Pq(i),a=s.getUint16(0,0);let o;if(a===18761)o=!0;else if(a===19789)o=!1;else throw new TypeError("Invalid byte order value.");const l=s.getUint16(2,o);let c;if(l===42)c=!1;else if(l===43){if(c=!0,s.getUint16(4,o)!==8)throw new Error("Unsupported offset byte-size.")}else throw new TypeError("Invalid magic number.");const A=c?s.getUint64(8,o):s.getUint32(4,o);return new ux(e,o,c,A,t)}close(){return typeof this.source.close=="function"?this.source.close():!1}}async function RP(n,e){return ux.fromSource(Hq(n),e)}function h0(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function BP(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var vo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},rd={duration:.5,overwrite:!1,delay:0},fx,Os,ti,jo=1e8,Or=1/jo,qw=Math.PI*2,Gq=qw/4,Vq=0,EP=Math.sqrt,Kq=Math.cos,$q=Math.sin,Rs=function(e){return typeof e=="string"},Li=function(e){return typeof e=="function"},H0=function(e){return typeof e=="number"},hx=function(e){return typeof e>"u"},Mc=function(e){return typeof e=="object"},za=function(e){return e!==!1},dx=function(){return typeof window<"u"},__=function(e){return Li(e)||Rs(e)},CP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},sa=Array.isArray,Xw=/(?:-?\.?\d|\.)+/gi,IP=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,oh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,kb=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,TP=/[+-]=-?[.\d]+/,MP=/[^,'"\[\]\s]+/gi,Wq=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ai,pc,Jw,gx,wo={},Zm={},SP,FP=function(e){return(Zm=id(e,wo))&&Ya},px=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},w3=function(e,t){return!t&&console.warn(e)},UP=function(e,t){return e&&(wo[e]=t)&&Zm&&(Zm[e]=t)||wo},L3=function(){return 0},qq={suppressEvents:!0,isStart:!0,kill:!1},om={suppressEvents:!0,kill:!1},Xq={suppressEvents:!0},_x={},GA=[],Zw={},NP,Ao={},Pb={},fC=30,lm=[],mx="",yx=function(e){var t=e[0],r,i;if(Mc(t)||Li(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=lm.length;i--&&!lm[i].targetTest(t););r=lm[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new sD(e[i],r)))||e.splice(i,1);return e},b1=function(e){return e._gsap||yx(Yo(e))[0]._gsap},kP=function(e,t,r){return(r=e[t])&&Li(r)?e[t]():hx(r)&&e.getAttribute&&e.getAttribute(t)||r},Ha=function(e,t){return(e=e.split(",")).forEach(t)||e},Fi=function(e){return Math.round(e*1e5)/1e5||0},Ji=function(e){return Math.round(e*1e7)/1e7||0},Th=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},Jq=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},e5=function(){var e=GA.length,t=GA.slice(0),r,i;for(Zw={},GA.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},bx=function(e){return!!(e._initted||e._startAt||e.add)},PP=function(e,t,r,i){GA.length&&!Os&&e5(),e.render(t,r,!!(Os&&t<0&&bx(e))),GA.length&&!Os&&e5()},DP=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(MP).length<2?t:Rs(e)?e.trim():e},OP=function(e){return e},Lo=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Zq=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},id=function(e,t){for(var r in t)e[r]=t[r];return e},hC=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Mc(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},t5=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},Fg=function(e){var t=e.parent||Ai,r=e.keyframes?Zq(sa(e.keyframes)):Lo;if(za(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},eX=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},zP=function(e,t,r,i,s){var a=e[i],o;if(s)for(o=t[s];a&&a[s]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=a,t.parent=t._dp=e,t},Vy=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,a=t._next;s?s._next=a:e[r]===t&&(e[r]=a),a?a._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},eu=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},v1=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},tX=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},e7=function(e,t,r,i){return e._startAt&&(Os?e._startAt.revert(om):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},nX=function n(e){return!e||e._ts&&n(e.parent)},dC=function(e){return e._repeat?sd(e._tTime,e=e.duration()+e._rDelay)*e:0},sd=function(e,t){var r=Math.floor(e=Ji(e/t));return e&&r===e?r-1:r},n5=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ky=function(e){return e._end=Ji(e._start+(e._tDur/Math.abs(e._ts||e._rts||Or)||0))},$y=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Ji(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ky(e),r._dirty||v1(r,e)),e},HP=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=n5(e.rawTime(),t),(!t._dur||dp(0,t.totalDuration(),r)-t._tTime>Or)&&t.render(r,!0)),v1(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Or}},bc=function(e,t,r,i){return t.parent&&eu(t),t._start=Ji((H0(r)?r:r||e!==Ai?Uo(e,r,t):e._time)+t._delay),t._end=Ji(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),zP(e,t,"_first","_last",e._sort?"_start":0),t7(t)||(e._recent=t),i||HP(e,t),e._ts<0&&$y(e,e._tTime),e},QP=function(e,t){return(wo.ScrollTrigger||px("scrollTrigger",t))&&wo.ScrollTrigger.create(t,e)},jP=function(e,t,r,i,s){if(wx(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!Os&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&NP!==go.frame)return GA.push(e),e._lazy=[s,i],1},rX=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},t7=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},iX=function(e,t,r,i){var s=e.ratio,a=t<0||!t&&(!e._start&&rX(e)&&!(!e._initted&&t7(e))||(e._ts<0||e._dp._ts<0)&&!t7(e))?0:1,o=e._rDelay,l=0,c,A,u;if(o&&e._repeat&&(l=dp(0,e._tDur,t),A=sd(l,o),e._yoyo&&A&1&&(a=1-a),A!==sd(e._tTime,o)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||Os||i||e._zTime===Or||!t&&e._zTime){if(!e._initted&&jP(e,t,i,r,l))return;for(u=e._zTime,e._zTime=t||(r?Or:0),r||(r=t&&!u),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,c=e._pt;c;)c.r(a,c.d),c=c._next;t<0&&e7(e,t,r,!0),e._onUpdate&&!r&&_o(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&_o(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&eu(e,1),!r&&!Os&&(_o(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},sX=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},ad=function(e,t,r,i){var s=e._repeat,a=Ji(t)||0,o=e._tTime/e._tDur;return o&&!i&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:Ji(a*(s+1)+e._rDelay*s):a,o>0&&!i&&$y(e,e._tTime=e._tDur*o),e.parent&&Ky(e),r||v1(e.parent,e),e},gC=function(e){return e instanceof _a?v1(e):ad(e,e._dur)},aX={_start:0,endTime:L3,totalDuration:L3},Uo=function n(e,t,r){var i=e.labels,s=e._recent||aX,a=e.duration()>=jo?s.endTime(!1):e._dur,o,l,c;return Rs(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",o=t.indexOf("="),l==="<"||l===">"?(o>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(o<0?s:r).totalDuration()/100:1)):o<0?(t in i||(i[t]=a),i[t]):(l=parseFloat(t.charAt(o-1)+t.substr(o+1)),c&&r&&(l=l/100*(sa(r)?r[0]:r).totalDuration()),o>1?n(e,t.substr(0,o-1),r)+l:a+l)):t==null?a:+t},Ug=function(e,t,r){var i=H0(t[1]),s=(i?2:1)+(e<2?0:1),a=t[s],o,l;if(i&&(a.duration=t[1]),a.parent=r,e){for(o=a,l=r;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=za(l.vars.inherit)&&l.parent;a.immediateRender=za(o.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new qi(t[0],a,t[s+1])},gu=function(e,t){return e||e===0?t(e):t},dp=function(e,t,r){return r<e?e:r>t?t:r},na=function(e,t){return!Rs(e)||!(t=Wq.exec(e))?"":t[1]},oX=function(e,t,r){return gu(r,function(i){return dp(e,t,i)})},n7=[].slice,YP=function(e,t){return e&&Mc(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Mc(e[0]))&&!e.nodeType&&e!==pc},lX=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Rs(i)&&!t||YP(i,1)?(s=r).push.apply(s,Yo(i)):r.push(i)})||r},Yo=function(e,t,r){return ti&&!t&&ti.selector?ti.selector(e):Rs(e)&&!r&&(Jw||!od())?n7.call((t||gx).querySelectorAll(e),0):sa(e)?lX(e,r):YP(e)?n7.call(e,0):e?[e]:[]},r7=function(e){return e=Yo(e)[0]||w3("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Yo(t,r.querySelectorAll?r:r===e?w3("Invalid scope")||gx.createElement("div"):e)}},GP=function(e){return e.sort(function(){return .5-Math.random()})},VP=function(e){if(Li(e))return e;var t=Mc(e)?e:{each:e},r=w1(t.ease),i=t.from||0,s=parseFloat(t.base)||0,a={},o=i>0&&i<1,l=isNaN(i)||o,c=t.axis,A=i,u=i;return Rs(i)?A=u={center:.5,edges:.5,end:1}[i]||0:!o&&l&&(A=i[0],u=i[1]),function(h,f,d){var g=(d||t).length,_=a[g],m,y,b,v,B,C,I,R,w;if(!_){if(w=t.grid==="auto"?0:(t.grid||[1,jo])[1],!w){for(I=-jo;I<(I=d[w++].getBoundingClientRect().left)&&w<g;);w<g&&w--}for(_=a[g]=[],m=l?Math.min(w,g)*A-.5:i%w,y=w===jo?0:l?g*u/w-.5:i/w|0,I=0,R=jo,C=0;C<g;C++)b=C%w-m,v=y-(C/w|0),_[C]=B=c?Math.abs(c==="y"?v:b):EP(b*b+v*v),B>I&&(I=B),B<R&&(R=B);i==="random"&&GP(_),_.max=I-R,_.min=R,_.v=g=(parseFloat(t.amount)||parseFloat(t.each)*(w>g?g-1:c?c==="y"?g/w:w:Math.max(w,g/w))||0)*(i==="edges"?-1:1),_.b=g<0?s-g:s,_.u=na(t.amount||t.each)||0,r=r&&g<0?nD(r):r}return g=(_[h]-_.min)/_.max||0,Ji(_.b+(r?r(g):g)*_.v)+_.u}},i7=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Ji(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(H0(r)?0:na(r))}},KP=function(e,t){var r=sa(e),i,s;return!r&&Mc(e)&&(i=r=e.radius||jo,e.values?(e=Yo(e.values),(s=!H0(e[0]))&&(i*=i)):e=i7(e.increment)),gu(t,r?Li(e)?function(a){return s=e(a),Math.abs(s-a)<=i?s:a}:function(a){for(var o=parseFloat(s?a.x:a),l=parseFloat(s?a.y:0),c=jo,A=0,u=e.length,h,f;u--;)s?(h=e[u].x-o,f=e[u].y-l,h=h*h+f*f):h=Math.abs(e[u]-o),h<c&&(c=h,A=u);return A=!i||c<=i?e[A]:a,s||A===a||H0(a)?A:A+na(a)}:i7(e))},$P=function(e,t,r,i){return gu(sa(e)?!t:r===!0?!!(r=0):!i,function(){return sa(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},cX=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,a){return a(s)},i)}},AX=function(e,t){return function(r){return e(parseFloat(r))+(t||na(r))}},uX=function(e,t,r){return qP(e,t,0,1,r)},WP=function(e,t,r){return gu(r,function(i){return e[~~t(i)]})},fX=function n(e,t,r){var i=t-e;return sa(e)?WP(e,n(0,e.length),t):gu(r,function(s){return(i+(s-e)%i)%i+e})},hX=function n(e,t,r){var i=t-e,s=i*2;return sa(e)?WP(e,n(0,e.length-1),t):gu(r,function(a){return a=(s+(a-e)%s)%s||0,e+(a>i?s-a:a)})},x3=function(e){for(var t=0,r="",i,s,a,o;~(i=e.indexOf("random(",t));)a=e.indexOf(")",i),o=e.charAt(i+7)==="[",s=e.substr(i+7,a-i-7).match(o?MP:Xw),r+=e.substr(t,i-t)+$P(o?s:+s[0],o?0:+s[1],+s[2]||1e-5),t=a+1;return r+e.substr(t,e.length-t)},qP=function(e,t,r,i,s){var a=t-e,o=i-r;return gu(s,function(l){return r+((l-e)/a*o||0)})},dX=function n(e,t,r,i){var s=isNaN(e+t)?0:function(f){return(1-f)*e+f*t};if(!s){var a=Rs(e),o={},l,c,A,u,h;if(r===!0&&(i=1)&&(r=null),a)e={p:e},t={p:t};else if(sa(e)&&!sa(t)){for(A=[],u=e.length,h=u-2,c=1;c<u;c++)A.push(n(e[c-1],e[c]));u--,s=function(d){d*=u;var g=Math.min(h,~~d);return A[g](d-g)},r=t}else i||(e=id(sa(e)?[]:{},e));if(!A){for(l in t)vx.call(o,e,l,"get",t[l]);s=function(d){return Rx(d,o)||(a?e.p:e)}}}return gu(r,s)},pC=function(e,t,r){var i=e.labels,s=jo,a,o,l;for(a in i)o=i[a]-t,o<0==!!r&&o&&s>(o=Math.abs(o))&&(l=a,s=o);return l},_o=function(e,t,r){var i=e.vars,s=i[t],a=ti,o=e._ctx,l,c,A;if(s)return l=i[t+"Params"],c=i.callbackScope||e,r&&GA.length&&e5(),o&&(ti=o),A=l?s.apply(c,l):s.call(c),ti=a,A},ng=function(e){return eu(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Os),e.progress()<1&&_o(e,"onInterrupt"),e},lh,XP=[],JP=function(e){if(e)if(e=!e.name&&e.default||e,dx()||e.headless){var t=e.name,r=Li(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:L3,render:Rx,add:vx,kill:TX,modifier:IX,rawVars:0},a={targetTest:0,get:0,getSetter:xx,aliases:{},register:0};if(od(),e!==i){if(Ao[t])return;Lo(i,Lo(t5(e,s),a)),id(i.prototype,id(s,t5(e,a))),Ao[i.prop=t]=i,e.targetTest&&(lm.push(i),_x[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}UP(t,i),e.register&&e.register(Ya,i,Qa)}else XP.push(e)},Pr=255,rg={aqua:[0,Pr,Pr],lime:[0,Pr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Pr],navy:[0,0,128],white:[Pr,Pr,Pr],olive:[128,128,0],yellow:[Pr,Pr,0],orange:[Pr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Pr,0,0],pink:[Pr,192,203],cyan:[0,Pr,Pr],transparent:[Pr,Pr,Pr,0]},Db=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*Pr+.5|0},ZP=function(e,t,r){var i=e?H0(e)?[e>>16,e>>8&Pr,e&Pr]:0:rg.black,s,a,o,l,c,A,u,h,f,d;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),rg[e])i=rg[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+s+s+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Pr,i&Pr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Pr,e&Pr]}else if(e.substr(0,3)==="hsl"){if(i=d=e.match(Xw),!t)l=+i[0]%360/360,c=+i[1]/100,A=+i[2]/100,a=A<=.5?A*(c+1):A+c-A*c,s=A*2-a,i.length>3&&(i[3]*=1),i[0]=Db(l+1/3,s,a),i[1]=Db(l,s,a),i[2]=Db(l-1/3,s,a);else if(~e.indexOf("="))return i=e.match(IP),r&&i.length<4&&(i[3]=1),i}else i=e.match(Xw)||rg.transparent;i=i.map(Number)}return t&&!d&&(s=i[0]/Pr,a=i[1]/Pr,o=i[2]/Pr,u=Math.max(s,a,o),h=Math.min(s,a,o),A=(u+h)/2,u===h?l=c=0:(f=u-h,c=A>.5?f/(2-u-h):f/(u+h),l=u===s?(a-o)/f+(a<o?6:0):u===a?(o-s)/f+2:(s-a)/f+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(A*100+.5)),r&&i.length<4&&(i[3]=1),i},eD=function(e){var t=[],r=[],i=-1;return e.split(VA).forEach(function(s){var a=s.match(oh)||[];t.push.apply(t,a),r.push(i+=a.length+1)}),t.c=r,t},_C=function(e,t,r){var i="",s=(e+i).match(VA),a=t?"hsla(":"rgba(",o=0,l,c,A,u;if(!s)return e;if(s=s.map(function(h){return(h=ZP(h,t,1))&&a+(t?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),r&&(A=eD(e),l=r.c,l.join(i)!==A.c.join(i)))for(c=e.replace(VA,"1").split(oh),u=c.length-1;o<u;o++)i+=c[o]+(~l.indexOf(o)?s.shift()||a+"0,0,0,0)":(A.length?A:s.length?s:r).shift());if(!c)for(c=e.split(VA),u=c.length-1;o<u;o++)i+=c[o]+s[o];return i+c[u]},VA=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in rg)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),gX=/hsl[a]?\(/,tD=function(e){var t=e.join(" "),r;if(VA.lastIndex=0,VA.test(t))return r=gX.test(t),e[1]=_C(e[1],r),e[0]=_C(e[0],r,eD(e[1])),!0},R3,go=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,a=s,o=[],l,c,A,u,h,f,d=function g(_){var m=n()-i,y=_===!0,b,v,B,C;if((m>e||m<0)&&(r+=m-t),i+=m,B=i-r,b=B-a,(b>0||y)&&(C=++u.frame,h=B-u.time*1e3,u.time=B=B/1e3,a+=b+(b>=s?4:s-b),v=1),y||(l=c(g)),v)for(f=0;f<o.length;f++)o[f](B,h,C,_)};return u={time:0,frame:0,tick:function(){d(!0)},deltaRatio:function(_){return h/(1e3/(_||60))},wake:function(){SP&&(!Jw&&dx()&&(pc=Jw=window,gx=pc.document||{},wo.gsap=Ya,(pc.gsapVersions||(pc.gsapVersions=[])).push(Ya.version),FP(Zm||pc.GreenSockGlobals||!pc.gsap&&pc||{}),XP.forEach(JP)),A=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&u.sleep(),c=A||function(_){return setTimeout(_,a-u.time*1e3+1|0)},R3=1,d(2))},sleep:function(){(A?cancelAnimationFrame:clearTimeout)(l),R3=0,c=L3},lagSmoothing:function(_,m){e=_||1/0,t=Math.min(m||33,e)},fps:function(_){s=1e3/(_||240),a=u.time*1e3+s},add:function(_,m,y){var b=m?function(v,B,C,I){_(v,B,C,I),u.remove(b)}:_;return u.remove(_),o[y?"unshift":"push"](b),od(),b},remove:function(_,m){~(m=o.indexOf(_))&&o.splice(m,1)&&f>=m&&f--},_listeners:o},u}(),od=function(){return!R3&&go.wake()},nr={},pX=/^[\d.\-M][\d.\-,\s]/,_X=/["']/g,mX=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,a=r.length,o,l,c;s<a;s++)l=r[s],o=s!==a-1?l.lastIndexOf(","):l.length,c=l.substr(0,o),t[i]=isNaN(c)?c.replace(_X,"").trim():+c,i=l.substr(o+1).trim();return t},yX=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},bX=function(e){var t=(e+"").split("("),r=nr[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[mX(t[1])]:yX(e).split(",").map(DP)):nr._CE&&pX.test(e)?nr._CE("",e):r},nD=function(e){return function(t){return 1-e(1-t)}},rD=function n(e,t){for(var r=e._first,i;r;)r instanceof _a?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},w1=function(e,t){return e&&(Li(e)?e:nr[e]||bX(e))||t},tf=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},a;return Ha(e,function(o){nr[o]=wo[o]=s,nr[a=o.toLowerCase()]=r;for(var l in s)nr[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=nr[o+"."+l]=s[l]}),s},iD=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Ob=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),a=s/qw*(Math.asin(1/i)||0),o=function(A){return A===1?1:i*Math.pow(2,-10*A)*$q((A-a)*s)+1},l=e==="out"?o:e==="in"?function(c){return 1-o(1-c)}:iD(o);return s=qw/s,l.config=function(c,A){return n(e,c,A)},l},zb=function n(e,t){t===void 0&&(t=1.70158);var r=function(a){return a?--a*a*((t+1)*a+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:iD(r);return i.config=function(s){return n(e,s)},i};Ha("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;tf(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});nr.Linear.easeNone=nr.none=nr.Linear.easeIn;tf("Elastic",Ob("in"),Ob("out"),Ob());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(o){return o<t?n*o*o:o<r?n*Math.pow(o-1.5/e,2)+.75:o<i?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};tf("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);tf("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});tf("Circ",function(n){return-(EP(1-n*n)-1)});tf("Sine",function(n){return n===1?1:-Kq(n*Gq)+1});tf("Back",zb("in"),zb("out"),zb());nr.SteppedEase=nr.steps=wo.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,a=1-Or;return function(o){return((i*dp(0,a,o)|0)+s)*r}}};rd.ease=nr["quad.out"];Ha("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return mx+=n+","+n+"Params,"});var sD=function(e,t){this.id=Vq++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:kP,this.set=t?t.getSetter:xx},B3=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,ad(this,+t.duration,1,1),this.data=t.data,ti&&(this._ctx=ti,ti.data.push(this)),R3||go.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,ad(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(od(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for($y(this,r),!s._dp||s.parent||HP(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&bc(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Or||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),PP(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+dC(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+dC(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?sd(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-Or?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?n5(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Or?0:this._rts,this.totalTime(dp(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),Ky(this),tX(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(od(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Or&&(this._tTime-=Or)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&bc(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(za(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?n5(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Xq);var i=Os;return Os=r,bx(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Os=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,gC(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,gC(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Uo(this,r),za(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,za(i)),this._dur||(this._zTime=-Or),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Or:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Or,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Or)},e.eventCallback=function(r,i,s){var a=this.vars;return arguments.length>1?(i?(a[r]=i,s&&(a[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete a[r],this):a[r]},e.then=function(r){var i=this;return new Promise(function(s){var a=Li(r)?r:OP,o=function(){var c=i.then;i.then=null,Li(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=c),s(a),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?o():i._prom=o})},e.kill=function(){ng(this)},n}();Lo(B3.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Or,_prom:0,_ps:!1,_rts:1});var _a=function(n){BP(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=za(r.sortChildren),Ai&&bc(r.parent||Ai,h0(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&QP(h0(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,a){return Ug(0,arguments,this),this},t.from=function(i,s,a){return Ug(1,arguments,this),this},t.fromTo=function(i,s,a,o){return Ug(2,arguments,this),this},t.set=function(i,s,a){return s.duration=0,s.parent=this,Fg(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new qi(i,s,Uo(this,a),1),this},t.call=function(i,s,a){return bc(this,qi.delayedCall(0,i,s),a)},t.staggerTo=function(i,s,a,o,l,c,A){return a.duration=s,a.stagger=a.stagger||o,a.onComplete=c,a.onCompleteParams=A,a.parent=this,new qi(i,a,Uo(this,l)),this},t.staggerFrom=function(i,s,a,o,l,c,A){return a.runBackwards=1,Fg(a).immediateRender=za(a.immediateRender),this.staggerTo(i,s,a,o,l,c,A)},t.staggerFromTo=function(i,s,a,o,l,c,A,u){return o.startAt=a,Fg(o).immediateRender=za(o.immediateRender),this.staggerTo(i,s,o,l,c,A,u)},t.render=function(i,s,a){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,A=i<=0?0:Ji(i),u=this._zTime<0!=i<0&&(this._initted||!c),h,f,d,g,_,m,y,b,v,B,C,I;if(this!==Ai&&A>l&&i>=0&&(A=l),A!==this._tTime||a||u){if(o!==this._time&&c&&(A+=this._time-o,i+=this._time-o),h=A,v=this._start,b=this._ts,m=!b,u&&(c||(o=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(C=this._yoyo,_=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(_*100+i,s,a);if(h=Ji(A%_),A===l?(g=this._repeat,h=c):(B=Ji(A/_),g=~~B,g&&g===B&&(h=c,g--),h>c&&(h=c)),B=sd(this._tTime,_),!o&&this._tTime&&B!==g&&this._tTime-B*_-this._dur<=0&&(B=g),C&&g&1&&(h=c-h,I=1),g!==B&&!this._lock){var R=C&&B&1,w=R===(C&&g&1);if(g<B&&(R=!R),o=R?0:A%c?c:A,this._lock=1,this.render(o||(I?0:Ji(g*_)),s,!c)._lock=0,this._tTime=A,!s&&this.parent&&_o(this,"onRepeat"),this.vars.repeatRefresh&&!I&&(this.invalidate()._lock=1),o&&o!==this._time||m!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,w&&(this._lock=2,o=R?c:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!I&&this.invalidate()),this._lock=0,!this._ts&&!m)return this;rD(this,I)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=sX(this,Ji(o),Ji(h)),y&&(A-=h-(h=y._start))),this._tTime=A,this._time=h,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,o=0),!o&&A&&!s&&!B&&(_o(this,"onStart"),this._tTime!==A))return this;if(h>=o&&i>=0)for(f=this._first;f;){if(d=f._next,(f._act||h>=f._start)&&f._ts&&y!==f){if(f.parent!==this)return this.render(i,s,a);if(f.render(f._ts>0?(h-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(h-f._start)*f._ts,s,a),h!==this._time||!this._ts&&!m){y=0,d&&(A+=this._zTime=-Or);break}}f=d}else{f=this._last;for(var U=i<0?i:h;f;){if(d=f._prev,(f._act||U<=f._end)&&f._ts&&y!==f){if(f.parent!==this)return this.render(i,s,a);if(f.render(f._ts>0?(U-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(U-f._start)*f._ts,s,a||Os&&bx(f)),h!==this._time||!this._ts&&!m){y=0,d&&(A+=this._zTime=U?-Or:Or);break}}f=d}}if(y&&!s&&(this.pause(),y.render(h>=o?0:-Or)._zTime=h>=o?1:-1,this._ts))return this._start=v,Ky(this),this.render(i,s,a);this._onUpdate&&!s&&_o(this,"onUpdate",!0),(A===l&&this._tTime>=this.totalDuration()||!A&&o)&&(v===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(A===l&&this._ts>0||!A&&this._ts<0)&&eu(this,1),!s&&!(i<0&&!o)&&(A||o||!l)&&(_o(this,A===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(A<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var a=this;if(H0(s)||(s=Uo(this,s,i)),!(i instanceof B3)){if(sa(i))return i.forEach(function(o){return a.add(o,s)}),this;if(Rs(i))return this.addLabel(i,s);if(Li(i))i=qi.delayedCall(0,i);else return this}return this!==i?bc(this,i,s):this},t.getChildren=function(i,s,a,o){i===void 0&&(i=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=-jo);for(var l=[],c=this._first;c;)c._start>=o&&(c instanceof qi?s&&l.push(c):(a&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,a)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===i)return s[a]},t.remove=function(i){return Rs(i)?this.removeLabel(i):Li(i)?this.killTweensOf(i):(i.parent===this&&Vy(this,i),i===this._recent&&(this._recent=this._last),v1(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ji(go.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Uo(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,a){var o=qi.delayedCall(0,s||L3,a);return o.data="isPause",this._hasPause=1,bc(this,o,Uo(this,i))},t.removePause=function(i){var s=this._first;for(i=Uo(this,i);s;)s._start===i&&s.data==="isPause"&&eu(s),s=s._next},t.killTweensOf=function(i,s,a){for(var o=this.getTweensOf(i,a),l=o.length;l--;)MA!==o[l]&&o[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var a=[],o=Yo(i),l=this._first,c=H0(s),A;l;)l instanceof qi?Jq(l._targets,o)&&(c?(!MA||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&a.push(l):(A=l.getTweensOf(o,s)).length&&a.push.apply(a,A),l=l._next;return a},t.tweenTo=function(i,s){s=s||{};var a=this,o=Uo(a,i),l=s,c=l.startAt,A=l.onStart,u=l.onStartParams,h=l.immediateRender,f,d=qi.to(a,Lo({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:s.duration||Math.abs((o-(c&&"time"in c?c.time:a._time))/a.timeScale())||Or,onStart:function(){if(a.pause(),!f){var _=s.duration||Math.abs((o-(c&&"time"in c?c.time:a._time))/a.timeScale());d._dur!==_&&ad(d,_,0,1).render(d._time,!0,!0),f=1}A&&A.apply(d,u||[])}},s));return h?d.render(0):d},t.tweenFromTo=function(i,s,a){return this.tweenTo(s,Lo({startAt:{time:Uo(this,i)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),pC(this,Uo(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),pC(this,Uo(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Or)},t.shiftChildren=function(i,s,a){a===void 0&&(a=0);for(var o=this._first,l=this.labels,c;o;)o._start>=a&&(o._start+=i,o._end+=i),o=o._next;if(s)for(c in l)l[c]>=a&&(l[c]+=i);return v1(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),v1(this)},t.totalDuration=function(i){var s=0,a=this,o=a._last,l=jo,c,A,u;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-i:i));if(a._dirty){for(u=a.parent;o;)c=o._prev,o._dirty&&o.totalDuration(),A=o._start,A>l&&a._sort&&o._ts&&!a._lock?(a._lock=1,bc(a,o,A-o._delay,1)._lock=0):l=A,A<0&&o._ts&&(s-=A,(!u&&!a._dp||u&&u.smoothChildTiming)&&(a._start+=A/a._ts,a._time-=A,a._tTime-=A),a.shiftChildren(-A,!1,-1/0),l=0),o._end>s&&o._ts&&(s=o._end),o=c;ad(a,a===Ai&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(i){if(Ai._ts&&(PP(Ai,n5(i,Ai)),NP=go.frame),go.frame>=fC){fC+=vo.autoSleep||120;var s=Ai._first;if((!s||!s._ts)&&vo.autoSleep&&go._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||go.sleep()}}},e}(B3);Lo(_a.prototype,{_lock:0,_hasPause:0,_forcing:0});var vX=function(e,t,r,i,s,a,o){var l=new Qa(this._pt,e,t,0,1,uD,null,s),c=0,A=0,u,h,f,d,g,_,m,y;for(l.b=r,l.e=i,r+="",i+="",(m=~i.indexOf("random("))&&(i=x3(i)),a&&(y=[r,i],a(y,e,t),r=y[0],i=y[1]),h=r.match(kb)||[];u=kb.exec(i);)d=u[0],g=i.substring(c,u.index),f?f=(f+1)%5:g.substr(-5)==="rgba("&&(f=1),d!==h[A++]&&(_=parseFloat(h[A-1])||0,l._pt={_next:l._pt,p:g||A===1?g:",",s:_,c:d.charAt(1)==="="?Th(_,d)-_:parseFloat(d)-_,m:f&&f<4?Math.round:0},c=kb.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=o,(TP.test(i)||m)&&(l.e=0),this._pt=l,l},vx=function(e,t,r,i,s,a,o,l,c,A){Li(i)&&(i=i(s||0,e,a));var u=e[t],h=r!=="get"?r:Li(u)?c?e[t.indexOf("set")||!Li(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():u,f=Li(u)?c?BX:cD:Lx,d;if(Rs(i)&&(~i.indexOf("random(")&&(i=x3(i)),i.charAt(1)==="="&&(d=Th(h,i)+(na(h)||0),(d||d===0)&&(i=d))),!A||h!==i||s7)return!isNaN(h*i)&&i!==""?(d=new Qa(this._pt,e,t,+h||0,i-(h||0),typeof u=="boolean"?CX:AD,0,f),c&&(d.fp=c),o&&d.modifier(o,this,e),this._pt=d):(!u&&!(t in e)&&px(t,i),vX.call(this,e,t,h,i,f,l||vo.stringFilter,c))},wX=function(e,t,r,i,s){if(Li(e)&&(e=Ng(e,s,t,r,i)),!Mc(e)||e.style&&e.nodeType||sa(e)||CP(e))return Rs(e)?Ng(e,s,t,r,i):e;var a={},o;for(o in e)a[o]=Ng(e[o],s,t,r,i);return a},aD=function(e,t,r,i,s,a){var o,l,c,A;if(Ao[e]&&(o=new Ao[e]).init(s,o.rawVars?t[e]:wX(t[e],i,s,a,r),r,i,a)!==!1&&(r._pt=l=new Qa(r._pt,s,e,0,1,o.render,o,0,o.priority),r!==lh))for(c=r._ptLookup[r._targets.indexOf(s)],A=o._props.length;A--;)c[o._props[A]]=l;return o},MA,s7,wx=function n(e,t,r){var i=e.vars,s=i.ease,a=i.startAt,o=i.immediateRender,l=i.lazy,c=i.onUpdate,A=i.runBackwards,u=i.yoyoEase,h=i.keyframes,f=i.autoRevert,d=e._dur,g=e._startAt,_=e._targets,m=e.parent,y=m&&m.data==="nested"?m.vars.targets:_,b=e._overwrite==="auto"&&!fx,v=e.timeline,B,C,I,R,w,U,M,F,P,S,W,re,G;if(v&&(!h||!s)&&(s="none"),e._ease=w1(s,rd.ease),e._yEase=u?nD(w1(u===!0?s:u,rd.ease)):0,u&&e._yoyo&&!e._repeat&&(u=e._yEase,e._yEase=e._ease,e._ease=u),e._from=!v&&!!i.runBackwards,!v||h&&!i.stagger){if(F=_[0]?b1(_[0]).harness:0,re=F&&i[F.prop],B=t5(i,_x),g&&(g._zTime<0&&g.progress(1),t<0&&A&&o&&!f?g.render(-1,!0):g.revert(A&&d?om:qq),g._lazy=0),a){if(eu(e._startAt=qi.set(_,Lo({data:"isStart",overwrite:!1,parent:m,immediateRender:!0,lazy:!g&&za(l),startAt:null,delay:0,onUpdate:c&&function(){return _o(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Os||!o&&!f)&&e._startAt.revert(om),o&&d&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(A&&d&&!g){if(t&&(o=!1),I=Lo({overwrite:!1,data:"isFromStart",lazy:o&&!g&&za(l),immediateRender:o,stagger:0,parent:m},B),re&&(I[F.prop]=re),eu(e._startAt=qi.set(_,I)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Os?e._startAt.revert(om):e._startAt.render(-1,!0)),e._zTime=t,!o)n(e._startAt,Or,Or);else if(!t)return}for(e._pt=e._ptCache=0,l=d&&za(l)||l&&!d,C=0;C<_.length;C++){if(w=_[C],M=w._gsap||yx(_)[C]._gsap,e._ptLookup[C]=S={},Zw[M.id]&&GA.length&&e5(),W=y===_?C:y.indexOf(w),F&&(P=new F).init(w,re||B,e,W,y)!==!1&&(e._pt=R=new Qa(e._pt,w,P.name,0,1,P.render,P,0,P.priority),P._props.forEach(function(ie){S[ie]=R}),P.priority&&(U=1)),!F||re)for(I in B)Ao[I]&&(P=aD(I,B,e,W,w,y))?P.priority&&(U=1):S[I]=R=vx.call(e,w,I,"get",B[I],W,y,0,i.stringFilter);e._op&&e._op[C]&&e.kill(w,e._op[C]),b&&e._pt&&(MA=e,Ai.killTweensOf(w,S,e.globalTime(t)),G=!e.parent,MA=0),e._pt&&l&&(Zw[M.id]=1)}U&&fD(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!G,h&&t<=0&&v.render(jo,!0,!0)},LX=function(e,t,r,i,s,a,o,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],A,u,h,f;if(!c)for(c=e._ptCache[t]=[],h=e._ptLookup,f=e._targets.length;f--;){if(A=h[f][t],A&&A.d&&A.d._pt)for(A=A.d._pt;A&&A.p!==t&&A.fp!==t;)A=A._next;if(!A)return s7=1,e.vars[t]="+=0",wx(e,o),s7=0,l?w3(t+" not eligible for reset"):1;c.push(A)}for(f=c.length;f--;)u=c[f],A=u._pt||u,A.s=(i||i===0)&&!s?i:A.s+(i||0)+a*A.c,A.c=r-A.s,u.e&&(u.e=Fi(r)+na(u.e)),u.b&&(u.b=A.s+na(u.b))},xX=function(e,t){var r=e[0]?b1(e[0]).harness:0,i=r&&r.aliases,s,a,o,l;if(!i)return t;s=id({},t);for(a in i)if(a in s)for(l=i[a].split(","),o=l.length;o--;)s[l[o]]=s[a];return s},RX=function(e,t,r,i){var s=t.ease||i||"power1.inOut",a,o;if(sa(t))o=r[e]||(r[e]=[]),t.forEach(function(l,c){return o.push({t:c/(t.length-1)*100,v:l,e:s})});else for(a in t)o=r[a]||(r[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:t[a],e:s})},Ng=function(e,t,r,i,s){return Li(e)?e.call(t,r,i,s):Rs(e)&&~e.indexOf("random(")?x3(e):e},oD=mx+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",lD={};Ha(oD+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return lD[n]=1});var qi=function(n){BP(e,n);function e(r,i,s,a){var o;typeof i=="number"&&(s.duration=i,i=s,s=null),o=n.call(this,a?i:Fg(i))||this;var l=o.vars,c=l.duration,A=l.delay,u=l.immediateRender,h=l.stagger,f=l.overwrite,d=l.keyframes,g=l.defaults,_=l.scrollTrigger,m=l.yoyoEase,y=i.parent||Ai,b=(sa(r)||CP(r)?H0(r[0]):"length"in i)?[r]:Yo(r),v,B,C,I,R,w,U,M;if(o._targets=b.length?yx(b):w3("GSAP target "+r+" not found. https://gsap.com",!vo.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=f,d||h||__(c)||__(A)){if(i=o.vars,v=o.timeline=new _a({data:"nested",defaults:g||{},targets:y&&y.data==="nested"?y.vars.targets:b}),v.kill(),v.parent=v._dp=h0(o),v._start=0,h||__(c)||__(A)){if(I=b.length,U=h&&VP(h),Mc(h))for(R in h)~oD.indexOf(R)&&(M||(M={}),M[R]=h[R]);for(B=0;B<I;B++)C=t5(i,lD),C.stagger=0,m&&(C.yoyoEase=m),M&&id(C,M),w=b[B],C.duration=+Ng(c,h0(o),B,w,b),C.delay=(+Ng(A,h0(o),B,w,b)||0)-o._delay,!h&&I===1&&C.delay&&(o._delay=A=C.delay,o._start+=A,C.delay=0),v.to(w,C,U?U(B,w,b):0),v._ease=nr.none;v.duration()?c=A=0:o.timeline=0}else if(d){Fg(Lo(v.vars.defaults,{ease:"none"})),v._ease=w1(d.ease||i.ease||"none");var F=0,P,S,W;if(sa(d))d.forEach(function(re){return v.to(b,re,">")}),v.duration();else{C={};for(R in d)R==="ease"||R==="easeEach"||RX(R,d[R],C,d.easeEach);for(R in C)for(P=C[R].sort(function(re,G){return re.t-G.t}),F=0,B=0;B<P.length;B++)S=P[B],W={ease:S.e,duration:(S.t-(B?P[B-1].t:0))/100*c},W[R]=S.v,v.to(b,W,F),F+=W.duration;v.duration()<c&&v.to({},{duration:c-v.duration()})}}c||o.duration(c=v.duration())}else o.timeline=0;return f===!0&&!fx&&(MA=h0(o),Ai.killTweensOf(b),MA=0),bc(y,h0(o),s),i.reversed&&o.reverse(),i.paused&&o.paused(!0),(u||!c&&!d&&o._start===Ji(y._time)&&za(u)&&nX(h0(o))&&y.data!=="nested")&&(o._tTime=-Or,o.render(Math.max(0,-A)||0)),_&&QP(h0(o),_),o}var t=e.prototype;return t.render=function(i,s,a){var o=this._time,l=this._tDur,c=this._dur,A=i<0,u=i>l-Or&&!A?l:i<Or?0:i,h,f,d,g,_,m,y,b,v;if(!c)iX(this,i,s,a);else if(u!==this._tTime||!i||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==A||this._lazy){if(h=u,b=this.timeline,this._repeat){if(g=c+this._rDelay,this._repeat<-1&&A)return this.totalTime(g*100+i,s,a);if(h=Ji(u%g),u===l?(d=this._repeat,h=c):(_=Ji(u/g),d=~~_,d&&d===_?(h=c,d--):h>c&&(h=c)),m=this._yoyo&&d&1,m&&(v=this._yEase,h=c-h),_=sd(this._tTime,g),h===o&&!a&&this._initted&&d===_)return this._tTime=u,this;d!==_&&(b&&this._yEase&&rD(b,m),this.vars.repeatRefresh&&!m&&!this._lock&&h!==g&&this._initted&&(this._lock=a=1,this.render(Ji(g*d),!0).invalidate()._lock=0))}if(!this._initted){if(jP(this,A?i:h,a,s,u))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&d!==_))return this;if(c!==this._dur)return this.render(i,s,a)}if(this._tTime=u,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(v||this._ease)(h/c),this._from&&(this.ratio=y=1-y),!o&&u&&!s&&!_&&(_o(this,"onStart"),this._tTime!==u))return this;for(f=this._pt;f;)f.r(y,f.d),f=f._next;b&&b.render(i<0?i:b._dur*b._ease(h/this._dur),s,a)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(A&&e7(this,i,s,a),_o(this,"onUpdate")),this._repeat&&d!==_&&this.vars.onRepeat&&!s&&this.parent&&_o(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(A&&!this._onUpdate&&e7(this,i,!0,!0),(i||!c)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&eu(this,1),!s&&!(A&&!o)&&(u||o||m)&&(_o(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,a,o,l){R3||go.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),A;return this._initted||wx(this,c),A=this._ease(c/this._dur),LX(this,i,s,a,o,A,c,l)?this.resetTo(i,s,a,o,1):($y(this,0),this.parent||zP(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?ng(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Os),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,MA&&MA.vars.overwrite!==!0)._first||ng(this),this.parent&&a!==this.timeline.totalDuration()&&ad(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,l=i?Yo(i):o,c=this._ptLookup,A=this._pt,u,h,f,d,g,_,m;if((!s||s==="all")&&eX(o,l))return s==="all"&&(this._pt=0),ng(this);for(u=this._op=this._op||[],s!=="all"&&(Rs(s)&&(g={},Ha(s,function(y){return g[y]=1}),s=g),s=xX(o,s)),m=o.length;m--;)if(~l.indexOf(o[m])){h=c[m],s==="all"?(u[m]=s,d=h,f={}):(f=u[m]=u[m]||{},d=s);for(g in d)_=h&&h[g],_&&((!("kill"in _.d)||_.d.kill(g)===!0)&&Vy(this,_,"_pt"),delete h[g]),f!=="all"&&(f[g]=1)}return this._initted&&!this._pt&&A&&ng(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Ug(1,arguments)},e.delayedCall=function(i,s,a,o){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(i,s,a){return Ug(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,a){return Ai.killTweensOf(i,s,a)},e}(B3);Lo(qi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ha("staggerTo,staggerFrom,staggerFromTo",function(n){qi[n]=function(){var e=new _a,t=n7.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var Lx=function(e,t,r){return e[t]=r},cD=function(e,t,r){return e[t](r)},BX=function(e,t,r,i){return e[t](i.fp,r)},EX=function(e,t,r){return e.setAttribute(t,r)},xx=function(e,t){return Li(e[t])?cD:hx(e[t])&&e.setAttribute?EX:Lx},AD=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},CX=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},uD=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},Rx=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},IX=function(e,t,r,i){for(var s=this._pt,a;s;)a=s._next,s.p===i&&s.modifier(e,t,r),s=a},TX=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?Vy(this,t,"_pt"):t.dep||(r=1),t=i;return!r},MX=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},fD=function(e){for(var t=e._pt,r,i,s,a;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:a)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:a=t,t=r}e._pt=s},Qa=function(){function n(t,r,i,s,a,o,l,c,A){this.t=r,this.s=s,this.c=a,this.p=i,this.r=o||AD,this.d=l||this,this.set=c||Lx,this.pr=A||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=MX,this.m=r,this.mt=s,this.tween=i},n}();Ha(mx+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return _x[n]=1});wo.TweenMax=wo.TweenLite=qi;wo.TimelineLite=wo.TimelineMax=_a;Ai=new _a({sortChildren:!1,defaults:rd,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});vo.stringFilter=tD;var L1=[],cm={},SX=[],mC=0,FX=0,Hb=function(e){return(cm[e]||SX).map(function(t){return t()})},a7=function(){var e=Date.now(),t=[];e-mC>2&&(Hb("matchMediaInit"),L1.forEach(function(r){var i=r.queries,s=r.conditions,a,o,l,c;for(o in i)a=pc.matchMedia(i[o]).matches,a&&(l=1),a!==s[o]&&(s[o]=a,c=1);c&&(r.revert(),l&&t.push(r))}),Hb("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),mC=e,Hb("matchMedia"))},hD=function(){function n(t,r){this.selector=r&&r7(r),this.data=[],this._r=[],this.isReverted=!1,this.id=FX++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Li(r)&&(s=i,i=r,r=Li);var a=this,o=function(){var c=ti,A=a.selector,u;return c&&c!==a&&c.data.push(a),s&&(a.selector=r7(s)),ti=a,u=i.apply(a,arguments),Li(u)&&a._r.push(u),ti=c,a.selector=A,a.isReverted=!1,u};return a.last=o,r===Li?o(a,function(l){return a.add(null,l)}):r?a[r]=o:o},e.ignore=function(r){var i=ti;ti=null,r(this),ti=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof qi&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var o=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(A){return o.splice(o.indexOf(A),1)}));for(o.map(function(A){return{g:A._dur||A._delay||A._sat&&!A._sat.vars.immediateRender?A.globalTime(0):-1/0,t:A}}).sort(function(A,u){return u.g-A.g||-1/0}).forEach(function(A){return A.t.revert(r)}),l=s.data.length;l--;)c=s.data[l],c instanceof _a?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof qi)&&c.revert&&c.revert(r);s._r.forEach(function(A){return A(r,s)}),s.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),i)for(var a=L1.length;a--;)L1[a].id===this.id&&L1.splice(a,1)},e.revert=function(r){this.kill(r||{})},n}(),UX=function(){function n(t){this.contexts=[],this.scope=t,ti&&ti.data.push(this)}var e=n.prototype;return e.add=function(r,i,s){Mc(r)||(r={matches:r});var a=new hD(0,s||this.scope),o=a.conditions={},l,c,A;ti&&!a.selector&&(a.selector=ti.selector),this.contexts.push(a),i=a.add("onMatch",i),a.queries=r;for(c in r)c==="all"?A=1:(l=pc.matchMedia(r[c]),l&&(L1.indexOf(a)<0&&L1.push(a),(o[c]=l.matches)&&(A=1),l.addListener?l.addListener(a7):l.addEventListener("change",a7)));return A&&i(a,function(u){return a.add(null,u)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),r5={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return JP(i)})},timeline:function(e){return new _a(e)},getTweensOf:function(e,t){return Ai.getTweensOf(e,t)},getProperty:function(e,t,r,i){Rs(e)&&(e=Yo(e)[0]);var s=b1(e||{}).get,a=r?OP:DP;return r==="native"&&(r=""),e&&(t?a((Ao[t]&&Ao[t].get||s)(e,t,r,i)):function(o,l,c){return a((Ao[o]&&Ao[o].get||s)(e,o,l,c))})},quickSetter:function(e,t,r){if(e=Yo(e),e.length>1){var i=e.map(function(A){return Ya.quickSetter(A,t,r)}),s=i.length;return function(A){for(var u=s;u--;)i[u](A)}}e=e[0]||{};var a=Ao[t],o=b1(e),l=o.harness&&(o.harness.aliases||{})[t]||t,c=a?function(A){var u=new a;lh._pt=0,u.init(e,r?A+r:A,lh,0,[e]),u.render(1,u),lh._pt&&Rx(1,lh)}:o.set(e,l);return a?c:function(A){return c(e,l,r?A+r:A,o,1)}},quickTo:function(e,t,r){var i,s=Ya.to(e,Lo((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),a=function(l,c,A){return s.resetTo(t,l,c,A)};return a.tween=s,a},isTweening:function(e){return Ai.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=w1(e.ease,rd.ease)),hC(rd,e||{})},config:function(e){return hC(vo,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,a=e.extendTimeline;(i||"").split(",").forEach(function(o){return o&&!Ao[o]&&!wo[o]&&w3(t+" effect requires "+o+" plugin.")}),Pb[t]=function(o,l,c){return r(Yo(o),Lo(l||{},s),c)},a&&(_a.prototype[t]=function(o,l,c){return this.add(Pb[t](o,Mc(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){nr[e]=w1(t)},parseEase:function(e,t){return arguments.length?w1(e,t):nr},getById:function(e){return Ai.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new _a(e),i,s;for(r.smoothChildTiming=za(e.smoothChildTiming),Ai.remove(r),r._dp=0,r._time=r._tTime=Ai._time,i=Ai._first;i;)s=i._next,(t||!(!i._dur&&i instanceof qi&&i.vars.onComplete===i._targets[0]))&&bc(r,i,i._start-i._delay),i=s;return bc(Ai,r,0),r},context:function(e,t){return e?new hD(e,t):ti},matchMedia:function(e){return new UX(e)},matchMediaRefresh:function(){return L1.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||a7()},addEventListener:function(e,t){var r=cm[e]||(cm[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=cm[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:fX,wrapYoyo:hX,distribute:VP,random:$P,snap:KP,normalize:uX,getUnit:na,clamp:oX,splitColor:ZP,toArray:Yo,selector:r7,mapRange:qP,pipe:cX,unitize:AX,interpolate:dX,shuffle:GP},install:FP,effects:Pb,ticker:go,updateRoot:_a.updateRoot,plugins:Ao,globalTimeline:Ai,core:{PropTween:Qa,globals:UP,Tween:qi,Timeline:_a,Animation:B3,getCache:b1,_removeLinkedListItem:Vy,reverting:function(){return Os},context:function(e){return e&&ti&&(ti.data.push(e),e._ctx=ti),ti},suppressOverwrites:function(e){return fx=e}}};Ha("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return r5[n]=qi[n]});go.add(_a.updateRoot);lh=r5.to({},{duration:0});var NX=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},kX=function(e,t){var r=e._targets,i,s,a;for(i in t)for(s=r.length;s--;)a=e._ptLookup[s][i],a&&(a=a.d)&&(a._pt&&(a=NX(a,i)),a&&a.modifier&&a.modifier(t[i],e,r[s],i))},Qb=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,s,a){a._onInit=function(o){var l,c;if(Rs(s)&&(l={},Ha(s,function(A){return l[A]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}kX(o,s)}}}},Ya=r5.registerPlugin({name:"attr",init:function(e,t,r,i,s){var a,o,l;this.tween=r;for(a in t)l=e.getAttribute(a)||"",o=this.add(e,"setAttribute",(l||0)+"",t[a],i,s,0,0,a),o.op=a,o.b=l,this._props.push(a)},render:function(e,t){for(var r=t._pt;r;)Os?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},Qb("roundProps",i7),Qb("modifiers"),Qb("snap",KP))||r5;qi.version=_a.version=Ya.version="3.13.0";SP=1;dx()&&od();nr.Power0;nr.Power1;nr.Power2;nr.Power3;nr.Power4;nr.Linear;nr.Quad;nr.Cubic;nr.Quart;nr.Quint;nr.Strong;nr.Elastic;nr.Back;nr.SteppedEase;nr.Bounce;nr.Sine;nr.Expo;nr.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var yC,SA,Mh,Bx,c1,bC,Ex,PX=function(){return typeof window<"u"},Q0={},Xu=180/Math.PI,Sh=Math.PI/180,Lf=Math.atan2,vC=1e8,Cx=/([A-Z])/g,DX=/(left|right|width|margin|padding|x)/i,OX=/[\s,\(]\S/,Lc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},o7=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},zX=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},HX=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},QX=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},dD=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},gD=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},jX=function(e,t,r){return e.style[t]=r},YX=function(e,t,r){return e.style.setProperty(t,r)},GX=function(e,t,r){return e._gsap[t]=r},VX=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},KX=function(e,t,r,i,s){var a=e._gsap;a.scaleX=a.scaleY=r,a.renderTransform(s,a)},$X=function(e,t,r,i,s){var a=e._gsap;a[t]=r,a.renderTransform(s,a)},ui="transform",ja=ui+"Origin",WX=function n(e,t){var r=this,i=this.target,s=i.style,a=i._gsap;if(e in Q0&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Lc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=p0(i,o)}):this.tfm[e]=a.x?a[e]:p0(i,e),e===ja&&(this.tfm.zOrigin=a.zOrigin);else return Lc.transform.split(",").forEach(function(o){return n.call(r,o,t)});if(this.props.indexOf(ui)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(ja,t,"")),e=ui}(s||t)&&this.props.push(e,t,s[e])},pD=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},qX=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(Cx,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)i[a]=this.tfm[a];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=Ex(),(!s||!s.isStart)&&!r[ui]&&(pD(r),i.zOrigin&&r[ja]&&(r[ja]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},_D=function(e,t){var r={target:e,props:[],revert:qX,save:WX};return e._gsap||Ya.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return r.save(i)}),r},mD,l7=function(e,t){var r=SA.createElementNS?SA.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):SA.createElement(e);return r&&r.style?r:SA.createElement(e)},Go=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(Cx,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,ld(t)||t,1)||""},wC="O,Moz,ms,Ms,Webkit".split(","),ld=function(e,t,r){var i=t||c1,s=i.style,a=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(wC[a]+e in s););return a<0?null:(a===3?"ms":a>=0?wC[a]:"")+e},c7=function(){PX()&&window.document&&(yC=window,SA=yC.document,Mh=SA.documentElement,c1=l7("div")||{style:{}},l7("div"),ui=ld(ui),ja=ui+"Origin",c1.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",mD=!!ld("perspective"),Ex=Ya.core.reverting,Bx=1)},LC=function(e){var t=e.ownerSVGElement,r=l7("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),Mh.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),Mh.removeChild(r),s},xC=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},yD=function(e){var t,r;try{t=e.getBBox()}catch{t=LC(e),r=1}return t&&(t.width||t.height)||r||(t=LC(e)),t&&!t.width&&!t.x&&!t.y?{x:+xC(e,["x","cx","x1"])||0,y:+xC(e,["y","cy","y1"])||0,width:0,height:0}:t},bD=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&yD(e))},P1=function(e,t){if(t){var r=e.style,i;t in Q0&&t!==ja&&(t=ui),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(Cx,"-$1").toLowerCase())):r.removeAttribute(t)}},FA=function(e,t,r,i,s,a){var o=new Qa(e._pt,t,r,0,1,a?gD:dD);return e._pt=o,o.b=i,o.e=s,e._props.push(r),o},RC={deg:1,rad:1,turn:1},XX={grid:1,flex:1},tu=function n(e,t,r,i){var s=parseFloat(r)||0,a=(r+"").trim().substr((s+"").length)||"px",o=c1.style,l=DX.test(t),c=e.tagName.toLowerCase()==="svg",A=(c?"client":"offset")+(l?"Width":"Height"),u=100,h=i==="px",f=i==="%",d,g,_,m;if(i===a||!s||RC[i]||RC[a])return s;if(a!=="px"&&!h&&(s=n(e,t,r,"px")),m=e.getCTM&&bD(e),(f||a==="%")&&(Q0[t]||~t.indexOf("adius")))return d=m?e.getBBox()[l?"width":"height"]:e[A],Fi(f?s/d*u:s/100*d);if(o[l?"width":"height"]=u+(h?a:i),g=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,m&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===SA||!g.appendChild)&&(g=SA.body),_=g._gsap,_&&f&&_.width&&l&&_.time===go.time&&!_.uncache)return Fi(s/_.width*u);if(f&&(t==="height"||t==="width")){var y=e.style[t];e.style[t]=u+i,d=e[A],y?e.style[t]=y:P1(e,t)}else(f||a==="%")&&!XX[Go(g,"display")]&&(o.position=Go(e,"position")),g===e&&(o.position="static"),g.appendChild(c1),d=c1[A],g.removeChild(c1),o.position="absolute";return l&&f&&(_=b1(g),_.time=go.time,_.width=g[A]),Fi(h?d*s/u:d&&s?u/d*s:0)},p0=function(e,t,r,i){var s;return Bx||c7(),t in Lc&&t!=="transform"&&(t=Lc[t],~t.indexOf(",")&&(t=t.split(",")[0])),Q0[t]&&t!=="transform"?(s=C3(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:s5(Go(e,ja))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=i5[t]&&i5[t](e,t,r)||Go(e,t)||kP(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?tu(e,t,s,r)+r:s},JX=function(e,t,r,i){if(!r||r==="none"){var s=ld(t,e,1),a=s&&Go(e,s,1);a&&a!==r?(t=s,r=a):t==="borderColor"&&(r=Go(e,"borderTopColor"))}var o=new Qa(this._pt,e.style,t,0,1,uD),l=0,c=0,A,u,h,f,d,g,_,m,y,b,v,B;if(o.b=r,o.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=Go(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(g=e.style[t],e.style[t]=i,i=Go(e,t)||i,g?e.style[t]=g:P1(e,t)),A=[r,i],tD(A),r=A[0],i=A[1],h=r.match(oh)||[],B=i.match(oh)||[],B.length){for(;u=oh.exec(i);)_=u[0],y=i.substring(l,u.index),d?d=(d+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(d=1),_!==(g=h[c++]||"")&&(f=parseFloat(g)||0,v=g.substr((f+"").length),_.charAt(1)==="="&&(_=Th(f,_)+v),m=parseFloat(_),b=_.substr((m+"").length),l=oh.lastIndex-b.length,b||(b=b||vo.units[t]||v,l===i.length&&(i+=b,o.e+=b)),v!==b&&(f=tu(e,t,g,b)||0),o._pt={_next:o._pt,p:y||c===1?y:",",s:f,c:m-f,m:d&&d<4||t==="zIndex"?Math.round:0});o.c=l<i.length?i.substring(l,i.length):""}else o.r=t==="display"&&i==="none"?gD:dD;return TP.test(i)&&(o.e=0),this._pt=o,o},BC={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ZX=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=BC[r]||r,t[1]=BC[i]||i,t.join(" ")},eJ=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,a=r._gsap,o,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)o=s[c],Q0[o]&&(l=1,o=o==="transformOrigin"?ja:ui),P1(r,o);l&&(P1(r,ui),a&&(a.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",C3(r,1),a.uncache=1,pD(i)))}},i5={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var a=e._pt=new Qa(e._pt,t,r,0,0,eJ);return a.u=i,a.pr=-10,a.tween=s,e._props.push(r),1}}},E3=[1,0,0,1,0,0],vD={},wD=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},EC=function(e){var t=Go(e,ui);return wD(t)?E3:t.substr(7).match(IP).map(Fi)},Ix=function(e,t){var r=e._gsap||b1(e),i=e.style,s=EC(e),a,o,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?E3:s):(s===E3&&!e.offsetParent&&e!==Mh&&!r.svg&&(l=i.display,i.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,o=e.nextElementSibling,Mh.appendChild(e)),s=EC(e),l?i.display=l:P1(e,"display"),c&&(o?a.insertBefore(e,o):a?a.appendChild(e):Mh.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},A7=function(e,t,r,i,s,a){var o=e._gsap,l=s||Ix(e,!0),c=o.xOrigin||0,A=o.yOrigin||0,u=o.xOffset||0,h=o.yOffset||0,f=l[0],d=l[1],g=l[2],_=l[3],m=l[4],y=l[5],b=t.split(" "),v=parseFloat(b[0])||0,B=parseFloat(b[1])||0,C,I,R,w;r?l!==E3&&(I=f*_-d*g)&&(R=v*(_/I)+B*(-g/I)+(g*y-_*m)/I,w=v*(-d/I)+B*(f/I)-(f*y-d*m)/I,v=R,B=w):(C=yD(e),v=C.x+(~b[0].indexOf("%")?v/100*C.width:v),B=C.y+(~(b[1]||b[0]).indexOf("%")?B/100*C.height:B)),i||i!==!1&&o.smooth?(m=v-c,y=B-A,o.xOffset=u+(m*f+y*g)-m,o.yOffset=h+(m*d+y*_)-y):o.xOffset=o.yOffset=0,o.xOrigin=v,o.yOrigin=B,o.smooth=!!i,o.origin=t,o.originIsAbsolute=!!r,e.style[ja]="0px 0px",a&&(FA(a,o,"xOrigin",c,v),FA(a,o,"yOrigin",A,B),FA(a,o,"xOffset",u,o.xOffset),FA(a,o,"yOffset",h,o.yOffset)),e.setAttribute("data-svg-origin",v+" "+B)},C3=function(e,t){var r=e._gsap||new sD(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,a="px",o="deg",l=getComputedStyle(e),c=Go(e,ja)||"0",A,u,h,f,d,g,_,m,y,b,v,B,C,I,R,w,U,M,F,P,S,W,re,G,ie,X,ge,K,N,H,V,j;return A=u=h=g=_=m=y=b=v=0,f=d=1,r.svg=!!(e.getCTM&&bD(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[ui]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[ui]!=="none"?l[ui]:"")),i.scale=i.rotate=i.translate="none"),I=Ix(e,r.svg),r.svg&&(r.uncache?(ie=e.getBBox(),c=r.xOrigin-ie.x+"px "+(r.yOrigin-ie.y)+"px",G=""):G=!t&&e.getAttribute("data-svg-origin"),A7(e,G||c,!!G||r.originIsAbsolute,r.smooth!==!1,I)),B=r.xOrigin||0,C=r.yOrigin||0,I!==E3&&(M=I[0],F=I[1],P=I[2],S=I[3],A=W=I[4],u=re=I[5],I.length===6?(f=Math.sqrt(M*M+F*F),d=Math.sqrt(S*S+P*P),g=M||F?Lf(F,M)*Xu:0,y=P||S?Lf(P,S)*Xu+g:0,y&&(d*=Math.abs(Math.cos(y*Sh))),r.svg&&(A-=B-(B*M+C*P),u-=C-(B*F+C*S))):(j=I[6],H=I[7],ge=I[8],K=I[9],N=I[10],V=I[11],A=I[12],u=I[13],h=I[14],R=Lf(j,N),_=R*Xu,R&&(w=Math.cos(-R),U=Math.sin(-R),G=W*w+ge*U,ie=re*w+K*U,X=j*w+N*U,ge=W*-U+ge*w,K=re*-U+K*w,N=j*-U+N*w,V=H*-U+V*w,W=G,re=ie,j=X),R=Lf(-P,N),m=R*Xu,R&&(w=Math.cos(-R),U=Math.sin(-R),G=M*w-ge*U,ie=F*w-K*U,X=P*w-N*U,V=S*U+V*w,M=G,F=ie,P=X),R=Lf(F,M),g=R*Xu,R&&(w=Math.cos(R),U=Math.sin(R),G=M*w+F*U,ie=W*w+re*U,F=F*w-M*U,re=re*w-W*U,M=G,W=ie),_&&Math.abs(_)+Math.abs(g)>359.9&&(_=g=0,m=180-m),f=Fi(Math.sqrt(M*M+F*F+P*P)),d=Fi(Math.sqrt(re*re+j*j)),R=Lf(W,re),y=Math.abs(R)>2e-4?R*Xu:0,v=V?1/(V<0?-V:V):0),r.svg&&(G=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!wD(Go(e,ui)),G&&e.setAttribute("transform",G))),Math.abs(y)>90&&Math.abs(y)<270&&(s?(f*=-1,y+=g<=0?180:-180,g+=g<=0?180:-180):(d*=-1,y+=y<=0?180:-180)),t=t||r.uncache,r.x=A-((r.xPercent=A&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-A)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+a,r.y=u-((r.yPercent=u&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-u)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+a,r.z=h+a,r.scaleX=Fi(f),r.scaleY=Fi(d),r.rotation=Fi(g)+o,r.rotationX=Fi(_)+o,r.rotationY=Fi(m)+o,r.skewX=y+o,r.skewY=b+o,r.transformPerspective=v+a,(r.zOrigin=parseFloat(c.split(" ")[2])||!t&&r.zOrigin||0)&&(i[ja]=s5(c)),r.xOffset=r.yOffset=0,r.force3D=vo.force3D,r.renderTransform=r.svg?nJ:mD?LD:tJ,r.uncache=0,r},s5=function(e){return(e=e.split(" "))[0]+" "+e[1]},jb=function(e,t,r){var i=na(t);return Fi(parseFloat(t)+parseFloat(tu(e,"x",r+"px",i)))+i},tJ=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,LD(e,t)},Ou="0deg",L2="0px",zu=") ",LD=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,a=r.x,o=r.y,l=r.z,c=r.rotation,A=r.rotationY,u=r.rotationX,h=r.skewX,f=r.skewY,d=r.scaleX,g=r.scaleY,_=r.transformPerspective,m=r.force3D,y=r.target,b=r.zOrigin,v="",B=m==="auto"&&e&&e!==1||m===!0;if(b&&(u!==Ou||A!==Ou)){var C=parseFloat(A)*Sh,I=Math.sin(C),R=Math.cos(C),w;C=parseFloat(u)*Sh,w=Math.cos(C),a=jb(y,a,I*w*-b),o=jb(y,o,-Math.sin(C)*-b),l=jb(y,l,R*w*-b+b)}_!==L2&&(v+="perspective("+_+zu),(i||s)&&(v+="translate("+i+"%, "+s+"%) "),(B||a!==L2||o!==L2||l!==L2)&&(v+=l!==L2||B?"translate3d("+a+", "+o+", "+l+") ":"translate("+a+", "+o+zu),c!==Ou&&(v+="rotate("+c+zu),A!==Ou&&(v+="rotateY("+A+zu),u!==Ou&&(v+="rotateX("+u+zu),(h!==Ou||f!==Ou)&&(v+="skew("+h+", "+f+zu),(d!==1||g!==1)&&(v+="scale("+d+", "+g+zu),y.style[ui]=v||"translate(0, 0)"},nJ=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,a=r.x,o=r.y,l=r.rotation,c=r.skewX,A=r.skewY,u=r.scaleX,h=r.scaleY,f=r.target,d=r.xOrigin,g=r.yOrigin,_=r.xOffset,m=r.yOffset,y=r.forceCSS,b=parseFloat(a),v=parseFloat(o),B,C,I,R,w;l=parseFloat(l),c=parseFloat(c),A=parseFloat(A),A&&(A=parseFloat(A),c+=A,l+=A),l||c?(l*=Sh,c*=Sh,B=Math.cos(l)*u,C=Math.sin(l)*u,I=Math.sin(l-c)*-h,R=Math.cos(l-c)*h,c&&(A*=Sh,w=Math.tan(c-A),w=Math.sqrt(1+w*w),I*=w,R*=w,A&&(w=Math.tan(A),w=Math.sqrt(1+w*w),B*=w,C*=w)),B=Fi(B),C=Fi(C),I=Fi(I),R=Fi(R)):(B=u,R=h,C=I=0),(b&&!~(a+"").indexOf("px")||v&&!~(o+"").indexOf("px"))&&(b=tu(f,"x",a,"px"),v=tu(f,"y",o,"px")),(d||g||_||m)&&(b=Fi(b+d-(d*B+g*I)+_),v=Fi(v+g-(d*C+g*R)+m)),(i||s)&&(w=f.getBBox(),b=Fi(b+i/100*w.width),v=Fi(v+s/100*w.height)),w="matrix("+B+","+C+","+I+","+R+","+b+","+v+")",f.setAttribute("transform",w),y&&(f.style[ui]=w)},rJ=function(e,t,r,i,s){var a=360,o=Rs(s),l=parseFloat(s)*(o&&~s.indexOf("rad")?Xu:1),c=l-i,A=i+c+"deg",u,h;return o&&(u=s.split("_")[1],u==="short"&&(c%=a,c!==c%(a/2)&&(c+=c<0?a:-a)),u==="cw"&&c<0?c=(c+a*vC)%a-~~(c/a)*a:u==="ccw"&&c>0&&(c=(c-a*vC)%a-~~(c/a)*a)),e._pt=h=new Qa(e._pt,t,r,i,c,zX),h.e=A,h.u="deg",e._props.push(r),h},CC=function(e,t){for(var r in t)e[r]=t[r];return e},iJ=function(e,t,r){var i=CC({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=r.style,o,l,c,A,u,h,f,d;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),a[ui]=t,o=C3(r,1),P1(r,ui),r.setAttribute("transform",c)):(c=getComputedStyle(r)[ui],a[ui]=t,o=C3(r,1),a[ui]=c);for(l in Q0)c=i[l],A=o[l],c!==A&&s.indexOf(l)<0&&(f=na(c),d=na(A),u=f!==d?tu(r,l,c,d):parseFloat(c),h=parseFloat(A),e._pt=new Qa(e._pt,o,l,u,h-u,o7),e._pt.u=d||0,e._props.push(l));CC(o,i)};Ha("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",a=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(o){return e<2?n+o:"border"+o+n});i5[e>1?"border"+n:n]=function(o,l,c,A,u){var h,f;if(arguments.length<4)return h=a.map(function(d){return p0(o,d,c)}),f=h.join(" "),f.split(h[0]).length===5?h[0]:f;h=(A+"").split(" "),f={},a.forEach(function(d,g){return f[d]=h[g]=h[g]||h[(g-1)/2|0]}),o.init(l,f,u)}});var xD={name:"css",register:c7,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var a=this._props,o=e.style,l=r.vars.startAt,c,A,u,h,f,d,g,_,m,y,b,v,B,C,I,R;Bx||c7(),this.styles=this.styles||_D(e),R=this.styles.props,this.tween=r;for(g in t)if(g!=="autoRound"&&(A=t[g],!(Ao[g]&&aD(g,t,r,i,e,s)))){if(f=typeof A,d=i5[g],f==="function"&&(A=A.call(r,i,e,s),f=typeof A),f==="string"&&~A.indexOf("random(")&&(A=x3(A)),d)d(this,e,g,A,r)&&(I=1);else if(g.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(g)+"").trim(),A+="",VA.lastIndex=0,VA.test(c)||(_=na(c),m=na(A)),m?_!==m&&(c=tu(e,g,c,m)+m):_&&(A+=_),this.add(o,"setProperty",c,A,i,s,0,0,g),a.push(g),R.push(g,0,o[g]);else if(f!=="undefined"){if(l&&g in l?(c=typeof l[g]=="function"?l[g].call(r,i,e,s):l[g],Rs(c)&&~c.indexOf("random(")&&(c=x3(c)),na(c+"")||c==="auto"||(c+=vo.units[g]||na(p0(e,g))||""),(c+"").charAt(1)==="="&&(c=p0(e,g))):c=p0(e,g),h=parseFloat(c),y=f==="string"&&A.charAt(1)==="="&&A.substr(0,2),y&&(A=A.substr(2)),u=parseFloat(A),g in Lc&&(g==="autoAlpha"&&(h===1&&p0(e,"visibility")==="hidden"&&u&&(h=0),R.push("visibility",0,o.visibility),FA(this,o,"visibility",h?"inherit":"hidden",u?"inherit":"hidden",!u)),g!=="scale"&&g!=="transform"&&(g=Lc[g],~g.indexOf(",")&&(g=g.split(",")[0]))),b=g in Q0,b){if(this.styles.save(g),f==="string"&&A.substring(0,6)==="var(--"&&(A=Go(e,A.substring(4,A.indexOf(")"))),u=parseFloat(A)),v||(B=e._gsap,B.renderTransform&&!t.parseTransform||C3(e,t.parseTransform),C=t.smoothOrigin!==!1&&B.smooth,v=this._pt=new Qa(this._pt,o,ui,0,1,B.renderTransform,B,0,-1),v.dep=1),g==="scale")this._pt=new Qa(this._pt,B,"scaleY",B.scaleY,(y?Th(B.scaleY,y+u):u)-B.scaleY||0,o7),this._pt.u=0,a.push("scaleY",g),g+="X";else if(g==="transformOrigin"){R.push(ja,0,o[ja]),A=ZX(A),B.svg?A7(e,A,0,C,0,this):(m=parseFloat(A.split(" ")[2])||0,m!==B.zOrigin&&FA(this,B,"zOrigin",B.zOrigin,m),FA(this,o,g,s5(c),s5(A)));continue}else if(g==="svgOrigin"){A7(e,A,1,C,0,this);continue}else if(g in vD){rJ(this,B,g,h,y?Th(h,y+A):A);continue}else if(g==="smoothOrigin"){FA(this,B,"smooth",B.smooth,A);continue}else if(g==="force3D"){B[g]=A;continue}else if(g==="transform"){iJ(this,A,e);continue}}else g in o||(g=ld(g)||g);if(b||(u||u===0)&&(h||h===0)&&!OX.test(A)&&g in o)_=(c+"").substr((h+"").length),u||(u=0),m=na(A)||(g in vo.units?vo.units[g]:_),_!==m&&(h=tu(e,g,c,m)),this._pt=new Qa(this._pt,b?B:o,g,h,(y?Th(h,y+u):u)-h,!b&&(m==="px"||g==="zIndex")&&t.autoRound!==!1?QX:o7),this._pt.u=m||0,_!==m&&m!=="%"&&(this._pt.b=c,this._pt.r=HX);else if(g in o)JX.call(this,e,g,c,y?y+A:A);else if(g in e)this.add(e,g,c||e[g],y?y+A:A,i,s);else if(g!=="parseTransform"){px(g,A);continue}b||(g in o?R.push(g,0,o[g]):typeof e[g]=="function"?R.push(g,2,e[g]()):R.push(g,1,c||e[g])),a.push(g)}}I&&fD(this)},render:function(e,t){if(t.tween._time||!Ex())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:p0,aliases:Lc,getSetter:function(e,t,r){var i=Lc[t];return i&&i.indexOf(",")<0&&(t=i),t in Q0&&t!==ja&&(e._gsap.x||p0(e,"x"))?r&&bC===r?t==="scale"?VX:GX:(bC=r||{})&&(t==="scale"?KX:$X):e.style&&!hx(e.style[t])?jX:~t.indexOf("-")?YX:xx(e,t)},core:{_removeProperty:P1,_getMatrix:Ix}};Ya.utils.checkPrefix=ld;Ya.core.getStyleSaver=_D;(function(n,e,t,r){var i=Ha(n+","+e+","+t,function(s){Q0[s]=1});Ha(e,function(s){vo.units[s]="deg",vD[s]=1}),Lc[i[13]]=n+","+e,Ha(r,function(s){var a=s.split(":");Lc[a[1]]=i[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ha("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){vo.units[n]="px"});Ya.registerPlugin(xD);var Fl=Ya.registerPlugin(xD)||Ya;Fl.core.Tween;function RD(n,e,t={}){const r={type:"Feature"};return(t.id===0||t.id)&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.properties=e||{},r.geometry=n,r}function sJ(n,e,t={}){if(!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!IC(n[0])||!IC(n[1]))throw new Error("coordinates must contain numbers");return RD({type:"Point",coordinates:n},e,t)}function aJ(n,e,t={}){for(const i of n){if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(i[i.length-1].length!==i[0].length)throw new Error("First and last Position are not equivalent.");for(let s=0;s<i[i.length-1].length;s++)if(i[i.length-1][s]!==i[0][s])throw new Error("First and last Position are not equivalent.")}return RD({type:"Polygon",coordinates:n},e,t)}function oJ(n){return n%(2*Math.PI)*180/Math.PI}function m_(n){return n%360*Math.PI/180}function IC(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function TC(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return[...n.geometry.coordinates];if(n.type==="Point")return[...n.coordinates]}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return[...n];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function BD(n,e,t={}){if(t.final===!0)return lJ(n,e);const r=TC(n),i=TC(e),s=m_(r[0]),a=m_(i[0]),o=m_(r[1]),l=m_(i[1]),c=Math.sin(a-s)*Math.cos(l),A=Math.cos(o)*Math.sin(l)-Math.sin(o)*Math.cos(l)*Math.cos(a-s);return oJ(Math.atan2(c,A))}function lJ(n,e){let t=BD(e,n);return t=(t+180)%360,t}var cJ=BD;const y_={START:"start",CENTER:"center",END:"end"},x0={HORIZONTAL:"horizontal",VERTICAL:"vertical"},x2={OBSERVED:0,REQUESTED:1},AJ={[x0.VERTICAL]:"top",[x0.HORIZONTAL]:"left"},MC={[x0.VERTICAL]:"scrollTop",[x0.HORIZONTAL]:"scrollLeft"};class uJ{constructor({itemSize:e,itemCount:t,estimatedItemSize:r}){this.itemSize=e,this.itemCount=t,this.estimatedItemSize=r,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:t,estimatedItemSize:r}){t!=null&&(this.itemCount=t),r!=null&&(this.estimatedItemSize=r),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:t}=this;return typeof t=="function"?t(e):Array.isArray(t)?t[e]:t}computeTotalSizeAndPositionData(){let e=0;for(let t=0;t<this.itemCount;t++){const r=this.getSize(t),i=e;e+=r,this.itemSizeAndPositionData[t]={offset:i,size:r}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let r=t.offset+t.size;for(let i=this.lastMeasuredIndex+1;i<=e;i++){const s=this.getSize(i);if(s==null||isNaN(s))throw Error(`Invalid size returned for index ${i} of value ${s}`);this.itemSizeAndPositionData[i]={offset:r,size:s},r+=s}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=y_.START,containerSize:t,currentOffset:r,targetIndex:i}){if(t<=0)return 0;const s=this.getSizeAndPositionForIndex(i),a=s.offset,o=a-t+s.size;let l;switch(e){case y_.END:l=o;break;case y_.CENTER:l=a-(t-s.size)/2;break;case y_.START:l=a;break;default:l=Math.max(o,Math.min(a,r))}const c=this.getTotalSize();return Math.max(0,Math.min(c-t,l))}getVisibleRange({containerSize:e=0,offset:t,overscanCount:r}){if(this.getTotalSize()===0)return{};const s=t+e;let a=this.findNearestItem(t);if(a===void 0)throw Error(`Invalid offset ${t} specified`);const o=this.getSizeAndPositionForIndex(a);t=o.offset+o.size;let l=a;for(;t<s&&l<this.itemCount-1;)l++,t+=this.getSizeAndPositionForIndex(l).size;return r&&(a=Math.max(0,a-r),l=Math.min(l+r,this.itemCount-1)),{start:a,stop:l}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),r=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:r,low:0,offset:e}):this.exponentialSearch({index:r,offset:e})}binarySearch({low:e,high:t,offset:r}){let i=0,s=0;for(;e<=t;){if(i=e+Math.floor((t-e)/2),s=this.getSizeAndPositionForIndex(i).offset,s===r)return i;s<r?e=i+1:s>r&&(t=i-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let r=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=r,r*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}const fJ=(()=>{let n=!1;try{const e=Object.defineProperty({},"passive",{get(){return n={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return n})();var hJ=we('<div class="virtual-list-wrapper svelte-19ao3na"><!> <div class="virtual-list-inner svelte-19ao3na"></div> <!></div>');function dJ(n,e){Mt(e,!1);let t=Ne(e,"height",12),r=Ne(e,"width",12,"100%"),i=Ne(e,"itemCount",12),s=Ne(e,"itemSize",12),a=Ne(e,"estimatedItemSize",12,null),o=Ne(e,"stickyIndices",12,null),l=Ne(e,"getKey",12,null),c=Ne(e,"scrollDirection",28,()=>x0.VERTICAL),A=Ne(e,"scrollOffset",12,null),u=Ne(e,"scrollToIndex",12,null),h=Ne(e,"scrollToAlignment",12,null),f=Ne(e,"scrollToBehaviour",12,"instant"),d=Ne(e,"overscanCount",12,3);const g=R$(),_=new uJ({itemCount:i(),itemSize:s(),estimatedItemSize:ie()});let m=g0(!1),y=g0(),b=g0([]),v=g0({offset:A()||u()!=null&&E(b).length&&W(u())||0,scrollChangeReason:x2.REQUESTED}),B=E(v),C={scrollToIndex:u(),scrollToAlignment:h(),scrollOffset:A(),itemCount:i(),itemSize:s(),estimatedItemSize:a()},I={},R=g0(""),w=g0("");F(),ni(()=>{ee(m,!0),E(y).addEventListener("scroll",re,fJ),A()!=null?P(A()):u()!=null&&P(W(u()))}),Ga(()=>{E(m)&&E(y).removeEventListener("scroll",re)});function U(){if(!E(m))return;const j=C.scrollToIndex!==u()||C.scrollToAlignment!==h(),le=C.itemCount!==i()||C.itemSize!==s()||C.estimatedItemSize!==a();le&&(_.updateConfig({itemSize:s(),itemCount:i(),estimatedItemSize:ie()}),S()),C.scrollOffset!==A()?ee(v,{offset:A()||0,scrollChangeReason:x2.REQUESTED}):typeof u()=="number"&&(j||le)&&ee(v,{offset:W(u(),h(),i()),scrollChangeReason:x2.REQUESTED}),C={scrollToIndex:u(),scrollToAlignment:h(),scrollOffset:A(),itemCount:i(),itemSize:s(),estimatedItemSize:a()}}function M(){if(!E(m))return;const{offset:j,scrollChangeReason:le}=E(v);(B.offset!==j||B.scrollChangeReason!==le)&&F(),B.offset!==j&&le===x2.REQUESTED&&P(j),B=E(v)}function F(){const{offset:j}=E(v),{start:le,stop:de}=_.getVisibleRange({containerSize:c()===x0.VERTICAL?t():r(),offset:j,overscanCount:d()});let he=[];const ue=_.getTotalSize();if(c()===x0.VERTICAL){const _e=typeof t()=="number"?"px":"";ee(R,`height:${t()}${_e};width:${r()};`),ee(w,`flex-direction:column;height:${ue}px;`)}else{const _e=typeof r()=="number"?"px":"";ee(R,`height:${t()};width:${r()}${_e}`),ee(w,`min-height:100%;width:${ue}px;`)}const me=o()!=null&&o().length!==0;if(me)for(let _e=0;_e<o().length;_e++){const xe=o()[_e];he.push({index:xe,style:X(xe,!0)})}if(le!==void 0&&de!==void 0){for(let _e=le;_e<=de;_e++)me&&o().includes(_e)||he.push({index:_e,style:X(_e,!1)});g("itemsUpdated",{start:le,end:de})}ee(b,he)}function P(j){"scroll"in E(y)?E(y).scroll({[AJ[c()]]:j,behavior:f()}):B$(y,E(y)[MC[c()]]=j)}function S(j=0){I={},_.resetItem(j),F()}function W(j,le=h(),de=i()){return(j<0||j>=de)&&(j=0),_.getUpdatedOffsetForIndex({align:le,containerSize:c()===x0.VERTICAL?t():r(),currentOffset:E(v).offset||0,targetIndex:j})}function re(j){const le=G();le<0||E(v).offset===le||j.target!==E(y)||(ee(v,{offset:le,scrollChangeReason:x2.OBSERVED}),g("afterScroll",{offset:le,event:j}))}function G(){return E(y)[MC[c()]]}function ie(){return a()||typeof s()=="number"&&s()||50}function X(j,le){if(I[j])return I[j];const{size:de,offset:he}=_.getSizeAndPositionForIndex(j);let ue;return c()===x0.VERTICAL?(ue=`left:0;width:100%;height:${de}px;`,le?ue+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${he}px;margin-bottom:${-(he+de)}px;`:ue+=`position:absolute;top:${he}px;`):(ue=`top:0;width:${de}px;`,le?ue+=`position:sticky;z-index:1;left:0;margin-left:${he}px;margin-right:${-(he+de)}px;`:ue+=`position:absolute;height:100%;left:${he}px;`),I[j]=ue}Lb(()=>(Ac(u()),Ac(h()),Ac(A()),Ac(i()),Ac(s()),Ac(a())),()=>{u(),h(),A(),i(),s(),a(),U()}),Lb(()=>E(v),()=>{E(v),M()}),Lb(()=>(Ac(t()),Ac(r()),Ac(o()),E(m)),()=>{t(),r(),o(),E(m)&&S(0)}),E$();var ge={recomputeSizes:S,get height(){return t()},set height(j){t(j),Ca()},get width(){return r()},set width(j){r(j),Ca()},get itemCount(){return i()},set itemCount(j){i(j),Ca()},get itemSize(){return s()},set itemSize(j){s(j),Ca()},get estimatedItemSize(){return a()},set estimatedItemSize(j){a(j),Ca()},get stickyIndices(){return o()},set stickyIndices(j){o(j),Ca()},get getKey(){return l()},set getKey(j){l(j),Ca()},get scrollDirection(){return c()},set scrollDirection(j){c(j),Ca()},get scrollOffset(){return A()},set scrollOffset(j){A(j),Ca()},get scrollToIndex(){return u()},set scrollToIndex(j){u(j),Ca()},get scrollToAlignment(){return h()},set scrollToAlignment(j){h(j),Ca()},get scrollToBehaviour(){return f()},set scrollToBehaviour(j){f(j),Ca()},get overscanCount(){return d()},set overscanCount(j){d(j),Ca()}};XL();var K=hJ(),N=q(K);Ib(N,e,"header",{});var H=oe(N,2);Fn(H,5,()=>E(b),j=>l()?l()(j.index):j.index,(j,le)=>{var de=xt(),he=Je(de);Ib(he,e,"item",{get style(){return E(le),td(()=>E(le).style)},get index(){return E(le),td(()=>E(le).index)}}),Z(j,de)}),$(H);var V=oe(H,2);return Ib(V,e,"footer",{}),$(K),qn(K,j=>ee(y,j),()=>E(y)),Ye(()=>{Xr(K,E(R)),Xr(H,E(w))}),Z(n,K),FW(e,"recomputeSizes",S),St(ge)}var gJ=we('<div class="flex select-none items-center gap-2 text-base"><span> </span></div>'),pJ=we('<label class="z-10 flex w-full cursor-pointer items-center justify-center p-2 text-white"><input type="radio" class="hidden"/> <span> </span></label>'),_J=we('<div class="border-1 border-sub relative flex w-full overflow-hidden rounded-full bg-black"><div></div> <!></div>'),mJ=we('<label class="z-10 flex w-full cursor-pointer items-center justify-center p-2 text-white"><input type="radio" class="hidden"/> <span> </span></label>'),yJ=we('<div class="relative flex w-full overflow-hidden rounded-full bg-black"><div></div> <!></div>'),bJ=we('<div class="flex flex-col gap-2"><!> <!> <!></div>');function nu(n,e){Mt(e,!0);const t=[];let r=Ne(e,"group",15);var i=bJ(),s=q(i);{var a=u=>{var h=gJ(),f=q(h),d=q(f,!0);$(f),$(h),Ye(()=>yt(d,e.label)),Z(u,h)};Te(s,u=>{e.label&&u(a)})}var o=oe(s,2);{var l=u=>{var h=_J(),f=q(h),d=oe(f,2);Fn(d,17,()=>e.options,g=>g.key,(g,_)=>{var m=pJ(),y=q(m);ts(y);var b,v=oe(y,2),B=q(v,!0);$(v),$(m),Ye(()=>{b!==(b=E(_).key)&&(y.value=(y.__value=E(_).key)??""),Xt(v,1,`select-none transition-colors duration-200 ${E(_).key===r()?"text-black":""}`),yt(B,E(_).name)}),z0(t,[],y,()=>(E(_).key,r()),r),Z(g,m)}),$(h),Ye(()=>Xt(f,1,`bg-base absolute h-full w-1/2 rounded-full transition-transform duration-200 ${e.options[0].key===r()?"":"translate-x-full"}`)),Z(u,h)};Te(o,u=>{e.options.length===2&&u(l)})}var c=oe(o,2);{var A=u=>{var h=yJ(),f=q(h),d=oe(f,2);Fn(d,17,()=>e.options,g=>g.key,(g,_)=>{var m=mJ(),y=q(m);ts(y);var b,v=oe(y,2),B=q(v,!0);$(v),$(m),Ye(()=>{b!==(b=E(_).key)&&(y.value=(y.__value=E(_).key)??""),Xt(v,1,`select-none transition-colors duration-200 ${E(_).key===r()?"text-black":""}`),yt(B,E(_).name)}),z0(t,[],y,()=>(E(_).key,r()),r),Z(g,m)}),$(h),Ye(()=>Xt(f,1,`bg-base absolute h-full w-1/3 rounded-full transition-transform duration-200 ${e.options[0].key===r()?"":e.options[1].key===r()?"translate-x-full":"translate-x-[200%]"}`)),Z(u,h)};Te(c,u=>{e.options.length===3&&u(A)})}$(i),Z(n,i),St()}const vJ={id:"morinos_3d",type:"model",format:{type:"gltf",url:`${I$}/morinos_fix.glb`},metaData:{name:"morinos 3D",description:"",attribution:"",location:"",minZoom:10,maxZoom:22,tags:["3D",""],bounds:[136.919310635,35.55376246,136.920065943,35.554452453],xyzImageTile:{x:923099,y:413380,z:20},mapImage:`${D0}/morinos_3d.webp`,coverImage:`${D0}/morinos_3d.webp`},interaction:{clickable:!1},style:{type:"mesh",opacity:.7,wireframe:!1,color:"#ffffff",transform:{scale:.83,lng:136.919515,lat:35.553991,altitude:116,rotationY:2}}},wJ=Object.freeze(Object.defineProperty({__proto__:null,default:vJ},Symbol.toStringTag,{value:"Module"})),ns={type:"basemap",opacity:1,visible:!0,preset:"default",hueRotate:0,brightnessMin:0,brightnessMax:1,saturation:0,contrast:0},Nc={type:"categorical",opacity:.7,visible:!0,legend:{type:"category",name:"",colors:[""],labels:[""]}},Kn={type:"dem",opacity:1,visualization:{demType:"gsi",mode:"relief",uniformsData:{relief:{max:4e3,min:0,colorMap:"jet"},slope:{max:90,min:0,colorMap:"salinity"},aspect:{colorMap:"rainbow-soft"}}}},ii={clickable:!1},a5={type:"circle",opacity:.7,visible:!0,markerType:"circle",colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#ff00ea"}}]},radius:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:8}}]},outline:{show:!0,color:"#ffffff",width:2},labels:{key:"name",show:!1,expressions:[{key:"name",name:"name",value:"{name}"}]}},ED={type:"line",opacity:.7,visible:!0,colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#cf42cc"}}]},width:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:5}}]},lineStyle:"solid",labels:{key:"name",show:!1,expressions:[{key:"name",name:"name",value:"{name}"}]}},CD={type:"fill",opacity:.7,visible:!0,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c"}}]},outline:{show:!0,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"name",show:!1,expressions:[{key:"name",name:"name",value:"{name}"}]}},LJ=n=>{const e=n.map(t=>({key:t,name:t,value:`{${t}}`}));return{key:n[0],show:!1,expressions:e}},gp={type:"match",key:"",name:"",mapping:{categories:["","","","","","","","","","","L","","","","",""],values:["#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4"],patterns:[null,null,null,null,null,null,null,null,null,null,null,null,"tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-light-200-black"]},noData:{value:"transparent",pattern:null}},Sd=[-180,-85.051128779807,180,85.051128779807],ID=85.051128779807,TD=-85.051128779807,xJ=180,RJ=-180,Bs=[122.933755,24.045713,153.986895,45.556277],Fd=[139.326731,36.199924,140.291983,37.155039],BJ=[139.562785838,35.528198081,139.918908367,35.817705946],Ud=[138.915784,35.128768,139.798226,35.675618],EJ=[138.180108,35.168403,139.13438,35.971564],CJ=[137.325027,35.198461,138.739196,37.030423],Wy=[134.252809,34.156129,135.468591,35.674667],IJ=[132.036485,34.034954,133.470397,35.106602],TJ=[132.017257,32.901919,133.692787,34.299619],pp=[132.479888,32.702505,134.31367,33.882997],MJ=[138.55255031479942,37.10031545326591,139.24508261732308,37.76892107563275],SJ=[{name:"",bbox:[139.334302,41.35211,148.894833,45.556277]},{name:"",bbox:[139.860725,40.218604,141.68324,41.555998]},{name:"",bbox:[140.653166,38.747651,142.072461,40.449927]},{name:"",bbox:[140.274764,37.773252,141.675431,39.002776]},{name:"",bbox:[139.694597,38.874522,140.995425,40.511122]},{name:"",bbox:[139.539712,37.73383,140.646377,39.208476]},{name:"",bbox:[139.164746,36.791324,141.042336,37.976555]},{name:"",bbox:[139.687691,35.739138,140.851966,36.945225]},{name:"",bbox:[139.326731,36.199924,140.291983,37.155039]},{name:"",bbox:[138.397022,35.985419,139.668249,37.058627]},{name:"",bbox:[138.711401,35.753442,139.90032,36.281751]},{name:"",bbox:[139.739525,34.899595,140.870652,36.104157]},{name:"",bbox:[138.942865,24.224731,153.986895,35.898404]},{name:"",bbox:[138.915784,35.128768,139.798226,35.675618]},{name:"",bbox:[137.635121,36.736544,139.900012,38.553524]},{name:"",bbox:[136.768684,36.274308,137.763276,36.979692]},{name:"",bbox:[136.244148,36.067618,137.360649,37.855068]},{name:"",bbox:[135.449342,35.344187,136.832362,36.295361]},{name:"",bbox:[138.180108,35.168403,139.13438,35.971564]},{name:"",bbox:[137.325027,35.198461,138.739196,37.030423]},{name:"",bbox:[136.276225,35.133729,137.651936,36.465031]},{name:"",bbox:[137.474177,34.594644,139.176371,35.646621]},{name:"",bbox:[136.671033,34.578195,137.838064,35.424789]},{name:"",bbox:[135.853192,33.722879,136.987749,35.257953]},{name:"",bbox:[135.763805,34.79126,136.454846,35.70372]},{name:"",bbox:[134.853727,34.705754,136.054372,35.779277]},{name:"",bbox:[135.093449,34.271827,135.746596,35.051282]},{name:"",bbox:[134.252809,34.156129,135.468591,35.674667]},{name:"",bbox:[135.539726,33.858956,136.22982,34.781294]},{name:"",bbox:[134.999059,33.433595,136.013461,34.38446]},{name:"",bbox:[133.136116,35.057691,134.514725,35.614221]},{name:"",bbox:[131.667965,34.302497,133.385926,37.244272]},{name:"",bbox:[133.266987,34.2984,134.412698,35.352889]},{name:"",bbox:[132.036485,34.034954,133.470397,35.106602]},{name:"",bbox:[130.775059,33.712909,132.492149,34.798657]},{name:"",bbox:[133.660905,33.539632,134.820436,34.252034]},{name:"",bbox:[133.446605,34.012302,134.440441,34.564615]},{name:"",bbox:[132.017257,32.901919,133.692787,34.299619]},{name:"",bbox:[132.479888,32.702505,134.31367,33.882997]},{name:"",bbox:[130.032703,33.000004,131.190597,34.249456]},{name:"",bbox:[129.740621,32.950517,130.542127,33.618923]},{name:"",bbox:[128.34462,31.988773,130.380232,34.707891]},{name:"",bbox:[129.963357,32.094995,131.328424,33.195128]},{name:"",bbox:[130.823676,32.714503,132.085332,33.740236]},{name:"",bbox:[130.703426,31.360721,131.882746,32.837348]},{name:"",bbox:[128.395452,27.01874,131.205448,32.307013]},{name:"",bbox:[122.933755,24.045713,131.332068,27.885401]},{name:"",bbox:[139.164746,36.791324,142.072461,41.555998]},{name:"",bbox:[136.83845019821013,35.5104054980036,136.97907453990035,35.65244055693736]},{name:"",bbox:Bs},{name:"",bbox:Sd},{name:"",bbox:[136.91278,35.543576,136.92986,35.556704]}];new Map(SJ.map(n=>[n.name,n.bbox]));const FJ={id:"ehime_ls_standtype",type:"raster",format:{type:"image",url:"https://rinya-ehime.geospatial.jp/tile/rinya/2024/ls_standtype_Ehime/{z}/{x}/{-y}.png"},metaData:{name:" ",attribution:"",location:"",tags:["","",""],minZoom:8,maxZoom:18,tileSize:256,bounds:TJ,downloadUrl:"https://www.geospatial.jp/ckan/dataset/ls_standtype_ehime",xyzImageTile:{x:227730,y:105126,z:18}},interaction:{...ii},style:{...ns}},UJ=Object.freeze(Object.defineProperty({__proto__:null,default:FJ},Symbol.toStringTag,{value:"Module"})),NJ={id:"gifu_cs_map",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/21_gifu/csmap_2023/{z}/{x}/{y}.webp"},metaData:{name:" CS",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-gifu-maptiles",location:"",tags:["",""],minZoom:8,maxZoom:18,tileSize:256,xyzImageTile:{x:14424,y:6458,z:14},bounds:[136.1828594,34.9090933,137.8301219,36.7868122]},interaction:{...ii},style:{...ns}},kJ=Object.freeze(Object.defineProperty({__proto__:null,default:NJ},Symbol.toStringTag,{value:"Module"})),PJ={id:"gifu_pref",type:"raster",format:{type:"image",url:"https://mapdata.qchizu.xyz/gifu_pref_00/{z}/{x}/{y}.png"},metaData:{name:" ",sourceDataName:"",attribution:"Q",downloadUrl:"https://maps.qchizu.xyz/#9/35.814472/137.059937/&base=std&ls=std%7Cgifu_pref_00&blend=0&disp=11&lcd=gifu_pref_00&vs=c1j0h0k0l0u0t0z0r0s0m0f1&d=m",location:"",tags:[""],minZoom:5,maxZoom:18,tileSize:256,xyzImageTile:{x:115334,y:51722,z:17},bounds:[136.276225,35.133729,137.651936,36.465031]},interaction:{...ii},style:{...ns}},DJ=Object.freeze(Object.defineProperty({__proto__:null,default:PJ},Symbol.toStringTag,{value:"Module"})),OJ={id:"gsi_blank",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/blank/{z}/{x}/{y}.png"},metaData:{name:"",description:"",attribution:"",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#blank",location:"",minZoom:5,maxZoom:14,tileSize:256,tags:[],bounds:Bs,xyzImageTile:La.zoom_9},interaction:{...ii},style:{...ns}},zJ=Object.freeze(Object.defineProperty({__proto__:null,default:OJ},Symbol.toStringTag,{value:"Module"})),HJ={id:"gsi_jikizu2020_chijiki_d",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/jikizu2020_chijiki_d/{z}/{x}/{y}.png"},metaData:{name:"2020.0",attribution:"",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#jikizu2020",location:"",tags:[""],minZoom:4,maxZoom:13,tileSize:256,bounds:Bs,xyzImageTile:La.zoom_7},interaction:{...ii,overlay:!0},style:{...ns}},QJ=Object.freeze(Object.defineProperty({__proto__:null,default:HJ},Symbol.toStringTag,{value:"Module"})),jJ={id:"gsi_pre",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/pale/{z}/{x}/{y}.png"},metaData:{name:"",attribution:"",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#pale",location:"",tags:["",""],minZoom:1,maxZoom:18,tileSize:256,bounds:Bs,xyzImageTile:La.zoom_15},interaction:{...ii},style:{...ns}},YJ=Object.freeze(Object.defineProperty({__proto__:null,default:jJ},Symbol.toStringTag,{value:"Module"})),GJ={id:"gsi_seamlessphoto",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/seamlessphoto/{z}/{x}/{y}.jpg"},metaData:{name:"",sourceDataName:"",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#seamlessphoto",attribution:"",location:"",tags:[""],minZoom:1,maxZoom:18,tileSize:256,xyzImageTile:La.zoom_15,bounds:Bs},interaction:{...ii},style:{...ns}},VJ=Object.freeze(Object.defineProperty({__proto__:null,default:GJ},Symbol.toStringTag,{value:"Module"})),KJ={id:"gsi_sekishoku",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/sekishoku/{z}/{x}/{y}.png"},metaData:{name:"",description:"",attribution:"",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#sekishoku",location:"",minZoom:2,maxZoom:14,tileSize:256,tags:["","","10m"],bounds:Bs,xyzImageTile:La.zoom_9},interaction:{...ii},style:{...ns}},$J=Object.freeze(Object.defineProperty({__proto__:null,default:KJ},Symbol.toStringTag,{value:"Module"})),WJ={id:"gsi_std",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png"},metaData:{name:"",attribution:"",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#std",location:"",tags:["",""],minZoom:1,maxZoom:18,tileSize:256,bounds:Bs,xyzImageTile:La.zoom_15},interaction:{...ii},style:{...ns}},qJ=Object.freeze(Object.defineProperty({__proto__:null,default:WJ},Symbol.toStringTag,{value:"Module"})),XJ={id:"hyogo_cs",type:"raster",format:{type:"image",url:"https://rinya-hyogo.geospatial.jp/2023/rinya/tile/csmap/{z}/{x}/{y}.png"},metaData:{name:" CS",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["",""],bounds:Wy,downloadUrl:"https://www.geospatial.jp/ckan/dataset/csmap_hyogo",xyzImageTile:{x:14326,y:6487,z:14}},interaction:{...ii},style:{...ns}},JJ=Object.freeze(Object.defineProperty({__proto__:null,default:XJ},Symbol.toStringTag,{value:"Module"})),ZJ={id:"hyogo_ls_standtype",type:"raster",format:{type:"image",url:"https://rinya-hyogo.geospatial.jp/2025/rinya/tile/ls_standtype/{z}/{x}/{y}.png"},metaData:{name:" ",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["","",""],bounds:Wy,downloadUrl:"https://www.geospatial.jp/ckan/dataset/ls_standtype_hyogo",xyzImageTile:{x:114602,y:51912,z:17}},interaction:{...ii},style:{...ns}},eZ=Object.freeze(Object.defineProperty({__proto__:null,default:ZJ},Symbol.toStringTag,{value:"Module"})),tZ={id:"kanagawa_cs",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/14_kanagawa/csmap_2022/{z}/{x}/{y}.webp"},metaData:{name:" CS",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["",""],bounds:Ud,downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-kanagawa-maptiles2",xyzImageTile:{x:29045,y:12933,z:15}},interaction:{...ii},style:{...ns}},nZ=Object.freeze(Object.defineProperty({__proto__:null,default:tZ},Symbol.toStringTag,{value:"Module"})),rZ={id:"kanagawa_ls_standtype",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/14_kanagawa/ls_standtype_2020/{z}/{x}/{y}.webp"},metaData:{name:" ",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["","",""],bounds:Ud,downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-kanagawa-maptiles2",xyzImageTile:{x:116176,y:51749,z:17}},interaction:{...ii},style:{...ns}},iZ=Object.freeze(Object.defineProperty({__proto__:null,default:rZ},Symbol.toStringTag,{value:"Module"})),sZ={id:"kanagawa_rrim",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/14_kanagawa/rrim_2022/{z}/{x}/{y}.webp"},metaData:{name:" ",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["",""],bounds:Ud,downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-kanagawa-maptiles",xyzImageTile:{x:29045,y:12933,z:15}},interaction:{...ii},style:{...ns}},aZ=Object.freeze(Object.defineProperty({__proto__:null,default:sZ},Symbol.toStringTag,{value:"Module"})),oZ={id:"kochi_cs",type:"raster",format:{type:"image",url:"https://rinya-kochi.geospatial.jp/2023/rinya/tile/csmap/{z}/{x}/{y}.png"},metaData:{name:" CS",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["",""],bounds:pp,downloadUrl:"https://www.geospatial.jp/ckan/dataset/csmap_kochi",xyzImageTile:{x:114042,y:52504,z:17}},interaction:{...ii},style:{...ns}},lZ=Object.freeze(Object.defineProperty({__proto__:null,default:oZ},Symbol.toStringTag,{value:"Module"})),cZ={id:"kochi_ls_standtype",type:"raster",format:{type:"image",url:"https://rinya-kochi.geospatial.jp/2023/rinya/tile/ls_standtype/{z}/{x}/{y}.png"},metaData:{name:" ",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["","",""],bounds:pp,downloadUrl:"https://www.geospatial.jp/ckan/dataset/ls_standtype_kochi",xyzImageTile:{x:114042,y:52504,z:17}},interaction:{...ii},style:{...ns}},AZ=Object.freeze(Object.defineProperty({__proto__:null,default:cZ},Symbol.toStringTag,{value:"Module"})),uZ={id:"nagano_cs",type:"raster",format:{type:"image",url:"https://tile.geospatial.jp/CS/VER2/{z}/{x}/{y}.png"},metaData:{name:" CS",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["",""],bounds:CJ,downloadUrl:"https://www.geospatial.jp/ckan/dataset/nagano-csmap",xyzImageTile:{x:28950,y:12852,z:15}},interaction:{...ii},style:{...ns}},fZ=Object.freeze(Object.defineProperty({__proto__:null,default:uZ},Symbol.toStringTag,{value:"Module"})),hZ={id:"tochigi_cs",type:"raster",format:{type:"image",url:"https://rinya-tochigi.geospatial.jp/2023/rinya/tile/csmap/{z}/{x}/{y}.png"},metaData:{name:" CS",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["",""],bounds:Fd,downloadUrl:"https://www.geospatial.jp/ckan/dataset/csmap_tochigi",xyzImageTile:{x:3635,y:1597,z:12}},interaction:{...ii},style:{...ns}},dZ=Object.freeze(Object.defineProperty({__proto__:null,default:hZ},Symbol.toStringTag,{value:"Module"})),gZ={id:"tochigi_ls_standtype",type:"raster",format:{type:"image",url:"https://rinya-tochigi.geospatial.jp/2023/rinya/tile/ls_standtype/{z}/{x}/{y}.png"},metaData:{name:" ",attribution:"",location:"",minZoom:8,maxZoom:18,tileSize:256,tags:["","",""],bounds:Fd,downloadUrl:"https://www.geospatial.jp/ckan/dataset/ls_standtype_tochigi",xyzImageTile:{x:116389,y:51191,z:17}},interaction:{...ii},style:{...ns}},pZ=Object.freeze(Object.defineProperty({__proto__:null,default:gZ},Symbol.toStringTag,{value:"Module"})),_Z={id:"ecoris_sugihinoki",type:"raster",format:{type:"image",url:"https://map.ecoris.info/tiles/sugihinoki/{z}/{x}/{y}.png"},metaData:{name:"",sourceDataName:" GIS",attribution:"",tags:[""],location:"",minZoom:5,maxZoom:15,tileSize:256,bounds:Bs,downloadUrl:"https://map.ecoris.info/#contents",xyzImageTile:{x:450,y:201,z:9}},interaction:{clickable:!0},style:{...Nc,legend:{type:"category",name:"",colors:["#FD4202","#B7FFFF","#FFFFFF"],labels:["","",""]}}},mZ=Object.freeze(Object.defineProperty({__proto__:null,default:_Z},Symbol.toStringTag,{value:"Module"})),yZ={id:"ecoris_tanbo",type:"raster",format:{type:"image",url:"https://map.ecoris.info/tiles/tanbo/{z}/{x}/{y}.png"},metaData:{name:"",sourceDataName:" GIS",attribution:"",location:"",minZoom:5,maxZoom:15,tileSize:256,tags:[""],bounds:Bs,downloadUrl:"https://map.ecoris.info/#contents",xyzImageTile:{x:3605,y:1615,z:12}},interaction:{clickable:!0},style:{...Nc,legend:{type:"category",name:"",colors:["#02FF02"],labels:[""]}}},bZ=Object.freeze(Object.defineProperty({__proto__:null,default:yZ},Symbol.toStringTag,{value:"Module"})),vZ={id:"ecoris_vege_6",type:"raster",format:{type:"image",url:"https://map.ecoris.info/tiles/vege67/{z}/{x}/{y}.png"},metaData:{name:"",sourceDataName:"67  GIS",attribution:"",downloadUrl:"https://map.ecoris.info/#contents",location:"",minZoom:5,maxZoom:15,tileSize:256,tags:[""],bounds:Bs,xyzImageTile:{x:7211,y:3229,z:13}},interaction:{...ii},style:{...Nc,legend:{type:"category",name:"",colors:["#fdf1ce","#997f60","#a58f74","#178017","#5b9700","#003300","#004a00","#ffff00","#697720","#8cd27d","#868585","#99ffff","#cccc20","#69ff00","#999662"],labels:["","","","","","","","","","","","","","",""]}}},wZ=Object.freeze(Object.defineProperty({__proto__:null,default:vZ},Symbol.toStringTag,{value:"Module"})),LZ={id:"gifu_slope_map",type:"raster",format:{type:"image",url:"https://tiles.arcgis.com/tiles/jJQWqgqiNhLLjkin/arcgis/rest/services/Gifu_2021Slpoe_2022_07_25_15_54/MapServer/tile/{z}/{y}/{x}"},metaData:{name:" ",downloadUrl:"https://www.forest.rd.pref.gifu.lg.jp/shiyou/sinrinwebmap.html",attribution:"",location:"",tags:["",""],minZoom:1,maxZoom:18,tileSize:256,bounds:[136.1828594,34.9090933,137.8301219,36.7868122],xyzImageTile:{x:14424,y:6458,z:14}},interaction:{clickable:!0},style:{...Nc,legend:{type:"category",name:"",colors:["#FFFFFF","#A2E0CB","#268F1E","#95E537","#E7E539","#E35CC2","#CC000D","#8F086A"],labels:["0 - 10","10.1 - 15","15.1 - 20","20.1 - 25","25.1 - 30","30.1 - 35","35.1 - 40","40.1"]}}},xZ=Object.freeze(Object.defineProperty({__proto__:null,default:LZ},Symbol.toStringTag,{value:"Module"})),RZ={id:"gsi_gmld_glcnmo2",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/gmld_glcnmo2/{z}/{x}/{y}.png"},metaData:{name:"GLCNMO",attribution:"",description:" ",location:"",tags:[""],minZoom:0,maxZoom:7,tileSize:256,bounds:Sd,downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#glcnmo2",xyzImageTile:La.zoom_0},interaction:{clickable:!0},style:{...Nc,resampling:"nearest",legend:{type:"category",name:"",colors:["#004600","#55AA00","#009600","#6E8C28","#00FF00","#9BC09B","#598259","#AAFF00","#B4D79E","#FFFF64","#FF9B00","#9B00FF","#FF6EFF","#8282FF","#A5F5F5","#696969","#C8C8C8","#FF0000","#FAFAFA","#00C8FF"],labels:["","","","","","","","","","","","","","","","","","","",""]}}},BZ=Object.freeze(Object.defineProperty({__proto__:null,default:RZ},Symbol.toStringTag,{value:"Module"})),EZ={id:"gsi_gmld_ptc2",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/gmld_ptc2/{z}/{x}/{y}.png"},metaData:{name:"",attribution:"",description:" ",location:"",tags:["","",""],minZoom:0,maxZoom:7,tileSize:256,bounds:Sd,downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#ptc2",xyzImageTile:La.zoom_0},interaction:{clickable:!0},style:{...Nc,resampling:"nearest",legend:{type:"category",name:"",colors:["#FFFFFF","#C8FFC8","#64FF64","#00B400","#006400","#00C8FF"],labels:["020%","2040%","4060%","6080%","80100%",""]}}},CZ=Object.freeze(Object.defineProperty({__proto__:null,default:EZ},Symbol.toStringTag,{value:"Module"})),IZ={id:"gsi_relief",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/relief/{z}/{x}/{y}.png"},metaData:{name:"",description:"",attribution:"",location:"",tags:["",""],minZoom:5,maxZoom:15,tileSize:256,bounds:Bs,downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#relief",xyzImageTile:La.zoom_9},interaction:{clickable:!0},style:{type:"categorical",opacity:.7,legend:{type:"gradient",name:"",colors:["#B43D09","#B4491C","#B4562D","#B5A42D","#46BABA"],ranges:[4e3,2e3,1e3,300,0],unit:"m"}}},TZ=Object.freeze(Object.defineProperty({__proto__:null,default:IZ},Symbol.toStringTag,{value:"Module"})),MZ={id:"gsi_slopemap",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/slopemap/{z}/{x}/{y}.png"},metaData:{name:"",attribution:"",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#slopemap",location:"",tags:["",""],minZoom:3,maxZoom:15,tileSize:256,xyzImageTile:La.zoom_9,bounds:Bs},interaction:{clickable:!0},style:{...Nc,legend:{type:"gradient",name:"",colors:["#FFFFFF","#000000"],ranges:[0,90],unit:""}}},SZ=Object.freeze(Object.defineProperty({__proto__:null,default:MZ},Symbol.toStringTag,{value:"Module"})),FZ={id:"hyogo_slope",type:"raster",format:{type:"image",url:"https://rinya-hyogo.geospatial.jp/2025/rinya/tile/slopemap/{z}/{x}/{y}.png"},metaData:{name:" ",attribution:"",location:"",tags:[""],minZoom:8,maxZoom:15,tileSize:256,bounds:Wy,downloadUrl:"https://www.geospatial.jp/ckan/dataset/slopemap_hyogo",xyzImageTile:{x:57325,y:25961,z:16}},interaction:{clickable:!0},style:{...Nc,legend:{type:"category",name:"",colors:["#FFFFD5","#FED98E","#FE992A","#D9600E","#993405"],labels:["0 - 10","10 - 20","20 - 30","30 - 40","40"]}}},UZ=Object.freeze(Object.defineProperty({__proto__:null,default:FZ},Symbol.toStringTag,{value:"Module"})),NZ={id:"kochi_slope",type:"raster",format:{type:"image",url:"https://rinya-kochi.geospatial.jp/2023/rinya/tile/slopemap/{z}/{x}/{y}.png"},metaData:{name:" ",attribution:"",location:"",tags:[""],minZoom:8,maxZoom:15,tileSize:256,bounds:pp,downloadUrl:"https://www.geospatial.jp/ckan/dataset/slopemap_kochi",xyzImageTile:{x:14246,y:6577,z:14}},interaction:{clickable:!0},style:{...Nc,legend:{type:"category",name:"",colors:["#0200FC","#32C2FF","#B7FE8E","#FFC801","#FE0000"],labels:["015","1530","3040","4045","45"]}}},kZ=Object.freeze(Object.defineProperty({__proto__:null,default:NZ},Symbol.toStringTag,{value:"Module"})),Ur=T$+"/landslide",PZ={id:"landslide",type:"raster",format:{type:"image",url:"https://www.j-shis.bosai.go.jp/map/xyz/landslide/{z}/{x}/{y}.png"},metaData:{name:"",attribution:"",location:"",tags:["",""],minZoom:5,maxZoom:15,tileSize:256,bounds:Bs,xyzImageTile:{z:13,x:7262,y:3214},downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#landslide"},interaction:{clickable:!1},style:{type:"categorical",opacity:.7,legend:{type:"image",categories:[{name:" ",urls:[`${Ur}/0.webp`,`${Ur}/1.webp`,`${Ur}/2.webp`,`${Ur}/3.webp`,`${Ur}/4.webp`,`${Ur}/5.webp`,`${Ur}/6.webp`,`${Ur}/7.webp`],labels:["","","","","","","",""]},{name:" ",urls:[`${Ur}/8.webp`,`${Ur}/9.webp`,`${Ur}/10.webp`,`${Ur}/11.webp`,`${Ur}/12.webp`,`${Ur}/13.webp`],labels:["","","","","",""]},{name:"",urls:[`${Ur}/14.webp`,`${Ur}/15.webp`,`${Ur}/16.webp`,`${Ur}/17.webp`,`${Ur}/18.webp`,`${Ur}/19.webp`,`${Ur}/20.webp`],labels:["","","","","","",""]},{name:"",urls:[`${Ur}/21.webp`,`${Ur}/22.webp`,`${Ur}/23.webp`,`${Ur}/24.webp`,`${Ur}/25.webp`,`${Ur}/26.webp`],labels:["","","","","",""]}]}}},DZ=Object.freeze(Object.defineProperty({__proto__:null,default:PZ},Symbol.toStringTag,{value:"Module"})),OZ={id:"tochigi_slope",type:"raster",format:{type:"image",url:"https://rinya-tochigi.geospatial.jp/2023/rinya/tile/slopemap/{z}/{x}/{y}.png"},metaData:{name:" ",attribution:"",location:"",tags:[""],minZoom:8,maxZoom:15,tileSize:256,bounds:Fd,downloadUrl:"https://www.geospatial.jp/ckan/dataset/slopemap_tochigi",xyzImageTile:{x:3635,y:1597,z:12}},interaction:{clickable:!0},style:{...Nc,legend:{type:"category",name:"",colors:["#0000FE","#56FE01","#FFFF00","#FE0000"],labels:["0 - 15","15 - 30","30 - 35","35"]}}},zZ=Object.freeze(Object.defineProperty({__proto__:null,default:OZ},Symbol.toStringTag,{value:"Module"})),HZ={id:"dchm_niigata_nagaoka",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/15_niigata/nagaoka/dchm_2024/{z}/{x}/{y}.png"},metaData:{name:" ",sourceDataName:"DCHM0.5m2024",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-dchm-nagaoka2024",attribution:"",tags:["","DCHM","","0.5m"],location:"",minZoom:8,maxZoom:18,tileSize:256,xyzImageTile:{x:116178,y:50794,z:17},bounds:MJ},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"gsi",uniformsData:{...Kn.visualization.uniformsData,relief:{max:45,min:0,colorMap:"jet"}}}}},QZ=Object.freeze(Object.defineProperty({__proto__:null,default:HZ},Symbol.toStringTag,{value:"Module"})),jZ={id:"dem_10b",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/dem_png/{z}/{x}/{y}.png"},metaData:{name:" 10m",sourceDataName:" DEM10B",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#dem",attribution:"",tags:["DEM","","10m"],location:"",minZoom:1,maxZoom:14,tileSize:256,bounds:[122.935,20.425,153.986,45.551],xyzImageTile:La.zoom_9},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"gsi"}}},YZ=Object.freeze(Object.defineProperty({__proto__:null,default:jZ},Symbol.toStringTag,{value:"Module"})),GZ={id:"dem_1a",type:"raster",format:{type:"image",url:"https://mapdata.qchizu.xyz/03_dem/52_gsi/all_2025/1_02/{z}/{x}/{y}.webp"},metaData:{name:" 1m",sourceDataName:"1mDEM",downloadUrl:"https://www.geospatial.jp/ckan/dataset/qchizu_94dem_99gsi",attribution:"Q",tags:["DEM","","1m"],location:"",minZoom:1,maxZoom:17,tileSize:256,bounds:[122.935,20.425,153.986,45.551],xyzImageTile:La.zoom_9},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"gsi"}}},VZ=Object.freeze(Object.defineProperty({__proto__:null,default:GZ},Symbol.toStringTag,{value:"Module"})),KZ={id:"dem_5a",type:"raster",format:{type:"image",url:"https://cyberjapandata.gsi.go.jp/xyz/dem5a_png/{z}/{x}/{y}.png"},metaData:{name:" 5m",sourceDataName:" DEM5A",downloadUrl:"https://maps.gsi.go.jp/development/ichiran.html#dem",attribution:"",tags:["DEM","","5m"],location:"",minZoom:1,maxZoom:15,tileSize:256,bounds:[122.935,20.425,153.986,45.551],xyzImageTile:La.zoom_9},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"gsi"}}},$Z=Object.freeze(Object.defineProperty({__proto__:null,default:KZ},Symbol.toStringTag,{value:"Module"})),WZ={id:"dem_aster_gdem_v3",type:"raster",format:{type:"image",url:"https://tiles.gsj.jp/tiles/elev/astergdemv3/{z}/{y}/{x}.png"},metaData:{name:"ASTER3",sourceDataName:"ASTER GDEM 003",downloadUrl:"https://tiles.gsj.jp/tiles/elev/tiles.html#h_astergdemv3",attribution:"",tags:["DEM",""],location:"",minZoom:0,maxZoom:12,tileSize:256,bounds:Sd,xyzImageTile:La.zoom_0},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"gsi",uniformsData:{...Kn.visualization.uniformsData,relief:{max:6e3,min:0,colorMap:"jet"}}}}},qZ=Object.freeze(Object.defineProperty({__proto__:null,default:WZ},Symbol.toStringTag,{value:"Module"})),XZ={id:"dem_hyogo",type:"raster",format:{type:"image",url:"https://tiles.gsj.jp/tiles/elev/hyogodem/{z}/{y}/{x}.png"},metaData:{name:" ",downloadUrl:"https://tiles.gsj.jp/tiles/elev/tiles.html#h_hyogo",attribution:"",tags:["DEM","","0.5m"],location:"",minZoom:2,maxZoom:18,tileSize:256,bounds:[134.24587,34.14648,135.47185,35.67539],xyzImageTile:{x:3578,y:1619,z:12}},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"gsi",uniformsData:{...Kn.visualization.uniformsData,relief:{max:1500,min:0,colorMap:"jet"}}}}},JZ=Object.freeze(Object.defineProperty({__proto__:null,default:XZ},Symbol.toStringTag,{value:"Module"})),ZZ={id:"dem_kanagawa",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/14_kanagawa/dem_2022/{z}/{x}/{y}.png"},metaData:{name:" ",sourceDataName:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-kanagawa-maptiles2",attribution:"",location:"",tags:["DEM","","0.5m"],minZoom:8,maxZoom:18,tileSize:256,bounds:Ud,xyzImageTile:{x:7262,y:3230,z:13}},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"gsi",uniformsData:{...Kn.visualization.uniformsData,relief:{max:2e3,min:0,colorMap:"jet"}}}}},eee=Object.freeze(Object.defineProperty({__proto__:null,default:ZZ},Symbol.toStringTag,{value:"Module"})),tee={id:"dem_kochi",type:"raster",format:{type:"image",url:"https://tiles.gsj.jp/tiles/elev/kochi/{z}/{y}/{x}.png"},metaData:{name:" ",sourceDataName:"(DEM)0.5m",downloadUrl:"https://tiles.gsj.jp/tiles/elev/tiles.html#kochi",attribution:"",tags:["DEM","","0.5m"],location:"",minZoom:2,maxZoom:18,tileSize:256,bounds:[132.4748986,32.6983375,134.3183756,33.8859144],xyzImageTile:{x:3565,y:1639,z:12}},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"gsi",uniformsData:{...Kn.visualization.uniformsData,relief:{max:2e3,min:0,colorMap:"jet"}}}}},nee=Object.freeze(Object.defineProperty({__proto__:null,default:tee},Symbol.toStringTag,{value:"Module"})),ree={id:"tochigi_dem",type:"raster",format:{type:"image",url:"https://tiles.gsj.jp/tiles/elev/tochigi/{z}/{y}/{x}.png"},metaData:{name:" ",downloadUrl:"https://www.geospatial.jp/ckan/dataset/dem05_tochigi",attribution:"",location:"",tags:["DEM","","0.5m"],minZoom:2,maxZoom:18,tileSize:256,xyzImageTile:{x:3635,y:1597,z:12},bounds:Fd},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"gsi",uniformsData:{...Kn.visualization.uniformsData,relief:{max:2600,min:0,colorMap:"jet"}}}}},iee=Object.freeze(Object.defineProperty({__proto__:null,default:ree},Symbol.toStringTag,{value:"Module"})),see={id:"dem_tokyo",type:"raster",format:{type:"image",url:"https://tiles.gsj.jp/tiles/elev/tokyo/{z}/{y}/{x}.png"},metaData:{name:" ",downloadUrl:"https://tiles.gsj.jp/tiles/elev/tiles.html#h_tokyo",attribution:"",tags:["DEM","","0.25m"],location:"",minZoom:2,maxZoom:19,tileSize:256,bounds:[138.942922,32.440258,139.861054,35.898368],xyzImageTile:{x:3631,y:1612,z:12}},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"gsi"}}},aee=Object.freeze(Object.defineProperty({__proto__:null,default:see},Symbol.toStringTag,{value:"Module"})),oee={id:"dem_yamanashi",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/19_yamanashi/dem_terrainRGB_2024/{z}/{x}/{y}.png"},metaData:{name:" ",sourceDataName:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-yamanashi-maptiles",attribution:"",location:"",tags:["DEM","","0.5m"],minZoom:8,maxZoom:18,tileSize:256,bounds:EJ,xyzImageTile:{x:14486,y:6449,z:14}},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"mapbox"}}},lee=Object.freeze(Object.defineProperty({__proto__:null,default:oee},Symbol.toStringTag,{value:"Module"})),cee={id:"dsm_hyogo",type:"raster",format:{type:"image",url:"https://tiles.gsj.jp/tiles/elev/hyogodsm/{z}/{y}/{x}.png"},metaData:{name:" ",downloadUrl:"https://tiles.gsj.jp/tiles/elev/tiles.html#h_hyogo",attribution:"",tags:["DSM","","0.5m"],location:"",minZoom:2,maxZoom:18,tileSize:256,bounds:[134.24587,34.14648,135.47185,35.67539],xyzImageTile:{x:3578,y:1619,z:12}},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"gsi",uniformsData:{...Kn.visualization.uniformsData,relief:{max:1500,min:0,colorMap:"jet"}}}}},Aee=Object.freeze(Object.defineProperty({__proto__:null,default:cee},Symbol.toStringTag,{value:"Module"})),uee={id:"dsm_kanagawa",type:"raster",format:{type:"image",url:"https://forestgeo.info/opendata/14_kanagawa/dsm_terrainRGB_2022/{z}/{x}/{y}.png"},metaData:{name:" ",sourceDataName:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-kanagawa-maptiles2",attribution:"",location:"",tags:["DSM","","0.5m"],minZoom:8,maxZoom:18,tileSize:256,bounds:Ud,xyzImageTile:{x:7262,y:3230,z:13}},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"mapbox",uniformsData:{...Kn.visualization.uniformsData,relief:{max:2e3,min:0,colorMap:"jet"}}}}},fee=Object.freeze(Object.defineProperty({__proto__:null,default:uee},Symbol.toStringTag,{value:"Module"})),hee={id:"fac_floor_plan_1f",type:"raster",format:{type:"pmtiles",url:`${up}/fac_floor_plan_1f.pmtiles`},metaData:{name:" 1F ",description:"",attribution:"",location:"",minZoom:14,maxZoom:22,tileSize:512,tags:["","CAD"],bounds:[136.9173152931534,35.55388541230206,136.92009905423387,35.55590611374657],xyzImageTile:{x:923093,y:413358,z:20}},interaction:{...ii},style:{type:"cad",opacity:1,color:"#aeff00"}},dee=Object.freeze(Object.defineProperty({__proto__:null,default:hee},Symbol.toStringTag,{value:"Module"})),gee={id:"fac_floor_plan_2f",type:"raster",format:{type:"pmtiles",url:`${up}/fac_floor_plan_2f.pmtiles`},metaData:{name:" 2F ",description:"",attribution:"",location:"",minZoom:14,maxZoom:22,tileSize:512,tags:["","CAD"],bounds:[136.9173152931534,35.55388541230206,136.92009905423387,35.55590611374657],xyzImageTile:{x:1846186,y:826711,z:21}},interaction:{...ii},style:{type:"cad",opacity:1,color:"#aeff00"}},pee=Object.freeze(Object.defineProperty({__proto__:null,default:gee},Symbol.toStringTag,{value:"Module"})),_ee={id:"ziriki_floor_plan",type:"raster",format:{type:"pmtiles",url:`${up}/ziriki_floor_plan.pmtiles`},metaData:{name:" ",description:"",attribution:"",location:"",minZoom:14,maxZoom:22,tileSize:512,tags:["","CAD"],bounds:[136.91667640766101,35.55211495963528,136.92327872792745,35.55616329974087],xyzImageTile:{x:3692375,y:1653443,z:22}},interaction:{...ii},style:{type:"cad",opacity:1,color:"#aeff00"}},mee=Object.freeze(Object.defineProperty({__proto__:null,default:_ee},Symbol.toStringTag,{value:"Module"})),yee={id:"ensyurin_curvatoure",type:"raster",format:{type:"pmtiles",url:`${up}/ensyurin_curvature.pmtiles`},metaData:{name:" ",description:"",attribution:"",location:"",tags:["",""],minZoom:14,maxZoom:16,tileSize:256,xyzImageTile:La.zoom_16,bounds:[136.91683974376355,35.540611389073774,136.9346116207808,35.55838201305548]},interaction:{clickable:!0},style:{...Kn,visualization:{...Kn.visualization,demType:"terrarium",mode:"relief",uniformsData:{relief:{...Kn.visualization.uniformsData.relief,max:5.3,min:-4.3,colorMap:"rdbu"}}}}},bee=Object.freeze(Object.defineProperty({__proto__:null,default:yee},Symbol.toStringTag,{value:"Module"})),vee={id:"ensyurin_road",type:"vector",format:{type:"fgb",geometryType:"LineString",url:`${J1}/ensyurin_road.fgb`},metaData:{name:" ",description:"",attribution:"",location:"",tags:["",""],maxZoom:17,minZoom:8,bounds:[136.919335,35.546981,136.92684,35.555131],coverImage:`${D0}/ensyurin_road.webp`,mapImage:`${ri}/ensyurin_road.webp`,xyzImageTile:{x:115387,y:51671,z:17}},properties:{keys:["","_m"],titles:[]},interaction:{clickable:!0},style:{type:"line",opacity:.7,colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#cacaca"}},{type:"match",key:"",name:"",mapping:{categories:["",""],values:["#ffec42","#e0e0e0"]}}]},width:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:5}},{type:"match",key:"",name:"",mapping:{categories:["",""],values:[10,5]}}]},lineStyle:"solid",labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{}"},{key:"_m",name:"",value:"{_m} m"}]},default:{line:{paint:{},layout:{"line-cap":"round","line-join":"round"}},symbol:{paint:{},layout:{"text-size":10,"symbol-placement":"line","symbol-spacing":100}}}}},wee=Object.freeze(Object.defineProperty({__proto__:null,default:vee},Symbol.toStringTag,{value:"Module"})),Lee={id:"ensyurin_kikenboku_h25",type:"vector",format:{type:"fgb",geometryType:"Point",url:`${J1}/ensyurin_kikenboku_h25.fgb`},metaData:{name:" 2013",description:"",attribution:"",location:"",minZoom:10,maxZoom:22,tags:["",""],bounds:[136.919727,35.547376,136.92669,35.554887],coverImage:`${D0}/ensyurin_kikenboku_h25.webp`,mapImage:`${ri}/ensyurin_kikenboku_h25.webp`,xyzImageTile:{x:115387,y:51670,z:17}},properties:{keys:["",""],titles:[{conditions:[],template:"{} {}"}]},interaction:{clickable:!0},style:{type:"circle",opacity:.7,markerType:"circle",colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#ff0000"}}]},radius:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:8}}]},outline:{show:!0,color:"#ffffff",width:2},labels:{key:"name",show:!1,expressions:[{key:"name",name:"name",value:"{name}"}]}}},xee=Object.freeze(Object.defineProperty({__proto__:null,default:Lee},Symbol.toStringTag,{value:"Module"})),Ree={id:"ensyurin_owl",type:"vector",format:{type:"fgb",geometryType:"Point",url:`${J1}/ensyurin_owl.fgb`},metaData:{name:" ",description:"2021OWL",attribution:"",location:"",minZoom:10,maxZoom:22,tags:["",""],bounds:[136.920923,35.548695,136.921198,35.548997],xyzImageTile:{x:923099,y:413380,z:20},coverImage:`${D0}/ensyurin_owl.webp`,mapImage:`${ri}/ensyurin_owl.webp`},properties:{keys:["id","cm","m3","m","kg","m","2cmcm","2cm[kg]","","2cmm3","X","Y","cm","Z","cm","ID2"],titles:[{conditions:[""],template:"{}"},{conditions:[],template:"OWL"}]},interaction:{clickable:!0},style:{type:"circle",opacity:.7,markerType:"circle",colors:{show:!0,key:"m",expressions:[{type:"single",key:"",name:"",mapping:{value:"#e70000"}},{type:"step",key:"m",name:"",mapping:{scheme:"YlOrRd",range:[4,20],divisions:6}}]},radius:{key:"cm",expressions:[{type:"single",key:"",name:"",mapping:{value:8}},{type:"linear",key:"cm",name:"",mapping:{range:[7,42.5],values:[5,10]}}]},outline:{show:!0,color:"#ffffff",width:2},labels:{key:"cm",show:!1,expressions:[{key:"id",name:"id",value:"{id}"},{key:"cm",name:"",value:"{cm} cm"},{key:"m3",name:"",value:"{m3} m3"},{key:"m",name:"",value:"{m} m"},{key:"kg",name:"",value:"{kg}"},{key:"m",name:"",value:"{m}m"},{key:"2cmcm",name:"2cmcm",value:"{2cmcm}"},{key:"2cm[kg]",name:"",value:"{2cm[kg]} kg"},{key:"",name:"",value:"{}"},{key:"2cmm3",name:"2cm",value:"{2cmm3} m3"},{key:"cm",name:"",value:"{cm} cm"},{key:"cm",name:"",value:"{cm} cm"}]},default:{circle:{paint:{},layout:{}}}}},Bee=Object.freeze(Object.defineProperty({__proto__:null,default:Ree},Symbol.toStringTag,{value:"Module"})),Eee={id:"ensyurin_pole",type:"vector",format:{type:"fgb",geometryType:"Point",url:`${J1}/ensyurin_pole.fgb`},metaData:{name:"",description:"",attribution:"",location:"",tags:[""],maxZoom:17,minZoom:1,bounds:[136.919359,35.549761,136.926759,35.557836],xyzImageTile:{x:57693,y:25835,z:16},coverImage:`${nn}/pole_3.webp`,mapImage:`${ri}/ensyurin_pole.webp`},properties:{keys:["name"],titles:[{conditions:["name"],template:"{name}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"circle",opacity:.7,markerType:"circle",colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#e70000"}}]},radius:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:8}}]},outline:{show:!0,color:"#ffffff",width:2},labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{name}"}]}}},Cee=Object.freeze(Object.defineProperty({__proto__:null,default:Eee},Symbol.toStringTag,{value:"Module"})),Iee={id:"fac_sisetuannaitou",type:"vector",format:{type:"fgb",geometryType:"Point",url:`${J1}/fac_sisetuannaitou.fgb`},metaData:{name:"",description:"",attribution:"",location:"",minZoom:10,maxZoom:22,tags:[""],bounds:[136.917205,35.553612,136.919391,35.556191],xyzImageTile:{x:115386,y:51669,z:17},coverImage:`${D0}/fac_sisetuannaitou.webp`,mapImage:`${ri}/fac_sisetuannaitou.webp`},properties:{keys:[],titles:[{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"circle",opacity:.7,markerType:"circle",colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#834f00"}}]},radius:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:8}}]},outline:{show:!0,color:"#ffffff",width:2},labels:{key:"name",show:!1,expressions:[{key:"name",name:"name",value:"{name}"}]}}},Tee=Object.freeze(Object.defineProperty({__proto__:null,default:Iee},Symbol.toStringTag,{value:"Module"})),Mee={id:"ensyurin_siken",type:"vector",format:{type:"fgb",geometryType:"Polygon",url:`${J1}/ensyurin_siken.fgb`},metaData:{name:" ",description:"",attribution:"",location:"",maxZoom:17,minZoom:8,tags:[""],bounds:[136.920084,35.549852,136.925498,35.554401],coverImage:`${D0}/ensyurin_siken.webp`,mapImage:`${ri}/ensyurin_siken.webp`,xyzImageTile:{x:230774,y:103341,z:18}},properties:{keys:["","",""],titles:[{conditions:["",""],template:"{} {}"},{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.7,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#cab2d6"}}]},outline:{show:!0,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"",show:!0,expressions:[{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"}]}}},See=Object.freeze(Object.defineProperty({__proto__:null,default:Mee},Symbol.toStringTag,{value:"Module"})),Fee={id:"ensyurin_syouhan",type:"vector",format:{type:"fgb",geometryType:"Polygon",url:`${J1}/ensyurin_syouhan.fgb`},metaData:{name:" ",description:"",attribution:"",location:"",tags:["",""],maxZoom:17,minZoom:10,bounds:[136.91917,35.54692,136.926817,35.555122],mapImage:`${ri}/ensyurin_syouhan.webp`,coverImage:`${D0}/ensyurin_syouhan.webp`,xyzImageTile:{x:115387,y:51671,z:17}},properties:{keys:["ID","","","",""],titles:[{template:"{} {}",conditions:["",""]},{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#33a02c",pattern:null}},{type:"match",key:"",name:"",mapping:{categories:["","","","","","",""],values:["#33a02c","#b2df8a","#e31a1c","#1f78b4","#fdbf6f","#a6cee3","#fb9a99"],patterns:[null,null,null,null,null,null,null]}},{type:"match",key:"",name:"",mapping:{categories:[1,2,3],values:["#a6cee3","#1f78b4","#b2df8a"],patterns:[null,null,null]}},{type:"step",key:"",name:"",mapping:{scheme:"BuGn",range:[0,100],divisions:5}},{type:"step",key:"",name:"",mapping:{scheme:"Oranges",range:[0,1],divisions:5}}]},outline:{show:!0,color:"#ffffff",width:2,lineStyle:"dashed"},labels:{key:"",show:!0,expressions:[{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["match",["get",""],["","",""],["get",""],["concat",["get",""],""]]]},{key:"",name:"",value:"{} ha"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:["case",["all",["has",""],["!=",["get",""],""]],["concat",["get",""],""],""]},{key:"",name:"",value:["case",["all",["has",""],["!=",["get",""],""]],["concat",["get",""],""],""]}]}}},Uee=Object.freeze(Object.defineProperty({__proto__:null,default:Fee},Symbol.toStringTag,{value:"Module"})),Nee={id:"experimental_landformclassification1",type:"vector",format:{type:"geojsontile",geometryType:"Polygon",url:"https://cyberjapandata.gsi.go.jp/xyz/experimental_landformclassification1/{z}/{x}/{y}.geojson"},metaData:{name:"",description:"",attribution:"",location:"",sourceLayer:"geojsonLayer",maxZoom:16,minZoom:4,promoteId:"code",tags:[""],bounds:Bs,xyzImageTile:{x:225,y:100,z:8},sourceDataName:"",downloadUrl:"https://github.com/gsi-cyberjapan/experimental_landformclassification",mapImage:`${ri}/experimental_landformclassification1.webp`},properties:{keys:[],titles:[{conditions:["name"],template:"{name}"},{conditions:[],template:""}],dict:{code:"",name:"",description:"",risk:""},joinDataUrl:`${Pk}/experimental_landformclassification1.json`},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"name",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#cab2d6"}},{type:"match",key:"name",name:"",mapping:{categories:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],values:["#d9cbae","#9466ab","#cc99ff","#ffaa00","#99804d","#cacc60","#ffff33","#fbe09d","#ffff99","#a3cc7e","#bbff99","#00d1a4","#6699ff","#1f9999","#9f9fc4","#e5ffff","#779999","#998b79","#664d55","#7580D2","#C9FF05","#FF0116","#FF5101","#C975B0","#FFBBFC","#ffb31a","#C7FFF7","#FFEA01","#1201FF","#998c7a","#FF0116"],patterns:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"name",show:!1,expressions:[{key:"code",name:"",value:"{code}"},{key:"name",name:"",value:"{name}"},{key:"description",name:"",value:"{description}"},{key:"risk",name:"",value:"{risk}"}]}}},kee=Object.freeze(Object.defineProperty({__proto__:null,default:Nee},Symbol.toStringTag,{value:"Module"})),Pee={id:"experimental_landformclassification2",type:"vector",format:{type:"geojsontile",geometryType:"Polygon",url:"https://cyberjapandata.gsi.go.jp/xyz/experimental_landformclassification2/{z}/{x}/{y}.geojson"},metaData:{name:"",description:"",attribution:"",location:"",sourceLayer:"geojsonLayer",maxZoom:16,minZoom:14,promoteId:"code",tags:[""],bounds:Bs,xyzImageTile:{x:14561,y:6451,z:14},sourceDataName:"",downloadUrl:"https://github.com/gsi-cyberjapan/experimental_landformclassification",mapImage:`${ri}/experimental_landformclassification2.webp`},properties:{keys:[],titles:[{conditions:[],template:""}],dict:{code:"",name:"",description:"",risk:""},joinDataUrl:`${Pk}/experimental_landformclassification1.json`},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"name",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#cab2d6"}},{type:"match",key:"name",name:"",mapping:{categories:["","","","",""],values:["#85c4d1","#8ad8b6","#ef8888","#c37aff","#ffe8e8"],patterns:[null,null,null,null,null]}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"code",show:!1,expressions:[{key:"code",name:"code",value:"{code}"}]}}},Dee=Object.freeze(Object.defineProperty({__proto__:null,default:Pee},Symbol.toStringTag,{value:"Module"})),Oee={id:"geological_survey",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://forestacdev.github.io/tiles-geological-survey/tiles/{z}/{x}/{y}.pbf"},metaData:{name:"",sourceDataName:"201V2",attribution:"",downloadUrl:"https://gbank.gsj.jp/seamless/use.html#use-webapi",location:"",tags:[""],minZoom:1,maxZoom:14,sourceLayer:"geological_survey",bounds:Bs,xyzImageTile:{x:225,y:100,z:8},mapImage:`${ri}/geological_survey.webp`},properties:{keys:["ser","symbol","","r","g","b","","formationAge","","group","","lithology"],titles:[{conditions:["symbol"],template:"{symbol}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"symbol",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#8f37e7",pattern:null}},{type:"match",key:"symbol",name:"symbol",mapping:{categories:["C13-J1_soh_J1","C13-J22_soh_J2","C13-P1_vbs_o_J1","C13-P1_vbs_o_P2","C13-P1_vbs_o_Tr","C13-P2_soh_P2","C13-P2_sol_P2","C13-Tr32_sol_J2","C13-Tr32_vbs_o_J2","C13-Tr_sol_J1","C1_som_Cb","C_sbl","C_sol","C_som","C_sosma","C_va_al","C_vb_al","Ca4-S_mgama_mag","Ca4-S_mgama_mam","Ca4-S_mgmpe_mag","Ca4-S_mgmpe_mam","Ca4-S_mgngr_mam","Ca4-S_mmgma_mag","Ca_pim_a","Ca_pin_a","D2-3_sol","D2-3_som","D2-3_sosma","D2-3_va_al","D3-P1_mscca_hg","D3-P1_mscfe_hlb","D3-P1_mscma_hab","D3-P1_mscma_hc","D3-P1_mscma_hg","D3-P1_mscma_hlb","D3-P1_mscpe_hab","D3-P1_mscpe_ham","D3-P1_mscpe_hc","D3-P1_mscpe_hg","D3-P1_mscpe_hlb","D3-P1_mscsi_hg","D3-P1_mscsi_hlb","D3-P1_msp_hc","D3-P1_msp_hg","D3-P1_msp_hlb","D3_soh_Cb","D3_vbs_o_Cb","H1_sol","H2_or","H2_sol","H_sad","H_sld","H_smd","H_ssd","H_svd","H_v_ad","H_vas_al","H_vas_ap","H_vbs_al","H_via_al","H_vis_al","J1-22_soc_J1","J1-22_som_J1","J1-22_sosma_J1","J1-22_soss_J1","J1-22_sx_J1","J1-2_pam_a","J1-2_pan_a","J1-2_pbd_a","J1-2_pbg_a","J1-2_pim_a","J1-2_pin_a","J1_sbc","J1_sbsm","J1_soc","J1_som","J1_sosma","J1_soss","J2-31_soc_J2","J2-31_som_J2","J2-31_sosma_J2","J2-31_soss_J2","J2-31_sx_J2","J24-K11_soc_J3","J24-K11_som_J3","J24-K11_sosma_J3","J24-K11_soss_J3","J24-K11_sx_J3","J2_sbsm","J2_soc","J2_som","J2_sosma","J2_soss","J3-K11_pb_o_Jb","J3-K11_pu_o_Jb","J3-K11_sx_Jb","J3-K11_vbs_o_Jb","J32-K111_vba_ol_Kn","J32-K12_sol_Kn","J33-K121_soh_K1","J33-K121_sol_K1","J33-K121_sor_K1","J33-K121_vbs_o_K1","J33-K212_soh_K2","J33-K212_sol_K2","J33-K212_sor_K2","J33-K212_vbs_o_K2","J3_sbc","J3_sbsm","J3_sbss","J3_snsmm","J3_snss","J3_soc","J3_sod","J3_soi","J3_sol","J3_som","J3_sosma","J3_soss","K1-211_vbs_o_KPg","K11-121_mscma_hlb","K11-121_msp_hlb","K111-113_sol_KPg","K112-121_mgama_ham","K112-121_mrga_ham","K112-121_mrps_hc","K112-121_mscma_hc","K112-121_mscpe_hc","K11_pbd_a","K11_pim_a","K11_pin_a","K11_sbc","K11_sbsm","K11_snc","K11_snsmm","K11_soc","K11_sod","K11_soi","K11_sol","K11_som","K11_sosma","K11_soss","K12-212_soc_K1","K12-212_som_K1","K12-212_somam_K1","K12-212_somas_K1","K12-212_soss_K1","K12-212_sx_K1","K12-212_va_ol_K1","K122-Pg12_mgama_hag","K122-Pg12_mgama_ham","K122-Pg12_mgama_hec","K122-Pg12_mmgma_hag","K122-Pg12_mpyma_hc","K122-Pg12_mpype_hc","K122-Pg12_mrbs_hc","K122-Pg12_mrch_hc","K122-Pg12_mrga_hc","K122-Pg12_mrga_hec","K122-Pg12_mrga_hg","K122-Pg12_mrhb_hc","K122-Pg12_mrls_hc","K122-Pg12_mrpr_hec","K122-Pg12_mrps_hc","K122-Pg12_mscca_hc","K122-Pg12_mscca_hec","K122-Pg12_msccg_hc","K122-Pg12_mscma_hab","K122-Pg12_mscma_hc","K122-Pg12_mscma_hec","K122-Pg12_mscma_hg","K122-Pg12_mscma_hob","K122-Pg12_mscpe_hab","K122-Pg12_mscpe_hc","K122-Pg12_mscpe_hec","K122-Pg12_mscpe_hg","K122-Pg12_mscpe_hob","K122-Pg12_mscps_hc","K122-Pg12_mscps_hec","K122-Pg12_mscsi_hab","K122-Pg12_mscsi_hc","K122-Pg12_mscsi_hec","K122-Pg12_mscsi_hg","K122-Pg12_mscsi_hob","K122-Pg12_msl_hc","K122-Pg12_msp_hab","K122-Pg12_msp_hc","K122-Pg12_msp_hg","K122-Pg12_msp_hob","K12_mgama_lgc","K12_mgama_lkc","K12_mgama_lks","K12_mgmpe_lgc","K12_mgmpe_lop","K12_mgngb_lgc","K12_mmgma_lgc","K12_mrls_lb","K12_msama_lb","K12_mscfe_lb","K12_mscma_lb","K12_mscpe_lb","K12_msgca_lgc","K12_msgca_lop","K12_msgul_lgc","K12_msgul_lks","K12_msmpe_lks","K12_msp_lb","K12_msp_lgc","K12_pam_a","K12_pbd_a","K12_pbg_a","K12_pim_a","K12_pin_a","K12_sbc","K12_sbsm","K12_sbss","K12_snc","K12_snsmm","K12_snss","K12_soc","K12_sol","K12_som","K12_son","K12_sosma","K12_soss","K12_vas_ai","K12_vas_al","K12_vas_ap","K12_vbs_al","K12_vis_ai","K12_vis_al","K2-Pg12_mgama_lkc","K2-Pg12_mggps_lgc","K2-Pg12_mggps_lkc","K2-Pg12_mggps_lks","K2-Pg12_mgmpe_lgc","K2-Pg12_mgmpe_lks","K2-Pg12_mgmps_lkc","K2-Pg12_mgmps_lks","K2-Pg12_mgmsi_lgc","K2-Pg12_mgnfe_lks","K2-Pg12_mgnsi_lks","K2-Pg12_mmgma_lgc","K2-Pg12_mmygd_dgs","K2-Pg12_mmypn_lb","K2-Pg12_mrbs_lb","K2-Pg12_mrch_lb","K2-Pg12_mrls_lb","K2-Pg12_mrps_lb","K2-Pg12_msama_lkc","K2-Pg12_mscma_lb","K2-Pg12_mscpe_lb","K2-Pg12_msgul_lkc","K2-Pg12_msl_lb","K2-Pg12_msmpe_lkc","K2-Pg12_msmpe_lks","K2-Pg12_msmsi_lkc","K2-Pg12_msmsi_lks","K2-Pg12_msnca_lkc","K2-Pg12_msnca_lks","K2-Pg12_msnpe_lkc","K211-212_sx_Kn","K212-22_soc_K2","K212-22_som_K2","K212-22_somam_K2","K212-22_somas_K2","K212-22_soss_K2","K212-22_sx_K2","K212-22_va_ol_K2","K214-Pg1_som_KPg","K214-Pg1_sosma_KPg","K214-Pg1_soss_KPg","K214-Pg1_sx_KPg","K21_pam_a","K21_pan_a","K21_pbd_a","K21_pbg_a","K21_pim_a","K21_pin_a","K21_sbc","K21_sbsm","K21_sbss","K21_snc","K21_snm","K21_snsmm","K21_snss","K21_soc","K21_sod","K21_sol","K21_som","K21_sosma","K21_soss","K21_vas_ai","K21_vas_al","K21_vas_ap","K21_vbs_ai","K21_vis_ai","K21_vis_al","K21_vis_ap","K22_pam_a","K22_pan_a","K22_pbd_a","K22_pbg_a","K22_pim_a","K22_pin_a","K22_sbsm","K22_sbss","K22_snc","K22_snm","K22_snsmm","K22_snss","K22_soc","K22_som","K22_sosma","K22_soss","K22_vas_ai","K22_vas_al","K22_vas_ap","K22_vba_al","K22_vis_ai","K22_vis_al","K22_vis_ap","K2_pu_a","K2_pu_o_Kp","K_som_Ki","K_soss_Ki","K_sx_Ki","N12-211_pb_a_N2","N12-211_sol_N2","N12-211_vba_ol_N2","N12-221_sama_N2","N12-221_som_N2","N12-221_sosma_N2","N12-221_soss_N2","N12-221_sx_N2","N12-221_vas_ol_N2","N12-221_vbs_o_N2","N122-221_vi_al_N2","N1_pam_a","N1_pbd_a","N1_pbg_a","N1_pim_a","N1_pin_a","N1_sbc","N1_sbm","N1_sbs","N1_snc","N1_snm","N1_sns","N1_soc","N1_sod","N1_soi","N1_som","N1_sosma","N1_soss","N1_vas_ai","N1_vas_al","N1_vas_ap","N1_vba_ai","N1_vbs_ai","N1_vbs_al","N1_via_ai","N1_via_al","N1_vis_ai","N1_vis_al","N21_pam_a","N21_pbd_a","N21_pbg_a","N21_pim_a","N222-32_somas_N3","N222-32_soss_N3","N22_pam_a","N22_pbd_a","N22_pim_a","N2_sbm","N2_sbs","N2_snc","N2_snm","N2_sns","N2_soc","N2_soi","N2_sol","N2_som","N2_son","N2_sosma","N2_soss","N2_vas_ai","N2_vas_al","N2_vas_ap","N2_vba_ai","N2_vba_al","N2_vbs_ai","N2_vbs_al","N2_via_ai","N2_via_al","N2_vis_ai","N2_vis_al","N2_vis_ap","N3_mscfe_lgs","N3_mscma_lgs","N3_pam_a","N3_pbd_a","N3_pbg_a","N3_pim_a","N3_sbc","N3_sbs","N3_snc","N3_sns","N3_soc","N3_soi","N3_sol","N3_som","N3_son","N3_sosma","N3_soss","N3_vaa_al","N3_vas_ai","N3_vas_al","N3_vas_ap","N3_vba_ai","N3_vba_al","N3_vbs_ai","N3_vbs_al","N3_via_al","N3_vis_ai","N3_vis_al","N3_vis_ap","O-S_pam_a","O-S_pan_a","O-S_pbd_a","O-S_pbg_a","O-S_pim_a","O-S_pin_a","O-S_pu_a","O-S_pu_o","O3-D1_soc","O3-D1_sol","O3-D1_som","O3-D1_va_al","O3-D1_vb_al","P12-J31_soh_J3","P12-J_sol_J3","P12-Tr32_vbs_o_J3","P1_soc","P1_sol","P1_som","P1_sosma","P1_soss","P2-3_som_P2","P2-3_sosma_P2","P2-3_soss_P2","P2-3_sx_P2","P2-3_va_ol_P2","P2-Tr32_soh_Tr","P2_soc","P2_sol","P2_som","P2_sosma","P2_soss","P2_va_al","P3-J2_vbs_o_Ki","P3-Tr32_sol_Ki","P3_soc","P3_som","P3_sosma","P3_soss","P_mgama_mam","P_pbd_a","P_pbg_a","P_pim_a","P_pin_a","P_pu_a","P_vb_al","Pg12-21_sor_Pg2","Pg12-21_vbs_o_Pg2","Pg13-22_pb_o_Pg4","Pg13-22_pu_o_Pg4","Pg13-41_vbs_o_Pg4","Pg14-3_soc_Pg2","Pg14-3_som_Pg2","Pg14-3_somam_Pg2","Pg14-3_somas_Pg2","Pg14-3_soss_Pg2","Pg14-3_sx_Pg2","Pg14-3_va_ol_Pg2","Pg1_pam_a","Pg1_pbd_a","Pg1_pbg_a","Pg1_pim_a","Pg1_pin_a","Pg1_sbc","Pg1_sbm","Pg1_sbs","Pg1_snc","Pg1_soc","Pg1_sod","Pg1_som","Pg1_sosma","Pg1_soss","Pg1_vas_ai","Pg1_vas_al","Pg1_vas_ap","Pg1_vis_ai","Pg1_vis_al","Pg2-3_sol_Pg4","Pg2-N121_mgama_lks","Pg2-N121_mgmpe_lgc","Pg2-N121_mgmpe_lop","Pg2-N121_mgnfe_lks","Pg2-N121_mmgma_lgc","Pg2-N121_mmgma_lop","Pg2-N121_mrga_lkc","Pg2-N121_mrpr_lkc","Pg2-N121_msama_lkc","Pg2-N121_mscma_lb","Pg2-N121_mscpe_lb","Pg2-N121_mscpe_lkc","Pg2-N121_msmpe_lkc","Pg2-N121_msmpe_lks","Pg22-N211_vba_ol_Pg4","Pg2_pam_a","Pg2_pbd_a","Pg2_pbg_a","Pg2_pim_a","Pg2_sbc","Pg2_sbm","Pg2_sbs","Pg2_snc","Pg2_snm","Pg2_sns","Pg2_soc","Pg2_sol","Pg2_som","Pg2_sosma","Pg2_soss","Pg2_vas_ai","Pg2_vas_al","Pg2_vas_ap","Pg2_vbs_ai","Pg2_vbs_al","Pg2_vis_al","Pg2_vis_ap","Pg3-4_soh_Pg4","Pg3_pam_a","Pg3_pbd_a","Pg3_pbg_a","Pg3_pim_a","Pg3_sbs","Pg3_snc","Pg3_sns","Pg3_soc","Pg3_soi","Pg3_sol","Pg3_som","Pg3_sosma","Pg3_soss","Pg3_vas_ai","Pg3_vas_al","Pg3_vas_ap","Pg3_vbs_al","Pg3_vis_al","Pg4-N211_soc_Pg4","Pg4-N211_som_Pg4","Pg4-N211_somam_Pg4","Pg4-N211_somas_Pg4","Pg4-N211_soss_Pg4","Pg4-N211_sx_Pg4","Pg4_pam_a","Pg4_pbd_a","Pg4_pim_a","Pg4_pu_a","Pg4_sbs","Pg4_snc","Pg4_sns","Pg4_soc","Pg4_sod","Pg4_soi","Pg4_som","Pg4_sosma","Pg4_soss","Pg4_vaa_al","Pg4_vas_ai","Pg4_vas_al","Pg4_vas_ap","Pg4_vbs_al","Pg4_vis_ai","Pg4_vis_al","Q1-21_sb","Q1-21_sn","Q1-21_so","Q1-2_sol","Q1-H_v_af","Q11_vaa_al","Q11_vas_ai","Q11_vas_al","Q11_vas_ap","Q11_vba_al","Q11_vbs_al","Q11_via_al","Q11_vis_al","Q11_vis_ap","Q12-H_se","Q12_vas_ai","Q12_vas_al","Q12_vas_ap","Q12_vba_al","Q12_vbs_ai","Q12_vbs_al","Q12_vis_ai","Q12_vis_al","Q1_pbd_a","Q1_pim_a","Q22-H_sdd","Q22_sb","Q22_sn","Q22_so","Q22_std","Q2_v_ad","Q2_vas_ai","Q2_vas_al","Q2_vas_ap","Q2_vba_al","Q2_vbs_al","Q2_vis_ai","Q2_vis_al","Q2_vis_ap","Q31_ssd","Q31_std","Q31_vas_ap","Q31_vis_ap","Q32-33_ssd","Q32-33_std","Q32-H_sgd","Q32_vas_ap","Q32_vis_ap","Q33-H_sfd","Q33_vas_ap","Q3_sb","Q3_sn","Q3_sol","Q3_v_ad","Q3_vas_al","Q3_vba_al","Q3_vbs_al","Q3_via_al","Q3_vis_al","Tr1-21_sbc","Tr1-21_sbsm","Tr1-21_sbss","Tr1-21_sol","Tr1-21_som","Tr1-21_sosma","Tr1-21_soss","Tr1-32_mgama_mam","Tr1-32_mgmpe_mag","Tr1-32_mgmpe_mam","Tr1-32_mgnfe_mam","Tr1-32_mmgma_mam","Tr1-32_mscpe_mam","Tr1-32_msgca_mam","Tr1-32_msgma_mam","Tr1-32_msmpe_mam","Tr2-3_soss_Tr","Tr2-3_sx_Tr","Tr22-3_sbm","Tr22-3_sbsm","Tr22-3_sbss","Tr22-3_soc","Tr22-3_sol","Tr22-3_som","Tr22-3_sosma","Tr22-3_soss","Tr22-J31_mpyma_hc","Tr22-J31_mpype_hc","Tr22-J31_mrbs_hc","Tr22-J31_mrch_hc","Tr22-J31_mrga_hc","Tr22-J31_mrls_hc","Tr22-J31_mrpr_hc","Tr22-J31_mrps_hc","Tr22-J31_mscca_hc","Tr22-J31_mscfe_hc","Tr22-J31_mscma_hc","Tr22-J31_mscma_hg","Tr22-J31_mscpe_hc","Tr22-J31_mscpe_hg","Tr22-J31_mscps_hc","Tr22-J31_mscps_hg","Tr22-J31_mscsi_hc","Tr22-J31_mscsi_hg","Tr22-J31_msp_hc","Tr22-J31_msp_hg","Tr32-K211_soh_Ki","Tr_pam_a","Tr_pan_a","Tr_pim_a"],values:["#EE9800","#F49800","#00AF00","#00A500","#00AA00","#E29800","#0064E9","#0082E9","#00B400","#0078E9","#52A8AC","#3F7FFF","#004EFF","#4A84A8","#6DC26E","#ED7CAD","#7B5D9C","#75005C","#75005A","#34002A","#4B0011","#E24856","#750071","#970002","#B90000","#0048FF","#417FA4","#67BF6E","#EC74A8","#0833E1","#FF7D14","#137100","#0B7100","#107100","#177100","#1B0C00","#1C0D01","#0F2E00","#332900","#01265E","#FA5F14","#FF6114","#4103A3","#4608A8","#4F11B1","#DC9800","#00A000","#8CC8FF","#F4DFCA","#8CB4FF","#E6FFFF","#C8F0FA","#D2FAFF","#FFFF96","#F5FFE6","#E6F5DC","#D93332","#FFB6E6","#70658F","#9D5B1D","#CB4800","#6E5F3F","#66B4B6","#C8CF1E","#E9E01B","#7C8A87","#CF5299","#CF52AD","#900F8F","#970E6C","#D12843","#DC142F","#C38344","#A7E7A8","#C38342","#79A2CC","#91D083","#CFCC00","#6E6543","#6DB8BA","#C7D328","#EBE224","#848F8B","#6E6B47","#74BCBD","#C6D732","#EDE42D","#8B948F","#ABEBAC","#C78746","#7DA7D0","#97D38A","#D3CF00","#971212","#7835B4","#637775","#009A7A","#825EB2","#00B4E9","#FF9800","#0096E9","#784800","#00BE00","#FD9D00","#00A0E9","#8C4800","#00C300","#CB8B4C","#AFEFB0","#F3EF2F","#AFEFAF","#EBE929","#CB8B4A","#6E6E6E","#BEA873","#007EFF","#81ACD4","#9DD591","#D7D200","#00D200","#157100","#4D0FAF","#00BEE9","#437100","#2F406C","#D2BE15","#097100","#006EE1","#951393","#DC3050","#E31739","#CF8F50","#B3F3B4","#CF8F4F","#B3F3B3","#CF8F4E","#787878","#C3AC78","#0084FF","#8DB1DC","#A3D898","#DDD900","#6E714B","#7ABFC0","#88BA93","#C5DB3C","#EFE636","#939993","#EEA4BE","#477100","#427100","#407100","#567100","#006F00","#438DD7","#007100","#E25F14","#00406C","#0D406C","#05406C","#38406C","#0823E1","#4C00A0","#D2BE14","#082BE1","#0845E1","#826514","#127100","#087100","#227100","#0D7100","#147100","#0067AC","#428CD6","#1A237D","#026BE8","#006795","#D2BE1C","#D2BE36","#FC5F14","#F25F14","#FF6C14","#F75F14","#FE5F14","#438DD8","#480AAA","#3E00A0","#4305A5","#4A0CAC","#750053","#75007D","#75004F","#D34714","#6F2014","#4A4975","#750068","#201DE1","#75001E","#E2481C","#75000D","#CB7F14","#441DE1","#481DE1","#8300A0","#7F00A0","#D25E14","#5214B4","#5D1FBF","#D778A3","#9A1797","#A1116F","#E7385D","#EA1A43","#D39354","#B7F7B8","#F9F737","#D39353","#B7F7B7","#EDE937","#D39352","#038AFF","#8DB6DF","#17B2C8","#A9DA9F","#E1DC00","#F25202","#FFC24D","#FFD1FF","#6048AA","#877C5F","#D67824","#75004B","#FFF600","#FFEF00","#FFF200","#D34700","#D56103","#FFDA00","#FFDD00","#E24860","#E24882","#E24844","#750067","#FFCC15","#CD8102","#750002","#E24801","#1F1DE1","#EAD700","#750021","#75000C","#CB7F00","#7B00A0","#CC8001","#CD6600","#D25E00","#E2482C","#E2482F","#361DE2","#361CE1","#CE6701","#A9A79F","#6E774F","#81C3C4","#92C49D","#C4DF46","#F1E83F","#9A9D97","#F2AEC3","#95CFCE","#C1EB64","#F7EE5A","#B1ABA3","#DB8BA8","#DB8BBC","#9F1B9B","#A61370","#F2406A","#F11D4D","#D79758","#BBFBBC","#FCFB3B","#D79757","#7CB0CD","#BBFBBB","#EEE93E","#D79756","#8C8C8C","#0790FF","#8DBBE2","#AFDDA6","#E5DF00","#F25802","#FFC752","#FFD3FA","#A2318B","#8F7C5F","#D98121","#D7A760","#DD9BAD","#DF9BC1","#A41F9F","#AB1472","#F43F65","#F32152","#BFFFC0","#FFFF3F","#DB9B5B","#82B5CE","#BFFFBF","#EFE945","#DB9B5A","#8DC0E5","#B5DFAD","#E9E200","#F25E02","#FFCB56","#FFD5F6","#9E3D8B","#977C5F","#DC8A1E","#D9AB68","#3A126F","#7D39B9","#88C7C7","#F3EA48","#A2A29B","#B72222","#00DCE9","#8276DF","#C1F5AA","#A9DBD8","#BEF782","#FDF475","#C7B9AF","#FECCD2","#00E100","#C39637","#DAACC2","#BE33B3","#C41C79","#FB3F4F","#FC336B","#F3CF8B","#AAD5D6","#FFFA53","#E6CF8B","#A3D0D4","#F7DE53","#FFCF8B","#C8C8C8","#EECEA3","#AEE2FA","#D6ECD4","#FFF246","#F27E02","#FFE56E","#FFE1DD","#904981","#8B5DA6","#7E8CC8","#A27161","#BF8C1E","#C27A61","#EDBC0E","#D9AFC6","#C337B7","#C91D7A","#FC3F4B","#BDFF8C","#FFF67E","#D8B1CB","#C83BBB","#FD3F47","#B2DFDC","#FFFA82","#E6E2AC","#AFDAD6","#FBE282","#FFE2AC","#F8D6AD","#3BFFFF","#BAECFE","#3BFFD7","#E2F1E2","#FFF582","#F28A02","#FFEF77","#FFE6D3","#974F86","#B57DA6","#846BAF","#869ED0","#B07061","#C59B21","#D27962","#F3CE08","#ECCEA2","#E24873","#750077","#D7B4CF","#CD3FBF","#D3207D","#FE3F43","#F3E8AA","#FFFABE","#E6E8AA","#FFE6BE","#FFE8AA","#FFDCB4","#78FFFF","#C3F3FF","#78FFD7","#EBF5EC","#FFF799","#DEDF61","#F29302","#FFF67F","#FFE9CD","#9C538D","#B98AAC","#7F75B5","#8CABD6","#C9A623","#DE7863","#F7DB03","#F0D7AE","#BF0085","#BF049E","#8B0B8B","#880864","#A4080F","#C00408","#29126F","#0E2A77","#A36323","#0042FF","#397AA0","#EB6CA3","#7B5695","#FA9800","#008CE9","#00B900","#AF6F2F","#0054FF","#5489B0","#73C46E","#C4BD0A","#59ACAF","#CAC70A","#E5DC09","#6D817F","#E69AB9","#E89800","#B37333","#005AFF","#548EB4","#79C76E","#C7C00A","#EF8CB7","#00C800","#00AAE9","#B77737","#5793B8","#7FC96E","#CAC30A","#75007E","#870787","#8E0B68","#BB1829","#CE0C1B","#32126F","#7B64A3","#A04800","#00D700","#AF1E1E","#823DBE","#00DC00","#6E8F5F","#9CD3D1","#9CCEA7","#C0EF6E","#F9F063","#B8B0A7","#F6B8C8","#DEA1B1","#A923A3","#B01673","#F63F60","#F52557","#F3985A","#98BEC9","#F8DF23","#E6985A","#FF985A","#A0A0A0","#93C8EC","#BBE2B4","#EFE900","#F26402","#FFD05A","#FFD7F1","#9F7B60","#DF931B","#00D2E9","#75004D","#A80054","#9A000C","#E24881","#750066","#75006A","#16406C","#5500A0","#750020","#75000B","#FF792B","#FB522F","#FF5633","#FF2331","#826ED0","#DDA4B5","#AE27A7","#B51775","#F83F5C","#F39E72","#9CC3CC","#F3EA26","#E69E72","#8EBFD0","#F1D841","#FF9E72","#1DB4FF","#99CDEF","#C1E4BB","#F3EB0D","#F26A02","#FFD55F","#FFDAED","#984598","#706CBA","#E29C18","#DEB477","#F3B600","#DCA7BA","#B42BAB","#BA1976","#F93F58","#F3ED35","#E6AF85","#F3DA47","#FFAF85","#E1C496","#1DC8FF","#9FD2F2","#C7E6C2","#F7ED19","#F27002","#FFDA63","#FFDCE8","#7475BE","#E5A515","#6E9563","#A2D7D5","#A6D8B1","#BFF378","#FBF26C","#C0B5AB","#DBA9BE","#B92FAF","#FA3F53","#4A126F","#F3F044","#E6BE85","#F5DC4D","#FFBE85","#BEBEBE","#E6C89B","#A5D7F5","#CDE9C9","#FBEF28","#DEB95C","#F27502","#FFDE68","#FFDEE3","#787EC2","#B67B60","#E8AE12","#FFFFD2","#FFFFDC","#E6FFD2","#9BDCFF","#FFFADC","#DED266","#EB8504","#FFDD78","#FFEBC8","#B67BA3","#869DC8","#C19720","#F7C707","#ECCCA8","#FFE6FF","#E47706","#F9C270","#FFE2CD","#B36C99","#7F5191","#818FBA","#B35A38","#E7A100","#BF35C5","#FF3F3F","#C8E6DC","#DCFFB4","#DCFFBE","#BEFFBE","#DCFF64","#E6EBB4","#DD6908","#F29B76","#FFD9D2","#B05D90","#7B81AB","#9E4B23","#D59400","#E3B59C","#EBFFAA","#C8FF7A","#FFD0D7","#DEA996","#EBFA96","#C8FFAA","#F0FFC8","#FFC8DC","#DA9E90","#DCF0C8","#FFBFE1","#DCFFD2","#DCFFDC","#9BC8FF","#E6F0C8","#EB6161","#AD4E87","#76739D","#A86B17","#D07100","#BB7B3C","#9FDFA0","#E7DF1F","#0066FF","#6C98C0","#85CC75","#C5C913","#750059","#571300","#624400","#E2488D","#75006E","#624501","#4A1DE1","#750044","#634501","#E7DE12","#758683","#7896B1","#A3E3A4","#EAE323","#BF7F3E","#006CFF","#719DC4","#8BCE7C","#C8CC13","#027100","#5D769D","#007200","#E45F14","#02406C","#0825E1","#4100A0","#D2BE16","#082DE1","#FF7014","#0A7100","#0F7100","#5C759C","#3A4B7B","#D2BE1E","#D2BE23","#F45F14","#F95F14","#4002A2","#4507A7","#FBA200","#CB3F94","#CB3FA9","#C62036"],patterns:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"symbol",show:!1,expressions:[{key:"ser",name:"ser",value:"{ser}"},{key:"symbol",name:"symbol",value:"{symbol}"},{key:"",name:"",value:"{}"},{key:"r",name:"r",value:"{r}"},{key:"g",name:"g",value:"{g}"},{key:"b",name:"b",value:"{b}"},{key:"",name:"",value:"{}"},{key:"formationAge",name:"formationAge",value:"{formationAge}"},{key:"",name:"",value:"{}"},{key:"group",name:"group",value:"{group}"},{key:"",name:"",value:"{}"},{key:"lithology",name:"lithology",value:"{lithology}"}]}}},zee=Object.freeze(Object.defineProperty({__proto__:null,default:Oee},Symbol.toStringTag,{value:"Module"})),Hee={id:"hiroshima_tree_species",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://raw.githubusercontent.com/forestacdev/tiles-tree-species-hiroshima/main/tiles/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-hiroshima-maptiles",location:"",tags:[],minZoom:8,maxZoom:16,sourceLayer:"tree_species_hiroshima",bounds:IJ,xyzImageTile:{x:28450,y:13023,z:15},mapImage:`${ri}/hiroshima_tree_species.webp`},properties:{keys:["ID","","_ha","","","code","code","ID",""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c",pattern:null}},{type:"match",key:"",name:"",mapping:{categories:["","","","",""],values:["#33a02c","#b2df8a","#a6cee3","#b15928","#1f78b4"],patterns:[null,null,null,null,"tmpoly-line-vertical-down-light-200-black"]}},{type:"step",key:"_ha",name:"",mapping:{scheme:"RdPu",range:[0,9380],divisions:5}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"_ha",name:"",value:"{_ha} ha"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-padding":10}}}}},Qee=Object.freeze(Object.defineProperty({__proto__:null,default:Hee},Symbol.toStringTag,{value:"Module"})),jee={id:"hyogo_fr_mesh20m",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://rinya-hyogo.geospatial.jp/2023/rinya/tile/fr_mesh20m/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/fr_mesh20m_hyogo",location:"",tags:["",""],minZoom:13,maxZoom:16,sourceLayer:"fr_mesh20m_hyogo",bounds:[134.252809,34.156129,135.468591,35.674667],xyzImageTile:{x:57274,y:25978,z:16},center:[134.651168,34.897842],mapImage:`${ri}/hyogo_fr_mesh20m.webp`},properties:{keys:["ID","","ID","","_ha","","","","","","ha","","","","","","","","","","","code","code","ID","90",""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.7,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c"}},{...gp},{type:"step",key:"",name:"",mapping:{scheme:"RdPu",range:[1,50],divisions:5}}]},outline:{show:!0,color:"#000000",width:.1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"_ha",name:"_ha",value:"{_ha}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"ha",name:"ha",value:"{ha}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"},{key:"ID",name:"ID",value:"{ID}"},{key:"90",name:"90",value:"{90}"},{key:"",name:"",value:"{}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-anchor":"center","text-padding":10}}}}},Yee=Object.freeze(Object.defineProperty({__proto__:null,default:jee},Symbol.toStringTag,{value:"Module"})),Gee={id:"hyogo_tree_species",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://rinya-hyogo.geospatial.jp/2023/rinya/tile/tree_species/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/tree_species_hyogo",location:"",tags:["",""],minZoom:8,maxZoom:18,sourceLayer:"tree_species_hyogo",bounds:Wy,xyzImageTile:{x:14326,y:6487,z:14},center:[134.848807,35.043807],mapImage:`${ri}/hyogo_tree_species.webp`},properties:{keys:["ID","","ID","","_ha","","","code","code","ID","90","","","",""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c",pattern:null}},{...gp},{type:"step",key:"_ha",name:"",mapping:{scheme:"RdPu",range:[0,200],divisions:5}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"_ha",name:"",value:"{_ha} ha"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"},{key:"ID",name:"ID",value:"{ID}"},{key:"90",name:"90",value:"{90}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-padding":10}}}}},Vee=Object.freeze(Object.defineProperty({__proto__:null,default:Gee},Symbol.toStringTag,{value:"Module"})),Kee={id:"kanagawa_tree_species",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://raw.githubusercontent.com/forestacdev/tiles-tree-species-kanagawa/main/tiles/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/rinya-kanagawa-maptiles2",location:"",tags:[],minZoom:8,maxZoom:16,sourceLayer:"tree_species_kanagawa",bounds:Ud,xyzImageTile:{x:14521,y:6467,z:14},mapImage:`${ri}/kanagawa_tree_species.webp`},properties:{keys:["_ha","ID","","","","code","code"],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c",pattern:null}},{type:"match",key:"",name:"",mapping:{categories:["","","","","","L","","","","",""],values:["#33a02c","#b2df8a","#a6cee3","#1f78b4","#fdbf6f","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4"],patterns:[null,null,null,null,null,null,null,"tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-light-200-black"]},noData:{value:"transparent",pattern:null}},{type:"step",key:"_ha",name:"",mapping:{scheme:"RdPu",range:[0,5914],divisions:6}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"_ha",name:"_ha",value:"{_ha}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-padding":10}}}}},$ee=Object.freeze(Object.defineProperty({__proto__:null,default:Kee},Symbol.toStringTag,{value:"Module"})),Wee={id:"kochi_fr_mesh20m",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://rinya-kochi.geospatial.jp/2023/rinya/tile/fr_mesh20m/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/fr_mesh20m_kochi",location:"",tags:["",""],minZoom:13,maxZoom:16,sourceLayer:"fr_mesh20m_kochi",bounds:pp,xyzImageTile:{x:57075,y:26263,z:16},center:[133.49424,33.636878],mapImage:`${ri}/kochi_fr_mesh20m.webp`},properties:{keys:["ID","","ID","","_ha","","","","","","ha","","","","","","","","","","","code","code"],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.7,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c"}},{type:"match",key:"",name:"",mapping:{categories:["",""],values:["#33a02c","#b2df8a"],patterns:[null,null]},noData:{value:"transparent",pattern:null}},{type:"step",key:"",name:"",mapping:{scheme:"OrRd",range:[0,100],divisions:5}}]},outline:{show:!0,color:"#5f5f5f",width:.5,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"_ha",name:"_ha",value:"{_ha}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"ha",name:"ha",value:"{ha}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-variable-anchor":["top","bottom","left","right"],"text-radial-offset":.5,"text-justify":"auto"}}}}},qee=Object.freeze(Object.defineProperty({__proto__:null,default:Wee},Symbol.toStringTag,{value:"Module"})),Xee={id:"kochi_tree_species",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://rinya-kochi.geospatial.jp/2023/rinya/tile/tree_species/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/tree_species_kochi",location:"",tags:["",""],minZoom:8,maxZoom:18,sourceLayer:"tree_species_kochi",bounds:pp,xyzImageTile:{x:28533,y:13129,z:15},mapImage:`${ri}/kochi_tree_species.webp`},properties:{keys:["ID","","","","","","","","","","","","","","","","","","","","","",""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c",pattern:null}},{...gp},{type:"step",key:"_ha",name:"",mapping:{scheme:"RdPu",range:[0,200],divisions:5}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-padding":10}}}}},Jee=Object.freeze(Object.defineProperty({__proto__:null,default:Xee},Symbol.toStringTag,{value:"Module"})),Zee={id:"national_forest_stand",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://forestacdev.github.io/tiles-national-forest-stand/tiles/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",description:"GIS",downloadUrl:"https://www.geospatial.jp/ckan/dataset/a45",location:"",tags:["",""],minZoom:8,maxZoom:14,sourceLayer:"national_forest_stand",bounds:Bs,xyzImageTile:{x:3626,y:1598,z:12},mapImage:`${ri}/national_forest_stand.webp`},properties:{keys:["ID","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],titles:[{conditions:[""],template:" {}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#b2df8a",pattern:null}},{type:"match",key:"",name:"",mapping:{categories:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],values:["#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928","#33a02c","#b2df8a","#a6cee3","#1f78b4","#fb9a99","#e31a1c","#fdbf6f","#ffff99","#cab2d6","#6a3d9a","#ff7f00","#b15928"],patterns:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},noData:{category:"",value:"#F7F7F7",pattern:null}},{type:"step",key:"",name:"",mapping:{scheme:"RdPu",range:[0,5e3],divisions:9}},{type:"step",key:"",name:"",mapping:{scheme:"RdPu",range:[0,100],divisions:9}},{type:"step",key:"",name:"",mapping:{scheme:"RdPu",range:[0,200],divisions:9}},{type:"step",key:"",name:"",mapping:{scheme:"BuGn",range:[0,200],divisions:9}},{type:"step",key:"",name:"",mapping:{scheme:"BuGn",range:[0,415],divisions:9}}]},outline:{show:!0,minZoom:11,color:"#ebebeb",width:.5,lineStyle:"dashed"},labels:{key:"",show:!0,minZoom:12,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{} m3"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["concat",["get",""],""]]},{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["concat",["get",""],""]]},{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["concat",["get",""],""]]},{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["concat",["get",""],""]]},{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["concat",["get",""],""]]},{key:"",name:"",value:["case",["!",["has",""]],"",["==",["get",""],""],"",["concat",["get",""],""]]},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{} ha"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"}]}}},ete=Object.freeze(Object.defineProperty({__proto__:null,default:Zee},Symbol.toStringTag,{value:"Module"})),tte={id:"plateau_lod2_mvt",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://indigo-lab.github.io/plateau-lod2-mvt/{z}/{x}/{y}.pbf"},metaData:{name:"3D 23 LOD2",attribution:"PLATEAU",downloadUrl:"https://github.com/indigo-lab/plateau-lod2-mvt?tab=readme-ov-file",description:"plateau-lod2-mvt by indigo-lab ( Project PLATEAU )",location:"",tags:[""],minZoom:10,maxZoom:16,sourceLayer:"bldg",bounds:BJ,xyzImageTile:{x:29099,y:12902,z:15},mapImage:`${ri}/plateau_lod2_mvt.webp`},properties:{keys:[],titles:[{conditions:[],template:"3D 23 LOD2"}]},interaction:{clickable:!1},style:{type:"fill",opacity:1,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#a6cee3",pattern:null}},{type:"step",key:"z",name:"",mapping:{scheme:"YlOrRd",range:[0,100],divisions:5}}]},extrusion:{show:!0,height:{key:"z",expressions:[{type:"single",key:"single",name:"",mapping:{value:30}},{type:"raw",key:"z",name:"",mapping:{expression:["*",["get","z"],1]}}]}},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"z",show:!1,expressions:[{key:"z",name:"",value:"{z} m"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-padding":10}}}}},nte=Object.freeze(Object.defineProperty({__proto__:null,default:tte},Symbol.toStringTag,{value:"Module"})),rte={id:"tochigi_fr_mesh20m",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://rinya-tochigi.geospatial.jp/2023/rinya/tile/fr_mesh20m/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/fr_mesh20m_tochigi",location:"",tags:["",""],minZoom:13,maxZoom:16,sourceLayer:"fr_mesh20m_tochigi",bounds:Fd,xyzImageTile:{x:58224,y:25564,z:16},center:[139.833104,36.723743],mapImage:`${ri}/tochigi_fr_mesh20m.webp`},properties:{keys:["ID","","ID","","_ha","","","","","","","code","code","ID","","","Shape_Length","Shape_Area"],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.7,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#33a02c",pattern:null}},{...gp},{type:"step",key:"",name:"",mapping:{scheme:"BuGn",range:[0,500],divisions:5}}]},outline:{show:!0,color:"#000000",width:.1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"_ha",name:"_ha",value:"{_ha}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"Shape_Length",name:"Shape_Length",value:"{Shape_Length}"},{key:"Shape_Area",name:"Shape_Area",value:"{Shape_Area}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-anchor":"center","text-padding":10}}}}},ite=Object.freeze(Object.defineProperty({__proto__:null,default:rte},Symbol.toStringTag,{value:"Module"})),ste={id:"tochigi_tree_species",type:"vector",format:{type:"mvt",geometryType:"Polygon",url:"https://rinya-tochigi.geospatial.jp/2023/rinya/tile/tree_species/{z}/{x}/{y}.pbf"},metaData:{name:" ",attribution:"",downloadUrl:"https://www.geospatial.jp/ckan/dataset/tree_species_tochigi",location:"",tags:["",""],minZoom:8,maxZoom:18,sourceLayer:"tree_species_tochigi",bounds:Fd,xyzImageTile:{x:29096,y:12791,z:15},mapImage:`${ri}/tochigi_tree_species.webp`},properties:{keys:["ID","","ID","","_ha","","","code","code",""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#349f1c",pattern:null}},{...gp},{type:"step",key:"_ha",name:"",mapping:{scheme:"BuGn",range:[0,200],divisions:5}}]},outline:{show:!1,color:"#000000",width:1,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"_ha",name:"",value:"{_ha} ha"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"code",name:"code",value:"{code}"},{key:"code",name:"code",value:"{code}"},{key:"",name:"",value:"{}"}]},default:{symbol:{paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-max-width":12,"text-size":12,"text-padding":10}}}}},ate=Object.freeze(Object.defineProperty({__proto__:null,default:ste},Symbol.toStringTag,{value:"Module"})),ote={id:"national_forest_road",type:"vector",format:{type:"pmtiles",geometryType:"LineString",url:"https://forestacdev.github.io/tiles-national-forest-road/national_forest_road.pmtiles"},metaData:{name:" ",attribution:"",description:"GIS",location:"",tags:["",""],bounds:Bs,maxZoom:14,minZoom:0,sourceLayer:"national_forest_road",xyzImageTile:{x:3613,y:1612,z:12},downloadUrl:"https://www.geospatial.jp/ckan/dataset/a45",mapImage:`${ri}/national_forest_road.webp`},properties:{keys:[""],titles:[]},interaction:{clickable:!1},style:{type:"line",opacity:.5,colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#def06e"}}]},width:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:5}}]},lineStyle:"solid",labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{}"}]},default:{symbol:{paint:{},layout:{"text-size":10,"symbol-placement":"line","symbol-spacing":100}}}}},lte=Object.freeze(Object.defineProperty({__proto__:null,default:ote},Symbol.toStringTag,{value:"Module"})),cte={id:"fac_phenology_2020",type:"vector",format:{type:"pmtiles",geometryType:"Point",url:`${Id}/fac_phenology_2020.pmtiles`},metaData:{name:" 2020",description:"",attribution:"",location:"",sourceLayer:"fac_phenology_2020",minZoom:10,maxZoom:18,tags:[""],bounds:[136.918075,35.554408,136.9268,35.558411],coverImage:`${D0}/fac_phenology_2020.webp`,mapImage:`${ri}/fac_phenology_2020.webp`,xyzImageTile:{x:230773,y:103338,z:18}},properties:{keys:[""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:"_2020"}]},interaction:{clickable:!0},style:{type:"circle",opacity:.7,markerType:"circle",colors:{show:!0,key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:"#33ec00"}}]},radius:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:8}}]},outline:{show:!0,color:"#ffffff",width:2},labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{}"}]},default:{circle:{paint:{},layout:{}},symbol:{paint:{},layout:{}},heatmap:{paint:{},layout:{}}}}},Ate=Object.freeze(Object.defineProperty({__proto__:null,default:cte},Symbol.toStringTag,{value:"Module"}));var ute={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]};function fte(n,e,t){return n*(1-t)+e*t}var hte=fte,SC=ute,b_=hte,dte=gte;function gte(n){var e,t,r,i,s,a,o,l,h,c,A;if(n||(n={}),l=(n.nshades||72)-1,o=n.format||"hex",a=n.colormap,a||(a="jet"),typeof a=="string"){if(a=a.toLowerCase(),!SC[a])throw Error(a+" not a supported colorscale");s=SC[a]}else if(Array.isArray(a))s=a.slice();else throw Error("unsupported colormap option",a);if(s.length>l+1)throw new Error(a+" map requires nshades to be at least size "+s.length);Array.isArray(n.alpha)?n.alpha.length!==2?c=[1,1]:c=n.alpha.slice():typeof n.alpha=="number"?c=[n.alpha,n.alpha]:c=[1,1],e=s.map(function(g){return Math.round(g.index*l)}),c[0]=Math.min(Math.max(c[0],0),1),c[1]=Math.min(Math.max(c[1],0),1);var u=s.map(function(g,_){var m=s[_].index,y=s[_].rgb.slice();return y.length===4&&y[3]>=0&&y[3]<=1||(y[3]=c[0]+(c[1]-c[0])*m),y}),h=[];for(A=0;A<e.length-1;++A){i=e[A+1]-e[A],t=u[A],r=u[A+1];for(var f=0;f<i;f++){var d=f/i;h.push([Math.round(b_(t[0],r[0],d)),Math.round(b_(t[1],r[1],d)),Math.round(b_(t[2],r[2],d)),b_(t[3],r[3],d)])}}return h.push(s[s.length-1].rgb.concat(c[1])),o==="hex"?h=h.map(_te):o==="rgbaString"?h=h.map(mte):o==="float"&&(h=h.map(pte)),h}function pte(n){return[n[0]/255,n[1]/255,n[2]/255,n[3]]}function _te(n){for(var e,t="#",r=0;r<3;++r)e=n[r],e=e.toString(16),t+=("00"+e).substr(e.length);return t}function mte(n){return"rgba("+n.join(",")+")"}const v_=Z1(dte),MD={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}},yte=["Blues","Greens","Greys","Oranges","Purples","Reds"],bte=["BuGn","BuPu","GnBu","OrRd","PuBu","PuBuGn","PuRd","RdPu","YlGn","YlGnBu","YlOrBr","YlOrRd"],vte={sequential:{9:[...yte,...bte]}},kg=(n,e)=>MD[n][e],SD=(n="Set1")=>{const e=MD[n][8],t=Math.floor(Math.random()*e.length);return e[t]},Tx=n=>{const{range:e,divisions:t,scheme:r}=n,[i,s]=e,a=s-i,o=a>=100?0:a>=10?1:a>=1?2:3,l=Array.from({length:t},(A,u)=>{const h=u/(t-1),f=i+(s-i)*h;return Number(f.toFixed(o))}),c=kg(r,t);return{categories:l,values:c}},FD=n=>{const e=100/n.length;return`linear-gradient(to right, ${n.flatMap((r,i)=>{const s=e*i,a=e*(i+1);return`${r} ${s}%, ${r} ${a}%`}).join(", ")})`},wte=(n,e,t)=>{n=n/360,e=e/100,t=t/100;const r=(o,l,c)=>(c<0&&(c+=1),c>1&&(c-=1),c<1/6?o+(l-o)*6*c:c<1/2?l:c<2/3?o+(l-o)*(2/3-c)*6:o);let i,s,a;if(e===0)i=s=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=r(l,o,n+1/3),s=r(l,o,n),a=r(l,o,n-1/3)}return{r:Math.round(i*255),g:Math.round(s*255),b:Math.round(a*255)}},Lte=n=>{const e=[];for(let t=0;t<n;t++){const r=360/n*t,a=wte(r,70,50),o=`#${a.r.toString(16).padStart(2,"0")}${a.g.toString(16).padStart(2,"0")}${a.b.toString(16).padStart(2,"0")}`;e.push(o)}return e};class _p{constructor(){z(this,"cache");this.cache=new Map}createColorArray(e){const t=`${e}`;if(this.has(t))return this.get(t);const r=256,i=new Uint8Array(r*3);let a=v_({colormap:e,nshades:r,format:"rgb",alpha:1}),o=0;for(let l=0;l<r;l++){const c=a[l];i[o++]=c[0],i[o++]=c[1],i[o++]=c[2]}return this.cache.set(t,i),i}createSimpleCSSGradient(e,t=30,r="to right"){let s=v_({colormap:e,nshades:t,format:"hex",alpha:1});return`linear-gradient(${r}, ${s.join(", ")})`}getMinColor(e,t="hex"){return v_({colormap:e,nshades:16,format:t,alpha:1})[0]}getMaxColor(e,t="hex"){const i=v_({colormap:e,nshades:16,format:t,alpha:1});return i[i.length-1]}add(e,t){this.cache.set(e,t)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}}const xte={id:"tokyo_gairoju",type:"vector",format:{type:"pmtiles",geometryType:"Point",url:`${Id}/tokyo_gairoju.pmtiles`},metaData:{name:"23 ",sourceDataName:"",description:`
            `,attribution:"",tags:["",""],downloadUrl:"https://catalog.data.metro.tokyo.lg.jp/dataset/t000014d2000000029",location:"",minZoom:7,maxZoom:14,sourceLayer:"tokyo_gairoju",bounds:[139.5658198,35.5473344,139.9092201,35.8170772],xyzImageTile:{x:14552,y:6452,z:14}},properties:{keys:["","","(m)","(m)","(cm","","","","","","",""],titles:[{conditions:[""],template:"{}"},{conditions:[],template:" 23"}]},interaction:{clickable:!0},style:{type:"circle",opacity:.7,markerType:"circle",colors:{key:"(m)",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#33a02c"}},{type:"step",key:"(m)",name:"",mapping:{scheme:"YlGn",range:[0,10],divisions:5}},{type:"match",key:"",name:"",mapping:{categories:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","/","","","","","","","","","//","///","","","","","","////","","","","","","","","","/","","","////","","//","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","sp.","","","","","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],values:Lte(405)},noData:{category:"",value:"#F7F7F7",pattern:null}}]},radius:{key:"",expressions:[{type:"single",key:"",name:"",mapping:{value:8}}]},outline:{show:!0,color:"#FFFFFF",width:2},labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"(m)",name:"",value:"{(m)} m"},{key:"(m)",name:"",value:"{(m)} m"},{key:"(cm",name:"",value:"{(cm} cm"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"}]}}},Rte=Object.freeze(Object.defineProperty({__proto__:null,default:xte},Symbol.toStringTag,{value:"Module"})),Bte={id:"gifu_sugi_kansetugai",type:"vector",format:{type:"pmtiles",geometryType:"Polygon",url:`${Id}/gifu_sugi_kansetugai.pmtiles`},metaData:{name:" ",description:"",downloadUrl:"https://www.forest.rd.pref.gifu.lg.jp/shiyou/kansetsugaimap.html",attribution:"",tags:[""],location:"",xyzImageTile:{x:901,y:403,z:10},maxZoom:14,minZoom:1,sourceLayer:"gifu_sugi_kansetugai",bounds:[136.275,35.13333333333333,137.6625,36.46666666666667],mapImage:`${ri}/gifu_sugi_kansetugai.webp`},properties:{keys:["code","20",""],titles:[{conditions:[],template:""}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"20",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#ff7f00"}},{type:"match",key:"20",name:"20",mapping:{categories:["0","1~2","3~5","6~10","1115","16~20","21"],values:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],patterns:[null,null,null,null,null,null,null]}}]},outline:{show:!1,color:"#444444",minZoom:7,width:.5,lineStyle:"solid"},labels:{key:"20",show:!1,expressions:[{key:"code",name:"code",value:"{code}"},{key:"20",name:"20",value:"{20}"},{key:"",name:"",value:"{}"}]}}},Ete=Object.freeze(Object.defineProperty({__proto__:null,default:Bte},Symbol.toStringTag,{value:"Module"})),Cte={id:"ksj_tmplt_a15",type:"vector",format:{type:"pmtiles",geometryType:"Polygon",url:`${Id}/ksj_tmplt_a15.pmtiles`},metaData:{name:"",description:"2015",attribution:"",downloadUrl:"https://nlftp.mlit.go.jp/ksj/gml/datalist/KsjTmplt-A15.html",location:"",maxZoom:14,minZoom:1,tags:[""],sourceLayer:"ksj_tmplt_a15",bounds:[123.00744367,24.19197,153.99083742,45.45090445],xyzImageTile:{x:903,y:400,z:10},mapImage:`${ri}/ksj_tmplt_a15.webp`},properties:{keys:["","","","","","","ID","","",""],titles:[{conditions:["",""],template:"{} {}"}]},interaction:{clickable:!0},style:{type:"fill",opacity:.5,colors:{key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:"#33f543"}},{type:"match",key:"",name:"",mapping:{categories:["","","",""],values:["#f55b23","#f5d133","#00b4fb","#50e3c2"],patterns:[null,null,null,null]}}]},outline:{show:!0,color:"#444444",width:.5,lineStyle:"solid"},labels:{key:"",show:!1,expressions:[{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"ID",name:"ID",value:"{ID}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"},{key:"",name:"",value:"{}"}]}}},Ite=Object.freeze(Object.defineProperty({__proto__:null,default:Cte},Symbol.toStringTag,{value:"Module"})),Mx=(n,e)=>{var r;const t=(r=e.find(({conditions:i})=>i.every(s=>n[s]!==void 0)))==null?void 0:r.template;return t?t.replace(/\{([^}]+)\}/g,(i,s)=>n[s]!==void 0?n[s]:`{${s}}`):""},Tte=n=>{const e=new Set;return n.features.forEach(t=>{t.properties&&Object.keys(t.properties).forEach(r=>{e.add(r)})}),Array.from(e)},R2=4,B2=4,mp=4,RA=new Int32Array(2),FC=new Float32Array(RA.buffer),UC=new Float64Array(RA.buffer),w_=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var u7;(function(n){n[n.UTF8_BYTES=1]="UTF8_BYTES",n[n.UTF16_STRING=2]="UTF16_STRING"})(u7||(u7={}));class j0{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new j0(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return RA[0]=this.readInt32(e),FC[0]}readFloat64(e){return RA[w_?0:1]=this.readInt32(e),RA[w_?1:0]=this.readInt32(e+4),UC[0]}writeInt8(e,t){this.bytes_[e]=t}writeUint8(e,t){this.bytes_[e]=t}writeInt16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeUint16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeInt32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeUint32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeInt64(e,t){this.writeInt32(e,Number(BigInt.asIntN(32,t))),this.writeInt32(e+4,Number(BigInt.asIntN(32,t>>BigInt(32))))}writeUint64(e,t){this.writeUint32(e,Number(BigInt.asUintN(32,t))),this.writeUint32(e+4,Number(BigInt.asUintN(32,t>>BigInt(32))))}writeFloat32(e,t){FC[0]=t,this.writeInt32(e,RA[0])}writeFloat64(e,t){UC[0]=t,this.writeInt32(e,RA[w_?0:1]),this.writeInt32(e+4,RA[w_?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+R2+B2)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let t=0;t<B2;t++)e+=String.fromCharCode(this.readInt8(this.position_+R2+t));return e}__offset(e,t){const r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0}__union(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e}__string(e,t){e+=this.readInt32(e);const r=this.readInt32(e);e+=R2;const i=this.bytes_.subarray(e,e+r);return t===u7.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+R2}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=B2)throw new Error("FlatBuffers: file identifier must be length "+B2);for(let t=0;t<B2;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+R2+t))return!1;return!0}createScalarList(e,t){const r=[];for(let i=0;i<t;++i){const s=e(i);s!==null&&r.push(s)}return r}createObjList(e,t){const r=[];for(let i=0;i<t;++i){const s=e(i);s!==null&&r.push(s.unpack())}return r}}const Sx=new Uint8Array(0);function Mte(){return this._source.cancel()}function Ste(n,e){if(!n.length)return e;if(!e.length)return n;var t=new Uint8Array(n.length+e.length);return t.set(n),t.set(e,n.length),t}function Fte(){var n=this,e=n._array.subarray(n._index);return n._source.read().then(function(t){return n._array=Sx,n._index=0,t.done?e.length>0?{done:!1,value:e}:{done:!0,value:void 0}:{done:!1,value:Ste(e,t.value)}})}function Ute(n){if((n|=0)<0)throw new Error("invalid length");var e=this,t=this._array.length-this._index;if(this._index+n<=this._array.length)return Promise.resolve(this._array.subarray(this._index,this._index+=n));var r=new Uint8Array(n);return r.set(this._array.subarray(this._index)),function i(){return e._source.read().then(function(s){return s.done?(e._array=Sx,e._index=0,t>0?r.subarray(0,t):null):t+s.value.length>=n?(e._array=s.value,e._index=n-t,r.set(s.value.subarray(0,n-t),t),r):(r.set(s.value,t),t+=s.value.length,i())})}()}function Fx(n){return typeof n.slice=="function"?n:new qy(typeof n.read=="function"?n:n.getReader())}function qy(n){this._source=n,this._array=Sx,this._index=0}qy.prototype.read=Fte;qy.prototype.slice=Ute;qy.prototype.cancel=Mte;var fr,Us=((fr={})[fr.Byte=0]="Byte",fr[fr.UByte=1]="UByte",fr[fr.Bool=2]="Bool",fr[fr.Short=3]="Short",fr[fr.UShort=4]="UShort",fr[fr.Int=5]="Int",fr[fr.UInt=6]="UInt",fr[fr.Long=7]="Long",fr[fr.ULong=8]="ULong",fr[fr.Float=9]="Float",fr[fr.Double=10]="Double",fr[fr.String=11]="String",fr[fr.Json=12]="Json",fr[fr.DateTime=13]="DateTime",fr[fr.Binary=14]="Binary",fr);class ws{constructor(){z(this,"bb",null);z(this,"bb_pos",0)}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsColumn(e,t){return(t||new ws).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsColumn(e,t){return e.setPosition(e.position()+mp),(t||new ws).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Us.Byte}title(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}description(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null}width(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt32(this.bb_pos+e):-1}precision(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt32(this.bb_pos+e):-1}scale(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt32(this.bb_pos+e):-1}nullable(){let e=this.bb.__offset(this.bb_pos,18);return!e||!!this.bb.readInt8(this.bb_pos+e)}unique(){let e=this.bb.__offset(this.bb_pos,20);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}primaryKey(){let e=this.bb.__offset(this.bb_pos,22);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}metadata(e){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__string(this.bb_pos+t,e):null}static startColumn(e){e.startObject(11)}static addName(e,t){e.addFieldOffset(0,t,0)}static addType(e,t){e.addFieldInt8(1,t,Us.Byte)}static addTitle(e,t){e.addFieldOffset(2,t,0)}static addDescription(e,t){e.addFieldOffset(3,t,0)}static addWidth(e,t){e.addFieldInt32(4,t,-1)}static addPrecision(e,t){e.addFieldInt32(5,t,-1)}static addScale(e,t){e.addFieldInt32(6,t,-1)}static addNullable(e,t){e.addFieldInt8(7,+t,1)}static addUnique(e,t){e.addFieldInt8(8,+t,0)}static addPrimaryKey(e,t){e.addFieldInt8(9,+t,0)}static addMetadata(e,t){e.addFieldOffset(10,t,0)}static endColumn(e){let t=e.endObject();return e.requiredField(t,4),t}static createColumn(e,t,r,i,s,a,o,l,c,A,u,h){return ws.startColumn(e),ws.addName(e,t),ws.addType(e,r),ws.addTitle(e,i),ws.addDescription(e,s),ws.addWidth(e,a),ws.addPrecision(e,o),ws.addScale(e,l),ws.addNullable(e,c),ws.addUnique(e,A),ws.addPrimaryKey(e,u),ws.addMetadata(e,h),ws.endColumn(e)}}class No{constructor(){z(this,"bb",null);z(this,"bb_pos",0)}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsCrs(e,t){return(t||new No).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsCrs(e,t){return e.setPosition(e.position()+mp),(t||new No).__init(e.readInt32(e.position())+e.position(),e)}org(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}code(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}name(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}description(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null}wkt(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null}codeString(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}static startCrs(e){e.startObject(6)}static addOrg(e,t){e.addFieldOffset(0,t,0)}static addCode(e,t){e.addFieldInt32(1,t,0)}static addName(e,t){e.addFieldOffset(2,t,0)}static addDescription(e,t){e.addFieldOffset(3,t,0)}static addWkt(e,t){e.addFieldOffset(4,t,0)}static addCodeString(e,t){e.addFieldOffset(5,t,0)}static endCrs(e){return e.endObject()}static createCrs(e,t,r,i,s,a,o){return No.startCrs(e),No.addOrg(e,t),No.addCode(e,r),No.addName(e,i),No.addDescription(e,s),No.addWkt(e,a),No.addCodeString(e,o),No.endCrs(e)}}var zn,$s=((zn={})[zn.Unknown=0]="Unknown",zn[zn.Point=1]="Point",zn[zn.LineString=2]="LineString",zn[zn.Polygon=3]="Polygon",zn[zn.MultiPoint=4]="MultiPoint",zn[zn.MultiLineString=5]="MultiLineString",zn[zn.MultiPolygon=6]="MultiPolygon",zn[zn.GeometryCollection=7]="GeometryCollection",zn[zn.CircularString=8]="CircularString",zn[zn.CompoundCurve=9]="CompoundCurve",zn[zn.CurvePolygon=10]="CurvePolygon",zn[zn.MultiCurve=11]="MultiCurve",zn[zn.MultiSurface=12]="MultiSurface",zn[zn.Curve=13]="Curve",zn[zn.Surface=14]="Surface",zn[zn.PolyhedralSurface=15]="PolyhedralSurface",zn[zn.TIN=16]="TIN",zn[zn.Triangle=17]="Triangle",zn);let Nte=class f7{constructor(){z(this,"bb",null);z(this,"bb_pos",0)}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsHeader(e,t){return(t||new f7).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsHeader(e,t){return e.setPosition(e.position()+mp),(t||new f7).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}envelope(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat64(this.bb.__vector(this.bb_pos+t)+8*e):0}envelopeLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}envelopeArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}geometryType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):$s.Unknown}hasZ(){let e=this.bb.__offset(this.bb_pos,10);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}hasM(){let e=this.bb.__offset(this.bb_pos,12);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}hasT(){let e=this.bb.__offset(this.bb_pos,14);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}hasTm(){let e=this.bb.__offset(this.bb_pos,16);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}columns(e,t){let r=this.bb.__offset(this.bb_pos,18);return r?(t||new ws).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}columnsLength(){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0}featuresCount(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readUint64(this.bb_pos+e):BigInt("0")}indexNodeSize(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.readUint16(this.bb_pos+e):16}crs(e){let t=this.bb.__offset(this.bb_pos,24);return t?(e||new No).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}title(e){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__string(this.bb_pos+t,e):null}description(e){let t=this.bb.__offset(this.bb_pos,28);return t?this.bb.__string(this.bb_pos+t,e):null}metadata(e){let t=this.bb.__offset(this.bb_pos,30);return t?this.bb.__string(this.bb_pos+t,e):null}static startHeader(e){e.startObject(14)}static addName(e,t){e.addFieldOffset(0,t,0)}static addEnvelope(e,t){e.addFieldOffset(1,t,0)}static createEnvelopeVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addFloat64(t[r]);return e.endVector()}static startEnvelopeVector(e,t){e.startVector(8,t,8)}static addGeometryType(e,t){e.addFieldInt8(2,t,$s.Unknown)}static addHasZ(e,t){e.addFieldInt8(3,+t,0)}static addHasM(e,t){e.addFieldInt8(4,+t,0)}static addHasT(e,t){e.addFieldInt8(5,+t,0)}static addHasTm(e,t){e.addFieldInt8(6,+t,0)}static addColumns(e,t){e.addFieldOffset(7,t,0)}static createColumnsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startColumnsVector(e,t){e.startVector(4,t,4)}static addFeaturesCount(e,t){e.addFieldInt64(8,t,BigInt("0"))}static addIndexNodeSize(e,t){e.addFieldInt16(9,t,16)}static addCrs(e,t){e.addFieldOffset(10,t,0)}static addTitle(e,t){e.addFieldOffset(11,t,0)}static addDescription(e,t){e.addFieldOffset(12,t,0)}static addMetadata(e,t){e.addFieldOffset(13,t,0)}static endHeader(e){return e.endObject()}static finishHeaderBuffer(e,t){e.finish(t)}static finishSizePrefixedHeaderBuffer(e,t){e.finish(t,void 0,!0)}},kte=class Ia{constructor(){z(this,"bb",null);z(this,"bb_pos",0)}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsGeometry(e,t){return(t||new Ia).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsGeometry(e,t){return e.setPosition(e.position()+mp),(t||new Ia).__init(e.readInt32(e.position())+e.position(),e)}ends(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb.__vector(this.bb_pos+t)+4*e):0}endsLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}endsArray(){let e=this.bb.__offset(this.bb_pos,4);return e?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}xy(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat64(this.bb.__vector(this.bb_pos+t)+8*e):0}xyLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}xyArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}z(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat64(this.bb.__vector(this.bb_pos+t)+8*e):0}zLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}zArray(){let e=this.bb.__offset(this.bb_pos,8);return e?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}m(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readFloat64(this.bb.__vector(this.bb_pos+t)+8*e):0}mLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}mArray(){let e=this.bb.__offset(this.bb_pos,10);return e?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}t(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readFloat64(this.bb.__vector(this.bb_pos+t)+8*e):0}tLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}tArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}tm(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readUint64(this.bb.__vector(this.bb_pos+t)+8*e):BigInt(0)}tmLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}type(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readUint8(this.bb_pos+e):$s.Unknown}parts(e,t){let r=this.bb.__offset(this.bb_pos,18);return r?(t||new Ia).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}partsLength(){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0}static startGeometry(e){e.startObject(8)}static addEnds(e,t){e.addFieldOffset(0,t,0)}static createEndsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startEndsVector(e,t){e.startVector(4,t,4)}static addXy(e,t){e.addFieldOffset(1,t,0)}static createXyVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addFloat64(t[r]);return e.endVector()}static startXyVector(e,t){e.startVector(8,t,8)}static addZ(e,t){e.addFieldOffset(2,t,0)}static createZVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addFloat64(t[r]);return e.endVector()}static startZVector(e,t){e.startVector(8,t,8)}static addM(e,t){e.addFieldOffset(3,t,0)}static createMVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addFloat64(t[r]);return e.endVector()}static startMVector(e,t){e.startVector(8,t,8)}static addT(e,t){e.addFieldOffset(4,t,0)}static createTVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addFloat64(t[r]);return e.endVector()}static startTVector(e,t){e.startVector(8,t,8)}static addTm(e,t){e.addFieldOffset(5,t,0)}static createTmVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startTmVector(e,t){e.startVector(8,t,8)}static addType(e,t){e.addFieldInt8(6,t,$s.Unknown)}static addParts(e,t){e.addFieldOffset(7,t,0)}static createPartsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startPartsVector(e,t){e.startVector(4,t,4)}static endGeometry(e){return e.endObject()}static createGeometry(e,t,r,i,s,a,o,l,c){return Ia.startGeometry(e),Ia.addEnds(e,t),Ia.addXy(e,r),Ia.addZ(e,i),Ia.addM(e,s),Ia.addT(e,a),Ia.addTm(e,o),Ia.addType(e,l),Ia.addParts(e,c),Ia.endGeometry(e)}};class El{constructor(){z(this,"bb",null);z(this,"bb_pos",0)}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFeature(e,t){return(t||new El).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFeature(e,t){return e.setPosition(e.position()+mp),(t||new El).__init(e.readInt32(e.position())+e.position(),e)}geometry(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new kte).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}properties(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0}propertiesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}propertiesArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}columns(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new ws).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}columnsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFeature(e){e.startObject(3)}static addGeometry(e,t){e.addFieldOffset(0,t,0)}static addProperties(e,t){e.addFieldOffset(1,t,0)}static createPropertiesVector(e,t){e.startVector(1,t.length,1);for(let r=t.length-1;r>=0;r--)e.addInt8(t[r]);return e.endVector()}static startPropertiesVector(e,t){e.startVector(1,t,1)}static addColumns(e,t){e.addFieldOffset(2,t,0)}static createColumnsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startColumnsVector(e,t){e.startVector(4,t,4)}static endFeature(e){return e.endObject()}static finishFeatureBuffer(e,t){e.finish(t)}static finishSizePrefixedFeatureBuffer(e,t){e.finish(t,void 0,!0)}static createFeature(e,t,r,i){return El.startFeature(e),El.addGeometry(e,t),El.addProperties(e,r),El.addColumns(e,i),El.endFeature(e)}}function Ux(n){let e=Nte.getRootAsHeader(n),t=e.featuresCount(),r=e.indexNodeSize(),i=[];for(let o=0;o<e.columnsLength();o++){let l=e.columns(o);if(!l)throw Error("Column unexpectedly missing");if(!l.name())throw Error("Column name unexpectedly missing");i.push({name:l.name(),type:l.type(),title:l.title(),description:l.description(),width:l.width(),precision:l.precision(),scale:l.scale(),nullable:l.nullable(),unique:l.unique(),primary_key:l.primaryKey()})}let s=e.crs(),a=s?{org:s.org(),code:s.code(),name:s.name(),description:s.description(),wkt:s.wkt(),code_string:s.codeString()}:null;return{geometryType:e.geometryType(),columns:i,envelope:null,featuresCount:Number(t),indexNodeSize:r,crs:a,title:e.title(),description:e.description(),metadata:e.metadata()}}const A1=new Uint8Array([102,103,98,3,102,103,98,0]),I0=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var h7=function(n,e){return h7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},h7(n,e)};function Pte(n,e){h7(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function cd(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(A){try{c(r.next(A))}catch(u){a(u)}}function l(A){try{c(r.throw(A))}catch(u){a(u)}}function c(A){A.done?s(A.value):i(A.value).then(o,l)}c((r=r.apply(n,[])).next())})}function ru(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(A){return l([c,A])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(A){c=[6,A],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Nd(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function I3(n){return this instanceof I3?(this.v=n,this):new I3(n)}function Dte(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(h){r[h]&&(i[h]=function(f){return new Promise(function(d,g){s.push([h,f,d,g])>1||o(h,f)})})}function o(h,f){try{l(r[h](f))}catch(d){u(s[0][3],d)}}function l(h){h.value instanceof I3?Promise.resolve(h.value.v).then(c,A):u(s[0][2],h)}function c(h){o("next",h)}function A(h){o("throw",h)}function u(h,f){h(f),s.shift(),s.length&&o(s[0][0],s[0][1])}}var UD=function(n){Pte(e,n);function e(t){var r=n.call(this,t)||this;return Object.defineProperty(r,"name",{value:"RepeaterOverflowError",enumerable:!1}),typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(r,r.constructor.prototype):r.__proto__=r.constructor.prototype,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(r,r.constructor),r}return e}(Error);(function(){function n(e){if(e<0)throw new RangeError("Capacity may not be less than 0");this._c=e,this._q=[]}return Object.defineProperty(n.prototype,"empty",{get:function(){return this._q.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"full",{get:function(){return this._q.length>=this._c},enumerable:!1,configurable:!0}),n.prototype.add=function(e){if(this.full)throw new Error("Buffer full");this._q.push(e)},n.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()},n})();(function(){function n(e){if(e<1)throw new RangeError("Capacity may not be less than 1");this._c=e,this._q=[]}return Object.defineProperty(n.prototype,"empty",{get:function(){return this._q.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"full",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.add=function(e){for(;this._q.length>=this._c;)this._q.shift();this._q.push(e)},n.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()},n})();(function(){function n(e){if(e<1)throw new RangeError("Capacity may not be less than 1");this._c=e,this._q=[]}return Object.defineProperty(n.prototype,"empty",{get:function(){return this._q.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"full",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.add=function(e){this._q.length<this._c&&this._q.push(e)},n.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()},n})();function d7(n){n!=null&&typeof n.then=="function"&&n.then(c5,c5)}var Yb=0,NC=1,D1=2,o5=3,g7=4,l5=1024,c5=function(){};function Fh(n){var e=n.err,t=Promise.resolve(n.execution).then(function(r){if(e!=null)throw e;return r});return n.err=void 0,n.execution=t.then(function(){},function(){}),n.pending===void 0?t:n.pending.then(function(){return t})}function e1(n,e){var t=n.state>=o5;return Promise.resolve(e).then(function(r){return!t&&n.state>=g7?Fh(n).then(function(i){return{value:i,done:!0}}):{value:r,done:t}})}function Nx(n,e){var t,r;if(!(n.state>=D1))if(n.state=D1,n.onnext(),n.onstop(),n.err==null&&(n.err=e),n.pushes.length===0&&(typeof n.buffer>"u"||n.buffer.empty))Pg(n);else try{for(var i=Nd(n.pushes),s=i.next();!s.done;s=i.next()){var a=s.value;a.resolve()}}catch(o){t={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}function Pg(n){var e,t;if(!(n.state>=o5)){n.state<D1&&Nx(n),n.state=o5,n.buffer=void 0;try{for(var r=Nd(n.nexts),i=r.next();!i.done;i=r.next()){var s=i.value,a=n.pending===void 0?Fh(n):n.pending.then(function(){return Fh(n)});s.resolve(e1(n,a))}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}n.pushes=[],n.nexts=[]}}function kC(n){n.state>=g7||(n.state<o5&&Pg(n),n.state=g7)}function Ote(n,e){if(d7(e),n.pushes.length>=l5)throw new UD("No more than "+l5+" pending calls to push are allowed on a single repeater.");if(n.state>=D1)return Promise.resolve(void 0);var t=n.pending===void 0?Promise.resolve(e):n.pending.then(function(){return e});t=t.catch(function(l){n.state<D1&&(n.err=l),kC(n)});var r;if(n.nexts.length){var i=n.nexts.shift();i.resolve(e1(n,t)),n.nexts.length?r=Promise.resolve(n.nexts[0].value):typeof n.buffer<"u"&&!n.buffer.full?r=Promise.resolve(void 0):r=new Promise(function(l){return n.onnext=l})}else typeof n.buffer<"u"&&!n.buffer.full?(n.buffer.add(t),r=Promise.resolve(void 0)):r=new Promise(function(l){return n.pushes.push({resolve:l,value:t})});var s=!0,a={},o=r.catch(function(l){if(s)throw l});return a.then=function(l,c){return s=!1,Promise.prototype.then.call(r,l,c)},a.catch=function(l){return s=!1,Promise.prototype.catch.call(r,l)},a.finally=r.finally.bind(r),n.pending=t.then(function(){return o}).catch(function(l){n.err=l,kC(n)}),a}function zte(n){var e=Nx.bind(null,n),t=new Promise(function(r){return n.onstop=r});return e.then=t.then.bind(t),e.catch=t.catch.bind(t),e.finally=t.finally.bind(t),e}function Hte(n){if(!(n.state>=NC)){n.state=NC;var e=Ote.bind(null,n),t=zte(n);n.execution=new Promise(function(r){return r(n.executor(e,t))}),n.execution.catch(function(){return Nx(n)})}}var L_=new WeakMap,yp=function(){function n(e,t){L_.set(this,{executor:e,buffer:t,err:void 0,state:Yb,pushes:[],nexts:[],pending:void 0,execution:void 0,onnext:c5,onstop:c5})}return n.prototype.next=function(e){d7(e);var t=L_.get(this);if(t===void 0)throw new Error("WeakMap error");if(t.nexts.length>=l5)throw new UD("No more than "+l5+" pending calls to next are allowed on a single repeater.");if(t.state<=Yb&&Hte(t),t.onnext(e),typeof t.buffer<"u"&&!t.buffer.empty){var r=e1(t,t.buffer.remove());if(t.pushes.length){var i=t.pushes.shift();t.buffer.add(i.value),t.onnext=i.resolve}return r}else if(t.pushes.length){var s=t.pushes.shift();return t.onnext=s.resolve,e1(t,s.value)}else if(t.state>=D1)return Pg(t),e1(t,Fh(t));return new Promise(function(a){return t.nexts.push({resolve:a,value:e})})},n.prototype.return=function(e){d7(e);var t=L_.get(this);if(t===void 0)throw new Error("WeakMap error");return Pg(t),t.execution=Promise.resolve(t.execution).then(function(){return e}),e1(t,Fh(t))},n.prototype.throw=function(e){var t=L_.get(this);if(t===void 0)throw new Error("WeakMap error");return t.state<=Yb||t.state>=D1||typeof t.buffer<"u"&&!t.buffer.empty?(Pg(t),t.err==null&&(t.err=e),e1(t,Fh(t))):this.next(Promise.reject(e))},n.prototype[Symbol.asyncIterator]=function(){return this},n.race=Qte,n.merge=jte,n.zip=Yte,n.latest=Gte,n}();function Xy(n,e){var t,r,i=[],s=function(c){c!=null&&typeof c[Symbol.asyncIterator]=="function"?i.push(c[Symbol.asyncIterator]()):c!=null&&typeof c[Symbol.iterator]=="function"?i.push(c[Symbol.iterator]()):i.push(function(){return Dte(this,arguments,function(){return ru(this,function(h){switch(h.label){case 0:return e.yieldValues?[4,I3(c)]:[3,3];case 1:return[4,h.sent()];case 2:h.sent(),h.label=3;case 3:return e.returnValues?[4,I3(c)]:[3,5];case 4:return[2,h.sent()];case 5:return[2]}})})}())};try{for(var a=Nd(n),o=a.next();!o.done;o=a.next()){var l=o.value;s(l)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}function Qte(n){var e=this,t=Xy(n,{returnValues:!0});return new yp(function(r,i){return cd(e,void 0,void 0,function(){var s,a,o,l,c,A;return ru(this,function(u){switch(u.label){case 0:if(!t.length)return i(),[2];a=!1,i.then(function(){s(),a=!0}),u.label=1;case 1:u.trys.push([1,,5,7]),l=void 0,c=0,A=function(){var h,f,d,g,_,m;return ru(this,function(y){switch(y.label){case 0:h=c;try{for(f=(_=void 0,Nd(t)),d=f.next();!d.done;d=f.next())g=d.value,Promise.resolve(g.next()).then(function(b){b.done?(i(),o===void 0&&(o=b)):c===h&&(c++,s(b))},function(b){return i(b)})}catch(b){_={error:b}}finally{try{d&&!d.done&&(m=f.return)&&m.call(f)}finally{if(_)throw _.error}}return[4,new Promise(function(b){return s=b})];case 1:return l=y.sent(),l===void 0?[3,3]:[4,r(l.value)];case 2:y.sent(),y.label=3;case 3:return[2]}})},u.label=2;case 2:return a?[3,4]:[5,A()];case 3:return u.sent(),[3,2];case 4:return[2,o&&o.value];case 5:return i(),[4,Promise.race(t.map(function(h){return h.return&&h.return()}))];case 6:return u.sent(),[7];case 7:return[2]}})})})}function jte(n){var e=this,t=Xy(n,{yieldValues:!0});return new yp(function(r,i){return cd(e,void 0,void 0,function(){var s,a,o,l=this;return ru(this,function(c){switch(c.label){case 0:if(!t.length)return i(),[2];s=[],a=!1,i.then(function(){var A,u;a=!0;try{for(var h=Nd(s),f=h.next();!f.done;f=h.next()){var d=f.value;d()}}catch(g){A={error:g}}finally{try{f&&!f.done&&(u=h.return)&&u.call(h)}finally{if(A)throw A.error}}}),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,Promise.all(t.map(function(A,u){return cd(l,void 0,void 0,function(){var h,f;return ru(this,function(d){switch(d.label){case 0:d.trys.push([0,,6,9]),d.label=1;case 1:return a?[3,5]:(Promise.resolve(A.next()).then(function(g){return s[u](g)},function(g){return i(g)}),[4,new Promise(function(g){s[u]=g})]);case 2:return h=d.sent(),h===void 0?[3,4]:h.done?(o=h,[2]):[4,r(h.value)];case 3:d.sent(),d.label=4;case 4:return[3,1];case 5:return[3,9];case 6:return f=A.return,f?[4,A.return()]:[3,8];case 7:f=d.sent(),d.label=8;case 8:return[7];case 9:return[2]}})})}))];case 2:return c.sent(),[2,o&&o.value];case 3:return i(),[7];case 4:return[2]}})})})}function Yte(n){var e=this,t=Xy(n,{returnValues:!0});return new yp(function(r,i){return cd(e,void 0,void 0,function(){var s,a,o,l;return ru(this,function(c){switch(c.label){case 0:if(!t.length)return i(),[2,[]];a=!1,i.then(function(){s(),a=!0}),c.label=1;case 1:c.trys.push([1,,6,8]),c.label=2;case 2:return a?[3,5]:(Promise.all(t.map(function(A){return A.next()})).then(function(A){return s(A)},function(A){return i(A)}),[4,new Promise(function(A){return s=A})]);case 3:return o=c.sent(),o===void 0?[2]:(l=o.map(function(A){return A.value}),o.some(function(A){return A.done})?[2,l]:[4,r(l)]);case 4:return c.sent(),[3,2];case 5:return[3,8];case 6:return i(),[4,Promise.all(t.map(function(A){return A.return&&A.return()}))];case 7:return c.sent(),[7];case 8:return[2]}})})})}function Gte(n){var e=this,t=Xy(n,{yieldValues:!0,returnValues:!0});return new yp(function(r,i){return cd(e,void 0,void 0,function(){var s,a,o,l,c,A=this;return ru(this,function(u){switch(u.label){case 0:if(!t.length)return i(),[2,[]];a=[],o=!1,i.then(function(){var h,f;s();try{for(var d=Nd(a),g=d.next();!g.done;g=d.next()){var _=g.value;_()}}catch(m){h={error:m}}finally{try{g&&!g.done&&(f=d.return)&&f.call(d)}finally{if(h)throw h.error}}o=!0}),u.label=1;case 1:return u.trys.push([1,,5,7]),Promise.all(t.map(function(h){return h.next()})).then(function(h){return s(h)},function(h){return i(h)}),[4,new Promise(function(h){return s=h})];case 2:return l=u.sent(),l===void 0?[2]:(c=l.map(function(h){return h.value}),l.every(function(h){return h.done})?[2,c]:[4,r(c.slice())]);case 3:return u.sent(),[4,Promise.all(t.map(function(h,f){return cd(A,void 0,void 0,function(){var d;return ru(this,function(g){switch(g.label){case 0:if(l[f].done)return[2,l[f].value];g.label=1;case 1:return o?[3,4]:(Promise.resolve(h.next()).then(function(_){return a[f](_)},function(_){return i(_)}),[4,new Promise(function(_){return a[f]=_})]);case 2:return d=g.sent(),d===void 0?[2,l[f].value]:d.done?[2,d.value]:(c[f]=d.value,[4,r(c.slice())]);case 3:return g.sent(),[3,1];case 4:return[2]}})})}))];case 4:return[2,u.sent()];case 5:return i(),[4,Promise.all(t.map(function(h){return h.return&&h.return()}))];case 6:return u.sent(),[7];case 7:return[2]}})})})}var p1;let ND=(p1=class{constructor(){z(this,"_extraRequestThreshold",262144)}extraRequestThreshold(){return this._extraRequestThreshold}setExtraRequestThreshold(e){if(e<0)throw Error("extraRequestThreshold cannot be negative");this._extraRequestThreshold=e}},z(p1,"global",new p1),p1);const Vte=40,Kte=16;function kx(n,e){e=Math.min(Math.max(+e,2),65535);let t=n,r=t;do r+=t=Math.ceil(t/e);while(t!==1);return 40*r}function $te(n,e){if(e<2)throw Error("Node size must be at least 2");if(n===0)throw Error("Number of items must be greater than 0");let t=n,r=t,i=[t];do r+=t=Math.ceil(t/e),i.push(t);while(t!==1);let s=[];for(let o of(t=r,i))s.push(t-o),t-=o;let a=[];for(let o=0;o<i.length;o++)a.push([s[o],s[o]+i[o]]);return a}async function*Wte(n,e,t,r){class i{constructor(f,d){z(this,"_level");z(this,"nodes");this._level=d,this.nodes=f}level(){return this._level}startNodeIdx(){return this.nodes[0]}endNodeIdx(){return this.nodes[1]}extendEndNodeIdx(f){this.nodes[1]=f}toString(){return`[NodeRange level: ${this._level}, nodes: ${this.nodes[0]}-${this.nodes[1]}]`}}let{minX:s,minY:a,maxX:o,maxY:l}=t,c=$te(n,e),A=c[0][0],u=[new i([0,1],c.length-1)];for(;u.length!==0;){let h=u.shift(),f=h.startNodeIdx(),d=f>=A,g=(()=>{let[,y]=c[h.level()],b=Math.min(h.endNodeIdx()+e,y);return d&&b<y?b+1:b})(),_=g-f,m=new DataView(await r(40*f,40*_));for(let y=f;y<g;y++){let b=y-f,v=40*b;if(o<m.getFloat64(v+0,!0)||l<m.getFloat64(v+8,!0)||s>m.getFloat64(v+16,!0)||a>m.getFloat64(v+24,!0))continue;let B=m.getBigUint64(v+32,!0);if(d){let w=(()=>{if(y<n-1){let M=(b+1)*40;return m.getBigUint64(M+32,!0)-B}return null})(),U=y-A;yield[Number(B),U,Number(w)];continue}let C=ND.global.extraRequestThreshold()/40,I=u[u.length-1];if(I!==void 0&&I.level()===h.level()-1&&B<I.endNodeIdx()+C){I.extendEndNodeIdx(Number(B));continue}let R=(()=>{let w=h.level()-1;return new i([Number(B),Number(B)+1],w)})();I!==void 0&&(I.level(),R.level()),u.push(R)}}}class Px{constructor(e,t,r,i,s){z(this,"headerClient");z(this,"header");z(this,"headerLength");z(this,"indexLength");z(this,"nocache");this.headerClient=e,this.header=t,this.headerLength=r,this.indexLength=i,this.nocache=s}static async open(e,t){let r,i=new PC(e,t),s=2024+(()=>{let c,A=0;for(c=0;c<3;c++)A+=Kte**c*Vte;return A})();if(!new Uint8Array(await i.getRange(0,8,s,"header")).subarray(0,3).every((c,A)=>A1[A]===c))throw Error("Not a FlatGeobuf file");if((r=new DataView(await i.getRange(8,4,s,"header")).getUint32(0,!0))>10485760||r<8)throw Error("Invalid header size");let a=await i.getRange(12,r,s,"header"),o=Ux(new j0(new Uint8Array(a))),l=kx(o.featuresCount,o.indexNodeSize);return new Px(i,o,r,l,t)}async*selectBbox(e){let t=this.lengthBeforeTree(),r=this.headerClient,i=async(l,c)=>r.getRange(t+l,c,0,"index"),s=[],a=[];for await(let l of Wte(this.header.featuresCount,this.header.indexNodeSize,e,i)){let[c,A]=l,[,,u]=l;if(u||(u=4),a.length===0){a.push([c,u,A]);continue}let h=a[a.length-1];c-(h[0]+h[1])>ND.global.extraRequestThreshold()&&(s.push(a),a=[]),a.push([c,u,A])}this.headerClient.logUsage("header+index"),a.length>0&&s.push(a);let o=s.flatMap(l=>this.readFeatureBatch(l,this.nocache));yield*yp.merge(o)}lengthBeforeTree(){return A1.length+I0+this.headerLength}lengthBeforeFeatures(){return this.lengthBeforeTree()+this.indexLength}buildFeatureClient(e){return new PC(this.headerClient.httpClient,e)}async*readFeatureBatch(e,t){let[r]=e[0],[i,s]=e[e.length-1],a=this.buildFeatureClient(t),o=i+s-r;for(let[l,,c]of e){let A=await this.readFeature(a,l,o);yield{id:c,feature:A},o=0}a.logUsage("feature")}async readFeature(e,t,r){let i,s=t+this.lengthBeforeFeatures();i=new DataView(await e.getRange(s,4,r,"feature length")).getUint32(0,!0);let a=new Uint8Array(await e.getRange(s+4,i,r,"feature data")),o=new Uint8Array(i+I0);o.set(a,I0);let l=new j0(o);return l.setPosition(I0),El.getRootAsFeature(l)}}let PC=class{constructor(e,t){z(this,"httpClient");z(this,"bytesEverUsed",0);z(this,"bytesEverFetched",0);z(this,"buffer",new ArrayBuffer(0));z(this,"head",0);if(typeof e=="string")this.httpClient=new DC(e,t);else if(e instanceof DC)this.httpClient=e;else throw Error("Unknown source ")}async getRange(e,t,r,i){this.bytesEverUsed+=t;let s=e-this.head,a=s+t;if(s>=0&&a<=this.buffer.byteLength)return this.buffer.slice(s,a);let o=Math.max(t,r);return this.bytesEverFetched+=o,this.buffer=await this.httpClient.getRange(e,o,i),this.head=e,this.buffer.slice(0,t)}logUsage(e){e.split(" ")[0],(100*this.bytesEverUsed/this.bytesEverFetched).toFixed(2)}},DC=class{constructor(e,t){z(this,"url");z(this,"nocache");z(this,"requestsEverMade",0);z(this,"bytesEverRequested",0);this.url=e,this.nocache=t}async getRange(e,t,r){this.requestsEverMade+=1,this.bytesEverRequested+=t;let i={Range:`bytes=${e}-${e+t-1}`};return this.nocache&&(i["Cache-Control"]="no-cache, no-store"),await(await fetch(this.url,{headers:i})).arrayBuffer()}};function Gb(n,e){let t=[];for(let r=0;r<n.length;r+=2){let i=[n[r],n[r+1]];e&&i.push(e[r>>1]),t.push(i)}return t}new TextEncoder;let OC=new TextDecoder;function qte(n,e){let t={};if(!e||e.length===0)return t;let r=n.propertiesArray();if(!r)return t;let i=new DataView(r.buffer,r.byteOffset),s=n.propertiesLength(),a=0;for(;a<s;){let o=i.getUint16(a,!0);a+=2;let l=e[o],c=l.name;switch(l.type){case Us.Bool:t[c]=!!i.getUint8(a),a+=1;break;case Us.Byte:t[c]=i.getInt8(a),a+=1;break;case Us.UByte:t[c]=i.getUint8(a),a+=1;break;case Us.Short:t[c]=i.getInt16(a,!0),a+=2;break;case Us.UShort:t[c]=i.getUint16(a,!0),a+=2;break;case Us.Int:t[c]=i.getInt32(a,!0),a+=4;break;case Us.UInt:t[c]=i.getUint32(a,!0),a+=4;break;case Us.Long:t[c]=Number(i.getBigInt64(a,!0)),a+=8;break;case Us.ULong:t[c]=Number(i.getBigUint64(a,!0)),a+=8;break;case Us.Float:t[c]=i.getFloat32(a,!0),a+=4;break;case Us.Double:t[c]=i.getFloat64(a,!0),a+=8;break;case Us.DateTime:case Us.String:{let A=i.getUint32(a,!0);a+=4,t[c]=OC.decode(r.subarray(a,a+A)),a+=A;break}case Us.Json:{let A=i.getUint32(a,!0);a+=4;let u=OC.decode(r.subarray(a,a+A));t[c]=JSON.parse(u),a+=A;break}case Us.Binary:{let A=i.getUint32(a,!0);a+=4,t[c]=r.subarray(a,a+A),a+=A;break}default:throw Error(`Unknown type ${l.type}`)}}return t}function Xte(n,e,t){if(!n.subarray(0,3).every((A,u)=>A1[u]===A))throw Error("Not a FlatGeobuf file");let r=new j0(n),i=r.readUint32(A1.length);r.setPosition(A1.length+I0);let s=Ux(r),a=A1.length+I0+i,{indexNodeSize:o,featuresCount:l}=s;o>0&&(a+=kx(l,o));let c=[];for(;a<r.capacity();){let A=r.readUint32(a);r.setPosition(a+I0);let u=El.getRootAsFeature(r);c.push(e(c.length,u,s)),a+=I0+A}return c}async function*Jte(n,e,t){let r,i=Fx(n),s=async f=>await i.slice(f),a=new Uint8Array(await s(8));if(!a.subarray(0,3).every((f,d)=>A1[d]===f))throw Error("Not a FlatGeobuf file");a=new Uint8Array(await s(4));let o=new j0(a),l=o.readUint32(0);a=new Uint8Array(await s(l));let c=Ux(o=new j0(a)),{indexNodeSize:A,featuresCount:u}=c;if(A>0){let f=kx(u,A);await s(f)}let h=0;for(;r=await ene(s,c,e,h++);)yield r}async function*Zte(n,e,t,r,i=!1){let s=await Px.open(n,i);for await(let a of s.selectBbox(e))yield t(a.id,a.feature,s.header)}async function ene(n,e,t,r){let i=new Uint8Array(await n(4,"feature length"));if(i.byteLength===0)return;let s=new j0(i),a=s.readUint32(0);i=new Uint8Array(await n(a,"feature data"));let o=new Uint8Array(a+4);return o.set(i,4),(s=new j0(o)).setPosition(I0),t(r,El.getRootAsFeature(s),e)}const tne={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};let kD=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||tne[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}};const bp=6378137,ch=Math.PI*bp,nne=[-ch,-ch,ch,ch],rne=[-180,-85,180,85],x_=bp*Math.log(Math.tan(Math.PI/2));class xf extends kD{constructor(e){super({code:e,units:"m",extent:nne,global:!0,worldExtent:rne,getPointResolution:function(t,r){return t/Math.cosh(r[1]/bp)}})}}const zC=[new xf("EPSG:3857"),new xf("EPSG:102100"),new xf("EPSG:102113"),new xf("EPSG:900913"),new xf("http://www.opengis.net/def/crs/EPSG/0/3857"),new xf("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ine(n,e,t,r){const i=n.length;t=t>1?t:2,r=r??t,e===void 0&&(t>2?e=n.slice():e=new Array(i));for(let s=0;s<i;s+=r){e[s]=ch*n[s]/180;let a=bp*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));a>x_?a=x_:a<-x_&&(a=-x_),e[s+1]=a}return e}function sne(n,e,t,r){const i=n.length;t=t>1?t:2,r=r??t,e===void 0&&(t>2?e=n.slice():e=new Array(i));for(let s=0;s<i;s+=r)e[s]=180*n[s]/ch,e[s+1]=360*Math.atan(Math.exp(n[s+1]/bp))/Math.PI-90;return e}const ane=6378137,HC=[-180,-90,180,90],one=Math.PI*ane/180;class Hu extends kD{constructor(e,t){super({code:e,units:"degrees",extent:HC,axisOrientation:t,global:!0,metersPerUnit:one,worldExtent:HC})}}const QC=[new Hu("CRS:84"),new Hu("EPSG:4326","neu"),new Hu("urn:ogc:def:crs:OGC:1.3:CRS84"),new Hu("urn:ogc:def:crs:OGC:2:84"),new Hu("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Hu("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Hu("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Vb={};function A5(n,e,t){const r=n.getCode(),i=e.getCode();r in Vb||(Vb[r]={}),Vb[r][i]=t}function PD(n,e){if(e!==void 0){for(let t=0,r=n.length;t<r;++t)e[t]=n[t];e=e}else e=n.slice();return e}function lne(n){n.getCode(),A5(n,n,PD)}function cne(n){n.forEach(lne)}function jC(n){cne(n),n.forEach(function(e){n.forEach(function(t){e!==t&&A5(e,t,PD)})})}function Ane(n,e,t,r){n.forEach(function(i){e.forEach(function(s){A5(i,s,t),A5(s,i,r)})})}function une(){jC(zC),jC(QC),Ane(QC,zC,ine,sne)}une();function p7(n,e){let t=e;if(t===$s.Unknown&&(t=n.type()),t===$s.GeometryCollection){let i=[];for(let s=0;s<n.partsLength();s++){let a=n.parts(s),o=a.type();i.push(p7(a,o))}return{type:$s[t],geometries:i}}if(t===$s.MultiPolygon){let i=[];for(let s=0;s<n.partsLength();s++)i.push(p7(n.parts(s),$s.Polygon));return{type:$s[t],coordinates:i.map(s=>s.coordinates)}}let r=function(i,s){let a=i.xyArray(),o=i.zArray();switch(s){case $s.Point:{let l=Array.from(a);return o&&l.push(o[0]),l}case $s.MultiPoint:case $s.LineString:return Gb(a,o);case $s.MultiLineString:case $s.Polygon:return function(l,c,A){let u;if(!A||A.length===0)return[Gb(l,c)];let h=0,f=Array.from(A).map(d=>l.slice(h,h=d<<1));return c&&(h=0,u=Array.from(A).map(d=>c.slice(h,h=d))),f.map((d,g)=>Gb(d,u?u[g]:void 0))}(a,o,i.endsArray())}}(n,t);return{type:$s[t],coordinates:r}}function Dx(n,e,t){let r=t.columns;return{type:"Feature",id:n,geometry:p7(e.geometry(),t.geometryType),properties:qte(e,r)}}function fne(n,e){return{type:"FeatureCollection",features:Xte(n,Dx)}}function hne(n,e){return Jte(n,Dx)}function dne(n,e,t,r=!1){return Zte(n,e,Dx,t,r)}function DD(n,e,t,r=!1){return n instanceof Uint8Array?fne(n):n instanceof ReadableStream?hne(n):dne(n,e,t,r)}const gne=async n=>{try{return(await fetch(n)).json()}catch(e){throw console.error(e),new Error("Failed to fetch GeoJSON")}},_7=async(n,e)=>{try{const t=await fetch(n),r=DD(t.body),i={type:"FeatureCollection",features:[]};for await(const s of r)i.features.push(s);return i}catch(t){throw console.error(t),new Error("Failed to fetch GeoJSON")}},pne=(n,e)=>{const{properties:t,id:r,layer:i}=n;return{point:e,properties:t,featureId:r,layerId:i.id}};class Tl{static set(e,t){this.cache.set(e,t)}static get(e){return this.cache.get(e)}static remove(e){this.cache.delete(e)}static clear(){this.cache.clear()}static has(e){return this.cache.has(e)}static keys(){return this.cache.keys()}}z(Tl,"cache",new Map);const _ne=async n=>{try{const e=await n.text(),t=JSON.parse(e);if(t.type!=="FeatureCollection"||!Array.isArray(t.features))throw new Error("Invalid GeoJSON structure");return t}catch(e){throw console.error("GeoJSON parsing error:",e),new Error("Failed to parse GeoJSON file")}},R0=n=>{if(n.type==="raster")return n.style.type==="cad"?"line":"raster";if(n.type==="vector"){if(n.format.geometryType==="Point")return"point";if(n.format.geometryType==="LineString")return"line";if(n.format.geometryType==="Polygon")return"polygon"}else{if(n.type==="model")return"model";throw console.error(""),new Error(`Unknown layer type: ${n}`)}},Jy=n=>{switch(n){case"point":return"ic:baseline-mode-standby";case"line":return"ic:baseline-polymer";case"polygon":return"ic:baseline-pentagon";case"raster":return"mdi:raster";case"model":return"iconoir:3d-select-solid";default:throw new Error(`Unknown layer type: ${n}`)}},mne={model:"3D",point:"",line:"",polygon:"",raster:""};function Y0(n){return Array.isArray?Array.isArray(n):HD(n)==="[object Array]"}function yne(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function bne(n){return n==null?"":yne(n)}function xc(n){return typeof n=="string"}function OD(n){return typeof n=="number"}function vne(n){return n===!0||n===!1||wne(n)&&HD(n)=="[object Boolean]"}function zD(n){return typeof n=="object"}function wne(n){return zD(n)&&n!==null}function fo(n){return n!=null}function Kb(n){return!n.trim().length}function HD(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const Lne="Incorrect 'index' type",xne=n=>`Invalid value for key ${n}`,Rne=n=>`Pattern length exceeds max of ${n}.`,Bne=n=>`Missing ${n} property in key`,Ene=n=>`Property 'weight' in key '${n}' must be a positive integer`,YC=Object.prototype.hasOwnProperty;class Cne{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(r=>{let i=QD(r);this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(r=>{r.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function QD(n){let e=null,t=null,r=null,i=1,s=null;if(xc(n)||Y0(n))r=n,e=GC(n),t=m7(n);else{if(!YC.call(n,"name"))throw new Error(Bne("name"));const a=n.name;if(r=a,YC.call(n,"weight")&&(i=n.weight,i<=0))throw new Error(Ene(a));e=GC(a),t=m7(a),s=n.getFn}return{path:e,id:t,weight:i,src:r,getFn:s}}function GC(n){return Y0(n)?n:n.split(".")}function m7(n){return Y0(n)?n.join("."):n}function Ine(n,e){let t=[],r=!1;const i=(s,a,o)=>{if(fo(s))if(!a[o])t.push(s);else{let l=a[o];const c=s[l];if(!fo(c))return;if(o===a.length-1&&(xc(c)||OD(c)||vne(c)))t.push(bne(c));else if(Y0(c)){r=!0;for(let A=0,u=c.length;A<u;A+=1)i(c[A],a,o+1)}else a.length&&i(c,a,o+1)}};return i(n,xc(e)?e.split("."):e,0),r?t:t[0]}const Tne={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Mne={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},Sne={location:0,threshold:.6,distance:100},Fne={useExtendedSearch:!1,getFn:Ine,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var vn={...Mne,...Tne,...Sne,...Fne};const Une=/[^ ]+/g;function Nne(n=1,e=3){const t=new Map,r=Math.pow(10,e);return{get(i){const s=i.match(Une).length;if(t.has(s))return t.get(s);const a=1/Math.pow(s,.5*n),o=parseFloat(Math.round(a*r)/r);return t.set(s,o),o},clear(){t.clear()}}}class Ox{constructor({getFn:e=vn.getFn,fieldNormWeight:t=vn.fieldNormWeight}={}){this.norm=Nne(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,r)=>{this._keysMap[t.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,xc(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();xc(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,r=this.size();t<r;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!fo(e)||Kb(e))return;let r={v:e,i:t,n:this.norm.get(e)};this.records.push(r)}_addObject(e,t){let r={i:t,$:{}};this.keys.forEach((i,s)=>{let a=i.getFn?i.getFn(e):this.getFn(e,i.path);if(fo(a)){if(Y0(a)){let o=[];const l=[{nestedArrIndex:-1,value:a}];for(;l.length;){const{nestedArrIndex:c,value:A}=l.pop();if(fo(A))if(xc(A)&&!Kb(A)){let u={v:A,i:c,n:this.norm.get(A)};o.push(u)}else Y0(A)&&A.forEach((u,h)=>{l.push({nestedArrIndex:h,value:u})})}r.$[s]=o}else if(xc(a)&&!Kb(a)){let o={v:a,n:this.norm.get(a)};r.$[s]=o}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function jD(n,e,{getFn:t=vn.getFn,fieldNormWeight:r=vn.fieldNormWeight}={}){const i=new Ox({getFn:t,fieldNormWeight:r});return i.setKeys(n.map(QD)),i.setSources(e),i.create(),i}function kne(n,{getFn:e=vn.getFn,fieldNormWeight:t=vn.fieldNormWeight}={}){const{keys:r,records:i}=n,s=new Ox({getFn:e,fieldNormWeight:t});return s.setKeys(r),s.setIndexRecords(i),s}function R_(n,{errors:e=0,currentLocation:t=0,expectedLocation:r=0,distance:i=vn.distance,ignoreLocation:s=vn.ignoreLocation}={}){const a=e/n.length;if(s)return a;const o=Math.abs(r-t);return i?a+o/i:o?1:a}function Pne(n=[],e=vn.minMatchCharLength){let t=[],r=-1,i=-1,s=0;for(let a=n.length;s<a;s+=1){let o=n[s];o&&r===-1?r=s:!o&&r!==-1&&(i=s-1,i-r+1>=e&&t.push([r,i]),r=-1)}return n[s-1]&&s-r>=e&&t.push([r,s-1]),t}const t1=32;function Dne(n,e,t,{location:r=vn.location,distance:i=vn.distance,threshold:s=vn.threshold,findAllMatches:a=vn.findAllMatches,minMatchCharLength:o=vn.minMatchCharLength,includeMatches:l=vn.includeMatches,ignoreLocation:c=vn.ignoreLocation}={}){if(e.length>t1)throw new Error(Rne(t1));const A=e.length,u=n.length,h=Math.max(0,Math.min(r,u));let f=s,d=h;const g=o>1||l,_=g?Array(u):[];let m;for(;(m=n.indexOf(e,d))>-1;){let I=R_(e,{currentLocation:m,expectedLocation:h,distance:i,ignoreLocation:c});if(f=Math.min(I,f),d=m+A,g){let R=0;for(;R<A;)_[m+R]=1,R+=1}}d=-1;let y=[],b=1,v=A+u;const B=1<<A-1;for(let I=0;I<A;I+=1){let R=0,w=v;for(;R<w;)R_(e,{errors:I,currentLocation:h+w,expectedLocation:h,distance:i,ignoreLocation:c})<=f?R=w:v=w,w=Math.floor((v-R)/2+R);v=w;let U=Math.max(1,h-w+1),M=a?u:Math.min(h+w,u)+A,F=Array(M+2);F[M+1]=(1<<I)-1;for(let S=M;S>=U;S-=1){let W=S-1,re=t[n.charAt(W)];if(g&&(_[W]=+!!re),F[S]=(F[S+1]<<1|1)&re,I&&(F[S]|=(y[S+1]|y[S])<<1|1|y[S+1]),F[S]&B&&(b=R_(e,{errors:I,currentLocation:W,expectedLocation:h,distance:i,ignoreLocation:c}),b<=f)){if(f=b,d=W,d<=h)break;U=Math.max(1,2*h-d)}}if(R_(e,{errors:I+1,currentLocation:h,expectedLocation:h,distance:i,ignoreLocation:c})>f)break;y=F}const C={isMatch:d>=0,score:Math.max(.001,b)};if(g){const I=Pne(_,o);I.length?l&&(C.indices=I):C.isMatch=!1}return C}function One(n){let e={};for(let t=0,r=n.length;t<r;t+=1){const i=n.charAt(t);e[i]=(e[i]||0)|1<<r-t-1}return e}const u5=String.prototype.normalize?n=>n.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):n=>n;class YD{constructor(e,{location:t=vn.location,threshold:r=vn.threshold,distance:i=vn.distance,includeMatches:s=vn.includeMatches,findAllMatches:a=vn.findAllMatches,minMatchCharLength:o=vn.minMatchCharLength,isCaseSensitive:l=vn.isCaseSensitive,ignoreDiacritics:c=vn.ignoreDiacritics,ignoreLocation:A=vn.ignoreLocation}={}){if(this.options={location:t,threshold:r,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:A},e=l?e:e.toLowerCase(),e=c?u5(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const u=(f,d)=>{this.chunks.push({pattern:f,alphabet:One(f),startIndex:d})},h=this.pattern.length;if(h>t1){let f=0;const d=h%t1,g=h-d;for(;f<g;)u(this.pattern.substr(f,t1),f),f+=t1;if(d){const _=h-t1;u(this.pattern.substr(_),_)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:r,includeMatches:i}=this.options;if(e=t?e:e.toLowerCase(),e=r?u5(e):e,this.pattern===e){let g={isMatch:!0,score:0};return i&&(g.indices=[[0,e.length-1]]),g}const{location:s,distance:a,threshold:o,findAllMatches:l,minMatchCharLength:c,ignoreLocation:A}=this.options;let u=[],h=0,f=!1;this.chunks.forEach(({pattern:g,alphabet:_,startIndex:m})=>{const{isMatch:y,score:b,indices:v}=Dne(e,g,_,{location:s+m,distance:a,threshold:o,findAllMatches:l,minMatchCharLength:c,includeMatches:i,ignoreLocation:A});y&&(f=!0),h+=b,y&&v&&(u=[...u,...v])});let d={isMatch:f,score:f?h/this.chunks.length:1};return f&&i&&(d.indices=u),d}}class pu{constructor(e){this.pattern=e}static isMultiMatch(e){return VC(e,this.multiRegex)}static isSingleMatch(e){return VC(e,this.singleRegex)}search(){}}function VC(n,e){const t=n.match(e);return t?t[1]:null}class zne extends pu{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Hne extends pu{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Qne extends pu{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class jne extends pu{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Yne extends pu{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Gne extends pu{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class GD extends pu{constructor(e,{location:t=vn.location,threshold:r=vn.threshold,distance:i=vn.distance,includeMatches:s=vn.includeMatches,findAllMatches:a=vn.findAllMatches,minMatchCharLength:o=vn.minMatchCharLength,isCaseSensitive:l=vn.isCaseSensitive,ignoreDiacritics:c=vn.ignoreDiacritics,ignoreLocation:A=vn.ignoreLocation}={}){super(e),this._bitapSearch=new YD(e,{location:t,threshold:r,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:A})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class VD extends pu{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,r;const i=[],s=this.pattern.length;for(;(r=e.indexOf(this.pattern,t))>-1;)t=r+s,i.push([r,t-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const y7=[zne,VD,Qne,jne,Gne,Yne,Hne,GD],KC=y7.length,Vne=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Kne="|";function $ne(n,e={}){return n.split(Kne).map(t=>{let r=t.trim().split(Vne).filter(s=>s&&!!s.trim()),i=[];for(let s=0,a=r.length;s<a;s+=1){const o=r[s];let l=!1,c=-1;for(;!l&&++c<KC;){const A=y7[c];let u=A.isMultiMatch(o);u&&(i.push(new A(u,e)),l=!0)}if(!l)for(c=-1;++c<KC;){const A=y7[c];let u=A.isSingleMatch(o);if(u){i.push(new A(u,e));break}}}return i})}const Wne=new Set([GD.type,VD.type]);class qne{constructor(e,{isCaseSensitive:t=vn.isCaseSensitive,ignoreDiacritics:r=vn.ignoreDiacritics,includeMatches:i=vn.includeMatches,minMatchCharLength:s=vn.minMatchCharLength,ignoreLocation:a=vn.ignoreLocation,findAllMatches:o=vn.findAllMatches,location:l=vn.location,threshold:c=vn.threshold,distance:A=vn.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:r,includeMatches:i,minMatchCharLength:s,findAllMatches:o,ignoreLocation:a,location:l,threshold:c,distance:A},e=t?e:e.toLowerCase(),e=r?u5(e):e,this.pattern=e,this.query=$ne(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i,ignoreDiacritics:s}=this.options;e=i?e:e.toLowerCase(),e=s?u5(e):e;let a=0,o=[],l=0;for(let c=0,A=t.length;c<A;c+=1){const u=t[c];o.length=0,a=0;for(let h=0,f=u.length;h<f;h+=1){const d=u[h],{isMatch:g,indices:_,score:m}=d.search(e);if(g){if(a+=1,l+=m,r){const y=d.constructor.type;Wne.has(y)?o=[...o,..._]:o.push(_)}}else{l=0,a=0,o.length=0;break}}if(a){let h={isMatch:!0,score:l/a};return r&&(h.indices=o),h}}return{isMatch:!1,score:1}}}const b7=[];function Xne(...n){b7.push(...n)}function v7(n,e){for(let t=0,r=b7.length;t<r;t+=1){let i=b7[t];if(i.condition(n,e))return new i(n,e)}return new YD(n,e)}const f5={AND:"$and",OR:"$or"},w7={PATH:"$path",PATTERN:"$val"},L7=n=>!!(n[f5.AND]||n[f5.OR]),Jne=n=>!!n[w7.PATH],Zne=n=>!Y0(n)&&zD(n)&&!L7(n),$C=n=>({[f5.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function KD(n,e,{auto:t=!0}={}){const r=i=>{let s=Object.keys(i);const a=Jne(i);if(!a&&s.length>1&&!L7(i))return r($C(i));if(Zne(i)){const l=a?i[w7.PATH]:s[0],c=a?i[w7.PATTERN]:i[l];if(!xc(c))throw new Error(xne(l));const A={keyId:m7(l),pattern:c};return t&&(A.searcher=v7(c,e)),A}let o={children:[],operator:s[0]};return s.forEach(l=>{const c=i[l];Y0(c)&&c.forEach(A=>{o.children.push(r(A))})}),o};return L7(n)||(n=$C(n)),r(n)}function ere(n,{ignoreFieldNorm:e=vn.ignoreFieldNorm}){n.forEach(t=>{let r=1;t.matches.forEach(({key:i,norm:s,score:a})=>{const o=i?i.weight:null;r*=Math.pow(a===0&&o?Number.EPSILON:a,(o||1)*(e?1:s))}),t.score=r})}function tre(n,e){const t=n.matches;e.matches=[],fo(t)&&t.forEach(r=>{if(!fo(r.indices)||!r.indices.length)return;const{indices:i,value:s}=r;let a={indices:i,value:s};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),e.matches.push(a)})}function nre(n,e){e.score=n.score}function rre(n,e,{includeMatches:t=vn.includeMatches,includeScore:r=vn.includeScore}={}){const i=[];return t&&i.push(tre),r&&i.push(nre),n.map(s=>{const{idx:a}=s,o={item:e[a],refIndex:a};return i.length&&i.forEach(l=>{l(s,o)}),o})}class _u{constructor(e,t={},r){this.options={...vn,...t},this.options.useExtendedSearch,this._keyStore=new Cne(this.options.keys),this.setCollection(e,r)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Ox))throw new Error(Lne);this._myIndex=t||jD(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){fo(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let r=0,i=this._docs.length;r<i;r+=1){const s=this._docs[r];e(s,r)&&(this.removeAt(r),r-=1,i-=1,t.push(s))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:s,sortFn:a,ignoreFieldNorm:o}=this.options;let l=xc(e)?xc(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return ere(l,{ignoreFieldNorm:o}),s&&l.sort(a),OD(t)&&t>-1&&(l=l.slice(0,t)),rre(l,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const t=v7(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:s,i:a,n:o})=>{if(!fo(s))return;const{isMatch:l,score:c,indices:A}=t.searchIn(s);l&&i.push({item:s,idx:a,matches:[{score:c,value:s,norm:o,indices:A}]})}),i}_searchLogical(e){const t=KD(e,this.options),r=(o,l,c)=>{if(!o.children){const{keyId:u,searcher:h}=o,f=this._findMatches({key:this._keyStore.get(u),value:this._myIndex.getValueForItemAtKeyId(l,u),searcher:h});return f&&f.length?[{idx:c,item:l,matches:f}]:[]}const A=[];for(let u=0,h=o.children.length;u<h;u+=1){const f=o.children[u],d=r(f,l,c);if(d.length)A.push(...d);else if(o.operator===f5.AND)return[]}return A},i=this._myIndex.records,s={},a=[];return i.forEach(({$:o,i:l})=>{if(fo(o)){let c=r(t,o,l);c.length&&(s[l]||(s[l]={idx:l,item:o,matches:[]},a.push(s[l])),c.forEach(({matches:A})=>{s[l].matches.push(...A)}))}}),a}_searchObjectList(e){const t=v7(e,this.options),{keys:r,records:i}=this._myIndex,s=[];return i.forEach(({$:a,i:o})=>{if(!fo(a))return;let l=[];r.forEach((c,A)=>{l.push(...this._findMatches({key:c,value:a[A],searcher:t}))}),l.length&&s.push({idx:o,item:a,matches:l})}),s}_findMatches({key:e,value:t,searcher:r}){if(!fo(t))return[];let i=[];if(Y0(t))t.forEach(({v:s,i:a,n:o})=>{if(!fo(s))return;const{isMatch:l,score:c,indices:A}=r.searchIn(s);l&&i.push({score:c,key:e,value:s,idx:a,norm:o,indices:A})});else{const{v:s,n:a}=t,{isMatch:o,score:l,indices:c}=r.searchIn(s);o&&i.push({score:l,key:e,value:s,norm:a,indices:c})}return i}}_u.version="7.1.0";_u.createIndex=jD;_u.parseIndex=kne;_u.config=vn;_u.parseQuery=KD;Xne(qne);function Va(n,e){this.origin=e,this._result=this.origin,this._mojisyu=n}Va.prototype.toString=function(){return this._result};Va.prototype.convert=function(e,t){var r=this._mojisyu[e],i=this._mojisyu[t];if(this._mojisyuType(r)==="range"&&this._mojisyuType(i)==="range")return this._result=this._rangeConvert(r,i),this;if(this._mojisyuType(r)==="regexp"&&this._mojisyuType(i)==="regexp")return this._result=this._regexpConvert(r,i),this};Va.prototype._rangeConvert=function(e,t){var r=t.start-e.start;return this._rangeMap(e,function(i,s,a){return s?String.fromCharCode(a+r):i}).join("")};Va.prototype._regexpConvert=function(e,t){return this._regexpMap(e,function(r,i,s){return i?t.list[s]:r})};Va.prototype.filter=function(e){var t=this._mojisyu[e];if(this._mojisyuType(t)==="range")return this._result=this._rangeFilter(t),this;if(this._mojisyuType(t)==="regexp")return this._result=this._regexpFilter(t),this};Va.prototype._rangeFilter=function(e){return this._rangeMap(e,function(t,r){return r?t:""}).join("")};Va.prototype._regexpFilter=function(e){var t=[];return this._regexpMap(e,function(r,i){i&&t.push(r)}),t.join("")};Va.prototype.reject=function(e){var t=this._mojisyu[e];if(this._mojisyuType(t)==="range")return this._result=this._rangeReject(t),this;if(this._mojisyuType(t)==="regexp")return this._result=this._regexpReject(t),this};Va.prototype._rangeReject=function(e){return this._rangeMap(e,function(t,r){return r?"":t}).join("")};Va.prototype._regexpReject=function(e){var t=this._regexpFilter(e);return this._result.replace(t,"")};Va.prototype._mojisyuType=function(e){return e.start&&e.end?"range":e.regexp&&e.list?"regexp":""};Va.prototype._rangeMap=function(e,t){return this._result.split("").map(function(r){var i=r.charCodeAt(0),s=i>=e.start&&i<=e.end;return t.call(this,r,s,i)})};Va.prototype._regexpMap=function(e,t){return this._result.replace(e.regexp,function(r){var i=e.list.indexOf(r),s=i>=0;return t.call(this,r,s,i)})};var ire=Va;function sre(){return this.trim=function(){return this._result=this._result.trim(),this},this.match=function(n){var e=this._result.match(n);return!e||!n?this:(this._result=e.toString(),this)},this.replace=function(n,e){return this._result=this._result.replace(n,e),this},this}var are=sre,ore={ZE:{start:65281,end:65374},HE:{start:33,end:126},HG:{start:12353,end:12438},KK:{start:12449,end:12534},HS:{regexp:/(\s|\u00A0)/g,list:[" ",""]},ZS:{regexp:/(\u3000)/g,list:["",""]},HK:{regexp:/([\uff66-\uff9c]\uff9e)|([\uff8a-\uff8e]\uff9f)|([\uff61-\uff9f])/g,list:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ZK:{regexp:/([\u3001-\u30fc])/g,list:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}},lre=Object.prototype.propertyIsEnumerable;function cre(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function Are(n){var e=Object.getOwnPropertyNames(n);return Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n))),e.filter(function(t){return lre.call(n,t)})}var ure=Object.assign||function(n,e){for(var t,r,i=cre(n),s=1;s<arguments.length;s++){t=arguments[s],r=Are(Object(t));for(var a=0;a<r.length;a++)i[r[a]]=t[r[a]]}return i},$D=ire,fre=are,hre=ore,WD=ure,x7=WD({},hre);fre.call($D.prototype);var qD=function(n){return new $D(x7,n)};qD.addMojisyu=function(n){x7=WD(x7,n)};var dre=qD;const gre=Z1(dre),u1=n=>gre(n).convert("HK","ZK").convert("ZS","HS").convert("ZE","HE").convert("HG","KK").toString().replace(/\s+/g,"").toLowerCase(),pre=n=>{let e=n;e=e.replace(/[---]/g,r=>String.fromCharCode(r.charCodeAt(0)-65248)),e=e.replace(/^/,""),e=e.replace(/^/,""),e=e.replace(/^/,""),e=e.replace(/^/,""),e=e.replace(/^/,"");const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];if(!e.includes("")&&!e.includes("")&&!e.includes("")){for(const r of t)if(e.includes(r)&&!e.startsWith(r)){const i=e.split(r);if(i.length>1){e=`${r}${r}${i[1]}`;break}}}return e=e.replace(/$/,""),e=e.replace(/$/,""),e=e.replace(/\s+/g,""),e},_re=n=>{try{n.forEach(e=>{e.style.visible=!0})}catch(e){console.error(e),console.warn("")}return n},mre=Object.assign({"/src/routes/map/data/entries/model/mesh/gltf/morinos_3d.ts":wJ,"/src/routes/map/data/entries/raster/image_tile/base_map/ehime_ls_standtype.ts":UJ,"/src/routes/map/data/entries/raster/image_tile/base_map/gifu_cs_map.ts":kJ,"/src/routes/map/data/entries/raster/image_tile/base_map/gifu_pref.ts":DJ,"/src/routes/map/data/entries/raster/image_tile/base_map/gsi_blank.ts":zJ,"/src/routes/map/data/entries/raster/image_tile/base_map/gsi_jikizu2020_chijiki_d.ts":QJ,"/src/routes/map/data/entries/raster/image_tile/base_map/gsi_pale.ts":YJ,"/src/routes/map/data/entries/raster/image_tile/base_map/gsi_seamlessphoto.ts":VJ,"/src/routes/map/data/entries/raster/image_tile/base_map/gsi_sekishoku.ts":$J,"/src/routes/map/data/entries/raster/image_tile/base_map/gsi_std.ts":qJ,"/src/routes/map/data/entries/raster/image_tile/base_map/hyogo_cs.ts":JJ,"/src/routes/map/data/entries/raster/image_tile/base_map/hyogo_ls_standtype.ts":eZ,"/src/routes/map/data/entries/raster/image_tile/base_map/kanagawa_cs.ts":nZ,"/src/routes/map/data/entries/raster/image_tile/base_map/kanagawa_ls_standtype.ts":iZ,"/src/routes/map/data/entries/raster/image_tile/base_map/kanagawa_rrim.ts":aZ,"/src/routes/map/data/entries/raster/image_tile/base_map/kochi_cs.ts":lZ,"/src/routes/map/data/entries/raster/image_tile/base_map/kochi_ls_standtype.ts":AZ,"/src/routes/map/data/entries/raster/image_tile/base_map/nagano_cs.ts":fZ,"/src/routes/map/data/entries/raster/image_tile/base_map/tochigi_cs.ts":dZ,"/src/routes/map/data/entries/raster/image_tile/base_map/tochigi_ls_standtype.ts":pZ,"/src/routes/map/data/entries/raster/image_tile/categorical/ecoris_sugihinoki.ts":mZ,"/src/routes/map/data/entries/raster/image_tile/categorical/ecoris_tanbo.ts":bZ,"/src/routes/map/data/entries/raster/image_tile/categorical/ecoris_vege_6.ts":wZ,"/src/routes/map/data/entries/raster/image_tile/categorical/gifu_slope_map.ts":xZ,"/src/routes/map/data/entries/raster/image_tile/categorical/gsi_gmld_glcnmo2.ts":BZ,"/src/routes/map/data/entries/raster/image_tile/categorical/gsi_gmld_ptc2.ts":CZ,"/src/routes/map/data/entries/raster/image_tile/categorical/gsi_relief.ts":TZ,"/src/routes/map/data/entries/raster/image_tile/categorical/gsi_slopemap.ts":SZ,"/src/routes/map/data/entries/raster/image_tile/categorical/hyogo_slope.ts":UZ,"/src/routes/map/data/entries/raster/image_tile/categorical/kochi_slope.ts":kZ,"/src/routes/map/data/entries/raster/image_tile/categorical/landslide.ts":DZ,"/src/routes/map/data/entries/raster/image_tile/categorical/tochigi_slope.ts":zZ,"/src/routes/map/data/entries/raster/image_tile/dem/dchm_niigata_nagaoka.ts":QZ,"/src/routes/map/data/entries/raster/image_tile/dem/dem_10b.ts":YZ,"/src/routes/map/data/entries/raster/image_tile/dem/dem_1a.ts":VZ,"/src/routes/map/data/entries/raster/image_tile/dem/dem_5a.ts":$Z,"/src/routes/map/data/entries/raster/image_tile/dem/dem_aster_gdem_v3.ts":qZ,"/src/routes/map/data/entries/raster/image_tile/dem/dem_hyogo.ts":JZ,"/src/routes/map/data/entries/raster/image_tile/dem/dem_kanagawa.ts":eee,"/src/routes/map/data/entries/raster/image_tile/dem/dem_kochi.ts":nee,"/src/routes/map/data/entries/raster/image_tile/dem/dem_tochigi.ts":iee,"/src/routes/map/data/entries/raster/image_tile/dem/dem_tokyo.ts":aee,"/src/routes/map/data/entries/raster/image_tile/dem/dem_yamanashi.ts":lee,"/src/routes/map/data/entries/raster/image_tile/dem/dsm_hyogo.ts":Aee,"/src/routes/map/data/entries/raster/image_tile/dem/dsm_kanagawa.ts":fee,"/src/routes/map/data/entries/raster/pmtiles/cad/fac_floor_plan_1f.ts":dee,"/src/routes/map/data/entries/raster/pmtiles/cad/fac_floor_plan_2f.ts":pee,"/src/routes/map/data/entries/raster/pmtiles/cad/ziriki_floor_plan.ts":mee,"/src/routes/map/data/entries/raster/pmtiles/dem/ensyurin_curvatoure.ts":bee,"/src/routes/map/data/entries/vector/fgb/line_string/ensyurin_road.ts":wee,"/src/routes/map/data/entries/vector/fgb/point/ensyurin_kikenboku_h25.ts":xee,"/src/routes/map/data/entries/vector/fgb/point/ensyurin_owl.ts":Bee,"/src/routes/map/data/entries/vector/fgb/point/ensyurin_pole.ts":Cee,"/src/routes/map/data/entries/vector/fgb/point/fac_sisetuannaitou.ts":Tee,"/src/routes/map/data/entries/vector/fgb/polygon/ensyurin_siken.ts":See,"/src/routes/map/data/entries/vector/fgb/polygon/ensyurin_syouhan.ts":Uee,"/src/routes/map/data/entries/vector/geojsontiles/polygon/experimental_landformclassification1.ts":kee,"/src/routes/map/data/entries/vector/geojsontiles/polygon/experimental_landformclassification2.ts":Dee,"/src/routes/map/data/entries/vector/mvt/polygon/geological_survey.ts":zee,"/src/routes/map/data/entries/vector/mvt/polygon/hiroshima_tree_species.ts":Qee,"/src/routes/map/data/entries/vector/mvt/polygon/hyogo_fr_mesh20m.ts":Yee,"/src/routes/map/data/entries/vector/mvt/polygon/hyogo_tree_species.ts":Vee,"/src/routes/map/data/entries/vector/mvt/polygon/kanagawa_tree_species.ts":$ee,"/src/routes/map/data/entries/vector/mvt/polygon/kochi_fr_mesh20m.ts":qee,"/src/routes/map/data/entries/vector/mvt/polygon/kochi_tree_species.ts":Jee,"/src/routes/map/data/entries/vector/mvt/polygon/national_forest_stand.ts":ete,"/src/routes/map/data/entries/vector/mvt/polygon/plateau_lod2_mvt.ts":nte,"/src/routes/map/data/entries/vector/mvt/polygon/tochigi_fr_mesh20m.ts":ite,"/src/routes/map/data/entries/vector/mvt/polygon/tochigi_tree_species.ts":ate,"/src/routes/map/data/entries/vector/pmtiles/line_string/national_forest_road.ts":lte,"/src/routes/map/data/entries/vector/pmtiles/point/fac_phenology_2020.ts":Ate,"/src/routes/map/data/entries/vector/pmtiles/point/tokyo_gairoju.ts":Rte,"/src/routes/map/data/entries/vector/pmtiles/polygon/gifu_sugi_kansetugai.ts":Ete,"/src/routes/map/data/entries/vector/pmtiles/polygon/ksj_tmplt_a15.ts":Ite}),R7=Object.values(mre).map(n=>n.default).sort((n,e)=>n.metaData.name.localeCompare(e.metaData.name,"ja")),N0=(()=>{const e=R7.map(t=>t.id).filter((t,r,i)=>i.indexOf(t)!==r);return e.length>0&&console.warn("id:",e),_re(R7)})(),XD=new _u(N0,{keys:["metaData.name","metaData.tags","metaData.location","metaData.attribution"],threshold:.3,getFn:(n,e)=>{const t=[];return n.metaData.name&&t.push(u1(n.metaData.name)),n.metaData.location&&t.push(u1(n.metaData.location)),n.metaData.attribution&&t.push(u1(n.metaData.attribution)),n.metaData.tags&&Array.isArray(n.metaData.tags)&&n.metaData.tags.forEach(r=>{t.push(u1(r))}),t}});class Ah{static get(e){return this.map.get(e)}static has(e){return this.map.has(e)}static add(e,t){this.map.has(e)||this.map.set(e,t)}static keys(){return Array.from(this.map.keys())}}z(Ah,"map",new Map(R7.map(e=>[e.id,R0(e)??"raster"])));const Zy=n=>{const e=new Set;if(n.features.forEach(t=>{t.geometry&&t.geometry.type&&e.add(t.geometry.type)}),e.has("Point"))return"Point";if(e.has("LineString"))return"LineString";if(e.has("Polygon"))return"Polygon";if(e.has("MultiPoint"))return"Point";if(e.has("MultiLineString"))return"LineString";if(e.has("MultiPolygon"))return"Polygon"},zx={name:"",description:"",attribution:"",location:"",maxZoom:24,minZoom:0,tags:[],bounds:Sd,xyzImageTile:{x:0,y:0,z:0}},e6=(n,e,t,r,i=SD())=>{const s={...zx,name:t,bounds:r};let a;if(e==="Point")a=a5;else if(e==="LineString")a=ED;else if(e==="Polygon")a=CD;else if(e==="Label"){a=a5;return}else{console.error("");return}if(!a){console.error("");return}a.colors={key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:i}}]};const o=Tte(n);a.labels=LJ(o);const l="geojson_"+crypto.randomUUID();return Tl.set(l,n),{id:l,type:"vector",format:{type:"geojson",geometryType:e,url:""},metaData:s,interaction:{clickable:!0},properties:{keys:o,titles:[{conditions:[],template:t}]},style:a}},yre=(n,e,t,r,i=SD())=>{const s={...zx,name:n,sourceLayer:t};let a;if(r==="Point")a=a5;else if(r==="LineString")a=ED;else if(r==="Polygon")a=CD;else if(r==="Label"){a=a5;return}else{console.error("");return}if(!a){console.error("");return}return a.colors={key:"",show:!0,expressions:[{type:"single",key:"",name:"",mapping:{value:i}}]},{id:"vectorTile_"+crypto.randomUUID(),type:"vector",format:{type:"mvt",geometryType:r,url:e},metaData:s,interaction:{clickable:!0},properties:{keys:[],titles:[{conditions:[],template:n}]},style:a}},bre=(n,e)=>({id:"raster_"+crypto.randomUUID(),type:"raster",format:{type:"image",url:e},metaData:{...zx,name:n,tileSize:256,bounds:Sd},interaction:{...ii},style:{...ns}}),JD=er([]),vre=()=>{const n=er([]),{subscribe:e,update:t,set:r}=n;return{subscribe:e,add:i=>{t(s=>s.some(a=>a.id===i.id)?s:[...s,i])},remove:i=>{t(s=>s.filter(a=>a.id!==i))},clearAttributions:()=>r([])}},wre=vre();class Ad{static set(e,t){this.cache.set(e,t)}static get(e){return this.cache.get(e)}static remove(e){this.cache.delete(e)}static clear(){this.cache.clear()}static has(e){return this.cache.has(e)}static keys(){return this.cache.keys()}}z(Ad,"cache",new Map);const h5=er("idle"),WC=["point","line","polygon","raster"],$b=n=>n.sort((e,t)=>{(!Ah.has(e)||!Ah.has(t))&&console.warn(`EntryIdToTypeMap does not have entry for ${e} or ${t}`);const r=Ah.get(e)||"raster",i=Ah.get(t)||"raster",s=WC.indexOf(r),a=WC.indexOf(i);return s-a}),Lre=()=>{const n=er([...jw]),{subscribe:e,update:t,set:r}=n;return{subscribe:e,setLayers:i=>{Tl.clear(),r($b(i))},add:i=>t(s=>(s.includes(i)||(s=[i,...s]),$b(s))),has:i=>Wn(n).includes(i),addType:(i,s)=>{Ah.add(i,s)},remove:i=>t(s=>{const a=s.filter(o=>o!==i);return Tl.has(i)&&Tl.remove(i),Ad.has(i)&&Ad.remove(i),wre.remove(i),a}),reorder:(i,s)=>t(a=>{const o=a.indexOf(i),l=a.indexOf(s);if(o===-1||l===-1||o===l)return h5.set("invalid"),a;const c=[...a],A=c.splice(o,1)[0];return c.splice(l,0,A),h5.set("success"),$b(c)}),reset:()=>{for(const i of Tl.keys())Tl.remove(i);r([...jw])}}},ba=Lre(),Ho=er("satellite"),ud=er(!0),T3=er(!0),M3=er(!0),fd=er(!0),qC=er(!1),O1=er(!1);var Ps=Uint8Array,mo=Uint16Array,Hx=Int32Array,t6=new Ps([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),n6=new Ps([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),B7=new Ps([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZD=function(n,e){for(var t=new mo(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Hx(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},eO=ZD(t6,2),tO=eO.b,E7=eO.r;tO[28]=258,E7[258]=28;var nO=ZD(n6,0),xre=nO.b,XC=nO.r,C7=new mo(32768);for(var qr=0;qr<32768;++qr){var hA=(qr&43690)>>1|(qr&21845)<<1;hA=(hA&52428)>>2|(hA&13107)<<2,hA=(hA&61680)>>4|(hA&3855)<<4,C7[qr]=((hA&65280)>>8|(hA&255)<<8)>>1}var Ic=function(n,e,t){for(var r=n.length,i=0,s=new mo(e);i<r;++i)n[i]&&++s[n[i]-1];var a=new mo(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new mo(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],A=e-n[i],u=a[n[i]-1]++<<A,h=u|(1<<A)-1;u<=h;++u)o[C7[u]>>l]=c}else for(o=new mo(r),i=0;i<r;++i)n[i]&&(o[i]=C7[a[n[i]-1]++]>>15-n[i]);return o},iu=new Ps(288);for(var qr=0;qr<144;++qr)iu[qr]=8;for(var qr=144;qr<256;++qr)iu[qr]=9;for(var qr=256;qr<280;++qr)iu[qr]=7;for(var qr=280;qr<288;++qr)iu[qr]=8;var S3=new Ps(32);for(var qr=0;qr<32;++qr)S3[qr]=5;var Rre=Ic(iu,9,0),Bre=Ic(iu,9,1),Ere=Ic(S3,5,0),Cre=Ic(S3,5,1),Wb=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},gl=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},qb=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Qx=function(n){return(n+7)/8|0},rO=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Ps(n.subarray(e,t))},Ire=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],co=function(n,e,t){var r=new Error(e||Ire[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,co),!t)throw r;return r},jx=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new Ps(0);var a=!t,o=a||e.i!=2,l=e.i;a&&(t=new Ps(i*3));var c=function(_e){var xe=t.length;if(_e>xe){var Re=new Ps(Math.max(xe*2,_e));Re.set(t),t=Re}},A=e.f||0,u=e.p||0,h=e.b||0,f=e.l,d=e.d,g=e.m,_=e.n,m=i*8;do{if(!f){A=gl(n,u,1);var y=gl(n,u+1,3);if(u+=3,y)if(y==1)f=Bre,d=Cre,g=9,_=5;else if(y==2){var C=gl(n,u,31)+257,I=gl(n,u+10,15)+4,R=C+gl(n,u+5,31)+1;u+=14;for(var w=new Ps(R),U=new Ps(19),M=0;M<I;++M)U[B7[M]]=gl(n,u+M*3,7);u+=I*3;for(var F=Wb(U),P=(1<<F)-1,S=Ic(U,F,1),M=0;M<R;){var W=S[gl(n,u,P)];u+=W&15;var b=W>>4;if(b<16)w[M++]=b;else{var re=0,G=0;for(b==16?(G=3+gl(n,u,3),u+=2,re=w[M-1]):b==17?(G=3+gl(n,u,7),u+=3):b==18&&(G=11+gl(n,u,127),u+=7);G--;)w[M++]=re}}var ie=w.subarray(0,C),X=w.subarray(C);g=Wb(ie),_=Wb(X),f=Ic(ie,g,1),d=Ic(X,_,1)}else co(1);else{var b=Qx(u)+4,v=n[b-4]|n[b-3]<<8,B=b+v;if(B>i){l&&co(0);break}o&&c(h+v),t.set(n.subarray(b,B),h),e.b=h+=v,e.p=u=B*8,e.f=A;continue}if(u>m){l&&co(0);break}}o&&c(h+131072);for(var ge=(1<<g)-1,K=(1<<_)-1,N=u;;N=u){var re=f[qb(n,u)&ge],H=re>>4;if(u+=re&15,u>m){l&&co(0);break}if(re||co(2),H<256)t[h++]=H;else if(H==256){N=u,f=null;break}else{var V=H-254;if(H>264){var M=H-257,j=t6[M];V=gl(n,u,(1<<j)-1)+tO[M],u+=j}var le=d[qb(n,u)&K],de=le>>4;le||co(3),u+=le&15;var X=xre[de];if(de>3){var j=n6[de];X+=qb(n,u)&(1<<j)-1,u+=j}if(u>m){l&&co(0);break}o&&c(h+131072);var he=h+V;if(h<X){var ue=s-X,me=Math.min(X,he);for(ue+h<0&&co(3);h<me;++h)t[h]=r[ue+h]}for(;h<he;++h)t[h]=t[h-X]}}e.l=f,e.p=N,e.b=h,e.f=A,f&&(A=1,e.m=g,e.d=d,e.n=_)}while(!A);return h!=t.length&&a?rO(t,0,h):t.subarray(0,h)},n0=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},E2=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Xb=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:sO,l:0};if(i==1){var a=new Ps(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(B,C){return B.f-C.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],c=0,A=1,u=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};A!=i-1;)o=t[t[c].f<t[u].f?c++:u++],l=t[c!=A&&t[c].f<t[u].f?c++:u++],t[A++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=s[0].s,r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var f=new mo(h+1),d=I7(t[A-1],f,0);if(d>e){var r=0,g=0,_=d-e,m=1<<_;for(s.sort(function(C,I){return f[I.s]-f[C.s]||C.f-I.f});r<i;++r){var y=s[r].s;if(f[y]>e)g+=m-(1<<d-f[y]),f[y]=e;else break}for(g>>=_;g>0;){var b=s[r].s;f[b]<e?g-=1<<e-f[b]++-1:++r}for(;r>=0&&g;--r){var v=s[r].s;f[v]==e&&(--f[v],++g)}d=e}return{t:new Ps(f),l:d}},I7=function(n,e,t){return n.s==-1?Math.max(I7(n.l,e,t+1),I7(n.r,e,t+1)):e[n.s]=t},JC=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new mo(++e),r=0,i=n[0],s=1,a=function(l){t[r++]=l},o=1;o<=e;++o)if(n[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=n[o]}return{c:t.subarray(0,r),n:e}},C2=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},iO=function(n,e,t){var r=t.length,i=Qx(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},ZC=function(n,e,t,r,i,s,a,o,l,c,A){n0(e,A++,t),++i[256];for(var u=Xb(i,15),h=u.t,f=u.l,d=Xb(s,15),g=d.t,_=d.l,m=JC(h),y=m.c,b=m.n,v=JC(g),B=v.c,C=v.n,I=new mo(19),R=0;R<y.length;++R)++I[y[R]&31];for(var R=0;R<B.length;++R)++I[B[R]&31];for(var w=Xb(I,7),U=w.t,M=w.l,F=19;F>4&&!U[B7[F-1]];--F);var P=c+5<<3,S=C2(i,iu)+C2(s,S3)+a,W=C2(i,h)+C2(s,g)+a+14+3*F+C2(I,U)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&P<=S&&P<=W)return iO(e,A,n.subarray(l,l+c));var re,G,ie,X;if(n0(e,A,1+(W<S)),A+=2,W<S){re=Ic(h,f,0),G=h,ie=Ic(g,_,0),X=g;var ge=Ic(U,M,0);n0(e,A,b-257),n0(e,A+5,C-1),n0(e,A+10,F-4),A+=14;for(var R=0;R<F;++R)n0(e,A+3*R,U[B7[R]]);A+=3*F;for(var K=[y,B],N=0;N<2;++N)for(var H=K[N],R=0;R<H.length;++R){var V=H[R]&31;n0(e,A,ge[V]),A+=U[V],V>15&&(n0(e,A,H[R]>>5&127),A+=H[R]>>12)}}else re=Rre,G=iu,ie=Ere,X=S3;for(var R=0;R<o;++R){var j=r[R];if(j>255){var V=j>>18&31;E2(e,A,re[V+257]),A+=G[V+257],V>7&&(n0(e,A,j>>23&31),A+=t6[V]);var le=j&31;E2(e,A,ie[le]),A+=X[le],le>3&&(E2(e,A,j>>5&8191),A+=n6[le])}else E2(e,A,re[j]),A+=G[j]}return E2(e,A,re[256]),A+G[256]},Tre=new Hx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sO=new Ps(0),Mre=function(n,e,t,r,i,s){var a=s.z||n.length,o=new Ps(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,A=(s.r||0)&7;if(e){A&&(l[0]=s.r>>3);for(var u=Tre[e-1],h=u>>13,f=u&8191,d=(1<<t)-1,g=s.p||new mo(32768),_=s.h||new mo(d+1),m=Math.ceil(t/3),y=2*m,b=function(D){return(n[D]^n[D+1]<<m^n[D+2]<<y)&d},v=new Hx(25e3),B=new mo(288),C=new mo(32),I=0,R=0,w=s.i||0,U=0,M=s.w||0,F=0;w+2<a;++w){var P=b(w),S=w&32767,W=_[P];if(g[S]=W,_[P]=S,M<=w){var re=a-w;if((I>7e3||U>24576)&&(re>423||!c)){A=ZC(n,l,0,v,B,C,R,U,F,w-F,A),U=I=R=0,F=w;for(var G=0;G<286;++G)B[G]=0;for(var G=0;G<30;++G)C[G]=0}var ie=2,X=0,ge=f,K=S-W&32767;if(re>2&&P==b(w-K))for(var N=Math.min(h,re)-1,H=Math.min(32767,w),V=Math.min(258,re);K<=H&&--ge&&S!=W;){if(n[w+ie]==n[w+ie-K]){for(var j=0;j<V&&n[w+j]==n[w+j-K];++j);if(j>ie){if(ie=j,X=K,j>N)break;for(var le=Math.min(K,j-2),de=0,G=0;G<le;++G){var he=w-K+G&32767,ue=g[he],me=he-ue&32767;me>de&&(de=me,W=he)}}}S=W,W=g[S],K+=S-W&32767}if(X){v[U++]=268435456|E7[ie]<<18|XC[X];var _e=E7[ie]&31,xe=XC[X]&31;R+=t6[_e]+n6[xe],++B[257+_e],++C[xe],M=w+ie,++I}else v[U++]=n[w],++B[n[w]]}}for(w=Math.max(w,M);w<a;++w)v[U++]=n[w],++B[n[w]];A=ZC(n,l,c,v,B,C,R,U,F,w-F,A),c||(s.r=A&7|l[A/8|0]<<3,A-=7,s.h=_,s.p=g,s.i=w,s.w=M)}else{for(var w=s.w||0;w<a+c;w+=65535){var Re=w+65535;Re>=a&&(l[A/8|0]=c,Re=a),A=iO(l,A+1,n.subarray(w,Re))}s.i=a}return rO(o,0,r+Qx(A)+i)},aO=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Sre=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ps(s.length+n.length);a.set(s),a.set(n,s.length),n=a,i.w=s.length}return Mre(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},oO=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Fre=function(n){(n[0]!=31||n[1]!=139||n[2]!=8)&&co(6,"invalid gzip data");var e=n[3],t=10;e&4&&(t+=(n[10]|n[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!n[t++]);return t+(e&2)},Ure=function(n){var e=n.length;return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0},Nre=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=aO();i.p(e.dictionary),oO(n,2,i.d())}},kre=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&co(6,"invalid zlib data"),(n[1]>>5&1)==1&&co(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function Pre(n,e){return jx(n,{i:2},e,e)}function Dre(n,e){var t=Fre(n);return t+8>n.length&&co(6,"invalid gzip data"),jx(n.subarray(t,-8),{i:2},new Ps(Ure(n)),e)}function T7(n,e){e||(e={});var t=aO();t.p(n);var r=Sre(n,e,e.dictionary?6:2,4);return Nre(r,e),oO(r,r.length-4,t.d()),r}function Ore(n,e){return jx(n.subarray(kre(n),-4),{i:2},e,e)}function zre(n,e){return n[0]==31&&n[1]==139&&n[2]==8?Dre(n,e):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?Pre(n,e):Ore(n,e)}var Hre=typeof TextDecoder<"u"&&new TextDecoder,Qre=0;try{Hre.decode(sO,{stream:!0}),Qre=1}catch{}var jre=Object.defineProperty,Dg=Math.pow,Ir=(n,e)=>jre(n,"name",{value:e,configurable:!0}),xs=(n,e,t)=>new Promise((r,i)=>{var s=l=>{try{o(t.next(l))}catch(c){i(c)}},a=l=>{try{o(t.throw(l))}catch(c){i(c)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(n,e)).next())});Ir((n,e)=>{let t=!1,r="",i=L.GridLayer.extend({createTile:Ir((s,a)=>{let o=document.createElement("img"),l=new AbortController,c=l.signal;return o.cancel=()=>{l.abort()},t||(n.getHeader().then(A=>{A.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):A.tileType===2?r="image/png":A.tileType===3?r="image/jpeg":A.tileType===4?r="image/webp":A.tileType===5&&(r="image/avif")}),t=!0),n.getZxy(s.z,s.x,s.y,c).then(A=>{if(A){let u=new Blob([A.data],{type:r}),h=window.URL.createObjectURL(u);o.src=h,o.cancel=void 0,a(void 0,o)}}).catch(A=>{if(A.name!=="AbortError")throw A}),o},"createTile"),_removeTile:Ir(function(s){let a=this._tiles[s];a&&(a.el.cancel&&a.el.cancel(),a.el.width=0,a.el.height=0,a.el.deleted=!0,L.DomUtil.remove(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))},"_removeTile")});return new i(e)},"leafletRasterLayer");var Yre=Ir(n=>(e,t)=>{if(t instanceof AbortController)return n(e,t);let r=new AbortController;return n(e,r).then(i=>t(void 0,i.data,i.cacheControl||"",i.expires||""),i=>t(i)).catch(i=>t(i)),{cancel:Ir(()=>r.abort(),"cancel")}},"v3compat"),lO=class{constructor(e){this.tilev4=Ir((t,r)=>xs(this,null,function*(){if(t.type==="json"){let f=t.url.substr(10),d=this.tiles.get(f);if(d||(d=new z1(f),this.tiles.set(f,d)),this.metadata)return{data:yield d.getTileJson(t.url)};let g=yield d.getHeader();return(g.minLon>=g.maxLon||g.minLat>=g.maxLat)&&console.error(`Bounds of PMTiles archive ${g.minLon},${g.minLat},${g.maxLon},${g.maxLat} are not valid.`),{data:{tiles:[`${t.url}/{z}/{x}/{y}`],minzoom:g.minZoom,maxzoom:g.maxZoom,bounds:[g.minLon,g.minLat,g.maxLon,g.maxLat]}}}let i=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),s=t.url.match(i);if(!s)throw new Error("Invalid PMTiles protocol URL");let a=s[1],o=this.tiles.get(a);o||(o=new z1(a),this.tiles.set(a,o));let l=s[2],c=s[3],A=s[4],u=yield o.getHeader(),h=yield o==null?void 0:o.getZxy(+l,+c,+A,r.signal);if(h)return{data:new Uint8Array(h.data),cacheControl:h.cacheControl,expires:h.expires};if(u.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4"),this.tile=Yre(this.tilev4),this.tiles=new Map,this.metadata=(e==null?void 0:e.metadata)||!1,this.errorOnMissingTile=(e==null?void 0:e.errorOnMissingTile)||!1}add(e){this.tiles.set(e.source.getKey(),e)}get(e){return this.tiles.get(e)}};Ir(lO,"Protocol");var Gre=lO;function cO(n,e){return(e>>>0)*4294967296+(n>>>0)}Ir(cO,"toNum");function AO(n,e){let t=e.buf,r=t[e.pos++],i=(r&112)>>4;if(r<128||(r=t[e.pos++],i|=(r&127)<<3,r<128)||(r=t[e.pos++],i|=(r&127)<<10,r<128)||(r=t[e.pos++],i|=(r&127)<<17,r<128)||(r=t[e.pos++],i|=(r&127)<<24,r<128)||(r=t[e.pos++],i|=(r&1)<<31,r<128))return cO(n,i);throw new Error("Expected varint not more than 10 bytes")}Ir(AO,"readVarintRemainder");function Jf(n){let e=n.buf,t=e[n.pos++],r=t&127;return t<128||(t=e[n.pos++],r|=(t&127)<<7,t<128)||(t=e[n.pos++],r|=(t&127)<<14,t<128)||(t=e[n.pos++],r|=(t&127)<<21,t<128)?r:(t=e[n.pos],r|=(t&15)<<28,AO(r,n))}Ir(Jf,"readVarint");function Yx(n,e,t,r){if(r===0){t===1&&(e[0]=n-1-e[0],e[1]=n-1-e[1]);let i=e[0];e[0]=e[1],e[1]=i}}Ir(Yx,"rotate");function uO(n,e){let t=Dg(2,n),r=e,i=e,s=e,a=[0,0],o=1;for(;o<t;)r=1&s/2,i=1&(s^r),Yx(o,a,r,i),a[0]+=o*r,a[1]+=o*i,s=s/4,o*=2;return[n,a[0],a[1]]}Ir(uO,"idOnLevel");var Vre=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function fO(n,e,t){if(n>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(e>Dg(2,n)-1||t>Dg(2,n)-1)throw new Error("tile x/y outside zoom level bounds");let r=Vre[n],i=Dg(2,n),s=0,a=0,o=0,l=[e,t],c=i/2;for(;c>0;)s=(l[0]&c)>0?1:0,a=(l[1]&c)>0?1:0,o+=c*c*(3*s^a),Yx(c,l,s,a),c=c/2;return r+o}Ir(fO,"zxyToTileId");function Kre(n){let e=0;for(let t=0;t<27;t++){let r=(1<<t)*(1<<t);if(e+r>n)return uO(t,n-e);e+=r}throw new Error("Tile zoom level exceeds max safe number limit (26)")}Ir(Kre,"tileIdToZxy");var $re=(n=>(n[n.Unknown=0]="Unknown",n[n.None=1]="None",n[n.Gzip=2]="Gzip",n[n.Brotli=3]="Brotli",n[n.Zstd=4]="Zstd",n))($re||{});function r6(n,e){return xs(this,null,function*(){if(e===1||e===0)return n;if(e===2){if(typeof globalThis.DecompressionStream>"u")return zre(new Uint8Array(n));let t=new Response(n).body;if(!t)throw new Error("Failed to read response stream");let r=t.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(r).arrayBuffer()}throw new Error("Compression method not supported")})}Ir(r6,"defaultDecompress");var Wre=(n=>(n[n.Unknown=0]="Unknown",n[n.Mvt=1]="Mvt",n[n.Png=2]="Png",n[n.Jpeg=3]="Jpeg",n[n.Webp=4]="Webp",n[n.Avif=5]="Avif",n))(Wre||{});function hO(n){return n===1?".mvt":n===2?".png":n===3?".jpg":n===4?".webp":n===5?".avif":""}Ir(hO,"tileTypeExt");var qre=127;function dO(n,e){let t=0,r=n.length-1;for(;t<=r;){let i=r+t>>1,s=e-n[i].tileId;if(s>0)t=i+1;else if(s<0)r=i-1;else return n[i]}return r>=0&&(n[r].runLength===0||e-n[r].tileId<n[r].runLength)?n[r]:null}Ir(dO,"findTile");var Xre=class{constructor(e){this.file=e}getKey(){return this.file.name}getBytes(e,t){return xs(this,null,function*(){return{data:yield this.file.slice(e,e+t).arrayBuffer()}})}};Ir(Xre,"FileSource");var gO=class{constructor(e,t=new Headers){this.url=e,this.customHeaders=t,this.mustReload=!1;let r="";"navigator"in globalThis&&(r=globalThis.navigator.userAgent||"");let i=r.indexOf("Windows")>-1,s=/Chrome|Chromium|Edg|OPR|Brave/.test(r);this.chromeWindowsNoCache=!1,i&&s&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(e){this.customHeaders=e}getBytes(e,t,r,i){return xs(this,null,function*(){let s,a;r?a=r:(s=new AbortController,a=s.signal);let o=new Headers(this.customHeaders);o.set("range",`bytes=${e}-${e+t-1}`);let l;this.mustReload?l="reload":this.chromeWindowsNoCache&&(l="no-store");let c=yield fetch(this.url,{signal:a,cache:l,headers:o});if(e===0&&c.status===416){let h=c.headers.get("Content-Range");if(!h||!h.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let f=+h.substr(8);c=yield fetch(this.url,{signal:a,cache:"reload",headers:{range:`bytes=0-${f-1}`}})}let A=c.headers.get("Etag");if(A!=null&&A.startsWith("W/")&&(A=null),c.status===416||i&&A&&A!==i)throw this.mustReload=!0,new M7(`Server returned non-matching ETag ${i} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(c.status>=300)throw new Error(`Bad response code: ${c.status}`);let u=c.headers.get("Content-Length");if(c.status===200&&(!u||+u>t))throw s&&s.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield c.arrayBuffer(),etag:A||void 0,cacheControl:c.headers.get("Cache-Control")||void 0,expires:c.headers.get("Expires")||void 0}})}};Ir(gO,"FetchSource");var Jre=gO;function Fo(n,e){let t=n.getUint32(e+4,!0),r=n.getUint32(e+0,!0);return t*Dg(2,32)+r}Ir(Fo,"getUint64");function pO(n,e){let t=new DataView(n),r=t.getUint8(7);if(r>3)throw new Error(`Archive is spec version ${r} but this library supports up to spec version 3`);return{specVersion:r,rootDirectoryOffset:Fo(t,8),rootDirectoryLength:Fo(t,16),jsonMetadataOffset:Fo(t,24),jsonMetadataLength:Fo(t,32),leafDirectoryOffset:Fo(t,40),leafDirectoryLength:Fo(t,48),tileDataOffset:Fo(t,56),tileDataLength:Fo(t,64),numAddressedTiles:Fo(t,72),numTileEntries:Fo(t,80),numTileContents:Fo(t,88),clustered:t.getUint8(96)===1,internalCompression:t.getUint8(97),tileCompression:t.getUint8(98),tileType:t.getUint8(99),minZoom:t.getUint8(100),maxZoom:t.getUint8(101),minLon:t.getInt32(102,!0)/1e7,minLat:t.getInt32(106,!0)/1e7,maxLon:t.getInt32(110,!0)/1e7,maxLat:t.getInt32(114,!0)/1e7,centerZoom:t.getUint8(118),centerLon:t.getInt32(119,!0)/1e7,centerLat:t.getInt32(123,!0)/1e7,etag:e}}Ir(pO,"bytesToHeader");function Gx(n){let e={buf:new Uint8Array(n),pos:0},t=Jf(e),r=[],i=0;for(let s=0;s<t;s++){let a=Jf(e);r.push({tileId:i+a,offset:0,length:0,runLength:1}),i+=a}for(let s=0;s<t;s++)r[s].runLength=Jf(e);for(let s=0;s<t;s++)r[s].length=Jf(e);for(let s=0;s<t;s++){let a=Jf(e);a===0&&s>0?r[s].offset=r[s-1].offset+r[s-1].length:r[s].offset=a-1}return r}Ir(Gx,"deserializeIndex");var _O=class extends Error{};Ir(_O,"EtagMismatch");var M7=_O;function Vx(n,e){return xs(this,null,function*(){let t=yield n.getBytes(0,16384);if(new DataView(t.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let r=t.data.slice(0,qre),i=pO(r,t.etag),s=t.data.slice(i.rootDirectoryOffset,i.rootDirectoryOffset+i.rootDirectoryLength),a=`${n.getKey()}|${i.etag||""}|${i.rootDirectoryOffset}|${i.rootDirectoryLength}`,o=Gx(yield e(s,i.internalCompression));return[i,[a,o.length,o]]})}Ir(Vx,"getHeaderAndRoot");function Kx(n,e,t,r,i){return xs(this,null,function*(){let s=yield n.getBytes(t,r,void 0,i.etag),a=yield e(s.data,i.internalCompression),o=Gx(a);if(o.length===0)throw new Error("Empty directory is invalid");return o})}Ir(Kx,"getDirectory");var Zre=class{constructor(e=100,t=!0,r=r6){this.cache=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=r}getHeader(e){return xs(this,null,function*(){let t=e.getKey(),r=this.cache.get(t);if(r)return r.lastUsed=this.counter++,r.data;let i=yield Vx(e,this.decompress);return i[1]&&this.cache.set(i[1][0],{lastUsed:this.counter++,data:i[1][2]}),this.cache.set(t,{lastUsed:this.counter++,data:i[0]}),this.prune(),i[0]})}getDirectory(e,t,r,i){return xs(this,null,function*(){let s=`${e.getKey()}|${i.etag||""}|${t}|${r}`,a=this.cache.get(s);if(a)return a.lastUsed=this.counter++,a.data;let o=yield Kx(e,this.decompress,t,r,i);return this.cache.set(s,{lastUsed:this.counter++,data:o}),this.prune(),o})}prune(){if(this.cache.size>this.maxCacheEntries){let e=1/0,t;this.cache.forEach((r,i)=>{r.lastUsed<e&&(e=r.lastUsed,t=i)}),t&&this.cache.delete(t)}}invalidate(e){return xs(this,null,function*(){this.cache.delete(e.getKey())})}};Ir(Zre,"ResolvedValueCache");var mO=class{constructor(e=100,t=!0,r=r6){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=r}getHeader(e){return xs(this,null,function*(){let t=e.getKey(),r=this.cache.get(t);if(r)return r.lastUsed=this.counter++,yield r.data;let i=new Promise((s,a)=>{Vx(e,this.decompress).then(o=>{o[1]&&this.cache.set(o[1][0],{lastUsed:this.counter++,data:Promise.resolve(o[1][2])}),s(o[0]),this.prune()}).catch(o=>{a(o)})});return this.cache.set(t,{lastUsed:this.counter++,data:i}),i})}getDirectory(e,t,r,i){return xs(this,null,function*(){let s=`${e.getKey()}|${i.etag||""}|${t}|${r}`,a=this.cache.get(s);if(a)return a.lastUsed=this.counter++,yield a.data;let o=new Promise((l,c)=>{Kx(e,this.decompress,t,r,i).then(A=>{l(A),this.prune()}).catch(A=>{c(A)})});return this.cache.set(s,{lastUsed:this.counter++,data:o}),o})}prune(){if(this.cache.size>=this.maxCacheEntries){let e=1/0,t;this.cache.forEach((r,i)=>{r.lastUsed<e&&(e=r.lastUsed,t=i)}),t&&this.cache.delete(t)}}invalidate(e){return xs(this,null,function*(){let t=e.getKey();if(this.invalidations.get(t))return yield this.invalidations.get(t);this.cache.delete(e.getKey());let r=new Promise((i,s)=>{this.getHeader(e).then(a=>{i(),this.invalidations.delete(t)}).catch(a=>{s(a)})});this.invalidations.set(t,r)})}};Ir(mO,"SharedPromiseCache");var eie=mO,yO=class{constructor(e,t,r){typeof e=="string"?this.source=new Jre(e):this.source=e,r?this.decompress=r:this.decompress=r6,t?this.cache=t:this.cache=new eie}getHeader(){return xs(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(e,t,r,i){return xs(this,null,function*(){let s=fO(e,t,r),a=yield this.cache.getHeader(this.source);if(e<a.minZoom||e>a.maxZoom)return;let o=a.rootDirectoryOffset,l=a.rootDirectoryLength;for(let c=0;c<=3;c++){let A=yield this.cache.getDirectory(this.source,o,l,a),u=dO(A,s);if(u){if(u.runLength>0){let h=yield this.source.getBytes(a.tileDataOffset+u.offset,u.length,i,a.etag);return{data:yield this.decompress(h.data,a.tileCompression),cacheControl:h.cacheControl,expires:h.expires}}o=a.leafDirectoryOffset+u.offset,l=u.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(e,t,r,i){return xs(this,null,function*(){try{return yield this.getZxyAttempt(e,t,r,i)}catch(s){if(s instanceof M7)return this.cache.invalidate(this.source),yield this.getZxyAttempt(e,t,r,i);throw s}})}getMetadataAttempt(){return xs(this,null,function*(){let e=yield this.cache.getHeader(this.source),t=yield this.source.getBytes(e.jsonMetadataOffset,e.jsonMetadataLength,void 0,e.etag),r=yield this.decompress(t.data,e.internalCompression),i=new TextDecoder("utf-8");return JSON.parse(i.decode(r))})}getMetadata(){return xs(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(e){if(e instanceof M7)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw e}})}getTileJson(e){return xs(this,null,function*(){let t=yield this.getHeader(),r=yield this.getMetadata(),i=hO(t.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${e}/{z}/{x}/{y}${i}`],vector_layers:r.vector_layers,attribution:r.attribution,description:r.description,name:r.name,version:r.version,bounds:[t.minLon,t.minLat,t.maxLon,t.maxLat],center:[t.centerLon,t.centerLat,t.centerZoom],minzoom:t.minZoom,maxzoom:t.maxZoom}})}};Ir(yO,"PMTiles");var z1=yO;const dc=class dc{constructor(e=500){z(this,"imageBaseUrlCache",new Map);z(this,"cache");z(this,"cacheSizeLimit");z(this,"cacheOrder");this.cache=new Map,this.cacheSizeLimit=e,this.cacheOrder=[],this.imageBaseUrlCache=new Map}static getInstance(e=500){return dc.instance||(dc.instance=new dc(e)),dc.instance}async loadImagePmtiles(e,t,r){try{let i=dc.pmCache.get(e);i||(i=new z1(e),dc.pmCache.set(e,i));const s=await i.getZxy(t.z,t.x,t.y,r);if(!s||!s.data)throw new Error("Tile data not found");const a=new Blob([s.data],{type:"image/png"});return await createImageBitmap(a)}catch(i){if(i instanceof Error&&i.name==="AbortError")throw i;return await createImageBitmap(new ImageData(1,1))}}async loadImage(e,t){try{const r=await fetch(e,{signal:t});if(!r.ok)throw new Error("Failed to fetch image");return await createImageBitmap(await r.blob())}catch(r){if(r instanceof Error&&r.name==="AbortError")throw r;return await createImageBitmap(new ImageData(1,1))}}async getSingleTileImage(e,t,r,i,s,a,o){const l=s.replace("{x}",t.toString()).replace("{y}",r.toString()).replace("{z}",i.toString());if(this.cache.has(e)){const c=this.cache.get(e);return this.add(e,c),c}try{let c;if(a==="image")c=await this.loadImage(l,o.signal);else if(a==="pmtiles"){const A={x:t,y:r,z:i};c=await this.loadImagePmtiles(l,A,o.signal)}if(!c)throw new Error(`Failed to load image for ${e}`);return this.add(e,c),c}catch(c){if(c instanceof Error&&c.name==="AbortError")throw c;return console.error(`Error in getSingleTileImage for ${e}:`,c),await createImageBitmap(new ImageData(1,1))}}async getAdjacentTilesWithImages(e,t,r,i,s,a,o){const l=[{position:"center",dx:0,dy:0},{position:"left",dx:-1,dy:0},{position:"right",dx:1,dy:0},{position:"top",dx:0,dy:-1},{position:"bottom",dx:0,dy:1}],c={};return await Promise.all(l.map(async({position:A,dx:u,dy:h})=>{const f=t+u,d=r+h,g=`${e}_${f}_${d}_${i}`,m=(this.imageBaseUrlCache.get(e)||s).replace("{x}",f.toString()).replace("{y}",d.toString()).replace("{z}",i.toString());let y=this.cache.get(g);if(!y){if(a==="image")y=await this.loadImage(m,o.signal);else if(a==="pmtiles"){const b={x:f,y:d,z:i};y=await this.loadImagePmtiles(m,b,o.signal)}}y&&(this.add(g,y),c[A]={tileId:g,image:y})})),c}add(e,t){if(this.cacheOrder.length>=this.cacheSizeLimit){const i=this.cacheOrder.shift();i&&this.cache.delete(i)}this.cache.set(e,t);const r=this.cacheOrder.indexOf(e);r>-1&&this.cacheOrder.splice(r,1),this.cacheOrder.push(e)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}clear(){this.cache.clear(),this.cacheOrder=[]}getUrlcache(e){return this.imageBaseUrlCache.get(e)}addUrlcache(e,t){this.imageBaseUrlCache.set(e,t)}deleteUrlcache(e){this.imageBaseUrlCache.delete(e)}};z(dc,"instance"),z(dc,"pmCache",new Map);let d5=dc;const tie={fac_poi:{type:"vector",url:`pmtiles://${Id}/fac_search.pmtiles`,maxzoom:14,minzoom:1,bounds:[-180,-85.051129,180,85.051129]},fac_top:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"",image:"./mapicon.png",_prop_id:"fac_top"},geometry:{type:"Point",coordinates:[136.918564,35.554467]}}]}}},bO=[{id:"fac_poi","source-layer":"fac_poi",source:"fac_poi",type:"symbol",minzoom:11,layout:{"icon-image":"poi-icon","icon-size":3,"symbol-sort-key":1,"symbol-z-order":"source"},paint:{}},{id:"poi_top",type:"symbol",source:"fac_top",maxzoom:12,minzoom:4,layout:{"icon-image":"poi-icon","icon-size":3}}],eI=bO.map(n=>n.id),nie={openmaptiles:{type:"vector",url:"https://tile.openstreetmap.jp/data/planet.json"},takeshima:{type:"vector",url:"https://tile.openstreetmap.jp/data/takeshima.json"},hoppo:{type:"vector",url:"https://tile.openstreetmap.jp/data/hoppo.json"}},rie=[{id:"housenumber",type:"symbol",source:"openmaptiles","source-layer":"housenumber",minzoom:17,filter:["==","$type","Point"],layout:{"text-field":"{housenumber}","text-font":["Noto Sans JP Regular"],"text-size":10,visibility:"visible"},paint:{"text-color":"rgba(212, 177, 146, 1)"}},{id:"poi_label",type:"symbol",source:"openmaptiles","source-layer":"poi",minzoom:14,filter:["all",["==","$type","Point"],["==","rank",1],["!=","name",""]],layout:{"icon-size":1,"text-anchor":"top","text-field":"{name}","text-font":["Noto Sans JP Regular"],"text-max-width":8,"text-offset":[0,.5],"text-size":11,visibility:"visible"},paint:{"text-color":"rgba(255, 255, 255, 1)","text-halo-blur":1,"text-halo-color":"rgba(0, 0, 0, 0.75)","text-halo-width":1}},{id:"airport-label",type:"symbol",source:"openmaptiles","source-layer":"aerodrome_label",minzoom:10,filter:["all",["has","iata"]],layout:{"icon-size":1,"text-anchor":"top","text-field":"{name}","text-font":["Noto Sans JP Regular"],"text-max-width":8,"text-offset":[0,.5],"text-size":11,visibility:"visible"},paint:{"text-color":"rgba(255, 255, 255, 1)","text-halo-blur":1,"text-halo-color":"rgba(0, 0, 0, 0.75)","text-halo-width":1}},{id:"road_major_label",type:"symbol",source:"openmaptiles","source-layer":"transportation_name",minzoom:13,filter:["all",["!=","name",""],["==","$type","LineString"]],layout:{"symbol-placement":"line","text-field":"{name}","text-font":["Noto Sans JP Regular"],"text-letter-spacing":.1,"text-rotation-alignment":"map","text-size":{base:1.4,stops:[[10,8],[20,14]]},"text-transform":"uppercase",visibility:"visible"},paint:{"text-color":"rgba(255, 255, 255, 1)","text-halo-color":"rgba(73, 73, 73, 1)","text-halo-width":2}},{id:"place_label_other",type:"symbol",source:"openmaptiles","source-layer":"place",minzoom:8,filter:["all",["==","$type","Point"],["!in","class","city","state","country","continent"]],layout:{"text-anchor":"center","text-field":"{name}","text-font":["Noto Sans JP Regular"],"text-max-width":6,"text-size":{stops:[[6,10],[12,14]]},visibility:"visible"},paint:{"text-color":"rgba(255, 255, 255, 1)","text-halo-blur":0,"text-halo-color":"rgba(32, 32, 32, 1)","text-halo-width":2}},{id:"place_label_city",type:"symbol",source:"openmaptiles","source-layer":"place",maxzoom:16,filter:["all",["==","$type","Point"],["==","class","city"]],layout:{"text-field":"{name:ja}","text-font":["Noto Sans JP Regular"],"text-max-width":10,"text-size":{stops:[[3,12],[8,16]]}},paint:{"text-color":"rgba(255, 255, 255, 1)","text-halo-blur":0,"text-halo-color":"rgba(0, 0, 0, 0.75)","text-halo-width":2}},{id:"country_label-other",type:"symbol",source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["==","class","country"],["!has","iso_a2"]],layout:{"text-field":"{name}","text-font":["Noto Sans JP Regular"],"text-max-width":10,"text-size":{stops:[[3,12],[8,22]]},visibility:"visible"},paint:{"text-color":"hsl(0, 0%, 13%)","text-halo-blur":0,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2}},{id:"country_label",type:"symbol",source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["==","class","country"],["has","iso_a2"]],layout:{"text-field":"{name:ja}","text-font":["Noto Sans JP Regular"],"text-max-width":10,"text-size":{stops:[[3,12],[8,22]]},visibility:"visible"},paint:{"text-color":"rgba(255, 255, 255, 1)","text-halo-blur":0,"text-halo-color":"rgba(0, 0, 0, 0.75)","text-halo-width":2}},{id:"island-hoppo-name",type:"symbol",source:"hoppo","source-layer":"island",layout:{"text-field":"{name}","text-size":{stops:[[10,14],[15,24]]}},paint:{"text-color":"#333","text-halo-color":"rgba(255, 255, 255, 0.8)","text-halo-width":1.2}},{id:"island-takeshima-name",type:"symbol",source:"takeshima","source-layer":"island",layout:{"text-field":"{name}","text-size":{stops:[[10,14],[15,24]]}},paint:{"text-color":"#333","text-halo-color":"rgba(255, 255, 255, 0.8)","text-halo-width":1.2}},{id:"island-takeshima-poi",type:"symbol",source:"takeshima","source-layer":"island_poi",layout:{"text-field":"{name}","text-font":["Noto Sans JP Regular"],"text-size":{stops:[[10,14],[15,24]]}},paint:{"text-color":"#333","text-halo-color":"rgba(255, 255, 255, 0.8)","text-halo-width":1.2}}],iie={v:{type:"vector",minzoom:4,maxzoom:16,url:"pmtiles://https://cyberjapandata.gsi.go.jp/xyz/optimal_bvmap-v1/optimal_bvmap-v1.pmtiles",attribution:""}},sie=[{id:"",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["==",["geometry-type"],"Point"],["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]],16,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[0,1]]],["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]],17,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[1,2]]],["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]]],layout:{"icon-allow-overlap":!0,"icon-image":["match",["get","vt_code"],2901,"-20",2903,"-20",2904,"-20",""],"icon-size":["let","size",["match",["get","vt_code"],7701,.7,.5],["interpolate",["linear"],["zoom"],15,["var","size"],17,["*",2,["var","size"]]]],"symbol-sort-key":["match",["get","vt_code"],2901,88,2903,50,2904,49,7701,111,0],"text-allow-overlap":!1,"text-font":["Noto Sans JP Regular"],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],2901,10,7701,12,8],["interpolate",["linear"],["zoom"],15,["var","size"],17,["*",2,["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100},paint:{"text-color":["match",["get","vt_code"],7701,"rgba(0,0,0,1)","rgba(255,255,255,1)"]}}],aie=[{id:"",type:"line",source:"v","source-layer":"RdCL",minzoom:11,maxzoom:24,filter:["step",["zoom"],["all",["<=",["get","vt_lvorder"],4],["!",["in",["get","vt_code"],["literal",[2703,2704,2713,2714,2721,2722,2723,2724,2731,2732,2733,2734]]]],["!",["all",["in",["get","vt_rdctg"],["literal",["","",""]]],["==",["get","vt_rnkwidth"],"3m-5.5m"]]]],14,["all",["<=",["get","vt_lvorder"],4],["!",["in",["get","vt_code"],["literal",[2703,2704,2713,2714,2721,2722,2723,2724,2731,2732,2733,2734]]]]]],layout:{"line-join":"round","line-round-limit":1.57,"line-sort-key":["get","vt_drworder"],visibility:"visible"},paint:{"line-color":["match",["get","vt_motorway"],1,"rgba(0,0,0,1)",["case",["in",["get","vt_code"],["literal",[2711,2712,2713]]],"rgba(173,173,173,1)","rgba(100,100,100,1)"]],"line-opacity":["interpolate",["linear"],["zoom"],11,0,13,1,18,0],"line-width":["let","width",["+",["case",["all",["in",["get","vt_code"],["literal",[2703,2713,2723,2733]]],["!=",["get","vt_motorway"],1]],500,300],["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",300,"3m-5.5m",450,"5.5m-13m",900,"13m-19.5m",1800,"19.5m",2700,0],3e3]]],"width2",["+",["case",["all",["in",["get","vt_code"],["literal",[2703,2713,2723,2733]]],["!=",["get","vt_motorway"],1]],500,300],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",700,"3m-5.5m",1200,"5.5m-13m",1700,"13m-19.5m",2200,"19.5m",2700,0],3e3]],["interpolate",["exponential",2],["zoom"],11,2,12,["*",["^",2,-9],["var","width2"]],14,["*",["^",2,-9],["var","width2"]],23,["var","width"]]]}},{id:"ZL4-10",type:"line",source:"v","source-layer":"RdCL",maxzoom:11,filter:["in",["get","vt_rdctg"],["literal",["","","",""]]],layout:{"line-cap":"round","line-join":"round","line-sort-key":["get","vt_drworder"]},paint:{"line-color":["case",["in",["get","vt_code"],["literal",[2704,2714,2724,2734]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],["",""],"rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(255,255,255,1)",["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],["",""],"rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)","rgba(255,255,255,1)"]]]],"line-opacity":["interpolate",["linear"],["zoom"],10,["case",["all",["!",["==",["get","vt_motorway"],1]],["==",["get","vt_rdctg"],""]],0,1],11,1],"line-width":["interpolate",["linear"],["zoom"],8,1,9,["case",["all",["!",["==",["get","vt_motorway"],1]],["==",["get","vt_rdctg"],""]],1.5,2]]}},{id:"ZL4-10",type:"line",source:"v","source-layer":"RdCL",maxzoom:11,filter:["==",["get","vt_rdctg"],""],layout:{"line-cap":"round","line-join":"round","line-sort-key":["get","vt_drworder"],visibility:"visible"},paint:{"line-color":["case",["in",["get","vt_code"],["literal",[2704,2714,2724,2734]]],["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"],["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(255,255,255,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(255,255,255,1)","","rgba(210,190,139,1)","","rgba(255,255,255,1)","","rgba(255,255,255,1)","rgba(255,255,255,1)"]]],"line-width":["interpolate",["linear"],["zoom"],8,2,9,4]}},{id:"0",type:"line",source:"v","source-layer":"RdCL",minzoom:11,filter:["step",["zoom"],["all",["==",["get","vt_lvorder"],0],["!",["in",["get","vt_code"],["literal",[2703,2713,2723,2733,2724,2734]]]]],22,["all",["in",["get","vt_flag17"],["literal",[1,2]]],["!",["in",["get","vt_code"],["literal",[2724,2734]]]]]],layout:{"line-join":"round","line-cap":"round","line-round-limit":1.57,"line-sort-key":["get","vt_drworder"]},paint:{"line-color":["step",["zoom"],["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["case",["==",["get","vt_rnkwidth"],"3m-5.5m"],"rgba(173,173,173,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],14,["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],"line-opacity":["interpolate",["linear"],["zoom"],12,["case",["all",["!",["in",["get","vt_rdctg"],["literal",["","",""]]]],["==",["get","vt_rnkwidth"],"3m-5.5m"]],0,1],13,1,18,.1],"line-width":["let","width",["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",300,"3m-5.5m",450,"5.5m-13m",900,"13m-19.5m",1800,"19.5m",2700,0],3e3]],"width2",["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",700,"3m-5.5m",1200,"5.5m-13m",1700,"13m-19.5m",2200,"19.5m",2700,0],3e3],["interpolate",["exponential",2],["zoom"],11,["match",["get","vt_rdctg"],"",2,"",1.5,"",4,1],12,["*",["^",2,-9],["var","width2"]],14,["*",["^",2,-9],["var","width2"]],23,["var","width"]]]}},{id:"0",type:"line",source:"v","source-layer":"RdCL",minzoom:11,maxzoom:22,filter:["all",["==",["get","vt_lvorder"],0],["in",["get","vt_code"],["literal",[2703,2713,2723,2733]]]],layout:{"line-join":"round","line-round-limit":1.57,"line-sort-key":["get","vt_drworder"]},paint:{"line-color":["step",["zoom"],["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["case",["==",["get","vt_rnkwidth"],"3m-5.5m"],"rgba(173,173,173,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],14,["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],"line-opacity":["interpolate",["linear"],["zoom"],12,["case",["all",["!",["in",["get","vt_rdctg"],["literal",["","",""]]]],["==",["get","vt_rnkwidth"],"3m-5.5m"]],0,1],13,1,18,.1],"line-width":["let","width",["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",300,"3m-5.5m",450,"5.5m-13m",900,"13m-19.5m",1800,"19.5m",2700,0],3e3]],"width2",["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",700,"3m-5.5m",1200,"5.5m-13m",1700,"13m-19.5m",2200,"19.5m",2700,0],3e3],["interpolate",["exponential",2],["zoom"],11,["match",["get","vt_rdctg"],"",2,"",1.5,"",4,1],12,["*",["^",2,-9],["var","width2"]],14,["*",["^",2,-9],["var","width2"]],23,["var","width"]]]}},{id:"1",type:"line",source:"v","source-layer":"RdCL",minzoom:11,maxzoom:22,filter:["all",["==",["get","vt_lvorder"],1],["!",["in",["get","vt_code"],["literal",[2703,2713,2723,2733,2724,2734]]]]],layout:{"line-join":"round","line-round-limit":1.57,"line-sort-key":["get","vt_drworder"]},paint:{"line-color":["step",["zoom"],["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["case",["==",["get","vt_rnkwidth"],"3m-5.5m"],"rgba(173,173,173,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],14,["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],"line-opacity":["interpolate",["linear"],["zoom"],12,["case",["all",["!",["in",["get","vt_rdctg"],["literal",["","",""]]]],["==",["get","vt_rnkwidth"],"3m-5.5m"]],0,1],13,1,18,.1],"line-width":["let","width",["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",300,"3m-5.5m",450,"5.5m-13m",900,"13m-19.5m",1800,"19.5m",2700,0],3e3]],"width2",["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",700,"3m-5.5m",1200,"5.5m-13m",1700,"13m-19.5m",2200,"19.5m",2700,0],3e3],["interpolate",["exponential",2],["zoom"],11,["match",["get","vt_rdctg"],"",2,"",1.5,"",4,1],12,["*",["^",2,-9],["var","width2"]],14,["*",["^",2,-9],["var","width2"]],23,["var","width"]]]}},{id:"1",type:"line",source:"v","source-layer":"RdCL",minzoom:11,maxzoom:22,filter:["all",["==",["get","vt_lvorder"],1],["in",["get","vt_code"],["literal",[2703,2713,2723,2733]]]],layout:{"line-join":"round","line-round-limit":1.57,"line-sort-key":["get","vt_drworder"]},paint:{"line-color":["step",["zoom"],["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["case",["==",["get","vt_rnkwidth"],"3m-5.5m"],"rgba(173,173,173,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],14,["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],"line-opacity":["interpolate",["linear"],["zoom"],12,["case",["all",["!",["in",["get","vt_rdctg"],["literal",["","",""]]]],["==",["get","vt_rnkwidth"],"3m-5.5m"]],0,1],13,1,18,.1],"line-width":["let","width",["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",300,"3m-5.5m",450,"5.5m-13m",900,"13m-19.5m",1800,"19.5m",2700,0],3e3]],"width2",["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",700,"3m-5.5m",1200,"5.5m-13m",1700,"13m-19.5m",2200,"19.5m",2700,0],3e3],["interpolate",["exponential",2],["zoom"],11,["match",["get","vt_rdctg"],"",2,"",1.5,"",4,1],12,["*",["^",2,-9],["var","width2"]],14,["*",["^",2,-9],["var","width2"]],23,["var","width"]]]}},{id:"2",type:"line",source:"v","source-layer":"RdCL",minzoom:11,maxzoom:22,filter:["all",["==",["get","vt_lvorder"],2],["!",["in",["get","vt_code"],["literal",[2703,2713,2723,2733,2724,2734]]]]],layout:{"line-join":"round","line-round-limit":1.57,"line-sort-key":["get","vt_drworder"]},paint:{"line-color":["step",["zoom"],["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["case",["==",["get","vt_rnkwidth"],"3m-5.5m"],"rgba(173,173,173,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],14,["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],"line-opacity":["interpolate",["linear"],["zoom"],13,["case",["all",["!",["in",["get","vt_rdctg"],["literal",["","",""]]]],["==",["get","vt_rnkwidth"],"3m-5.5m"]],0,1],14,1],"line-width":["let","width",["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",300,"3m-5.5m",450,"5.5m-13m",900,"13m-19.5m",1800,"19.5m",2700,0],3e3]],"width2",["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",700,"3m-5.5m",1200,"5.5m-13m",1700,"13m-19.5m",2200,"19.5m",2700,0],3e3],["interpolate",["exponential",2],["zoom"],11,["match",["get","vt_rdctg"],"",2,"",1.5,"",4,1],12,["*",["^",2,-9],["var","width2"]],14,["*",["^",2,-9],["var","width2"]],23,["var","width"]]]}},{id:"2",type:"line",source:"v","source-layer":"RdCL",minzoom:11,maxzoom:22,filter:["all",["==",["get","vt_lvorder"],2],["in",["get","vt_code"],["literal",[2703,2713,2723,2733]]]],layout:{"line-join":"round","line-round-limit":1.57,"line-sort-key":["get","vt_drworder"]},paint:{"line-color":["step",["zoom"],["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["case",["==",["get","vt_rnkwidth"],"3m-5.5m"],"rgba(173,173,173,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],14,["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],"line-opacity":["interpolate",["linear"],["zoom"],12,["case",["all",["!",["in",["get","vt_rdctg"],["literal",["","",""]]]],["==",["get","vt_rnkwidth"],"3m-5.5m"]],0,1],13,1,18,.1],"line-width":["let","width",["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",300,"3m-5.5m",450,"5.5m-13m",900,"13m-19.5m",1800,"19.5m",2700,0],3e3]],"width2",["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",700,"3m-5.5m",1200,"5.5m-13m",1700,"13m-19.5m",2200,"19.5m",2700,0],3e3],["interpolate",["exponential",2],["zoom"],11,["match",["get","vt_rdctg"],"",2,"",1.5,"",4,1],12,["*",["^",2,-9],["var","width2"]],14,["*",["^",2,-9],["var","width2"]],23,["var","width"]]]}},{id:"3",type:"line",source:"v","source-layer":"RdCL",minzoom:11,maxzoom:22,filter:["all",["==",["get","vt_lvorder"],3],["!",["in",["get","vt_code"],["literal",[2703,2713,2723,2733,2724,2734]]]]],layout:{"line-join":"round","line-round-limit":1.57,"line-sort-key":["get","vt_drworder"]},paint:{"line-color":["step",["zoom"],["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["case",["==",["get","vt_rnkwidth"],"3m-5.5m"],"rgba(173,173,173,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],14,["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],"line-opacity":["interpolate",["linear"],["zoom"],13,["case",["all",["!",["in",["get","vt_rdctg"],["literal",["","",""]]]],["==",["get","vt_rnkwidth"],"3m-5.5m"]],0,1],14,1],"line-width":["let","width",["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",300,"3m-5.5m",450,"5.5m-13m",900,"13m-19.5m",1800,"19.5m",2700,0],3e3]],"width2",["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",700,"3m-5.5m",1200,"5.5m-13m",1700,"13m-19.5m",2200,"19.5m",2700,0],3e3],["interpolate",["exponential",2],["zoom"],11,["match",["get","vt_rdctg"],"",2,"",1.5,"",4,1],12,["*",["^",2,-9],["var","width2"]],14,["*",["^",2,-9],["var","width2"]],23,["var","width"]]]}},{id:"3",type:"line",source:"v","source-layer":"RdCL",minzoom:11,maxzoom:22,filter:["all",["==",["get","vt_lvorder"],3],["in",["get","vt_code"],["literal",[2703,2713,2723,2733]]]],layout:{"line-join":"round","line-round-limit":1.57,"line-sort-key":["get","vt_drworder"]},paint:{"line-color":["step",["zoom"],["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["case",["==",["get","vt_rnkwidth"],"3m-5.5m"],"rgba(173,173,173,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],14,["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],"line-opacity":["interpolate",["linear"],["zoom"],12,["case",["all",["!",["in",["get","vt_rdctg"],["literal",["","",""]]]],["==",["get","vt_rnkwidth"],"3m-5.5m"]],0,1],13,1,18,.1],"line-width":["let","width",["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",300,"3m-5.5m",450,"5.5m-13m",900,"13m-19.5m",1800,"19.5m",2700,0],3e3]],"width2",["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",700,"3m-5.5m",1200,"5.5m-13m",1700,"13m-19.5m",2200,"19.5m",2700,0],3e3],["interpolate",["exponential",2],["zoom"],11,["match",["get","vt_rdctg"],"",2,"",1.5,"",4,1],12,["*",["^",2,-9],["var","width2"]],14,["*",["^",2,-9],["var","width2"]],23,["var","width"]]]}},{id:"4",type:"line",source:"v","source-layer":"RdCL",minzoom:11,maxzoom:22,filter:["all",[">=",["get","vt_lvorder"],4],["!",["in",["get","vt_code"],["literal",[2703,2713,2723,2733,2724,2734]]]]],layout:{"line-join":"round","line-round-limit":1.57,"line-sort-key":["get","vt_drworder"]},paint:{"line-color":["step",["zoom"],["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["case",["==",["get","vt_rnkwidth"],"3m-5.5m"],"rgba(173,173,173,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],14,["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],"line-opacity":["interpolate",["linear"],["zoom"],13,["case",["all",["!",["in",["get","vt_rdctg"],["literal",["","",""]]]],["==",["get","vt_rnkwidth"],"3m-5.5m"]],0,1],14,1],"line-width":["let","width",["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",300,"3m-5.5m",450,"5.5m-13m",900,"13m-19.5m",1800,"19.5m",2700,0],3e3]],"width2",["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",700,"3m-5.5m",1200,"5.5m-13m",1700,"13m-19.5m",2200,"19.5m",2700,0],3e3],["interpolate",["exponential",2],["zoom"],11,["match",["get","vt_rdctg"],"",2,"",1.5,"",4,1],12,["*",["^",2,-9],["var","width2"]],14,["*",["^",2,-9],["var","width2"]],23,["var","width"]]]}},{id:"4",type:"line",source:"v","source-layer":"RdCL",minzoom:11,maxzoom:22,filter:["all",[">=",["get","vt_lvorder"],4],["in",["get","vt_code"],["literal",[2703,2713,2723,2733]]]],layout:{"line-join":"round","line-round-limit":1.57,"line-sort-key":["get","vt_drworder"]},paint:{"line-color":["step",["zoom"],["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["case",["==",["get","vt_rnkwidth"],"3m-5.5m"],"rgba(173,173,173,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],14,["case",["in",["get","vt_code"],["literal",[2704,2714]]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,0.5)",["match",["get","vt_rdctg"],"","rgba(210,190,139,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(210,190,139,0.5)","","rgba(100,100,100,0.5)","","rgba(100,100,100,0.5)","rgba(100,100,100,0.5)"]],["case",["==",["get","vt_motorway"],1],"rgba(210,190,139,1)",["match",["get","vt_rdctg"],"","rgba(210,190,139,1)","","rgba(210,190,139,1)","","rgba(210,190,139,1)",["match",["get","vt_code"],[2721,2722,2723],"rgba(173,173,173,1)",[2731,2732,2733],"rgba(200,200,200,1)","rgba(255,255,255,1)"]]]]],"line-opacity":["interpolate",["linear"],["zoom"],13,["case",["all",["!",["in",["get","vt_rdctg"],["literal",["","",""]]]],["==",["get","vt_rnkwidth"],"3m-5.5m"]],0,1],14,1],"line-width":["let","width",["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",300,"3m-5.5m",450,"5.5m-13m",900,"13m-19.5m",1800,"19.5m",2700,0],3e3]],"width2",["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",700,"3m-5.5m",1200,"5.5m-13m",1700,"13m-19.5m",2200,"19.5m",2700,0],3e3],["interpolate",["exponential",2],["zoom"],11,["match",["get","vt_rdctg"],"",2,"",1.5,"",4,1],12,["*",["^",2,-9],["var","width2"]],14,["*",["^",2,-9],["var","width2"]],23,["var","width"]]]}},{id:"",type:"line",source:"v","source-layer":"RdCL",minzoom:11,filter:["step",["zoom"],["in",["get","vt_code"],["literal",[2724,2734]]],17,["all",["in",["get","vt_flag17"],["literal",[1,2]]],["in",["get","vt_code"],["literal",[2724,2734]]]]],layout:{"line-join":"round","line-round-limit":1.57,"line-sort-key":["get","vt_drworder"]},paint:{"line-color":"rgba(100,100,100,1)","line-dasharray":[5,5],"line-gap-width":["let","width",["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",150,"3m-5.5m",225,"5.5m-13m",450,"13m-19.5m",900,"19.5m",1350,0],1500]],["interpolate",["exponential",2],["zoom"],11,2,12,["*",["^",2,-9],["var","width"]],14,["*",["^",2,-9],["var","width"]],23,["var","width"]]],"line-width":1}},{id:"",type:"line",source:"v","source-layer":"RdCL",minzoom:11,maxzoom:22,filter:["in",["get","vt_code"],["literal",[2731,2732,2733,2734]]],paint:{"line-color":"rgba(100,100,100,1)","line-dasharray":[.1,1],"line-width":["let","width",["case",["has","vt_width"],["get","vt_width"],["case",["has","vt_rnkwidth"],["match",["get","vt_rnkwidth"],"3m",300,"3m-5.5m",450,"5.5m-13m",900,"13m-19.5m",1800,"19.5m",2700,0],3e3]],["interpolate",["exponential",2],["zoom"],11,2,12,["*",["^",2,-9],["var","width"]],14,["*",["^",2,-9],["var","width"]],23,["var","width"]]]}}],oie={openmaptiles:{type:"vector",url:"https://tile.openstreetmap.jp/data/planet.json"}},lie=[{id:"admin_sub",type:"line",source:"openmaptiles","source-layer":"boundary",filter:["in","admin_level",4,6,8],layout:{visibility:"visible"},paint:{"line-color":"rgba(255, 255, 255, 1)","line-dasharray":[2,1]}},{id:"admin_country_z0-4",type:"line",source:"openmaptiles","source-layer":"boundary",minzoom:0,maxzoom:5,filter:["all",["<=","admin_level",2],["==","$type","LineString"],["!has","claimed_by"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"hsl(0, 0%, 60%)","line-width":{base:1.3,stops:[[3,.5],[22,15]]}}},{id:"admin_country_z5-",type:"line",source:"openmaptiles","source-layer":"boundary",minzoom:5,filter:["all",["<=","admin_level",2],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"hsl(0, 0%, 60%)","line-width":{base:1.3,stops:[[3,.5],[22,15]]}}}],cie={cloud:{type:"raster",url:`pmtiles://${up}/cloud.pmtiles`,attribution:""}},Aie=[{id:"cloud_layer",source:"cloud",type:"raster",paint:{"raster-opacity":["interpolate",["linear"],["zoom"],4,1,5,0]}}],r0={x:28846,y:12917,z:15},tI=[{type:"satellite",label:"",src:"https://cyberjapandata.gsi.go.jp/xyz/nendophoto2018/{z}/{x}/{y}.png".replace("{x}",String(r0.x)).replace("{y}",String(r0.y)).replace("{z}",String(r0.z))},{type:"hillshade",label:"",src:"https://cyberjapandata.gsi.go.jp/xyz/hillshademap/{z}/{x}/{y}.png".replace("{x}",String(r0.x)).replace("{y}",String(r0.y)).replace("{z}",String(r0.z))},{type:"osm",label:"OpenStreetMap",src:"https://tile.openstreetmap.org/{z}/{x}/{y}.png".replace("{x}",String(r0.x)).replace("{y}",String(r0.y)).replace("{z}",String(r0.z))}],uie={base_usgs_imagery_only:{type:"raster",tiles:["https://forestacdev.github.io/tiles-usgs-imagery-only/tiles/{z}/{x}/{y}.webp"],tileSize:256,maxzoom:8,attribution:"USGS"},base_seamlessphoto:{type:"raster",tiles:["https://cyberjapandata.gsi.go.jp/xyz/seamlessphoto/{z}/{x}/{y}.jpg"],tileSize:256,minzoom:1,maxzoom:18,bounds:[122.933755,24.045713,153.986895,45.556277],attribution:""}},fie=[{id:"base_map_usgs_layer",type:"raster",source:"base_usgs_imagery_only",maxzoom:9,paint:{"raster-opacity":.9,"raster-brightness-min":0,"raster-brightness-max":.8}},{id:"base_seamlessphoto_layer",type:"raster",source:"base_seamlessphoto",minzoom:8,maxzoom:24,paint:{"raster-opacity":.9,"raster-brightness-min":0,"raster-brightness-max":.8}}],nI={earthhillshade:{type:"raster",tiles:["https://cyberjapandata.gsi.go.jp/xyz/earthhillshade/{z}/{x}/{y}.png"],tileSize:256,minzoom:0,maxzoom:18,attribution:""},hillshademap:{type:"raster",tiles:["https://cyberjapandata.gsi.go.jp/xyz/hillshademap/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:16,attribution:""}},hie=[{id:"background_layer",type:"background",paint:{"background-color":"#FFFFEE"}},{id:"earthhillshade_layer",source:"earthhillshade",type:"raster",maxzoom:8,paint:{"raster-opacity":.7}},{id:"hillshademap_layer",source:"hillshademap",type:"raster",minzoom:2,maxzoom:24,paint:{"raster-opacity":.7}}],die={osm:{type:"raster",tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256,minzoom:0,maxzoom:24,attribution:" OpenStreetMap contributors"}},gie=[{id:"osm_layer",source:"osm",type:"raster",minzoom:0,maxzoom:24,paint:{"raster-opacity":.9,"raster-brightness-min":0,"raster-brightness-max":.9}}],pie=()=>{const n=z$;return{page:{subscribe:n.page.subscribe},navigating:{subscribe:n.navigating.subscribe},updated:n.updated}},_ie={subscribe(n){return pie().page.subscribe(n)}};let B_=String.fromCharCode,vO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",E_={};function mie(n,e){if(!E_[n]){E_[n]={};for(let t=0;t<n.length;t++)E_[n][n.charAt(t)]=t}return E_[n][e]}function yie(n){return n==null?"":vie(n,6,function(e){return vO.charAt(e)})}function bie(n){return n==null?"":n==""?null:wie((n=n.replace(/ /g,"+")).length,32,function(e){return mie(vO,n.charAt(e))})}function vie(n,e,t){if(n==null)return"";let r,i,s={},a={},o="",l="",c="",A=2,u=3,h=2,f=[],d=0,g=0,_;for(_=0;_<n.length;_+=1)if(o=n.charAt(_),Object.prototype.hasOwnProperty.call(s,o)||(s[o]=u++,a[o]=!0),l=c+o,Object.prototype.hasOwnProperty.call(s,l))c=l;else{if(Object.prototype.hasOwnProperty.call(a,c)){if(256>c.charCodeAt(0)){for(r=0;r<h;r++)d<<=1,g==e-1?(g=0,f.push(t(d)),d=0):g++;for(r=0,i=c.charCodeAt(0);r<8;r++)d=d<<1|1&i,g==e-1?(g=0,f.push(t(d)),d=0):g++,i>>=1}else{for(r=0,i=1;r<h;r++)d=d<<1|i,g==e-1?(g=0,f.push(t(d)),d=0):g++,i=0;for(r=0,i=c.charCodeAt(0);r<16;r++)d=d<<1|1&i,g==e-1?(g=0,f.push(t(d)),d=0):g++,i>>=1}--A==0&&(A=Math.pow(2,h),h++),delete a[c]}else for(r=0,i=s[c];r<h;r++)d=d<<1|1&i,g==e-1?(g=0,f.push(t(d)),d=0):g++,i>>=1;--A==0&&(A=Math.pow(2,h),h++),s[l]=u++,c=String(o)}if(c!==""){if(Object.prototype.hasOwnProperty.call(a,c)){if(256>c.charCodeAt(0)){for(r=0;r<h;r++)d<<=1,g==e-1?(g=0,f.push(t(d)),d=0):g++;for(r=0,i=c.charCodeAt(0);r<8;r++)d=d<<1|1&i,g==e-1?(g=0,f.push(t(d)),d=0):g++,i>>=1}else{for(r=0,i=1;r<h;r++)d=d<<1|i,g==e-1?(g=0,f.push(t(d)),d=0):g++,i=0;for(r=0,i=c.charCodeAt(0);r<16;r++)d=d<<1|1&i,g==e-1?(g=0,f.push(t(d)),d=0):g++,i>>=1}--A==0&&(A=Math.pow(2,h),h++),delete a[c]}else for(r=0,i=s[c];r<h;r++)d=d<<1|1&i,g==e-1?(g=0,f.push(t(d)),d=0):g++,i>>=1;--A==0&&(A=Math.pow(2,h),h++)}for(r=0,i=2;r<h;r++)d=d<<1|1&i,g==e-1?(g=0,f.push(t(d)),d=0):g++,i>>=1;for(;;){if(d<<=1,g==e-1){f.push(t(d));break}g++}return f.join("")}function wie(n,e,t){let r=[],i=4,s=4,a=3,o="",l=[],c,A,u,h,f,d,g,_={val:t(0),position:e,index:1};for(c=0;c<3;c+=1)r[c]=c;for(u=0,f=4,d=1;d!=f;)h=_.val&_.position,_.position>>=1,_.position==0&&(_.position=e,_.val=t(_.index++)),u|=(h>0?1:0)*d,d<<=1;switch(u){case 0:for(u=0,f=256,d=1;d!=f;)h=_.val&_.position,_.position>>=1,_.position==0&&(_.position=e,_.val=t(_.index++)),u|=(h>0?1:0)*d,d<<=1;g=B_(u);break;case 1:for(u=0,f=65536,d=1;d!=f;)h=_.val&_.position,_.position>>=1,_.position==0&&(_.position=e,_.val=t(_.index++)),u|=(h>0?1:0)*d,d<<=1;g=B_(u);break;case 2:return""}for(r[3]=g,A=g,l.push(g);;){if(_.index>n)return"";for(u=0,f=Math.pow(2,a),d=1;d!=f;)h=_.val&_.position,_.position>>=1,_.position==0&&(_.position=e,_.val=t(_.index++)),u|=(h>0?1:0)*d,d<<=1;switch(g=u){case 0:for(u=0,f=256,d=1;d!=f;)h=_.val&_.position,_.position>>=1,_.position==0&&(_.position=e,_.val=t(_.index++)),u|=(h>0?1:0)*d,d<<=1;r[s++]=B_(u),g=s-1,i--;break;case 1:for(u=0,f=65536,d=1;d!=f;)h=_.val&_.position,_.position>>=1,_.position==0&&(_.position=e,_.val=t(_.index++)),u|=(h>0?1:0)*d,d<<=1;r[s++]=B_(u),g=s-1,i--;break;case 2:return l.join("")}if(i==0&&(i=Math.pow(2,a),a++),r[g])o=r[g];else{if(g!==s)return null;o=A+A.charAt(0)}l.push(o),r[s++]=A+o.charAt(0),i--,A=o,i==0&&(i=Math.pow(2,a),a++)}}let wO;wO=_ie;const Lie={keepFocus:!0,noScroll:!0,replaceState:!0},xie={keepFocus:!0,noScroll:!0,replaceState:!1};function Rie(n,e,t){var s;const r=Array.from(new Set(Array.from(((s=n==null?void 0:n.keys)==null?void 0:s.call(n))||[]).concat(Object.keys(t??{}))));let i=!1;return[Object.fromEntries(r.map(a=>{if(e[a]!=null)return[a,e[a]];let o=u=>u;const l=t==null?void 0:t[a];typeof l!="boolean"&&typeof(l==null?void 0:l.decode)=="function"&&(o=l.decode);const c=n==null?void 0:n.get(a);let A;return c==null&&(l==null?void 0:l.defaultValue)!=null?(A=l.defaultValue,i=!0):A=o(c),[a,A]})),i]}function Bie(n,e,t=(r,i)=>JSON.stringify(r)===JSON.stringify(i)){return typeof n=="object"&&typeof e=="object"&&t(n,e)}function Jb({encode:n,decode:e}){function t(r){return{encode:n,decode:e,defaultValue:r}}return t}function Eie(n){return{encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:n}}function Cie(n){return{encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:n}}function Iie(n){return{encode:e=>yie(JSON.stringify(e)),decode:e=>{if(!e)return null;try{return JSON.parse(bie(e)??"")}catch{return null}},defaultValue:n}}const C_={number:Jb({encode:n=>n.toString(),decode:n=>n?parseFloat(n):null}),boolean:Jb({encode:n=>n+"",decode:n=>n!==null&&n!=="false"}),string:Jb({encode:n=>n??"",decode:n=>n}),object:Eie,array:Cie,lz:Iie},Zb=new Set;let rI;const iI=new Map;function il(n,{debounceHistory:e=0,pushHistory:t=!0,sort:r=!0,showDefaults:i=!0,equalityFn:s}={}){const a=er({});let o,l=!0;function c(u,h){l=!1;const f=window.location.hash,d=new URLSearchParams(window.location.search),g=_=>{for(const m of Object.keys(u)){if(u[m]==null){_.delete(m);continue}let y=B=>B.toString();const b=n==null?void 0:n[m];typeof b!="boolean"&&typeof(b==null?void 0:b.encode)=="function"&&(y=b.encode);const v=y(u[m]);v==null?_.delete(m):_.set(m,v)}};Zb.add(g),clearTimeout(rI),rI=setTimeout(async()=>{Zb.forEach(_=>{_(d)}),clearTimeout(iI.get("queryParameters"));{a.set(u);async function _(){r&&d.sort(),await Gk(`?${d}${f}`,t?xie:Lie),a.set({})}h||e===0?_():iI.set("queryParameters",setTimeout(_,e))}Zb.clear()})}const{subscribe:A}=O$([wO,a],([u,h],f)=>{var _;const[d,g]=Rie((_=u==null?void 0:u.url)==null?void 0:_.searchParams,h,n);if(g&&i&&c(structuredClone(d),l),!Bie(o,d,s))return o=structuredClone(d),f(structuredClone(d))});return{set(u){c(u)},subscribe:A,update:u=>{const h=Wn({subscribe:A}),f=u(h);c(f)}}}function LO(n,e,t){if(n!==null)for(var r,i,s,a,o,l,c,A=0,u=0,h,f=n.type,d=f==="FeatureCollection",g=f==="Feature",_=d?n.features.length:1,m=0;m<_;m++){c=d?n.features[m].geometry:g?n.geometry:n,h=c?c.type==="GeometryCollection":!1,o=h?c.geometries.length:1;for(var y=0;y<o;y++){var b=0,v=0;if(a=h?c.geometries[y]:c,a!==null){l=a.coordinates;var B=a.type;switch(A=0,B){case null:break;case"Point":if(e(l,u,m,b,v)===!1)return!1;u++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(e(l[r],u,m,b,v)===!1)return!1;u++,B==="MultiPoint"&&b++}B==="LineString"&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-A;i++){if(e(l[r][i],u,m,b,v)===!1)return!1;u++}B==="MultiLineString"&&b++,B==="Polygon"&&v++}B==="Polygon"&&b++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(v=0,i=0;i<l[r].length;i++){for(s=0;s<l[r][i].length-A;s++){if(e(l[r][i][s],u,m,b,v)===!1)return!1;u++}v++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(LO(a.geometries[r],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function xO(n,e={}){if(n.bbox!=null&&e.recompute!==!0)return n.bbox;const t=[1/0,1/0,-1/0,-1/0];return LO(n,r=>{t[0]>r[0]&&(t[0]=r[0]),t[1]>r[1]&&(t[1]=r[1]),t[2]<r[0]&&(t[2]=r[0]),t[3]<r[1]&&(t[3]=r[1])}),t}var g5=xO;const $x={mapbox:0,gsi:1,terrarium:2},Am=["jet","hsv","hot","spring","summer","autumn","winter","bone","copper","greys","yignbu","greens","yiorrd","bluered","rdbu","picnic","rainbow","portland","blackbody","earth","electric","viridis","inferno","magma","plasma","warm","cool","rainbow-soft","bathymetry","cdom","chlorophyll","density","freesurface-blue","freesurface-red","oxygen","par","phase","salinity","temperature","turbidity","velocity-blue","velocity-green","cubehelix"],RO={default:0,relief:1,slope:2,aspect:3,curvature:4,shadow:5};let Tie=class{constructor(e){z(this,"worker");z(this,"pendingRequests");z(this,"tileCache");z(this,"colorMapCache");z(this,"handleMessage",e=>{const{id:t,buffer:r,error:i}=e.data,s=this.pendingRequests.get(t);i?(console.error(`Error processing tile ${t}:`,i),s&&(s.reject(new Error(i)),this.pendingRequests.delete(t))):s&&(s.resolve({data:r}),this.pendingRequests.delete(t))});this.worker=e,this.pendingRequests=new Map,this.tileCache=d5.getInstance(),this.colorMapCache=new _p,this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,t){const r=parseInt(e.searchParams.get("x")||"0",10),i=parseInt(e.searchParams.get("y")||"0",10),s=parseInt(e.searchParams.get("z")||"0",10),a=e.searchParams.get("entryId")||"",o=e.origin+e.pathname,l=`${a}_${r}_${i}_${s}`,c=e.searchParams.get("formatType"),A=e.searchParams.get("demType"),u=$x[A],h=e.searchParams.get("mode")||"default",f=RO[h],d="buffar";if(h==="relief"){const g=await this.tileCache.getSingleTileImage(l,r,i,s,o,c,t),_=this.colorMapCache.createColorArray(e.searchParams.get("colorMap")||"bone"),m=parseFloat(e.searchParams.get("max")||"10000"),y=parseFloat(e.searchParams.get("min")||"0");return new Promise((b,v)=>{this.pendingRequests.set(l,{resolve:b,reject:v,controller:t}),this.worker.postMessage({tileId:l,center:g,demTypeNumber:u,modeNumber:f,mode:h,elevationColorArray:_,max:m,min:y,encodeType:d})})}else{const g=await this.tileCache.getAdjacentTilesWithImages(a,r,i,s,o,c,t),_=this.colorMapCache.createColorArray(e.searchParams.get("colorMap")||"bone"),m=g.center,y=m.tileId,b=g.left,v=g.right,B=g.top,C=g.bottom,I=parseFloat(e.searchParams.get("max")||"90"),R=parseFloat(e.searchParams.get("min")||"0");return new Promise((w,U)=>{this.pendingRequests.set(y,{resolve:w,reject:U,controller:t}),this.worker.postMessage({tileId:y,center:m.image,left:b.image,right:v.image,top:B.image,bottom:C.image,demTypeNumber:u,modeNumber:f,mode:h,elevationColorArray:_,max:I,min:R,tile:{x:r,y:i,z:s},encodeType:d})})}}handleError(e){console.error("Worker error:",e),this.pendingRequests.forEach(t=>{t.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()}cancelAllRequests(){this.pendingRequests.size>0&&this.pendingRequests.forEach(({reject:e,controller:t})=>{t.abort(),e(new Error("Request cancelled"))}),console.info("All requests have been cancelled."),this.pendingRequests.clear()}clearCache(){this.tileCache.clear()}};class Mie{constructor(e){z(this,"workers",[]);z(this,"workerIndex",0);z(this,"poolSize");this.poolSize=e;for(let t=0;t<e;t++){const r=new Worker(new URL(""+new URL("../workers/protocol_dem.worker-Dr9vdl9S.js",import.meta.url).href,import.meta.url),{type:"module"});this.workers.push(new Tie(r))}}getNextWorker(){const e=this.workers[this.workerIndex];return this.workerIndex=(this.workerIndex+1)%this.poolSize,e}async request(e,t){return this.getNextWorker().request(e,t)}cancelAllRequests(){this.workers.forEach(e=>e.cancelAllRequests())}clearCache(){this.workers.forEach(e=>e.clearCache())}}const ev=new Mie(2),Sie=n=>({protocolName:n,request:(e,t)=>{const r=e.url.replace(`${n}://`,""),i=new URL(r,window.location.origin);return ev.request(i,t)},cancelAllRequests:()=>ev.cancelAllRequests(),clearCache:()=>ev.clearCache()}),Fie=180/Math.PI;function sI(n,e){return n/Math.pow(2,e)*360-180}function aI(n,e){const t=Math.PI-2*Math.PI*n/Math.pow(2,e);return Fie*Math.atan(.5*(Math.exp(t)-Math.exp(-t)))}function Wx(n){const e=sI(n[0]+1,n[2]),t=sI(n[0],n[2]),r=aI(n[1]+1,n[2]),i=aI(n[1],n[2]);return[t,r,e,i]}function Uie(n){return[[n[0]*2,n[1]*2,n[2]+1],[n[0]*2+1,n[1]*2,n[2]+1],[n[0]*2+1,n[1]*2+1,n[2]+1],[n[0]*2,n[1]*2+1,n[2]+1]]}function Nie(n){return[n[0]>>1,n[1]>>1,n[2]-1]}function kie(n){return Uie(Nie(n))}function Pie(n,e={}){const t=Number(n[0]),r=Number(n[1]),i=Number(n[2]),s=Number(n[3]);if(n.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");const a=[t,r];return aJ([[a,[i,r],[i,s],[t,s],a]],e.properties,{bbox:n,id:e.id})}var Die=Pie;let Oie=class{constructor(e){z(this,"worker");z(this,"pendingRequests");z(this,"handleMessage",e=>{const{id:t,buffer:r,error:i}=e.data;if(i){const s=this.pendingRequests.get(t);s&&(s.resolve({data:new Uint8Array}),this.pendingRequests.delete(t))}else{const s=this.pendingRequests.get(t);s&&(s.resolve({data:r}),this.pendingRequests.delete(t))}});z(this,"handleError",e=>{console.error("Worker error:",e),this.pendingRequests.forEach(t=>{t.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()});this.worker=e,this.pendingRequests=new Map,this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,t){try{const r=parseInt(e.searchParams.get("x")||"0",10),i=parseInt(e.searchParams.get("y")||"0",10),s=parseInt(e.searchParams.get("z")||"0",10),o={type:"FeatureCollection",features:kie([r,i,s]).map(A=>{const[u,h,f]=A,d=Wx([u,h,f]);return{...Die(d),properties:{x:r,y:i,z:s,index:`${f}/${u}/${h}`}}})},{signal:l}=t,c=`${s}/${r}/${i}_tile_index`;return new Promise((A,u)=>{this.pendingRequests.set(c,{resolve:A,reject:u}),l.addEventListener("abort",()=>{this.pendingRequests.delete(c),u(new Error("Request aborted"))}),this.worker.postMessage({id:c,z:s,x:r,y:i,geojson:o})})}catch(r){return Promise.reject(r)}}};const zie=new Worker(new URL(""+new URL("../workers/tile_index.worker-DfC3PjOV.js",import.meta.url).href,import.meta.url),{type:"module"});new Oie(zie);const oI=new Map,Hie=async(n,e,t)=>{try{let r=oI.get(n);r||(r=new z1(n),oI.set(n,r));const i=await r.getZxy(e.z,e.x,e.y,t);if(!i||!i.data)throw new Error("Tile data not found");const s=new Blob([i.data],{type:"image/png"});return await createImageBitmap(s)}catch(r){if(r instanceof Error&&r.name==="AbortError")throw new Error("Request aborted");return await createImageBitmap(new ImageData(1,1))}},Qie=async(n,e)=>{try{const t=await fetch(n,{signal:e});if(!t.ok)throw new Error("Failed to fetch image");return await createImageBitmap(await t.blob())}catch(t){if(t instanceof Error&&t.name==="AbortError")throw new Error("Request aborted");return await createImageBitmap(new ImageData(1,1))}};let jie=class{constructor(e){z(this,"worker");z(this,"pendingRequests");z(this,"handleMessage",e=>{const{id:t,buffer:r,error:i}=e.data,s=this.pendingRequests.get(t);i?(console.error(`Error processing tile ${t}:`,i),s&&(s.reject(new Error(i)),this.pendingRequests.delete(t))):s&&(s.resolve({data:r}),this.pendingRequests.delete(t))});z(this,"handleError",e=>{console.error("Worker error:",e),this.pendingRequests.forEach(t=>{t.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()});this.worker=e,this.pendingRequests=new Map,this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,t){try{const r=parseInt(e.searchParams.get("x")||"0",10),i=parseInt(e.searchParams.get("y")||"0",10),s=parseInt(e.searchParams.get("z")||"0",10),a=e.origin+e.pathname,o=e.searchParams.get("entryId")||"",l=`${a}_${o}_${r}_${i}_${s}`,c=e.searchParams.get("formatType")||"image",A=e.searchParams.get("demType")||"mapbox";let u;return c==="pmtiles"?u=await Hie(a,{x:r,y:i,z:s},t.signal):c==="image"&&(u=await Qie(a,t.signal)),new Promise((h,f)=>{const d=$x[A];this.pendingRequests.set(l,{resolve:h,reject:f,controller:t}),this.worker.postMessage({image:u,demTypeNumber:d,id:l}),t.signal.addEventListener("abort",()=>{this.pendingRequests.delete(l),f(new Error("Request aborted"))})})}catch(r){return Promise.reject(r)}}};const Yie=new Worker(new URL(""+new URL("../workers/protocol_terrain.worker-qG8lXCev.js",import.meta.url).href,import.meta.url),{type:"module"}),Gie=new jie(Yie),Vie=n=>({protocolName:n,request:(e,t)=>{const r=e.url.replace(`${n}://`,""),i=new URL(r);return Gie.request(i,t)}}),Kie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAkCAYAAAB4+EEtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQ0SURBVHgBtVdNTBtHFH6zP/7HsSFppQYldtpITS4lKI3US7TgHNJTI/Vewa0ih9AbPgWf8nOiCq04urlHSm40xWHpJahUCkrV0CpV2ARKSHHA2Nhr7649nbfFyDHM7oLoJ3m1OzP7vn3/zwRccGV0OFYMmgOEwifsUQECMaDsx0AA5imhGm3AAx/41Mn0mOYkiziTGNdEURr2d4RiciQIvkgAiCACEQX7jFWtgaUbYGzpUN0o4VJWpnKGR7onWer20DVBkEaDXdFY6GhsR7gT6obFCItQfrOhUUozj9LfZ9vPiO0Ll24NXRcl+Wb8o+MB/5EI04SAFwjsg3xM+0A8GjOKlSsnU72wODU3wyWzifyB0c7T3SDIEhwESBrs7ACzqCsn+s69Q7hD1n9jaECU5TEk8mI2J6A1ArEI1DbKysnUuc3FqV9n7XW8XL7xdcIk4nTXxycSok+GwwL6cf35ciFSFpL3R8cKtgqM6Hr4/fihEiFEnwSho0diRb81jM9kW6tFphU4kR0LRuHzRC9c7D4LIckPa3oRFtaX4d7zx/Y9D7TegPwfr2ztJAMEJRjvcCRCgq/OKDZJK/mx42fh/Hsfwt0FFX7++9me76L//dFwbKtRHBAIEb7AkHXSqJ2oFSHZb+/jOR6wGFBWgRgZJKSAj3vwy9OfcYlaCdHEPMhhWxlFYNneIwX5ws50doMXXGQm5QFzD2uqa0I5macVqB0Pdt5SJCNQwIjhoWLVwAvcIhJ5BNY65i2dL3Bm+XfwgoW3S9w97A5AybzALjO1YoV7cFJ74qod7t/7a5a7X10vASH0gWAFpDGdtQaeKdE8d5+pXEJcx30nMxrlKlgN+b6o/ThbPZX6VAFBSPDy7WVpDR6//hPCLAVCcgDCLBiQJPfqKUw8fWhXEq5WrKmyX3Y6feeH//oIJZlKvqCwOsat+PjlE789hP2CNVOos+6N97bkqfS4CvWGihuHCdSqbphZdXtM2FHDovXByttCwSky94MGay/s4wtNrd4hU9MTGmmQb4tLa3AYKL9Zh4ZpZtSW4WfXgJG6dfVJqCvWE/mgCw4KNF9x6R8tN/JdsnV9VzTUCbXNabLx7CDYNh8GRV/73q7pSvtpbjXZf6FmVvTLwXjU83TVxNZKHti73zwauTPpSoZYzM3NJvvOK6wHJXwdIfAKPb8J5bVClpkvvdc+t+rb0ZkvaFhqvADNV1rJa63R55nMjk5KBkuv80yQCW5EGy9WAM+rDvO+6CTkRe4X7VT/BcJqm8JGce45Fnms/tUyufR41kmeI9k2oZpUehVap3v6DyOPmVplRINusjyNvk3/taeDWdYxeTWLSq5Ensma/iu8XN3xH/oJq42bn1rhasYmmv6zqoYSYH8cNrVVMHXD1U+t2F/GMly6eXWajWaKWa6qUyPjffB/Q7k91AMHwL8l8AYhw3HokQAAAABJRU5ErkJggg==",$ie=async(n,e)=>{try{const t=await fetch(n,{signal:e});if(!t.ok)throw new Error("Failed to fetch GeoJSON data");return await t.json()}catch(t){if(t instanceof Error&&t.name==="AbortError")throw new Error("Request aborted");return{type:"FeatureCollection",features:[]}}};class Wie{constructor(e){z(this,"worker");z(this,"pendingRequests");z(this,"handleMessage",e=>{const{id:t,buffer:r,error:i}=e.data;if(i){const s=this.pendingRequests.get(t);s&&(s.resolve({data:new Uint8Array}),this.pendingRequests.delete(t))}else{const s=this.pendingRequests.get(t);s&&(s.resolve({data:r}),this.pendingRequests.delete(t))}});z(this,"handleError",e=>{console.error("Worker error:",e),this.pendingRequests.forEach(t=>{t.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()});this.worker=e,this.pendingRequests=new Map,this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,t){try{const r=parseInt(e.searchParams.get("x")||"0",10),i=parseInt(e.searchParams.get("y")||"0",10),s=parseInt(e.searchParams.get("z")||"0",10),a=e.searchParams.get("entryId")||"",o=e.origin+e.pathname,{signal:l}=t,c=await $ie(o,l);if(c.features.length&&Ad.has(a)){const u=Ad.get(a);u&&(c.features=c.features.map(h=>{const f=h.properties.code;return u[f]?{...h,properties:{...h.properties,...u[f]}}:h}))}const A=`${s}/${r}/${i}_tile_index`;return new Promise((u,h)=>{this.pendingRequests.set(A,{resolve:u,reject:h}),l.addEventListener("abort",()=>{this.pendingRequests.delete(A),h(new Error("Request aborted"))}),this.worker.postMessage({id:A,z:s,x:r,y:i,geojson:c})})}catch(r){return Promise.reject(r)}}}const qie=new Worker(new URL(""+new URL("../workers/protocol_geojson.worker-DfC3PjOV.js",import.meta.url).href,import.meta.url),{type:"module"}),Xie=new Wie(qie),Jie=n=>({protocolName:n,request:(e,t)=>{const r=e.url.replace(`${n}://`,""),i=new URL(r);return Xie.request(i,t)}});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var S7=function(n,e){return S7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},S7(n,e)};function $l(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");S7(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var F7=function(){return F7=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},F7.apply(this,arguments)};function da(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(A){try{c(r.next(A))}catch(u){a(u)}}function l(A){try{c(r.throw(A))}catch(u){a(u)}}function c(A){A.done?s(A.value):i(A.value).then(o,l)}c((r=r.apply(n,[])).next())})}function Ws(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(A){return l([c,A])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(A){c=[6,A],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function I_(n,e,t){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||e)}var G0=function(){function n(e,t,r,i){this.left=e,this.top=t,this.width=r,this.height=i}return n.prototype.add=function(e,t,r,i){return new n(this.left+e,this.top+t,this.width+r,this.height+i)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var r=Array.from(t).find(function(i){return i.width!==0});return r?new n(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n}(),i6=function(n,e){return G0.fromClientRect(n,e.getBoundingClientRect())},Zie=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new G0(0,0,r,i)},s6=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},Si=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var a=n[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},lI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ese=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var T_=0;T_<lI.length;T_++)ese[lI.charCodeAt(T_)]=T_;var cI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ig=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var M_=0;M_<cI.length;M_++)ig[cI.charCodeAt(M_)]=M_;var tse=function(n){var e=n.length*.75,t=n.length,r,i=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<t;r+=4)s=ig[n.charCodeAt(r)],a=ig[n.charCodeAt(r+1)],o=ig[n.charCodeAt(r+2)],l=ig[n.charCodeAt(r+3)],A[i++]=s<<2|a>>4,A[i++]=(a&15)<<4|o>>2,A[i++]=(o&3)<<6|l&63;return c},nse=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},rse=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},x1=5,qx=11,tv=2,ise=qx-x1,BO=65536>>x1,sse=1<<x1,nv=sse-1,ase=1024>>x1,ose=BO+ase,lse=ose,cse=32,Ase=lse+cse,use=65536>>qx,fse=1<<ise,hse=fse-1,AI=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},dse=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},gse=function(n,e){var t=tse(n),r=Array.isArray(t)?rse(t):new Uint32Array(t),i=Array.isArray(t)?nse(t):new Uint16Array(t),s=24,a=AI(i,s/2,r[4]/2),o=r[5]===2?AI(i,(s+r[4])/2):dse(r,Math.ceil((s+r[4])/4));return new pse(r[0],r[1],r[2],r[3],a,o)},pse=function(){function n(e,t,r,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>x1],t=(t<<tv)+(e&nv),this.data[t];if(e<=65535)return t=this.index[BO+(e-55296>>x1)],t=(t<<tv)+(e&nv),this.data[t];if(e<this.highStart)return t=Ase-use+(e>>qx),t=this.index[t],t+=e>>x1&hse,t=this.index[t],t=(t<<tv)+(e&nv),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n}(),uI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_se=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var S_=0;S_<uI.length;S_++)_se[uI.charCodeAt(S_)]=S_;var mse="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",fI=50,yse=1,EO=2,CO=3,bse=4,vse=5,hI=7,IO=8,dI=9,UA=10,U7=11,gI=12,N7=13,wse=14,sg=15,k7=16,F_=17,I2=18,Lse=19,pI=20,P7=21,T2=22,rv=23,Rf=24,lo=25,ag=26,og=27,Bf=28,xse=29,n1=30,Rse=31,U_=32,N_=33,D7=34,O7=35,z7=36,F3=37,H7=38,um=39,fm=40,iv=41,TO=42,Bse=43,Ese=[9001,65288],MO="!",$n="",k_="",Q7=gse(mse),i0=[n1,z7],j7=[yse,EO,CO,vse],SO=[UA,IO],_I=[og,ag],Cse=j7.concat(SO),mI=[H7,um,fm,D7,O7],Ise=[sg,N7],Tse=function(n,e){e===void 0&&(e="strict");var t=[],r=[],i=[];return n.forEach(function(s,a){var o=Q7.get(s);if(o>fI?(i.push(!0),o-=fI):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(a),t.push(k7);if(o===bse||o===U7){if(a===0)return r.push(a),t.push(n1);var l=t[a-1];return Cse.indexOf(l)===-1?(r.push(r[a-1]),t.push(l)):(r.push(a),t.push(n1))}if(r.push(a),o===Rse)return t.push(e==="strict"?P7:F3);if(o===TO||o===xse)return t.push(n1);if(o===Bse)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(F3):t.push(n1);t.push(o)}),[r,t,i]},sv=function(n,e,t,r){var i=r[t];if(Array.isArray(n)?n.indexOf(i)!==-1:n===i)for(var s=t;s<=r.length;){s++;var a=r[s];if(a===e)return!0;if(a!==UA)break}if(i===UA)for(var s=t;s>0;){s--;var o=r[s];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var l=t;l<=r.length;){l++;var a=r[l];if(a===e)return!0;if(a!==UA)break}if(o!==UA)break}return!1},yI=function(n,e){for(var t=n;t>=0;){var r=e[t];if(r===UA)t--;else return r}return 0},Mse=function(n,e,t,r,i){if(t[r]===0)return $n;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return $n;var a=s-1,o=s+1,l=e[s],c=a>=0?e[a]:0,A=e[o];if(l===EO&&A===CO)return $n;if(j7.indexOf(l)!==-1)return MO;if(j7.indexOf(A)!==-1||SO.indexOf(A)!==-1)return $n;if(yI(s,e)===IO)return k_;if(Q7.get(n[s])===U7||(l===U_||l===N_)&&Q7.get(n[o])===U7||l===hI||A===hI||l===dI||[UA,N7,sg].indexOf(l)===-1&&A===dI||[F_,I2,Lse,Rf,Bf].indexOf(A)!==-1||yI(s,e)===T2||sv(rv,T2,s,e)||sv([F_,I2],P7,s,e)||sv(gI,gI,s,e))return $n;if(l===UA)return k_;if(l===rv||A===rv)return $n;if(A===k7||l===k7)return k_;if([N7,sg,P7].indexOf(A)!==-1||l===wse||c===z7&&Ise.indexOf(l)!==-1||l===Bf&&A===z7||A===pI||i0.indexOf(A)!==-1&&l===lo||i0.indexOf(l)!==-1&&A===lo||l===og&&[F3,U_,N_].indexOf(A)!==-1||[F3,U_,N_].indexOf(l)!==-1&&A===ag||i0.indexOf(l)!==-1&&_I.indexOf(A)!==-1||_I.indexOf(l)!==-1&&i0.indexOf(A)!==-1||[og,ag].indexOf(l)!==-1&&(A===lo||[T2,sg].indexOf(A)!==-1&&e[o+1]===lo)||[T2,sg].indexOf(l)!==-1&&A===lo||l===lo&&[lo,Bf,Rf].indexOf(A)!==-1)return $n;if([lo,Bf,Rf,F_,I2].indexOf(A)!==-1)for(var u=s;u>=0;){var h=e[u];if(h===lo)return $n;if([Bf,Rf].indexOf(h)!==-1)u--;else break}if([og,ag].indexOf(A)!==-1)for(var u=[F_,I2].indexOf(l)!==-1?a:s;u>=0;){var h=e[u];if(h===lo)return $n;if([Bf,Rf].indexOf(h)!==-1)u--;else break}if(H7===l&&[H7,um,D7,O7].indexOf(A)!==-1||[um,D7].indexOf(l)!==-1&&[um,fm].indexOf(A)!==-1||[fm,O7].indexOf(l)!==-1&&A===fm||mI.indexOf(l)!==-1&&[pI,ag].indexOf(A)!==-1||mI.indexOf(A)!==-1&&l===og||i0.indexOf(l)!==-1&&i0.indexOf(A)!==-1||l===Rf&&i0.indexOf(A)!==-1||i0.concat(lo).indexOf(l)!==-1&&A===T2&&Ese.indexOf(n[o])===-1||i0.concat(lo).indexOf(A)!==-1&&l===I2)return $n;if(l===iv&&A===iv){for(var f=t[s],d=1;f>0&&(f--,e[f]===iv);)d++;if(d%2!==0)return $n}return l===U_&&A===N_?$n:k_},Sse=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Tse(n,e.lineBreak),r=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[lo,n1,TO].indexOf(o)!==-1?F3:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&n[l]>=19968&&n[l]<=40959}):void 0;return[r,i,a]},Fse=function(){function n(e,t,r,i){this.codePoints=e,this.required=t===MO,this.start=r,this.end=i}return n.prototype.slice=function(){return Si.apply(void 0,this.codePoints.slice(this.start,this.end))},n}(),Use=function(n,e){var t=s6(n),r=Sse(t,e),i=r[0],s=r[1],a=r[2],o=t.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var A=$n;c<o&&(A=Mse(t,s,i,++c,a))===$n;);if(A!==$n||c===o){var u=new Fse(t,A,l,c);return l=c,{value:u,done:!1}}return{done:!0,value:null}}}},Nse=1,kse=2,vp=4,bI=8,p5=10,vI=47,Og=92,Pse=9,Dse=32,P_=34,M2=61,Ose=35,zse=36,Hse=37,D_=39,O_=40,S2=41,Qse=95,Ua=45,jse=33,Yse=60,Gse=62,Vse=64,Kse=91,$se=93,Wse=61,qse=123,z_=63,Xse=125,wI=124,Jse=126,Zse=128,LI=65533,av=42,f1=43,eae=44,tae=58,nae=59,U3=46,rae=0,iae=8,sae=11,aae=14,oae=31,lae=127,ac=-1,FO=48,UO=97,NO=101,cae=102,Aae=117,uae=122,kO=65,PO=69,DO=70,fae=85,hae=90,Zs=function(n){return n>=FO&&n<=57},dae=function(n){return n>=55296&&n<=57343},Ef=function(n){return Zs(n)||n>=kO&&n<=DO||n>=UO&&n<=cae},gae=function(n){return n>=UO&&n<=uae},pae=function(n){return n>=kO&&n<=hae},_ae=function(n){return gae(n)||pae(n)},mae=function(n){return n>=Zse},H_=function(n){return n===p5||n===Pse||n===Dse},_5=function(n){return _ae(n)||mae(n)||n===Qse},xI=function(n){return _5(n)||Zs(n)||n===Ua},yae=function(n){return n>=rae&&n<=iae||n===sae||n>=aae&&n<=oae||n===lae},BA=function(n,e){return n!==Og?!1:e!==p5},Q_=function(n,e,t){return n===Ua?_5(e)||BA(e,t):_5(n)?!0:!!(n===Og&&BA(n,e))},ov=function(n,e,t){return n===f1||n===Ua?Zs(e)?!0:e===U3&&Zs(t):Zs(n===U3?e:n)},bae=function(n){var e=0,t=1;(n[e]===f1||n[e]===Ua)&&(n[e]===Ua&&(t=-1),e++);for(var r=[];Zs(n[e]);)r.push(n[e++]);var i=r.length?parseInt(Si.apply(void 0,r),10):0;n[e]===U3&&e++;for(var s=[];Zs(n[e]);)s.push(n[e++]);var a=s.length,o=a?parseInt(Si.apply(void 0,s),10):0;(n[e]===PO||n[e]===NO)&&e++;var l=1;(n[e]===f1||n[e]===Ua)&&(n[e]===Ua&&(l=-1),e++);for(var c=[];Zs(n[e]);)c.push(n[e++]);var A=c.length?parseInt(Si.apply(void 0,c),10):0;return t*(i+o*Math.pow(10,-a))*Math.pow(10,l*A)},vae={type:2},wae={type:3},Lae={type:4},xae={type:13},Rae={type:8},Bae={type:21},Eae={type:9},Cae={type:10},Iae={type:11},Tae={type:12},Mae={type:14},j_={type:23},Sae={type:1},Fae={type:25},Uae={type:24},Nae={type:26},kae={type:27},Pae={type:28},Dae={type:29},Oae={type:31},Y7={type:32},OO=function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(s6(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Y7;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case P_:return this.consumeStringToken(P_);case Ose:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(xI(t)||BA(r,i)){var s=Q_(t,r,i)?kse:Nse,a=this.consumeName();return{type:5,value:a,flags:s}}break;case zse:if(this.peekCodePoint(0)===M2)return this.consumeCodePoint(),xae;break;case D_:return this.consumeStringToken(D_);case O_:return vae;case S2:return wae;case av:if(this.peekCodePoint(0)===M2)return this.consumeCodePoint(),Mae;break;case f1:if(ov(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case eae:return Lae;case Ua:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(ov(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Q_(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Ua&&c===Gse)return this.consumeCodePoint(),this.consumeCodePoint(),Uae;break;case U3:if(ov(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case vI:if(this.peekCodePoint(0)===av)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===av&&(A=this.consumeCodePoint(),A===vI))return this.consumeToken();if(A===ac)return this.consumeToken()}break;case tae:return Nae;case nae:return kae;case Yse:if(this.peekCodePoint(0)===jse&&this.peekCodePoint(1)===Ua&&this.peekCodePoint(2)===Ua)return this.consumeCodePoint(),this.consumeCodePoint(),Fae;break;case Vse:var u=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Q_(u,h,f)){var a=this.consumeName();return{type:7,value:a}}break;case Kse:return Pae;case Og:if(BA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case $se:return Dae;case Wse:if(this.peekCodePoint(0)===M2)return this.consumeCodePoint(),Rae;break;case qse:return Iae;case Xse:return Tae;case Aae:case fae:var d=this.peekCodePoint(0),g=this.peekCodePoint(1);return d===f1&&(Ef(g)||g===z_)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case wI:if(this.peekCodePoint(0)===M2)return this.consumeCodePoint(),Eae;if(this.peekCodePoint(0)===wI)return this.consumeCodePoint(),Bae;break;case Jse:if(this.peekCodePoint(0)===M2)return this.consumeCodePoint(),Cae;break;case ac:return Y7}return H_(e)?(this.consumeWhiteSpace(),Oae):Zs(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):_5(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Si(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Ef(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===z_&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(Si.apply(void 0,e.map(function(l){return l===z_?FO:l})),16),s=parseInt(Si.apply(void 0,e.map(function(l){return l===z_?DO:l})),16);return{type:30,start:i,end:s}}var a=parseInt(Si.apply(void 0,e),16);if(this.peekCodePoint(0)===Ua&&Ef(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];Ef(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(Si.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===O_?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===O_?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ac)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===D_||t===P_){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ac||this.peekCodePoint(0)===S2)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),j_)}for(;;){var i=this.consumeCodePoint();if(i===ac||i===S2)return{type:22,value:Si.apply(void 0,e)};if(H_(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ac||this.peekCodePoint(0)===S2?(this.consumeCodePoint(),{type:22,value:Si.apply(void 0,e)}):(this.consumeBadUrlRemnants(),j_);if(i===P_||i===D_||i===O_||yae(i))return this.consumeBadUrlRemnants(),j_;if(i===Og)if(BA(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),j_;else e.push(i)}},n.prototype.consumeWhiteSpace=function(){for(;H_(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===S2||e===ac)return;BA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var i=Math.min(t,e);r+=Si.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},n.prototype.consumeStringToken=function(e){var t="",r=0;do{var i=this._value[r];if(i===ac||i===void 0||i===e)return t+=this.consumeStringSlice(r),{type:0,value:t};if(i===p5)return this._value.splice(0,r),Sae;if(i===Og){var s=this._value[r+1];s!==ac&&s!==void 0&&(s===p5?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):BA(i,s)&&(t+=this.consumeStringSlice(r),t+=Si(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=vp,r=this.peekCodePoint(0);for((r===f1||r===Ua)&&e.push(this.consumeCodePoint());Zs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===U3&&Zs(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=bI;Zs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===PO||r===NO)&&((i===f1||i===Ua)&&Zs(s)||Zs(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=bI;Zs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[bae(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Q_(i,s,a)){var o=this.consumeName();return{type:15,number:t,flags:r,unit:o}}return i===Hse?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ef(e)){for(var t=Si(e);Ef(this.peekCodePoint(0))&&t.length<6;)t+=Si(this.consumeCodePoint());H_(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||dae(r)||r>1114111?LI:r}return e===ac?LI:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(xI(t))e+=Si(t);else if(BA(t,this.peekCodePoint(0)))e+=Si(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n}(),zO=function(){function n(e){this._tokens=e}return n.create=function(e){var t=new OO;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||Hae(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Y7:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n}(),wp=function(n){return n.type===15},kd=function(n){return n.type===17},Cr=function(n){return n.type===20},zae=function(n){return n.type===0},G7=function(n,e){return Cr(n)&&n.value===e},HO=function(n){return n.type!==31},hd=function(n){return n.type!==31&&n.type!==4},kc=function(n){var e=[],t=[];return n.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&e.push(t),e},Hae=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},su=function(n){return n.type===17||n.type===15},Zi=function(n){return n.type===16||su(n)},QO=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},Ds={type:17,number:0,flags:vp},Xx={type:16,number:50,flags:vp},NA={type:16,number:100,flags:vp},lg=function(n,e,t){var r=n[0],i=n[1];return[Gr(r,e),Gr(typeof i<"u"?i:r,t)]},Gr=function(n,e){if(n.type===16)return n.number/100*e;if(wp(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},jO="deg",YO="grad",GO="rad",VO="turn",a6={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case jO:return Math.PI*e.number/180;case YO:return Math.PI/200*e.number;case GO:return e.number;case VO:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},KO=function(n){return n.type===15&&(n.unit===jO||n.unit===YO||n.unit===GO||n.unit===VO)},$O=function(n){var e=n.filter(Cr).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ds,Ds];case"to top":case"bottom":return Vo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ds,NA];case"to right":case"left":return Vo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[NA,NA];case"to bottom":case"top":return Vo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[NA,Ds];case"to left":case"right":return Vo(270)}return 0},Vo=function(n){return Math.PI*n/180},KA={name:"color",parse:function(n,e){if(e.type===18){var t=Qae[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return kA(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return kA(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return kA(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return kA(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=k0[e.value.toUpperCase()];if(typeof o<"u")return o}return k0.TRANSPARENT}},$A=function(n){return(255&n)===0},vs=function(n){var e=255&n,t=255&n>>8,r=255&n>>16,i=255&n>>24;return e<255?"rgba("+i+","+r+","+t+","+e/255+")":"rgb("+i+","+r+","+t+")"},kA=function(n,e,t,r){return(n<<24|e<<16|t<<8|Math.round(r*255)<<0)>>>0},RI=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},BI=function(n,e){var t=e.filter(hd);if(t.length===3){var r=t.map(RI),i=r[0],s=r[1],a=r[2];return kA(i,s,a,1)}if(t.length===4){var o=t.map(RI),i=o[0],s=o[1],a=o[2],l=o[3];return kA(i,s,a,l)}return 0};function lv(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var EI=function(n,e){var t=e.filter(hd),r=t[0],i=t[1],s=t[2],a=t[3],o=(r.type===17?Vo(r.number):a6.parse(n,r))/(Math.PI*2),l=Zi(i)?i.number/100:0,c=Zi(s)?s.number/100:0,A=typeof a<"u"&&Zi(a)?Gr(a,1):1;if(l===0)return kA(c*255,c*255,c*255,1);var u=c<=.5?c*(l+1):c+l-c*l,h=c*2-u,f=lv(h,u,o+1/3),d=lv(h,u,o),g=lv(h,u,o-1/3);return kA(f*255,d*255,g*255,A)},Qae={hsl:EI,hsla:EI,rgb:BI,rgba:BI},zg=function(n,e){return KA.parse(n,zO.create(e).parseComponentValue())},k0={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},jae={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(Cr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Yae={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},o6=function(n,e){var t=KA.parse(n,e[0]),r=e[1];return r&&Zi(r)?{color:t,stop:r}:{color:t,stop:null}},CI=function(n,e){var t=n[0],r=n[n.length-1];t.stop===null&&(t.stop=Ds),r.stop===null&&(r.stop=NA);for(var i=[],s=0,a=0;a<n.length;a++){var o=n[a].stop;if(o!==null){var l=Gr(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var c=null,a=0;a<i.length;a++){var A=i[a];if(A===null)c===null&&(c=a);else if(c!==null){for(var u=a-c,h=i[c-1],f=(A-h)/(u+1),d=1;d<=u;d++)i[c+d-1]=f*d;c=null}}return n.map(function(g,_){var m=g.color;return{color:m,stop:Math.max(Math.min(1,i[_]/e),0)}})},Gae=function(n,e,t){var r=e/2,i=t/2,s=Gr(n[0],e)-r,a=i-Gr(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},Vae=function(n,e,t){var r=typeof n=="number"?n:Gae(n,e,t),i=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),s=e/2,a=t/2,o=i/2,l=Math.sin(r-Math.PI/2)*o,c=Math.cos(r-Math.PI/2)*o;return[i,s-c,s+c,a-l,a+l]},yl=function(n,e){return Math.sqrt(n*n+e*e)},II=function(n,e,t,r,i){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,o){var l=o[0],c=o[1],A=yl(t-l,r-c);return(i?A<a.optimumDistance:A>a.optimumDistance)?{optimumCorner:o,optimumDistance:A}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Kae=function(n,e,t,r,i){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(n.shape===0)s=a=Math.min(yl(e,t),yl(e,t-i),yl(e-r,t),yl(e-r,t-i));else if(n.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=II(r,i,e,t,!0),c=l[0],A=l[1];s=yl(c-e,(A-t)/o),a=o*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(n.shape===0)s=a=Math.max(yl(e,t),yl(e,t-i),yl(e-r,t),yl(e-r,t-i));else if(n.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-r)),u=II(r,i,e,t,!1),c=u[0],A=u[1];s=yl(c-e,(A-t)/o),a=o*s}break}return Array.isArray(n.size)&&(s=Gr(n.size[0],r),a=n.size.length===2?Gr(n.size[1],i):s),[s,a]},$ae=function(n,e){var t=Vo(180),r=[];return kc(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){t=$O(i);return}else if(KO(a)){t=a6.parse(n,a);return}}var o=o6(n,i);r.push(o)}),{angle:t,stops:r,type:1}},Y_=function(n,e){var t=Vo(180),r=[];return kc(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=$O(i);return}else if(KO(a)){t=(a6.parse(n,a)+Vo(270))%Vo(360);return}}var o=o6(n,i);r.push(o)}),{angle:t,stops:r,type:1}},Wae=function(n,e){var t=Vo(180),r=[],i=1,s=0,a=3,o=[];return kc(e).forEach(function(l,c){var A=l[0];if(c===0){if(Cr(A)&&A.value==="linear"){i=1;return}else if(Cr(A)&&A.value==="radial"){i=2;return}}if(A.type===18){if(A.name==="from"){var u=KA.parse(n,A.values[0]);r.push({stop:Ds,color:u})}else if(A.name==="to"){var u=KA.parse(n,A.values[0]);r.push({stop:NA,color:u})}else if(A.name==="color-stop"){var h=A.values.filter(hd);if(h.length===2){var u=KA.parse(n,h[1]),f=h[0];kd(f)&&r.push({stop:{type:16,number:f.number*100,flags:f.flags},color:u})}}}}),i===1?{angle:(t+Vo(180))%Vo(360),stops:r,type:i}:{size:a,shape:s,stops:r,position:o,type:i}},WO="closest-side",qO="farthest-side",XO="closest-corner",JO="farthest-corner",ZO="circle",ez="ellipse",tz="cover",nz="contain",qae=function(n,e){var t=0,r=3,i=[],s=[];return kc(e).forEach(function(a,o){var l=!0;if(o===0){var c=!1;l=a.reduce(function(u,h){if(c)if(Cr(h))switch(h.value){case"center":return s.push(Xx),u;case"top":case"left":return s.push(Ds),u;case"right":case"bottom":return s.push(NA),u}else(Zi(h)||su(h))&&s.push(h);else if(Cr(h))switch(h.value){case ZO:return t=0,!1;case ez:return t=1,!1;case"at":return c=!0,!1;case WO:return r=0,!1;case tz:case qO:return r=1,!1;case nz:case XO:return r=2,!1;case JO:return r=3,!1}else if(su(h)||Zi(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return u},l)}if(l){var A=o6(n,a);i.push(A)}}),{size:r,shape:t,stops:i,position:s,type:2}},G_=function(n,e){var t=0,r=3,i=[],s=[];return kc(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(A,u){if(Cr(u))switch(u.value){case"center":return s.push(Xx),!1;case"top":case"left":return s.push(Ds),!1;case"right":case"bottom":return s.push(NA),!1}else if(Zi(u)||su(u))return s.push(u),!1;return A},l):o===1&&(l=a.reduce(function(A,u){if(Cr(u))switch(u.value){case ZO:return t=0,!1;case ez:return t=1,!1;case nz:case WO:return r=0,!1;case qO:return r=1,!1;case XO:return r=2,!1;case tz:case JO:return r=3,!1}else if(su(u)||Zi(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return A},l)),l){var c=o6(n,a);i.push(c)}}),{size:r,shape:t,stops:i,position:s,type:2}},Xae=function(n){return n.type===1},Jae=function(n){return n.type===2},Jx={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var r=rz[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function Zae(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!rz[n.name])}var rz={"linear-gradient":$ae,"-moz-linear-gradient":Y_,"-ms-linear-gradient":Y_,"-o-linear-gradient":Y_,"-webkit-linear-gradient":Y_,"radial-gradient":qae,"-moz-radial-gradient":G_,"-ms-radial-gradient":G_,"-o-radial-gradient":G_,"-webkit-radial-gradient":G_,"-webkit-gradient":Wae},eoe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(r){return hd(r)&&Zae(r)}).map(function(r){return Jx.parse(n,r)})}},toe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(Cr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},noe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return kc(e).map(function(t){return t.filter(Zi)}).map(QO)}},roe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return kc(e).map(function(t){return t.filter(Cr).map(function(r){return r.value}).join(" ")}).map(ioe)}},ioe=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Uh;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(Uh||(Uh={}));var soe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return kc(e).map(function(t){return t.filter(aoe)})}},aoe=function(n){return Cr(n)||Zi(n)},l6=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ooe=l6("top"),loe=l6("right"),coe=l6("bottom"),Aoe=l6("left"),c6=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return QO(t.filter(Zi))}}},uoe=c6("top-left"),foe=c6("top-right"),hoe=c6("bottom-right"),doe=c6("bottom-left"),A6=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},goe=A6("top"),poe=A6("right"),_oe=A6("bottom"),moe=A6("left"),u6=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return wp(t)?t.number:0}}},yoe=u6("top"),boe=u6("right"),voe=u6("bottom"),woe=u6("left"),Loe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xoe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Roe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(Cr).reduce(function(t,r){return t|Boe(r.value)},0)}},Boe=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Eoe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Coe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},m5;(function(n){n.NORMAL="normal",n.STRICT="strict"})(m5||(m5={}));var Ioe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return m5.STRICT;case"normal":default:return m5.NORMAL}}},Toe={name:"line-height",initialValue:"normal",prefix:!1,type:4},TI=function(n,e){return Cr(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Zi(n)?Gr(n,e):e},Moe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:Jx.parse(n,e)}},Soe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},V7={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},f6=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},Foe=f6("top"),Uoe=f6("right"),Noe=f6("bottom"),koe=f6("left"),Poe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(Cr).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Doe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},h6=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ooe=h6("top"),zoe=h6("right"),Hoe=h6("bottom"),Qoe=h6("left"),joe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Yoe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Goe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&G7(e[0],"none")?[]:kc(e).map(function(t){for(var r={color:k0.TRANSPARENT,offsetX:Ds,offsetY:Ds,blur:Ds},i=0,s=0;s<t.length;s++){var a=t[s];su(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:r.blur=a,i++):r.color=KA.parse(n,a)}return r})}},Voe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Koe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=qoe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},$oe=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Woe=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,r,i,s,a,o]:null},qoe={matrix:$oe,matrix3d:Woe},MI={type:16,number:50,flags:vp},Xoe=[MI,MI],Joe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Zi);return t.length!==2?Xoe:[t[0],t[1]]}},Zoe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Hg;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(Hg||(Hg={}));var ele={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return Hg.BREAK_ALL;case"keep-all":return Hg.KEEP_ALL;case"normal":default:return Hg.NORMAL}}},tle={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(kd(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},iz={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},nle={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return kd(e)?e.number:1}},rle={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ile={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(Cr).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},sle={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},ale={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ole={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(kd(e))return e.number;if(Cr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},lle={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(Cr).map(function(t){return t.value})}},cle={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},gs=function(n,e){return(n&e)!==0},Ale={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},ule={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var r=[],i=e.filter(HO),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&kd(o)?o.number:1;r.push({counter:a.value,increment:l})}}return r}},fle={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],r=e.filter(HO),i=0;i<r.length;i++){var s=r[i],a=r[i+1];if(Cr(s)&&s.value!=="none"){var o=a&&kd(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},hle={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(wp).map(function(t){return iz.parse(n,t)})}},dle={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var r=[],i=e.filter(zae);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;r.push({open:a,close:o})}return r}},SI=function(n,e,t){if(!n)return"";var r=n[Math.min(e,n.length-1)];return r?t?r.open:r.close:""},gle={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&G7(e[0],"none")?[]:kc(e).map(function(t){for(var r={color:255,offsetX:Ds,offsetY:Ds,blur:Ds,spread:Ds,inset:!1},i=0,s=0;s<t.length;s++){var a=t[s];G7(a,"inset")?r.inset=!0:su(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:i===2?r.blur=a:r.spread=a,i++):r.color=KA.parse(n,a)}return r})}},ple={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],r=[];return e.filter(Cr).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},_le={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},mle={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return wp(e)?e.number:0}},yle=function(){function n(e,t){var r,i;this.animationDuration=Zt(e,hle,t.animationDuration),this.backgroundClip=Zt(e,jae,t.backgroundClip),this.backgroundColor=Zt(e,Yae,t.backgroundColor),this.backgroundImage=Zt(e,eoe,t.backgroundImage),this.backgroundOrigin=Zt(e,toe,t.backgroundOrigin),this.backgroundPosition=Zt(e,noe,t.backgroundPosition),this.backgroundRepeat=Zt(e,roe,t.backgroundRepeat),this.backgroundSize=Zt(e,soe,t.backgroundSize),this.borderTopColor=Zt(e,ooe,t.borderTopColor),this.borderRightColor=Zt(e,loe,t.borderRightColor),this.borderBottomColor=Zt(e,coe,t.borderBottomColor),this.borderLeftColor=Zt(e,Aoe,t.borderLeftColor),this.borderTopLeftRadius=Zt(e,uoe,t.borderTopLeftRadius),this.borderTopRightRadius=Zt(e,foe,t.borderTopRightRadius),this.borderBottomRightRadius=Zt(e,hoe,t.borderBottomRightRadius),this.borderBottomLeftRadius=Zt(e,doe,t.borderBottomLeftRadius),this.borderTopStyle=Zt(e,goe,t.borderTopStyle),this.borderRightStyle=Zt(e,poe,t.borderRightStyle),this.borderBottomStyle=Zt(e,_oe,t.borderBottomStyle),this.borderLeftStyle=Zt(e,moe,t.borderLeftStyle),this.borderTopWidth=Zt(e,yoe,t.borderTopWidth),this.borderRightWidth=Zt(e,boe,t.borderRightWidth),this.borderBottomWidth=Zt(e,voe,t.borderBottomWidth),this.borderLeftWidth=Zt(e,woe,t.borderLeftWidth),this.boxShadow=Zt(e,gle,t.boxShadow),this.color=Zt(e,Loe,t.color),this.direction=Zt(e,xoe,t.direction),this.display=Zt(e,Roe,t.display),this.float=Zt(e,Eoe,t.cssFloat),this.fontFamily=Zt(e,sle,t.fontFamily),this.fontSize=Zt(e,ale,t.fontSize),this.fontStyle=Zt(e,cle,t.fontStyle),this.fontVariant=Zt(e,lle,t.fontVariant),this.fontWeight=Zt(e,ole,t.fontWeight),this.letterSpacing=Zt(e,Coe,t.letterSpacing),this.lineBreak=Zt(e,Ioe,t.lineBreak),this.lineHeight=Zt(e,Toe,t.lineHeight),this.listStyleImage=Zt(e,Moe,t.listStyleImage),this.listStylePosition=Zt(e,Soe,t.listStylePosition),this.listStyleType=Zt(e,V7,t.listStyleType),this.marginTop=Zt(e,Foe,t.marginTop),this.marginRight=Zt(e,Uoe,t.marginRight),this.marginBottom=Zt(e,Noe,t.marginBottom),this.marginLeft=Zt(e,koe,t.marginLeft),this.opacity=Zt(e,nle,t.opacity);var s=Zt(e,Poe,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Zt(e,Doe,t.overflowWrap),this.paddingTop=Zt(e,Ooe,t.paddingTop),this.paddingRight=Zt(e,zoe,t.paddingRight),this.paddingBottom=Zt(e,Hoe,t.paddingBottom),this.paddingLeft=Zt(e,Qoe,t.paddingLeft),this.paintOrder=Zt(e,ple,t.paintOrder),this.position=Zt(e,Yoe,t.position),this.textAlign=Zt(e,joe,t.textAlign),this.textDecorationColor=Zt(e,rle,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=Zt(e,ile,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=Zt(e,Goe,t.textShadow),this.textTransform=Zt(e,Voe,t.textTransform),this.transform=Zt(e,Koe,t.transform),this.transformOrigin=Zt(e,Joe,t.transformOrigin),this.visibility=Zt(e,Zoe,t.visibility),this.webkitTextStrokeColor=Zt(e,_le,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Zt(e,mle,t.webkitTextStrokeWidth),this.wordBreak=Zt(e,ele,t.wordBreak),this.zIndex=Zt(e,tle,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return $A(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return gs(this.display,4)||gs(this.display,33554432)||gs(this.display,268435456)||gs(this.display,536870912)||gs(this.display,67108864)||gs(this.display,134217728)},n}(),ble=function(){function n(e,t){this.content=Zt(e,Ale,t.content),this.quotes=Zt(e,dle,t.quotes)}return n}(),FI=function(){function n(e,t){this.counterIncrement=Zt(e,ule,t.counterIncrement),this.counterReset=Zt(e,fle,t.counterReset)}return n}(),Zt=function(n,e,t){var r=new OO,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;r.write(i);var s=new zO(r.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,Cr(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return a6.parse(n,s.parseComponentValue());case"color":return KA.parse(n,s.parseComponentValue());case"image":return Jx.parse(n,s.parseComponentValue());case"length":var o=s.parseComponentValue();return su(o)?o:Ds;case"length-percentage":var l=s.parseComponentValue();return Zi(l)?l:Ds;case"time":return iz.parse(n,s.parseComponentValue())}break}},vle="data-html2canvas-debug",wle=function(n){var e=n.getAttribute(vle);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},K7=function(n,e){var t=wle(n);return t===1||e===t},Pc=function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,K7(t,3))debugger;this.styles=new yle(e,window.getComputedStyle(t,null)),q7(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=i6(this.context,t),K7(t,4)&&(this.flags|=16)}return n}(),Lle="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",UI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var V_=0;V_<UI.length;V_++)cg[UI.charCodeAt(V_)]=V_;var xle=function(n){var e=n.length*.75,t=n.length,r,i=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<t;r+=4)s=cg[n.charCodeAt(r)],a=cg[n.charCodeAt(r+1)],o=cg[n.charCodeAt(r+2)],l=cg[n.charCodeAt(r+3)],A[i++]=s<<2|a>>4,A[i++]=(a&15)<<4|o>>2,A[i++]=(o&3)<<6|l&63;return c},Rle=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},Ble=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},R1=5,Zx=11,cv=2,Ele=Zx-R1,sz=65536>>R1,Cle=1<<R1,Av=Cle-1,Ile=1024>>R1,Tle=sz+Ile,Mle=Tle,Sle=32,Fle=Mle+Sle,Ule=65536>>Zx,Nle=1<<Ele,kle=Nle-1,NI=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Ple=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Dle=function(n,e){var t=xle(n),r=Array.isArray(t)?Ble(t):new Uint32Array(t),i=Array.isArray(t)?Rle(t):new Uint16Array(t),s=24,a=NI(i,s/2,r[4]/2),o=r[5]===2?NI(i,(s+r[4])/2):Ple(r,Math.ceil((s+r[4])/4));return new Ole(r[0],r[1],r[2],r[3],a,o)},Ole=function(){function n(e,t,r,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>R1],t=(t<<cv)+(e&Av),this.data[t];if(e<=65535)return t=this.index[sz+(e-55296>>R1)],t=(t<<cv)+(e&Av),this.data[t];if(e<this.highStart)return t=Fle-Ule+(e>>Zx),t=this.index[t],t+=e>>R1&kle,t=this.index[t],t=(t<<cv)+(e&Av),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n}(),kI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zle=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var K_=0;K_<kI.length;K_++)zle[kI.charCodeAt(K_)]=K_;var Hle=1,uv=2,fv=3,PI=4,DI=5,Qle=7,OI=8,hv=9,dv=10,zI=11,HI=12,QI=13,jI=14,gv=15,jle=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},Yle=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var a=n[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},Gle=Dle(Lle),Po="",pv="",Vle=function(n){return Gle.get(n)},Kle=function(n,e,t){var r=t-2,i=e[r],s=e[t-1],a=e[t];if(s===uv&&a===fv)return Po;if(s===uv||s===fv||s===PI||a===uv||a===fv||a===PI)return pv;if(s===OI&&[OI,hv,zI,HI].indexOf(a)!==-1||(s===zI||s===hv)&&(a===hv||a===dv)||(s===HI||s===dv)&&a===dv||a===QI||a===DI||a===Qle||s===Hle)return Po;if(s===QI&&a===jI){for(;i===DI;)i=e[--r];if(i===jI)return Po}if(s===gv&&a===gv){for(var o=0;i===gv;)o++,i=e[--r];if(o%2===0)return Po}return pv},$le=function(n){var e=jle(n),t=e.length,r=0,i=0,s=e.map(Vle);return{next:function(){if(r>=t)return{done:!0,value:null};for(var a=Po;r<t&&(a=Kle(e,s,++r))===Po;);if(a!==Po||r===t){var o=Yle.apply(null,e.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},Wle=function(n){for(var e=$le(n),t=[],r;!(r=e.next()).done;)r.value&&t.push(r.value.slice());return t},qle=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var r=n.createElement("boundtest");r.style.height=e+"px",r.style.display="block",n.body.appendChild(r),t.selectNode(r);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(n.body.removeChild(r),s===e)return!0}}return!1},Xle=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=s6(r.data).map(function(l){return Si(l)}),s=0,a={},o=i.every(function(l,c){t.setStart(r,s),t.setEnd(r,s+l.length);var A=t.getBoundingClientRect();s+=l.length;var u=A.x>a.x||A.y>a.y;return a=A,c===0?!0:u});return n.body.removeChild(e),o},Jle=function(){return typeof new Image().crossOrigin<"u"},Zle=function(){return typeof new XMLHttpRequest().responseType=="string"},ece=function(n){var e=new Image,t=n.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},YI=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},tce=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var a=$7(t,t,0,0,i);return r.fillStyle="red",r.fillRect(0,0,t,t),GI(a).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var c=n.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=t+"px",YI(l)?GI($7(t,t,0,0,c)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),YI(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},$7=function(n,e,t,r,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},GI=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},ks={get SUPPORT_RANGE_BOUNDS(){var n=qle(document);return Object.defineProperty(ks,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=ks.SUPPORT_RANGE_BOUNDS&&Xle(document);return Object.defineProperty(ks,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=ece(document);return Object.defineProperty(ks,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?tce(document):Promise.resolve(!1);return Object.defineProperty(ks,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=Jle();return Object.defineProperty(ks,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=Zle();return Object.defineProperty(ks,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ks,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ks,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},Qg=function(){function n(e,t){this.text=e,this.bounds=t}return n}(),nce=function(n,e,t,r){var i=sce(e,t),s=[],a=0;return i.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(ks.SUPPORT_RANGE_BOUNDS){var l=VI(r,a,o.length).getClientRects();if(l.length>1){var c=eR(o),A=0;c.forEach(function(h){s.push(new Qg(h,G0.fromDOMRectList(n,VI(r,A+a,h.length).getClientRects()))),A+=h.length})}else s.push(new Qg(o,G0.fromDOMRectList(n,l)))}else{var u=r.splitText(o.length);s.push(new Qg(o,rce(n,r))),r=u}else ks.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));a+=o.length}),s},rce=function(n,e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=i6(n,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return G0.EMPTY},VI=function(n,e,t){var r=n.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(n,e),i.setEnd(n,e+t),i},eR=function(n){if(ks.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return Wle(n)},ice=function(n,e){if(ks.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(r){return r.segment})}return oce(n,e)},sce=function(n,e){return e.letterSpacing!==0?eR(n):ice(n,e)},ace=[32,160,4961,65792,65793,4153,4241],oce=function(n,e){for(var t=Use(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var a=i.value.slice(),o=s6(a),l="";o.forEach(function(c){ace.indexOf(c)===-1?l+=Si(c):(l.length&&r.push(l),r.push(Si(c)),l="")}),l.length&&r.push(l)}};!(i=t.next()).done;)s();return r},lce=function(){function n(e,t,r){this.text=cce(t.data,r.textTransform),this.textBounds=nce(e,this.text,r,t)}return n}(),cce=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(Ace,uce);case 2:return n.toUpperCase();default:return n}},Ace=/(^|\s|:|-|\(|\))([a-z])/g,uce=function(n,e,t){return n.length>0?e+t.toUpperCase():n},az=function(n){$l(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Pc),oz=function(n){$l(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(Pc),lz=function(n){$l(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=new XMLSerializer,a=i6(t,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Pc),cz=function(n){$l(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e}(Pc),W7=function(n){$l(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(Pc),fce=[{type:15,flags:0,unit:"px",number:3}],hce=[{type:16,flags:0,number:50}],dce=function(n){return n.width>n.height?new G0(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new G0(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},gce=function(n){var e=n.type===pce?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},y5="checkbox",b5="radio",pce="password",KI=707406591,tR=function(n){$l(e,n);function e(t,r){var i=n.call(this,t,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=gce(r),(i.type===y5||i.type===b5)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=dce(i.bounds)),i.type){case y5:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=fce;break;case b5:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=hce;break}return i}return e}(Pc),Az=function(n){$l(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Pc),uz=function(n){$l(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e}(Pc),fz=function(n){$l(e,n);function e(t,r){var i=n.call(this,t,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=dz(t,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?zg(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):k0.TRANSPARENT,a=r.contentWindow.document.body?zg(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):k0.TRANSPARENT;i.backgroundColor=$A(s)?$A(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(Pc),_ce=["OL","UL","MENU"],hm=function(n,e,t,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,gz(i)&&i.data.trim().length>0)t.textNodes.push(new lce(n,i,t.styles));else if(uh(i))if(yz(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return hm(n,o,t,r)});else{var a=hz(n,i);a.styles.isVisible()&&(mce(i,a,r)?a.flags|=4:yce(a.styles)&&(a.flags|=2),_ce.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?hm(n,i.shadowRoot,a,r):!v5(i)&&!pz(i)&&!w5(i)&&hm(n,i,a,r))}},hz=function(n,e){return X7(e)?new az(n,e):_z(e)?new oz(n,e):pz(e)?new lz(n,e):bce(e)?new cz(n,e):vce(e)?new W7(n,e):wce(e)?new tR(n,e):w5(e)?new Az(n,e):v5(e)?new uz(n,e):mz(e)?new fz(n,e):new Pc(n,e)},dz=function(n,e){var t=hz(n,e);return t.flags|=4,hm(n,e,t,t),t},mce=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||nR(n)&&t.styles.isTransparent()},yce=function(n){return n.isPositioned()||n.isFloating()},gz=function(n){return n.nodeType===Node.TEXT_NODE},uh=function(n){return n.nodeType===Node.ELEMENT_NODE},q7=function(n){return uh(n)&&typeof n.style<"u"&&!dm(n)},dm=function(n){return typeof n.className=="object"},bce=function(n){return n.tagName==="LI"},vce=function(n){return n.tagName==="OL"},wce=function(n){return n.tagName==="INPUT"},Lce=function(n){return n.tagName==="HTML"},pz=function(n){return n.tagName==="svg"},nR=function(n){return n.tagName==="BODY"},_z=function(n){return n.tagName==="CANVAS"},$I=function(n){return n.tagName==="VIDEO"},X7=function(n){return n.tagName==="IMG"},mz=function(n){return n.tagName==="IFRAME"},WI=function(n){return n.tagName==="STYLE"},xce=function(n){return n.tagName==="SCRIPT"},v5=function(n){return n.tagName==="TEXTAREA"},w5=function(n){return n.tagName==="SELECT"},yz=function(n){return n.tagName==="SLOT"},qI=function(n){return n.tagName.indexOf("-")>0},Rce=function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(r){return t.counters[r].pop()})},n.prototype.parse=function(e){var t=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},n}(),XI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},JI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Bce={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ece={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Cf=function(n,e,t,r,i,s){return n<e||n>t?N3(n,i,s.length>0):r.integers.reduce(function(a,o,l){for(;n>=o;)n-=o,a+=r.values[l];return a},"")+s},bz=function(n,e,t,r){var i="";do t||n--,i=r(n)+i,n/=e;while(n*e>=e);return i},Ti=function(n,e,t,r,i){var s=t-e+1;return(n<0?"-":"")+(bz(Math.abs(n),s,r,function(a){return Si(Math.floor(a%s)+e)})+i)},Qu=function(n,e,t){t===void 0&&(t=". ");var r=e.length;return bz(Math.abs(n),r,!1,function(i){return e[Math.floor(i%r)]})+t},Zf=1,LA=2,xA=4,Ag=8,s0=function(n,e,t,r,i,s){if(n<-9999||n>9999)return N3(n,4,i.length>0);var a=Math.abs(n),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&gs(s,Zf)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&gs(s,LA)||c===1&&l===1&&gs(s,xA)&&n>100||c===1&&l>1&&gs(s,Ag)?o=e[c]+(l>0?t[l-1]:"")+o:c===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(n<0?r:"")+o},ZI="",eT="",tT="",_v="",N3=function(n,e,t){var r=t?". ":"",i=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=Ti(n,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Qu(n,"",i);case 6:return Cf(n,1,3999,XI,3,r).toLowerCase();case 7:return Cf(n,1,3999,XI,3,r);case 8:return Ti(n,945,969,!1,r);case 9:return Ti(n,97,122,!1,r);case 10:return Ti(n,65,90,!1,r);case 11:return Ti(n,1632,1641,!0,r);case 12:case 49:return Cf(n,1,9999,JI,3,r);case 35:return Cf(n,1,9999,JI,3,r).toLowerCase();case 13:return Ti(n,2534,2543,!0,r);case 14:case 30:return Ti(n,6112,6121,!0,r);case 15:return Qu(n,"",i);case 16:return Qu(n,"",i);case 17:case 48:return s0(n,"",ZI,"",i,LA|xA|Ag);case 47:return s0(n,"",eT,"",i,Zf|LA|xA|Ag);case 42:return s0(n,"",ZI,"",i,LA|xA|Ag);case 41:return s0(n,"",eT,"",i,Zf|LA|xA|Ag);case 26:return s0(n,"","",tT,i,0);case 25:return s0(n,"","",tT,i,Zf|LA|xA);case 31:return s0(n,"","",_v,s,Zf|LA|xA);case 33:return s0(n,"","",_v,s,0);case 32:return s0(n,"","",_v,s,Zf|LA|xA);case 18:return Ti(n,2406,2415,!0,r);case 20:return Cf(n,1,19999,Ece,3,r);case 21:return Ti(n,2790,2799,!0,r);case 22:return Ti(n,2662,2671,!0,r);case 22:return Cf(n,1,10999,Bce,3,r);case 23:return Qu(n,"");case 24:return Qu(n,"");case 27:return Ti(n,3302,3311,!0,r);case 28:return Qu(n,"",i);case 29:return Qu(n,"",i);case 34:return Ti(n,3792,3801,!0,r);case 37:return Ti(n,6160,6169,!0,r);case 38:return Ti(n,4160,4169,!0,r);case 39:return Ti(n,2918,2927,!0,r);case 40:return Ti(n,1776,1785,!0,r);case 43:return Ti(n,3046,3055,!0,r);case 44:return Ti(n,3174,3183,!0,r);case 45:return Ti(n,3664,3673,!0,r);case 46:return Ti(n,3872,3881,!0,r);case 3:default:return Ti(n,48,57,!0,r)}},vz="data-html2canvas-ignore",nT=function(){function n(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new Rce,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var r=this,i=Cce(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,c=Mce(i).then(function(){return da(r,void 0,void 0,function(){var A,u;return Ws(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(Nce),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),A=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Tce(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(l,u)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(Fce(document.doctype)+"<html></html>"),Uce(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},n.prototype.createElementClone=function(e){if(K7(e,2))debugger;if(_z(e))return this.createCanvasClone(e);if($I(e))return this.createVideoClone(e);if(WI(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return X7(t)&&(X7(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),qI(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return mv(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},n.prototype.appendChildNode=function(e,t,r){(!uh(t)||!xce(t)&&!t.hasAttribute(vz)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!uh(t)||!WI(t))&&e.appendChild(this.cloneNode(t,r))},n.prototype.cloneChildNodes=function(e,t,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(uh(s)&&yz(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(t,o,r)})}else this.appendChildNode(t,s,r)},n.prototype.cloneNode=function(e,t){if(gz(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&uh(e)&&(q7(e)||dm(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&q7(i)&&(this.clonedReferenceElement=i),nR(i)&&Dce(i);var l=this.counters.parse(new FI(this.context,s)),c=this.resolvePseudoContent(e,i,a,jg.BEFORE);qI(e)&&(t=!0),$I(e)||this.cloneChildNodes(e,i,t),c&&i.insertBefore(c,i.firstChild);var A=this.resolvePseudoContent(e,i,o,jg.AFTER);return A&&i.appendChild(A),this.counters.pop(l),(s&&(this.options.copyStyles||dm(e))&&!mz(e)||t)&&mv(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(v5(e)||w5(e))&&(v5(i)||w5(i))&&(i.value=e.value),i}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,r,i){var s=this;if(r){var a=r.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new FI(this.context,r));var l=new ble(this.context,r),c=o.createElement("html2canvaspseudoelement");mv(r,c),l.content.forEach(function(u){if(u.type===0)c.appendChild(o.createTextNode(u.value));else if(u.type===22){var h=o.createElement("img");h.src=u.value,h.style.opacity="1",c.appendChild(h)}else if(u.type===18){if(u.name==="attr"){var f=u.values.filter(Cr);f.length&&c.appendChild(o.createTextNode(e.getAttribute(f[0].value)||""))}else if(u.name==="counter"){var d=u.values.filter(hd),g=d[0],_=d[1];if(g&&Cr(g)){var m=s.counters.getCounterValue(g.value),y=_&&Cr(_)?V7.parse(s.context,_.value):3;c.appendChild(o.createTextNode(N3(m,y,!1)))}}else if(u.name==="counters"){var b=u.values.filter(hd),g=b[0],v=b[1],_=b[2];if(g&&Cr(g)){var B=s.counters.getCounterValues(g.value),C=_&&Cr(_)?V7.parse(s.context,_.value):3,I=v&&v.type===0?v.value:"",R=B.map(function(M){return N3(M,C,!1)}).join(I);c.appendChild(o.createTextNode(R))}}}else if(u.type===20)switch(u.value){case"open-quote":c.appendChild(o.createTextNode(SI(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(SI(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(u.value))}}),c.className=J7+" "+Z7;var A=i===jg.BEFORE?" "+J7:" "+Z7;return dm(t)?t.className.baseValue+=A:t.className+=A,c}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n}(),jg;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(jg||(jg={}));var Cce=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(vz,"true"),n.body.appendChild(t),t},Ice=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Tce=function(n){return Promise.all([].slice.call(n.images,0).map(Ice))},Mce=function(n){return new Promise(function(e,t){var r=n.contentWindow;if(!r)return t("No window assigned for iframe");var i=r.document;r.onload=n.onload=function(){r.onload=n.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},Sce=["all","d","content"],mv=function(n,e){for(var t=n.length-1;t>=0;t--){var r=n.item(t);Sce.indexOf(r)===-1&&e.style.setProperty(r,n.getPropertyValue(r))}return e},Fce=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},Uce=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},Nce=function(n){var e=n[0],t=n[1],r=n[2];e.scrollLeft=t,e.scrollTop=r},kce=":before",Pce=":after",J7="___html2canvas___pseudoelement_before",Z7="___html2canvas___pseudoelement_after",rT=`{
    content: "" !important;
    display: none !important;
}`,Dce=function(n){Oce(n,"."+J7+kce+rT+`
         .`+Z7+Pce+rT)},Oce=function(n,e){var t=n.ownerDocument;if(t){var r=t.createElement("style");r.textContent=e,n.appendChild(r)}},wz=function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n}(),zce=function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(bv(e)||Yce(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return da(this,void 0,void 0,function(){var t,r,i,s,a=this;return Ws(this,function(o){switch(o.label){case 0:return t=wz.isSameOrigin(e),r=!yv(e)&&this._options.useCORS===!0&&ks.SUPPORT_CORS_IMAGES&&!t,i=!yv(e)&&!t&&!bv(e)&&typeof this._options.proxy=="string"&&ks.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!yv(e)&&!bv(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var A=new Image;A.onload=function(){return l(A)},A.onerror=c,(Gce(s)||r)&&(A.crossOrigin="anonymous"),A.src=s,A.complete===!0&&setTimeout(function(){return l(A)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=ks.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var u=new FileReader;u.addEventListener("load",function(){return s(u.result)},!1),u.addEventListener("error",function(h){return a(h)},!1),u.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var c=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var A=t._options.imageTimeout;l.timeout=A,l.ontimeout=function(){return a("Timed out ("+A+"ms) proxying "+i)}}l.send()})},n}(),Hce=/^data:image\/svg\+xml/i,Qce=/^data:image\/.*;base64,/i,jce=/^data:image\/.*/i,Yce=function(n){return ks.SUPPORT_SVG_DRAWING||!Vce(n)},yv=function(n){return jce.test(n)},Gce=function(n){return Qce.test(n)},bv=function(n){return n.substr(0,4)==="blob"},Vce=function(n){return n.substr(-3).toLowerCase()==="svg"||Hce.test(n)},$t=function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n}(),If=function(n,e,t){return new $t(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},$_=function(){function n(e,t,r,i){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=i}return n.prototype.subdivide=function(e,t){var r=If(this.start,this.startControl,e),i=If(this.startControl,this.endControl,e),s=If(this.endControl,this.end,e),a=If(r,i,e),o=If(i,s,e),l=If(a,o,e);return t?new n(this.start,r,a,l):new n(l,o,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n}(),zo=function(n){return n.type===1},Kce=function(){function n(e){var t=e.styles,r=e.bounds,i=lg(t.borderTopLeftRadius,r.width,r.height),s=i[0],a=i[1],o=lg(t.borderTopRightRadius,r.width,r.height),l=o[0],c=o[1],A=lg(t.borderBottomRightRadius,r.width,r.height),u=A[0],h=A[1],f=lg(t.borderBottomLeftRadius,r.width,r.height),d=f[0],g=f[1],_=[];_.push((s+l)/r.width),_.push((d+u)/r.width),_.push((a+g)/r.height),_.push((c+h)/r.height);var m=Math.max.apply(Math,_);m>1&&(s/=m,a/=m,l/=m,c/=m,u/=m,h/=m,d/=m,g/=m);var y=r.width-l,b=r.height-h,v=r.width-u,B=r.height-g,C=t.borderTopWidth,I=t.borderRightWidth,R=t.borderBottomWidth,w=t.borderLeftWidth,U=Gr(t.paddingTop,e.bounds.width),M=Gr(t.paddingRight,e.bounds.width),F=Gr(t.paddingBottom,e.bounds.width),P=Gr(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Zr(r.left+w/3,r.top+C/3,s-w/3,a-C/3,_r.TOP_LEFT):new $t(r.left+w/3,r.top+C/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Zr(r.left+y,r.top+C/3,l-I/3,c-C/3,_r.TOP_RIGHT):new $t(r.left+r.width-I/3,r.top+C/3),this.bottomRightBorderDoubleOuterBox=u>0||h>0?Zr(r.left+v,r.top+b,u-I/3,h-R/3,_r.BOTTOM_RIGHT):new $t(r.left+r.width-I/3,r.top+r.height-R/3),this.bottomLeftBorderDoubleOuterBox=d>0||g>0?Zr(r.left+w/3,r.top+B,d-w/3,g-R/3,_r.BOTTOM_LEFT):new $t(r.left+w/3,r.top+r.height-R/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Zr(r.left+w*2/3,r.top+C*2/3,s-w*2/3,a-C*2/3,_r.TOP_LEFT):new $t(r.left+w*2/3,r.top+C*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Zr(r.left+y,r.top+C*2/3,l-I*2/3,c-C*2/3,_r.TOP_RIGHT):new $t(r.left+r.width-I*2/3,r.top+C*2/3),this.bottomRightBorderDoubleInnerBox=u>0||h>0?Zr(r.left+v,r.top+b,u-I*2/3,h-R*2/3,_r.BOTTOM_RIGHT):new $t(r.left+r.width-I*2/3,r.top+r.height-R*2/3),this.bottomLeftBorderDoubleInnerBox=d>0||g>0?Zr(r.left+w*2/3,r.top+B,d-w*2/3,g-R*2/3,_r.BOTTOM_LEFT):new $t(r.left+w*2/3,r.top+r.height-R*2/3),this.topLeftBorderStroke=s>0||a>0?Zr(r.left+w/2,r.top+C/2,s-w/2,a-C/2,_r.TOP_LEFT):new $t(r.left+w/2,r.top+C/2),this.topRightBorderStroke=s>0||a>0?Zr(r.left+y,r.top+C/2,l-I/2,c-C/2,_r.TOP_RIGHT):new $t(r.left+r.width-I/2,r.top+C/2),this.bottomRightBorderStroke=u>0||h>0?Zr(r.left+v,r.top+b,u-I/2,h-R/2,_r.BOTTOM_RIGHT):new $t(r.left+r.width-I/2,r.top+r.height-R/2),this.bottomLeftBorderStroke=d>0||g>0?Zr(r.left+w/2,r.top+B,d-w/2,g-R/2,_r.BOTTOM_LEFT):new $t(r.left+w/2,r.top+r.height-R/2),this.topLeftBorderBox=s>0||a>0?Zr(r.left,r.top,s,a,_r.TOP_LEFT):new $t(r.left,r.top),this.topRightBorderBox=l>0||c>0?Zr(r.left+y,r.top,l,c,_r.TOP_RIGHT):new $t(r.left+r.width,r.top),this.bottomRightBorderBox=u>0||h>0?Zr(r.left+v,r.top+b,u,h,_r.BOTTOM_RIGHT):new $t(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=d>0||g>0?Zr(r.left,r.top+B,d,g,_r.BOTTOM_LEFT):new $t(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||a>0?Zr(r.left+w,r.top+C,Math.max(0,s-w),Math.max(0,a-C),_r.TOP_LEFT):new $t(r.left+w,r.top+C),this.topRightPaddingBox=l>0||c>0?Zr(r.left+Math.min(y,r.width-I),r.top+C,y>r.width+I?0:Math.max(0,l-I),Math.max(0,c-C),_r.TOP_RIGHT):new $t(r.left+r.width-I,r.top+C),this.bottomRightPaddingBox=u>0||h>0?Zr(r.left+Math.min(v,r.width-w),r.top+Math.min(b,r.height-R),Math.max(0,u-I),Math.max(0,h-R),_r.BOTTOM_RIGHT):new $t(r.left+r.width-I,r.top+r.height-R),this.bottomLeftPaddingBox=d>0||g>0?Zr(r.left+w,r.top+Math.min(B,r.height-R),Math.max(0,d-w),Math.max(0,g-R),_r.BOTTOM_LEFT):new $t(r.left+w,r.top+r.height-R),this.topLeftContentBox=s>0||a>0?Zr(r.left+w+P,r.top+C+U,Math.max(0,s-(w+P)),Math.max(0,a-(C+U)),_r.TOP_LEFT):new $t(r.left+w+P,r.top+C+U),this.topRightContentBox=l>0||c>0?Zr(r.left+Math.min(y,r.width+w+P),r.top+C+U,y>r.width+w+P?0:l-w+P,c-(C+U),_r.TOP_RIGHT):new $t(r.left+r.width-(I+M),r.top+C+U),this.bottomRightContentBox=u>0||h>0?Zr(r.left+Math.min(v,r.width-(w+P)),r.top+Math.min(b,r.height+C+U),Math.max(0,u-(I+M)),h-(R+F),_r.BOTTOM_RIGHT):new $t(r.left+r.width-(I+M),r.top+r.height-(R+F)),this.bottomLeftContentBox=d>0||g>0?Zr(r.left+w+P,r.top+B,Math.max(0,d-(w+P)),g-(R+F),_r.BOTTOM_LEFT):new $t(r.left+w+P,r.top+r.height-(R+F))}return n}(),_r;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(_r||(_r={}));var Zr=function(n,e,t,r,i){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=r*s,l=n+t,c=e+r;switch(i){case _r.TOP_LEFT:return new $_(new $t(n,c),new $t(n,c-o),new $t(l-a,e),new $t(l,e));case _r.TOP_RIGHT:return new $_(new $t(n,e),new $t(n+a,e),new $t(l,c-o),new $t(l,c));case _r.BOTTOM_RIGHT:return new $_(new $t(l,e),new $t(l,e+o),new $t(n+a,c),new $t(n,c));case _r.BOTTOM_LEFT:default:return new $_(new $t(l,c),new $t(l-a,c),new $t(n,e+o),new $t(n,e))}},L5=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},$ce=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},x5=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},Wce=function(){function n(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return n}(),W_=function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n}(),qce=function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n}(),Xce=function(n){return n.type===0},Lz=function(n){return n.type===1},Jce=function(n){return n.type===2},iT=function(n,e){return n.length===e.length?n.some(function(t,r){return t===e[r]}):!1},Zce=function(n,e,t,r,i){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+r,t);case 2:return s.add(e+r,t+i);case 3:return s.add(e,t+i)}return s})},xz=function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n}(),Rz=function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Kce(this.container),this.container.styles.opacity<1&&this.effects.push(new qce(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Wce(r,i,s))}if(this.container.styles.overflowX!==0){var a=L5(this.curves),o=x5(this.curves);iT(a,o)?this.effects.push(new W_(a,6)):(this.effects.push(new W_(a,2)),this.effects.push(new W_(o,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!Lz(l)});if(t||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=L5(r.curves),o=x5(r.curves);iT(a,o)||i.unshift(new W_(o,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return gs(l.target,e)})},n}(),e9=function(n,e,t,r){n.container.elements.forEach(function(i){var s=gs(i.flags,4),a=gs(i.flags,2),o=new Rz(i,n);gs(i.styles.display,2048)&&r.push(o);var l=gs(i.flags,8)?[]:r;if(s||a){var c=s||i.styles.isPositioned()?t:e,A=new xz(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var h=0;c.negativeZIndex.some(function(d,g){return u>d.element.container.styles.zIndex.order?(h=g,!1):h>0}),c.negativeZIndex.splice(h,0,A)}else if(u>0){var f=0;c.positiveZIndex.some(function(d,g){return u>=d.element.container.styles.zIndex.order?(f=g+1,!1):f>0}),c.positiveZIndex.splice(f,0,A)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else i.styles.isFloating()?c.nonPositionedFloats.push(A):c.nonPositionedInlineLevel.push(A);e9(o,A,s?A:t,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),e9(o,e,t,l);gs(i.flags,8)&&Bz(i,l)})},Bz=function(n,e){for(var t=n instanceof W7?n.start:1,r=n instanceof W7?n.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof cz&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=N3(t,s.container.styles.listStyleType,!0),t+=r?-1:1}},e0e=function(n){var e=new Rz(n,null),t=new xz(e),r=[];return e9(e,t,t,r),Bz(e.container,r),t},sT=function(n,e){switch(e){case 0:return Ko(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return Ko(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return Ko(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return Ko(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},t0e=function(n,e){switch(e){case 0:return Ko(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return Ko(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return Ko(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return Ko(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},n0e=function(n,e){switch(e){case 0:return Ko(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return Ko(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return Ko(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return Ko(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},r0e=function(n,e){switch(e){case 0:return q_(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return q_(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return q_(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return q_(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},q_=function(n,e){var t=[];return zo(n)?t.push(n.subdivide(.5,!1)):t.push(n),zo(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Ko=function(n,e,t,r){var i=[];return zo(n)?i.push(n.subdivide(.5,!1)):i.push(n),zo(t)?i.push(t.subdivide(.5,!0)):i.push(t),zo(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),zo(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Ez=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},R5=function(n){var e=n.styles,t=n.bounds,r=Gr(e.paddingLeft,t.width),i=Gr(e.paddingRight,t.width),s=Gr(e.paddingTop,t.width),a=Gr(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},i0e=function(n,e){return n===0?e.bounds:n===2?R5(e):Ez(e)},s0e=function(n,e){return n===0?e.bounds:n===2?R5(e):Ez(e)},vv=function(n,e,t){var r=i0e(eh(n.styles.backgroundOrigin,e),n),i=s0e(eh(n.styles.backgroundClip,e),n),s=a0e(eh(n.styles.backgroundSize,e),t,r),a=s[0],o=s[1],l=lg(eh(n.styles.backgroundPosition,e),r.width-a,r.height-o),c=o0e(eh(n.styles.backgroundRepeat,e),l,s,r,i),A=Math.round(r.left+l[0]),u=Math.round(r.top+l[1]);return[c,A,u,a,o]},Tf=function(n){return Cr(n)&&n.value===Uh.AUTO},X_=function(n){return typeof n=="number"},a0e=function(n,e,t){var r=e[0],i=e[1],s=e[2],a=n[0],o=n[1];if(!a)return[0,0];if(Zi(a)&&o&&Zi(o))return[Gr(a,t.width),Gr(o,t.height)];var l=X_(s);if(Cr(a)&&(a.value===Uh.CONTAIN||a.value===Uh.COVER)){if(X_(s)){var c=t.width/t.height;return c<s!=(a.value===Uh.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var A=X_(r),u=X_(i),h=A||u;if(Tf(a)&&(!o||Tf(o))){if(A&&u)return[r,i];if(!l&&!h)return[t.width,t.height];if(h&&l){var f=A?r:i*s,d=u?i:r/s;return[f,d]}var g=A?r:t.width,_=u?i:t.height;return[g,_]}if(l){var m=0,y=0;return Zi(a)?m=Gr(a,t.width):Zi(o)&&(y=Gr(o,t.height)),Tf(a)?m=y*s:(!o||Tf(o))&&(y=m/s),[m,y]}var b=null,v=null;if(Zi(a)?b=Gr(a,t.width):o&&Zi(o)&&(v=Gr(o,t.height)),b!==null&&(!o||Tf(o))&&(v=A&&u?b/r*i:t.height),v!==null&&Tf(a)&&(b=A&&u?v/i*r:t.width),b!==null&&v!==null)return[b,v];throw new Error("Unable to calculate background-size for element")},eh=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},o0e=function(n,e,t,r,i){var s=e[0],a=e[1],o=t[0],l=t[1];switch(n){case 2:return[new $t(Math.round(r.left),Math.round(r.top+a)),new $t(Math.round(r.left+r.width),Math.round(r.top+a)),new $t(Math.round(r.left+r.width),Math.round(l+r.top+a)),new $t(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new $t(Math.round(r.left+s),Math.round(r.top)),new $t(Math.round(r.left+s+o),Math.round(r.top)),new $t(Math.round(r.left+s+o),Math.round(r.height+r.top)),new $t(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new $t(Math.round(r.left+s),Math.round(r.top+a)),new $t(Math.round(r.left+s+o),Math.round(r.top+a)),new $t(Math.round(r.left+s+o),Math.round(r.top+a+l)),new $t(Math.round(r.left+s),Math.round(r.top+a+l))];default:return[new $t(Math.round(i.left),Math.round(i.top)),new $t(Math.round(i.left+i.width),Math.round(i.top)),new $t(Math.round(i.left+i.width),Math.round(i.height+i.top)),new $t(Math.round(i.left),Math.round(i.height+i.top))]}},l0e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",aT="Hidden Text",c0e=function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),i.src=l0e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(aT)),r.appendChild(s),r.appendChild(i);var o=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(aT)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:o,middle:l}},n.prototype.getMetrics=function(e,t){var r=e+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},n}(),Cz=function(){function n(e,t){this.context=e,this.options=t}return n}(),A0e=1e4,u0e=function(n){$l(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new c0e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),Jce(t)&&(this.ctx.globalAlpha=t.opacity),Xce(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),Lz(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return da(this,void 0,void 0,function(){var r;return Ws(this,function(i){switch(i.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return da(this,void 0,void 0,function(){return Ws(this,function(r){switch(r.label){case 0:if(gs(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,r,i){var s=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=eR(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+i),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=p0e(t.fontFamily).join(", "),s=wp(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,r){return da(this,void 0,void 0,function(){var i,s,a,o,l,c,A,u,h=this;return Ws(this,function(f){return i=this.createFontStyle(r),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),c=l.baseline,A=l.middle,u=r.paintOrder,t.textBounds.forEach(function(d){u.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=vs(r.color),h.renderTextWithLetterSpacing(d,r.letterSpacing,c);var _=r.textShadow;_.length&&d.text.trim().length&&(_.slice(0).reverse().forEach(function(m){h.ctx.shadowColor=vs(m.color),h.ctx.shadowOffsetX=m.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=m.offsetY.number*h.options.scale,h.ctx.shadowBlur=m.blur.number,h.renderTextWithLetterSpacing(d,r.letterSpacing,c)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),r.textDecorationLine.length&&(h.ctx.fillStyle=vs(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(m){switch(m){case 1:h.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top+c),d.bounds.width,1);break;case 2:h.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top),d.bounds.width,1);break;case 3:h.ctx.fillRect(d.bounds.left,Math.ceil(d.bounds.top+A),d.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&d.text.trim().length&&(h.ctx.strokeStyle=vs(r.webkitTextStrokeColor),h.ctx.lineWidth=r.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(d.text,d.bounds.left,d.bounds.top+c)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,r,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=R5(t),a=x5(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return da(this,void 0,void 0,function(){var r,i,s,a,o,l,y,y,c,A,u,h,v,f,d,B,g,_,m,y,b,v,B;return Ws(this,function(C){switch(C.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,i=t.curves,s=r.styles,a=0,o=r.textNodes,C.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:C.sent(),C.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof az))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return y=C.sent(),this.renderReplacedElement(r,i,y),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof oz&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof lz))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return y=C.sent(),this.renderReplacedElement(r,i,y),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof fz&&r.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:A=C.sent(),r.width&&r.height&&this.ctx.drawImage(A,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),C.label=14;case 14:if(r instanceof tR&&(u=Math.min(r.bounds.width,r.bounds.height),r.type===y5?r.checked&&(this.ctx.save(),this.path([new $t(r.bounds.left+u*.39363,r.bounds.top+u*.79),new $t(r.bounds.left+u*.16,r.bounds.top+u*.5549),new $t(r.bounds.left+u*.27347,r.bounds.top+u*.44071),new $t(r.bounds.left+u*.39694,r.bounds.top+u*.5649),new $t(r.bounds.left+u*.72983,r.bounds.top+u*.23),new $t(r.bounds.left+u*.84,r.bounds.top+u*.34085),new $t(r.bounds.left+u*.39363,r.bounds.top+u*.79)]),this.ctx.fillStyle=vs(KI),this.ctx.fill(),this.ctx.restore()):r.type===b5&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+u/2,r.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=vs(KI),this.ctx.fill(),this.ctx.restore())),f0e(r)&&r.value.length){switch(h=this.createFontStyle(s),v=h[0],f=h[1],d=this.fontMetrics.getMetrics(v,f).baseline,this.ctx.font=v,this.ctx.fillStyle=vs(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=d0e(r.styles.textAlign),B=R5(r),g=0,r.styles.textAlign){case 1:g+=B.width/2;break;case 2:g+=B.width;break}_=B.add(g,0,0,-B.height/2+1),this.ctx.save(),this.path([new $t(B.left,B.top),new $t(B.left+B.width,B.top),new $t(B.left+B.width,B.top+B.height),new $t(B.left,B.top+B.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Qg(r.value,_),s.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!gs(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(m=r.styles.listStyleImage,m.type!==0)return[3,18];y=void 0,b=m.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return y=C.sent(),this.ctx.drawImage(y,r.bounds.left-(y.width+10),r.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(v=this.createFontStyle(s)[0],this.ctx.font=v,this.ctx.fillStyle=vs(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",B=new G0(r.bounds.left,r.bounds.top+Gr(r.styles.paddingTop,r.bounds.width),r.bounds.width,TI(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Qg(t.listValue,B),s.letterSpacing,TI(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return da(this,void 0,void 0,function(){var r,i,m,s,a,m,o,l,m,c,A,m,u,h,m,f,d,m,g,_,m;return Ws(this,function(y){switch(y.label){case 0:if(gs(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:y.sent(),r=0,i=t.negativeZIndex,y.label=2;case 2:return r<i.length?(m=i[r],[4,this.renderStack(m)]):[3,5];case 3:y.sent(),y.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:y.sent(),s=0,a=t.nonInlineLevel,y.label=7;case 7:return s<a.length?(m=a[s],[4,this.renderNode(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,y.label=11;case 11:return o<l.length?(m=l[o],[4,this.renderStack(m)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:c=0,A=t.nonPositionedInlineLevel,y.label=15;case 15:return c<A.length?(m=A[c],[4,this.renderStack(m)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:u=0,h=t.inlineLevel,y.label=19;case 19:return u<h.length?(m=h[u],[4,this.renderNode(m)]):[3,22];case 20:y.sent(),y.label=21;case 21:return u++,[3,19];case 22:f=0,d=t.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return f<d.length?(m=d[f],[4,this.renderStack(m)]):[3,26];case 24:y.sent(),y.label=25;case 25:return f++,[3,23];case 26:g=0,_=t.positiveZIndex,y.label=27;case 27:return g<_.length?(m=_[g],[4,this.renderStack(m)]):[3,30];case 28:y.sent(),y.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var r=this;t.forEach(function(i,s){var a=zo(i)?i.start:i;s===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),zo(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,r,i,s){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,r,i){var s;if(t.width===r&&t.height===i)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,r,i),o},e.prototype.renderBackgroundImage=function(t){return da(this,void 0,void 0,function(){var r,i,s,a,o,l;return Ws(this,function(c){switch(c.label){case 0:r=t.styles.backgroundImage.length-1,i=function(A){var u,h,f,U,re,G,P,S,R,d,U,re,G,P,S,g,_,m,y,b,v,B,C,I,R,w,U,M,F,P,S,W,re,G,ie,X,ge,K,N,H,V,j;return Ws(this,function(le){switch(le.label){case 0:if(A.type!==0)return[3,5];u=void 0,h=A.url,le.label=1;case 1:return le.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return u=le.sent(),[3,4];case 3:return le.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return u&&(f=vv(t,r,[u.width,u.height,u.width/u.height]),U=f[0],re=f[1],G=f[2],P=f[3],S=f[4],R=s.ctx.createPattern(s.resizeImage(u,P,S),"repeat"),s.renderRepeat(U,R,re,G)),[3,6];case 5:Xae(A)?(d=vv(t,r,[null,null,null]),U=d[0],re=d[1],G=d[2],P=d[3],S=d[4],g=Vae(A.angle,P,S),_=g[0],m=g[1],y=g[2],b=g[3],v=g[4],B=document.createElement("canvas"),B.width=P,B.height=S,C=B.getContext("2d"),I=C.createLinearGradient(m,b,y,v),CI(A.stops,_).forEach(function(de){return I.addColorStop(de.stop,vs(de.color))}),C.fillStyle=I,C.fillRect(0,0,P,S),P>0&&S>0&&(R=s.ctx.createPattern(B,"repeat"),s.renderRepeat(U,R,re,G))):Jae(A)&&(w=vv(t,r,[null,null,null]),U=w[0],M=w[1],F=w[2],P=w[3],S=w[4],W=A.position.length===0?[Xx]:A.position,re=Gr(W[0],P),G=Gr(W[W.length-1],S),ie=Kae(A,re,G,P,S),X=ie[0],ge=ie[1],X>0&&ge>0&&(K=s.ctx.createRadialGradient(M+re,F+G,0,M+re,F+G,X),CI(A.stops,X*2).forEach(function(de){return K.addColorStop(de.stop,vs(de.color))}),s.path(U),s.ctx.fillStyle=K,X!==ge?(N=t.bounds.left+.5*t.bounds.width,H=t.bounds.top+.5*t.bounds.height,V=ge/X,j=1/V,s.ctx.save(),s.ctx.translate(N,H),s.ctx.transform(1,0,0,V,0,0),s.ctx.translate(-N,-H),s.ctx.fillRect(M,j*(F-H)+H,P,S*j),s.ctx.restore()):s.ctx.fill())),le.label=6;case 6:return r--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,r,i){return da(this,void 0,void 0,function(){return Ws(this,function(s){return this.path(sT(i,r)),this.ctx.fillStyle=vs(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,r,i,s){return da(this,void 0,void 0,function(){var a,o;return Ws(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=t0e(s,i),this.path(a),this.ctx.fillStyle=vs(t),this.ctx.fill(),o=n0e(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return da(this,void 0,void 0,function(){var r,i,s,a,o,l,c,A,u=this;return Ws(this,function(h){switch(h.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,i=!$A(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=h0e(eh(r.backgroundClip,0),t.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),$A(r.backgroundColor)||(this.ctx.fillStyle=vs(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(f){u.ctx.save();var d=L5(t.curves),g=f.inset?0:A0e,_=Zce(d,-g+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(u.path(d),u.ctx.clip(),u.mask(_)):(u.mask(d),u.ctx.clip(),u.path(_)),u.ctx.shadowOffsetX=f.offsetX.number+g,u.ctx.shadowOffsetY=f.offsetY.number,u.ctx.shadowColor=vs(f.color),u.ctx.shadowBlur=f.blur.number,u.ctx.fillStyle=f.inset?vs(f.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),h.label=2;case 2:o=0,l=0,c=s,h.label=3;case 3:return l<c.length?(A=c[l],A.style!==0&&!$A(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,o,t.curves,3)];case 6:return h.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,o,t.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,o,t.curves)];case 10:h.sent(),h.label=11;case 11:o++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,r,i,s,a){return da(this,void 0,void 0,function(){var o,l,c,A,u,h,f,d,g,_,m,y,b,v,B,C,B,C;return Ws(this,function(I){return this.ctx.save(),o=r0e(s,i),l=sT(s,i),a===2&&(this.path(l),this.ctx.clip()),zo(l[0])?(c=l[0].start.x,A=l[0].start.y):(c=l[0].x,A=l[0].y),zo(l[1])?(u=l[1].end.x,h=l[1].end.y):(u=l[1].x,h=l[1].y),i===0||i===2?f=Math.abs(c-u):f=Math.abs(A-h),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),d=r<3?r*3:r*2,g=r<3?r*2:r,a===3&&(d=r,g=r),_=!0,f<=d*2?_=!1:f<=d*2+g?(m=f/(2*d+g),d*=m,g*=m):(y=Math.floor((f+g)/(d+g)),b=(f-y*d)/(y-1),v=(f-(y+1)*d)/y,g=v<=0||Math.abs(g-b)<Math.abs(g-v)?b:v),_&&(a===3?this.ctx.setLineDash([0,d+g]):this.ctx.setLineDash([d,g])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=vs(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(zo(l[0])&&(B=l[3],C=l[0],this.ctx.beginPath(),this.formatPath([new $t(B.end.x,B.end.y),new $t(C.start.x,C.start.y)]),this.ctx.stroke()),zo(l[1])&&(B=l[1],C=l[2],this.ctx.beginPath(),this.formatPath([new $t(B.end.x,B.end.y),new $t(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return da(this,void 0,void 0,function(){var r;return Ws(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=vs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=e0e(t),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Cz),f0e=function(n){return n instanceof uz||n instanceof Az?!0:n instanceof tR&&n.type!==b5&&n.type!==y5},h0e=function(n,e){switch(n){case 0:return L5(e);case 2:return $ce(e);case 1:default:return x5(e)}},d0e=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},g0e=["-apple-system","system-ui"],p0e=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return g0e.indexOf(e)===-1}):n},_0e=function(n){$l(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(t){return da(this,void 0,void 0,function(){var r,i;return Ws(this,function(s){switch(s.label){case 0:return r=$7(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,m0e(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=vs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Cz),m0e=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},y0e=function(){function n(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,I_([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,I_([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,I_([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,I_([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n}(),b0e=function(){function n(e,t){var r;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new y0e({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new zce(this,e)}return n.instanceCount=1,n}(),v0e=function(n,e){return e===void 0&&(e={}),w0e(n,e)};typeof window<"u"&&wz.setContext(window);var w0e=function(n,e){return da(void 0,void 0,void 0,function(){var t,r,i,s,a,o,l,c,A,u,h,f,d,g,_,m,y,b,v,B,I,C,I,R,w,U,M,F,P,S,W,re,G,ie,X,ge,K,N,H,V;return Ws(this,function(j){switch(j.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(R=e.allowTaint)!==null&&R!==void 0?R:!1,imageTimeout:(w=e.imageTimeout)!==null&&w!==void 0?w:15e3,proxy:e.proxy,useCORS:(U=e.useCORS)!==null&&U!==void 0?U:!1},s=F7({logging:(M=e.logging)!==null&&M!==void 0?M:!0,cache:e.cache},i),a={windowWidth:(F=e.windowWidth)!==null&&F!==void 0?F:r.innerWidth,windowHeight:(P=e.windowHeight)!==null&&P!==void 0?P:r.innerHeight,scrollX:(S=e.scrollX)!==null&&S!==void 0?S:r.pageXOffset,scrollY:(W=e.scrollY)!==null&&W!==void 0?W:r.pageYOffset},o=new G0(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new b0e(s,o),c=(re=e.foreignObjectRendering)!==null&&re!==void 0?re:!1,A={allowTaint:(G=e.allowTaint)!==null&&G!==void 0?G:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),u=new nT(l,n,A),h=u.clonedReferenceElement,h?[4,u.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=j.sent(),d=nR(h)||Lce(h)?Zie(h.ownerDocument):i6(l,h),g=d.width,_=d.height,m=d.left,y=d.top,b=L0e(l,h,e.backgroundColor),v={canvas:e.canvas,backgroundColor:b,scale:(X=(ie=e.scale)!==null&&ie!==void 0?ie:r.devicePixelRatio)!==null&&X!==void 0?X:1,x:((ge=e.x)!==null&&ge!==void 0?ge:0)+m,y:((K=e.y)!==null&&K!==void 0?K:0)+y,width:(N=e.width)!==null&&N!==void 0?N:Math.ceil(g),height:(H=e.height)!==null&&H!==void 0?H:Math.ceil(_)},c?(l.logger.debug("Document cloned, using foreign object rendering"),I=new _0e(l,v),[4,I.render(h)]):[3,3];case 2:return B=j.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+m+","+y+" with size "+g+"x"+_+" using computed rendering"),l.logger.debug("Starting DOM parsing"),C=dz(l,h),b===C.styles.backgroundColor&&(C.styles.backgroundColor=k0.TRANSPARENT),l.logger.debug("Starting renderer for element at "+v.x+","+v.y+" with size "+v.width+"x"+v.height),I=new u0e(l,v),[4,I.render(C)];case 4:B=j.sent(),j.label=5;case 5:return(!((V=e.removeContainer)!==null&&V!==void 0)||V)&&(nT.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,B]}})})},L0e=function(n,e,t){var r=e.ownerDocument,i=r.documentElement?zg(n,getComputedStyle(r.documentElement).backgroundColor):k0.TRANSPARENT,s=r.body?zg(n,getComputedStyle(r.body).backgroundColor):k0.TRANSPARENT,a=typeof t=="string"?zg(n,t):t===null?k0.TRANSPARENT:4294967295;return e===r.documentElement?$A(i)?$A(s)?a:s:i:a};const x0e=Object.freeze(Object.defineProperty({__proto__:null,default:v0e},Symbol.toStringTag,{value:"Module"}));function Lr(n){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lr(n)}function R0e(n){if(Array.isArray(n))return n}function B0e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){c=!0,i=A}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function oT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function E0e(n,e){if(n){if(typeof n=="string")return oT(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oT(n,e):void 0}}function C0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lT(n,e){return R0e(n)||B0e(n,e)||E0e(n,e)||C0e()}function cT(n,e="utf8"){return new TextDecoder(e).decode(n)}const I0e=new TextEncoder;function T0e(n){return I0e.encode(n)}const M0e=1024*8,S0e=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),wv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class rR{constructor(e=M0e,t={}){z(this,"buffer");z(this,"byteLength");z(this,"byteOffset");z(this,"length");z(this,"offset");z(this,"lastWrittenByte");z(this,"littleEndian");z(this,"_data");z(this,"_mark");z(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof rR)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=wv[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===S0e&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new wv[t](o.buffer);return this.offset+=r,l.reverse(),l}const a=new wv[t](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return cT(this.readBytes(e))}decodeText(e=1,t="utf8"){return cT(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(T0e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Pd(n){let e=n.length;for(;--e>=0;)n[e]=0}const F0e=3,U0e=258,Iz=29,N0e=256,k0e=N0e+1+Iz,Tz=30,P0e=512,D0e=new Array((k0e+2)*2);Pd(D0e);const O0e=new Array(Tz*2);Pd(O0e);const z0e=new Array(P0e);Pd(z0e);const H0e=new Array(U0e-F0e+1);Pd(H0e);const Q0e=new Array(Iz);Pd(Q0e);const j0e=new Array(Tz);Pd(j0e);const Y0e=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var t9=Y0e;const G0e=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},V0e=new Uint32Array(G0e()),K0e=(n,e,t,r)=>{const i=V0e,s=r+t;n^=-1;for(let a=r;a<s;a++)n=n>>>8^i[(n^e[a])&255];return n^-1};var oc=K0e,n9={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Mz={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const $0e=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var W0e=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)$0e(t,r)&&(n[r]=t[r])}}return n},q0e=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let a=n[r];t.set(a,i),i+=a.length}return t},Sz={assign:W0e,flattenChunks:q0e};let Fz=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Fz=!1}const k3=new Uint8Array(256);for(let n=0;n<256;n++)k3[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;k3[254]=k3[254]=1;var X0e=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,a=n.length,o=0;for(i=0;i<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<a&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<a&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const J0e=(n,e)=>{if(e<65534&&n.subarray&&Fz)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var Z0e=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let a=n[r++];if(a<128){s[i++]=a;continue}let o=k3[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<t;)a=a<<6|n[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return J0e(s,i)},eAe=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+k3[n[t]]>e?t:e},r9={string2buf:X0e,buf2string:Z0e,utf8border:eAe};function tAe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var nAe=tAe;const J_=16209,rAe=16191;var iAe=function(e,t){let r,i,s,a,o,l,c,A,u,h,f,d,g,_,m,y,b,v,B,C,I,R,w,U;const M=e.state;r=e.next_in,w=e.input,i=r+(e.avail_in-5),s=e.next_out,U=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),l=M.dmax,c=M.wsize,A=M.whave,u=M.wnext,h=M.window,f=M.hold,d=M.bits,g=M.lencode,_=M.distcode,m=(1<<M.lenbits)-1,y=(1<<M.distbits)-1;e:do{d<15&&(f+=w[r++]<<d,d+=8,f+=w[r++]<<d,d+=8),b=g[f&m];t:for(;;){if(v=b>>>24,f>>>=v,d-=v,v=b>>>16&255,v===0)U[s++]=b&65535;else if(v&16){B=b&65535,v&=15,v&&(d<v&&(f+=w[r++]<<d,d+=8),B+=f&(1<<v)-1,f>>>=v,d-=v),d<15&&(f+=w[r++]<<d,d+=8,f+=w[r++]<<d,d+=8),b=_[f&y];n:for(;;){if(v=b>>>24,f>>>=v,d-=v,v=b>>>16&255,v&16){if(C=b&65535,v&=15,d<v&&(f+=w[r++]<<d,d+=8,d<v&&(f+=w[r++]<<d,d+=8)),C+=f&(1<<v)-1,C>l){e.msg="invalid distance too far back",M.mode=J_;break e}if(f>>>=v,d-=v,v=s-a,C>v){if(v=C-v,v>A&&M.sane){e.msg="invalid distance too far back",M.mode=J_;break e}if(I=0,R=h,u===0){if(I+=c-v,v<B){B-=v;do U[s++]=h[I++];while(--v);I=s-C,R=U}}else if(u<v){if(I+=c+u-v,v-=u,v<B){B-=v;do U[s++]=h[I++];while(--v);if(I=0,u<B){v=u,B-=v;do U[s++]=h[I++];while(--v);I=s-C,R=U}}}else if(I+=u-v,v<B){B-=v;do U[s++]=h[I++];while(--v);I=s-C,R=U}for(;B>2;)U[s++]=R[I++],U[s++]=R[I++],U[s++]=R[I++],B-=3;B&&(U[s++]=R[I++],B>1&&(U[s++]=R[I++]))}else{I=s-C;do U[s++]=U[I++],U[s++]=U[I++],U[s++]=U[I++],B-=3;while(B>2);B&&(U[s++]=U[I++],B>1&&(U[s++]=U[I++]))}}else if(v&64){e.msg="invalid distance code",M.mode=J_;break e}else{b=_[(b&65535)+(f&(1<<v)-1)];continue n}break}}else if(v&64)if(v&32){M.mode=rAe;break e}else{e.msg="invalid literal/length code",M.mode=J_;break e}else{b=g[(b&65535)+(f&(1<<v)-1)];continue t}break}}while(r<i&&s<o);B=d>>3,r-=B,d-=B<<3,f&=(1<<d)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),M.hold=f,M.bits=d};const Mf=15,AT=852,uT=592,fT=0,Lv=1,hT=2,sAe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),aAe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),oAe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lAe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),cAe=(n,e,t,r,i,s,a,o)=>{const l=o.bits;let c=0,A=0,u=0,h=0,f=0,d=0,g=0,_=0,m=0,y=0,b,v,B,C,I,R=null,w;const U=new Uint16Array(Mf+1),M=new Uint16Array(Mf+1);let F=null,P,S,W;for(c=0;c<=Mf;c++)U[c]=0;for(A=0;A<r;A++)U[e[t+A]]++;for(f=l,h=Mf;h>=1&&U[h]===0;h--);if(f>h&&(f=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<h&&U[u]===0;u++);for(f<u&&(f=u),_=1,c=1;c<=Mf;c++)if(_<<=1,_-=U[c],_<0)return-1;if(_>0&&(n===fT||h!==1))return-1;for(M[1]=0,c=1;c<Mf;c++)M[c+1]=M[c]+U[c];for(A=0;A<r;A++)e[t+A]!==0&&(a[M[e[t+A]]++]=A);if(n===fT?(R=F=a,w=20):n===Lv?(R=sAe,F=aAe,w=257):(R=oAe,F=lAe,w=0),y=0,A=0,c=u,I=s,d=f,g=0,B=-1,m=1<<f,C=m-1,n===Lv&&m>AT||n===hT&&m>uT)return 1;for(;;){P=c-g,a[A]+1<w?(S=0,W=a[A]):a[A]>=w?(S=F[a[A]-w],W=R[a[A]-w]):(S=96,W=0),b=1<<c-g,v=1<<d,u=v;do v-=b,i[I+(y>>g)+v]=P<<24|S<<16|W|0;while(v!==0);for(b=1<<c-1;y&b;)b>>=1;if(b!==0?(y&=b-1,y+=b):y=0,A++,--U[c]===0){if(c===h)break;c=e[t+a[A]]}if(c>f&&(y&C)!==B){for(g===0&&(g=f),I+=u,d=c-g,_=1<<d;d+g<h&&(_-=U[d+g],!(_<=0));)d++,_<<=1;if(m+=1<<d,n===Lv&&m>AT||n===hT&&m>uT)return 1;B=y&C,i[B]=f<<24|d<<16|I-s|0}}return y!==0&&(i[I+y]=c-g<<24|64<<16|0),o.bits=f,0};var Yg=cAe;const AAe=0,Uz=1,Nz=2,{Z_FINISH:dT,Z_BLOCK:uAe,Z_TREES:Z_,Z_OK:H1,Z_STREAM_END:fAe,Z_NEED_DICT:hAe,Z_STREAM_ERROR:sl,Z_DATA_ERROR:kz,Z_MEM_ERROR:Pz,Z_BUF_ERROR:dAe,Z_DEFLATED:gT}=Mz,d6=16180,pT=16181,_T=16182,mT=16183,yT=16184,bT=16185,vT=16186,wT=16187,LT=16188,xT=16189,B5=16190,a0=16191,xv=16192,RT=16193,Rv=16194,BT=16195,ET=16196,CT=16197,IT=16198,e4=16199,t4=16200,TT=16201,MT=16202,ST=16203,FT=16204,UT=16205,Bv=16206,NT=16207,kT=16208,ei=16209,Dz=16210,Oz=16211,gAe=852,pAe=592,_Ae=15,mAe=_Ae,PT=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function yAe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const nf=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<d6||e.mode>Oz?1:0},zz=n=>{if(nf(n))return sl;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=d6,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(gAe),e.distcode=e.distdyn=new Int32Array(pAe),e.sane=1,e.back=-1,H1},Hz=n=>{if(nf(n))return sl;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,zz(n)},Qz=(n,e)=>{let t;if(nf(n))return sl;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?sl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,Hz(n))},jz=(n,e)=>{if(!n)return sl;const t=new yAe;n.state=t,t.strm=n,t.window=null,t.mode=d6;const r=Qz(n,e);return r!==H1&&(n.state=null),r},bAe=n=>jz(n,mAe);let DT=!0,Ev,Cv;const vAe=n=>{if(DT){Ev=new Int32Array(512),Cv=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Yg(Uz,n.lens,0,288,Ev,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Yg(Nz,n.lens,0,32,Cv,0,n.work,{bits:5}),DT=!1}n.lencode=Ev,n.lenbits=9,n.distcode=Cv,n.distbits=5},Yz=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},wAe=(n,e)=>{let t,r,i,s,a,o,l,c,A,u,h,f,d,g,_=0,m,y,b,v,B,C,I,R;const w=new Uint8Array(4);let U,M;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(nf(n)||!n.output||!n.input&&n.avail_in!==0)return sl;t=n.state,t.mode===a0&&(t.mode=xv),a=n.next_out,i=n.output,l=n.avail_out,s=n.next_in,r=n.input,o=n.avail_in,c=t.hold,A=t.bits,u=o,h=l,R=H1;e:for(;;)switch(t.mode){case d6:if(t.wrap===0){t.mode=xv;break}for(;A<16;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,w[0]=c&255,w[1]=c>>>8&255,t.check=oc(t.check,w,2,0),c=0,A=0,t.mode=pT;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",t.mode=ei;break}if((c&15)!==gT){n.msg="unknown compression method",t.mode=ei;break}if(c>>>=4,A-=4,I=(c&15)+8,t.wbits===0&&(t.wbits=I),I>15||I>t.wbits){n.msg="invalid window size",t.mode=ei;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=c&512?xT:a0,c=0,A=0;break;case pT:for(;A<16;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}if(t.flags=c,(t.flags&255)!==gT){n.msg="unknown compression method",t.mode=ei;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=ei;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(w[0]=c&255,w[1]=c>>>8&255,t.check=oc(t.check,w,2,0)),c=0,A=0,t.mode=_T;case _T:for(;A<32;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(w[0]=c&255,w[1]=c>>>8&255,w[2]=c>>>16&255,w[3]=c>>>24&255,t.check=oc(t.check,w,4,0)),c=0,A=0,t.mode=mT;case mT:for(;A<16;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(w[0]=c&255,w[1]=c>>>8&255,t.check=oc(t.check,w,2,0)),c=0,A=0,t.mode=yT;case yT:if(t.flags&1024){for(;A<16;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(w[0]=c&255,w[1]=c>>>8&255,t.check=oc(t.check,w,2,0)),c=0,A=0}else t.head&&(t.head.extra=null);t.mode=bT;case bT:if(t.flags&1024&&(f=t.length,f>o&&(f=o),f&&(t.head&&(I=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+f),I)),t.flags&512&&t.wrap&4&&(t.check=oc(t.check,r,f,s)),o-=f,s+=f,t.length-=f),t.length))break e;t.length=0,t.mode=vT;case vT:if(t.flags&2048){if(o===0)break e;f=0;do I=r[s+f++],t.head&&I&&t.length<65536&&(t.head.name+=String.fromCharCode(I));while(I&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=oc(t.check,r,f,s)),o-=f,s+=f,I)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=wT;case wT:if(t.flags&4096){if(o===0)break e;f=0;do I=r[s+f++],t.head&&I&&t.length<65536&&(t.head.comment+=String.fromCharCode(I));while(I&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=oc(t.check,r,f,s)),o-=f,s+=f,I)break e}else t.head&&(t.head.comment=null);t.mode=LT;case LT:if(t.flags&512){for(;A<16;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}if(t.wrap&4&&c!==(t.check&65535)){n.msg="header crc mismatch",t.mode=ei;break}c=0,A=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=a0;break;case xT:for(;A<32;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}n.adler=t.check=PT(c),c=0,A=0,t.mode=B5;case B5:if(t.havedict===0)return n.next_out=a,n.avail_out=l,n.next_in=s,n.avail_in=o,t.hold=c,t.bits=A,hAe;n.adler=t.check=1,t.mode=a0;case a0:if(e===uAe||e===Z_)break e;case xv:if(t.last){c>>>=A&7,A-=A&7,t.mode=Bv;break}for(;A<3;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}switch(t.last=c&1,c>>>=1,A-=1,c&3){case 0:t.mode=RT;break;case 1:if(vAe(t),t.mode=e4,e===Z_){c>>>=2,A-=2;break e}break;case 2:t.mode=ET;break;case 3:n.msg="invalid block type",t.mode=ei}c>>>=2,A-=2;break;case RT:for(c>>>=A&7,A-=A&7;A<32;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",t.mode=ei;break}if(t.length=c&65535,c=0,A=0,t.mode=Rv,e===Z_)break e;case Rv:t.mode=BT;case BT:if(f=t.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(r.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,t.length-=f;break}t.mode=a0;break;case ET:for(;A<14;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}if(t.nlen=(c&31)+257,c>>>=5,A-=5,t.ndist=(c&31)+1,c>>>=5,A-=5,t.ncode=(c&15)+4,c>>>=4,A-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=ei;break}t.have=0,t.mode=CT;case CT:for(;t.have<t.ncode;){for(;A<3;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}t.lens[F[t.have++]]=c&7,c>>>=3,A-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,U={bits:t.lenbits},R=Yg(AAe,t.lens,0,19,t.lencode,0,t.work,U),t.lenbits=U.bits,R){n.msg="invalid code lengths set",t.mode=ei;break}t.have=0,t.mode=IT;case IT:for(;t.have<t.nlen+t.ndist;){for(;_=t.lencode[c&(1<<t.lenbits)-1],m=_>>>24,y=_>>>16&255,b=_&65535,!(m<=A);){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}if(b<16)c>>>=m,A-=m,t.lens[t.have++]=b;else{if(b===16){for(M=m+2;A<M;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}if(c>>>=m,A-=m,t.have===0){n.msg="invalid bit length repeat",t.mode=ei;break}I=t.lens[t.have-1],f=3+(c&3),c>>>=2,A-=2}else if(b===17){for(M=m+3;A<M;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}c>>>=m,A-=m,I=0,f=3+(c&7),c>>>=3,A-=3}else{for(M=m+7;A<M;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}c>>>=m,A-=m,I=0,f=11+(c&127),c>>>=7,A-=7}if(t.have+f>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=ei;break}for(;f--;)t.lens[t.have++]=I}}if(t.mode===ei)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=ei;break}if(t.lenbits=9,U={bits:t.lenbits},R=Yg(Uz,t.lens,0,t.nlen,t.lencode,0,t.work,U),t.lenbits=U.bits,R){n.msg="invalid literal/lengths set",t.mode=ei;break}if(t.distbits=6,t.distcode=t.distdyn,U={bits:t.distbits},R=Yg(Nz,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,U),t.distbits=U.bits,R){n.msg="invalid distances set",t.mode=ei;break}if(t.mode=e4,e===Z_)break e;case e4:t.mode=t4;case t4:if(o>=6&&l>=258){n.next_out=a,n.avail_out=l,n.next_in=s,n.avail_in=o,t.hold=c,t.bits=A,iAe(n,h),a=n.next_out,i=n.output,l=n.avail_out,s=n.next_in,r=n.input,o=n.avail_in,c=t.hold,A=t.bits,t.mode===a0&&(t.back=-1);break}for(t.back=0;_=t.lencode[c&(1<<t.lenbits)-1],m=_>>>24,y=_>>>16&255,b=_&65535,!(m<=A);){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}if(y&&!(y&240)){for(v=m,B=y,C=b;_=t.lencode[C+((c&(1<<v+B)-1)>>v)],m=_>>>24,y=_>>>16&255,b=_&65535,!(v+m<=A);){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}c>>>=v,A-=v,t.back+=v}if(c>>>=m,A-=m,t.back+=m,t.length=b,y===0){t.mode=UT;break}if(y&32){t.back=-1,t.mode=a0;break}if(y&64){n.msg="invalid literal/length code",t.mode=ei;break}t.extra=y&15,t.mode=TT;case TT:if(t.extra){for(M=t.extra;A<M;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,A-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=MT;case MT:for(;_=t.distcode[c&(1<<t.distbits)-1],m=_>>>24,y=_>>>16&255,b=_&65535,!(m<=A);){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}if(!(y&240)){for(v=m,B=y,C=b;_=t.distcode[C+((c&(1<<v+B)-1)>>v)],m=_>>>24,y=_>>>16&255,b=_&65535,!(v+m<=A);){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}c>>>=v,A-=v,t.back+=v}if(c>>>=m,A-=m,t.back+=m,y&64){n.msg="invalid distance code",t.mode=ei;break}t.offset=b,t.extra=y&15,t.mode=ST;case ST:if(t.extra){for(M=t.extra;A<M;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,A-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=ei;break}t.mode=FT;case FT:if(l===0)break e;if(f=h-l,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=ei;break}f>t.wnext?(f-=t.wnext,d=t.wsize-f):d=t.wnext-f,f>t.length&&(f=t.length),g=t.window}else g=i,d=a-t.offset,f=t.length;f>l&&(f=l),l-=f,t.length-=f;do i[a++]=g[d++];while(--f);t.length===0&&(t.mode=t4);break;case UT:if(l===0)break e;i[a++]=t.length,l--,t.mode=t4;break;case Bv:if(t.wrap){for(;A<32;){if(o===0)break e;o--,c|=r[s++]<<A,A+=8}if(h-=l,n.total_out+=h,t.total+=h,t.wrap&4&&h&&(n.adler=t.check=t.flags?oc(t.check,i,h,a-h):t9(t.check,i,h,a-h)),h=l,t.wrap&4&&(t.flags?c:PT(c))!==t.check){n.msg="incorrect data check",t.mode=ei;break}c=0,A=0}t.mode=NT;case NT:if(t.wrap&&t.flags){for(;A<32;){if(o===0)break e;o--,c+=r[s++]<<A,A+=8}if(t.wrap&4&&c!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=ei;break}c=0,A=0}t.mode=kT;case kT:R=fAe;break e;case ei:R=kz;break e;case Dz:return Pz;case Oz:default:return sl}return n.next_out=a,n.avail_out=l,n.next_in=s,n.avail_in=o,t.hold=c,t.bits=A,(t.wsize||h!==n.avail_out&&t.mode<ei&&(t.mode<Bv||e!==dT))&&Yz(n,n.output,n.next_out,h-n.avail_out),u-=n.avail_in,h-=n.avail_out,n.total_in+=u,n.total_out+=h,t.total+=h,t.wrap&4&&h&&(n.adler=t.check=t.flags?oc(t.check,i,h,n.next_out-h):t9(t.check,i,h,n.next_out-h)),n.data_type=t.bits+(t.last?64:0)+(t.mode===a0?128:0)+(t.mode===e4||t.mode===Rv?256:0),(u===0&&h===0||e===dT)&&R===H1&&(R=dAe),R},LAe=n=>{if(nf(n))return sl;let e=n.state;return e.window&&(e.window=null),n.state=null,H1},xAe=(n,e)=>{if(nf(n))return sl;const t=n.state;return t.wrap&2?(t.head=e,e.done=!1,H1):sl},RAe=(n,e)=>{const t=e.length;let r,i,s;return nf(n)||(r=n.state,r.wrap!==0&&r.mode!==B5)?sl:r.mode===B5&&(i=1,i=t9(i,e,t,0),i!==r.check)?kz:(s=Yz(n,e,t,t),s?(r.mode=Dz,Pz):(r.havedict=1,H1))};var BAe=Hz,EAe=Qz,CAe=zz,IAe=bAe,TAe=jz,MAe=wAe,SAe=LAe,FAe=xAe,UAe=RAe,NAe="pako inflate (from Nodeca project)",_0={inflateReset:BAe,inflateReset2:EAe,inflateResetKeep:CAe,inflateInit:IAe,inflateInit2:TAe,inflate:MAe,inflateEnd:SAe,inflateGetHeader:FAe,inflateSetDictionary:UAe,inflateInfo:NAe};function kAe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var PAe=kAe;const Gz=Object.prototype.toString,{Z_NO_FLUSH:DAe,Z_FINISH:OAe,Z_OK:P3,Z_STREAM_END:Iv,Z_NEED_DICT:Tv,Z_STREAM_ERROR:zAe,Z_DATA_ERROR:OT,Z_MEM_ERROR:HAe}=Mz;function Lp(n){this.options=Sz.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nAe,this.strm.avail_out=0;let t=_0.inflateInit2(this.strm,e.windowBits);if(t!==P3)throw new Error(n9[t]);if(this.header=new PAe,_0.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=r9.string2buf(e.dictionary):Gz.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=_0.inflateSetDictionary(this.strm,e.dictionary),t!==P3)))throw new Error(n9[t])}Lp.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?OAe:DAe,Gz.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=_0.inflate(t,a),s===Tv&&i&&(s=_0.inflateSetDictionary(t,i),s===P3?s=_0.inflate(t,a):s===OT&&(s=Tv));t.avail_in>0&&s===Iv&&t.state.wrap>0&&n[t.next_in]!==0;)_0.inflateReset(t),s=_0.inflate(t,a);switch(s){case zAe:case OT:case Tv:case HAe:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===Iv))if(this.options.to==="string"){let l=r9.utf8border(t.output,t.next_out),c=t.next_out-l,A=r9.buf2string(t.output,l);t.next_out=c,t.avail_out=r-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(A)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===P3&&o===0)){if(s===Iv)return s=_0.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Lp.prototype.onData=function(n){this.chunks.push(n)};Lp.prototype.onEnd=function(n){n===P3&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Sz.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function QAe(n,e){const t=new Lp(e);if(t.push(n),t.err)throw t.msg||n9[t.err];return t.result}var jAe=Lp,YAe=QAe,GAe={Inflate:jAe,inflate:YAe};const{Inflate:VAe,inflate:KAe}=GAe;var zT=VAe,$Ae=KAe;const Vz=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Vz[n]=e}const HT=4294967295;function WAe(n,e,t){let r=n;for(let i=0;i<t;i++)r=Vz[(r^e[i])&255]^r>>>8;return r}function qAe(n,e){return(WAe(HT,n,e)^HT)>>>0}function QT(n,e,t){const r=n.readUint32(),i=qAe(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function Kz(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function $z(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function Wz(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function qz(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function Xz(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+XAe(e[s-i],t[s],t[s-i])&255}}function XAe(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),a=Math.abs(r-t);return i<=s&&i<=a?n:s<=a?e:t}function JAe(n,e,t,r,i,s){switch(n){case 0:Kz(e,t,i);break;case 1:$z(e,t,i,s);break;case 2:Wz(e,t,r,i);break;case 3:qz(e,t,r,i,s);break;case 4:Xz(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const ZAe=new Uint16Array([255]),eue=new Uint8Array(ZAe.buffer),tue=eue[0]===255;function nue(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*t*o);let c=0;for(let A=0;A<7;A++){const u=a[A],h=Math.ceil((t-u.x)/u.xStep),f=Math.ceil((r-u.y)/u.yStep);if(h<=0||f<=0)continue;const d=h*o,g=new Uint8Array(d);for(let _=0;_<f;_++){const m=e[c++],y=e.subarray(c,c+d);c+=d;const b=new Uint8Array(d);JAe(m,y,b,g,d,o),g.set(b);for(let v=0;v<h;v++){const B=u.x+v*u.xStep,C=u.y+_*u.yStep;if(!(B>=t||C>=r))for(let I=0;I<o;I++)l[(C*t+B)*o+I]=b[v*o+I]}}}if(s===16){const A=new Uint16Array(l.buffer);if(tue)for(let u=0;u<A.length;u++)A[u]=rue(A[u]);return A}else return l}function rue(n){return(n&255)<<8|n>>8&255}const iue=new Uint16Array([255]),sue=new Uint8Array(iue.buffer),aue=sue[0]===255,oue=new Uint8Array(0);function jT(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*t),l=new Uint8Array(r*o);let c=oue,A=0,u,h;for(let f=0;f<r;f++){switch(u=e.subarray(A+1,A+1+o),h=l.subarray(f*o,(f+1)*o),e[A]){case 0:Kz(u,h,o);break;case 1:$z(u,h,o,a);break;case 2:Wz(u,h,c,o);break;case 3:qz(u,h,c,o,a);break;case 4:Xz(u,h,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[A]}`)}c=h,A+=o+1}if(s===16){const f=new Uint16Array(l.buffer);if(aue)for(let d=0;d<f.length;d++)f[d]=lue(f[d]);return f}else return l}function lue(n){return(n&255)<<8|n>>8&255}const gm=Uint8Array.of(137,80,78,71,13,10,26,10);function YT(n){if(!cue(n.readBytes(gm.length)))throw new Error("wrong PNG signature")}function cue(n){if(n.length<gm.length)return!1;for(let e=0;e<gm.length;e++)if(n[e]!==gm[e])return!1;return!0}const Aue="tEXt",uue=0,Jz=new TextDecoder("latin1");function fue(n){if(due(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const hue=/^[\u0000-\u00FF]*$/;function due(n){if(!hue.test(n))throw new Error("invalid latin1 text")}function gue(n,e,t){const r=Zz(e);n[r]=pue(e,t-r.length-1)}function Zz(n){for(n.mark();n.readByte()!==uue;);const e=n.offset;n.reset();const t=Jz.decode(n.readBytes(e-n.offset-1));return n.skip(1),fue(t),t}function pue(n,e){return Jz.decode(n.readBytes(e))}const io={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Mv={UNKNOWN:-1,DEFLATE:0},GT={UNKNOWN:-1,ADAPTIVE:0},Sv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},n4={NONE:0,BACKGROUND:1,PREVIOUS:2},Fv={SOURCE:0,OVER:1};class _ue extends rR{constructor(t,r={}){super(t);z(this,"_checkCrc");z(this,"_inflator");z(this,"_png");z(this,"_apng");z(this,"_end");z(this,"_hasPalette");z(this,"_palette");z(this,"_hasTransparency");z(this,"_transparency");z(this,"_compressionMethod");z(this,"_filterMethod");z(this,"_interlaceMethod");z(this,"_colorType");z(this,"_isAnimated");z(this,"_numberOfFrames");z(this,"_numberOfPlays");z(this,"_frames");z(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new zT,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Mv.UNKNOWN,this._filterMethod=GT.UNKNOWN,this._interlaceMethod=Sv.UNKNOWN,this._colorType=io.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(YT(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(YT(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case Aue:gue(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?QT(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?QT(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=mue(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case io.GREYSCALE:i=1;break;case io.TRUECOLOUR:i=3;break;case io.INDEXED_COLOUR:i=1;break;case io.GREYSCALE_ALPHA:i=2;break;case io.TRUECOLOUR_ALPHA:i=4;break;case io.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Mv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case io.GREYSCALE:case io.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case io.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case io.UNKNOWN:case io.GREYSCALE_ALPHA:case io.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=Zz(this),i=this.readUint8();if(i!==Mv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:$Ae(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=jT({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,i){switch(t.disposeOp){case n4.NONE:break;case n4.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*t.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case n4.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(a*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case Fv.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let A=0;A<this._png.channels;A++)t.data[l+A]=r.data[c+A]}break;case Fv.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let A=0;A<this._png.channels;A++){const u=r.data[c+this._png.channels-1]/i,h=A%(this._png.channels-1)===0?1:r.data[c+A],f=Math.floor(u*h+(1-u)*t.data[l+A]);t.data[l+A]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==GT.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Sv.NO_INTERLACE)this._png.data=jT({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Sv.ADAM7)this._png.data=nue({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:n4.NONE,blendOp:Fv.SOURCE,data:t}),this._inflator=new zT,this._writingDataChunks=!1}}function mue(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var VT;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(VT||(VT={}));function yue(n,e){return new _ue(n,e).decode()}var xn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Uv(){xn.console&&typeof xn.console.log=="function"&&xn.console.log.apply(xn.console,arguments)}var kr={log:Uv,warn:function(n){xn.console&&(typeof xn.console.warn=="function"?xn.console.warn.apply(xn.console,arguments):Uv.call(null,arguments))},error:function(n){xn.console&&(typeof xn.console.error=="function"?xn.console.error.apply(xn.console,arguments):Uv(n))}};function Nv(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ju(r.response,e,t)},r.onerror=function(){kr.error("could not download file")},r.send()}function KT(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function r4(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Ju=xn.saveAs||((typeof window>"u"?"undefined":Lr(window))!=="object"||window!==xn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=xn.URL||xn.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?KT(i.href)?Nv(n,e,t):r4(i,i.target="_blank"):r4(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){r4(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(KT(n))Nv(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){r4(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Lr(s)!=="object"&&(kr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Nv(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(xn.HTMLElement)||xn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Lr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var A=o.result;A=a?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=A:location=A,r=null},o.readAsDataURL(n)}else{var l=xn.URL||xn.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function eH(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,a=i.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var pm=xn.atob.bind(xn),$T=xn.btoa.bind(xn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kv(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Qs(t,r,i,s,e[0],7,-680876936),s=Qs(s,t,r,i,e[1],12,-389564586),i=Qs(i,s,t,r,e[2],17,606105819),r=Qs(r,i,s,t,e[3],22,-1044525330),t=Qs(t,r,i,s,e[4],7,-176418897),s=Qs(s,t,r,i,e[5],12,1200080426),i=Qs(i,s,t,r,e[6],17,-1473231341),r=Qs(r,i,s,t,e[7],22,-45705983),t=Qs(t,r,i,s,e[8],7,1770035416),s=Qs(s,t,r,i,e[9],12,-1958414417),i=Qs(i,s,t,r,e[10],17,-42063),r=Qs(r,i,s,t,e[11],22,-1990404162),t=Qs(t,r,i,s,e[12],7,1804603682),s=Qs(s,t,r,i,e[13],12,-40341101),i=Qs(i,s,t,r,e[14],17,-1502002290),t=js(t,r=Qs(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=js(s,t,r,i,e[6],9,-1069501632),i=js(i,s,t,r,e[11],14,643717713),r=js(r,i,s,t,e[0],20,-373897302),t=js(t,r,i,s,e[5],5,-701558691),s=js(s,t,r,i,e[10],9,38016083),i=js(i,s,t,r,e[15],14,-660478335),r=js(r,i,s,t,e[4],20,-405537848),t=js(t,r,i,s,e[9],5,568446438),s=js(s,t,r,i,e[14],9,-1019803690),i=js(i,s,t,r,e[3],14,-187363961),r=js(r,i,s,t,e[8],20,1163531501),t=js(t,r,i,s,e[13],5,-1444681467),s=js(s,t,r,i,e[2],9,-51403784),i=js(i,s,t,r,e[7],14,1735328473),t=Ys(t,r=js(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ys(s,t,r,i,e[8],11,-2022574463),i=Ys(i,s,t,r,e[11],16,1839030562),r=Ys(r,i,s,t,e[14],23,-35309556),t=Ys(t,r,i,s,e[1],4,-1530992060),s=Ys(s,t,r,i,e[4],11,1272893353),i=Ys(i,s,t,r,e[7],16,-155497632),r=Ys(r,i,s,t,e[10],23,-1094730640),t=Ys(t,r,i,s,e[13],4,681279174),s=Ys(s,t,r,i,e[0],11,-358537222),i=Ys(i,s,t,r,e[3],16,-722521979),r=Ys(r,i,s,t,e[6],23,76029189),t=Ys(t,r,i,s,e[9],4,-640364487),s=Ys(s,t,r,i,e[12],11,-421815835),i=Ys(i,s,t,r,e[15],16,530742520),t=Gs(t,r=Ys(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Gs(s,t,r,i,e[7],10,1126891415),i=Gs(i,s,t,r,e[14],15,-1416354905),r=Gs(r,i,s,t,e[5],21,-57434055),t=Gs(t,r,i,s,e[12],6,1700485571),s=Gs(s,t,r,i,e[3],10,-1894986606),i=Gs(i,s,t,r,e[10],15,-1051523),r=Gs(r,i,s,t,e[1],21,-2054922799),t=Gs(t,r,i,s,e[8],6,1873313359),s=Gs(s,t,r,i,e[15],10,-30611744),i=Gs(i,s,t,r,e[6],15,-1560198380),r=Gs(r,i,s,t,e[13],21,1309151649),t=Gs(t,r,i,s,e[4],6,-145523070),s=Gs(s,t,r,i,e[11],10,-1120210379),i=Gs(i,s,t,r,e[2],15,718787259),r=Gs(r,i,s,t,e[9],21,-343485551),n[0]=PA(t,n[0]),n[1]=PA(r,n[1]),n[2]=PA(i,n[2]),n[3]=PA(s,n[3])}function g6(n,e,t,r,i,s){return e=PA(PA(e,n),PA(r,s)),PA(e<<i|e>>>32-i,t)}function Qs(n,e,t,r,i,s,a){return g6(e&t|~e&r,n,e,i,s,a)}function js(n,e,t,r,i,s,a){return g6(e&r|t&~r,n,e,i,s,a)}function Ys(n,e,t,r,i,s,a){return g6(e^t^r,n,e,i,s,a)}function Gs(n,e,t,r,i,s,a){return g6(t^(e|~r),n,e,i,s,a)}function tH(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)kv(r,bue(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(kv(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,kv(r,i),r}function bue(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var WT="0123456789abcdef".split("");function vue(n){for(var e="",t=0;t<4;t++)e+=WT[n>>8*t+4&15]+WT[n>>8*t&15];return e}function wue(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function i9(n){return tH(n).map(wue).join("")}var Lue=function(n){for(var e=0;e<n.length;e++)n[e]=vue(n[e]);return n.join("")}(tH("hello"))!="5d41402abc4b2a76b9719d911017c592";function PA(n,e){if(Lue){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function s9(n,e){var t,r,i,s;if(n!==t){for(var a=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var A=o[l];c=(c+A+a.charCodeAt(l))%256,o[l]=o[c],o[c]=A}t=n,r=o}else o=r;var u=e.length,h=0,f=0,d="";for(l=0;l<u;l++)f=(f+(A=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=A,a=o[(o[h]+o[f])%256],d+=String.fromCharCode(e.charCodeAt(l)^a);return d}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var qT={print:4,modify:8,copy:16,"annot-forms":32};function th(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(o){if(qT.perm!==void 0)throw new Error("Invalid permission: "+o);i+=qT[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=i9(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=s9(this.encryptionKey,this.padding)}function nh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function XT(n){if(Lr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,r)}catch(o){xn.console&&kr.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function E5(n){if(!(this instanceof E5))return new E5(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function nH(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function r1(n,e,t,r,i){if(!(this instanceof r1))return new r1(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,nH.call(this,r,i)}function fh(n,e,t,r,i){if(!(this instanceof fh))return new fh(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,nH.call(this,r,i)}function mn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",A=null;Lr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(A=n.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var u=n.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=XT;var d="1.3",g=f.__private__.getPdfVersion=function(){return d};f.__private__.setPdfVersion=function(k){d=k};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return _};var m=f.__private__.getPageFormat=function(k){return _[k]};i=i||"a4";var y="compat",b="advanced",v=y;function B(){this.saveGraphicsState(),O(new lt(De,0,0,-De,0,Eu()*De).toString()+" cm"),this.setFontSize(this.getFontSize()/De),c="n",v=b}function C(){this.restoreGraphicsState(),c="S",v=y}var I=f.__private__.combineFontStyleAndFontWeight=function(k,se){if(k=="bold"&&se=="normal"||k=="bold"&&se==400||k=="normal"&&se=="italic"||k=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(k=se==400||se==="normal"?k==="italic"?"italic":"normal":se!=700&&se!=="bold"||k!=="normal"?(se==700?"bold":se)+""+k:"bold"),k};f.advancedAPI=function(k){var se=v===y;return se&&B.call(this),typeof k!="function"||(k(this),se&&C.call(this)),this},f.compatAPI=function(k){var se=v===b;return se&&C.call(this),typeof k!="function"||(k(this),se&&B.call(this)),this},f.isAdvancedAPI=function(){return v===b};var R,w=function(k){if(v!==b)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=f.roundToPrecision=f.__private__.roundToPrecision=function(k,se){var Ce=e||se;if(isNaN(k)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(Ce).replace(/0+$/,"")};R=f.hpf=f.__private__.hpf=typeof l=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return U(k,l)}:l==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return U(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return U(k,16)};var M=f.f2=f.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return U(k,2)},F=f.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return U(k,3)},P=f.scale=f.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return v===y?k*De:v===b?k:void 0},S=function(k){return P(function(se){return v===y?Eu()-se:v===b?se:void 0}(k))};f.__private__.setPrecision=f.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(e=parseInt(k,10))};var W,re="00000000000000000000000000000000",G=f.__private__.getFileId=function(){return re},ie=f.__private__.setFileId=function(k){return re=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(is=new th(A.userPermissions,A.userPassword,A.ownerPassword,re)),re};f.setFileId=function(k){return ie(k),this},f.getFileId=function(){return G()};var X=f.__private__.convertDateToPDFDate=function(k){var se=k.getTimezoneOffset(),Ce=se<0?"+":"-",Pe=Math.floor(Math.abs(se/60)),Xe=Math.abs(se%60),ht=[Ce,V(Pe),"'",V(Xe),"'"].join("");return["D:",k.getFullYear(),V(k.getMonth()+1),V(k.getDate()),V(k.getHours()),V(k.getMinutes()),V(k.getSeconds()),ht].join("")},ge=f.__private__.convertPDFDateToDate=function(k){var se=parseInt(k.substr(2,4),10),Ce=parseInt(k.substr(6,2),10)-1,Pe=parseInt(k.substr(8,2),10),Xe=parseInt(k.substr(10,2),10),ht=parseInt(k.substr(12,2),10),bt=parseInt(k.substr(14,2),10);return new Date(se,Ce,Pe,Xe,ht,bt,0)},K=f.__private__.setCreationDate=function(k){var se;if(k===void 0&&(k=new Date),k instanceof Date)se=X(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=k}return W=se},N=f.__private__.getCreationDate=function(k){var se=W;return k==="jsDate"&&(se=ge(W)),se};f.setCreationDate=function(k){return K(k),this},f.getCreationDate=function(k){return N(k)};var H,V=f.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},j=f.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},le=0,de=[],he=[],ue=0,me=[],_e=[],xe=!1,Re=he;f.__private__.setCustomOutputDestination=function(k){xe=!0,Re=k};var D=function(k){xe||(Re=k)};f.__private__.resetCustomOutputDestination=function(){xe=!1,Re=he};var O=f.__private__.out=function(k){return k=k.toString(),ue+=k.length+1,Re.push(k),Re},ne=f.__private__.write=function(k){return O(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},te=f.__private__.getArrayBuffer=function(k){for(var se=k.length,Ce=new ArrayBuffer(se),Pe=new Uint8Array(Ce);se--;)Pe[se]=k.charCodeAt(se);return Ce},J=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return J};var ce=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(k){return ce=v===b?k/De:k,this};var Me,Se=f.__private__.getFontSize=f.getFontSize=function(){return v===y?ce:ce*De},Le=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(k){return Le=k,this},f.__private__.getR2L=f.getR2L=function(){return Le};var He,be=f.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))Me=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');Me=k}else Me=parseInt(k,10)};f.__private__.getZoomMode=function(){return Me};var Fe,Qe=f.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');He=k};f.__private__.getPageMode=function(){return He};var Ge=f.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');Fe=k};f.__private__.getLayoutMode=function(){return Fe},f.__private__.setDisplayMode=f.setDisplayMode=function(k,se,Ce){return be(k),Ge(se),Qe(Ce),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(k){if(Object.keys(nt).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[k]},f.__private__.getDocumentProperties=function(){return nt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(k){for(var se in nt)nt.hasOwnProperty(se)&&k[se]&&(nt[se]=k[se]);return this},f.__private__.setDocumentProperty=function(k,se){if(Object.keys(nt).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[k]=se};var ke,De,At,kt,rt,Nt={},ot={},Rt=[],Tt={},Jt={},wt={},It={},tn=null,rn=0,Vt=[],Dn=new XT(f),Wt=n.hotfixes||[],Ue={},gt={},at=[],lt=function k(se,Ce,Pe,Xe,ht,bt){if(!(this instanceof k))return new k(se,Ce,Pe,Xe,ht,bt);isNaN(se)&&(se=1),isNaN(Ce)&&(Ce=0),isNaN(Pe)&&(Pe=0),isNaN(Xe)&&(Xe=1),isNaN(ht)&&(ht=0),isNaN(bt)&&(bt=0),this._matrix=[se,Ce,Pe,Xe,ht,bt]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(k)},lt.prototype.multiply=function(k){var se=k.sx*this.sx+k.shy*this.shx,Ce=k.sx*this.shy+k.shy*this.sy,Pe=k.shx*this.sx+k.sy*this.shx,Xe=k.shx*this.shy+k.sy*this.sy,ht=k.tx*this.sx+k.ty*this.shx+this.tx,bt=k.tx*this.shy+k.ty*this.sy+this.ty;return new lt(se,Ce,Pe,Xe,ht,bt)},lt.prototype.decompose=function(){var k=this.sx,se=this.shy,Ce=this.shx,Pe=this.sy,Xe=this.tx,ht=this.ty,bt=Math.sqrt(k*k+se*se),un=(k/=bt)*Ce+(se/=bt)*Pe;Ce-=k*un,Pe-=se*un;var dn=Math.sqrt(Ce*Ce+Pe*Pe);return un/=dn,k*(Pe/=dn)<se*(Ce/=dn)&&(k=-k,se=-se,un=-un,bt=-bt),{scale:new lt(bt,0,0,dn,0,0),translate:new lt(1,0,0,1,Xe,ht),rotate:new lt(k,se,-se,k,0,0),skew:new lt(1,0,un,1,0,0)}},lt.prototype.toString=function(k){return this.join(" ")},lt.prototype.inversed=function(){var k=this.sx,se=this.shy,Ce=this.shx,Pe=this.sy,Xe=this.tx,ht=this.ty,bt=1/(k*Pe-se*Ce),un=Pe*bt,dn=-se*bt,Rn=-Ce*bt,Sn=k*bt;return new lt(un,dn,Rn,Sn,-un*Xe-Rn*ht,-dn*Xe-Sn*ht)},lt.prototype.applyToPoint=function(k){var se=k.x*this.sx+k.y*this.shx+this.tx,Ce=k.x*this.shy+k.y*this.sy+this.ty;return new Yc(se,Ce)},lt.prototype.applyToRectangle=function(k){var se=this.applyToPoint(k),Ce=this.applyToPoint(new Yc(k.x+k.w,k.y+k.h));return new n2(se.x,se.y,Ce.x-se.x,Ce.y-se.y)},lt.prototype.clone=function(){var k=this.sx,se=this.shy,Ce=this.shx,Pe=this.sy,Xe=this.tx,ht=this.ty;return new lt(k,se,Ce,Pe,Xe,ht)},f.Matrix=lt;var Pt=f.matrixMult=function(k,se){return se.multiply(k)},Ht=new lt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ht;var gn=function(k,se){if(!Jt[k]){var Ce=(se instanceof r1?"Sh":"P")+(Object.keys(Tt).length+1).toString(10);se.id=Ce,Jt[k]=Ce,Tt[Ce]=se,Dn.publish("addPattern",se)}};f.ShadingPattern=r1,f.TilingPattern=fh,f.addShadingPattern=function(k,se){return w("addShadingPattern()"),gn(k,se),this},f.beginTilingPattern=function(k){w("beginTilingPattern()"),r2(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},f.endTilingPattern=function(k,se){w("endTilingPattern()"),se.stream=_e[H].join(`
`),gn(k,se),Dn.publish("endTilingPattern",se),at.pop().restore()};var Kt,sn=f.__private__.newObject=function(){var k=ln();return yn(k,!0),k},ln=f.__private__.newObjectDeferred=function(){return le++,de[le]=function(){return ue},le},yn=function(k,se){return se=typeof se=="boolean"&&se,de[k]=ue,se&&O(k+" 0 obj"),k},Xn=f.__private__.newAdditionalObject=function(){var k={objId:ln(),content:""};return me.push(k),k},ur=ln(),Mr=ln(),Jn=f.__private__.decodeColorString=function(k){var se=k.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length!==5||se[4]!=="k"&&se[4]!=="K"||(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var Ce=parseFloat(se[0]);se=[Ce,Ce,Ce,"r"]}for(var Pe="#",Xe=0;Xe<3;Xe++)Pe+=("0"+Math.floor(255*parseFloat(se[Xe])).toString(16)).slice(-2);return Pe},Vr=f.__private__.encodeColorString=function(k){var se;typeof k=="string"&&(k={ch1:k});var Ce=k.ch1,Pe=k.ch2,Xe=k.ch3,ht=k.ch4,bt=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var un=new eH(Ce);if(un.ok)Ce=un.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var dn=parseInt(Ce.substr(1),16);Ce=dn>>16&255,Pe=dn>>8&255,Xe=255&dn}if(Pe===void 0||ht===void 0&&Ce===Pe&&Pe===Xe)se=typeof Ce=="string"?Ce+" "+bt[0]:k.precision===2?M(Ce/255)+" "+bt[0]:F(Ce/255)+" "+bt[0];else if(ht===void 0||Lr(ht)==="object"){if(ht&&!isNaN(ht.a)&&ht.a===0)return["1.","1.","1.",bt[1]].join(" ");se=typeof Ce=="string"?[Ce,Pe,Xe,bt[1]].join(" "):k.precision===2?[M(Ce/255),M(Pe/255),M(Xe/255),bt[1]].join(" "):[F(Ce/255),F(Pe/255),F(Xe/255),bt[1]].join(" ")}else se=typeof Ce=="string"?[Ce,Pe,Xe,ht,bt[2]].join(" "):k.precision===2?[M(Ce),M(Pe),M(Xe),M(ht),bt[2]].join(" "):[F(Ce),F(Pe),F(Xe),F(ht),bt[2]].join(" ");return se},ct=f.__private__.getFilters=function(){return a},pn=f.__private__.putStream=function(k){var se=(k=k||{}).data||"",Ce=k.filters||ct(),Pe=k.alreadyAppliedFilters||[],Xe=k.addLength1||!1,ht=se.length,bt=k.objectId,un=function(ss){return ss};if(A!==null&&bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(un=is.encryptor(bt,0));var dn={};Ce===!0&&(Ce=["FlateEncode"]);var Rn=k.additionalKeyValues||[],Sn=(dn=mn.API.processDataByFilters!==void 0?mn.API.processDataByFilters(se,Ce):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Pe)?Pe.join(" "):Pe.toString());if(dn.data.length!==0&&(Rn.push({key:"Length",value:dn.data.length}),Xe===!0&&Rn.push({key:"Length1",value:ht})),Sn.length!=0)if(Sn.split("/").length-1==1)Rn.push({key:"Filter",value:Sn});else{Rn.push({key:"Filter",value:"["+Sn+"]"});for(var ir=0;ir<Rn.length;ir+=1)if(Rn[ir].key==="DecodeParms"){for(var oi=[],zi=0;zi<dn.reverseChain.split("/").length-1;zi+=1)oi.push("null");oi.push(Rn[ir].value),Rn[ir].value="["+oi.join(" ")+"]"}}O("<<");for(var jr=0;jr<Rn.length;jr++)O("/"+Rn[jr].key+" "+Rn[jr].value);O(">>"),dn.data.length!==0&&(O("stream"),O(un(dn.data)),O("endstream"))},ys=f.__private__.putPage=function(k){var se=k.number,Ce=k.data,Pe=k.objId,Xe=k.contentsObjId;yn(Pe,!0),O("<</Type /Page"),O("/Parent "+k.rootDictionaryObjId+" 0 R"),O("/Resources "+k.resourceDictionaryObjId+" 0 R"),O("/MediaBox ["+parseFloat(R(k.mediaBox.bottomLeftX))+" "+parseFloat(R(k.mediaBox.bottomLeftY))+" "+R(k.mediaBox.topRightX)+" "+R(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&O("/CropBox ["+R(k.cropBox.bottomLeftX)+" "+R(k.cropBox.bottomLeftY)+" "+R(k.cropBox.topRightX)+" "+R(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&O("/BleedBox ["+R(k.bleedBox.bottomLeftX)+" "+R(k.bleedBox.bottomLeftY)+" "+R(k.bleedBox.topRightX)+" "+R(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&O("/TrimBox ["+R(k.trimBox.bottomLeftX)+" "+R(k.trimBox.bottomLeftY)+" "+R(k.trimBox.topRightX)+" "+R(k.trimBox.topRightY)+"]"),k.artBox!==null&&O("/ArtBox ["+R(k.artBox.bottomLeftX)+" "+R(k.artBox.bottomLeftY)+" "+R(k.artBox.topRightX)+" "+R(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&O("/UserUnit "+k.userUnit),Dn.publish("putPage",{objId:Pe,pageContext:Vt[se],pageNumber:se,page:Ce}),O("/Contents "+Xe+" 0 R"),O(">>"),O("endobj");var ht=Ce.join(`
`);return v===b&&(ht+=`
Q`),yn(Xe,!0),pn({data:ht,filters:ct(),objectId:Xe}),O("endobj"),Pe},Jr=f.__private__.putPages=function(){var k,se,Ce=[];for(k=1;k<=rn;k++)Vt[k].objId=ln(),Vt[k].contentsObjId=ln();for(k=1;k<=rn;k++)Ce.push(ys({number:k,data:_e[k],objId:Vt[k].objId,contentsObjId:Vt[k].contentsObjId,mediaBox:Vt[k].mediaBox,cropBox:Vt[k].cropBox,bleedBox:Vt[k].bleedBox,trimBox:Vt[k].trimBox,artBox:Vt[k].artBox,userUnit:Vt[k].userUnit,rootDictionaryObjId:ur,resourceDictionaryObjId:Mr}));yn(ur,!0),O("<</Type /Pages");var Pe="/Kids [";for(se=0;se<rn;se++)Pe+=Ce[se]+" 0 R ";O(Pe+"]"),O("/Count "+rn),O(">>"),O("endobj"),Dn.publish("postPutPages")},An=function(k){Dn.publish("putFont",{font:k,out:O,newObject:sn,putStream:pn}),k.isAlreadyPutted!==!0&&(k.objectNumber=sn(),O("<<"),O("/Type /Font"),O("/BaseFont /"+nh(k.postScriptName)),O("/Subtype /Type1"),typeof k.encoding=="string"&&O("/Encoding /"+k.encoding),O("/FirstChar 32"),O("/LastChar 255"),O(">>"),O("endobj"))},ze=function(k){k.objectNumber=sn();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[R(k.x),R(k.y),R(k.x+k.width),R(k.y+k.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var Ce=k.pages[1].join(`
`);pn({data:Ce,additionalKeyValues:se,objectId:k.objectNumber}),O("endobj")},Et=function(k,se){se||(se=21);var Ce=sn(),Pe=function(bt,un){var dn,Rn=[],Sn=1/(un-1);for(dn=0;dn<1;dn+=Sn)Rn.push(dn);if(Rn.push(1),bt[0].offset!=0){var ir={offset:0,color:bt[0].color};bt.unshift(ir)}if(bt[bt.length-1].offset!=1){var oi={offset:1,color:bt[bt.length-1].color};bt.push(oi)}for(var zi="",jr=0,ss=0;ss<Rn.length;ss++){for(dn=Rn[ss];dn>bt[jr+1].offset;)jr++;var Hi=bt[jr].offset,Cs=(dn-Hi)/(bt[jr+1].offset-Hi),Kc=bt[jr].color,ul=bt[jr+1].color;zi+=j(Math.round((1-Cs)*Kc[0]+Cs*ul[0]).toString(16))+j(Math.round((1-Cs)*Kc[1]+Cs*ul[1]).toString(16))+j(Math.round((1-Cs)*Kc[2]+Cs*ul[2]).toString(16))}return zi.trim()}(k.colors,se),Xe=[];Xe.push({key:"FunctionType",value:"0"}),Xe.push({key:"Domain",value:"[0.0 1.0]"}),Xe.push({key:"Size",value:"["+se+"]"}),Xe.push({key:"BitsPerSample",value:"8"}),Xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pn({data:Pe,additionalKeyValues:Xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),O("endobj"),k.objectNumber=sn(),O("<< /ShadingType "+k.type),O("/ColorSpace /DeviceRGB");var ht="/Coords ["+R(parseFloat(k.coords[0]))+" "+R(parseFloat(k.coords[1]))+" ";k.type===2?ht+=R(parseFloat(k.coords[2]))+" "+R(parseFloat(k.coords[3])):ht+=R(parseFloat(k.coords[2]))+" "+R(parseFloat(k.coords[3]))+" "+R(parseFloat(k.coords[4]))+" "+R(parseFloat(k.coords[5])),O(ht+="]"),k.matrix&&O("/Matrix ["+k.matrix.toString()+"]"),O("/Function "+Ce+" 0 R"),O("/Extend [true true]"),O(">>"),O("endobj")},en=function(k,se){var Ce=ln(),Pe=sn();se.push({resourcesOid:Ce,objectOid:Pe}),k.objectNumber=Pe;var Xe=[];Xe.push({key:"Type",value:"/Pattern"}),Xe.push({key:"PatternType",value:"1"}),Xe.push({key:"PaintType",value:"1"}),Xe.push({key:"TilingType",value:"1"}),Xe.push({key:"BBox",value:"["+k.boundingBox.map(R).join(" ")+"]"}),Xe.push({key:"XStep",value:R(k.xStep)}),Xe.push({key:"YStep",value:R(k.yStep)}),Xe.push({key:"Resources",value:Ce+" 0 R"}),k.matrix&&Xe.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),pn({data:k.stream,additionalKeyValues:Xe,objectId:k.objectNumber}),O("endobj")},Br=function(k){for(var se in k.objectNumber=sn(),O("<<"),k)switch(se){case"opacity":O("/ca "+M(k[se]));break;case"stroke-opacity":O("/CA "+M(k[se]))}O(">>"),O("endobj")},hi=function(k){yn(k.resourcesOid,!0),O("<<"),O("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var se in O("/Font <<"),Nt)Nt.hasOwnProperty(se)&&(u===!1||u===!0&&h.hasOwnProperty(se))&&O("/"+se+" "+Nt[se].objectNumber+" 0 R");O(">>")}(),function(){if(Object.keys(Tt).length>0){for(var se in O("/Shading <<"),Tt)Tt.hasOwnProperty(se)&&Tt[se]instanceof r1&&Tt[se].objectNumber>=0&&O("/"+se+" "+Tt[se].objectNumber+" 0 R");Dn.publish("putShadingPatternDict"),O(">>")}}(),function(se){if(Object.keys(Tt).length>0){for(var Ce in O("/Pattern <<"),Tt)Tt.hasOwnProperty(Ce)&&Tt[Ce]instanceof f.TilingPattern&&Tt[Ce].objectNumber>=0&&Tt[Ce].objectNumber<se&&O("/"+Ce+" "+Tt[Ce].objectNumber+" 0 R");Dn.publish("putTilingPatternDict"),O(">>")}}(k.objectOid),function(){if(Object.keys(wt).length>0){var se;for(se in O("/ExtGState <<"),wt)wt.hasOwnProperty(se)&&wt[se].objectNumber>=0&&O("/"+se+" "+wt[se].objectNumber+" 0 R");Dn.publish("putGStateDict"),O(">>")}}(),function(){for(var se in O("/XObject <<"),Ue)Ue.hasOwnProperty(se)&&Ue[se].objectNumber>=0&&O("/"+se+" "+Ue[se].objectNumber+" 0 R");Dn.publish("putXobjectDict"),O(">>")}(),O(">>"),O("endobj")},Kr=function(k){ot[k.fontName]=ot[k.fontName]||{},ot[k.fontName][k.fontStyle]=k.id},rs=function(k,se,Ce,Pe,Xe){var ht={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:k,fontName:se,fontStyle:Ce,encoding:Pe,isStandardFont:Xe||!1,metadata:{}};return Dn.publish("addFont",{font:ht,instance:this}),Nt[ht.id]=ht,Kr(ht),ht.id},di=f.__private__.pdfEscape=f.pdfEscape=function(k,se){return function(Ce,Pe){var Xe,ht,bt,un,dn,Rn,Sn,ir,oi;if(bt=(Pe=Pe||{}).sourceEncoding||"Unicode",dn=Pe.outputEncoding,(Pe.autoencode||dn)&&Nt[ke].metadata&&Nt[ke].metadata[bt]&&Nt[ke].metadata[bt].encoding&&(un=Nt[ke].metadata[bt].encoding,!dn&&Nt[ke].encoding&&(dn=Nt[ke].encoding),!dn&&un.codePages&&(dn=un.codePages[0]),typeof dn=="string"&&(dn=un[dn]),dn)){for(Sn=!1,Rn=[],Xe=0,ht=Ce.length;Xe<ht;Xe++)(ir=dn[Ce.charCodeAt(Xe)])?Rn.push(String.fromCharCode(ir)):Rn.push(Ce[Xe]),Rn[Xe].charCodeAt(0)>>8&&(Sn=!0);Ce=Rn.join("")}for(Xe=Ce.length;Sn===void 0&&Xe!==0;)Ce.charCodeAt(Xe-1)>>8&&(Sn=!0),Xe--;if(!Sn)return Ce;for(Rn=Pe.noBOM?[]:[254,255],Xe=0,ht=Ce.length;Xe<ht;Xe++){if((oi=(ir=Ce.charCodeAt(Xe))>>8)>>8)throw new Error("Character at position "+Xe+" of string '"+Ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rn.push(oi),Rn.push(ir-(oi<<8))}return String.fromCharCode.apply(void 0,Rn)}(k,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xo=f.__private__.beginPage=function(k){_e[++rn]=[],Vt[rn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},vu(rn),D(_e[H])},q0=function(k,se){var Ce,Pe,Xe;switch(t=se||t,typeof k=="string"&&(Ce=m(k.toLowerCase()),Array.isArray(Ce)&&(Pe=Ce[0],Xe=Ce[1])),Array.isArray(k)&&(Pe=k[0]*De,Xe=k[1]*De),isNaN(Pe)&&(Pe=i[0],Xe=i[1]),(Pe>14400||Xe>14400)&&(kr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Pe=Math.min(14400,Pe),Xe=Math.min(14400,Xe)),i=[Pe,Xe],t.substr(0,1)){case"l":Xe>Pe&&(i=[Xe,Pe]);break;case"p":Pe>Xe&&(i=[Xe,Pe])}xo(i),En(Jd),O(gf),e2!==0&&O(e2+" J"),t2!==0&&O(t2+" j"),Dn.publish("addPage",{pageNumber:rn})},ai=function(k){k>0&&k<=rn&&(_e.splice(k,1),Vt.splice(k,1),rn--,H>rn&&(H=rn),this.setPage(H))},vu=function(k){k>0&&k<=rn&&(H=k)},wu=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return _e.length-1},Pp=function(k,se,Ce){var Pe,Xe=void 0;return Ce=Ce||{},k=k!==void 0?k:Nt[ke].fontName,se=se!==void 0?se:Nt[ke].fontStyle,Pe=k.toLowerCase(),ot[Pe]!==void 0&&ot[Pe][se]!==void 0?Xe=ot[Pe][se]:ot[k]!==void 0&&ot[k][se]!==void 0?Xe=ot[k][se]:Ce.disableWarning===!1&&kr.warn("Unable to look up font label for font '"+k+"', '"+se+"'. Refer to getFontList() for available fonts."),Xe||Ce.noFallback||(Xe=ot.times[se])==null&&(Xe=ot.times.normal),Xe},Jl=f.__private__.putInfo=function(){var k=sn(),se=function(Pe){return Pe};for(var Ce in A!==null&&(se=is.encryptor(k,0)),O("<<"),O("/Producer ("+di(se("jsPDF "+mn.version))+")"),nt)nt.hasOwnProperty(Ce)&&nt[Ce]&&O("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+di(se(nt[Ce]))+")");O("/CreationDate ("+di(se(W))+")"),O(">>"),O("endobj")},ff=f.__private__.putCatalog=function(k){var se=(k=k||{}).rootDictionaryObjId||ur;switch(sn(),O("<<"),O("/Type /Catalog"),O("/Pages "+se+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":O("/OpenAction [3 0 R /FitH null]");break;case"fullheight":O("/OpenAction [3 0 R /FitV null]");break;case"fullpage":O("/OpenAction [3 0 R /Fit]");break;case"original":O("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+Me;Ce.substr(Ce.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&O("/OpenAction [3 0 R /XYZ null null "+M(Me)+"]")}switch(Fe||(Fe="continuous"),Fe){case"continuous":O("/PageLayout /OneColumn");break;case"single":O("/PageLayout /SinglePage");break;case"two":case"twoleft":O("/PageLayout /TwoColumnLeft");break;case"tworight":O("/PageLayout /TwoColumnRight")}He&&O("/PageMode /"+He),Dn.publish("putCatalog"),O(">>"),O("endobj")},j6=f.__private__.putTrailer=function(){O("trailer"),O("<<"),O("/Size "+(le+1)),O("/Root "+le+" 0 R"),O("/Info "+(le-1)+" 0 R"),A!==null&&O("/Encrypt "+is.oid+" 0 R"),O("/ID [ <"+re+"> <"+re+"> ]"),O(">>")},Oi=f.__private__.putHeader=function(){O("%PDF-"+d),O("%")},Dp=f.__private__.putXRef=function(){var k="0000000000";O("xref"),O("0 "+(le+1)),O("0000000000 65535 f ");for(var se=1;se<=le;se++)typeof de[se]=="function"?O((k+de[se]()).slice(-10)+" 00000 n "):de[se]!==void 0?O((k+de[se]).slice(-10)+" 00000 n "):O("0000000000 00000 n ")},Zl=f.__private__.buildDocument=function(){var k;le=0,ue=0,he=[],de=[],me=[],ur=ln(),Mr=ln(),D(he),Dn.publish("buildDocument"),Oi(),Jr(),function(){Dn.publish("putAdditionalObjects");for(var Ce=0;Ce<me.length;Ce++){var Pe=me[Ce];yn(Pe.objId,!0),O(Pe.content),O("endobj")}Dn.publish("postPutAdditionalObjects")}(),k=[],function(){for(var Ce in Nt)Nt.hasOwnProperty(Ce)&&(u===!1||u===!0&&h.hasOwnProperty(Ce))&&An(Nt[Ce])}(),function(){var Ce;for(Ce in wt)wt.hasOwnProperty(Ce)&&Br(wt[Ce])}(),function(){for(var Ce in Ue)Ue.hasOwnProperty(Ce)&&ze(Ue[Ce])}(),function(Ce){var Pe;for(Pe in Tt)Tt.hasOwnProperty(Pe)&&(Tt[Pe]instanceof r1?Et(Tt[Pe]):Tt[Pe]instanceof fh&&en(Tt[Pe],Ce))}(k),Dn.publish("putResources"),k.forEach(hi),hi({resourcesOid:Mr,objectOid:Number.MAX_SAFE_INTEGER}),Dn.publish("postPutResources"),A!==null&&(is.oid=sn(),O("<<"),O("/Filter /Standard"),O("/V "+is.v),O("/R "+is.r),O("/U <"+is.toHexString(is.U)+">"),O("/O <"+is.toHexString(is.O)+">"),O("/P "+is.P),O(">>"),O("endobj")),Jl(),ff();var se=ue;return Dp(),j6(),O("startxref"),O(""+se),O("%%EOF"),D(_e[H]),he.join(`
`)},hf=f.__private__.getBlob=function(k){return new Blob([te(k)],{type:"application/pdf"})},Op=f.output=f.__private__.output=(Kt=function(k,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",k){case void 0:return Zl();case"save":f.save(se.filename);break;case"arraybuffer":return te(Zl());case"blob":return hf(Zl());case"bloburi":case"bloburl":if(xn.URL!==void 0&&typeof xn.URL.createObjectURL=="function")return xn.URL&&xn.URL.createObjectURL(hf(Zl()))||void 0;kr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",Pe=Zl();try{Ce=$T(Pe)}catch{Ce=$T(unescape(encodeURIComponent(Pe)))}return"data:application/pdf;filename="+se.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xn)==="[object Window]"){var Xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ht=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Xe=se.pdfObjectUrl,ht="");var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Xe+'"'+ht+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",un=xn.open();return un!==null&&un.document.write(bt),un}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xn)==="[object Window]"){var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',Rn=xn.open();if(Rn!==null){Rn.document.write(dn);var Sn=this;Rn.document.documentElement.querySelector("#pdfViewer").onload=function(){Rn.document.title=se.filename,Rn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Sn.output("bloburl"))}}return Rn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',oi=xn.open();if(oi!==null&&(oi.document.write(ir),oi.document.title=se.filename),oi||typeof safari>"u")return oi;break;case"datauri":case"dataurl":return xn.document.location.href=this.output("datauristring",se);default:return null}},Kt.foo=function(){try{return Kt.apply(this,arguments)}catch(Ce){var k=Ce.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var se="Error in function "+k.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!xn.console)throw new Error(se);xn.console.error(se,Ce),xn.alert&&alert(se)}},Kt.foo.bar=Kt,Kt.foo),Ro=function(k){return Array.isArray(Wt)===!0&&Wt.indexOf(k)>-1};switch(r){case"pt":De=1;break;case"mm":De=72/25.4;break;case"cm":De=72/2.54;break;case"in":De=72;break;case"px":De=Ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":De=12;break;case"ex":De=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);De=r}var is=null;K(),ie();var zc=f.__private__.getPageInfo=f.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[k].objId,pageNumber:k,pageContext:Vt[k]}},zp=f.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in Vt)if(Vt[se].objId===k)break;return zc(se)},Y6=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Vt[H].objId,pageNumber:H,pageContext:Vt[H]}};f.addPage=function(){return q0.apply(this,arguments),this},f.setPage=function(){return vu.apply(this,arguments),D.call(this,_e[H]),this},f.insertPage=function(k){return this.addPage(),this.movePage(H,k),this},f.movePage=function(k,se){var Ce,Pe;if(k>se){Ce=_e[k],Pe=Vt[k];for(var Xe=k;Xe>se;Xe--)_e[Xe]=_e[Xe-1],Vt[Xe]=Vt[Xe-1];_e[se]=Ce,Vt[se]=Pe,this.setPage(se)}else if(k<se){Ce=_e[k],Pe=Vt[k];for(var ht=k;ht<se;ht++)_e[ht]=_e[ht+1],Vt[ht]=Vt[ht+1];_e[se]=Ce,Vt[se]=Pe,this.setPage(se)}return this},f.deletePage=function(){return ai.apply(this,arguments),this},f.__private__.text=f.text=function(k,se,Ce,Pe,Xe){var ht,bt,un,dn,Rn,Sn,ir,oi,zi,jr=(Pe=Pe||{}).scope||this;if(typeof k=="number"&&typeof se=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var ss=Ce;Ce=se,se=k,k=ss}if(arguments[3]instanceof lt==0?(un=arguments[4],dn=arguments[5],Lr(ir=arguments[3])==="object"&&ir!==null||(typeof un=="string"&&(dn=un,un=null),typeof ir=="string"&&(dn=ir,ir=null),typeof ir=="number"&&(un=ir,ir=null),Pe={flags:ir,angle:un,align:dn})):(w("The transform parameter of text() with a Matrix value"),zi=Xe),isNaN(se)||isNaN(Ce)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return jr;var Hi,Cs="",Kc=typeof Pe.lineHeightFactor=="number"?Pe.lineHeightFactor:xu,ul=jr.internal.scaleFactor;function $c(gr){return gr=gr.split("	").join(Array(Pe.TabLen||9).join(" ")),di(gr,ir)}function s2(gr){for(var Sr,Ei=gr.concat(),as=[],Xc=Ei.length;Xc--;)typeof(Sr=Ei.shift())=="string"?as.push(Sr):Array.isArray(gr)&&(Sr.length===1||Sr[1]===void 0&&Sr[2]===void 0)?as.push(Sr[0]):as.push([Sr[0],Sr[1],Sr[2]]);return as}function _f(gr,Sr){var Ei;if(typeof gr=="string")Ei=Sr(gr)[0];else if(Array.isArray(gr)){for(var as,Xc,g2=gr.concat(),bf=[],Xp=g2.length;Xp--;)typeof(as=g2.shift())=="string"?bf.push(Sr(as)[0]):Array.isArray(as)&&typeof as[0]=="string"&&(Xc=Sr(as[0],as[1],as[2]),bf.push([Xc[0],Xc[1],Xc[2]]));Ei=bf}return Ei}var X0=!1,Cu=!0;if(typeof k=="string")X0=!0;else if(Array.isArray(k)){var Iu=k.concat();bt=[];for(var J0,Is=Iu.length;Is--;)(typeof(J0=Iu.shift())!="string"||Array.isArray(J0)&&typeof J0[0]!="string")&&(Cu=!1);X0=Cu}if(X0===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var Tu=ce/jr.internal.scaleFactor,Mu=Tu*(Kc-1);switch(Pe.baseline){case"bottom":Ce-=Mu;break;case"top":Ce+=Tu-Mu;break;case"hanging":Ce+=Tu-2*Mu;break;case"middle":Ce+=Tu/2-Mu}if((Sn=Pe.maxWidth||0)>0&&(typeof k=="string"?k=jr.splitTextToSize(k,Sn):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(gr,Sr){return gr.concat(jr.splitTextToSize(Sr,Sn))},[]))),ht={text:k,x:se,y:Ce,options:Pe,mutex:{pdfEscape:di,activeFontKey:ke,fonts:Nt,activeFontSize:ce}},Dn.publish("preProcessText",ht),k=ht.text,un=(Pe=ht.options).angle,zi instanceof lt==0&&un&&typeof un=="number"){un*=Math.PI/180,Pe.rotationDirection===0&&(un=-un),v===b&&(un=-un);var a2=Math.cos(un),o2=Math.sin(un);zi=new lt(a2,o2,-o2,a2,0,0)}else un&&un instanceof lt&&(zi=un);v!==b||zi||(zi=Ht),(Rn=Pe.charSpace||jc)!==void 0&&(Cs+=R(P(Rn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(oi=Pe.horizontalScale)!==void 0&&(Cs+=R(100*oi)+` Tz
`),Pe.lang;var oa=-1,Wc=Pe.renderingMode!==void 0?Pe.renderingMode:Pe.stroke,mf=jr.internal.getCurrentPageInfo().pageContext;switch(Wc){case 0:case!1:case"fill":oa=0;break;case 1:case!0:case"stroke":oa=1;break;case 2:case"fillThenStroke":oa=2;break;case 3:case"invisible":oa=3;break;case 4:case"fillAndAddForClipping":oa=4;break;case 5:case"strokeAndAddPathForClipping":oa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":oa=6;break;case 7:case"addToPathForClipping":oa=7}var Wp=mf.usedRenderingMode!==void 0?mf.usedRenderingMode:-1;oa!==-1?Cs+=oa+` Tr
`:Wp!==-1&&(Cs+=`0 Tr
`),oa!==-1&&(mf.usedRenderingMode=oa),dn=Pe.align||"left";var Bo,Su=ce*Kc,l2=jr.internal.pageSize.getWidth(),c2=Nt[ke];Rn=Pe.charSpace||jc,Sn=Pe.maxWidth||0,ir=Object.assign({autoencode:!0,noBOM:!0},Pe.flags);var Z0=[],Fu=function(gr){return jr.getStringUnitWidth(gr,{font:c2,charSpace:Rn,fontSize:ce,doKerning:!1})*ce/ul};if(Object.prototype.toString.call(k)==="[object Array]"){var Wa;bt=s2(k),dn!=="left"&&(Bo=bt.map(Fu));var qa,eA=0;if(dn==="right"){se-=Bo[0],k=[],Is=bt.length;for(var qc=0;qc<Is;qc++)qc===0?(qa=Hc(se),Wa=Qc(Ce)):(qa=P(eA-Bo[qc]),Wa=-Su),k.push([bt[qc],qa,Wa]),eA=Bo[qc]}else if(dn==="center"){se-=Bo[0]/2,k=[],Is=bt.length;for(var tA=0;tA<Is;tA++)tA===0?(qa=Hc(se),Wa=Qc(Ce)):(qa=P((eA-Bo[tA])/2),Wa=-Su),k.push([bt[tA],qa,Wa]),eA=Bo[tA]}else if(dn==="left"){k=[],Is=bt.length;for(var A2=0;A2<Is;A2++)k.push(bt[A2])}else if(dn==="justify"&&c2.encoding==="Identity-H"){k=[],Is=bt.length,Sn=Sn!==0?Sn:l2;for(var yf=0,Bi=0;Bi<Is;Bi++)if(Wa=Bi===0?Qc(Ce):-Su,qa=Bi===0?Hc(se):yf,Bi<Is-1){var qp=P((Sn-Bo[Bi])/(bt[Bi].split(" ").length-1)),tc=bt[Bi].split(" ");k.push([tc[0]+" ",qa,Wa]),yf=0;for(var nc=1;nc<tc.length;nc++){var u2=(Fu(tc[nc-1]+" "+tc[nc])-Fu(tc[nc]))*ul+qp;nc==tc.length-1?k.push([tc[nc],u2,0]):k.push([tc[nc]+" ",u2,0]),yf-=u2}}else k.push([bt[Bi],qa,Wa]);k.push(["",yf,0])}else{if(dn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],Is=bt.length,Sn=Sn!==0?Sn:l2,Bi=0;Bi<Is;Bi++){Wa=Bi===0?Qc(Ce):-Su,qa=Bi===0?Hc(se):0;var f2=bt[Bi].split(" ").length-1,h2=f2>0?(Sn-Bo[Bi])/f2:0;Bi<Is-1?Z0.push(R(P(h2))):Z0.push(0),k.push([bt[Bi],qa,Wa])}}}(typeof Pe.R2L=="boolean"?Pe.R2L:Le)===!0&&(k=_f(k,function(gr,Sr,Ei){return[gr.split("").reverse().join(""),Sr,Ei]})),ht={text:k,x:se,y:Ce,options:Pe,mutex:{pdfEscape:di,activeFontKey:ke,fonts:Nt,activeFontSize:ce}},Dn.publish("postProcessText",ht),k=ht.text,Hi=ht.mutex.isHex||!1;var d2=Nt[ke].encoding;d2!=="WinAnsiEncoding"&&d2!=="StandardEncoding"||(k=_f(k,function(gr,Sr,Ei){return[$c(gr),Sr,Ei]})),bt=s2(k),k=[];for(var nA,rA,iA,Uu=Array.isArray(bt[0])?1:0,sA="",Nu=function(gr,Sr,Ei){var as="";return Ei instanceof lt?(Ei=typeof Pe.angle=="number"?Pt(Ei,new lt(1,0,0,1,gr,Sr)):Pt(new lt(1,0,0,1,gr,Sr),Ei),v===b&&(Ei=Pt(new lt(1,0,0,-1,0,0),Ei)),as=Ei.join(" ")+` Tm
`):as=R(gr)+" "+R(Sr)+` Td
`,as},Eo=0;Eo<bt.length;Eo++){switch(sA="",Uu){case 1:iA=(Hi?"<":"(")+bt[Eo][0]+(Hi?">":")"),nA=parseFloat(bt[Eo][1]),rA=parseFloat(bt[Eo][2]);break;case 0:iA=(Hi?"<":"(")+bt[Eo]+(Hi?">":")"),nA=Hc(se),rA=Qc(Ce)}Z0!==void 0&&Z0[Eo]!==void 0&&(sA=Z0[Eo]+` Tw
`),Eo===0?k.push(sA+Nu(nA,rA,zi)+iA):Uu===0?k.push(sA+iA):Uu===1&&k.push(sA+Nu(nA,rA,zi)+iA)}k=Uu===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var rc=`BT
/`;return rc+=ke+" "+ce+` Tf
`,rc+=R(ce*Kc)+` TL
`,rc+=Ru+`
`,rc+=Cs,rc+=k,O(rc+="ET"),h[ke]=!0,jr};var G6=f.__private__.clip=f.clip=function(k){return O(k==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return G6("evenodd")},f.__private__.discardPath=f.discardPath=function(){return O("n"),this};var ec=f.__private__.isValidStyle=function(k){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(se=!0),se};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(k){return ec(k)&&(c=k),this};var Hp=f.__private__.getStyle=f.getStyle=function(k){var se=c;switch(k){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=k}return se},Qp=f.close=function(){return O("h"),this};f.stroke=function(){return O("S"),this},f.fill=function(k){return df("f",k),this},f.fillEvenOdd=function(k){return df("f*",k),this},f.fillStroke=function(k){return df("B",k),this},f.fillStrokeEvenOdd=function(k){return df("B*",k),this};var df=function(k,se){Lr(se)==="object"?K6(se,k):O(k)},Lu=function(k){k===null||v===b&&k===void 0||(k=Hp(k),O(k))};function V6(k,se,Ce,Pe,Xe){var ht=new fh(se||this.boundingBox,Ce||this.xStep,Pe||this.yStep,this.gState,Xe||this.matrix);ht.stream=this.stream;var bt=k+"$$"+this.cloneIndex+++"$$";return gn(bt,ht),ht}var K6=function(k,se){var Ce=Jt[k.key],Pe=Tt[Ce];if(Pe instanceof r1)O("q"),O($6(se)),Pe.gState&&f.setGState(Pe.gState),O(k.matrix.toString()+" cm"),O("/"+Ce+" sh"),O("Q");else if(Pe instanceof fh){var Xe=new lt(1,0,0,-1,0,Eu());k.matrix&&(Xe=Xe.multiply(k.matrix||Ht),Ce=V6.call(Pe,k.key,k.boundingBox,k.xStep,k.yStep,Xe).id),O("q"),O("/Pattern cs"),O("/"+Ce+" scn"),Pe.gState&&f.setGState(Pe.gState),O(se),O("Q")}},$6=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Xd=f.moveTo=function(k,se){return O(R(P(k))+" "+R(S(se))+" m"),this},jp=f.lineTo=function(k,se){return O(R(P(k))+" "+R(S(se))+" l"),this},Al=f.curveTo=function(k,se,Ce,Pe,Xe,ht){return O([R(P(k)),R(S(se)),R(P(Ce)),R(S(Pe)),R(P(Xe)),R(S(ht)),"c"].join(" ")),this};f.__private__.line=f.line=function(k,se,Ce,Pe,Xe){if(isNaN(k)||isNaN(se)||isNaN(Ce)||isNaN(Pe)||!ec(Xe))throw new Error("Invalid arguments passed to jsPDF.line");return v===y?this.lines([[Ce-k,Pe-se]],k,se,[1,1],Xe||"S"):this.lines([[Ce-k,Pe-se]],k,se,[1,1]).stroke()},f.__private__.lines=f.lines=function(k,se,Ce,Pe,Xe,ht){var bt,un,dn,Rn,Sn,ir,oi,zi,jr,ss,Hi,Cs;if(typeof k=="number"&&(Cs=Ce,Ce=se,se=k,k=Cs),Pe=Pe||[1,1],ht=ht||!1,isNaN(se)||isNaN(Ce)||!Array.isArray(k)||!Array.isArray(Pe)||!ec(Xe)||typeof ht!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xd(se,Ce),bt=Pe[0],un=Pe[1],Rn=k.length,ss=se,Hi=Ce,dn=0;dn<Rn;dn++)(Sn=k[dn]).length===2?(ss=Sn[0]*bt+ss,Hi=Sn[1]*un+Hi,jp(ss,Hi)):(ir=Sn[0]*bt+ss,oi=Sn[1]*un+Hi,zi=Sn[2]*bt+ss,jr=Sn[3]*un+Hi,ss=Sn[4]*bt+ss,Hi=Sn[5]*un+Hi,Al(ir,oi,zi,jr,ss,Hi));return ht&&Qp(),Lu(Xe),this},f.path=function(k){for(var se=0;se<k.length;se++){var Ce=k[se],Pe=Ce.c;switch(Ce.op){case"m":Xd(Pe[0],Pe[1]);break;case"l":jp(Pe[0],Pe[1]);break;case"c":Al.apply(this,Pe);break;case"h":Qp()}}return this},f.__private__.rect=f.rect=function(k,se,Ce,Pe,Xe){if(isNaN(k)||isNaN(se)||isNaN(Ce)||isNaN(Pe)||!ec(Xe))throw new Error("Invalid arguments passed to jsPDF.rect");return v===y&&(Pe=-Pe),O([R(P(k)),R(S(se)),R(P(Ce)),R(P(Pe)),"re"].join(" ")),Lu(Xe),this},f.__private__.triangle=f.triangle=function(k,se,Ce,Pe,Xe,ht,bt){if(isNaN(k)||isNaN(se)||isNaN(Ce)||isNaN(Pe)||isNaN(Xe)||isNaN(ht)||!ec(bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-k,Pe-se],[Xe-Ce,ht-Pe],[k-Xe,se-ht]],k,se,[1,1],bt,!0),this},f.__private__.roundedRect=f.roundedRect=function(k,se,Ce,Pe,Xe,ht,bt){if(isNaN(k)||isNaN(se)||isNaN(Ce)||isNaN(Pe)||isNaN(Xe)||isNaN(ht)||!ec(bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var un=4/3*(Math.SQRT2-1);return Xe=Math.min(Xe,.5*Ce),ht=Math.min(ht,.5*Pe),this.lines([[Ce-2*Xe,0],[Xe*un,0,Xe,ht-ht*un,Xe,ht],[0,Pe-2*ht],[0,ht*un,-Xe*un,ht,-Xe,ht],[2*Xe-Ce,0],[-Xe*un,0,-Xe,-ht*un,-Xe,-ht],[0,2*ht-Pe],[0,-ht*un,Xe*un,-ht,Xe,-ht]],k+Xe,se,[1,1],bt,!0),this},f.__private__.ellipse=f.ellipse=function(k,se,Ce,Pe,Xe){if(isNaN(k)||isNaN(se)||isNaN(Ce)||isNaN(Pe)||!ec(Xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ht=4/3*(Math.SQRT2-1)*Ce,bt=4/3*(Math.SQRT2-1)*Pe;return Xd(k+Ce,se),Al(k+Ce,se-bt,k+ht,se-Pe,k,se-Pe),Al(k-ht,se-Pe,k-Ce,se-bt,k-Ce,se),Al(k-Ce,se+bt,k-ht,se+Pe,k,se+Pe),Al(k+ht,se+Pe,k+Ce,se+bt,k+Ce,se),Lu(Xe),this},f.__private__.circle=f.circle=function(k,se,Ce,Pe){if(isNaN(k)||isNaN(se)||isNaN(Ce)||!ec(Pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,se,Ce,Ce,Pe)},f.setFont=function(k,se,Ce){return Ce&&(se=I(se,Ce)),ke=Pp(k,se,{disableWarning:!1}),this};var W6=f.__private__.getFont=f.getFont=function(){return Nt[Pp.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var k,se,Ce={};for(k in ot)if(ot.hasOwnProperty(k))for(se in Ce[k]=[],ot[k])ot[k].hasOwnProperty(se)&&Ce[k].push(se);return Ce},f.addFont=function(k,se,Ce,Pe,Xe){var ht=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ht.indexOf(arguments[3])!==-1?Xe=arguments[3]:arguments[3]&&ht.indexOf(arguments[3])==-1&&(Ce=I(Ce,Pe)),rs.call(this,k,se,Ce,Xe=Xe||"Identity-H")};var xu,Jd=n.lineWidth||.200025,q6=f.__private__.getLineWidth=f.getLineWidth=function(){return Jd},En=f.__private__.setLineWidth=f.setLineWidth=function(k){return Jd=k,O(R(P(k))+" w"),this};f.__private__.setLineDash=mn.API.setLineDash=mn.API.setLineDashPattern=function(k,se){if(k=k||[],se=se||0,isNaN(se)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(Ce){return R(P(Ce))}).join(" "),se=R(P(se)),O("["+k+"] "+se+" d"),this};var X6=f.__private__.getLineHeight=f.getLineHeight=function(){return ce*xu};f.__private__.getLineHeight=f.getLineHeight=function(){return ce*xu};var J6=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(xu=k),this},Z6=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return xu};J6(n.lineHeight);var Hc=f.__private__.getHorizontalCoordinate=function(k){return P(k)},Qc=f.__private__.getVerticalCoordinate=function(k){return v===b?k:Vt[H].mediaBox.topRightY-Vt[H].mediaBox.bottomLeftY-P(k)},eb=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(k){return R(Hc(k))},tb=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(k){return R(Qc(k))},gf=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Jn(gf)},f.__private__.setStrokeColor=f.setDrawColor=function(k,se,Ce,Pe){return gf=Vr({ch1:k,ch2:se,ch3:Ce,ch4:Pe,pdfColorType:"draw",precision:2}),O(gf),this};var Zd=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Jn(Zd)},f.__private__.setFillColor=f.setFillColor=function(k,se,Ce,Pe){return Zd=Vr({ch1:k,ch2:se,ch3:Ce,ch4:Pe,pdfColorType:"fill",precision:2}),O(Zd),this};var Ru=n.textColor||"0 g",nb=f.__private__.getTextColor=f.getTextColor=function(){return Jn(Ru)};f.__private__.setTextColor=f.setTextColor=function(k,se,Ce,Pe){return Ru=Vr({ch1:k,ch2:se,ch3:Ce,ch4:Pe,pdfColorType:"text",precision:3}),this};var jc=n.charSpace,rb=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(jc||0)};f.__private__.setCharSpace=f.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return jc=k,this};var e2=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(k){var se=f.CapJoinStyles[k];if(se===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return e2=se,O(se+" J"),this};var t2=0;f.__private__.setLineJoin=f.setLineJoin=function(k){var se=f.CapJoinStyles[k];if(se===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return t2=se,O(se+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return O(R(P(k))+" M"),this},f.GState=E5,f.setGState=function(k){(k=typeof k=="string"?wt[It[k]]:Yp(null,k)).equals(tn)||(O("/"+k.id+" gs"),tn=k)};var Yp=function(k,se){if(!k||!It[k]){var Ce=!1;for(var Pe in wt)if(wt.hasOwnProperty(Pe)&&wt[Pe].equals(se)){Ce=!0;break}if(Ce)se=wt[Pe];else{var Xe="GS"+(Object.keys(wt).length+1).toString(10);wt[Xe]=se,se.id=Xe}return k&&(It[k]=se.id),Dn.publish("addGState",se),se}};f.addGState=function(k,se){return Yp(k,se),this},f.saveGraphicsState=function(){return O("q"),Rt.push({key:ke,size:ce,color:Ru}),this},f.restoreGraphicsState=function(){O("Q");var k=Rt.pop();return ke=k.key,ce=k.size,Ru=k.color,tn=null,this},f.setCurrentTransformationMatrix=function(k){return O(k.toString()+" cm"),this},f.comment=function(k){return O("#"+k),this};var Yc=function(k,se){var Ce=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(ht){isNaN(ht)||(Ce=parseFloat(ht))}});var Pe=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Pe},set:function(ht){isNaN(ht)||(Pe=parseFloat(ht))}});var Xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Xe},set:function(ht){Xe=ht.toString()}}),this},n2=function(k,se,Ce,Pe){Yc.call(this,k,se),this.type="rect";var Xe=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Xe},set:function(bt){isNaN(bt)||(Xe=parseFloat(bt))}});var ht=Pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ht},set:function(bt){isNaN(bt)||(ht=parseFloat(bt))}}),this},pf=function(){this.page=rn,this.currentPage=H,this.pages=_e.slice(0),this.pagesContext=Vt.slice(0),this.x=At,this.y=kt,this.matrix=rt,this.width=i2(H),this.height=Vp(H),this.outputDestination=Re,this.id="",this.objectNumber=-1};pf.prototype.restore=function(){rn=this.page,H=this.currentPage,Vt=this.pagesContext,_e=this.pages,At=this.x,kt=this.y,rt=this.matrix,Gp(H,this.width),Gc(H,this.height),Re=this.outputDestination};var r2=function(k,se,Ce,Pe,Xe){at.push(new pf),rn=H=0,_e=[],At=k,kt=se,rt=Xe,xo([Ce,Pe])};for(var Bu in f.beginFormObject=function(k,se,Ce,Pe,Xe){return r2(k,se,Ce,Pe,Xe),this},f.endFormObject=function(k){return function(se){if(gt[se])at.pop().restore();else{var Ce=new pf,Pe="Xo"+(Object.keys(Ue).length+1).toString(10);Ce.id=Pe,gt[se]=Pe,Ue[Pe]=Ce,Dn.publish("addFormObject",Ce),at.pop().restore()}}(k),this},f.doFormObject=function(k,se){var Ce=Ue[gt[k]];return O("q"),O(se.toString()+" cm"),O("/"+Ce.id+" Do"),O("Q"),this},f.getFormObject=function(k){var se=Ue[gt[k]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},f.save=function(k,se){return k=k||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(Ju(hf(Zl()),k),typeof Ju.unload=="function"&&xn.setTimeout&&setTimeout(Ju.unload,911),this):new Promise(function(Ce,Pe){try{var Xe=Ju(hf(Zl()),k);typeof Ju.unload=="function"&&xn.setTimeout&&setTimeout(Ju.unload,911),Ce(Xe)}catch(ht){Pe(ht.message)}})},mn.API)mn.API.hasOwnProperty(Bu)&&(Bu==="events"&&mn.API.events.length?function(k,se){var Ce,Pe,Xe;for(Xe=se.length-1;Xe!==-1;Xe--)Ce=se[Xe][0],Pe=se[Xe][1],k.subscribe.apply(k,[Ce].concat(typeof Pe=="function"?[Pe]:Pe))}(Dn,mn.API.events):f[Bu]=mn.API[Bu]);function i2(k){return Vt[k].mediaBox.topRightX-Vt[k].mediaBox.bottomLeftX}function Gp(k,se){Vt[k].mediaBox.topRightX=se+Vt[k].mediaBox.bottomLeftX}function Vp(k){return Vt[k].mediaBox.topRightY-Vt[k].mediaBox.bottomLeftY}function Gc(k,se){Vt[k].mediaBox.topRightY=se+Vt[k].mediaBox.bottomLeftY}var Vc=f.getPageWidth=function(k){return i2(k=k||H)/De},Kp=f.setPageWidth=function(k,se){Gp(k,se*De)},Eu=f.getPageHeight=function(k){return Vp(k=k||H)/De},$p=f.setPageHeight=function(k,se){Gc(k,se*De)};return f.internal={pdfEscape:di,getStyle:Hp,getFont:W6,getFontSize:Se,getCharSpace:rb,getTextColor:nb,getLineHeight:X6,getLineHeightFactor:Z6,getLineWidth:q6,write:ne,getHorizontalCoordinate:Hc,getVerticalCoordinate:Qc,getCoordinateString:eb,getVerticalCoordinateString:tb,collections:{},newObject:sn,newAdditionalObject:Xn,newObjectDeferred:ln,newObjectDeferredBegin:yn,getFilters:ct,putStream:pn,events:Dn,scaleFactor:De,pageSize:{getWidth:function(){return Vc(H)},setWidth:function(k){Kp(H,k)},getHeight:function(){return Eu(H)},setHeight:function(k){$p(H,k)}},encryptionOptions:A,encryption:is,getEncryptor:function(k){return A!==null?is.encryptor(k,0):function(se){return se}},output:Op,getNumberOfPages:wu,get pages(){return _e},out:O,f2:M,f3:F,getPageInfo:zc,getPageInfoByObjId:zp,getCurrentPageInfo:Y6,getPDFVersion:g,Point:Yc,Rectangle:n2,Matrix:lt,hasHotfix:Ro},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Vc(H)},set:function(k){Kp(H,k)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Eu(H)},set:function(k){$p(H,k)},enumerable:!0,configurable:!0}),(function(k){for(var se=0,Ce=J.length;se<Ce;se++){var Pe=rs.call(this,k[se][0],k[se][1],k[se][2],J[se][3],!0);u===!1&&(h[Pe]=!0);var Xe=k[se][0].split("-");Kr({id:Pe,fontName:Xe[0],fontStyle:Xe[1]||""})}Dn.publish("addFonts",{fonts:Nt,dictionary:ot})}).call(f,J),ke="F1",q0(i,t),Dn.publish("initialized"),f}th.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},th.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},th.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},th.prototype.processOwnerPassword=function(n,e){return s9(i9(e).substr(0,5),n)},th.prototype.encryptor=function(n,e){var t=i9(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return s9(t,r)}},E5.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Lr(n)!==Lr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},mn.API={events:[]},mn.version="3.0.4";var mi=mn.API,iR=1,rf=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Cn=function(n){return n.toFixed(2)},dA=function(n){return n.toFixed(5)};mi.__acroform__={};var Ka=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},JT=function(n){return n*iR},fc=function(n){var e=new iH,t=cn.internal.getHeight(n)||0,r=cn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Cn(r)),Number(Cn(t))],e},xue=mi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Rue=mi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Bue=mi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Ni=mi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Bue(n,e-1)},ki=mi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xue(n,e-1)},Pi=mi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Rue(n,e-1)},Eue=mi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],a=n[2],o=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=t(i+a)||0,l.upperRight_Y=r(s)||0,[Number(Cn(l.lowerLeft_X)),Number(Cn(l.lowerLeft_Y)),Number(Cn(l.upperRight_X)),Number(Cn(l.upperRight_Y))]},Cue=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=a9(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Cn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=fc(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},a9=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(M){return M.split(`
`)}):i.map(function(M){return[M]});var s=t,a=cn.internal.getHeight(n)||0;a=a<0?-a:a;var o=cn.internal.getWidth(n)||0;o=o<0?-o:o;var l=function(M,F,P){if(M+1<i.length){var S=F+" "+i[M+1][0];return i4(S,n,P).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,A,u=i4("3",n,s).height,h=n.multiline?a-s:(a-u)/2,f=h+=2,d=0,g=0,_=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+i4(e,n,s=12).width+", FieldWidth:"+o+`
`;break}for(var m="",y=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var v=!1;if(i[b].length!==1&&_!==i[b].length-1){if((u+2)*(y+2)+2>a)continue e;m+=i[b][_],v=!0,g=b,b--}else{m=(m+=i[b][_]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var B=parseInt(b),C=l(B,m,s),I=b>=i.length-1;if(C&&!I){m+=" ",_=0;continue}if(C||I){if(I)g=B;else if(n.multiline&&(u+2)*(y+2)+2>a)continue e}else{if(!n.multiline||(u+2)*(y+2)+2>a)continue e;g=B}}for(var R="",w=d;w<=g;w++){var U=i[w];if(n.multiline){if(w===g){R+=U[_]+" ",_=(_+1)%U.length;continue}if(w===d){R+=U[U.length-1]+" ";continue}}R+=U[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,A=i4(R,n,s).width,n.textAlign){case"right":c=o-A-2;break;case"center":c=(o-A)/2;break;default:c=2}e+=Cn(c)+" "+Cn(f)+` Td
`,e+="("+rf(R)+`) Tj
`,e+=-Cn(c)+` 0 Td
`,f=-(s+2),A=0,d=v?g:g+1,y++,m=""}break}return r.text=e,r.fontSize=s,r},i4=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Iue={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Tue=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Mue=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Wl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Iue)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");iR=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new sH,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Tue(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=Eue(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=cn.createDefaultAppearanceStream(o),Lr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var A=Cue(o);l.push({key:"AP",value:"<</N "+A+">>"}),i.internal.acroformPlugin.xForms.push(A)}if(o.appearanceStreamContent){var u="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var f=o.appearanceStreamContent[h];if(u+="/"+h+" ",u+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var d=f[a];typeof d=="function"&&(d=d.call(i,o)),u+="/"+a+" "+d+" ",i.internal.acroformPlugin.xForms.indexOf(d)>=0||i.internal.acroformPlugin.xForms.push(d)}}else typeof(d=f)=="function"&&(d=d.call(i,o)),u+="/"+a+" "+d,i.internal.acroformPlugin.xForms.indexOf(d)>=0||i.internal.acroformPlugin.xForms.push(d);u+=">>"}l.push({key:"AP",value:`<<
`+u+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(g,_){for(var m in g)if(g.hasOwnProperty(m)){var y=m,b=g[m];_.internal.newObjectDeferredBegin(b.objId,!0),Lr(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete g[y]}}(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},rH=mi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Lr(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+rf(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Pv=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+rf(r(n))+")"},Rc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Rc.prototype.toString=function(){return this.objId+" 0 R"},Rc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Rc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:rH(i,this.objId,this.scope)}):i instanceof Rc?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var iH=function(){Rc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ka(iH,Rc);var sH=function(){Rc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+rf(t(n))+")"}},set:function(t){n=t}})};Ka(sH,Rc);var Wl=function n(){Rc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ni(e,3)},set:function(m){m?this.F=ki(e,3):this.F=Pi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');t=m}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(m){r=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(m){r[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(m){r[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(m){r[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(m){r[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof C5)return;s="FieldObject"+n.FieldNum++}var m=function(y){return y};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+rf(m(s))+")"},set:function(m){s=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(m){s=m}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/iR:c},set:function(m){c=m}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(m){A=m}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof C5||this instanceof B1))return Pv(u,this.objId,this.scope)},set:function(m){m=m.toString(),u=m}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ls==0?Pv(h,this.objId,this.scope):h},set:function(m){m=m.toString(),h=this instanceof Ls==0?m.substr(0,1)==="("?Sf(m.substr(1,m.length-2)):Sf(m):m}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ls==1?Sf(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof Ls==1?"/"+m:m}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ls==0?Pv(f,this.objId,this.scope):f},set:function(m){m=m.toString(),f=this instanceof Ls==0?m.substr(0,1)==="("?Sf(m.substr(1,m.length-2)):Sf(m):m}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ls==1?Sf(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof Ls==1?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var d,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(m){m=!!m,g=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(d)return d},set:function(m){d=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,1)},set:function(m){m?this.Ff=ki(this.Ff,1):this.Ff=Pi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,2)},set:function(m){m?this.Ff=ki(this.Ff,2):this.Ff=Pi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,3)},set:function(m){m?this.Ff=ki(this.Ff,3):this.Ff=Pi(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');_=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(_){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};Ka(Wl,Rc);var Nh=function(){Wl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rH(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,18)},set:function(t){t?this.Ff=ki(this.Ff,18):this.Ff=Pi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ki(this.Ff,19):this.Ff=Pi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,20)},set:function(t){t?(this.Ff=ki(this.Ff,20),e.sort()):this.Ff=Pi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,22)},set:function(t){t?this.Ff=ki(this.Ff,22):this.Ff=Pi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,23)},set:function(t){t?this.Ff=ki(this.Ff,23):this.Ff=Pi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,27)},set:function(t){t?this.Ff=ki(this.Ff,27):this.Ff=Pi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ka(Nh,Wl);var kh=function(){Nh.call(this),this.fontName="helvetica",this.combo=!1};Ka(kh,Nh);var Ph=function(){kh.call(this),this.combo=!0};Ka(Ph,kh);var _m=function(){Ph.call(this),this.edit=!0};Ka(_m,Ph);var Ls=function(){Wl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,15)},set:function(t){t?this.Ff=ki(this.Ff,15):this.Ff=Pi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,16)},set:function(t){t?this.Ff=ki(this.Ff,16):this.Ff=Pi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,17)},set:function(t){t?this.Ff=ki(this.Ff,17):this.Ff=Pi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,26)},set:function(t){t?this.Ff=ki(this.Ff,26):this.Ff=Pi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+rf(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Lr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ka(Ls,Wl);var mm=function(){Ls.call(this),this.pushButton=!0};Ka(mm,Ls);var Dh=function(){Ls.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ka(Dh,Ls);var C5=function(){var n,e;Wl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+rf(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Lr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=cn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ka(C5,Wl),Dh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Dh.prototype.createOption=function(n){var e=new C5;return e.Parent=this,e.optionName=n,this.Kids.push(e),Sue.call(this.scope,e),e};var ym=function(){Ls.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=cn.CheckBox.createAppearanceStream()};Ka(ym,Ls);var B1=function(){Wl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,13)},set:function(e){e?this.Ff=ki(this.Ff,13):this.Ff=Pi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,21)},set:function(e){e?this.Ff=ki(this.Ff,21):this.Ff=Pi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,23)},set:function(e){e?this.Ff=ki(this.Ff,23):this.Ff=Pi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,24)},set:function(e){e?this.Ff=ki(this.Ff,24):this.Ff=Pi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,25)},set:function(e){e?this.Ff=ki(this.Ff,25):this.Ff=Pi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,26)},set:function(e){e?this.Ff=ki(this.Ff,26):this.Ff=Pi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ka(B1,Wl);var bm=function(){B1.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,14)},set:function(n){n?this.Ff=ki(this.Ff,14):this.Ff=Pi(this.Ff,14)}}),this.password=!0};Ka(bm,B1);var cn={CheckBox:{createAppearanceStream:function(){return{N:{On:cn.CheckBox.YesNormal},D:{On:cn.CheckBox.YesPushDown,Off:cn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=fc(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=a9(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Cn(cn.internal.getWidth(n))+" "+Cn(cn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Cn(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=fc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=cn.internal.getHeight(n),a=cn.internal.getWidth(n),o=a9(n,n.caption);return i.push("1 g"),i.push("0 0 "+Cn(a)+" "+Cn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Cn(a-1)+" "+Cn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Cn(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=fc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Cn(cn.internal.getWidth(n))+" "+Cn(cn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:cn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=cn.RadioButton.Circle.YesNormal,e.D[n]=cn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=fc(n);e.scope=n.scope;var t=[],r=cn.internal.getWidth(n)<=cn.internal.getHeight(n)?cn.internal.getWidth(n)/4:cn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=cn.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+dA(cn.internal.getWidth(n)/2)+" "+dA(cn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=fc(n);e.scope=n.scope;var t=[],r=cn.internal.getWidth(n)<=cn.internal.getHeight(n)?cn.internal.getWidth(n)/4:cn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*cn.internal.Bezier_C).toFixed(5)),a=Number((r*cn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+dA(cn.internal.getWidth(n)/2)+" "+dA(cn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+dA(cn.internal.getWidth(n)/2)+" "+dA(cn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=fc(n);e.scope=n.scope;var t=[],r=cn.internal.getWidth(n)<=cn.internal.getHeight(n)?cn.internal.getWidth(n)/4:cn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*cn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+dA(cn.internal.getWidth(n)/2)+" "+dA(cn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:cn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=cn.RadioButton.Cross.YesNormal,e.D[n]=cn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=fc(n);e.scope=n.scope;var t=[],r=cn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Cn(cn.internal.getWidth(n)-2)+" "+Cn(cn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Cn(r.x1.x)+" "+Cn(r.x1.y)+" m"),t.push(Cn(r.x2.x)+" "+Cn(r.x2.y)+" l"),t.push(Cn(r.x4.x)+" "+Cn(r.x4.y)+" m"),t.push(Cn(r.x3.x)+" "+Cn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=fc(n);e.scope=n.scope;var t=cn.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Cn(cn.internal.getWidth(n))+" "+Cn(cn.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Cn(cn.internal.getWidth(n)-2)+" "+Cn(cn.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Cn(t.x1.x)+" "+Cn(t.x1.y)+" m"),r.push(Cn(t.x2.x)+" "+Cn(t.x2.y)+" l"),r.push(Cn(t.x4.x)+" "+Cn(t.x4.y)+" m"),r.push(Cn(t.x3.x)+" "+Cn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=fc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Cn(cn.internal.getWidth(n))+" "+Cn(cn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};cn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=cn.internal.getWidth(n),t=cn.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},cn.internal.getWidth=function(n){var e=0;return Lr(n)==="object"&&(e=JT(n.Rect[2])),e},cn.internal.getHeight=function(n){var e=0;return Lr(n)==="object"&&(e=JT(n.Rect[3])),e};var Sue=mi.addField=function(n){if(Mue(this,n),!(n instanceof Wl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};mi.AcroFormChoiceField=Nh,mi.AcroFormListBox=kh,mi.AcroFormComboBox=Ph,mi.AcroFormEditBox=_m,mi.AcroFormButton=Ls,mi.AcroFormPushButton=mm,mi.AcroFormRadioButton=Dh,mi.AcroFormCheckBox=ym,mi.AcroFormTextField=B1,mi.AcroFormPasswordField=bm,mi.AcroFormAppearance=cn,mi.AcroForm={ChoiceField:Nh,ListBox:kh,ComboBox:Ph,EditBox:_m,Button:Ls,PushButton:mm,RadioButton:Dh,CheckBox:ym,TextField:B1,PasswordField:bm,Appearance:cn},mn.AcroForm={ChoiceField:Nh,ListBox:kh,ComboBox:Ph,EditBox:_m,Button:Ls,PushButton:mm,RadioButton:Dh,CheckBox:ym,TextField:B1,PasswordField:bm,Appearance:cn};mn.AcroForm;function aH(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(M,F){var P,S,W,re,G,ie=t;if((F=F||t)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(C(M))for(G in r)for(W=r[G],P=0;P<W.length;P+=1){for(re=!0,S=0;S<W[P].length;S+=1)if(W[P][S]!==void 0&&W[P][S]!==M[S]){re=!1;break}if(re===!0){ie=G;break}}else for(G in r)for(W=r[G],P=0;P<W.length;P+=1){for(re=!0,S=0;S<W[P].length;S+=1)if(W[P][S]!==void 0&&W[P][S]!==M.charCodeAt(S)){re=!1;break}if(re===!0){ie=G;break}}return ie===t&&F!==t&&(ie=F),ie},s=function M(F){for(var P=this.internal.write,S=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:F.width}),re.push({key:"Height",value:F.height}),F.colorSpace===m.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===m.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var G="",ie=0,X=F.transparency.length;ie<X;ie++)G+=F.transparency[ie]+" "+F.transparency[ie]+" ";re.push({key:"Mask",value:"["+G+"]"})}F.sMask!==void 0&&re.push({key:"SMask",value:F.objectId+1+" 0 R"});var ge=F.filter!==void 0?["/"+F.filter]:void 0;if(S({data:F.data,additionalKeyValues:re,alreadyAppliedFilters:ge,objectId:F.objectId}),P("endobj"),"sMask"in F&&F.sMask!==void 0){var K,N=(K=F.sMaskBitsPerComponent)!==null&&K!==void 0?K:F.bitsPerComponent,H={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:N,data:F.sMask};"filter"in F&&(H.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(N," /Columns ").concat(F.width),H.filter=F.filter),M.call(this,H)}if(F.colorSpace===m.INDEXED){var V=this.internal.newObject();S({data:R(new Uint8Array(F.palette)),objectId:V}),P("endobj")}},a=function(){var M=this.internal.collections[e+"images"];for(var F in M)s.call(this,M[F])},o=function(){var M,F=this.internal.collections[e+"images"],P=this.internal.write;for(var S in F)P("/I"+(M=F[S]).index,M.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var M=this.internal.collections[e+"images"];return l.call(this),M},A=function(){return Object.keys(this.internal.collections[e+"images"]).length},u=function(M){return typeof n["process"+M.toUpperCase()]=="function"},h=function(M){return Lr(M)==="object"&&M.nodeType===1},f=function(M,F){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var P=""+M.getAttribute("src");if(P.indexOf("data:image/")===0)return pm(unescape(P).split("base64,").pop());var S=n.loadFile(P,!0);if(S!==void 0)return S}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var W;switch(F){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;default:W="image/jpeg"}return pm(M.toDataURL(W,1).split("base64,").pop())}},d=function(M){var F=this.internal.collections[e+"images"];if(F){for(var P in F)if(M===F[P].alias)return F[P]}},g=function(M,F,P){return M||F||(M=-96,F=-96),M<0&&(M=-1*P.width*72/M/this.internal.scaleFactor),F<0&&(F=-1*P.height*72/F/this.internal.scaleFactor),M===0&&(M=F*P.width/P.height),F===0&&(F=M*P.height/P.width),[M,F]},_=function(M,F,P,S,W,re){var G=g.call(this,P,S,W),ie=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,ge=c.call(this);if(P=G[0],S=G[1],ge[W.index]=W,re){re*=Math.PI/180;var K=Math.cos(re),N=Math.sin(re),H=function(j){return j.toFixed(4)},V=[H(K),H(N),H(-1*N),H(K),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,ie(M),X(F+S),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([ie(P),"0","0",ie(S),"0","0","cm"].join(" "))):this.internal.write([ie(P),"0","0",ie(S),ie(M),X(F+S),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},m=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=n.__addimage__.sHashCode=function(M){var F,P,S=0;if(typeof M=="string")for(P=M.length,F=0;F<P;F++)S=(S<<5)-S+M.charCodeAt(F),S|=0;else if(C(M))for(P=M.byteLength/2,F=0;F<P;F++)S=(S<<5)-S+M[F],S|=0;return S},v=n.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var F=!0;return M.length===0&&(F=!1),M.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(F=!1),F},B=n.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var F=M.indexOf(",");return F<0?null:M.substring(0,F).trim().endsWith("base64")?M.substring(F+1):null};n.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var C=n.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},I=n.__addimage__.binaryStringToUint8Array=function(M){for(var F=M.length,P=new Uint8Array(F),S=0;S<F;S++)P[S]=M.charCodeAt(S);return P},R=n.__addimage__.arrayBufferToBinaryString=function(M){for(var F="",P=C(M)?M:new Uint8Array(M),S=0;S<P.length;S+=8192)F+=String.fromCharCode.apply(null,P.subarray(S,S+8192));return F};n.addImage=function(){var M,F,P,S,W,re,G,ie,X;if(typeof arguments[1]=="number"?(F=t,P=arguments[1],S=arguments[2],W=arguments[3],re=arguments[4],G=arguments[5],ie=arguments[6],X=arguments[7]):(F=arguments[1],P=arguments[2],S=arguments[3],W=arguments[4],re=arguments[5],G=arguments[6],ie=arguments[7],X=arguments[8]),Lr(M=arguments[0])==="object"&&!h(M)&&"imageData"in M){var ge=M;M=ge.imageData,F=ge.format||F||t,P=ge.x||P||0,S=ge.y||S||0,W=ge.w||ge.width||W,re=ge.h||ge.height||re,G=ge.alias||G,ie=ge.compression||ie,X=ge.rotation||ge.angle||X}var K=this.internal.getFilters();if(ie===void 0&&K.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(P)||isNaN(S))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var N=w.call(this,M,F,G,ie);return _.call(this,P,S,W,re,N,X),this};var w=function(M,F,P,S){var W,re,G;if(typeof M=="string"&&i(M)===t){M=unescape(M);var ie=U(M,!1);(ie!==""||(ie=n.loadFile(M,!0))!==void 0)&&(M=ie)}if(h(M)&&(M=f(M,F)),F=i(M,F),!u(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((G=P)==null||G.length===0)&&(P=function(X){return typeof X=="string"||C(X)?b(X):C(X.data)?b(X.data):null}(M)),(W=d.call(this,P))||(M instanceof Uint8Array||F==="RGBA"||(re=M,M=I(M)),W=this["process"+F.toUpperCase()](M,A.call(this),P,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in n.image_compression?X:y.NONE}(S),re)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},U=n.__addimage__.convertBase64ToBinaryString=function(M,F){F=typeof F!="boolean"||F;var P,S="";if(typeof M=="string"){var W;P=(W=B(M))!==null&&W!==void 0?W:M;try{S=pm(P)}catch(re){if(F)throw v(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return S};n.getImageProperties=function(M){var F,P,S="";if(h(M)&&(M=f(M)),typeof M=="string"&&i(M)===t&&((S=U(M,!1))===""&&(S=n.loadFile(M)||""),M=S),P=i(M),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(M instanceof Uint8Array||(M=I(M)),!(F=this["process"+P.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=P,F}})(mn.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};mn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,A=!1,u=0;u<c.length&&!A;u++)switch((r=c[u]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){r=c[h];var f=this.internal.pdfEscape,d=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(g.objId),y=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+f(m(r.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(m(y))+") >>",g.content=s;var b=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+b,r.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(g.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var v=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(d(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var B=this.annotations._nameMap[r.options.name];r.options.pageNumber=B.page,r.options.top=B.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(d(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var C=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+C+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:a,type:"link"})},n.textWithLink=function(t,r,i,s){var a,o,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var A=this.splitTextToSize(t,o).length;a=Math.ceil(c*A)}else o=l,a=c;return this.text(t,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(mn.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=n.__arabicParser__.isArabicEndLetter=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(g){return a(g)&&i.indexOf(g.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var A=n.__arabicParser__.arabicLetterHasMedialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length==4},u=n.__arabicParser__.resolveLigatures=function(g){var _=0,m=t,y="",b=0;for(_=0;_<g.length;_+=1)m[g.charCodeAt(_)]!==void 0?(b++,typeof(m=m[g.charCodeAt(_)])=="number"&&(y+=String.fromCharCode(m),m=t,b=0),_===g.length-1&&(m=t,y+=g.charAt(_-(b-1)),_-=b-1,b=0)):(m=t,y+=g.charAt(_-b),_-=b,b=0);return y};n.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var h=n.__arabicParser__.getCorrectForm=function(g,_,m){return a(g)?s(g)===!1?-1:!c(g)||!a(_)&&!a(m)||!a(m)&&o(_)||o(g)&&!a(_)||o(g)&&l(_)||o(g)&&o(_)?0:A(g)&&a(_)&&!o(_)&&a(m)&&c(m)?3:o(g)||!a(m)?1:2:-1},f=function(g){var _=0,m=0,y=0,b="",v="",B="",C=(g=g||"").split("\\s+"),I=[];for(_=0;_<C.length;_+=1){for(I.push(""),m=0;m<C[_].length;m+=1)b=C[_][m],v=C[_][m-1],B=C[_][m+1],a(b)?(y=h(b,v,B),I[_]+=y!==-1?String.fromCharCode(e[b.charCodeAt(0)][y]):b):I[_]+=b;I[_]=u(I[_])}return I.join(" ")},d=n.__arabicParser__.processArabic=n.processArabic=function(){var g,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(_)){var y=0;for(m=[],y=0;y<_.length;y+=1)Array.isArray(_[y])?m.push([f(_[y][0]),_[y][1],_[y][2]]):m.push([f(_[y])]);g=m}else g=f(_);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};n.events.push(["preProcessText",d])}(mn.API),mn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(mn.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var d=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return d},set:function(g){d=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var A=(c=c||{}).fontSize||this.getFontSize(),u=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,d=0,g=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=c.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,v){return b.concat(_.splitTextToSize(v,m))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)f<(g=this.getStringUnitWidth(l[y],{font:u})*A)&&(f=g);return f!==0&&(d=l.length),{w:f/=h,h:Math.max((d*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/h,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,u=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=u.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-A,l.y+A,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+A,{align:"center",baseline:"top",maxWidth:l.width-A-A}):this.text(l.text,l.x+A,l.y+A,{align:"left",baseline:"top",maxWidth:l.width-A-A})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,A,u,h){if(r.call(this),!A)throw new Error("No data for PDF table.");var f,d,g,_,m=[],y=[],b=[],v={},B={},C=[],I=[],R=(h=h||{}).autoSize||!1,w=h.printHeaders!==!1,U=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,M=h.margins||Object.assign({width:this.getPageWidth()},e),F=typeof h.padding=="number"?h.padding:3,P=h.headerBackgroundColor||"#c8c8c8",S=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=w,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=S,this.setFontSize(U),u==null)y=m=Object.keys(A[0]),b=m.map(function(){return"left"});else if(Array.isArray(u)&&Lr(u[0])==="object")for(m=u.map(function(ge){return ge.name}),y=u.map(function(ge){return ge.prompt||ge.name||""}),b=u.map(function(ge){return ge.align||"left"}),f=0;f<u.length;f+=1)B[u[f].name]=.7499990551181103*u[f].width;else Array.isArray(u)&&typeof u[0]=="string"&&(y=m=u,b=m.map(function(){return"left"}));if(R||Array.isArray(u)&&typeof u[0]=="string")for(f=0;f<m.length;f+=1){for(v[_=m[f]]=A.map(function(ge){return ge[_]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=v[_],this.setFont(void 0,"normal"),g=0;g<d.length;g+=1)C.push(this.getTextDimensions(d[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[_]=Math.max.apply(null,C)+F+F,C=[]}if(w){var W={};for(f=0;f<m.length;f+=1)W[m[f]]={},W[m[f]].text=y[f],W[m[f]].align=b[f];var re=o.call(this,W,B);I=m.map(function(ge){return new s(l,c,B[ge],re,W[ge].text,void 0,W[ge].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var G=u.reduce(function(ge,K){return ge[K.name]=K.align,ge},{});for(f=0;f<A.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:A[f]},this);var ie=o.call(this,A[f],B);for(g=0;g<m.length;g+=1){var X=A[f][m[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:g,data:X},this),a.call(this,new s(l,c,B[m[g]],ie,X,f+2,G[m[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var A=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var d=l[f];return this.splitTextToSize(d.hasOwnProperty("text")?d.text:d,c[f]-A-A)},this).map(function(f){return this.getLineHeightFactor()*f.length*u/h+A+A},this).reduce(function(f,d){return Math.max(f,d)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){A=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(A.y=this.internal.__cell__.margins.top||0,h.push(A)),A.lineNumber=l;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,A),this.setTextColor(d)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}}(mn.API);var oH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lH=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],o9=aH(lH),cH=[100,200,300,400,500,600,700,800,900],Fue=aH(cH);function Dv(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return oH[s=s||"normal"]?s:"normal"}(n.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(n.weight),i=function(s){return typeof o9[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function ZT(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Uue={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},eM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function tM(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function nM(n){return n.trimLeft()}function Nue(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function kue(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var s4,rM,iM,Ff,a4,sM,aM,oM,Ov=["times"];function lM(n,e,t,r,i){var s=4,a=AM;switch(i){case mn.API.image_compression.FAST:s=1,a=cM;break;case mn.API.image_compression.MEDIUM:s=6,a=uM;break;case mn.API.image_compression.SLOW:s=9,a=fM}n=function(l,c,A,u){for(var h,f=l.length/c,d=new Uint8Array(l.length+f),g=[Pue,cM,AM,uM,fM],_=0;_<f;_+=1){var m=_*c,y=l.subarray(m,m+c);if(u)d.set(u(y,A,h),m+_);else{for(var b=g.length,v=[],B=0;B<b;B+=1)v[B]=g[B](y,A,h);var C=Oue(v.concat());d.set(v[C],m+_)}h=y}return d}(n,e,Math.ceil(t*r/8),a);var o=T7(n,{level:s});return mn.API.__addimage__.arrayBufferToBinaryString(o)}function Pue(n){var e=Array.apply([],n);return e.unshift(0),e}function cM(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function AM(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=t&&t[s]||0;i[s+1]=n[s]-a+256&255}return i}function uM(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=n[s-e]||0,o=t&&t[s]||0;i[s+1]=n[s]+256-(a+o>>>1)&255}return i}function fM(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=Due(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-a+256&255}return i}function Due(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function Oue(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function zv(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),a=(1<<t)-1;return AH(n,i)>>s&a}function hM(n,e,t,r){var i=t*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(e&o)<<a;(function(c,A,u){if(A+1<c.byteLength)c.setUint16(A,u,!1);else{var h=u>>8&255;c.setUint8(A,h)}})(n,s,AH(n,s)&~(o<<a)&65535|l)}function AH(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function zue(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,a=1<<1+(7&i);n[e++],n[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,A=[],u=0,h=null,f=0,d=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,d=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((M=n[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=n[e++];u=n[e++]|n[e++]<<8,h=n[e++],1&g||(h=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((M=n[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var _=n[e++]|n[e++]<<8,m=n[e++]|n[e++]<<8,y=n[e++]|n[e++]<<8,b=n[e++]|n[e++]<<8,v=n[e++],B=v>>6&1,C=1<<1+(7&v),I=o,R=l,w=!1;v>>7&&(w=!0,I=e,R=C,e+=3*C);var U=e;for(e++;;){var M;if(!((M=n[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}A.push({x:_,y:m,width:y,height:b,has_local_palette:w,palette_offset:I,palette_size:R,data_offset:U,data_length:e-U,transparent_index:h,interlaced:!!B,delay:u,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return d},this.frameInfo=function(F){if(F<0||F>=A.length)throw new Error("Frame index out of range.");return A[F]},this.decodeAndBlitFrameBGRA=function(F,P){var S=this.frameInfo(F),W=S.width*S.height,re=new Uint8Array(W);dM(n,S.data_offset,re,W);var G=S.palette_offset,ie=S.transparent_index;ie===null&&(ie=256);var X=S.width,ge=t-X,K=X,N=4*(S.y*t+S.x),H=4*((S.y+S.height)*t+S.x),V=N,j=4*ge;S.interlaced===!0&&(j+=4*t*7);for(var le=8,de=0,he=re.length;de<he;++de){var ue=re[de];if(K===0&&(K=X,(V+=j)>=H&&(j=4*ge+4*t*(le-1),V=N+(X+ge)*(le<<1),le>>=1)),ue===ie)V+=4;else{var me=n[G+3*ue],_e=n[G+3*ue+1],xe=n[G+3*ue+2];P[V++]=xe,P[V++]=_e,P[V++]=me,P[V++]=255}--K}},this.decodeAndBlitFrameRGBA=function(F,P){var S=this.frameInfo(F),W=S.width*S.height,re=new Uint8Array(W);dM(n,S.data_offset,re,W);var G=S.palette_offset,ie=S.transparent_index;ie===null&&(ie=256);var X=S.width,ge=t-X,K=X,N=4*(S.y*t+S.x),H=4*((S.y+S.height)*t+S.x),V=N,j=4*ge;S.interlaced===!0&&(j+=4*t*7);for(var le=8,de=0,he=re.length;de<he;++de){var ue=re[de];if(K===0&&(K=X,(V+=j)>=H&&(j=4*ge+4*t*(le-1),V=N+(X+ge)*(le<<1),le>>=1)),ue===ie)V+=4;else{var me=n[G+3*ue],_e=n[G+3*ue+1],xe=n[G+3*ue+2];P[V++]=me,P[V++]=_e,P[V++]=xe,P[V++]=255}--K}}}function dM(n,e,t,r){for(var i=n[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,A=0,u=0,h=0,f=n[e++],d=new Int32Array(4096),g=null;;){for(;A<16&&f!==0;)u|=n[e++]<<A,A+=8,f===1?f=n[e++]:--f;if(A<l)break;var _=u&c;if(u>>=l,A-=l,_!==s){if(_===a)break;for(var m=_<o?_:g,y=0,b=m;b>s;)b=d[b]>>8,++y;var v=b;if(h+y+(m!==_?1:0)>r)return void kr.log("Warning, gif stream longer than expected.");t[h++]=v;var B=h+=y;for(m!==_&&(t[h++]=v),b=m;y--;)b=d[b],t[--B]=255&b,b>>=8;g!==null&&o<4096&&(d[o++]=g<<8|v,o>=c+1&&l<12&&(++l,c=c<<1|1)),g=_}else o=a+1,c=(1<<(l=i+1))-1,g=null}return h!==r&&kr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Hv(n){var e,t,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),A=new Array(64),u=new Array(65535),h=new Array(65535),f=new Array(64),d=new Array(64),g=[],_=0,m=7,y=new Array(64),b=new Array(64),v=new Array(64),B=new Array(256),C=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],w=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(N,H){for(var V=0,j=0,le=new Array,de=1;de<=16;de++){for(var he=1;he<=N[de];he++)le[H[j]]=[],le[H[j]][0]=V,le[H[j]][1]=de,j++,V++;V*=2}return le}function G(N){for(var H=N[0],V=N[1]-1;V>=0;)H&1<<V&&(_|=1<<m),V--,--m<0&&(_==255?(ie(255),ie(0)):ie(_),m=7,_=0)}function ie(N){g.push(N)}function X(N){ie(N>>8&255),ie(255&N)}function ge(N,H,V,j,le){for(var de,he=le[0],ue=le[240],me=function(ce,Me){var Se,Le,He,be,Fe,Qe,Ge,nt,ke,De,At=0;for(ke=0;ke<8;++ke){Se=ce[At],Le=ce[At+1],He=ce[At+2],be=ce[At+3],Fe=ce[At+4],Qe=ce[At+5],Ge=ce[At+6];var kt=Se+(nt=ce[At+7]),rt=Se-nt,Nt=Le+Ge,ot=Le-Ge,Rt=He+Qe,Tt=He-Qe,Jt=be+Fe,wt=be-Fe,It=kt+Jt,tn=kt-Jt,rn=Nt+Rt,Vt=Nt-Rt;ce[At]=It+rn,ce[At+4]=It-rn;var Dn=.707106781*(Vt+tn);ce[At+2]=tn+Dn,ce[At+6]=tn-Dn;var Wt=.382683433*((It=wt+Tt)-(Vt=ot+rt)),Ue=.5411961*It+Wt,gt=1.306562965*Vt+Wt,at=.707106781*(rn=Tt+ot),lt=rt+at,Pt=rt-at;ce[At+5]=Pt+Ue,ce[At+3]=Pt-Ue,ce[At+1]=lt+gt,ce[At+7]=lt-gt,At+=8}for(At=0,ke=0;ke<8;++ke){Se=ce[At],Le=ce[At+8],He=ce[At+16],be=ce[At+24],Fe=ce[At+32],Qe=ce[At+40],Ge=ce[At+48];var Ht=Se+(nt=ce[At+56]),gn=Se-nt,Kt=Le+Ge,sn=Le-Ge,ln=He+Qe,yn=He-Qe,Xn=be+Fe,ur=be-Fe,Mr=Ht+Xn,Jn=Ht-Xn,Vr=Kt+ln,ct=Kt-ln;ce[At]=Mr+Vr,ce[At+32]=Mr-Vr;var pn=.707106781*(ct+Jn);ce[At+16]=Jn+pn,ce[At+48]=Jn-pn;var ys=.382683433*((Mr=ur+yn)-(ct=sn+gn)),Jr=.5411961*Mr+ys,An=1.306562965*ct+ys,ze=.707106781*(Vr=yn+sn),Et=gn+ze,en=gn-ze;ce[At+40]=en+Jr,ce[At+24]=en-Jr,ce[At+8]=Et+An,ce[At+56]=Et-An,At++}for(ke=0;ke<64;++ke)De=ce[ke]*Me[ke],f[ke]=De>0?De+.5|0:De-.5|0;return f}(N,H),_e=0;_e<64;++_e)d[I[_e]]=me[_e];var xe=d[0]-V;V=d[0],xe==0?G(j[0]):(G(j[h[de=32767+xe]]),G(u[de]));for(var Re=63;Re>0&&d[Re]==0;)Re--;if(Re==0)return G(he),V;for(var D,O=1;O<=Re;){for(var ne=O;d[O]==0&&O<=Re;)++O;var te=O-ne;if(te>=16){D=te>>4;for(var J=1;J<=D;++J)G(ue);te&=15}de=32767+d[O],G(le[(te<<4)+h[de]]),G(u[de]),O++}return Re!=63&&G(he),V}function K(N){N=Math.min(Math.max(N,1),100),s!=N&&(function(H){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],j=0;j<64;j++){var le=a((V[j]*H+50)/100);le=Math.min(Math.max(le,1),255),o[I[j]]=le}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ue=a((de[he]*H+50)/100);ue=Math.min(Math.max(ue,1),255),l[I[he]]=ue}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,xe=0;xe<8;xe++)for(var Re=0;Re<8;Re++)c[_e]=1/(o[I[_e]]*me[xe]*me[Re]*8),A[_e]=1/(l[I[_e]]*me[xe]*me[Re]*8),_e++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,H){H&&K(H),g=new Array,_=0,m=7,X(65496),X(65504),X(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),X(1),X(1),ie(0),ie(0),function(){X(65499),X(132),ie(0);for(var Le=0;Le<64;Le++)ie(o[Le]);ie(1);for(var He=0;He<64;He++)ie(l[He])}(),function(Le,He){X(65472),X(17),ie(8),X(He),X(Le),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(N.width,N.height),function(){X(65476),X(418),ie(0);for(var Le=0;Le<16;Le++)ie(R[Le+1]);for(var He=0;He<=11;He++)ie(w[He]);ie(16);for(var be=0;be<16;be++)ie(U[be+1]);for(var Fe=0;Fe<=161;Fe++)ie(M[Fe]);ie(1);for(var Qe=0;Qe<16;Qe++)ie(F[Qe+1]);for(var Ge=0;Ge<=11;Ge++)ie(P[Ge]);ie(17);for(var nt=0;nt<16;nt++)ie(S[nt+1]);for(var ke=0;ke<=161;ke++)ie(W[ke])}(),X(65498),X(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var V=0,j=0,le=0;_=0,m=7,this.encode.displayName="_encode_";for(var de,he,ue,me,_e,xe,Re,D,O,ne=N.data,te=N.width,J=N.height,ce=4*te,Me=0;Me<J;){for(de=0;de<ce;){for(_e=ce*Me+de,Re=-1,D=0,O=0;O<64;O++)xe=_e+(D=O>>3)*ce+(Re=4*(7&O)),Me+D>=J&&(xe-=ce*(Me+1+D-J)),de+Re>=ce&&(xe-=de+Re-ce+4),he=ne[xe++],ue=ne[xe++],me=ne[xe++],y[O]=(C[he]+C[ue+256|0]+C[me+512|0]>>16)-128,b[O]=(C[he+768|0]+C[ue+1024|0]+C[me+1280|0]>>16)-128,v[O]=(C[he+1280|0]+C[ue+1536|0]+C[me+1792|0]>>16)-128;V=ge(y,c,V,e,r),j=ge(b,A,j,t,i),le=ge(v,A,le,t,i),de+=32}Me+=8}if(m>=0){var Se=[];Se[1]=m+1,Se[0]=(1<<m+1)-1,G(Se)}return X(65497),new Uint8Array(g)},n=n||50,function(){for(var N=String.fromCharCode,H=0;H<256;H++)B[H]=N(H)}(),e=re(R,w),t=re(F,P),r=re(U,M),i=re(S,W),function(){for(var N=1,H=2,V=1;V<=15;V++){for(var j=N;j<H;j++)h[32767+j]=V,u[32767+j]=[],u[32767+j][1]=V,u[32767+j][0]=j;for(var le=-(H-1);le<=-N;le++)h[32767+le]=V,u[32767+le]=[],u[32767+le][1]=V,u[32767+le][0]=H-1+le;N<<=1,H<<=1}}(),function(){for(var N=0;N<256;N++)C[N]=19595*N,C[N+256|0]=38470*N,C[N+512|0]=7471*N+32768,C[N+768|0]=-11059*N,C[N+1024|0]=-21709*N,C[N+1280|0]=32768*N+8421375,C[N+1536|0]=-27439*N,C[N+1792|0]=-5329*N}(),K(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function pl(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function gM(n){function e(w){if(!w)throw Error("assert :P")}function t(w,U,M){for(var F=0;4>F;F++)if(w[U+F]!=M.charCodeAt(F))return!0;return!1}function r(w,U,M,F,P){for(var S=0;S<P;S++)w[U+S]=M[F+S]}function i(w,U,M,F){for(var P=0;P<F;P++)w[U+P]=M}function s(w){return new Int32Array(w)}function a(w,U){for(var M=[],F=0;F<w;F++)M.push(new U);return M}function o(w,U){var M=[];return function F(P,S,W){for(var re=W[S],G=0;G<re&&(P.push(W.length>S+1?[]:new U),!(W.length<S+1));G++)F(P[G],S+1,W)}(M,0,w),M}var l=function(){var w=this;function U(x,T){for(var Q=1<<T-1>>>0;x&Q;)Q>>>=1;return Q?(x&Q-1)+Q:x}function M(x,T,Q,Y,ae){e(!(Y%Q));do x[T+(Y-=Q)]=ae;while(0<Y)}function F(x,T,Q,Y,ae){if(e(2328>=ae),512>=ae)var Ae=s(512);else if((Ae=s(ae))==null)return 0;return function(fe,pe,ye,Be,je,st){var Ee,Ke,Ze=pe,ut=1<<ye,it=s(16),ft=s(16);for(e(je!=0),e(Be!=null),e(fe!=null),e(0<ye),Ke=0;Ke<je;++Ke){if(15<Be[Ke])return 0;++it[Be[Ke]]}if(it[0]==je)return 0;for(ft[1]=0,Ee=1;15>Ee;++Ee){if(it[Ee]>1<<Ee)return 0;ft[Ee+1]=ft[Ee]+it[Ee]}for(Ke=0;Ke<je;++Ke)Ee=Be[Ke],0<Be[Ke]&&(st[ft[Ee]++]=Ke);if(ft[15]==1)return(Be=new P).g=0,Be.value=st[0],M(fe,Ze,1,ut,Be),ut;var dt,Ct=-1,vt=ut-1,_n=0,an=1,Nn=1,fn=1<<ye;for(Ke=0,Ee=1,je=2;Ee<=ye;++Ee,je<<=1){if(an+=Nn<<=1,0>(Nn-=it[Ee]))return 0;for(;0<it[Ee];--it[Ee])(Be=new P).g=Ee,Be.value=st[Ke++],M(fe,Ze+_n,je,fn,Be),_n=U(_n,Ee)}for(Ee=ye+1,je=2;15>=Ee;++Ee,je<<=1){if(an+=Nn<<=1,0>(Nn-=it[Ee]))return 0;for(;0<it[Ee];--it[Ee]){if(Be=new P,(_n&vt)!=Ct){for(Ze+=fn,dt=1<<(Ct=Ee)-ye;15>Ct&&!(0>=(dt-=it[Ct]));)++Ct,dt<<=1;ut+=fn=1<<(dt=Ct-ye),fe[pe+(Ct=_n&vt)].g=dt+ye,fe[pe+Ct].value=Ze-pe-Ct}Be.g=Ee-ye,Be.value=st[Ke++],M(fe,Ze+(_n>>ye),je,fn,Be),_n=U(_n,Ee)}}return an!=2*ft[15]-1?0:ut}(x,T,Q,Y,ae,Ae)}function P(){this.value=this.g=0}function S(){this.value=this.g=0}function W(){this.G=a(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Fu,S)}function re(x,T,Q,Y){e(x!=null),e(T!=null),e(2147483648>Y),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=T,x.pa=Q,x.Jd=T,x.Yc=Q+Y,x.Zc=4<=Y?Q+Y-4+1:Q,he(x)}function G(x,T){for(var Q=0;0<T--;)Q|=me(x,128)<<T;return Q}function ie(x,T){var Q=G(x,T);return ue(x)?-Q:Q}function X(x,T,Q,Y){var ae,Ae=0;for(e(x!=null),e(T!=null),e(4294967288>Y),x.Sb=Y,x.Ra=0,x.u=0,x.h=0,4<Y&&(Y=4),ae=0;ae<Y;++ae)Ae+=T[Q+ae]<<8*ae;x.Ra=Ae,x.bb=Y,x.oa=T,x.pa=Q}function ge(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<eA-8>>>0,++x.bb,x.u-=8;j(x)&&(x.h=1,x.u=0)}function K(x,T){if(e(0<=T),!x.h&&T<=qa){var Q=V(x)&Wa[T];return x.u+=T,ge(x),Q}return x.h=1,x.u=0}function N(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(x){return x.Ra>>>(x.u&eA-1)>>>0}function j(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>eA}function le(x,T){x.u=T,x.h=j(x)}function de(x){x.u>=qc&&(e(x.u>=qc),ge(x))}function he(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ue(x){return G(x,1)}function me(x,T){var Q=x.Ca;0>x.b&&he(x);var Y=x.b,ae=Q*T>>>8,Ae=(x.I>>>Y>ae)+0;for(Ae?(Q-=ae,x.I-=ae+1<<Y>>>0):Q=ae+1,Y=Q,ae=0;256<=Y;)ae+=8,Y>>=8;return Y=7^ae+tA[Y],x.b-=Y,x.Ca=(Q<<Y)-1,Ae}function _e(x,T,Q){x[T+0]=Q>>24&255,x[T+1]=Q>>16&255,x[T+2]=Q>>8&255,x[T+3]=255&Q}function xe(x,T){return x[T+0]|x[T+1]<<8}function Re(x,T){return xe(x,T)|x[T+2]<<16}function D(x,T){return xe(x,T)|xe(x,T+2)<<16}function O(x,T){var Q=1<<T;return e(x!=null),e(0<T),x.X=s(Q),x.X==null?0:(x.Mb=32-T,x.Xa=T,1)}function ne(x,T){e(x!=null),e(T!=null),e(x.Xa==T.Xa),r(T.X,0,x.X,0,1<<T.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function J(x,T,Q,Y){e(Q!=null),e(Y!=null);var ae=Q[0],Ae=Y[0];return ae==0&&(ae=(x*Ae+T/2)/T),Ae==0&&(Ae=(T*ae+x/2)/x),0>=ae||0>=Ae?0:(Q[0]=ae,Y[0]=Ae,1)}function ce(x,T){return x+(1<<T)-1>>>T}function Me(x,T){return((4278255360&x)+(4278255360&T)>>>0&4278255360)+((16711935&x)+(16711935&T)>>>0&16711935)>>>0}function Se(x,T){w[T]=function(Q,Y,ae,Ae,fe,pe,ye){var Be;for(Be=0;Be<fe;++Be){var je=w[x](pe[ye+Be-1],ae,Ae+Be);pe[ye+Be]=Me(Q[Y+Be],je)}}}function Le(){this.ud=this.hd=this.jd=0}function He(x,T){return((4278124286&(x^T))>>>1)+(x&T)>>>0}function be(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Fe(x,T){return be(x+(x-T+.5>>1))}function Qe(x,T,Q){return Math.abs(T-Q)-Math.abs(x-Q)}function Ge(x,T,Q,Y,ae,Ae,fe){for(Y=Ae[fe-1],Q=0;Q<ae;++Q)Ae[fe+Q]=Y=Me(x[T+Q],Y)}function nt(x,T,Q,Y,ae){var Ae;for(Ae=0;Ae<Q;++Ae){var fe=x[T+Ae],pe=fe>>8&255,ye=16711935&(ye=(ye=16711935&fe)+((pe<<16)+pe));Y[ae+Ae]=(4278255360&fe)+ye>>>0}}function ke(x,T){T.jd=255&x,T.hd=x>>8&255,T.ud=x>>16&255}function De(x,T,Q,Y,ae,Ae){var fe;for(fe=0;fe<Y;++fe){var pe=T[Q+fe],ye=pe>>>8,Be=pe,je=255&(je=(je=pe>>>16)+((x.jd<<24>>24)*(ye<<24>>24)>>>5));Be=255&(Be=(Be+=(x.hd<<24>>24)*(ye<<24>>24)>>>5)+((x.ud<<24>>24)*(je<<24>>24)>>>5)),ae[Ae+fe]=(4278255360&pe)+(je<<16)+Be}}function At(x,T,Q,Y,ae){w[T]=function(Ae,fe,pe,ye,Be,je,st,Ee,Ke){for(ye=st;ye<Ee;++ye)for(st=0;st<Ke;++st)Be[je++]=ae(pe[Y(Ae[fe++])])},w[x]=function(Ae,fe,pe,ye,Be,je,st){var Ee=8>>Ae.b,Ke=Ae.Ea,Ze=Ae.K[0],ut=Ae.w;if(8>Ee)for(Ae=(1<<Ae.b)-1,ut=(1<<Ee)-1;fe<pe;++fe){var it,ft=0;for(it=0;it<Ke;++it)it&Ae||(ft=Y(ye[Be++])),je[st++]=ae(Ze[ft&ut]),ft>>=Ee}else w["VP8LMapColor"+Q](ye,Be,Ze,ut,je,st,fe,pe,Ke)}}function kt(x,T,Q,Y,ae){for(Q=T+Q;T<Q;){var Ae=x[T++];Y[ae++]=Ae>>16&255,Y[ae++]=Ae>>8&255,Y[ae++]=255&Ae}}function rt(x,T,Q,Y,ae){for(Q=T+Q;T<Q;){var Ae=x[T++];Y[ae++]=Ae>>16&255,Y[ae++]=Ae>>8&255,Y[ae++]=255&Ae,Y[ae++]=Ae>>24&255}}function Nt(x,T,Q,Y,ae){for(Q=T+Q;T<Q;){var Ae=(fe=x[T++])>>16&240|fe>>12&15,fe=240&fe|fe>>28&15;Y[ae++]=Ae,Y[ae++]=fe}}function ot(x,T,Q,Y,ae){for(Q=T+Q;T<Q;){var Ae=(fe=x[T++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;Y[ae++]=Ae,Y[ae++]=fe}}function Rt(x,T,Q,Y,ae){for(Q=T+Q;T<Q;){var Ae=x[T++];Y[ae++]=255&Ae,Y[ae++]=Ae>>8&255,Y[ae++]=Ae>>16&255}}function Tt(x,T,Q,Y,ae,Ae){if(Ae==0)for(Q=T+Q;T<Q;)_e(Y,((Ae=x[T++])[0]>>24|Ae[1]>>8&65280|Ae[2]<<8&16711680|Ae[3]<<24)>>>0),ae+=32;else r(Y,ae,x,T,Q)}function Jt(x,T){w[T][0]=w[x+"0"],w[T][1]=w[x+"1"],w[T][2]=w[x+"2"],w[T][3]=w[x+"3"],w[T][4]=w[x+"4"],w[T][5]=w[x+"5"],w[T][6]=w[x+"6"],w[T][7]=w[x+"7"],w[T][8]=w[x+"8"],w[T][9]=w[x+"9"],w[T][10]=w[x+"10"],w[T][11]=w[x+"11"],w[T][12]=w[x+"12"],w[T][13]=w[x+"13"],w[T][14]=w[x+"0"],w[T][15]=w[x+"0"]}function wt(x){return x==ab||x==ob||x==r_||x==lb}function It(){this.eb=[],this.size=this.A=this.fb=0}function tn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new It,this.f.kb=new tn,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Wt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Ue(x,T){var Q=x.T,Y=T.ba.f.RGBA,ae=Y.eb,Ae=Y.fb+x.ka*Y.A,fe=Io[T.ba.S],pe=x.y,ye=x.O,Be=x.f,je=x.N,st=x.ea,Ee=x.W,Ke=T.cc,Ze=T.dc,ut=T.Mc,it=T.Nc,ft=x.ka,dt=x.ka+x.T,Ct=x.U,vt=Ct+1>>1;for(ft==0?fe(pe,ye,null,null,Be,je,st,Ee,Be,je,st,Ee,ae,Ae,null,null,Ct):(fe(T.ec,T.fc,pe,ye,Ke,Ze,ut,it,Be,je,st,Ee,ae,Ae-Y.A,ae,Ae,Ct),++Q);ft+2<dt;ft+=2)Ke=Be,Ze=je,ut=st,it=Ee,je+=x.Rc,Ee+=x.Rc,Ae+=2*Y.A,fe(pe,(ye+=2*x.fa)-x.fa,pe,ye,Ke,Ze,ut,it,Be,je,st,Ee,ae,Ae-Y.A,ae,Ae,Ct);return ye+=x.fa,x.j+dt<x.o?(r(T.ec,T.fc,pe,ye,Ct),r(T.cc,T.dc,Be,je,vt),r(T.Mc,T.Nc,st,Ee,vt),Q--):1&dt||fe(pe,ye,null,null,Be,je,st,Ee,Be,je,st,Ee,ae,Ae+Y.A,null,null,Ct),Q}function gt(x,T,Q){var Y=x.F,ae=[x.J];if(Y!=null){var Ae=x.U,fe=T.ba.S,pe=fe==n_||fe==r_;T=T.ba.f.RGBA;var ye=[0],Be=x.ka;ye[0]=x.T,x.Kb&&(Be==0?--ye[0]:(--Be,ae[0]-=x.width),x.j+x.ka+x.T==x.o&&(ye[0]=x.o-x.j-Be));var je=T.eb;Be=T.fb+Be*T.A,x=yE(Y,ae[0],x.width,Ae,ye,je,Be+(pe?0:3),T.A),e(Q==ye),x&&wt(fe)&&p2(je,Be,pe,Ae,ye,T.A)}return 0}function at(x){var T=x.ma,Q=T.ba.S,Y=11>Q,ae=Q==e_||Q==t_||Q==n_||Q==sb||Q==12||wt(Q);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!l2(T.Oa,x,ae?11:12))return 0;if(ae&&wt(Q)&&s2(),x.da)alert("todo:use_scaling");else{if(Y){if(T.Ib=Wt,x.Kb){if(Q=x.U+1>>1,T.memory=s(x.U+2*Q),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+x.U,T.Mc=T.cc,T.Nc=T.dc+Q,T.Ib=Ue,s2()}}else alert("todo:EmitYUV");ae&&(T.Jb=gt,Y&&ul())}if(Y&&!NE){for(x=0;256>x;++x)FK[x]=89858*(x-128)+s_>>i_,kK[x]=-22014*(x-128)+s_,NK[x]=-45773*(x-128),UK[x]=113618*(x-128)+s_>>i_;for(x=m2;x<ub;++x)T=76283*(x-16)+s_>>i_,PK[x-m2]=Jl(T,255),DK[x-m2]=Jl(T+8>>4,15);NE=1}return 1}function lt(x){var T=x.ma,Q=x.U,Y=x.T;return e(!(1&x.ka)),0>=Q||0>=Y?0:(Q=T.Ib(x,T),T.Jb!=null&&T.Jb(x,T,Q),T.Dc+=Q,1)}function Pt(x){x.ma.memory=null}function Ht(x,T,Q,Y){return K(x,8)!=47?0:(T[0]=K(x,14)+1,Q[0]=K(x,14)+1,Y[0]=K(x,1),K(x,3)!=0?0:!x.h)}function gn(x,T){if(4>x)return x+1;var Q=x-2>>1;return(2+(1&x)<<Q)+K(T,Q)+1}function Kt(x,T){return 120<T?T-120:1<=(Q=((Q=yK[T-1])>>4)*x+(8-(15&Q)))?Q:1;var Q}function sn(x,T,Q){var Y=V(Q),ae=x[T+=255&Y].g-8;return 0<ae&&(le(Q,Q.u+8),Y=V(Q),T+=x[T].value,T+=Y&(1<<ae)-1),le(Q,Q.u+x[T].g),x[T].value}function ln(x,T,Q){return Q.g+=x.g,Q.value+=x.value<<T>>>0,e(8>=Q.g),x.g}function yn(x,T,Q){var Y=x.xc;return e((T=Y==0?0:x.vc[x.md*(Q>>Y)+(T>>Y)])<x.Wb),x.Ya[T]}function Xn(x,T,Q,Y){var ae=x.ab,Ae=x.c*T,fe=x.C;T=fe+T;var pe=Q,ye=Y;for(Y=x.Ta,Q=x.Ua;0<ae--;){var Be=x.gc[ae],je=fe,st=T,Ee=pe,Ke=ye,Ze=(ye=Y,pe=Q,Be.Ea);switch(e(je<st),e(st<=Be.nc),Be.hc){case 2:Bi(Ee,Ke,(st-je)*Ze,ye,pe);break;case 0:var ut=je,it=st,ft=ye,dt=pe,Ct=(fn=Be).Ea;ut==0&&(A2(Ee,Ke,null,null,1,ft,dt),Ge(Ee,Ke+1,0,0,Ct-1,ft,dt+1),Ke+=Ct,dt+=Ct,++ut);for(var vt=1<<fn.b,_n=vt-1,an=ce(Ct,fn.b),Nn=fn.K,fn=fn.w+(ut>>fn.b)*an;ut<it;){var Zn=Nn,os=fn,kn=1;for(yf(Ee,Ke,ft,dt-Ct,1,ft,dt);kn<Ct;){var hn=(kn&~_n)+vt;hn>Ct&&(hn=Ct),(0,f2[Zn[os++]>>8&15])(Ee,Ke+ +kn,ft,dt+kn-Ct,hn-kn,ft,dt+kn),kn=hn}Ke+=Ct,dt+=Ct,++ut&_n||(fn+=an)}st!=Be.nc&&r(ye,pe-Ze,ye,pe+(st-je-1)*Ze,Ze);break;case 1:for(Ze=Ee,it=Ke,Ct=(Ee=Be.Ea)-(dt=Ee&~(ft=(Ke=1<<Be.b)-1)),ut=ce(Ee,Be.b),vt=Be.K,Be=Be.w+(je>>Be.b)*ut;je<st;){for(_n=vt,an=Be,Nn=new Le,fn=it+dt,Zn=it+Ee;it<fn;)ke(_n[an++],Nn),h2(Nn,Ze,it,Ke,ye,pe),it+=Ke,pe+=Ke;it<Zn&&(ke(_n[an++],Nn),h2(Nn,Ze,it,Ct,ye,pe),it+=Ct,pe+=Ct),++je&ft||(Be+=ut)}break;case 3:if(Ee==ye&&Ke==pe&&0<Be.b){for(it=ye,Ee=Ze=pe+(st-je)*Ze-(dt=(st-je)*ce(Be.Ea,Be.b)),Ke=ye,ft=pe,ut=[],dt=(Ct=dt)-1;0<=dt;--dt)ut[dt]=Ke[ft+dt];for(dt=Ct-1;0<=dt;--dt)it[Ee+dt]=ut[dt];qp(Be,je,st,ye,Ze,ye,pe)}else qp(Be,je,st,Ee,Ke,ye,pe)}pe=Y,ye=Q}ye!=Q&&r(Y,Q,pe,ye,Ae)}function ur(x,T){var Q=x.V,Y=x.Ba+x.c*x.C,ae=T-x.C;if(e(T<=x.l.o),e(16>=ae),0<ae){var Ae=x.l,fe=x.Ta,pe=x.Ua,ye=Ae.width;if(Xn(x,ae,Q,Y),ae=pe=[pe],e((Q=x.C)<(Y=T)),e(Ae.v<Ae.va),Y>Ae.o&&(Y=Ae.o),Q<Ae.j){var Be=Ae.j-Q;Q=Ae.j,ae[0]+=Be*ye}if(Q>=Y?Q=0:(ae[0]+=4*Ae.v,Ae.ka=Q-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=Y-Q,Q=1),Q){if(pe=pe[0],11>(Q=x.ca).S){var je=Q.f.RGBA,st=(Y=Q.S,ae=Ae.U,Ae=Ae.T,Be=je.eb,je.A),Ee=Ae;for(je=je.fb+x.Ma*je.A;0<Ee--;){var Ke=fe,Ze=pe,ut=ae,it=Be,ft=je;switch(Y){case Zp:d2(Ke,Ze,ut,it,ft);break;case e_:nA(Ke,Ze,ut,it,ft);break;case ab:nA(Ke,Ze,ut,it,ft),p2(it,ft,0,ut,1,0);break;case BE:Uu(Ke,Ze,ut,it,ft);break;case t_:Tt(Ke,Ze,ut,it,ft,1);break;case ob:Tt(Ke,Ze,ut,it,ft,1),p2(it,ft,0,ut,1,0);break;case n_:Tt(Ke,Ze,ut,it,ft,0);break;case r_:Tt(Ke,Ze,ut,it,ft,0),p2(it,ft,1,ut,1,0);break;case sb:rA(Ke,Ze,ut,it,ft);break;case lb:rA(Ke,Ze,ut,it,ft),mE(it,ft,ut,1,0);break;case EE:iA(Ke,Ze,ut,it,ft);break;default:e(0)}pe+=ye,je+=st}x.Ma+=Ae}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=Q.height)}}x.C=T,e(x.C<=x.i)}function Mr(x){var T;if(0<x.ua)return 0;for(T=0;T<x.Wb;++T){var Q=x.Ya[T].G,Y=x.Ya[T].H;if(0<Q[1][Y[1]+0].g||0<Q[2][Y[2]+0].g||0<Q[3][Y[3]+0].g)return 0}return 1}function Jn(x,T,Q,Y,ae,Ae){if(x.Z!=0){var fe=x.qd,pe=x.rd;for(e(oA[x.Z]!=null);T<Q;++T)oA[x.Z](fe,pe,Y,ae,Y,ae,Ae),fe=Y,pe=ae,ae+=Ae;x.qd=fe,x.rd=pe}}function Vr(x,T){var Q=x.l.ma,Y=Q.Z==0||Q.Z==1?x.l.j:x.C;if(Y=x.C<Y?Y:x.C,e(T<=x.l.o),T>Y){var ae=x.l.width,Ae=Q.ca,fe=Q.tb+ae*Y,pe=x.V,ye=x.Ba+x.c*Y,Be=x.gc;e(x.ab==1),e(Be[0].hc==3),nc(Be[0],Y,T,pe,ye,Ae,fe),Jn(Q,Y,T,Ae,fe,ae)}x.C=x.Ma=T}function ct(x,T,Q,Y,ae,Ae,fe){var pe=x.$/Y,ye=x.$%Y,Be=x.m,je=x.s,st=Q+x.$,Ee=st;ae=Q+Y*ae;var Ke=Q+Y*Ae,Ze=280+je.ua,ut=x.Pb?pe:16777216,it=0<je.ua?je.Wa:null,ft=je.wc,dt=st<Ke?yn(je,ye,pe):null;e(x.C<Ae),e(Ke<=ae);var Ct=!1;e:for(;;){for(;Ct||st<Ke;){var vt=0;if(pe>=ut){var _n=st-Q;e((ut=x).Pb),ut.wd=ut.m,ut.xd=_n,0<ut.s.ua&&ne(ut.s.Wa,ut.s.vb),ut=pe+vK}if(ye&ft||(dt=yn(je,ye,pe)),e(dt!=null),dt.Qb&&(T[st]=dt.qb,Ct=!0),!Ct)if(de(Be),dt.jc){vt=Be,_n=T;var an=st,Nn=dt.pd[V(vt)&Fu-1];e(dt.jc),256>Nn.g?(le(vt,vt.u+Nn.g),_n[an]=Nn.value,vt=0):(le(vt,vt.u+Nn.g-256),e(256<=Nn.value),vt=Nn.value),vt==0&&(Ct=!0)}else vt=sn(dt.G[0],dt.H[0],Be);if(Be.h)break;if(Ct||256>vt){if(!Ct)if(dt.nd)T[st]=(dt.qb|vt<<8)>>>0;else{if(de(Be),Ct=sn(dt.G[1],dt.H[1],Be),de(Be),_n=sn(dt.G[2],dt.H[2],Be),an=sn(dt.G[3],dt.H[3],Be),Be.h)break;T[st]=(an<<24|Ct<<16|vt<<8|_n)>>>0}if(Ct=!1,++st,++ye>=Y&&(ye=0,++pe,fe!=null&&pe<=Ae&&!(pe%16)&&fe(x,pe),it!=null))for(;Ee<st;)vt=T[Ee++],it.X[(506832829*vt&4294967295)>>>it.Mb]=vt}else if(280>vt){if(vt=gn(vt-256,Be),_n=sn(dt.G[4],dt.H[4],Be),de(Be),_n=Kt(Y,_n=gn(_n,Be)),Be.h)break;if(st-Q<_n||ae-st<vt)break e;for(an=0;an<vt;++an)T[st+an]=T[st+an-_n];for(st+=vt,ye+=vt;ye>=Y;)ye-=Y,++pe,fe!=null&&pe<=Ae&&!(pe%16)&&fe(x,pe);if(e(st<=ae),ye&ft&&(dt=yn(je,ye,pe)),it!=null)for(;Ee<st;)vt=T[Ee++],it.X[(506832829*vt&4294967295)>>>it.Mb]=vt}else{if(!(vt<Ze))break e;for(Ct=vt-280,e(it!=null);Ee<st;)vt=T[Ee++],it.X[(506832829*vt&4294967295)>>>it.Mb]=vt;vt=st,e(!(Ct>>>(_n=it).Xa)),T[vt]=_n.X[Ct],Ct=!0}Ct||e(Be.h==j(Be))}if(x.Pb&&Be.h&&st<ae)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&ne(x.s.vb,x.s.Wa);else{if(Be.h)break e;fe!=null&&fe(x,pe>Ae?Ae:pe),x.a=0,x.$=st-Q}return 1}return x.a=3,0}function pn(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var T=x.Wa;T!=null&&(T.X=null),x.vb=null,e(x!=null)}function ys(){var x=new Rn;return x==null?null:(x.a=0,x.xb=TE,Jt("Predictor","VP8LPredictors"),Jt("Predictor","VP8LPredictors_C"),Jt("PredictorAdd","VP8LPredictorsAdd"),Jt("PredictorAdd","VP8LPredictorsAdd_C"),Bi=nt,h2=De,d2=kt,nA=rt,rA=Nt,iA=ot,Uu=Rt,w.VP8LMapColor32b=tc,w.VP8LMapColor8b=u2,x)}function Jr(x,T,Q,Y,ae){var Ae=1,fe=[x],pe=[T],ye=Y.m,Be=Y.s,je=null,st=0;e:for(;;){if(Q)for(;Ae&&K(ye,1);){var Ee=fe,Ke=pe,Ze=Y,ut=1,it=Ze.m,ft=Ze.gc[Ze.ab],dt=K(it,2);if(Ze.Oc&1<<dt)Ae=0;else{switch(Ze.Oc|=1<<dt,ft.hc=dt,ft.Ea=Ee[0],ft.nc=Ke[0],ft.K=[null],++Ze.ab,e(4>=Ze.ab),dt){case 0:case 1:ft.b=K(it,3)+2,ut=Jr(ce(ft.Ea,ft.b),ce(ft.nc,ft.b),0,Ze,ft.K),ft.K=ft.K[0];break;case 3:var Ct,vt=K(it,8)+1,_n=16<vt?0:4<vt?1:2<vt?2:3;if(Ee[0]=ce(ft.Ea,_n),ft.b=_n,Ct=ut=Jr(vt,1,0,Ze,ft.K)){var an,Nn=vt,fn=ft,Zn=1<<(8>>fn.b),os=s(Zn);if(os==null)Ct=0;else{var kn=fn.K[0],hn=fn.w;for(os[0]=fn.K[0][0],an=1;an<1*Nn;++an)os[an]=Me(kn[hn+an],os[an-1]);for(;an<4*Zn;++an)os[an]=0;fn.K[0]=null,fn.K[0]=os,Ct=1}}ut=Ct;break;case 2:break;default:e(0)}Ae=ut}}if(fe=fe[0],pe=pe[0],Ae&&K(ye,1)&&!(Ae=1<=(st=K(ye,4))&&11>=st)){Y.a=3;break e}var Qt;if(Qt=Ae)t:{var Ci,In,rr,$r=Y,Ts=fe,la=pe,gi=st,Hs=Q,ca=$r.m,ls=$r.s,sr=[null],vr=1,pi=0,wr=bK[gi];n:for(;;){if(Hs&&K(ca,1)){var Ms=K(ca,3)+2,hl=ce(Ts,Ms),Ii=ce(la,Ms),Ra=hl*Ii;if(!Jr(hl,Ii,0,$r,sr))break n;for(sr=sr[0],ls.xc=Ms,Ci=0;Ci<Ra;++Ci){var Fr=sr[Ci]>>8&65535;sr[Ci]=Fr,Fr>=vr&&(vr=Fr+1)}}if(ca.h)break n;for(In=0;5>In;++In){var cs=CE[In];!In&&0<gi&&(cs+=1<<gi),pi<cs&&(pi=cs)}var Ja=a(vr*wr,P),Aa=vr,Za=a(Aa,W);if(Za==null)var eo=null;else e(65536>=Aa),eo=Za;var Ba=s(pi);if(eo==null||Ba==null||Ja==null){$r.a=1;break n}var to=Ja;for(Ci=rr=0;Ci<vr;++Ci){var Yr=eo[Ci],no=Yr.G,dl=Yr.H,ku=0,Zc=1,Ss=0;for(In=0;5>In;++In){cs=CE[In],no[In]=to,dl[In]=rr,!In&&0<gi&&(cs+=1<<gi);i:{var o_,fb=cs,l_=$r,y2=Ba,HK=to,QK=rr,hb=0,lA=l_.m,jK=K(lA,1);if(i(y2,0,0,fb),jK){var YK=K(lA,1)+1,GK=K(lA,1),DE=K(lA,GK==0?1:8);y2[DE]=1,YK==2&&(y2[DE=K(lA,8)]=1);var c_=1}else{var OE=s(19),zE=K(lA,4)+4;if(19<zE){l_.a=3;var A_=0;break i}for(o_=0;o_<zE;++o_)OE[mK[o_]]=K(lA,3);var db=void 0,b2=void 0,HE=l_,VK=OE,u_=fb,QE=y2,gb=0,cA=HE.m,jE=8,YE=a(128,P);r:for(;F(YE,0,7,VK,19);){if(K(cA,1)){var KK=2+2*K(cA,3);if((db=2+K(cA,KK))>u_)break r}else db=u_;for(b2=0;b2<u_&&db--;){de(cA);var GE=YE[0+(127&V(cA))];le(cA,cA.u+GE.g);var vf=GE.value;if(16>vf)QE[b2++]=vf,vf!=0&&(jE=vf);else{var $K=vf==16,VE=vf-16,WK=pK[VE],KE=K(cA,gK[VE])+WK;if(b2+KE>u_)break r;for(var qK=$K?jE:0;0<KE--;)QE[b2++]=qK}}gb=1;break r}gb||(HE.a=3),c_=gb}(c_=c_&&!lA.h)&&(hb=F(HK,QK,8,y2,fb)),c_&&hb!=0?A_=hb:(l_.a=3,A_=0)}if(A_==0)break n;if(Zc&&_K[In]==1&&(Zc=to[rr].g==0),ku+=to[rr].g,rr+=A_,3>=In){var v2,pb=Ba[0];for(v2=1;v2<cs;++v2)Ba[v2]>pb&&(pb=Ba[v2]);Ss+=pb}}if(Yr.nd=Zc,Yr.Qb=0,Zc&&(Yr.qb=(no[3][dl[3]+0].value<<24|no[1][dl[1]+0].value<<16|no[2][dl[2]+0].value)>>>0,ku==0&&256>no[0][dl[0]+0].value&&(Yr.Qb=1,Yr.qb+=no[0][dl[0]+0].value<<8)),Yr.jc=!Yr.Qb&&6>Ss,Yr.jc){var f_,e0=Yr;for(f_=0;f_<Fu;++f_){var AA=f_,uA=e0.pd[AA],h_=e0.G[0][e0.H[0]+AA];256<=h_.value?(uA.g=h_.g+256,uA.value=h_.value):(uA.g=0,uA.value=0,AA>>=ln(h_,8,uA),AA>>=ln(e0.G[1][e0.H[1]+AA],16,uA),AA>>=ln(e0.G[2][e0.H[2]+AA],0,uA),ln(e0.G[3][e0.H[3]+AA],24,uA))}}}ls.vc=sr,ls.Wb=vr,ls.Ya=eo,ls.yc=Ja,Qt=1;break t}Qt=0}if(!(Ae=Qt)){Y.a=3;break e}if(0<st){if(Be.ua=1<<st,!O(Be.Wa,st)){Y.a=1,Ae=0;break e}}else Be.ua=0;var _b=Y,$E=fe,XK=pe,mb=_b.s,yb=mb.xc;if(_b.c=$E,_b.i=XK,mb.md=ce($E,yb),mb.wc=yb==0?-1:(1<<yb)-1,Q){Y.xb=CK;break e}if((je=s(fe*pe))==null){Y.a=1,Ae=0;break e}Ae=(Ae=ct(Y,je,0,fe,pe,pe,null))&&!ye.h;break e}return Ae?(ae!=null?ae[0]=je:(e(je==null),e(Q)),Y.$=0,Q||pn(Be)):pn(Be),Ae}function An(x,T){var Q=x.c*x.i,Y=Q+T+16*T;return e(x.c<=T),x.V=s(Y),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+Q+T,1)}function ze(x,T){var Q=x.C,Y=T-Q,ae=x.V,Ae=x.Ba+x.c*Q;for(e(T<=x.l.o);0<Y;){var fe=16<Y?16:Y,pe=x.l.ma,ye=x.l.width,Be=ye*fe,je=pe.ca,st=pe.tb+ye*Q,Ee=x.Ta,Ke=x.Ua;Xn(x,fe,ae,Ae),bE(Ee,Ke,je,st,Be),Jn(pe,Q,Q+fe,je,st,ye),Y-=fe,ae+=fe*x.c,Q+=fe}e(Q==T),x.C=x.Ma=T}function Et(){this.ub=this.yd=this.td=this.Rb=0}function en(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Br(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function hi(){this.Yb=function(){var x=[];return function T(Q,Y,ae){for(var Ae=ae[Y],fe=0;fe<Ae&&(Q.push(ae.length>Y+1?[]:0),!(ae.length<Y+1));fe++)T(Q[fe],Y+1,ae)}(x,0,[3,11]),x}()}function Kr(){this.jb=s(3),this.Wc=o([4,8],hi),this.Xc=o([4,17],hi)}function rs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function di(){this.ld=this.La=this.dd=this.tc=0}function xo(){this.Na=this.la=0}function q0(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ai(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vu(){this.uc=this.M=this.Nb=0,this.wa=Array(new di),this.Y=0,this.ya=Array(new ai),this.aa=0,this.l=new ff}function wu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Pp(){this.cb=this.a=0,this.sc="",this.m=new N,this.Od=new Et,this.Kc=new en,this.ed=new rs,this.Qa=new Br,this.Ic=this.$c=this.Aa=0,this.D=new vu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,N),this.ia=0,this.pb=a(4,q0),this.Pa=new Kr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wu),this.Hd=0,this.rb=Array(new xo),this.sb=0,this.wa=Array(new di),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ai),this.L=this.aa=0,this.gd=o([4,2],di),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Jl(x,T){return 0>x?0:x>T?T:x}function ff(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function j6(){var x=new Pp;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,_2||(_2=hf)),x}function Oi(x,T,Q){return x.a==0&&(x.a=T,x.sc=Q,x.cb=0),0}function Dp(x,T,Q){return 3<=Q&&x[T+0]==157&&x[T+1]==1&&x[T+2]==42}function Zl(x,T){if(x==null)return 0;if(x.a=0,x.sc="OK",T==null)return Oi(x,2,"null VP8Io passed to VP8GetHeaders()");var Q=T.data,Y=T.w,ae=T.ha;if(4>ae)return Oi(x,7,"Truncated header.");var Ae=Q[Y+0]|Q[Y+1]<<8|Q[Y+2]<<16,fe=x.Od;if(fe.Rb=!(1&Ae),fe.td=Ae>>1&7,fe.yd=Ae>>4&1,fe.ub=Ae>>5,3<fe.td)return Oi(x,3,"Incorrect keyframe parameters.");if(!fe.yd)return Oi(x,4,"Frame not displayable.");Y+=3,ae-=3;var pe=x.Kc;if(fe.Rb){if(7>ae)return Oi(x,7,"cannot parse picture header");if(!Dp(Q,Y,ae))return Oi(x,3,"Bad code word");pe.c=16383&(Q[Y+4]<<8|Q[Y+3]),pe.Td=Q[Y+4]>>6,pe.i=16383&(Q[Y+6]<<8|Q[Y+5]),pe.Ud=Q[Y+6]>>6,Y+=7,ae-=7,x.za=pe.c+15>>4,x.Ub=pe.i+15>>4,T.width=pe.c,T.height=pe.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((Ae=x.Pa).jb,0,255,Ae.jb.length),e((Ae=x.Qa)!=null),Ae.Cb=0,Ae.Bb=0,Ae.Fb=1,i(Ae.Zb,0,0,Ae.Zb.length),i(Ae.Lb,0,0,Ae.Lb)}if(fe.ub>ae)return Oi(x,7,"bad partition length");re(Ae=x.m,Q,Y,fe.ub),Y+=fe.ub,ae-=fe.ub,fe.Rb&&(pe.Ld=ue(Ae),pe.Kd=ue(Ae)),pe=x.Qa;var ye,Be=x.Pa;if(e(Ae!=null),e(pe!=null),pe.Cb=ue(Ae),pe.Cb){if(pe.Bb=ue(Ae),ue(Ae)){for(pe.Fb=ue(Ae),ye=0;4>ye;++ye)pe.Zb[ye]=ue(Ae)?ie(Ae,7):0;for(ye=0;4>ye;++ye)pe.Lb[ye]=ue(Ae)?ie(Ae,6):0}if(pe.Bb)for(ye=0;3>ye;++ye)Be.jb[ye]=ue(Ae)?G(Ae,8):255}else pe.Bb=0;if(Ae.Ka)return Oi(x,3,"cannot parse segment header");if((pe=x.ed).zd=ue(Ae),pe.Tb=G(Ae,6),pe.wb=G(Ae,3),pe.Pc=ue(Ae),pe.Pc&&ue(Ae)){for(Be=0;4>Be;++Be)ue(Ae)&&(pe.vd[Be]=ie(Ae,6));for(Be=0;4>Be;++Be)ue(Ae)&&(pe.od[Be]=ie(Ae,6))}if(x.L=pe.Tb==0?0:pe.zd?1:2,Ae.Ka)return Oi(x,3,"cannot parse filter header");var je=ae;if(ae=ye=Y,Y=ye+je,pe=je,x.Xb=(1<<G(x.m,2))-1,je<3*(Be=x.Xb))Q=7;else{for(ye+=3*Be,pe-=3*Be,je=0;je<Be;++je){var st=Q[ae+0]|Q[ae+1]<<8|Q[ae+2]<<16;st>pe&&(st=pe),re(x.Jc[+je],Q,ye,st),ye+=st,pe-=st,ae+=3}re(x.Jc[+Be],Q,ye,pe),Q=ye<Y?0:5}if(Q!=0)return Oi(x,Q,"cannot parse partitions");for(Q=G(ye=x.m,7),ae=ue(ye)?ie(ye,4):0,Y=ue(ye)?ie(ye,4):0,pe=ue(ye)?ie(ye,4):0,Be=ue(ye)?ie(ye,4):0,ye=ue(ye)?ie(ye,4):0,je=x.Qa,st=0;4>st;++st){if(je.Cb){var Ee=je.Zb[st];je.Fb||(Ee+=Q)}else{if(0<st){x.pb[st]=x.pb[0];continue}Ee=Q}var Ke=x.pb[st];Ke.Sc[0]=cb[Jl(Ee+ae,127)],Ke.Sc[1]=Ab[Jl(Ee+0,127)],Ke.Eb[0]=2*cb[Jl(Ee+Y,127)],Ke.Eb[1]=101581*Ab[Jl(Ee+pe,127)]>>16,8>Ke.Eb[1]&&(Ke.Eb[1]=8),Ke.Qc[0]=cb[Jl(Ee+Be,117)],Ke.Qc[1]=Ab[Jl(Ee+ye,127)],Ke.lc=Ee+ye}if(!fe.Rb)return Oi(x,4,"Not a key frame.");for(ue(Ae),fe=x.Pa,Q=0;4>Q;++Q){for(ae=0;8>ae;++ae)for(Y=0;3>Y;++Y)for(pe=0;11>pe;++pe)Be=me(Ae,BK[Q][ae][Y][pe])?G(Ae,8):xK[Q][ae][Y][pe],fe.Wc[Q][ae].Yb[Y][pe]=Be;for(ae=0;17>ae;++ae)fe.Xc[Q][ae]=fe.Wc[Q][EK[ae]]}return x.kc=ue(Ae),x.kc&&(x.Bd=G(Ae,8)),x.cb=1}function hf(x,T,Q,Y,ae,Ae,fe){var pe=T[ae].Yb[Q];for(Q=0;16>ae;++ae){if(!me(x,pe[Q+0]))return ae;for(;!me(x,pe[Q+1]);)if(pe=T[++ae].Yb[0],Q=0,ae==16)return 16;var ye=T[ae+1].Yb;if(me(x,pe[Q+2])){var Be=x,je=0;if(me(Be,(Ee=pe)[(st=Q)+3]))if(me(Be,Ee[st+6])){for(pe=0,st=2*(je=me(Be,Ee[st+8]))+(Ee=me(Be,Ee[st+9+je])),je=0,Ee=wK[st];Ee[pe];++pe)je+=je+me(Be,Ee[pe]);je+=3+(8<<st)}else me(Be,Ee[st+7])?(je=7+2*me(Be,165),je+=me(Be,145)):je=5+me(Be,159);else je=me(Be,Ee[st+4])?3+me(Be,Ee[st+5]):2;pe=ye[2]}else je=1,pe=ye[1];ye=fe+LK[ae],0>(Be=x).b&&he(Be);var st,Ee=Be.b,Ke=(st=Be.Ca>>1)-(Be.I>>Ee)>>31;--Be.b,Be.Ca+=Ke,Be.Ca|=1,Be.I-=(st+1&Ke)<<Ee,Ae[ye]=((je^Ke)-Ke)*Y[(0<ae)+0]}return 16}function Op(x){var T=x.rb[x.sb-1];T.la=0,T.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function Ro(x,T,Q,Y,ae){ae=x[T+Q+32*Y]+(ae>>3),x[T+Q+32*Y]=-256&ae?0>ae?0:255:ae}function is(x,T,Q,Y,ae,Ae){Ro(x,T,0,Q,Y+ae),Ro(x,T,1,Q,Y+Ae),Ro(x,T,2,Q,Y-Ae),Ro(x,T,3,Q,Y-ae)}function zc(x){return(20091*x>>16)+x}function zp(x,T,Q,Y){var ae,Ae=0,fe=s(16);for(ae=0;4>ae;++ae){var pe=x[T+0]+x[T+8],ye=x[T+0]-x[T+8],Be=(35468*x[T+4]>>16)-zc(x[T+12]),je=zc(x[T+4])+(35468*x[T+12]>>16);fe[Ae+0]=pe+je,fe[Ae+1]=ye+Be,fe[Ae+2]=ye-Be,fe[Ae+3]=pe-je,Ae+=4,T++}for(ae=Ae=0;4>ae;++ae)pe=(x=fe[Ae+0]+4)+fe[Ae+8],ye=x-fe[Ae+8],Be=(35468*fe[Ae+4]>>16)-zc(fe[Ae+12]),Ro(Q,Y,0,0,pe+(je=zc(fe[Ae+4])+(35468*fe[Ae+12]>>16))),Ro(Q,Y,1,0,ye+Be),Ro(Q,Y,2,0,ye-Be),Ro(Q,Y,3,0,pe-je),Ae++,Y+=32}function Y6(x,T,Q,Y){var ae=x[T+0]+4,Ae=35468*x[T+4]>>16,fe=zc(x[T+4]),pe=35468*x[T+1]>>16;is(Q,Y,0,ae+fe,x=zc(x[T+1]),pe),is(Q,Y,1,ae+Ae,x,pe),is(Q,Y,2,ae-Ae,x,pe),is(Q,Y,3,ae-fe,x,pe)}function G6(x,T,Q,Y,ae){zp(x,T,Q,Y),ae&&zp(x,T+16,Q,Y+4)}function ec(x,T,Q,Y){Nu(x,T+0,Q,Y,1),Nu(x,T+32,Q,Y+128,1)}function Hp(x,T,Q,Y){var ae;for(x=x[T+0]+4,ae=0;4>ae;++ae)for(T=0;4>T;++T)Ro(Q,Y,T,ae,x)}function Qp(x,T,Q,Y){x[T+0]&&gr(x,T+0,Q,Y),x[T+16]&&gr(x,T+16,Q,Y+4),x[T+32]&&gr(x,T+32,Q,Y+128),x[T+48]&&gr(x,T+48,Q,Y+128+4)}function df(x,T,Q,Y){var ae,Ae=s(16);for(ae=0;4>ae;++ae){var fe=x[T+0+ae]+x[T+12+ae],pe=x[T+4+ae]+x[T+8+ae],ye=x[T+4+ae]-x[T+8+ae],Be=x[T+0+ae]-x[T+12+ae];Ae[0+ae]=fe+pe,Ae[8+ae]=fe-pe,Ae[4+ae]=Be+ye,Ae[12+ae]=Be-ye}for(ae=0;4>ae;++ae)fe=(x=Ae[0+4*ae]+3)+Ae[3+4*ae],pe=Ae[1+4*ae]+Ae[2+4*ae],ye=Ae[1+4*ae]-Ae[2+4*ae],Be=x-Ae[3+4*ae],Q[Y+0]=fe+pe>>3,Q[Y+16]=Be+ye>>3,Q[Y+32]=fe-pe>>3,Q[Y+48]=Be-ye>>3,Y+=64}function Lu(x,T,Q){var Y,ae=T-32,Ae=Xa,fe=255-x[ae-1];for(Y=0;Y<Q;++Y){var pe,ye=Ae,Be=fe+x[T-1];for(pe=0;pe<Q;++pe)x[T+pe]=ye[Be+x[ae+pe]];T+=32}}function V6(x,T){Lu(x,T,4)}function K6(x,T){Lu(x,T,8)}function $6(x,T){Lu(x,T,16)}function Xd(x,T){var Q;for(Q=0;16>Q;++Q)r(x,T+32*Q,x,T-32,16)}function jp(x,T){var Q;for(Q=16;0<Q;--Q)i(x,T,x[T-1],16),T+=32}function Al(x,T,Q){var Y;for(Y=0;16>Y;++Y)i(T,Q+32*Y,x,16)}function W6(x,T){var Q,Y=16;for(Q=0;16>Q;++Q)Y+=x[T-1+32*Q]+x[T+Q-32];Al(Y>>5,x,T)}function xu(x,T){var Q,Y=8;for(Q=0;16>Q;++Q)Y+=x[T-1+32*Q];Al(Y>>4,x,T)}function Jd(x,T){var Q,Y=8;for(Q=0;16>Q;++Q)Y+=x[T+Q-32];Al(Y>>4,x,T)}function q6(x,T){Al(128,x,T)}function En(x,T,Q){return x+2*T+Q+2>>2}function X6(x,T){var Q,Y=T-32;for(Y=new Uint8Array([En(x[Y-1],x[Y+0],x[Y+1]),En(x[Y+0],x[Y+1],x[Y+2]),En(x[Y+1],x[Y+2],x[Y+3]),En(x[Y+2],x[Y+3],x[Y+4])]),Q=0;4>Q;++Q)r(x,T+32*Q,Y,0,Y.length)}function J6(x,T){var Q=x[T-1],Y=x[T-1+32],ae=x[T-1+64],Ae=x[T-1+96];_e(x,T+0,16843009*En(x[T-1-32],Q,Y)),_e(x,T+32,16843009*En(Q,Y,ae)),_e(x,T+64,16843009*En(Y,ae,Ae)),_e(x,T+96,16843009*En(ae,Ae,Ae))}function Z6(x,T){var Q,Y=4;for(Q=0;4>Q;++Q)Y+=x[T+Q-32]+x[T-1+32*Q];for(Y>>=3,Q=0;4>Q;++Q)i(x,T+32*Q,Y,4)}function Hc(x,T){var Q=x[T-1+0],Y=x[T-1+32],ae=x[T-1+64],Ae=x[T-1-32],fe=x[T+0-32],pe=x[T+1-32],ye=x[T+2-32],Be=x[T+3-32];x[T+0+96]=En(Y,ae,x[T-1+96]),x[T+1+96]=x[T+0+64]=En(Q,Y,ae),x[T+2+96]=x[T+1+64]=x[T+0+32]=En(Ae,Q,Y),x[T+3+96]=x[T+2+64]=x[T+1+32]=x[T+0+0]=En(fe,Ae,Q),x[T+3+64]=x[T+2+32]=x[T+1+0]=En(pe,fe,Ae),x[T+3+32]=x[T+2+0]=En(ye,pe,fe),x[T+3+0]=En(Be,ye,pe)}function Qc(x,T){var Q=x[T+1-32],Y=x[T+2-32],ae=x[T+3-32],Ae=x[T+4-32],fe=x[T+5-32],pe=x[T+6-32],ye=x[T+7-32];x[T+0+0]=En(x[T+0-32],Q,Y),x[T+1+0]=x[T+0+32]=En(Q,Y,ae),x[T+2+0]=x[T+1+32]=x[T+0+64]=En(Y,ae,Ae),x[T+3+0]=x[T+2+32]=x[T+1+64]=x[T+0+96]=En(ae,Ae,fe),x[T+3+32]=x[T+2+64]=x[T+1+96]=En(Ae,fe,pe),x[T+3+64]=x[T+2+96]=En(fe,pe,ye),x[T+3+96]=En(pe,ye,ye)}function eb(x,T){var Q=x[T-1+0],Y=x[T-1+32],ae=x[T-1+64],Ae=x[T-1-32],fe=x[T+0-32],pe=x[T+1-32],ye=x[T+2-32],Be=x[T+3-32];x[T+0+0]=x[T+1+64]=Ae+fe+1>>1,x[T+1+0]=x[T+2+64]=fe+pe+1>>1,x[T+2+0]=x[T+3+64]=pe+ye+1>>1,x[T+3+0]=ye+Be+1>>1,x[T+0+96]=En(ae,Y,Q),x[T+0+64]=En(Y,Q,Ae),x[T+0+32]=x[T+1+96]=En(Q,Ae,fe),x[T+1+32]=x[T+2+96]=En(Ae,fe,pe),x[T+2+32]=x[T+3+96]=En(fe,pe,ye),x[T+3+32]=En(pe,ye,Be)}function tb(x,T){var Q=x[T+0-32],Y=x[T+1-32],ae=x[T+2-32],Ae=x[T+3-32],fe=x[T+4-32],pe=x[T+5-32],ye=x[T+6-32],Be=x[T+7-32];x[T+0+0]=Q+Y+1>>1,x[T+1+0]=x[T+0+64]=Y+ae+1>>1,x[T+2+0]=x[T+1+64]=ae+Ae+1>>1,x[T+3+0]=x[T+2+64]=Ae+fe+1>>1,x[T+0+32]=En(Q,Y,ae),x[T+1+32]=x[T+0+96]=En(Y,ae,Ae),x[T+2+32]=x[T+1+96]=En(ae,Ae,fe),x[T+3+32]=x[T+2+96]=En(Ae,fe,pe),x[T+3+64]=En(fe,pe,ye),x[T+3+96]=En(pe,ye,Be)}function gf(x,T){var Q=x[T-1+0],Y=x[T-1+32],ae=x[T-1+64],Ae=x[T-1+96];x[T+0+0]=Q+Y+1>>1,x[T+2+0]=x[T+0+32]=Y+ae+1>>1,x[T+2+32]=x[T+0+64]=ae+Ae+1>>1,x[T+1+0]=En(Q,Y,ae),x[T+3+0]=x[T+1+32]=En(Y,ae,Ae),x[T+3+32]=x[T+1+64]=En(ae,Ae,Ae),x[T+3+64]=x[T+2+64]=x[T+0+96]=x[T+1+96]=x[T+2+96]=x[T+3+96]=Ae}function Zd(x,T){var Q=x[T-1+0],Y=x[T-1+32],ae=x[T-1+64],Ae=x[T-1+96],fe=x[T-1-32],pe=x[T+0-32],ye=x[T+1-32],Be=x[T+2-32];x[T+0+0]=x[T+2+32]=Q+fe+1>>1,x[T+0+32]=x[T+2+64]=Y+Q+1>>1,x[T+0+64]=x[T+2+96]=ae+Y+1>>1,x[T+0+96]=Ae+ae+1>>1,x[T+3+0]=En(pe,ye,Be),x[T+2+0]=En(fe,pe,ye),x[T+1+0]=x[T+3+32]=En(Q,fe,pe),x[T+1+32]=x[T+3+64]=En(Y,Q,fe),x[T+1+64]=x[T+3+96]=En(ae,Y,Q),x[T+1+96]=En(Ae,ae,Y)}function Ru(x,T){var Q;for(Q=0;8>Q;++Q)r(x,T+32*Q,x,T-32,8)}function nb(x,T){var Q;for(Q=0;8>Q;++Q)i(x,T,x[T-1],8),T+=32}function jc(x,T,Q){var Y;for(Y=0;8>Y;++Y)i(T,Q+32*Y,x,8)}function rb(x,T){var Q,Y=8;for(Q=0;8>Q;++Q)Y+=x[T+Q-32]+x[T-1+32*Q];jc(Y>>4,x,T)}function e2(x,T){var Q,Y=4;for(Q=0;8>Q;++Q)Y+=x[T+Q-32];jc(Y>>3,x,T)}function t2(x,T){var Q,Y=4;for(Q=0;8>Q;++Q)Y+=x[T-1+32*Q];jc(Y>>3,x,T)}function Yp(x,T){jc(128,x,T)}function Yc(x,T,Q){var Y=x[T-Q],ae=x[T+0],Ae=3*(ae-Y)+ib[1020+x[T-2*Q]-x[T+Q]],fe=Jp[112+(Ae+4>>3)];x[T-Q]=Xa[255+Y+Jp[112+(Ae+3>>3)]],x[T+0]=Xa[255+ae-fe]}function n2(x,T,Q,Y){var ae=x[T+0],Ae=x[T+Q];return Co[255+x[T-2*Q]-x[T-Q]]>Y||Co[255+Ae-ae]>Y}function pf(x,T,Q,Y){return 4*Co[255+x[T-Q]-x[T+0]]+Co[255+x[T-2*Q]-x[T+Q]]<=Y}function r2(x,T,Q,Y,ae){var Ae=x[T-3*Q],fe=x[T-2*Q],pe=x[T-Q],ye=x[T+0],Be=x[T+Q],je=x[T+2*Q],st=x[T+3*Q];return 4*Co[255+pe-ye]+Co[255+fe-Be]>Y?0:Co[255+x[T-4*Q]-Ae]<=ae&&Co[255+Ae-fe]<=ae&&Co[255+fe-pe]<=ae&&Co[255+st-je]<=ae&&Co[255+je-Be]<=ae&&Co[255+Be-ye]<=ae}function Bu(x,T,Q,Y){var ae=2*Y+1;for(Y=0;16>Y;++Y)pf(x,T+Y,Q,ae)&&Yc(x,T+Y,Q)}function i2(x,T,Q,Y){var ae=2*Y+1;for(Y=0;16>Y;++Y)pf(x,T+Y*Q,1,ae)&&Yc(x,T+Y*Q,1)}function Gp(x,T,Q,Y){var ae;for(ae=3;0<ae;--ae)Bu(x,T+=4*Q,Q,Y)}function Vp(x,T,Q,Y){var ae;for(ae=3;0<ae;--ae)i2(x,T+=4,Q,Y)}function Gc(x,T,Q,Y,ae,Ae,fe,pe){for(Ae=2*Ae+1;0<ae--;){if(r2(x,T,Q,Ae,fe))if(n2(x,T,Q,pe))Yc(x,T,Q);else{var ye=x,Be=T,je=Q,st=ye[Be-2*je],Ee=ye[Be-je],Ke=ye[Be+0],Ze=ye[Be+je],ut=ye[Be+2*je],it=27*(dt=ib[1020+3*(Ke-Ee)+ib[1020+st-Ze]])+63>>7,ft=18*dt+63>>7,dt=9*dt+63>>7;ye[Be-3*je]=Xa[255+ye[Be-3*je]+dt],ye[Be-2*je]=Xa[255+st+ft],ye[Be-je]=Xa[255+Ee+it],ye[Be+0]=Xa[255+Ke-it],ye[Be+je]=Xa[255+Ze-ft],ye[Be+2*je]=Xa[255+ut-dt]}T+=Y}}function Vc(x,T,Q,Y,ae,Ae,fe,pe){for(Ae=2*Ae+1;0<ae--;){if(r2(x,T,Q,Ae,fe))if(n2(x,T,Q,pe))Yc(x,T,Q);else{var ye=x,Be=T,je=Q,st=ye[Be-je],Ee=ye[Be+0],Ke=ye[Be+je],Ze=Jp[112+(4+(ut=3*(Ee-st))>>3)],ut=Jp[112+(ut+3>>3)],it=Ze+1>>1;ye[Be-2*je]=Xa[255+ye[Be-2*je]+it],ye[Be-je]=Xa[255+st+ut],ye[Be+0]=Xa[255+Ee-Ze],ye[Be+je]=Xa[255+Ke-it]}T+=Y}}function Kp(x,T,Q,Y,ae,Ae){Gc(x,T,Q,1,16,Y,ae,Ae)}function Eu(x,T,Q,Y,ae,Ae){Gc(x,T,1,Q,16,Y,ae,Ae)}function $p(x,T,Q,Y,ae,Ae){var fe;for(fe=3;0<fe;--fe)Vc(x,T+=4*Q,Q,1,16,Y,ae,Ae)}function k(x,T,Q,Y,ae,Ae){var fe;for(fe=3;0<fe;--fe)Vc(x,T+=4,1,Q,16,Y,ae,Ae)}function se(x,T,Q,Y,ae,Ae,fe,pe){Gc(x,T,ae,1,8,Ae,fe,pe),Gc(Q,Y,ae,1,8,Ae,fe,pe)}function Ce(x,T,Q,Y,ae,Ae,fe,pe){Gc(x,T,1,ae,8,Ae,fe,pe),Gc(Q,Y,1,ae,8,Ae,fe,pe)}function Pe(x,T,Q,Y,ae,Ae,fe,pe){Vc(x,T+4*ae,ae,1,8,Ae,fe,pe),Vc(Q,Y+4*ae,ae,1,8,Ae,fe,pe)}function Xe(x,T,Q,Y,ae,Ae,fe,pe){Vc(x,T+4,1,ae,8,Ae,fe,pe),Vc(Q,Y+4,1,ae,8,Ae,fe,pe)}function ht(){this.ba=new rn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function un(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dn(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new P}function Rn(){this.xb=this.a=0,this.l=new ff,this.ca=new rn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dn,this.ab=0,this.gc=a(4,un),this.Oc=0}function Sn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ff,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ir(x,T,Q,Y,ae,Ae,fe){for(x=x==null?0:x[T+0],T=0;T<fe;++T)ae[Ae+T]=x+Q[Y+T]&255,x=ae[Ae+T]}function oi(x,T,Q,Y,ae,Ae,fe){var pe;if(x==null)ir(null,null,Q,Y,ae,Ae,fe);else for(pe=0;pe<fe;++pe)ae[Ae+pe]=x[T+pe]+Q[Y+pe]&255}function zi(x,T,Q,Y,ae,Ae,fe){if(x==null)ir(null,null,Q,Y,ae,Ae,fe);else{var pe,ye=x[T+0],Be=ye,je=ye;for(pe=0;pe<fe;++pe)Be=je+(ye=x[T+pe])-Be,je=Q[Y+pe]+(-256&Be?0>Be?0:255:Be)&255,Be=ye,ae[Ae+pe]=je}}function jr(x,T,Q,Y){var ae=T.width,Ae=T.o;if(e(x!=null&&T!=null),0>Q||0>=Y||Q+Y>Ae)return null;if(!x.Cc){if(x.ga==null){var fe;if(x.ga=new Sn,(fe=x.ga==null)||(fe=T.width*T.o,e(x.Gb.length==0),x.Gb=s(fe),x.Uc=0,x.Gb==null?fe=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,fe=1),fe=!fe),!fe){fe=x.ga;var pe=x.Fa,ye=x.P,Be=x.qc,je=x.mb,st=x.nb,Ee=ye+1,Ke=Be-1,Ze=fe.l;if(e(pe!=null&&je!=null&&T!=null),oA[0]=null,oA[1]=ir,oA[2]=oi,oA[3]=zi,fe.ca=je,fe.tb=st,fe.c=T.width,fe.i=T.height,e(0<fe.c&&0<fe.i),1>=Be)T=0;else if(fe.$a=3&pe[ye+0],fe.Z=pe[ye+0]>>2&3,fe.Lc=pe[ye+0]>>4&3,ye=pe[ye+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||ye)T=0;else if(Ze.put=lt,Ze.ac=at,Ze.bc=Pt,Ze.ma=fe,Ze.width=T.width,Ze.height=T.height,Ze.Da=T.Da,Ze.v=T.v,Ze.va=T.va,Ze.j=T.j,Ze.o=T.o,fe.$a)e:{e(fe.$a==1),T=ys();t:for(;;){if(T==null){T=0;break e}if(e(fe!=null),fe.mc=T,T.c=fe.c,T.i=fe.i,T.l=fe.l,T.l.ma=fe,T.l.width=fe.c,T.l.height=fe.i,T.a=0,X(T.m,pe,Ee,Ke),!Jr(fe.c,fe.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&Mr(T.s)?(fe.ic=1,pe=T.c*T.i,T.Ta=null,T.Ua=0,T.V=s(pe),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(fe.ic=0,T=An(T,fe.c)),!T))break t;T=1;break e}fe.mc=null,T=0}else T=Ke>=fe.c*fe.i;fe=!T}if(fe)return null;x.ga.Lc!=1?x.Ga=0:Y=Ae-Q}e(x.ga!=null),e(Q+Y<=Ae);e:{if(T=(pe=x.ga).c,Ae=pe.l.o,pe.$a==0){if(Ee=x.rc,Ke=x.Vc,Ze=x.Fa,ye=x.P+1+Q*T,Be=x.mb,je=x.nb+Q*T,e(ye<=x.P+x.qc),pe.Z!=0)for(e(oA[pe.Z]!=null),fe=0;fe<Y;++fe)oA[pe.Z](Ee,Ke,Ze,ye,Be,je,T),Ee=Be,Ke=je,je+=T,ye+=T;else for(fe=0;fe<Y;++fe)r(Be,je,Ze,ye,T),Ee=Be,Ke=je,je+=T,ye+=T;x.rc=Ee,x.Vc=Ke}else{if(e(pe.mc!=null),T=Q+Y,e((fe=pe.mc)!=null),e(T<=fe.i),fe.C>=T)T=1;else if(pe.ic||ul(),pe.ic){pe=fe.V,Ee=fe.Ba,Ke=fe.c;var ut=fe.i,it=(Ze=1,ye=fe.$/Ke,Be=fe.$%Ke,je=fe.m,st=fe.s,fe.$),ft=Ke*ut,dt=Ke*T,Ct=st.wc,vt=it<dt?yn(st,Be,ye):null;e(it<=ft),e(T<=ut),e(Mr(st));t:for(;;){for(;!je.h&&it<dt;){if(Be&Ct||(vt=yn(st,Be,ye)),e(vt!=null),de(je),256>(ut=sn(vt.G[0],vt.H[0],je)))pe[Ee+it]=ut,++it,++Be>=Ke&&(Be=0,++ye<=T&&!(ye%16)&&Vr(fe,ye));else{if(!(280>ut)){Ze=0;break t}ut=gn(ut-256,je);var _n,an=sn(vt.G[4],vt.H[4],je);if(de(je),!(it>=(an=Kt(Ke,an=gn(an,je)))&&ft-it>=ut)){Ze=0;break t}for(_n=0;_n<ut;++_n)pe[Ee+it+_n]=pe[Ee+it+_n-an];for(it+=ut,Be+=ut;Be>=Ke;)Be-=Ke,++ye<=T&&!(ye%16)&&Vr(fe,ye);it<dt&&Be&Ct&&(vt=yn(st,Be,ye))}e(je.h==j(je))}Vr(fe,ye>T?T:ye);break t}!Ze||je.h&&it<ft?(Ze=0,fe.a=je.h?5:3):fe.$=it,T=Ze}else T=ct(fe,fe.V,fe.Ba,fe.c,fe.i,T,ze);if(!T){Y=0;break e}}Q+Y>=Ae&&(x.Cc=1),Y=1}if(!Y)return null;if(x.Cc&&((Y=x.ga)!=null&&(Y.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+Q*ae}function ss(x,T,Q,Y,ae,Ae){for(;0<ae--;){var fe,pe=x,ye=T+(Q?1:0),Be=x,je=T+(Q?0:3);for(fe=0;fe<Y;++fe){var st=Be[je+4*fe];st!=255&&(st*=32897,pe[ye+4*fe+0]=pe[ye+4*fe+0]*st>>23,pe[ye+4*fe+1]=pe[ye+4*fe+1]*st>>23,pe[ye+4*fe+2]=pe[ye+4*fe+2]*st>>23)}T+=Ae}}function Hi(x,T,Q,Y,ae){for(;0<Y--;){var Ae;for(Ae=0;Ae<Q;++Ae){var fe=x[T+2*Ae+0],pe=15&(Be=x[T+2*Ae+1]),ye=4369*pe,Be=(240&Be|Be>>4)*ye>>16;x[T+2*Ae+0]=(240&fe|fe>>4)*ye>>16&240|(15&fe|fe<<4)*ye>>16>>4&15,x[T+2*Ae+1]=240&Be|pe}T+=ae}}function Cs(x,T,Q,Y,ae,Ae,fe,pe){var ye,Be,je=255;for(Be=0;Be<ae;++Be){for(ye=0;ye<Y;++ye){var st=x[T+ye];Ae[fe+4*ye]=st,je&=st}T+=Q,fe+=pe}return je!=255}function Kc(x,T,Q,Y,ae){var Ae;for(Ae=0;Ae<ae;++Ae)Q[Y+Ae]=x[T+Ae]>>8}function ul(){p2=ss,mE=Hi,yE=Cs,bE=Kc}function $c(x,T,Q){w[x]=function(Y,ae,Ae,fe,pe,ye,Be,je,st,Ee,Ke,Ze,ut,it,ft,dt,Ct){var vt,_n=Ct-1>>1,an=pe[ye+0]|Be[je+0]<<16,Nn=st[Ee+0]|Ke[Ze+0]<<16;e(Y!=null);var fn=3*an+Nn+131074>>2;for(T(Y[ae+0],255&fn,fn>>16,ut,it),Ae!=null&&(fn=3*Nn+an+131074>>2,T(Ae[fe+0],255&fn,fn>>16,ft,dt)),vt=1;vt<=_n;++vt){var Zn=pe[ye+vt]|Be[je+vt]<<16,os=st[Ee+vt]|Ke[Ze+vt]<<16,kn=an+Zn+Nn+os+524296,hn=kn+2*(Zn+Nn)>>3;fn=hn+an>>1,an=(kn=kn+2*(an+os)>>3)+Zn>>1,T(Y[ae+2*vt-1],255&fn,fn>>16,ut,it+(2*vt-1)*Q),T(Y[ae+2*vt-0],255&an,an>>16,ut,it+(2*vt-0)*Q),Ae!=null&&(fn=kn+Nn>>1,an=hn+os>>1,T(Ae[fe+2*vt-1],255&fn,fn>>16,ft,dt+(2*vt-1)*Q),T(Ae[fe+2*vt+0],255&an,an>>16,ft,dt+(2*vt+0)*Q)),an=Zn,Nn=os}1&Ct||(fn=3*an+Nn+131074>>2,T(Y[ae+Ct-1],255&fn,fn>>16,ut,it+(Ct-1)*Q),Ae!=null&&(fn=3*Nn+an+131074>>2,T(Ae[fe+Ct-1],255&fn,fn>>16,ft,dt+(Ct-1)*Q)))}}function s2(){Io[Zp]=IK,Io[e_]=ME,Io[BE]=TK,Io[t_]=SE,Io[n_]=FE,Io[sb]=UE,Io[EE]=MK,Io[ab]=ME,Io[ob]=SE,Io[r_]=FE,Io[lb]=UE}function _f(x){return x&-16384?0>x?0:255:x>>SK}function X0(x,T){return _f((19077*x>>8)+(26149*T>>8)-14234)}function Cu(x,T,Q){return _f((19077*x>>8)-(6419*T>>8)-(13320*Q>>8)+8708)}function Iu(x,T){return _f((19077*x>>8)+(33050*T>>8)-17685)}function J0(x,T,Q,Y,ae){Y[ae+0]=X0(x,Q),Y[ae+1]=Cu(x,T,Q),Y[ae+2]=Iu(x,T)}function Is(x,T,Q,Y,ae){Y[ae+0]=Iu(x,T),Y[ae+1]=Cu(x,T,Q),Y[ae+2]=X0(x,Q)}function Tu(x,T,Q,Y,ae){var Ae=Cu(x,T,Q);T=Ae<<3&224|Iu(x,T)>>3,Y[ae+0]=248&X0(x,Q)|Ae>>5,Y[ae+1]=T}function Mu(x,T,Q,Y,ae){var Ae=240&Iu(x,T)|15;Y[ae+0]=240&X0(x,Q)|Cu(x,T,Q)>>4,Y[ae+1]=Ae}function a2(x,T,Q,Y,ae){Y[ae+0]=255,J0(x,T,Q,Y,ae+1)}function o2(x,T,Q,Y,ae){Is(x,T,Q,Y,ae),Y[ae+3]=255}function oa(x,T,Q,Y,ae){J0(x,T,Q,Y,ae),Y[ae+3]=255}function Wc(x,T,Q){w[x]=function(Y,ae,Ae,fe,pe,ye,Be,je,st){for(var Ee=je+(-2&st)*Q;je!=Ee;)T(Y[ae+0],Ae[fe+0],pe[ye+0],Be,je),T(Y[ae+1],Ae[fe+0],pe[ye+0],Be,je+Q),ae+=2,++fe,++ye,je+=2*Q;1&st&&T(Y[ae+0],Ae[fe+0],pe[ye+0],Be,je)}}function mf(x,T,Q){return Q==0?x==0?T==0?6:5:T==0?4:0:Q}function Wp(x,T,Q,Y,ae){switch(x>>>30){case 3:Nu(T,Q,Y,ae,0);break;case 2:Eo(T,Q,Y,ae);break;case 1:gr(T,Q,Y,ae)}}function Bo(x,T){var Q,Y,ae=T.M,Ae=T.Nb,fe=x.oc,pe=x.pc+40,ye=x.oc,Be=x.pc+584,je=x.oc,st=x.pc+600;for(Q=0;16>Q;++Q)fe[pe+32*Q-1]=129;for(Q=0;8>Q;++Q)ye[Be+32*Q-1]=129,je[st+32*Q-1]=129;for(0<ae?fe[pe-1-32]=ye[Be-1-32]=je[st-1-32]=129:(i(fe,pe-32-1,127,21),i(ye,Be-32-1,127,9),i(je,st-32-1,127,9)),Y=0;Y<x.za;++Y){var Ee=T.ya[T.aa+Y];if(0<Y){for(Q=-1;16>Q;++Q)r(fe,pe+32*Q-4,fe,pe+32*Q+12,4);for(Q=-1;8>Q;++Q)r(ye,Be+32*Q-4,ye,Be+32*Q+4,4),r(je,st+32*Q-4,je,st+32*Q+4,4)}var Ke=x.Gd,Ze=x.Hd+Y,ut=Ee.ad,it=Ee.Hc;if(0<ae&&(r(fe,pe-32,Ke[Ze].y,0,16),r(ye,Be-32,Ke[Ze].f,0,8),r(je,st-32,Ke[Ze].ea,0,8)),Ee.Za){var ft=fe,dt=pe-32+16;for(0<ae&&(Y>=x.za-1?i(ft,dt,Ke[Ze].y[15],4):r(ft,dt,Ke[Ze+1].y,0,4)),Q=0;4>Q;Q++)ft[dt+128+Q]=ft[dt+256+Q]=ft[dt+384+Q]=ft[dt+0+Q];for(Q=0;16>Q;++Q,it<<=2)ft=fe,dt=pe+kE[Q],fl[Ee.Ob[Q]](ft,dt),Wp(it,ut,16*+Q,ft,dt)}else if(ft=mf(Y,ae,Ee.Ob[0]),aA[ft](fe,pe),it!=0)for(Q=0;16>Q;++Q,it<<=2)Wp(it,ut,16*+Q,fe,pe+kE[Q]);for(Q=Ee.Gc,ft=mf(Y,ae,Ee.Dd),Jc[ft](ye,Be),Jc[ft](je,st),it=ut,ft=ye,dt=Be,255&(Ee=0|Q)&&(170&Ee?rc(it,256,ft,dt):Sr(it,256,ft,dt)),Ee=je,it=st,255&(Q>>=8)&&(170&Q?rc(ut,320,Ee,it):Sr(ut,320,Ee,it)),ae<x.Ub-1&&(r(Ke[Ze].y,0,fe,pe+480,16),r(Ke[Ze].f,0,ye,Be+224,8),r(Ke[Ze].ea,0,je,st+224,8)),Q=8*Ae*x.B,Ke=x.sa,Ze=x.ta+16*Y+16*Ae*x.R,ut=x.qa,Ee=x.ra+8*Y+Q,it=x.Ha,ft=x.Ia+8*Y+Q,Q=0;16>Q;++Q)r(Ke,Ze+Q*x.R,fe,pe+32*Q,16);for(Q=0;8>Q;++Q)r(ut,Ee+Q*x.B,ye,Be+32*Q,8),r(it,ft+Q*x.B,je,st+32*Q,8)}}function Su(x,T,Q,Y,ae,Ae,fe,pe,ye){var Be=[0],je=[0],st=0,Ee=ye!=null?ye.kd:0,Ke=ye??new bt;if(x==null||12>Q)return 7;Ke.data=x,Ke.w=T,Ke.ha=Q,T=[T],Q=[Q],Ke.gb=[Ke.gb];e:{var Ze=T,ut=Q,it=Ke.gb;if(e(x!=null),e(ut!=null),e(it!=null),it[0]=0,12<=ut[0]&&!t(x,Ze[0],"RIFF")){if(t(x,Ze[0]+8,"WEBP")){it=3;break e}var ft=D(x,Ze[0]+4);if(12>ft||4294967286<ft){it=3;break e}if(Ee&&ft>ut[0]-8){it=7;break e}it[0]=ft,Ze[0]+=12,ut[0]-=12}it=0}if(it!=0)return it;for(ft=0<Ke.gb[0],Q=Q[0];;){e:{var dt=x;ut=T,it=Q;var Ct=Be,vt=je,_n=Ze=[0];if((fn=st=[st])[0]=0,8>it[0])it=7;else{if(!t(dt,ut[0],"VP8X")){if(D(dt,ut[0]+4)!=10){it=3;break e}if(18>it[0]){it=7;break e}var an=D(dt,ut[0]+8),Nn=1+Re(dt,ut[0]+12);if(2147483648<=Nn*(dt=1+Re(dt,ut[0]+15))){it=3;break e}_n!=null&&(_n[0]=an),Ct!=null&&(Ct[0]=Nn),vt!=null&&(vt[0]=dt),ut[0]+=18,it[0]-=18,fn[0]=1}it=0}}if(st=st[0],Ze=Ze[0],it!=0)return it;if(ut=!!(2&Ze),!ft&&st)return 3;if(Ae!=null&&(Ae[0]=!!(16&Ze)),fe!=null&&(fe[0]=ut),pe!=null&&(pe[0]=0),fe=Be[0],Ze=je[0],st&&ut&&ye==null){it=0;break}if(4>Q){it=7;break}if(ft&&st||!ft&&!st&&!t(x,T[0],"ALPH")){Q=[Q],Ke.na=[Ke.na],Ke.P=[Ke.P],Ke.Sa=[Ke.Sa];e:{an=x,it=T,ft=Q;var fn=Ke.gb;Ct=Ke.na,vt=Ke.P,_n=Ke.Sa,Nn=22,e(an!=null),e(ft!=null),dt=it[0];var Zn=ft[0];for(e(Ct!=null),e(_n!=null),Ct[0]=null,vt[0]=null,_n[0]=0;;){if(it[0]=dt,ft[0]=Zn,8>Zn){it=7;break e}var os=D(an,dt+4);if(4294967286<os){it=3;break e}var kn=8+os+1&-2;if(Nn+=kn,0<fn&&Nn>fn){it=3;break e}if(!t(an,dt,"VP8 ")||!t(an,dt,"VP8L")){it=0;break e}if(Zn[0]<kn){it=7;break e}t(an,dt,"ALPH")||(Ct[0]=an,vt[0]=dt+8,_n[0]=os),dt+=kn,Zn-=kn}}if(Q=Q[0],Ke.na=Ke.na[0],Ke.P=Ke.P[0],Ke.Sa=Ke.Sa[0],it!=0)break}Q=[Q],Ke.Ja=[Ke.Ja],Ke.xa=[Ke.xa];e:if(fn=x,it=T,ft=Q,Ct=Ke.gb[0],vt=Ke.Ja,_n=Ke.xa,an=it[0],dt=!t(fn,an,"VP8 "),Nn=!t(fn,an,"VP8L"),e(fn!=null),e(ft!=null),e(vt!=null),e(_n!=null),8>ft[0])it=7;else{if(dt||Nn){if(fn=D(fn,an+4),12<=Ct&&fn>Ct-12){it=3;break e}if(Ee&&fn>ft[0]-8){it=7;break e}vt[0]=fn,it[0]+=8,ft[0]-=8,_n[0]=Nn}else _n[0]=5<=ft[0]&&fn[an+0]==47&&!(fn[an+4]>>5),vt[0]=ft[0];it=0}if(Q=Q[0],Ke.Ja=Ke.Ja[0],Ke.xa=Ke.xa[0],T=T[0],it!=0)break;if(4294967286<Ke.Ja)return 3;if(pe==null||ut||(pe[0]=Ke.xa?2:1),fe=[fe],Ze=[Ze],Ke.xa){if(5>Q){it=7;break}pe=fe,Ee=Ze,ut=Ae,x==null||5>Q?x=0:5<=Q&&x[T+0]==47&&!(x[T+4]>>5)?(ft=[0],fn=[0],Ct=[0],X(vt=new H,x,T,Q),Ht(vt,ft,fn,Ct)?(pe!=null&&(pe[0]=ft[0]),Ee!=null&&(Ee[0]=fn[0]),ut!=null&&(ut[0]=Ct[0]),x=1):x=0):x=0}else{if(10>Q){it=7;break}pe=Ze,x==null||10>Q||!Dp(x,T+3,Q-3)?x=0:(Ee=x[T+0]|x[T+1]<<8|x[T+2]<<16,ut=16383&(x[T+7]<<8|x[T+6]),x=16383&(x[T+9]<<8|x[T+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=Ke.Ja||!ut||!x?x=0:(fe&&(fe[0]=ut),pe&&(pe[0]=x),x=1))}if(!x||(fe=fe[0],Ze=Ze[0],st&&(Be[0]!=fe||je[0]!=Ze)))return 3;ye!=null&&(ye[0]=Ke,ye.offset=T-ye.w,e(4294967286>T-ye.w),e(ye.offset==ye.ha-Q));break}return it==0||it==7&&st&&ye==null?(Ae!=null&&(Ae[0]|=Ke.na!=null&&0<Ke.na.length),Y!=null&&(Y[0]=fe),ae!=null&&(ae[0]=Ze),0):it}function l2(x,T,Q){var Y=T.width,ae=T.height,Ae=0,fe=0,pe=Y,ye=ae;if(T.Da=x!=null&&0<x.Da,T.Da&&(pe=x.cd,ye=x.bd,Ae=x.v,fe=x.j,11>Q||(Ae&=-2,fe&=-2),0>Ae||0>fe||0>=pe||0>=ye||Ae+pe>Y||fe+ye>ae))return 0;if(T.v=Ae,T.j=fe,T.va=Ae+pe,T.o=fe+ye,T.U=pe,T.T=ye,T.da=x!=null&&0<x.da,T.da){if(!J(pe,ye,Q=[x.ib],Ae=[x.hb]))return 0;T.ib=Q[0],T.hb=Ae[0]}return T.ob=x!=null&&x.ob,T.Kb=x==null||!x.Sd,T.da&&(T.ob=T.ib<3*Y/4&&T.hb<3*ae/4,T.Kb=0),1}function c2(x){if(x==null)return 2;if(11>x.S){var T=x.f.RGBA;T.fb+=(x.height-1)*T.A,T.A=-T.A}else T=x.f.kb,x=x.height,T.O+=(x-1)*T.fa,T.fa=-T.fa,T.N+=(x-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(x-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(x-1)*T.lb,T.lb=-T.lb);return 0}function Z0(x,T,Q,Y){if(Y==null||0>=x||0>=T)return 2;if(Q!=null){if(Q.Da){var ae=Q.cd,Ae=Q.bd,fe=-2&Q.v,pe=-2&Q.j;if(0>fe||0>pe||0>=ae||0>=Ae||fe+ae>x||pe+Ae>T)return 2;x=ae,T=Ae}if(Q.da){if(!J(x,T,ae=[Q.ib],Ae=[Q.hb]))return 2;x=ae[0],T=Ae[0]}}Y.width=x,Y.height=T;e:{var ye=Y.width,Be=Y.height;if(x=Y.S,0>=ye||0>=Be||!(x>=Zp&&13>x))x=2;else{if(0>=Y.Rd&&Y.sd==null){fe=Ae=ae=T=0;var je=(pe=ye*PE[x])*Be;if(11>x||(Ae=(Be+1)/2*(T=(ye+1)/2),x==12&&(fe=(ae=ye)*Be)),(Be=s(je+2*Ae+fe))==null){x=1;break e}Y.sd=Be,11>x?((ye=Y.f.RGBA).eb=Be,ye.fb=0,ye.A=pe,ye.size=je):((ye=Y.f.kb).y=Be,ye.O=0,ye.fa=pe,ye.Fd=je,ye.f=Be,ye.N=0+je,ye.Ab=T,ye.Cd=Ae,ye.ea=Be,ye.W=0+je+Ae,ye.Db=T,ye.Ed=Ae,x==12&&(ye.F=Be,ye.J=0+je+2*Ae),ye.Tc=fe,ye.lb=ae)}if(T=1,ae=Y.S,Ae=Y.width,fe=Y.height,ae>=Zp&&13>ae)if(11>ae)x=Y.f.RGBA,T&=(pe=Math.abs(x.A))*(fe-1)+Ae<=x.size,T&=pe>=Ae*PE[ae],T&=x.eb!=null;else{x=Y.f.kb,pe=(Ae+1)/2,je=(fe+1)/2,ye=Math.abs(x.fa),Be=Math.abs(x.Ab);var st=Math.abs(x.Db),Ee=Math.abs(x.lb),Ke=Ee*(fe-1)+Ae;T&=ye*(fe-1)+Ae<=x.Fd,T&=Be*(je-1)+pe<=x.Cd,T=(T&=st*(je-1)+pe<=x.Ed)&ye>=Ae&Be>=pe&st>=pe,T&=x.y!=null,T&=x.f!=null,T&=x.ea!=null,ae==12&&(T&=Ee>=Ae,T&=Ke<=x.Tc,T&=x.F!=null)}else T=0;x=T?0:2}}return x!=0||Q!=null&&Q.fd&&(x=c2(Y)),x}var Fu=64,Wa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qa=24,eA=32,qc=8,tA=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Se("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(x){return x},w.Predictor2=function(x,T,Q){return T[Q+0]},w.Predictor3=function(x,T,Q){return T[Q+1]},w.Predictor4=function(x,T,Q){return T[Q-1]},w.Predictor5=function(x,T,Q){return He(He(x,T[Q+1]),T[Q+0])},w.Predictor6=function(x,T,Q){return He(x,T[Q-1])},w.Predictor7=function(x,T,Q){return He(x,T[Q+0])},w.Predictor8=function(x,T,Q){return He(T[Q-1],T[Q+0])},w.Predictor9=function(x,T,Q){return He(T[Q+0],T[Q+1])},w.Predictor10=function(x,T,Q){return He(He(x,T[Q-1]),He(T[Q+0],T[Q+1]))},w.Predictor11=function(x,T,Q){var Y=T[Q+0];return 0>=Qe(Y>>24&255,x>>24&255,(T=T[Q-1])>>24&255)+Qe(Y>>16&255,x>>16&255,T>>16&255)+Qe(Y>>8&255,x>>8&255,T>>8&255)+Qe(255&Y,255&x,255&T)?Y:x},w.Predictor12=function(x,T,Q){var Y=T[Q+0];return(be((x>>24&255)+(Y>>24&255)-((T=T[Q-1])>>24&255))<<24|be((x>>16&255)+(Y>>16&255)-(T>>16&255))<<16|be((x>>8&255)+(Y>>8&255)-(T>>8&255))<<8|be((255&x)+(255&Y)-(255&T)))>>>0},w.Predictor13=function(x,T,Q){var Y=T[Q-1];return(Fe((x=He(x,T[Q+0]))>>24&255,Y>>24&255)<<24|Fe(x>>16&255,Y>>16&255)<<16|Fe(x>>8&255,Y>>8&255)<<8|Fe(255&x,255&Y))>>>0};var A2=w.PredictorAdd0;w.PredictorAdd1=Ge,Se("Predictor2","PredictorAdd2"),Se("Predictor3","PredictorAdd3"),Se("Predictor4","PredictorAdd4"),Se("Predictor5","PredictorAdd5"),Se("Predictor6","PredictorAdd6"),Se("Predictor7","PredictorAdd7"),Se("Predictor8","PredictorAdd8"),Se("Predictor9","PredictorAdd9"),Se("Predictor10","PredictorAdd10"),Se("Predictor11","PredictorAdd11"),Se("Predictor12","PredictorAdd12"),Se("Predictor13","PredictorAdd13");var yf=w.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Bi,qp=w.ColorIndexInverseTransform,tc=w.MapARGB,nc=w.VP8LColorIndexInverseTransformAlpha,u2=w.MapAlpha,f2=w.VP8LPredictorsAdd=[];f2.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var h2,d2,nA,rA,iA,Uu,sA,Nu,Eo,rc,gr,Sr,Ei,as,Xc,g2,bf,Xp,fE,hE,dE,gE,pE,_E,p2,mE,yE,bE,vE=s(511),wE=s(2041),LE=s(225),xE=s(767),RE=0,ib=wE,Jp=LE,Xa=xE,Co=vE,Zp=0,e_=1,BE=2,t_=3,n_=4,sb=5,EE=6,ab=7,ob=8,r_=9,lb=10,gK=[2,3,7],pK=[3,3,11],CE=[280,256,256,256,40],_K=[0,1,1,1,0],mK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],yK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vK=8,cb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ab=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_2=null,wK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],LK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],IE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],xK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],RK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],BK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],EK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],aA=[],fl=[],Jc=[],CK=1,TE=2,oA=[],Io=[];$c("UpsampleRgbLinePair",J0,3),$c("UpsampleBgrLinePair",Is,3),$c("UpsampleRgbaLinePair",oa,4),$c("UpsampleBgraLinePair",o2,4),$c("UpsampleArgbLinePair",a2,4),$c("UpsampleRgba4444LinePair",Mu,2),$c("UpsampleRgb565LinePair",Tu,2);var IK=w.UpsampleRgbLinePair,TK=w.UpsampleBgrLinePair,ME=w.UpsampleRgbaLinePair,SE=w.UpsampleBgraLinePair,FE=w.UpsampleArgbLinePair,UE=w.UpsampleRgba4444LinePair,MK=w.UpsampleRgb565LinePair,i_=16,s_=1<<i_-1,m2=-227,ub=482,SK=6,NE=0,FK=s(256),UK=s(256),NK=s(256),kK=s(256),PK=s(ub-m2),DK=s(ub-m2);Wc("YuvToRgbRow",J0,3),Wc("YuvToBgrRow",Is,3),Wc("YuvToRgbaRow",oa,4),Wc("YuvToBgraRow",o2,4),Wc("YuvToArgbRow",a2,4),Wc("YuvToRgba4444Row",Mu,2),Wc("YuvToRgb565Row",Tu,2);var kE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],a_=[0,2,8],OK=[8,7,6,4,4,2,2,2,1,1,1,1],zK=1;this.WebPDecodeRGBA=function(x,T,Q,Y,ae){var Ae=e_,fe=new ht,pe=new rn;fe.ba=pe,pe.S=Ae,pe.width=[pe.width],pe.height=[pe.height];var ye=pe.width,Be=pe.height,je=new Vt;if(je==null||x==null)var st=2;else e(je!=null),st=Su(x,T,Q,je.width,je.height,je.Pd,je.Qd,je.format,null);if(st!=0?ye=0:(ye!=null&&(ye[0]=je.width[0]),Be!=null&&(Be[0]=je.height[0]),ye=1),ye){pe.width=pe.width[0],pe.height=pe.height[0],Y!=null&&(Y[0]=pe.width),ae!=null&&(ae[0]=pe.height);e:{if(Y=new ff,(ae=new bt).data=x,ae.w=T,ae.ha=Q,ae.kd=1,T=[0],e(ae!=null),((x=Su(ae.data,ae.w,ae.ha,null,null,null,T,null,ae))==0||x==7)&&T[0]&&(x=4),(T=x)==0){if(e(fe!=null),Y.data=ae.data,Y.w=ae.w+ae.offset,Y.ha=ae.ha-ae.offset,Y.put=lt,Y.ac=at,Y.bc=Pt,Y.ma=fe,ae.xa){if((x=ys())==null){fe=1;break e}if(function(Ee,Ke){var Ze=[0],ut=[0],it=[0];t:for(;;){if(Ee==null)return 0;if(Ke==null)return Ee.a=2,0;if(Ee.l=Ke,Ee.a=0,X(Ee.m,Ke.data,Ke.w,Ke.ha),!Ht(Ee.m,Ze,ut,it)){Ee.a=3;break t}if(Ee.xb=TE,Ke.width=Ze[0],Ke.height=ut[0],!Jr(Ze[0],ut[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0}(x,Y)){if(Y=(T=Z0(Y.width,Y.height,fe.Oa,fe.ba))==0){t:{Y=x;n:for(;;){if(Y==null){Y=0;break t}if(e(Y.s.yc!=null),e(Y.s.Ya!=null),e(0<Y.s.Wb),e((Q=Y.l)!=null),e((ae=Q.ma)!=null),Y.xb!=0){if(Y.ca=ae.ba,Y.tb=ae.tb,e(Y.ca!=null),!l2(ae.Oa,Q,t_)){Y.a=2;break n}if(!An(Y,Q.width)||Q.da)break n;if((Q.da||wt(Y.ca.S))&&ul(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&ul()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!O(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break n}Y.xb=0}if(!ct(Y,Y.V,Y.Ba,Y.c,Y.i,Q.o,ur))break n;ae.Dc=Y.Ma,Y=1;break t}e(Y.a!=0),Y=0}Y=!Y}Y&&(T=x.a)}else T=x.a}else{if((x=new j6)==null){fe=1;break e}if(x.Fa=ae.na,x.P=ae.P,x.qc=ae.Sa,Zl(x,Y)){if((T=Z0(Y.width,Y.height,fe.Oa,fe.ba))==0){if(x.Aa=0,Q=fe.Oa,e((ae=x)!=null),Q!=null){if(0<(ye=0>(ye=Q.Md)?0:100<ye?255:255*ye/100)){for(Be=je=0;4>Be;++Be)12>(st=ae.pb[Be]).lc&&(st.ia=ye*OK[0>st.lc?0:st.lc]>>3),je|=st.ia;je&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=Q.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}(function(Ee,Ke){if(Ee==null)return 0;if(Ke==null)return Oi(Ee,2,"NULL VP8Io parameter in VP8Decode().");if(!Ee.cb&&!Zl(Ee,Ke))return 0;if(e(Ee.cb),Ke.ac==null||Ke.ac(Ke)){Ke.ob&&(Ee.L=0);var Ze=a_[Ee.L];if(Ee.L==2?(Ee.yb=0,Ee.zb=0):(Ee.yb=Ke.v-Ze>>4,Ee.zb=Ke.j-Ze>>4,0>Ee.yb&&(Ee.yb=0),0>Ee.zb&&(Ee.zb=0)),Ee.Va=Ke.o+15+Ze>>4,Ee.Hb=Ke.va+15+Ze>>4,Ee.Hb>Ee.za&&(Ee.Hb=Ee.za),Ee.Va>Ee.Ub&&(Ee.Va=Ee.Ub),0<Ee.L){var ut=Ee.ed;for(Ze=0;4>Ze;++Ze){var it;if(Ee.Qa.Cb){var ft=Ee.Qa.Lb[Ze];Ee.Qa.Fb||(ft+=ut.Tb)}else ft=ut.Tb;for(it=0;1>=it;++it){var dt=Ee.gd[Ze][it],Ct=ft;if(ut.Pc&&(Ct+=ut.vd[0],it&&(Ct+=ut.od[0])),0<(Ct=0>Ct?0:63<Ct?63:Ct)){var vt=Ct;0<ut.wb&&(vt=4<ut.wb?vt>>2:vt>>1)>9-ut.wb&&(vt=9-ut.wb),1>vt&&(vt=1),dt.dd=vt,dt.tc=2*Ct+vt,dt.ld=40<=Ct?2:15<=Ct?1:0}else dt.tc=0;dt.La=it}}}Ze=0}else Oi(Ee,6,"Frame setup failed"),Ze=Ee.a;if(Ze=Ze==0){if(Ze){Ee.$c=0,0<Ee.Aa||(Ee.Ic=zK);t:{Ze=Ee.Ic,ut=4*(vt=Ee.za);var _n=32*vt,an=vt+1,Nn=0<Ee.L?vt*(0<Ee.Aa?2:1):0,fn=(Ee.Aa==2?2:1)*vt;if((dt=ut+832+(it=3*(16*Ze+a_[Ee.L])/2*_n)+(ft=Ee.Fa!=null&&0<Ee.Fa.length?Ee.Kc.c*Ee.Kc.i:0))!=dt)Ze=0;else{if(dt>Ee.Vb){if(Ee.Vb=0,Ee.Ec=s(dt),Ee.Fc=0,Ee.Ec==null){Ze=Oi(Ee,1,"no memory during frame initialization.");break t}Ee.Vb=dt}dt=Ee.Ec,Ct=Ee.Fc,Ee.Ac=dt,Ee.Bc=Ct,Ct+=ut,Ee.Gd=a(_n,wu),Ee.Hd=0,Ee.rb=a(an+1,xo),Ee.sb=1,Ee.wa=Nn?a(Nn,di):null,Ee.Y=0,Ee.D.Nb=0,Ee.D.wa=Ee.wa,Ee.D.Y=Ee.Y,0<Ee.Aa&&(Ee.D.Y+=vt),e(!0),Ee.oc=dt,Ee.pc=Ct,Ct+=832,Ee.ya=a(fn,ai),Ee.aa=0,Ee.D.ya=Ee.ya,Ee.D.aa=Ee.aa,Ee.Aa==2&&(Ee.D.aa+=vt),Ee.R=16*vt,Ee.B=8*vt,vt=(_n=a_[Ee.L])*Ee.R,_n=_n/2*Ee.B,Ee.sa=dt,Ee.ta=Ct+vt,Ee.qa=Ee.sa,Ee.ra=Ee.ta+16*Ze*Ee.R+_n,Ee.Ha=Ee.qa,Ee.Ia=Ee.ra+8*Ze*Ee.B+_n,Ee.$c=0,Ct+=it,Ee.mb=ft?dt:null,Ee.nb=ft?Ct:null,e(Ct+ft<=Ee.Fc+Ee.Vb),Op(Ee),i(Ee.Ac,Ee.Bc,0,ut),Ze=1}}if(Ze){if(Ke.ka=0,Ke.y=Ee.sa,Ke.O=Ee.ta,Ke.f=Ee.qa,Ke.N=Ee.ra,Ke.ea=Ee.Ha,Ke.Vd=Ee.Ia,Ke.fa=Ee.R,Ke.Rc=Ee.B,Ke.F=null,Ke.J=0,!RE){for(Ze=-255;255>=Ze;++Ze)vE[255+Ze]=0>Ze?-Ze:Ze;for(Ze=-1020;1020>=Ze;++Ze)wE[1020+Ze]=-128>Ze?-128:127<Ze?127:Ze;for(Ze=-112;112>=Ze;++Ze)LE[112+Ze]=-16>Ze?-16:15<Ze?15:Ze;for(Ze=-255;510>=Ze;++Ze)xE[255+Ze]=0>Ze?0:255<Ze?255:Ze;RE=1}sA=df,Nu=G6,rc=ec,gr=Hp,Sr=Qp,Eo=Y6,Ei=Kp,as=Eu,Xc=se,g2=Ce,bf=$p,Xp=k,fE=Pe,hE=Xe,dE=Bu,gE=i2,pE=Gp,_E=Vp,fl[0]=Z6,fl[1]=V6,fl[2]=X6,fl[3]=J6,fl[4]=Hc,fl[5]=eb,fl[6]=Qc,fl[7]=tb,fl[8]=Zd,fl[9]=gf,aA[0]=W6,aA[1]=$6,aA[2]=Xd,aA[3]=jp,aA[4]=xu,aA[5]=Jd,aA[6]=q6,Jc[0]=rb,Jc[1]=K6,Jc[2]=Ru,Jc[3]=nb,Jc[4]=t2,Jc[5]=e2,Jc[6]=Yp,Ze=1}else Ze=0}Ze&&(Ze=function(Zn,os){for(Zn.M=0;Zn.M<Zn.Va;++Zn.M){var kn,hn=Zn.Jc[Zn.M&Zn.Xb],Qt=Zn.m,Ci=Zn;for(kn=0;kn<Ci.za;++kn){var In=Qt,rr=Ci,$r=rr.Ac,Ts=rr.Bc+4*kn,la=rr.zc,gi=rr.ya[rr.aa+kn];if(rr.Qa.Bb?gi.$b=me(In,rr.Pa.jb[0])?2+me(In,rr.Pa.jb[2]):me(In,rr.Pa.jb[1]):gi.$b=0,rr.kc&&(gi.Ad=me(In,rr.Bd)),gi.Za=!me(In,145)+0,gi.Za){var Hs=gi.Ob,ca=0;for(rr=0;4>rr;++rr){var ls,sr=la[0+rr];for(ls=0;4>ls;++ls){sr=RK[$r[Ts+ls]][sr];for(var vr=IE[me(In,sr[0])];0<vr;)vr=IE[2*vr+me(In,sr[vr])];sr=-vr,$r[Ts+ls]=sr}r(Hs,ca,$r,Ts,4),ca+=4,la[0+rr]=sr}}else sr=me(In,156)?me(In,128)?1:3:me(In,163)?2:0,gi.Ob[0]=sr,i($r,Ts,sr,4),i(la,0,sr,4);gi.Dd=me(In,142)?me(In,114)?me(In,183)?1:3:2:0}if(Ci.m.Ka)return Oi(Zn,7,"Premature end-of-partition0 encountered.");for(;Zn.ja<Zn.za;++Zn.ja){if(Ci=hn,In=(Qt=Zn).rb[Qt.sb-1],$r=Qt.rb[Qt.sb+Qt.ja],kn=Qt.ya[Qt.aa+Qt.ja],Ts=Qt.kc?kn.Ad:0)In.la=$r.la=0,kn.Za||(In.Na=$r.Na=0),kn.Hc=0,kn.Gc=0,kn.ia=0;else{var pi,wr;if(In=$r,$r=Ci,Ts=Qt.Pa.Xc,la=Qt.ya[Qt.aa+Qt.ja],gi=Qt.pb[la.$b],rr=la.ad,Hs=0,ca=Qt.rb[Qt.sb-1],sr=ls=0,i(rr,Hs,0,384),la.Za)var Ms=0,hl=Ts[3];else{vr=s(16);var Ii=In.Na+ca.Na;if(Ii=_2($r,Ts[1],Ii,gi.Eb,0,vr,0),In.Na=ca.Na=(0<Ii)+0,1<Ii)sA(vr,0,rr,Hs);else{var Ra=vr[0]+3>>3;for(vr=0;256>vr;vr+=16)rr[Hs+vr]=Ra}Ms=1,hl=Ts[0]}var Fr=15&In.la,cs=15&ca.la;for(vr=0;4>vr;++vr){var Ja=1&cs;for(Ra=wr=0;4>Ra;++Ra)Fr=Fr>>1|(Ja=(Ii=_2($r,hl,Ii=Ja+(1&Fr),gi.Sc,Ms,rr,Hs))>Ms)<<7,wr=wr<<2|(3<Ii?3:1<Ii?2:rr[Hs+0]!=0),Hs+=16;Fr>>=4,cs=cs>>1|Ja<<7,ls=(ls<<8|wr)>>>0}for(hl=Fr,Ms=cs>>4,pi=0;4>pi;pi+=2){for(wr=0,Fr=In.la>>4+pi,cs=ca.la>>4+pi,vr=0;2>vr;++vr){for(Ja=1&cs,Ra=0;2>Ra;++Ra)Ii=Ja+(1&Fr),Fr=Fr>>1|(Ja=0<(Ii=_2($r,Ts[2],Ii,gi.Qc,0,rr,Hs)))<<3,wr=wr<<2|(3<Ii?3:1<Ii?2:rr[Hs+0]!=0),Hs+=16;Fr>>=2,cs=cs>>1|Ja<<5}sr|=wr<<4*pi,hl|=Fr<<4<<pi,Ms|=(240&cs)<<pi}In.la=hl,ca.la=Ms,la.Hc=ls,la.Gc=sr,la.ia=43690&sr?0:gi.ia,Ts=!(ls|sr)}if(0<Qt.L&&(Qt.wa[Qt.Y+Qt.ja]=Qt.gd[kn.$b][kn.Za],Qt.wa[Qt.Y+Qt.ja].La|=!Ts),Ci.Ka)return Oi(Zn,7,"Premature end-of-file encountered.")}if(Op(Zn),Qt=os,Ci=1,kn=(hn=Zn).D,In=0<hn.L&&hn.M>=hn.zb&&hn.M<=hn.Va,hn.Aa==0)t:{if(kn.M=hn.M,kn.uc=In,Bo(hn,kn),Ci=1,kn=(wr=hn.D).Nb,In=(sr=a_[hn.L])*hn.R,$r=sr/2*hn.B,vr=16*kn*hn.R,Ra=8*kn*hn.B,Ts=hn.sa,la=hn.ta-In+vr,gi=hn.qa,rr=hn.ra-$r+Ra,Hs=hn.Ha,ca=hn.Ia-$r+Ra,cs=(Fr=wr.M)==0,ls=Fr>=hn.Va-1,hn.Aa==2&&Bo(hn,wr),wr.uc)for(Ja=(Ii=hn).D.M,e(Ii.D.uc),wr=Ii.yb;wr<Ii.Hb;++wr){Ms=wr,hl=Ja;var Aa=(Za=(Ss=Ii).D).Nb;pi=Ss.R;var Za=Za.wa[Za.Y+Ms],eo=Ss.sa,Ba=Ss.ta+16*Aa*pi+16*Ms,to=Za.dd,Yr=Za.tc;if(Yr!=0)if(e(3<=Yr),Ss.L==1)0<Ms&&gE(eo,Ba,pi,Yr+4),Za.La&&_E(eo,Ba,pi,Yr),0<hl&&dE(eo,Ba,pi,Yr+4),Za.La&&pE(eo,Ba,pi,Yr);else{var no=Ss.B,dl=Ss.qa,ku=Ss.ra+8*Aa*no+8*Ms,Zc=Ss.Ha,Ss=Ss.Ia+8*Aa*no+8*Ms;Aa=Za.ld,0<Ms&&(as(eo,Ba,pi,Yr+4,to,Aa),g2(dl,ku,Zc,Ss,no,Yr+4,to,Aa)),Za.La&&(Xp(eo,Ba,pi,Yr,to,Aa),hE(dl,ku,Zc,Ss,no,Yr,to,Aa)),0<hl&&(Ei(eo,Ba,pi,Yr+4,to,Aa),Xc(dl,ku,Zc,Ss,no,Yr+4,to,Aa)),Za.La&&(bf(eo,Ba,pi,Yr,to,Aa),fE(dl,ku,Zc,Ss,no,Yr,to,Aa))}}if(hn.ia&&alert("todo:DitherRow"),Qt.put!=null){if(wr=16*Fr,Fr=16*(Fr+1),cs?(Qt.y=hn.sa,Qt.O=hn.ta+vr,Qt.f=hn.qa,Qt.N=hn.ra+Ra,Qt.ea=hn.Ha,Qt.W=hn.Ia+Ra):(wr-=sr,Qt.y=Ts,Qt.O=la,Qt.f=gi,Qt.N=rr,Qt.ea=Hs,Qt.W=ca),ls||(Fr-=sr),Fr>Qt.o&&(Fr=Qt.o),Qt.F=null,Qt.J=null,hn.Fa!=null&&0<hn.Fa.length&&wr<Fr&&(Qt.J=jr(hn,Qt,wr,Fr-wr),Qt.F=hn.mb,Qt.F==null&&Qt.F.length==0)){Ci=Oi(hn,3,"Could not decode alpha data.");break t}wr<Qt.j&&(sr=Qt.j-wr,wr=Qt.j,e(!(1&sr)),Qt.O+=hn.R*sr,Qt.N+=hn.B*(sr>>1),Qt.W+=hn.B*(sr>>1),Qt.F!=null&&(Qt.J+=Qt.width*sr)),wr<Fr&&(Qt.O+=Qt.v,Qt.N+=Qt.v>>1,Qt.W+=Qt.v>>1,Qt.F!=null&&(Qt.J+=Qt.v),Qt.ka=wr-Qt.j,Qt.U=Qt.va-Qt.v,Qt.T=Fr-wr,Ci=Qt.put(Qt))}kn+1!=hn.Ic||ls||(r(hn.sa,hn.ta-In,Ts,la+16*hn.R,In),r(hn.qa,hn.ra-$r,gi,rr+8*hn.B,$r),r(hn.Ha,hn.Ia-$r,Hs,ca+8*hn.B,$r))}if(!Ci)return Oi(Zn,6,"Output aborted.")}return 1}(Ee,Ke)),Ke.bc!=null&&Ke.bc(Ke),Ze&=1}return Ze?(Ee.cb=0,Ze):0})(x,Y)||(T=x.a)}}else T=x.a}T==0&&fe.Oa!=null&&fe.Oa.fd&&(T=c2(fe.ba))}fe=T}Ae=fe!=0?null:11>Ae?pe.f.RGBA.eb:pe.f.kb.y}else Ae=null;return Ae};var PE=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(w,U){for(var M="",F=0;F<4;F++)M+=String.fromCharCode(w[U++]);return M}function A(w,U){return w[U+0]|w[U+1]<<8}function u(w,U){return(w[U+0]|w[U+1]<<8|w[U+2]<<16)>>>0}function h(w,U){return(w[U+0]|w[U+1]<<8|w[U+2]<<16|w[U+3]<<24)>>>0}new l;var f=[0],d=[0],g=[],_=new l,m=n,y=function(w,U){var M={},F=0,P=!1,S=0,W=0;if(M.frames=[],!function(N,H){for(var V=0;V<4;V++)if(N[H+V]!="RIFF".charCodeAt(V))return!0;return!1}(w,U)){for(h(w,U+=4),U+=8;U<w.length;){var re=c(w,U),G=h(w,U+=4);U+=4;var ie=G+(1&G);switch(re){case"VP8 ":case"VP8L":M.frames[F]===void 0&&(M.frames[F]={}),(K=M.frames[F]).src_off=P?W:U-8,K.src_size=S+G+8,F++,P&&(P=!1,S=0,W=0);break;case"VP8X":(K=M.header={}).feature_flags=w[U];var X=U+4;K.canvas_width=1+u(w,X),X+=3,K.canvas_height=1+u(w,X),X+=3;break;case"ALPH":P=!0,S=ie+8,W=U-8;break;case"ANIM":(K=M.header).bgcolor=h(w,U),X=U+4,K.loop_count=A(w,X),X+=2;break;case"ANMF":var ge,K;(K=M.frames[F]={}).offset_x=2*u(w,U),U+=3,K.offset_y=2*u(w,U),U+=3,K.width=1+u(w,U),U+=3,K.height=1+u(w,U),U+=3,K.duration=u(w,U),U+=3,ge=w[U++],K.dispose=1&ge,K.blend=ge>>1&1}re!="ANMF"&&(U+=ie)}return M}}(m,0);y.response=m,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,v=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],d=[b.canvas_width];for(var B=0;B<v.length&&v[B].blend!=0;B++);}var C=v[0],I=_.WebPDecodeRGBA(m,C.src_off,C.src_size,d,f);C.rgba=I,C.imgwidth=d[0],C.imgheight=f[0];for(var R=0;R<d[0]*f[0]*4;R++)g[R]=I[R];return this.width=d,this.height=f,this.data=g,this}(function(n){var e,t,r,i,s,a,o,l,c,A=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new a,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new a,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new A}]);var u=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=N;Object.defineProperty(this,"pdf",{get:function(){return H}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(O){V=!!O}});var j=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return j},set:function(O){j=!!O}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(O){isNaN(O)||(le=O)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(O){isNaN(O)||(de=O)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(O){var ne;typeof O=="number"?ne=[O,O,O,O]:((ne=new Array(4))[0]=O[0],ne[1]=O.length>=2?O[1]:ne[0],ne[2]=O.length>=3?O[2]:ne[0],ne[3]=O.length>=4?O[3]:ne[1]),c.margin=ne}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(O){he=O}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(O){ue=O}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(O){me=O}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(O){O instanceof A&&(c=O)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(O){c.path=O}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(O){_e=O}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(O){var ne;ne=h(O),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(O){var ne=h(O);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(O){["butt","round","square"].indexOf(O)!==-1&&(this.ctx.lineCap=O,this.pdf.setLineCap(O))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(O){isNaN(O)||(this.ctx.lineWidth=O,this.pdf.setLineWidth(O))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(O){["bevel","round","miter"].indexOf(O)!==-1&&(this.ctx.lineJoin=O,this.pdf.setLineJoin(O))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(O){isNaN(O)||(this.ctx.miterLimit=O,this.pdf.setMiterLimit(O))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(O){this.ctx.textBaseline=O}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(O){["right","end","center","left","start"].indexOf(O)!==-1&&(this.ctx.textAlign=O)}});var xe=null,Re=null,D=null;Object.defineProperty(this,"fontFaces",{get:function(){return D},set:function(O){xe=null,Re=null,D=O}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(O){var ne;if(this.ctx.font=O,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(O))!==null){var te=ne[1];ne[2];var J=ne[3],ce=ne[4];ne[5];var Me=ne[6],Se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ce)[2];ce=Math.floor(Se==="px"?parseFloat(ce)*this.pdf.internal.scaleFactor:Se==="em"?parseFloat(ce)*this.pdf.getFontSize():parseFloat(ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ce);var Le=function(At){var kt,rt,Nt=[],ot=At.trim();if(ot==="")return Ov;if(ot in eM)return[eM[ot]];for(;ot!=="";){switch(rt=null,kt=(ot=nM(ot)).charAt(0)){case'"':case"'":rt=Nue(ot.substring(1),kt);break;default:rt=kue(ot)}if(rt===null||(Nt.push(rt[0]),(ot=nM(rt[1]))!==""&&ot.charAt(0)!==","))return Ov;ot=ot.replace(/^,/,"")}return Nt}(Me);if(this.fontFaces){var He=function(At,kt){var rt=At.getFontList(),Nt=JSON.stringify(rt);if(xe===null||Re!==Nt){var ot=function(Rt){var Tt=[];return Object.keys(Rt).forEach(function(Jt){Rt[Jt].forEach(function(wt){var It=null;switch(wt){case"bold":It={family:Jt,weight:"bold"};break;case"italic":It={family:Jt,style:"italic"};break;case"bolditalic":It={family:Jt,weight:"bold",style:"italic"};break;case"":case"normal":It={family:Jt}}It!==null&&(It.ref={name:Jt,style:wt},Tt.push(It))})}),Tt}(rt);xe=function(Rt){for(var Tt={},Jt=0;Jt<Rt.length;++Jt){var wt=Dv(Rt[Jt]),It=wt.family,tn=wt.stretch,rn=wt.style,Vt=wt.weight;Tt[It]=Tt[It]||{},Tt[It][tn]=Tt[It][tn]||{},Tt[It][tn][rn]=Tt[It][tn][rn]||{},Tt[It][tn][rn][Vt]=wt}return Tt}(ot.concat(kt)),Re=Nt}return xe}(this.pdf,this.fontFaces),be=Le.map(function(At){return{family:At,stretch:"normal",weight:J,style:te}}),Fe=function(At,kt,rt){for(var Nt=(rt=rt||{}).defaultFontFamily||"times",ot=Object.assign({},Uue,rt.genericFontFamilies||{}),Rt=null,Tt=null,Jt=0;Jt<kt.length;++Jt)if(ot[(Rt=Dv(kt[Jt])).family]&&(Rt.family=ot[Rt.family]),At.hasOwnProperty(Rt.family)){Tt=At[Rt.family];break}if(!(Tt=Tt||At[Nt]))throw new Error("Could not find a font-family for the rule '"+tM(Rt)+"' and default family '"+Nt+"'.");if(Tt=function(wt,It){if(It[wt])return It[wt];var tn=o9[wt],rn=tn<=o9.normal?-1:1,Vt=ZT(It,lH,tn,rn);if(!Vt)throw new Error("Could not find a matching font-stretch value for "+wt);return Vt}(Rt.stretch,Tt),Tt=function(wt,It){if(It[wt])return It[wt];for(var tn=oH[wt],rn=0;rn<tn.length;++rn)if(It[tn[rn]])return It[tn[rn]];throw new Error("Could not find a matching font-style for "+wt)}(Rt.style,Tt),!(Tt=function(wt,It){if(It[wt])return It[wt];if(wt===400&&It[500])return It[500];if(wt===500&&It[400])return It[400];var tn=Fue[wt],rn=ZT(It,cH,tn,wt<400?-1:1);if(!rn)throw new Error("Could not find a matching font-weight for value "+wt);return rn}(Rt.weight,Tt)))throw new Error("Failed to resolve a font for the rule '"+tM(Rt)+"'.");return Tt}(He,be);this.pdf.setFont(Fe.ref.name,Fe.ref.style)}else{var Qe="";(J==="bold"||parseInt(J,10)>=700||te==="bold")&&(Qe="bold"),te==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var Ge="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ke=0;ke<Le.length;ke++){if(this.pdf.internal.getFont(Le[ke],Qe,{noFallback:!0,disableWarning:!0})!==void 0){Ge=Le[ke];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(Le[ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=Le[ke],Qe="bold";else if(this.pdf.internal.getFont(Le[ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=Le[ke],Qe="normal";break}}if(Ge===""){for(var De=0;De<Le.length;De++)if(nt[Le[De]]){Ge=nt[Le[De]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(O){this.ctx.globalCompositeOperation=O}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(O){this.ctx.globalAlpha=O}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(O){this.ctx.lineDashOffset=O,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(O){this.ctx.lineDash=O,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(O){this.ctx.ignoreClearRect=!!O}})};u.prototype.setLineDash=function(N){this.lineDash=N},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){v.call(this,"fill",!1)},u.prototype.stroke=function(){v.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(N,H){if(isNaN(N)||isNaN(H))throw kr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new a(N,H));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(N,H)},u.prototype.closePath=function(){var N=new a(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Lr(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){N=new a(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(N.x,N.y)},u.prototype.lineTo=function(N,H){if(isNaN(N)||isNaN(H))throw kr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new a(N,H));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},u.prototype.quadraticCurveTo=function(N,H,V,j){if(isNaN(V)||isNaN(j)||isNaN(N)||isNaN(H))throw kr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new a(V,j)),de=this.ctx.transform.applyToPoint(new a(N,H));this.path.push({type:"qct",x1:de.x,y1:de.y,x:le.x,y:le.y}),this.ctx.lastPoint=new a(le.x,le.y)},u.prototype.bezierCurveTo=function(N,H,V,j,le,de){if(isNaN(le)||isNaN(de)||isNaN(N)||isNaN(H)||isNaN(V)||isNaN(j))throw kr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new a(le,de)),ue=this.ctx.transform.applyToPoint(new a(N,H)),me=this.ctx.transform.applyToPoint(new a(V,j));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:me.x,y2:me.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},u.prototype.arc=function(N,H,V,j,le,de){if(isNaN(N)||isNaN(H)||isNaN(V)||isNaN(j)||isNaN(le))throw kr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new a(N,H));N=he.x,H=he.y;var ue=this.ctx.transform.applyToPoint(new a(0,V)),me=this.ctx.transform.applyToPoint(new a(0,0));V=Math.sqrt(Math.pow(ue.x-me.x,2)+Math.pow(ue.y-me.y,2))}Math.abs(le-j)>=2*Math.PI&&(j=0,le=2*Math.PI),this.path.push({type:"arc",x:N,y:H,radius:V,startAngle:j,endAngle:le,counterclockwise:de})},u.prototype.arcTo=function(N,H,V,j,le){throw new Error("arcTo not implemented.")},u.prototype.rect=function(N,H,V,j){if(isNaN(N)||isNaN(H)||isNaN(V)||isNaN(j))throw kr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,H),this.lineTo(N+V,H),this.lineTo(N+V,H+j),this.lineTo(N,H+j),this.lineTo(N,H),this.lineTo(N+V,H),this.lineTo(N,H)},u.prototype.fillRect=function(N,H,V,j){if(isNaN(N)||isNaN(H)||isNaN(V)||isNaN(j))throw kr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,H,V,j),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},u.prototype.strokeRect=function(N,H,V,j){if(isNaN(N)||isNaN(H)||isNaN(V)||isNaN(j))throw kr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");d.call(this)||(this.beginPath(),this.rect(N,H,V,j),this.stroke())},u.prototype.clearRect=function(N,H,V,j){if(isNaN(N)||isNaN(H)||isNaN(V)||isNaN(j))throw kr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,H,V,j))},u.prototype.save=function(N){N=typeof N!="boolean"||N;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var j=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=j}},u.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(H),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(N){var H,V,j,le;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))H=0,V=0,j=0,le=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(de!==null)H=parseInt(de[1]),V=parseInt(de[2]),j=parseInt(de[3]),le=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)H=parseInt(de[1]),V=parseInt(de[2]),j=parseInt(de[3]),le=parseFloat(de[4]);else{if(le=1,typeof N=="string"&&N.charAt(0)!=="#"){var he=new eH(N);N=he.ok?he.toHex():"#000000"}N.length===4?(H=N.substring(1,2),H+=H,V=N.substring(2,3),V+=V,j=N.substring(3,4),j+=j):(H=N.substring(1,3),V=N.substring(3,5),j=N.substring(5,7)),H=parseInt(H,16),V=parseInt(V,16),j=parseInt(j,16)}}return{r:H,g:V,b:j,a:le,style:N}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},d=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(N,H,V,j){if(isNaN(H)||isNaN(V)||typeof N!="string")throw kr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(j=isNaN(j)?void 0:j,!f.call(this)){var le=ie(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;F.call(this,{text:N,x:H,y:V,scale:de,angle:le,align:this.textAlign,maxWidth:j})}},u.prototype.strokeText=function(N,H,V,j){if(isNaN(H)||isNaN(V)||typeof N!="string")throw kr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!d.call(this)){j=isNaN(j)?void 0:j;var le=ie(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;F.call(this,{text:N,x:H,y:V,scale:de,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:j})}},u.prototype.measureText=function(N){if(typeof N!="string")throw kr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,V=this.pdf.internal.scaleFactor,j=H.internal.getFontSize(),le=H.getStringUnitWidth(N)*j/H.internal.scaleFactor;return new function(de){var he=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:le*=Math.round(96*V/72*1e4)/1e4})},u.prototype.scale=function(N,H){if(isNaN(N)||isNaN(H))throw kr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(N,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},u.prototype.rotate=function(N){if(isNaN(N))throw kr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},u.prototype.translate=function(N,H){if(isNaN(N)||isNaN(H))throw kr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,N,H);this.ctx.transform=this.ctx.transform.multiply(V)},u.prototype.transform=function(N,H,V,j,le,de){if(isNaN(N)||isNaN(H)||isNaN(V)||isNaN(j)||isNaN(le)||isNaN(de))throw kr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(N,H,V,j,le,de);this.ctx.transform=this.ctx.transform.multiply(he)},u.prototype.setTransform=function(N,H,V,j,le,de){N=isNaN(N)?1:N,H=isNaN(H)?0:H,V=isNaN(V)?0:V,j=isNaN(j)?1:j,le=isNaN(le)?0:le,de=isNaN(de)?0:de,this.ctx.transform=new l(N,H,V,j,le,de)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(N,H,V,j,le,de,he,ue,me){var _e=this.pdf.getImageProperties(N),xe=1,Re=1,D=1,O=1;j!==void 0&&ue!==void 0&&(D=ue/j,O=me/le,xe=_e.width/j*ue/j,Re=_e.height/le*me/le),de===void 0&&(de=H,he=V,H=0,V=0),j!==void 0&&ue===void 0&&(ue=j,me=le),j===void 0&&ue===void 0&&(ue=_e.width,me=_e.height);var ne=this.ctx.transform.decompose(),te=ie(ne.rotate.shx),J=new l,ce=(J=(J=(J=J.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale)).applyToRectangle(new o(de-H*D,he-V*O,j*xe,le*Re));if(this.autoPaging){for(var Me,Se=_.call(this,ce),Le=[],He=0;He<Se.length;He+=1)Le.indexOf(Se[He])===-1&&Le.push(Se[He]);b(Le);for(var be=Le[0],Fe=Le[Le.length-1],Qe=be;Qe<Fe+1;Qe++){this.pdf.setPage(Qe);var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=Qe===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=Qe===1?0:ke+(Qe-2)*De;if(this.ctx.clip_path.length!==0){var kt=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Me,this.posX+this.margin[3],-At+nt+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=kt}var rt=JSON.parse(JSON.stringify(ce));rt=y([rt],this.posX+this.margin[3],-At+nt+this.ctx.prevPageLastElemOffset)[0];var Nt=(Qe>be||Qe<Fe)&&g.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,De,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,te),Nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(N,"JPEG",ce.x,ce.y,ce.w,ce.h,null,null,te)};var _=function(N,H,V){var j=[];H=H||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":j.push(Math.floor((N.y+le)/V)+1);break;case"arc":j.push(Math.floor((N.y+le-N.radius)/V)+1),j.push(Math.floor((N.y+le+N.radius)/V)+1);break;case"qct":var de=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);j.push(Math.floor((de.y+le)/V)+1),j.push(Math.floor((de.y+de.h+le)/V)+1);break;case"bct":var he=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);j.push(Math.floor((he.y+le)/V)+1),j.push(Math.floor((he.y+he.h+le)/V)+1);break;case"rect":j.push(Math.floor((N.y+le)/V)+1),j.push(Math.floor((N.y+N.h+le)/V)+1)}for(var ue=0;ue<j.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<j[ue];)m.call(this);return j},m=function(){var N=this.fillStyle,H=this.strokeStyle,V=this.font,j=this.lineCap,le=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=H,this.font=V,this.lineCap=j,this.lineWidth=le,this.lineJoin=de},y=function(N,H,V){for(var j=0;j<N.length;j++)switch(N[j].type){case"bct":N[j].x2+=H,N[j].y2+=V;case"qct":N[j].x1+=H,N[j].y1+=V;default:N[j].x+=H,N[j].y+=V}return N},b=function(N){return N.sort(function(H,V){return H-V})},v=function(N,H){var V=this.fillStyle,j=this.strokeStyle,le=this.lineCap,de=this.lineWidth,he=Math.abs(de*this.ctx.transform.scaleX),ue=this.lineJoin;if(this.autoPaging){for(var me,_e,xe=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),D=[],O=0;O<Re.length;O++)if(Re[O].x!==void 0)for(var ne=_.call(this,Re[O]),te=0;te<ne.length;te+=1)D.indexOf(ne[te])===-1&&D.push(ne[te]);for(var J=0;J<D.length;J++)for(;this.pdf.internal.getNumberOfPages()<D[J];)m.call(this);b(D);for(var ce=D[0],Me=D[D.length-1],Se=ce;Se<Me+1;Se++){this.pdf.setPage(Se),this.fillStyle=V,this.strokeStyle=j,this.lineCap=le,this.lineWidth=he,this.lineJoin=ue;var Le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Se===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=Se===1?0:be+(Se-2)*Fe;if(this.ctx.clip_path.length!==0){var Ge=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(me,this.posX+this.margin[3],-Qe+He+this.ctx.prevPageLastElemOffset),B.call(this,N,!0),this.path=Ge}if(_e=JSON.parse(JSON.stringify(xe)),this.path=y(_e,this.posX+this.margin[3],-Qe+He+this.ctx.prevPageLastElemOffset),H===!1||Se===0){var nt=(Se>ce||Se<Me)&&g.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Le,Fe,null).clip().discardPath()),B.call(this,N,H),nt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=xe}else this.lineWidth=he,B.call(this,N,H),this.lineWidth=de},B=function(N,H){if((N!=="stroke"||H||!d.call(this))&&(N==="stroke"||H||!f.call(this))){for(var V,j,le=[],de=this.path,he=0;he<de.length;he++){var ue=de[he];switch(ue.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:ue,deltas:[],abs:[]});break;case"lt":var me=le.length;if(de[he-1]&&!isNaN(de[he-1].x)&&(V=[ue.x-de[he-1].x,ue.y-de[he-1].y],me>0)){for(;me>=0;me--)if(le[me-1].close!==!0&&le[me-1].begin!==!0){le[me-1].deltas.push(V),le[me-1].abs.push(ue);break}}break;case"bct":V=[ue.x1-de[he-1].x,ue.y1-de[he-1].y,ue.x2-de[he-1].x,ue.y2-de[he-1].y,ue.x-de[he-1].x,ue.y-de[he-1].y],le[le.length-1].deltas.push(V);break;case"qct":var _e=de[he-1].x+2/3*(ue.x1-de[he-1].x),xe=de[he-1].y+2/3*(ue.y1-de[he-1].y),Re=ue.x+2/3*(ue.x1-ue.x),D=ue.y+2/3*(ue.y1-ue.y),O=ue.x,ne=ue.y;V=[_e-de[he-1].x,xe-de[he-1].y,Re-de[he-1].x,D-de[he-1].y,O-de[he-1].x,ne-de[he-1].y],le[le.length-1].deltas.push(V);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(ue)}}j=H?null:N==="stroke"?"stroke":"fill";for(var te=!1,J=0;J<le.length;J++)if(le[J].arc)for(var ce=le[J].abs,Me=0;Me<ce.length;Me++){var Se=ce[Me];Se.type==="arc"?R.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,H,!te):P.call(this,Se.x,Se.y),te=!0}else if(le[J].close===!0)this.pdf.internal.out("h"),te=!1;else if(le[J].begin!==!0){var Le=le[J].start.x,He=le[J].start.y;S.call(this,le[J].deltas,Le,He),te=!0}j&&w.call(this,j),H&&U.call(this)}},C=function(N){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-V;case"top":return N+H-V;case"hanging":return N+H-2*V;case"middle":return N+H/2-V;default:return N}},I=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(H,V){this.colorStops.push([H,V])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(N,H,V,j,le,de,he,ue,me){for(var _e=re.call(this,V,j,le,de),xe=0;xe<_e.length;xe++){var Re=_e[xe];xe===0&&(me?M.call(this,Re.x1+N,Re.y1+H):P.call(this,Re.x1+N,Re.y1+H)),W.call(this,N,H,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}ue?U.call(this):w.call(this,he)},w=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(N,H){this.pdf.internal.out(t(N)+" "+r(H)+" m")},F=function(N){var H;switch(N.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var V,j,le,de=this.pdf.getTextDimensions(N.text),he=C.call(this,N.y),ue=I.call(this,he)-de.h,me=this.ctx.transform.applyToPoint(new a(N.x,he));if(this.autoPaging){var _e=this.ctx.transform.decompose(),xe=new l;xe=(xe=(xe=xe.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Re=this.ctx.transform.applyToRectangle(new o(N.x,he,de.w,de.h)),D=xe.applyToRectangle(new o(N.x,ue,de.w,de.h)),O=_.call(this,D),ne=[],te=0;te<O.length;te+=1)ne.indexOf(O[te])===-1&&ne.push(O[te]);b(ne);for(var J=ne[0],ce=ne[ne.length-1],Me=J;Me<ce+1;Me++){this.pdf.setPage(Me);var Se=Me===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],be=He-this.margin[0],Fe=this.pdf.internal.pageSize.width-this.margin[1],Qe=Fe-this.margin[3],Ge=Me===1?0:Le+(Me-2)*be;if(this.ctx.clip_path.length!==0){var nt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(V,this.posX+this.margin[3],-1*Ge+Se),B.call(this,"fill",!0),this.path=nt}var ke=y([JSON.parse(JSON.stringify(D))],this.posX+this.margin[3],-Ge+Se+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(j=this.pdf.internal.getFontSize(),this.pdf.setFontSize(j*N.scale),le=this.lineWidth,this.lineWidth=le*N.scale);var De=this.autoPaging!=="text";if(De||ke.y+ke.h<=He){if(De||ke.y>=Se&&ke.x<=Fe){var At=De?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Fe-ke.x)[0],kt=y([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Ge+Se+this.ctx.prevPageLastElemOffset)[0],rt=De&&(Me>J||Me<ce)&&g.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,be,null).clip().discardPath()),this.pdf.text(At,kt.x,kt.y,{angle:N.angle,align:H,renderingMode:N.renderingMode}),rt&&this.pdf.restoreGraphicsState()}}else ke.y<He&&(this.ctx.prevPageLastElemOffset+=He-ke.y);N.scale>=.01&&(this.pdf.setFontSize(j),this.lineWidth=le)}}else N.scale>=.01&&(j=this.pdf.internal.getFontSize(),this.pdf.setFontSize(j*N.scale),le=this.lineWidth,this.lineWidth=le*N.scale),this.pdf.text(N.text,me.x+this.posX,me.y+this.posY,{angle:N.angle,align:H,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(j),this.lineWidth=le)},P=function(N,H,V,j){V=V||0,j=j||0,this.pdf.internal.out(t(N+V)+" "+r(H+j)+" l")},S=function(N,H,V){return this.pdf.lines(N,H,V,null,null)},W=function(N,H,V,j,le,de,he,ue){this.pdf.internal.out([e(i(V+N)),e(s(j+H)),e(i(le+N)),e(s(de+H)),e(i(he+N)),e(s(ue+H)),"c"].join(" "))},re=function(N,H,V,j){for(var le=2*Math.PI,de=Math.PI/2;H>V;)H-=le;var he=Math.abs(V-H);he<le&&j&&(he=le-he);for(var ue=[],me=j?-1:1,_e=H;he>1e-5;){var xe=_e+me*Math.min(he,de);ue.push(G.call(this,N,_e,xe)),he-=Math.abs(xe-_e),_e=xe}return ue},G=function(N,H,V){var j=(V-H)/2,le=N*Math.cos(j),de=N*Math.sin(j),he=le,ue=-de,me=he*he+ue*ue,_e=me+he*le+ue*de,xe=4/3*(Math.sqrt(2*me*_e)-_e)/(he*de-ue*le),Re=he-xe*ue,D=ue+xe*he,O=Re,ne=-D,te=j+H,J=Math.cos(te),ce=Math.sin(te);return{x1:N*Math.cos(H),y1:N*Math.sin(H),x2:Re*J-D*ce,y2:Re*ce+D*J,x3:O*J-ne*ce,y3:O*ce+ne*J,x4:N*Math.cos(V),y4:N*Math.sin(V)}},ie=function(N){return 180*N/Math.PI},X=function(N,H,V,j,le,de){var he=N+.5*(V-N),ue=H+.5*(j-H),me=le+.5*(V-le),_e=de+.5*(j-de),xe=Math.min(N,le,he,me),Re=Math.max(N,le,he,me),D=Math.min(H,de,ue,_e),O=Math.max(H,de,ue,_e);return new o(xe,D,Re-xe,O-D)},ge=function(N,H,V,j,le,de,he,ue){var me,_e,xe,Re,D,O,ne,te,J,ce,Me,Se,Le,He,be=V-N,Fe=j-H,Qe=le-V,Ge=de-j,nt=he-le,ke=ue-de;for(_e=0;_e<41;_e++)J=(ne=(xe=N+(me=_e/40)*be)+me*((D=V+me*Qe)-xe))+me*(D+me*(le+me*nt-D)-ne),ce=(te=(Re=H+me*Fe)+me*((O=j+me*Ge)-Re))+me*(O+me*(de+me*ke-O)-te),_e==0?(Me=J,Se=ce,Le=J,He=ce):(Me=Math.min(Me,J),Se=Math.min(Se,ce),Le=Math.max(Le,J),He=Math.max(He,ce));return new o(Math.round(Me),Math.round(Se),Math.round(Le-Me),Math.round(He-Se))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,H,V=(N=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:H}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(mn.API),function(n){var e=function(a){var o,l,c,A,u,h,f,d,g,_;for(l=[],c=0,A=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;A>c;c+=4)(u=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(h=(u=((u=((u=((u=(u-(_=u%85))/85)-(g=u%85))/85)-(d=u%85))/85)-(f=u%85))/85)%85,l.push(h+33,f+33,d+33,g+33,_+33)):l.push(122);return function(m,y){for(var b=y;b>0;b--)m.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var o,l,c,A,u,h=String,f="length",d=255,g="charCodeAt",_="slice",m="replace";for(a[_](-2),a=a[_](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),c=[],A=0,u=(a+=o="uuuuu"[_](a[f]%5||5))[f];u>A;A+=5)l=52200625*(a[g](A)-33)+614125*(a[g](A+1)-33)+7225*(a[g](A+2)-33)+85*(a[g](A+3)-33)+(a[g](A+4)-33),c.push(d&l>>24,d&l>>16,d&l>>8,d&l);return function(y,b){for(var v=b;v>0;v--)y.pop()}(c,o[f]),h.fromCharCode.apply(h,c)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=T7(o)).reduce(function(c,A){return c+String.fromCharCode(A)},"")};n.processDataByFilters=function(a,o){var l=0,c=a||"",A=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:A.reverse().join(" ")}}}(mn.API),function(n){n.loadFile=function(e,t,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,A){var u=new XMLHttpRequest,h=0,f=function(d){var g=d.length,_=[],m=String.fromCharCode;for(h=0;h<g;h+=1)_.push(m(255&d.charCodeAt(h)));return _.join("")};if(u.open("GET",l,!c),u.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(u.onload=function(){u.status===200?A(f(this.responseText)):A(void 0)}),u.send(null),c&&u.status===200)return f(u.responseText)}(i,s,a)}catch{}return o}(e,t,r)},n.loadImageFile=n.loadFile}(mn.API),function(n){function e(){return(xn.html2canvas?Promise.resolve(xn.html2canvas):Jo(()=>Promise.resolve().then(()=>x0e),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(xn.DOMPurify?Promise.resolve(xn.DOMPurify):Jo(()=>Promise.resolve().then(()=>SQe),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=Lr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var A in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[A]=l.style[A];return c},s=function o(l,c){for(var A=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),u=l.firstChild;u;u=u.nextSibling)c!==!0&&u.nodeType===1&&u.nodeName==="SCRIPT"||A.appendChild(o(u,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(A.width=l.width,A.height=l.height,A.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(A.value=l.value),A.addEventListener("load",function(){A.scrollTop=l.scrollTop,A.scrollLeft=l.scrollLeft},!0)),A},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),A=o.convert(Promise.resolve(),c);return(A=A.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,A=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=A,A)for(var f=0;f<A.length;++f){var d=A[f],g=d.src.find(function(_){return _.format==="truetype"});g&&c.addFont(g.url,d.ref.name,d.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,A){return Math.floor(c*A/72*96)}return this.then(function(){(o=o||mn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,A){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,A){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,A?this.progress.stack.concat(A):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(A,u){return c.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,A),h}).then(A,u).then(function(h){return c.updateProgress(1),h})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var A=this;o&&(o=o.bind(A)),l&&(l=l.bind(A));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:a.convert(Object.assign({},A),Promise.prototype),h=c.call(u,o,l);return a.convert(h,A.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,mn.getPageSize=function(o,l,c){if(Lr(o)==="object"){var A=o;o=A.orientation,l=A.unit||l,c=A.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var d,g=0,_=0;if(f.hasOwnProperty(h))g=f[h][1]/u,_=f[h][0]/u;else try{g=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",_>g&&(d=_,_=g,g=d);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>_&&(d=_,_=g,g=d)}return{width:_,height:g,unit:l,k:u,orientation:o}},n.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Dv):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(mn.API),mn.API.addJS=function(n){return iM=n,this.internal.events.subscribe("postPutResources",function(){s4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(s4+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),rM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+iM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){s4!==void 0&&rM!==void 0&&this.internal.out("/Names <</JavaScript "+s4+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,A=[];for(s=0;s<c;s++){var u=t.internal.newObject();A.push(u);var h=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<A.length;s++)t.internal.write("(page_"+(s+1)+")"+A[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(mn.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,A=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=function(u){for(var h,f=256*u.charCodeAt(4)+u.charCodeAt(5),d=u.length,g={width:0,height:0,numcomponents:1},_=4;_<d;_+=2){if(_+=f,e.indexOf(u.charCodeAt(_+1))!==-1){h=256*u.charCodeAt(_+5)+u.charCodeAt(_+6),g={width:256*u.charCodeAt(_+7)+u.charCodeAt(_+8),height:h,numcomponents:u.charCodeAt(_+9)};break}f=256*u.charCodeAt(_+2)+u.charCodeAt(_+3)}return g}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}A={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return A}}(mn.API),mn.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=yue(n,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,A=s.depth;i=c&&l===1?function(R){for(var w=R.width,U=R.height,M=R.data,F=R.palette,P=R.depth,S=!1,W=[],re=[],G=void 0,ie=!1,X=0,ge=0;ge<F.length;ge++){var K=lT(F[ge],4),N=K[0],H=K[1],V=K[2],j=K[3];W.push(N,H,V),j!=null&&(j===0?(X++,re.length<1&&re.push(ge)):j<255&&(ie=!0))}if(ie||X>1){S=!0,re=void 0;var le=w*U;G=new Uint8Array(le);for(var de=new DataView(M.buffer),he=0;he<le;he++){var ue=zv(de,he,P),me=lT(F[ue],4)[3];G[he]=me}}else X===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:S?8:void 0,colorBytes:M,alphaBytes:G,needSMask:S,palette:W,mask:re}}(s):l===2||l===4?function(R){for(var w=R.data,U=R.width,M=R.height,F=R.channels,P=R.depth,S=F===2?"DeviceGray":"DeviceRGB",W=F-1,re=U*M,G=W,ie=re*G,X=1*re,ge=Math.ceil(ie*P/8),K=Math.ceil(X*P/8),N=new Uint8Array(ge),H=new Uint8Array(K),V=new DataView(w.buffer),j=new DataView(N.buffer),le=new DataView(H.buffer),de=!1,he=0;he<re;he++){for(var ue=he*F,me=0;me<G;me++)hM(j,zv(V,ue+me,P),he*G+me,P);var _e=zv(V,ue+G,P);_e<(1<<P)-1&&(de=!0),hM(le,_e,1*he,P)}return{colorSpace:S,colorsPerPixel:W,sMaskBitsPerComponent:de?P:void 0,colorBytes:N,alphaBytes:H,needSMask:de}}(s):function(R){var w=R.data,U=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:w instanceof Uint16Array?function(M){for(var F=M.length,P=new Uint8Array(2*F),S=new DataView(P.buffer,P.byteOffset,P.byteLength),W=0;W<F;W++)S.setUint16(2*W,M[W],!1);return P}(w):w,needSMask:!1}}(s);var u,h,f,d=i,g=d.colorSpace,_=d.colorsPerPixel,m=d.sMaskBitsPerComponent,y=d.colorBytes,b=d.alphaBytes,v=d.needSMask,B=d.palette,C=d.mask,I=null;return r!==mn.API.image_compression.NONE&&typeof T7=="function"?(I=function(R){var w;switch(R){case mn.API.image_compression.FAST:w=11;break;case mn.API.image_compression.MEDIUM:w=13;break;case mn.API.image_compression.SLOW:w=14;break;default:w=12}return w}(r),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(I," /Colors ").concat(_," /BitsPerComponent ").concat(A," /Columns ").concat(a),n=lM(y,Math.ceil(a*_*A/8),_,A,r),v&&(f=lM(b,Math.ceil(a*m/8),1,m,r))):(u=void 0,h=void 0,n=y,v&&(f=b)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:t,data:n,index:e,filter:u,decodeParameters:h,transparency:C,palette:B,sMask:f,predictor:I,width:a,height:o,bitsPerComponent:A,sMaskBitsPerComponent:m,colorSpace:g}}},function(n){n.processGIF89A=function(e,t,r,i){var s=new zue(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},A=new Hv(100).encode(c,100);return n.processJPEG.call(this,A,t,r,i)},n.processGIF87A=n.processGIF89A}(mn.API),pl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},pl.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){kr.log("bit decode error:"+t)}},pl.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},pl.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},pl.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},pl.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,A=r*this.width*4+4*i;this.data[A]=l,this.data[A+1]=o,this.data[A+2]=a,this.data[A+3]=c}this.pos+=n}},pl.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,c=(a>>11)/e*255|0,A=i*this.width*4+4*s;this.data[A]=c,this.data[A+1]=l,this.data[A+2]=o,this.data[A+3]=255}this.pos+=n}},pl.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},pl.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},pl.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new pl(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Hv(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(mn.API),gM.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new gM(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Hv(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(mn.API),mn.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var A=r[c],u=r[c+1],h=r[c+2],f=r[c+3];s[o++]=A,s[o++]=u,s[o++]=h,a[l++]=f}var d=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:d,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},mn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ff=mn.API,a4=Ff.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,A=c.fof?c.fof:1,u=e.doKerning!==!1,h=0,f=n.length,d=0,g=o[0]||l,_=[];for(t=0;t<f;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(h=u&&Lr(c[r])==="object"&&!isNaN(parseInt(c[r][d],10))?c[r][d]/A:0,_.push((o[r]||g)/l+h)),d=r;return _},sM=Ff.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ff.processArabic&&(n=Ff.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:a4.apply(this,arguments).reduce(function(s,a){return s+a},0)},aM=function(n,e,t,r){for(var i=[],s=0,a=n.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(n.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(n.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},oM=function(n,e,t){t||(t={});var r,i,s,a,o,l,c,A=[],u=[A],h=t.textIndent||0,f=0,d=0,g=n.split(" "),_=a4.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var m=Array(l).join(" "),y=[];g.map(function(v){(v=v.split(/\s*\n/)).length>1?y=y.concat(v.map(function(B,C){return(C&&B.length?`
`:"")+B})):y.push(v[0])}),g=y,l=sM.apply(this,[m,t])}for(s=0,a=g.length;s<a;s++){var b=0;if(r=g[s],l&&r[0]==`
`&&(r=r.substr(1),b=1),h+f+(d=(i=a4.apply(this,[r,t])).reduce(function(v,B){return v+B},0))>e||b){if(d>e){for(o=aM.apply(this,[r,i,e-(h+f),e]),A.push(o.shift()),A=[o.pop()];o.length;)u.push([o.shift()]);d=i.slice(r.length-(A[0]?A[0].length:0)).reduce(function(v,B){return v+B},0)}else A=[r];u.push(A),h=d+l,f=_}else A.push(r),h+=f+d,f=_}return c=l?function(v,B){return(B?m:"")+v.join(" ")}:function(v){return v.join(" ")},u.map(c)},Ff.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var u=this.internal.getFont(A.fontName,A.fontStyle),h="Unicode";return u.metadata[h]?{widths:u.metadata[h].widths||{0:1},kerning:u.metadata[h].kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(oM.apply(this,[r[o],a,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},o=n.__fontmetrics__.compress=function(h){var f,d,g,_,m=["{"];for(var y in h){if(f=h[y],isNaN(parseInt(y,10))?d="'"+y+"'":(y=parseInt(y,10),d=(d=a(y).slice(2)).slice(0,-1)+i[d.slice(-1)]),typeof f=="number")f<0?(g=a(f).slice(3),_="-"):(g=a(f).slice(2),_=""),g=_+g.slice(0,-1)+i[g.slice(-1)];else{if(Lr(f)!=="object")throw new Error("Don't know what to do with value type "+Lr(f)+".");g=o(f)}m.push(d+g)}return m.push("}"),m.join("")},l=n.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,d,g,_,m={},y=1,b=m,v=[],B="",C="",I=h.length-1,R=1;R<I;R+=1)(_=h[R])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(_):_=="{"?(v.push([b,g]),b={},g=void 0):_=="}"?((d=v.pop())[0][d[1]]=b,g=void 0,b=d[0]):_=="-"?y=-1:g===void 0?r.hasOwnProperty(_)?(B+=r[_],g=parseInt(B,16)*y,y=1,B=""):B+=_:r.hasOwnProperty(_)?(C+=r[_],b[g]=parseInt(C,16)*y,y=1,g=void 0,C=""):C+=_;return m},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var f=h.font,d=u.Unicode[f.postScriptName];d&&(f.metadata.Unicode={},f.metadata.Unicode.widths=d.widths,f.metadata.Unicode.kerning=d.kerning);var g=A.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(mn.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(pm(o)),a.metadata=n.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(mn),mn.API.addSvgAsImage=function(n,e,t,r,i,s,a,o){if(isNaN(e)||isNaN(t))throw kr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw kr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(xn.canvg?Promise.resolve(xn.canvg):Jo(()=>import("./DkC97FJr.js"),__vite__mapDeps([10,7,8]),import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,n,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(A)}).then(function(){u.addImage(l.toDataURL("image/jpeg",1),e,t,r,i,a,o)})},mn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},mn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,A=0,u=0;function h(d,g){var _,m=!1;for(_=0;_<d.length;_+=1)d[_]===g&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var f=o.length;for(u=0;u<f;u+=1)t[o[u]].value=t[o[u]].defaultValue,t[o[u]].explicitSet=!1}if(Lr(n)==="object"){for(i in n)if(s=n[i],h(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&h(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(A=0;A<s[c].length;A+=1)typeof s[c][A]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var d,g=[];for(d in t)t[d].explicitSet===!0&&(t[d].type==="name"?g.push("/"+d+" /"+t[d].value):g.push("/"+d+" "+t[d].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(mn.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],A=[""],u=0,h=s.length;u<h;++u){if(o=a.metadata.characterToGlyph(s.charCodeAt(u)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(u),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return A.join("");o=o.toString(16),A.push(c[4-o.length],o)}return A.join("")},r=function(s){var a,o,l,c,A,u,h;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],u=0,h=(o=Object.keys(s).sort(function(f,d){return f-d})).length;u<h;u++)a=o[u],l.length>=100&&(A+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(A+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,A=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var u=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",d=0;d<h.length;d++)f+=String.fromCharCode(h[d]);var g=c();A({data:f,addLength1:!0,objectId:g}),l("endobj");var _=c();A({data:r(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var m=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+nh(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+nh(o.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+n.API.PDFObject.convert(u)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+nh(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,A=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var u=o.metadata.rawData,h="",f=0;f<u.length;f++)h+=String.fromCharCode(u[f]);var d=c();A({data:h,addLength1:!0,objectId:d}),l("endobj");var g=c();A({data:r(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var _=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+d+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+nh(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+nh(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,A=s.options||{},u=s.mutex||{},h=u.pdfEscape,f=u.activeFontKey,d=u.fonts,g=f,_="",m=0,y="",b=d[g].encoding;if(d[g].encoding!=="Identity-H")return{text:o,x:l,y:c,options:A,mutex:u};for(y=o,g=f,Array.isArray(o)&&(y=o[0]),m=0;m<y.length;m+=1)d[g].metadata.hasOwnProperty("cmap")&&(a=d[g].metadata.cmap.unicode.codeMap[y[m].charCodeAt(0)]),a||y[m].charCodeAt(0)<256&&d[g].metadata.hasOwnProperty("Unicode")?_+=y[m]:_+="";var v="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?v=h(_,g).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(v=t(_,d[g])),u.isHex=!0,{text:v,x:l,y:c,options:A,mutex:u}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(mn),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(mn.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,A,u=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var v=function(M){var F=M.charCodeAt(),P=F>>8,S=g[P];return S!==void 0?u[256*S+(255&F)]:P===252||P===253?"AL":m.test(P)?"L":P===8?"R":"N"},B=function(M){for(var F,P=0;P<M.length;P++){if((F=v(M.charAt(P)))==="L")return!1;if(F==="R")return!0}return!1},C=function(M,F,P,S){var W,re,G,ie,X=F[S];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(X="AN");break;case"AL":y=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":S<1||S+1>=F.length||(W=P[S-1])!=="EN"&&W!=="AN"||(re=F[S+1])!=="EN"&&re!=="AN"?X="N":y&&(re="AN"),X=re===W?re:"N";break;case"ES":X=(W=S>0?P[S-1]:"B")==="EN"&&S+1<F.length&&F[S+1]==="EN"?"EN":"N";break;case"ET":if(S>0&&P[S-1]==="EN"){X="EN";break}if(y){X="N";break}for(G=S+1,ie=F.length;G<ie&&F[G]==="ET";)G++;X=G<ie&&F[G]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(ie=F.length,G=S+1;G<ie&&F[G]==="NSM";)G++;if(G<ie){var ge=M[S],K=ge>=1425&&ge<=2303||ge===64286;if(W=F[G],K&&(W==="R"||W==="AL")){X="R";break}}}X=S<1||(W=F[S-1])==="B"?"N":P[S-1];break;case"B":y=!1,i=!0,X=b;break;case"S":s=!0,X="N"}return X},I=function(M,F,P){var S=M.split("");return P&&R(S,P,{hiLevel:b}),S.reverse(),F&&F.reverse(),S.join("")},R=function(M,F,P){var S,W,re,G,ie,X=-1,ge=M.length,K=0,N=[],H=b?f:h,V=[];for(y=!1,i=!1,s=!1,W=0;W<ge;W++)V[W]=v(M[W]);for(re=0;re<ge;re++){if(ie=K,N[re]=C(M,V,N,re),S=240&(K=H[ie][d[N[re]]]),K&=15,F[re]=G=H[K][5],S>0)if(S===16){for(W=X;W<re;W++)F[W]=1;X=-1}else X=-1;if(H[K][6])X===-1&&(X=re);else if(X>-1){for(W=X;W<re;W++)F[W]=G;X=-1}V[re]==="B"&&(F[re]=0),P.hiLevel|=G}s&&function(j,le,de){for(var he=0;he<de;he++)if(j[he]==="S"){le[he]=b;for(var ue=he-1;ue>=0&&j[ue]==="WS";ue--)le[ue]=b}}(V,F,ge)},w=function(M,F,P,S,W){if(!(W.hiLevel<M)){if(M===1&&b===1&&!i)return F.reverse(),void(P&&P.reverse());for(var re,G,ie,X,ge=F.length,K=0;K<ge;){if(S[K]>=M){for(ie=K+1;ie<ge&&S[ie]>=M;)ie++;for(X=K,G=ie-1;X<G;X++,G--)re=F[X],F[X]=F[G],F[G]=re,P&&(re=P[X],P[X]=P[G],P[G]=re);K=ie}K++}}},U=function(M,F,P){var S=M.split(""),W={hiLevel:b};return P||(P=[]),R(S,P,W),function(re,G,ie){if(ie.hiLevel!==0&&A)for(var X,ge=0;ge<re.length;ge++)G[ge]===1&&(X=_.indexOf(re[ge]))>=0&&(re[ge]=_[X+1])}(S,P,W),w(2,S,F,P,W),w(1,S,F,P,W),S.join("")};return this.__bidiEngine__.doBidiReorder=function(M,F,P){if(function(W,re){if(re)for(var G=0;G<W.length;G++)re[G]=G;o===void 0&&(o=B(W)),c===void 0&&(c=B(W))}(M,F),a||!l||c)if(a&&l&&o^c)b=o?1:0,M=I(M,F,P);else if(!a&&l&&c)b=o?1:0,M=U(M,F,P),M=I(M,F);else if(!a||o||l||c){if(a&&!l&&o^c)M=I(M,F),o?(b=0,M=U(M,F,P)):(b=1,M=U(M,F,P),M=I(M,F));else if(a&&o&&!l&&c)b=1,M=U(M,F,P),M=I(M,F);else if(!a&&!l&&o^c){var S=A;o?(b=1,M=U(M,F,P),b=0,A=!1,M=U(M,F,P),A=S):(b=0,M=U(M,F,P),M=I(M,F),b=1,A=!1,M=U(M,F,P),A=S,M=I(M,F))}}else b=0,M=U(M,F,P);else b=o?1:0,M=U(M,F,P);return M},this.__bidiEngine__.setOptions=function(M){M&&(a=M.isInputVisual,l=M.isOutputVisual,o=M.isInputRtl,c=M.isOutputRtl,A=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(mn),mn.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new au(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new t1e(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Hue(this.contents),this.head=new jue(this),this.name=new $ue(this),this.cmap=new uH(this),this.toUnicode={},this.hhea=new Yue(this),this.maxp=new Wue(this),this.hmtx=new que(this),this.post=new Vue(this),this.os2=new Gue(this),this.loca=new e1e(this),this.glyf=new Xue(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var ql,au=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,a,o,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),Hue=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,o,l,c,A,u,h,f,d,g;for(g in f=Object.keys(t).length,l=Math.log(2),u=16*Math.floor(Math.log(f)/l),a=Math.floor(u/l),A=16*f-u,(i=new au).writeInt(this.scalarType),i.writeShort(f),i.writeShort(u),i.writeShort(a),i.writeShort(A),s=16*f,c=i.pos+s,o=null,d=[],t)for(h=t[g],i.writeString(g),i.writeInt(n(h)),i.writeInt(c),i.writeInt(h.length),d=d.concat(h),g==="head"&&(o=c),c+=h.length;c%4;)d.push(0),c++;return i.write(d),r=2981146554-n(i.data),i.pos=o+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,a;for(t=fH.call(t);t.length%4;)t.push(0);for(s=new au(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Que={}.hasOwnProperty,Dc=function(n,e){for(var t in e)Que.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ql=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var jue=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Dc(n,ql),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new au).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n}(),pM=function(){function n(e,t){var r,i,s,a,o,l,c,A,u,h,f,d,g,_,m,y,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,s=function(){var v,B;for(B=[],l=v=0;0<=h?v<h:v>h;l=0<=h?++v:--v)B.push(e.readUInt16());return B}(),e.pos+=2,g=function(){var v,B;for(B=[],l=v=0;0<=h?v<h:v>h;l=0<=h?++v:--v)B.push(e.readUInt16());return B}(),c=function(){var v,B;for(B=[],l=v=0;0<=h?v<h:v>h;l=0<=h?++v:--v)B.push(e.readUInt16());return B}(),A=function(){var v,B;for(B=[],l=v=0;0<=h?v<h:v>h;l=0<=h?++v:--v)B.push(e.readUInt16());return B}(),i=(this.length-e.pos+this.offset)/2,o=function(){var v,B;for(B=[],l=v=0;0<=i?v<i:v>i;l=0<=i?++v:--v)B.push(e.readUInt16());return B}(),l=m=0,b=s.length;m<b;l=++m)for(_=s[l],r=y=d=g[l];d<=_?y<=_:y>=_;r=d<=_?++y:--y)A[l]===0?a=r+c[l]:(a=o[A[l]/2+(r-d)-(h-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=u}return n.encode=function(e,t){var r,i,s,a,o,l,c,A,u,h,f,d,g,_,m,y,b,v,B,C,I,R,w,U,M,F,P,S,W,re,G,ie,X,ge,K,N,H,V,j,le,de,he,ue,me,_e,xe;switch(S=new au,a=Object.keys(e).sort(function(Re,D){return Re-D}),t){case"macroman":for(g=0,_=function(){var Re=[];for(d=0;d<256;++d)Re.push(0);return Re}(),y={0:0},s={},W=0,X=a.length;W<X;W++)y[ue=e[i=a[W]]]==null&&(y[ue]=++g),s[i]={old:e[i],new:y[e[i]]},_[i]=y[e[i]];return S.writeUInt16(1),S.writeUInt16(0),S.writeUInt32(12),S.writeUInt16(0),S.writeUInt16(262),S.writeUInt16(0),S.write(_),{charMap:s,subtable:S.data,maxGlyphID:g+1};case"unicode":for(F=[],u=[],b=0,y={},r={},m=c=null,re=0,ge=a.length;re<ge;re++)y[B=e[i=a[re]]]==null&&(y[B]=++b),r[i]={old:B,new:y[B]},o=y[B]-i,m!=null&&o===c||(m&&u.push(m),F.push(i),c=o),m=i;for(m&&u.push(m),u.push(65535),F.push(65535),U=2*(w=F.length),R=2*Math.pow(Math.log(w)/Math.LN2,2),h=Math.log(R/2)/Math.LN2,I=2*w-R,l=[],C=[],f=[],d=G=0,K=F.length;G<K;d=++G){if(M=F[d],A=u[d],M===65535){l.push(0),C.push(0);break}if(M-(P=r[M].new)>=32768)for(l.push(0),C.push(2*(f.length+w-d)),i=ie=M;M<=A?ie<=A:ie>=A;i=M<=A?++ie:--ie)f.push(r[i].new);else l.push(P-M),C.push(0)}for(S.writeUInt16(3),S.writeUInt16(1),S.writeUInt32(12),S.writeUInt16(4),S.writeUInt16(16+8*w+2*f.length),S.writeUInt16(0),S.writeUInt16(U),S.writeUInt16(R),S.writeUInt16(h),S.writeUInt16(I),de=0,N=u.length;de<N;de++)i=u[de],S.writeUInt16(i);for(S.writeUInt16(0),he=0,H=F.length;he<H;he++)i=F[he],S.writeUInt16(i);for(me=0,V=l.length;me<V;me++)o=l[me],S.writeUInt16(o);for(_e=0,j=C.length;_e<j;_e++)v=C[_e],S.writeUInt16(v);for(xe=0,le=f.length;xe<le;xe++)g=f[xe],S.writeUInt16(g);return{charMap:r,subtable:S.data,maxGlyphID:b+1}}},n}(),uH=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Dc(n,ql),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new pM(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=pM.encode(e,t),(i=new au).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n}(),Yue=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Dc(n,ql),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n}(),Gue=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Dc(n,ql),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n}(),Vue=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Dc(n,ql),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},n}(),Kue=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$ue=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Dc(n,ql),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,a,o,l,c,A,u,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=A=0,u=r.length;A<u;s=++A)i=r[s],e.pos=i.offset,c=e.readString(i.length),a=new Kue(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n}(),Wue=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Dc(n,ql),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n}(),que=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Dc(n,ql),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,A;for(A=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)A.push(e.readInt16());return A}(),this.widths=(function(){var c,A,u,h;for(h=[],c=0,A=(u=this.metrics).length;c<A;c++)s=u[c],h.push(s.advance);return h}).call(this),r=this.widths[this.widths.length-1],l=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)l.push(this.widths.push(r));return l},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n}(),fH=[].slice,Xue=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Dc(n,ql),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,a,o,l,c,A,u;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,a=(o=new au(t.read(i))).readShort(),c=o.readShort(),u=o.readShort(),l=o.readShort(),A=o.readShort(),this.cache[e]=a===-1?new Zue(o,c,u,l,A):new Jue(o,a,c,u,l,A),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,a,o,l;for(a=[],s=[],o=0,l=t.length;o<l;o++)i=e[t[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},n}(),Jue=function(){function n(e,t,r,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Zue=function(){function n(e,t,r,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new au(fH.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),e1e=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Dc(n,ql),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<t.length&&t[s]==a){++s,r[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),A=0;A<r.length;++A)c[4*A+3]=255&r[A],c[4*A+2]=(65280&r[A])>>8,c[4*A+1]=(16711680&r[A])>>16,c[4*A]=(4278190080&r[A])>>24;return c},n}(),t1e=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,a,o,l,c,A,u,h,f,d,g,_,m;for(i in r=uH.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},m=r.charMap)f[(l=m[i]).old]=l.new;for(d in h=r.maxGlyphID,a)d in f||(f[d]=h++);return A=function(y){var b,v;for(b in v={},y)v[y[b]]=b;return v}(f),u=Object.keys(A).sort(function(y,b){return y-b}),g=function(){var y,b,v;for(v=[],y=0,b=u.length;y<b;y++)o=u[y],v.push(A[o]);return v}(),s=this.font.glyf.encode(a,g,f),c=this.font.loca.encode(s.offsets,g),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},n}();mn.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,a;if(Array.isArray(t))return"["+function(){var o,l,c;for(c=[],o=0,l=t.length;o<l;o++)r=t[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();const hH=(n,e)=>{const[t,r,i,s]=e,a=n.lng,o=n.lat;return a>=t&&a<=i&&o>=r&&o<=s},dH=(n,e)=>{const[t,r,i,s]=n,[a,o,l,c]=e;return t<l&&i>a&&r<c&&s>o},gH=(n,e)=>{const[t,r,i,s]=n,[a,o,l,c]=e;return t>=a&&i<=l&&r>=o&&s<=c},I5=n=>{const[e,t,r,i]=n,s=g=>g>=TD&&g<=ID,a=g=>g>=-180&&g<=180,o=s(t),l=s(i),c=a(e),A=a(r),u=t<=i,h=e<=r,f=g=>isFinite(g)&&!isNaN(g),d=[e,t,r,i].every(f);return o&&l&&c&&A&&u&&h&&d},n1e=n=>{if(n.length!==4)throw new Error("Input array must contain exactly 4 numbers (minLon, minLat, maxLon, maxLat).");const e=n[0],t=n[1],r=n[2],i=n[3];return[[e,i],[r,i],[r,t],[e,t]]},r1e=n=>{const e=n.getContainer().clientHeight/2,t=n.getContainer().clientWidth/2,r=100,i=n.unproject([t-r/2,e]),s=n.unproject([t+r/2,e]),a=Math.round(n.project(s).x-n.project(i).x),o=Math.min(r,a,n.getContainer().clientWidth),h=i.distanceTo(s)/o*96/.0254;return Math.round(h)};async function xp(n,e,t,r){return r._parse(n,e,t,r)}function zr(n,e){if(!n)throw new Error(e||"loader assertion failed.")}const p6=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),_M=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);_M&&parseFloat(_M[1]);const o4=globalThis,Uf=globalThis.process||{},i1e=globalThis.navigator||{};function pH(n){var r,i;if(typeof window<"u"&&((r=window.process)==null?void 0:r.type)==="renderer"||typeof process<"u"&&((i=process.versions)!=null&&i.electron))return!0;const t=typeof navigator<"u"&&navigator.userAgent;return!!(t&&t.indexOf("Electron")>=0)}function sf(){return!(typeof process=="object"&&String(process)==="[object process]"&&!(process!=null&&process.browser))||pH()}function s1e(n){return sf()?pH()?"Electron":(i1e.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node"}const _H="4.1.0";function a1e(n){try{const e=window[n],t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch{return null}}class o1e{constructor(e,t,r="sessionStorage"){this.storage=a1e(r),this.id=e,this.config=t,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function l1e(n){let e;return n<10?e=`${n.toFixed(2)}ms`:n<100?e=`${n.toFixed(1)}ms`:n<1e3?e=`${n.toFixed(0)}ms`:e=`${(n/1e3).toFixed(2)}s`,e}function c1e(n,e=8){const t=Math.max(e-n.length,0);return`${" ".repeat(t)}${n}`}var T5;(function(n){n[n.BLACK=30]="BLACK",n[n.RED=31]="RED",n[n.GREEN=32]="GREEN",n[n.YELLOW=33]="YELLOW",n[n.BLUE=34]="BLUE",n[n.MAGENTA=35]="MAGENTA",n[n.CYAN=36]="CYAN",n[n.WHITE=37]="WHITE",n[n.BRIGHT_BLACK=90]="BRIGHT_BLACK",n[n.BRIGHT_RED=91]="BRIGHT_RED",n[n.BRIGHT_GREEN=92]="BRIGHT_GREEN",n[n.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",n[n.BRIGHT_BLUE=94]="BRIGHT_BLUE",n[n.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",n[n.BRIGHT_CYAN=96]="BRIGHT_CYAN",n[n.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(T5||(T5={}));const A1e=10;function mM(n){return typeof n!="string"?n:(n=n.toUpperCase(),T5[n]||T5.WHITE)}function u1e(n,e,t){return!sf&&typeof n=="string"&&(e&&(n=`\x1B[${mM(e)}m${n}\x1B[39m`),t&&(n=`\x1B[${mM(t)+A1e}m${n}\x1B[49m`)),n}function f1e(n,e=["constructor"]){const t=Object.getPrototypeOf(n),r=Object.getOwnPropertyNames(t),i=n;for(const s of r){const a=i[s];typeof a=="function"&&(e.find(o=>s===o)||(i[s]=a.bind(n)))}}function sR(n,e){if(!n)throw new Error("Assertion failed")}function Nf(){var e,t,r;let n;if(sf()&&o4.performance)n=(t=(e=o4==null?void 0:o4.performance)==null?void 0:e.now)==null?void 0:t.call(e);else if("hrtime"in Uf){const i=(r=Uf==null?void 0:Uf.hrtime)==null?void 0:r.call(Uf);n=i[0]*1e3+i[1]/1e6}else n=Date.now();return n}const kf={debug:sf()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},h1e={enabled:!0,level:0};function Pf(){}const yM={},bM={once:!0};class Dd{constructor({id:e}={id:""}){this.VERSION=_H,this._startTs=Nf(),this._deltaTs=Nf(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new o1e(`__probe-${this.id}__`,h1e),this.timeStamp(`${this.id} started`),f1e(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((Nf()-this._startTs).toPrecision(10))}getDelta(){return Number((Nf()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.setConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){if(!e)throw new Error(t||"Assertion failed")}warn(e){return this._getLogFunction(0,e,kf.warn,arguments,bM)}error(e){return this._getLogFunction(0,e,kf.error,arguments)}deprecated(e,t){return this.warn(`\`${e}\` is deprecated and will be removed in a later version. Use \`${t}\` instead`)}removed(e,t){return this.error(`\`${e}\` has been removed. Use \`${t}\` instead`)}probe(e,t){return this._getLogFunction(e,t,kf.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,kf.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){return this._getLogFunction(e,t,kf.debug||kf.info,arguments,bM)}table(e,t,r){return t?this._getLogFunction(e,t,console.table||Pf,r&&[r],{tag:g1e(t)}):Pf}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||Pf)}group(e,t,r={collapsed:!1}){const i=vM({logLevel:e,message:t,opts:r}),{collapsed:s}=r;return i.method=(s?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(e,t,r={}){return this.group(e,t,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||Pf)}withGroup(e,t,r){this.group(e,t)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=mH(e)}_getLogFunction(e,t,r,i,s){if(this._shouldLog(e)){s=vM({logLevel:e,message:t,args:i,opts:s}),r=r||s.method,sR(r),s.total=this.getTotal(),s.delta=this.getDelta(),this._deltaTs=Nf();const a=s.tag||s.message;if(s.once&&a)if(!yM[a])yM[a]=Nf();else return Pf;return t=d1e(this.id,s.message,s),r.bind(console,t,...s.args)}return Pf}}Dd.VERSION=_H;function mH(n){if(!n)return 0;let e;switch(typeof n){case"number":e=n;break;case"object":e=n.logLevel||n.priority||0;break;default:return 0}return sR(Number.isFinite(e)&&e>=0),e}function vM(n){const{logLevel:e,message:t}=n;n.logLevel=mH(e);const r=n.args?Array.from(n.args):[];for(;r.length&&r.shift()!==t;);switch(typeof e){case"string":case"function":t!==void 0&&r.unshift(t),n.message=e;break;case"object":Object.assign(n,e);break}typeof n.message=="function"&&(n.message=n.message());const i=typeof n.message;return sR(i==="string"||i==="object"),Object.assign(n,{args:r},n.opts)}function d1e(n,e,t){if(typeof e=="string"){const r=t.time?c1e(l1e(t.total)):"";e=t.time?`${n}: ${r}  ${e}`:`${n}: ${e}`,e=u1e(e,t.color,t.background)}return e}function g1e(n){for(const e in n)for(const t in n[e])return t||"untitled";return"empty"}globalThis.probe={};const yH=new Dd({id:"@probe.gl/log"}),Qv="4.3.3",p1e=Qv[0]>="0"&&Qv[0]<="9"?`v${Qv}`:"";function _1e(){const n=new Dd({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=n,globalThis.loaders.version=p1e,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=n,n}const m1e=_1e();function y1e(n,e){return bH(n||{},e)}function bH(n,e,t=0){if(t>3)return e;const r={...n};for(const[i,s]of Object.entries(e))s&&typeof s=="object"&&!Array.isArray(s)?r[i]=bH(r[i]||{},e[i],t+1):r[i]=e[i];return r}function b1e(n){var e;globalThis.loaders||(globalThis.loaders={}),(e=globalThis.loaders).modules||(e.modules={}),Object.assign(globalThis.loaders.modules,n)}function v1e(n){var t,r;return((r=(t=globalThis.loaders)==null?void 0:t.modules)==null?void 0:r[n])||null}const w1e="latest";function L1e(){var n;return(n=globalThis._loadersgl_)!=null&&n.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3"),globalThis._loadersgl_.version}const vH=L1e();function V0(n,e){if(!n)throw new Error(e||"loaders.gl assertion failed.")}const Zo=typeof process!="object"||String(process)!=="[object process]"||process.browser,aR=typeof importScripts=="function",x1e=typeof window<"u"&&typeof window.orientation<"u",wM=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);wM&&parseFloat(wM[1]);class R1e{constructor(e,t){z(this,"name");z(this,"workerThread");z(this,"isRunning",!0);z(this,"result");z(this,"_resolve",()=>{});z(this,"_reject",()=>{});this.name=e,this.workerThread=t,this.result=new Promise((r,i)=>{this._resolve=r,this._reject=i})}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){V0(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){V0(this.isRunning),this.isRunning=!1,this._reject(e)}}class jv{terminate(){}}const Yv=new Map;function B1e(n){V0(n.source&&!n.url||!n.source&&n.url);let e=Yv.get(n.source||n.url);return e||(n.url&&(e=E1e(n.url),Yv.set(n.url,e)),n.source&&(e=wH(n.source),Yv.set(n.source,e))),V0(e),e}function E1e(n){if(!n.startsWith("http"))return n;const e=C1e(n);return wH(e)}function wH(n){const e=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(e)}function C1e(n){return`try {
  importScripts('${n}');
} catch (error) {
  console.error(error);
  throw error;
}`}function LH(n,e=!0,t){const r=t||new Set;if(n){if(LM(n))r.add(n);else if(LM(n.buffer))r.add(n.buffer);else if(!ArrayBuffer.isView(n)){if(e&&typeof n=="object")for(const i in n)LH(n[i],e,r)}}return t===void 0?Array.from(r):[]}function LM(n){return n?n instanceof ArrayBuffer||typeof MessagePort<"u"&&n instanceof MessagePort||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas:!1}const Gv=()=>{};class l9{constructor(e){z(this,"name");z(this,"source");z(this,"url");z(this,"terminated",!1);z(this,"worker");z(this,"onMessage");z(this,"onError");z(this,"_loadableURL","");const{name:t,source:r,url:i}=e;V0(r||i),this.name=t,this.source=r,this.url=i,this.onMessage=Gv,this.onError=s=>console.log(s),this.worker=Zo?this._createBrowserWorker():this._createNodeWorker()}static isSupported(){return typeof Worker<"u"&&Zo||typeof jv<"u"&&!Zo}destroy(){this.onMessage=Gv,this.onError=Gv,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,t){t=t||LH(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+=`worker ${this.name} from ${this.url}. `,e.message&&(t+=`${e.message} in `),e.lineno&&(t+=`:${e.lineno}:${e.colno}`),new Error(t)}_createBrowserWorker(){this._loadableURL=B1e({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},e.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},e.onmessageerror=t=>console.error(t),e}_createNodeWorker(){let e;if(this.url){const r=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new jv(r,{eval:!1})}else if(this.source)e=new jv(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",t=>{this.onMessage(t)}),e.on("error",t=>{this.onError(t)}),e.on("exit",t=>{}),e}}class I1e{constructor(e){z(this,"name","unnamed");z(this,"source");z(this,"url");z(this,"maxConcurrency",1);z(this,"maxMobileConcurrency",1);z(this,"onDebug",()=>{});z(this,"reuseWorkers",!0);z(this,"props",{});z(this,"jobQueue",[]);z(this,"idleQueue",[]);z(this,"count",0);z(this,"isDestroyed",!1);this.source=e.source,this.url=e.url,this.setProps(e)}static isSupported(){return l9.isSupported()}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e,t=(i,s,a)=>i.done(a),r=(i,s)=>i.error(s)){const i=new Promise(s=>(this.jobQueue.push({name:e,onMessage:t,onError:r,onStart:s}),this));return this._startQueuedJob(),await i}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const t=this.jobQueue.shift();if(t){this.onDebug({message:"Starting job",name:t.name,workerThread:e,backlog:this.jobQueue.length});const r=new R1e(t.name,e);e.onMessage=i=>t.onMessage(r,i.type,i.payload),e.onError=i=>t.onError(r,i),t.onStart(r);try{await r.result}catch(i){console.error(`Worker exception: ${i}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!Zo||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new l9({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return x1e?this.maxMobileConcurrency:this.maxConcurrency}}const T1e={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},IA=class IA{constructor(e){z(this,"props");z(this,"workerPools",new Map);this.props={...T1e},this.setProps(e),this.workerPools=new Map}static isSupported(){return l9.isSupported()}static getWorkerFarm(e={}){return IA._workerFarm=IA._workerFarm||new IA({}),IA._workerFarm.setProps(e),IA._workerFarm}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:r,url:i}=e;let s=this.workerPools.get(t);return s||(s=new I1e({name:t,source:r,url:i}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};z(IA,"_workerFarm");let M5=IA;function M1e(n,e={}){const t=e[n.id]||{},r=Zo?`${n.id}-worker.js`:`${n.id}-worker-node.js`;let i=t.workerUrl;if(!i&&n.id==="compression"&&(i=e.workerUrl),e._workerType==="test"&&(Zo?i=`modules/${n.module}/dist/${r}`:i=`modules/${n.module}/src/workers/${n.id}-worker-node.ts`),!i){let s=n.version;s==="latest"&&(s=w1e);const a=s?`@${s}`:"";i=`https://unpkg.com/@loaders.gl/${n.module}${a}/dist/${r}`}return V0(i),i}function S1e(n,e=vH){V0(n,"no worker provided");const t=n.version;return!(!e||!t)}const Vv={};async function E1(n,e=null,t={},r=null){return e&&(n=F1e(n,e,t,r)),Vv[n]=Vv[n]||U1e(n),await Vv[n]}function F1e(n,e,t={},r=null){if(!t.useLocalLibraries&&n.startsWith("http"))return n;r=r||n;const i=t.modules||{};return i[r]?i[r]:Zo?t.CDN?(V0(t.CDN.startsWith("http")),`${t.CDN}/${e}@${vH}/dist/libs/${r}`):aR?`../src/libs/${r}`:`modules/${e}/src/libs/${r}`:`modules/${e}/dist/libs/${r}`}async function U1e(n){if(n.endsWith("wasm"))return await k1e(n);if(!Zo)try{const{requireFromFile:t}=globalThis.loaders||{};return await(t==null?void 0:t(n))}catch(t){return console.error(t),null}if(aR)return importScripts(n);const e=await P1e(n);return N1e(e,n)}function N1e(n,e){if(!Zo){const{requireFromString:r}=globalThis.loaders||{};return r==null?void 0:r(n,e)}if(aR)return eval.call(globalThis,n),null;const t=document.createElement("script");t.id=e;try{t.appendChild(document.createTextNode(n))}catch{t.text=n}return document.body.appendChild(t),null}async function k1e(n){const{readFileAsArrayBuffer:e}=globalThis.loaders||{};return Zo||!e||n.startsWith("http")?await(await fetch(n)).arrayBuffer():await e(n)}async function P1e(n){const{readFileAsText:e}=globalThis.loaders||{};return Zo||!e||n.startsWith("http")?await(await fetch(n)).text():await e(n)}function D1e(n,e){return!M5.isSupported()||!Zo&&!(e!=null&&e._nodeWorkers)?!1:n.worker&&(e==null?void 0:e.worker)}async function O1e(n,e,t,r,i){const s=n.id,a=M1e(n,t),l=M5.getWorkerFarm(t).getWorkerPool({name:s,url:a});t=JSON.parse(JSON.stringify(t)),r=JSON.parse(JSON.stringify(r||{}));const c=await l.startJob("process-on-worker",z1e.bind(null,i));return c.postMessage("process",{input:e,options:t,context:r}),await(await c.result).result}async function z1e(n,e,t,r){switch(t){case"done":e.done(r);break;case"error":e.error(new Error(r.error));break;case"process":const{id:i,input:s,options:a}=r;try{const o=await n(s,a);e.postMessage("done",{id:i,result:o})}catch(o){const l=o instanceof Error?o.message:"unknown error";e.postMessage("error",{id:i,error:l})}break;default:console.warn(`parse-with-worker unknown message ${t}`)}}function H1e(n,e=5){return typeof n=="string"?n.slice(0,e):ArrayBuffer.isView(n)?xM(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?xM(n,0,e):""}function xM(n,e,t){if(n.byteLength<=e+t)return"";const r=new DataView(n);let i="";for(let s=0;s<t;s++)i+=String.fromCharCode(r.getUint8(e+s));return i}function Q1e(n){try{return JSON.parse(n)}catch{throw new Error(`Failed to parse JSON from data starting with "${H1e(n)}"`)}}function j1e(n,e,t){if(t=t||n.byteLength,n.byteLength<t||e.byteLength<t)return!1;const r=new Uint8Array(n),i=new Uint8Array(e);for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}function Y1e(...n){return G1e(n)}function G1e(n){const e=n.map(s=>s instanceof ArrayBuffer?new Uint8Array(s):s),t=e.reduce((s,a)=>s+a.byteLength,0),r=new Uint8Array(t);let i=0;for(const s of e)r.set(s,i),i+=s.byteLength;return r.buffer}function oR(n,e,t){const r=t!==void 0?new Uint8Array(n).subarray(e,e+t):new Uint8Array(n).subarray(e);return new Uint8Array(r).buffer}function Rp(n,e){return zr(n>=0),zr(e>0),n+(e-1)&-4}function V1e(n,e,t){let r;if(n instanceof ArrayBuffer)r=new Uint8Array(n);else{const i=n.byteOffset,s=n.byteLength;r=new Uint8Array(n.buffer||n.arrayBuffer,i,s)}return e.set(r,t),t+Rp(r.byteLength,4)}async function K1e(n){const e=[];for await(const t of n)e.push(t);return Y1e(...e)}function RM(){let n;if(typeof window<"u"&&window.performance)n=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();n=e[0]*1e3+e[1]/1e6}else n=Date.now();return n}class BM{constructor(e,t){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=e,this.type=t,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=RM(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(RM()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class Od{constructor(e){this.stats={},this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e,t="count"){return this._getOrCreate({name:e,type:t})}get size(){return Object.keys(this.stats).length}reset(){for(const e of Object.values(this.stats))e.reset();return this}forEach(e){for(const t of Object.values(this.stats))e(t)}getTable(){const e={};return this.forEach(t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}}),e}_initializeStats(e=[]){e.forEach(t=>this._getOrCreate(t))}_getOrCreate(e){const{name:t,type:r}=e;let i=this.stats[t];return i||(e instanceof BM?i=e:i=new BM(t,r),this.stats[t]=i),i}}const $1e="Queued Requests",W1e="Active Requests",q1e="Cancelled Requests",X1e="Queued Requests Ever",J1e="Active Requests Ever",Z1e={id:"request-scheduler",throttleRequests:!0,maxRequests:6,debounceTime:0};class efe{constructor(e={}){z(this,"props");z(this,"stats");z(this,"activeRequestCount",0);z(this,"requestQueue",[]);z(this,"requestMap",new Map);z(this,"updateTimer",null);this.props={...Z1e,...e},this.stats=new Od({id:this.props.id}),this.stats.get($1e),this.stats.get(W1e),this.stats.get(q1e),this.stats.get(X1e),this.stats.get(J1e)}scheduleRequest(e,t=()=>0){if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(e))return this.requestMap.get(e);const r={handle:e,priority:0,getPriority:t},i=new Promise(s=>(r.resolve=s,r));return this.requestQueue.push(r),this.requestMap.set(e,i),this._issueNewRequests(),i}_issueRequest(e){const{handle:t,resolve:r}=e;let i=!1;const s=()=>{i||(i=!0,this.requestMap.delete(t),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,r?r({done:s}):Promise.resolve({done:s})}_issueNewRequests(){this.updateTimer!==null&&clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>this._issueNewRequestsAsync(),this.props.debounceTime)}_issueNewRequestsAsync(){this.updateTimer!==null&&clearTimeout(this.updateTimer),this.updateTimer=null;const e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(e!==0){this._updateAllRequests();for(let t=0;t<e;++t){const r=this.requestQueue.shift();r&&this._issueRequest(r)}}}_updateAllRequests(){const e=this.requestQueue;for(let t=0;t<e.length;++t){const r=e[t];this._updateRequest(r)||(e.splice(t,1),this.requestMap.delete(r.handle),t--)}e.sort((t,r)=>t.priority-r.priority)}_updateRequest(e){return e.priority=e.getPriority(e.handle),e.priority<0?(e.resolve(null),!1):!0}}let tfe="";const EM={};function nfe(n){for(const e in EM)if(n.startsWith(e)){const t=EM[e];n=n.replace(e,t)}return!n.startsWith("http://")&&!n.startsWith("https://")&&(n=`${tfe}${n}`),n}function rfe(n){return n&&typeof n=="object"&&n.isBuffer}function xH(n){if(rfe(n))return n;if(n instanceof ArrayBuffer)return n;if(ArrayBuffer.isView(n))return n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);if(typeof n=="string"){const e=n;return new TextEncoder().encode(e).buffer}if(n&&typeof n=="object"&&n._toArrayBuffer)return n._toArrayBuffer();throw new Error("toArrayBuffer")}function ife(){var e;if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();const n=(e=window.location)==null?void 0:e.pathname;return(n==null?void 0:n.slice(0,n.lastIndexOf("/")+1))||""}function RH(n){const e=n?n.lastIndexOf("/"):-1;return e>=0?n.substr(e+1):""}function lR(n){const e=n?n.lastIndexOf("/"):-1;return e>=0?n.substr(0,e):""}function sfe(...n){const e=[];for(let s=0;s<n.length;s++)e[s]=n[s];let t="",r=!1,i;for(let s=e.length-1;s>=-1&&!r;s--){let a;s>=0?a=e[s]:(i===void 0&&(i=ife()),a=i),a.length!==0&&(t=`${a}/${t}`,r=a.charCodeAt(0)===ug)}return t=afe(t,!r),r?`/${t}`:t.length>0?t:"."}const ug=47,Kv=46;function afe(n,e){let t="",r=-1,i=0,s,a=!1;for(let o=0;o<=n.length;++o){if(o<n.length)s=n.charCodeAt(o);else{if(s===ug)break;s=ug}if(s===ug){if(!(r===o-1||i===1))if(r!==o-1&&i===2){if(t.length<2||!a||t.charCodeAt(t.length-1)!==Kv||t.charCodeAt(t.length-2)!==Kv){if(t.length>2){const l=t.length-1;let c=l;for(;c>=0&&t.charCodeAt(c)!==ug;--c);if(c!==l){t=c===-1?"":t.slice(0,c),r=o,i=0,a=!1;continue}}else if(t.length===2||t.length===1){t="",r=o,i=0,a=!1;continue}}e&&(t.length>0?t+="/..":t="..",a=!0)}else{const l=n.slice(r+1,o);t.length>0?t+=`/${l}`:t=l,a=!1}r=o,i=0}else s===Kv&&i!==-1?++i:i=-1}return t}const ofe=n=>typeof n=="boolean",Gg=n=>typeof n=="function",Bp=n=>n!==null&&typeof n=="object",CM=n=>Bp(n)&&n.constructor==={}.constructor,lfe=n=>!!n&&typeof n[Symbol.iterator]=="function",cfe=n=>n&&typeof n[Symbol.asyncIterator]=="function",af=n=>typeof Response<"u"&&n instanceof Response||n&&n.arrayBuffer&&n.text&&n.json,of=n=>typeof Blob<"u"&&n instanceof Blob,Afe=n=>n&&typeof n=="object"&&n.isBuffer,ufe=n=>typeof ReadableStream<"u"&&n instanceof ReadableStream||Bp(n)&&Gg(n.tee)&&Gg(n.cancel)&&Gg(n.getReader),ffe=n=>Bp(n)&&Gg(n.read)&&Gg(n.pipe)&&ofe(n.readable),BH=n=>ufe(n)||ffe(n);class hfe extends Error{constructor(t,r){super(t);z(this,"reason");z(this,"url");z(this,"response");this.reason=r.reason,this.url=r.url,this.response=r.response}}const dfe=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,gfe=/^([-\w.]+\/[-\w.+]+)/;function IM(n,e){return n.toLowerCase()===e.toLowerCase()}function pfe(n){const e=gfe.exec(n);return e?e[1]:n}function TM(n){const e=dfe.exec(n);return e?e[1]:""}const EH=/\?.*/;function _fe(n){const e=n.match(EH);return e&&e[0]}function cR(n){return n.replace(EH,"")}function mfe(n){if(n.length<50)return n;const e=n.slice(n.length-15);return`${n.substr(0,32)}...${e}`}function _6(n){return af(n)?n.url:of(n)?n.name||"":typeof n=="string"?n:""}function AR(n){if(af(n)){const e=n,t=e.headers.get("content-type")||"",r=cR(e.url);return pfe(t)||TM(r)}return of(n)?n.type||"":typeof n=="string"?TM(n):""}function yfe(n){return af(n)?n.headers["content-length"]||-1:of(n)?n.size:typeof n=="string"?n.length:n instanceof ArrayBuffer||ArrayBuffer.isView(n)?n.byteLength:-1}async function CH(n){if(af(n))return n;const e={},t=yfe(n);t>=0&&(e["content-length"]=String(t));const r=_6(n),i=AR(n);i&&(e["content-type"]=i);const s=await wfe(n);s&&(e["x-first-bytes"]=s),typeof n=="string"&&(n=new TextEncoder().encode(n));const a=new Response(n,{headers:e});return Object.defineProperty(a,"url",{value:r}),a}async function bfe(n){if(!n.ok)throw await vfe(n)}async function vfe(n){const e=mfe(n.url);let t=`Failed to fetch resource (${n.status}) ${n.statusText}: ${e}`;t=t.length>100?`${t.slice(0,100)}...`:t;const r={reason:n.statusText,url:n.url,response:n};try{const i=n.headers.get("Content-Type");r.reason=!n.bodyUsed&&(i!=null&&i.includes("application/json"))?await n.json():await n.text()}catch{}return new hfe(t,r)}async function wfe(n){if(typeof n=="string")return`data:,${n.slice(0,5)}`;if(n instanceof Blob){const t=n.slice(0,5);return await new Promise(r=>{const i=new FileReader;i.onload=s=>{var a;return r((a=s==null?void 0:s.target)==null?void 0:a.result)},i.readAsDataURL(t)})}if(n instanceof ArrayBuffer){const t=n.slice(0,5);return`data:base64,${Lfe(t)}`}return null}function Lfe(n){let e="";const t=new Uint8Array(n);for(let r=0;r<t.byteLength;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function xfe(n){return!Rfe(n)&&!Bfe(n)}function Rfe(n){return n.startsWith("http:")||n.startsWith("https:")}function Bfe(n){return n.startsWith("data:")}async function MM(n,e){var t,r;if(typeof n=="string"){const i=nfe(n);return xfe(i)&&(t=globalThis.loaders)!=null&&t.fetchNode?(r=globalThis.loaders)==null?void 0:r.fetchNode(i,e):await fetch(i,e)}return await CH(n)}const SM=new Dd({id:"loaders.gl"});class Efe{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class Cfe{constructor(){z(this,"console");this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}}const IH={fetch:null,mimeType:void 0,nothrow:!1,log:new Cfe,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:p6,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},Ife={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function TH(){globalThis.loaders=globalThis.loaders||{};const{loaders:n}=globalThis;return n._state||(n._state={}),n._state}function MH(){const n=TH();return n.globalOptions=n.globalOptions||{...IH},n.globalOptions}function Tfe(n,e,t,r){return t=t||[],t=Array.isArray(t)?t:[t],Mfe(n,t),Ffe(e,n,r)}function Mfe(n,e){FM(n,null,IH,Ife,e);for(const t of e){const r=n&&n[t.id]||{},i=t.options&&t.options[t.id]||{},s=t.deprecatedOptions&&t.deprecatedOptions[t.id]||{};FM(r,t.id,i,s,e)}}function FM(n,e,t,r,i){const s=e||"Top level",a=e?`${e}.`:"";for(const o in n){const l=!e&&Bp(n[o]),c=o==="baseUri"&&!e,A=o==="workerUrl"&&e;if(!(o in t)&&!c&&!A){if(o in r)SM.warn(`${s} loader option '${a}${o}' no longer supported, use '${r[o]}'`)();else if(!l){const u=Sfe(o,i);SM.warn(`${s} loader option '${a}${o}' not recognized. ${u}`)()}}}}function Sfe(n,e){const t=n.toLowerCase();let r="";for(const i of e)for(const s in i.options){if(n===s)return`Did you mean '${i.id}.${s}'?`;const a=s.toLowerCase();(t.startsWith(a)||a.startsWith(t))&&(r=r||`Did you mean '${i.id}.${s}'?`)}return r}function Ffe(n,e,t){const i={...n.options||{}};return Ufe(i,t),i.log===null&&(i.log=new Efe),UM(i,MH()),UM(i,e),i}function UM(n,e){for(const t in e)if(t in e){const r=e[t];CM(r)&&CM(n[t])?n[t]={...n[t],...e[t]}:n[t]=e[t]}}function Ufe(n,e){e&&!("baseUri"in n)&&(n.baseUri=e)}function uR(n){return n?(Array.isArray(n)&&(n=n[0]),Array.isArray(n==null?void 0:n.extensions)):!1}function fR(n){zr(n,"null loader"),zr(uR(n),"invalid loader");let e;return Array.isArray(n)&&(e=n[1],n=n[0],n={...n,options:{...n.options,...e}}),(n!=null&&n.parseTextSync||n!=null&&n.parseText)&&(n.text=!0),n.text||(n.binary=!0),n}const SH=()=>{const n=TH();return n.loaderRegistry=n.loaderRegistry||[],n.loaderRegistry};function Nfe(n){const e=SH();n=Array.isArray(n)?n:[n];for(const t of n){const r=fR(t);e.find(i=>r===i)||e.unshift(r)}}function kfe(){return SH()}const Pfe=/\.([^.]+)$/;async function Dfe(n,e=[],t,r){if(!FH(n))return null;let i=NM(n,e,{...t,nothrow:!0},r);if(i)return i;if(of(n)&&(n=await n.slice(0,10).arrayBuffer(),i=NM(n,e,t,r)),!i&&!(t!=null&&t.nothrow))throw new Error(UH(n));return i}function NM(n,e=[],t,r){if(!FH(n))return null;if(e&&!Array.isArray(e))return fR(e);let i=[];e&&(i=i.concat(e)),t!=null&&t.ignoreRegisteredLoaders||i.push(...kfe()),zfe(i);const s=Ofe(n,i,t,r);if(!s&&!(t!=null&&t.nothrow))throw new Error(UH(n));return s}function Ofe(n,e,t,r){const i=_6(n),s=AR(n),a=cR(i)||(r==null?void 0:r.url);let o=null,l="";return t!=null&&t.mimeType&&(o=$v(e,t==null?void 0:t.mimeType),l=`match forced by supplied MIME type ${t==null?void 0:t.mimeType}`),o=o||Hfe(e,a),l=l||(o?`matched url ${a}`:""),o=o||$v(e,s),l=l||(o?`matched MIME type ${s}`:""),o=o||jfe(e,n),l=l||(o?`matched initial data ${NH(n)}`:""),t!=null&&t.fallbackMimeType&&(o=o||$v(e,t==null?void 0:t.fallbackMimeType),l=l||(o?`matched fallback MIME type ${s}`:"")),l&&m1e.log(1,`selectLoader selected ${o==null?void 0:o.name}: ${l}.`),o}function FH(n){return!(n instanceof Response&&n.status===204)}function UH(n){const e=_6(n),t=AR(n);let r="No valid loader found (";r+=e?`${RH(e)}, `:"no url provided, ",r+=`MIME type: ${t?`"${t}"`:"not provided"}, `;const i=n?NH(n):"";return r+=i?` first bytes: "${i}"`:"first bytes: not available",r+=")",r}function zfe(n){for(const e of n)fR(e)}function Hfe(n,e){const t=e&&Pfe.exec(e),r=t&&t[1];return r?Qfe(n,r):null}function Qfe(n,e){e=e.toLowerCase();for(const t of n)for(const r of t.extensions)if(r.toLowerCase()===e)return t;return null}function $v(n,e){var t;for(const r of n)if((t=r.mimeTypes)!=null&&t.some(i=>IM(e,i))||IM(e,`application/x.${r.id}`))return r;return null}function jfe(n,e){if(!e)return null;for(const t of n)if(typeof e=="string"){if(Yfe(e,t))return t}else if(ArrayBuffer.isView(e)){if(kM(e.buffer,e.byteOffset,t))return t}else if(e instanceof ArrayBuffer&&kM(e,0,t))return t;return null}function Yfe(n,e){return e.testText?e.testText(n):(Array.isArray(e.tests)?e.tests:[e.tests]).some(r=>n.startsWith(r))}function kM(n,e,t){return(Array.isArray(t.tests)?t.tests:[t.tests]).some(i=>Gfe(n,e,t,i))}function Gfe(n,e,t,r){if(r instanceof ArrayBuffer)return j1e(r,n,r.byteLength);switch(typeof r){case"function":return r(n);case"string":const i=c9(n,e,r.length);return r===i;default:return!1}}function NH(n,e=5){return typeof n=="string"?n.slice(0,e):ArrayBuffer.isView(n)?c9(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?c9(n,0,e):""}function c9(n,e,t){if(n.byteLength<e+t)return"";const r=new DataView(n);let i="";for(let s=0;s<t;s++)i+=String.fromCharCode(r.getUint8(e+s));return i}const Vfe=256*1024;function*Kfe(n,e){const t=(e==null?void 0:e.chunkSize)||Vfe;let r=0;const i=new TextEncoder;for(;r<n.length;){const s=Math.min(n.length-r,t),a=n.slice(r,r+s);r+=s,yield i.encode(a)}}const $fe=256*1024;function*Wfe(n,e={}){const{chunkSize:t=$fe}=e;let r=0;for(;r<n.byteLength;){const i=Math.min(n.byteLength-r,t),s=new ArrayBuffer(i),a=new Uint8Array(n,r,i);new Uint8Array(s).set(a),r+=i,yield s}}const qfe=1024*1024;async function*Xfe(n,e){const t=(e==null?void 0:e.chunkSize)||qfe;let r=0;for(;r<n.size;){const i=r+t,s=await n.slice(r,i).arrayBuffer();r=i,yield s}}function PM(n,e){return p6?Jfe(n,e):Zfe(n)}async function*Jfe(n,e){const t=n.getReader();let r;try{for(;;){const i=r||t.read();e!=null&&e._streamReadAhead&&(r=t.read());const{done:s,value:a}=await i;if(s)return;yield xH(a)}}catch{t.releaseLock()}}async function*Zfe(n,e){for await(const t of n)yield xH(t)}function ehe(n,e){if(typeof n=="string")return Kfe(n,e);if(n instanceof ArrayBuffer)return Wfe(n,e);if(of(n))return Xfe(n,e);if(BH(n))return PM(n,e);if(af(n))return PM(n.body,e);throw new Error("makeIterator")}const kH="Cannot convert supplied data type";function the(n,e,t){if(e.text&&typeof n=="string")return n;if(Afe(n)&&(n=n.buffer),n instanceof ArrayBuffer){const r=n;return e.text&&!e.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(n)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(n);let r=n.buffer;const i=n.byteLength||n.length;return(n.byteOffset!==0||i!==r.byteLength)&&(r=r.slice(n.byteOffset,n.byteOffset+i)),r}throw new Error(kH)}async function nhe(n,e,t){const r=n instanceof ArrayBuffer||ArrayBuffer.isView(n);if(typeof n=="string"||r)return the(n,e);if(of(n)&&(n=await CH(n)),af(n)){const i=n;return await bfe(i),e.binary?await i.arrayBuffer():await i.text()}if(BH(n)&&(n=ehe(n,t)),lfe(n)||cfe(n))return K1e(n);throw new Error(kH)}function PH(n,e){const t=MH(),r=n||t;return typeof r.fetch=="function"?r.fetch:Bp(r.fetch)?i=>MM(i,r.fetch):e!=null&&e.fetch?e==null?void 0:e.fetch:MM}function rhe(n,e,t){if(t)return t;const r={fetch:PH(e,n),...n};if(r.url){const i=cR(r.url);r.baseUrl=i,r.queryString=_fe(r.url),r.filename=RH(i),r.baseUrl=lR(i)}return Array.isArray(r.loaders)||(r.loaders=null),r}function ihe(n,e){if(n&&!Array.isArray(n))return n;let t;if(n&&(t=Array.isArray(n)?n:[n]),e&&e.loaders){const r=Array.isArray(e.loaders)?e.loaders:[e.loaders];t=t?[...t,...r]:r}return t&&t.length?t:void 0}async function S5(n,e,t,r){e&&!Array.isArray(e)&&!uR(e)&&(r=void 0,t=e,e=void 0),n=await n,t=t||{};const i=_6(n),a=ihe(e,r),o=await Dfe(n,a,t);return o?(t=Tfe(t,o,a,i),r=rhe({url:i,_parse:S5,loaders:a},t,r||null),await she(o,n,t,r)):null}async function she(n,e,t,r){if(S1e(n),t=y1e(n.options,t),af(e)){const s=e,{ok:a,redirected:o,status:l,statusText:c,type:A,url:u}=s,h=Object.fromEntries(s.headers.entries());r.response={headers:h,ok:a,redirected:o,status:l,statusText:c,type:A,url:u}}e=await nhe(e,n,t);const i=n;if(i.parseTextSync&&typeof e=="string")return i.parseTextSync(e,t,r);if(D1e(n,t))return await O1e(n,e,t,r,S5);if(i.parseText&&typeof e=="string")return await i.parseText(e,t,r);if(i.parse)return await i.parse(e,t,r);throw V0(!i.parseSync),new Error(`${n.id} loader - no parser found and worker is disabled`)}function ahe(n){switch(n.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}function DH(n){let e=1/0,t=1/0,r=1/0,i=-1/0,s=-1/0,a=-1/0;const o=n.POSITION?n.POSITION.value:[],l=o&&o.length;for(let c=0;c<l;c+=3){const A=o[c],u=o[c+1],h=o[c+2];e=A<e?A:e,t=u<t?u:t,r=h<r?h:r,i=A>i?A:i,s=u>s?u:s,a=h>a?h:a}return[[e,t,r],[i,s,a]]}function ohe(n,e,t){const r=ahe(e.value),i=t||lhe(e);return{name:n,type:{type:"fixed-size-list",listSize:e.size,children:[{name:"value",type:r}]},nullable:!1,metadata:i}}function lhe(n){const e={};return"byteOffset"in n&&(e.byteOffset=n.byteOffset.toString(10)),"byteStride"in n&&(e.byteStride=n.byteStride.toString(10)),"normalized"in n&&(e.normalized=n.normalized.toString()),e}async function ou(n,e,t,r){let i,s;!Array.isArray(e)&&!uR(e)?(i=[],s=e):(i=e,s=t);const a=PH(s);let o=n;return typeof n=="string"&&(o=await a(n)),of(n)&&(o=await a(n)),Array.isArray(i)?await S5(o,i,s):await S5(o,i,s)}const che="4.3.3";var Bk;const Ahe=(Bk=globalThis.loaders)==null?void 0:Bk.parseImageNode,A9=typeof Image<"u",u9=typeof ImageBitmap<"u",uhe=!!Ahe,f9=p6?!0:uhe;function fhe(n){switch(n){case"auto":return u9||A9||f9;case"imagebitmap":return u9;case"image":return A9;case"data":return f9;default:throw new Error(`@loaders.gl/images: image ${n} not supported in this environment`)}}function hhe(){if(u9)return"imagebitmap";if(A9)return"image";if(f9)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function dhe(n){const e=ghe(n);if(!e)throw new Error("Not an image");return e}function OH(n){switch(dhe(n)){case"data":return n;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}function ghe(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&typeof n=="object"&&n.data&&n.width&&n.height?"data":null}const phe=/^data:image\/svg\+xml/,_he=/\.svg((\?|#).*)?$/;function hR(n){return n&&(phe.test(n)||_he.test(n))}function mhe(n,e){if(hR(e)){let r=new TextDecoder().decode(n);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(r=unescape(encodeURIComponent(r)))}catch(s){throw new Error(s.message)}return`data:image/svg+xml;base64,${btoa(r)}`}return zH(n,e)}function zH(n,e){if(hR(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}async function HH(n,e,t){const r=mhe(n,t),i=self.URL||self.webkitURL,s=typeof r!="string"&&i.createObjectURL(r);try{return await yhe(s||r,e)}finally{s&&i.revokeObjectURL(s)}}async function yhe(n,e){const t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(await t.decode(),t):await new Promise((r,i)=>{try{t.onload=()=>r(t),t.onerror=s=>{const a=s instanceof Error?s.message:"error";i(new Error(a))}}catch(s){i(s)}})}const bhe={};let DM=!0;async function vhe(n,e,t){let r;hR(t)?r=await HH(n,e,t):r=zH(n,t);const i=e&&e.imagebitmap;return await whe(r,i)}async function whe(n,e=null){if((Lhe(e)||!DM)&&(e=null),e)try{return await createImageBitmap(n,e)}catch(t){console.warn(t),DM=!1}return await createImageBitmap(n)}function Lhe(n){for(const e in n||bhe)return!1;return!0}function xhe(n){return!Che(n,"ftyp",4)||!(n[8]&96)?null:Rhe(n)}function Rhe(n){switch(Bhe(n,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function Bhe(n,e,t){return String.fromCharCode(...n.slice(e,t))}function Ehe(n){return[...n].map(e=>e.charCodeAt(0))}function Che(n,e,t=0){const r=Ehe(e);for(let i=0;i<r.length;++i)if(r[i]!==n[i+t])return!1;return!0}const vc=!1,Vg=!0;function dR(n){const e=Ep(n);return The(e)||Fhe(e)||Mhe(e)||She(e)||Ihe(e)}function Ihe(n){const e=new Uint8Array(n instanceof DataView?n.buffer:n),t=xhe(e);return t?{mimeType:t.mimeType,width:0,height:0}:null}function The(n){const e=Ep(n);return e.byteLength>=24&&e.getUint32(0,vc)===2303741511?{mimeType:"image/png",width:e.getUint32(16,vc),height:e.getUint32(20,vc)}:null}function Mhe(n){const e=Ep(n);return e.byteLength>=10&&e.getUint32(0,vc)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,Vg),height:e.getUint16(8,Vg)}:null}function She(n){const e=Ep(n);return e.byteLength>=14&&e.getUint16(0,vc)===16973&&e.getUint32(2,Vg)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,Vg),height:e.getUint32(22,Vg)}:null}function Fhe(n){const e=Ep(n);if(!(e.byteLength>=3&&e.getUint16(0,vc)===65496&&e.getUint8(2)===255))return null;const{tableMarkers:r,sofMarkers:i}=Uhe();let s=2;for(;s+9<e.byteLength;){const a=e.getUint16(s,vc);if(i.has(a))return{mimeType:"image/jpeg",height:e.getUint16(s+5,vc),width:e.getUint16(s+7,vc)};if(!r.has(a))return null;s+=2,s+=e.getUint16(s,vc)}return null}function Uhe(){const n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function Ep(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}async function Nhe(n,e){var i;const{mimeType:t}=dR(n)||{},r=(i=globalThis.loaders)==null?void 0:i.parseImageNode;return zr(r),await r(n,t)}async function khe(n,e,t){e=e||{};const i=(e.image||{}).type||"auto",{url:s}=t||{},a=Phe(i);let o;switch(a){case"imagebitmap":o=await vhe(n,e,s);break;case"image":o=await HH(n,e,s);break;case"data":o=await Nhe(n);break;default:zr(!1)}return i==="data"&&(o=OH(o)),o}function Phe(n){switch(n){case"auto":case"data":return hhe();default:return fhe(n),n}}const Dhe=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],Ohe=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],zhe={image:{type:"auto",decode:!0}},QH={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:che,mimeTypes:Ohe,extensions:Dhe,parse:khe,tests:[n=>!!dR(new DataView(n))],options:zhe},Wv={};function Hhe(n){if(Wv[n]===void 0){const e=p6?jhe(n):Qhe(n);Wv[n]=e}return Wv[n]}function Qhe(n){var i,s;const e=["image/png","image/jpeg","image/gif"],t=((i=globalThis.loaders)==null?void 0:i.imageFormatsNode)||e;return!!((s=globalThis.loaders)==null?void 0:s.parseImageNode)&&t.includes(n)}function jhe(n){switch(n){case"image/avif":case"image/webp":return Yhe(n);default:return!0}}function Yhe(n){try{return document.createElement("canvas").toDataURL(n).indexOf(`data:${n}`)===0}catch{return!1}}const or=new Dd({id:"deck"});let h9={};function Ghe(n){h9=n}function ea(n,e,t,r){or.level>0&&h9[n]&&h9[n].call(null,e,t,r)}function Vhe(n){const e=n[0],t=n[n.length-1];return e==="{"&&t==="}"||e==="["&&t==="]"}const Khe={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:Vhe,parseTextSync:JSON.parse};function $he(){const n="9.2.5",e=globalThis.deck&&globalThis.deck.VERSION;if(e&&e!==n)throw new Error(`deck.gl - multiple versions detected: ${e} vs ${n}`);return e||(or.log(1,`deck.gl ${n}`)(),globalThis.deck={...globalThis.deck,VERSION:n,version:n,log:or,_registerLoggers:Ghe},Nfe([Khe,[QH,{imagebitmap:{premultiplyAlpha:"none"}}]])),n}const Whe=$he();function gR(n,e){if(!n)throw new Error(e||"shadertools: assertion failed.")}const qv={number:{type:"number",validate(n,e){return Number.isFinite(n)&&typeof e=="object"&&(e.max===void 0||n<=e.max)&&(e.min===void 0||n>=e.min)}},array:{type:"array",validate(n,e){return Array.isArray(n)||ArrayBuffer.isView(n)}}};function qhe(n){const e={};for(const[t,r]of Object.entries(n))e[t]=Xhe(r);return e}function Xhe(n){let e=OM(n);if(e!=="object")return{value:n,...qv[e],type:e};if(typeof n=="object")return n?n.type!==void 0?{...n,...qv[n.type],type:n.type}:n.value===void 0?{type:"object",value:n}:(e=OM(n.value),{...n,...qv[e],type:e}):{type:"object",value:null};throw new Error("props")}function OM(n){return Array.isArray(n)||ArrayBuffer.isView(n)?"array":typeof n}const Jhe=`#ifdef MODULE_LOGDEPTH
  logdepth_adjustPosition(gl_Position);
#endif
`,Zhe=`#ifdef MODULE_MATERIAL
  fragColor = material_filterColor(fragColor);
#endif

#ifdef MODULE_LIGHTING
  fragColor = lighting_filterColor(fragColor);
#endif

#ifdef MODULE_FOG
  fragColor = fog_filterColor(fragColor);
#endif

#ifdef MODULE_PICKING
  fragColor = picking_filterHighlightColor(fragColor);
  fragColor = picking_filterPickingColor(fragColor);
#endif

#ifdef MODULE_LOGDEPTH
  logdepth_setFragDepth();
#endif
`,ede={vertex:Jhe,fragment:Zhe},zM=/void\s+main\s*\([^)]*\)\s*\{\n?/,HM=/}\n?[^{}]*$/,Xv=[],vm="__LUMA_INJECT_DECLARATIONS__";function tde(n){const e={vertex:{},fragment:{}};for(const t in n){let r=n[t];const i=nde(t);typeof r=="string"&&(r={order:0,injection:r}),e[i][t]=r}return e}function nde(n){const e=n.slice(0,2);switch(e){case"vs":return"vertex";case"fs":return"fragment";default:throw new Error(e)}}function F5(n,e,t,r=!1){const i=e==="vertex";for(const s in t){const a=t[s];a.sort((l,c)=>l.order-c.order),Xv.length=a.length;for(let l=0,c=a.length;l<c;++l)Xv[l]=a[l].injection;const o=`${Xv.join(`
`)}
`;switch(s){case"vs:#decl":i&&(n=n.replace(vm,o));break;case"vs:#main-start":i&&(n=n.replace(zM,l=>l+o));break;case"vs:#main-end":i&&(n=n.replace(HM,l=>o+l));break;case"fs:#decl":i||(n=n.replace(vm,o));break;case"fs:#main-start":i||(n=n.replace(zM,l=>l+o));break;case"fs:#main-end":i||(n=n.replace(HM,l=>o+l));break;default:n=n.replace(s,l=>l+o)}}return n=n.replace(vm,""),r&&(n=n.replace(/\}\s*$/,s=>s+ede[e])),n}function U5(n){n.map(e=>rde(e))}function rde(n){if(n.instance)return;U5(n.dependencies||[]);const{propTypes:e={},deprecations:t=[],inject:r={}}=n,i={normalizedInjections:tde(r),parsedDeprecations:ide(t)};e&&(i.propValidators=qhe(e)),n.instance=i;let s={};e&&(s=Object.entries(e).reduce((a,[o,l])=>{const c=l==null?void 0:l.value;return c&&(a[o]=c),a},{})),n.defaultUniforms={...n.defaultUniforms,...s}}function jH(n,e,t){var r;(r=n.deprecations)==null||r.forEach(i=>{var s;(s=i.regex)!=null&&s.test(e)&&(i.deprecated?t.deprecated(i.old,i.new)():t.removed(i.old,i.new)())})}function ide(n){return n.forEach(e=>{switch(e.type){case"function":e.regex=new RegExp(`\\b${e.old}\\(`);break;default:e.regex=new RegExp(`${e.type} ${e.old};`)}}),n}function pR(n){U5(n);const e={},t={};YH({modules:n,level:0,moduleMap:e,moduleDepth:t});const r=Object.keys(t).sort((i,s)=>t[s]-t[i]).map(i=>e[i]);return U5(r),r}function YH(n){const{modules:e,level:t,moduleMap:r,moduleDepth:i}=n;if(t>=5)throw new Error("Possible loop in shader dependency graph");for(const s of e)r[s.name]=s,(i[s.name]===void 0||i[s.name]<t)&&(i[s.name]=t);for(const s of e)s.dependencies&&YH({modules:s.dependencies,level:t+1,moduleMap:r,moduleDepth:i})}function sde(n){switch(n==null?void 0:n.gpu.toLowerCase()){case"apple":return`#define APPLE_GPU
// Apple optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"nvidia":return`#define NVIDIA_GPU
// Nvidia optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
// Intel optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
// Prevent driver from optimizing away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Headless Chrome's software shader 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// If the GPU doesn't have full 32 bits precision, will causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function ade(n,e){var r;if(Number(((r=n.match(/^#version[ \t]+(\d+)/m))==null?void 0:r[1])||100)!==300)throw new Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(e){case"vertex":return n=QM(n,ode),n;case"fragment":return n=QM(n,lde),n;default:throw new Error(e)}}const GH=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],ode=[...GH,[d9("attribute"),"in $1"],[d9("varying"),"out $1"]],lde=[...GH,[d9("varying"),"in $1"]];function QM(n,e){for(const[t,r]of e)n=n.replace(t,r);return n}function d9(n){return new RegExp(`\\b${n}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}function VH(n,e){let t="";for(const r in n){const i=n[r];if(t+=`void ${i.signature} {
`,i.header&&(t+=`  ${i.header}`),e[r]){const s=e[r];s.sort((a,o)=>a.order-o.order);for(const a of s)t+=`  ${a.injection}
`}i.footer&&(t+=`  ${i.footer}`),t+=`}
`}return t}function KH(n){const e={vertex:{},fragment:{}};for(const t of n){let r,i;typeof t!="string"?(r=t,i=r.hook):(r={},i=t),i=i.trim();const[s,a]=i.split(":"),o=i.replace(/\(.+/,""),l=Object.assign(r,{signature:a});switch(s){case"vs":e.vertex[o]=l;break;case"fs":e.fragment[o]=l;break;default:throw new Error(s)}}return e}function cde(n,e){return{name:Ade(n,e),language:"glsl",version:ude(n)}}function Ade(n,e="unnamed"){const r=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec(n);return r?r[1]:e}function ude(n){let e=100;const t=n.match(/[^\s]+/g);if(t&&t.length>=2&&t[0]==="#version"){const r=parseInt(t[1],10);Number.isFinite(r)&&(e=r)}if(e!==100&&e!==300)throw new Error(`Invalid GLSL version ${e}`);return e}const $H=`

${vm}
`,fde=`precision highp float;
`;function hde(n){const e=pR(n.modules||[]);return{source:gde(n.platformInfo,{...n,source:n.source,stage:"vertex",modules:e}),getUniforms:WH(e)}}function dde(n){const{vs:e,fs:t}=n,r=pR(n.modules||[]);return{vs:jM(n.platformInfo,{...n,source:e,stage:"vertex",modules:r}),fs:jM(n.platformInfo,{...n,source:t,stage:"fragment",modules:r}),getUniforms:WH(r)}}function gde(n,e){var g;const{source:t,stage:r,modules:i,hookFunctions:s=[],inject:a={},log:o}=e;gR(typeof t=="string","shader source must be a string");const l=t;let c="";const A=KH(s),u={},h={},f={};for(const _ in a){const m=typeof a[_]=="string"?{injection:a[_],order:0}:a[_],y=/^(v|f)s:(#)?([\w-]+)$/.exec(_);if(y){const b=y[2],v=y[3];b?v==="decl"?h[_]=[m]:f[_]=[m]:u[_]=[m]}else f[_]=[m]}const d=i;for(const _ of d){o&&jH(_,l,o);const m=qH(_,"wgsl");c+=m;const y=((g=_.injections)==null?void 0:g[r])||{};for(const b in y){const v=/^(v|f)s:#([\w-]+)$/.exec(b);if(v){const C=v[2]==="decl"?h:f;C[b]=C[b]||[],C[b].push(y[b])}else u[b]=u[b]||[],u[b].push(y[b])}}return c+=$H,c=F5(c,r,h),c+=VH(A[r],u),c+=l,c=F5(c,r,f),c}function jM(n,e){var C;const{source:t,stage:r,language:i="glsl",modules:s,defines:a={},hookFunctions:o=[],inject:l={},prologue:c=!0,log:A}=e;gR(typeof t=="string","shader source must be a string");const u=i==="glsl"?cde(t).version:-1,h=n.shaderLanguageVersion,f=u===100?"#version 100":"#version 300 es",g=t.split(`
`).slice(1).join(`
`),_={};s.forEach(I=>{Object.assign(_,I.defines)}),Object.assign(_,a);let m="";switch(i){case"wgsl":break;case"glsl":m=c?`${f}

// ----- PROLOGUE -------------------------
${`#define SHADER_TYPE_${r.toUpperCase()}`}

${sde(n)}
${r==="fragment"?fde:""}

// ----- APPLICATION DEFINES -------------------------

${pde(_)}

`:`${f}
`;break}const y=KH(o),b={},v={},B={};for(const I in l){const R=typeof l[I]=="string"?{injection:l[I],order:0}:l[I],w=/^(v|f)s:(#)?([\w-]+)$/.exec(I);if(w){const U=w[2],M=w[3];U?M==="decl"?v[I]=[R]:B[I]=[R]:b[I]=[R]}else B[I]=[R]}for(const I of s){A&&jH(I,g,A);const R=qH(I,r);m+=R;const w=((C=I.instance)==null?void 0:C.normalizedInjections[r])||{};for(const U in w){const M=/^(v|f)s:#([\w-]+)$/.exec(U);if(M){const P=M[2]==="decl"?v:B;P[U]=P[U]||[],P[U].push(w[U])}else b[U]=b[U]||[],b[U].push(w[U])}}return m+="// ----- MAIN SHADER SOURCE -------------------------",m+=$H,m=F5(m,r,v),m+=VH(y[r],b),m+=g,m=F5(m,r,B),i==="glsl"&&u!==h&&(m=ade(m,r)),m.trim()}function WH(n){return function(t){var i;const r={};for(const s of n){const a=(i=s.getUniforms)==null?void 0:i.call(s,t,r);Object.assign(r,a)}return r}}function pde(n={}){let e="";for(const t in n){const r=n[t];(r||Number.isFinite(r))&&(e+=`#define ${t.toUpperCase()} ${n[t]}
`)}return e}function qH(n,e){let t;switch(e){case"vertex":t=n.vs||"";break;case"fragment":t=n.fs||"";break;case"wgsl":t=n.source||"";break;default:gR(!1)}if(!n.name)throw new Error("Shader module must have a name");const r=n.name.toUpperCase().replace(/[^0-9a-z]/gi,"_");let i=`// ----- MODULE ${n.name} ---------------

`;return e!=="wgsl"&&(i+=`#define MODULE_${r}
`),i+=`${t}
`,i}const _de=/^\s*\#\s*ifdef\s*([a-zA-Z_]+)\s*$/,mde=/^\s*\#\s*endif\s*$/;function yde(n,e){var a;const t=n.split(`
`),r=[];let i=!0,s=null;for(const o of t){const l=o.match(_de),c=o.match(mde);l?(s=l[1],i=!!((a=e==null?void 0:e.defines)!=null&&a[s])):c?i=!0:i&&r.push(o)}return r.join(`
`)}const a1=class a1{constructor(){z(this,"_hookFunctions",[]);z(this,"_defaultModules",[])}static getDefaultShaderAssembler(){return a1.defaultShaderAssembler=a1.defaultShaderAssembler||new a1,a1.defaultShaderAssembler}addDefaultModule(e){this._defaultModules.find(t=>t.name===(typeof e=="string"?e:e.name))||this._defaultModules.push(e)}removeDefaultModule(e){const t=typeof e=="string"?e:e.name;this._defaultModules=this._defaultModules.filter(r=>r.name!==t)}addShaderHook(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e)}assembleWGSLShader(e){const t=this._getModuleList(e.modules),r=this._hookFunctions,{source:i,getUniforms:s}=hde({...e,source:e.source,modules:t,hookFunctions:r});return{source:e.platformInfo.shaderLanguage==="wgsl"?yde(i):i,getUniforms:s,modules:t}}assembleGLSLShaderPair(e){const t=this._getModuleList(e.modules),r=this._hookFunctions;return{...dde({...e,vs:e.vs,fs:e.fs,modules:t,hookFunctions:r}),modules:t}}_getModuleList(e=[]){const t=new Array(this._defaultModules.length+e.length),r={};let i=0;for(let s=0,a=this._defaultModules.length;s<a;++s){const o=this._defaultModules[s],l=o.name;t[i++]=o,r[l]=!0}for(let s=0,a=e.length;s<a;++s){const o=e[s],l=o.name;r[l]||(t[i++]=o,r[l]=!0)}return t.length=i,U5(t),t}};z(a1,"defaultShaderAssembler");let N5=a1;const bde=`out vec4 transform_output;
void main() {
  transform_output = vec4(0);
}`,vde=`#version 300 es
${bde}`;function wde(n){const{input:e,inputChannels:t,output:r}={};if(!e)return vde;if(!t)throw new Error("inputChannels");const i=Lde(t),s=xde(e,t);return`#version 300 es
in ${i} ${e};
out vec4 ${r};
void main() {
  ${r} = ${s};
}`}function Lde(n){switch(n){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`invalid channels: ${n}`)}}function xde(n,e){switch(e){case 1:return`vec4(${n}, 0.0, 0.0, 1.0)`;case 2:return`vec4(${n}, 0.0, 1.0)`;case 3:return`vec4(${n}, 1.0)`;case 4:return n;default:throw new Error(`invalid channels: ${e}`)}}class Rde{constructor(){z(this,"stats",new Map)}getStats(e){return this.get(e)}get(e){return this.stats.has(e)||this.stats.set(e,new Od({id:e})),this.stats.get(e)}}const XH=new Rde,mt=new Dd({id:"luma.gl"}),Jv={};function m6(n="id"){Jv[n]=Jv[n]||1;const e=Jv[n]++;return`${n}-${e}`}var zw;let Tr=(zw=class{constructor(e,t,r){z(this,"id");z(this,"props");z(this,"userData",{});z(this,"_device");z(this,"destroyed",!1);z(this,"allocatedBytes",0);z(this,"_attachedResources",new Set);if(!e)throw new Error("no device");this._device=e,this.props=Bde(t,r);const i=this.props.id!=="undefined"?this.props.id:m6(this[Symbol.toStringTag]);this.props.id=i,this.id=i,this.userData=this.props.userData||{},this.addStats()}toString(){return`${this[Symbol.toStringTag]||this.constructor.name}:"${this.id}"`}destroy(){this.destroyResource()}delete(){return this.destroy(),this}getProps(){return this.props}attachResource(e){this._attachedResources.add(e)}detachResource(e){this._attachedResources.delete(e)}destroyAttachedResource(e){this._attachedResources.delete(e)&&e.destroy()}destroyAttachedResources(){for(const e of Object.values(this._attachedResources))e.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){const e=this._device.statsManager.getStats("Resource Counts"),t=this[Symbol.toStringTag];e.get(`${t}s Active`).decrementCount()}trackAllocatedMemory(e,t=this[Symbol.toStringTag]){const r=this._device.statsManager.getStats("Resource Counts");r.get("GPU Memory").addCount(e),r.get(`${t} Memory`).addCount(e),this.allocatedBytes=e}trackDeallocatedMemory(e=this[Symbol.toStringTag]){const t=this._device.statsManager.getStats("Resource Counts");t.get("GPU Memory").subtractCount(this.allocatedBytes),t.get(`${e} Memory`).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){const e=this._device.statsManager.getStats("Resource Counts"),t=this[Symbol.toStringTag];e.get("Resources Created").incrementCount(),e.get(`${t}s Created`).incrementCount(),e.get(`${t}s Active`).incrementCount()}},z(zw,"defaultProps",{id:"undefined",handle:void 0,userData:void 0}),zw);function Bde(n,e){const t={...e};for(const r in n)n[r]!==void 0&&(t[r]=n[r]);return t}var Ki;let xi=(Ki=class extends Tr{constructor(t,r){const i={...r};(r.usage||0)&Ki.INDEX&&!r.indexType&&(r.data instanceof Uint32Array?i.indexType="uint32":r.data instanceof Uint16Array&&(i.indexType="uint16")),delete i.data;super(t,i,Ki.defaultProps);z(this,"usage");z(this,"indexType");z(this,"updateTimestamp");z(this,"debugData",new ArrayBuffer(0));this.usage=i.usage||0,this.indexType=i.indexType,this.updateTimestamp=t.incrementTimestamp()}get[Symbol.toStringTag](){return"Buffer"}clone(t){return this.device.createBuffer({...this.props,...t})}_setDebugData(t,r,i){const s=ArrayBuffer.isView(t)?t.buffer:t,a=Math.min(t?t.byteLength:i,Ki.DEBUG_DATA_MAX_LENGTH);s===null?this.debugData=new ArrayBuffer(a):r===0&&i===s.byteLength?this.debugData=s.slice(0,a):this.debugData=s.slice(r,r+a)}},z(Ki,"INDEX",16),z(Ki,"VERTEX",32),z(Ki,"UNIFORM",64),z(Ki,"STORAGE",128),z(Ki,"INDIRECT",256),z(Ki,"QUERY_RESOLVE",512),z(Ki,"MAP_READ",1),z(Ki,"MAP_WRITE",2),z(Ki,"COPY_SRC",4),z(Ki,"COPY_DST",8),z(Ki,"DEBUG_DATA_MAX_LENGTH",32),z(Ki,"defaultProps",{...Tr.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",onMapped:void 0}),Ki);function JH(n){const[e,t,r]=yR[n],i=n.includes("norm"),s=!i&&!n.startsWith("float"),a=n.startsWith("s");return{signedType:e,primitiveType:t,byteLength:r,normalized:i,integer:s,signed:a}}function Ede(n){const e=n;switch(e){case"uint8":return"unorm8";case"sint8":return"snorm8";case"uint16":return"unorm16";case"sint16":return"snorm16";default:return e}}function Cde(n,e){switch(e){case 1:return n;case 2:return n+n%2;default:return n+(4-n%4)%4}}function _R(n){const e=ArrayBuffer.isView(n)?n.constructor:n;if(e===Uint8ClampedArray)return"uint8";const t=Object.values(yR).find(r=>e===r[4]);if(!t)throw new Error(e.name);return t[0]}function mR(n){const[,,,,e]=yR[n];return e}const yR={uint8:["uint8","u32",1,!1,Uint8Array],sint8:["sint8","i32",1,!1,Int8Array],unorm8:["uint8","f32",1,!0,Uint8Array],snorm8:["sint8","f32",1,!0,Int8Array],uint16:["uint16","u32",2,!1,Uint16Array],sint16:["sint16","i32",2,!1,Int16Array],unorm16:["uint16","u32",2,!0,Uint16Array],snorm16:["sint16","i32",2,!0,Int16Array],float16:["float16","f16",2,!1,Uint16Array],float32:["float32","f32",4,!1,Float32Array],uint32:["uint32","u32",4,!1,Uint32Array],sint32:["sint32","i32",4,!1,Int32Array]};function bR(n){let e;n.endsWith("-webgl")&&(n.replace("-webgl",""),e=!0);const[t,r]=n.split("x"),i=t,s=r?parseInt(r):1,a=JH(i),o={type:i,components:s,byteLength:a.byteLength*s,integer:a.integer,signed:a.signed,normalized:a.normalized};return e&&(o.webglOnly=!0),o}function Ide(n,e,t){const r=t?Ede(n):n;switch(r){case"unorm8":return e===1?"unorm8":e===3?"unorm8x3-webgl":`${r}x${e}`;case"snorm8":case"uint8":case"sint8":case"uint16":case"sint16":case"unorm16":case"snorm16":case"float16":if(e===1||e===3)throw new Error(`size: ${e}`);return`${r}x${e}`;default:return e===1?r:`${r}x${e}`}}function Tde(n,e,t){if(!e||e>4)throw new Error(`size ${e}`);const r=e,i=_R(n);return Ide(i,r,t)}function Mde(n){let e;switch(n.primitiveType){case"f32":e="float32";break;case"i32":e="sint32";break;case"u32":e="uint32";break;case"f16":return n.components<=2?"float16x2":"float16x4"}return n.components===1?e:`${e}x${n.components}`}const Vs="texture-compression-bc",Er="texture-compression-astc",lc="texture-compression-etc2",Sde="texture-compression-etc1-webgl",l4="texture-compression-pvrtc-webgl",Zv="texture-compression-atc-webgl",c4="float32-renderable-webgl",e8="float16-renderable-webgl",Fde="rgb9e5ufloat-renderable-webgl",t8="snorm8-renderable-webgl",F2="norm16-renderable-webgl",n8="snorm16-renderable-webgl",A4="float32-filterable",YM="float16-filterable-webgl";function ZH(n){const e=kde[n];if(!e)throw new Error(`Unsupported texture format ${n}`);return e}const Ude={r8unorm:{},rg8unorm:{},"rgb8unorm-webgl":{},rgba8unorm:{},"rgba8unorm-srgb":{},r8snorm:{render:t8},rg8snorm:{render:t8},"rgb8snorm-webgl":{},rgba8snorm:{render:t8},r8uint:{},rg8uint:{},rgba8uint:{},r8sint:{},rg8sint:{},rgba8sint:{},bgra8unorm:{},"bgra8unorm-srgb":{},r16unorm:{f:F2},rg16unorm:{render:F2},"rgb16unorm-webgl":{f:F2},rgba16unorm:{render:F2},r16snorm:{f:n8},rg16snorm:{render:n8},"rgb16snorm-webgl":{f:F2},rgba16snorm:{render:n8},r16uint:{},rg16uint:{},rgba16uint:{},r16sint:{},rg16sint:{},rgba16sint:{},r16float:{render:e8,filter:"float16-filterable-webgl"},rg16float:{render:e8,filter:YM},rgba16float:{render:e8,filter:YM},r32uint:{},rg32uint:{},rgba32uint:{},r32sint:{},rg32sint:{},rgba32sint:{},r32float:{render:c4,filter:A4},rg32float:{render:!1,filter:A4},"rgb32float-webgl":{render:c4,filter:A4},rgba32float:{render:c4,filter:A4},"rgba4unorm-webgl":{channels:"rgba",bitsPerChannel:[4,4,4,4],packed:!0},"rgb565unorm-webgl":{channels:"rgb",bitsPerChannel:[5,6,5,0],packed:!0},"rgb5a1unorm-webgl":{channels:"rgba",bitsPerChannel:[5,5,5,1],packed:!0},rgb9e5ufloat:{channels:"rgb",packed:!0,render:Fde},rg11b10ufloat:{channels:"rgb",bitsPerChannel:[11,11,10,0],packed:!0,p:1,render:c4},rgb10a2unorm:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},rgb10a2uint:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},stencil8:{attachment:"stencil",bitsPerChannel:[8,0,0,0],dataType:"uint8"},depth16unorm:{attachment:"depth",bitsPerChannel:[16,0,0,0],dataType:"uint16"},depth24plus:{attachment:"depth",bitsPerChannel:[24,0,0,0],dataType:"uint32"},depth32float:{attachment:"depth",bitsPerChannel:[32,0,0,0],dataType:"float32"},"depth24plus-stencil8":{attachment:"depth-stencil",bitsPerChannel:[24,8,0,0],packed:!0},"depth32float-stencil8":{attachment:"depth-stencil",bitsPerChannel:[32,8,0,0],packed:!0}},Nde={"bc1-rgb-unorm-webgl":{f:Vs},"bc1-rgb-unorm-srgb-webgl":{f:Vs},"bc1-rgba-unorm":{f:Vs},"bc1-rgba-unorm-srgb":{f:Vs},"bc2-rgba-unorm":{f:Vs},"bc2-rgba-unorm-srgb":{f:Vs},"bc3-rgba-unorm":{f:Vs},"bc3-rgba-unorm-srgb":{f:Vs},"bc4-r-unorm":{f:Vs},"bc4-r-snorm":{f:Vs},"bc5-rg-unorm":{f:Vs},"bc5-rg-snorm":{f:Vs},"bc6h-rgb-ufloat":{f:Vs},"bc6h-rgb-float":{f:Vs},"bc7-rgba-unorm":{f:Vs},"bc7-rgba-unorm-srgb":{f:Vs},"etc2-rgb8unorm":{f:lc},"etc2-rgb8unorm-srgb":{f:lc},"etc2-rgb8a1unorm":{f:lc},"etc2-rgb8a1unorm-srgb":{f:lc},"etc2-rgba8unorm":{f:lc},"etc2-rgba8unorm-srgb":{f:lc},"eac-r11unorm":{f:lc},"eac-r11snorm":{f:lc},"eac-rg11unorm":{f:lc},"eac-rg11snorm":{f:lc},"astc-4x4-unorm":{f:Er},"astc-4x4-unorm-srgb":{f:Er},"astc-5x4-unorm":{f:Er},"astc-5x4-unorm-srgb":{f:Er},"astc-5x5-unorm":{f:Er},"astc-5x5-unorm-srgb":{f:Er},"astc-6x5-unorm":{f:Er},"astc-6x5-unorm-srgb":{f:Er},"astc-6x6-unorm":{f:Er},"astc-6x6-unorm-srgb":{f:Er},"astc-8x5-unorm":{f:Er},"astc-8x5-unorm-srgb":{f:Er},"astc-8x6-unorm":{f:Er},"astc-8x6-unorm-srgb":{f:Er},"astc-8x8-unorm":{f:Er},"astc-8x8-unorm-srgb":{f:Er},"astc-10x5-unorm":{f:Er},"astc-10x5-unorm-srgb":{f:Er},"astc-10x6-unorm":{f:Er},"astc-10x6-unorm-srgb":{f:Er},"astc-10x8-unorm":{f:Er},"astc-10x8-unorm-srgb":{f:Er},"astc-10x10-unorm":{f:Er},"astc-10x10-unorm-srgb":{f:Er},"astc-12x10-unorm":{f:Er},"astc-12x10-unorm-srgb":{f:Er},"astc-12x12-unorm":{f:Er},"astc-12x12-unorm-srgb":{f:Er},"pvrtc-rgb4unorm-webgl":{f:l4},"pvrtc-rgba4unorm-webgl":{f:l4},"pvrtc-rbg2unorm-webgl":{f:l4},"pvrtc-rgba2unorm-webgl":{f:l4},"etc1-rbg-unorm-webgl":{f:Sde},"atc-rgb-unorm-webgl":{f:Zv},"atc-rgba-unorm-webgl":{f:Zv},"atc-rgbai-unorm-webgl":{f:Zv}},kde={...Ude,...Nde},Pde=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],Dde=/^(r|rg|rgb|rgba|bgra)([0-9]*)([a-z]*)(-srgb)?(-webgl)?$/;class Ode{getInfo(e){return GM(e)}isColor(e){return e.startsWith("rgba")||e.startsWith("bgra")||e.startsWith("rgb")}isDepthStencil(e){return e.startsWith("depth")||e.startsWith("stencil")}isCompressed(e){return Pde.some(t=>e.startsWith(t))}getCapabilities(e){const t=ZH(e),r={format:e,create:t.f??!0,render:t.render??!0,filter:t.filter??!0,blend:t.blend??!0,store:t.store??!0},i=GM(e),s=e.startsWith("depth")||e.startsWith("stencil"),a=i==null?void 0:i.signed,o=i==null?void 0:i.integer,l=i==null?void 0:i.webgl;return r.render&&(r.render=!a),r.filter&&(r.filter=!s&&!a&&!o&&!l),r}}const Oh=new Ode;function GM(n){let e=zde(n);if(Oh.isCompressed(n)){e.channels="rgb",e.components=3,e.bytesPerPixel=1,e.srgb=!1,e.compressed=!0;const r=Hde(n);r&&(e.blockWidth=r.blockWidth,e.blockHeight=r.blockHeight)}const t=Dde.exec(n);if(t){const[,r,i,s,a,o]=t,l=`${s}${i}`,c=JH(l),A=c.byteLength*8,u=r.length,h=[A,u>=2?A:0,u>=3?A:0,u>=4?A:0];e={format:n,attachment:e.attachment,dataType:c.signedType,components:u,channels:r,integer:c.integer,signed:c.signed,normalized:c.normalized,bitsPerChannel:h,bytesPerPixel:c.byteLength*r.length,packed:e.packed,srgb:e.srgb},o==="-webgl"&&(e.webgl=!0),a==="-srgb"&&(e.srgb=!0)}return n.endsWith("-webgl")&&(e.webgl=!0),n.endsWith("-srgb")&&(e.srgb=!0),e}function zde(n){var s;const e=ZH(n),t=e.bytesPerPixel||1,r=e.bitsPerChannel||[8,8,8,8];return delete e.bitsPerChannel,delete e.bytesPerPixel,delete e.f,delete e.render,delete e.filter,delete e.blend,delete e.store,{...e,format:n,attachment:e.attachment||"color",channels:e.channels||"r",components:e.components||((s=e.channels)==null?void 0:s.length)||1,bytesPerPixel:t,bitsPerChannel:r,dataType:e.dataType||"uint8",srgb:e.srgb??!1,packed:e.packed??!1,webgl:e.webgl??!1,integer:e.integer??!1,signed:e.signed??!1,normalized:e.normalized??!1,compressed:e.compressed??!1}}function Hde(n){const t=/.*-(\d+)x(\d+)-.*/.exec(n);if(t){const[,r,i]=t;return{blockWidth:Number(r),blockHeight:Number(i)}}return null}function Qde(n){return typeof ImageData<"u"&&n instanceof ImageData||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement||typeof VideoFrame<"u"&&n instanceof VideoFrame||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas}function jde(n){if(typeof ImageData<"u"&&n instanceof ImageData||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height};if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement)return{width:n.naturalWidth,height:n.naturalHeight};if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement)return{width:n.videoWidth,height:n.videoHeight};if(typeof VideoFrame<"u"&&n instanceof VideoFrame)return{width:n.displayWidth,height:n.displayHeight};throw new Error("Unknown image type")}class Yde{}class Gde{constructor(e=[],t){z(this,"features");z(this,"disabledFeatures");this.features=new Set(e),this.disabledFeatures=t||{}}*[Symbol.iterator](){yield*this.features}has(e){var t;return!((t=this.disabledFeatures)!=null&&t[e])&&this.features.has(e)}}const xy=class xy{constructor(e){z(this,"id");z(this,"props");z(this,"userData",{});z(this,"statsManager",XH);z(this,"timestamp",0);z(this,"_reused",!1);z(this,"_lumaData",{});z(this,"_textureCaps",{});this.props={...xy.defaultProps,...e},this.id=this.props.id||m6(this[Symbol.toStringTag].toLowerCase())}get[Symbol.toStringTag](){return"Device"}toString(){return`Device(${this.id})`}getVertexFormatInfo(e){return bR(e)}isVertexFormatSupported(e){return!0}getTextureFormatInfo(e){return Oh.getInfo(e)}getTextureFormatCapabilities(e){let t=this._textureCaps[e];if(!t){const r=this._getDeviceTextureFormatCapabilities(e);t=this._getDeviceSpecificTextureFormatCapabilities(r),this._textureCaps[e]=t}return t}getMipLevelCount(e,t,r=1){const i=Math.max(e,t,r);return 1+Math.floor(Math.log2(i))}isExternalImage(e){return Qde(e)}getExternalImageSize(e){return jde(e)}isTextureFormatSupported(e){return this.getTextureFormatCapabilities(e).create}isTextureFormatFilterable(e){return this.getTextureFormatCapabilities(e).filter}isTextureFormatRenderable(e){return this.getTextureFormatCapabilities(e).render}isTextureFormatCompressed(e){return Oh.isCompressed(e)}pushDebugGroup(e){this.commandEncoder.pushDebugGroup(e)}popDebugGroup(){var e;(e=this.commandEncoder)==null||e.popDebugGroup()}insertDebugMarker(e){var t;(t=this.commandEncoder)==null||t.insertDebugMarker(e)}loseDevice(){return!1}incrementTimestamp(){return this.timestamp++}reportError(e,t,...r){return this.props.onError(e,t)?()=>{}:mt.error(e.message,t,...r)}debug(){if(this.props.debug)debugger;else mt.once(0,`'Type luma.log.set({debug: true}) in console to enable debug breakpoints',
or create a device with the 'debug: true' prop.`)()}getDefaultCanvasContext(){if(!this.canvasContext)throw new Error("Device has no default CanvasContext. See props.createCanvasContext");return this.canvasContext}beginRenderPass(e){return this.commandEncoder.beginRenderPass(e)}beginComputePass(e){return this.commandEncoder.beginComputePass(e)}getCanvasContext(){return this.getDefaultCanvasContext()}readPixelsToArrayWebGL(e,t){throw new Error("not implemented")}readPixelsToBufferWebGL(e,t){throw new Error("not implemented")}setParametersWebGL(e){throw new Error("not implemented")}getParametersWebGL(e){throw new Error("not implemented")}withParametersWebGL(e,t){throw new Error("not implemented")}clearWebGL(e){throw new Error("not implemented")}resetWebGL(){throw new Error("not implemented")}static _getCanvasContextProps(e){return e.createCanvasContext===!0?{}:e.createCanvasContext}_getDeviceTextureFormatCapabilities(e){const t=Oh.getCapabilities(e),r=s=>(typeof s=="string"?this.features.has(s):s)??!0,i=r(t.create);return{format:e,create:i,render:i&&r(t.render),filter:i&&r(t.filter),blend:i&&r(t.blend),store:i&&r(t.store)}}_normalizeBufferProps(e){(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t={...e};if((e.usage||0)&xi.INDEX&&(e.indexType||(e.data instanceof Uint32Array?t.indexType="uint32":e.data instanceof Uint16Array&&(t.indexType="uint16")),!t.indexType))throw new Error("indices buffer content must be of type uint16 or uint32");return t}};z(xy,"defaultProps",{id:null,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,createCanvasContext:void 0,webgl:{},onError:(e,t)=>{},onResize:(e,t)=>{const[r,i]=e.getDevicePixelSize();mt.log(1,`${e} resized => ${r}x${i}px`)()},onPositionChange:(e,t)=>{const[r,i]=e.getPosition();mt.log(1,`${e} repositioned => ${r},${i}`)()},onVisibilityChange:e=>mt.log(1,`${e} Visibility changed ${e.isVisible}`)(),onDevicePixelRatioChange:(e,t)=>mt.log(1,`${e} DPR changed ${t.oldRatio} => ${e.devicePixelRatio}`)(),debug:mt.get("debug")||void 0,debugShaders:mt.get("debug-shaders")||void 0,debugFramebuffers:!!mt.get("debug-framebuffers"),debugFactories:!!mt.get("debug-factories"),debugWebGL:!!mt.get("debug-webgl"),debugSpectorJS:void 0,debugSpectorJSUrl:void 0,_reuseDevices:!1,_requestMaxLimits:!0,_cacheShaders:!1,_cachePipelines:!1,_cacheDestroyPolicy:"unused",_initializeFeatures:!0,_disabledFeatures:{"compilation-status-async-webgl":!0},_handle:void 0});let Q1=xy;const Vde="set luma.log.level=1 (or higher) to trace rendering",VM="No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.",p3=class p3{constructor(){z(this,"stats",XH);z(this,"log",mt);z(this,"VERSION","9.2.5");z(this,"spector");z(this,"preregisteredAdapters",new Map);if(globalThis.luma){if(globalThis.luma.VERSION!==this.VERSION)throw mt.error(`Found luma.gl ${globalThis.luma.VERSION} while initialzing ${this.VERSION}`)(),mt.error("'yarn why @luma.gl/core' can help identify the source of the conflict")(),new Error("luma.gl - multiple versions detected: see console log");mt.error("This version of luma.gl has already been initialized")()}mt.log(1,`${this.VERSION} - ${Vde}`)(),globalThis.luma=this}async createDevice(e={}){const t={...p3.defaultProps,...e},r=this.selectAdapter(t.type,t.adapters);if(!r)throw new Error(VM);return t.waitForPageLoad&&await r.pageLoaded,await r.create(t)}async attachDevice(e,t){var s;const r=this._getTypeFromHandle(e,t.adapters),i=r&&this.selectAdapter(r,t.adapters);if(!i)throw new Error(VM);return await((s=i==null?void 0:i.attach)==null?void 0:s.call(i,e,t))}registerAdapters(e){for(const t of e)this.preregisteredAdapters.set(t.type,t)}getSupportedAdapters(e=[]){const t=this._getAdapterMap(e);return Array.from(t).map(([,r])=>r).filter(r=>{var i;return(i=r.isSupported)==null?void 0:i.call(r)}).map(r=>r.type)}getBestAvailableAdapterType(e=[]){var i,s;const t=["webgpu","webgl","null"],r=this._getAdapterMap(e);for(const a of t)if((s=(i=r.get(a))==null?void 0:i.isSupported)!=null&&s.call(i))return a;return null}selectAdapter(e,t=[]){let r=e;e==="best-available"&&(r=this.getBestAvailableAdapterType(t));const i=this._getAdapterMap(t);return r&&i.get(r)||null}enforceWebGL2(e=!0,t=[]){var s;const i=this._getAdapterMap(t).get("webgl");i||mt.warn("enforceWebGL2: webgl adapter not found")(),(s=i==null?void 0:i.enforceWebGL2)==null||s.call(i,e)}setDefaultDeviceProps(e){Object.assign(p3.defaultProps,e)}_getAdapterMap(e=[]){const t=new Map(this.preregisteredAdapters);for(const r of e)t.set(r.type,r);return t}_getTypeFromHandle(e,t=[]){return e instanceof WebGL2RenderingContext?"webgl":typeof GPUDevice<"u"&&e instanceof GPUDevice||e!=null&&e.queue?"webgpu":e===null?"null":(e instanceof WebGLRenderingContext?mt.warn("WebGL1 is not supported",e)():mt.warn("Unknown handle type",e)(),null)}};z(p3,"defaultProps",{...Q1.defaultProps,type:"best-available",adapters:void 0,waitForPageLoad:!0});let g9=p3;const p9=new g9;class Kde{get pageLoaded(){return qde()}}const $de=sf()&&typeof document<"u",Wde=()=>$de&&document.readyState==="complete";let u4=null;function qde(){return u4||(Wde()||typeof window>"u"?u4=Promise.resolve():u4=new Promise(n=>window.addEventListener("load",()=>n()))),u4}function Xde(){let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}}const o1=class o1{constructor(e){z(this,"id");z(this,"props");z(this,"canvas");z(this,"htmlCanvas");z(this,"offscreenCanvas");z(this,"type");z(this,"initialized");z(this,"isInitialized",!1);z(this,"isVisible",!0);z(this,"cssWidth");z(this,"cssHeight");z(this,"devicePixelRatio");z(this,"devicePixelWidth");z(this,"devicePixelHeight");z(this,"drawingBufferWidth");z(this,"drawingBufferHeight");z(this,"_initializedResolvers",Xde());z(this,"_resizeObserver");z(this,"_intersectionObserver");z(this,"_position");z(this,"destroyed",!1);var t,r;if(this.props={...o1.defaultProps,...e},e=this.props,this.initialized=this._initializedResolvers.promise,sf()?e.canvas?typeof e.canvas=="string"?this.canvas=Zde(e.canvas):this.canvas=e.canvas:this.canvas=e2e(e):this.canvas={width:e.width||1,height:e.height||1},o1.isHTMLCanvas(this.canvas)?(this.id=e.id||this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas):o1.isOffscreenCanvas(this.canvas)?(this.id=e.id||"offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas):(this.id=e.id||"node-canvas-context",this.type="node"),this.cssWidth=((t=this.htmlCanvas)==null?void 0:t.clientWidth)||this.canvas.width,this.cssHeight=((r=this.htmlCanvas)==null?void 0:r.clientHeight)||this.canvas.height,this.devicePixelWidth=this.canvas.width,this.devicePixelHeight=this.canvas.height,this.drawingBufferWidth=this.canvas.width,this.drawingBufferHeight=this.canvas.height,this.devicePixelRatio=globalThis.devicePixelRatio||1,this._position=[0,0],o1.isHTMLCanvas(this.canvas)){this._intersectionObserver=new IntersectionObserver(i=>this._handleIntersection(i)),this._intersectionObserver.observe(this.canvas),this._resizeObserver=new ResizeObserver(i=>this._handleResize(i));try{this._resizeObserver.observe(this.canvas,{box:"device-pixel-content-box"})}catch{this._resizeObserver.observe(this.canvas,{box:"content-box"})}setTimeout(()=>this._observeDevicePixelRatio(),0),this.props.trackPosition&&this._trackPosition()}}static isHTMLCanvas(e){return typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement}static isOffscreenCanvas(e){return typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas}toString(){return`${this[Symbol.toStringTag]}(${this.id})`}destroy(){this.destroyed=!0}setProps(e){return"useDevicePixels"in e&&(this.props.useDevicePixels=e.useDevicePixels||!1,this._updateDrawingBufferSize()),this}getCSSSize(){return[this.cssWidth,this.cssHeight]}getPosition(){return this._position}getDevicePixelSize(){return[this.devicePixelWidth,this.devicePixelHeight]}getDrawingBufferSize(){return[this.drawingBufferWidth,this.drawingBufferHeight]}getMaxDrawingBufferSize(){const e=this.device.limits.maxTextureDimension2D;return[e,e]}setDrawingBufferSize(e,t){this.canvas.width=e,this.canvas.height=t,this.drawingBufferWidth=e,this.drawingBufferHeight=t}getDevicePixelRatio(){return typeof window<"u"&&window.devicePixelRatio||1}cssToDevicePixels(e,t=!0){const r=this.cssToDeviceRatio(),[i,s]=this.getDrawingBufferSize();return t2e(e,r,i,s,t)}getPixelSize(){return this.getDevicePixelSize()}getAspect(){const[e,t]=this.getDevicePixelSize();return e/t}cssToDeviceRatio(){try{const[e]=this.getDrawingBufferSize(),[t]=this.getCSSSize();return t?e/t:1}catch{return 1}}resize(e){this.setDrawingBufferSize(e.width,e.height)}_setAutoCreatedCanvasId(e){var t;((t=this.htmlCanvas)==null?void 0:t.id)==="lumagl-auto-created-canvas"&&(this.htmlCanvas.id=e)}_handleIntersection(e){const t=e.find(i=>i.target===this.canvas);if(!t)return;const r=t.isIntersecting;this.isVisible!==r&&(this.isVisible=r,this.device.props.onVisibilityChange(this))}_handleResize(e){var l,c;const t=e.find(A=>A.target===this.canvas);if(!t)return;this.cssWidth=t.contentBoxSize[0].inlineSize,this.cssHeight=t.contentBoxSize[0].blockSize;const r=this.getDevicePixelSize(),i=((l=t.devicePixelContentBoxSize)==null?void 0:l[0].inlineSize)||t.contentBoxSize[0].inlineSize*devicePixelRatio,s=((c=t.devicePixelContentBoxSize)==null?void 0:c[0].blockSize)||t.contentBoxSize[0].blockSize*devicePixelRatio,[a,o]=this.getMaxDrawingBufferSize();this.devicePixelWidth=Math.max(1,Math.min(i,a)),this.devicePixelHeight=Math.max(1,Math.min(s,o)),this._updateDrawingBufferSize(),this.device.props.onResize(this,{oldPixelSize:r})}_updateDrawingBufferSize(){if(this.props.autoResize){if(typeof this.props.useDevicePixels=="number"){const e=this.props.useDevicePixels;this.setDrawingBufferSize(this.cssWidth*e,this.cssHeight*e)}else this.props.useDevicePixels?this.setDrawingBufferSize(this.devicePixelWidth,this.devicePixelHeight):this.setDrawingBufferSize(this.cssWidth,this.cssHeight);this._updateDevice()}this._initializedResolvers.resolve(),this.isInitialized=!0,this.updatePosition()}_observeDevicePixelRatio(){const e=this.devicePixelRatio;this.devicePixelRatio=window.devicePixelRatio,this.updatePosition(),this.device.props.onDevicePixelRatioChange(this,{oldRatio:e}),matchMedia(`(resolution: ${this.devicePixelRatio}dppx)`).addEventListener("change",()=>this._observeDevicePixelRatio(),{once:!0})}_trackPosition(e=100){const t=setInterval(()=>{this.destroyed?clearInterval(t):this.updatePosition()},e)}updatePosition(){var t,r,i;const e=(t=this.htmlCanvas)==null?void 0:t.getBoundingClientRect();if(e){const s=[e.left,e.top];if(this._position??(this._position=s),s[0]!==this._position[0]||s[1]!==this._position[1]){const o=this._position;this._position=s,(i=(r=this.device.props).onPositionChange)==null||i.call(r,this,{oldPosition:o})}}}};z(o1,"defaultProps",{id:void 0,canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,alphaMode:"opaque",colorSpace:"srgb",trackPosition:!1});let k5=o1;function Jde(n){if(typeof n=="string"){const e=document.getElementById(n);if(!e)throw new Error(`${n} is not an HTML element`);return e}return n||document.body}function Zde(n){const e=document.getElementById(n);if(!k5.isHTMLCanvas(e))throw new Error("Object is not a canvas element");return e}function e2e(n){const{width:e,height:t}=n,r=document.createElement("canvas");r.id=m6("lumagl-auto-created-canvas"),r.width=e||1,r.height=t||1,r.style.width=Number.isFinite(e)?`${e}px`:"100%",r.style.height=Number.isFinite(t)?`${t}px`:"100%",n!=null&&n.visible||(r.style.visibility="hidden");const i=Jde((n==null?void 0:n.container)||null);return i.insertBefore(r,i.firstChild),r}function t2e(n,e,t,r,i){const s=n,a=KM(s[0],e,t);let o=$M(s[1],e,r,i),l=KM(s[0]+1,e,t);const c=l===t-1?l:l-1;l=$M(s[1]+1,e,r,i);let A;return i?(l=l===0?l:l+1,A=o,o=l):A=l===r-1?l:l-1,{x:a,y:o,width:Math.max(c-a+1,1),height:Math.max(A-o+1,1)}}function KM(n,e,t){return Math.min(Math.round(n*e),t-1)}function $M(n,e,t,r){return r?Math.max(0,t-1-Math.round(n*e)):Math.min(Math.round(n*e),t-1)}const _3=class _3 extends Tr{get[Symbol.toStringTag](){return"Sampler"}constructor(e,t){t=_3.normalizeProps(e,t),super(e,t,_3.defaultProps)}static normalizeProps(e,t){return t}};z(_3,"defaultProps",{...Tr.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"none",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1});let dd=_3;const n2e={"1d":"1d","2d":"2d","2d-array":"2d",cube:"2d","cube-array":"2d","3d":"3d"},As=class As extends Tr{constructor(t,r){r=As.normalizeProps(t,r);super(t,r,As.defaultProps);z(this,"dimension");z(this,"baseDimension");z(this,"format");z(this,"width");z(this,"height");z(this,"depth");z(this,"mipLevels");z(this,"updateTimestamp");if(this.dimension=this.props.dimension,this.baseDimension=n2e[this.dimension],this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.mipLevels=this.props.mipLevels,this.props.width===void 0||this.props.height===void 0)if(t.isExternalImage(r.data)){const i=t.getExternalImageSize(r.data);this.width=(i==null?void 0:i.width)||1,this.height=(i==null?void 0:i.height)||1}else this.width=1,this.height=1,(this.props.width===void 0||this.props.height===void 0)&&mt.warn(`${this} created with undefined width or height. This is deprecated. Use AsyncTexture instead.`)();this.updateTimestamp=t.incrementTimestamp()}get[Symbol.toStringTag](){return"Texture"}toString(){return`Texture(${this.id},${this.format},${this.width}x${this.height})`}setSampler(t){this.sampler=t instanceof dd?t:this.device.createSampler(t)}clone(t){return this.device.createTexture({...this.props,...t})}static normalizeProps(t,r){const i={...r},{width:s,height:a}=i;return typeof s=="number"&&(i.width=Math.max(1,Math.ceil(s))),typeof a=="number"&&(i.height=Math.max(1,Math.ceil(a))),i}_initializeData(t){this.device.isExternalImage(t)?this.copyExternalImage({image:t,width:this.width,height:this.height,depth:this.depth,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1}):t&&this.copyImageData({data:t,mipLevel:0,x:0,y:0,z:0,aspect:"all"})}_normalizeCopyImageDataOptions(t){const{width:r,height:i,depth:s}=this,a={...As.defaultCopyDataOptions,width:r,height:i,depth:s,...t},o=this.device.getTextureFormatInfo(this.format);if(!t.bytesPerRow&&!o.bytesPerPixel)throw new Error(`bytesPerRow must be provided for texture format ${this.format}`);return a.bytesPerRow=t.bytesPerRow||r*(o.bytesPerPixel||4),a.rowsPerImage=t.rowsPerImage||i,a}_normalizeCopyExternalImageOptions(t){const r=this.device.getExternalImageSize(t.image),i={...As.defaultCopyExternalImageOptions,...r,...t};return i.width=Math.min(i.width,this.width-i.x),i.height=Math.min(i.height,this.height-i.y),i}};z(As,"SAMPLE",4),z(As,"STORAGE",8),z(As,"RENDER",16),z(As,"COPY_SRC",1),z(As,"COPY_DST",2),z(As,"TEXTURE",4),z(As,"RENDER_ATTACHMENT",16),z(As,"defaultProps",{...Tr.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",usage:As.TEXTURE|As.RENDER_ATTACHMENT|As.COPY_DST,width:void 0,height:void 0,depth:1,mipLevels:1,samples:void 0,sampler:{},view:void 0}),z(As,"defaultCopyDataOptions",{data:void 0,byteOffset:0,bytesPerRow:void 0,rowsPerImage:void 0,mipLevel:0,x:0,y:0,z:0,aspect:"all"}),z(As,"defaultCopyExternalImageOptions",{image:void 0,sourceX:0,sourceY:0,width:void 0,height:void 0,depth:1,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1});let Pa=As;const Ry=class Ry extends Tr{get[Symbol.toStringTag](){return"TextureView"}constructor(e,t){super(e,t,Ry.defaultProps)}};z(Ry,"defaultProps",{...Tr.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0});let P5=Ry;function r2e(n,e,t){let r="";const i=e.split(/\r?\n/),s=n.slice().sort((a,o)=>a.lineNum-o.lineNum);switch((t==null?void 0:t.showSourceCode)||"no"){case"all":let a=0;for(let o=1;o<=i.length;o++)for(r+=eQ(i[o-1],o,t);s.length>a&&s[a].lineNum===o;){const l=s[a++];r+=r8(l,i,l.lineNum,{...t,inlineSource:!1})}for(;s.length>a;){const o=s[a++];r+=r8(o,[],0,{...t,inlineSource:!1})}return r;case"issues":case"no":for(const o of n)r+=r8(o,i,o.lineNum,{inlineSource:(t==null?void 0:t.showSourceCode)!=="no"});return r}}function r8(n,e,t,r){if(r!=null&&r.inlineSource){const s=i2e(e,t),a=n.linePos>0?`${" ".repeat(n.linePos+5)}^^^
`:"";return`
${s}${a}${n.type.toUpperCase()}: ${n.message}

`}const i=n.type==="error"?"red":"#8B4000";return r!=null&&r.html?`<div class='luma-compiler-log-error' style="color:${i};"><b> ${n.type.toUpperCase()}: ${n.message}</b></div>`:`${n.type.toUpperCase()}: ${n.message}`}function i2e(n,e,t){let r="";for(let i=e-2;i<=e;i++){const s=n[i-1];s!==void 0&&(r+=eQ(s,e,t))}return r}function eQ(n,e,t){const r=t!=null&&t.html?a2e(n):n;return`${s2e(String(e),4)}: ${r}${t!=null&&t.html?"<br/>":`
`}`}function s2e(n,e){let t="";for(let r=n.length;r<e;++r)t+=" ";return t+n}function a2e(n){return n.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}const By=class By extends Tr{constructor(t,r){r={...r,debugShaders:r.debugShaders||t.props.debugShaders||"errors"};super(t,{id:o2e(r),...r},By.defaultProps);z(this,"stage");z(this,"source");z(this,"compilationStatus","pending");this.stage=this.props.stage,this.source=this.props.source}get[Symbol.toStringTag](){return"Shader"}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(){const t=this.props.debugShaders;switch(t){case"never":return;case"errors":if(this.compilationStatus==="success")return;break}const r=await this.getCompilationInfo();t==="warnings"&&(r==null?void 0:r.length)===0||this._displayShaderLog(r,this.id)}_displayShaderLog(t,r){var A;if(typeof document>"u"||!(document!=null&&document.createElement))return;const i=r,s=`${this.stage} shader "${i}"`;let a=r2e(t,this.source,{showSourceCode:"all",html:!0});const o=this.getTranslatedSource();o&&(a+=`<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>${o}</pre></code>`);const l=document.createElement("Button");l.innerHTML=`
<h1>Compilation error in ${s}</h1><br /><br />
<code style="user-select:text;"><pre>
${a}
</pre></code>`,l.style.top="10px",l.style.left="10px",l.style.position="absolute",l.style.zIndex="9999",l.style.width="100%",l.style.textAlign="left",document.body.appendChild(l),(A=document.getElementsByClassName("luma-compiler-log-error")[0])==null||A.scrollIntoView(),l.onclick=()=>{const u=`data:text/plain,${encodeURIComponent(this.source)}`;navigator.clipboard.writeText(u)}}};z(By,"defaultProps",{...Tr.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debugShaders:void 0});let D5=By;function o2e(n){return l2e(n.source)||n.id||m6(`unnamed ${n.stage}-shader`)}function l2e(n,e="unnamed"){const r=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec(n);return r?r[1]:e}const Ey=class Ey extends Tr{constructor(t,r={}){super(t,r,Ey.defaultProps);z(this,"width");z(this,"height");this.width=this.props.width,this.height=this.props.height}get[Symbol.toStringTag](){return"Framebuffer"}clone(t){const r=this.colorAttachments.map(s=>s.texture.clone(t)),i=this.depthStencilAttachment&&this.depthStencilAttachment.texture.clone(t);return this.device.createFramebuffer({...this.props,colorAttachments:r,depthStencilAttachment:i})}resize(t){let r=!t;if(t){const[i,s]=Array.isArray(t)?t:[t.width,t.height];r=r||s!==this.height||i!==this.width,this.width=i,this.height=s}r&&(mt.log(2,`Resizing framebuffer ${this.id} to ${this.width}x${this.height}`)(),this.resizeAttachments(this.width,this.height))}autoCreateAttachmentTextures(){if(this.props.colorAttachments.length===0&&!this.props.depthStencilAttachment)throw new Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map((r,i)=>{if(typeof r=="string"){const s=this.createColorTexture(r,i);return this.attachResource(s),s.view}return r instanceof Pa?r.view:r});const t=this.props.depthStencilAttachment;if(t)if(typeof t=="string"){const r=this.createDepthStencilTexture(t);this.attachResource(r),this.depthStencilAttachment=r.view}else t instanceof Pa?this.depthStencilAttachment=t.view:this.depthStencilAttachment=t}createColorTexture(t,r){return this.device.createTexture({id:`${this.id}-color-attachment-${r}`,usage:Pa.RENDER_ATTACHMENT,format:t,width:this.width,height:this.height,sampler:{magFilter:"linear",minFilter:"linear"}})}createDepthStencilTexture(t){return this.device.createTexture({id:`${this.id}-depth-stencil-attachment`,usage:Pa.RENDER_ATTACHMENT,format:t,width:this.width,height:this.height})}resizeAttachments(t,r){for(let i=0;i<this.colorAttachments.length;++i)if(this.colorAttachments[i]){const s=this.colorAttachments[i].texture.clone({width:t,height:r});this.destroyAttachedResource(this.colorAttachments[i]),this.colorAttachments[i]=s.view,this.attachResource(s.view)}if(this.depthStencilAttachment){const i=this.depthStencilAttachment.texture.clone({width:t,height:r});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=i.view,this.attachResource(i)}this.updateAttachments()}};z(Ey,"defaultProps",{...Tr.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null});let O5=Ey;const Cy=class Cy extends Tr{constructor(t,r){super(t,r,Cy.defaultProps);z(this,"shaderLayout");z(this,"bufferLayout");z(this,"linkStatus","pending");z(this,"hash","");this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}get[Symbol.toStringTag](){return"RenderPipeline"}};z(Cy,"defaultProps",{...Tr.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",colorAttachmentFormats:void 0,depthStencilAttachmentFormat:void 0,parameters:{},bindings:{},uniforms:{}});let C1=Cy;const Rl=class Rl extends Tr{get[Symbol.toStringTag](){return"RenderPass"}constructor(e,t){t=Rl.normalizeProps(e,t),super(e,t,Rl.defaultProps)}static normalizeProps(e,t){return t}};z(Rl,"defaultClearColor",[0,0,0,1]),z(Rl,"defaultClearDepth",1),z(Rl,"defaultClearStencil",0),z(Rl,"defaultProps",{...Tr.defaultProps,framebuffer:null,parameters:void 0,clearColor:Rl.defaultClearColor,clearColors:void 0,clearDepth:Rl.defaultClearDepth,clearStencil:Rl.defaultClearStencil,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0});let _9=Rl;const Iy=class Iy extends Tr{constructor(t,r){super(t,r,Iy.defaultProps);z(this,"hash","");z(this,"shaderLayout");this.shaderLayout=r.shaderLayout}get[Symbol.toStringTag](){return"ComputePipeline"}};z(Iy,"defaultProps",{...Tr.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0});let z5=Iy;const Ty=class Ty extends Tr{get[Symbol.toStringTag](){return"CommandEncoder"}constructor(e,t){super(e,t,Ty.defaultProps)}};z(Ty,"defaultProps",{...Tr.defaultProps,measureExecutionTime:void 0});let m9=Ty;const My=class My extends Tr{get[Symbol.toStringTag](){return"CommandBuffer"}constructor(e,t){super(e,t,My.defaultProps)}};z(My,"defaultProps",{...Tr.defaultProps});let y9=My;function tQ(n){return f2e[n]}function c2e(n){const[e,t]=u2e[n],r=e==="i32"||e==="u32",i=e!=="u32",s=A2e[e]*t;return{primitiveType:e,components:t,byteLength:s,integer:r,signed:i}}const A2e={f32:4,f16:2,i32:4,u32:4},u2e={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},f2e={f32:{type:"f32",components:1},f16:{type:"f16",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<f16>":{type:"f16",components:2},"vec3<f16>":{type:"f16",components:3},"vec4<f16>":{type:"f16",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16},"mat2x2<f16>":{type:"f16",components:4},"mat2x3<f16>":{type:"f16",components:6},"mat2x4<f16>":{type:"f16",components:8},"mat3x2<f16>":{type:"f16",components:6},"mat3x3<f16>":{type:"f16",components:9},"mat3x4<f16>":{type:"f16",components:12},"mat4x2<f16>":{type:"f16",components:8},"mat4x3<f16>":{type:"f16",components:12},"mat4x4<f16>":{type:"f16",components:16},"mat2x2<i32>":{type:"i32",components:4},"mat2x3<i32>":{type:"i32",components:6},"mat2x4<i32>":{type:"i32",components:8},"mat3x2<i32>":{type:"i32",components:6},"mat3x3<i32>":{type:"i32",components:9},"mat3x4<i32>":{type:"i32",components:12},"mat4x2<i32>":{type:"i32",components:8},"mat4x3<i32>":{type:"i32",components:12},"mat4x4<i32>":{type:"i32",components:16},"mat2x2<u32>":{type:"u32",components:4},"mat2x3<u32>":{type:"u32",components:6},"mat2x4<u32>":{type:"u32",components:8},"mat3x2<u32>":{type:"u32",components:6},"mat3x3<u32>":{type:"u32",components:9},"mat3x4<u32>":{type:"u32",components:12},"mat4x2<u32>":{type:"u32",components:8},"mat4x3<u32>":{type:"u32",components:12},"mat4x4<u32>":{type:"u32",components:16}};function nQ(n,e){const t={};for(const r of n.attributes){const i=d2e(n,e,r.name);i&&(t[r.name]=i)}return t}function h2e(n,e,t=16){const r=nQ(n,e),i=new Array(t).fill(null);for(const s of Object.values(r))i[s.location]=s;return i}function d2e(n,e,t){const r=g2e(n,t),i=p2e(e,t);if(!r)return null;const s=c2e(r.type),a=Mde(s),o=(i==null?void 0:i.vertexFormat)||a,l=bR(o);return{attributeName:(i==null?void 0:i.attributeName)||r.name,bufferName:(i==null?void 0:i.bufferName)||r.name,location:r.location,shaderType:r.type,primitiveType:s.primitiveType,shaderComponents:s.components,vertexFormat:o,bufferDataType:l.type,bufferComponents:l.components,normalized:l.normalized,integer:s.integer,stepMode:(i==null?void 0:i.stepMode)||r.stepMode||"vertex",byteOffset:(i==null?void 0:i.byteOffset)||0,byteStride:(i==null?void 0:i.byteStride)||0}}function g2e(n,e){const t=n.attributes.find(r=>r.name===e);return t||mt.warn(`shader layout attribute "${e}" not present in shader`),t||null}function p2e(n,e){_2e(n);let t=m2e(n,e);return t||(t=y2e(n,e),t)?t:(mt.warn(`layout for attribute "${e}" not present in buffer layout`),null)}function _2e(n){for(const e of n)(e.attributes&&e.format||!e.attributes&&!e.format)&&mt.warn(`BufferLayout ${name} must have either 'attributes' or 'format' field`)}function m2e(n,e){for(const t of n)if(t.format&&t.name===e)return{attributeName:t.name,bufferName:e,stepMode:t.stepMode,vertexFormat:t.format,byteOffset:0,byteStride:t.byteStride||0};return null}function y2e(n,e){var t;for(const r of n){let i=r.byteStride;if(typeof r.byteStride!="number")for(const a of r.attributes||[]){const o=bR(a.format);i+=o.byteLength}const s=(t=r.attributes)==null?void 0:t.find(a=>a.attribute===e);if(s)return{attributeName:s.attribute,bufferName:r.name,stepMode:r.stepMode,vertexFormat:s.format,byteOffset:s.byteOffset,byteStride:i}}return null}const Sy=class Sy extends Tr{constructor(t,r){super(t,r,Sy.defaultProps);z(this,"maxVertexAttributes");z(this,"attributeInfos");z(this,"indexBuffer",null);z(this,"attributes");this.maxVertexAttributes=t.limits.maxVertexAttributes,this.attributes=new Array(this.maxVertexAttributes).fill(null),this.attributeInfos=h2e(r.shaderLayout,r.bufferLayout,this.maxVertexAttributes)}get[Symbol.toStringTag](){return"VertexArray"}setConstantWebGL(t,r){this.device.reportError(new Error("constant attributes not supported"),this)()}};z(Sy,"defaultProps",{...Tr.defaultProps,shaderLayout:void 0,bufferLayout:[]});let b9=Sy;const Fy=class Fy extends Tr{get[Symbol.toStringTag](){return"TransformFeedback"}constructor(e,t){super(e,t,Fy.defaultProps)}};z(Fy,"defaultProps",{...Tr.defaultProps,layout:void 0,buffers:{}});let v9=Fy;const Uy=class Uy extends Tr{get[Symbol.toStringTag](){return"QuerySet"}constructor(e,t){super(e,t,Uy.defaultProps)}};z(Uy,"defaultProps",{...Tr.defaultProps,type:void 0,count:void 0});let w9=Uy,f4;function rQ(n){return(!f4||f4.byteLength<n)&&(f4=new ArrayBuffer(n)),f4}function b2e(n,e){const t=rQ(n.BYTES_PER_ELEMENT*e);return new n(t,0,e)}function v2e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function H5(n){return Array.isArray(n)?n.length===0||typeof n[0]=="number":v2e(n)}const w2e=1024;class L2e{constructor(e,t={}){z(this,"layout",{});z(this,"byteLength");let r=0;for(const[s,a]of Object.entries(e)){const o=tQ(a),{type:l,components:c}=o,A=c*((t==null?void 0:t[s])??1);r=Cde(r,A);const u=r;r+=A,this.layout[s]={type:l,size:A,offset:u}}r+=(4-r%4)%4;const i=r*4;this.byteLength=Math.max(i,w2e)}getData(e){const t=rQ(this.byteLength),r={i32:new Int32Array(t),u32:new Uint32Array(t),f32:new Float32Array(t),f16:new Uint16Array(t)};for(const[i,s]of Object.entries(e)){const a=this.layout[i];if(!a){mt.warn(`Supplied uniform value ${i} not present in uniform block layout`)();continue}const{type:o,size:l,offset:c}=a,A=r[o];if(l===1){if(typeof s!="number"&&typeof s!="boolean"){mt.warn(`Supplied value for single component uniform ${i} is not a number: ${s}`)();continue}A[c]=Number(s)}else{if(!H5(s)){mt.warn(`Supplied value for multi component / array uniform ${i} is not a numeric array: ${s}`)();continue}A.set(s,c)}}return new Uint8Array(t,0,this.byteLength)}has(e){return!!this.layout[e]}get(e){return this.layout[e]}}function x2e(n,e,t=16){if(n!==e)return!1;const r=n,i=e;if(!H5(r))return!1;if(H5(i)&&r.length===i.length){for(let s=0;s<r.length;++s)if(i[s]!==r[s])return!1}return!0}function R2e(n){return H5(n)?n.slice():n}class B2e{constructor(e){z(this,"name");z(this,"uniforms",{});z(this,"modifiedUniforms",{});z(this,"modified",!0);z(this,"bindingLayout",{});z(this,"needsRedraw","initialized");var t;if(this.name=(e==null?void 0:e.name)||"unnamed",e!=null&&e.name&&(e!=null&&e.shaderLayout)){const r=(t=e==null?void 0:e.shaderLayout.bindings)==null?void 0:t.find(s=>s.type==="uniform"&&s.name===(e==null?void 0:e.name));if(!r)throw new Error(e==null?void 0:e.name);const i=r;for(const s of i.uniforms||[])this.bindingLayout[s.name]=s}}setUniforms(e){for(const[t,r]of Object.entries(e))this._setUniform(t,r),this.needsRedraw||this.setNeedsRedraw(`${this.name}.${t}=${r}`)}setNeedsRedraw(e){this.needsRedraw=this.needsRedraw||e}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform(e,t){x2e(this.uniforms[e],t)||(this.uniforms[e]=R2e(t),this.modifiedUniforms[e]=!0,this.modified=!0)}}class E2e{constructor(e){z(this,"uniformBlocks",new Map);z(this,"uniformBufferLayouts",new Map);z(this,"uniformBuffers",new Map);for(const[t,r]of Object.entries(e)){const i=t,s=new L2e(r.uniformTypes??{},r.uniformSizes??{});this.uniformBufferLayouts.set(i,s);const a=new B2e({name:t});a.setUniforms(r.defaultUniforms||{}),this.uniformBlocks.set(i,a)}}destroy(){for(const e of this.uniformBuffers.values())e.destroy()}setUniforms(e){var t;for(const[r,i]of Object.entries(e))(t=this.uniformBlocks.get(r))==null||t.setUniforms(i);this.updateUniformBuffers()}getUniformBufferByteLength(e){var t;return((t=this.uniformBufferLayouts.get(e))==null?void 0:t.byteLength)||0}getUniformBufferData(e){var r,i;const t=((r=this.uniformBlocks.get(e))==null?void 0:r.getAllUniforms())||{};return(i=this.uniformBufferLayouts.get(e))==null?void 0:i.getData(t)}createUniformBuffer(e,t,r){r&&this.setUniforms(r);const i=this.getUniformBufferByteLength(t),s=e.createBuffer({usage:xi.UNIFORM|xi.COPY_DST,byteLength:i}),a=this.getUniformBufferData(t);return s.write(a),s}getManagedUniformBuffer(e,t){if(!this.uniformBuffers.get(t)){const r=this.getUniformBufferByteLength(t),i=e.createBuffer({usage:xi.UNIFORM|xi.COPY_DST,byteLength:r});this.uniformBuffers.set(t,i)}return this.uniformBuffers.get(t)}updateUniformBuffers(){let e=!1;for(const t of this.uniformBlocks.keys()){const r=this.updateUniformBuffer(t);e||(e=r)}return e&&mt.log(3,`UniformStore.updateUniformBuffers(): ${e}`)(),e}updateUniformBuffer(e){var s;const t=this.uniformBlocks.get(e);let r=this.uniformBuffers.get(e),i=!1;if(r&&(t!=null&&t.needsRedraw)){i||(i=t.needsRedraw);const a=this.getUniformBufferData(e);r=this.uniformBuffers.get(e),r==null||r.write(a);const o=(s=this.uniformBlocks.get(e))==null?void 0:s.getAllUniforms();mt.log(4,`Writing to uniform buffer ${String(e)}`,a,o)()}return i}}class el{constructor(e,t){this.name=e,this.attributes=t,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}}class WM{constructor(e,t,r){this.name=e,this.type=t,this.attributes=r,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class DA extends el{constructor(e,t){super(e,t),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}class WA extends el{constructor(e,t){super(e,t),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}}class L9 extends el{constructor(e,t,r){super(e,r),this.format=t}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}}class j1 extends el{constructor(e,t,r,i){super(e,r),this.format=t,this.access=i}get isTemplate(){return!0}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}}var EA;(n=>{n[n.Uniform=0]="Uniform",n[n.Storage=1]="Storage",n[n.Texture=2]="Texture",n[n.Sampler=3]="Sampler",n[n.StorageTexture=4]="StorageTexture"})(EA||(EA={}));class h4{constructor(e,t,r,i,s,a,o){this.name=e,this.type=t,this.group=r,this.binding=i,this.attributes=s,this.resourceType=a,this.access=o}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class C2e{constructor(e,t){this.name=e,this.type=t}}class I2e{constructor(e,t,r,i){this.name=e,this.type=t,this.locationType=r,this.location=i,this.interpolation=null}}class qM{constructor(e,t,r,i){this.name=e,this.type=t,this.locationType=r,this.location=i}}class T2e{constructor(e,t,r,i){this.name=e,this.type=t,this.attributes=r,this.id=i}}class M2e{constructor(e,t,r){this.name=e,this.type=t,this.attributes=r}}class S2e{constructor(e,t=null,r){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=e,this.stage=t,this.attributes=r}}class F2e{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}function U2e(n){var e=(32768&n)>>15,t=(31744&n)>>10,r=1023&n;return t==0?(e?-1:1)*Math.pow(2,-14)*(r/Math.pow(2,10)):t==31?r?NaN:1/0*(e?-1:1):(e?-1:1)*Math.pow(2,t-15)*(1+r/Math.pow(2,10))}const iQ=new Float32Array(1),N2e=new Int32Array(iQ.buffer),Ks=new Uint16Array(1);function k2e(n){iQ[0]=n;const e=N2e[0],t=e>>31&1;let r=e>>23&255,i=8388607&e;if(r===255)return Ks[0]=t<<15|31744|(i!==0?512:0),Ks[0];if(r===0){if(i===0)return Ks[0]=t<<15,Ks[0];i|=8388608;let s=113;for(;!(8388608&i);)i<<=1,s--;return r=127-s,i&=8388607,r>0?(i=(i>>126-r)+(i>>127-r&1),Ks[0]=t<<15|r<<10|i>>13,Ks[0]):(Ks[0]=t<<15,Ks[0])}return r=r-127+15,r>=31?(Ks[0]=t<<15|31744,Ks[0]):r<=0?r<-10?(Ks[0]=t<<15,Ks[0]):(i=(8388608|i)>>1-r,Ks[0]=t<<15|i>>13,Ks[0]):(i>>=13,Ks[0]=t<<15|r<<10|i,Ks[0])}const vR=new Uint32Array(1),sQ=new Float32Array(vR.buffer,0,1);function XM(n){const e=112+(n>>6&31)<<23|(63&n)<<17;return vR[0]=e,sQ[0]}function P2e(n,e,t,r,i,s,a,o,l){const c=r*(a>>=i)*(s>>=i)+t*a+e*o;switch(l){case"r8unorm":return[hr(n,c,"8unorm",1)[0]];case"r8snorm":return[hr(n,c,"8snorm",1)[0]];case"r8uint":return[hr(n,c,"8uint",1)[0]];case"r8sint":return[hr(n,c,"8sint",1)[0]];case"rg8unorm":{const A=hr(n,c,"8unorm",2);return[A[0],A[1]]}case"rg8snorm":{const A=hr(n,c,"8snorm",2);return[A[0],A[1]]}case"rg8uint":{const A=hr(n,c,"8uint",2);return[A[0],A[1]]}case"rg8sint":{const A=hr(n,c,"8sint",2);return[A[0],A[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{const A=hr(n,c,"8unorm",4);return[A[0],A[1],A[2],A[3]]}case"rgba8snorm":{const A=hr(n,c,"8snorm",4);return[A[0],A[1],A[2],A[3]]}case"rgba8uint":{const A=hr(n,c,"8uint",4);return[A[0],A[1],A[2],A[3]]}case"rgba8sint":{const A=hr(n,c,"8sint",4);return[A[0],A[1],A[2],A[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{const A=hr(n,c,"8unorm",4);return[A[2],A[1],A[0],A[3]]}case"r16uint":return[hr(n,c,"16uint",1)[0]];case"r16sint":return[hr(n,c,"16sint",1)[0]];case"r16float":return[hr(n,c,"16float",1)[0]];case"rg16uint":{const A=hr(n,c,"16uint",2);return[A[0],A[1]]}case"rg16sint":{const A=hr(n,c,"16sint",2);return[A[0],A[1]]}case"rg16float":{const A=hr(n,c,"16float",2);return[A[0],A[1]]}case"rgba16uint":{const A=hr(n,c,"16uint",4);return[A[0],A[1],A[2],A[3]]}case"rgba16sint":{const A=hr(n,c,"16sint",4);return[A[0],A[1],A[2],A[3]]}case"rgba16float":{const A=hr(n,c,"16float",4);return[A[0],A[1],A[2],A[3]]}case"r32uint":return[hr(n,c,"32uint",1)[0]];case"r32sint":return[hr(n,c,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[hr(n,c,"32float",1)[0]];case"rg32uint":{const A=hr(n,c,"32uint",2);return[A[0],A[1]]}case"rg32sint":{const A=hr(n,c,"32sint",2);return[A[0],A[1]]}case"rg32float":{const A=hr(n,c,"32float",2);return[A[0],A[1]]}case"rgba32uint":{const A=hr(n,c,"32uint",4);return[A[0],A[1],A[2],A[3]]}case"rgba32sint":{const A=hr(n,c,"32sint",4);return[A[0],A[1],A[2],A[3]]}case"rgba32float":{const A=hr(n,c,"32float",4);return[A[0],A[1],A[2],A[3]]}case"rg11b10ufloat":{const A=new Uint32Array(n.buffer,c,1)[0],u=(4192256&A)>>11,h=(4290772992&A)>>22;return[XM(2047&A),XM(u),function(f){const d=112+(f>>5&31)<<23|(31&f)<<18;return vR[0]=d,sQ[0]}(h),1]}}return null}function hr(n,e,t,r){const i=[0,0,0,0];for(let s=0;s<r;++s)switch(t){case"8unorm":i[s]=n[e]/255,e++;break;case"8snorm":i[s]=n[e]/255*2-1,e++;break;case"8uint":i[s]=n[e],e++;break;case"8sint":i[s]=n[e]-127,e++;break;case"16uint":i[s]=n[e]|n[e+1]<<8,e+=2;break;case"16sint":i[s]=(n[e]|n[e+1]<<8)-32768,e+=2;break;case"16float":i[s]=U2e(n[e]|n[e+1]<<8),e+=2;break;case"32uint":case"32sint":i[s]=n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24,e+=4;break;case"32float":i[s]=new Float32Array(n.buffer,e,1)[0],e+=4}return i}function pr(n,e,t,r,i){for(let s=0;s<r;++s)switch(t){case"8unorm":n[e]=255*i[s],e++;break;case"8snorm":n[e]=.5*(i[s]+1)*255,e++;break;case"8uint":n[e]=i[s],e++;break;case"8sint":n[e]=i[s]+127,e++;break;case"16uint":new Uint16Array(n.buffer,e,1)[0]=i[s],e+=2;break;case"16sint":new Int16Array(n.buffer,e,1)[0]=i[s],e+=2;break;case"16float":{const a=k2e(i[s]);new Uint16Array(n.buffer,e,1)[0]=a,e+=2;break}case"32uint":new Uint32Array(n.buffer,e,1)[0]=i[s],e+=4;break;case"32sint":new Int32Array(n.buffer,e,1)[0]=i[s],e+=4;break;case"32float":new Float32Array(n.buffer,e,1)[0]=i[s],e+=4}return i}const i8={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}};let Oc=class aQ{constructor(){this.id=aQ._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search(e){e(this)}searchBlock(e,t){if(e){t(Q5.instance);for(const r of e)r instanceof Array?this.searchBlock(r,t):r.search(t);t(j5.instance)}}constEvaluate(e,t){throw new Error("Cannot evaluate node")}constEvaluateString(e){return this.constEvaluate(e).toString()}};Oc._id=0;class Q5 extends Oc{}Q5.instance=new Q5;class j5 extends Oc{}j5.instance=new j5;const oQ=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]);class si extends Oc{constructor(){super()}}class D3 extends si{constructor(e,t,r,i,s,a){super(),this.calls=new Set,this.name=e,this.args=t,this.returnType=r,this.body=i,this.startLine=s,this.endLine=a}get astNodeType(){return"function"}search(e){if(this.attributes)for(const t of this.attributes)e(t);e(this);for(const t of this.args)e(t);this.searchBlock(this.body,e)}}class D2e extends si{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}search(e){this.expression.search(e)}}let lQ=class extends si{constructor(e,t){super(),this.condition=e,this.body=t}get astNodeType(){return"while"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}},x9=class extends si{constructor(e,t){super(),this.body=e,this.loopId=t}get astNodeType(){return"continuing"}search(e){this.searchBlock(this.body,e)}};class cQ extends si{constructor(e,t,r,i){super(),this.init=e,this.condition=t,this.increment=r,this.body=i}get astNodeType(){return"for"}search(e){var t,r,i;(t=this.init)===null||t===void 0||t.search(e),(r=this.condition)===null||r===void 0||r.search(e),(i=this.increment)===null||i===void 0||i.search(e),this.searchBlock(this.body,e)}}class B0 extends si{constructor(e,t,r,i,s){super(),this.attributes=null,this.name=e,this.type=t,this.storage=r,this.access=i,this.value=s}get astNodeType(){return"var"}search(e){var t;e(this),(t=this.value)===null||t===void 0||t.search(e)}}let wR=class extends si{constructor(e,t,r){super(),this.attributes=null,this.name=e,this.type=t,this.value=r}get astNodeType(){return"override"}search(e){var t;(t=this.value)===null||t===void 0||t.search(e)}};class Kg extends si{constructor(e,t,r,i,s){super(),this.attributes=null,this.name=e,this.type=t,this.storage=r,this.access=i,this.value=s}get astNodeType(){return"let"}search(e){var t;e(this),(t=this.value)===null||t===void 0||t.search(e)}}class wm extends si{constructor(e,t,r,i,s){super(),this.attributes=null,this.name=e,this.type=t,this.storage=r,this.access=i,this.value=s}get astNodeType(){return"const"}constEvaluate(e,t){return this.value.constEvaluate(e,t)}search(e){var t;e(this),(t=this.value)===null||t===void 0||t.search(e)}}var hh,fg,et,$e;(n=>{n.increment="++",n.decrement="--"})(hh||(hh={})),(n=>{n.parse=function(e){const t=e;if(t=="parse")throw new Error("Invalid value for IncrementOperator");return n[t]}})(hh||(hh={}));class AQ extends si{constructor(e,t){super(),this.operator=e,this.variable=t}get astNodeType(){return"increment"}search(e){this.variable.search(e)}}(n=>{n.assign="=",n.addAssign="+=",n.subtractAssin="-=",n.multiplyAssign="*=",n.divideAssign="/=",n.moduloAssign="%=",n.andAssign="&=",n.orAssign="|=",n.xorAssign="^=",n.shiftLeftAssign="<<=",n.shiftRightAssign=">>="})(fg||(fg={})),(n=>{n.parse=function(e){const t=e;if(t=="parse")throw new Error("Invalid value for AssignOperator");return t}})(fg||(fg={}));class uQ extends si{constructor(e,t,r){super(),this.operator=e,this.variable=t,this.value=r}get astNodeType(){return"assign"}search(e){this.variable.search(e),this.value.search(e)}}class LR extends si{constructor(e,t){super(),this.name=e,this.args=t}get astNodeType(){return"call"}isBuiltin(){return oQ.has(this.name)}search(e){for(const t of this.args)t.search(e);e(this)}}class fQ extends si{constructor(e,t){super(),this.body=e,this.continuing=t}get astNodeType(){return"loop"}search(e){var t;this.searchBlock(this.body,e),(t=this.continuing)===null||t===void 0||t.search(e)}}let hQ=class extends si{constructor(e,t){super(),this.condition=e,this.cases=t}get astNodeType(){return"switch"}search(e){e(this);for(const t of this.cases)t.search(e)}};class dQ extends si{constructor(e,t,r,i){super(),this.condition=e,this.body=t,this.elseif=r,this.else=i}get astNodeType(){return"if"}search(e){this.condition.search(e),this.searchBlock(this.body,e),this.searchBlock(this.elseif,e),this.searchBlock(this.else,e)}}class gQ extends si{constructor(e){super(),this.value=e}get astNodeType(){return"return"}search(e){var t;(t=this.value)===null||t===void 0||t.search(e)}}class O2e extends si{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}}class z2e extends si{constructor(e){super(),this.extensions=e}get astNodeType(){return"requires"}}class pQ extends si{constructor(e,t){super(),this.severity=e,this.rule=t}get astNodeType(){return"diagnostic"}}class xR extends si{constructor(e,t){super(),this.name=e,this.type=t}get astNodeType(){return"alias"}}class H2e extends si{constructor(){super()}get astNodeType(){return"discard"}}class _Q extends si{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}}class mQ extends si{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}}class _t extends si{constructor(e){super(),this.attributes=null,this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType(e){let t=e[0];if(t.name==="f32")return t;for(let r=1;r<e.length;++r){const i=_t._priority.get(t.name);_t._priority.get(e[r].name)<i&&(t=e[r])}return t.name==="x32"?_t.i32:t}getTypeName(){return this.name}}_t.x32=new _t("x32"),_t.f32=new _t("f32"),_t.i32=new _t("i32"),_t.u32=new _t("u32"),_t.f16=new _t("f16"),_t.bool=new _t("bool"),_t.void=new _t("void"),_t._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class JM extends _t{constructor(e){super(e)}}class m0 extends _t{constructor(e,t,r,i){super(e),this.members=t,this.startLine=r,this.endLine=i}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let t=0;t<this.members.length;t++)if(this.members[t].name==e)return t;return-1}search(e){for(const t of this.members)e(t)}}class qe extends _t{constructor(e,t,r){super(e),this.format=t,this.access=r}get astNodeType(){return"template"}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}}qe.vec2f=new qe("vec2",_t.f32,null),qe.vec3f=new qe("vec3",_t.f32,null),qe.vec4f=new qe("vec4",_t.f32,null),qe.vec2i=new qe("vec2",_t.i32,null),qe.vec3i=new qe("vec3",_t.i32,null),qe.vec4i=new qe("vec4",_t.i32,null),qe.vec2u=new qe("vec2",_t.u32,null),qe.vec3u=new qe("vec3",_t.u32,null),qe.vec4u=new qe("vec4",_t.u32,null),qe.vec2h=new qe("vec2",_t.f16,null),qe.vec3h=new qe("vec3",_t.f16,null),qe.vec4h=new qe("vec4",_t.f16,null),qe.vec2b=new qe("vec2",_t.bool,null),qe.vec3b=new qe("vec3",_t.bool,null),qe.vec4b=new qe("vec4",_t.bool,null),qe.mat2x2f=new qe("mat2x2",_t.f32,null),qe.mat2x3f=new qe("mat2x3",_t.f32,null),qe.mat2x4f=new qe("mat2x4",_t.f32,null),qe.mat3x2f=new qe("mat3x2",_t.f32,null),qe.mat3x3f=new qe("mat3x3",_t.f32,null),qe.mat3x4f=new qe("mat3x4",_t.f32,null),qe.mat4x2f=new qe("mat4x2",_t.f32,null),qe.mat4x3f=new qe("mat4x3",_t.f32,null),qe.mat4x4f=new qe("mat4x4",_t.f32,null),qe.mat2x2h=new qe("mat2x2",_t.f16,null),qe.mat2x3h=new qe("mat2x3",_t.f16,null),qe.mat2x4h=new qe("mat2x4",_t.f16,null),qe.mat3x2h=new qe("mat3x2",_t.f16,null),qe.mat3x3h=new qe("mat3x3",_t.f16,null),qe.mat3x4h=new qe("mat3x4",_t.f16,null),qe.mat4x2h=new qe("mat4x2",_t.f16,null),qe.mat4x3h=new qe("mat4x3",_t.f16,null),qe.mat4x4h=new qe("mat4x4",_t.f16,null),qe.mat2x2i=new qe("mat2x2",_t.i32,null),qe.mat2x3i=new qe("mat2x3",_t.i32,null),qe.mat2x4i=new qe("mat2x4",_t.i32,null),qe.mat3x2i=new qe("mat3x2",_t.i32,null),qe.mat3x3i=new qe("mat3x3",_t.i32,null),qe.mat3x4i=new qe("mat3x4",_t.i32,null),qe.mat4x2i=new qe("mat4x2",_t.i32,null),qe.mat4x3i=new qe("mat4x3",_t.i32,null),qe.mat4x4i=new qe("mat4x4",_t.i32,null),qe.mat2x2u=new qe("mat2x2",_t.u32,null),qe.mat2x3u=new qe("mat2x3",_t.u32,null),qe.mat2x4u=new qe("mat2x4",_t.u32,null),qe.mat3x2u=new qe("mat3x2",_t.u32,null),qe.mat3x3u=new qe("mat3x3",_t.u32,null),qe.mat3x4u=new qe("mat3x4",_t.u32,null),qe.mat4x2u=new qe("mat4x2",_t.u32,null),qe.mat4x3u=new qe("mat4x3",_t.u32,null),qe.mat4x4u=new qe("mat4x4",_t.u32,null);class Lm extends _t{constructor(e,t,r,i){super(e),this.storage=t,this.type=r,this.access=i}get astNodeType(){return"pointer"}}class $g extends _t{constructor(e,t,r,i){super(e),this.attributes=t,this.format=r,this.count=i}get astNodeType(){return"array"}get isArray(){return!0}}class hg extends _t{constructor(e,t,r){super(e),this.format=t,this.access=r}get astNodeType(){return"sampler"}}class Xl extends Oc{constructor(){super(),this.postfix=null}}class Y1 extends Xl{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}}class _c extends Xl{constructor(e,t){super(),this.type=e,this.args=t}get astNodeType(){return"createExpr"}search(e){if(e(this),this.args)for(const t of this.args)t.search(e)}constEvaluate(e,t){return t&&(t[0]=this.type),e.evalExpression(this,e.context)}}class RR extends Xl{constructor(e,t){super(),this.cachedReturnValue=null,this.name=e,this.args=t}get astNodeType(){return"callExpr"}setCachedReturnValue(e){this.cachedReturnValue=e}get isBuiltin(){return oQ.has(this.name)}constEvaluate(e,t){return e.evalExpression(this,e.context)}search(e){for(const t of this.args)t.search(e);e(this)}}class ho extends Xl{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}search(e){e(this),this.postfix&&this.postfix.search(e)}constEvaluate(e,t){return e.evalExpression(this,e.context)}}class yQ extends Xl{constructor(e,t){super(),this.name=e,this.initializer=t}get astNodeType(){return"constExpr"}constEvaluate(e,t){if(this.initializer){const r=e.evalExpression(this.initializer,e.context);return r!==null&&this.postfix?r.getSubData(e,this.postfix,e.context):r}return null}search(e){this.initializer.search(e)}}class fs extends Xl{constructor(e,t){super(),this.value=e,this.type=t}get astNodeType(){return"literalExpr"}constEvaluate(e,t){return t!==void 0&&(t[0]=this.type),this.value}get isScalar(){return this.value instanceof Ve}get isVector(){return this.value instanceof Ie||this.value instanceof bn}get scalarValue(){return this.value instanceof Ve?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof Ie||this.value instanceof bn?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}}class bQ extends Xl{constructor(e,t){super(),this.type=e,this.value=t}get astNodeType(){return"bitcastExpr"}search(e){this.value.search(e)}}class gd extends Xl{constructor(e){super(),this.index=e}search(e){this.index.search(e)}}class vQ extends Xl{constructor(){super()}}class $i extends vQ{constructor(e,t){super(),this.operator=e,this.right=t}get astNodeType(){return"unaryOp"}constEvaluate(e,t){return e.evalExpression(this,e.context)}search(e){this.right.search(e)}}class bl extends vQ{constructor(e,t,r){super(),this.operator=e,this.left=t,this.right=r}get astNodeType(){return"binaryOp"}_getPromotedType(e,t){return e.name===t.name?e:e.name==="f32"||t.name==="f32"?_t.f32:e.name==="u32"||t.name==="u32"?_t.u32:_t.i32}constEvaluate(e,t){return e.evalExpression(this,e.context)}search(e){this.left.search(e),this.right.search(e)}}class wQ extends Oc{constructor(e){super(),this.body=e}search(e){e(this),this.searchBlock(this.body,e)}}class xm extends Xl{constructor(){super()}get astNodeType(){return"default"}}class LQ extends wQ{constructor(e,t){super(t),this.selectors=e}get astNodeType(){return"case"}search(e){this.searchBlock(this.body,e)}}class xQ extends wQ{constructor(e){super(e)}get astNodeType(){return"default"}search(e){this.searchBlock(this.body,e)}}class ZM extends Oc{constructor(e,t,r){super(),this.name=e,this.type=t,this.attributes=r}get astNodeType(){return"argument"}}class Q2e extends Oc{constructor(e,t){super(),this.condition=e,this.body=t}get astNodeType(){return"elseif"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class eS extends Oc{constructor(e,t,r){super(),this.name=e,this.type=t,this.attributes=r}get astNodeType(){return"member"}}class RQ extends Oc{constructor(e,t){super(),this.name=e,this.value=t}get astNodeType(){return"attribute"}}class al{constructor(e,t){this.parent=null,this.typeInfo=e,this.parent=t,this.id=al._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue(e,t,r,i){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData(e,t,r){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}}al._id=0;class R9 extends al{constructor(){super(new el("void",null),null)}toString(){return"void"}}R9.void=new R9;class Df extends al{constructor(e){super(new L9("pointer",e.typeInfo,null),null),this.reference=e}clone(){return this}setDataValue(e,t,r,i){this.reference.setDataValue(e,t,r,i)}getSubData(e,t,r){return t?this.reference.getSubData(e,t,r):this}toString(){return`&${this.reference.toString()}`}}class Ve extends al{constructor(e,t,r=null){super(t,r),e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array?this.data=e:this.typeInfo.name==="x32"?e-Math.floor(e)!==0?this.data=new Float32Array([e]):this.data=e>=0?new Uint32Array([e]):new Int32Array([e]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([e]):this.typeInfo.name==="u32"?this.data=new Uint32Array([e]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([e]):console.error("ScalarData2: Invalid type",t)}clone(){if(this.data instanceof Float32Array)return new Ve(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new Ve(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new Ve(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value(e){this.data[0]=e}setDataValue(e,t,r,i){if(r)return void console.error("SetDataValue: Scalar data does not support postfix",r);if(!(t instanceof Ve))return void console.error("SetDataValue: Invalid value",t);let s=t.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?s=Math.floor(s):this.typeInfo.name==="bool"&&(s=s?1:0),this.data[0]=s}getSubData(e,t,r){return t?(console.error("getSubData: Scalar data does not support postfix",t),null):this}toString(){return`${this.value}`}}function j2e(n,e,t){const r=e.length;return r===2?t==="f32"?new Ie(new Float32Array(e),n.getTypeInfo("vec2f")):t==="i32"||t==="bool"?new Ie(new Int32Array(e),n.getTypeInfo("vec2i")):t==="u32"?new Ie(new Uint32Array(e),n.getTypeInfo("vec2u")):t==="f16"?new Ie(new Float32Array(e),n.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${t}`),null):r===3?t==="f32"?new Ie(new Float32Array(e),n.getTypeInfo("vec3f")):t==="i32"||t==="bool"?new Ie(new Int32Array(e),n.getTypeInfo("vec3i")):t==="u32"?new Ie(new Uint32Array(e),n.getTypeInfo("vec3u")):t==="f16"?new Ie(new Float32Array(e),n.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${t}`),null):r===4?t==="f32"?new Ie(new Float32Array(e),n.getTypeInfo("vec4f")):t==="i32"||t==="bool"?new Ie(new Int32Array(e),n.getTypeInfo("vec4i")):t==="u32"?new Ie(new Uint32Array(e),n.getTypeInfo("vec4u")):t==="f16"?new Ie(new Float32Array(e),n.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${t}`),null):(console.error(`getSubData: Invalid vector size ${e.length}`),null)}class Ie extends al{constructor(e,t,r=null){if(super(t,r),e instanceof Float32Array||e instanceof Uint32Array||e instanceof Int32Array)this.data=e;else{const i=this.typeInfo.name;i==="vec2f"||i==="vec3f"||i==="vec4f"?this.data=new Float32Array(e):i==="vec2i"||i==="vec3i"||i==="vec4i"?this.data=new Int32Array(e):i==="vec2u"||i==="vec3u"||i==="vec4u"?this.data=new Uint32Array(e):i==="vec2h"||i==="vec3h"||i==="vec4h"?this.data=new Float32Array(e):i==="vec2b"||i==="vec3b"||i==="vec4b"?this.data=new Int32Array(e):i==="vec2"||i==="vec3"||i==="vec4"?this.data=new Float32Array(e):console.error(`VectorData: Invalid type ${i}`)}}clone(){if(this.data instanceof Float32Array)return new Ie(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new Ie(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new Ie(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue(e,t,r,i){r instanceof Y1?console.error("TODO: Set vector postfix"):t instanceof Ie?this.data=t.data:console.error("SetDataValue: Invalid value",t)}getSubData(e,t,r){if(t===null)return this;let i=e.getTypeInfo("f32");if(this.typeInfo instanceof j1)i=this.typeInfo.format||i;else{const a=this.typeInfo.name;a==="vec2f"||a==="vec3f"||a==="vec4f"?i=e.getTypeInfo("f32"):a==="vec2i"||a==="vec3i"||a==="vec4i"?i=e.getTypeInfo("i32"):a==="vec2b"||a==="vec3b"||a==="vec4b"?i=e.getTypeInfo("bool"):a==="vec2u"||a==="vec3u"||a==="vec4u"?i=e.getTypeInfo("u32"):a==="vec2h"||a==="vec3h"||a==="vec4h"?i=e.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${a}`)}let s=this;for(;t!==null&&s!==null;){if(t instanceof gd){const a=t.index;let o=-1;if(a instanceof fs){if(!(a.value instanceof Ve))return console.error(`GetSubData: Invalid array index ${a.value}`),null;o=a.value.value}else{const l=e.evalExpression(a,r);if(!(l instanceof Ve))return console.error("GetSubData: Unknown index type",a),null;o=l.value}if(o<0||o>=s.data.length)return console.error("GetSubData: Index out of range",o),null;if(s.data instanceof Float32Array){const l=new Float32Array(s.data.buffer,s.data.byteOffset+4*o,1);return new Ve(l,i)}if(s.data instanceof Int32Array){const l=new Int32Array(s.data.buffer,s.data.byteOffset+4*o,1);return new Ve(l,i)}if(s.data instanceof Uint32Array){const l=new Uint32Array(s.data.buffer,s.data.byteOffset+4*o,1);return new Ve(l,i)}throw"GetSubData: Invalid data type"}if(!(t instanceof Y1))return console.error("GetSubData: Unknown postfix",t),null;{const a=t.value.toLowerCase();if(a.length===1){let l=0;if(a==="x"||a==="r")l=0;else if(a==="y"||a==="g")l=1;else if(a==="z"||a==="b")l=2;else{if(a!=="w"&&a!=="a")return console.error(`GetSubData: Unknown member ${a}`),null;l=3}if(this.data instanceof Float32Array){let c=new Float32Array(this.data.buffer,this.data.byteOffset+4*l,1);return new Ve(c,i,this)}if(this.data instanceof Int32Array){let c=new Int32Array(this.data.buffer,this.data.byteOffset+4*l,1);return new Ve(c,i,this)}if(this.data instanceof Uint32Array){let c=new Uint32Array(this.data.buffer,this.data.byteOffset+4*l,1);return new Ve(c,i,this)}}const o=[];for(const l of a)l==="x"||l==="r"?o.push(this.data[0]):l==="y"||l==="g"?o.push(this.data[1]):l==="z"||l==="b"?o.push(this.data[2]):l==="w"||l==="a"?o.push(this.data[3]):console.error(`GetDataValue: Unknown member ${l}`);s=j2e(e,o,i.name)}t=t.postfix}return s}toString(){let e=`${this.data[0]}`;for(let t=1;t<this.data.length;++t)e+=`, ${this.data[t]}`;return e}}class bn extends al{constructor(e,t,r=null){super(t,r),e instanceof Float32Array?this.data=e:this.data=new Float32Array(e)}clone(){return new bn(new Float32Array(this.data),this.typeInfo,null)}setDataValue(e,t,r,i){r instanceof Y1?console.error("TODO: Set matrix postfix"):t instanceof bn?this.data=t.data:console.error("SetDataValue: Invalid value",t)}getSubData(e,t,r){if(t===null)return this;const i=this.typeInfo.name;if(e.getTypeInfo("f32"),this.typeInfo instanceof j1)this.typeInfo.format;else if(i.endsWith("f"))e.getTypeInfo("f32");else if(i.endsWith("i"))e.getTypeInfo("i32");else if(i.endsWith("u"))e.getTypeInfo("u32");else{if(!i.endsWith("h"))return console.error(`GetDataValue: Unknown type ${i}`),null;e.getTypeInfo("f16")}if(t instanceof gd){const s=t.index;let a=-1;if(s instanceof fs){if(!(s.value instanceof Ve))return console.error(`GetDataValue: Invalid array index ${s.value}`),null;a=s.value.value}else{const c=e.evalExpression(s,r);if(!(c instanceof Ve))return console.error("GetDataValue: Unknown index type",s),null;a=c.value}if(a<0||a>=this.data.length)return console.error("GetDataValue: Index out of range",a),null;const o=i.endsWith("h")?"h":"f";let l;if(i==="mat2x2"||i==="mat2x2f"||i==="mat2x2h"||i==="mat3x2"||i==="mat3x2f"||i==="mat3x2h"||i==="mat4x2"||i==="mat4x2f"||i==="mat4x2h")l=new Ie(new Float32Array(this.data.buffer,this.data.byteOffset+2*a*4,2),e.getTypeInfo(`vec2${o}`));else if(i==="mat2x3"||i==="mat2x3f"||i==="mat2x3h"||i==="mat3x3"||i==="mat3x3f"||i==="mat3x3h"||i==="mat4x3"||i==="mat4x3f"||i==="mat4x3h")l=new Ie(new Float32Array(this.data.buffer,this.data.byteOffset+3*a*4,3),e.getTypeInfo(`vec3${o}`));else{if(i!=="mat2x4"&&i!=="mat2x4f"&&i!=="mat2x4h"&&i!=="mat3x4"&&i!=="mat3x4f"&&i!=="mat3x4h"&&i!=="mat4x4"&&i!=="mat4x4f"&&i!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${i}`),null;l=new Ie(new Float32Array(this.data.buffer,this.data.byteOffset+4*a*4,4),e.getTypeInfo(`vec4${o}`))}return t.postfix?l.getSubData(e,t.postfix,r):l}return console.error("GetDataValue: Invalid postfix",t),null}toString(){let e=`${this.data[0]}`;for(let t=1;t<this.data.length;++t)e+=`, ${this.data[t]}`;return e}}class bi extends al{constructor(e,t,r=0,i=null){super(t,i),this.buffer=e instanceof ArrayBuffer?e:e.buffer,this.offset=r}clone(){const e=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new bi(e.buffer,this.typeInfo,0,null)}setDataValue(e,t,r,i){if(t===null)return void console.log("setDataValue: NULL data.");let s=this.offset,a=this.typeInfo;for(;r;){if(r instanceof gd)if(a instanceof WA){const o=r.index;if(o instanceof fs){if(!(o.value instanceof Ve))return void console.error(`SetDataValue: Invalid index type ${o.value}`);s+=o.value.value*a.stride}else{const l=e.evalExpression(o,i);if(!(l instanceof Ve))return void console.error("SetDataValue: Unknown index type",o);s+=l.value*a.stride}a=a.format}else console.error(`SetDataValue: Type ${a.getTypeName()} is not an array`);else{if(!(r instanceof Y1))return void console.error("SetDataValue: Unknown postfix type",r);{const o=r.value;if(a instanceof DA){let l=!1;for(const c of a.members)if(c.name===o){s+=c.offset,a=c.type,l=!0;break}if(!l)return void console.error(`SetDataValue: Member ${o} not found`)}else if(a instanceof el){const l=a.getTypeName();let c=0;if(o==="x"||o==="r")c=0;else if(o==="y"||o==="g")c=1;else if(o==="z"||o==="b")c=2;else{if(o!=="w"&&o!=="a")return void console.error(`SetDataValue: Unknown member ${o}`);c=3}if(!(t instanceof Ve))return void console.error("SetDataValue: Invalid value",t);const A=t.value;return l==="vec2f"?void(new Float32Array(this.buffer,s,2)[c]=A):l==="vec3f"?void(new Float32Array(this.buffer,s,3)[c]=A):l==="vec4f"?void(new Float32Array(this.buffer,s,4)[c]=A):l==="vec2i"?void(new Int32Array(this.buffer,s,2)[c]=A):l==="vec3i"?void(new Int32Array(this.buffer,s,3)[c]=A):l==="vec4i"?void(new Int32Array(this.buffer,s,4)[c]=A):l==="vec2u"?void(new Uint32Array(this.buffer,s,2)[c]=A):l==="vec3u"?void(new Uint32Array(this.buffer,s,3)[c]=A):l==="vec4u"?void(new Uint32Array(this.buffer,s,4)[c]=A):void console.error(`SetDataValue: Type ${l} is not a struct`)}}}r=r.postfix}this.setData(e,t,a,s,i)}setData(e,t,r,i,s){const a=r.getTypeName();if(a!=="f32"&&a!=="f16")if(a!=="i32"&&a!=="atomic<i32>"&&a!=="x32")if(a!=="u32"&&a!=="atomic<u32>")if(a!=="bool"){if(a==="vec2f"||a==="vec2h"){const o=new Float32Array(this.buffer,i,2);return void(t instanceof Ie?(o[0]=t.data[0],o[1]=t.data[1]):(o[0]=t[0],o[1]=t[1]))}if(a==="vec3f"||a==="vec3h"){const o=new Float32Array(this.buffer,i,3);return void(t instanceof Ie?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2]):(o[0]=t[0],o[1]=t[1],o[2]=t[2]))}if(a==="vec4f"||a==="vec4h"){const o=new Float32Array(this.buffer,i,4);return void(t instanceof Ie?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3]))}if(a==="vec2i"){const o=new Int32Array(this.buffer,i,2);return void(t instanceof Ie?(o[0]=t.data[0],o[1]=t.data[1]):(o[0]=t[0],o[1]=t[1]))}if(a==="vec3i"){const o=new Int32Array(this.buffer,i,3);return void(t instanceof Ie?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2]):(o[0]=t[0],o[1]=t[1],o[2]=t[2]))}if(a==="vec4i"){const o=new Int32Array(this.buffer,i,4);return void(t instanceof Ie?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3]))}if(a==="vec2u"){const o=new Uint32Array(this.buffer,i,2);return void(t instanceof Ie?(o[0]=t.data[0],o[1]=t.data[1]):(o[0]=t[0],o[1]=t[1]))}if(a==="vec3u"){const o=new Uint32Array(this.buffer,i,3);return void(t instanceof Ie?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2]):(o[0]=t[0],o[1]=t[1],o[2]=t[2]))}if(a==="vec4u"){const o=new Uint32Array(this.buffer,i,4);return void(t instanceof Ie?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3]))}if(a==="vec2b"){const o=new Uint32Array(this.buffer,i,2);return void(t instanceof Ie?(o[0]=t.data[0],o[1]=t.data[1]):(o[0]=t[0],o[1]=t[1]))}if(a==="vec3b"){const o=new Uint32Array(this.buffer,i,3);return void(t instanceof Ie?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2]):(o[0]=t[0],o[1]=t[1],o[2]=t[2]))}if(a==="vec4b"){const o=new Uint32Array(this.buffer,i,4);return void(t instanceof Ie?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3]))}if(a==="mat2x2f"||a==="mat2x2h"){const o=new Float32Array(this.buffer,i,4);return void(t instanceof bn?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3]))}if(a==="mat2x3f"||a==="mat2x3h"){const o=new Float32Array(this.buffer,i,6);return void(t instanceof bn?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3],o[4]=t.data[4],o[5]=t.data[5]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5]))}if(a==="mat2x4f"||a==="mat2x4h"){const o=new Float32Array(this.buffer,i,8);return void(t instanceof bn?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3],o[4]=t.data[4],o[5]=t.data[5],o[6]=t.data[6],o[7]=t.data[7]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7]))}if(a==="mat3x2f"||a==="mat3x2h"){const o=new Float32Array(this.buffer,i,6);return void(t instanceof bn?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3],o[4]=t.data[4],o[5]=t.data[5]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5]))}if(a==="mat3x3f"||a==="mat3x3h"){const o=new Float32Array(this.buffer,i,9);return void(t instanceof bn?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3],o[4]=t.data[4],o[5]=t.data[5],o[6]=t.data[6],o[7]=t.data[7],o[8]=t.data[8]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[8]=t[8]))}if(a==="mat3x4f"||a==="mat3x4h"){const o=new Float32Array(this.buffer,i,12);return void(t instanceof bn?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3],o[4]=t.data[4],o[5]=t.data[5],o[6]=t.data[6],o[7]=t.data[7],o[8]=t.data[8],o[9]=t.data[9],o[10]=t.data[10],o[11]=t.data[11]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11]))}if(a==="mat4x2f"||a==="mat4x2h"){const o=new Float32Array(this.buffer,i,8);return void(t instanceof bn?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3],o[4]=t.data[4],o[5]=t.data[5],o[6]=t.data[6],o[7]=t.data[7]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7]))}if(a==="mat4x3f"||a==="mat4x3h"){const o=new Float32Array(this.buffer,i,12);return void(t instanceof bn?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3],o[4]=t.data[4],o[5]=t.data[5],o[6]=t.data[6],o[7]=t.data[7],o[8]=t.data[8],o[9]=t.data[9],o[10]=t.data[10],o[11]=t.data[11]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11]))}if(a==="mat4x4f"||a==="mat4x4h"){const o=new Float32Array(this.buffer,i,16);return void(t instanceof bn?(o[0]=t.data[0],o[1]=t.data[1],o[2]=t.data[2],o[3]=t.data[3],o[4]=t.data[4],o[5]=t.data[5],o[6]=t.data[6],o[7]=t.data[7],o[8]=t.data[8],o[9]=t.data[9],o[10]=t.data[10],o[11]=t.data[11],o[12]=t.data[12],o[13]=t.data[13],o[14]=t.data[14],o[15]=t.data[15]):(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]))}if(t instanceof bi){if(r===t.typeInfo)return void new Uint8Array(this.buffer,i,t.buffer.byteLength).set(new Uint8Array(t.buffer));console.error("SetDataValue: Type mismatch",a,t.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${a}`)}else t instanceof Ve&&(new Int32Array(this.buffer,i,1)[0]=t.value);else t instanceof Ve&&(new Uint32Array(this.buffer,i,1)[0]=t.value);else t instanceof Ve&&(new Int32Array(this.buffer,i,1)[0]=t.value);else t instanceof Ve&&(new Float32Array(this.buffer,i,1)[0]=t.value)}getSubData(e,t,r){var i,s,a;if(t===null)return this;let o=this.offset,l=this.typeInfo;for(;t;){if(t instanceof gd){const A=t.index,u=A instanceof Xl?e.evalExpression(A,r):A;let h=0;if(u instanceof Ve?h=u.value:typeof u=="number"?h=u:console.error("GetDataValue: Invalid index type",A),l instanceof WA)o+=h*l.stride,l=l.format;else{const f=l.getTypeName();f==="mat4x4"||f==="mat4x4f"||f==="mat4x4h"?(o+=16*h,l=e.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${l.getTypeName()} is not an array`)}}else{if(!(t instanceof Y1))return console.error("GetDataValue: Unknown postfix type",t),null;{const A=t.value;if(l instanceof DA){let u=!1;for(const h of l.members)if(h.name===A){o+=h.offset,l=h.type,u=!0;break}if(!u)return console.error(`GetDataValue: Member ${A} not found`),null}else if(l instanceof el){const u=l.getTypeName();if(u==="vec2f"||u==="vec3f"||u==="vec4f"||u==="vec2i"||u==="vec3i"||u==="vec4i"||u==="vec2u"||u==="vec3u"||u==="vec4u"||u==="vec2b"||u==="vec3b"||u==="vec4b"||u==="vec2h"||u==="vec3h"||u==="vec4h"||u==="vec2"||u==="vec3"||u==="vec4"){if(A.length>0&&A.length<5){let h="f";const f=[];for(let d=0;d<A.length;++d){const g=A[d].toLowerCase();let _=0;if(g==="x"||g==="r")_=0;else if(g==="y"||g==="g")_=1;else if(g==="z"||g==="b")_=2;else{if(g!=="w"&&g!=="a")return console.error(`Unknown member ${A}`),null;_=3}if(A.length===1){if(u.endsWith("f"))return this.buffer.byteLength<o+4*_+4?(console.log("Insufficient buffer data"),null):new Ve(new Float32Array(this.buffer,o+4*_,1),e.getTypeInfo("f32"),this);if(u.endsWith("h"))return new Ve(new Float32Array(this.buffer,o+4*_,1),e.getTypeInfo("f16"),this);if(u.endsWith("i"))return new Ve(new Int32Array(this.buffer,o+4*_,1),e.getTypeInfo("i32"),this);if(u.endsWith("b"))return new Ve(new Int32Array(this.buffer,o+4*_,1),e.getTypeInfo("bool"),this);if(u.endsWith("u"))return new Ve(new Uint32Array(this.buffer,o+4*_,1),e.getTypeInfo("i32"),this)}if(u==="vec2f")f.push(new Float32Array(this.buffer,o,2)[_]);else if(u==="vec3f"){if(o+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;const m=new Float32Array(this.buffer,o,3);f.push(m[_])}else if(u==="vec4f")f.push(new Float32Array(this.buffer,o,4)[_]);else if(u==="vec2i")h="i",f.push(new Int32Array(this.buffer,o,2)[_]);else if(u==="vec3i")h="i",f.push(new Int32Array(this.buffer,o,3)[_]);else if(u==="vec4i")h="i",f.push(new Int32Array(this.buffer,o,4)[_]);else if(u==="vec2u"){h="u";const m=new Uint32Array(this.buffer,o,2);f.push(m[_])}else u==="vec3u"?(h="u",f.push(new Uint32Array(this.buffer,o,3)[_])):u==="vec4u"&&(h="u",f.push(new Uint32Array(this.buffer,o,4)[_]))}return f.length===2?l=e.getTypeInfo(`vec2${h}`):f.length===3?l=e.getTypeInfo(`vec3${h}`):f.length===4?l=e.getTypeInfo(`vec4${h}`):console.error(`GetDataValue: Invalid vector length ${f.length}`),new Ie(f,l,null)}return console.error(`GetDataValue: Unknown member ${A}`),null}return console.error(`GetDataValue: Type ${u} is not a struct`),null}}}t=t.postfix}const c=l.getTypeName();return c==="f32"?new Ve(new Float32Array(this.buffer,o,1),l,this):c==="i32"?new Ve(new Int32Array(this.buffer,o,1),l,this):c==="u32"?new Ve(new Uint32Array(this.buffer,o,1),l,this):c==="vec2f"?new Ie(new Float32Array(this.buffer,o,2),l,this):c==="vec3f"?new Ie(new Float32Array(this.buffer,o,3),l,this):c==="vec4f"?new Ie(new Float32Array(this.buffer,o,4),l,this):c==="vec2i"?new Ie(new Int32Array(this.buffer,o,2),l,this):c==="vec3i"?new Ie(new Int32Array(this.buffer,o,3),l,this):c==="vec4i"?new Ie(new Int32Array(this.buffer,o,4),l,this):c==="vec2u"?new Ie(new Uint32Array(this.buffer,o,2),l,this):c==="vec3u"?new Ie(new Uint32Array(this.buffer,o,3),l,this):c==="vec4u"?new Ie(new Uint32Array(this.buffer,o,4),l,this):l instanceof j1&&l.name==="atomic"?((i=l.format)===null||i===void 0?void 0:i.name)==="u32"?new Ve(new Uint32Array(this.buffer,o,1)[0],l.format,this):((s=l.format)===null||s===void 0?void 0:s.name)==="i32"?new Ve(new Int32Array(this.buffer,o,1)[0],l.format,this):(console.error(`GetDataValue: Invalid atomic format ${(a=l.format)===null||a===void 0?void 0:a.name}`),null):new bi(this.buffer,l,o,this)}toString(){let e="";if(this.typeInfo instanceof WA)if(this.typeInfo.format.name==="f32"){const t=new Float32Array(this.buffer,this.offset);e=`[${t[0]}`;for(let r=1;r<t.length;++r)e+=`, ${t[r]}`}else if(this.typeInfo.format.name==="i32"){const t=new Int32Array(this.buffer,this.offset);e=`[${t[0]}`;for(let r=1;r<t.length;++r)e+=`, ${t[r]}`}else if(this.typeInfo.format.name==="u32"){const t=new Uint32Array(this.buffer,this.offset);e=`[${t[0]}`;for(let r=1;r<t.length;++r)e+=`, ${t[r]}`}else if(this.typeInfo.format.name==="vec2f"){const t=new Float32Array(this.buffer,this.offset);e=`[${t[0]}, ${t[1]}]`;for(let r=1;r<t.length/2;++r)e+=`, [${t[2*r]}, ${t[2*r+1]}]`}else if(this.typeInfo.format.name==="vec3f"){const t=new Float32Array(this.buffer,this.offset);e=`[${t[0]}, ${t[1]}, ${t[2]}]`;for(let r=4;r<t.length;r+=4)e+=`, [${t[r]}, ${t[r+1]}, ${t[r+2]}]`}else if(this.typeInfo.format.name==="vec4f"){const t=new Float32Array(this.buffer,this.offset);e=`[${t[0]}, ${t[1]}, ${t[2]}, ${t[3]}]`;for(let r=4;r<t.length;r+=4)e+=`, [${t[r]}, ${t[r+1]}, ${t[r+2]}, ${t[r+3]}]`}else e="[...]";else this.typeInfo instanceof DA?e+="{...}":e="[...]";return e}}class y0 extends al{constructor(e,t,r,i){super(t,null),this.data=e,this.descriptor=r,this.view=i}clone(){return new y0(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var e,t;const r=this.descriptor.size;return r instanceof Array&&r.length>0?(e=r[0])!==null&&e!==void 0?e:0:r instanceof Object&&(t=r.width)!==null&&t!==void 0?t:0}get height(){var e,t;const r=this.descriptor.size;return r instanceof Array&&r.length>1?(e=r[1])!==null&&e!==void 0?e:0:r instanceof Object&&(t=r.height)!==null&&t!==void 0?t:0}get depthOrArrayLayers(){var e,t;const r=this.descriptor.size;return r instanceof Array&&r.length>2?(e=r[2])!==null&&e!==void 0?e:0:r instanceof Object&&(t=r.depthOrArrayLayers)!==null&&t!==void 0?t:0}get format(){var e;return this.descriptor&&(e=this.descriptor.format)!==null&&e!==void 0?e:"rgba8unorm"}get sampleCount(){var e;return this.descriptor&&(e=this.descriptor.sampleCount)!==null&&e!==void 0?e:1}get mipLevelCount(){var e;return this.descriptor&&(e=this.descriptor.mipLevelCount)!==null&&e!==void 0?e:1}get dimension(){var e;return this.descriptor&&(e=this.descriptor.dimension)!==null&&e!==void 0?e:"2d"}getMipLevelSize(e){if(e>=this.mipLevelCount)return[0,0,0];const t=[this.width,this.height,this.depthOrArrayLayers];for(let r=0;r<t.length;++r)t[r]=Math.max(1,t[r]>>e);return t}get texelByteSize(){const e=this.format,t=i8[e];return t?t.isDepthStencil?4:t.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){const e=this.format,t=i8[e];return!!t&&t.isDepthStencil}getGpuSize(){const e=this.format,t=i8[e],r=this.width;if(!e||r<=0||!t)return-1;const i=this.height,s=this.depthOrArrayLayers,a=this.dimension;return r/t.blockWidth*(a==="1d"?1:i/t.blockHeight)*t.bytesPerBlock*s}getPixel(e,t,r=0,i=0){const s=this.texelByteSize,a=this.bytesPerRow,o=this.height,l=this.data[i];return P2e(new Uint8Array(l),e,t,r,i,o,a,s,this.format)}setPixel(e,t,r,i,s){const a=this.texelByteSize,o=this.bytesPerRow,l=this.height,c=this.data[i];(function(A,u,h,f,d,g,_,m,y,b){const v=f*(_>>=d)*(g>>=d)+h*_+u*m;switch(y){case"r8unorm":return void pr(A,v,"8unorm",1,b);case"r8snorm":return void pr(A,v,"8snorm",1,b);case"r8uint":return void pr(A,v,"8uint",1,b);case"r8sint":return void pr(A,v,"8sint",1,b);case"rg8unorm":return void pr(A,v,"8unorm",2,b);case"rg8snorm":return void pr(A,v,"8snorm",2,b);case"rg8uint":return void pr(A,v,"8uint",2,b);case"rg8sint":return void pr(A,v,"8sint",2,b);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void pr(A,v,"8unorm",4,b);case"rgba8snorm":return void pr(A,v,"8snorm",4,b);case"rgba8uint":return void pr(A,v,"8uint",4,b);case"rgba8sint":return void pr(A,v,"8sint",4,b);case"r16uint":return void pr(A,v,"16uint",1,b);case"r16sint":return void pr(A,v,"16sint",1,b);case"r16float":return void pr(A,v,"16float",1,b);case"rg16uint":return void pr(A,v,"16uint",2,b);case"rg16sint":return void pr(A,v,"16sint",2,b);case"rg16float":return void pr(A,v,"16float",2,b);case"rgba16uint":return void pr(A,v,"16uint",4,b);case"rgba16sint":return void pr(A,v,"16sint",4,b);case"rgba16float":return void pr(A,v,"16float",4,b);case"r32uint":return void pr(A,v,"32uint",1,b);case"r32sint":return void pr(A,v,"32sint",1,b);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void pr(A,v,"32float",1,b);case"rg32uint":return void pr(A,v,"32uint",2,b);case"rg32sint":return void pr(A,v,"32sint",2,b);case"rg32float":return void pr(A,v,"32float",2,b);case"rgba32uint":return void pr(A,v,"32uint",4,b);case"rgba32sint":return void pr(A,v,"32sint",4,b);case"rgba32float":return void pr(A,v,"32float",4,b);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(c),e,t,r,i,l,o,a,this.format,s)}}(n=>{n[n.token=0]="token",n[n.keyword=1]="keyword",n[n.reserved=2]="reserved"})($e||($e={}));class We{constructor(e,t,r){this.name=e,this.type=t,this.rule=r}toString(){return this.name}}class ve{}et=ve,ve.none=new We("",$e.reserved,""),ve.eof=new We("EOF",$e.token,""),ve.reserved={asm:new We("asm",$e.reserved,"asm"),bf16:new We("bf16",$e.reserved,"bf16"),do:new We("do",$e.reserved,"do"),enum:new We("enum",$e.reserved,"enum"),f16:new We("f16",$e.reserved,"f16"),f64:new We("f64",$e.reserved,"f64"),handle:new We("handle",$e.reserved,"handle"),i8:new We("i8",$e.reserved,"i8"),i16:new We("i16",$e.reserved,"i16"),i64:new We("i64",$e.reserved,"i64"),mat:new We("mat",$e.reserved,"mat"),premerge:new We("premerge",$e.reserved,"premerge"),regardless:new We("regardless",$e.reserved,"regardless"),typedef:new We("typedef",$e.reserved,"typedef"),u8:new We("u8",$e.reserved,"u8"),u16:new We("u16",$e.reserved,"u16"),u64:new We("u64",$e.reserved,"u64"),unless:new We("unless",$e.reserved,"unless"),using:new We("using",$e.reserved,"using"),vec:new We("vec",$e.reserved,"vec"),void:new We("void",$e.reserved,"void")},ve.keywords={array:new We("array",$e.keyword,"array"),atomic:new We("atomic",$e.keyword,"atomic"),bool:new We("bool",$e.keyword,"bool"),f32:new We("f32",$e.keyword,"f32"),i32:new We("i32",$e.keyword,"i32"),mat2x2:new We("mat2x2",$e.keyword,"mat2x2"),mat2x3:new We("mat2x3",$e.keyword,"mat2x3"),mat2x4:new We("mat2x4",$e.keyword,"mat2x4"),mat3x2:new We("mat3x2",$e.keyword,"mat3x2"),mat3x3:new We("mat3x3",$e.keyword,"mat3x3"),mat3x4:new We("mat3x4",$e.keyword,"mat3x4"),mat4x2:new We("mat4x2",$e.keyword,"mat4x2"),mat4x3:new We("mat4x3",$e.keyword,"mat4x3"),mat4x4:new We("mat4x4",$e.keyword,"mat4x4"),ptr:new We("ptr",$e.keyword,"ptr"),sampler:new We("sampler",$e.keyword,"sampler"),sampler_comparison:new We("sampler_comparison",$e.keyword,"sampler_comparison"),struct:new We("struct",$e.keyword,"struct"),texture_1d:new We("texture_1d",$e.keyword,"texture_1d"),texture_2d:new We("texture_2d",$e.keyword,"texture_2d"),texture_2d_array:new We("texture_2d_array",$e.keyword,"texture_2d_array"),texture_3d:new We("texture_3d",$e.keyword,"texture_3d"),texture_cube:new We("texture_cube",$e.keyword,"texture_cube"),texture_cube_array:new We("texture_cube_array",$e.keyword,"texture_cube_array"),texture_multisampled_2d:new We("texture_multisampled_2d",$e.keyword,"texture_multisampled_2d"),texture_storage_1d:new We("texture_storage_1d",$e.keyword,"texture_storage_1d"),texture_storage_2d:new We("texture_storage_2d",$e.keyword,"texture_storage_2d"),texture_storage_2d_array:new We("texture_storage_2d_array",$e.keyword,"texture_storage_2d_array"),texture_storage_3d:new We("texture_storage_3d",$e.keyword,"texture_storage_3d"),texture_depth_2d:new We("texture_depth_2d",$e.keyword,"texture_depth_2d"),texture_depth_2d_array:new We("texture_depth_2d_array",$e.keyword,"texture_depth_2d_array"),texture_depth_cube:new We("texture_depth_cube",$e.keyword,"texture_depth_cube"),texture_depth_cube_array:new We("texture_depth_cube_array",$e.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new We("texture_depth_multisampled_2d",$e.keyword,"texture_depth_multisampled_2d"),texture_external:new We("texture_external",$e.keyword,"texture_external"),u32:new We("u32",$e.keyword,"u32"),vec2:new We("vec2",$e.keyword,"vec2"),vec3:new We("vec3",$e.keyword,"vec3"),vec4:new We("vec4",$e.keyword,"vec4"),bitcast:new We("bitcast",$e.keyword,"bitcast"),block:new We("block",$e.keyword,"block"),break:new We("break",$e.keyword,"break"),case:new We("case",$e.keyword,"case"),continue:new We("continue",$e.keyword,"continue"),continuing:new We("continuing",$e.keyword,"continuing"),default:new We("default",$e.keyword,"default"),diagnostic:new We("diagnostic",$e.keyword,"diagnostic"),discard:new We("discard",$e.keyword,"discard"),else:new We("else",$e.keyword,"else"),enable:new We("enable",$e.keyword,"enable"),fallthrough:new We("fallthrough",$e.keyword,"fallthrough"),false:new We("false",$e.keyword,"false"),fn:new We("fn",$e.keyword,"fn"),for:new We("for",$e.keyword,"for"),function:new We("function",$e.keyword,"function"),if:new We("if",$e.keyword,"if"),let:new We("let",$e.keyword,"let"),const:new We("const",$e.keyword,"const"),loop:new We("loop",$e.keyword,"loop"),while:new We("while",$e.keyword,"while"),private:new We("private",$e.keyword,"private"),read:new We("read",$e.keyword,"read"),read_write:new We("read_write",$e.keyword,"read_write"),return:new We("return",$e.keyword,"return"),requires:new We("requires",$e.keyword,"requires"),storage:new We("storage",$e.keyword,"storage"),switch:new We("switch",$e.keyword,"switch"),true:new We("true",$e.keyword,"true"),alias:new We("alias",$e.keyword,"alias"),type:new We("type",$e.keyword,"type"),uniform:new We("uniform",$e.keyword,"uniform"),var:new We("var",$e.keyword,"var"),override:new We("override",$e.keyword,"override"),workgroup:new We("workgroup",$e.keyword,"workgroup"),write:new We("write",$e.keyword,"write"),r8unorm:new We("r8unorm",$e.keyword,"r8unorm"),r8snorm:new We("r8snorm",$e.keyword,"r8snorm"),r8uint:new We("r8uint",$e.keyword,"r8uint"),r8sint:new We("r8sint",$e.keyword,"r8sint"),r16uint:new We("r16uint",$e.keyword,"r16uint"),r16sint:new We("r16sint",$e.keyword,"r16sint"),r16float:new We("r16float",$e.keyword,"r16float"),rg8unorm:new We("rg8unorm",$e.keyword,"rg8unorm"),rg8snorm:new We("rg8snorm",$e.keyword,"rg8snorm"),rg8uint:new We("rg8uint",$e.keyword,"rg8uint"),rg8sint:new We("rg8sint",$e.keyword,"rg8sint"),r32uint:new We("r32uint",$e.keyword,"r32uint"),r32sint:new We("r32sint",$e.keyword,"r32sint"),r32float:new We("r32float",$e.keyword,"r32float"),rg16uint:new We("rg16uint",$e.keyword,"rg16uint"),rg16sint:new We("rg16sint",$e.keyword,"rg16sint"),rg16float:new We("rg16float",$e.keyword,"rg16float"),rgba8unorm:new We("rgba8unorm",$e.keyword,"rgba8unorm"),rgba8unorm_srgb:new We("rgba8unorm_srgb",$e.keyword,"rgba8unorm_srgb"),rgba8snorm:new We("rgba8snorm",$e.keyword,"rgba8snorm"),rgba8uint:new We("rgba8uint",$e.keyword,"rgba8uint"),rgba8sint:new We("rgba8sint",$e.keyword,"rgba8sint"),bgra8unorm:new We("bgra8unorm",$e.keyword,"bgra8unorm"),bgra8unorm_srgb:new We("bgra8unorm_srgb",$e.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new We("rgb10a2unorm",$e.keyword,"rgb10a2unorm"),rg11b10float:new We("rg11b10float",$e.keyword,"rg11b10float"),rg32uint:new We("rg32uint",$e.keyword,"rg32uint"),rg32sint:new We("rg32sint",$e.keyword,"rg32sint"),rg32float:new We("rg32float",$e.keyword,"rg32float"),rgba16uint:new We("rgba16uint",$e.keyword,"rgba16uint"),rgba16sint:new We("rgba16sint",$e.keyword,"rgba16sint"),rgba16float:new We("rgba16float",$e.keyword,"rgba16float"),rgba32uint:new We("rgba32uint",$e.keyword,"rgba32uint"),rgba32sint:new We("rgba32sint",$e.keyword,"rgba32sint"),rgba32float:new We("rgba32float",$e.keyword,"rgba32float"),static_assert:new We("static_assert",$e.keyword,"static_assert")},ve.tokens={decimal_float_literal:new We("decimal_float_literal",$e.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new We("hex_float_literal",$e.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new We("int_literal",$e.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new We("uint_literal",$e.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new We("name",$e.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new We("ident",$e.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new We("and",$e.token,"&"),and_and:new We("and_and",$e.token,"&&"),arrow:new We("arrow ",$e.token,"->"),attr:new We("attr",$e.token,"@"),forward_slash:new We("forward_slash",$e.token,"/"),bang:new We("bang",$e.token,"!"),bracket_left:new We("bracket_left",$e.token,"["),bracket_right:new We("bracket_right",$e.token,"]"),brace_left:new We("brace_left",$e.token,"{"),brace_right:new We("brace_right",$e.token,"}"),colon:new We("colon",$e.token,":"),comma:new We("comma",$e.token,","),equal:new We("equal",$e.token,"="),equal_equal:new We("equal_equal",$e.token,"=="),not_equal:new We("not_equal",$e.token,"!="),greater_than:new We("greater_than",$e.token,">"),greater_than_equal:new We("greater_than_equal",$e.token,">="),shift_right:new We("shift_right",$e.token,">>"),less_than:new We("less_than",$e.token,"<"),less_than_equal:new We("less_than_equal",$e.token,"<="),shift_left:new We("shift_left",$e.token,"<<"),modulo:new We("modulo",$e.token,"%"),minus:new We("minus",$e.token,"-"),minus_minus:new We("minus_minus",$e.token,"--"),period:new We("period",$e.token,"."),plus:new We("plus",$e.token,"+"),plus_plus:new We("plus_plus",$e.token,"++"),or:new We("or",$e.token,"|"),or_or:new We("or_or",$e.token,"||"),paren_left:new We("paren_left",$e.token,"("),paren_right:new We("paren_right",$e.token,")"),semicolon:new We("semicolon",$e.token,";"),star:new We("star",$e.token,"*"),tilde:new We("tilde",$e.token,"~"),underscore:new We("underscore",$e.token,"_"),xor:new We("xor",$e.token,"^"),plus_equal:new We("plus_equal",$e.token,"+="),minus_equal:new We("minus_equal",$e.token,"-="),times_equal:new We("times_equal",$e.token,"*="),division_equal:new We("division_equal",$e.token,"/="),modulo_equal:new We("modulo_equal",$e.token,"%="),and_equal:new We("and_equal",$e.token,"&="),or_equal:new We("or_equal",$e.token,"|="),xor_equal:new We("xor_equal",$e.token,"^="),shift_right_equal:new We("shift_right_equal",$e.token,">>="),shift_left_equal:new We("shift_left_equal",$e.token,"<<=")},ve.simpleTokens={"@":et.tokens.attr,"{":et.tokens.brace_left,"}":et.tokens.brace_right,":":et.tokens.colon,",":et.tokens.comma,"(":et.tokens.paren_left,")":et.tokens.paren_right,";":et.tokens.semicolon},ve.literalTokens={"&":et.tokens.and,"&&":et.tokens.and_and,"->":et.tokens.arrow,"/":et.tokens.forward_slash,"!":et.tokens.bang,"[":et.tokens.bracket_left,"]":et.tokens.bracket_right,"=":et.tokens.equal,"==":et.tokens.equal_equal,"!=":et.tokens.not_equal,">":et.tokens.greater_than,">=":et.tokens.greater_than_equal,">>":et.tokens.shift_right,"<":et.tokens.less_than,"<=":et.tokens.less_than_equal,"<<":et.tokens.shift_left,"%":et.tokens.modulo,"-":et.tokens.minus,"--":et.tokens.minus_minus,".":et.tokens.period,"+":et.tokens.plus,"++":et.tokens.plus_plus,"|":et.tokens.or,"||":et.tokens.or_or,"*":et.tokens.star,"~":et.tokens.tilde,_:et.tokens.underscore,"^":et.tokens.xor,"+=":et.tokens.plus_equal,"-=":et.tokens.minus_equal,"*=":et.tokens.times_equal,"/=":et.tokens.division_equal,"%=":et.tokens.modulo_equal,"&=":et.tokens.and_equal,"|=":et.tokens.or_equal,"^=":et.tokens.xor_equal,">>=":et.tokens.shift_right_equal,"<<=":et.tokens.shift_left_equal},ve.regexTokens={decimal_float_literal:et.tokens.decimal_float_literal,hex_float_literal:et.tokens.hex_float_literal,int_literal:et.tokens.int_literal,uint_literal:et.tokens.uint_literal,ident:et.tokens.ident},ve.storage_class=[et.keywords.function,et.keywords.private,et.keywords.workgroup,et.keywords.uniform,et.keywords.storage],ve.access_mode=[et.keywords.read,et.keywords.write,et.keywords.read_write],ve.sampler_type=[et.keywords.sampler,et.keywords.sampler_comparison],ve.sampled_texture_type=[et.keywords.texture_1d,et.keywords.texture_2d,et.keywords.texture_2d_array,et.keywords.texture_3d,et.keywords.texture_cube,et.keywords.texture_cube_array],ve.multisampled_texture_type=[et.keywords.texture_multisampled_2d],ve.storage_texture_type=[et.keywords.texture_storage_1d,et.keywords.texture_storage_2d,et.keywords.texture_storage_2d_array,et.keywords.texture_storage_3d],ve.depth_texture_type=[et.keywords.texture_depth_2d,et.keywords.texture_depth_2d_array,et.keywords.texture_depth_cube,et.keywords.texture_depth_cube_array,et.keywords.texture_depth_multisampled_2d],ve.texture_external_type=[et.keywords.texture_external],ve.any_texture_type=[...et.sampled_texture_type,...et.multisampled_texture_type,...et.storage_texture_type,...et.depth_texture_type,...et.texture_external_type],ve.texel_format=[et.keywords.r8unorm,et.keywords.r8snorm,et.keywords.r8uint,et.keywords.r8sint,et.keywords.r16uint,et.keywords.r16sint,et.keywords.r16float,et.keywords.rg8unorm,et.keywords.rg8snorm,et.keywords.rg8uint,et.keywords.rg8sint,et.keywords.r32uint,et.keywords.r32sint,et.keywords.r32float,et.keywords.rg16uint,et.keywords.rg16sint,et.keywords.rg16float,et.keywords.rgba8unorm,et.keywords.rgba8unorm_srgb,et.keywords.rgba8snorm,et.keywords.rgba8uint,et.keywords.rgba8sint,et.keywords.bgra8unorm,et.keywords.bgra8unorm_srgb,et.keywords.rgb10a2unorm,et.keywords.rg11b10float,et.keywords.rg32uint,et.keywords.rg32sint,et.keywords.rg32float,et.keywords.rgba16uint,et.keywords.rgba16sint,et.keywords.rgba16float,et.keywords.rgba32uint,et.keywords.rgba32sint,et.keywords.rgba32float],ve.const_literal=[et.tokens.int_literal,et.tokens.uint_literal,et.tokens.decimal_float_literal,et.tokens.hex_float_literal,et.keywords.true,et.keywords.false],ve.literal_or_ident=[et.tokens.ident,et.tokens.int_literal,et.tokens.uint_literal,et.tokens.decimal_float_literal,et.tokens.hex_float_literal,et.tokens.name],ve.element_count_expression=[et.tokens.int_literal,et.tokens.uint_literal,et.tokens.ident],ve.template_types=[et.keywords.vec2,et.keywords.vec3,et.keywords.vec4,et.keywords.mat2x2,et.keywords.mat2x3,et.keywords.mat2x4,et.keywords.mat3x2,et.keywords.mat3x3,et.keywords.mat3x4,et.keywords.mat4x2,et.keywords.mat4x3,et.keywords.mat4x4,et.keywords.atomic,et.keywords.bitcast,...et.any_texture_type],ve.attribute_name=[et.tokens.ident,et.keywords.block,et.keywords.diagnostic],ve.assignment_operators=[et.tokens.equal,et.tokens.plus_equal,et.tokens.minus_equal,et.tokens.times_equal,et.tokens.division_equal,et.tokens.modulo_equal,et.tokens.and_equal,et.tokens.or_equal,et.tokens.xor_equal,et.tokens.shift_right_equal,et.tokens.shift_left_equal],ve.increment_operators=[et.tokens.plus_plus,et.tokens.minus_minus];class tS{constructor(e,t,r,i,s){this.type=e,this.lexeme=t,this.line=r,this.start=i,this.end=s}toString(){return this.lexeme}isTemplateType(){return ve.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==ve.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class Y2e{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=e??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new tS(ve.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let e=this._advance();if(e==`
`)return this._line++,!0;if(this._isWhitespace(e))return!0;if(e=="/"){if(this._peekAhead()=="/"){for(;e!=`
`;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let a=1;for(;a>0;){if(this._isAtEnd())return!0;if(e=this._advance(),e==`
`)this._line++;else if(e=="*"){if(this._peekAhead()=="/"&&(this._advance(),a--,a==0))return!0}else e=="/"&&this._peekAhead()=="*"&&(this._advance(),a++)}return!0}}const t=ve.simpleTokens[e];if(t)return this._addToken(t),!0;let r=ve.none;const i=this._isAlpha(e),s=e==="_";if(this._isAlphaNumeric(e)){let a=this._peekAhead();for(;this._isAlphaNumeric(a);)e+=this._advance(),a=this._peekAhead()}if(i){const a=ve.keywords[e];if(a)return this._addToken(a),!0}if(i||s)return this._addToken(ve.tokens.ident),!0;for(;;){let a=this._findType(e);const o=this._peekAhead();if(e=="-"&&this._tokens.length>0){if(o=="=")return this._current++,e+=o,this._addToken(ve.tokens.minus_equal),!0;if(o=="-")return this._current++,e+=o,this._addToken(ve.tokens.minus_minus),!0;const l=this._tokens.length-1;if((ve.literal_or_ident.indexOf(this._tokens[l].type)!=-1||this._tokens[l].type==ve.tokens.paren_right)&&o!=">")return this._addToken(a),!0}if(e==">"&&(o==">"||o=="=")){let l=!1,c=this._tokens.length-1;for(let A=0;A<5&&c>=0&&ve.assignment_operators.indexOf(this._tokens[c].type)===-1;++A,--c)if(this._tokens[c].type===ve.tokens.less_than){c>0&&this._tokens[c-1].isArrayOrTemplateType()&&(l=!0);break}if(l)return this._addToken(a),!0}if(a===ve.none){let l=e,c=0;const A=2;for(let u=0;u<A;++u)if(l+=this._peekAhead(u),a=this._findType(l),a!==ve.none){c=u;break}if(a===ve.none)return r!==ve.none&&(this._current--,this._addToken(r),!0);e=l,this._current+=c+1}if(r=a,this._isAtEnd())break;e+=this._advance()}return r!==ve.none&&(this._addToken(r),!0)}_findType(e){for(const r in ve.regexTokens){const i=ve.regexTokens[r];if(this._match(e,i.rule))return i}return ve.literalTokens[e]||ve.none}_match(e,t){const r=t.exec(e);return r&&r.index==0&&r[0]==e}_isAtEnd(){return this._current>=this._source.length}_isAlpha(e){return!this._isNumeric(e)&&!this._isWhitespace(e)&&e!=="_"&&e!=="."&&e!=="("&&e!==")"&&e!=="["&&e!=="]"&&e!=="{"&&e!=="}"&&e!==","&&e!==";"&&e!==":"&&e!=="="&&e!=="!"&&e!=="<"&&e!==">"&&e!=="+"&&e!=="-"&&e!=="*"&&e!=="/"&&e!=="%"&&e!=="&"&&e!=="|"&&e!=="^"&&e!=="~"&&e!=="@"&&e!=="#"&&e!=="?"&&e!=="'"&&e!=="`"&&e!=='"'&&e!=="\\"&&e!==`
`&&e!=="\r"&&e!=="	"&&e!=="\0"}_isNumeric(e){return e>="0"&&e<="9"}_isAlphaNumeric(e){return this._isAlpha(e)||this._isNumeric(e)||e==="_"}_isWhitespace(e){return e==" "||e=="	"||e=="\r"}_advance(e=0){let t=this._source[this._current];return e=e||0,e++,this._current+=e,t}_peekAhead(e=0){return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){const t=this._source.substring(this._start,this._current);this._tokens.push(new tS(e,t,this._line,this._start,this._current))}}function jt(n){return Array.isArray(n)||(n==null?void 0:n.buffer)instanceof ArrayBuffer}const Y5=new Float32Array(1),G2e=new Uint32Array(Y5.buffer),V2e=new Uint32Array(Y5.buffer),G5=new Int32Array(1),K2e=new Float32Array(G5.buffer),$2e=new Uint32Array(G5.buffer),V5=new Uint32Array(1),W2e=new Float32Array(V5.buffer),q2e=new Int32Array(V5.buffer);function nS(n,e,t){if(e===t)return n;if(e==="f32"){if(t==="i32"||t==="x32")return Y5[0]=n,G2e[0];if(t==="u32")return Y5[0]=n,V2e[0]}else if(e==="i32"||e==="x32"){if(t==="f32")return G5[0]=n,K2e[0];if(t==="u32")return G5[0]=n,$2e[0]}else if(e==="u32"){if(t==="f32")return V5[0]=n,W2e[0];if(t==="i32"||t==="x32")return V5[0]=n,q2e[0]}return console.error(`Unsupported cast from ${e} to ${t}`),n}class X2e{constructor(e){this.resources=null,this.inUse=!1,this.info=null,this.node=e}}class d4{constructor(e,t){this.align=e,this.size=t}}class Bc{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new F2e,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture(e){return e.name=="texture_storage_1d"||e.name=="texture_storage_2d"||e.name=="texture_storage_2d_array"||e.name=="texture_storage_3d"}updateAST(e){for(const t of e)t instanceof D3&&this._functions.set(t.name,new X2e(t));for(const t of e)if(t instanceof m0){const r=this.getTypeInfo(t,null);r instanceof DA&&this.structs.push(r)}for(const t of e)if(t instanceof xR)this.aliases.push(this._getAliasInfo(t));else{if(t instanceof wR){const r=t,i=this._getAttributeNum(r.attributes,"id",0),s=r.type!=null?this.getTypeInfo(r.type,r.attributes):null;this.overrides.push(new T2e(r.name,s,r.attributes,i));continue}if(this._isUniformVar(t)){const r=t,i=this._getAttributeNum(r.attributes,"group",0),s=this._getAttributeNum(r.attributes,"binding",0),a=this.getTypeInfo(r.type,r.attributes),o=new h4(r.name,a,i,s,r.attributes,EA.Uniform,r.access);o.access||(o.access="read"),this.uniforms.push(o);continue}if(this._isStorageVar(t)){const r=t,i=this._getAttributeNum(r.attributes,"group",0),s=this._getAttributeNum(r.attributes,"binding",0),a=this.getTypeInfo(r.type,r.attributes),o=this._isStorageTexture(a),l=new h4(r.name,a,i,s,r.attributes,o?EA.StorageTexture:EA.Storage,r.access);l.access||(l.access="read"),this.storage.push(l);continue}if(this._isTextureVar(t)){const r=t,i=this._getAttributeNum(r.attributes,"group",0),s=this._getAttributeNum(r.attributes,"binding",0),a=this.getTypeInfo(r.type,r.attributes),o=this._isStorageTexture(a),l=new h4(r.name,a,i,s,r.attributes,o?EA.StorageTexture:EA.Texture,r.access);l.access||(l.access="read"),o?this.storage.push(l):this.textures.push(l);continue}if(this._isSamplerVar(t)){const r=t,i=this._getAttributeNum(r.attributes,"group",0),s=this._getAttributeNum(r.attributes,"binding",0),a=this.getTypeInfo(r.type,r.attributes),o=new h4(r.name,a,i,s,r.attributes,EA.Sampler,r.access);this.samplers.push(o);continue}}for(const t of e)if(t instanceof D3){const r=this._getAttribute(t,"vertex"),i=this._getAttribute(t,"fragment"),s=this._getAttribute(t,"compute"),a=r||i||s,o=new S2e(t.name,a==null?void 0:a.name,t.attributes);o.attributes=t.attributes,o.startLine=t.startLine,o.endLine=t.endLine,this.functions.push(o),this._functions.get(t.name).info=o,a&&(this._functions.get(t.name).inUse=!0,o.inUse=!0,o.resources=this._findResources(t,!!a),o.inputs=this._getInputs(t.args),o.outputs=this._getOutputs(t.returnType),this.entry[a.name].push(o)),o.arguments=t.args.map(l=>new M2e(l.name,this.getTypeInfo(l.type,l.attributes),l.attributes)),o.returnType=t.returnType?this.getTypeInfo(t.returnType,t.attributes):null;continue}for(const t of this._functions.values())t.info&&(t.info.inUse=t.inUse,this._addCalls(t.node,t.info.calls));for(const t of this._functions.values())t.node.search(r=>{var i,s,a;if(r instanceof RQ){if(r.value)if(jt(r.value))for(const o of r.value)for(const l of this.overrides)o===l.name&&((i=t.info)===null||i===void 0||i.overrides.push(l));else for(const o of this.overrides)r.value===o.name&&((s=t.info)===null||s===void 0||s.overrides.push(o))}else if(r instanceof ho)for(const o of this.overrides)r.name===o.name&&((a=t.info)===null||a===void 0||a.overrides.push(o))});for(const t of this.uniforms)this._markStructsInUse(t.type);for(const t of this.storage)this._markStructsInUse(t.type)}getFunctionInfo(e){for(const t of this.functions)if(t.name==e)return t;return null}getStructInfo(e){for(const t of this.structs)if(t.name==e)return t;return null}getOverrideInfo(e){for(const t of this.overrides)if(t.name==e)return t;return null}_markStructsInUse(e){if(e)if(e.isStruct){if(e.inUse=!0,e.members)for(const t of e.members)this._markStructsInUse(t.type)}else if(e.isArray)this._markStructsInUse(e.format);else if(e.isTemplate)e.format&&this._markStructsInUse(e.format);else{const t=this._getAlias(e.name);t&&this._markStructsInUse(t)}}_addCalls(e,t){var r;for(const i of e.calls){const s=(r=this._functions.get(i.name))===null||r===void 0?void 0:r.info;s&&t.add(s)}}findResource(e,t,r){if(r){for(const i of this.entry.compute)if(i.name===r){for(const s of i.resources)if(s.group==e&&s.binding==t)return s}for(const i of this.entry.vertex)if(i.name===r){for(const s of i.resources)if(s.group==e&&s.binding==t)return s}for(const i of this.entry.fragment)if(i.name===r){for(const s of i.resources)if(s.group==e&&s.binding==t)return s}}for(const i of this.uniforms)if(i.group==e&&i.binding==t)return i;for(const i of this.storage)if(i.group==e&&i.binding==t)return i;for(const i of this.textures)if(i.group==e&&i.binding==t)return i;for(const i of this.samplers)if(i.group==e&&i.binding==t)return i;return null}_findResource(e){for(const t of this.uniforms)if(t.name==e)return t;for(const t of this.storage)if(t.name==e)return t;for(const t of this.textures)if(t.name==e)return t;for(const t of this.samplers)if(t.name==e)return t;return null}_markStructsFromAST(e){const t=this.getTypeInfo(e,null);this._markStructsInUse(t)}_findResources(e,t){const r=[],i=this,s=[];return e.search(a=>{if(a instanceof Q5)s.push({});else if(a instanceof j5)s.pop();else if(a instanceof B0){const o=a;t&&o.type!==null&&this._markStructsFromAST(o.type),s.length>0&&(s[s.length-1][o.name]=o)}else if(a instanceof _c){const o=a;t&&o.type!==null&&this._markStructsFromAST(o.type)}else if(a instanceof Kg){const o=a;t&&o.type!==null&&this._markStructsFromAST(o.type),s.length>0&&(s[s.length-1][o.name]=o)}else if(a instanceof ho){const o=a;if(s.length>0&&s[s.length-1][o.name])return;const l=i._findResource(o.name);l&&r.push(l)}else if(a instanceof RR){const o=a,l=i._functions.get(o.name);l&&(t&&(l.inUse=!0),e.calls.add(l.node),l.resources===null&&(l.resources=i._findResources(l.node,t)),r.push(...l.resources))}else if(a instanceof LR){const o=a,l=i._functions.get(o.name);l&&(t&&(l.inUse=!0),e.calls.add(l.node),l.resources===null&&(l.resources=i._findResources(l.node,t)),r.push(...l.resources))}}),[...new Map(r.map(a=>[a.name,a])).values()]}getBindGroups(){const e=[];function t(r,i){r>=e.length&&(e.length=r+1),e[r]===void 0&&(e[r]=[]),i>=e[r].length&&(e[r].length=i+1)}for(const r of this.uniforms)t(r.group,r.binding),e[r.group][r.binding]=r;for(const r of this.storage)t(r.group,r.binding),e[r.group][r.binding]=r;for(const r of this.textures)t(r.group,r.binding),e[r.group][r.binding]=r;for(const r of this.samplers)t(r.group,r.binding),e[r.group][r.binding]=r;return e}_getOutputs(e,t=void 0){if(t===void 0&&(t=[]),e instanceof m0)this._getStructOutputs(e,t);else{const r=this._getOutputInfo(e);r!==null&&t.push(r)}return t}_getStructOutputs(e,t){for(const r of e.members)if(r.type instanceof m0)this._getStructOutputs(r.type,t);else{const i=this._getAttribute(r,"location")||this._getAttribute(r,"builtin");if(i!==null){const s=this.getTypeInfo(r.type,r.type.attributes),a=this._parseInt(i.value),o=new qM(r.name,s,i.name,a);t.push(o)}}}_getOutputInfo(e){const t=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(t!==null){const r=this.getTypeInfo(e,e.attributes),i=this._parseInt(t.value);return new qM("",r,t.name,i)}return null}_getInputs(e,t=void 0){t===void 0&&(t=[]);for(const r of e)if(r.type instanceof m0)this._getStructInputs(r.type,t);else{const i=this._getInputInfo(r);i!==null&&t.push(i)}return t}_getStructInputs(e,t){for(const r of e.members)if(r.type instanceof m0)this._getStructInputs(r.type,t);else{const i=this._getInputInfo(r);i!==null&&t.push(i)}}_getInputInfo(e){const t=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(t!==null){const r=this._getAttribute(e,"interpolation"),i=this.getTypeInfo(e.type,e.attributes),s=this._parseInt(t.value),a=new I2e(e.name,i,t.name,s);return r!==null&&(a.interpolation=this._parseString(r.value)),a}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);const t=parseInt(e);return isNaN(t)?e:t}_getAlias(e){for(const t of this.aliases)if(t.name==e)return t.type;return null}_getAliasInfo(e){return new C2e(e.name,this.getTypeInfo(e.type,null))}getTypeInfoByName(e){for(const t of this.structs)if(t.name==e)return t;for(const t of this.aliases)if(t.name==e)return t.type;return null}getTypeInfo(e,t=null){if(this._types.has(e))return this._types.get(e);if(e instanceof Lm){const i=e.type?this.getTypeInfo(e.type,e.attributes):null,s=new L9(e.name,i,t);return this._types.set(e,s),this._updateTypeInfo(s),s}if(e instanceof $g){const i=e,s=i.format?this.getTypeInfo(i.format,i.attributes):null,a=new WA(i.name,t);return a.format=s,a.count=i.count,this._types.set(e,a),this._updateTypeInfo(a),a}if(e instanceof m0){const i=e,s=new DA(i.name,t);s.startLine=i.startLine,s.endLine=i.endLine;for(const a of i.members){const o=this.getTypeInfo(a.type,a.attributes);s.members.push(new WM(a.name,o,a.attributes))}return this._types.set(e,s),this._updateTypeInfo(s),s}if(e instanceof hg){const i=e,s=i.format instanceof _t,a=i.format?s?this.getTypeInfo(i.format,null):new el(i.format,null):null,o=new j1(i.name,a,t,i.access);return this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof qe){const i=e,s=i.format?this.getTypeInfo(i.format,null):null,a=new j1(i.name,s,t,i.access);return this._types.set(e,a),this._updateTypeInfo(a),a}const r=new el(e.name,t);return this._types.set(e,r),this._updateTypeInfo(r),r}_updateTypeInfo(e){var t,r,i;const s=this._getTypeSize(e);if(e.size=(t=s==null?void 0:s.size)!==null&&t!==void 0?t:0,e instanceof WA&&e.format){const a=this._getTypeSize(e.format);e.stride=Math.max((r=a==null?void 0:a.size)!==null&&r!==void 0?r:0,(i=a==null?void 0:a.align)!==null&&i!==void 0?i:0),this._updateTypeInfo(e.format)}e instanceof L9&&this._updateTypeInfo(e.format),e instanceof DA&&this._updateStructInfo(e)}_updateStructInfo(e){var t;let r=0,i=0,s=0,a=0;for(let o=0,l=e.members.length;o<l;++o){const c=e.members[o],A=this._getTypeSize(c);if(!A)continue;(t=this._getAlias(c.type.name))!==null&&t!==void 0||c.type;const u=A.align,h=A.size;r=this._roundUp(u,r+i),i=h,s=r,a=Math.max(a,u),c.offset=r,c.size=h,this._updateTypeInfo(c.type)}e.size=this._roundUp(a,s+i),e.align=a}_getTypeSize(e){var t,r;if(e==null)return null;const i=this._getAttributeNum(e.attributes,"size",0),s=this._getAttributeNum(e.attributes,"align",0);if(e instanceof WM&&(e=e.type),e instanceof el){const a=this._getAlias(e.name);a!==null&&(e=a)}{const a=Bc._typeInfo[e.name];if(a!==void 0){const o=((t=e.format)===null||t===void 0?void 0:t.name)==="f16"?2:1;return new d4(Math.max(s,a.align/o),Math.max(i,a.size/o))}}{const a=Bc._typeInfo[e.name.substring(0,e.name.length-1)];if(a){const o=e.name[e.name.length-1]==="h"?2:1;return new d4(Math.max(s,a.align/o),Math.max(i,a.size/o))}}if(e instanceof WA){let a=e,o=8,l=8;const c=this._getTypeSize(a.format);return c!==null&&(l=c.size,o=c.align),l=a.count*this._getAttributeNum((r=e==null?void 0:e.attributes)!==null&&r!==void 0?r:null,"stride",this._roundUp(o,l)),i&&(l=i),new d4(Math.max(s,o),Math.max(i,l))}if(e instanceof DA){let a=0,o=0,l=0,c=0,A=0;for(const u of e.members){const h=this._getTypeSize(u.type);h!==null&&(a=Math.max(h.align,a),l=this._roundUp(h.align,l+c),c=h.size,A=l)}return o=this._roundUp(a,A+c),new d4(Math.max(s,a),Math.max(i,o))}return null}_isUniformVar(e){return e instanceof B0&&e.storage=="uniform"}_isStorageVar(e){return e instanceof B0&&e.storage=="storage"}_isTextureVar(e){return e instanceof B0&&e.type!==null&&Bc._textureTypes.indexOf(e.type.name)!=-1}_isSamplerVar(e){return e instanceof B0&&e.type!==null&&Bc._samplerTypes.indexOf(e.type.name)!=-1}_getAttribute(e,t){const r=e;if(!r||!r.attributes)return null;const i=r.attributes;for(let s of i)if(s.name==t)return s;return null}_getAttributeNum(e,t,r){if(e===null)return r;for(let i of e)if(i.name==t){let s=i!==null&&i.value!==null?i.value:r;return s instanceof Array&&(s=s[0]),typeof s=="number"?s:typeof s=="string"?parseInt(s):r}return r}_roundUp(e,t){return Math.ceil(t/e)*e}}Bc._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},Bc._textureTypes=ve.any_texture_type.map(n=>n.name),Bc._samplerTypes=ve.sampler_type.map(n=>n.name);let BR=0;class ER{constructor(e,t,r){this.id=BR++,this.name=e,this.value=t,this.node=r}clone(){return new ER(this.name,this.value,this.node)}}class CR{constructor(e){this.id=BR++,this.name=e.name,this.node=e}clone(){return new CR(this.node)}}class IR{constructor(e){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=BR++,e&&(this.parent=e,this.currentFunctionName=e.currentFunctionName)}getVariable(e){var t;return this.variables.has(e)?(t=this.variables.get(e))!==null&&t!==void 0?t:null:this.parent?this.parent.getVariable(e):null}getFunction(e){var t;return this.functions.has(e)?(t=this.functions.get(e))!==null&&t!==void 0?t:null:this.parent?this.parent.getFunction(e):null}createVariable(e,t,r){this.variables.set(e,new ER(e,t,r??null))}setVariable(e,t,r){const i=this.getVariable(e);i!==null?i.value=t:this.createVariable(e,t,r)}getVariableValue(e){var t;const r=this.getVariable(e);return(t=r==null?void 0:r.value)!==null&&t!==void 0?t:null}clone(){return new IR(this)}}class J2e{evalExpression(e,t){return null}getTypeInfo(e){return null}getVariableName(e,t){return""}}class Z2e{constructor(e){this.exec=e}getTypeInfo(e){return this.exec.getTypeInfo(e)}All(e,t){const r=this.exec.evalExpression(e.args[0],t);let i=!0;if(r instanceof Ie)return r.data.forEach(s=>{s||(i=!1)}),new Ve(i?1:0,this.getTypeInfo("bool"));throw new Error(`All() expects a vector argument. Line ${e.line}`)}Any(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie){const i=r.data.some(s=>s);return new Ve(i?1:0,this.getTypeInfo("bool"))}throw new Error(`Any() expects a vector argument. Line ${e.line}`)}Select(e,t){const r=this.exec.evalExpression(e.args[2],t);if(!(r instanceof Ve))throw new Error(`Select() expects a bool condition. Line ${e.line}`);return r.value?this.exec.evalExpression(e.args[1],t):this.exec.evalExpression(e.args[0],t)}ArrayLength(e,t){let r=e.args[0];r instanceof $i&&(r=r.right);const i=this.exec.evalExpression(r,t);if(i instanceof bi&&i.typeInfo.size===0){const s=i.typeInfo,a=i.buffer.byteLength/s.stride;return new Ve(a,this.getTypeInfo("u32"))}return new Ve(i.typeInfo.size,this.getTypeInfo("u32"))}Abs(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.abs(s)),r.typeInfo);const i=r;return new Ve(Math.abs(i.value),i.typeInfo)}Acos(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.acos(s)),r.typeInfo);const i=r;return new Ve(Math.acos(i.value),r.typeInfo)}Acosh(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.acosh(s)),r.typeInfo);const i=r;return new Ve(Math.acosh(i.value),r.typeInfo)}Asin(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.asin(s)),r.typeInfo);const i=r;return new Ve(Math.asin(i.value),r.typeInfo)}Asinh(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.asinh(s)),r.typeInfo);const i=r;return new Ve(Math.asinh(i.value),r.typeInfo)}Atan(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.atan(s)),r.typeInfo);const i=r;return new Ve(Math.atan(i.value),r.typeInfo)}Atanh(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.atanh(s)),r.typeInfo);const i=r;return new Ve(Math.atanh(i.value),r.typeInfo)}Atan2(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);if(r instanceof Ie&&i instanceof Ie)return new Ie(r.data.map((o,l)=>Math.atan2(o,i.data[l])),r.typeInfo);const s=r,a=i;return new Ve(Math.atan2(s.value,a.value),r.typeInfo)}Ceil(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.ceil(s)),r.typeInfo);const i=r;return new Ve(Math.ceil(i.value),r.typeInfo)}_clamp(e,t,r){return Math.min(Math.max(e,t),r)}Clamp(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),s=this.exec.evalExpression(e.args[2],t);if(r instanceof Ie&&i instanceof Ie&&s instanceof Ie)return new Ie(r.data.map((c,A)=>this._clamp(c,i.data[A],s.data[A])),r.typeInfo);const a=r,o=i,l=s;return new Ve(this._clamp(a.value,o.value,l.value),r.typeInfo)}Cos(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.cos(s)),r.typeInfo);const i=r;return new Ve(Math.cos(i.value),r.typeInfo)}Cosh(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.cosh(s)),r.typeInfo);const i=r;return new Ve(Math.cos(i.value),r.typeInfo)}CountLeadingZeros(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.clz32(s)),r.typeInfo);const i=r;return new Ve(Math.clz32(i.value),r.typeInfo)}_countOneBits(e){let t=0;for(;e!==0;)1&e&&t++,e>>=1;return t}CountOneBits(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>this._countOneBits(s)),r.typeInfo);const i=r;return new Ve(this._countOneBits(i.value),r.typeInfo)}_countTrailingZeros(e){if(e===0)return 32;let t=0;for(;!(1&e);)e>>=1,t++;return t}CountTrailingZeros(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>this._countTrailingZeros(s)),r.typeInfo);const i=r;return new Ve(this._countTrailingZeros(i.value),r.typeInfo)}Cross(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);if(r instanceof Ie&&i instanceof Ie){if(r.data.length!==3||i.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${e.line}`),null;const s=r.data,a=i.data;return new Ie([s[1]*a[2]-a[1]*s[2],s[2]*a[0]-a[2]*s[0],s[0]*a[1]-a[0]*s[1]],r.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${e.line}`),null}Degrees(e,t){const r=this.exec.evalExpression(e.args[0],t),i=180/Math.PI;return r instanceof Ie?new Ie(r.data.map(s=>s*i),r.typeInfo):new Ve(r.value*i,this.getTypeInfo("f32"))}Determinant(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof bn){const i=r.data,s=r.typeInfo.getTypeName(),a=s.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(s==="mat2x2"||s==="mat2x2f"||s==="mat2x2h")return new Ve(i[0]*i[3]-i[1]*i[2],a);if(s==="mat2x3"||s==="mat2x3f"||s==="mat2x3h")return new Ve(i[0]*(i[4]*i[8]-i[5]*i[7])-i[1]*(i[3]*i[8]-i[5]*i[6])+i[2]*(i[3]*i[7]-i[4]*i[6]),a);if(s==="mat2x4"||s==="mat2x4f"||s==="mat2x4h")console.error(`TODO: Determinant for ${s}`);else if(s==="mat3x2"||s==="mat3x2f"||s==="mat3x2h")console.error(`TODO: Determinant for ${s}`);else{if(s==="mat3x3"||s==="mat3x3f"||s==="mat3x3h")return new Ve(i[0]*(i[4]*i[8]-i[5]*i[7])-i[1]*(i[3]*i[8]-i[5]*i[6])+i[2]*(i[3]*i[7]-i[4]*i[6]),a);s==="mat3x4"||s==="mat3x4f"||s==="mat3x4h"||s==="mat4x2"||s==="mat4x2f"||s==="mat4x2h"||s==="mat4x3"||s==="mat4x3f"||s==="mat4x3h"?console.error(`TODO: Determinant for ${s}`):s!=="mat4x4"&&s!=="mat4x4f"&&s!=="mat4x4h"||console.error(`TODO: Determinant for ${s}`)}}return console.error(`Determinant expects a matrix argument. Line ${e.line}`),null}Distance(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);if(r instanceof Ie&&i instanceof Ie){let o=0;for(let l=0;l<r.data.length;++l)o+=(r.data[l]-i.data[l])*(r.data[l]-i.data[l]);return new Ve(Math.sqrt(o),this.getTypeInfo("f32"))}const s=r,a=i;return new Ve(Math.abs(s.value-a.value),r.typeInfo)}_dot(e,t){let r=0;for(let i=0;i<e.length;++i)r+=t[i]*e[i];return r}Dot(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);return r instanceof Ie&&i instanceof Ie?new Ve(this._dot(r.data,i.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${e.line}`),null)}Dot4U8Packed(e,t){return console.error(`TODO: dot4U8Packed. Line ${e.line}`),null}Dot4I8Packed(e,t){return console.error(`TODO: dot4I8Packed. Line ${e.line}`),null}Exp(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.exp(s)),r.typeInfo);const i=r;return new Ve(Math.exp(i.value),r.typeInfo)}Exp2(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.pow(2,s)),r.typeInfo);const i=r;return new Ve(Math.pow(2,i.value),r.typeInfo)}ExtractBits(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),s=this.exec.evalExpression(e.args[2],t);if(i.typeInfo.name!=="u32"&&i.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${e.line}`),null;if(s.typeInfo.name!=="u32"&&s.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${e.line}`),null;const a=i.value,o=s.value;if(r instanceof Ie)return new Ie(r.data.map(c=>c>>a&(1<<o)-1),r.typeInfo);if(r.typeInfo.name!=="i32"&&r.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${e.line}`),null;const l=r.value;return new Ve(l>>a&(1<<o)-1,this.getTypeInfo("i32"))}FaceForward(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),s=this.exec.evalExpression(e.args[2],t);if(r instanceof Ie&&i instanceof Ie&&s instanceof Ie){const a=this._dot(i.data,s.data);return new Ie(a<0?Array.from(r.data):r.data.map(o=>-o),r.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${e.line}`),null}_firstLeadingBit(e){return e===0?-1:31-Math.clz32(e)}FirstLeadingBit(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>this._firstLeadingBit(s)),r.typeInfo);const i=r;return new Ve(this._firstLeadingBit(i.value),r.typeInfo)}_firstTrailingBit(e){return e===0?-1:Math.log2(e&-e)}FirstTrailingBit(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>this._firstTrailingBit(s)),r.typeInfo);const i=r;return new Ve(this._firstTrailingBit(i.value),r.typeInfo)}Floor(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.floor(s)),r.typeInfo);const i=r;return new Ve(Math.floor(i.value),r.typeInfo)}Fma(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),s=this.exec.evalExpression(e.args[2],t);if(r instanceof Ie&&i instanceof Ie&&s instanceof Ie)return r.data.length!==i.data.length||r.data.length!==s.data.length?(console.error(`Fma() expects vectors of the same length. Line ${e.line}`),null):new Ie(r.data.map((c,A)=>c*i.data[A]+s.data[A]),r.typeInfo);const a=r,o=i,l=s;return new Ve(a.value*o.value+l.value,a.typeInfo)}Fract(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>s-Math.floor(s)),r.typeInfo);const i=r;return new Ve(i.value-Math.floor(i.value),r.typeInfo)}Frexp(e,t){return console.error(`TODO: frexp. Line ${e.line}`),null}InsertBits(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),s=this.exec.evalExpression(e.args[2],t),a=this.exec.evalExpression(e.args[3],t);if(s.typeInfo.name!=="u32"&&s.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${e.line}`),null;const o=s.value,l=(1<<a.value)-1<<o,c=~l;if(r instanceof Ie&&i instanceof Ie)return new Ie(r.data.map((h,f)=>h&c|i.data[f]<<o&l),r.typeInfo);const A=r.value,u=i.value;return new Ve(A&c|u<<o&l,r.typeInfo)}InverseSqrt(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>1/Math.sqrt(s)),r.typeInfo);const i=r;return new Ve(1/Math.sqrt(i.value),r.typeInfo)}Ldexp(e,t){return console.error(`TODO: ldexp. Line ${e.line}`),null}Length(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie){let s=0;return r.data.forEach(a=>{s+=a*a}),new Ve(Math.sqrt(s),this.getTypeInfo("f32"))}const i=r;return new Ve(Math.abs(i.value),r.typeInfo)}Log(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.log(s)),r.typeInfo);const i=r;return new Ve(Math.log(i.value),r.typeInfo)}Log2(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.log2(s)),r.typeInfo);const i=r;return new Ve(Math.log2(i.value),r.typeInfo)}Max(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);if(r instanceof Ie&&i instanceof Ie)return new Ie(r.data.map((o,l)=>Math.max(o,i.data[l])),r.typeInfo);const s=r,a=i;return new Ve(Math.max(s.value,a.value),r.typeInfo)}Min(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);if(r instanceof Ie&&i instanceof Ie)return new Ie(r.data.map((o,l)=>Math.min(o,i.data[l])),r.typeInfo);const s=r,a=i;return new Ve(Math.min(s.value,a.value),r.typeInfo)}Mix(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),s=this.exec.evalExpression(e.args[2],t);if(r instanceof Ie&&i instanceof Ie&&s instanceof Ie)return new Ie(r.data.map((l,c)=>r.data[c]*(1-s.data[c])+i.data[c]*s.data[c]),r.typeInfo);const a=i,o=s;return new Ve(r.value*(1-o.value)+a.value*o.value,r.typeInfo)}Modf(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);if(r instanceof Ie&&i instanceof Ie)return new Ie(r.data.map((a,o)=>a%i.data[o]),r.typeInfo);const s=i;return new Ve(r.value%s.value,r.typeInfo)}Normalize(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie){const i=this.Length(e,t).value;return new Ie(r.data.map(s=>s/i),r.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${e.line}`),null}Pow(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);if(r instanceof Ie&&i instanceof Ie)return new Ie(r.data.map((o,l)=>Math.pow(o,i.data[l])),r.typeInfo);const s=r,a=i;return new Ve(Math.pow(s.value,a.value),r.typeInfo)}QuantizeToF16(e,t){const r=this.exec.evalExpression(e.args[0],t);return r instanceof Ie?new Ie(r.data.map(i=>i),r.typeInfo):new Ve(r.value,r.typeInfo)}Radians(e,t){const r=this.exec.evalExpression(e.args[0],t);return r instanceof Ie?new Ie(r.data.map(i=>i*Math.PI/180),r.typeInfo):new Ve(r.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);if(r instanceof Ie&&i instanceof Ie){const s=this._dot(r.data,i.data);return new Ie(r.data.map((a,o)=>a-2*s*i.data[o]),r.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${e.line}`),null}Refract(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),s=this.exec.evalExpression(e.args[2],t);if(r instanceof Ie&&i instanceof Ie&&s instanceof Ve){const a=this._dot(i.data,r.data);return new Ie(r.data.map((o,l)=>{const c=1-s.value*s.value*(1-a*a);if(c<0)return 0;const A=Math.sqrt(c);return s.value*o-(s.value*a+A)*i.data[l]}),r.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${e.line}`),null}ReverseBits(e,t){return console.error(`TODO: reverseBits. Line ${e.line}`),null}Round(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.round(s)),r.typeInfo);const i=r;return new Ve(Math.round(i.value),r.typeInfo)}Saturate(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.min(Math.max(s,0),1)),r.typeInfo);const i=r;return new Ve(Math.min(Math.max(i.value,0),1),r.typeInfo)}Sign(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.sign(s)),r.typeInfo);const i=r;return new Ve(Math.sign(i.value),r.typeInfo)}Sin(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.sin(s)),r.typeInfo);const i=r;return new Ve(Math.sin(i.value),r.typeInfo)}Sinh(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.sinh(s)),r.typeInfo);const i=r;return new Ve(Math.sinh(i.value),r.typeInfo)}_smoothstep(e,t,r){const i=Math.min(Math.max((r-e)/(t-e),0),1);return i*i*(3-2*i)}SmoothStep(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),s=this.exec.evalExpression(e.args[2],t);if(s instanceof Ie&&r instanceof Ie&&i instanceof Ie)return new Ie(s.data.map((c,A)=>this._smoothstep(r.data[A],i.data[A],c)),s.typeInfo);const a=r,o=i,l=s;return new Ve(this._smoothstep(a.value,o.value,l.value),s.typeInfo)}Sqrt(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.sqrt(s)),r.typeInfo);const i=r;return new Ve(Math.sqrt(i.value),r.typeInfo)}Step(e,t){const r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);if(i instanceof Ie&&r instanceof Ie)return new Ie(i.data.map((a,o)=>a<r.data[o]?0:1),i.typeInfo);const s=r;return new Ve(i.value<s.value?0:1,s.typeInfo)}Tan(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.tan(s)),r.typeInfo);const i=r;return new Ve(Math.tan(i.value),r.typeInfo)}Tanh(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.tanh(s)),r.typeInfo);const i=r;return new Ve(Math.tanh(i.value),r.typeInfo)}_getTransposeType(e){const t=e.getTypeName();return t==="mat2x2f"||t==="mat2x2h"?e:t==="mat2x3f"?this.getTypeInfo("mat3x2f"):t==="mat2x3h"?this.getTypeInfo("mat3x2h"):t==="mat2x4f"?this.getTypeInfo("mat4x2f"):t==="mat2x4h"?this.getTypeInfo("mat4x2h"):t==="mat3x2f"?this.getTypeInfo("mat2x3f"):t==="mat3x2h"?this.getTypeInfo("mat2x3h"):t==="mat3x3f"||t==="mat3x3h"?e:t==="mat3x4f"?this.getTypeInfo("mat4x3f"):t==="mat3x4h"?this.getTypeInfo("mat4x3h"):t==="mat4x2f"?this.getTypeInfo("mat2x4f"):t==="mat4x2h"?this.getTypeInfo("mat2x4h"):t==="mat4x3f"?this.getTypeInfo("mat3x4f"):t==="mat4x3h"?this.getTypeInfo("mat3x4h"):(t==="mat4x4f"||t==="mat4x4h"||console.error(`Invalid matrix type ${t}`),e)}Transpose(e,t){const r=this.exec.evalExpression(e.args[0],t);if(!(r instanceof bn))return console.error(`Transpose() expects a matrix argument. Line ${e.line}`),null;const i=this._getTransposeType(r.typeInfo);if(r.typeInfo.name==="mat2x2"||r.typeInfo.name==="mat2x2f"||r.typeInfo.name==="mat2x2h"){const s=r.data;return new bn([s[0],s[2],s[1],s[3]],i)}if(r.typeInfo.name==="mat2x3"||r.typeInfo.name==="mat2x3f"||r.typeInfo.name==="mat2x3h"){const s=r.data;return new bn([s[0],s[3],s[6],s[1],s[4],s[7]],i)}if(r.typeInfo.name==="mat2x4"||r.typeInfo.name==="mat2x4f"||r.typeInfo.name==="mat2x4h"){const s=r.data;return new bn([s[0],s[4],s[8],s[12],s[1],s[5],s[9],s[13]],i)}if(r.typeInfo.name==="mat3x2"||r.typeInfo.name==="mat3x2f"||r.typeInfo.name==="mat3x2h"){const s=r.data;return new bn([s[0],s[3],s[1],s[4],s[2],s[5]],i)}if(r.typeInfo.name==="mat3x3"||r.typeInfo.name==="mat3x3f"||r.typeInfo.name==="mat3x3h"){const s=r.data;return new bn([s[0],s[3],s[6],s[1],s[4],s[7],s[2],s[5],s[8]],i)}if(r.typeInfo.name==="mat3x4"||r.typeInfo.name==="mat3x4f"||r.typeInfo.name==="mat3x4h"){const s=r.data;return new bn([s[0],s[4],s[8],s[12],s[1],s[5],s[9],s[13],s[2],s[6],s[10],s[14]],i)}if(r.typeInfo.name==="mat4x2"||r.typeInfo.name==="mat4x2f"||r.typeInfo.name==="mat4x2h"){const s=r.data;return new bn([s[0],s[4],s[1],s[5],s[2],s[6]],i)}if(r.typeInfo.name==="mat4x3"||r.typeInfo.name==="mat4x3f"||r.typeInfo.name==="mat4x3h"){const s=r.data;return new bn([s[0],s[4],s[8],s[1],s[5],s[9],s[2],s[6],s[10]],i)}if(r.typeInfo.name==="mat4x4"||r.typeInfo.name==="mat4x4f"||r.typeInfo.name==="mat4x4h"){const s=r.data;return new bn([s[0],s[4],s[8],s[12],s[1],s[5],s[9],s[13],s[2],s[6],s[10],s[14],s[3],s[7],s[11],s[15]],i)}return console.error(`Invalid matrix type ${r.typeInfo.name}`),null}Trunc(e,t){const r=this.exec.evalExpression(e.args[0],t);if(r instanceof Ie)return new Ie(r.data.map(s=>Math.trunc(s)),r.typeInfo);const i=r;return new Ve(Math.trunc(i.value),r.typeInfo)}Dpdx(e,t){return console.error(`TODO: dpdx. Line ${e.line}`),null}DpdxCoarse(e,t){return console.error(`TODO: dpdxCoarse. Line ${e.line}`),null}DpdxFine(e,t){return console.error("TODO: dpdxFine"),null}Dpdy(e,t){return console.error("TODO: dpdy"),null}DpdyCoarse(e,t){return console.error("TODO: dpdyCoarse"),null}DpdyFine(e,t){return console.error("TODO: dpdyFine"),null}Fwidth(e,t){return console.error("TODO: fwidth"),null}FwidthCoarse(e,t){return console.error("TODO: fwidthCoarse"),null}FwidthFine(e,t){return console.error("TODO: fwidthFine"),null}TextureDimensions(e,t){const r=e.args[0],i=e.args.length>1?this.exec.evalExpression(e.args[1],t).value:0;if(r instanceof ho){const s=r.name,a=t.getVariableValue(s);if(a instanceof y0){if(i<0||i>=a.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${e.line}`),null;const o=a.getMipLevelSize(i),l=a.dimension;return l==="1d"?new Ve(o[0],this.getTypeInfo("u32")):l==="3d"?new Ie(o,this.getTypeInfo("vec3u")):l==="2d"?new Ie(o.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${l} not found. Line ${e.line}`),null)}return console.error(`Texture ${s} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${e.line}`),null}TextureGather(e,t){return console.error("TODO: textureGather"),null}TextureGatherCompare(e,t){return console.error("TODO: textureGatherCompare"),null}TextureLoad(e,t){const r=e.args[0],i=this.exec.evalExpression(e.args[1],t),s=e.args.length>2?this.exec.evalExpression(e.args[2],t).value:0;if(!(i instanceof Ie)||i.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${e.line}`),null;if(r instanceof ho){const a=r.name,o=t.getVariableValue(a);if(o instanceof y0){const l=Math.floor(i.data[0]),c=Math.floor(i.data[1]);if(l<0||l>=o.width||c<0||c>=o.height)return console.error(`Texture ${a} out of bounds. Line ${e.line}`),null;const A=o.getPixel(l,c,0,s);return A===null?(console.error(`Invalid texture format for textureLoad. Line ${e.line}`),null):new Ie(A,this.getTypeInfo("vec4f"))}return console.error(`Texture ${a} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${e.line}`),null}TextureNumLayers(e,t){const r=e.args[0];if(r instanceof ho){const i=r.name,s=t.getVariableValue(i);return s instanceof y0?new Ve(s.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${e.line}`),null}TextureNumLevels(e,t){const r=e.args[0];if(r instanceof ho){const i=r.name,s=t.getVariableValue(i);return s instanceof y0?new Ve(s.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${e.line}`),null}TextureNumSamples(e,t){const r=e.args[0];if(r instanceof ho){const i=r.name,s=t.getVariableValue(i);return s instanceof y0?new Ve(s.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${e.line}`),null}TextureSample(e,t){return console.error("TODO: textureSample"),null}TextureSampleBias(e,t){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare(e,t){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel(e,t){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad(e,t){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel(e,t){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge(e,t){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore(e,t){const r=e.args[0],i=this.exec.evalExpression(e.args[1],t),s=e.args.length===4?this.exec.evalExpression(e.args[2],t).value:0,a=e.args.length===4?this.exec.evalExpression(e.args[3],t).data:this.exec.evalExpression(e.args[2],t).data;if(a.length!==4)return console.error(`Invalid value argument for textureStore. Line ${e.line}`),null;if(!(i instanceof Ie)||i.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${e.line}`),null;if(r instanceof ho){const o=r.name,l=t.getVariableValue(o);if(l instanceof y0){const c=l.getMipLevelSize(0),A=Math.floor(i.data[0]),u=Math.floor(i.data[1]);return A<0||A>=c[0]||u<0||u>=c[1]?(console.error(`Texture ${o} out of bounds. Line ${e.line}`),null):(l.setPixel(A,u,0,s,Array.from(a)),null)}return console.error(`Texture ${o} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${e.line}`),null}AtomicLoad(e,t){let r=e.args[0];r instanceof $i&&(r=r.right);const i=this.exec.getVariableName(r,t);return t.getVariable(i).value.getSubData(this.exec,r.postfix,t)}AtomicStore(e,t){let r=e.args[0];r instanceof $i&&(r=r.right);const i=this.exec.getVariableName(r,t),s=t.getVariable(i);let a=e.args[1];const o=this.exec.evalExpression(a,t),l=s.value.getSubData(this.exec,r.postfix,t);return l instanceof Ve&&o instanceof Ve&&(l.value=o.value),s.value instanceof bi&&s.value.setDataValue(this.exec,l,r.postfix,t),null}AtomicAdd(e,t){let r=e.args[0];r instanceof $i&&(r=r.right);const i=this.exec.getVariableName(r,t),s=t.getVariable(i);let a=e.args[1];const o=this.exec.evalExpression(a,t),l=s.value.getSubData(this.exec,r.postfix,t),c=new Ve(l.value,l.typeInfo);return l instanceof Ve&&o instanceof Ve&&(l.value+=o.value),s.value instanceof bi&&s.value.setDataValue(this.exec,l,r.postfix,t),c}AtomicSub(e,t){let r=e.args[0];r instanceof $i&&(r=r.right);const i=this.exec.getVariableName(r,t),s=t.getVariable(i);let a=e.args[1];const o=this.exec.evalExpression(a,t),l=s.value.getSubData(this.exec,r.postfix,t),c=new Ve(l.value,l.typeInfo);return l instanceof Ve&&o instanceof Ve&&(l.value-=o.value),s.value instanceof bi&&s.value.setDataValue(this.exec,l,r.postfix,t),c}AtomicMax(e,t){let r=e.args[0];r instanceof $i&&(r=r.right);const i=this.exec.getVariableName(r,t),s=t.getVariable(i);let a=e.args[1];const o=this.exec.evalExpression(a,t),l=s.value.getSubData(this.exec,r.postfix,t),c=new Ve(l.value,l.typeInfo);return l instanceof Ve&&o instanceof Ve&&(l.value=Math.max(l.value,o.value)),s.value instanceof bi&&s.value.setDataValue(this.exec,l,r.postfix,t),c}AtomicMin(e,t){let r=e.args[0];r instanceof $i&&(r=r.right);const i=this.exec.getVariableName(r,t),s=t.getVariable(i);let a=e.args[1];const o=this.exec.evalExpression(a,t),l=s.value.getSubData(this.exec,r.postfix,t),c=new Ve(l.value,l.typeInfo);return l instanceof Ve&&o instanceof Ve&&(l.value=Math.min(l.value,o.value)),s.value instanceof bi&&s.value.setDataValue(this.exec,l,r.postfix,t),c}AtomicAnd(e,t){let r=e.args[0];r instanceof $i&&(r=r.right);const i=this.exec.getVariableName(r,t),s=t.getVariable(i);let a=e.args[1];const o=this.exec.evalExpression(a,t),l=s.value.getSubData(this.exec,r.postfix,t),c=new Ve(l.value,l.typeInfo);return l instanceof Ve&&o instanceof Ve&&(l.value=l.value&o.value),s.value instanceof bi&&s.value.setDataValue(this.exec,l,r.postfix,t),c}AtomicOr(e,t){let r=e.args[0];r instanceof $i&&(r=r.right);const i=this.exec.getVariableName(r,t),s=t.getVariable(i);let a=e.args[1];const o=this.exec.evalExpression(a,t),l=s.value.getSubData(this.exec,r.postfix,t),c=new Ve(l.value,l.typeInfo);return l instanceof Ve&&o instanceof Ve&&(l.value=l.value|o.value),s.value instanceof bi&&s.value.setDataValue(this.exec,l,r.postfix,t),c}AtomicXor(e,t){let r=e.args[0];r instanceof $i&&(r=r.right);const i=this.exec.getVariableName(r,t),s=t.getVariable(i);let a=e.args[1];const o=this.exec.evalExpression(a,t),l=s.value.getSubData(this.exec,r.postfix,t),c=new Ve(l.value,l.typeInfo);return l instanceof Ve&&o instanceof Ve&&(l.value=l.value^o.value),s.value instanceof bi&&s.value.setDataValue(this.exec,l,r.postfix,t),c}AtomicExchange(e,t){let r=e.args[0];r instanceof $i&&(r=r.right);const i=this.exec.getVariableName(r,t),s=t.getVariable(i);let a=e.args[1];const o=this.exec.evalExpression(a,t),l=s.value.getSubData(this.exec,r.postfix,t),c=new Ve(l.value,l.typeInfo);return l instanceof Ve&&o instanceof Ve&&(l.value=o.value),s.value instanceof bi&&s.value.setDataValue(this.exec,l,r.postfix,t),c}AtomicCompareExchangeWeak(e,t){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm(e,t){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm(e,t){return console.error("TODO: pack4x8unorm"),null}Pack4xI8(e,t){return console.error("TODO: pack4xI8"),null}Pack4xU8(e,t){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp(e,t){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp(e,t){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm(e,t){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm(e,t){return console.error("TODO: pack2x16unorm"),null}Pack2x16float(e,t){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm(e,t){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm(e,t){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8(e,t){return console.error("TODO: unpack4xI8"),null}Unpack4xU8(e,t){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm(e,t){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm(e,t){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float(e,t){return console.error("TODO: unpack2x16float"),null}StorageBarrier(e,t){return null}TextureBarrier(e,t){return null}WorkgroupBarrier(e,t){return null}WorkgroupUniformLoad(e,t){return null}SubgroupAdd(e,t){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd(e,t){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd(e,t){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll(e,t){return console.error("TODO: subgroupAll"),null}SubgroupAnd(e,t){return console.error("TODO: subgroupAnd"),null}SubgroupAny(e,t){return console.error("TODO: subgroupAny"),null}SubgroupBallot(e,t){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast(e,t){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst(e,t){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect(e,t){return console.error("TODO: subgroupElect"),null}SubgroupMax(e,t){return console.error("TODO: subgroupMax"),null}SubgroupMin(e,t){return console.error("TODO: subgroupMin"),null}SubgroupMul(e,t){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul(e,t){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul(e,t){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr(e,t){return console.error("TODO: subgroupOr"),null}SubgroupShuffle(e,t){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown(e,t){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp(e,t){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor(e,t){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor(e,t){return console.error("TODO: subgroupXor"),null}QuadBroadcast(e,t){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal(e,t){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX(e,t){return console.error("TODO: quadSwapX"),null}QuadSwapY(e,t){return console.error("TODO: quadSwapY"),null}}const s8={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},ua={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]};class qs extends J2e{constructor(e,t){var r;super(),this.ast=e??[],this.reflection=new Bc,this.reflection.updateAST(this.ast),this.context=(r=t==null?void 0:t.clone())!==null&&r!==void 0?r:new IR,this.builtins=new Z2e(this),this.typeInfo={bool:this.getTypeInfo(_t.bool),i32:this.getTypeInfo(_t.i32),u32:this.getTypeInfo(_t.u32),f32:this.getTypeInfo(_t.f32),f16:this.getTypeInfo(_t.f16),vec2f:this.getTypeInfo(qe.vec2f),vec2u:this.getTypeInfo(qe.vec2u),vec2i:this.getTypeInfo(qe.vec2i),vec2h:this.getTypeInfo(qe.vec2h),vec3f:this.getTypeInfo(qe.vec3f),vec3u:this.getTypeInfo(qe.vec3u),vec3i:this.getTypeInfo(qe.vec3i),vec3h:this.getTypeInfo(qe.vec3h),vec4f:this.getTypeInfo(qe.vec4f),vec4u:this.getTypeInfo(qe.vec4u),vec4i:this.getTypeInfo(qe.vec4i),vec4h:this.getTypeInfo(qe.vec4h),mat2x2f:this.getTypeInfo(qe.mat2x2f),mat2x3f:this.getTypeInfo(qe.mat2x3f),mat2x4f:this.getTypeInfo(qe.mat2x4f),mat3x2f:this.getTypeInfo(qe.mat3x2f),mat3x3f:this.getTypeInfo(qe.mat3x3f),mat3x4f:this.getTypeInfo(qe.mat3x4f),mat4x2f:this.getTypeInfo(qe.mat4x2f),mat4x3f:this.getTypeInfo(qe.mat4x3f),mat4x4f:this.getTypeInfo(qe.mat4x4f)}}getVariableValue(e){var t,r;const i=(r=(t=this.context.getVariable(e))===null||t===void 0?void 0:t.value)!==null&&r!==void 0?r:null;if(i===null)return null;if(i instanceof Ve)return i.value;if(i instanceof Ie||i instanceof bn)return Array.from(i.data);if(i instanceof bi&&i.typeInfo instanceof WA){if(i.typeInfo.format.name==="u32")return Array.from(new Uint32Array(i.buffer,i.offset,i.typeInfo.count));if(i.typeInfo.format.name==="i32")return Array.from(new Int32Array(i.buffer,i.offset,i.typeInfo.count));if(i.typeInfo.format.name==="f32")return Array.from(new Float32Array(i.buffer,i.offset,i.typeInfo.count))}return console.error(`Unsupported return variable type ${i.typeInfo.name}`),null}execute(e){(e=e??{}).constants&&this._setOverrides(e.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups(e,t,r,i){const s=this.context.clone();(i=i??{}).constants&&this._setOverrides(i.constants,s),this._execStatements(this.ast,s);const a=s.getFunction(e);if(!a)return void console.error(`Function ${e} not found`);if(typeof t=="number")t=[t,1,1];else{if(t.length===0)return void console.error("Invalid dispatch count");t.length===1?t=[t[0],1,1]:t.length===2?t=[t[0],t[1],1]:t.length>3&&(t=[t[0],t[1],t[2]])}const o=t[0],l=t[1],c=t[2],A=this.getTypeInfo("vec3u");s.setVariable("@num_workgroups",new Ie(t,A));const u=this.reflection.getFunctionInfo(e);u===null&&console.error(`Function ${e} not found in reflection data`);for(const h in r)for(const f in r[h]){const d=r[h][f];s.variables.forEach(g=>{var _;const m=g.node;if(m!=null&&m.attributes){let y=null,b=null;for(const v of m.attributes)v.name==="binding"?y=v.value:v.name==="group"&&(b=v.value);if(f==y&&h==b){let v=!1;for(const B of u.resources)if(B.name===g.name&&B.group===parseInt(h)&&B.binding===parseInt(f)){v=!0;break}if(v)if(d.texture!==void 0&&d.descriptor!==void 0){const B=new y0(d.texture,this.getTypeInfo(m.type),d.descriptor,(_=d.texture.view)!==null&&_!==void 0?_:null);g.value=B}else d.uniform!==void 0?g.value=new bi(d.uniform,this.getTypeInfo(m.type)):g.value=new bi(d,this.getTypeInfo(m.type))}}})}for(let h=0;h<c;++h)for(let f=0;f<l;++f)for(let d=0;d<o;++d)s.setVariable("@workgroup_id",new Ie([d,f,h],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(a,[d,f,h],s)}execStatement(e,t){if(e instanceof gQ)return this.evalExpression(e.value,t);if(e instanceof _Q){if(e.condition){const r=this.evalExpression(e.condition,t);if(!(r instanceof Ve))throw new Error("Invalid break-if condition");if(!r.value)return null}return qs._breakObj}if(e instanceof mQ)return qs._continueObj;if(e instanceof Kg)this._let(e,t);else if(e instanceof B0)this._var(e,t);else if(e instanceof wm)this._const(e,t);else if(e instanceof D3)this._function(e,t);else{if(e instanceof dQ)return this._if(e,t);if(e instanceof hQ)return this._switch(e,t);if(e instanceof cQ)return this._for(e,t);if(e instanceof lQ)return this._while(e,t);if(e instanceof fQ)return this._loop(e,t);if(e instanceof x9){const r=t.clone();return r.currentFunctionName=t.currentFunctionName,this._execStatements(e.body,r)}if(e instanceof uQ)this._assign(e,t);else if(e instanceof AQ)this._increment(e,t);else{if(e instanceof m0)return null;if(e instanceof wR){const r=e.name;t.getVariable(r)===null&&t.setVariable(r,new Ve(0,this.getTypeInfo("u32")))}else if(e instanceof LR)this._call(e,t);else{if(e instanceof pQ||e instanceof xR)return null;console.error("Invalid statement type.",e,`Line ${e.line}`)}}}return null}evalExpression(e,t){return e instanceof bl?this._evalBinaryOp(e,t):e instanceof fs?this._evalLiteral(e,t):e instanceof ho?this._evalVariable(e,t):e instanceof RR?this._evalCall(e,t):e instanceof _c?this._evalCreate(e,t):e instanceof yQ?this._evalConst(e,t):e instanceof bQ?this._evalBitcast(e,t):e instanceof $i?this._evalUnaryOp(e,t):(console.error("Invalid expression type",e,`Line ${e.line}`),null)}getTypeInfo(e){var t;if(e instanceof _t){const i=this.reflection.getTypeInfo(e);if(i!==null)return i}let r=(t=this.typeInfo[e])!==null&&t!==void 0?t:null;return r!==null||(r=this.reflection.getTypeInfoByName(e)),r}_setOverrides(e,t){for(const r in e){const i=e[r],s=this.reflection.getOverrideInfo(r);s!==null?(s.type===null&&(s.type=this.getTypeInfo("u32")),s.type.name==="u32"||s.type.name==="i32"||s.type.name==="f32"||s.type.name==="f16"?t.setVariable(r,new Ve(i,s.type)):s.type.name==="bool"?t.setVariable(r,new Ve(i?1:0,s.type)):s.type.name==="vec2"||s.type.name==="vec3"||s.type.name==="vec4"||s.type.name==="vec2f"||s.type.name==="vec3f"||s.type.name==="vec4f"||s.type.name==="vec2i"||s.type.name==="vec3i"||s.type.name==="vec4i"||s.type.name==="vec2u"||s.type.name==="vec3u"||s.type.name==="vec4u"||s.type.name==="vec2h"||s.type.name==="vec3h"||s.type.name==="vec4h"?t.setVariable(r,new Ie(i,s.type)):console.error(`Invalid constant type for ${r}`)):console.error(`Override ${r} does not exist in the shader.`)}}_dispatchWorkgroup(e,t,r){const i=[1,1,1];for(const A of e.node.attributes)if(A.name==="workgroup_size"){if(A.value.length>0){const u=r.getVariableValue(A.value[0]);i[0]=u instanceof Ve?u.value:parseInt(A.value[0])}if(A.value.length>1){const u=r.getVariableValue(A.value[1]);i[1]=u instanceof Ve?u.value:parseInt(A.value[1])}if(A.value.length>2){const u=r.getVariableValue(A.value[2]);i[2]=u instanceof Ve?u.value:parseInt(A.value[2])}}const s=this.getTypeInfo("vec3u"),a=this.getTypeInfo("u32");r.setVariable("@workgroup_size",new Ie(i,s));const o=i[0],l=i[1],c=i[2];for(let A=0,u=0;A<c;++A)for(let h=0;h<l;++h)for(let f=0;f<o;++f,++u){const d=[f,h,A],g=[f+t[0]*i[0],h+t[1]*i[1],A+t[2]*i[2]];r.setVariable("@local_invocation_id",new Ie(d,s)),r.setVariable("@global_invocation_id",new Ie(g,s)),r.setVariable("@local_invocation_index",new Ve(u,a)),this._dispatchExec(e,r)}}_dispatchExec(e,t){for(const r of e.node.args)for(const i of r.attributes)if(i.name==="builtin"){const s=`@${i.value}`,a=t.getVariable(s);a!==void 0&&t.variables.set(r.name,a)}this._execStatements(e.node.body,t)}getVariableName(e,t){for(;e instanceof $i;)e=e.right;return e instanceof ho?e.name:(console.error("Unknown variable type",e,"Line",e.line),null)}_execStatements(e,t){for(const r of e){if(r instanceof Array){const s=t.clone(),a=this._execStatements(r,s);if(a)return a;continue}const i=this.execStatement(r,t);if(i)return i}return null}_call(e,t){const r=t.clone();r.currentFunctionName=e.name;const i=t.getFunction(e.name);if(i){for(let s=0;s<i.node.args.length;++s){const a=i.node.args[s],o=this.evalExpression(e.args[s],r);r.setVariable(a.name,o,a)}this._execStatements(i.node.body,r)}else e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)&&this._evalCreate(e,t)}_increment(e,t){const r=this.getVariableName(e.variable,t),i=t.getVariable(r);i?e.operator==="++"?i.value instanceof Ve?i.value.value++:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):e.operator==="--"?i.value instanceof Ve?i.value.value--:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):console.error(`Unknown increment operator ${e.operator}. Line ${e.line}`):console.error(`Variable ${r} not found. Line ${e.line}`)}_getVariableData(e,t){if(e instanceof ho){const r=this.getVariableName(e,t),i=t.getVariable(r);return i===null?(console.error(`Variable ${r} not found. Line ${e.line}`),null):i.value.getSubData(this,e.postfix,t)}if(e instanceof $i){if(e.operator==="*"){const r=this._getVariableData(e.right,t);return r instanceof Df?r.reference.getSubData(this,e.postfix,t):(console.error(`Variable ${e.right} is not a pointer. Line ${e.line}`),null)}if(e.operator==="&"){const r=this._getVariableData(e.right,t);return new Df(r)}}return null}_assign(e,t){let r=null,i="<var>",s=null;if(e.variable instanceof $i){const l=this._getVariableData(e.variable,t),c=this.evalExpression(e.value,t),A=e.operator;if(A==="="){if(l instanceof Ve||l instanceof Ie||l instanceof bn){if(c instanceof Ve||c instanceof Ie||c instanceof bn&&l.data.length===c.data.length)return void l.data.set(c.data);console.error(`Invalid assignment. Line ${e.line}`)}else if(l instanceof bi&&c instanceof bi&&l.buffer.byteLength-l.offset>=c.buffer.byteLength-c.offset)return void(l.buffer.byteLength%4==0?new Uint32Array(l.buffer,l.offset,l.typeInfo.size/4).set(new Uint32Array(c.buffer,c.offset,c.typeInfo.size/4)):new Uint8Array(l.buffer,l.offset,l.typeInfo.size).set(new Uint8Array(c.buffer,c.offset,c.typeInfo.size)));return console.error(`Invalid assignment. Line ${e.line}`),null}if(A==="+=")return l instanceof Ve||l instanceof Ie||l instanceof bn?c instanceof Ve||c instanceof Ie||c instanceof bn?void l.data.set(c.data.map((u,h)=>l.data[h]+u)):void console.error(`Invalid assignment . Line ${e.line}`):void console.error(`Invalid assignment. Line ${e.line}`);if(A==="-=")return(l instanceof Ve||l instanceof Ie||l instanceof bn)&&(c instanceof Ve||c instanceof Ie||c instanceof bn)?void l.data.set(c.data.map((u,h)=>l.data[h]-u)):void console.error(`Invalid assignment. Line ${e.line}`)}if(e.variable instanceof $i){if(e.variable.operator==="*"){i=this.getVariableName(e.variable.right,t);const l=t.getVariable(i);if(!(l&&l.value instanceof Df))return void console.error(`Variable ${i} is not a pointer. Line ${e.line}`);r=l.value.reference;let c=e.variable.postfix;if(!c){let A=e.variable.right;for(;A instanceof $i;){if(A.postfix){c=A.postfix;break}A=A.right}}c&&(r=r.getSubData(this,c,t))}}else{s=e.variable.postfix,i=this.getVariableName(e.variable,t);const l=t.getVariable(i);if(l===null)return void console.error(`Variable ${i} not found. Line ${e.line}`);r=l.value}if(r instanceof Df&&(r=r.reference),r===null)return void console.error(`Variable ${i} not found. Line ${e.line}`);const a=this.evalExpression(e.value,t),o=e.operator;if(o!=="="){const l=r.getSubData(this,s,t);if(l instanceof Ie&&a instanceof Ve){const c=l.data,A=a.value;if(o==="+=")for(let u=0;u<c.length;++u)c[u]+=A;else if(o==="-=")for(let u=0;u<c.length;++u)c[u]-=A;else if(o==="*=")for(let u=0;u<c.length;++u)c[u]*=A;else if(o==="/=")for(let u=0;u<c.length;++u)c[u]/=A;else if(o==="%=")for(let u=0;u<c.length;++u)c[u]%=A;else if(o==="&=")for(let u=0;u<c.length;++u)c[u]&=A;else if(o==="|=")for(let u=0;u<c.length;++u)c[u]|=A;else if(o==="^=")for(let u=0;u<c.length;++u)c[u]^=A;else if(o==="<<=")for(let u=0;u<c.length;++u)c[u]<<=A;else if(o===">>=")for(let u=0;u<c.length;++u)c[u]>>=A;else console.error(`Invalid operator ${o}. Line ${e.line}`)}else if(l instanceof Ie&&a instanceof Ie){const c=l.data,A=a.data;if(c.length!==A.length)return void console.error(`Vector length mismatch. Line ${e.line}`);if(o==="+=")for(let u=0;u<c.length;++u)c[u]+=A[u];else if(o==="-=")for(let u=0;u<c.length;++u)c[u]-=A[u];else if(o==="*=")for(let u=0;u<c.length;++u)c[u]*=A[u];else if(o==="/=")for(let u=0;u<c.length;++u)c[u]/=A[u];else if(o==="%=")for(let u=0;u<c.length;++u)c[u]%=A[u];else if(o==="&=")for(let u=0;u<c.length;++u)c[u]&=A[u];else if(o==="|=")for(let u=0;u<c.length;++u)c[u]|=A[u];else if(o==="^=")for(let u=0;u<c.length;++u)c[u]^=A[u];else if(o==="<<=")for(let u=0;u<c.length;++u)c[u]<<=A[u];else if(o===">>=")for(let u=0;u<c.length;++u)c[u]>>=A[u];else console.error(`Invalid operator ${o}. Line ${e.line}`)}else{if(!(l instanceof Ve&&a instanceof Ve))return void console.error(`Invalid type for ${e.operator} operator. Line ${e.line}`);o==="+="?l.value+=a.value:o==="-="?l.value-=a.value:o==="*="?l.value*=a.value:o==="/="?l.value/=a.value:o==="%="?l.value%=a.value:o==="&="?l.value&=a.value:o==="|="?l.value|=a.value:o==="^="?l.value^=a.value:o==="<<="?l.value<<=a.value:o===">>="?l.value>>=a.value:console.error(`Invalid operator ${o}. Line ${e.line}`)}return void(r instanceof bi&&r.setDataValue(this,l,s,t))}if(r instanceof bi)r.setDataValue(this,a,s,t);else if(s){if(!(r instanceof Ie||r instanceof bn))return void console.error(`Variable ${i} is not a vector or matrix. Line ${e.line}`);if(s instanceof gd){const l=this.evalExpression(s.index,t).value;if(r instanceof Ie){if(!(a instanceof Ve))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[l]=a.value}else{if(!(r instanceof bn))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);{const c=this.evalExpression(s.index,t).value;if(c<0)return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);if(!(a instanceof Ie))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);{const A=r.typeInfo.getTypeName();if(A==="mat2x2"||A==="mat2x2f"||A==="mat2x2h"){if(!(c<2&&a.data.length===2))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[2*c]=a.data[0],r.data[2*c+1]=a.data[1]}else if(A==="mat2x3"||A==="mat2x3f"||A==="mat2x3h"){if(!(c<2&&a.data.length===3))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[3*c]=a.data[0],r.data[3*c+1]=a.data[1],r.data[3*c+2]=a.data[2]}else if(A==="mat2x4"||A==="mat2x4f"||A==="mat2x4h"){if(!(c<2&&a.data.length===4))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[4*c]=a.data[0],r.data[4*c+1]=a.data[1],r.data[4*c+2]=a.data[2],r.data[4*c+3]=a.data[3]}else if(A==="mat3x2"||A==="mat3x2f"||A==="mat3x2h"){if(!(c<3&&a.data.length===2))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[2*c]=a.data[0],r.data[2*c+1]=a.data[1]}else if(A==="mat3x3"||A==="mat3x3f"||A==="mat3x3h"){if(!(c<3&&a.data.length===3))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[3*c]=a.data[0],r.data[3*c+1]=a.data[1],r.data[3*c+2]=a.data[2]}else if(A==="mat3x4"||A==="mat3x4f"||A==="mat3x4h"){if(!(c<3&&a.data.length===4))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[4*c]=a.data[0],r.data[4*c+1]=a.data[1],r.data[4*c+2]=a.data[2],r.data[4*c+3]=a.data[3]}else if(A==="mat4x2"||A==="mat4x2f"||A==="mat4x2h"){if(!(c<4&&a.data.length===2))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[2*c]=a.data[0],r.data[2*c+1]=a.data[1]}else if(A==="mat4x3"||A==="mat4x3f"||A==="mat4x3h"){if(!(c<4&&a.data.length===3))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[3*c]=a.data[0],r.data[3*c+1]=a.data[1],r.data[3*c+2]=a.data[2]}else{if(A!=="mat4x4"&&A!=="mat4x4f"&&A!=="mat4x4h")return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);if(!(c<4&&a.data.length===4))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[4*c]=a.data[0],r.data[4*c+1]=a.data[1],r.data[4*c+2]=a.data[2],r.data[4*c+3]=a.data[3]}}}}}else if(s instanceof Y1){const l=s.value;if(!(r instanceof Ie))return void console.error(`Invalid assignment to ${l}. Variable ${i} is not a vector. Line ${e.line}`);if(a instanceof Ve){if(l.length>1)return void console.error(`Invalid assignment to ${l} for variable ${i}. Line ${e.line}`);if(l==="x")r.data[0]=a.value;else if(l==="y"){if(r.data.length<2)return void console.error(`Invalid assignment to ${l} for variable ${i}. Line ${e.line}`);r.data[1]=a.value}else if(l==="z"){if(r.data.length<3)return void console.error(`Invalid assignment to ${l} for variable ${i}. Line ${e.line}`);r.data[2]=a.value}else if(l==="w"){if(r.data.length<4)return void console.error(`Invalid assignment to ${l} for variable ${i}. Line ${e.line}`);r.data[3]=a.value}}else{if(!(a instanceof Ie))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);if(l.length!==a.data.length)return void console.error(`Invalid assignment to ${l} for variable ${i}. Line ${e.line}`);for(let c=0;c<l.length;++c){const A=l[c];if(A==="x"||A==="r")r.data[0]=a.data[c];else if(A==="y"||A==="g"){if(a.data.length<2)return void console.error(`Invalid assignment to ${A} for variable ${i}. Line ${e.line}`);r.data[1]=a.data[c]}else if(A==="z"||A==="b"){if(a.data.length<3)return void console.error(`Invalid assignment to ${A} for variable ${i}. Line ${e.line}`);r.data[2]=a.data[c]}else{if(A!=="w"&&A!=="a")return void console.error(`Invalid assignment to ${A} for variable ${i}. Line ${e.line}`);if(a.data.length<4)return void console.error(`Invalid assignment to ${A} for variable ${i}. Line ${e.line}`);r.data[3]=a.data[c]}}}}}else r instanceof Ve&&a instanceof Ve?r.value=a.value:r instanceof Ie&&a instanceof Ie||r instanceof bn&&a instanceof bn?r.data.set(a.data):console.error(`Invalid assignment to ${i}. Line ${e.line}`)}_function(e,t){const r=new CR(e);t.functions.set(e.name,r)}_const(e,t){let r=null;e.value!==null&&(r=this.evalExpression(e.value,t)),t.createVariable(e.name,r,e)}_let(e,t){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,t),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof $i||(r=r.clone())}else{const i=e.type.name;if(i==="f32"||i==="i32"||i==="u32"||i==="bool"||i==="f16"||i==="vec2"||i==="vec3"||i==="vec4"||i==="vec2f"||i==="vec3f"||i==="vec4f"||i==="vec2i"||i==="vec3i"||i==="vec4i"||i==="vec2u"||i==="vec3u"||i==="vec4u"||i==="vec2h"||i==="vec3h"||i==="vec4h"||i==="vec2b"||i==="vec3b"||i==="vec4b"||i==="mat2x2"||i==="mat2x3"||i==="mat2x4"||i==="mat3x2"||i==="mat3x3"||i==="mat3x4"||i==="mat4x2"||i==="mat4x3"||i==="mat4x4"||i==="mat2x2f"||i==="mat2x3f"||i==="mat2x4f"||i==="mat3x2f"||i==="mat3x3f"||i==="mat3x4f"||i==="mat4x2f"||i==="mat4x3f"||i==="mat4x4f"||i==="mat2x2h"||i==="mat2x3h"||i==="mat2x4h"||i==="mat3x2h"||i==="mat3x3h"||i==="mat3x4h"||i==="mat4x2h"||i==="mat4x3h"||i==="mat4x4h"||i==="array"){const s=new _c(e.type,[]);r=this._evalCreate(s,t)}}t.createVariable(e.name,r,e)}_var(e,t){let r=null;if(e.value!==null){if(r=this.evalExpression(e.value,t),r===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof $i||(r=r.clone())}else{if(e.type===null)return void console.error(`Variable ${e.name} has no type. Line ${e.line}`);const i=e.type.name;if(i==="f32"||i==="i32"||i==="u32"||i==="bool"||i==="f16"||i==="vec2"||i==="vec3"||i==="vec4"||i==="vec2f"||i==="vec3f"||i==="vec4f"||i==="vec2i"||i==="vec3i"||i==="vec4i"||i==="vec2u"||i==="vec3u"||i==="vec4u"||i==="vec2h"||i==="vec3h"||i==="vec4h"||i==="vec2b"||i==="vec3b"||i==="vec4b"||i==="mat2x2"||i==="mat2x3"||i==="mat2x4"||i==="mat3x2"||i==="mat3x3"||i==="mat3x4"||i==="mat4x2"||i==="mat4x3"||i==="mat4x4"||i==="mat2x2f"||i==="mat2x3f"||i==="mat2x4f"||i==="mat3x2f"||i==="mat3x3f"||i==="mat3x4f"||i==="mat4x2f"||i==="mat4x3f"||i==="mat4x4f"||i==="mat2x2h"||i==="mat2x3h"||i==="mat2x4h"||i==="mat3x2h"||i==="mat3x3h"||i==="mat3x4h"||i==="mat4x2h"||i==="mat4x3h"||i==="mat4x4h"||e.type instanceof $g||e.type instanceof m0||e.type instanceof qe){const s=new _c(e.type,[]);r=this._evalCreate(s,t)}}t.createVariable(e.name,r,e)}_switch(e,t){t=t.clone();const r=this.evalExpression(e.condition,t);if(!(r instanceof Ve))return console.error(`Invalid if condition. Line ${e.line}`),null;let i=null;for(const s of e.cases)if(s instanceof LQ)for(const a of s.selectors){if(a instanceof xm){i=s;continue}const o=this.evalExpression(a,t);if(!(o instanceof Ve))return console.error(`Invalid case selector. Line ${e.line}`),null;if(o.value===r.value)return this._execStatements(s.body,t)}else s instanceof xQ&&(i=s);return i?this._execStatements(i.body,t):null}_if(e,t){t=t.clone();const r=this.evalExpression(e.condition,t);if(!(r instanceof Ve))return console.error(`Invalid if condition. Line ${e.line}`),null;if(r.value)return this._execStatements(e.body,t);for(const i of e.elseif){const s=this.evalExpression(i.condition,t);if(!(s instanceof Ve))return console.error(`Invalid if condition. Line ${e.line}`),null;if(s.value)return this._execStatements(i.body,t)}return e.else?this._execStatements(e.else,t):null}_getScalarValue(e){return e instanceof Ve?e.value:(console.error("Expected scalar value.",e),0)}_for(e,t){for(t=t.clone(),this.execStatement(e.init,t);this._getScalarValue(this.evalExpression(e.condition,t));){const r=this._execStatements(e.body,t);if(r===qs._breakObj)break;if(r!==null&&r!==qs._continueObj)return r;this.execStatement(e.increment,t)}return null}_loop(e,t){for(t=t.clone();;){const r=this._execStatements(e.body,t);if(r===qs._breakObj)break;if(r===qs._continueObj){if(e.continuing&&this._execStatements(e.continuing.body,t)===qs._breakObj)break}else if(r!==null)return r}return null}_while(e,t){for(t=t.clone();this._getScalarValue(this.evalExpression(e.condition,t));){const r=this._execStatements(e.body,t);if(r===qs._breakObj)break;if(r!==qs._continueObj&&r!==null)return r}return null}_evalBitcast(e,t){const r=this.evalExpression(e.value,t),i=e.type;if(r instanceof Ve){const s=nS(r.value,r.typeInfo.name,i.name);return new Ve(s,this.getTypeInfo(i))}if(r instanceof Ie){const s=r.typeInfo.getTypeName();let a="";if(s.endsWith("f"))a="f32";else if(s.endsWith("i"))a="i32";else if(s.endsWith("u"))a="u32";else if(s.endsWith("b"))a="bool";else{if(!s.endsWith("h"))return console.error(`Unknown vector type ${s}. Line ${e.line}`),null;a="f16"}const o=i.getTypeName();let l="";if(o.endsWith("f"))l="f32";else if(o.endsWith("i"))l="i32";else if(o.endsWith("u"))l="u32";else if(o.endsWith("b"))l="bool";else{if(!o.endsWith("h"))return console.error(`Unknown vector type ${l}. Line ${e.line}`),null;l="f16"}const c=function(A,u,h){if(u===h)return A;const f=new Array(A.length);for(let d=0;d<A.length;d++)f[d]=nS(A[d],u,h);return f}(Array.from(r.data),a,l);return new Ie(c,this.getTypeInfo(i))}return console.error(`TODO: bitcast for ${r.typeInfo.name}. Line ${e.line}`),null}_evalConst(e,t){return t.getVariableValue(e.name).clone().getSubData(this,e.postfix,t)}_evalCreate(e,t){var r;if(e instanceof _c){if(e.type===null)return R9.void;switch(e.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue(e,t);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec(e,t);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix(e,t)}}const i=e instanceof _c?e.type.name:e.name,s=e instanceof _c?this.getTypeInfo(e.type):this.getTypeInfo(e.name);if(s===null)return console.error(`Unknown type ${i}. Line ${e.line}`),null;if(s.size===0)return null;const a=new bi(new ArrayBuffer(s.size),s,0);if(s instanceof DA){if(e.args)for(let o=0;o<e.args.length;++o){const l=s.members[o],c=e.args[o],A=this.evalExpression(c,t);a.setData(this,A,l.type,l.offset,t)}}else if(s instanceof WA){let o=0;if(e.args)for(let l=0;l<e.args.length;++l){const c=e.args[l],A=this.evalExpression(c,t);s.format===null&&(((r=A.typeInfo)===null||r===void 0?void 0:r.name)==="x32"?s.format=this.getTypeInfo("i32"):s.format=A.typeInfo),a.setData(this,A,s.format,o,t),o+=s.stride}}else console.error(`Unknown type "${i}". Line ${e.line}`);return e instanceof _c?a.getSubData(this,e.postfix,t):a}_evalLiteral(e,t){const r=this.getTypeInfo(e.type),i=r.name;return i==="x32"||i==="u32"||i==="f32"||i==="f16"||i==="i32"||i==="bool"?new Ve(e.scalarValue,r):i==="vec2"||i==="vec3"||i==="vec4"||i==="vec2f"||i==="vec3f"||i==="vec4f"||i==="vec2h"||i==="vec3h"||i==="vec4h"||i==="vec2i"||i==="vec3i"||i==="vec4i"||i==="vec2u"||i==="vec3u"||i==="vec4u"?this._callConstructorVec(e,t):i==="mat2x2"||i==="mat2x3"||i==="mat2x4"||i==="mat3x2"||i==="mat3x3"||i==="mat3x4"||i==="mat4x2"||i==="mat4x3"||i==="mat4x4"||i==="mat2x2f"||i==="mat2x3f"||i==="mat2x4f"||i==="mat3x2f"||i==="mat3x3f"||i==="mat3x4f"||i==="mat4x2f"||i==="mat4x3f"||i==="mat4x4f"||i==="mat2x2h"||i==="mat2x3h"||i==="mat2x4h"||i==="mat3x2h"||i==="mat3x3h"||i==="mat3x4h"||i==="mat4x2h"||i==="mat4x3h"||i==="mat4x4h"?this._callConstructorMatrix(e,t):e.value}_evalVariable(e,t){const r=t.getVariableValue(e.name);return r===null?r:r.getSubData(this,e.postfix,t)}_maxFormatTypeInfo(e){let t=e[0];if(t.name==="f32")return t;for(let r=1;r<e.length;++r){const i=qs._priority.get(t.name);qs._priority.get(e[r].name)<i&&(t=e[r])}return t.name==="x32"?this.getTypeInfo("i32"):t}_evalUnaryOp(e,t){const r=this.evalExpression(e.right,t);if(e.operator==="&")return new Df(r);if(e.operator==="*")return r instanceof Df?r.reference.getSubData(this,e.postfix,t):(console.error(`Invalid dereference. Line ${e.line}`),null);const i=r instanceof Ve?r.value:r instanceof Ie?Array.from(r.data):null;switch(e.operator){case"+":{if(jt(i)){const o=i.map((l,c)=>+l);return new Ie(o,r.typeInfo)}const s=i,a=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new Ve(+s,a)}case"-":{if(jt(i)){const o=i.map((l,c)=>-l);return new Ie(o,r.typeInfo)}const s=i,a=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new Ve(-s,a)}case"!":{if(jt(i)){const o=i.map((l,c)=>l?0:1);return new Ie(o,r.typeInfo)}const s=i,a=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new Ve(s?0:1,a)}case"~":{if(jt(i)){const o=i.map((l,c)=>~l);return new Ie(o,r.typeInfo)}const s=i,a=this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]);return new Ve(~s,a)}}return console.error(`Invalid unary operator ${e.operator}. Line ${e.line}`),null}_evalBinaryOp(e,t){const r=this.evalExpression(e.left,t),i=this.evalExpression(e.right,t),s=r instanceof Ve?r.value:r instanceof Ie||r instanceof bn?Array.from(r.data):null,a=i instanceof Ve?i.value:i instanceof Ie||i instanceof bn?Array.from(i.data):null;switch(e.operator){case"+":{if(jt(s)&&jt(a)){const A=s,u=a;if(A.length!==u.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=A.map((f,d)=>f+u[d]);return new Ie(h,r.typeInfo)}if(jt(s)){const A=a,u=s.map((h,f)=>h+A);return new Ie(u,r.typeInfo)}if(jt(a)){const A=s,u=a.map((h,f)=>A+h);return new Ie(u,i.typeInfo)}const o=s,l=a,c=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new Ve(o+l,c)}case"-":{if(jt(s)&&jt(a)){const A=s,u=a;if(A.length!==u.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=A.map((f,d)=>f-u[d]);return new Ie(h,r.typeInfo)}if(jt(s)){const A=a,u=s.map((h,f)=>h-A);return new Ie(u,r.typeInfo)}if(jt(a)){const A=s,u=a.map((h,f)=>A-h);return new Ie(u,i.typeInfo)}const o=s,l=a,c=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new Ve(o-l,c)}case"*":{if(jt(s)&&jt(a)){const A=s,u=a;if(r instanceof bn&&i instanceof bn){const h=function(_,m,y,b){if(ua[m.name]===void 0||ua[b.name]===void 0)return null;const v=ua[m.name][0],B=ua[m.name][1],C=ua[b.name][0];if(v!==ua[b.name][1])return null;const I=new Array(C*B);for(let R=0;R<B;R++)for(let w=0;w<C;w++){let U=0;for(let M=0;M<v;M++)U+=_[M*B+R]*y[w*v+M];I[R*C+w]=U}return I}(A,r.typeInfo,u,i.typeInfo);if(h===null)return console.error(`Matrix multiplication failed. Line ${e.line}.`),null;const f=ua[i.typeInfo.name][0],d=ua[r.typeInfo.name][1],g=this.getTypeInfo(`mat${f}x${d}f`);return new bn(h,g)}if(r instanceof bn&&i instanceof Ie){const h=function(f,d,g,_){if(ua[d.name]===void 0||s8[_.name]===void 0)return null;const m=ua[d.name][0],y=ua[d.name][1];if(m!==g.length)return null;const b=new Array(y);for(let v=0;v<y;v++){let B=0;for(let C=0;C<m;C++)B+=f[C*y+v]*g[C];b[v]=B}return b}(A,r.typeInfo,u,i.typeInfo);return h===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new Ie(h,i.typeInfo)}if(r instanceof Ie&&i instanceof bn){const h=function(f,d,g,_){if(s8[d.name]===void 0||ua[_.name]===void 0)return null;const m=ua[_.name][0],y=ua[_.name][1];if(y!==f.length)return null;const b=[];for(let v=0;v<m;v++){let B=0;for(let C=0;C<y;C++)B+=f[C]*g[C*m+v];b[v]=B}return b}(A,r.typeInfo,u,i.typeInfo);return h===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new Ie(h,r.typeInfo)}{if(A.length!==u.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=A.map((f,d)=>f*u[d]);return new Ie(h,r.typeInfo)}}if(jt(s)){const A=a,u=s.map((h,f)=>h*A);return r instanceof bn?new bn(u,r.typeInfo):new Ie(u,r.typeInfo)}if(jt(a)){const A=s,u=a.map((h,f)=>A*h);return i instanceof bn?new bn(u,i.typeInfo):new Ie(u,i.typeInfo)}const o=s,l=a,c=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new Ve(o*l,c)}case"%":{if(jt(s)&&jt(a)){const A=s,u=a;if(A.length!==u.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=A.map((f,d)=>f%u[d]);return new Ie(h,r.typeInfo)}if(jt(s)){const A=a,u=s.map((h,f)=>h%A);return new Ie(u,r.typeInfo)}if(jt(a)){const A=s,u=a.map((h,f)=>A%h);return new Ie(u,i.typeInfo)}const o=s,l=a,c=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new Ve(o%l,c)}case"/":{if(jt(s)&&jt(a)){const A=s,u=a;if(A.length!==u.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=A.map((f,d)=>f/u[d]);return new Ie(h,r.typeInfo)}if(jt(s)){const A=a,u=s.map((h,f)=>h/A);return new Ie(u,r.typeInfo)}if(jt(a)){const A=s,u=a.map((h,f)=>A/h);return new Ie(u,i.typeInfo)}const o=s,l=a,c=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new Ve(o/l,c)}case"&":{if(jt(s)&&jt(a)){const A=s,u=a;if(A.length!==u.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=A.map((f,d)=>f&u[d]);return new Ie(h,r.typeInfo)}if(jt(s)){const A=a,u=s.map((h,f)=>h&A);return new Ie(u,r.typeInfo)}if(jt(a)){const A=s,u=a.map((h,f)=>A&h);return new Ie(u,i.typeInfo)}const o=s,l=a,c=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new Ve(o&l,c)}case"|":{if(jt(s)&&jt(a)){const A=s,u=a;if(A.length!==u.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=A.map((f,d)=>f|u[d]);return new Ie(h,r.typeInfo)}if(jt(s)){const A=a,u=s.map((h,f)=>h|A);return new Ie(u,r.typeInfo)}if(jt(a)){const A=s,u=a.map((h,f)=>A|h);return new Ie(u,i.typeInfo)}const o=s,l=a,c=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new Ve(o|l,c)}case"^":{if(jt(s)&&jt(a)){const A=s,u=a;if(A.length!==u.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=A.map((f,d)=>f^u[d]);return new Ie(h,r.typeInfo)}if(jt(s)){const A=a,u=s.map((h,f)=>h^A);return new Ie(u,r.typeInfo)}if(jt(a)){const A=s,u=a.map((h,f)=>A^h);return new Ie(u,i.typeInfo)}const o=s,l=a,c=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new Ve(o^l,c)}case"<<":{if(jt(s)&&jt(a)){const A=s,u=a;if(A.length!==u.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=A.map((f,d)=>f<<u[d]);return new Ie(h,r.typeInfo)}if(jt(s)){const A=a,u=s.map((h,f)=>h<<A);return new Ie(u,r.typeInfo)}if(jt(a)){const A=s,u=a.map((h,f)=>A<<h);return new Ie(u,i.typeInfo)}const o=s,l=a,c=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new Ve(o<<l,c)}case">>":{if(jt(s)&&jt(a)){const A=s,u=a;if(A.length!==u.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const h=A.map((f,d)=>f>>u[d]);return new Ie(h,r.typeInfo)}if(jt(s)){const A=a,u=s.map((h,f)=>h>>A);return new Ie(u,r.typeInfo)}if(jt(a)){const A=s,u=a.map((h,f)=>A>>h);return new Ie(u,i.typeInfo)}const o=s,l=a,c=this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]);return new Ve(o>>l,c)}case">":if(jt(s)&&jt(a)){const o=s,l=a;if(o.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=o.map((A,u)=>A>l[u]?1:0);return new Ie(c,r.typeInfo)}if(jt(s)){const o=a,l=s.map((c,A)=>c>o?1:0);return new Ie(l,r.typeInfo)}if(jt(a)){const o=s,l=a.map((c,A)=>o>c?1:0);return new Ie(l,i.typeInfo)}return new Ve(s>a?1:0,this.getTypeInfo("bool"));case"<":if(jt(s)&&jt(a)){const o=s,l=a;if(o.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=o.map((A,u)=>A<l[u]?1:0);return new Ie(c,r.typeInfo)}if(jt(s)){const o=a,l=s.map((c,A)=>c<o?1:0);return new Ie(l,r.typeInfo)}if(jt(a)){const o=s,l=a.map((c,A)=>o<c?1:0);return new Ie(l,i.typeInfo)}return new Ve(s<a?1:0,this.getTypeInfo("bool"));case"==":if(jt(s)&&jt(a)){const o=s,l=a;if(o.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=o.map((A,u)=>A===l[u]?1:0);return new Ie(c,r.typeInfo)}if(jt(s)){const o=a,l=s.map((c,A)=>c==o?1:0);return new Ie(l,r.typeInfo)}if(jt(a)){const o=s,l=a.map((c,A)=>o==c?1:0);return new Ie(l,i.typeInfo)}return new Ve(s===a?1:0,this.getTypeInfo("bool"));case"!=":if(jt(s)&&jt(a)){const o=s,l=a;if(o.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=o.map((A,u)=>A!==l[u]?1:0);return new Ie(c,r.typeInfo)}if(jt(s)){const o=a,l=s.map((c,A)=>c!==o?1:0);return new Ie(l,r.typeInfo)}if(jt(a)){const o=s,l=a.map((c,A)=>o!==c?1:0);return new Ie(l,i.typeInfo)}return new Ve(s!==a?1:0,this.getTypeInfo("bool"));case">=":if(jt(s)&&jt(a)){const o=s,l=a;if(o.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=o.map((A,u)=>A>=l[u]?1:0);return new Ie(c,r.typeInfo)}if(jt(s)){const o=a,l=s.map((c,A)=>c>=o?1:0);return new Ie(l,r.typeInfo)}if(jt(a)){const o=s,l=a.map((c,A)=>o>=c?1:0);return new Ie(l,i.typeInfo)}return new Ve(s>=a?1:0,this.getTypeInfo("bool"));case"<=":if(jt(s)&&jt(a)){const o=s,l=a;if(o.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=o.map((A,u)=>A<=l[u]?1:0);return new Ie(c,r.typeInfo)}if(jt(s)){const o=a,l=s.map((c,A)=>c<=o?1:0);return new Ie(l,r.typeInfo)}if(jt(a)){const o=s,l=a.map((c,A)=>o<=c?1:0);return new Ie(l,i.typeInfo)}return new Ve(s<=a?1:0,this.getTypeInfo("bool"));case"&&":if(jt(s)&&jt(a)){const o=s,l=a;if(o.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=o.map((A,u)=>A&&l[u]?1:0);return new Ie(c,r.typeInfo)}if(jt(s)){const o=a,l=s.map((c,A)=>c&&o?1:0);return new Ie(l,r.typeInfo)}if(jt(a)){const o=s,l=a.map((c,A)=>o&&c?1:0);return new Ie(l,i.typeInfo)}return new Ve(s&&a?1:0,this.getTypeInfo("bool"));case"||":if(jt(s)&&jt(a)){const o=s,l=a;if(o.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=o.map((A,u)=>A||l[u]?1:0);return new Ie(c,r.typeInfo)}if(jt(s)){const o=a,l=s.map((c,A)=>c||o?1:0);return new Ie(l,r.typeInfo)}if(jt(a)){const o=s,l=a.map((c,A)=>o||c?1:0);return new Ie(l,i.typeInfo)}return new Ve(s||a?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${e.operator}. Line ${e.line}`),null}_evalCall(e,t){if(e.cachedReturnValue!==null)return e.cachedReturnValue;const r=t.clone();r.currentFunctionName=e.name;const i=t.getFunction(e.name);if(!i)return e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)?this._evalCreate(e,t):(console.error(`Unknown function "${e.name}". Line ${e.line}`),null);for(let s=0;s<i.node.args.length;++s){const a=i.node.args[s],o=this.evalExpression(e.args[s],r);r.createVariable(a.name,o,a)}return this._execStatements(i.node.body,r)}_callBuiltinFunction(e,t){switch(e.name){case"all":return this.builtins.All(e,t);case"any":return this.builtins.Any(e,t);case"select":return this.builtins.Select(e,t);case"arrayLength":return this.builtins.ArrayLength(e,t);case"abs":return this.builtins.Abs(e,t);case"acos":return this.builtins.Acos(e,t);case"acosh":return this.builtins.Acosh(e,t);case"asin":return this.builtins.Asin(e,t);case"asinh":return this.builtins.Asinh(e,t);case"atan":return this.builtins.Atan(e,t);case"atanh":return this.builtins.Atanh(e,t);case"atan2":return this.builtins.Atan2(e,t);case"ceil":return this.builtins.Ceil(e,t);case"clamp":return this.builtins.Clamp(e,t);case"cos":return this.builtins.Cos(e,t);case"cosh":return this.builtins.Cosh(e,t);case"countLeadingZeros":return this.builtins.CountLeadingZeros(e,t);case"countOneBits":return this.builtins.CountOneBits(e,t);case"countTrailingZeros":return this.builtins.CountTrailingZeros(e,t);case"cross":return this.builtins.Cross(e,t);case"degrees":return this.builtins.Degrees(e,t);case"determinant":return this.builtins.Determinant(e,t);case"distance":return this.builtins.Distance(e,t);case"dot":return this.builtins.Dot(e,t);case"dot4U8Packed":return this.builtins.Dot4U8Packed(e,t);case"dot4I8Packed":return this.builtins.Dot4I8Packed(e,t);case"exp":return this.builtins.Exp(e,t);case"exp2":return this.builtins.Exp2(e,t);case"extractBits":return this.builtins.ExtractBits(e,t);case"faceForward":return this.builtins.FaceForward(e,t);case"firstLeadingBit":return this.builtins.FirstLeadingBit(e,t);case"firstTrailingBit":return this.builtins.FirstTrailingBit(e,t);case"floor":return this.builtins.Floor(e,t);case"fma":return this.builtins.Fma(e,t);case"fract":return this.builtins.Fract(e,t);case"frexp":return this.builtins.Frexp(e,t);case"insertBits":return this.builtins.InsertBits(e,t);case"inverseSqrt":return this.builtins.InverseSqrt(e,t);case"ldexp":return this.builtins.Ldexp(e,t);case"length":return this.builtins.Length(e,t);case"log":return this.builtins.Log(e,t);case"log2":return this.builtins.Log2(e,t);case"max":return this.builtins.Max(e,t);case"min":return this.builtins.Min(e,t);case"mix":return this.builtins.Mix(e,t);case"modf":return this.builtins.Modf(e,t);case"normalize":return this.builtins.Normalize(e,t);case"pow":return this.builtins.Pow(e,t);case"quantizeToF16":return this.builtins.QuantizeToF16(e,t);case"radians":return this.builtins.Radians(e,t);case"reflect":return this.builtins.Reflect(e,t);case"refract":return this.builtins.Refract(e,t);case"reverseBits":return this.builtins.ReverseBits(e,t);case"round":return this.builtins.Round(e,t);case"saturate":return this.builtins.Saturate(e,t);case"sign":return this.builtins.Sign(e,t);case"sin":return this.builtins.Sin(e,t);case"sinh":return this.builtins.Sinh(e,t);case"smoothstep":return this.builtins.SmoothStep(e,t);case"sqrt":return this.builtins.Sqrt(e,t);case"step":return this.builtins.Step(e,t);case"tan":return this.builtins.Tan(e,t);case"tanh":return this.builtins.Tanh(e,t);case"transpose":return this.builtins.Transpose(e,t);case"trunc":return this.builtins.Trunc(e,t);case"dpdx":return this.builtins.Dpdx(e,t);case"dpdxCoarse":return this.builtins.DpdxCoarse(e,t);case"dpdxFine":return this.builtins.DpdxFine(e,t);case"dpdy":return this.builtins.Dpdy(e,t);case"dpdyCoarse":return this.builtins.DpdyCoarse(e,t);case"dpdyFine":return this.builtins.DpdyFine(e,t);case"fwidth":return this.builtins.Fwidth(e,t);case"fwidthCoarse":return this.builtins.FwidthCoarse(e,t);case"fwidthFine":return this.builtins.FwidthFine(e,t);case"textureDimensions":return this.builtins.TextureDimensions(e,t);case"textureGather":return this.builtins.TextureGather(e,t);case"textureGatherCompare":return this.builtins.TextureGatherCompare(e,t);case"textureLoad":return this.builtins.TextureLoad(e,t);case"textureNumLayers":return this.builtins.TextureNumLayers(e,t);case"textureNumLevels":return this.builtins.TextureNumLevels(e,t);case"textureNumSamples":return this.builtins.TextureNumSamples(e,t);case"textureSample":return this.builtins.TextureSample(e,t);case"textureSampleBias":return this.builtins.TextureSampleBias(e,t);case"textureSampleCompare":return this.builtins.TextureSampleCompare(e,t);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel(e,t);case"textureSampleGrad":return this.builtins.TextureSampleGrad(e,t);case"textureSampleLevel":return this.builtins.TextureSampleLevel(e,t);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge(e,t);case"textureStore":return this.builtins.TextureStore(e,t);case"atomicLoad":return this.builtins.AtomicLoad(e,t);case"atomicStore":return this.builtins.AtomicStore(e,t);case"atomicAdd":return this.builtins.AtomicAdd(e,t);case"atomicSub":return this.builtins.AtomicSub(e,t);case"atomicMax":return this.builtins.AtomicMax(e,t);case"atomicMin":return this.builtins.AtomicMin(e,t);case"atomicAnd":return this.builtins.AtomicAnd(e,t);case"atomicOr":return this.builtins.AtomicOr(e,t);case"atomicXor":return this.builtins.AtomicXor(e,t);case"atomicExchange":return this.builtins.AtomicExchange(e,t);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak(e,t);case"pack4x8snorm":return this.builtins.Pack4x8snorm(e,t);case"pack4x8unorm":return this.builtins.Pack4x8unorm(e,t);case"pack4xI8":return this.builtins.Pack4xI8(e,t);case"pack4xU8":return this.builtins.Pack4xU8(e,t);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp(e,t);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp(e,t);case"pack2x16snorm":return this.builtins.Pack2x16snorm(e,t);case"pack2x16unorm":return this.builtins.Pack2x16unorm(e,t);case"pack2x16float":return this.builtins.Pack2x16float(e,t);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm(e,t);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm(e,t);case"unpack4xI8":return this.builtins.Unpack4xI8(e,t);case"unpack4xU8":return this.builtins.Unpack4xU8(e,t);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm(e,t);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm(e,t);case"unpack2x16float":return this.builtins.Unpack2x16float(e,t);case"storageBarrier":return this.builtins.StorageBarrier(e,t);case"textureBarrier":return this.builtins.TextureBarrier(e,t);case"workgroupBarrier":return this.builtins.WorkgroupBarrier(e,t);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad(e,t);case"subgroupAdd":return this.builtins.SubgroupAdd(e,t);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd(e,t);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd(e,t);case"subgroupAll":return this.builtins.SubgroupAll(e,t);case"subgroupAnd":return this.builtins.SubgroupAnd(e,t);case"subgroupAny":return this.builtins.SubgroupAny(e,t);case"subgroupBallot":return this.builtins.SubgroupBallot(e,t);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast(e,t);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst(e,t);case"subgroupElect":return this.builtins.SubgroupElect(e,t);case"subgroupMax":return this.builtins.SubgroupMax(e,t);case"subgroupMin":return this.builtins.SubgroupMin(e,t);case"subgroupMul":return this.builtins.SubgroupMul(e,t);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul(e,t);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul(e,t);case"subgroupOr":return this.builtins.SubgroupOr(e,t);case"subgroupShuffle":return this.builtins.SubgroupShuffle(e,t);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown(e,t);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp(e,t);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor(e,t);case"subgroupXor":return this.builtins.SubgroupXor(e,t);case"quadBroadcast":return this.builtins.QuadBroadcast(e,t);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal(e,t);case"quadSwapX":return this.builtins.QuadSwapX(e,t);case"quadSwapY":return this.builtins.QuadSwapY(e,t)}const r=t.getFunction(e.name);if(r){const i=t.clone();for(let s=0;s<r.node.args.length;++s){const a=r.node.args[s],o=this.evalExpression(e.args[s],i);i.setVariable(a.name,o,a)}return this._execStatements(r.node.body,i)}return null}_callConstructorValue(e,t){if(!e.args||e.args.length===0)return new Ve(0,this.getTypeInfo(e.type));const r=this.evalExpression(e.args[0],t);return r.typeInfo=this.getTypeInfo(e.type),r.getSubData(this,e.postfix,t).clone()}_callConstructorVec(e,t){const r=this.getTypeInfo(e.type),i=e.type.getTypeName(),s=s8[i];if(s===void 0)return console.error(`Invalid vec constructor ${i}. Line ${e.line}`),null;const a=[];if(e instanceof fs)if(e.isVector){const o=e.vectorValue;for(const l of o)a.push(l)}else a.push(e.scalarValue);else if(e.args)for(const o of e.args){const l=this.evalExpression(o,t);if(l instanceof Ie){const c=l.data;for(let A=0;A<c.length;++A){let u=c[A];a.push(u)}}else if(l instanceof Ve){let c=l.value;a.push(c)}}if(e.type instanceof qe&&e.type.format===null&&(e.type.format=qe.f32),a.length===0){const o=new Array(s).fill(0);return new Ie(o,r).getSubData(this,e.postfix,t)}if(a.length===1)for(;a.length<s;)a.push(a[0]);return a.length<s?(console.error(`Invalid vec constructor. Line ${e.line}`),null):new Ie(a.length>s?a.slice(0,s):a,r).getSubData(this,e.postfix,t)}_callConstructorMatrix(e,t){const r=this.getTypeInfo(e.type),i=e.type.getTypeName(),s=ua[i];if(s===void 0)return console.error(`Invalid matrix constructor ${i}. Line ${e.line}`),null;const a=[];if(e instanceof fs)if(e.isVector){const o=e.vectorValue;for(const l of o)a.push(l)}else a.push(e.scalarValue);else if(e.args)for(const o of e.args){const l=this.evalExpression(o,t);l instanceof Ie?a.push(...l.data):l instanceof Ve?a.push(l.value):l instanceof bn&&a.push(...l.data)}if(r instanceof j1&&r.format===null&&(r.format=this.getTypeInfo("f32")),a.length===0){const o=new Array(s[2]).fill(0);return new bn(o,r).getSubData(this,e.postfix,t)}return a.length!==s[2]?(console.error(`Invalid matrix constructor. Line ${e.line}`),null):new bn(a,r).getSubData(this,e.postfix,t)}}qs._breakObj=new al(new el("BREAK",null),null),qs._continueObj=new al(new el("CONTINUE",null),null),qs._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class ege{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class tge{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new ege,this._exec=new qs,this._forwardTypeCount=0}parse(e){this._initialize(e),this._deferArrayCountEval.length=0;const t=[];for(;!this._isAtEnd();){const r=this._global_decl_or_directive();if(!r)break;t.push(r)}if(this._deferArrayCountEval.length>0){for(const r of this._deferArrayCountEval){const i=r.arrayType,s=r.countNode;if(s instanceof ho){const a=s.name,o=this._context.constants.get(a);if(o)try{const l=o.constEvaluate(this._exec);i.count=l}catch{}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(const r of t)r.search(i=>{i instanceof eS||i instanceof Lm?i.type=this._forwardType(i.type):i instanceof $g?i.format=this._forwardType(i.format):i instanceof B0||i instanceof Kg||i instanceof wm?i.type=this._forwardType(i.type):i instanceof D3?i.returnType=this._forwardType(i.returnType):i instanceof ZM&&(i.type=this._forwardType(i.type))});return t}_forwardType(e){if(e instanceof JM){const t=this._getType(e.name);if(t)return t}else e instanceof Lm?e.type=this._forwardType(e.type):e instanceof $g&&(e.format=this._forwardType(e.format));return e}_initialize(e){if(e)if(typeof e=="string"){const t=new Y2e(e);this._tokens=t.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_updateNode(e,t){return e.line=t??this._currentLine,e}_error(e,t){return{token:e,message:t,toString:()=>`${t}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==ve.eof}_match(e){if(e instanceof We)return!!this._check(e)&&(this._advance(),!0);for(let t=0,r=e.length;t<r;++t){const i=e[t];if(this._check(i))return this._advance(),!0}return!1}_consume(e,t){if(this._check(e))return this._advance();throw this._error(this._peek(),`${t}. Line:${this._currentLine}`)}_check(e){if(this._isAtEnd())return!1;const t=this._peek();if(e instanceof Array){const r=t.type;let i=!1;for(const s of e){if(r===s)return!0;s===ve.tokens.name&&(i=!0)}if(i){const s=ve.tokens.name.rule.exec(t.lexeme);if(s&&s.index==0&&s[0]==t.lexeme)return!0}return!1}if(t.type===e)return!0;if(e===ve.tokens.name){const r=ve.tokens.name.rule.exec(t.lexeme);return r&&r.index==0&&r[0]==t.lexeme}return!1}_advance(){var e,t;return this._currentLine=(t=(e=this._peek())===null||e===void 0?void 0:e.line)!==null&&t!==void 0?t:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(ve.tokens.semicolon)&&!this._isAtEnd(););if(this._match(ve.keywords.alias)){const t=this._type_alias();return this._consume(ve.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([t]),t}if(this._match(ve.keywords.diagnostic)){const t=this._diagnostic();return this._consume(ve.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([t]),t}if(this._match(ve.keywords.requires)){const t=this._requires_directive();return this._consume(ve.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([t]),t}if(this._match(ve.keywords.enable)){const t=this._enable_directive();return this._consume(ve.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([t]),t}const e=this._attribute();if(this._check(ve.keywords.var)){const t=this._global_variable_decl();return t!=null&&(t.attributes=e),this._consume(ve.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([t]),t}if(this._check(ve.keywords.override)){const t=this._override_variable_decl();return t!=null&&(t.attributes=e),this._consume(ve.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([t]),t}if(this._check(ve.keywords.let)){const t=this._global_let_decl();return t!=null&&(t.attributes=e),this._consume(ve.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([t]),t}if(this._check(ve.keywords.const)){const t=this._global_const_decl();return t!=null&&(t.attributes=e),this._consume(ve.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([t]),t}if(this._check(ve.keywords.struct)){const t=this._struct_decl();return t!=null&&(t.attributes=e),this._exec.reflection.updateAST([t]),t}if(this._check(ve.keywords.fn)){const t=this._function_decl();return t!=null&&(t.attributes=e),this._exec.reflection.updateAST([t]),t}return null}_function_decl(){if(!this._match(ve.keywords.fn))return null;const e=this._currentLine,t=this._consume(ve.tokens.ident,"Expected function name.").toString();this._consume(ve.tokens.paren_left,"Expected '(' for function arguments.");const r=[];if(!this._check(ve.tokens.paren_right))do{if(this._check(ve.tokens.paren_right))break;const o=this._attribute(),l=this._consume(ve.tokens.name,"Expected argument name.").toString();this._consume(ve.tokens.colon,"Expected ':' for argument type.");const c=this._attribute(),A=this._type_decl();A!=null&&(A.attributes=c,r.push(this._updateNode(new ZM(l,A,o))))}while(this._match(ve.tokens.comma));this._consume(ve.tokens.paren_right,"Expected ')' after function arguments.");let i=null;if(this._match(ve.tokens.arrow)){const o=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=o)}const s=this._compound_statement(),a=this._currentLine;return this._updateNode(new D3(t,r,i,s,e,a),e)}_compound_statement(){const e=[];for(this._consume(ve.tokens.brace_left,"Expected '{' for block.");!this._check(ve.tokens.brace_right);){const t=this._statement();t!==null&&e.push(t)}return this._consume(ve.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(ve.tokens.semicolon)&&!this._isAtEnd(););if(this._check(ve.tokens.attr)&&this._attribute(),this._check(ve.keywords.if))return this._if_statement();if(this._check(ve.keywords.switch))return this._switch_statement();if(this._check(ve.keywords.loop))return this._loop_statement();if(this._check(ve.keywords.for))return this._for_statement();if(this._check(ve.keywords.while))return this._while_statement();if(this._check(ve.keywords.continuing))return this._continuing_statement();if(this._check(ve.keywords.static_assert))return this._static_assert_statement();if(this._check(ve.tokens.brace_left))return this._compound_statement();let e=null;if(this._check(ve.keywords.return))e=this._return_statement();else if(this._check([ve.keywords.var,ve.keywords.let,ve.keywords.const]))e=this._variable_statement();else if(this._match(ve.keywords.discard))e=this._updateNode(new H2e);else if(this._match(ve.keywords.break)){const t=this._updateNode(new _Q);if(this._currentLoop.length>0){const r=this._currentLoop[this._currentLoop.length-1];t.loopId=r.id}e=t,this._check(ve.keywords.if)&&(this._advance(),t.condition=this._optional_paren_expression())}else if(this._match(ve.keywords.continue)){const t=this._updateNode(new mQ);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${t.line}`);{const r=this._currentLoop[this._currentLoop.length-1];t.loopId=r.id}e=t}else e=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return e!=null&&this._consume(ve.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(ve.keywords.static_assert))return null;const e=this._currentLine,t=this._optional_paren_expression();return this._updateNode(new D2e(t),e)}_while_statement(){if(!this._match(ve.keywords.while))return null;const e=this._updateNode(new lQ(null,null));return this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(ve.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_continuing_statement(){const e=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(ve.keywords.continuing))return null;const t=this._currentLine,r=this._compound_statement();return this._updateNode(new x9(r,e),t)}_for_statement(){if(!this._match(ve.keywords.for))return null;this._consume(ve.tokens.paren_left,"Expected '('.");const e=this._updateNode(new cQ(null,null,null,null));return this._currentLoop.push(e),e.init=this._check(ve.tokens.semicolon)?null:this._for_init(),this._consume(ve.tokens.semicolon,"Expected ';'."),e.condition=this._check(ve.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(ve.tokens.semicolon,"Expected ';'."),e.increment=this._check(ve.tokens.paren_right)?null:this._for_increment(),this._consume(ve.tokens.paren_right,"Expected ')'."),this._check(ve.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(ve.keywords.var)){const e=this._variable_decl();if(e===null)throw this._error(this._peek(),"Variable declaration expected.");let t=null;return this._match(ve.tokens.equal)&&(t=this._short_circuit_or_expression()),this._updateNode(new B0(e.name,e.type,e.storage,e.access,t),e.line)}if(this._match(ve.keywords.let)){const e=this._currentLine,t=this._consume(ve.tokens.name,"Expected name for let.").toString();let r=null;if(this._match(ve.tokens.colon)){const s=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=s)}this._consume(ve.tokens.equal,"Expected '=' for let.");const i=this._short_circuit_or_expression();return this._updateNode(new Kg(t,r,null,null,i),e)}if(this._match(ve.keywords.const)){const e=this._currentLine,t=this._consume(ve.tokens.name,"Expected name for const.").toString();let r=null;if(this._match(ve.tokens.colon)){const s=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=s)}this._consume(ve.tokens.equal,"Expected '=' for const.");const i=this._short_circuit_or_expression();return r===null&&i instanceof fs&&(r=i.type),this._updateNode(new wm(t,r,null,null,i),e)}return null}_increment_decrement_statement(){const e=this._current,t=this._unary_expression();if(t==null)return null;if(!this._check(ve.increment_operators))return this._current=e,null;const r=this._consume(ve.increment_operators,"Expected increment operator");return this._updateNode(new AQ(r.type===ve.tokens.plus_plus?hh.increment:hh.decrement,t))}_assignment_statement(){let e=null;const t=this._currentLine;if(this._check(ve.tokens.brace_right))return null;let r=this._match(ve.tokens.underscore);if(r||(e=this._unary_expression()),!r&&e==null)return null;const i=this._consume(ve.assignment_operators,"Expected assignment operator."),s=this._short_circuit_or_expression();return this._updateNode(new uQ(fg.parse(i.lexeme),e,s),t)}_func_call_statement(){if(!this._check(ve.tokens.ident))return null;const e=this._currentLine,t=this._current,r=this._consume(ve.tokens.ident,"Expected function name."),i=this._argument_expression_list();return i===null?(this._current=t,null):this._updateNode(new LR(r.lexeme,i),e)}_loop_statement(){if(!this._match(ve.keywords.loop))return null;this._check(ve.tokens.attr)&&this._attribute(),this._consume(ve.tokens.brace_left,"Expected '{' for loop.");const e=this._updateNode(new fQ([],null));this._currentLoop.push(e);let t=this._statement();for(;t!==null;){if(Array.isArray(t))for(let r of t)e.body.push(r);else e.body.push(t);if(t instanceof x9){e.continuing=t;break}t=this._statement()}return this._currentLoop.pop(),this._consume(ve.tokens.brace_right,"Expected '}' for loop."),e}_switch_statement(){if(!this._match(ve.keywords.switch))return null;const e=this._updateNode(new hQ(null,[]));if(this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(ve.tokens.attr)&&this._attribute(),this._consume(ve.tokens.brace_left,"Expected '{' for switch."),e.cases=this._switch_body(),e.cases==null||e.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(ve.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),e}_switch_body(){const e=[];let t=!1;for(;this._check([ve.keywords.default,ve.keywords.case]);){if(this._match(ve.keywords.case)){const r=this._case_selectors();for(const s of r)if(s instanceof xm){if(t)throw this._error(this._previous(),"Multiple default cases in switch statement.");t=!0;break}this._match(ve.tokens.colon),this._check(ve.tokens.attr)&&this._attribute(),this._consume(ve.tokens.brace_left,"Exected '{' for switch case.");const i=this._case_body();this._consume(ve.tokens.brace_right,"Exected '}' for switch case."),e.push(this._updateNode(new LQ(r,i)))}if(this._match(ve.keywords.default)){if(t)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(ve.tokens.colon),this._check(ve.tokens.attr)&&this._attribute(),this._consume(ve.tokens.brace_left,"Exected '{' for switch default.");const r=this._case_body();this._consume(ve.tokens.brace_right,"Exected '}' for switch default."),e.push(this._updateNode(new xQ(r)))}}return e}_case_selectors(){const e=[];for(this._match(ve.keywords.default)?e.push(this._updateNode(new xm)):e.push(this._shift_expression());this._match(ve.tokens.comma);)this._match(ve.keywords.default)?e.push(this._updateNode(new xm)):e.push(this._shift_expression());return e}_case_body(){if(this._match(ve.keywords.fallthrough))return this._consume(ve.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(e==null)return[];e instanceof Array||(e=[e]);const t=this._case_body();return t.length==0?e:[...e,t[0]]}_if_statement(){if(!this._match(ve.keywords.if))return null;const e=this._currentLine,t=this._optional_paren_expression();this._check(ve.tokens.attr)&&this._attribute();const r=this._compound_statement();let i=[];this._match_elseif()&&(this._check(ve.tokens.attr)&&this._attribute(),i=this._elseif_statement(i));let s=null;return this._match(ve.keywords.else)&&(this._check(ve.tokens.attr)&&this._attribute(),s=this._compound_statement()),this._updateNode(new dQ(t,r,i,s),e)}_match_elseif(){return this._tokens[this._current].type===ve.keywords.else&&this._tokens[this._current+1].type===ve.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(e=[]){const t=this._optional_paren_expression(),r=this._compound_statement();return e.push(this._updateNode(new Q2e(t,r))),this._match_elseif()&&(this._check(ve.tokens.attr)&&this._attribute(),this._elseif_statement(e)),e}_return_statement(){if(!this._match(ve.keywords.return))return null;const e=this._short_circuit_or_expression();return this._updateNode(new gQ(e))}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(ve.tokens.or_or);)e=this._updateNode(new bl(this._previous().toString(),e,this._short_circuit_and_expr()));return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(ve.tokens.and_and);)e=this._updateNode(new bl(this._previous().toString(),e,this._inclusive_or_expression()));return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(ve.tokens.or);)e=this._updateNode(new bl(this._previous().toString(),e,this._exclusive_or_expression()));return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(ve.tokens.xor);)e=this._updateNode(new bl(this._previous().toString(),e,this._and_expression()));return e}_and_expression(){let e=this._equality_expression();for(;this._match(ve.tokens.and);)e=this._updateNode(new bl(this._previous().toString(),e,this._equality_expression()));return e}_equality_expression(){const e=this._relational_expression();return this._match([ve.tokens.equal_equal,ve.tokens.not_equal])?this._updateNode(new bl(this._previous().toString(),e,this._relational_expression())):e}_relational_expression(){let e=this._shift_expression();for(;this._match([ve.tokens.less_than,ve.tokens.greater_than,ve.tokens.less_than_equal,ve.tokens.greater_than_equal]);)e=this._updateNode(new bl(this._previous().toString(),e,this._shift_expression()));return e}_shift_expression(){let e=this._additive_expression();for(;this._match([ve.tokens.shift_left,ve.tokens.shift_right]);)e=this._updateNode(new bl(this._previous().toString(),e,this._additive_expression()));return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([ve.tokens.plus,ve.tokens.minus]);)e=this._updateNode(new bl(this._previous().toString(),e,this._multiplicative_expression()));return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([ve.tokens.star,ve.tokens.forward_slash,ve.tokens.modulo]);)e=this._updateNode(new bl(this._previous().toString(),e,this._unary_expression()));return e}_unary_expression(){return this._match([ve.tokens.minus,ve.tokens.bang,ve.tokens.tilde,ve.tokens.star,ve.tokens.and])?this._updateNode(new $i(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){const e=this._primary_expression(),t=this._postfix_expression();return t&&(e.postfix=t),e}_postfix_expression(){if(this._match(ve.tokens.bracket_left)){const e=this._short_circuit_or_expression();this._consume(ve.tokens.bracket_right,"Expected ']'.");const t=this._updateNode(new gd(e)),r=this._postfix_expression();return r&&(t.postfix=r),t}if(this._match(ve.tokens.period)){const e=this._consume(ve.tokens.name,"Expected member name."),t=this._postfix_expression(),r=this._updateNode(new Y1(e.lexeme));return t&&(r.postfix=t),r}return null}_getStruct(e){return this._context.aliases.has(e)?this._context.aliases.get(e).type:this._context.structs.has(e)?this._context.structs.get(e):null}_getType(e){const t=this._getStruct(e);if(t!==null)return t;switch(e){case"void":return _t.void;case"bool":return _t.bool;case"i32":return _t.i32;case"u32":return _t.u32;case"f32":return _t.f32;case"f16":return _t.f16;case"vec2f":return qe.vec2f;case"vec3f":return qe.vec3f;case"vec4f":return qe.vec4f;case"vec2i":return qe.vec2i;case"vec3i":return qe.vec3i;case"vec4i":return qe.vec4i;case"vec2u":return qe.vec2u;case"vec3u":return qe.vec3u;case"vec4u":return qe.vec4u;case"vec2h":return qe.vec2h;case"vec3h":return qe.vec3h;case"vec4h":return qe.vec4h;case"mat2x2f":return qe.mat2x2f;case"mat2x3f":return qe.mat2x3f;case"mat2x4f":return qe.mat2x4f;case"mat3x2f":return qe.mat3x2f;case"mat3x3f":return qe.mat3x3f;case"mat3x4f":return qe.mat3x4f;case"mat4x2f":return qe.mat4x2f;case"mat4x3f":return qe.mat4x3f;case"mat4x4f":return qe.mat4x4f;case"mat2x2h":return qe.mat2x2h;case"mat2x3h":return qe.mat2x3h;case"mat2x4h":return qe.mat2x4h;case"mat3x2h":return qe.mat3x2h;case"mat3x3h":return qe.mat3x3h;case"mat3x4h":return qe.mat3x4h;case"mat4x2h":return qe.mat4x2h;case"mat4x3h":return qe.mat4x3h;case"mat4x4h":return qe.mat4x4h;case"mat2x2i":return qe.mat2x2i;case"mat2x3i":return qe.mat2x3i;case"mat2x4i":return qe.mat2x4i;case"mat3x2i":return qe.mat3x2i;case"mat3x3i":return qe.mat3x3i;case"mat3x4i":return qe.mat3x4i;case"mat4x2i":return qe.mat4x2i;case"mat4x3i":return qe.mat4x3i;case"mat4x4i":return qe.mat4x4i;case"mat2x2u":return qe.mat2x2u;case"mat2x3u":return qe.mat2x3u;case"mat2x4u":return qe.mat2x4u;case"mat3x2u":return qe.mat3x2u;case"mat3x3u":return qe.mat3x3u;case"mat3x4u":return qe.mat3x4u;case"mat4x2u":return qe.mat4x2u;case"mat4x3u":return qe.mat4x3u;case"mat4x4u":return qe.mat4x4u}return null}_validateTypeRange(e,t){if(t.name==="i32"){if(e<-2147483648||e>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${e}. Line: ${this._currentLine}.`)}else if(t.name==="u32"&&(e<0||e>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${e}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(ve.tokens.ident)){const r=this._previous().toString();if(this._check(ve.tokens.paren_left)){const i=this._argument_expression_list(),s=this._getType(r);return s!==null?this._updateNode(new _c(s,i)):this._updateNode(new RR(r,i))}if(this._context.constants.has(r)){const i=this._context.constants.get(r);return this._updateNode(new yQ(r,i.value))}return this._updateNode(new ho(r))}if(this._match(ve.tokens.int_literal)){const r=this._previous().toString();let i=r.endsWith("i")||r.endsWith("i")?_t.i32:r.endsWith("u")||r.endsWith("U")?_t.u32:_t.x32;const s=parseInt(r);return this._validateTypeRange(s,i),this._updateNode(new fs(new Ve(s,this._exec.getTypeInfo(i)),i))}if(this._match(ve.tokens.uint_literal)){const r=parseInt(this._previous().toString());return this._validateTypeRange(r,_t.u32),this._updateNode(new fs(new Ve(r,this._exec.getTypeInfo(_t.u32)),_t.u32))}if(this._match([ve.tokens.decimal_float_literal,ve.tokens.hex_float_literal])){let r=this._previous().toString(),i=r.endsWith("h");i&&(r=r.substring(0,r.length-1));const s=parseFloat(r);this._validateTypeRange(s,i?_t.f16:_t.f32);const a=i?_t.f16:_t.f32;return this._updateNode(new fs(new Ve(s,this._exec.getTypeInfo(a)),a))}if(this._match([ve.keywords.true,ve.keywords.false])){let r=this._previous().toString()===ve.keywords.true.rule;return this._updateNode(new fs(new Ve(r?1:0,this._exec.getTypeInfo(_t.bool)),_t.bool))}if(this._check(ve.tokens.paren_left))return this._paren_expression();if(this._match(ve.keywords.bitcast)){this._consume(ve.tokens.less_than,"Expected '<'.");const r=this._type_decl();this._consume(ve.tokens.greater_than,"Expected '>'.");const i=this._paren_expression();return this._updateNode(new bQ(r,i))}const e=this._type_decl(),t=this._argument_expression_list();return this._updateNode(new _c(e,t))}_argument_expression_list(){if(!this._match(ve.tokens.paren_left))return null;const e=[];do{if(this._check(ve.tokens.paren_right))break;const t=this._short_circuit_or_expression();e.push(t)}while(this._match(ve.tokens.comma));return this._consume(ve.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(ve.tokens.paren_left);const e=this._short_circuit_or_expression();return this._match(ve.tokens.paren_right),e}_paren_expression(){this._consume(ve.tokens.paren_left,"Expected '('.");const e=this._short_circuit_or_expression();return this._consume(ve.tokens.paren_right,"Expected ')'."),e}_struct_decl(){if(!this._match(ve.keywords.struct))return null;const e=this._currentLine,t=this._consume(ve.tokens.ident,"Expected name for struct.").toString();this._consume(ve.tokens.brace_left,"Expected '{' for struct body.");const r=[];for(;!this._check(ve.tokens.brace_right);){const a=this._attribute(),o=this._consume(ve.tokens.name,"Expected variable name.").toString();this._consume(ve.tokens.colon,"Expected ':' for struct member type.");const l=this._attribute(),c=this._type_decl();c!=null&&(c.attributes=l),this._check(ve.tokens.brace_right)?this._match(ve.tokens.comma):this._consume(ve.tokens.comma,"Expected ',' for struct member."),r.push(this._updateNode(new eS(o,c,a)))}this._consume(ve.tokens.brace_right,"Expected '}' after struct body.");const i=this._currentLine,s=this._updateNode(new m0(t,r,e,i),e);return this._context.structs.set(t,s),s}_global_variable_decl(){const e=this._variable_decl();if(!e)return null;if(this._match(ve.tokens.equal)){const t=this._const_expression();e.value=t}if(e.type!==null&&e.value instanceof fs){if(e.value.type.name!=="x32"&&e.type.getTypeName()!==e.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${e.value.type.name} to ${e.type.name}. Line:${this._currentLine}`);e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type),e.value.type=e.type}else e.type===null&&e.value instanceof fs&&(e.type=e.value.type.name==="x32"?_t.i32:e.value.type,e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type));return e}_override_variable_decl(){const e=this._override_decl();return e&&this._match(ve.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){var e;if(!this._match(ve.keywords.const))return null;const t=this._consume(ve.tokens.name,"Expected variable name"),r=this._currentLine;let i=null;if(this._match(ve.tokens.colon)){const l=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=l)}let s=null;this._consume(ve.tokens.equal,"const declarations require an assignment");const a=this._short_circuit_or_expression();try{let l=[_t.f32],c=a.constEvaluate(this._exec,l);c instanceof Ve&&this._validateTypeRange(c.value,l[0]),l[0]instanceof qe&&l[0].format===null&&c.typeInfo instanceof j1&&c.typeInfo.format!==null&&(c.typeInfo.format.name==="f16"?l[0].format=_t.f16:c.typeInfo.format.name==="f32"?l[0].format=_t.f32:c.typeInfo.format.name==="i32"?l[0].format=_t.i32:c.typeInfo.format.name==="u32"?l[0].format=_t.u32:c.typeInfo.format.name==="bool"?l[0].format=_t.bool:console.error(`TODO: impelement template format type ${c.typeInfo.format.name}`)),s=this._updateNode(new fs(c,l[0])),this._exec.context.setVariable(t.toString(),c)}catch{s=a}if(i!==null&&s instanceof fs){if(s.type.name!=="x32"&&i.getTypeName()!==s.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${s.type.name} to ${i.name}. Line:${this._currentLine}`);s.type=i,s.isScalar&&this._validateTypeRange(s.scalarValue,s.type)}else i===null&&s instanceof fs&&(i=(e=s==null?void 0:s.type)!==null&&e!==void 0?e:_t.f32,i===_t.x32&&(i=_t.i32));const o=this._updateNode(new wm(t.toString(),i,"","",s),r);return this._context.constants.set(o.name,o),o}_global_let_decl(){if(!this._match(ve.keywords.let))return null;const e=this._currentLine,t=this._consume(ve.tokens.name,"Expected variable name");let r=null;if(this._match(ve.tokens.colon)){const s=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=s)}let i=null;if(this._match(ve.tokens.equal)&&(i=this._const_expression()),r!==null&&i instanceof fs){if(i.type.name!=="x32"&&r.getTypeName()!==i.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${i.type.name} to ${r.name}. Line:${this._currentLine}`);i.type=r}else r===null&&i instanceof fs&&(r=i.type.name==="x32"?_t.i32:i.type);return i instanceof fs&&i.isScalar&&this._validateTypeRange(i.scalarValue,r),this._updateNode(new Kg(t.toString(),r,"","",i),e)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(ve.keywords.var))return null;const e=this._currentLine;let t="",r="";this._match(ve.tokens.less_than)&&(t=this._consume(ve.storage_class,"Expected storage_class.").toString(),this._match(ve.tokens.comma)&&(r=this._consume(ve.access_mode,"Expected access_mode.").toString()),this._consume(ve.tokens.greater_than,"Expected '>'."));const i=this._consume(ve.tokens.name,"Expected variable name");let s=null;if(this._match(ve.tokens.colon)){const a=this._attribute();s=this._type_decl(),s!=null&&(s.attributes=a)}return this._updateNode(new B0(i.toString(),s,t,r,null),e)}_override_decl(){if(!this._match(ve.keywords.override))return null;const e=this._consume(ve.tokens.name,"Expected variable name");let t=null;if(this._match(ve.tokens.colon)){const r=this._attribute();t=this._type_decl(),t!=null&&(t.attributes=r)}return this._updateNode(new wR(e.toString(),t,null))}_diagnostic(){this._consume(ve.tokens.paren_left,"Expected '('");const e=this._consume(ve.tokens.ident,"Expected severity control name.");this._consume(ve.tokens.comma,"Expected ','");let t=this._consume(ve.tokens.ident,"Expected diagnostic rule name.").toString();return this._match(ve.tokens.period)&&(t+=`.${this._consume(ve.tokens.ident,"Expected diagnostic message.").toString()}`),this._consume(ve.tokens.paren_right,"Expected ')'"),this._updateNode(new pQ(e.toString(),t))}_enable_directive(){const e=this._consume(ve.tokens.ident,"identity expected.");return this._updateNode(new O2e(e.toString()))}_requires_directive(){const e=[this._consume(ve.tokens.ident,"identity expected.").toString()];for(;this._match(ve.tokens.comma);){const t=this._consume(ve.tokens.ident,"identity expected.");e.push(t.toString())}return this._updateNode(new z2e(e))}_type_alias(){const e=this._consume(ve.tokens.ident,"identity expected.");this._consume(ve.tokens.equal,"Expected '=' for type alias.");let t=this._type_decl();if(t===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(t.name)&&(t=this._context.aliases.get(t.name).type);const r=this._updateNode(new xR(e.toString(),t));return this._context.aliases.set(r.name,r),r}_type_decl(){if(this._check([ve.tokens.ident,...ve.texel_format,ve.keywords.bool,ve.keywords.f32,ve.keywords.i32,ve.keywords.u32])){const r=this._advance().toString();if(this._context.structs.has(r))return this._context.structs.get(r);if(this._context.aliases.has(r))return this._context.aliases.get(r).type;if(!this._getType(r)){const i=this._updateNode(new JM(r));return this._forwardTypeCount++,i}return this._updateNode(new _t(r))}let e=this._texture_sampler_types();if(e)return e;if(this._check(ve.template_types)){let r=this._advance().toString(),i=null,s=null;return this._match(ve.tokens.less_than)&&(i=this._type_decl(),s=null,this._match(ve.tokens.comma)&&(s=this._consume(ve.access_mode,"Expected access_mode for pointer").toString()),this._consume(ve.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new qe(r,i,s))}if(this._match(ve.keywords.ptr)){let r=this._previous().toString();this._consume(ve.tokens.less_than,"Expected '<' for pointer.");const i=this._consume(ve.storage_class,"Expected storage_class for pointer");this._consume(ve.tokens.comma,"Expected ',' for pointer.");const s=this._type_decl();let a=null;return this._match(ve.tokens.comma)&&(a=this._consume(ve.access_mode,"Expected access_mode for pointer").toString()),this._consume(ve.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new Lm(r,i.toString(),s,a))}const t=this._attribute();if(this._match(ve.keywords.array)){let r=null,i=-1;const s=this._previous();let a=null;if(this._match(ve.tokens.less_than)){r=this._type_decl(),this._context.aliases.has(r.name)&&(r=this._context.aliases.get(r.name).type);let l="";if(this._match(ve.tokens.comma)){a=this._shift_expression();try{l=a.constEvaluate(this._exec).toString(),a=null}catch{l="1"}}this._consume(ve.tokens.greater_than,"Expected '>' for array."),i=l?parseInt(l):0}const o=this._updateNode(new $g(s.toString(),t,r,i));return a&&this._deferArrayCountEval.push({arrayType:o,countNode:a}),o}return null}_texture_sampler_types(){if(this._match(ve.sampler_type))return this._updateNode(new hg(this._previous().toString(),null,null));if(this._match(ve.depth_texture_type))return this._updateNode(new hg(this._previous().toString(),null,null));if(this._match(ve.sampled_texture_type)||this._match(ve.multisampled_texture_type)){const e=this._previous();this._consume(ve.tokens.less_than,"Expected '<' for sampler type.");const t=this._type_decl();return this._consume(ve.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new hg(e.toString(),t,null))}if(this._match(ve.storage_texture_type)){const e=this._previous();this._consume(ve.tokens.less_than,"Expected '<' for sampler type.");const t=this._consume(ve.texel_format,"Invalid texel format.").toString();this._consume(ve.tokens.comma,"Expected ',' after texel format.");const r=this._consume(ve.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(ve.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new hg(e.toString(),t,r))}return null}_attribute(){let e=[];for(;this._match(ve.tokens.attr);){const t=this._consume(ve.attribute_name,"Expected attribute name"),r=this._updateNode(new RQ(t.toString(),null));if(this._match(ve.tokens.paren_left)){if(r.value=this._consume(ve.literal_or_ident,"Expected attribute value").toString(),this._check(ve.tokens.comma)){this._advance();do{const i=this._consume(ve.literal_or_ident,"Expected attribute value").toString();r.value instanceof Array||(r.value=[r.value]),r.value.push(i)}while(this._match(ve.tokens.comma))}this._consume(ve.tokens.paren_right,"Expected ')'")}e.push(r)}return e.length==0?null:e}}class nge extends Bc{constructor(e){super(),e&&this.update(e)}update(e){const t=new tge().parse(e);this.updateAST(t)}}function rge(n){var s;const e={attributes:[],bindings:[]};let t;try{t=ige(n)}catch(a){return mt.error(a.message)(),e}for(const a of t.uniforms){const o=[];for(const l of((s=a.type)==null?void 0:s.members)||[])o.push({name:l.name,type:rS(l.type)});e.bindings.push({type:"uniform",name:a.name,group:a.group,location:a.binding,members:o})}for(const a of t.textures)e.bindings.push({type:"texture",name:a.name,group:a.group,location:a.binding});for(const a of t.samplers)e.bindings.push({type:"sampler",name:a.name,group:a.group,location:a.binding});const r=t.entry.vertex[0],i=(r==null?void 0:r.inputs.length)||0;for(let a=0;a<i;a++){const o=r.inputs[a];if(o.locationType==="location"){const l=rS(o.type);e.attributes.push({name:o.name,location:Number(o.location),type:l})}}return e}function rS(n){return n!=null&&n.format?`${n.name}<${n.format.name}>`:n.name}function ige(n){try{return new nge(n)}catch(e){if(e instanceof Error)throw e;let t="WGSL parse error";throw typeof e=="object"&&(e!=null&&e.message)&&(t+=`: ${e.message} `),typeof e=="object"&&(e!=null&&e.token)&&(t+=e.token.line||""),new Error(t,{cause:e})}}const sge=1/Math.PI*180,age=1/180*Math.PI,oge={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...oge}};const ms=globalThis.mathgl.config;function lge(n,{precision:e=ms.precision}={}){return n=fge(n),`${parseFloat(n.toPrecision(e))}`}function lu(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}function cge(n){return uge(n)}function Age(n){return Cl(n)}function uge(n,e){return TR(n,t=>t*age,e)}function Cl(n,e){return TR(n,t=>t*sge,e)}function Ul(n,e,t){return TR(n,r=>Math.max(e,Math.min(t,r)))}function K5(n,e,t){return lu(n)?n.map((r,i)=>K5(r,e[i],t)):t*e+(1-t)*n}function Dl(n,e,t){const r=ms.EPSILON;t&&(ms.EPSILON=t);try{if(n===e)return!0;if(lu(n)&&lu(e)){if(n.length!==e.length)return!1;for(let i=0;i<n.length;++i)if(!Dl(n[i],e[i]))return!1;return!0}return n&&n.equals?n.equals(e):e&&e.equals?e.equals(n):typeof n=="number"&&typeof e=="number"?Math.abs(n-e)<=ms.EPSILON*Math.max(1,Math.abs(n),Math.abs(e)):!1}finally{ms.EPSILON=r}}function fge(n){return Math.round(n/ms.EPSILON)*ms.EPSILON}function hge(n){return n.clone?n.clone():new Array(n.length)}function TR(n,e,t){if(lu(n)){const r=n;t=t||hge(r);for(let i=0;i<t.length&&i<r.length;++i){const s=typeof n=="number"?n:n[i];t[i]=e(s,i,t)}return t}return e(n)}class MR extends Array{clone(){return new this.constructor().copy(this)}fromArray(e,t=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+t];return this.check()}toArray(e=[],t=0){for(let r=0;r<this.ELEMENTS;++r)e[t+r]=this[r];return e}toObject(e){return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:lu(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(ms)}formatString(e){let t="";for(let r=0;r<this.ELEMENTS;++r)t+=(r>0?", ":"")+lge(this[r],e);return`${e.printTypes?this.constructor.name:""}[${t}]`}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!Dl(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,r){if(r===void 0)return this.lerp(this,e,t);for(let i=0;i<this.ELEMENTS;++i){const s=e[i],a=typeof t=="number"?t:t[i];this[i]=s+r*(a-s)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),t[r]);return this.check()}add(...e){for(const t of e)for(let r=0;r<this.ELEMENTS;++r)this[r]+=t[r];return this.check()}subtract(...e){for(const t of e)for(let r=0;r<this.ELEMENTS;++r)this[r]-=t[r];return this.check()}scale(e){if(typeof e=="number")for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(let t=0;t<this.ELEMENTS&&t<e.length;++t)this[t]*=e[t];return this.check()}multiplyByScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}check(){if(ms.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),t);return this.check()}get elements(){return this}}function dge(n,e){if(n.length!==e)return!1;for(let t=0;t<n.length;++t)if(!Number.isFinite(n[t]))return!1;return!0}function dr(n){if(!Number.isFinite(n))throw new Error(`Invalid number ${JSON.stringify(n)}`);return n}function Wg(n,e,t=""){if(ms.debug&&!dge(n,e))throw new Error(`math.gl: ${t} some fields set to invalid numbers'`);return n}function Ml(n,e){if(!n)throw new Error(`math.gl assertion ${e}`)}class SR extends MR{get x(){return this[0]}set x(e){this[0]=dr(e)}get y(){return this[1]}set y(e){this[1]=dr(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let r=0;r<this.ELEMENTS;++r){const i=this[r]-e[r];t+=i*i}return dr(t)}dot(e){let t=0;for(let r=0;r<this.ELEMENTS;++r)t+=this[r]*e[r];return dr(t)}normalize(){const e=this.magnitude();if(e!==0)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let r=0;r<this.ELEMENTS;++r)this[r]*=t[r];return this.check()}divide(...e){for(const t of e)for(let r=0;r<this.ELEMENTS;++r)this[r]/=t[r];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return Ml(e>=0&&e<this.ELEMENTS,"index is out of range"),dr(this[e])}setComponent(e,t){return Ml(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}const qg=1e-6;let Gl=typeof Float32Array<"u"?Float32Array:Array;function gge(){const n=new Gl(2);return Gl!=Float32Array&&(n[0]=0,n[1]=0),n}function iS(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function pge(n,e){return n[0]=-e[0],n[1]=-e[1],n}function BQ(n,e,t,r){const i=e[0],s=e[1];return n[0]=i+r*(t[0]-i),n[1]=s+r*(t[1]-s),n}function _ge(n,e,t){const r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i,n[1]=t[1]*r+t[3]*i,n}function mge(n,e,t){const r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i+t[4],n[1]=t[1]*r+t[3]*i+t[5],n}function EQ(n,e,t){const r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function CQ(n,e,t){const r=e[0],i=e[1];return n[0]=t[0]*r+t[4]*i+t[12],n[1]=t[1]*r+t[5]*i+t[13],n}(function(){const n=gge();return function(e,t,r,i,s,a){let o,l;for(t||(t=2),r||(r=0),i?l=Math.min(i*t+r,e.length):l=e.length,o=r;o<l;o+=t)n[0]=e[o],n[1]=e[o+1],s(n,n,a),e[o]=n[0],e[o+1]=n[1];return e}})();function IQ(n,e,t){const r=e[0],i=e[1],s=t[3]*r+t[7]*i||1;return n[0]=(t[0]*r+t[4]*i)/s,n[1]=(t[1]*r+t[5]*i)/s,n}function TQ(n,e,t){const r=e[0],i=e[1],s=e[2],a=t[3]*r+t[7]*i+t[11]*s||1;return n[0]=(t[0]*r+t[4]*i+t[8]*s)/a,n[1]=(t[1]*r+t[5]*i+t[9]*s)/a,n[2]=(t[2]*r+t[6]*i+t[10]*s)/a,n}function yge(n,e,t){const r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i,n[1]=t[1]*r+t[3]*i,n[2]=e[2],n}function bge(n,e,t){const r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i,n[1]=t[1]*r+t[3]*i,n[2]=e[2],n[3]=e[3],n}function MQ(n,e,t){const r=e[0],i=e[1],s=e[2];return n[0]=t[0]*r+t[3]*i+t[6]*s,n[1]=t[1]*r+t[4]*i+t[7]*s,n[2]=t[2]*r+t[5]*i+t[8]*s,n[3]=e[3],n}class FR extends SR{constructor(e=0,t=0){super(2),lu(e)&&arguments.length===1?this.copy(e):(ms.debug&&(dr(e),dr(t)),this[0]=e,this[1]=t)}set(e,t){return this[0]=e,this[1]=t,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this.check()}fromObject(e){return ms.debug&&(dr(e.x),dr(e.y)),this[0]=e.x,this[1]=e.y,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return CQ(this,this,e),this.check()}transformAsVector(e){return IQ(this,this,e),this.check()}transformByMatrix3(e){return EQ(this,this,e),this.check()}transformByMatrix2x3(e){return mge(this,this,e),this.check()}transformByMatrix2(e){return _ge(this,this,e),this.check()}}function SQ(){const n=new Gl(3);return Gl!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function FQ(n){const e=n[0],t=n[1],r=n[2];return Math.sqrt(e*e+t*t+r*r)}function sS(n,e,t){const r=new Gl(3);return r[0]=n,r[1]=e,r[2]=t,r}function vge(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function wge(n){const e=n[0],t=n[1],r=n[2];return e*e+t*t+r*r}function Lge(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}function xge(n,e){const t=e[0],r=e[1],i=e[2];let s=t*t+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),n[0]=e[0]*s,n[1]=e[1]*s,n[2]=e[2]*s,n}function UR(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Rm(n,e,t){const r=e[0],i=e[1],s=e[2],a=t[0],o=t[1],l=t[2];return n[0]=i*l-s*o,n[1]=s*a-r*l,n[2]=r*o-i*a,n}function Rge(n,e,t,r){const i=e[0],s=e[1],a=e[2];return n[0]=i+r*(t[0]-i),n[1]=s+r*(t[1]-s),n[2]=a+r*(t[2]-a),n}function NR(n,e,t){const r=e[0],i=e[1],s=e[2];let a=t[3]*r+t[7]*i+t[11]*s+t[15];return a=a||1,n[0]=(t[0]*r+t[4]*i+t[8]*s+t[12])/a,n[1]=(t[1]*r+t[5]*i+t[9]*s+t[13])/a,n[2]=(t[2]*r+t[6]*i+t[10]*s+t[14])/a,n}function UQ(n,e,t){const r=e[0],i=e[1],s=e[2];return n[0]=r*t[0]+i*t[3]+s*t[6],n[1]=r*t[1]+i*t[4]+s*t[7],n[2]=r*t[2]+i*t[5]+s*t[8],n}function NQ(n,e,t){const r=t[0],i=t[1],s=t[2],a=t[3],o=e[0],l=e[1],c=e[2];let A=i*c-s*l,u=s*o-r*c,h=r*l-i*o,f=i*h-s*u,d=s*A-r*h,g=r*u-i*A;const _=a*2;return A*=_,u*=_,h*=_,f*=2,d*=2,g*=2,n[0]=o+A+f,n[1]=l+u+d,n[2]=c+h+g,n}function Bge(n,e,t,r){const i=[],s=[];return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],s[0]=i[0],s[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),s[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),n[0]=s[0]+t[0],n[1]=s[1]+t[1],n[2]=s[2]+t[2],n}function Ege(n,e,t,r){const i=[],s=[];return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],s[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),s[1]=i[1],s[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),n[0]=s[0]+t[0],n[1]=s[1]+t[1],n[2]=s[2]+t[2],n}function Cge(n,e,t,r){const i=[],s=[];return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],s[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),s[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),s[2]=i[2],n[0]=s[0]+t[0],n[1]=s[1]+t[1],n[2]=s[2]+t[2],n}function Ige(n,e){const t=n[0],r=n[1],i=n[2],s=e[0],a=e[1],o=e[2],l=Math.sqrt((t*t+r*r+i*i)*(s*s+a*a+o*o)),c=l&&UR(n,e)/l;return Math.acos(Math.min(Math.max(c,-1),1))}const kQ=vge,PQ=FQ,a8=wge;(function(){const n=SQ();return function(e,t,r,i,s,a){let o,l;for(t||(t=3),r||(r=0),i?l=Math.min(i*t+r,e.length):l=e.length,o=r;o<l;o+=t)n[0]=e[o],n[1]=e[o+1],n[2]=e[o+2],s(n,n,a),e[o]=n[0],e[o+1]=n[1],e[o+2]=n[2];return e}})();const o8=[0,0,0];let g4;class tt extends SR{static get ZERO(){return g4||(g4=new tt(0,0,0),Object.freeze(g4)),g4}constructor(e=0,t=0,r=0){super(-0,-0,-0),arguments.length===1&&lu(e)?this.copy(e):(ms.debug&&(dr(e),dr(t),dr(r)),this[0]=e,this[1]=t,this[2]=r)}set(e,t,r){return this[0]=e,this[1]=t,this[2]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return ms.debug&&(dr(e.x),dr(e.y),dr(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=dr(e)}angle(e){return Ige(this,e)}cross(e){return Rm(this,this,e),this.check()}rotateX({radians:e,origin:t=o8}){return Bge(this,this,t,e),this.check()}rotateY({radians:e,origin:t=o8}){return Ege(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=o8}){return Cge(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return NR(this,this,e),this.check()}transformAsVector(e){return TQ(this,this,e),this.check()}transformByMatrix3(e){return UQ(this,this,e),this.check()}transformByMatrix2(e){return yge(this,this,e),this.check()}transformByQuaternion(e){return NQ(this,this,e),this.check()}}let p4;class kR extends SR{static get ZERO(){return p4||(p4=new kR(0,0,0,0),Object.freeze(p4)),p4}constructor(e=0,t=0,r=0,i=0){super(-0,-0,-0,-0),lu(e)&&arguments.length===1?this.copy(e):(ms.debug&&(dr(e),dr(t),dr(r),dr(i)),this[0]=e,this[1]=t,this[2]=r,this[3]=i)}set(e,t,r,i){return this[0]=e,this[1]=t,this[2]=r,this[3]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return ms.debug&&(dr(e.x),dr(e.y),dr(e.z),dr(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=dr(e)}get w(){return this[3]}set w(e){this[3]=dr(e)}transform(e){return NR(this,this,e),this.check()}transformByMatrix3(e){return MQ(this,this,e),this.check()}transformByMatrix2(e){return bge(this,this,e),this.check()}transformByQuaternion(e){return NQ(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}class DQ extends MR{toString(){let e="[";if(ms.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let r=0;r<this.RANK;++r)e+=` ${this[r*this.RANK+t]}`}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=` ${this[t]}`}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,r){return this[t*this.RANK+e]=dr(r),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const r=e*this.RANK;for(let i=0;i<this.RANK;++i)t[i]=this[r+i];return t}setColumn(e,t){const r=e*this.RANK;for(let i=0;i<this.RANK;++i)this[r+i]=t[i];return this}}function Tge(){const n=new Gl(9);return Gl!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function Mge(n,e){if(n===e){const t=e[1],r=e[2],i=e[5];n[1]=e[3],n[2]=e[6],n[3]=t,n[5]=e[7],n[6]=r,n[7]=i}else n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8];return n}function Sge(n,e){const t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],A=e[8],u=A*a-o*c,h=-A*s+o*l,f=c*s-a*l;let d=t*u+r*h+i*f;return d?(d=1/d,n[0]=u*d,n[1]=(-A*r+i*c)*d,n[2]=(o*r-i*a)*d,n[3]=h*d,n[4]=(A*t-i*l)*d,n[5]=(-o*t+i*s)*d,n[6]=f*d,n[7]=(-c*t+r*l)*d,n[8]=(a*t-r*s)*d,n):null}function Fge(n){const e=n[0],t=n[1],r=n[2],i=n[3],s=n[4],a=n[5],o=n[6],l=n[7],c=n[8];return e*(c*s-a*l)+t*(-c*i+a*o)+r*(l*i-s*o)}function aS(n,e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],c=e[6],A=e[7],u=e[8],h=t[0],f=t[1],d=t[2],g=t[3],_=t[4],m=t[5],y=t[6],b=t[7],v=t[8];return n[0]=h*r+f*a+d*c,n[1]=h*i+f*o+d*A,n[2]=h*s+f*l+d*u,n[3]=g*r+_*a+m*c,n[4]=g*i+_*o+m*A,n[5]=g*s+_*l+m*u,n[6]=y*r+b*a+v*c,n[7]=y*i+b*o+v*A,n[8]=y*s+b*l+v*u,n}function Uge(n,e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],c=e[6],A=e[7],u=e[8],h=t[0],f=t[1];return n[0]=r,n[1]=i,n[2]=s,n[3]=a,n[4]=o,n[5]=l,n[6]=h*r+f*a+c,n[7]=h*i+f*o+A,n[8]=h*s+f*l+u,n}function Nge(n,e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],c=e[6],A=e[7],u=e[8],h=Math.sin(t),f=Math.cos(t);return n[0]=f*r+h*a,n[1]=f*i+h*o,n[2]=f*s+h*l,n[3]=f*a-h*r,n[4]=f*o-h*i,n[5]=f*l-h*s,n[6]=c,n[7]=A,n[8]=u,n}function oS(n,e,t){const r=t[0],i=t[1];return n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=i*e[3],n[4]=i*e[4],n[5]=i*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function kge(n,e){const t=e[0],r=e[1],i=e[2],s=e[3],a=t+t,o=r+r,l=i+i,c=t*a,A=r*a,u=r*o,h=i*a,f=i*o,d=i*l,g=s*a,_=s*o,m=s*l;return n[0]=1-u-d,n[3]=A-m,n[6]=h+_,n[1]=A+m,n[4]=1-c-d,n[7]=f-g,n[2]=h-_,n[5]=f+g,n[8]=1-c-u,n}var B9;(function(n){n[n.COL0ROW0=0]="COL0ROW0",n[n.COL0ROW1=1]="COL0ROW1",n[n.COL0ROW2=2]="COL0ROW2",n[n.COL1ROW0=3]="COL1ROW0",n[n.COL1ROW1=4]="COL1ROW1",n[n.COL1ROW2=5]="COL1ROW2",n[n.COL2ROW0=6]="COL2ROW0",n[n.COL2ROW1=7]="COL2ROW1",n[n.COL2ROW2=8]="COL2ROW2"})(B9||(B9={}));const Pge=Object.freeze([1,0,0,0,1,0,0,0,1]);class Ri extends DQ{static get IDENTITY(){return Oge()}static get ZERO(){return Dge()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return B9}constructor(e,...t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):t.length>0?this.copy([e,...t]):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}identity(){return this.copy(Pge)}fromObject(e){return this.check()}fromQuaternion(e){return kge(this,e),this.check()}set(e,t,r,i,s,a,o,l,c){return this[0]=e,this[1]=t,this[2]=r,this[3]=i,this[4]=s,this[5]=a,this[6]=o,this[7]=l,this[8]=c,this.check()}setRowMajor(e,t,r,i,s,a,o,l,c){return this[0]=e,this[1]=i,this[2]=o,this[3]=t,this[4]=s,this[5]=l,this[6]=r,this[7]=a,this[8]=c,this.check()}determinant(){return Fge(this)}transpose(){return Mge(this,this),this.check()}invert(){return Sge(this,this),this.check()}multiplyLeft(e){return aS(this,e,this),this.check()}multiplyRight(e){return aS(this,this,e),this.check()}rotate(e){return Nge(this,this,e),this.check()}scale(e){return Array.isArray(e)?oS(this,this,e):oS(this,this,[e,e]),this.check()}translate(e){return Uge(this,this,e),this.check()}transform(e,t){let r;switch(e.length){case 2:r=EQ(t||[-0,-0],e,this);break;case 3:r=UQ(t||[-0,-0,-0],e,this);break;case 4:r=MQ(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Wg(r,e.length),r}transformVector(e,t){return this.transform(e,t)}transformVector2(e,t){return this.transform(e,t)}transformVector3(e,t){return this.transform(e,t)}}let _4,m4=null;function Dge(){return _4||(_4=new Ri([0,0,0,0,0,0,0,0,0]),Object.freeze(_4)),_4}function Oge(){return m4||(m4=new Ri,Object.freeze(m4)),m4}function zge(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Hge(n,e){if(n===e){const t=e[1],r=e[2],i=e[3],s=e[6],a=e[7],o=e[11];n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=t,n[6]=e[9],n[7]=e[13],n[8]=r,n[9]=s,n[11]=e[14],n[12]=i,n[13]=a,n[14]=o}else n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=e[1],n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=e[2],n[9]=e[6],n[10]=e[10],n[11]=e[14],n[12]=e[3],n[13]=e[7],n[14]=e[11],n[15]=e[15];return n}function E9(n,e){const t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],A=e[8],u=e[9],h=e[10],f=e[11],d=e[12],g=e[13],_=e[14],m=e[15],y=t*o-r*a,b=t*l-i*a,v=t*c-s*a,B=r*l-i*o,C=r*c-s*o,I=i*c-s*l,R=A*g-u*d,w=A*_-h*d,U=A*m-f*d,M=u*_-h*g,F=u*m-f*g,P=h*m-f*_;let S=y*P-b*F+v*M+B*U-C*w+I*R;return S?(S=1/S,n[0]=(o*P-l*F+c*M)*S,n[1]=(i*F-r*P-s*M)*S,n[2]=(g*I-_*C+m*B)*S,n[3]=(h*C-u*I-f*B)*S,n[4]=(l*U-a*P-c*w)*S,n[5]=(t*P-i*U+s*w)*S,n[6]=(_*v-d*I-m*b)*S,n[7]=(A*I-h*v+f*b)*S,n[8]=(a*F-o*U+c*R)*S,n[9]=(r*U-t*F-s*R)*S,n[10]=(d*C-g*v+m*y)*S,n[11]=(u*v-A*C-f*y)*S,n[12]=(o*w-a*M-l*R)*S,n[13]=(t*M-r*w+i*R)*S,n[14]=(g*b-d*B-_*y)*S,n[15]=(A*B-u*b+h*y)*S,n):null}function Qge(n){const e=n[0],t=n[1],r=n[2],i=n[3],s=n[4],a=n[5],o=n[6],l=n[7],c=n[8],A=n[9],u=n[10],h=n[11],f=n[12],d=n[13],g=n[14],_=n[15],m=e*a-t*s,y=e*o-r*s,b=t*o-r*a,v=c*d-A*f,B=c*g-u*f,C=A*g-u*d,I=e*C-t*B+r*v,R=s*C-a*B+o*v,w=c*b-A*y+u*m,U=f*b-d*y+g*m;return l*I-i*R+_*w-h*U}function I1(n,e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],c=e[6],A=e[7],u=e[8],h=e[9],f=e[10],d=e[11],g=e[12],_=e[13],m=e[14],y=e[15];let b=t[0],v=t[1],B=t[2],C=t[3];return n[0]=b*r+v*o+B*u+C*g,n[1]=b*i+v*l+B*h+C*_,n[2]=b*s+v*c+B*f+C*m,n[3]=b*a+v*A+B*d+C*y,b=t[4],v=t[5],B=t[6],C=t[7],n[4]=b*r+v*o+B*u+C*g,n[5]=b*i+v*l+B*h+C*_,n[6]=b*s+v*c+B*f+C*m,n[7]=b*a+v*A+B*d+C*y,b=t[8],v=t[9],B=t[10],C=t[11],n[8]=b*r+v*o+B*u+C*g,n[9]=b*i+v*l+B*h+C*_,n[10]=b*s+v*c+B*f+C*m,n[11]=b*a+v*A+B*d+C*y,b=t[12],v=t[13],B=t[14],C=t[15],n[12]=b*r+v*o+B*u+C*g,n[13]=b*i+v*l+B*h+C*_,n[14]=b*s+v*c+B*f+C*m,n[15]=b*a+v*A+B*d+C*y,n}function $5(n,e,t){const r=t[0],i=t[1],s=t[2];let a,o,l,c,A,u,h,f,d,g,_,m;return e===n?(n[12]=e[0]*r+e[4]*i+e[8]*s+e[12],n[13]=e[1]*r+e[5]*i+e[9]*s+e[13],n[14]=e[2]*r+e[6]*i+e[10]*s+e[14],n[15]=e[3]*r+e[7]*i+e[11]*s+e[15]):(a=e[0],o=e[1],l=e[2],c=e[3],A=e[4],u=e[5],h=e[6],f=e[7],d=e[8],g=e[9],_=e[10],m=e[11],n[0]=a,n[1]=o,n[2]=l,n[3]=c,n[4]=A,n[5]=u,n[6]=h,n[7]=f,n[8]=d,n[9]=g,n[10]=_,n[11]=m,n[12]=a*r+A*i+d*s+e[12],n[13]=o*r+u*i+g*s+e[13],n[14]=l*r+h*i+_*s+e[14],n[15]=c*r+f*i+m*s+e[15]),n}function PR(n,e,t){const r=t[0],i=t[1],s=t[2];return n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n[3]=e[3]*r,n[4]=e[4]*i,n[5]=e[5]*i,n[6]=e[6]*i,n[7]=e[7]*i,n[8]=e[8]*s,n[9]=e[9]*s,n[10]=e[10]*s,n[11]=e[11]*s,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function jge(n,e,t,r){let i=r[0],s=r[1],a=r[2],o=Math.sqrt(i*i+s*s+a*a),l,c,A,u,h,f,d,g,_,m,y,b,v,B,C,I,R,w,U,M,F,P,S,W;return o<qg?null:(o=1/o,i*=o,s*=o,a*=o,c=Math.sin(t),l=Math.cos(t),A=1-l,u=e[0],h=e[1],f=e[2],d=e[3],g=e[4],_=e[5],m=e[6],y=e[7],b=e[8],v=e[9],B=e[10],C=e[11],I=i*i*A+l,R=s*i*A+a*c,w=a*i*A-s*c,U=i*s*A-a*c,M=s*s*A+l,F=a*s*A+i*c,P=i*a*A+s*c,S=s*a*A-i*c,W=a*a*A+l,n[0]=u*I+g*R+b*w,n[1]=h*I+_*R+v*w,n[2]=f*I+m*R+B*w,n[3]=d*I+y*R+C*w,n[4]=u*U+g*M+b*F,n[5]=h*U+_*M+v*F,n[6]=f*U+m*M+B*F,n[7]=d*U+y*M+C*F,n[8]=u*P+g*S+b*W,n[9]=h*P+_*S+v*W,n[10]=f*P+m*S+B*W,n[11]=d*P+y*S+C*W,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n)}function OQ(n,e,t){const r=Math.sin(t),i=Math.cos(t),s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],A=e[9],u=e[10],h=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=s*i+c*r,n[5]=a*i+A*r,n[6]=o*i+u*r,n[7]=l*i+h*r,n[8]=c*i-s*r,n[9]=A*i-a*r,n[10]=u*i-o*r,n[11]=h*i-l*r,n}function Yge(n,e,t){const r=Math.sin(t),i=Math.cos(t),s=e[0],a=e[1],o=e[2],l=e[3],c=e[8],A=e[9],u=e[10],h=e[11];return e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=s*i-c*r,n[1]=a*i-A*r,n[2]=o*i-u*r,n[3]=l*i-h*r,n[8]=s*r+c*i,n[9]=a*r+A*i,n[10]=o*r+u*i,n[11]=l*r+h*i,n}function zQ(n,e,t){const r=Math.sin(t),i=Math.cos(t),s=e[0],a=e[1],o=e[2],l=e[3],c=e[4],A=e[5],u=e[6],h=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=s*i+c*r,n[1]=a*i+A*r,n[2]=o*i+u*r,n[3]=l*i+h*r,n[4]=c*i-s*r,n[5]=A*i-a*r,n[6]=u*i-o*r,n[7]=h*i-l*r,n}function Gge(n,e){const t=e[0],r=e[1],i=e[2],s=e[4],a=e[5],o=e[6],l=e[8],c=e[9],A=e[10];return n[0]=Math.sqrt(t*t+r*r+i*i),n[1]=Math.sqrt(s*s+a*a+o*o),n[2]=Math.sqrt(l*l+c*c+A*A),n}function Vge(n,e){const t=e[0],r=e[1],i=e[2],s=e[3],a=t+t,o=r+r,l=i+i,c=t*a,A=r*a,u=r*o,h=i*a,f=i*o,d=i*l,g=s*a,_=s*o,m=s*l;return n[0]=1-u-d,n[1]=A+m,n[2]=h-_,n[3]=0,n[4]=A-m,n[5]=1-c-d,n[6]=f+g,n[7]=0,n[8]=h+_,n[9]=f-g,n[10]=1-c-u,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Kge(n,e,t,r,i,s,a){const o=1/(t-e),l=1/(i-r),c=1/(s-a);return n[0]=s*2*o,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s*2*l,n[6]=0,n[7]=0,n[8]=(t+e)*o,n[9]=(i+r)*l,n[10]=(a+s)*c,n[11]=-1,n[12]=0,n[13]=0,n[14]=a*s*2*c,n[15]=0,n}function $ge(n,e,t,r,i){const s=1/Math.tan(e/2);if(n[0]=s/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,i!=null&&i!==1/0){const a=1/(r-i);n[10]=(i+r)*a,n[14]=2*i*r*a}else n[10]=-1,n[14]=-2*r;return n}const Wge=$ge;function qge(n,e,t,r,i,s,a){const o=1/(e-t),l=1/(r-i),c=1/(s-a);return n[0]=-2*o,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*l,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*c,n[11]=0,n[12]=(e+t)*o,n[13]=(i+r)*l,n[14]=(a+s)*c,n[15]=1,n}const Xge=qge;function Jge(n,e,t,r){let i,s,a,o,l,c,A,u,h,f;const d=e[0],g=e[1],_=e[2],m=r[0],y=r[1],b=r[2],v=t[0],B=t[1],C=t[2];return Math.abs(d-v)<qg&&Math.abs(g-B)<qg&&Math.abs(_-C)<qg?zge(n):(u=d-v,h=g-B,f=_-C,i=1/Math.sqrt(u*u+h*h+f*f),u*=i,h*=i,f*=i,s=y*f-b*h,a=b*u-m*f,o=m*h-y*u,i=Math.sqrt(s*s+a*a+o*o),i?(i=1/i,s*=i,a*=i,o*=i):(s=0,a=0,o=0),l=h*o-f*a,c=f*s-u*o,A=u*a-h*s,i=Math.sqrt(l*l+c*c+A*A),i?(i=1/i,l*=i,c*=i,A*=i):(l=0,c=0,A=0),n[0]=s,n[1]=l,n[2]=u,n[3]=0,n[4]=a,n[5]=c,n[6]=h,n[7]=0,n[8]=o,n[9]=A,n[10]=f,n[11]=0,n[12]=-(s*d+a*g+o*_),n[13]=-(l*d+c*g+A*_),n[14]=-(u*d+h*g+f*_),n[15]=1,n)}function Zge(){const n=new Gl(4);return Gl!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0),n}function e3e(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n}function DR(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n}function t3e(n){const e=n[0],t=n[1],r=n[2],i=n[3];return Math.sqrt(e*e+t*t+r*r+i*i)}function n3e(n){const e=n[0],t=n[1],r=n[2],i=n[3];return e*e+t*t+r*r+i*i}function r3e(n,e){const t=e[0],r=e[1],i=e[2],s=e[3];let a=t*t+r*r+i*i+s*s;return a>0&&(a=1/Math.sqrt(a)),n[0]=t*a,n[1]=r*a,n[2]=i*a,n[3]=s*a,n}function i3e(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}function s3e(n,e,t,r){const i=e[0],s=e[1],a=e[2],o=e[3];return n[0]=i+r*(t[0]-i),n[1]=s+r*(t[1]-s),n[2]=a+r*(t[2]-a),n[3]=o+r*(t[3]-o),n}function zd(n,e,t){const r=e[0],i=e[1],s=e[2],a=e[3];return n[0]=t[0]*r+t[4]*i+t[8]*s+t[12]*a,n[1]=t[1]*r+t[5]*i+t[9]*s+t[13]*a,n[2]=t[2]*r+t[6]*i+t[10]*s+t[14]*a,n[3]=t[3]*r+t[7]*i+t[11]*s+t[15]*a,n}function a3e(n,e,t){const r=e[0],i=e[1],s=e[2],a=t[0],o=t[1],l=t[2],c=t[3],A=c*r+o*s-l*i,u=c*i+l*r-a*s,h=c*s+a*i-o*r,f=-a*r-o*i-l*s;return n[0]=A*c+f*-a+u*-l-h*-o,n[1]=u*c+f*-o+h*-a-A*-l,n[2]=h*c+f*-l+A*-o-u*-a,n[3]=e[3],n}(function(){const n=Zge();return function(e,t,r,i,s,a){let o,l;for(t||(t=4),r||(r=0),i?l=Math.min(i*t+r,e.length):l=e.length,o=r;o<l;o+=t)n[0]=e[o],n[1]=e[o+1],n[2]=e[o+2],n[3]=e[o+3],s(n,n,a),e[o]=n[0],e[o+1]=n[1],e[o+2]=n[2],e[o+3]=n[3];return e}})();var C9;(function(n){n[n.COL0ROW0=0]="COL0ROW0",n[n.COL0ROW1=1]="COL0ROW1",n[n.COL0ROW2=2]="COL0ROW2",n[n.COL0ROW3=3]="COL0ROW3",n[n.COL1ROW0=4]="COL1ROW0",n[n.COL1ROW1=5]="COL1ROW1",n[n.COL1ROW2=6]="COL1ROW2",n[n.COL1ROW3=7]="COL1ROW3",n[n.COL2ROW0=8]="COL2ROW0",n[n.COL2ROW1=9]="COL2ROW1",n[n.COL2ROW2=10]="COL2ROW2",n[n.COL2ROW3=11]="COL2ROW3",n[n.COL3ROW0=12]="COL3ROW0",n[n.COL3ROW1=13]="COL3ROW1",n[n.COL3ROW2=14]="COL3ROW2",n[n.COL3ROW3=15]="COL3ROW3"})(C9||(C9={}));const o3e=45*Math.PI/180,l3e=1,l8=.1,c8=500,c3e=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Yn extends DQ{static get IDENTITY(){return u3e()}static get ZERO(){return A3e()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return C9}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,r,i,s,a,o,l,c,A,u,h,f,d,g,_){return this[0]=e,this[1]=t,this[2]=r,this[3]=i,this[4]=s,this[5]=a,this[6]=o,this[7]=l,this[8]=c,this[9]=A,this[10]=u,this[11]=h,this[12]=f,this[13]=d,this[14]=g,this[15]=_,this.check()}setRowMajor(e,t,r,i,s,a,o,l,c,A,u,h,f,d,g,_){return this[0]=e,this[1]=s,this[2]=c,this[3]=f,this[4]=t,this[5]=a,this[6]=A,this[7]=d,this[8]=r,this[9]=o,this[10]=u,this[11]=g,this[12]=i,this[13]=l,this[14]=h,this[15]=_,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(c3e)}fromObject(e){return this.check()}fromQuaternion(e){return Vge(this,e),this.check()}frustum(e){const{left:t,right:r,bottom:i,top:s,near:a=l8,far:o=c8}=e;return o===1/0?f3e(this,t,r,i,s,a):Kge(this,t,r,i,s,a,o),this.check()}lookAt(e){const{eye:t,center:r=[0,0,0],up:i=[0,1,0]}=e;return Jge(this,t,r,i),this.check()}ortho(e){const{left:t,right:r,bottom:i,top:s,near:a=l8,far:o=c8}=e;return Xge(this,t,r,i,s,a,o),this.check()}orthographic(e){const{fovy:t=o3e,aspect:r=l3e,focalDistance:i=1,near:s=l8,far:a=c8}=e;lS(t);const o=t/2,l=i*Math.tan(o),c=l*r;return this.ortho({left:-c,right:c,bottom:-l,top:l,near:s,far:a})}perspective(e){const{fovy:t=45*Math.PI/180,aspect:r=1,near:i=.1,far:s=500}=e;return lS(t),Wge(this,t,r,i,s),this.check()}determinant(){return Qge(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];const r=this.getScale(t),i=1/r[0],s=1/r[1],a=1/r[2];return e[0]=this[0]*i,e[1]=this[1]*s,e[2]=this[2]*a,e[3]=0,e[4]=this[4]*i,e[5]=this[5]*s,e[6]=this[6]*a,e[7]=0,e[8]=this[8]*i,e[9]=this[9]*s,e[10]=this[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];const r=this.getScale(t),i=1/r[0],s=1/r[1],a=1/r[2];return e[0]=this[0]*i,e[1]=this[1]*s,e[2]=this[2]*a,e[3]=this[4]*i,e[4]=this[5]*s,e[5]=this[6]*a,e[6]=this[8]*i,e[7]=this[9]*s,e[8]=this[10]*a,e}transpose(){return Hge(this,this),this.check()}invert(){return E9(this,this),this.check()}multiplyLeft(e){return I1(this,e,this),this.check()}multiplyRight(e){return I1(this,this,e),this.check()}rotateX(e){return OQ(this,this,e),this.check()}rotateY(e){return Yge(this,this,e),this.check()}rotateZ(e){return zQ(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,t){return jge(this,this,e,t),this.check()}scale(e){return PR(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return $5(this,this,e),this.check()}transform(e,t){return e.length===4?(t=zd(t||[-0,-0,-0,-0],e,this),Wg(t,4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:r}=e;let i;switch(r){case 2:i=CQ(t||[-0,-0],e,this);break;case 3:i=NR(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Wg(i,e.length),i}transformAsVector(e,t){let r;switch(e.length){case 2:r=IQ(t||[-0,-0],e,this);break;case 3:r=TQ(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Wg(r,e.length),r}transformPoint(e,t){return this.transformAsPoint(e,t)}transformVector(e,t){return this.transformAsPoint(e,t)}transformDirection(e,t){return this.transformAsVector(e,t)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,r){return this.identity().translate([e,t,r])}}let y4,b4;function A3e(){return y4||(y4=new Yn([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(y4)),y4}function u3e(){return b4||(b4=new Yn,Object.freeze(b4)),b4}function lS(n){if(n>Math.PI*2)throw Error("expected radians")}function f3e(n,e,t,r,i,s){const a=2*s/(t-e),o=2*s/(i-r),l=(t+e)/(t-e),c=(i+r)/(i-r),A=-1,u=-1,h=-2*s;return n[0]=a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=l,n[9]=c,n[10]=A,n[11]=u,n[12]=0,n[13]=0,n[14]=h,n[15]=0,n}function cS(){const n=new Gl(4);return Gl!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function h3e(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function HQ(n,e,t){t=t*.5;const r=Math.sin(t);return n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=Math.cos(t),n}function AS(n,e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=t[0],l=t[1],c=t[2],A=t[3];return n[0]=r*A+a*o+i*c-s*l,n[1]=i*A+a*l+s*o-r*c,n[2]=s*A+a*c+r*l-i*o,n[3]=a*A-r*o-i*l-s*c,n}function d3e(n,e,t){t*=.5;const r=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(t),l=Math.cos(t);return n[0]=r*l+a*o,n[1]=i*l+s*o,n[2]=s*l-i*o,n[3]=a*l-r*o,n}function g3e(n,e,t){t*=.5;const r=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(t),l=Math.cos(t);return n[0]=r*l-s*o,n[1]=i*l+a*o,n[2]=s*l+r*o,n[3]=a*l-i*o,n}function p3e(n,e,t){t*=.5;const r=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(t),l=Math.cos(t);return n[0]=r*l+i*o,n[1]=i*l-r*o,n[2]=s*l+a*o,n[3]=a*l-s*o,n}function _3e(n,e){const t=e[0],r=e[1],i=e[2];return n[0]=t,n[1]=r,n[2]=i,n[3]=Math.sqrt(Math.abs(1-t*t-r*r-i*i)),n}function Bm(n,e,t,r){const i=e[0],s=e[1],a=e[2],o=e[3];let l=t[0],c=t[1],A=t[2],u=t[3],h,f,d,g,_;return h=i*l+s*c+a*A+o*u,h<0&&(h=-h,l=-l,c=-c,A=-A,u=-u),1-h>qg?(f=Math.acos(h),_=Math.sin(f),d=Math.sin((1-r)*f)/_,g=Math.sin(r*f)/_):(d=1-r,g=r),n[0]=d*i+g*l,n[1]=d*s+g*c,n[2]=d*a+g*A,n[3]=d*o+g*u,n}function m3e(n,e){const t=e[0],r=e[1],i=e[2],s=e[3],a=t*t+r*r+i*i+s*s,o=a?1/a:0;return n[0]=-t*o,n[1]=-r*o,n[2]=-i*o,n[3]=s*o,n}function y3e(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n}function QQ(n,e){const t=e[0]+e[4]+e[8];let r;if(t>0)r=Math.sqrt(t+1),n[3]=.5*r,r=.5/r,n[0]=(e[5]-e[7])*r,n[1]=(e[6]-e[2])*r,n[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);const s=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[s*3+s]-e[a*3+a]+1),n[i]=.5*r,r=.5/r,n[3]=(e[s*3+a]-e[a*3+s])*r,n[s]=(e[s*3+i]+e[i*3+s])*r,n[a]=(e[a*3+i]+e[i*3+a])*r}return n}const b3e=e3e,v3e=DR,w3e=i3e,L3e=s3e,x3e=t3e,R3e=n3e,jQ=r3e,B3e=function(){const n=SQ(),e=sS(1,0,0),t=sS(0,1,0);return function(r,i,s){const a=UR(i,s);return a<-.999999?(Rm(n,e,i),PQ(n)<1e-6&&Rm(n,t,i),xge(n,n),HQ(r,n,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Rm(n,i,s),r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=1+a,jQ(r,r))}}();(function(){const n=cS(),e=cS();return function(t,r,i,s,a,o){return Bm(n,r,a,o),Bm(e,i,s,o),Bm(t,n,e,2*o*(1-o)),t}})();(function(){const n=Tge();return function(e,t,r,i){return n[0]=r[0],n[3]=r[1],n[6]=r[2],n[1]=i[0],n[4]=i[1],n[7]=i[2],n[2]=-t[0],n[5]=-t[1],n[8]=-t[2],jQ(e,QQ(e,n))}})();const E3e=[0,0,0,1];class O3 extends MR{constructor(e=0,t=0,r=0,i=1){super(-0,-0,-0,-0),Array.isArray(e)&&arguments.length===1?this.copy(e):this.set(e,t,r,i)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,t,r,i){return this[0]=e,this[1]=t,this[2]=r,this[3]=i,this.check()}fromObject(e){return this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this.check()}fromMatrix3(e){return QQ(this,e),this.check()}fromAxisRotation(e,t){return HQ(this,e,t),this.check()}identity(){return h3e(this),this.check()}setAxisAngle(e,t){return this.fromAxisRotation(e,t)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=dr(e)}get y(){return this[1]}set y(e){this[1]=dr(e)}get z(){return this[2]}set z(e){this[2]=dr(e)}get w(){return this[3]}set w(e){this[3]=dr(e)}len(){return x3e(this)}lengthSquared(){return R3e(this)}dot(e){return w3e(this,e)}rotationTo(e,t){return B3e(this,e,t),this.check()}add(e){return b3e(this,this,e),this.check()}calculateW(){return _3e(this,this),this.check()}conjugate(){return y3e(this,this),this.check()}invert(){return m3e(this,this),this.check()}lerp(e,t,r){return r===void 0?this.lerp(this,e,t):(L3e(this,e,t,r),this.check())}multiplyRight(e){return AS(this,this,e),this.check()}multiplyLeft(e){return AS(this,e,this),this.check()}normalize(){const e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,e===0&&(this[3]=1),this.check()}rotateX(e){return d3e(this,this,e),this.check()}rotateY(e){return g3e(this,this,e),this.check()}rotateZ(e){return p3e(this,this,e),this.check()}scale(e){return v3e(this,this,e),this.check()}slerp(e,t,r){let i,s,a;switch(arguments.length){case 1:({start:i=E3e,target:s,ratio:a}=e);break;case 2:i=this,s=e,a=t;break;default:i=e,s=t,a=r}return Bm(this,i,s,a),this.check()}transformVector4(e,t=new kR){return a3e(t,e,this),Wg(t,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,t){return this.setAxisAngle(e,t)}premultiply(e){return this.multiplyLeft(e)}multiply(e){return this.multiplyRight(e)}}const C3e=.1,I3e=1e-12,YQ=1e-15,T3e=1e-20;function GQ(n,e=[],t=0){const r=Math.fround(n),i=n-r;return e[t]=r,e[t+1]=i,e}function M3e(n){return n-Math.fround(n)}function S3e(n){const e=new Float32Array(32);for(let t=0;t<4;++t)for(let r=0;r<4;++r){const i=t*4+r;GQ(n[r*4+t],e,i*2)}return e}const F3e=`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND

// All these functions are for substituting tan() function from Intel GPU only
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;

const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;

const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;

const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01; // 1/3!
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03; // 1/5!
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04; // 1/7!
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06; // 1/9!

float sin_taylor_fp32(float a) {
  float r, s, t, x;

  if (a == 0.0) {
    return 0.0;
  }

  x = -a * a;
  s = a;
  r = a;

  r = r * x;
  t = r * INVERSE_FACTORIAL_3;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_5;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_7;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_9;
  s = s + t;

  return s;
}

void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
  if (a == 0.0) {
    sin_t = 0.0;
    cos_t = 1.0;
  }
  sin_t = sin_taylor_fp32(a);
  cos_t = sqrt(1.0 - sin_t * sin_t);
}

float tan_taylor_fp32(float a) {
    float sin_a;
    float cos_a;

    if (a == 0.0) {
        return 0.0;
    }

    // 2pi range reduction
    float z = floor(a / TWO_PI);
    float r = a - TWO_PI * z;

    float t;
    float q = floor(r / PI_2 + 0.5);
    int j = int(q);

    if (j < -2 || j > 2) {
        return 1.0 / 0.0;
    }

    t = r - PI_2 * q;

    q = floor(t / PI_16 + 0.5);
    int k = int(q);
    int abs_k = int(abs(float(k)));

    if (abs_k > 4) {
        return 1.0 / 0.0;
    } else {
        t = t - PI_16 * q;
    }

    float u = 0.0;
    float v = 0.0;

    float sin_t, cos_t;
    float s, c;
    sincos_taylor_fp32(t, sin_t, cos_t);

    if (k == 0) {
        s = sin_t;
        c = cos_t;
    } else {
        if (abs(float(abs_k) - 1.0) < 0.5) {
            u = COS_TABLE_0;
            v = SIN_TABLE_0;
        } else if (abs(float(abs_k) - 2.0) < 0.5) {
            u = COS_TABLE_1;
            v = SIN_TABLE_1;
        } else if (abs(float(abs_k) - 3.0) < 0.5) {
            u = COS_TABLE_2;
            v = SIN_TABLE_2;
        } else if (abs(float(abs_k) - 4.0) < 0.5) {
            u = COS_TABLE_3;
            v = SIN_TABLE_3;
        }
        if (k > 0) {
            s = u * sin_t + v * cos_t;
            c = u * cos_t - v * sin_t;
        } else {
            s = u * sin_t - v * cos_t;
            c = u * cos_t + v * sin_t;
        }
    }

    if (j == 0) {
        sin_a = s;
        cos_a = c;
    } else if (j == 1) {
        sin_a = c;
        cos_a = -s;
    } else if (j == -1) {
        sin_a = -c;
        cos_a = s;
    } else {
        sin_a = -s;
        cos_a = -c;
    }
    return sin_a / cos_a;
}
#endif

float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
  return tan_taylor_fp32(a);
#else
  return tan(a);
#endif
}
`,U3e={name:"fp32",vs:F3e},N3e=`
uniform fp64arithmeticUniforms {
  uniform float ONE;
} fp64;

/*
About LUMA_FP64_CODE_ELIMINATION_WORKAROUND

The purpose of this workaround is to prevent shader compilers from
optimizing away necessary arithmetic operations by swapping their sequences
or transform the equation to some 'equivalent' form.

The method is to multiply an artifical variable, ONE, which will be known to
the compiler to be 1 only at runtime. The whole expression is then represented
as a polynomial with respective to ONE. In the coefficients of all terms, only one a
and one b should appear

err = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE
*/

// Divide float number to high and low floats to extend fraction bits
vec2 split(float a) {
  const float SPLIT = 4097.0;
  float t = a * SPLIT;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float a_hi = t * fp64.ONE - (t - a);
  float a_lo = a * fp64.ONE - a_hi;
#else
  float a_hi = t - (t - a);
  float a_lo = a - a_hi;
#endif
  return vec2(a_hi, a_lo);
}

// Divide float number again when high float uses too many fraction bits
vec2 split2(vec2 a) {
  vec2 b = split(a.x);
  b.y += a.y;
  return b;
}

// Special sum operation when a > b
vec2 quickTwoSum(float a, float b) {
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float sum = (a + b) * fp64.ONE;
  float err = b - (sum - a) * fp64.ONE;
#else
  float sum = a + b;
  float err = b - (sum - a);
#endif
  return vec2(sum, err);
}

// General sum operation
vec2 twoSum(float a, float b) {
  float s = (a + b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE + (b - v);
#else
  float v = s - a;
  float err = (a - (s - v)) + (b - v);
#endif
  return vec2(s, err);
}

vec2 twoSub(float a, float b) {
  float s = (a - b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE - (b + v);
#else
  float v = s - a;
  float err = (a - (s - v)) - (b + v);
#endif
  return vec2(s, err);
}

vec2 twoSqr(float a) {
  float prod = a * a;
  vec2 a_fp64 = split(a);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float err = ((a_fp64.x * a_fp64.x - prod) * fp64.ONE + 2.0 * a_fp64.x *
    a_fp64.y * fp64.ONE * fp64.ONE) + a_fp64.y * a_fp64.y * fp64.ONE * fp64.ONE * fp64.ONE;
#else
  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;
#endif
  return vec2(prod, err);
}

vec2 twoProd(float a, float b) {
  float prod = a * b;
  vec2 a_fp64 = split(a);
  vec2 b_fp64 = split(b);
  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +
    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;
  return vec2(prod, err);
}

vec2 sum_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSum(a.x, b.x);
  t = twoSum(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 sub_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSub(a.x, b.x);
  t = twoSub(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 mul_fp64(vec2 a, vec2 b) {
  vec2 prod = twoProd(a.x, b.x);
  // y component is for the error
  prod.y += a.x * b.y;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  prod.y += a.y * b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  return prod;
}

vec2 div_fp64(vec2 a, vec2 b) {
  float xn = 1.0 / b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  vec2 yn = mul_fp64(a, vec2(xn, 0));
#else
  vec2 yn = a * xn;
#endif
  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;
  vec2 prod = twoProd(xn, diff);
  return sum_fp64(yn, prod);
}

vec2 sqrt_fp64(vec2 a) {
  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);
  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);

  float x = 1.0 / sqrt(a.x);
  float yn = a.x * x;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  vec2 yn_sqr = twoSqr(yn) * fp64.ONE;
#else
  vec2 yn_sqr = twoSqr(yn);
#endif
  float diff = sub_fp64(a, yn_sqr).x;
  vec2 prod = twoProd(x * 0.5, diff);
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  return sum_fp64(split(yn), prod);
#else
  return sum_fp64(vec2(yn, 0.0), prod);
#endif
}
`,k3e={ONE:1},P3e={name:"fp64arithmetic",vs:N3e,defaultUniforms:k3e,uniformTypes:{ONE:"f32"},fp64ify:GQ,fp64LowPart:M3e,fp64ifyMatrix4:S3e},D3e=[0,1,1,1],O3e=`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

out vec4 picking_vRGBcolor_Avalid;

// Normalize unsigned byte color to 0-1 range
vec3 picking_normalizeColor(vec3 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

// Normalize unsigned byte color to 0-1 range
vec4 picking_normalizeColor(vec4 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

bool picking_isColorZero(vec3 color) {
  return dot(color, vec3(1.0)) < 0.00001;
}

bool picking_isColorValid(vec3 color) {
  return dot(color, vec3(1.0)) > 0.00001;
}

// Check if this vertex is highlighted 
bool isVertexHighlighted(vec3 vertexColor) {
  vec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);
  return
    bool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));
}

// Set the current picking color
void picking_setPickingColor(vec3 pickingColor) {
  pickingColor = picking_normalizeColor(pickingColor);

  if (bool(picking.isActive)) {
    // Use alpha as the validity flag. If pickingColor is [0, 0, 0] fragment is non-pickable
    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));

    if (!bool(picking.isAttribute)) {
      // Stores the picking color so that the fragment shader can render it during picking
      picking_vRGBcolor_Avalid.rgb = pickingColor;
    }
  } else {
    // Do the comparison with selected item color in vertex shader as it should mean fewer compares
    picking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));
  }
}

void picking_setPickingAttribute(float value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.r = value;
  }
}

void picking_setPickingAttribute(vec2 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rg = value;
  }
}

void picking_setPickingAttribute(vec3 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rgb = value;
  }
}
`,z3e=`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

in vec4 picking_vRGBcolor_Avalid;

/*
 * Returns highlight color if this item is selected.
 */
vec4 picking_filterHighlightColor(vec4 color) {
  // If we are still picking, we don't highlight
  if (picking.isActive > 0.5) {
    return color;
  }

  bool selected = bool(picking_vRGBcolor_Avalid.a);

  if (selected) {
    // Blend in highlight color based on its alpha value
    float highLightAlpha = picking.highlightColor.a;
    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
    float highLightRatio = highLightAlpha / blendedAlpha;

    vec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);
    return vec4(blendedRGB, blendedAlpha);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 picking_filterPickingColor(vec4 color) {
  if (bool(picking.isActive)) {
    if (picking_vRGBcolor_Avalid.a == 0.0) {
      discard;
    }
    return picking_vRGBcolor_Avalid;
  }
  return color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 picking_filterColor(vec4 color) {
  vec4 highlightColor = picking_filterHighlightColor(color);
  return picking_filterPickingColor(highlightColor);
}
`,uS={props:{},uniforms:{},name:"picking",uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:[0,0,0],highlightColor:D3e},vs:O3e,fs:z3e,getUniforms:H3e};function H3e(n={},e){const t={};if(n.highlightedObjectColor!==void 0)if(n.highlightedObjectColor===null)t.isHighlightActive=!1;else{t.isHighlightActive=!0;const r=n.highlightedObjectColor.slice(0,3);t.highlightedObjectColor=r}if(n.highlightColor){const r=Array.from(n.highlightColor,i=>i/255);Number.isFinite(r[3])||(r[3]=1),t.highlightColor=r}return n.isActive!==void 0&&(t.isActive=!!n.isActive,t.isAttribute=!!n.isAttribute),n.useFloatColors!==void 0&&(t.useFloatColors=!!n.useFloatColors),t}const fS=`precision highp int;

// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  vec3 color;
};

struct PointLight {
  vec3 color;
  vec3 position;
  vec3 attenuation; // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  vec3 color;
  vec3 direction;
};

uniform lightingUniforms {
  int enabled;
  int lightType;

  int directionalLightCount;
  int pointLightCount;

  vec3 ambientColor;

  vec3 lightColor0;
  vec3 lightPosition0;
  vec3 lightDirection0;
  vec3 lightAttenuation0;

  vec3 lightColor1;
  vec3 lightPosition1;
  vec3 lightDirection1;
  vec3 lightAttenuation1;

  vec3 lightColor2;
  vec3 lightPosition2;
  vec3 lightDirection2;
  vec3 lightAttenuation2;
} lighting;

PointLight lighting_getPointLight(int index) {
  switch (index) {
    case 0:
      return PointLight(lighting.lightColor0, lighting.lightPosition0, lighting.lightAttenuation0);
    case 1:
      return PointLight(lighting.lightColor1, lighting.lightPosition1, lighting.lightAttenuation1);
    case 2:
    default:  
      return PointLight(lighting.lightColor2, lighting.lightPosition2, lighting.lightAttenuation2);
  }
}

DirectionalLight lighting_getDirectionalLight(int index) {
  switch (index) {
    case 0:
      return DirectionalLight(lighting.lightColor0, lighting.lightDirection0);
    case 1:
      return DirectionalLight(lighting.lightColor1, lighting.lightDirection1);
    case 2:
    default:   
      return DirectionalLight(lighting.lightColor2, lighting.lightDirection2);
  }
} 

float getPointLightAttenuation(PointLight pointLight, float distance) {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}

// #endif
`,Q3e=`// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  color: vec3<f32>,
};

struct PointLight {
  color: vec3<f32>,
  position: vec3<f32>,
  attenuation: vec3<f32>, // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  color: vec3<f32>,
  direction: vec3<f32>,
};

struct lightingUniforms {
  enabled: i32,
  pointLightCount: i32,
  directionalLightCount: i32,

  ambientColor: vec3<f32>,

  // TODO - support multiple lights by uncommenting arrays below
  lightType: i32,
  lightColor: vec3<f32>,
  lightDirection: vec3<f32>,
  lightPosition: vec3<f32>,
  lightAttenuation: vec3<f32>,

  // AmbientLight ambientLight;
  // PointLight pointLight[MAX_LIGHTS];
  // DirectionalLight directionalLight[MAX_LIGHTS];
};

// Binding 0:1 is reserved for lighting (Note: could go into separate bind group as it is stable across draw calls)
@binding(1) @group(0) var<uniform> lighting : lightingUniforms;

fn lighting_getPointLight(index: i32) -> PointLight {
  return PointLight(lighting.lightColor, lighting.lightPosition, lighting.lightAttenuation);
}

fn lighting_getDirectionalLight(index: i32) -> DirectionalLight {
  return DirectionalLight(lighting.lightColor, lighting.lightDirection);
} 

fn getPointLightAttenuation(pointLight: PointLight, distance: f32) -> f32 {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}
`,j3e=5,Y3e=255;var z3;(function(n){n[n.POINT=0]="POINT",n[n.DIRECTIONAL=1]="DIRECTIONAL"})(z3||(z3={}));const zh={props:{},uniforms:{},name:"lighting",defines:{},uniformTypes:{enabled:"i32",lightType:"i32",directionalLightCount:"i32",pointLightCount:"i32",ambientColor:"vec3<f32>",lightColor0:"vec3<f32>",lightPosition0:"vec3<f32>",lightDirection0:"vec3<f32>",lightAttenuation0:"vec3<f32>",lightColor1:"vec3<f32>",lightPosition1:"vec3<f32>",lightDirection1:"vec3<f32>",lightAttenuation1:"vec3<f32>",lightColor2:"vec3<f32>",lightPosition2:"vec3<f32>",lightDirection2:"vec3<f32>",lightAttenuation2:"vec3<f32>"},defaultUniforms:{enabled:1,lightType:z3.POINT,directionalLightCount:0,pointLightCount:0,ambientColor:[.1,.1,.1],lightColor0:[1,1,1],lightPosition0:[1,1,2],lightDirection0:[1,1,1],lightAttenuation0:[1,0,0],lightColor1:[1,1,1],lightPosition1:[1,1,2],lightDirection1:[1,1,1],lightAttenuation1:[1,0,0],lightColor2:[1,1,1],lightPosition2:[1,1,2],lightDirection2:[1,1,1],lightAttenuation2:[1,0,0]},source:Q3e,vs:fS,fs:fS,getUniforms:G3e};function G3e(n,e={}){if(n=n&&{...n},!n)return{...zh.defaultUniforms};n.lights&&(n={...n,...K3e(n.lights),lights:void 0});const{ambientLight:t,pointLights:r,directionalLights:i}=n||{};if(!(t||r&&r.length>0||i&&i.length>0))return{...zh.defaultUniforms,enabled:0};const a={...zh.defaultUniforms,...e,...V3e({ambientLight:t,pointLights:r,directionalLights:i})};return n.enabled!==void 0&&(a.enabled=n.enabled?1:0),a}function V3e({ambientLight:n,pointLights:e=[],directionalLights:t=[]}){const r={};r.ambientColor=A8(n);let i=0;for(const s of e){r.lightType=z3.POINT;const a=i;r[`lightColor${a}`]=A8(s),r[`lightPosition${a}`]=s.position,r[`lightAttenuation${a}`]=s.attenuation||[1,0,0],i++}for(const s of t){r.lightType=z3.DIRECTIONAL;const a=i;r[`lightColor${a}`]=A8(s),r[`lightDirection${a}`]=s.direction,i++}return i>j3e&&mt.warn("MAX_LIGHTS exceeded")(),r.directionalLightCount=t.length,r.pointLightCount=e.length,r}function K3e(n){var t,r;const e={pointLights:[],directionalLights:[]};for(const i of n||[])switch(i.type){case"ambient":e.ambientLight=i;break;case"directional":(t=e.directionalLights)==null||t.push(i);break;case"point":(r=e.pointLights)==null||r.push(i);break}return e}function A8(n={}){const{color:e=[0,0,0],intensity:t=1}=n;return e.map(r=>r*t/Y3e)}const VQ=`uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;
`,KQ=`#define MAX_LIGHTS 3

uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {
  vec3 halfway_direction = normalize(light_direction + view_direction);
  float lambertian = dot(light_direction, normal_worldspace);
  float specular = 0.0;
  if (lambertian > 0.0) {
    float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, material.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * material.diffuse * surfaceColor + specular * material.specularColor) * color;
}

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  vec3 view_direction = normalize(cameraPosition - position_worldspace);
  lightColor = material.ambient * surfaceColor * lighting.ambientColor;

  for (int i = 0; i < lighting.pointLightCount; i++) {
    PointLight pointLight = lighting_getPointLight(i);
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    float light_attenuation = getPointLightAttenuation(pointLight, distance(light_position_worldspace, position_worldspace));
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color / light_attenuation);
  }

  int totalLights = min(MAX_LIGHTS, lighting.pointLightCount + lighting.directionalLightCount);
  for (int i = lighting.pointLightCount; i < totalLights; i++) {
    DirectionalLight directionalLight = lighting_getDirectionalLight(i);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
}
`,$Q=`struct phongMaterialUniforms {
  ambient: f32,
  diffuse: f32,
  shininess: f32,
  specularColor: vec3<f32>,
};

@binding(2) @group(0) var<uniform> phongMaterial : phongMaterialUniforms;

fn lighting_getLightColor(surfaceColor: vec3<f32>, light_direction: vec3<f32>, view_direction: vec3<f32>, normal_worldspace: vec3<f32>, color: vec3<f32>) -> vec3<f32> {
  let halfway_direction: vec3<f32> = normalize(light_direction + view_direction);
  var lambertian: f32 = dot(light_direction, normal_worldspace);
  var specular: f32 = 0.0;
  if (lambertian > 0.0) {
    let specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, phongMaterial.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * phongMaterial.diffuse * surfaceColor + specular * phongMaterial.specularColor) * color;
}

fn lighting_getLightColor2(surfaceColor: vec3<f32>, cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32> {
  var lightColor: vec3<f32> = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  let view_direction: vec3<f32> = normalize(cameraPosition - position_worldspace);
  lightColor = phongMaterial.ambient * surfaceColor * lighting.ambientColor;

  if (lighting.lightType == 0) {
    let pointLight: PointLight  = lighting_getPointLight(0);
    let light_position_worldspace: vec3<f32> = pointLight.position;
    let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  } else if (lighting.lightType == 1) {
    var directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
  /*
  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.pointLightCount) {
      break;
    }
    PointLight pointLight = lighting.pointLight[i];
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  }

  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.directionalLightCount) {
      break;
    }
    DirectionalLight directionalLight = lighting.directionalLight[i];
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  */
}

fn lighting_getSpecularLightColor(cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32>{
  var lightColor = vec3<f32>(0, 0, 0);
  let surfaceColor = vec3<f32>(0, 0, 0);

  if (lighting.enabled == 0) {
    let view_direction = normalize(cameraPosition - position_worldspace);

    switch (lighting.lightType) {
      case 0, default: {
        let pointLight: PointLight = lighting_getPointLight(0);
        let light_position_worldspace: vec3<f32> = pointLight.position;
        let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
        lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
      }
      case 1: {
        let directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
        lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
      }
    }
  }
  return lightColor;
}
`,WQ={props:{},name:"gouraudMaterial",vs:KQ.replace("phongMaterial","gouraudMaterial"),fs:VQ.replace("phongMaterial","gouraudMaterial"),source:$Q.replaceAll("phongMaterial","gouraudMaterial"),defines:{LIGHTING_VERTEX:!0},dependencies:[zh],uniformTypes:{ambient:"f32",diffuse:"f32",shininess:"f32",specularColor:"vec3<f32>"},defaultUniforms:{ambient:.35,diffuse:.6,shininess:32,specularColor:[.15,.15,.15]},getUniforms(n){const e={...n};return e.specularColor&&(e.specularColor=e.specularColor.map(t=>t/255)),{...WQ.defaultUniforms,...e}}},qQ={name:"phongMaterial",dependencies:[zh],source:$Q,vs:VQ,fs:KQ,defines:{LIGHTING_FRAGMENT:!0},uniformTypes:{ambient:"f32",diffuse:"f32",shininess:"f32",specularColor:"vec3<f32>"},defaultUniforms:{ambient:.35,diffuse:.6,shininess:32,specularColor:[.15,.15,.15]},getUniforms(n){const e={...n};return e.specularColor&&(e.specularColor=e.specularColor.map(t=>t/255)),{...qQ.defaultUniforms,...e}}},$3e=`out vec3 pbr_vPosition;
out vec2 pbr_vUV;

#ifdef HAS_NORMALS
# ifdef HAS_TANGENTS
out mat3 pbr_vTBN;
# else
out vec3 pbr_vNormal;
# endif
#endif

void pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)
{
  vec4 pos = pbrProjection.modelMatrix * position;
  pbr_vPosition = vec3(pos.xyz) / pos.w;

#ifdef HAS_NORMALS
#ifdef HAS_TANGENTS
  vec3 normalW = normalize(vec3(pbrProjection.normalMatrix * vec4(normal.xyz, 0.0)));
  vec3 tangentW = normalize(vec3(pbrProjection.modelMatrix * vec4(tangent.xyz, 0.0)));
  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;
  pbr_vTBN = mat3(tangentW, bitangentW, normalW);
#else // HAS_TANGENTS != 1
  pbr_vNormal = normalize(vec3(pbrProjection.modelMatrix * vec4(normal.xyz, 0.0)));
#endif
#endif

#ifdef HAS_UV
  pbr_vUV = uv;
#else
  pbr_vUV = vec2(0.,0.);
#endif
}
`,W3e=`precision highp float;

uniform pbrMaterialUniforms {
  // Material is unlit
  bool unlit;

  // Base color map
  bool baseColorMapEnabled;
  vec4 baseColorFactor;

  bool normalMapEnabled;  
  float normalScale; // #ifdef HAS_NORMALMAP

  bool emissiveMapEnabled;
  vec3 emissiveFactor; // #ifdef HAS_EMISSIVEMAP

  vec2 metallicRoughnessValues;
  bool metallicRoughnessMapEnabled;

  bool occlusionMapEnabled;
  float occlusionStrength; // #ifdef HAS_OCCLUSIONMAP
  
  bool alphaCutoffEnabled;
  float alphaCutoff; // #ifdef ALPHA_CUTOFF
  
  // IBL
  bool IBLenabled;
  vec2 scaleIBLAmbient; // #ifdef USE_IBL
  
  // debugging flags used for shader output of intermediate PBR variables
  // #ifdef PBR_DEBUG
  vec4 scaleDiffBaseMR;
  vec4 scaleFGDSpec;
  // #endif
} pbrMaterial;

// Samplers
#ifdef HAS_BASECOLORMAP
uniform sampler2D pbr_baseColorSampler;
#endif
#ifdef HAS_NORMALMAP
uniform sampler2D pbr_normalSampler;
#endif
#ifdef HAS_EMISSIVEMAP
uniform sampler2D pbr_emissiveSampler;
#endif
#ifdef HAS_METALROUGHNESSMAP
uniform sampler2D pbr_metallicRoughnessSampler;
#endif
#ifdef HAS_OCCLUSIONMAP
uniform sampler2D pbr_occlusionSampler;
#endif
#ifdef USE_IBL
uniform samplerCube pbr_diffuseEnvSampler;
uniform samplerCube pbr_specularEnvSampler;
uniform sampler2D pbr_brdfLUT;
#endif

// Inputs from vertex shader

in vec3 pbr_vPosition;
in vec2 pbr_vUV;

#ifdef HAS_NORMALS
#ifdef HAS_TANGENTS
in mat3 pbr_vTBN;
#else
in vec3 pbr_vNormal;
#endif
#endif

// Encapsulate the various inputs used by the various functions in the shading equation
// We store values in this struct to simplify the integration of alternative implementations
// of the shading terms, outlined in the Readme.MD Appendix.
struct PBRInfo {
  float NdotL;                  // cos angle between normal and light direction
  float NdotV;                  // cos angle between normal and view direction
  float NdotH;                  // cos angle between normal and half vector
  float LdotH;                  // cos angle between light direction and half vector
  float VdotH;                  // cos angle between view direction and half vector
  float perceptualRoughness;    // roughness value, as authored by the model creator (input to shader)
  float metalness;              // metallic value at the surface
  vec3 reflectance0;            // full reflectance color (normal incidence angle)
  vec3 reflectance90;           // reflectance color at grazing angle
  float alphaRoughness;         // roughness mapped to a more linear change in the roughness (proposed by [2])
  vec3 diffuseColor;            // color contribution from diffuse lighting
  vec3 specularColor;           // color contribution from specular lighting
  vec3 n;                       // normal at surface point
  vec3 v;                       // vector from surface point to camera
};

const float M_PI = 3.141592653589793;
const float c_MinRoughness = 0.04;

vec4 SRGBtoLINEAR(vec4 srgbIn)
{
#ifdef MANUAL_SRGB
#ifdef SRGB_FAST_APPROXIMATION
  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));
#else // SRGB_FAST_APPROXIMATION
  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);
  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );
#endif //SRGB_FAST_APPROXIMATION
  return vec4(linOut,srgbIn.w);;
#else //MANUAL_SRGB
  return srgbIn;
#endif //MANUAL_SRGB
}

// Find the normal for this fragment, pulling either from a predefined normal map
// or from the interpolated mesh normal and tangent attributes.
vec3 getNormal()
{
  // Retrieve the tangent space matrix
#ifndef HAS_TANGENTS
  vec3 pos_dx = dFdx(pbr_vPosition);
  vec3 pos_dy = dFdy(pbr_vPosition);
  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));
  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));
  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);

#ifdef HAS_NORMALS
  vec3 ng = normalize(pbr_vNormal);
#else
  vec3 ng = cross(pos_dx, pos_dy);
#endif

  t = normalize(t - ng * dot(ng, t));
  vec3 b = normalize(cross(ng, t));
  mat3 tbn = mat3(t, b, ng);
#else // HAS_TANGENTS
  mat3 tbn = pbr_vTBN;
#endif

#ifdef HAS_NORMALMAP
  vec3 n = texture(pbr_normalSampler, pbr_vUV).rgb;
  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(pbrMaterial.normalScale, pbrMaterial.normalScale, 1.0)));
#else
  // The tbn matrix is linearly interpolated, so we need to re-normalize
  vec3 n = normalize(tbn[2].xyz);
#endif

  return n;
}

// Calculation of the lighting contribution from an optional Image Based Light source.
// Precomputed Environment Maps are required uniform inputs and are computed as outlined in [1].
// See our README.md on Environment Maps [3] for additional discussion.
#ifdef USE_IBL
vec3 getIBLContribution(PBRInfo pbrInfo, vec3 n, vec3 reflection)
{
  float mipCount = 9.0; // resolution of 512x512
  float lod = (pbrInfo.perceptualRoughness * mipCount);
  // retrieve a scale and bias to F0. See [1], Figure 3
  vec3 brdf = SRGBtoLINEAR(texture(pbr_brdfLUT,
    vec2(pbrInfo.NdotV, 1.0 - pbrInfo.perceptualRoughness))).rgb;
  vec3 diffuseLight = SRGBtoLINEAR(texture(pbr_diffuseEnvSampler, n)).rgb;

#ifdef USE_TEX_LOD
  vec3 specularLight = SRGBtoLINEAR(texture(pbr_specularEnvSampler, reflection, lod)).rgb;
#else
  vec3 specularLight = SRGBtoLINEAR(texture(pbr_specularEnvSampler, reflection)).rgb;
#endif

  vec3 diffuse = diffuseLight * pbrInfo.diffuseColor;
  vec3 specular = specularLight * (pbrInfo.specularColor * brdf.x + brdf.y);

  // For presentation, this allows us to disable IBL terms
  diffuse *= pbrMaterial.scaleIBLAmbient.x;
  specular *= pbrMaterial.scaleIBLAmbient.y;

  return diffuse + specular;
}
#endif

// Basic Lambertian diffuse
// Implementation from Lambert's Photometria https://archive.org/details/lambertsphotome00lambgoog
// See also [1], Equation 1
vec3 diffuse(PBRInfo pbrInfo)
{
  return pbrInfo.diffuseColor / M_PI;
}

// The following equation models the Fresnel reflectance term of the spec equation (aka F())
// Implementation of fresnel from [4], Equation 15
vec3 specularReflection(PBRInfo pbrInfo)
{
  return pbrInfo.reflectance0 +
    (pbrInfo.reflectance90 - pbrInfo.reflectance0) *
    pow(clamp(1.0 - pbrInfo.VdotH, 0.0, 1.0), 5.0);
}

// This calculates the specular geometric attenuation (aka G()),
// where rougher material will reflect less light back to the viewer.
// This implementation is based on [1] Equation 4, and we adopt their modifications to
// alphaRoughness as input as originally proposed in [2].
float geometricOcclusion(PBRInfo pbrInfo)
{
  float NdotL = pbrInfo.NdotL;
  float NdotV = pbrInfo.NdotV;
  float r = pbrInfo.alphaRoughness;

  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));
  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));
  return attenuationL * attenuationV;
}

// The following equation(s) model the distribution of microfacet normals across
// the area being drawn (aka D())
// Implementation from "Average Irregularity Representation of a Roughened Surface
// for Ray Reflection" by T. S. Trowbridge, and K. P. Reitz
// Follows the distribution function recommended in the SIGGRAPH 2013 course notes
// from EPIC Games [1], Equation 3.
float microfacetDistribution(PBRInfo pbrInfo)
{
  float roughnessSq = pbrInfo.alphaRoughness * pbrInfo.alphaRoughness;
  float f = (pbrInfo.NdotH * roughnessSq - pbrInfo.NdotH) * pbrInfo.NdotH + 1.0;
  return roughnessSq / (M_PI * f * f);
}

void PBRInfo_setAmbientLight(inout PBRInfo pbrInfo) {
  pbrInfo.NdotL = 1.0;
  pbrInfo.NdotH = 0.0;
  pbrInfo.LdotH = 0.0;
  pbrInfo.VdotH = 1.0;
}

void PBRInfo_setDirectionalLight(inout PBRInfo pbrInfo, vec3 lightDirection) {
  vec3 n = pbrInfo.n;
  vec3 v = pbrInfo.v;
  vec3 l = normalize(lightDirection);             // Vector from surface point to light
  vec3 h = normalize(l+v);                        // Half vector between both l and v

  pbrInfo.NdotL = clamp(dot(n, l), 0.001, 1.0);
  pbrInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);
  pbrInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);
  pbrInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);
}

void PBRInfo_setPointLight(inout PBRInfo pbrInfo, PointLight pointLight) {
  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);
  PBRInfo_setDirectionalLight(pbrInfo, light_direction);
}

vec3 calculateFinalColor(PBRInfo pbrInfo, vec3 lightColor) {
  // Calculate the shading terms for the microfacet specular shading model
  vec3 F = specularReflection(pbrInfo);
  float G = geometricOcclusion(pbrInfo);
  float D = microfacetDistribution(pbrInfo);

  // Calculation of analytical lighting contribution
  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInfo);
  vec3 specContrib = F * G * D / (4.0 * pbrInfo.NdotL * pbrInfo.NdotV);
  // Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)
  return pbrInfo.NdotL * lightColor * (diffuseContrib + specContrib);
}

vec4 pbr_filterColor(vec4 colorUnused)
{
  // The albedo may be defined from a base texture or a flat color
#ifdef HAS_BASECOLORMAP
  vec4 baseColor = SRGBtoLINEAR(texture(pbr_baseColorSampler, pbr_vUV)) * pbrMaterial.baseColorFactor;
#else
  vec4 baseColor = pbrMaterial.baseColorFactor;
#endif

#ifdef ALPHA_CUTOFF
  if (baseColor.a < pbrMaterial.alphaCutoff) {
    discard;
  }
#endif

  vec3 color = vec3(0, 0, 0);

  if(pbrMaterial.unlit){
    color.rgb = baseColor.rgb;
  }
  else{
    // Metallic and Roughness material properties are packed together
    // In glTF, these factors can be specified by fixed scalar values
    // or from a metallic-roughness map
    float perceptualRoughness = pbrMaterial.metallicRoughnessValues.y;
    float metallic = pbrMaterial.metallicRoughnessValues.x;
#ifdef HAS_METALROUGHNESSMAP
    // Roughness is stored in the 'g' channel, metallic is stored in the 'b' channel.
    // This layout intentionally reserves the 'r' channel for (optional) occlusion map data
    vec4 mrSample = texture(pbr_metallicRoughnessSampler, pbr_vUV);
    perceptualRoughness = mrSample.g * perceptualRoughness;
    metallic = mrSample.b * metallic;
#endif
    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);
    metallic = clamp(metallic, 0.0, 1.0);
    // Roughness is authored as perceptual roughness; as is convention,
    // convert to material roughness by squaring the perceptual roughness [2].
    float alphaRoughness = perceptualRoughness * perceptualRoughness;

    vec3 f0 = vec3(0.04);
    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);
    diffuseColor *= 1.0 - metallic;
    vec3 specularColor = mix(f0, baseColor.rgb, metallic);

    // Compute reflectance.
    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);

    // For typical incident reflectance range (between 4% to 100%) set the grazing
    // reflectance to 100% for typical fresnel effect.
    // For very low reflectance range on highly diffuse objects (below 4%),
    // incrementally reduce grazing reflecance to 0%.
    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);
    vec3 specularEnvironmentR0 = specularColor.rgb;
    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;

    vec3 n = getNormal();                          // normal at surface point
    vec3 v = normalize(pbrProjection.camera - pbr_vPosition);  // Vector from surface point to camera

    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);
    vec3 reflection = -normalize(reflect(v, n));

    PBRInfo pbrInfo = PBRInfo(
      0.0, // NdotL
      NdotV,
      0.0, // NdotH
      0.0, // LdotH
      0.0, // VdotH
      perceptualRoughness,
      metallic,
      specularEnvironmentR0,
      specularEnvironmentR90,
      alphaRoughness,
      diffuseColor,
      specularColor,
      n,
      v
    );


#ifdef USE_LIGHTS
    // Apply ambient light
    PBRInfo_setAmbientLight(pbrInfo);
    color += calculateFinalColor(pbrInfo, lighting.ambientColor);

    // Apply directional light
    for(int i = 0; i < lighting.directionalLightCount; i++) {
      if (i < lighting.directionalLightCount) {
        PBRInfo_setDirectionalLight(pbrInfo, lighting_getDirectionalLight(i).direction);
        color += calculateFinalColor(pbrInfo, lighting_getDirectionalLight(i).color);
      }
    }

    // Apply point light
    for(int i = 0; i < lighting.pointLightCount; i++) {
      if (i < lighting.pointLightCount) {
        PBRInfo_setPointLight(pbrInfo, lighting_getPointLight(i));
        float attenuation = getPointLightAttenuation(lighting_getPointLight(i), distance(lighting_getPointLight(i).position, pbr_vPosition));
        color += calculateFinalColor(pbrInfo, lighting_getPointLight(i).color / attenuation);
      }
    }
#endif

    // Calculate lighting contribution from image based lighting source (IBL)
#ifdef USE_IBL
    if (pbrMaterial.IBLenabled) {
      color += getIBLContribution(pbrInfo, n, reflection);
    }
#endif

 // Apply optional PBR terms for additional (optional) shading
#ifdef HAS_OCCLUSIONMAP
    if (pbrMaterial.occlusionMapEnabled) {
      float ao = texture(pbr_occlusionSampler, pbr_vUV).r;
      color = mix(color, color * ao, pbrMaterial.occlusionStrength);
    }
#endif

#ifdef HAS_EMISSIVEMAP
    if (pbrMaterial.emissiveMapEnabled) {
      vec3 emissive = SRGBtoLINEAR(texture(pbr_emissiveSampler, pbr_vUV)).rgb * pbrMaterial.emissiveFactor;
      color += emissive;
    }
#endif

    // This section uses mix to override final color for reference app visualization
    // of various parameters in the lighting equation.
#ifdef PBR_DEBUG
    // TODO: Figure out how to debug multiple lights

    // color = mix(color, F, pbr_scaleFGDSpec.x);
    // color = mix(color, vec3(G), pbr_scaleFGDSpec.y);
    // color = mix(color, vec3(D), pbr_scaleFGDSpec.z);
    // color = mix(color, specContrib, pbr_scaleFGDSpec.w);

    // color = mix(color, diffuseContrib, pbr_scaleDiffBaseMR.x);
    color = mix(color, baseColor.rgb, pbrMaterial.scaleDiffBaseMR.y);
    color = mix(color, vec3(metallic), pbrMaterial.scaleDiffBaseMR.z);
    color = mix(color, vec3(perceptualRoughness), pbrMaterial.scaleDiffBaseMR.w);
#endif

  }

  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);
}
`,q3e=`struct PBRFragmentInputs {
  pbr_vPosition: vec3f,
  pbr_vUV: vec2f,
  pbr_vTBN: mat3f,
  pbr_vNormal: vec3f
};

var fragmentInputs: PBRFragmentInputs;

fn pbr_setPositionNormalTangentUV(position: vec4f, normal: vec4f, tangent: vec4f, uv: vec2f)
{
  var pos: vec4f = pbrProjection.modelMatrix * position;
  pbr_vPosition = vec3(pos.xyz) / pos.w;

#ifdef HAS_NORMALS
#ifdef HAS_TANGENTS
  let normalW: vec3f = normalize(vec3(pbrProjection.normalMatrix * vec4(normal.xyz, 0.0)));
  let tangentW: vec3f = normalize(vec3(pbrProjection.modelMatrix * vec4(tangent.xyz, 0.0)));
  let bitangentW: vec3f = cross(normalW, tangentW) * tangent.w;
  fragmentInputs,pbr_vTBN = mat3(tangentW, bitangentW, normalW);
#else // HAS_TANGENTS != 1
  fragmentInputs.pbr_vNormal = normalize(vec3(pbrProjection.modelMatrix * vec4(normal.xyz, 0.0)));
#endif
#endif

#ifdef HAS_UV
  pbr_vUV = uv;
#else
  pbr_vUV = vec2(0.,0.);
#endif
}

struct pbrMaterialUniforms {
  // Material is unlit
  unlit: uint32,

  // Base color map
  baseColorMapEnabled: uint32,
  baseColorFactor: vec4f,

  normalMapEnabled : uint32,
  normalScale: f32,  // #ifdef HAS_NORMALMAP

  emissiveMapEnabled: uint32,
  emissiveFactor: vec3f, // #ifdef HAS_EMISSIVEMAP

  metallicRoughnessValues: vec2f,
  metallicRoughnessMapEnabled: uint32,

  occlusionMapEnabled: i32,
  occlusionStrength: f32, // #ifdef HAS_OCCLUSIONMAP
  
  alphaCutoffEnabled: i32,
  alphaCutoff: f32, // #ifdef ALPHA_CUTOFF
  
  // IBL
  IBLenabled: i32,
  scaleIBLAmbient: vec2f, // #ifdef USE_IBL
  
  // debugging flags used for shader output of intermediate PBR variables
  // #ifdef PBR_DEBUG
  scaleDiffBaseMR: vec4f,
  scaleFGDSpec: vec4f
  // #endif
} 
  
@binding(2) @group(0) var<uniform> material : pbrMaterialUniforms;

// Samplers
#ifdef HAS_BASECOLORMAP
uniform sampler2D pbr_baseColorSampler;
#endif
#ifdef HAS_NORMALMAP
uniform sampler2D pbr_normalSampler;
#endif
#ifdef HAS_EMISSIVEMAP
uniform sampler2D pbr_emissiveSampler;
#endif
#ifdef HAS_METALROUGHNESSMAP
uniform sampler2D pbr_metallicRoughnessSampler;
#endif
#ifdef HAS_OCCLUSIONMAP
uniform sampler2D pbr_occlusionSampler;
#endif
#ifdef USE_IBL
uniform samplerCube pbr_diffuseEnvSampler;
uniform samplerCube pbr_specularEnvSampler;
uniform sampler2D pbr_brdfLUT;
#endif

// Encapsulate the various inputs used by the various functions in the shading equation
// We store values in this struct to simplify the integration of alternative implementations
// of the shading terms, outlined in the Readme.MD Appendix.
struct PBRInfo {
  NdotL: f32,                  // cos angle between normal and light direction
  NdotV: f32,                  // cos angle between normal and view direction
  NdotH: f32,                  // cos angle between normal and half vector
  LdotH: f32,                  // cos angle between light direction and half vector
  VdotH: f32,                  // cos angle between view direction and half vector
  perceptualRoughness: f32,    // roughness value, as authored by the model creator (input to shader)
  metalness: f32,              // metallic value at the surface
  reflectance0: vec3f,            // full reflectance color (normal incidence angle)
  reflectance90: vec3f,           // reflectance color at grazing angle
  alphaRoughness: f32,         // roughness mapped to a more linear change in the roughness (proposed by [2])
  diffuseColor: vec3f,            // color contribution from diffuse lighting
  specularColor: vec3f,           // color contribution from specular lighting
  n: vec3f,                       // normal at surface point
  v: vec3f,                       // vector from surface point to camera
};

const M_PI = 3.141592653589793;
const c_MinRoughness = 0.04;

fn SRGBtoLINEAR(srgbIn: vec4f ) -> vec4f
{
#ifdef MANUAL_SRGB
#ifdef SRGB_FAST_APPROXIMATION
  var linOut: vec3f = pow(srgbIn.xyz,vec3(2.2));
#else // SRGB_FAST_APPROXIMATION
  var bLess: vec3f = step(vec3(0.04045),srgbIn.xyz);
  var linOut: vec3f = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );
#endif //SRGB_FAST_APPROXIMATION
  return vec4f(linOut,srgbIn.w);;
#else //MANUAL_SRGB
  return srgbIn;
#endif //MANUAL_SRGB
}

// Find the normal for this fragment, pulling either from a predefined normal map
// or from the interpolated mesh normal and tangent attributes.
fn getNormal() -> vec3f
{
  // Retrieve the tangent space matrix
#ifndef HAS_TANGENTS
  var pos_dx: vec3f = dFdx(pbr_vPosition);
  var pos_dy: vec3f = dFdy(pbr_vPosition);
  var tex_dx: vec3f = dFdx(vec3(pbr_vUV, 0.0));
  var tex_dy: vec3f = dFdy(vec3(pbr_vUV, 0.0));
  var t: vec3f = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);

#ifdef HAS_NORMALS
  var ng: vec3f = normalize(pbr_vNormal);
#else
  var ng: vec3f = cross(pos_dx, pos_dy);
#endif

  t = normalize(t - ng * dot(ng, t));
  var b: vec3f = normalize(cross(ng, t));
  var tbn: mat3f = mat3f(t, b, ng);
#else // HAS_TANGENTS
  var tbn: mat3f = pbr_vTBN;
#endif

#ifdef HAS_NORMALMAP
  vec3 n = texture(pbr_normalSampler, pbr_vUV).rgb;
  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(pbrMaterial.normalScale, pbrMaterial.normalScale, 1.0)));
#else
  // The tbn matrix is linearly interpolated, so we need to re-normalize
  vec3 n = normalize(tbn[2].xyz);
#endif

  return n;
}

// Calculation of the lighting contribution from an optional Image Based Light source.
// Precomputed Environment Maps are required uniform inputs and are computed as outlined in [1].
// See our README.md on Environment Maps [3] for additional discussion.
#ifdef USE_IBL
fn getIBLContribution(PBRInfo pbrInfo, vec3 n, vec3 reflection) -> vec3f
{
  float mipCount = 9.0; // resolution of 512x512
  float lod = (pbrInfo.perceptualRoughness * mipCount);
  // retrieve a scale and bias to F0. See [1], Figure 3
  vec3 brdf = SRGBtoLINEAR(texture(pbr_brdfLUT,
    vec2(pbrInfo.NdotV, 1.0 - pbrInfo.perceptualRoughness))).rgb;
  vec3 diffuseLight = SRGBtoLINEAR(texture(pbr_diffuseEnvSampler, n)).rgb;

#ifdef USE_TEX_LOD
  vec3 specularLight = SRGBtoLINEAR(texture(pbr_specularEnvSampler, reflection, lod)).rgb;
#else
  vec3 specularLight = SRGBtoLINEAR(texture(pbr_specularEnvSampler, reflection)).rgb;
#endif

  vec3 diffuse = diffuseLight * pbrInfo.diffuseColor;
  vec3 specular = specularLight * (pbrInfo.specularColor * brdf.x + brdf.y);

  // For presentation, this allows us to disable IBL terms
  diffuse *= pbrMaterial.scaleIBLAmbient.x;
  specular *= pbrMaterial.scaleIBLAmbient.y;

  return diffuse + specular;
}
#endif

// Basic Lambertian diffuse
// Implementation from Lambert's Photometria https://archive.org/details/lambertsphotome00lambgoog
// See also [1], Equation 1
fn diffuse(pbrInfo: PBRInfo) -> vec3<f32> {
  return pbrInfo.diffuseColor / PI;
}

// The following equation models the Fresnel reflectance term of the spec equation (aka F())
// Implementation of fresnel from [4], Equation 15
fn specularReflection(pbrInfo: PBRInfo) -> vec3<f32> {
  return pbrInfo.reflectance0 +
    (pbrInfo.reflectance90 - pbrInfo.reflectance0) *
    pow(clamp(1.0 - pbrInfo.VdotH, 0.0, 1.0), 5.0);
}

// This calculates the specular geometric attenuation (aka G()),
// where rougher material will reflect less light back to the viewer.
// This implementation is based on [1] Equation 4, and we adopt their modifications to
// alphaRoughness as input as originally proposed in [2].
fn geometricOcclusion(pbrInfo: PBRInfo) -> f32 {
  let NdotL: f32 = pbrInfo.NdotL;
  let NdotV: f32 = pbrInfo.NdotV;
  let r: f32 = pbrInfo.alphaRoughness;

  let attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));
  let attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));
  return attenuationL * attenuationV;
}

// The following equation(s) model the distribution of microfacet normals across
// the area being drawn (aka D())
// Implementation from "Average Irregularity Representation of a Roughened Surface
// for Ray Reflection" by T. S. Trowbridge, and K. P. Reitz
// Follows the distribution function recommended in the SIGGRAPH 2013 course notes
// from EPIC Games [1], Equation 3.
fn microfacetDistribution(pbrInfo: PBRInfo) -> f32 {
  let roughnessSq = pbrInfo.alphaRoughness * pbrInfo.alphaRoughness;
  let f = (pbrInfo.NdotH * roughnessSq - pbrInfo.NdotH) * pbrInfo.NdotH + 1.0;
  return roughnessSq / (PI * f * f);
}

fn PBRInfo_setAmbientLight(pbrInfo: ptr<function, PBRInfo>) {
  (*pbrInfo).NdotL = 1.0;
  (*pbrInfo).NdotH = 0.0;
  (*pbrInfo).LdotH = 0.0;
  (*pbrInfo).VdotH = 1.0;
}

fn PBRInfo_setDirectionalLight(pbrInfo: ptr<function, PBRInfo>, lightDirection: vec3<f32>) {
  let n = (*pbrInfo).n;
  let v = (*pbrInfo).v;
  let l = normalize(lightDirection);             // Vector from surface point to light
  let h = normalize(l + v);                      // Half vector between both l and v

  (*pbrInfo).NdotL = clamp(dot(n, l), 0.001, 1.0);
  (*pbrInfo).NdotH = clamp(dot(n, h), 0.0, 1.0);
  (*pbrInfo).LdotH = clamp(dot(l, h), 0.0, 1.0);
  (*pbrInfo).VdotH = clamp(dot(v, h), 0.0, 1.0);
}

fn PBRInfo_setPointLight(pbrInfo: ptr<function, PBRInfo>, pointLight: PointLight) {
  let light_direction = normalize(pointLight.position - pbr_vPosition);
  PBRInfo_setDirectionalLight(pbrInfo, light_direction);
}

fn calculateFinalColor(pbrInfo: PBRInfo, lightColor: vec3<f32>) -> vec3<f32> {
  // Calculate the shading terms for the microfacet specular shading model
  let F = specularReflection(pbrInfo);
  let G = geometricOcclusion(pbrInfo);
  let D = microfacetDistribution(pbrInfo);

  // Calculation of analytical lighting contribution
  let diffuseContrib = (1.0 - F) * diffuse(pbrInfo);
  let specContrib = F * G * D / (4.0 * pbrInfo.NdotL * pbrInfo.NdotV);
  // Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)
  return pbrInfo.NdotL * lightColor * (diffuseContrib + specContrib);
}

fn pbr_filterColor(colorUnused: vec4<f32>) -> vec4<f32> {
  // The albedo may be defined from a base texture or a flat color
  var baseColor: vec4<f32>;
  #ifdef HAS_BASECOLORMAP
  baseColor = SRGBtoLINEAR(textureSample(pbr_baseColorSampler, pbr_baseColorSampler, pbr_vUV)) * pbrMaterial.baseColorFactor;
  #else
  baseColor = pbrMaterial.baseColorFactor;
  #endif

  #ifdef ALPHA_CUTOFF
  if (baseColor.a < pbrMaterial.alphaCutoff) {
    discard;
  }
  #endif

  var color = vec3<f32>(0.0, 0.0, 0.0);

  if (pbrMaterial.unlit) {
    color = baseColor.rgb;
  } else {
    // Metallic and Roughness material properties are packed together
    // In glTF, these factors can be specified by fixed scalar values
    // or from a metallic-roughness map
    var perceptualRoughness = pbrMaterial.metallicRoughnessValues.y;
    var metallic = pbrMaterial.metallicRoughnessValues.x;
    #ifdef HAS_METALROUGHNESSMAP
    // Roughness is stored in the 'g' channel, metallic is stored in the 'b' channel.
    // This layout intentionally reserves the 'r' channel for (optional) occlusion map data
    let mrSample = textureSample(pbr_metallicRoughnessSampler, pbr_metallicRoughnessSampler, pbr_vUV);
    perceptualRoughness = mrSample.g * perceptualRoughness;
    metallic = mrSample.b * metallic;
    #endif
    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);
    metallic = clamp(metallic, 0.0, 1.0);
    // Roughness is authored as perceptual roughness; as is convention,
    // convert to material roughness by squaring the perceptual roughness [2].
    let alphaRoughness = perceptualRoughness * perceptualRoughness;

    let f0 = vec3<f32>(0.04);
    var diffuseColor = baseColor.rgb * (vec3<f32>(1.0) - f0);
    diffuseColor *= 1.0 - metallic;
    let specularColor = mix(f0, baseColor.rgb, metallic);

    // Compute reflectance.
    let reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);

    // For typical incident reflectance range (between 4% to 100%) set the grazing
    // reflectance to 100% for typical fresnel effect.
    // For very low reflectance range on highly diffuse objects (below 4%),
    // incrementally reduce grazing reflectance to 0%.
    let reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);
    let specularEnvironmentR0 = specularColor;
    let specularEnvironmentR90 = vec3<f32>(1.0, 1.0, 1.0) * reflectance90;

    let n = getNormal();                          // normal at surface point
    let v = normalize(pbrProjection.camera - pbr_vPosition);  // Vector from surface point to camera

    let NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);
    let reflection = -normalize(reflect(v, n));

    var pbrInfo = PBRInfo(
      0.0, // NdotL
      NdotV,
      0.0, // NdotH
      0.0, // LdotH
      0.0, // VdotH
      perceptualRoughness,
      metallic,
      specularEnvironmentR0,
      specularEnvironmentR90,
      alphaRoughness,
      diffuseColor,
      specularColor,
      n,
      v
    );

    #ifdef USE_LIGHTS
    // Apply ambient light
    PBRInfo_setAmbientLight(&pbrInfo);
    color += calculateFinalColor(pbrInfo, lighting.ambientColor);

    // Apply directional light
    for (var i = 0; i < lighting.directionalLightCount; i++) {
      if (i < lighting.directionalLightCount) {
        PBRInfo_setDirectionalLight(&pbrInfo, lighting_getDirectionalLight(i).direction);
        color += calculateFinalColor(pbrInfo, lighting_getDirectionalLight(i).color);
      }
    }

    // Apply point light
    for (var i = 0; i < lighting.pointLightCount; i++) {
      if (i < lighting.pointLightCount) {
        PBRInfo_setPointLight(&pbrInfo, lighting_getPointLight(i));
        let attenuation = getPointLightAttenuation(lighting_getPointLight(i), distance(lighting_getPointLight(i).position, pbr_vPosition));
        color += calculateFinalColor(pbrInfo, lighting_getPointLight(i).color / attenuation);
      }
    }
    #endif

    // Calculate lighting contribution from image based lighting source (IBL)
    #ifdef USE_IBL
    if (pbrMaterial.IBLenabled) {
      color += getIBLContribution(pbrInfo, n, reflection);
    }
    #endif

    // Apply optional PBR terms for additional (optional) shading
    #ifdef HAS_OCCLUSIONMAP
    if (pbrMaterial.occlusionMapEnabled) {
      let ao = textureSample(pbr_occlusionSampler, pbr_occlusionSampler, pbr_vUV).r;
      color = mix(color, color * ao, pbrMaterial.occlusionStrength);
    }
    #endif

    #ifdef HAS_EMISSIVEMAP
    if (pbrMaterial.emissiveMapEnabled) {
      let emissive = SRGBtoLINEAR(textureSample(pbr_emissiveSampler, pbr_emissiveSampler, pbr_vUV)).rgb * pbrMaterial.emissiveFactor;
      color += emissive;
    }
    #endif

    // This section uses mix to override final color for reference app visualization
    // of various parameters in the lighting equation.
    #ifdef PBR_DEBUG
    // TODO: Figure out how to debug multiple lights

    // color = mix(color, F, pbr_scaleFGDSpec.x);
    // color = mix(color, vec3(G), pbr_scaleFGDSpec.y);
    // color = mix(color, vec3(D), pbr_scaleFGDSpec.z);
    // color = mix(color, specContrib, pbr_scaleFGDSpec.w);

    // color = mix(color, diffuseContrib, pbr_scaleDiffBaseMR.x);
    color = mix(color, baseColor.rgb, pbrMaterial.scaleDiffBaseMR.y);
    color = mix(color, vec3<f32>(metallic), pbrMaterial.scaleDiffBaseMR.z);
    color = mix(color, vec3<f32>(perceptualRoughness), pbrMaterial.scaleDiffBaseMR.w);
    #endif
  }

  return vec4<f32>(pow(color, vec3<f32>(1.0 / 2.2)), baseColor.a);
}
`,hS=`uniform pbrProjectionUniforms {
  mat4 modelViewProjectionMatrix;
  mat4 modelMatrix;
  mat4 normalMatrix;
  vec3 camera;
} pbrProjection;
`,X3e={name:"pbrProjection",vs:hS,fs:hS,getUniforms:n=>n,uniformTypes:{modelViewProjectionMatrix:"mat4x4<f32>",modelMatrix:"mat4x4<f32>",normalMatrix:"mat4x4<f32>",camera:"vec3<i32>"}},OR={props:{},uniforms:{},name:"pbrMaterial",dependencies:[zh,X3e],source:q3e,vs:$3e,fs:W3e,defines:{LIGHTING_FRAGMENT:!0,HAS_NORMALMAP:!1,HAS_EMISSIVEMAP:!1,HAS_OCCLUSIONMAP:!1,HAS_BASECOLORMAP:!1,HAS_METALROUGHNESSMAP:!1,ALPHA_CUTOFF:!1,USE_IBL:!1,PBR_DEBUG:!1},getUniforms:n=>n,uniformTypes:{unlit:"i32",baseColorMapEnabled:"i32",baseColorFactor:"vec4<f32>",normalMapEnabled:"i32",normalScale:"f32",emissiveMapEnabled:"i32",emissiveFactor:"vec3<f32>",metallicRoughnessValues:"vec2<f32>",metallicRoughnessMapEnabled:"i32",occlusionMapEnabled:"i32",occlusionStrength:"f32",alphaCutoffEnabled:"i32",alphaCutoff:"f32",IBLenabled:"i32",scaleIBLAmbient:"vec2<f32>",scaleDiffBaseMR:"vec4<f32>",scaleFGDSpec:"vec4<f32>"}},dS=`uniform layerUniforms {
  uniform float opacity;
} layer;
`,J3e={name:"layer",vs:dS,fs:dS,getUniforms:n=>({opacity:Math.pow(n.opacity,1/2.2)}),uniformTypes:{opacity:"f32"}},Z3e=`

struct ColorUniforms {
  opacity: f32,
};

var<private> color: ColorUniforms = ColorUniforms(1.0);
// TODO (kaapp) avoiding binding index collisions to handle layer opacity 
// requires some thought.
// @group(0) @binding(0) var<uniform> color: ColorUniforms;

@must_use
fn deckgl_premultiplied_alpha(fragColor: vec4<f32>) -> vec4<f32> {
    return vec4(fragColor.rgb * fragColor.a, fragColor.a); 
};
`,epe={name:"color",dependencies:[],source:Z3e,getUniforms:n=>({}),uniformTypes:{opacity:"f32"}},tpe=`const SMOOTH_EDGE_RADIUS: f32 = 0.5;

struct VertexGeometry {
  position: vec4<f32>,
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

var<private> geometry_: VertexGeometry = VertexGeometry(
  vec4<f32>(0.0, 0.0, 1.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec2<f32>(0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0)
);

struct FragmentGeometry {
  uv: vec2<f32>,
};

var<private> fragmentGeometry: FragmentGeometry;

fn smoothedge(edge: f32, x: f32) -> f32 {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,XQ="#define SMOOTH_EDGE_RADIUS 0.5",npe=`${XQ}

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`,rpe=`${XQ}

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,JQ={name:"geometry",source:tpe,vs:npe,fs:rpe},ipe=25;var es;(function(n){n[n.Start=1]="Start",n[n.Move=2]="Move",n[n.End=4]="End",n[n.Cancel=8]="Cancel"})(es||(es={}));var hs;(function(n){n[n.None=0]="None",n[n.Left=1]="Left",n[n.Right=2]="Right",n[n.Up=4]="Up",n[n.Down=8]="Down",n[n.Horizontal=3]="Horizontal",n[n.Vertical=12]="Vertical",n[n.All=15]="All"})(hs||(hs={}));var Tn;(function(n){n[n.Possible=1]="Possible",n[n.Began=2]="Began",n[n.Changed=4]="Changed",n[n.Ended=8]="Ended",n[n.Recognized=8]="Recognized",n[n.Cancelled=16]="Cancelled",n[n.Failed=32]="Failed"})(Tn||(Tn={}));const spe="compute",ape="auto",I9="manipulation",Em="none",T9="pan-x",M9="pan-y";function ope(n){if(n.includes(Em))return Em;const e=n.includes(T9),t=n.includes(M9);return e&&t?Em:e||t?e?T9:M9:n.includes(I9)?I9:ape}class lpe{constructor(e,t){this.actions="",this.manager=e,this.set(t)}set(e){e===spe&&(e=this.compute()),this.manager.element&&(this.manager.element.style.touchAction=e,this.actions=e)}update(){this.set(this.manager.options.touchAction)}compute(){let e=[];for(const t of this.manager.recognizers)t.options.enable&&(e=e.concat(t.getTouchAction()));return ope(e.join(" "))}}function W5(n){return n.trim().split(/\s+/g)}function u8(n,e,t){if(n)for(const r of W5(e))n.addEventListener(r,t,!1)}function f8(n,e,t){if(n)for(const r of W5(e))n.removeEventListener(r,t,!1)}function gS(n){return(n.ownerDocument||n).defaultView}function cpe(n,e){let t=n;for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function ZQ(n){const e=n.length;if(e===1)return{x:Math.round(n[0].clientX),y:Math.round(n[0].clientY)};let t=0,r=0,i=0;for(;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:Math.round(t/e),y:Math.round(r/e)}}function pS(n){const e=[];let t=0;for(;t<n.pointers.length;)e[t]={clientX:Math.round(n.pointers[t].clientX),clientY:Math.round(n.pointers[t].clientY)},t++;return{timeStamp:Date.now(),pointers:e,center:ZQ(e),deltaX:n.deltaX,deltaY:n.deltaY}}function ej(n,e){const t=e.x-n.x,r=e.y-n.y;return Math.sqrt(t*t+r*r)}function _S(n,e){const t=e.clientX-n.clientX,r=e.clientY-n.clientY;return Math.sqrt(t*t+r*r)}function Ape(n,e){const t=e.x-n.x,r=e.y-n.y;return Math.atan2(r,t)*180/Math.PI}function mS(n,e){const t=e.clientX-n.clientX,r=e.clientY-n.clientY;return Math.atan2(r,t)*180/Math.PI}function tj(n,e){return n===e?hs.None:Math.abs(n)>=Math.abs(e)?n<0?hs.Left:hs.Right:e<0?hs.Up:hs.Down}function upe(n,e){const t=e.center;let r=n.offsetDelta,i=n.prevDelta;const s=n.prevInput;return(e.eventType===es.Start||(s==null?void 0:s.eventType)===es.End)&&(i=n.prevDelta={x:(s==null?void 0:s.deltaX)||0,y:(s==null?void 0:s.deltaY)||0},r=n.offsetDelta={x:t.x,y:t.y}),{deltaX:i.x+(t.x-r.x),deltaY:i.y+(t.y-r.y)}}function nj(n,e,t){return{x:e/n||0,y:t/n||0}}function fpe(n,e){return _S(e[0],e[1])/_S(n[0],n[1])}function hpe(n,e){return mS(e[1],e[0])-mS(n[1],n[0])}function dpe(n,e){const t=n.lastInterval||e,r=e.timeStamp-t.timeStamp;let i,s,a,o;if(e.eventType!==es.Cancel&&(r>ipe||t.velocity===void 0)){const l=e.deltaX-t.deltaX,c=e.deltaY-t.deltaY,A=nj(r,l,c);s=A.x,a=A.y,i=Math.abs(A.x)>Math.abs(A.y)?A.x:A.y,o=tj(l,c),n.lastInterval=e}else i=t.velocity,s=t.velocityX,a=t.velocityY,o=t.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function gpe(n,e){const{session:t}=n,{pointers:r}=e,{length:i}=r;t.firstInput||(t.firstInput=pS(e)),i>1&&!t.firstMultiple?t.firstMultiple=pS(e):i===1&&(t.firstMultiple=!1);const{firstInput:s,firstMultiple:a}=t,o=a?a.center:s.center,l=e.center=ZQ(r);e.timeStamp=Date.now(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Ape(o,l),e.distance=ej(o,l);const{deltaX:c,deltaY:A}=upe(t,e);e.deltaX=c,e.deltaY=A,e.offsetDirection=tj(e.deltaX,e.deltaY);const u=nj(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=Math.abs(u.x)>Math.abs(u.y)?u.x:u.y,e.scale=a?fpe(a.pointers,r):1,e.rotation=a?hpe(a.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length;let h=n.element;return cpe(e.srcEvent.target,h)&&(h=e.srcEvent.target),e.target=h,dpe(t,e),e}function ppe(n,e,t){const r=t.pointers.length,i=t.changedPointers.length,s=e&es.Start&&r-i===0,a=e&(es.End|es.Cancel)&&r-i===0;t.isFirst=!!s,t.isFinal=!!a,s&&(n.session={}),t.eventType=e;const o=gpe(n,t);n.emit("hammer.input",o),n.recognize(o),n.session.prevInput=o}let _pe=class{constructor(e){this.evEl="",this.evWin="",this.evTarget="",this.domHandler=t=>{this.manager.options.enable&&this.handler(t)},this.manager=e,this.element=e.element,this.target=e.options.inputTarget||e.element}callback(e,t){ppe(this.manager,e,t)}init(){u8(this.element,this.evEl,this.domHandler),u8(this.target,this.evTarget,this.domHandler),u8(gS(this.element),this.evWin,this.domHandler)}destroy(){f8(this.element,this.evEl,this.domHandler),f8(this.target,this.evTarget,this.domHandler),f8(gS(this.element),this.evWin,this.domHandler)}};const mpe={pointerdown:es.Start,pointermove:es.Move,pointerup:es.End,pointercancel:es.Cancel,pointerout:es.Cancel},ype="pointerdown",bpe="pointermove pointerup pointercancel";class vpe extends _pe{constructor(e){super(e),this.evEl=ype,this.evWin=bpe,this.store=this.manager.session.pointerEvents=[],this.init()}handler(e){const{store:t}=this;let r=!1;const i=mpe[e.type],s=e.pointerType,a=s==="touch";let o=t.findIndex(l=>l.pointerId===e.pointerId);i&es.Start&&(e.buttons||a)?o<0&&(t.push(e),o=t.length-1):i&(es.End|es.Cancel)&&(r=!0),!(o<0)&&(t[o]=e,this.callback(i,{pointers:t,changedPointers:[e],eventType:i,pointerType:s,srcEvent:e}),r&&t.splice(o,1))}}const wpe=["","webkit","Moz","MS","ms","o"];function Lpe(n,e){const t=e[0].toUpperCase()+e.slice(1);for(const r of wpe){const i=r?r+t:e;if(i in n)return i}}const xpe=1,yS=2,bS={touchAction:"compute",enable:!0,inputTarget:null,cssProps:{userSelect:"none",userDrag:"none",touchCallout:"none",tapHighlightColor:"rgba(0,0,0,0)"}};class Rpe{constructor(e,t){this.options={...bS,...t,cssProps:{...bS.cssProps,...t.cssProps},inputTarget:t.inputTarget||e},this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new vpe(this),this.touchAction=new lpe(this,this.options.touchAction),this.toggleCssProps(!0)}set(e){return Object.assign(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this}stop(e){this.session.stopped=e?yS:xpe}recognize(e){const{session:t}=this;if(t.stopped)return;this.session.prevented&&e.srcEvent.preventDefault();let r;const{recognizers:i}=this;let{curRecognizer:s}=t;(!s||s&&s.state&Tn.Recognized)&&(s=t.curRecognizer=null);let a=0;for(;a<i.length;)r=i[a],t.stopped!==yS&&(!s||r===s||r.canRecognizeWith(s))?r.recognize(e):r.reset(),!s&&r.state&(Tn.Began|Tn.Changed|Tn.Ended)&&(s=t.curRecognizer=r),a++}get(e){const{recognizers:t}=this;for(let r=0;r<t.length;r++)if(t[r].options.event===e)return t[r];return null}add(e){if(Array.isArray(e)){for(const r of e)this.add(r);return this}const t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e}remove(e){if(Array.isArray(e)){for(const r of e)this.remove(r);return this}const t=typeof e=="string"?this.get(e):e;if(t){const{recognizers:r}=this,i=r.indexOf(t);i!==-1&&(r.splice(i,1),this.touchAction.update())}return this}on(e,t){if(!e||!t)return;const{handlers:r}=this;for(const i of W5(e))r[i]=r[i]||[],r[i].push(t)}off(e,t){if(!e)return;const{handlers:r}=this;for(const i of W5(e))t?r[i]&&r[i].splice(r[i].indexOf(t),1):delete r[i]}emit(e,t){const r=this.handlers[e]&&this.handlers[e].slice();if(!r||!r.length)return;const i=t;i.type=e,i.preventDefault=function(){t.srcEvent.preventDefault()};let s=0;for(;s<r.length;)r[s](i),s++}destroy(){this.toggleCssProps(!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}toggleCssProps(e){const{element:t}=this;if(t){for(const[r,i]of Object.entries(this.options.cssProps)){const s=Lpe(t.style,r);e?(this.oldCssProps[s]=t.style[s],t.style[s]=i):t.style[s]=this.oldCssProps[s]||""}e||(this.oldCssProps={})}}}let Bpe=1;function Epe(){return Bpe++}function vS(n){return n&Tn.Cancelled?"cancel":n&Tn.Ended?"end":n&Tn.Changed?"move":n&Tn.Began?"start":""}class rj{constructor(e){this.options=e,this.id=Epe(),this.state=Tn.Possible,this.simultaneous={},this.requireFail=[]}set(e){return Object.assign(this.options,e),this.manager.touchAction.update(),this}recognizeWith(e){if(Array.isArray(e)){for(const i of e)this.recognizeWith(i);return this}let t;if(typeof e=="string"){if(t=this.manager.get(e),!t)throw new Error(`Cannot find recognizer ${e}`)}else t=e;const{simultaneous:r}=this;return r[t.id]||(r[t.id]=t,t.recognizeWith(this)),this}dropRecognizeWith(e){if(Array.isArray(e)){for(const r of e)this.dropRecognizeWith(r);return this}let t;return typeof e=="string"?t=this.manager.get(e):t=e,t&&delete this.simultaneous[t.id],this}requireFailure(e){if(Array.isArray(e)){for(const i of e)this.requireFailure(i);return this}let t;if(typeof e=="string"){if(t=this.manager.get(e),!t)throw new Error(`Cannot find recognizer ${e}`)}else t=e;const{requireFail:r}=this;return r.indexOf(t)===-1&&(r.push(t),t.requireFailure(this)),this}dropRequireFailure(e){if(Array.isArray(e)){for(const r of e)this.dropRequireFailure(r);return this}let t;if(typeof e=="string"?t=this.manager.get(e):t=e,t){const r=this.requireFail.indexOf(t);r>-1&&this.requireFail.splice(r,1)}return this}hasRequireFailures(){return!!this.requireFail.find(e=>e.options.enable)}canRecognizeWith(e){return!!this.simultaneous[e.id]}emit(e){if(!e)return;const{state:t}=this;t<Tn.Ended&&this.manager.emit(this.options.event+vS(t),e),this.manager.emit(this.options.event,e),e.additionalEvent&&this.manager.emit(e.additionalEvent,e),t>=Tn.Ended&&this.manager.emit(this.options.event+vS(t),e)}tryEmit(e){this.canEmit()?this.emit(e):this.state=Tn.Failed}canEmit(){let e=0;for(;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Tn.Failed|Tn.Possible)))return!1;e++}return!0}recognize(e){const t={...e};if(!this.options.enable){this.reset(),this.state=Tn.Failed;return}this.state&(Tn.Recognized|Tn.Cancelled|Tn.Failed)&&(this.state=Tn.Possible),this.state=this.process(t),this.state&(Tn.Began|Tn.Changed|Tn.Ended|Tn.Cancelled)&&this.tryEmit(t)}getEventNames(){return[this.options.event]}reset(){}}class ij extends rj{attrTest(e){const t=this.options.pointers;return t===0||e.pointers.length===t}process(e){const{state:t}=this,{eventType:r}=e,i=t&(Tn.Began|Tn.Changed),s=this.attrTest(e);return i&&(r&es.Cancel||!s)?t|Tn.Cancelled:i||s?r&es.End?t|Tn.Ended:t&Tn.Began?t|Tn.Changed:Tn.Began:Tn.Failed}}class wS extends rj{constructor(e={}){super({enable:!0,event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10,...e}),this.pTime=null,this.pCenter=null,this._timer=null,this._input=null,this.count=0}getTouchAction(){return[I9]}process(e){const{options:t}=this,r=e.pointers.length===t.pointers,i=e.distance<t.threshold,s=e.deltaTime<t.time;if(this.reset(),e.eventType&es.Start&&this.count===0)return this.failTimeout();if(i&&s&&r){if(e.eventType!==es.End)return this.failTimeout();const a=this.pTime?e.timeStamp-this.pTime<t.interval:!0,o=!this.pCenter||ej(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,!o||!a?this.count=1:this.count+=1,this._input=e,this.count%t.taps===0)return this.hasRequireFailures()?(this._timer=setTimeout(()=>{this.state=Tn.Recognized,this.tryEmit(this._input)},t.interval),Tn.Began):Tn.Recognized}return Tn.Failed}failTimeout(){return this._timer=setTimeout(()=>{this.state=Tn.Failed},this.options.interval),Tn.Failed}reset(){clearTimeout(this._timer)}emit(e){this.state===Tn.Recognized&&(e.tapCount=this.count,this.manager.emit(this.options.event,e))}}const Cpe=["","start","move","end","cancel","up","down","left","right"];class LS extends ij{constructor(e={}){super({enable:!0,pointers:1,event:"pan",threshold:10,direction:hs.All,...e}),this.pX=null,this.pY=null}getTouchAction(){const{options:{direction:e}}=this,t=[];return e&hs.Horizontal&&t.push(M9),e&hs.Vertical&&t.push(T9),t}getEventNames(){return Cpe.map(e=>this.options.event+e)}directionTest(e){const{options:t}=this;let r=!0,{distance:i}=e,{direction:s}=e;const a=e.deltaX,o=e.deltaY;return s&t.direction||(t.direction&hs.Horizontal?(s=a===0?hs.None:a<0?hs.Left:hs.Right,r=a!==this.pX,i=Math.abs(e.deltaX)):(s=o===0?hs.None:o<0?hs.Up:hs.Down,r=o!==this.pY,i=Math.abs(e.deltaY))),e.direction=s,r&&i>t.threshold&&!!(s&t.direction)}attrTest(e){return super.attrTest(e)&&(!!(this.state&Tn.Began)||!(this.state&Tn.Began)&&this.directionTest(e))}emit(e){this.pX=e.deltaX,this.pY=e.deltaY;const t=hs[e.direction].toLowerCase();t&&(e.additionalEvent=this.options.event+t),super.emit(e)}}const Ipe=["","start","move","end","cancel","in","out"];class Tpe extends ij{constructor(e={}){super({enable:!0,event:"pinch",threshold:0,pointers:2,...e})}getTouchAction(){return[Em]}getEventNames(){return Ipe.map(e=>this.options.event+e)}attrTest(e){return super.attrTest(e)&&(Math.abs(e.scale-1)>this.options.threshold||!!(this.state&Tn.Began))}emit(e){if(e.scale!==1){const t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}super.emit(e)}}class y6{constructor(e,t,r){this.element=e,this.callback=t,this.options=r}}const Mpe=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",Spe=Mpe.indexOf("firefox")!==-1,xS=4.000244140625,Fpe=40,Upe=.25;class Npe extends y6{constructor(e,t,r){super(e,t,{enable:!0,...r}),this.handleEvent=i=>{if(!this.options.enable)return;let s=i.deltaY;globalThis.WheelEvent&&(Spe&&i.deltaMode===globalThis.WheelEvent.DOM_DELTA_PIXEL&&(s/=globalThis.devicePixelRatio),i.deltaMode===globalThis.WheelEvent.DOM_DELTA_LINE&&(s*=Fpe)),s!==0&&s%xS===0&&(s=Math.floor(s/xS)),i.shiftKey&&s&&(s=s*Upe),this.callback({type:"wheel",center:{x:i.clientX,y:i.clientY},delta:-s,srcEvent:i,pointerType:"mouse",target:i.target})},e.addEventListener("wheel",this.handleEvent,{passive:!1})}destroy(){this.element.removeEventListener("wheel",this.handleEvent)}enableEventType(e,t){e==="wheel"&&(this.options.enable=t)}}const RS=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"];class kpe extends y6{constructor(e,t,r){super(e,t,{enable:!0,...r}),this.handleEvent=s=>{this.handleOverEvent(s),this.handleOutEvent(s),this.handleEnterEvent(s),this.handleLeaveEvent(s),this.handleMoveEvent(s)},this.pressed=!1;const{enable:i}=this.options;this.enableMoveEvent=i,this.enableLeaveEvent=i,this.enableEnterEvent=i,this.enableOutEvent=i,this.enableOverEvent=i,RS.forEach(s=>e.addEventListener(s,this.handleEvent))}destroy(){RS.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){switch(e){case"pointermove":this.enableMoveEvent=t;break;case"pointerover":this.enableOverEvent=t;break;case"pointerout":this.enableOutEvent=t;break;case"pointerenter":this.enableEnterEvent=t;break;case"pointerleave":this.enableLeaveEvent=t;break}}handleOverEvent(e){this.enableOverEvent&&e.type==="mouseover"&&this._emit("pointerover",e)}handleOutEvent(e){this.enableOutEvent&&e.type==="mouseout"&&this._emit("pointerout",e)}handleEnterEvent(e){this.enableEnterEvent&&e.type==="mouseenter"&&this._emit("pointerenter",e)}handleLeaveEvent(e){this.enableLeaveEvent&&e.type==="mouseleave"&&this._emit("pointerleave",e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":e.buttons===0&&(this.pressed=!1),this.pressed||this._emit("pointermove",e);break;case"mouseup":this.pressed=!1;break}}_emit(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}const BS=["keydown","keyup"];class Ppe extends y6{constructor(e,t,r){super(e,t,{enable:!0,tabIndex:0,...r}),this.handleEvent=i=>{const s=i.target||i.srcElement;s.tagName==="INPUT"&&s.type==="text"||s.tagName==="TEXTAREA"||(this.enableDownEvent&&i.type==="keydown"&&this.callback({type:"keydown",srcEvent:i,key:i.key,target:i.target}),this.enableUpEvent&&i.type==="keyup"&&this.callback({type:"keyup",srcEvent:i,key:i.key,target:i.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,e.tabIndex=this.options.tabIndex,e.style.outline="none",BS.forEach(i=>e.addEventListener(i,this.handleEvent))}destroy(){BS.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){e==="keydown"&&(this.enableDownEvent=t),e==="keyup"&&(this.enableUpEvent=t)}}class Dpe extends y6{constructor(e,t,r){super(e,t,r),this.handleEvent=i=>{this.options.enable&&this.callback({type:"contextmenu",center:{x:i.clientX,y:i.clientY},srcEvent:i,pointerType:"mouse",target:i.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,t){e==="contextmenu"&&(this.options.enable=t)}}const ES=1,S9=2,CS=4,Ope={pointerdown:ES,pointermove:S9,pointerup:CS,mousedown:ES,mousemove:S9,mouseup:CS},zpe=0,Hpe=1,Qpe=2,jpe=1,Ype=2,Gpe=4;function Vpe(n){const e=Ope[n.srcEvent.type];if(!e)return null;const{buttons:t,button:r}=n.srcEvent;let i=!1,s=!1,a=!1;return e===S9?(i=!!(t&jpe),s=!!(t&Gpe),a=!!(t&Ype)):(i=r===zpe,s=r===Hpe,a=r===Qpe),{leftButton:i,middleButton:s,rightButton:a}}function Kpe(n,e){const t=n.center;if(!t)return null;const r=e.getBoundingClientRect(),i=r.width/e.offsetWidth||1,s=r.height/e.offsetHeight||1,a={x:(t.x-r.left-e.clientLeft)/i,y:(t.y-r.top-e.clientTop)/s};return{center:t,offsetCenter:a}}const $pe={srcElement:"root",priority:0};class Wpe{constructor(e,t){this.handleEvent=r=>{if(this.isEmpty())return;const i=this._normalizeEvent(r);let s=r.srcEvent.target;for(;s&&s!==i.rootElement;){if(this._emit(i,s),i.handled)return;s=s.parentNode}this._emit(i,"root")},this.eventManager=e,this.recognizerName=t,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,t,r,i=!1,s=!1){const{handlers:a,handlersByElement:o}=this,l={...$pe,...r};let c=o.get(l.srcElement);c||(c=[],o.set(l.srcElement,c));const A={type:e,handler:t,srcElement:l.srcElement,priority:l.priority};i&&(A.once=!0),s&&(A.passive=!0),a.push(A),this._active=this._active||!A.passive;let u=c.length-1;for(;u>=0&&!(c[u].priority>=A.priority);)u--;c.splice(u+1,0,A)}remove(e,t){const{handlers:r,handlersByElement:i}=this;for(let s=r.length-1;s>=0;s--){const a=r[s];if(a.type===e&&a.handler===t){r.splice(s,1);const o=i.get(a.srcElement);o.splice(o.indexOf(a),1),o.length===0&&i.delete(a.srcElement)}}this._active=r.some(s=>!s.passive)}_emit(e,t){const r=this.handlersByElement.get(t);if(r){let i=!1;const s=()=>{e.handled=!0},a=()=>{e.handled=!0,i=!0},o=[];for(let l=0;l<r.length;l++){const{type:c,handler:A,once:u}=r[l];if(A({...e,type:c,stopPropagation:s,stopImmediatePropagation:a}),u&&o.push(r[l]),i)break}for(let l=0;l<o.length;l++){const{type:c,handler:A}=o[l];this.remove(c,A)}}}_normalizeEvent(e){const t=this.eventManager.getElement();return{...e,...Vpe(e),...Kpe(e,t),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t}}}function qpe(n){if("recognizer"in n)return n;let e;const t=Array.isArray(n)?[...n]:[n];if(typeof t[0]=="function"){const r=t.shift(),i=t.shift()||{};e=new r(i)}else e=t.shift();return{recognizer:e,recognizeWith:typeof t[0]=="string"?[t[0]]:t[0],requireFailure:typeof t[1]=="string"?[t[1]]:t[1]}}class Xpe{constructor(e=null,t={}){if(this._onBasicInput=r=>{this.manager.emit(r.srcEvent.type,r)},this._onOtherEvent=r=>{this.manager.emit(r.type,r)},this.options={recognizers:[],events:{},touchAction:"compute",tabIndex:0,cssProps:{},...t},this.events=new Map,this.element=e,!!e){this.manager=new Rpe(e,this.options);for(const r of this.options.recognizers){const{recognizer:i,recognizeWith:s,requireFailure:a}=qpe(r);this.manager.add(i),s&&i.recognizeWith(s),a&&i.requireFailure(a)}this.manager.on("hammer.input",this._onBasicInput),this.wheelInput=new Npe(e,this._onOtherEvent,{enable:!1}),this.moveInput=new kpe(e,this._onOtherEvent,{enable:!1}),this.keyInput=new Ppe(e,this._onOtherEvent,{enable:!1,tabIndex:t.tabIndex}),this.contextmenuInput=new Dpe(e,this._onOtherEvent,{enable:!1}),this.on(this.options.events)}}getElement(){return this.element}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy())}on(e,t,r){this._addEventHandler(e,t,r,!1)}once(e,t,r){this._addEventHandler(e,t,r,!0)}watch(e,t,r){this._addEventHandler(e,t,r,!1,!0)}off(e,t){this._removeEventHandler(e,t)}_toggleRecognizer(e,t){var s,a,o,l;const{manager:r}=this;if(!r)return;const i=r.get(e);i&&(i.set({enable:t}),r.touchAction.update()),(s=this.wheelInput)==null||s.enableEventType(e,t),(a=this.moveInput)==null||a.enableEventType(e,t),(o=this.keyInput)==null||o.enableEventType(e,t),(l=this.contextmenuInput)==null||l.enableEventType(e,t)}_addEventHandler(e,t,r,i,s){if(typeof e!="string"){r=t;for(const[c,A]of Object.entries(e))this._addEventHandler(c,A,r,i,s);return}const{manager:a,events:o}=this;if(!a)return;let l=o.get(e);if(!l){const c=this._getRecognizerName(e)||e;l=new Wpe(this,c),o.set(e,l),a&&a.on(e,l.handleEvent)}l.add(e,t,r,i,s),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}_removeEventHandler(e,t){if(typeof e!="string"){for(const[s,a]of Object.entries(e))this._removeEventHandler(s,a);return}const{events:r}=this,i=r.get(e);if(i&&(i.remove(e,t),i.isEmpty())){const{recognizerName:s}=i;let a=!1;for(const o of r.values())if(o.recognizerName===s&&!o.isEmpty()){a=!0;break}a||this._toggleRecognizer(s,!1)}}_getRecognizerName(e){var t;return(t=this.manager.recognizers.find(r=>r.getEventNames().includes(e)))==null?void 0:t.options.event}}const Vn={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(Vn,"IDENTITY",{get:()=>(or.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const yo={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},H3={common:0,meters:1,pixels:2},F9={click:"onClick",dblclick:"onClick",panstart:"onDragStart",panmove:"onDrag",panend:"onDragEnd"},IS={multipan:[LS,{threshold:10,direction:hs.Vertical,pointers:2}],pinch:[Tpe,{},null,["multipan"]],pan:[LS,{threshold:1},["pinch"],["multipan"]],dblclick:[wS,{event:"dblclick",taps:2}],click:[wS,{event:"click"},null,["dblclick"]]};function Jpe(n,e){if(n===e)return!0;if(Array.isArray(n)){const t=n.length;if(!e||e.length!==t)return!1;for(let r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}return!1}function Cp(n){let e={},t;return r=>{for(const i in r)if(!Jpe(r[i],e[i])){t=n(r),e=r;break}return t}}const TS=[0,0,0,0],Zpe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],sj=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e_e=[0,0,0],aj=[0,0,0],t_e=Cp(i_e);function oj(n,e,t=aj){t.length<3&&(t=[t[0],t[1],0]);let r=t,i,s=!0;switch(e===Vn.LNGLAT_OFFSETS||e===Vn.METER_OFFSETS?i=t:i=n.isGeospatial?[Math.fround(n.longitude),Math.fround(n.latitude),0]:null,n.projectionMode){case yo.WEB_MERCATOR:(e===Vn.LNGLAT||e===Vn.CARTESIAN)&&(i=[0,0,0],s=!1);break;case yo.WEB_MERCATOR_AUTO_OFFSET:e===Vn.LNGLAT?r=i:e===Vn.CARTESIAN&&(r=[Math.fround(n.center[0]),Math.fround(n.center[1]),0],i=n.unprojectPosition(r),r[0]-=t[0],r[1]-=t[1],r[2]-=t[2]);break;case yo.IDENTITY:r=n.position.map(Math.fround),r[2]=r[2]||0;break;case yo.GLOBE:s=!1,i=null;break;default:s=!1}return{geospatialOrigin:i,shaderCoordinateOrigin:r,offsetMode:s}}function n_e(n,e,t){const{viewMatrixUncentered:r,projectionMatrix:i}=n;let{viewMatrix:s,viewProjectionMatrix:a}=n,o=TS,l=TS,c=n.cameraPosition;const{geospatialOrigin:A,shaderCoordinateOrigin:u,offsetMode:h}=oj(n,e,t);return h&&(l=n.projectPosition(A||u),c=[c[0]-l[0],c[1]-l[1],c[2]-l[2]],l[3]=1,o=zd([],l,a),s=r||s,a=I1([],i,s),a=I1([],a,Zpe)),{viewMatrix:s,viewProjectionMatrix:a,projectionCenter:o,originCommon:l,cameraPosCommon:c,shaderCoordinateOrigin:u,geospatialOrigin:A}}function r_e({viewport:n,devicePixelRatio:e=1,modelMatrix:t=null,coordinateSystem:r=Vn.DEFAULT,coordinateOrigin:i=aj,autoWrapLongitude:s=!1}){r===Vn.DEFAULT&&(r=n.isGeospatial?Vn.LNGLAT:Vn.CARTESIAN);const a=t_e({viewport:n,devicePixelRatio:e,coordinateSystem:r,coordinateOrigin:i});return a.wrapLongitude=s,a.modelMatrix=t||sj,a}function i_e({viewport:n,devicePixelRatio:e,coordinateSystem:t,coordinateOrigin:r}){const{projectionCenter:i,viewProjectionMatrix:s,originCommon:a,cameraPosCommon:o,shaderCoordinateOrigin:l,geospatialOrigin:c}=n_e(n,t,r),A=n.getDistanceScales(),u=[n.width*e,n.height*e],h=zd([],[0,0,-n.focalDistance,1],n.projectionMatrix)[3]||1,f={coordinateSystem:t,projectionMode:n.projectionMode,coordinateOrigin:l,commonOrigin:a.slice(0,3),center:i,pseudoMeters:!!n._pseudoMeters,viewportSize:u,devicePixelRatio:e,focalDistance:h,commonUnitsPerMeter:A.unitsPerMeter,commonUnitsPerWorldUnit:A.unitsPerMeter,commonUnitsPerWorldUnit2:e_e,scale:n.scale,wrapLongitude:!1,viewProjectionMatrix:s,modelMatrix:sj,cameraPosition:o};if(c){const d=n.getDistanceScales(c);switch(t){case Vn.METER_OFFSETS:f.commonUnitsPerWorldUnit=d.unitsPerMeter,f.commonUnitsPerWorldUnit2=d.unitsPerMeter2;break;case Vn.LNGLAT:case Vn.LNGLAT_OFFSETS:n._pseudoMeters||(f.commonUnitsPerMeter=d.unitsPerMeter),f.commonUnitsPerWorldUnit=d.unitsPerDegree,f.commonUnitsPerWorldUnit2=d.unitsPerDegree2;break;case Vn.CARTESIAN:f.commonUnitsPerWorldUnit=[1,1,d.unitsPerMeter[2]],f.commonUnitsPerWorldUnit2=[0,0,d.unitsPerMeter2[2]];break}}return f}const s_e=Object.keys(Vn).map(n=>`const COORDINATE_SYSTEM_${n}: i32 = ${Vn[n]};`).join(""),a_e=Object.keys(yo).map(n=>`const PROJECTION_MODE_${n}: i32 = ${yo[n]};`).join(""),o_e=Object.keys(H3).map(n=>`const UNIT_${n.toUpperCase()}: i32 = ${H3[n]};`).join(""),l_e=`${s_e}
${a_e}
${o_e}

const TILE_SIZE: f32 = 512.0;
const PI: f32 = 3.1415926536;
const WORLD_SCALE: f32 = TILE_SIZE / (PI * 2.0);
const ZERO_64_LOW: vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);
const EARTH_RADIUS: f32 = 6370972.0; // meters
const GLOBE_RADIUS: f32 = 256.0;

// -----------------------------------------------------------------------------
// Uniform block (converted from GLSL uniform block)
// -----------------------------------------------------------------------------
struct ProjectUniforms {
  wrapLongitude: i32,
  coordinateSystem: i32,
  commonUnitsPerMeter: vec3<f32>,
  projectionMode: i32,
  scale: f32,
  commonUnitsPerWorldUnit: vec3<f32>,
  commonUnitsPerWorldUnit2: vec3<f32>,
  center: vec4<f32>,
  modelMatrix: mat4x4<f32>,
  viewProjectionMatrix: mat4x4<f32>,
  viewportSize: vec2<f32>,
  devicePixelRatio: f32,
  focalDistance: f32,
  cameraPosition: vec3<f32>,
  coordinateOrigin: vec3<f32>,
  commonOrigin: vec3<f32>,
  pseudoMeters: i32,
};

@group(0) @binding(0)
var<uniform> project: ProjectUniforms;

// -----------------------------------------------------------------------------
// Geometry data
// (In your GLSL code, "geometry" was assumed to be available globally. In WGSL,
// you might supply this via vertex attributes or a uniform. Here we define a
// uniform struct for demonstration.)
// -----------------------------------------------------------------------------

// Structure to carry additional geometry data used by deck.gl filters.
struct Geometry {
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  position: vec4<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

// @group(0) @binding(1)
var<private> geometry: Geometry;
`,c_e=`${l_e}

// -----------------------------------------------------------------------------
// Functions
// -----------------------------------------------------------------------------

// Returns an adjustment factor for commonUnitsPerMeter
fn _project_size_at_latitude(lat: f32) -> f32 {
  let y = clamp(lat, -89.9, 89.9);
  return 1.0 / cos(radians(y));
}

// Overloaded version: scales a value in meters at a given latitude.
fn _project_size_at_latitude_m(meters: f32, lat: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * _project_size_at_latitude(lat);
}

// Computes a non-linear scale factor based on geometry.
// (Note: This function relies on "geometry" being provided.)
fn project_size() -> f32 {
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
      project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
      project.pseudoMeters == 0) {
    if (geometry.position.w == 0.0) {
      return _project_size_at_latitude(geometry.worldPosition.y);
    }
    let y: f32 = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
    let y2 = y * y;
    let y4 = y2 * y2;
    let y6 = y4 * y2;
    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
  }
  return 1.0;
}

// Overloads to scale offsets (meters to world units)
fn project_size_float(meters: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * project_size();
}

fn project_size_vec2(meters: vec2<f32>) -> vec2<f32> {
  return meters * project.commonUnitsPerMeter.xy * project_size();
}

fn project_size_vec3(meters: vec3<f32>) -> vec3<f32> {
  return meters * project.commonUnitsPerMeter * project_size();
}

fn project_size_vec4(meters: vec4<f32>) -> vec4<f32> {
  return vec4<f32>(meters.xyz * project.commonUnitsPerMeter, meters.w);
}

// Returns a rotation matrix aligning the zaxis with the given up vector.
fn project_get_orientation_matrix(up: vec3<f32>) -> mat3x3<f32> {
  let uz = normalize(up);
  let ux = select(
    vec3<f32>(1.0, 0.0, 0.0),
    normalize(vec3<f32>(uz.y, -uz.x, 0.0)),
    abs(uz.z) == 1.0
  );
  let uy = cross(uz, ux);
  return mat3x3<f32>(ux, uy, uz);
}

// Since WGSL does not support "out" parameters, we return a struct.
struct RotationResult {
  needsRotation: bool,
  transform: mat3x3<f32>,
};

fn project_needs_rotation(commonPosition: vec3<f32>) -> RotationResult {
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    return RotationResult(true, project_get_orientation_matrix(commonPosition));
  } else {
    return RotationResult(false, mat3x3<f32>());  // identity alternative if needed
  };
}

// Projects a normal vector from the current coordinate system to world space.
fn project_normal(vector: vec3<f32>) -> vec3<f32> {
  let normal_modelspace = project.modelMatrix * vec4<f32>(vector, 0.0);
  var n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
  let rotResult = project_needs_rotation(geometry.position.xyz);
  if (rotResult.needsRotation) {
    n = rotResult.transform * n;
  }
  return n;
}

// Applies a scale offset based on y-offset (dy)
fn project_offset_(offset: vec4<f32>) -> vec4<f32> {
  let dy: f32 = offset.y;
  let commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
  return vec4<f32>(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}

// Projects lng/lat coordinates to a unit tile [0,1]
fn project_mercator_(lnglat: vec2<f32>) -> vec2<f32> {
  var x = lnglat.x;
  if (project.wrapLongitude != 0) {
    x = ((x + 180.0) % 360.0) - 180.0;
  }
  let y = clamp(lnglat.y, -89.9, 89.9);
  return vec2<f32>(
    radians(x) + PI,
    PI + log(tan(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

// Projects lng/lat/z coordinates for a globe projection.
fn project_globe_(lnglatz: vec3<f32>) -> vec3<f32> {
  let lambda = radians(lnglatz.x);
  let phi = radians(lnglatz.y);
  let cosPhi = cos(phi);
  let D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
  return vec3<f32>(
    sin(lambda) * cosPhi,
    -cos(lambda) * cosPhi,
    sin(phi)
  ) * D;
}

// Projects positions (with an optional 64-bit low part) from the input
// coordinate system to the common space.
fn project_position_vec4_f64(position: vec4<f32>, position64Low: vec3<f32>) -> vec4<f32> {
  var position_world = project.modelMatrix * position;

  // Work around for a Mac+NVIDIA bug:
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_mercator_(position_world.xy),
        _project_size_at_latitude_m(position_world.z, position_world.y),
        position_world.w
      );
    }
    if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
      position_world = vec4f(position_world.xyz + project.coordinateOrigin, position_world.w);
    }
  }
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_globe_(position_world.xyz),
        position_world.w
      );
    }
  }
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
        return vec4<f32>(
          project_mercator_(position_world.xy) - project.commonOrigin.xy,
          project_size_float(position_world.z),
          position_world.w
        );
      }
    }
  }
  if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
      (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
       (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
        project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
    position_world = vec4f(position_world.xyz - project.coordinateOrigin, position_world.w);
  }

  return project_offset_(position_world) +
         project_offset_(project.modelMatrix * vec4<f32>(position64Low, 0.0));
}

// Overloaded versions for different input types.
fn project_position_vec4_f32(position: vec4<f32>) -> vec4<f32> {
  return project_position_vec4_f64(position, ZERO_64_LOW);
}

fn project_position_vec3_f64(position: vec3<f32>, position64Low: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), position64Low);
  return projected_position.xyz;
}

fn project_position_vec3_f32(position: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), ZERO_64_LOW);
  return projected_position.xyz;
}

fn project_position_vec2_f32(position: vec2<f32>) -> vec2<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 0.0, 1.0), ZERO_64_LOW);
  return projected_position.xy;
}

// Transforms a common space position to clip space.
fn project_common_position_to_clipspace_with_projection(position: vec4<f32>, viewProjectionMatrix: mat4x4<f32>, center: vec4<f32>) -> vec4<f32> {
  return viewProjectionMatrix * position + center;
}

// Uses the project viewProjectionMatrix and center.
fn project_common_position_to_clipspace(position: vec4<f32>) -> vec4<f32> {
  return project_common_position_to_clipspace_with_projection(position, project.viewProjectionMatrix, project.center);
}

// Returns a clip space offset corresponding to a given number of screen pixels.
fn project_pixel_size_to_clipspace(pixels: vec2<f32>) -> vec2<f32> {
  let offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
  return offset * project.focalDistance;
}

fn project_meter_size_to_pixel(meters: f32) -> f32 {
  return project_size_float(meters) * project.scale;
}

fn project_unit_size_to_pixel(size: f32, unit: i32) -> f32 {
  if (unit == UNIT_METERS) {
    return project_meter_size_to_pixel(size);
  } else if (unit == UNIT_COMMON) {
    return size * project.scale;
  }
  // UNIT_PIXELS: no scaling applied.
  return size;
}

fn project_pixel_size_float(pixels: f32) -> f32 {
  return pixels / project.scale;
}

fn project_pixel_size_vec2(pixels: vec2<f32>) -> vec2<f32> {
  return pixels / project.scale;
}
`,A_e=Object.keys(Vn).map(n=>`const int COORDINATE_SYSTEM_${n} = ${Vn[n]};`).join(""),u_e=Object.keys(yo).map(n=>`const int PROJECTION_MODE_${n} = ${yo[n]};`).join(""),f_e=Object.keys(H3).map(n=>`const int UNIT_${n.toUpperCase()} = ${H3[n]};`).join(""),h_e=`${A_e}
${u_e}
${f_e}
uniform projectUniforms {
bool wrapLongitude;
int coordinateSystem;
vec3 commonUnitsPerMeter;
int projectionMode;
float scale;
vec3 commonUnitsPerWorldUnit;
vec3 commonUnitsPerWorldUnit2;
vec4 center;
mat4 modelMatrix;
mat4 viewProjectionMatrix;
vec2 viewportSize;
float devicePixelRatio;
float focalDistance;
vec3 cameraPosition;
vec3 coordinateOrigin;
vec3 commonOrigin;
bool pseudoMeters;
} project;
const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
float y = clamp(lat, -89.9, 89.9);
return 1.0 / cos(radians(y));
}
float project_size() {
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
project.pseudoMeters == false) {
if (geometry.position.w == 0.0) {
return project_size_at_latitude(geometry.worldPosition.y);
}
float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
float y2 = y * y;
float y4 = y2 * y2;
float y6 = y4 * y2;
return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
}
return 1.0;
}
float project_size_at_latitude(float meters, float lat) {
return meters * project.commonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
return meters * project.commonUnitsPerMeter.z * project_size();
}
vec2 project_size(vec2 meters) {
return meters * project.commonUnitsPerMeter.xy * project_size();
}
vec3 project_size(vec3 meters) {
return meters * project.commonUnitsPerMeter * project_size();
}
vec4 project_size(vec4 meters) {
return vec4(meters.xyz * project.commonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
vec3 uz = normalize(up);
vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
vec3 uy = cross(uz, ux);
return mat3(ux, uy, uz);
}
bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
transform = project_get_orientation_matrix(commonPosition);
return true;
}
return false;
}
vec3 project_normal(vec3 vector) {
vec4 normal_modelspace = project.modelMatrix * vec4(vector, 0.0);
vec3 n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
mat3 rotation;
if (project_needs_rotation(geometry.position.xyz, rotation)) {
n = rotation * n;
}
return n;
}
vec4 project_offset_(vec4 offset) {
float dy = offset.y;
vec3 commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
float x = lnglat.x;
if (project.wrapLongitude) {
x = mod(x + 180., 360.0) - 180.;
}
float y = clamp(lnglat.y, -89.9, 89.9);
return vec2(
radians(x) + PI,
PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
) * WORLD_SCALE;
}
vec3 project_globe_(vec3 lnglatz) {
float lambda = radians(lnglatz.x);
float phi = radians(lnglatz.y);
float cosPhi = cos(phi);
float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
return vec3(
sin(lambda) * cosPhi,
-cos(lambda) * cosPhi,
sin(phi)
) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
vec4 position_world = project.modelMatrix * position;
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_mercator_(position_world.xy),
project_size_at_latitude(position_world.z, position_world.y),
position_world.w
);
}
if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
position_world.xyz += project.coordinateOrigin;
}
}
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_globe_(position_world.xyz),
position_world.w
);
}
}
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
return vec4(
project_mercator_(position_world.xy) - project.commonOrigin.xy,
project_size(position_world.z),
position_world.w
);
}
}
}
if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
(project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
(project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
position_world.xyz -= project.coordinateOrigin;
}
return project_offset_(position_world) + project_offset_(project.modelMatrix * vec4(position64Low, 0.0));
}
vec4 project_position(vec4 position) {
return project_position(position, ZERO_64_LOW);
}
vec3 project_position(vec3 position, vec3 position64Low) {
vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
return projected_position.xyz;
}
vec3 project_position(vec3 position) {
vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
return projected_position.xyz;
}
vec2 project_position(vec2 position) {
vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
return projected_position.xy;
}
vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
return project_common_position_to_clipspace(position, project.viewProjectionMatrix, project.center);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
vec2 offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
return offset * project.focalDistance;
}
float project_size_to_pixel(float meters) {
return project_size(meters) * project.scale;
}
float project_size_to_pixel(float size, int unit) {
if (unit == UNIT_METERS) return project_size_to_pixel(size);
if (unit == UNIT_COMMON) return size * project.scale;
return size;
}
float project_pixel_size(float pixels) {
return pixels / project.scale;
}
vec2 project_pixel_size(vec2 pixels) {
return pixels / project.scale;
}
`,d_e={};function g_e(n=d_e){return"viewport"in n?r_e(n):{}}const zR={name:"project",dependencies:[U3e,JQ],source:c_e,vs:h_e,getUniforms:g_e,uniformTypes:{wrapLongitude:"f32",coordinateSystem:"i32",commonUnitsPerMeter:"vec3<f32>",projectionMode:"i32",scale:"f32",commonUnitsPerWorldUnit:"vec3<f32>",commonUnitsPerWorldUnit2:"vec3<f32>",center:"vec4<f32>",modelMatrix:"mat4x4<f32>",viewProjectionMatrix:"mat4x4<f32>",viewportSize:"vec2<f32>",devicePixelRatio:"f32",focalDistance:"f32",cameraPosition:"vec3<f32>",coordinateOrigin:"vec3<f32>",commonOrigin:"vec3<f32>",pseudoMeters:"f32"}},p_e=`// Define a structure to hold both the clip-space position and the common position.
struct ProjectResult {
  clipPosition: vec4<f32>,
  commonPosition: vec4<f32>,
};

// This function mimics the GLSL version with the 'out' parameter by returning both values.
fn project_position_to_clipspace_and_commonspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> ProjectResult {
  // Compute the projected position.
  let projectedPosition: vec3<f32> = project_position_vec3_f64(position, position64Low);

  // Start with the provided offset.
  var finalOffset: vec3<f32> = offset;

  // Get whether a rotation is needed and the rotation matrix.
  let rotationResult = project_needs_rotation(projectedPosition);

  // If rotation is needed, update the offset.
  if (rotationResult.needsRotation) {
    finalOffset = rotationResult.transform * offset;
  }

  // Compute the common position.
  let commonPosition: vec4<f32> = vec4<f32>(projectedPosition + finalOffset, 1.0);

  // Convert to clip-space.
  let clipPosition: vec4<f32> = project_common_position_to_clipspace(commonPosition);

  return ProjectResult(clipPosition, commonPosition);
}

// A convenience overload that returns only the clip-space position.
fn project_position_to_clipspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> vec4<f32> {
  return project_position_to_clipspace_and_commonspace(position, position64Low, offset).clipPosition;
}
`,__e=`vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,HR={name:"project32",dependencies:[zR],source:p_e,vs:__e};function m_e(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Hh(n,e){const t=zd([],e,n);return DR(t,t,1/t[3]),t}function MS(n,e){const t=n%e;return t<0?e+t:t}function U9(n,e,t){return n<e?e:n>t?t:n}function y_e(n){return Math.log(n)*Math.LOG2E}const QR=Math.log2||y_e;function K0(n,e){if(!n)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const Nl=Math.PI,lj=Nl/4,tl=Nl/180,N9=180/Nl,pd=512,q5=4003e4,OA=85.051129,b_e=1.5;function v_e(n){return QR(n)}function Q3(n){const[e,t]=n;K0(Number.isFinite(e)),K0(Number.isFinite(t)&&t>=-90&&t<=90,"invalid latitude");const r=e*tl,i=t*tl,s=pd*(r+Nl)/(2*Nl),a=pd*(Nl+Math.log(Math.tan(lj+i*.5)))/(2*Nl);return[s,a]}function _d(n){const[e,t]=n,r=e/pd*(2*Nl)-Nl,i=2*(Math.atan(Math.exp(t/pd*(2*Nl)-Nl))-lj);return[r*N9,i*N9]}function w_e(n){const{latitude:e}=n;K0(Number.isFinite(e));const t=Math.cos(e*tl);return v_e(q5*t)-9}function Cm(n){const e=Math.cos(n*tl);return pd/q5/e}function k9(n){const{latitude:e,longitude:t,highPrecision:r=!1}=n;K0(Number.isFinite(e)&&Number.isFinite(t));const i=pd,s=Math.cos(e*tl),a=i/360,o=a/s,l=i/q5/s,c={unitsPerMeter:[l,l,l],metersPerUnit:[1/l,1/l,1/l],unitsPerDegree:[a,o,l],degreesPerUnit:[1/a,1/o,1/l]};if(r){const A=tl*Math.tan(e*tl)/s,u=a*A/2,h=i/q5*A,f=h/o*l;c.unitsPerDegree2=[0,u,h],c.unitsPerMeter2=[f,0,f]}return c}function cj(n,e){const[t,r,i]=n,[s,a,o]=e,{unitsPerMeter:l,unitsPerMeter2:c}=k9({longitude:t,latitude:r,highPrecision:!0}),A=Q3(n);A[0]+=s*(l[0]+c[0]*a),A[1]+=a*(l[1]+c[1]*a);const u=_d(A),h=(i||0)+(o||0);return Number.isFinite(i)||Number.isFinite(o)?[u[0],u[1],h]:u}function L_e(n){const{height:e,pitch:t,bearing:r,altitude:i,scale:s,center:a}=n,o=m_e();$5(o,o,[0,0,-i]),OQ(o,o,-t*tl),zQ(o,o,r*tl);const l=s/e;return PR(o,o,[l,l,l]),a&&$5(o,o,Lge([],a)),o}function x_e(n){const{width:e,height:t,altitude:r,pitch:i=0,offset:s,center:a,scale:o,nearZMultiplier:l=1,farZMultiplier:c=1}=n;let{fovy:A=j3(b_e)}=n;r!==void 0&&(A=j3(r));const u=A*tl,h=i*tl,f=jR(A);let d=f;a&&(d+=a[2]*o/Math.cos(h)/t);const g=u*(.5+(s?s[1]:0)/t),_=Math.sin(g)*d/Math.sin(U9(Math.PI/2-h-g,.01,Math.PI-.01)),m=Math.sin(h)*_+d,y=d*10,b=Math.min(m*c,y);return{fov:u,aspect:e/t,focalDistance:f,near:l,far:b}}function j3(n){return 2*Math.atan(.5/n)*N9}function jR(n){return .5/Math.tan(.5*n*tl)}function Aj(n,e){const[t,r,i=0]=n;return K0(Number.isFinite(t)&&Number.isFinite(r)&&Number.isFinite(i)),Hh(e,[t,r,i,1])}function YR(n,e,t=0){const[r,i,s]=n;if(K0(Number.isFinite(r)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(s))return Hh(e,[r,i,s,1]);const a=Hh(e,[r,i,0,1]),o=Hh(e,[r,i,1,1]),l=a[2],c=o[2],A=l===c?0:((t||0)-l)/(c-l);return BQ([],a,o,A)}function R_e(n){const{width:e,height:t,bounds:r,minExtent:i=0,maxZoom:s=24,offset:a=[0,0]}=n,[[o,l],[c,A]]=r,u=B_e(n.padding),h=Q3([o,U9(A,-OA,OA)]),f=Q3([c,U9(l,-OA,OA)]),d=[Math.max(Math.abs(f[0]-h[0]),i),Math.max(Math.abs(f[1]-h[1]),i)],g=[e-u.left-u.right-Math.abs(a[0])*2,t-u.top-u.bottom-Math.abs(a[1])*2];K0(g[0]>0&&g[1]>0);const _=g[0]/d[0],m=g[1]/d[1],y=(u.right-u.left)/2/_,b=(u.top-u.bottom)/2/m,v=[(f[0]+h[0])/2+y,(f[1]+h[1])/2+b],B=_d(v),C=Math.min(s,QR(Math.abs(Math.min(_,m))));return K0(Number.isFinite(C)),{longitude:B[0],latitude:B[1],zoom:C}}function B_e(n=0){return typeof n=="number"?{top:n,bottom:n,left:n,right:n}:(K0(Number.isFinite(n.top)&&Number.isFinite(n.bottom)&&Number.isFinite(n.left)&&Number.isFinite(n.right)),n)}const SS=Math.PI/180;function E_e(n,e=0){const{width:t,height:r,unproject:i}=n,s={targetZ:e},a=i([0,r],s),o=i([t,r],s);let l,c;const A=n.fovy?.5*n.fovy*SS:Math.atan(.5/n.altitude),u=(90-n.pitch)*SS;return A>u-.01?(l=FS(n,0,e),c=FS(n,t,e)):(l=i([0,0],s),c=i([t,0],s)),[a,o,c,l]}function FS(n,e,t){const{pixelUnprojectionMatrix:r}=n,i=Hh(r,[e,0,1,1]),s=Hh(r,[e,n.height,1,1]),o=(t*n.distanceScales.unitsPerMeter[2]-i[2])/(s[2]-i[2]),l=BQ([],i,s,o),c=_d(l);return c.push(t),c}const US=512;function C_e(n){const{width:e,height:t,pitch:r=0}=n;let{longitude:i,latitude:s,zoom:a,bearing:o=0}=n;(i<-180||i>180)&&(i=MS(i+180,360)-180),(o<-180||o>180)&&(o=MS(o+180,360)-180);const l=QR(t/US);if(a<=l)a=l,s=0;else{const c=t/2/Math.pow(2,a),A=_d([0,c])[1];if(s<A)s=A;else{const u=_d([0,US-c])[1];s>u&&(s=u)}}return{width:e,height:t,longitude:i,latitude:s,zoom:a,pitch:r,bearing:o}}const uj=`
uniform shadowUniforms {
  bool drawShadowMap;
  bool useShadowMap;
  vec4 color;
  highp int lightId;
  float lightCount;
  mat4 viewProjectionMatrix0;
  mat4 viewProjectionMatrix1;
  vec4 projectCenter0;
  vec4 projectCenter1;
} shadow;
`,I_e=`
const int max_lights = 2;

out vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  mat4 viewProjectionMatrices[max_lights];
  viewProjectionMatrices[0] = shadow.viewProjectionMatrix0;
  viewProjectionMatrices[1] = shadow.viewProjectionMatrix1;
  vec4 projectCenters[max_lights];
  projectCenters[0] = shadow.projectCenter0;
  projectCenters[1] = shadow.projectCenter1;

  if (shadow.drawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[shadow.lightId], projectCenters[shadow.lightId]);
  }
  if (shadow.useShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow.lightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[i], projectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,T_e=`
${uj}
${I_e}
`,M_e=`
const int max_lights = 2;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;

in vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow.drawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow.useShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow.lightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow.color.a / shadow.lightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow.color.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,S_e=`
${uj}
${M_e}
`,F_e=Cp(D_e),U_e=Cp(O_e),N_e=[0,0,0,1],k_e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function P_e(n,e){const[t,r,i]=n,s=YR([t,r,i],e);return Number.isFinite(i)?s:[s[0],s[1],0]}function D_e({viewport:n,center:e}){return new Yn(n.viewProjectionMatrix).invert().transform(e)}function O_e({viewport:n,shadowMatrices:e}){const t=[],r=n.pixelUnprojectionMatrix,i=n.isGeospatial?void 0:1,s=[[0,0,i],[n.width,0,i],[0,n.height,i],[n.width,n.height,i],[0,0,-1],[n.width,0,-1],[0,n.height,-1],[n.width,n.height,-1]].map(a=>P_e(a,r));for(const a of e){const o=a.clone().translate(new tt(n.center).negate()),l=s.map(A=>o.transform(A)),c=new Yn().ortho({left:Math.min(...l.map(A=>A[0])),right:Math.max(...l.map(A=>A[0])),bottom:Math.min(...l.map(A=>A[1])),top:Math.max(...l.map(A=>A[1])),near:Math.min(...l.map(A=>-A[2])),far:Math.max(...l.map(A=>-A[2]))});t.push(c.multiplyRight(a))}return t}function z_e(n){const{shadowEnabled:e=!0,project:t}=n;if(!e||!t||!n.shadowMatrices||!n.shadowMatrices.length)return{drawShadowMap:!1,useShadowMap:!1,shadow_uShadowMap0:n.dummyShadowMap,shadow_uShadowMap1:n.dummyShadowMap};const r=zR.getUniforms(t),i=F_e({viewport:t.viewport,center:r.center}),s=[],a=U_e({shadowMatrices:n.shadowMatrices,viewport:t.viewport}).slice();for(let l=0;l<n.shadowMatrices.length;l++){const c=a[l],A=c.clone().translate(new tt(t.viewport.center).negate());r.coordinateSystem===Vn.LNGLAT&&r.projectionMode===yo.WEB_MERCATOR?(a[l]=A,s[l]=i):(a[l]=c.clone().multiplyRight(k_e),s[l]=A.transform(i))}const o={drawShadowMap:!!n.drawToShadowMap,useShadowMap:n.shadowMaps?n.shadowMaps.length>0:!1,color:n.shadowColor||N_e,lightId:n.shadowLightId||0,lightCount:n.shadowMatrices.length,shadow_uShadowMap0:n.dummyShadowMap,shadow_uShadowMap1:n.dummyShadowMap};for(let l=0;l<a.length;l++)o[`viewProjectionMatrix${l}`]=a[l],o[`projectCenter${l}`]=s[l];for(let l=0;l<2;l++)o[`shadow_uShadowMap${l}`]=n.shadowMaps&&n.shadowMaps[l]||n.dummyShadowMap;return o}const NS={name:"shadow",dependencies:[zR],vs:T_e,fs:S_e,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:z_e,uniformTypes:{drawShadowMap:"f32",useShadowMap:"f32",color:"vec4<f32>",lightId:"i32",lightCount:"f32",viewProjectionMatrix0:"mat4x4<f32>",viewProjectionMatrix1:"mat4x4<f32>",projectCenter0:"vec4<f32>",projectCenter1:"vec4<f32>"}},GR={...uS,defaultUniforms:{...uS.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}}},H_e=[JQ],Q_e=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"],j_e=[];function Y_e(n){const e=N5.getDefaultShaderAssembler();for(const r of H_e)e.addDefaultModule(r);e._hookFunctions.length=0;const t=n==="glsl"?Q_e:j_e;for(const r of t)e.addShaderHook(r);return e}const G_e=[255,255,255],V_e=1;let K_e=0;class $_e{constructor(e={}){this.type="ambient";const{color:t=G_e}=e,{intensity:r=V_e}=e;this.id=e.id||`ambient-${K_e++}`,this.color=t,this.intensity=r}}const W_e=[255,255,255],q_e=1,X_e=[0,0,-1];let J_e=0;class kS{constructor(e={}){this.type="directional";const{color:t=W_e}=e,{intensity:r=q_e}=e,{direction:i=X_e}=e,{_shadow:s=!1}=e;this.id=e.id||`directional-${J_e++}`,this.color=t,this.intensity=r,this.type="directional",this.direction=new tt(i).normalize().toArray(),this.shadow=s}getProjectedLight(e){return this}}class Z_e{constructor(e,t={id:"pass"}){const{id:r}=t;this.id=r,this.device=e,this.props={...t}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class VR extends Z_e{constructor(){super(...arguments),this._lastRenderIndex=-1}render(e){const[t,r]=this.device.canvasContext.getDrawingBufferSize(),i=e.clearCanvas??!0,s=e.clearColor??(i?[0,0,0,0]:!1),a=i?1:!1,o=i?0:!1,l=e.colorMask??15,c={viewport:[0,0,t,r]};e.colorMask&&(c.colorMask=l),e.scissorRect&&(c.scissorRect=e.scissorRect);const A=this.device.beginRenderPass({framebuffer:e.target,parameters:c,clearColor:s,clearDepth:a,clearStencil:o});try{return this._drawLayers(A,e)}finally{A.end(),this.device.submit()}}_drawLayers(e,t){const{target:r,shaderModuleProps:i,viewports:s,views:a,onViewportActive:o,clearStack:l=!0}=t;t.pass=t.pass||"unknown",l&&(this._lastRenderIndex=-1);const c=[];for(const A of s){const u=a&&a[A.id];o==null||o(A);const h=this._getDrawLayerParams(A,t),f=A.subViewports||[A];for(const d of f){const g=this._drawLayersInViewport(e,{target:r,shaderModuleProps:i,viewport:d,view:u,pass:t.pass,layers:t.layers},h);c.push(g)}}return c}_getDrawLayerParams(e,{layers:t,pass:r,isPicking:i=!1,layerFilter:s,cullRect:a,effects:o,shaderModuleProps:l},c=!1){var d;const A=[],u=fj(this._lastRenderIndex+1),h={layer:t[0],viewport:e,isPicking:i,renderPass:r,cullRect:a},f={};for(let g=0;g<t.length;g++){const _=t[g],m=this._shouldDrawLayer(_,h,s,f),y={shouldDrawLayer:m};m&&!c&&(y.shouldDrawLayer=!0,y.layerRenderIndex=u(_,m),y.shaderModuleProps=this._getShaderModuleProps(_,o,r,l),y.layerParameters={...(d=_.context.deck)==null?void 0:d.props.parameters,...this.getLayerParameters(_,g,e)}),A[g]=y}return A}_drawLayersInViewport(e,{layers:t,shaderModuleProps:r,pass:i,target:s,viewport:a,view:o},l){const c=e4e(this.device,{shaderModuleProps:r,target:s,viewport:a});if(o){const{clear:u,clearColor:h,clearDepth:f,clearStencil:d}=o.props;if(u){let g=[0,0,0,0],_=1,m=0;Array.isArray(h)?g=[...h.slice(0,3),h[3]||255].map(b=>b/255):h===!1&&(g=!1),f!==void 0&&(_=f),d!==void 0&&(m=d),this.device.beginRenderPass({framebuffer:s,parameters:{viewport:c,scissorRect:c},clearColor:g,clearDepth:_,clearStencil:m}).end()}}const A={totalCount:t.length,visibleCount:0,compositeCount:0,pickableCount:0};e.setParameters({viewport:c});for(let u=0;u<t.length;u++){const h=t[u],f=l[u],{shouldDrawLayer:d}=f;if(d&&h.props.pickable&&A.pickableCount++,h.isComposite&&A.compositeCount++,h.isDrawable&&f.shouldDrawLayer){const{layerRenderIndex:g,shaderModuleProps:_,layerParameters:m}=f;A.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,g),_.project&&(_.project.viewport=a),h.context.renderPass=e;try{h._drawLayer({renderPass:e,shaderModuleProps:_,uniforms:{layerIndex:g},parameters:m})}catch(y){h.raiseError(y,`drawing ${h} to ${i}`)}}}return A}shouldDrawLayer(e){return!0}getShaderModuleProps(e,t,r){return null}getLayerParameters(e,t,r){return e.props.parameters}_shouldDrawLayer(e,t,r,i){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;t.layer=e;let a=e.parent;for(;a;){if(!a.props.visible||!a.filterSubLayer(t))return!1;t.layer=a,a=a.parent}if(r){const o=t.layer.id;if(o in i||(i[o]=r(t)),!i[o])return!1}return e.activateViewport(t.viewport),!0}_getShaderModuleProps(e,t,r,i){var l,c;const s=this.device.canvasContext.cssToDeviceRatio(),a=((l=e.internalState)==null?void 0:l.propsInTransition)||e.props,o={layer:a,picking:{isActive:!1},project:{viewport:e.context.viewport,devicePixelRatio:s,modelMatrix:a.modelMatrix,coordinateSystem:a.coordinateSystem,coordinateOrigin:a.coordinateOrigin,autoWrapLongitude:e.wrapLongitude}};if(t)for(const A of t)PS(o,(c=A.getShaderModuleProps)==null?void 0:c.call(A,e,o));return PS(o,this.getShaderModuleProps(e,t,o),i)}}function fj(n=0,e={}){const t={},r=(i,s)=>{const a=i.props._offset,o=i.id,l=i.parent&&i.parent.id;let c;if(l&&!(l in e)&&r(i.parent,!1),l in t){const A=t[l]=t[l]||fj(e[l],e);c=A(i,s),t[o]=A}else Number.isFinite(a)?(c=a+(e[l]||0),t[o]=null):c=n;return s&&c>=n&&(n=c+1),e[o]=c,c};return r}function e4e(n,{shaderModuleProps:e,target:t,viewport:r}){var l;const i=((l=e==null?void 0:e.project)==null?void 0:l.devicePixelRatio)??n.canvasContext.cssToDeviceRatio(),[,s]=n.canvasContext.getDrawingBufferSize(),a=t?t.height:s,o=r;return[o.x*i,a-(o.y+o.height)*i,o.width*i,o.height*i]}function PS(n,...e){for(const t of e)if(t)for(const r in t)n[r]?Object.assign(n[r],t[r]):n[r]=t[r];return n}class t4e extends VR{constructor(e,t){super(e,t);const r=e.createTexture({format:"rgba8unorm",width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}}),i=e.createTexture({format:"depth16unorm",width:1,height:1});this.fbo=e.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[r],depthStencilAttachment:i})}delete(){this.fbo&&(this.fbo.destroy(),this.fbo=null)}getShadowMap(){return this.fbo.colorAttachments[0].texture}render(e){const t=this.fbo,r=this.device.canvasContext.cssToDeviceRatio(),i=e.viewports[0],s=i.width*r,a=i.height*r,o=[1,1,1,1];(s!==t.width||a!==t.height)&&t.resize({width:s,height:a}),super.render({...e,clearColor:o,target:t,pass:"shadow"})}getLayerParameters(e,t,r){return{...e.props.parameters,blend:!1,depthWriteEnabled:!0,depthCompare:"less-equal"}}shouldDrawLayer(e){return e.props.shadowEnabled!==!1}getShaderModuleProps(e,t,r){return{shadow:{project:r.project,drawToShadowMap:!0}}}}const n4e={color:[255,255,255],intensity:1},DS=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],r4e=[0,0,0,200/255];class hj{constructor(e={}){this.id="lighting-effect",this.shadowColor=r4e,this.shadow=!1,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.dummyShadowMap=null,this.setProps(e)}setup(e){this.context=e;const{device:t,deck:r}=e;this.shadow&&!this.dummyShadowMap&&(this._createShadowPasses(t),r._addDefaultShaderModule(NS),this.dummyShadowMap=t.createTexture({width:1,height:1}))}setProps(e){this.ambientLight=void 0,this.directionalLights=[],this.pointLights=[];for(const t in e){const r=e[t];switch(r.type){case"ambient":this.ambientLight=r;break;case"directional":this.directionalLights.push(r);break;case"point":this.pointLights.push(r);break}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(t=>t.shadow),this.context&&this.setup(this.context),this.props=e}preRender({layers:e,layerFilter:t,viewports:r,onViewportActive:i,views:s}){if(this.shadow){this.shadowMatrices=this._calculateMatrices();for(let a=0;a<this.shadowPasses.length;a++)this.shadowPasses[a].render({layers:e,layerFilter:t,viewports:r,onViewportActive:i,views:s,shaderModuleProps:{shadow:{shadowLightId:a,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}}})}}getShaderModuleProps(e,t){const r=this.shadow?{project:t.project,shadowMaps:this.shadowPasses.map(a=>a.getShadowMap()),dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{},i={enabled:!0,ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(a=>a.getProjectedLight({layer:e})),pointLights:this.pointLights.map(a=>a.getProjectedLight({layer:e}))},s=e.props.material;return{shadow:r,lighting:i,phongMaterial:s,gouraudMaterial:s}}cleanup(e){for(const t of this.shadowPasses)t.delete();this.shadowPasses.length=0,this.dummyShadowMap&&(this.dummyShadowMap.destroy(),this.dummyShadowMap=null,e.deck._removeDefaultShaderModule(NS))}_calculateMatrices(){const e=[];for(const t of this.directionalLights){const r=new Yn().lookAt({eye:new tt(t.direction).negate()});e.push(r)}return e}_createShadowPasses(e){for(let t=0;t<this.directionalLights.length;t++){const r=new t4e(e);this.shadowPasses[t]=r}}_applyDefaultLights(){const{ambientLight:e,pointLights:t,directionalLights:r}=this;!e&&t.length===0&&r.length===0&&(this.ambientLight=new $_e(n4e),this.directionalLights.push(new kS(DS[0]),new kS(DS[1])))}}class i4e{constructor(e={}){this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,t,{size:r=1,type:i,padding:s=0,copy:a=!1,initialize:o=!1,maxCount:l}){const c=i||e&&e.constructor||Float32Array,A=t*r+s;if(ArrayBuffer.isView(e)){if(A<=e.length)return e;if(A*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new c(e.buffer,0,A)}let u=1/0;l&&(u=l*r+s);const h=this._allocate(c,A,o,u);return e&&a?h.set(e):o||h.fill(0,0,4),this._release(e),h}release(e){this._release(e)}_allocate(e,t,r,i){let s=Math.max(Math.ceil(t*this.opts.overAlloc),1);s>i&&(s=i);const a=this._pool,o=e.BYTES_PER_ELEMENT*s,l=a.findIndex(c=>c.byteLength>=o);if(l>=0){const c=new e(a.splice(l,1)[0],0,s);return r&&c.fill(0),c}return new e(s)}_release(e){if(!ArrayBuffer.isView(e))return;const t=this._pool,{buffer:r}=e,{byteLength:i}=r,s=t.findIndex(a=>a.byteLength>=i);s<0?t.push(r):(s>0||t.length<this.opts.poolSize)&&t.splice(s,0,r),t.length>this.opts.poolSize&&t.shift()}}const Y3=new i4e;function dg(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function s4e(n,e){const t=n%e;return t<0?e+t:t}function a4e(n){return[n[12],n[13],n[14]]}function o4e(n){return{left:Of(n[3]+n[0],n[7]+n[4],n[11]+n[8],n[15]+n[12]),right:Of(n[3]-n[0],n[7]-n[4],n[11]-n[8],n[15]-n[12]),bottom:Of(n[3]+n[1],n[7]+n[5],n[11]+n[9],n[15]+n[13]),top:Of(n[3]-n[1],n[7]-n[5],n[11]-n[9],n[15]-n[13]),near:Of(n[3]+n[2],n[7]+n[6],n[11]+n[10],n[15]+n[14]),far:Of(n[3]-n[2],n[7]-n[6],n[11]-n[10],n[15]-n[14])}}const OS=new tt;function Of(n,e,t,r){OS.set(n,e,t);const i=OS.len();return{distance:r/i,normal:new tt(-n/i,-e/i,-t/i)}}function l4e(n){return n-Math.fround(n)}let U2;function h8(n,e){const{size:t=1,startIndex:r=0}=e,i=e.endIndex!==void 0?e.endIndex:n.length,s=(i-r)/t;U2=Y3.allocate(U2,s,{type:Float32Array,size:t*2});let a=r,o=0;for(;a<i;){for(let l=0;l<t;l++){const c=n[a++];U2[o+l]=c,U2[o+l+t]=l4e(c)}o+=t*2}return U2.subarray(0,s*t*2)}function c4e(n){let e=null,t=!1;for(const r of n)r&&(e?(t||(e=[[e[0][0],e[0][1]],[e[1][0],e[1][1]]],t=!0),e[0][0]=Math.min(e[0][0],r[0][0]),e[0][1]=Math.min(e[0][1],r[0][1]),e[1][0]=Math.max(e[1][0],r[1][0]),e[1][1]=Math.max(e[1][1],r[1][1])):e=r);return e}const A4e=Math.PI/180,u4e=dg(),zS=[0,0,0],f4e={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function h4e({width:n,height:e,orthographic:t,fovyRadians:r,focalDistance:i,padding:s,near:a,far:o}){const l=n/e,c=t?new Yn().orthographic({fovy:r,aspect:l,focalDistance:i,near:a,far:o}):new Yn().perspective({fovy:r,aspect:l,near:a,far:o});if(s){const{left:A=0,right:u=0,top:h=0,bottom:f=0}=s,d=Ul((A+n-u)/2,0,n)-n/2,g=Ul((h+e-f)/2,0,e)-e/2;c[8]-=d*2/n,c[9]+=g*2/e}return c}class Hd{constructor(e={}){this._frustumPlanes={},this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||f4e,this.focalDistance=e.focalDistance||1,this.position=e.position||zS,this.modelMatrix=e.modelMatrix||null;const{longitude:t,latitude:r}=e;this.isGeospatial=Number.isFinite(r)&&Number.isFinite(t),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?yo.WEB_MERCATOR:yo.WEB_MERCATOR_AUTO_OFFSET:yo.IDENTITY}equals(e){return e instanceof Hd?this===e?!0:e.width===this.width&&e.height===this.height&&e.scale===this.scale&&Dl(e.projectionMatrix,this.projectionMatrix)&&Dl(e.viewMatrix,this.viewMatrix):!1}project(e,{topLeft:t=!0}={}){const r=this.projectPosition(e),i=Aj(r,this.pixelProjectionMatrix),[s,a]=i,o=t?a:this.height-a;return e.length===2?[s,o]:[s,o,i[2]]}unproject(e,{topLeft:t=!0,targetZ:r}={}){const[i,s,a]=e,o=t?s:this.height-s,l=r&&r*this.distanceScales.unitsPerMeter[2],c=YR([i,o,a],this.pixelUnprojectionMatrix,l),[A,u,h]=this.unprojectPosition(c);return Number.isFinite(a)?[A,u,h]:Number.isFinite(r)?[A,u,r]:[A,u]}projectPosition(e){const[t,r]=this.projectFlat(e),i=(e[2]||0)*this.distanceScales.unitsPerMeter[2];return[t,r,i]}unprojectPosition(e){const[t,r]=this.unprojectFlat(e),i=(e[2]||0)*this.distanceScales.metersPerUnit[2];return[t,r,i]}projectFlat(e){if(this.isGeospatial){const t=Q3(e);return t[1]=Ul(t[1],-318,830),t}return e}unprojectFlat(e){return this.isGeospatial?_d(e):e}getBounds(e={}){const t={targetZ:e.z||0},r=this.unproject([0,0],t),i=this.unproject([this.width,0],t),s=this.unproject([0,this.height],t),a=this.unproject([this.width,this.height],t);return[Math.min(r[0],i[0],s[0],a[0]),Math.min(r[1],i[1],s[1],a[1]),Math.max(r[0],i[0],s[0],a[0]),Math.max(r[1],i[1],s[1],a[1])]}getDistanceScales(e){return e&&this.isGeospatial?k9({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:t,width:r=1,height:i=1}){return e<this.x+this.width&&this.x<e+r&&t<this.y+this.height&&this.y<t+i}getFrustumPlanes(){return this._frustumPlanes.near?this._frustumPlanes:(Object.assign(this._frustumPlanes,o4e(this.viewProjectionMatrix)),this._frustumPlanes)}panByPosition(e,t){return null}_initProps(e){const t=e.longitude,r=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=w_e({latitude:r})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||k9({latitude:r,longitude:t}));const i=Math.pow(2,this.zoom);this.scale=i;const{position:s,modelMatrix:a}=e;let o=zS;if(s&&(o=a?new Yn(a).transformAsVector(s,[]):s),this.isGeospatial){const l=this.projectPosition([t,r,0]);this.center=new tt(o).scale(this.distanceScales.unitsPerMeter).add(l)}else this.center=this.projectPosition(o)}_initMatrices(e){const{viewMatrix:t=u4e,projectionMatrix:r=null,orthographic:i=!1,fovyRadians:s,fovy:a=75,near:o=.1,far:l=1e3,padding:c=null,focalDistance:A=1}=e;this.viewMatrixUncentered=t,this.viewMatrix=new Yn().multiplyRight(t).translate(new tt(this.center).negate()),this.projectionMatrix=r||h4e({width:this.width,height:this.height,orthographic:i,fovyRadians:s||a*A4e,focalDistance:A,padding:c,near:o,far:l});const u=dg();I1(u,u,this.projectionMatrix),I1(u,u,this.viewMatrix),this.viewProjectionMatrix=u,this.viewMatrixInverse=E9([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=a4e(this.viewMatrixInverse);const h=dg(),f=dg();PR(h,h,[this.width/2,-this.height/2,1]),$5(h,h,[1,-1,0]),I1(f,h,this.viewProjectionMatrix),this.pixelProjectionMatrix=f,this.pixelUnprojectionMatrix=E9(dg(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||or.warn("Pixel project matrix not invertible")()}}Hd.displayName="Viewport";class G1 extends Hd{constructor(e={}){const{latitude:t=0,longitude:r=0,zoom:i=0,pitch:s=0,bearing:a=0,nearZMultiplier:o=.1,farZMultiplier:l=1.01,nearZ:c,farZ:A,orthographic:u=!1,projectionMatrix:h,repeat:f=!1,worldOffset:d=0,position:g,padding:_,legacyMeterSizes:m=!1}=e;let{width:y,height:b,altitude:v=1.5}=e;const B=Math.pow(2,i);y=y||1,b=b||1;let C,I=null;if(h)v=h[5]/2,C=j3(v);else{e.fovy?(C=e.fovy,v=jR(C)):C=j3(v);let w;if(_){const{top:U=0,bottom:M=0}=_;w=[0,Ul((U+b-M)/2,0,b)-b/2]}I=x_e({width:y,height:b,scale:B,center:g&&[0,0,g[2]*Cm(t)],offset:w,pitch:s,fovy:C,nearZMultiplier:o,farZMultiplier:l}),Number.isFinite(c)&&(I.near=c),Number.isFinite(A)&&(I.far=A)}let R=L_e({height:b,pitch:s,bearing:a,scale:B,altitude:v});d&&(R=new Yn().translate([512*d,0,0]).multiplyLeft(R)),super({...e,width:y,height:b,viewMatrix:R,longitude:r,latitude:t,zoom:i,...I,fovy:C,focalDistance:v}),this.latitude=t,this.longitude=r,this.zoom=i,this.pitch=s,this.bearing=a,this.altitude=v,this.fovy=C,this.orthographic=u,this._subViewports=f?[]:null,this._pseudoMeters=m,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),t=Math.floor((e[0]+180)/360),r=Math.ceil((e[2]-180)/360);for(let i=t;i<=r;i++){const s=i?new G1({...this,worldOffset:i}):this;this._subViewports.push(s)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[t,r]=this.projectFlat(e),i=(e[2]||0)*Cm(e[1]);return[t,r,i]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[t,r]=this.unprojectFlat(e),i=(e[2]||0)/Cm(r);return[t,r,i]}addMetersToLngLat(e,t){return cj(e,t)}panByPosition(e,t){const r=YR(t,this.pixelUnprojectionMatrix),i=this.projectFlat(e),s=iS([],i,pge([],r)),a=iS([],this.center,s),[o,l]=this.unprojectFlat(a);return{longitude:o,latitude:l}}getBounds(e={}){const t=E_e(this,e.z||0);return[Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),Math.min(t[0][1],t[1][1],t[2][1],t[3][1]),Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),Math.max(t[0][1],t[1][1],t[2][1],t[3][1])]}fitBounds(e,t={}){const{width:r,height:i}=this,{longitude:s,latitude:a,zoom:o}=R_e({width:r,height:i,bounds:e,...t});return new G1({width:r,height:i,longitude:s,latitude:a,zoom:o})}}G1.displayName="WebMercatorViewport";const HS=[0,0,0];function d8(n,e,t=!1){const r=e.projectPosition(n);if(t&&e instanceof G1){const[i,s,a=0]=n,o=e.getDistanceScales([i,s]);r[2]=a*o.unitsPerMeter[2]}return r}function d4e(n){const{viewport:e,modelMatrix:t,coordinateOrigin:r}=n;let{coordinateSystem:i,fromCoordinateSystem:s,fromCoordinateOrigin:a}=n;return i===Vn.DEFAULT&&(i=e.isGeospatial?Vn.LNGLAT:Vn.CARTESIAN),s===void 0&&(s=i),a===void 0&&(a=r),{viewport:e,coordinateSystem:i,coordinateOrigin:r,modelMatrix:t,fromCoordinateSystem:s,fromCoordinateOrigin:a}}function dj(n,{viewport:e,modelMatrix:t,coordinateSystem:r,coordinateOrigin:i,offsetMode:s}){let[a,o,l=0]=n;switch(t&&([a,o,l]=zd([],[a,o,l,1],t)),r){case Vn.LNGLAT:return d8([a,o,l],e,s);case Vn.LNGLAT_OFFSETS:return d8([a+i[0],o+i[1],l+(i[2]||0)],e,s);case Vn.METER_OFFSETS:return d8(cj(i,[a,o,l]),e,s);case Vn.CARTESIAN:default:return e.isGeospatial?[a+i[0],o+i[1],l+i[2]]:e.projectPosition([a,o,l])}}function g4e(n,e){const{viewport:t,coordinateSystem:r,coordinateOrigin:i,modelMatrix:s,fromCoordinateSystem:a,fromCoordinateOrigin:o}=d4e(e),{autoOffset:l=!0}=e,{geospatialOrigin:c=HS,shaderCoordinateOrigin:A=HS,offsetMode:u=!1}=l?oj(t,r,i):{},h=dj(n,{viewport:t,modelMatrix:s,coordinateSystem:a,coordinateOrigin:o,offsetMode:u});if(u){const f=t.projectPosition(c||A);kQ(h,h,f)}return h}let p4e=1,_4e=1;class gj{constructor(){z(this,"time",0);z(this,"channels",new Map);z(this,"animations",new Map);z(this,"playing",!1);z(this,"lastEngineTime",-1)}addChannel(e){const{delay:t=0,duration:r=Number.POSITIVE_INFINITY,rate:i=1,repeat:s=1}=e,a=p4e++,o={time:0,delay:t,duration:r,rate:i,repeat:s};return this._setChannelTime(o,this.time),this.channels.set(a,o),a}removeChannel(e){this.channels.delete(e);for(const[t,r]of this.animations)r.channel===e&&this.detachAnimation(t)}isFinished(e){const t=this.channels.get(e);return t===void 0?!1:this.time>=t.delay+t.duration*t.repeat}getTime(e){if(e===void 0)return this.time;const t=this.channels.get(e);return t===void 0?-1:t.time}setTime(e){this.time=Math.max(0,e);const t=this.channels.values();for(const i of t)this._setChannelTime(i,this.time);const r=this.animations.values();for(const i of r){const{animation:s,channel:a}=i;s.setTime(this.getTime(a))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,t){const r=_4e++;return this.animations.set(r,{animation:e,channel:t}),e.setTime(this.getTime(t)),r}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(this.lastEngineTime===-1&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,t){const r=t-e.delay,i=e.duration*e.repeat;r>=i?e.time=e.duration*e.rate:(e.time=Math.max(0,r)%e.duration,e.time*=e.rate)}}function m4e(n){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(n):setTimeout(n,1e3/60)}function y4e(n){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(n):clearTimeout(n)}let b4e=0;const Ny=class Ny{constructor(e){z(this,"device",null);z(this,"canvas",null);z(this,"props");z(this,"animationProps",null);z(this,"timeline",null);z(this,"stats");z(this,"cpuTime");z(this,"gpuTime");z(this,"frameRate");z(this,"display");z(this,"needsRedraw","initialized");z(this,"_initialized",!1);z(this,"_running",!1);z(this,"_animationFrameId",null);z(this,"_nextFramePromise",null);z(this,"_resolveNextFrame",null);z(this,"_cpuStartTime",0);z(this,"_error",null);if(this.props={...Ny.defaultAnimationLoopProps,...e},e=this.props,!e.device)throw new Error("No device provided");this.stats=e.stats||new Od({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:e.autoResizeViewport}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}reportError(e){this.props.onError(e),this._error=e}setNeedsRedraw(e){return this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.props.autoResizeViewport=e.autoResizeViewport||!1),this}async start(){if(this._running)return this;this._running=!0;try{let e;return this._initialized||(this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps())),this._running?(e!==!1&&(this._cancelAnimationFrame(),this._requestAnimationFrame()),this):null}catch(e){const t=e instanceof Error?e:new Error("Unknown error");throw this.props.onError(t),t}}stop(){return this._running&&(this.animationProps&&!this._error&&this.props.onFinalize(this.animationProps),this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1),this}redraw(){var e;return(e=this.device)!=null&&e.isLost||this._error?this:(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endFrameTimers(),this)}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw new Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeViewport()}_setDisplay(e){this.display&&(this.display.destroy(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_requestAnimationFrame(){this._running&&(this._animationFrameId=m4e(this._animationFrame.bind(this)))}_cancelAnimationFrame(){this._animationFrameId!==null&&(y4e(this._animationFrameId),this._animationFrameId=null)}_animationFrame(){this._running&&(this.redraw(),this._requestAnimationFrame())}_renderFrame(e){var t;if(this.display){this.display._renderFrame(e);return}this.props.onRender(this._getAnimationProps()),(t=this.device)==null||t.submit()}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeViewport()}_initializeAnimationProps(){var i;const e=(i=this.device)==null?void 0:i.getDefaultCanvasContext();if(!this.device||!e)throw new Error("loop");const t=e==null?void 0:e.canvas,r=e.props.useDevicePixels;this.animationProps={animationLoop:this,device:this.device,canvasContext:e,canvas:t,useDevicePixels:r,timeline:this.timeline,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw new Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;const{width:e,height:t,aspect:r}=this._getSizeAndAspect();(e!==this.animationProps.width||t!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=t,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){if(this.device=await this.props.device,!this.device)throw new Error("No device provided");this.canvas=this.device.getDefaultCanvasContext().canvas||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",this.canvas instanceof HTMLCanvasElement&&e.appendChild(this.canvas),e.appendChild(t);const r=this.props.onAddHTML(t);r&&(t.innerHTML=r)}}_getSizeAndAspect(){var s,a;if(!this.device)return{width:1,height:1,aspect:1};const[e,t]=((s=this.device)==null?void 0:s.getDefaultCanvasContext().getDevicePixelSize())||[1,1];let r=1;const i=(a=this.device)==null?void 0:a.getDefaultCanvasContext().canvas;return i&&i.clientHeight?r=i.clientWidth/i.clientHeight:e>0&&t>0&&(r=e/t),{width:e,height:t,aspect:r}}_resizeViewport(){this.props.autoResizeViewport&&this.device.gl&&this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){this.canvas&&(this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this)))}_onMousemove(e){e instanceof MouseEvent&&(this._getAnimationProps()._mousePosition=[e.offsetX,e.offsetY])}_onMouseleave(e){this._getAnimationProps()._mousePosition=null}};z(Ny,"defaultAnimationLoopProps",{device:null,onAddHTML:()=>"",onInitialize:async()=>null,onRender:()=>{},onFinalize:()=>{},onError:e=>console.error(e),stats:p9.stats.get(`animation-loop-${b4e++}`),autoResizeViewport:!1});let P9=Ny;const g8={};function Qd(n="id"){g8[n]=g8[n]||1;const e=g8[n]++;return`${n}-${e}`}class QS{constructor(e){z(this,"id");z(this,"userData",{});z(this,"topology");z(this,"bufferLayout",[]);z(this,"vertexCount");z(this,"indices");z(this,"attributes");if(this.id=e.id||Qd("geometry"),this.topology=e.topology,this.indices=e.indices||null,this.attributes=e.attributes,this.vertexCount=e.vertexCount,this.bufferLayout=e.bufferLayout||[],this.indices&&!(this.indices.usage&xi.INDEX))throw new Error("Index buffer must have INDEX usage")}destroy(){var e;(e=this.indices)==null||e.destroy();for(const t of Object.values(this.attributes))t.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices||null}_calculateVertexCount(e){return e.byteLength/12}}function v4e(n,e){if(e instanceof QS)return e;const t=w4e(n,e),{attributes:r,bufferLayout:i}=L4e(n,e);return new QS({topology:e.topology||"triangle-list",bufferLayout:i,vertexCount:e.vertexCount,indices:t,attributes:r})}function w4e(n,e){if(!e.indices)return;const t=e.indices.value;return n.createBuffer({usage:xi.INDEX,data:t})}function L4e(n,e){const t=[],r={};for(const[s,a]of Object.entries(e.attributes)){let o=s;switch(s){case"POSITION":o="positions";break;case"NORMAL":o="normals";break;case"TEXCOORD_0":o="texCoords";break;case"COLOR_0":o="colors";break}if(a){r[o]=n.createBuffer({data:a.value,id:`${s}-buffer`});const{value:l,size:c,normalized:A}=a;t.push({name:o,format:Tde(l,c,A)})}}const i=e._calculateVertexCount(e.attributes,e.indices);return{attributes:r,bufferLayout:t,vertexCount:i}}const ky=class ky{constructor(e){z(this,"device");z(this,"cachingEnabled");z(this,"destroyPolicy");z(this,"debug");z(this,"_hashCounter",0);z(this,"_hashes",{});z(this,"_renderPipelineCache",{});z(this,"_computePipelineCache",{});this.device=e,this.cachingEnabled=e.props._cachePipelines,this.destroyPolicy=e.props._cacheDestroyPolicy,this.debug=e.props.debugFactories}static getDefaultPipelineFactory(e){return e._lumaData.defaultPipelineFactory=e._lumaData.defaultPipelineFactory||new ky(e),e._lumaData.defaultPipelineFactory}get[Symbol.toStringTag](){return"PipelineFactory"}toString(){return`PipelineFactory(${this.device.id})`}createRenderPipeline(e){var a;if(!this.cachingEnabled)return this.device.createRenderPipeline(e);const t={...C1.defaultProps,...e},r=this._renderPipelineCache,i=this._hashRenderPipeline(t);let s=(a=r[i])==null?void 0:a.pipeline;return s?(r[i].useCount++,this.debug&&mt.log(3,`${this}: ${r[i].pipeline} reused, count=${r[i].useCount}, (id=${e.id})`)()):(s=this.device.createRenderPipeline({...t,id:t.id?`${t.id}-cached`:Qd("unnamed-cached")}),s.hash=i,r[i]={pipeline:s,useCount:1},this.debug&&mt.log(3,`${this}: ${s} created, count=${r[i].useCount}`)()),s}createComputePipeline(e){var a;if(!this.cachingEnabled)return this.device.createComputePipeline(e);const t={...z5.defaultProps,...e},r=this._computePipelineCache,i=this._hashComputePipeline(t);let s=(a=r[i])==null?void 0:a.pipeline;return s?(r[i].useCount++,this.debug&&mt.log(3,`${this}: ${r[i].pipeline} reused, count=${r[i].useCount}, (id=${e.id})`)()):(s=this.device.createComputePipeline({...t,id:t.id?`${t.id}-cached`:void 0}),s.hash=i,r[i]={pipeline:s,useCount:1},this.debug&&mt.log(3,`${this}: ${s} created, count=${r[i].useCount}`)()),s}release(e){if(!this.cachingEnabled){e.destroy();return}const t=this._getCache(e),r=e.hash;t[r].useCount--,t[r].useCount===0?(this._destroyPipeline(e),this.debug&&mt.log(3,`${this}: ${e} released and destroyed`)()):t[r].useCount<0?(mt.error(`${this}: ${e} released, useCount < 0, resetting`)(),t[r].useCount=0):this.debug&&mt.log(3,`${this}: ${e} released, count=${t[r].useCount}`)()}_destroyPipeline(e){const t=this._getCache(e);switch(this.destroyPolicy){case"never":return!1;case"unused":return delete t[e.hash],e.destroy(),!0}}_getCache(e){let t;if(e instanceof z5&&(t=this._computePipelineCache),e instanceof C1&&(t=this._renderPipelineCache),!t)throw new Error(`${this}`);if(!t[e.hash])throw new Error(`${this}: ${e} matched incorrect entry`);return t}_hashComputePipeline(e){const{type:t}=this.device,r=this._getHash(e.shader.source);return`${t}/C/${r}`}_hashRenderPipeline(e){const t=e.vs?this._getHash(e.vs.source):0,r=e.fs?this._getHash(e.fs.source):0,i="-",s=this._getHash(JSON.stringify(e.bufferLayout)),{type:a}=this.device;switch(a){case"webgl":return`${a}/R/${t}/${r}V${i}BL${s}`;case"webgpu":default:const o=this._getHash(JSON.stringify(e.parameters));return`${a}/R/${t}/${r}V${i}T${e.topology}P${o}BL${s}`}}_getHash(e){return this._hashes[e]===void 0&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}};z(ky,"defaultProps",{...C1.defaultProps});let D9=ky;const Py=class Py{constructor(e){z(this,"device");z(this,"cachingEnabled");z(this,"destroyPolicy");z(this,"debug");z(this,"_cache",{});this.device=e,this.cachingEnabled=e.props._cacheShaders,this.destroyPolicy=e.props._cacheDestroyPolicy,this.debug=!0}static getDefaultShaderFactory(e){var t;return(t=e._lumaData).defaultShaderFactory||(t.defaultShaderFactory=new Py(e)),e._lumaData.defaultShaderFactory}get[Symbol.toStringTag](){return"ShaderFactory"}toString(){return`${this[Symbol.toStringTag]}(${this.device.id})`}createShader(e){if(!this.cachingEnabled)return this.device.createShader(e);const t=this._hashShader(e);let r=this._cache[t];if(r)r.useCount++,this.debug&&mt.log(3,`${this}: Reusing shader ${r.shader.id} count=${r.useCount}`)();else{const i=this.device.createShader({...e,id:e.id?`${e.id}-cached`:void 0});this._cache[t]=r={shader:i,useCount:1},this.debug&&mt.log(3,`${this}: Created new shader ${i.id}`)()}return r.shader}release(e){if(!this.cachingEnabled){e.destroy();return}const t=this._hashShader(e),r=this._cache[t];if(r)if(r.useCount--,r.useCount===0)this.destroyPolicy==="unused"&&(delete this._cache[t],r.shader.destroy(),this.debug&&mt.log(3,`${this}: Releasing shader ${e.id}, destroyed`)());else{if(r.useCount<0)throw new Error(`ShaderFactory: Shader ${e.id} released too many times`);this.debug&&mt.log(3,`${this}: Releasing shader ${e.id} count=${r.useCount}`)()}}_hashShader(e){return`${e.stage}:${e.source}`}};z(Py,"defaultProps",{...D5.defaultProps});let O9=Py;function x4e(n,e){var i;const t={},r="Values";if(n.attributes.length===0&&!((i=n.varyings)!=null&&i.length))return{"No attributes or varyings":{[r]:"N/A"}};for(const s of n.attributes)if(s){const a=`${s.location} ${s.name}: ${s.type}`;t[`in ${a}`]={[r]:s.stepMode||"vertex"}}for(const s of n.varyings||[]){const a=`${s.location} ${s.name}`;t[`out ${a}`]={[r]:JSON.stringify(s)}}return t}let bs=null,ju=null;function R4e(n,{id:e,minimap:t,opaque:r,top:i="0",left:s="0",rgbaScale:a=1}){bs||(bs=document.createElement("canvas"),bs.id=e,bs.title=e,bs.style.zIndex="100",bs.style.position="absolute",bs.style.top=i,bs.style.left=s,bs.style.border="blue 5px solid",bs.style.transform="scaleY(-1)",document.body.appendChild(bs),ju=bs.getContext("2d")),(bs.width!==n.width||bs.height!==n.height)&&(bs.width=n.width/2,bs.height=n.height/2,bs.style.width="400px",bs.style.height="400px");const o=n.device.readPixelsToArrayWebGL(n),l=ju==null?void 0:ju.createImageData(n.width,n.height);if(l){for(let A=0;A<o.length;A+=4)l.data[0+A+0]=o[A+0]*a,l.data[0+A+1]=o[A+1]*a,l.data[0+A+2]=o[A+2]*a,l.data[0+A+3]=r?255:o[A+3]*a;ju==null||ju.putImageData(l,0,0)}}function z9(n,e,t){if(n===e)return!0;if(!t||!n||!e)return!1;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(!z9(n[r],e[r],t-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof n=="object"&&typeof e=="object"){const r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s of r)if(!e.hasOwnProperty(s)||!z9(n[s],e[s],t-1))return!1;return!0}return!1}class p8{constructor(e){z(this,"bufferLayouts");this.bufferLayouts=e}getBufferLayout(e){return this.bufferLayouts.find(t=>t.name===e)||null}getAttributeNamesForBuffer(e){var t;return e.attributes?(t=e.attributes)==null?void 0:t.map(r=>r.attribute):[e.name]}mergeBufferLayouts(e,t){const r=[...e];for(const i of t){const s=r.findIndex(a=>a.name===i.name);s<0?r.push(i):r[s]=i}return r}getBufferIndex(e){const t=this.bufferLayouts.findIndex(r=>r.name===e);return t===-1&&mt.warn(`BufferLayout: Missing buffer for "${e}".`)(),t}}function B4e(n,e){const t=Object.fromEntries(n.attributes.map(i=>[i.name,i.location])),r=e.slice();return r.sort((i,s)=>{const a=i.attributes?i.attributes.map(A=>A.attribute):[i.name],o=s.attributes?s.attributes.map(A=>A.attribute):[s.name],l=Math.min(...a.map(A=>t[A])),c=Math.min(...o.map(A=>t[A]));return l-c}),r}function E4e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function C4e(n){return Array.isArray(n)?n.length===0||typeof n[0]=="number":!1}function I4e(n){return E4e(n)||C4e(n)}function T4e(n){return I4e(n)||typeof n=="number"||typeof n=="boolean"}function M4e(n){const e={bindings:{},uniforms:{}};return Object.keys(n).forEach(t=>{const r=n[t];T4e(r)?e.uniforms[t]=r:e.bindings[t]=r}),e}class S4e{constructor(e,t){z(this,"options",{disableWarnings:!1});z(this,"modules");z(this,"moduleUniforms");z(this,"moduleBindings");Object.assign(this.options,t);const r=pR(Object.values(e).filter(i=>i.dependencies));for(const i of r)e[i.name]=i;mt.log(1,"Creating ShaderInputs with modules",Object.keys(e))(),this.modules=e,this.moduleUniforms={},this.moduleBindings={};for(const[i,s]of Object.entries(e))this._addModule(s),s.name&&i!==s.name&&!this.options.disableWarnings&&mt.warn(`Module name: ${i} vs ${s.name}`)()}destroy(){}setProps(e){var t;for(const r of Object.keys(e)){const i=r,s=e[i]||{},a=this.modules[i];if(!a){this.options.disableWarnings||mt.warn(`Module ${r} not found`)();continue}const o=this.moduleUniforms[i],l=this.moduleBindings[i],c=((t=a.getUniforms)==null?void 0:t.call(a,s,o))||s,{uniforms:A,bindings:u}=M4e(c);this.moduleUniforms[i]={...o,...A},this.moduleBindings[i]={...l,...u}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindingValues(){const e={};for(const t of Object.values(this.moduleBindings))Object.assign(e,t);return e}getDebugTable(){var t;const e={};for(const[r,i]of Object.entries(this.moduleUniforms))for(const[s,a]of Object.entries(i))e[`${r}.${s}`]={type:(t=this.modules[r].uniformTypes)==null?void 0:t[s],value:String(a)};return e}_addModule(e){const t=e.name;this.moduleUniforms[t]=e.defaultUniforms||{},this.moduleBindings[t]={}}}let F4e="";async function U4e(n,e){const t=new Image;return t.crossOrigin="anonymous",t.src=n.startsWith("http")?n:F4e+n,await t.decode(),e?await createImageBitmap(t,e):await createImageBitmap(t)}const N4e=["+X","-X","+Y","-Y","+Z","-Z"],k4e=["+X","-X","+Y","-Y","+Z","-Z"],Dy=class Dy{constructor(e,t){z(this,"device");z(this,"id");z(this,"props");z(this,"texture");z(this,"sampler");z(this,"view");z(this,"ready");z(this,"isReady",!1);z(this,"destroyed",!1);z(this,"resolveReady",()=>{});z(this,"rejectReady",()=>{});this.device=e;const r=Qd("async-texture");this.props={...Dy.defaultProps,id:r,...t},this.id=this.props.id,t={...t},typeof(t==null?void 0:t.data)=="string"&&t.dimension==="2d"&&(t.data=U4e(t.data)),t.mipmaps&&(t.mipLevels="auto"),this.ready=new Promise((i,s)=>{this.resolveReady=()=>{this.isReady=!0,i()},this.rejectReady=s}),this.initAsync(t)}get[Symbol.toStringTag](){return"AsyncTexture"}toString(){return`AsyncTexture:"${this.id}"(${this.isReady?"ready":"loading"})`}async initAsync(e){const t=e.data,r=await pj(t).then(void 0,this.rejectReady);if(this.destroyed)return;const i=this.props.width&&this.props.height?{width:this.props.width,height:this.props.height}:this.getTextureDataSize(r);if(!i)throw new Error("Texture size could not be determined");const s={...i,...e,data:void 0,mipLevels:1},a=this.device.getMipLevelCount(s.width,s.height);if(s.mipLevels=this.props.mipLevels==="auto"?a:Math.min(a,this.props.mipLevels),this.texture=this.device.createTexture(s),this.sampler=this.texture.sampler,this.view=this.texture.view,e.data)switch(this.props.dimension){case"1d":this._setTexture1DData(this.texture,r);break;case"2d":this._setTexture2DData(r);break;case"3d":this._setTexture3DData(this.texture,r);break;case"2d-array":this._setTextureArrayData(this.texture,r);break;case"cube":this._setTextureCubeData(this.texture,r);break;case"cube-array":this._setTextureCubeArrayData(this.texture,r);break}this.props.mipmaps&&this.generateMipmaps(),mt.info(1,`${this} loaded`),this.resolveReady()}destroy(){this.texture&&(this.texture.destroy(),this.texture=null),this.destroyed=!0}generateMipmaps(){this.texture.generateMipmapsWebGL()}setSampler(e={}){this.texture.setSampler(e instanceof dd?e:this.device.createSampler(e))}resize(e){if(!this.isReady)throw new Error("Cannot resize texture before it is ready");if(e.width===this.texture.width&&e.height===this.texture.height)return!1;if(this.texture){const t=this.texture;this.texture=t.clone(e),t.destroy()}return!0}isTextureLevelData(e){const t=e==null?void 0:e.data;return ArrayBuffer.isView(t)}getTextureDataSize(e){if(!e||ArrayBuffer.isView(e))return null;if(Array.isArray(e))return this.getTextureDataSize(e[0]);if(this.device.isExternalImage(e))return this.device.getExternalImageSize(e);if(e&&typeof e=="object"&&e.constructor===Object){const r=Object.values(e)[0];return{width:r.width,height:r.height}}throw new Error("texture size deduction failed")}getCubeFaceDepth(e){switch(e){case"+X":return 0;case"-X":return 1;case"+Y":return 2;case"-Y":return 3;case"+Z":return 4;case"-Z":return 5;default:throw new Error(e)}}setTextureData(e){}_setTexture1DData(e,t){throw new Error("setTexture1DData not supported in WebGL.")}_setTexture2DData(e,t=0){if(!this.texture)throw new Error("Texture not initialized");const r=this._normalizeTextureData(e);r.length>1&&this.props.mipmaps!==!1&&mt.warn(`Texture ${this.id} mipmap and multiple LODs.`)();for(let i=0;i<r.length;i++){const s=r[i];this.device.isExternalImage(s)?this.texture.copyExternalImage({image:s,depth:t,mipLevel:i,flipY:!0}):this.texture.copyImageData({data:s.data,mipLevel:i})}}_setTexture3DData(e,t){var r;if(((r=this.texture)==null?void 0:r.props.dimension)!=="3d")throw new Error(this.id);for(let i=0;i<t.length;i++)this._setTexture2DData(t[i],i)}_setTextureCubeData(e,t){var r;if(((r=this.texture)==null?void 0:r.props.dimension)!=="cube")throw new Error(this.id);for(const[i,s]of Object.entries(t)){const a=k4e.indexOf(i);this._setTexture2DData(s,a)}}_setTextureArrayData(e,t){var r;if(((r=this.texture)==null?void 0:r.props.dimension)!=="2d-array")throw new Error(this.id);for(let i=0;i<t.length;i++)this._setTexture2DData(t[i],i)}_setTextureCubeArrayData(e,t){throw new Error("setTextureCubeArrayData not supported in WebGL2.")}_setTextureCubeFaceData(e,t,r,i=0){Array.isArray(t)&&t.length>1&&this.props.mipmaps!==!1&&mt.warn(`${this.id} has mipmap and multiple LODs.`)();const s=N4e.indexOf(r);this._setTexture2DData(t,s)}_normalizeTextureData(e){const t=this.texture;let r;return ArrayBuffer.isView(e)?r=[{data:e,width:t.width,height:t.height}]:Array.isArray(e)?r=e:r=[e],r}};z(Dy,"defaultProps",{...Pa.defaultProps,data:null,mipmaps:!1});let Xg=Dy;async function pj(n){if(n=await n,Array.isArray(n))return await Promise.all(n.map(pj));if(n&&typeof n=="object"&&n.constructor===Object){const e=n,t=await Promise.all(Object.values(e)),r=Object.keys(e),i={};for(let s=0;s<r.length;s++)i[r[s]]=t[s];return i}return n}const Yu=2,P4e=1e4,Oy=class Oy{constructor(e,t){z(this,"device");z(this,"id");z(this,"source");z(this,"vs");z(this,"fs");z(this,"pipelineFactory");z(this,"shaderFactory");z(this,"userData",{});z(this,"parameters");z(this,"topology");z(this,"bufferLayout");z(this,"isInstanced");z(this,"instanceCount",0);z(this,"vertexCount");z(this,"indexBuffer",null);z(this,"bufferAttributes",{});z(this,"constantAttributes",{});z(this,"bindings",{});z(this,"vertexArray");z(this,"transformFeedback",null);z(this,"pipeline");z(this,"shaderInputs");z(this,"_uniformStore");z(this,"_attributeInfos",{});z(this,"_gpuGeometry",null);z(this,"props");z(this,"_pipelineNeedsUpdate","newly created");z(this,"_needsRedraw","initializing");z(this,"_destroyed",!1);z(this,"_lastDrawTimestamp",-1);z(this,"_lastLogTime",0);z(this,"_logOpen",!1);z(this,"_drawCount",0);var l,c,A,u;this.props={...Oy.defaultProps,...t},t=this.props,this.id=t.id||Qd("model"),this.device=e,Object.assign(this.userData,t.userData);const r=Object.fromEntries(((l=this.props.modules)==null?void 0:l.map(h=>[h.name,h]))||[]),i=t.shaderInputs||new S4e(r,{disableWarnings:this.props.disableWarnings});this.setShaderInputs(i);const s=O4e(e),a=(((c=this.props.modules)==null?void 0:c.length)>0?this.props.modules:(A=this.shaderInputs)==null?void 0:A.getModules())||[];if(this.device.type==="webgpu"&&this.props.source){const{source:h,getUniforms:f}=this.props.shaderAssembler.assembleWGSLShader({platformInfo:s,...this.props,modules:a});this.source=h,this._getModuleUniforms=f,(u=this.props).shaderLayout||(u.shaderLayout=rge(this.source))}else{const{vs:h,fs:f,getUniforms:d}=this.props.shaderAssembler.assembleGLSLShaderPair({platformInfo:s,...this.props,modules:a});this.vs=h,this.fs=f,this._getModuleUniforms=d}this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,t.geometry&&this.setGeometry(t.geometry),this.pipelineFactory=t.pipelineFactory||D9.getDefaultPipelineFactory(this.device),this.shaderFactory=t.shaderFactory||O9.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=e.createVertexArray({shaderLayout:this.pipeline.shaderLayout,bufferLayout:this.pipeline.bufferLayout}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry),"isInstanced"in t&&(this.isInstanced=t.isInstanced),t.instanceCount&&this.setInstanceCount(t.instanceCount),t.vertexCount&&this.setVertexCount(t.vertexCount),t.indexBuffer&&this.setIndexBuffer(t.indexBuffer),t.attributes&&this.setAttributes(t.attributes),t.constantAttributes&&this.setConstantAttributes(t.constantAttributes),t.bindings&&this.setBindings(t.bindings),t.transformFeedback&&(this.transformFeedback=t.transformFeedback),Object.seal(this)}get[Symbol.toStringTag](){return"Model"}toString(){return`Model(${this.id})`}destroy(){var e;this._destroyed||(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs&&this.shaderFactory.release(this.pipeline.fs),this._uniformStore.destroy(),(e=this._gpuGeometry)==null||e.destroy(),this._destroyed=!0)}needsRedraw(){this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp&&this.setNeedsRedraw("contents of bound textures or buffers updated");const e=this._needsRedraw;return this._needsRedraw=!1,e}setNeedsRedraw(e){this._needsRedraw||(this._needsRedraw=e)}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw(e){const t=this._areBindingsLoading();if(t)return mt.info(Yu,`>>> DRAWING ABORTED ${this.id}: ${t} not loaded`)(),!1;try{e.pushDebugGroup(`${this}.predraw(${e})`),this.predraw()}finally{e.popDebugGroup()}let r;try{e.pushDebugGroup(`${this}.draw(${e})`),this._logDrawCallStart(),this.pipeline=this._updatePipeline();const i=this._getBindings();this.pipeline.setBindings(i,{disableWarnings:this.props.disableWarnings});const{indexBuffer:s}=this.vertexArray,a=s?s.byteLength/(s.indexType==="uint32"?4:2):void 0;r=this.pipeline.draw({renderPass:e,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:a,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{e.popDebugGroup(),this._logDrawCallEnd()}return this._logFramebuffer(e),r?(this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1):this._needsRedraw="waiting for resource initialization",r}setGeometry(e){var r;(r=this._gpuGeometry)==null||r.destroy();const t=e&&v4e(this.device,e);if(t){this.setTopology(t.topology||"triangle-list");const i=new p8(this.bufferLayout);this.bufferLayout=i.mergeBufferLayouts(t.bufferLayout,this.bufferLayout),this.vertexArray&&this._setGeometryAttributes(t)}this._gpuGeometry=t}setTopology(e){e!==this.topology&&(this.topology=e,this._setPipelineNeedsUpdate("topology"))}setBufferLayout(e){const t=new p8(this.bufferLayout);this.bufferLayout=this._gpuGeometry?t.mergeBufferLayouts(e,this._gpuGeometry.bufferLayout):e,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({shaderLayout:this.pipeline.shaderLayout,bufferLayout:this.pipeline.bufferLayout}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry)}setParameters(e){z9(e,this.parameters,2)||(this.parameters=e,this._setPipelineNeedsUpdate("parameters"))}setInstanceCount(e){this.instanceCount=e,this.isInstanced===void 0&&e>0&&(this.isInstanced=!0),this.setNeedsRedraw("instanceCount")}setVertexCount(e){this.vertexCount=e,this.setNeedsRedraw("vertexCount")}setShaderInputs(e){this.shaderInputs=e,this._uniformStore=new E2e(this.shaderInputs.modules);for(const[t,r]of Object.entries(this.shaderInputs.modules))if(D4e(r)){const i=this._uniformStore.getManagedUniformBuffer(this.device,t);this.bindings[`${t}Uniforms`]=i}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setBindings(this.shaderInputs.getBindingValues()),this.setNeedsRedraw("shaderInputs")}setBindings(e){Object.assign(this.bindings,e),this.setNeedsRedraw("bindings")}setTransformFeedback(e){this.transformFeedback=e,this.setNeedsRedraw("transformFeedback")}setIndexBuffer(e){this.vertexArray.setIndexBuffer(e),this.setNeedsRedraw("indexBuffer")}setAttributes(e,t){const r=(t==null?void 0:t.disableWarnings)??this.props.disableWarnings;e.indices&&mt.warn(`Model:${this.id} setAttributes() - indexBuffer should be set using setIndexBuffer()`)(),this.bufferLayout=B4e(this.pipeline.shaderLayout,this.bufferLayout);const i=new p8(this.bufferLayout);for(const[s,a]of Object.entries(e)){const o=i.getBufferLayout(s);if(!o){r||mt.warn(`Model(${this.id}): Missing layout for buffer "${s}".`)();continue}const l=i.getAttributeNamesForBuffer(o);let c=!1;for(const A of l){const u=this._attributeInfos[A];if(u){const h=this.device.type==="webgpu"?i.getBufferIndex(u.bufferName):u.location;this.vertexArray.setBuffer(h,a),c=!0}}!c&&!r&&mt.warn(`Model(${this.id}): Ignoring buffer "${a.id}" for unknown attribute "${s}"`)()}this.setNeedsRedraw("attributes")}setConstantAttributes(e,t){for(const[r,i]of Object.entries(e)){const s=this._attributeInfos[r];s?this.vertexArray.setConstantWebGL(s.location,i):((t==null?void 0:t.disableWarnings)??this.props.disableWarnings)||mt.warn(`Model "${this.id}: Ignoring constant supplied for unknown attribute "${r}"`)()}this.setNeedsRedraw("constants")}_areBindingsLoading(){for(const e of Object.values(this.bindings))if(e instanceof Xg&&!e.isReady)return e.id;return!1}_getBindings(){const e={};for(const[t,r]of Object.entries(this.bindings))r instanceof Xg?r.isReady&&(e[t]=r.texture):e[t]=r;return e}_getBindingsUpdateTimestamp(){let e=0;for(const t of Object.values(this.bindings))t instanceof P5?e=Math.max(e,t.texture.updateTimestamp):t instanceof xi||t instanceof Pa?e=Math.max(e,t.updateTimestamp):t instanceof Xg?e=t.texture?Math.max(e,t.texture.updateTimestamp):1/0:t instanceof dd||(e=Math.max(e,t.buffer.updateTimestamp));return e}_setGeometryAttributes(e){const t={...e.attributes};for(const[r]of Object.entries(t))!this.pipeline.shaderLayout.attributes.find(i=>i.name===r)&&r!=="positions"&&delete t[r];this.vertexCount=e.vertexCount,this.setIndexBuffer(e.indices||null),this.setAttributes(e.attributes,{disableWarnings:!0}),this.setAttributes(t,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate(e){this._pipelineNeedsUpdate||(this._pipelineNeedsUpdate=e),this.setNeedsRedraw(e)}_updatePipeline(){if(this._pipelineNeedsUpdate){let e=null,t=null;this.pipeline&&(mt.log(1,`Model ${this.id}: Recreating pipeline because "${this._pipelineNeedsUpdate}".`)(),e=this.pipeline.vs,t=this.pipeline.fs),this._pipelineNeedsUpdate=!1;const r=this.shaderFactory.createShader({id:`${this.id}-vertex`,stage:"vertex",source:this.source||this.vs,debugShaders:this.props.debugShaders});let i=null;this.source?i=r:this.fs&&(i=this.shaderFactory.createShader({id:`${this.id}-fragment`,stage:"fragment",source:this.source||this.fs,debugShaders:this.props.debugShaders})),this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,bindings:this._getBindings(),vs:r,fs:i}),this._attributeInfos=nQ(this.pipeline.shaderLayout,this.bufferLayout),e&&this.shaderFactory.release(e),t&&this.shaderFactory.release(t)}return this.pipeline}_logDrawCallStart(){const e=mt.level>3?0:P4e;mt.level<2||Date.now()-this._lastLogTime<e||(this._lastLogTime=Date.now(),this._logOpen=!0,mt.group(Yu,`>>> DRAWING MODEL ${this.id}`,{collapsed:mt.level<=2})())}_logDrawCallEnd(){if(this._logOpen){const e=x4e(this.pipeline.shaderLayout,this.id);mt.table(Yu,e)();const t=this.shaderInputs.getDebugTable();mt.table(Yu,t)();const r=this._getAttributeDebugTable();mt.table(Yu,this._attributeInfos)(),mt.table(Yu,r)(),mt.groupEnd(Yu)(),this._logOpen=!1}}_logFramebuffer(e){const t=this.device.props.debugFramebuffers;if(this._drawCount++,!t)return;const r=e.props.framebuffer;r&&R4e(r,{id:r.id,minimap:!0})}_getAttributeDebugTable(){const e={};for(const[t,r]of Object.entries(this._attributeInfos)){const i=this.vertexArray.attributes[r.location];e[r.location]={name:t,type:r.shaderType,values:i?this._getBufferOrConstantValues(i,r.bufferDataType):"null"}}if(this.vertexArray.indexBuffer){const{indexBuffer:t}=this.vertexArray,r=t.indexType==="uint32"?new Uint32Array(t.debugData):new Uint16Array(t.debugData);e.indices={name:"indices",type:t.indexType,values:r.toString()}}return e}_getBufferOrConstantValues(e,t){const r=mR(t);return(e instanceof xi?new r(e.debugData):e).toString()}};z(Oy,"defaultProps",{...C1.defaultProps,source:void 0,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:N5.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0});let cu=Oy;function D4e(n){return!!(n.uniformTypes&&!z4e(n.uniformTypes))}function O4e(n){return{type:n.type,shaderLanguage:n.info.shadingLanguage,shaderLanguageVersion:n.info.shadingLanguageVersion,gpu:n.info.gpu,features:n.features}}function z4e(n){for(const e in n)return!1;return!0}const m3=class m3{constructor(e,t=m3.defaultProps){z(this,"device");z(this,"model");z(this,"transformFeedback");if(!m3.isSupported(e))throw new Error("BufferTransform not yet implemented on WebGPU");this.device=e,this.model=new cu(this.device,{id:t.id||"buffer-transform-model",fs:t.fs||wde(),topology:t.topology||"point-list",varyings:t.outputs||t.varyings,...t}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:t.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}static isSupported(e){var t;return((t=e==null?void 0:e.info)==null?void 0:t.type)==="webgl"}destroy(){this.model&&this.model.destroy()}delete(){this.destroy()}run(e){e!=null&&e.inputBuffers&&this.model.setAttributes(e.inputBuffers),e!=null&&e.outputBuffers&&this.transformFeedback.setBuffers(e.outputBuffers);const t=this.device.beginRenderPass(e);this.model.draw(t),t.end()}getBuffer(e){return this.transformFeedback.getBuffer(e)}readAsync(e){const t=this.getBuffer(e);if(!t)throw new Error("BufferTransform#getBuffer");if(t instanceof xi)return t.readAsync();const{buffer:r,byteOffset:i=0,byteLength:s=r.byteLength}=t;return r.readAsync(i,s)}};z(m3,"defaultProps",{...cu.defaultProps,outputs:void 0,feedbackBuffers:void 0});let G3=m3;class Qh{constructor(e){z(this,"id");z(this,"topology");z(this,"vertexCount");z(this,"indices");z(this,"attributes");z(this,"userData",{});const{attributes:t={},indices:r=null,vertexCount:i=null}=e;this.id=e.id||Qd("geometry"),this.topology=e.topology,r&&(this.indices=ArrayBuffer.isView(r)?{value:r,size:1}:r),this.attributes={};for(const[s,a]of Object.entries(t)){const o=ArrayBuffer.isView(a)?{value:a}:a;if(!ArrayBuffer.isView(o.value))throw new Error(`${this._print(s)}: must be typed array or object with value as typed array`);if((s==="POSITION"||s==="positions")&&!o.size&&(o.size=3),s==="indices"){if(this.indices)throw new Error("Multiple indices detected");this.indices=o}else this.attributes[s]=o}this.indices&&this.indices.isIndexed!==void 0&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this.vertexCount=i||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return`Geometry ${this.id} attribute ${e}`}_setAttributes(e,t){return this}_calculateVertexCount(e,t){if(t)return t.value.length;let r=1/0;for(const i of Object.values(e)){const{value:s,size:a,constant:o}=i;!o&&s&&a!==void 0&&a>=1&&(r=Math.min(r,s.length/a))}return r}}class X5{constructor(e={}){z(this,"id");z(this,"matrix",new Yn);z(this,"display",!0);z(this,"position",new tt);z(this,"rotation",new tt);z(this,"scale",new tt(1,1,1));z(this,"userData",{});z(this,"props",{});const{id:t}=e;this.id=t||Qd(this.constructor.name),this._setScenegraphNodeProps(e)}getBounds(){return null}destroy(){}delete(){this.destroy()}setProps(e){return this._setScenegraphNodeProps(e),this}toString(){return`{type: ScenegraphNode, id: ${this.id})}`}setPosition(e){return this.position=e,this}setRotation(e){return this.rotation=e,this}setScale(e){return this.scale=e,this}setMatrix(e,t=!0){t?this.matrix.copy(e):this.matrix=e}setMatrixComponents(e){const{position:t,rotation:r,scale:i,update:s=!0}=e;return t&&this.setPosition(t),r&&this.setRotation(r),i&&this.setScale(i),s&&this.updateMatrix(),this}updateMatrix(){const e=this.position,t=this.rotation,r=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(r),this}update(e={}){const{position:t,rotation:r,scale:i}=e;return t&&this.setPosition(t),r&&this.setRotation(r),i&&this.setScale(i),this.updateMatrix(),this}getCoordinateUniforms(e,t){t=t||this.matrix;const r=new Yn(e).multiplyRight(t),i=r.invert(),s=i.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:r,worldInverseMatrix:i,worldInverseTransposeMatrix:s}}_setScenegraphNodeProps(e){"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)}}class jd extends X5{constructor(t={}){t=Array.isArray(t)?{children:t}:t;const{children:r=[]}=t;mt.assert(r.every(i=>i instanceof X5),"every child must an instance of ScenegraphNode");super(t);z(this,"children");this.children=r}getBounds(){const t=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];return this.traverse((r,{worldMatrix:i})=>{const s=r.getBounds();if(!s)return;const[a,o]=s,l=new tt(a).add(o).divide([2,2,2]);i.transformAsPoint(l,l);const c=new tt(o).subtract(a).divide([2,2,2]);i.transformAsVector(c,c);for(let A=0;A<8;A++){const u=new tt(A&1?-1:1,A&2?-1:1,A&4?-1:1).multiply(c).add(l);for(let h=0;h<3;h++)t[0][h]=Math.min(t[0][h],u[h]),t[1][h]=Math.max(t[1][h],u[h])}}),Number.isFinite(t[0][0])?t:null}destroy(){this.children.forEach(t=>t.destroy()),this.removeAll(),super.destroy()}add(...t){for(const r of t)Array.isArray(r)?this.add(...r):this.children.push(r);return this}remove(t){const r=this.children,i=r.indexOf(t);return i>-1&&r.splice(i,1),this}removeAll(){return this.children=[],this}traverse(t,{worldMatrix:r=new Yn}={}){const i=new Yn(r).multiplyRight(this.matrix);for(const s of this.children)s instanceof jd?s.traverse(t,{worldMatrix:i}):t(s,{worldMatrix:i})}}class H9 extends X5{constructor(t){super(t);z(this,"model");z(this,"bounds",null);z(this,"managedResources");this.model=t.model,this.managedResources=t.managedResources||[],this.bounds=t.bounds||null,this.setProps(t)}destroy(){this.model&&(this.model.destroy(),this.model=null),this.managedResources.forEach(t=>t.destroy()),this.managedResources=[]}getBounds(){return this.bounds}draw(t){return this.model.draw(t)}}const H4e={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant",blendAlphaDstFactor:"zero"};class _j extends VR{constructor(){super(...arguments),this._colorEncoderState=null}render(e){return"pickingFBO"in e?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:t,views:r,viewports:i,onViewportActive:s,pickingFBO:a,deviceRect:{x:o,y:l,width:c,height:A},cullRect:u,effects:h,pass:f="picking",pickZ:d,shaderModuleProps:g}){this.pickZ=d;const _=this._resetColorEncoder(d),m=[o,l,c,A],y=super.render({target:a,layers:e,layerFilter:t,views:r,viewports:i,onViewportActive:s,cullRect:u,effects:h==null?void 0:h.filter(v=>v.useInPicking),pass:f,isPicking:!0,shaderModuleProps:g,clearColor:[0,0,0,0],colorMask:15,scissorRect:m});return this._colorEncoderState=null,{decodePickingColor:_&&j4e.bind(null,_),stats:y}}shouldDrawLayer(e){const{pickable:t,operation:r}=e.props;return t&&r.includes("draw")||r.includes("terrain")||r.includes("mask")}getShaderModuleProps(e,t,r){return{picking:{isActive:1,isAttribute:this.pickZ},lighting:{enabled:!1}}}getLayerParameters(e,t,r){const i={...e.props.parameters},{pickable:s,operation:a}=e.props;return!this._colorEncoderState||a.includes("terrain")?i.blend=!1:s&&a.includes("draw")&&(Object.assign(i,H4e),i.blend=!0,i.blendColor=Q4e(this._colorEncoderState,e,r)),i}_resetColorEncoder(e){return this._colorEncoderState=e?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function Q4e(n,e,t){const{byLayer:r,byAlpha:i}=n;let s,a=r.get(e);return a?(a.viewports.push(t),s=a.a):(s=r.size+1,s<=255?(a={a:s,layer:e,viewports:[t]},r.set(e,a),i[s]=a):(or.warn("Too many pickable layers, only picking the first 255")(),s=0)),[0,0,0,s/255]}function j4e(n,e){const t=n.byAlpha[e[3]];return t&&{pickedLayer:t.layer,pickedViewports:t.viewports,pickedObjectIndex:t.layer.decodePickingColor(e)}}const rh={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},J5=Symbol.for("component"),qA=Symbol.for("propTypes"),_8=Symbol.for("deprecatedProps"),jh=Symbol.for("asyncPropDefaults"),V1=Symbol.for("asyncPropOriginal"),zA=Symbol.for("asyncPropResolved");function K1(n,e=()=>!0){return Array.isArray(n)?mj(n,e,[]):e(n)?[n]:[]}function mj(n,e,t){let r=-1;for(;++r<n.length;){const i=n[r];Array.isArray(i)?mj(i,e,t):e(i)&&t.push(i)}return t}function Y4e({target:n,source:e,start:t=0,count:r=1}){const i=e.length,s=r*i;let a=0;for(let o=t;a<i;a++)n[o++]=e[a];for(;a<s;)a<s-a?(n.copyWithin(t+a,t,t+a),a*=2):(n.copyWithin(t+a,t,t+s-a),a=s);return n}class G4e{constructor(e,t,r){this._loadCount=0,this._subscribers=new Set,this.id=e,this.context=r,this.setData(t)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,t){if(e===this._data&&!t)return;this._data=e;const r=++this._loadCount;let i=e;typeof e=="string"&&(i=ou(e)),i instanceof Promise?(this.isLoaded=!1,this._loader=i.then(s=>{this._loadCount===r&&(this.isLoaded=!0,this._error=void 0,this._content=s)}).catch(s=>{this._loadCount===r&&(this.isLoaded=!0,this._error=s||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const s of this._subscribers)s.onChange(this.getData())}}class V4e{constructor(e){var t;this.protocol=e.protocol||"resource://",this._context={device:e.device,gl:(t=e.device)==null?void 0:t.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return e.startsWith(this.protocol)?!0:e in this._resources}add({resourceId:e,data:t,forceUpdate:r=!1,persistent:i=!0}){let s=this._resources[e];s?s.setData(t,r):(s=new G4e(e,t,this._context),this._resources[e]=s),s.persistent=i}remove(e){const t=this._resources[e];t&&(t.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const t=this._consumers[e];if(t){for(const r in t){const i=t[r],s=this._resources[i.resourceId];s&&s.unsubscribe(i)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:t,consumerId:r,requestId:i="default"}){const{_resources:s,protocol:a}=this;e.startsWith(a)&&(e=e.replace(a,""),s[e]||this.add({resourceId:e,data:null,persistent:!1}));const o=s[e];if(this._track(r,i,o,t),o)return o.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,t,r,i){const s=this._consumers,a=s[e]=s[e]||{};let o=a[t];const l=o&&o.resourceId&&this._resources[o.resourceId];l&&(l.unsubscribe(o),this.prune()),r&&(o?(o.onChange=i,o.resourceId=r.id):o={onChange:i,resourceId:r.id},a[t]=o,r.subscribe(o))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const t=this._resources[e];!t.persistent&&!t.inUse()&&(t.delete(),delete this._resources[e])}}}const K4e="layerManager.setLayers",$4e="layerManager.activateViewport";class W4e{constructor(e,t){var o;this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=l=>{ea($4e,this,l),l&&(this.context.viewport=l)};const{deck:r,stats:i,viewport:s,timeline:a}=t||{};this.layers=[],this.resourceManager=new V4e({device:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:e,gl:e==null?void 0:e.gl,deck:r,shaderAssembler:Y_e(((o=e==null?void 0:e.info)==null?void 0:o.shadingLanguage)||"glsl"),defaultShaderModules:[J3e],renderPass:void 0,stats:i||new Od({id:"deck.gl"}),viewport:s||new Hd({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:a||new gj,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const r of this.layers){const i=r.getNeedsRedraw(e);t=t||i}return t}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._defaultShaderModulesChanged?"shader modules changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(t=>e.find(r=>t.id.indexOf(r)===0)):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,t){ea(K4e,this,t,e),this._lastRenderedLayers=e;const r=K1(e,Boolean);for(const i of r)i.context=this.context;this._updateLayers(this.layers,r)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw(`updating layers: ${e}`),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}addDefaultShaderModule(e){const{defaultShaderModules:t}=this.context;t.find(r=>r.name===e.name)||(t.push(e),this._defaultShaderModulesChanged=!0)}removeDefaultShaderModule(e){const{defaultShaderModules:t}=this.context,r=t.findIndex(i=>i.name===e.name);r>=0&&(t.splice(r,1),this._defaultShaderModulesChanged=!0)}_handleError(e,t,r){r.raiseError(t,`${e} of ${r}`)}_updateLayers(e,t){const r={};for(const a of e)r[a.id]?or.warn(`Multiple old layers with same id ${a.id}`)():r[a.id]=a;if(this._defaultShaderModulesChanged){for(const a of e)a.setNeedsUpdate(),a.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}const i=[];this._updateSublayersRecursively(t,r,i),this._finalizeOldLayers(r);let s=!1;for(const a of i)if(a.hasUniformTransition()){s=`Uniform transition in ${a}`;break}this._needsUpdate=s,this.layers=i}_updateSublayersRecursively(e,t,r){for(const i of e){i.context=this.context;const s=t[i.id];s===null&&or.warn(`Multiple new layers with same id ${i.id}`)(),t[i.id]=null;let a=null;try{this._debug&&s!==i&&i.validateProps(),s?(this._transferLayerState(s,i),this._updateLayer(i)):this._initializeLayer(i),r.push(i),a=i.isComposite?i.getSubLayers():null}catch(o){this._handleError("matching",o,i)}a&&this._updateSublayersRecursively(a,t,r)}}_finalizeOldLayers(e){for(const t in e){const r=e[t];r&&this._finalizeLayer(r)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=rh.INITIALIZED}catch(t){this._handleError("initialization",t,e)}}_transferLayerState(e,t){t._transferState(e),t.lifecycle=rh.MATCHED,t!==e&&(e.lifecycle=rh.AWAITING_GC)}_updateLayer(e){try{e._update()}catch(t){this._handleError("update",t,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||`finalized ${e}`,e.lifecycle=rh.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=rh.FINALIZED}catch(t){this._handleError("finalization",t,e)}}}function $o(n,e,t){if(n===e)return!0;if(!t||!n||!e)return!1;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(!$o(n[r],e[r],t-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof n=="object"&&typeof e=="object"){const r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s of r)if(!e.hasOwnProperty(s)||!$o(n[s],e[s],t-1))return!1;return!0}return!1}class q4e{constructor(e){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const t=this.controllers[e];t&&t.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const t=this.controllers[e];t&&t.updateTransition()}}getViewports(e){return e?this._viewports.filter(t=>t.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(t=>{e[t.id]=t}),e}getView(e){return this.views.find(t=>t.id===e)}getViewState(e){const t=typeof e=="string"?this.getView(e):e,r=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(r):r}getViewport(e){return this._viewportMap[e]}unproject(e,t){const r=this.getViewports(),i={x:e[0],y:e[1]};for(let s=r.length-1;s>=0;--s){const a=r[s];if(a.containsPixel(i)){const o=e.slice();return o[0]-=a.x,o[1]-=a.y,a.unproject(o,t)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,t){(e!==this.width||t!==this.height)&&(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}_setViews(e){e=K1(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!$o(e,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):or.warn("missing `viewState` or `initialViewState`")()}_createController(e,t){const r=t.type;return new r({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:s=>{var a;return(a=this.getView(e.id))==null?void 0:a.makeViewport({viewState:s,width:this.width,height:this.height})}})}_updateController(e,t,r,i){const s=e.controller;if(s&&r){const a={...t,...s,id:e.id,x:r.x,y:r.y,width:r.width,height:r.height};return(!i||i.constructor!==s.type)&&(i=this._createController(e,a)),i&&i.setProps(a),i}return null}_rebuildViewports(){const{views:e}=this,t=this.controllers;this._viewports=[],this.controllers={};let r=!1;for(let i=e.length;i--;){const s=e[i],a=this.getViewState(s),o=s.makeViewport({viewState:a,width:this.width,height:this.height});let l=t[s.id];const c=!!s.controller;c&&!l&&(r=!0),(r||!c)&&l&&(l.finalize(),l=null),this.controllers[s.id]=this._updateController(s,a,o,l),o&&this._viewports.unshift(o)}for(const i in t){const s=t[i];s&&!this.controllers[i]&&s.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,t){return e.length!==t.length?!0:e.some((r,i)=>!e[i].equals(t[i]))}}const X4e=/([0-9]+\.?[0-9]*)(%|px)/;function gA(n){switch(typeof n){case"number":return{position:n,relative:!1};case"string":const e=X4e.exec(n);if(e&&e.length>=3){const t=e[2]==="%",r=parseFloat(e[1]);return{position:t?r/100:r,relative:t}}default:throw new Error(`Could not parse position string ${n}`)}}function pA(n,e){return n.relative?Math.round(n.position*e):n.position}class yj{constructor(e){const{id:t,x:r=0,y:i=0,width:s="100%",height:a="100%",padding:o=null}=e;this.id=t||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=gA(r),this._y=gA(i),this._width=gA(s),this._height=gA(a),this._padding=o&&{left:gA(o.left||0),right:gA(o.right||0),top:gA(o.top||0),bottom:gA(o.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e?!0:this.constructor===e.constructor&&$o(this.props,e.props,2)}clone(e){const t=this.constructor;return new t({...this.props,...e})}makeViewport({width:e,height:t,viewState:r}){r=this.filterViewState(r);const i=this.getDimensions({width:e,height:t});if(!i.height||!i.width)return null;const s=this.getViewportType(r);return new s({...r,...this.props,...i})}getViewStateId(){const{viewState:e}=this.props;return typeof e=="string"?e:(e==null?void 0:e.id)||this.id}filterViewState(e){if(this.props.viewState&&typeof this.props.viewState=="object"){if(!this.props.viewState.id)return this.props.viewState;const t={...e};for(const r in this.props.viewState)r!=="id"&&(t[r]=this.props.viewState[r]);return t}return e}getDimensions({width:e,height:t}){const r={x:pA(this._x,e),y:pA(this._y,t),width:pA(this._width,e),height:pA(this._height,t)};return this._padding&&(r.padding={left:pA(this._padding.left,e),top:pA(this._padding.top,t),right:pA(this._padding.right,e),bottom:pA(this._padding.bottom,t)}),r}get controller(){const e=this.props.controller;return e?e===!0?{type:this.ControllerType}:typeof e=="function"?{type:e}:{type:this.ControllerType,...e}:null}}class b6{constructor(e){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=e}get inProgress(){return this._inProgress}start(e){var t,r;this.cancel(),this.settings=e,this._inProgress=!0,(r=(t=this.settings).onStart)==null||r.call(t,this)}end(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,(t=(e=this.settings).onEnd)==null||t.call(e,this))}cancel(){var e,t;this._inProgress&&((t=(e=this.settings).onInterrupt)==null||t.call(e,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,t;if(!this._inProgress)return!1;if(this._handle===null){const{_timeline:r,settings:i}=this;this._handle=r.addChannel({delay:r.getTime(),duration:i.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),(t=(e=this.settings).onUpdate)==null||t.call(e,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const jS=()=>{},Q9={BREAK:1,SNAP_TO_END:2,IGNORE:3},J4e=n=>n,Z4e=Q9.BREAK;class eme{constructor(e){this._onTransitionUpdate=t=>{const{time:r,settings:{interpolator:i,startProps:s,endProps:a,duration:o,easing:l}}=t,c=l(r/o),A=i.interpolateProps(s,a,c);this.propsInTransition=this.getControllerState({...this.props,...A}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new b6(e.timeline),this.onViewStateChange=e.onViewStateChange||jS,this.onStateChange=e.onStateChange||jS}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let t=!1;const r=this.props;if(this.props=e,!r||this._shouldIgnoreViewportChange(r,e))return!1;if(this._isTransitionEnabled(e)){let i=r;if(this.transition.inProgress){const{interruption:s,endProps:a}=this.transition.settings;i={...r,...s===Q9.SNAP_TO_END?a:this.propsInTransition||r}}this._triggerTransition(i,e),t=!0}else this.transition.cancel();return t}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:t,transitionInterpolator:r}=e;return(t>0||t==="auto")&&!!r}_isUpdateDueToCurrentTransition(e){return this.transition.inProgress&&this.propsInTransition?this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition):!1}_shouldIgnoreViewportChange(e,t){return this.transition.inProgress?this.transition.settings.interruption===Q9.IGNORE||this._isUpdateDueToCurrentTransition(t):this._isTransitionEnabled(t)?t.transitionInterpolator.arePropsEqual(e,t):!0}_triggerTransition(e,t){const r=this.getControllerState(e),i=this.getControllerState(t).shortestPathFrom(r),s=t.transitionInterpolator,a=s.getDuration?s.getDuration(e,t):t.transitionDuration;if(a===0)return;const o=s.initializeProps(e,i);this.propsInTransition={};const l={duration:a,easing:t.transitionEasing||J4e,interpolator:s,interruption:t.transitionInterruption||Z4e,startProps:o.start,endProps:o.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(l),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return t=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e==null||e(t)}}}function ps(n,e){if(!n)throw new Error(e||"deck.gl: assertion failed.")}class tme{constructor(e){const{compare:t,extract:r,required:i}=e;this._propsToCompare=t,this._propsToExtract=r||t,this._requiredProps=i}arePropsEqual(e,t){for(const r of this._propsToCompare)if(!(r in e)||!(r in t)||!Dl(e[r],t[r]))return!1;return!0}initializeProps(e,t){const r={},i={};for(const s of this._propsToExtract)(s in e||s in t)&&(r[s]=e[s],i[s]=t[s]);return this._checkRequiredProps(r),this._checkRequiredProps(i),{start:r,end:i}}getDuration(e,t){return t.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(t=>{const r=e[t];ps(Number.isFinite(r)||Array.isArray(r),`${t} is required for transition`)})}}const nme=["longitude","latitude","zoom","bearing","pitch"],rme=["longitude","latitude","zoom"];class KR extends tme{constructor(e={}){const t=Array.isArray(e)?e:e.transitionProps,r=Array.isArray(e)?{}:e;r.transitionProps=Array.isArray(t)?{compare:t,required:t}:t||{compare:nme,required:rme},super(r.transitionProps),this.opts=r}initializeProps(e,t){const r=super.initializeProps(e,t),{makeViewport:i,around:s}=this.opts;if(i&&s){const a=i(e),o=i(t),l=a.unproject(s);r.start.around=s,Object.assign(r.end,{around:o.project(l),aroundPosition:l,width:t.width,height:t.height})}return r}interpolateProps(e,t,r){const i={};for(const s of this._propsToExtract)i[s]=K5(e[s]||0,t[s]||0,r);if(t.aroundPosition&&this.opts.makeViewport){const s=this.opts.makeViewport({...t,...i});Object.assign(i,s.panByPosition(t.aroundPosition,K5(e.around,t.around,r)))}return i}}const o0={transitionDuration:0},ime=300,v4=n=>1-(1-n)*(1-n),zf={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],MULTI_PAN:["multipanstart","multipanmove","multipanend"],DOUBLE_CLICK:["dblclick"],KEYBOARD:["keydown"]},Gu={};class bj{constructor(e){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new eme({...e,getControllerState:t=>new this.ControllerState(t),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){var e;for(const t in this._events)this._events[t]&&((e=this.eventManager)==null||e.off(t,this.handleEvent));this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const t=this._eventStartBlocked;switch(e.type){case"panstart":return t?!1:this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return t?!1:this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"multipanstart":return t?!1:this._onMultiPanStart(e);case"multipanmove":return this._onMultiPan(e);case"multipanend":return this._onMultiPanEnd(e);case"dblclick":return this._onDoubleClick(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:t,y:r}=this.props,{offsetCenter:i}=e;return[i.x-t,i.y-r]}isPointInBounds(e,t){const{width:r,height:i}=this.props;if(t&&t.handled)return!1;const s=e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=i;return s&&t&&t.stopPropagation(),s}isFunctionKeyPressed(e){const{srcEvent:t}=e;return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const t=setTimeout(()=>{this._eventStartBlocked===t&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=t}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:t}=e;this.inertia=Number.isFinite(t)?t:t===!0?ime:0;const{scrollZoom:r=!0,dragPan:i=!0,dragRotate:s=!0,doubleClickZoom:a=!0,touchZoom:o=!0,touchRotate:l=!1,keyboard:c=!0}=e,A=!!this.onViewStateChange;this.toggleEvents(zf.WHEEL,A&&r),this.toggleEvents(zf.PAN,A),this.toggleEvents(zf.PINCH,A&&(o||l)),this.toggleEvents(zf.MULTI_PAN,A&&l),this.toggleEvents(zf.DOUBLE_CLICK,A&&a),this.toggleEvents(zf.KEYBOARD,A&&c),this.scrollZoom=r,this.dragPan=i,this.dragRotate=s,this.doubleClickZoom=a,this.touchZoom=o,this.touchRotate=l,this.keyboard=c}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,t){this.eventManager&&e.forEach(r=>{this._events[r]!==t&&(this._events[r]=t,t?this.eventManager.on(r,this.handleEvent):this.eventManager.off(r,this.handleEvent))})}updateViewport(e,t=null,r={}){const i={...e.getViewportProps(),...t},s=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(r),s){const a=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:i,interactionState:this._interactionState,oldViewState:a,viewId:this.props.id})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;let r=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||this.dragMode==="pan")&&(r=!r);const i=this.controllerState[r?"panStart":"rotateStart"]({pos:t});return this._panMove=r,this.updateViewport(i,o0,{isDragging:!0}),!0}_onPan(e){return this.isDragging()?this._panMove?this._onPanMove(e):this._onPanRotate(e):!1}_onPanEnd(e){return this.isDragging()?this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e):!1}_onPanMove(e){if(!this.dragPan)return!1;const t=this.getCenter(e),r=this.controllerState.pan({pos:t});return this.updateViewport(r,o0,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:t}=this;if(this.dragPan&&t&&e.velocity){const r=this.getCenter(e),i=[r[0]+e.velocityX*t/2,r[1]+e.velocityY*t/2],s=this.controllerState.pan({pos:i}).panEnd();this.updateViewport(s,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:v4},{isDragging:!1,isPanning:!0})}else{const r=this.controllerState.panEnd();this.updateViewport(r,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const t=this.getCenter(e),r=this.controllerState.rotate({pos:t});return this.updateViewport(r,o0,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:t}=this;if(this.dragRotate&&t&&e.velocity){const r=this.getCenter(e),i=[r[0]+e.velocityX*t/2,r[1]+e.velocityY*t/2],s=this.controllerState.rotate({pos:i}).rotateEnd();this.updateViewport(s,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:v4},{isDragging:!1,isRotating:!0})}else{const r=this.controllerState.rotateEnd();this.updateViewport(r,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;e.srcEvent.preventDefault();const{speed:r=.01,smooth:i=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:s}=e;let a=2/(1+Math.exp(-Math.abs(s*r)));s<0&&a!==0&&(a=1/a);const o=i?{...this._getTransitionProps({around:t}),transitionDuration:250}:o0,l=this.controllerState.zoom({pos:t,scale:a});return this.updateViewport(l,o,{isZooming:!0,isPanning:!0}),!0}_onMultiPanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const r=this.controllerState.rotateStart({pos:t});return this.updateViewport(r,o0,{isDragging:!0}),!0}_onMultiPan(e){if(!this.touchRotate||!this.isDragging())return!1;const t=this.getCenter(e);t[0]-=e.deltaX;const r=this.controllerState.rotate({pos:t});return this.updateViewport(r,o0,{isDragging:!0,isRotating:!0}),!0}_onMultiPanEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this;if(this.touchRotate&&t&&e.velocityY){const r=this.getCenter(e),i=[r[0],r[1]+=e.velocityY*t/2],s=this.controllerState.rotate({pos:i});this.updateViewport(s,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:v4},{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{const r=this.controllerState.rotateEnd();this.updateViewport(r,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const r=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return Gu._startPinchRotation=e.rotation,Gu._lastPinchEvent=e,this.updateViewport(r,o0,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let t=this.controllerState;if(this.touchZoom){const{scale:r}=e,i=this.getCenter(e);t=t.zoom({pos:i,scale:r})}if(this.touchRotate){const{rotation:r}=e;t=t.rotate({deltaAngleX:Gu._startPinchRotation-r})}return this.updateViewport(t,o0,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),Gu._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this,{_lastPinchEvent:r}=Gu;if(this.touchZoom&&t&&r&&e.scale!==r.scale){const i=this.getCenter(e);let s=this.controllerState.rotateEnd();const a=Math.log2(e.scale),o=(a-Math.log2(r.scale))/(e.deltaTime-r.deltaTime),l=Math.pow(2,a+o*t/2);s=s.zoom({pos:i,scale:l}).zoomEnd(),this.updateViewport(s,{...this._getTransitionProps({around:i}),transitionDuration:t,transitionEasing:v4},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{const i=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(i,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return Gu._startPinchRotation=null,Gu._lastPinchEvent=null,!0}_onDoubleClick(e){if(!this.doubleClickZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const r=this.isFunctionKeyPressed(e),i=this.controllerState.zoom({pos:t,scale:r?.5:2});return this.updateViewport(i,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const t=this.isFunctionKeyPressed(e),{zoomSpeed:r,moveSpeed:i,rotateSpeedX:s,rotateSpeedY:a}=this.keyboard===!0?{}:this.keyboard,{controllerState:o}=this;let l;const c={};switch(e.srcEvent.code){case"Minus":l=t?o.zoomOut(r).zoomOut(r):o.zoomOut(r),c.isZooming=!0;break;case"Equal":l=t?o.zoomIn(r).zoomIn(r):o.zoomIn(r),c.isZooming=!0;break;case"ArrowLeft":t?(l=o.rotateLeft(s),c.isRotating=!0):(l=o.moveLeft(i),c.isPanning=!0);break;case"ArrowRight":t?(l=o.rotateRight(s),c.isRotating=!0):(l=o.moveRight(i),c.isPanning=!0);break;case"ArrowUp":t?(l=o.rotateUp(a),c.isRotating=!0):(l=o.moveUp(i),c.isPanning=!0);break;case"ArrowDown":t?(l=o.rotateDown(a),c.isRotating=!0):(l=o.moveDown(i),c.isPanning=!0);break;default:return!1}return this.updateViewport(l,this._getTransitionProps(),c),!0}_getTransitionProps(e){const{transition:t}=this;return!t||!t.transitionInterpolator?o0:e?{...t,transitionInterpolator:new KR({...e,...t.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:t}}class sme{constructor(e,t){this._viewportProps=this.applyConstraints(e),this._state=t}getViewportProps(){return this._viewportProps}getState(){return this._state}}const YS=5,ame=1.2;class vj extends sme{constructor(e){const{width:t,height:r,latitude:i,longitude:s,zoom:a,bearing:o=0,pitch:l=0,altitude:c=1.5,position:A=[0,0,0],maxZoom:u=20,minZoom:h=0,maxPitch:f=60,minPitch:d=0,startPanLngLat:g,startZoomLngLat:_,startRotatePos:m,startBearing:y,startPitch:b,startZoom:v,normalize:B=!0}=e;ps(Number.isFinite(s)),ps(Number.isFinite(i)),ps(Number.isFinite(a)),super({width:t,height:r,latitude:i,longitude:s,zoom:a,bearing:o,pitch:l,altitude:c,maxZoom:u,minZoom:h,maxPitch:f,minPitch:d,normalize:B,position:A},{startPanLngLat:g,startZoomLngLat:_,startRotatePos:m,startBearing:y,startPitch:b,startZoom:v}),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:t}){const r=this.getState().startPanLngLat||this._unproject(t);if(!r)return this;const s=this.makeViewport(this.getViewportProps()).panByPosition(r,e);return this._getUpdatedState(s)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:r=0}){const{startRotatePos:i,startBearing:s,startPitch:a}=this.getState();if(!i||s===void 0||a===void 0)return this;let o;return e?o=this._getNewRotation(e,i,a,s):o={bearing:s+t,pitch:a+r},this._getUpdatedState(o)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:t,scale:r}){let{startZoom:i,startZoomLngLat:s}=this.getState();if(s||(i=this.getViewportProps().zoom,s=this._unproject(t)||this._unproject(e)),!s)return this;const{maxZoom:a,minZoom:o}=this.getViewportProps();let l=i+Math.log2(r);l=Ul(l,o,a);const c=this.makeViewport({...this.getViewportProps(),zoom:l});return this._getUpdatedState({zoom:l,...c.panByPosition(s,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const t=e.getViewportProps(),r={...this.getViewportProps()},{bearing:i,longitude:s}=r;return Math.abs(i-t.bearing)>180&&(r.bearing=i<0?i+360:i-360),Math.abs(s-t.longitude)>180&&(r.longitude=s<0?s+360:s-360),r}applyConstraints(e){const{maxZoom:t,minZoom:r,zoom:i}=e;e.zoom=Ul(i,r,t);const{maxPitch:s,minPitch:a,pitch:o}=e;e.pitch=Ul(o,a,s);const{normalize:l=!0}=e;return l&&Object.assign(e,C_e(e)),e}_zoomFromCenter(e){const{width:t,height:r}=this.getViewportProps();return this.zoom({pos:[t/2,r/2],scale:e})}_panFromCenter(e){const{width:t,height:r}=this.getViewportProps();return this.pan({startPos:[t/2,r/2],pos:[t/2+e[0],r/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_getNewRotation(e,t,r,i){const s=e[0]-t[0],a=e[1]-t[1],o=e[1],l=t[1],{width:c,height:A}=this.getViewportProps(),u=s/c;let h=0;a>0?Math.abs(A-l)>YS&&(h=a/(l-A)*ame):a<0&&l>YS&&(h=1-o/l),h=Ul(h,-1,1);const{minPitch:f,maxPitch:d}=this.getViewportProps(),g=i+180*u;let _=r;return h>0?_=r+h*(d-r):h<0&&(_=r-h*(f-r)),{pitch:_,bearing:g}}}class ome extends bj{constructor(){super(...arguments),this.ControllerState=vj,this.transition={transitionDuration:300,transitionInterpolator:new KR({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps(e){e.position=e.position||[0,0,0];const t=this.props;super.setProps(e),(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class $R extends yj{constructor(e={}){super(e)}getViewportType(){return G1}get ControllerType(){return ome}}$R.displayName="MapView";const lme=new hj;function cme(n,e){const t=n.order??1/0,r=e.order??1/0;return t-r}class Ame{constructor(e){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=e,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(e){const t=this._defaultEffects;if(!t.find(r=>r.id===e.id)){const r=t.findIndex(i=>cme(i,e)>0);r<0?t.push(e):t.splice(r,0,e),e.setup(this._context),this._setEffects(this.effects)}}setProps(e){"effects"in e&&($o(e.effects,this.effects,1)||this._setEffects(e.effects))}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}getEffects(){return this._resolvedEffects}_setEffects(e){const t={};for(const i of this.effects)t[i.id]=i;const r=[];for(const i of e){const s=t[i.id];let a=i;s&&s!==i?s.setProps?(s.setProps(i.props),a=s):s.cleanup(this._context):s||i.setup(this._context),r.push(a),delete t[i.id]}for(const i in t)t[i].cleanup(this._context);this.effects=r,this._resolvedEffects=r.concat(this._defaultEffects),e.some(i=>i instanceof hj)||this._resolvedEffects.push(lme),this._needsRedraw="effects changed"}finalize(){for(const e of this._resolvedEffects)e.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class ume extends VR{shouldDrawLayer(e){const{operation:t}=e.props;return t.includes("draw")||t.includes("terrain")}}const fme="deckRenderer.renderLayers";class hme{constructor(e){this.device=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new ume(e),this.pickLayersPass=new _j(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){if(!e.viewports.length)return;const t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,r={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...e};r.effects&&this._preRender(r.effects,r);const i=this.lastPostProcessEffect?this.renderBuffers[0]:r.target;this.lastPostProcessEffect&&(r.clearColor=[0,0,0,0],r.clearCanvas=!0);const s=t.render({...r,target:i});r.effects&&(this.lastPostProcessEffect&&(r.clearCanvas=e.clearCanvas===void 0?!0:e.clearCanvas),this._postRender(r.effects,r)),this.renderCount++,ea(fme,this,s,e)}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}finalize(){const{renderBuffers:e}=this;for(const t of e)t.delete();e.length=0}_preRender(e,t){this.lastPostProcessEffect=null,t.preRenderStats=t.preRenderStats||{};for(const r of e)t.preRenderStats[r.id]=r.preRender(t),r.postRender&&(this.lastPostProcessEffect=r.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:e}=this,t=this.device.canvasContext.getDrawingBufferSize(),[r,i]=t;e.length===0&&[0,1].map(s=>{const a=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"},width:r,height:i});e.push(this.device.createFramebuffer({id:`deck-renderbuffer-${s}`,colorAttachments:[a]}))});for(const s of e)s.resize(t)}_postRender(e,t){const{renderBuffers:r}=this,i={...t,inputBuffer:r[0],swapBuffer:r[1]};for(const s of e)if(s.postRender){i.target=s.id===this.lastPostProcessEffect?t.target:void 0;const a=s.postRender(i);i.inputBuffer=a,i.swapBuffer=a===r[0]?r[1]:r[0]}}}const dme={pickedColor:null,pickedObjectIndex:-1};function GS({pickedColors:n,decodePickingColor:e,deviceX:t,deviceY:r,deviceRadius:i,deviceRect:s}){const{x:a,y:o,width:l,height:c}=s;let A=i*i,u=-1,h=0;for(let f=0;f<c;f++){const d=f+o-r,g=d*d;if(g>A)h+=4*l;else for(let _=0;_<l;_++){if(n[h+3]-1>=0){const y=_+a-t,b=y*y+g;b<=A&&(A=b,u=h)}h+=4}}if(u>=0){const f=n.slice(u,u+4),d=e(f);if(d){const g=Math.floor(u/4/l),_=u/4-g*l;return{...d,pickedColor:f,pickedX:a+_,pickedY:o+g}}or.error("Picked non-existent layer. Is picking buffer corrupt?")()}return dme}function VS({pickedColors:n,decodePickingColor:e}){const t=new Map;if(n){for(let r=0;r<n.length;r+=4)if(n[r+3]-1>=0){const s=n.slice(r,r+4),a=s.join(",");if(!t.has(a)){const o=e(s);o?t.set(a,{...o,color:s}):or.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(t.values())}function j9({pickInfo:n,viewports:e,pixelRatio:t,x:r,y:i,z:s}){let a=e[0];e.length>1&&(a=gme((n==null?void 0:n.pickedViewports)||e,{x:r,y:i}));let o;if(a){const l=[r-a.x,i-a.y];s!==void 0&&(l[2]=s),o=a.unproject(l)}return{color:null,layer:null,viewport:a,index:-1,picked:!1,x:r,y:i,pixel:[r,i],coordinate:o,devicePixel:n&&"pickedX"in n?[n.pickedX,n.pickedY]:void 0,pixelRatio:t}}function KS(n){const{pickInfo:e,lastPickedInfo:t,mode:r,layers:i}=n,{pickedColor:s,pickedLayer:a,pickedObjectIndex:o}=e,l=a?[a]:[];if(r==="hover"){const u=t.index,h=t.layerId,f=a?a.props.id:null;if(f!==h||o!==u){if(f!==h){const d=i.find(g=>g.props.id===h);d&&l.unshift(d)}t.layerId=f,t.index=o,t.info=null}}const c=j9(n),A=new Map;return A.set(null,c),l.forEach(u=>{let h={...c};u===a&&(h.color=s,h.index=o,h.picked=!0),h=Y9({layer:u,info:h,mode:r});const f=h.layer;u===a&&r==="hover"&&(t.info=h),A.set(f.id,h),r==="hover"&&f.updateAutoHighlight(h)}),A}function Y9({layer:n,info:e,mode:t}){for(;n&&e;){const r=e.layer||null;e.sourceLayer=r,e.layer=n,e=n.getPickingInfo({info:e,mode:t,sourceLayer:r}),n=n.parent}return e}function gme(n,e){for(let t=n.length-1;t>=0;t--){const r=n[t];if(r.containsPixel(e))return r}return n[0]}class pme{constructor(e){this._pickable=!0,this.device=e,this.pickLayersPass=new _j(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.destroy(),this.depthFBO&&this.depthFBO.destroy()}pickObjectAsync(e){return this._pickClosestObjectAsync(e)}pickObjectsAsync(e){return this._pickVisibleObjectsAsync(e)}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:t,layers:r,viewports:i},s=this.lastPickedInfo.info){const a=s&&s.layer&&s.layer.id,o=s&&s.viewport&&s.viewport.id,l=a?r.find(h=>h.id===a):null,c=o&&i.find(h=>h.id===o)||i[0],A=c&&c.unproject([e-c.x,t-c.y]);return{...s,...{x:e,y:t,viewport:c,coordinate:A,layer:l}}}_resizeBuffer(){var t,r;if(!this.pickingFBO&&(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float"))){const i=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=i}const{canvas:e}=this.device.getDefaultCanvasContext();(t=this.pickingFBO)==null||t.resize({width:e.width,height:e.height}),(r=this.depthFBO)==null||r.resize({width:e.width,height:e.height})}_getPickable(e){if(this._pickable===!1)return null;const t=e.filter(r=>this.pickLayersPass.shouldDrawLayer(r)&&!r.isComposite);return t.length?t:null}async _pickClosestObjectAsync({layers:e,views:t,viewports:r,x:i,y:s,radius:a=0,depth:o=1,mode:l="query",unproject3D:c,onViewportActive:A,effects:u}){const h=this.device.canvasContext.cssToDeviceRatio(),f=this._getPickable(e);if(!f||r.length===0)return{result:[],emptyInfo:j9({viewports:r,x:i,y:s,pixelRatio:h})};this._resizeBuffer();const d=this.device.canvasContext.cssToDevicePixels([i,s],!0),g=[d.x+Math.floor(d.width/2),d.y+Math.floor(d.height/2)],_=Math.round(a*h),{width:m,height:y}=this.pickingFBO,b=this._getPickingRect({deviceX:g[0],deviceY:g[1],deviceRadius:_,deviceWidth:m,deviceHeight:y}),v={x:i-a,y:s-a,width:a*2+1,height:a*2+1};let B;const C=[],I=new Set;for(let R=0;R<o;R++){let w;if(b){const M=this._drawAndSample({layers:f,views:t,viewports:r,onViewportActive:A,deviceRect:b,cullRect:v,effects:u,pass:`picking:${l}`});w=GS({...M,deviceX:g[0],deviceY:g[1],deviceRadius:_,deviceRect:b})}else w={pickedColor:null,pickedObjectIndex:-1};let U;if(w.pickedLayer&&c&&this.depthFBO){const{pickedColors:M}=this._drawAndSample({layers:[w.pickedLayer],views:t,viewports:r,onViewportActive:A,deviceRect:{x:w.pickedX,y:w.pickedY,width:1,height:1},cullRect:v,effects:u,pass:`picking:${l}:z`},!0);M[3]&&(U=M[0])}w.pickedLayer&&R+1<o&&(I.add(w.pickedLayer),w.pickedLayer.disablePickingIndex(w.pickedObjectIndex)),B=KS({pickInfo:w,lastPickedInfo:this.lastPickedInfo,mode:l,layers:f,viewports:r,x:i,y:s,z:U,pixelRatio:h});for(const M of B.values())M.layer&&C.push(M);if(!w.pickedColor)break}for(const R of I)R.restorePickingColors();return{result:C,emptyInfo:B.get(null)}}_pickClosestObject({layers:e,views:t,viewports:r,x:i,y:s,radius:a=0,depth:o=1,mode:l="query",unproject3D:c,onViewportActive:A,effects:u}){const h=this.device.canvasContext.cssToDeviceRatio(),f=this._getPickable(e);if(!f||r.length===0)return{result:[],emptyInfo:j9({viewports:r,x:i,y:s,pixelRatio:h})};this._resizeBuffer();const d=this.device.canvasContext.cssToDevicePixels([i,s],!0),g=[d.x+Math.floor(d.width/2),d.y+Math.floor(d.height/2)],_=Math.round(a*h),{width:m,height:y}=this.pickingFBO,b=this._getPickingRect({deviceX:g[0],deviceY:g[1],deviceRadius:_,deviceWidth:m,deviceHeight:y}),v={x:i-a,y:s-a,width:a*2+1,height:a*2+1};let B;const C=[],I=new Set;for(let R=0;R<o;R++){let w;if(b){const M=this._drawAndSample({layers:f,views:t,viewports:r,onViewportActive:A,deviceRect:b,cullRect:v,effects:u,pass:`picking:${l}`});w=GS({...M,deviceX:g[0],deviceY:g[1],deviceRadius:_,deviceRect:b})}else w={pickedColor:null,pickedObjectIndex:-1};let U;if(w.pickedLayer&&c&&this.depthFBO){const{pickedColors:M}=this._drawAndSample({layers:[w.pickedLayer],views:t,viewports:r,onViewportActive:A,deviceRect:{x:w.pickedX,y:w.pickedY,width:1,height:1},cullRect:v,effects:u,pass:`picking:${l}:z`},!0);M[3]&&(U=M[0])}w.pickedLayer&&R+1<o&&(I.add(w.pickedLayer),w.pickedLayer.disablePickingIndex(w.pickedObjectIndex)),B=KS({pickInfo:w,lastPickedInfo:this.lastPickedInfo,mode:l,layers:f,viewports:r,x:i,y:s,z:U,pixelRatio:h});for(const M of B.values())M.layer&&C.push(M);if(!w.pickedColor)break}for(const R of I)R.restorePickingColors();return{result:C,emptyInfo:B.get(null)}}async _pickVisibleObjectsAsync({layers:e,views:t,viewports:r,x:i,y:s,width:a=1,height:o=1,mode:l="query",maxObjects:c=null,onViewportActive:A,effects:u}){const h=this._getPickable(e);if(!h||r.length===0)return[];this._resizeBuffer();const f=this.device.canvasContext.cssToDeviceRatio(),d=this.device.canvasContext.cssToDevicePixels([i,s],!0),g=d.x,_=d.y+d.height,m=this.device.canvasContext.cssToDevicePixels([i+a,s+o],!0),y=m.x+m.width,b=m.y,v={x:g,y:b,width:y-g,height:_-b},B=this._drawAndSample({layers:h,views:t,viewports:r,onViewportActive:A,deviceRect:v,cullRect:{x:i,y:s,width:a,height:o},effects:u,pass:`picking:${l}`}),C=VS(B),I=new Map,R=[],w=Number.isFinite(c);for(let U=0;U<C.length&&!(w&&R.length>=c);U++){const M=C[U];let F={color:M.pickedColor,layer:null,index:M.pickedObjectIndex,picked:!0,x:i,y:s,pixelRatio:f};F=Y9({layer:M.pickedLayer,info:F,mode:l});const P=F.layer.id;I.has(P)||I.set(P,new Set);const S=I.get(P),W=F.object??F.index;S.has(W)||(S.add(W),R.push(F))}return R}_pickVisibleObjects({layers:e,views:t,viewports:r,x:i,y:s,width:a=1,height:o=1,mode:l="query",maxObjects:c=null,onViewportActive:A,effects:u}){const h=this._getPickable(e);if(!h||r.length===0)return[];this._resizeBuffer();const f=this.device.canvasContext.cssToDeviceRatio(),d=this.device.canvasContext.cssToDevicePixels([i,s],!0),g=d.x,_=d.y+d.height,m=this.device.canvasContext.cssToDevicePixels([i+a,s+o],!0),y=m.x+m.width,b=m.y,v={x:g,y:b,width:y-g,height:_-b},B=this._drawAndSample({layers:h,views:t,viewports:r,onViewportActive:A,deviceRect:v,cullRect:{x:i,y:s,width:a,height:o},effects:u,pass:`picking:${l}`}),C=VS(B),I=new Map,R=[],w=Number.isFinite(c);for(let U=0;U<C.length&&!(w&&R.length>=c);U++){const M=C[U];let F={color:M.pickedColor,layer:null,index:M.pickedObjectIndex,picked:!0,x:i,y:s,pixelRatio:f};F=Y9({layer:M.pickedLayer,info:F,mode:l});const P=F.layer.id;I.has(P)||I.set(P,new Set);const S=I.get(P),W=F.object??F.index;S.has(W)||(S.add(W),R.push(F))}return R}async _drawAndSampleAsync({layers:e,views:t,viewports:r,onViewportActive:i,deviceRect:s,cullRect:a,effects:o,pass:l},c=!1){const A=c?this.depthFBO:this.pickingFBO,u={layers:e,layerFilter:this.layerFilter,views:t,viewports:r,onViewportActive:i,pickingFBO:A,deviceRect:s,cullRect:a,effects:o,pass:l,pickZ:c,preRenderStats:{},isPicking:!0};for(const y of o)y.useInPicking&&(u.preRenderStats[y.id]=y.preRender(u));const{decodePickingColor:h}=this.pickLayersPass.render(u),{x:f,y:d,width:g,height:_}=s,m=new(c?Float32Array:Uint8Array)(g*_*4);return this.device.readPixelsToArrayWebGL(A,{sourceX:f,sourceY:d,sourceWidth:g,sourceHeight:_,target:m}),{pickedColors:m,decodePickingColor:h}}_drawAndSample({layers:e,views:t,viewports:r,onViewportActive:i,deviceRect:s,cullRect:a,effects:o,pass:l},c=!1){const A=c?this.depthFBO:this.pickingFBO,u={layers:e,layerFilter:this.layerFilter,views:t,viewports:r,onViewportActive:i,pickingFBO:A,deviceRect:s,cullRect:a,effects:o,pass:l,pickZ:c,preRenderStats:{},isPicking:!0};for(const y of o)y.useInPicking&&(u.preRenderStats[y.id]=y.preRender(u));const{decodePickingColor:h}=this.pickLayersPass.render(u),{x:f,y:d,width:g,height:_}=s,m=new(c?Float32Array:Uint8Array)(g*_*4);return this.device.readPixelsToArrayWebGL(A,{sourceX:f,sourceY:d,sourceWidth:g,sourceHeight:_,target:m}),{pickedColors:m,decodePickingColor:h}}_getPickingRect({deviceX:e,deviceY:t,deviceRadius:r,deviceWidth:i,deviceHeight:s}){const a=Math.max(0,e-r),o=Math.max(0,t-r),l=Math.min(i,e+r+1)-a,c=Math.min(s,t+r+1)-o;return l<=0||c<=0?null:{x:a,y:o,width:l,height:c}}}const _me={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}},mme="top-left",$S="__root";class yme{constructor({deck:e,parentElement:t}){this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=e,t==null||t.classList.add("deck-widget-container"),this.parentElement=t}getWidgets(){return this.resolvedWidgets}setProps(e){if(e.widgets&&!$o(e.widgets,this.widgets,1)){const t=e.widgets.filter(Boolean);this._setWidgets(t)}}finalize(){for(const e of this.getWidgets())this._removeWidget(e);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(const e in this.containers)this.containers[e].remove()}addDefault(e){this.defaultWidgets.find(t=>t.id===e.id)||(this._addWidget(e),this.defaultWidgets.push(e),this._setWidgets(this.widgets))}onRedraw({viewports:e,layers:t}){var i,s;const r=e.reduce((a,o)=>(a[o.id]=o,a),{});for(const a of this.getWidgets()){const{viewId:o}=a;if(o){const l=r[o];l&&(a.onViewportChange&&a.onViewportChange(l),(i=a.onRedraw)==null||i.call(a,{viewports:[l],layers:t}))}else{if(a.onViewportChange)for(const l of e)a.onViewportChange(l);(s=a.onRedraw)==null||s.call(a,{viewports:e,layers:t})}}this.lastViewports=r,this._updateContainers()}onHover(e,t){var r,i;for(const s of this.getWidgets()){const{viewId:a}=s;(!a||a===((r=e.viewport)==null?void 0:r.id))&&((i=s.onHover)==null||i.call(s,e,t))}}onEvent(e,t){var i,s;const r=F9[t.type];if(r)for(const a of this.getWidgets()){const{viewId:o}=a;(!o||o===((i=e.viewport)==null?void 0:i.id))&&((s=a[r])==null||s.call(a,e,t))}}_setWidgets(e){const t={};for(const r of this.resolvedWidgets)t[r.id]=r;this.resolvedWidgets.length=0;for(const r of this.defaultWidgets)t[r.id]=null,this.resolvedWidgets.push(r);for(let r of e){const i=t[r.id];i?i.viewId!==r.viewId||i.placement!==r.placement?(this._removeWidget(i),this._addWidget(r)):r!==i&&(i.setProps(r.props),r=i):this._addWidget(r),t[r.id]=null,this.resolvedWidgets.push(r)}for(const r in t){const i=t[r];i&&this._removeWidget(i)}this.widgets=e}_addWidget(e){const{viewId:t=null,placement:r=mme}=e;e.widgetManager=this,e.deck=this.deck,e.rootElement=e._onAdd({deck:this.deck,viewId:t}),e.rootElement&&this._getContainer(t,r).append(e.rootElement),e.updateHTML()}_removeWidget(e){var t;(t=e.onRemove)==null||t.call(e),e.rootElement&&e.rootElement.remove(),e.rootElement=void 0,e.deck=void 0,e.widgetManager=void 0}_getContainer(e,t){var a;const r=e||$S;let i=this.containers[r];i||(i=document.createElement("div"),i.style.pointerEvents="none",i.style.position="absolute",i.style.overflow="hidden",(a=this.parentElement)==null||a.append(i),this.containers[r]=i);let s=i.querySelector(`.${t}`);return s||(s=globalThis.document.createElement("div"),s.className=t,s.style.position="absolute",s.style.zIndex="2",Object.assign(s.style,_me[t]),i.append(s)),s}_updateContainers(){const e=this.deck.width,t=this.deck.height;for(const r in this.containers){const i=this.lastViewports[r]||null,s=r===$S||i,a=this.containers[r];s?(a.style.display="block",a.style.left=`${i?i.x:0}px`,a.style.top=`${i?i.y:0}px`,a.style.width=`${i?i.width:e}px`,a.style.height=`${i?i.height:t}px`):a.style.display="none"}}}function WS(n,e){e&&Object.entries(e).map(([t,r])=>{t.startsWith("--")?n.style.setProperty(t,r):n.style[t]=r})}function bme(n,e){e&&Object.keys(e).map(t=>{t.startsWith("--")?n.style.removeProperty(t):n.style[t]=""})}class WR{constructor(e){this.viewId=null,this.props={...this.constructor.defaultProps,...e},this.id=this.props.id}setProps(e){const t=this.props,r=this.rootElement;r&&t.className!==e.className&&(t.className&&r.classList.remove(t.className),e.className&&r.classList.add(e.className)),r&&!$o(t.style,e.style,1)&&(bme(r,t.style),WS(r,e.style)),Object.assign(this.props,e),this.updateHTML()}updateHTML(){this.rootElement&&this.onRenderHTML(this.rootElement)}onCreateRootElement(){const e=["deck-widget",this.className,this.props.className],t=document.createElement("div");return e.filter(r=>typeof r=="string"&&r.length>0).forEach(r=>t.classList.add(r)),WS(t,this.props.style),t}_onAdd(e){return this.onAdd(e)??this.onCreateRootElement()}onAdd(e){}onRemove(){}onViewportChange(e){}onRedraw(e){}onHover(e,t){}onClick(e,t){}onDrag(e,t){}onDragStart(e,t){}onDragEnd(e,t){}}WR.defaultProps={id:"widget",style:{},className:""};const vme={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class wj extends WR{constructor(e={}){super(e),this.id="default-tooltip",this.placement="fill",this.className="deck-tooltip",this.isVisible=!1,this.setProps(e)}onCreateRootElement(){const e=document.createElement("div");return e.className=this.className,Object.assign(e.style,vme),e}onRenderHTML(e){}onViewportChange(e){var t;this.isVisible&&e.id===((t=this.lastViewport)==null?void 0:t.id)&&!e.equals(this.lastViewport)&&this.setTooltip(null),this.lastViewport=e}onHover(e){const{deck:t}=this,r=t&&t.props.getTooltip;if(!r)return;const i=r(e);this.setTooltip(i,e.x,e.y)}setTooltip(e,t,r){const i=this.rootElement;if(i){if(typeof e=="string")i.innerText=e;else if(e)e.text&&(i.innerText=e.text),e.html&&(i.innerHTML=e.html),e.className&&(i.className=e.className);else{this.isVisible=!1,i.style.display="none";return}this.isVisible=!0,i.style.display="block",i.style.transform=`translate(${t}px, ${r}px)`,e&&typeof e=="object"&&"style"in e&&Object.assign(i.style,e.style)}}}wj.defaultProps={...WR.defaultProps};var dh;(function(n){n[n.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",n[n.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",n[n.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n[n.ZERO=0]="ZERO",n[n.ONE=1]="ONE",n[n.SRC_COLOR=768]="SRC_COLOR",n[n.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",n[n.SRC_ALPHA=770]="SRC_ALPHA",n[n.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",n[n.DST_ALPHA=772]="DST_ALPHA",n[n.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",n[n.DST_COLOR=774]="DST_COLOR",n[n.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",n[n.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",n[n.CONSTANT_COLOR=32769]="CONSTANT_COLOR",n[n.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",n[n.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",n[n.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",n[n.FUNC_ADD=32774]="FUNC_ADD",n[n.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",n[n.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",n[n.BLEND_EQUATION=32777]="BLEND_EQUATION",n[n.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",n[n.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",n[n.BLEND_DST_RGB=32968]="BLEND_DST_RGB",n[n.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",n[n.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",n[n.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",n[n.BLEND_COLOR=32773]="BLEND_COLOR",n[n.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",n[n.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",n[n.LINE_WIDTH=2849]="LINE_WIDTH",n[n.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",n[n.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",n[n.CULL_FACE_MODE=2885]="CULL_FACE_MODE",n[n.FRONT_FACE=2886]="FRONT_FACE",n[n.DEPTH_RANGE=2928]="DEPTH_RANGE",n[n.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",n[n.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",n[n.DEPTH_FUNC=2932]="DEPTH_FUNC",n[n.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",n[n.STENCIL_FUNC=2962]="STENCIL_FUNC",n[n.STENCIL_FAIL=2964]="STENCIL_FAIL",n[n.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",n[n.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",n[n.STENCIL_REF=2967]="STENCIL_REF",n[n.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",n[n.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",n[n.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",n[n.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",n[n.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",n[n.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",n[n.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",n[n.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",n[n.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",n[n.VIEWPORT=2978]="VIEWPORT",n[n.SCISSOR_BOX=3088]="SCISSOR_BOX",n[n.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",n[n.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",n[n.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",n[n.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",n[n.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",n[n.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",n[n.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",n[n.RED_BITS=3410]="RED_BITS",n[n.GREEN_BITS=3411]="GREEN_BITS",n[n.BLUE_BITS=3412]="BLUE_BITS",n[n.ALPHA_BITS=3413]="ALPHA_BITS",n[n.DEPTH_BITS=3414]="DEPTH_BITS",n[n.STENCIL_BITS=3415]="STENCIL_BITS",n[n.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",n[n.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",n[n.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",n[n.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",n[n.SAMPLES=32937]="SAMPLES",n[n.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",n[n.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",n[n.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",n[n.VENDOR=7936]="VENDOR",n[n.RENDERER=7937]="RENDERER",n[n.VERSION=7938]="VERSION",n[n.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",n[n.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",n[n.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",n[n.STATIC_DRAW=35044]="STATIC_DRAW",n[n.STREAM_DRAW=35040]="STREAM_DRAW",n[n.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.BUFFER_SIZE=34660]="BUFFER_SIZE",n[n.BUFFER_USAGE=34661]="BUFFER_USAGE",n[n.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",n[n.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",n[n.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",n[n.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",n[n.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",n[n.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",n[n.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",n[n.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",n[n.CULL_FACE=2884]="CULL_FACE",n[n.FRONT=1028]="FRONT",n[n.BACK=1029]="BACK",n[n.FRONT_AND_BACK=1032]="FRONT_AND_BACK",n[n.BLEND=3042]="BLEND",n[n.DEPTH_TEST=2929]="DEPTH_TEST",n[n.DITHER=3024]="DITHER",n[n.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",n[n.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",n[n.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",n[n.SCISSOR_TEST=3089]="SCISSOR_TEST",n[n.STENCIL_TEST=2960]="STENCIL_TEST",n[n.NO_ERROR=0]="NO_ERROR",n[n.INVALID_ENUM=1280]="INVALID_ENUM",n[n.INVALID_VALUE=1281]="INVALID_VALUE",n[n.INVALID_OPERATION=1282]="INVALID_OPERATION",n[n.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",n[n.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",n[n.CW=2304]="CW",n[n.CCW=2305]="CCW",n[n.DONT_CARE=4352]="DONT_CARE",n[n.FASTEST=4353]="FASTEST",n[n.NICEST=4354]="NICEST",n[n.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",n[n.BYTE=5120]="BYTE",n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.SHORT=5122]="SHORT",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.INT=5124]="INT",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.FLOAT=5126]="FLOAT",n[n.DOUBLE=5130]="DOUBLE",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.ALPHA=6406]="ALPHA",n[n.RGB=6407]="RGB",n[n.RGBA=6408]="RGBA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",n[n.VERTEX_SHADER=35633]="VERTEX_SHADER",n[n.COMPILE_STATUS=35713]="COMPILE_STATUS",n[n.DELETE_STATUS=35712]="DELETE_STATUS",n[n.LINK_STATUS=35714]="LINK_STATUS",n[n.VALIDATE_STATUS=35715]="VALIDATE_STATUS",n[n.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",n[n.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",n[n.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",n[n.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",n[n.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",n[n.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",n[n.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",n[n.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",n[n.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",n[n.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",n[n.SHADER_TYPE=35663]="SHADER_TYPE",n[n.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",n[n.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",n[n.NEVER=512]="NEVER",n[n.LESS=513]="LESS",n[n.EQUAL=514]="EQUAL",n[n.LEQUAL=515]="LEQUAL",n[n.GREATER=516]="GREATER",n[n.NOTEQUAL=517]="NOTEQUAL",n[n.GEQUAL=518]="GEQUAL",n[n.ALWAYS=519]="ALWAYS",n[n.KEEP=7680]="KEEP",n[n.REPLACE=7681]="REPLACE",n[n.INCR=7682]="INCR",n[n.DECR=7683]="DECR",n[n.INVERT=5386]="INVERT",n[n.INCR_WRAP=34055]="INCR_WRAP",n[n.DECR_WRAP=34056]="DECR_WRAP",n[n.NEAREST=9728]="NEAREST",n[n.LINEAR=9729]="LINEAR",n[n.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",n[n.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",n[n.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",n[n.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",n[n.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",n[n.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",n[n.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",n[n.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE=5890]="TEXTURE",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n[n.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",n[n.TEXTURE0=33984]="TEXTURE0",n[n.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",n[n.REPEAT=10497]="REPEAT",n[n.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n[n.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",n[n.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",n[n.FLOAT_VEC2=35664]="FLOAT_VEC2",n[n.FLOAT_VEC3=35665]="FLOAT_VEC3",n[n.FLOAT_VEC4=35666]="FLOAT_VEC4",n[n.INT_VEC2=35667]="INT_VEC2",n[n.INT_VEC3=35668]="INT_VEC3",n[n.INT_VEC4=35669]="INT_VEC4",n[n.BOOL=35670]="BOOL",n[n.BOOL_VEC2=35671]="BOOL_VEC2",n[n.BOOL_VEC3=35672]="BOOL_VEC3",n[n.BOOL_VEC4=35673]="BOOL_VEC4",n[n.FLOAT_MAT2=35674]="FLOAT_MAT2",n[n.FLOAT_MAT3=35675]="FLOAT_MAT3",n[n.FLOAT_MAT4=35676]="FLOAT_MAT4",n[n.SAMPLER_2D=35678]="SAMPLER_2D",n[n.SAMPLER_CUBE=35680]="SAMPLER_CUBE",n[n.LOW_FLOAT=36336]="LOW_FLOAT",n[n.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",n[n.HIGH_FLOAT=36338]="HIGH_FLOAT",n[n.LOW_INT=36339]="LOW_INT",n[n.MEDIUM_INT=36340]="MEDIUM_INT",n[n.HIGH_INT=36341]="HIGH_INT",n[n.FRAMEBUFFER=36160]="FRAMEBUFFER",n[n.RENDERBUFFER=36161]="RENDERBUFFER",n[n.RGBA4=32854]="RGBA4",n[n.RGB5_A1=32855]="RGB5_A1",n[n.RGB565=36194]="RGB565",n[n.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",n[n.STENCIL_INDEX=6401]="STENCIL_INDEX",n[n.STENCIL_INDEX8=36168]="STENCIL_INDEX8",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n[n.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",n[n.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",n[n.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",n[n.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",n[n.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",n[n.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",n[n.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",n[n.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",n[n.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",n[n.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",n[n.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",n[n.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",n[n.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",n[n.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",n[n.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",n[n.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",n[n.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",n[n.NONE=0]="NONE",n[n.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",n[n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",n[n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",n[n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",n[n.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",n[n.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",n[n.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",n[n.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",n[n.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",n[n.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",n[n.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",n[n.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",n[n.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",n[n.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",n[n.READ_BUFFER=3074]="READ_BUFFER",n[n.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",n[n.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",n[n.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",n[n.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",n[n.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",n[n.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",n[n.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",n[n.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",n[n.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",n[n.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",n[n.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",n[n.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",n[n.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",n[n.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",n[n.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",n[n.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",n[n.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",n[n.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",n[n.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",n[n.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",n[n.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",n[n.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",n[n.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",n[n.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",n[n.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",n[n.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",n[n.RED=6403]="RED",n[n.RGB8=32849]="RGB8",n[n.RGBA8=32856]="RGBA8",n[n.RGB10_A2=32857]="RGB10_A2",n[n.TEXTURE_3D=32879]="TEXTURE_3D",n[n.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",n[n.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",n[n.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",n[n.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",n[n.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",n[n.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",n[n.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",n[n.SRGB=35904]="SRGB",n[n.SRGB8=35905]="SRGB8",n[n.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",n[n.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",n[n.RGBA32F=34836]="RGBA32F",n[n.RGB32F=34837]="RGB32F",n[n.RGBA16F=34842]="RGBA16F",n[n.RGB16F=34843]="RGB16F",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",n[n.R11F_G11F_B10F=35898]="R11F_G11F_B10F",n[n.RGB9_E5=35901]="RGB9_E5",n[n.RGBA32UI=36208]="RGBA32UI",n[n.RGB32UI=36209]="RGB32UI",n[n.RGBA16UI=36214]="RGBA16UI",n[n.RGB16UI=36215]="RGB16UI",n[n.RGBA8UI=36220]="RGBA8UI",n[n.RGB8UI=36221]="RGB8UI",n[n.RGBA32I=36226]="RGBA32I",n[n.RGB32I=36227]="RGB32I",n[n.RGBA16I=36232]="RGBA16I",n[n.RGB16I=36233]="RGB16I",n[n.RGBA8I=36238]="RGBA8I",n[n.RGB8I=36239]="RGB8I",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.R8=33321]="R8",n[n.RG8=33323]="RG8",n[n.R16F=33325]="R16F",n[n.R32F=33326]="R32F",n[n.RG16F=33327]="RG16F",n[n.RG32F=33328]="RG32F",n[n.R8I=33329]="R8I",n[n.R8UI=33330]="R8UI",n[n.R16I=33331]="R16I",n[n.R16UI=33332]="R16UI",n[n.R32I=33333]="R32I",n[n.R32UI=33334]="R32UI",n[n.RG8I=33335]="RG8I",n[n.RG8UI=33336]="RG8UI",n[n.RG16I=33337]="RG16I",n[n.RG16UI=33338]="RG16UI",n[n.RG32I=33339]="RG32I",n[n.RG32UI=33340]="RG32UI",n[n.R8_SNORM=36756]="R8_SNORM",n[n.RG8_SNORM=36757]="RG8_SNORM",n[n.RGB8_SNORM=36758]="RGB8_SNORM",n[n.RGBA8_SNORM=36759]="RGBA8_SNORM",n[n.RGB10_A2UI=36975]="RGB10_A2UI",n[n.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",n[n.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.HALF_FLOAT=5131]="HALF_FLOAT",n[n.RG=33319]="RG",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",n[n.CURRENT_QUERY=34917]="CURRENT_QUERY",n[n.QUERY_RESULT=34918]="QUERY_RESULT",n[n.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",n[n.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",n[n.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",n[n.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",n[n.DRAW_BUFFER0=34853]="DRAW_BUFFER0",n[n.DRAW_BUFFER1=34854]="DRAW_BUFFER1",n[n.DRAW_BUFFER2=34855]="DRAW_BUFFER2",n[n.DRAW_BUFFER3=34856]="DRAW_BUFFER3",n[n.DRAW_BUFFER4=34857]="DRAW_BUFFER4",n[n.DRAW_BUFFER5=34858]="DRAW_BUFFER5",n[n.DRAW_BUFFER6=34859]="DRAW_BUFFER6",n[n.DRAW_BUFFER7=34860]="DRAW_BUFFER7",n[n.DRAW_BUFFER8=34861]="DRAW_BUFFER8",n[n.DRAW_BUFFER9=34862]="DRAW_BUFFER9",n[n.DRAW_BUFFER10=34863]="DRAW_BUFFER10",n[n.DRAW_BUFFER11=34864]="DRAW_BUFFER11",n[n.DRAW_BUFFER12=34865]="DRAW_BUFFER12",n[n.DRAW_BUFFER13=34866]="DRAW_BUFFER13",n[n.DRAW_BUFFER14=34867]="DRAW_BUFFER14",n[n.DRAW_BUFFER15=34868]="DRAW_BUFFER15",n[n.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",n[n.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",n[n.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",n[n.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",n[n.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",n[n.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",n[n.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",n[n.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",n[n.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",n[n.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",n[n.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",n[n.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",n[n.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",n[n.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",n[n.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",n[n.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",n[n.SAMPLER_3D=35679]="SAMPLER_3D",n[n.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",n[n.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",n[n.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",n[n.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",n[n.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",n[n.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",n[n.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",n[n.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",n[n.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",n[n.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",n[n.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",n[n.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",n[n.MAX_SAMPLES=36183]="MAX_SAMPLES",n[n.SAMPLER_BINDING=35097]="SAMPLER_BINDING",n[n.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",n[n.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",n[n.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",n[n.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",n[n.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",n[n.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",n[n.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",n[n.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",n[n.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",n[n.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",n[n.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",n[n.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",n[n.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",n[n.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",n[n.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",n[n.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",n[n.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",n[n.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",n[n.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",n[n.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",n[n.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",n[n.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",n[n.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",n[n.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",n[n.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",n[n.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",n[n.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",n[n.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",n[n.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",n[n.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",n[n.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",n[n.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",n[n.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",n[n.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",n[n.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",n[n.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",n[n.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",n[n.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",n[n.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",n[n.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",n[n.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",n[n.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",n[n.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",n[n.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",n[n.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",n[n.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",n[n.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",n[n.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",n[n.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",n[n.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",n[n.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",n[n.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",n[n.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",n[n.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",n[n.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",n[n.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",n[n.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",n[n.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",n[n.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",n[n.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",n[n.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",n[n.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",n[n.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",n[n.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",n[n.UNIFORM_TYPE=35383]="UNIFORM_TYPE",n[n.UNIFORM_SIZE=35384]="UNIFORM_SIZE",n[n.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",n[n.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",n[n.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",n[n.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",n[n.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",n[n.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",n[n.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",n[n.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",n[n.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",n[n.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",n[n.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",n[n.OBJECT_TYPE=37138]="OBJECT_TYPE",n[n.SYNC_CONDITION=37139]="SYNC_CONDITION",n[n.SYNC_STATUS=37140]="SYNC_STATUS",n[n.SYNC_FLAGS=37141]="SYNC_FLAGS",n[n.SYNC_FENCE=37142]="SYNC_FENCE",n[n.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",n[n.UNSIGNALED=37144]="UNSIGNALED",n[n.SIGNALED=37145]="SIGNALED",n[n.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",n[n.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",n[n.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",n[n.WAIT_FAILED=37149]="WAIT_FAILED",n[n.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",n[n.COLOR=6144]="COLOR",n[n.DEPTH=6145]="DEPTH",n[n.STENCIL=6146]="STENCIL",n[n.MIN=32775]="MIN",n[n.MAX=32776]="MAX",n[n.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",n[n.STREAM_READ=35041]="STREAM_READ",n[n.STREAM_COPY=35042]="STREAM_COPY",n[n.STATIC_READ=35045]="STATIC_READ",n[n.STATIC_COPY=35046]="STATIC_COPY",n[n.DYNAMIC_READ=35049]="DYNAMIC_READ",n[n.DYNAMIC_COPY=35050]="DYNAMIC_COPY",n[n.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",n[n.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",n[n.INVALID_INDEX=4294967295]="INVALID_INDEX",n[n.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",n[n.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",n[n.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",n[n.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",n[n.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",n[n.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",n[n.R16_EXT=33322]="R16_EXT",n[n.RG16_EXT=33324]="RG16_EXT",n[n.RGB16_EXT=32852]="RGB16_EXT",n[n.RGBA16_EXT=32859]="RGBA16_EXT",n[n.R16_SNORM_EXT=36760]="R16_SNORM_EXT",n[n.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",n[n.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",n[n.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",n[n.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",n[n.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",n[n.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",n[n.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",n[n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",n[n.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",n[n.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",n[n.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",n[n.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",n[n.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",n[n.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",n[n.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",n[n.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",n[n.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",n[n.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",n[n.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",n[n.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",n[n.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",n[n.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",n[n.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",n[n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",n[n.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",n[n.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",n[n.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",n[n.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",n[n.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",n[n.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",n[n.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",n[n.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",n[n.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",n[n.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",n[n.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",n[n.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",n[n.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",n[n.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",n[n.LINE_WEBGL=6913]="LINE_WEBGL",n[n.FILL_WEBGL=6914]="FILL_WEBGL",n[n.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",n[n.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",n[n.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",n[n.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",n[n.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",n[n.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",n[n.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",n[n.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",n[n.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",n[n.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",n[n.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",n[n.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",n[n.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",n[n.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",n[n.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",n[n.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",n[n.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",n[n.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",n[n.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",n[n.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",n[n.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",n[n.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",n[n.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",n[n.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"})(dh||(dh={}));const wme={WEBGL_depth_texture:{UNSIGNED_INT_24_8_WEBGL:34042},OES_element_index_uint:{},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:5131},EXT_color_buffer_float:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723},EXT_frag_depth:{},EXT_blend_minmax:{MIN_EXT:32775,MAX_EXT:32776},EXT_shader_texture_lod:{}},Lme=n=>({drawBuffersWEBGL(e){return n.drawBuffers(e)},COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067}),xme=n=>({VERTEX_ARRAY_BINDING_OES:34229,createVertexArrayOES(){return n.createVertexArray()},deleteVertexArrayOES(e){return n.deleteVertexArray(e)},isVertexArrayOES(e){return n.isVertexArray(e)},bindVertexArrayOES(e){return n.bindVertexArray(e)}}),Rme=n=>({VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,drawArraysInstancedANGLE(...e){return n.drawArraysInstanced(...e)},drawElementsInstancedANGLE(...e){return n.drawElementsInstanced(...e)},vertexAttribDivisorANGLE(...e){return n.vertexAttribDivisor(...e)}});function Bme(n=!0){const e=HTMLCanvasElement.prototype;if(!n&&e.originalGetContext){e.getContext=e.originalGetContext,e.originalGetContext=void 0;return}e.originalGetContext=e.getContext,e.getContext=function(t,r){if(t==="webgl"||t==="experimental-webgl"){const i=this.originalGetContext("webgl2",r);return i instanceof HTMLElement&&Eme(i),i}return this.originalGetContext(t,r)}}function Eme(n){n.getExtension("EXT_color_buffer_float");const e={...wme,WEBGL_disjoint_timer_query:n.getExtension("EXT_disjoint_timer_query_webgl2"),WEBGL_draw_buffers:Lme(n),OES_vertex_array_object:xme(n),ANGLE_instanced_arrays:Rme(n)},t=n.getExtension;n.getExtension=function(i){const s=t.call(n,i);return s||(i in e?e[i]:null)};const r=n.getSupportedExtensions;n.getSupportedExtensions=function(){const i=r.apply(n)||[];return i==null?void 0:i.concat(Object.keys(e))}}async function Lj(n,e){const t=document.getElementsByTagName("head")[0];if(!t)throw new Error("loadScript");const r=document.createElement("script");return r.setAttribute("type","text/javascript"),r.setAttribute("src",n),new Promise((i,s)=>{r.onload=i,r.onerror=a=>s(new Error(`Unable to load script '${n}': ${a}`)),t.appendChild(r)})}const Cme=1;let Nr=null,qS=!1;const qR={debugSpectorJS:mt.get("debug-spectorjs"),debugSpectorJSUrl:"https://cdn.jsdelivr.net/npm/spectorjs@0.9.30/dist/spector.bundle.js",gl:void 0};async function Ime(n){if(!globalThis.SPECTOR)try{await Lj(n.debugSpectorJSUrl||qR.debugSpectorJSUrl)}catch(e){mt.warn(String(e))}}function Tme(n){var e;if(n={...qR,...n},!n.debugSpectorJS)return null;if(!Nr&&globalThis.SPECTOR&&!((e=globalThis.luma)!=null&&e.spector)){mt.probe(Cme,"SPECTOR found and initialized. Start with `luma.spector.displayUI()`")();const{Spector:t}=globalThis.SPECTOR;Nr=new t,globalThis.luma&&(globalThis.luma.spector=Nr)}if(!Nr)return null;if(qS||(qS=!0,Nr.spyCanvases(),Nr==null||Nr.onCaptureStarted.add(t=>mt.info("Spector capture started:",t)()),Nr==null||Nr.onCapture.add(t=>{mt.info("Spector capture complete:",t)(),Nr==null||Nr.getResultUI(),Nr==null||Nr.resultView.display(),Nr==null||Nr.resultView.addCapture(t)})),n.gl){const t=n.gl,r=t.device;Nr==null||Nr.startCapture(n.gl,500),t.device=r,new Promise(i=>setTimeout(i,2e3)).then(i=>{mt.info("Spector capture stopped after 2 seconds")(),Nr==null||Nr.stopCapture()})}return Nr}const Mme="https://unpkg.com/webgl-debug@2.0.1/index.js";function xj(n){return n.luma=n.luma||{},n.luma}async function Sme(){sf()&&!globalThis.WebGLDebugUtils&&(globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await Lj(Mme))}function Fme(n,e={}){return e.debugWebGL||e.traceWebGL?Nme(n,e):Ume(n)}function Ume(n){const e=xj(n);return e.realContext?e.realContext:n}function Nme(n,e){if(!globalThis.WebGLDebugUtils)return mt.warn("webgl-debug not loaded")(),n;const t=xj(n);if(t.debugContext)return t.debugContext;globalThis.WebGLDebugUtils.init({...dh,...n});const r=globalThis.WebGLDebugUtils.makeDebugContext(n,kme.bind(null,e),Pme.bind(null,e));for(const a in dh)!(a in r)&&typeof dh[a]=="number"&&(r[a]=dh[a]);class i{}Object.setPrototypeOf(r,Object.getPrototypeOf(n)),Object.setPrototypeOf(i,r);const s=Object.create(i);return t.realContext=n,t.debugContext=s,s.debug=!0,s}function XS(n,e){e=Array.from(e).map(r=>r===void 0?"undefined":r);let t=globalThis.WebGLDebugUtils.glFunctionArgsToString(n,e);return t=`${t.slice(0,100)}${t.length>100?"...":""}`,`gl.${n}(${t})`}function kme(n,e,t,r){r=Array.from(r).map(o=>o===void 0?"undefined":o);const i=globalThis.WebGLDebugUtils.glEnumToString(e),s=globalThis.WebGLDebugUtils.glFunctionArgsToString(t,r),a=`${i} in gl.${t}(${s})`;mt.error(a)();debugger}function Pme(n,e,t){let r="";mt.level>=1&&(r=XS(e,t),n.traceWebGL&&mt.log(1,r)());for(const i of t)if(i===void 0){r=r||XS(e,t);debugger}}const w4=1;class Dme extends Kde{constructor(){super();z(this,"type","webgl");Q1.defaultProps={...Q1.defaultProps,...qR}}enforceWebGL2(t){Bme(t)}isSupported(){return typeof WebGL2RenderingContext<"u"}isDeviceHandle(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:(typeof WebGLRenderingContext<"u"&&t instanceof WebGLRenderingContext&&mt.warn("WebGL1 is not supported",t)(),!1)}async attach(t,r={}){const{WebGLDevice:i}=await Jo(async()=>{const{WebGLDevice:a}=await Promise.resolve().then(()=>hF);return{WebGLDevice:a}},void 0,import.meta.url);if(t instanceof i)return t;if((t==null?void 0:t.device)instanceof i)return t.device;if(!Ome(t))throw new Error("Invalid WebGL2RenderingContext");const s=r.createCanvasContext===!0?{}:r.createCanvasContext;return new i({...r,_handle:t,createCanvasContext:{canvas:t.canvas,autoResize:!1,...s}})}async create(t={}){const{WebGLDevice:r}=await Jo(async()=>{const{WebGLDevice:i}=await Promise.resolve().then(()=>hF);return{WebGLDevice:i}},void 0,import.meta.url);mt.groupCollapsed(w4,"WebGLDevice created")();try{const i=[];(t.debugWebGL||t.debug)&&i.push(Sme()),t.debugSpectorJS&&i.push(Ime(t));const s=await Promise.allSettled(i);for(const l of s)l.status==="rejected"&&mt.error(`Failed to initialize debug libraries ${l.reason}`)();const a=new r(t),o=`${a._reused?"Reusing":"Created"} device with WebGL2 ${a.props.debug?"debug ":""}context: ${a.info.vendor}, ${a.info.renderer} for canvas: ${a.canvasContext.id}`;return mt.probe(w4,o)(),mt.table(w4,a.info)(),a}finally{mt.groupEnd(w4)()}}}function Ome(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext?!0:!!(n&&Number.isFinite(n._version))}const m8=new Dme,XR={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,35725:null,36006:null,36007:null,34229:null,34964:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32926:!1,32928:!1,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],36389:null,36662:null,36663:null,35053:null,35055:null,35723:4352,36010:null,35977:!1,3333:4,3317:4,37440:!1,37441:!1,37443:37444,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},ji=(n,e,t)=>e?n.enable(t):n.disable(t),JS=(n,e,t)=>n.hint(t,e),so=(n,e,t)=>n.pixelStorei(t,e),ZS=(n,e,t)=>{const r=t===36006?36009:36008;return n.bindFramebuffer(r,e)},N2=(n,e,t)=>{const i={34964:34962,36662:36662,36663:36663,35053:35051,35055:35052}[t];n.bindBuffer(i,e)};function y8(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}const zme={3042:ji,32773:(n,e)=>n.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(n,e)=>n.clearColor(...e),3107:(n,e)=>n.colorMask(...e),2884:ji,2885:(n,e)=>n.cullFace(e),2929:ji,2931:(n,e)=>n.clearDepth(e),2932:(n,e)=>n.depthFunc(e),2928:(n,e)=>n.depthRange(...e),2930:(n,e)=>n.depthMask(e),3024:ji,35723:JS,35725:(n,e)=>n.useProgram(e),36007:(n,e)=>n.bindRenderbuffer(36161,e),36389:(n,e)=>{var t;return(t=n.bindTransformFeedback)==null?void 0:t.call(n,36386,e)},34229:(n,e)=>n.bindVertexArray(e),36006:ZS,36010:ZS,34964:N2,36662:N2,36663:N2,35053:N2,35055:N2,2886:(n,e)=>n.frontFace(e),33170:JS,2849:(n,e)=>n.lineWidth(e),32823:ji,32824:"polygonOffset",10752:"polygonOffset",35977:ji,32926:ji,32928:ji,32938:"sampleCoverage",32939:"sampleCoverage",3089:ji,3088:(n,e)=>n.scissor(...e),2960:ji,2961:(n,e)=>n.clearStencil(e),2968:(n,e)=>n.stencilMaskSeparate(1028,e),36005:(n,e)=>n.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(n,e)=>n.viewport(...e),34383:ji,10754:ji,12288:ji,12289:ji,12290:ji,12291:ji,12292:ji,12293:ji,12294:ji,12295:ji,3333:so,3317:so,37440:so,37441:so,37443:so,3330:so,3332:so,3331:so,3314:so,32878:so,3316:so,3315:so,32877:so,framebuffer:(n,e)=>{const t=e&&"handle"in e?e.handle:e;return n.bindFramebuffer(36160,t)},blend:(n,e)=>e?n.enable(3042):n.disable(3042),blendColor:(n,e)=>n.blendColor(...e),blendEquation:(n,e)=>{const t=typeof e=="number"?[e,e]:e;n.blendEquationSeparate(...t)},blendFunc:(n,e)=>{const t=(e==null?void 0:e.length)===2?[...e,...e]:e;n.blendFuncSeparate(...t)},clearColor:(n,e)=>n.clearColor(...e),clearDepth:(n,e)=>n.clearDepth(e),clearStencil:(n,e)=>n.clearStencil(e),colorMask:(n,e)=>n.colorMask(...e),cull:(n,e)=>e?n.enable(2884):n.disable(2884),cullFace:(n,e)=>n.cullFace(e),depthTest:(n,e)=>e?n.enable(2929):n.disable(2929),depthFunc:(n,e)=>n.depthFunc(e),depthMask:(n,e)=>n.depthMask(e),depthRange:(n,e)=>n.depthRange(...e),dither:(n,e)=>e?n.enable(3024):n.disable(3024),derivativeHint:(n,e)=>{n.hint(35723,e)},frontFace:(n,e)=>n.frontFace(e),mipmapHint:(n,e)=>n.hint(33170,e),lineWidth:(n,e)=>n.lineWidth(e),polygonOffsetFill:(n,e)=>e?n.enable(32823):n.disable(32823),polygonOffset:(n,e)=>n.polygonOffset(...e),sampleCoverage:(n,e)=>n.sampleCoverage(e[0],e[1]||!1),scissorTest:(n,e)=>e?n.enable(3089):n.disable(3089),scissor:(n,e)=>n.scissor(...e),stencilTest:(n,e)=>e?n.enable(2960):n.disable(2960),stencilMask:(n,e)=>{e=y8(e)?e:[e,e];const[t,r]=e;n.stencilMaskSeparate(1028,t),n.stencilMaskSeparate(1029,r)},stencilFunc:(n,e)=>{e=y8(e)&&e.length===3?[...e,...e]:e;const[t,r,i,s,a,o]=e;n.stencilFuncSeparate(1028,t,r,i),n.stencilFuncSeparate(1029,s,a,o)},stencilOp:(n,e)=>{e=y8(e)&&e.length===3?[...e,...e]:e;const[t,r,i,s,a,o]=e;n.stencilOpSeparate(1028,t,r,i),n.stencilOpSeparate(1029,s,a,o)},viewport:(n,e)=>n.viewport(...e)};function _i(n,e,t){return e[n]!==void 0?e[n]:t[n]}const Hme={blendEquation:(n,e,t)=>n.blendEquationSeparate(_i(32777,e,t),_i(34877,e,t)),blendFunc:(n,e,t)=>n.blendFuncSeparate(_i(32969,e,t),_i(32968,e,t),_i(32971,e,t),_i(32970,e,t)),polygonOffset:(n,e,t)=>n.polygonOffset(_i(32824,e,t),_i(10752,e,t)),sampleCoverage:(n,e,t)=>n.sampleCoverage(_i(32938,e,t),_i(32939,e,t)),stencilFuncFront:(n,e,t)=>n.stencilFuncSeparate(1028,_i(2962,e,t),_i(2967,e,t),_i(2963,e,t)),stencilFuncBack:(n,e,t)=>n.stencilFuncSeparate(1029,_i(34816,e,t),_i(36003,e,t),_i(36004,e,t)),stencilOpFront:(n,e,t)=>n.stencilOpSeparate(1028,_i(2964,e,t),_i(2965,e,t),_i(2966,e,t)),stencilOpBack:(n,e,t)=>n.stencilOpSeparate(1029,_i(34817,e,t),_i(34818,e,t),_i(34819,e,t))},eF={enable:(n,e)=>n({[e]:!0}),disable:(n,e)=>n({[e]:!1}),pixelStorei:(n,e,t)=>n({[e]:t}),hint:(n,e,t)=>n({[e]:t}),useProgram:(n,e)=>n({35725:e}),bindRenderbuffer:(n,e,t)=>n({36007:t}),bindTransformFeedback:(n,e,t)=>n({36389:t}),bindVertexArray:(n,e)=>n({34229:e}),bindFramebuffer:(n,e,t)=>{switch(e){case 36160:return n({36006:t,36010:t});case 36009:return n({36006:t});case 36008:return n({36010:t});default:return null}},bindBuffer:(n,e,t)=>{const r={34962:[34964],36662:[36662],36663:[36663],35051:[35053],35052:[35055]}[e];return r?n({[r]:t}):{valueChanged:!0}},blendColor:(n,e,t,r,i)=>n({32773:new Float32Array([e,t,r,i])}),blendEquation:(n,e)=>n({32777:e,34877:e}),blendEquationSeparate:(n,e,t)=>n({32777:e,34877:t}),blendFunc:(n,e,t)=>n({32969:e,32968:t,32971:e,32970:t}),blendFuncSeparate:(n,e,t,r,i)=>n({32969:e,32968:t,32971:r,32970:i}),clearColor:(n,e,t,r,i)=>n({3106:new Float32Array([e,t,r,i])}),clearDepth:(n,e)=>n({2931:e}),clearStencil:(n,e)=>n({2961:e}),colorMask:(n,e,t,r,i)=>n({3107:[e,t,r,i]}),cullFace:(n,e)=>n({2885:e}),depthFunc:(n,e)=>n({2932:e}),depthRange:(n,e,t)=>n({2928:new Float32Array([e,t])}),depthMask:(n,e)=>n({2930:e}),frontFace:(n,e)=>n({2886:e}),lineWidth:(n,e)=>n({2849:e}),polygonOffset:(n,e,t)=>n({32824:e,10752:t}),sampleCoverage:(n,e,t)=>n({32938:e,32939:t}),scissor:(n,e,t,r,i)=>n({3088:new Int32Array([e,t,r,i])}),stencilMask:(n,e)=>n({2968:e,36005:e}),stencilMaskSeparate:(n,e,t)=>n({[e===1028?2968:36005]:t}),stencilFunc:(n,e,t,r)=>n({2962:e,2967:t,2963:r,34816:e,36003:t,36004:r}),stencilFuncSeparate:(n,e,t,r,i)=>n({[e===1028?2962:34816]:t,[e===1028?2967:36003]:r,[e===1028?2963:36004]:i}),stencilOp:(n,e,t,r)=>n({2964:e,2965:t,2966:r,34817:e,34818:t,34819:r}),stencilOpSeparate:(n,e,t,r,i)=>n({[e===1028?2964:34817]:t,[e===1028?2965:34818]:r,[e===1028?2966:34819]:i}),viewport:(n,e,t,r,i)=>n({2978:[e,t,r,i]})},cc=(n,e)=>n.isEnabled(e),tF={3042:cc,2884:cc,2929:cc,3024:cc,32823:cc,32926:cc,32928:cc,3089:cc,2960:cc,35977:cc},Qme=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068]);function Yd(n,e){if(Yme(e))return;const t={};for(const i in e){const s=Number(i),a=zme[i];a&&(typeof a=="string"?t[a]=!0:a(n,e[i],s))}const r=n.state&&n.state.cache;if(r)for(const i in t){const s=Hme[i];s(n,e,r)}}function Rj(n,e=XR){if(typeof e=="number"){const i=e,s=tF[i];return s?s(n,i):n.getParameter(i)}const t=Array.isArray(e)?e:Object.keys(e),r={};for(const i of t){const s=tF[i];r[i]=s?s(n,Number(i)):n.getParameter(Number(i))}return r}function jme(n){Yd(n,XR)}function Yme(n){for(const e in n)return!1;return!0}function Gme(n,e){if(n===e)return!0;if(nF(n)&&nF(e)&&n.length===e.length){for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0}return!1}function nF(n){return Array.isArray(n)||ArrayBuffer.isView(n)}class T1{constructor(e,t){z(this,"gl");z(this,"program",null);z(this,"stateStack",[]);z(this,"enable",!0);z(this,"cache",null);z(this,"log");z(this,"initialized",!1);this.gl=e,this.log=(t==null?void 0:t.log)||(()=>{}),this._updateCache=this._updateCache.bind(this),Object.seal(this)}static get(e){return e.state}push(e={}){this.stateStack.push({})}pop(){const e=this.stateStack[this.stateStack.length-1];Yd(this.gl,e),this.stateStack.pop()}trackState(e,t){if(this.cache=t!=null&&t.copyState?Rj(e):Object.assign({},XR),this.initialized)throw new Error("WebGLStateTracker");this.initialized=!0,this.gl.state=this,Kme(e);for(const r in eF){const i=eF[r];Vme(e,r,i)}rF(e,"getParameter"),rF(e,"isEnabled")}_updateCache(e){let t=!1,r;const i=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(const s in e){const a=e[s],o=this.cache[s];Gme(a,o)||(t=!0,r=o,i&&!(s in i)&&(i[s]=o),this.cache[s]=a)}return{valueChanged:t,oldValue:r}}}function rF(n,e){const t=n[e].bind(n);n[e]=function(i){if(i===void 0||Qme.has(i))return t(i);const s=T1.get(n);return i in s.cache||(s.cache[i]=t(i)),s.enable?s.cache[i]:t(i)},Object.defineProperty(n[e],"name",{value:`${e}-from-cache`,configurable:!1})}function Vme(n,e,t){if(!n[e])return;const r=n[e].bind(n);n[e]=function(...s){const a=T1.get(n),{valueChanged:o,oldValue:l}=t(a._updateCache,...s);return o&&r(...s),l},Object.defineProperty(n[e],"name",{value:`${e}-to-cache`,configurable:!1})}function Kme(n){const e=n.useProgram.bind(n);n.useProgram=function(r){const i=T1.get(n);i.program!==r&&(e(r),i.program=r)}}function $me(n,e,t){let r="";const i={preserveDrawingBuffer:!0,...t};let s=null;if(s||(s=n.getContext("webgl2",i)),i.failIfMajorPerformanceCaveat&&(r||(r="Only software GPU is available. Set `failIfMajorPerformanceCaveat: false` to allow.")),!s&&!t.failIfMajorPerformanceCaveat&&(i.failIfMajorPerformanceCaveat=!1,s=n.getContext("webgl2",i),s.luma||(s.luma={}),s.luma.softwareRenderer=!0),s||(s=n.getContext("webgl",{}),s&&(s=null,r||(r="Your browser only supports WebGL1"))),!s)throw r||(r="Your browser does not support WebGL"),new Error(`Failed to create WebGL context: ${r}`);const{onContextLost:a,onContextRestored:o}=e;return n.addEventListener("webglcontextlost",l=>a(l),!1),n.addEventListener("webglcontextrestored",l=>o(l),!1),s.luma||(s.luma={}),s}function md(n,e,t){return t[e]===void 0&&(t[e]=n.getExtension(e)||null),t[e]}function Wme(n,e){const t=n.getParameter(7936),r=n.getParameter(7937);md(n,"WEBGL_debug_renderer_info",e);const i=e.WEBGL_debug_renderer_info,s=n.getParameter(i?i.UNMASKED_VENDOR_WEBGL:7936),a=n.getParameter(i?i.UNMASKED_RENDERER_WEBGL:7937),o=s||t,l=a||r,c=n.getParameter(7938),A=Bj(o,l),u=qme(o,l),h=Xme(o,l);return{type:"webgl",gpu:A,gpuType:h,gpuBackend:u,vendor:o,renderer:l,version:c,shadingLanguage:"glsl",shadingLanguageVersion:300}}function Bj(n,e){return/NVIDIA/i.exec(n)||/NVIDIA/i.exec(e)?"nvidia":/INTEL/i.exec(n)||/INTEL/i.exec(e)?"intel":/Apple/i.exec(n)||/Apple/i.exec(e)?"apple":/AMD/i.exec(n)||/AMD/i.exec(e)||/ATI/i.exec(n)||/ATI/i.exec(e)?"amd":/SwiftShader/i.exec(n)||/SwiftShader/i.exec(e)?"software":"unknown"}function qme(n,e){return/Metal/i.exec(n)||/Metal/i.exec(e)?"metal":/ANGLE/i.exec(n)||/ANGLE/i.exec(e)?"opengl":"unknown"}function Xme(n,e){if(/SwiftShader/i.exec(n)||/SwiftShader/i.exec(e))return"cpu";switch(Bj(n,e)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}function Ej(n){switch(n){case"uint8":return 5121;case"sint8":return 5120;case"unorm8":return 5121;case"snorm8":return 5120;case"uint16":return 5123;case"sint16":return 5122;case"unorm16":return 5123;case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw new Error(String(n))}const gg="WEBGL_compressed_texture_s3tc",pg="WEBGL_compressed_texture_s3tc_srgb",gh="EXT_texture_compression_rgtc",ph="EXT_texture_compression_bptc",Jme="WEBGL_compressed_texture_etc",Zme="WEBGL_compressed_texture_astc",e5e="WEBGL_compressed_texture_etc1",t5e="WEBGL_compressed_texture_pvrtc",n5e="WEBGL_compressed_texture_atc",iF="EXT_texture_norm16",sF="EXT_render_snorm",r5e="EXT_color_buffer_float",JR={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat-renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[sF],"norm16-renderable-webgl":[iF],"snorm16-renderable-webgl":[iF,sF],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[gg,pg,gh,ph],"texture-compression-bc5-webgl":[gh],"texture-compression-bc7-webgl":[ph],"texture-compression-etc2":[Jme],"texture-compression-astc":[Zme],"texture-compression-etc1-webgl":[e5e],"texture-compression-pvrtc-webgl":[t5e],"texture-compression-atc-webgl":[n5e]};function i5e(n){return n in JR}function s5e(n,e,t){return(JR[e]||[]).every(i=>md(n,i,t))}const ZR={r8unorm:{gl:33321,rb:!0},r8snorm:{gl:36756},r8uint:{gl:33330,rb:!0},r8sint:{gl:33329,rb:!0},rg8unorm:{gl:33323,rb:!0},rg8snorm:{gl:36757},rg8uint:{gl:33336,rb:!0},rg8sint:{gl:33335,rb:!0},r16uint:{gl:33332,rb:!0},r16sint:{gl:33331,rb:!0},r16float:{gl:33325,rb:!0},r16unorm:{gl:33322,rb:!0},r16snorm:{gl:36760},"rgba4unorm-webgl":{gl:32854,rb:!0},"rgb565unorm-webgl":{gl:36194,rb:!0},"rgb5a1unorm-webgl":{gl:32855,rb:!0},"rgb8unorm-webgl":{gl:32849},"rgb8snorm-webgl":{gl:36758},rgba8unorm:{gl:32856},"rgba8unorm-srgb":{gl:35907},rgba8snorm:{gl:36759},rgba8uint:{gl:36220},rgba8sint:{gl:36238},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{gl:33338},rg16sint:{gl:33337},rg16float:{gl:33327,rb:!0},rg16unorm:{gl:33324},rg16snorm:{gl:36761},r32uint:{gl:33334,rb:!0},r32sint:{gl:33333,rb:!0},r32float:{gl:33326},rgb9e5ufloat:{gl:35901},rg11b10ufloat:{gl:35898,rb:!0},rgb10a2unorm:{gl:32857,rb:!0},rgb10a2uint:{gl:36975,rb:!0},"rgb16unorm-webgl":{gl:32852},"rgb16snorm-webgl":{gl:36762},rg32uint:{gl:33340,rb:!0},rg32sint:{gl:33339,rb:!0},rg32float:{gl:33328,rb:!0},rgba16uint:{gl:36214,rb:!0},rgba16sint:{gl:36232,rb:!0},rgba16float:{gl:34842},rgba16unorm:{gl:32859,rb:!0},rgba16snorm:{gl:36763},"rgb32float-webgl":{gl:34837,x:r5e,dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,rb:!0},rgba32sint:{gl:36226,rb:!0},rgba32float:{gl:34836,rb:!0},stencil8:{gl:36168,rb:!0},depth16unorm:{gl:33189,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,dataFormat:6402,types:[5125]},depth32float:{gl:36012,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth32float-stencil8":{gl:36013,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:gg},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:pg},"bc1-rgba-unorm":{gl:33777,x:gg},"bc1-rgba-unorm-srgb":{gl:35916,x:pg},"bc2-rgba-unorm":{gl:33778,x:gg},"bc2-rgba-unorm-srgb":{gl:35918,x:pg},"bc3-rgba-unorm":{gl:33779,x:gg},"bc3-rgba-unorm-srgb":{gl:35919,x:pg},"bc4-r-unorm":{gl:36283,x:gh},"bc4-r-snorm":{gl:36284,x:gh},"bc5-rg-unorm":{gl:36285,x:gh},"bc5-rg-snorm":{gl:36286,x:gh},"bc6h-rgb-ufloat":{gl:36495,x:ph},"bc6h-rgb-float":{gl:36494,x:ph},"bc7-rgba-unorm":{gl:36492,x:ph},"bc7-rgba-unorm-srgb":{gl:36493,x:ph},"etc2-rgb8unorm":{gl:37492},"etc2-rgb8unorm-srgb":{gl:37494},"etc2-rgb8a1unorm":{gl:37496},"etc2-rgb8a1unorm-srgb":{gl:37497},"etc2-rgba8unorm":{gl:37493},"etc2-rgba8unorm-srgb":{gl:37495},"eac-r11unorm":{gl:37488},"eac-r11snorm":{gl:37489},"eac-rg11unorm":{gl:37490},"eac-rg11snorm":{gl:37491},"astc-4x4-unorm":{gl:37808},"astc-4x4-unorm-srgb":{gl:37840},"astc-5x4-unorm":{gl:37809},"astc-5x4-unorm-srgb":{gl:37841},"astc-5x5-unorm":{gl:37810},"astc-5x5-unorm-srgb":{gl:37842},"astc-6x5-unorm":{gl:37811},"astc-6x5-unorm-srgb":{gl:37843},"astc-6x6-unorm":{gl:37812},"astc-6x6-unorm-srgb":{gl:37844},"astc-8x5-unorm":{gl:37813},"astc-8x5-unorm-srgb":{gl:37845},"astc-8x6-unorm":{gl:37814},"astc-8x6-unorm-srgb":{gl:37846},"astc-8x8-unorm":{gl:37815},"astc-8x8-unorm-srgb":{gl:37847},"astc-10x5-unorm":{gl:37819},"astc-10x5-unorm-srgb":{gl:37851},"astc-10x6-unorm":{gl:37817},"astc-10x6-unorm-srgb":{gl:37849},"astc-10x8-unorm":{gl:37818},"astc-10x8-unorm-srgb":{gl:37850},"astc-10x10-unorm":{gl:37819},"astc-10x10-unorm-srgb":{gl:37851},"astc-12x10-unorm":{gl:37820},"astc-12x10-unorm-srgb":{gl:37852},"astc-12x12-unorm":{gl:37821},"astc-12x12-unorm-srgb":{gl:37853},"pvrtc-rgb4unorm-webgl":{gl:35840},"pvrtc-rgba4unorm-webgl":{gl:35842},"pvrtc-rbg2unorm-webgl":{gl:35841},"pvrtc-rgba2unorm-webgl":{gl:35843},"etc1-rbg-unorm-webgl":{gl:36196},"atc-rgb-unorm-webgl":{gl:35986},"atc-rgba-unorm-webgl":{gl:35986},"atc-rgbai-unorm-webgl":{gl:34798}};function a5e(n,e,t){let r=e.create;const i=ZR[e.format];return(i==null?void 0:i.gl)===void 0&&(r=!1),i!=null&&i.x&&(r=r&&!!md(n,i.x,t)),{format:e.format,create:r&&e.create,render:r&&e.render,filter:r&&e.filter,blend:r&&e.blend,store:r&&e.store}}function Cj(n){var i;const e=ZR[n],t=c5e(n),r=Oh.getInfo(n);return r.compressed&&(e.dataFormat=t),{internalFormat:t,format:(e==null?void 0:e.dataFormat)||l5e(r.channels,r.integer,r.normalized,t),type:r.dataType?Ej(r.dataType):((i=e==null?void 0:e.types)==null?void 0:i[0])||5121,compressed:r.compressed||!1}}function o5e(n){switch(Oh.getInfo(n).attachment){case"depth":return 36096;case"stencil":return 36128;case"depth-stencil":return 33306;default:throw new Error(`Not a depth stencil format: ${n}`)}}function l5e(n,e,t,r){if(r===6408||r===6407)return r;switch(n){case"r":return e&&!t?36244:6403;case"rg":return e&&!t?33320:33319;case"rgb":return e&&!t?36248:6407;case"rgba":return e&&!t?36249:6408;case"bgra":throw new Error("bgra pixels not supported by WebGL");default:return 6408}}function c5e(n){const e=ZR[n],t=e==null?void 0:e.gl;if(t===void 0)throw new Error(`Unsupported texture format ${n}`);return t}const aF={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};class A5e extends Gde{constructor(t,r,i){super([],i);z(this,"gl");z(this,"extensions");z(this,"testedFeatures",new Set);this.gl=t,this.extensions=r,md(t,"EXT_color_buffer_float",r)}*[Symbol.iterator](){const t=this.getFeatures();for(const r of t)this.has(r)&&(yield r);return[]}has(t){var r;return(r=this.disabledFeatures)!=null&&r[t]?!1:(this.testedFeatures.has(t)||(this.testedFeatures.add(t),i5e(t)&&s5e(this.gl,t,this.extensions)&&this.features.add(t),this.getWebGLFeature(t)&&this.features.add(t)),this.features.has(t))}initializeFeatures(){const t=this.getFeatures().filter(r=>r!=="polygon-mode-webgl");for(const r of t)this.has(r)}getFeatures(){return[...Object.keys(aF),...Object.keys(JR)]}getWebGLFeature(t){const r=aF[t];return typeof r=="string"?!!md(this.gl,r,this.extensions):!!r}}class u5e extends Yde{constructor(t){super();z(this,"gl");z(this,"limits",{});this.gl=t}get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderVariables(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}getParameter(t){return this.limits[t]===void 0&&(this.limits[t]=this.gl.getParameter(t)),this.limits[t]||0}}class Jg extends O5{constructor(t,r){super(t,r);z(this,"device");z(this,"gl");z(this,"handle");z(this,"colorAttachments",[]);z(this,"depthStencilAttachment",null);const i=r.handle===null;this.device=t,this.gl=t.gl,this.handle=this.props.handle||i?this.props.handle:this.gl.createFramebuffer(),i||(t._setWebGLDebugMetadata(this.handle,this,{spector:this.props}),this.autoCreateAttachmentTextures(),this.updateAttachments())}destroy(){super.destroy(),!this.destroyed&&this.handle!==null&&this.gl.deleteFramebuffer(this.handle)}updateAttachments(){const t=this.gl.bindFramebuffer(36160,this.handle);for(let r=0;r<this.colorAttachments.length;++r){const i=this.colorAttachments[r];if(i){const s=36064+r;this._attachTextureView(s,i)}}if(this.depthStencilAttachment){const r=o5e(this.depthStencilAttachment.props.format);this._attachTextureView(r,this.depthStencilAttachment)}if(this.device.props.debug){const r=this.gl.checkFramebufferStatus(36160);if(r!==36053)throw new Error(`Framebuffer ${h5e(r)}`)}this.gl.bindFramebuffer(36160,t)}_attachTextureView(t,r){const{gl:i}=this.device,{texture:s}=r,a=r.props.baseMipLevel,o=r.props.baseArrayLayer;switch(i.bindTexture(s.glTarget,s.handle),s.glTarget){case 35866:case 32879:i.framebufferTextureLayer(36160,t,s.handle,a,o);break;case 34067:const l=f5e(o);i.framebufferTexture2D(36160,t,l,s.handle,a);break;case 3553:i.framebufferTexture2D(36160,t,3553,s.handle,a);break;default:throw new Error("Illegal texture type")}i.bindTexture(s.glTarget,null)}}function f5e(n){return n<34069?n+34069:n}function h5e(n){switch(n){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return`${n}`}}class d5e extends k5{constructor(t,r){super(r);z(this,"device");z(this,"handle",null);z(this,"_framebuffer",null);this.device=t,this._setAutoCreatedCanvasId(`${this.device.id}-canvas`),this._updateDevice()}get[Symbol.toStringTag](){return"WebGLCanvasContext"}getCurrentFramebuffer(){return this._framebuffer=this._framebuffer||new Jg(this.device,{handle:null}),this._framebuffer}_updateDevice(){}}const b8={};function g5e(n="id"){b8[n]=b8[n]||1;const e=b8[n]++;return`${n}-${e}`}class Zg extends xi{constructor(t,r={}){super(t,r);z(this,"device");z(this,"gl");z(this,"handle");z(this,"glTarget");z(this,"glUsage");z(this,"glIndexType",5123);z(this,"byteLength",0);z(this,"bytesUsed",0);this.device=t,this.gl=this.device.gl;const i=typeof r=="object"?r.handle:void 0;this.handle=i||this.gl.createBuffer(),t._setWebGLDebugMetadata(this.handle,this,{spector:{...this.props,data:typeof this.props.data}}),this.glTarget=p5e(this.props.usage),this.glUsage=_5e(this.props.usage),this.glIndexType=this.props.indexType==="uint32"?5125:5123,r.data?this._initWithData(r.data,r.byteOffset,r.byteLength):this._initWithByteLength(r.byteLength||0)}destroy(){!this.destroyed&&this.handle&&(this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null)}_initWithData(t,r=0,i=t.byteLength+r){const s=this.glTarget;this.gl.bindBuffer(s,this.handle),this.gl.bufferData(s,i,this.glUsage),this.gl.bufferSubData(s,r,t),this.gl.bindBuffer(s,null),this.bytesUsed=i,this.byteLength=i,this._setDebugData(t,r,i),this.trackAllocatedMemory(i)}_initWithByteLength(t){let r=t;t===0&&(r=new Float32Array(0));const i=this.glTarget;return this.gl.bindBuffer(i,this.handle),this.gl.bufferData(i,r,this.glUsage),this.gl.bindBuffer(i,null),this.bytesUsed=t,this.byteLength=t,this._setDebugData(null,0,t),this.trackAllocatedMemory(t),this}write(t,r=0){const i=ArrayBuffer.isView(t)?t:new Uint8Array(t),s=36663;this.gl.bindBuffer(s,this.handle),this.gl.bufferSubData(s,r,i),this.gl.bindBuffer(s,null),this._setDebugData(t,r,t.byteLength)}async mapAndWriteAsync(t,r=0,i=this.byteLength-r){const s=new ArrayBuffer(i);await t(s,"copied"),this.write(s,r)}async readAsync(t=0,r){return this.readSyncWebGL(t,r)}async mapAndReadAsync(t,r=0,i){const s=await this.readAsync(r,i);return await t(s.buffer,"copied")}readSyncWebGL(t=0,r){r=r??this.byteLength-t;const i=new Uint8Array(r),s=0;return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,t,i,s,r),this.gl.bindBuffer(36662,null),this._setDebugData(i,t,r),i}}function p5e(n){return n&xi.INDEX?34963:n&xi.VERTEX?34962:n&xi.UNIFORM?35345:34962}function _5e(n){return n&xi.INDEX||n&xi.VERTEX?35044:n&xi.UNIFORM?35048:35044}function m5e(n){const e=n.split(/\r?\n/),t=[];for(const r of e){if(r.length<=1)continue;const i=r.split(":");if(i.length===2){const[u,h]=i;t.push({message:h.trim(),type:oF(u),lineNum:0,linePos:0});continue}const[s,a,o,...l]=i;let c=parseInt(o,10);isNaN(c)&&(c=0);let A=parseInt(a,10);isNaN(A)&&(A=0),t.push({message:l.join(":").trim(),type:oF(s),lineNum:c,linePos:A})}return t}function oF(n){const e=["warning","error","info"],t=n.toLowerCase();return e.includes(t)?t:"info"}class y5e extends D5{constructor(t,r){super(t,r);z(this,"device");z(this,"handle");switch(this.device=t,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw new Error(this.props.stage)}t._setWebGLDebugMetadata(this.handle,this,{spector:this.props}),this._compile(this.source)}destroy(){this.handle&&(this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0,this.handle.destroyed=!0)}get asyncCompilationStatus(){return this._waitForCompilationComplete().then(()=>(this._getCompilationStatus(),this.compilationStatus))}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){const t=this.device.gl.getShaderInfoLog(this.handle);return t?m5e(t):[]}getTranslatedSource(){const r=this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders;return(r==null?void 0:r.getTranslatedShaderSource(this.handle))||null}async _compile(t){t=t.startsWith("#version ")?t:`#version 300 es
${t}`;const{gl:r}=this.device;if(r.shaderSource(this.handle,t),r.compileShader(this.handle),!this.device.props.debug){this.compilationStatus="pending";return}if(!this.device.features.has("compilation-status-async-webgl")){if(this._getCompilationStatus(),this.debugShader(),this.compilationStatus==="error")throw new Error(`GLSL compilation errors in ${this.props.stage} shader ${this.props.id}`);return}mt.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),mt.info(2,`Shader ${this.id} - async compilation complete: ${this.compilationStatus}`)(),this._getCompilationStatus(),this.debugShader()}async _waitForCompilationComplete(){const t=async s=>await new Promise(a=>setTimeout(a,s));if(!this.device.features.has("compilation-status-async-webgl")){await t(10);return}const{gl:i}=this.device;for(;;){if(i.getShaderParameter(this.handle,37297))return;await t(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}function b5e(n,e,t,r){if(x5e(e))return r(n);const i=n;i.pushState();try{return v5e(n,e),Yd(i.gl,t),r(n)}finally{i.popState()}}function v5e(n,e){const t=n,{gl:r}=t;if(e.cullMode)switch(e.cullMode){case"none":r.disable(2884);break;case"front":r.enable(2884),r.cullFace(1028);break;case"back":r.enable(2884),r.cullFace(1029);break}if(e.frontFace&&r.frontFace(M1("frontFace",e.frontFace,{ccw:2305,cw:2304})),e.unclippedDepth&&n.features.has("depth-clip-control")&&r.enable(34383),e.depthBias!==void 0&&(r.enable(32823),r.polygonOffset(e.depthBias,e.depthBiasSlopeScale||0)),e.provokingVertex&&n.features.has("provoking-vertex-webgl")){const s=t.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,a=M1("provokingVertex",e.provokingVertex,{first:36429,last:36430});s==null||s.provokingVertexWEBGL(a)}if((e.polygonMode||e.polygonOffsetLine)&&n.features.has("polygon-mode-webgl")){if(e.polygonMode){const s=t.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,a=M1("polygonMode",e.polygonMode,{fill:6914,line:6913});s==null||s.polygonModeWEBGL(1028,a),s==null||s.polygonModeWEBGL(1029,a)}e.polygonOffsetLine&&r.enable(10754)}if(n.features.has("shader-clip-cull-distance-webgl")&&(e.clipDistance0&&r.enable(12288),e.clipDistance1&&r.enable(12289),e.clipDistance2&&r.enable(12290),e.clipDistance3&&r.enable(12291),e.clipDistance4&&r.enable(12292),e.clipDistance5&&r.enable(12293),e.clipDistance6&&r.enable(12294),e.clipDistance7&&r.enable(12295)),e.depthWriteEnabled!==void 0&&r.depthMask(L5e("depthWriteEnabled",e.depthWriteEnabled)),e.depthCompare&&(e.depthCompare!=="always"?r.enable(2929):r.disable(2929),r.depthFunc(G9("depthCompare",e.depthCompare))),e.stencilWriteMask){const i=e.stencilWriteMask;r.stencilMaskSeparate(1028,i),r.stencilMaskSeparate(1029,i)}if(e.stencilReadMask&&mt.warn("stencilReadMask not supported under WebGL"),e.stencilCompare){const i=e.stencilReadMask||4294967295,s=G9("depthCompare",e.stencilCompare);e.stencilCompare!=="always"?r.enable(2960):r.disable(2960),r.stencilFuncSeparate(1028,s,0,i),r.stencilFuncSeparate(1029,s,0,i)}if(e.stencilPassOperation&&e.stencilFailOperation&&e.stencilDepthFailOperation){const i=v8("stencilPassOperation",e.stencilPassOperation),s=v8("stencilFailOperation",e.stencilFailOperation),a=v8("stencilDepthFailOperation",e.stencilDepthFailOperation);r.stencilOpSeparate(1028,s,a,i),r.stencilOpSeparate(1029,s,a,i)}switch(e.blend){case!0:r.enable(3042);break;case!1:r.disable(3042);break}if(e.blendColorOperation||e.blendAlphaOperation){const i=lF("blendColorOperation",e.blendColorOperation||"add"),s=lF("blendAlphaOperation",e.blendAlphaOperation||"add");r.blendEquationSeparate(i,s);const a=L4("blendColorSrcFactor",e.blendColorSrcFactor||"one"),o=L4("blendColorDstFactor",e.blendColorDstFactor||"zero"),l=L4("blendAlphaSrcFactor",e.blendAlphaSrcFactor||"one"),c=L4("blendAlphaDstFactor",e.blendAlphaDstFactor||"zero");r.blendFuncSeparate(a,o,l,c)}}function G9(n,e){return M1(n,e,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function v8(n,e){return M1(n,e,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function lF(n,e){return M1(n,e,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function L4(n,e,t="color"){return M1(n,e,{one:1,zero:0,src:768,"one-minus-src":769,dst:774,"one-minus-dst":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,constant:t==="color"?32769:32771,"one-minus-constant":t==="color"?32770:32772,src1:768,"one-minus-src1":769,"src1-alpha":770,"one-minus-src1-alpha":771})}function w5e(n,e){return`Illegal parameter ${e} for ${n}`}function M1(n,e,t){if(!(e in t))throw new Error(w5e(n,e));return t[e]}function L5e(n,e){return e}function x5e(n){let e=!0;for(const t in n){e=!1;break}return e}function Ij(n){const e={};return n.addressModeU&&(e[10242]=w8(n.addressModeU)),n.addressModeV&&(e[10243]=w8(n.addressModeV)),n.addressModeW&&(e[32882]=w8(n.addressModeW)),n.magFilter&&(e[10240]=V9(n.magFilter)),(n.minFilter||n.mipmapFilter)&&(e[10241]=R5e(n.minFilter||"linear",n.mipmapFilter)),n.lodMinClamp!==void 0&&(e[33082]=n.lodMinClamp),n.lodMaxClamp!==void 0&&(e[33083]=n.lodMaxClamp),n.type==="comparison-sampler"&&(e[34892]=34894),n.compare&&(e[34893]=G9("compare",n.compare)),n.maxAnisotropy&&(e[34046]=n.maxAnisotropy),e}function w8(n){switch(n){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function V9(n){switch(n){case"nearest":return 9728;case"linear":return 9729}}function R5e(n,e="none"){if(!e)return V9(n);switch(e){case"none":return V9(n);case"nearest":switch(n){case"nearest":return 9984;case"linear":return 9985}break;case"linear":switch(n){case"nearest":return 9986;case"linear":return 9987}}}class B5e extends dd{constructor(t,r){super(t,r);z(this,"device");z(this,"handle");z(this,"parameters");this.device=t,this.parameters=Ij(r),this.handle=r.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){this.handle&&(this.device.gl.deleteSampler(this.handle),this.handle=void 0)}toString(){return`Sampler(${this.id},${JSON.stringify(this.props)})`}_setSamplerParameters(t){for(const[r,i]of Object.entries(t)){const s=Number(r);switch(s){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,s,i);break;default:this.device.gl.samplerParameteri(this.handle,s,i);break}}}}function V3(n,e,t){if(E5e(e))return t(n);const{nocatch:r=!0}=e,i=T1.get(n);i.push(),Yd(n,e);let s;if(r)s=t(n),i.pop();else try{s=t(n)}finally{i.pop()}return s}function E5e(n){for(const e in n)return!1;return!0}class _h extends P5{constructor(t,r){super(t,{...Pa.defaultProps,...r});z(this,"device");z(this,"gl");z(this,"handle");z(this,"texture");this.device=t,this.gl=this.device.gl,this.handle=null,this.texture=r.texture}}class e3 extends Pa{constructor(t,r){super(t,r);z(this,"device");z(this,"gl");z(this,"handle");z(this,"sampler");z(this,"view");z(this,"glTarget");z(this,"glFormat");z(this,"glType");z(this,"glInternalFormat");z(this,"compressed");z(this,"_textureUnit",0);this.device=t,this.gl=this.device.gl;const i=Cj(this.props.format);this.glTarget=C5e(this.props.dimension),this.glInternalFormat=i.internalFormat,this.glFormat=i.format,this.glType=i.type,this.compressed=i.compressed,this.handle=this.props.handle||this.gl.createTexture(),this.device._setWebGLDebugMetadata(this.handle,this,{spector:this.props}),this.gl.bindTexture(this.glTarget,this.handle);const{dimension:s,width:a,height:o,depth:l,mipLevels:c,glTarget:A,glInternalFormat:u}=this;switch(s){case"2d":case"cube":this.gl.texStorage2D(A,c,u,a,o);break;case"2d-array":case"3d":this.gl.texStorage3D(A,c,u,a,o,l);break;default:throw new Error(s)}this.gl.bindTexture(this.glTarget,null),this._initializeData(r.data),this.setSampler(this.props.sampler),this.view=new _h(this.device,{...this.props,texture:this}),Object.seal(this)}destroy(){this.handle&&(this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0)}createView(t){return new _h(this.device,{...t,texture:this})}setSampler(t={}){super.setSampler(t);const r=Ij(this.sampler.props);this._setSamplerParameters(r)}copyImageData(t){const r=this._normalizeCopyImageDataOptions(t),i=r.data,{width:s,height:a,depth:o}=this,{mipLevel:l=0,byteOffset:c=0,x:A=0,y:u=0,z:h=0}=r,{glFormat:f,glType:d,compressed:g}=this,_=cF(this.glTarget,this.dimension,h);let m;if(!this.compressed){const{bytesPerPixel:b}=this.device.getTextureFormatInfo(this.format);if(b){if(r.bytesPerRow%b!==0)throw new Error(`bytesPerRow (${r.bytesPerRow}) must be a multiple of bytesPerPixel (${b}) for ${this.format}`);m=r.bytesPerRow/b}}const y=this.compressed?{}:{...m!==void 0?{3314:m}:{},32878:r.rowsPerImage};this.gl.bindTexture(_,this.handle),V3(this.gl,y,()=>{switch(this.dimension){case"2d":case"cube":g?this.gl.compressedTexSubImage2D(_,l,A,u,s,a,f,i,c):this.gl.texSubImage2D(_,l,A,u,s,a,f,d,i,c);break;case"2d-array":case"3d":g?this.gl.compressedTexSubImage3D(_,l,A,u,h,s,a,o,f,i,c):this.gl.texSubImage3D(_,l,A,u,h,s,a,o,f,d,i,c);break;default:}}),this.gl.bindTexture(_,null)}copyExternalImage(t){const r=this._normalizeCopyExternalImageOptions(t);if(r.sourceX||r.sourceY)throw new Error("WebGL does not support sourceX/sourceY)");const{glFormat:i,glType:s}=this,{image:a,depth:o,mipLevel:l,x:c,y:A,z:u,width:h,height:f}=r,d=cF(this.glTarget,this.dimension,o),g=r.flipY?{37440:!0}:{};return this.gl.bindTexture(this.glTarget,this.handle),V3(this.gl,g,()=>{switch(this.dimension){case"2d":case"cube":this.gl.texSubImage2D(d,l,c,A,h,f,i,s,a);break;case"2d-array":case"3d":this.gl.texSubImage3D(d,l,c,A,u,h,f,o,i,s,a);break;default:}}),this.gl.bindTexture(this.glTarget,null),{width:r.width,height:r.height}}generateMipmapsWebGL(t){if(!(!(this.device.isTextureFormatRenderable(this.props.format)&&this.device.isTextureFormatFilterable(this.props.format))&&(mt.warn(`${this} is not renderable or filterable, may not be able to generate mipmaps`)(),!(t!=null&&t.force))))try{this.gl.bindTexture(this.glTarget,this.handle),this.gl.generateMipmap(this.glTarget)}catch(i){mt.warn(`Error generating mipmap for ${this}: ${i.message}`)()}finally{this.gl.bindTexture(this.glTarget,null)}}_setSamplerParameters(t){mt.log(2,`${this.id} sampler parameters`,this.device.getGLKeys(t))(),this.gl.bindTexture(this.glTarget,this.handle);for(const[r,i]of Object.entries(t)){const s=Number(r),a=i;switch(s){case 33082:case 33083:this.gl.texParameterf(this.glTarget,s,a);break;case 10240:case 10241:this.gl.texParameteri(this.glTarget,s,a);break;case 10242:case 10243:case 32882:this.gl.texParameteri(this.glTarget,s,a);break;case 34046:this.device.features.has("texture-filterable-anisotropic-webgl")&&this.gl.texParameteri(this.glTarget,s,a);break;case 34892:case 34893:this.gl.texParameteri(this.glTarget,s,a);break}}this.gl.bindTexture(this.glTarget,null)}_getActiveUnit(){return this.gl.getParameter(34016)-33984}_bind(t){const{gl:r}=this;return t!==void 0&&(this._textureUnit=t,r.activeTexture(33984+t)),r.bindTexture(this.glTarget,this.handle),t}_unbind(t){const{gl:r}=this;return t!==void 0&&(this._textureUnit=t,r.activeTexture(33984+t)),r.bindTexture(this.glTarget,null),t}}function C5e(n){switch(n){case"1d":break;case"2d":return 3553;case"3d":return 32879;case"cube":return 34067;case"2d-array":return 35866}throw new Error(n)}function cF(n,e,t){return e==="cube"?34069+t:n}function I5e(n){return F5e[n]}function eB(n){return S5e[n]}function T5e(n){return!!Tj[n]}function M5e(n){return Tj[n]}const S5e={5126:"f32",35664:"vec2<f32>",35665:"vec3<f32>",35666:"vec4<f32>",5124:"i32",35667:"vec2<i32>",35668:"vec3<i32>",35669:"vec4<i32>",5125:"u32",36294:"vec2<u32>",36295:"vec3<u32>",36296:"vec4<u32>",35670:"f32",35671:"vec2<f32>",35672:"vec3<f32>",35673:"vec4<f32>",35674:"mat2x2<f32>",35685:"mat2x3<f32>",35686:"mat2x4<f32>",35687:"mat3x2<f32>",35675:"mat3x3<f32>",35688:"mat3x4<f32>",35689:"mat4x2<f32>",35690:"mat4x3<f32>",35676:"mat4x4<f32>"},Tj={35678:{viewDimension:"2d",sampleType:"float"},35680:{viewDimension:"cube",sampleType:"float"},35679:{viewDimension:"3d",sampleType:"float"},35682:{viewDimension:"3d",sampleType:"depth"},36289:{viewDimension:"2d-array",sampleType:"float"},36292:{viewDimension:"2d-array",sampleType:"depth"},36293:{viewDimension:"cube",sampleType:"float"},36298:{viewDimension:"2d",sampleType:"sint"},36299:{viewDimension:"3d",sampleType:"sint"},36300:{viewDimension:"cube",sampleType:"sint"},36303:{viewDimension:"2d-array",sampleType:"uint"},36306:{viewDimension:"2d",sampleType:"uint"},36307:{viewDimension:"3d",sampleType:"uint"},36308:{viewDimension:"cube",sampleType:"uint"},36311:{viewDimension:"2d-array",sampleType:"uint"}},F5e={uint8:5121,sint8:5120,unorm8:5121,snorm8:5120,uint16:5123,sint16:5122,unorm16:5123,snorm16:5122,uint32:5125,sint32:5124,float16:5131,float32:5126};function U5e(n,e){const t={attributes:[],bindings:[]};t.attributes=N5e(n,e);const r=D5e(n,e);for(const o of r){const l=o.uniforms.map(c=>({name:c.name,format:c.format,byteOffset:c.byteOffset,byteStride:c.byteStride,arrayLength:c.arrayLength}));t.bindings.push({type:"uniform",name:o.name,group:0,location:o.location,visibility:(o.vertex?1:0)&(o.fragment?2:0),minBindingSize:o.byteLength,uniforms:l})}const i=P5e(n,e);let s=0;for(const o of i)if(T5e(o.type)){const{viewDimension:l,sampleType:c}=M5e(o.type);t.bindings.push({type:"texture",name:o.name,group:0,location:s,viewDimension:l,sampleType:c}),o.textureUnit=s,s+=1}i.length&&(t.uniforms=i);const a=k5e(n,e);return a!=null&&a.length&&(t.varyings=a),t}function N5e(n,e){const t=[],r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i);if(!s)throw new Error("activeInfo");const{name:a,type:o}=s,l=n.getAttribLocation(e,a);if(l>=0){const c=eB(o),A=/instance/i.test(a)?"instance":"vertex";t.push({name:a,location:l,stepMode:A,type:c})}}return t.sort((i,s)=>i.location-s.location),t}function k5e(n,e){const t=[],r=n.getProgramParameter(e,35971);for(let i=0;i<r;i++){const s=n.getTransformFeedbackVarying(e,i);if(!s)throw new Error("activeInfo");const{name:a,type:o,size:l}=s,c=eB(o),{type:A,components:u}=tQ(c);t.push({location:i,name:a,type:A,size:l*u})}return t.sort((i,s)=>i.location-s.location),t}function P5e(n,e){const t=[],r=n.getProgramParameter(e,35718);for(let i=0;i<r;i++){const s=n.getActiveUniform(e,i);if(!s)throw new Error("activeInfo");const{name:a,size:o,type:l}=s,{name:c,isArray:A}=O5e(a);let u=n.getUniformLocation(e,c);const h={location:u,name:c,size:o,type:l,isArray:A};if(t.push(h),h.size>1)for(let f=0;f<h.size;f++){const d=`${c}[${f}]`;u=n.getUniformLocation(e,d);const g={...h,name:d,location:u};t.push(g)}}return t}function D5e(n,e){const t=(s,a)=>n.getActiveUniformBlockParameter(e,s,a),r=[],i=n.getProgramParameter(e,35382);for(let s=0;s<i;s++){const a={name:n.getActiveUniformBlockName(e,s)||"",location:t(s,35391),byteLength:t(s,35392),vertex:t(s,35396),fragment:t(s,35398),uniformCount:t(s,35394),uniforms:[]},o=t(s,35395)||[],l=n.getActiveUniforms(e,o,35383),c=n.getActiveUniforms(e,o,35384),A=n.getActiveUniforms(e,o,35387),u=n.getActiveUniforms(e,o,35388);for(let h=0;h<a.uniformCount;++h){const f=n.getActiveUniform(e,o[h]);if(!f)throw new Error("activeInfo");const d=eB(l[h]);a.uniforms.push({name:f.name,format:d,type:l[h],arrayLength:c[h],byteOffset:A[h],byteStride:u[h]})}r.push(a)}return r.sort((s,a)=>s.location-a.location),r}function O5e(n){if(n[n.length-1]!=="]")return{name:n,length:1,isArray:!1};const t=/([^[]*)(\[[0-9]+\])?/.exec(n);if(!t||t.length<2)throw new Error(`Failed to parse GLSL uniform name ${n}`);return{name:t[1],length:t[2]?1:0,isArray:!!t[2]}}function z5e(n,e,t,r){const i=n;let s=r;s===!0&&(s=1),s===!1&&(s=0);const a=typeof s=="number"?[s]:s;switch(t){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if(typeof r!="number")throw new Error("samplers must be set to integers");return n.uniform1i(e,r);case 5126:return n.uniform1fv(e,a);case 35664:return n.uniform2fv(e,a);case 35665:return n.uniform3fv(e,a);case 35666:return n.uniform4fv(e,a);case 5124:return n.uniform1iv(e,a);case 35667:return n.uniform2iv(e,a);case 35668:return n.uniform3iv(e,a);case 35669:return n.uniform4iv(e,a);case 35670:return n.uniform1iv(e,a);case 35671:return n.uniform2iv(e,a);case 35672:return n.uniform3iv(e,a);case 35673:return n.uniform4iv(e,a);case 5125:return i.uniform1uiv(e,a,1);case 36294:return i.uniform2uiv(e,a,2);case 36295:return i.uniform3uiv(e,a,3);case 36296:return i.uniform4uiv(e,a,4);case 35674:return n.uniformMatrix2fv(e,!1,a);case 35675:return n.uniformMatrix3fv(e,!1,a);case 35676:return n.uniformMatrix4fv(e,!1,a);case 35685:return i.uniformMatrix2x3fv(e,!1,a);case 35686:return i.uniformMatrix2x4fv(e,!1,a);case 35687:return i.uniformMatrix3x2fv(e,!1,a);case 35688:return i.uniformMatrix3x4fv(e,!1,a);case 35689:return i.uniformMatrix4x2fv(e,!1,a);case 35690:return i.uniformMatrix4x3fv(e,!1,a)}throw new Error("Illegal uniform")}function H5e(n){switch(n){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"triangle-list":return 4;case"triangle-strip":return 5;default:throw new Error(n)}}function Q5e(n){switch(n){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 1;case"triangle-list":return 4;case"triangle-strip":return 4;default:throw new Error(n)}}const AF=4;class j5e extends C1{constructor(t,r){super(t,r);z(this,"device");z(this,"handle");z(this,"vs");z(this,"fs");z(this,"introspectedLayout");z(this,"uniforms",{});z(this,"bindings",{});z(this,"varyings",null);z(this,"_uniformCount",0);z(this,"_uniformSetters",{});this.device=t,this.handle=this.props.handle||this.device.gl.createProgram(),this.device._setWebGLDebugMetadata(this.handle,this,{spector:{id:this.props.id}}),this.vs=r.vs,this.fs=r.fs;const{varyings:i,bufferMode:s=35981}=r;i&&i.length>0&&(this.varyings=i,this.device.gl.transformFeedbackVaryings(this.handle,i,s)),this._linkShaders(),mt.time(3,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.introspectedLayout=U5e(this.device.gl,this.handle),mt.timeEnd(3,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.shaderLayout=r.shaderLayout?Y5e(this.introspectedLayout,r.shaderLayout):this.introspectedLayout}get[Symbol.toStringTag](){return"WEBGLRenderPipeline"}destroy(){this.handle&&(this.device.gl.useProgram(null),this.device.gl.deleteProgram(this.handle),this.destroyed=!0,this.handle.destroyed=!0,this.handle=null)}setBindings(t,r){for(const[i,s]of Object.entries(t)){const a=this.shaderLayout.bindings.find(o=>o.name===i)||this.shaderLayout.bindings.find(o=>o.name===`${i}Uniforms`);if(!a){const o=this.shaderLayout.bindings.map(l=>`"${l.name}"`).join(", ");r!=null&&r.disableWarnings||mt.warn(`No binding "${i}" in render pipeline "${this.id}", expected one of ${o}`,s)();continue}switch(s||mt.warn(`Unsetting binding "${i}" in render pipeline "${this.id}"`)(),a.type){case"uniform":if(!(s instanceof Zg)&&!(s.buffer instanceof Zg))throw new Error("buffer value");break;case"texture":if(!(s instanceof _h||s instanceof e3||s instanceof Jg))throw new Error(`${this} Bad texture binding for ${i}`);break;case"sampler":mt.warn(`Ignoring sampler ${i}`)();break;default:throw new Error(a.type)}this.bindings[i]=s}}draw(t){var _;const{renderPass:r,parameters:i=this.props.parameters,topology:s=this.props.topology,vertexArray:a,vertexCount:o,instanceCount:l,isInstanced:c=!1,firstVertex:A=0,transformFeedback:u}=t,h=H5e(s),f=!!a.indexBuffer,d=(_=a.indexBuffer)==null?void 0:_.glIndexType;if(this.linkStatus!=="success")return mt.info(2,`RenderPipeline:${this.id}.draw() aborted - waiting for shader linking`)(),!1;if(!this._areTexturesRenderable())return mt.info(2,`RenderPipeline:${this.id}.draw() aborted - textures not yet loaded`)(),!1;this.device.gl.useProgram(this.handle),a.bindBeforeRender(r),u&&u.begin(this.props.topology),this._applyBindings(),this._applyUniforms();const g=r;return b5e(this.device,i,g.glParameters,()=>{f&&c?this.device.gl.drawElementsInstanced(h,o||0,d,A,l||0):f?this.device.gl.drawElements(h,o||0,d,A):c?this.device.gl.drawArraysInstanced(h,A,o||0,l||0):this.device.gl.drawArrays(h,A,o||0),u&&u.end()}),a.unbindAfterRender(r),!0}async _linkShaders(){const{gl:t}=this.device;if(t.attachShader(this.handle,this.vs.handle),t.attachShader(this.handle,this.fs.handle),mt.time(AF,`linkProgram for ${this.id}`)(),t.linkProgram(this.handle),mt.timeEnd(AF,`linkProgram for ${this.id}`)(),mt.level,!this.device.features.has("compilation-status-async-webgl")){const i=this._getLinkStatus();this._reportLinkStatus(i);return}mt.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),mt.info(2,`RenderPipeline ${this.id} - async linking complete: ${this.linkStatus}`)();const r=this._getLinkStatus();this._reportLinkStatus(r)}async _reportLinkStatus(t){var r;switch(t){case"success":return;default:const i=t==="link-error"?"Link error":"Validation error";switch(this.vs.compilationStatus){case"error":throw this.vs.debugShader(),new Error(`${this} ${i} during compilation of ${this.vs}`);case"pending":await this.vs.asyncCompilationStatus,this.vs.debugShader();break}switch((r=this.fs)==null?void 0:r.compilationStatus){case"error":throw this.fs.debugShader(),new Error(`${this} ${i} during compilation of ${this.fs}`);case"pending":await this.fs.asyncCompilationStatus,this.fs.debugShader();break}const s=this.device.gl.getProgramInfoLog(this.handle);this.device.reportError(new Error(`${i} during ${t}: ${s}`),this)(),this.device.debug()}}_getLinkStatus(){const{gl:t}=this.device;return t.getProgramParameter(this.handle,35714)?(t.validateProgram(this.handle),t.getProgramParameter(this.handle,35715)?(this.linkStatus="success","success"):(this.linkStatus="error","validation-error")):(this.linkStatus="error","link-error")}async _waitForLinkComplete(){const t=async s=>await new Promise(a=>setTimeout(a,s));if(!this.device.features.has("compilation-status-async-webgl")){await t(10);return}const{gl:i}=this.device;for(;;){if(i.getProgramParameter(this.handle,37297))return;await t(10)}}_areTexturesRenderable(){let t=!0;for(const r of this.shaderLayout.bindings)!this.bindings[r.name]&&!this.bindings[r.name.replace(/Uniforms$/,"")]&&(mt.warn(`Binding ${r.name} not found in ${this.id}`)(),t=!1);return t}_applyBindings(){if(this.linkStatus!=="success")return;const{gl:t}=this.device;t.useProgram(this.handle);let r=0,i=0;for(const s of this.shaderLayout.bindings){const a=this.bindings[s.name]||this.bindings[s.name.replace(/Uniforms$/,"")];if(!a)throw new Error(`No value for binding ${s.name} in ${this.id}`);switch(s.type){case"uniform":const{name:o}=s,l=t.getUniformBlockIndex(this.handle,o);if(l===4294967295)throw new Error(`Invalid uniform block name ${o}`);t.uniformBlockBinding(this.handle,i,l),a instanceof Zg?t.bindBufferBase(35345,i,a.handle):t.bindBufferRange(35345,i,a.buffer.handle,a.offset||0,a.size||a.buffer.byteLength-a.offset),i+=1;break;case"texture":if(!(a instanceof _h||a instanceof e3||a instanceof Jg))throw new Error("texture");let c;if(a instanceof _h)c=a.texture;else if(a instanceof e3)c=a;else if(a instanceof Jg&&a.colorAttachments[0]instanceof _h)mt.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),c=a.colorAttachments[0].texture;else throw new Error("No texture");t.activeTexture(33984+r),t.bindTexture(c.glTarget,c.handle),r+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw new Error(`binding type '${s.type}' not supported in WebGL`)}}}_applyUniforms(){for(const t of this.shaderLayout.uniforms||[]){const{name:r,location:i,type:s,textureUnit:a}=t,o=this.uniforms[r]??a;o!==void 0&&z5e(this.device.gl,i,s,o)}}}function Y5e(n,e){const t={...n,attributes:n.attributes.map(r=>({...r}))};for(const r of(e==null?void 0:e.attributes)||[]){const i=t.attributes.find(s=>s.name===r.name);i?(i.type=r.type||i.type,i.stepMode=r.stepMode||i.stepMode):mt.warn(`shader layout attribute ${r.name} not present in shader`)}return t}class G5e extends y9{constructor(t){super(t,{});z(this,"device");z(this,"handle",null);z(this,"commands",[]);this.device=t}_executeCommands(t=this.commands){for(const r of t)switch(r.name){case"copy-buffer-to-buffer":V5e(this.device,r.options);break;case"copy-buffer-to-texture":K5e(this.device,r.options);break;case"copy-texture-to-buffer":$5e(this.device,r.options);break;case"copy-texture-to-texture":W5e(this.device,r.options);break;default:throw new Error(r.name)}}}function V5e(n,e){const t=e.sourceBuffer,r=e.destinationBuffer;n.gl.bindBuffer(36662,t.handle),n.gl.bindBuffer(36663,r.handle),n.gl.copyBufferSubData(36662,36663,e.sourceOffset??0,e.destinationOffset??0,e.size),n.gl.bindBuffer(36662,null),n.gl.bindBuffer(36663,null)}function K5e(n,e){throw new Error("Not implemented")}function $5e(n,e){const{sourceTexture:t,mipLevel:r=0,aspect:i="all",width:s=e.sourceTexture.width,height:a=e.sourceTexture.height,depthOrArrayLayers:o=0,origin:l=[0,0],destinationBuffer:c,byteOffset:A=0,bytesPerRow:u,rowsPerImage:h}=e;if(i!=="all")throw new Error("aspect not supported in WebGL");if(r!==0||o!==0||u||h)throw new Error("not implemented");const{framebuffer:f,destroyFramebuffer:d}=Mj(t);let g;try{const _=c,m=s||f.width,y=a||f.height,b=Cj(f.colorAttachments[0].texture.props.format),v=b.format,B=b.type;n.gl.bindBuffer(35051,_.handle),g=n.gl.bindFramebuffer(36160,f.handle),n.gl.readPixels(l[0],l[1],m,y,v,B,A)}finally{n.gl.bindBuffer(35051,null),g!==void 0&&n.gl.bindFramebuffer(36160,g),d&&f.destroy()}}function W5e(n,e){const{sourceTexture:t,destinationMipLevel:r=0,origin:i=[0,0],destinationOrigin:s=[0,0],destinationTexture:a}=e;let{width:o=e.destinationTexture.width,height:l=e.destinationTexture.height}=e;const{framebuffer:c,destroyFramebuffer:A}=Mj(t),[u,h]=i,[f,d,g]=s,_=n.gl.bindFramebuffer(36160,c.handle);let m,y;if(a instanceof e3)m=a,o=Number.isFinite(o)?o:m.width,l=Number.isFinite(l)?l:m.height,m._bind(0),y=m.glTarget;else throw new Error("invalid destination");switch(y){case 3553:case 34067:n.gl.copyTexSubImage2D(y,r,f,d,u,h,o,l);break;case 35866:case 32879:n.gl.copyTexSubImage3D(y,r,f,d,g,u,h,o,l);break}m&&m._unbind(),n.gl.bindFramebuffer(36160,_),A&&c.destroy()}function Mj(n){if(n instanceof Pa){const{width:e,height:t,id:r}=n;return{framebuffer:n.device.createFramebuffer({id:`framebuffer-for-${r}`,width:e,height:t,colorAttachments:[n]}),destroyFramebuffer:!0}}return{framebuffer:n,destroyFramebuffer:!1}}const q5e=[1,2,4,8];class X5e extends _9{constructor(t,r){var a;super(t,r);z(this,"device");z(this,"handle",null);z(this,"glParameters",{});this.device=t;let i;if(!((a=r==null?void 0:r.parameters)!=null&&a.viewport))if(r!=null&&r.framebuffer){const{width:o,height:l}=r.framebuffer;i=[0,0,o,l]}else{const[o,l]=t.getDefaultCanvasContext().getDrawingBufferSize();i=[0,0,o,l]}this.device.pushState(),this.setParameters({viewport:i,...this.props.parameters});const s=this.props.framebuffer;if(this.props.framebuffer&&(s!=null&&s.handle)){const o=this.props.framebuffer.colorAttachments.map((l,c)=>36064+c);this.device.gl.drawBuffers(o)}else this.device.gl.drawBuffers([1029]);this.clear()}end(){this.device.popState()}pushDebugGroup(t){}popDebugGroup(){}insertDebugMarker(t){}setParameters(t={}){const r={...this.glParameters};r.framebuffer=this.props.framebuffer||null,this.props.depthReadOnly&&(r.depthMask=!this.props.depthReadOnly),r.stencilMask=this.props.stencilReadOnly?0:1,r[35977]=this.props.discard,t.viewport&&(t.viewport.length>=6?(r.viewport=t.viewport.slice(0,4),r.depthRange=[t.viewport[4],t.viewport[5]]):r.viewport=t.viewport),t.scissorRect&&(r.scissorTest=!0,r.scissor=t.scissorRect),t.blendConstant&&(r.blendColor=t.blendConstant),t.stencilReference&&(console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),r[2967]=t.stencilReference),"colorMask"in t&&(r.colorMask=q5e.map(i=>!!(i&t.colorMask))),this.glParameters=r,Yd(this.device.gl,r)}beginOcclusionQuery(t){const r=this.props.occlusionQuerySet;r==null||r.beginOcclusionQuery()}endOcclusionQuery(){const t=this.props.occlusionQuerySet;t==null||t.endOcclusionQuery()}clear(){const t={...this.glParameters};let r=0;this.props.clearColors&&this.props.clearColors.forEach((i,s)=>{i&&this.clearColorBuffer(s,i)}),this.props.clearColor!==!1&&this.props.clearColors===void 0&&(r|=16384,t.clearColor=this.props.clearColor),this.props.clearDepth!==!1&&(r|=256,t.clearDepth=this.props.clearDepth),this.props.clearStencil!==!1&&(r|=1024,t.clearStencil=this.props.clearStencil),r!==0&&V3(this.device.gl,t,()=>{this.device.gl.clear(r)})}clearColorBuffer(t=0,r=[0,0,0,0]){V3(this.device.gl,{framebuffer:this.props.framebuffer},()=>{switch(r.constructor){case Int8Array:case Int16Array:case Int32Array:this.device.gl.clearBufferiv(6144,t,r);break;case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:this.device.gl.clearBufferuiv(6144,t,r);break;case Float32Array:this.device.gl.clearBufferfv(6144,t,r);break;default:throw new Error("clearColorBuffer: color must be typed array")}})}}class uF extends m9{constructor(t,r){super(t,r);z(this,"device");z(this,"handle",null);z(this,"commandBuffer");this.device=t,this.commandBuffer=new G5e(t)}destroy(){}finish(){return this.commandBuffer}beginRenderPass(t){return new X5e(this.device,t)}beginComputePass(t){throw new Error("ComputePass not supported in WebGL")}copyBufferToBuffer(t){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:t})}copyBufferToTexture(t){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:t})}copyTextureToBuffer(t){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:t})}copyTextureToTexture(t){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:t})}pushDebugGroup(t){}popDebugGroup(){}insertDebugMarker(t){}resolveQuerySet(t,r,i){}}function J5e(n){const{target:e,source:t,start:r=0,count:i=1}=n,s=t.length,a=i*s;let o=0;for(let l=r;o<s;o++)e[l++]=t[o];for(;o<a;)o<a-o?(e.copyWithin(r+o,r,r+o),o*=2):(e.copyWithin(r+o,r,r+a-o),o=a);return n.target}class tB extends b9{constructor(t,r){super(t,r);z(this,"device");z(this,"handle");z(this,"buffer",null);z(this,"bufferValue",null);this.device=t,this.handle=this.device.gl.createVertexArray()}get[Symbol.toStringTag](){return"VertexArray"}static isConstantAttributeZeroSupported(t){return s1e()==="Chrome"}destroy(){var t;super.destroy(),this.buffer&&((t=this.buffer)==null||t.destroy()),this.handle&&(this.device.gl.deleteVertexArray(this.handle),this.handle=void 0)}setIndexBuffer(t){const r=t;if(r&&r.glTarget!==34963)throw new Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,r?r.handle:null),this.indexBuffer=r,this.device.gl.bindVertexArray(null)}setBuffer(t,r){const i=r;if(i.glTarget===34963)throw new Error("Use .setIndexBuffer()");const{size:s,type:a,stride:o,offset:l,normalized:c,integer:A,divisor:u}=this._getAccessor(t);this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,i.handle),A?this.device.gl.vertexAttribIPointer(t,s,a,o,l):this.device.gl.vertexAttribPointer(t,s,a,c,o,l),this.device.gl.bindBuffer(34962,null),this.device.gl.enableVertexAttribArray(t),this.device.gl.vertexAttribDivisor(t,u||0),this.attributes[t]=i,this.device.gl.bindVertexArray(null)}setConstantWebGL(t,r){this._enable(t,!1),this.attributes[t]=r}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let t=0;t<this.maxVertexAttributes;++t){const r=this.attributes[t];ArrayBuffer.isView(r)&&this.device.setConstantAttributeWebGL(t,r)}}_getAccessor(t){const r=this.attributeInfos[t];if(!r)throw new Error(`Unknown attribute location ${t}`);const i=Ej(r.bufferDataType);return{size:r.bufferComponents,type:i,stride:r.byteStride,offset:r.byteOffset,normalized:r.normalized,integer:r.integer,divisor:r.stepMode==="instance"?1:0}}_enable(t,r=!0){const s=tB.isConstantAttributeZeroSupported(this.device)||t!==0;(r||s)&&(t=Number(t),this.device.gl.bindVertexArray(this.handle),r?this.device.gl.enableVertexAttribArray(t):this.device.gl.disableVertexAttribArray(t),this.device.gl.bindVertexArray(null))}getConstantBuffer(t,r){const i=Z5e(r),s=i.byteLength*t,a=i.length*t;if(this.buffer&&s!==this.buffer.byteLength)throw new Error(`Buffer size is immutable, byte length ${s} !== ${this.buffer.byteLength}.`);let o=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:s}),o||(o=!eye(i,this.bufferValue)),o){const l=b2e(r.constructor,a);J5e({target:l,source:i,start:0,count:a}),this.buffer.write(l),this.bufferValue=r}return this.buffer}}function Z5e(n){return Array.isArray(n)?new Float32Array(n):n}function eye(n,e){if(!n||!e||n.length!==e.length||n.constructor!==e.constructor)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0}class tye extends v9{constructor(t,r){super(t,r);z(this,"device");z(this,"gl");z(this,"handle");z(this,"layout");z(this,"buffers",{});z(this,"unusedBuffers",{});z(this,"bindOnUse",!0);z(this,"_bound",!1);this.device=t,this.gl=t.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,r.buffers&&this.setBuffers(r.buffers),Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin(t="point-list"){this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse&&this._bindBuffers(),this.gl.beginTransformFeedback(Q5e(t))}end(){this.gl.endTransformFeedback(),this.bindOnUse&&this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null)}setBuffers(t){this.buffers={},this.unusedBuffers={},this.bind(()=>{for(const r in t)this.setBuffer(r,t[r])})}setBuffer(t,r){const i=this._getVaryingIndex(t),{buffer:s,byteLength:a,byteOffset:o}=this._getBufferRange(r);if(i<0){this.unusedBuffers[t]=s,mt.warn(`${this.id} unusedBuffers varying buffer ${t}`)();return}this.buffers[i]={buffer:s,byteLength:a,byteOffset:o},this.bindOnUse||this._bindBuffer(i,s,o,a)}getBuffer(t){if(fF(t))return this.buffers[t]||null;const r=this._getVaryingIndex(t);return r>=0?this.buffers[r]:null}bind(t=this.handle){if(typeof t!="function")return this.gl.bindTransformFeedback(36386,t),this;let r;return this._bound?r=t():(this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,r=t(),this._bound=!1,this.gl.bindTransformFeedback(36386,null)),r}unbind(){this.bind(null)}_getBufferRange(t){if(t instanceof Zg)return{buffer:t,byteOffset:0,byteLength:t.byteLength};const{buffer:r,byteOffset:i=0,byteLength:s=t.buffer.byteLength}=t;return{buffer:r,byteOffset:i,byteLength:s}}_getVaryingIndex(t){if(fF(t))return Number(t);for(const r of this.layout.varyings||[])if(t===r.name)return r.location;return-1}_bindBuffers(){for(const t in this.buffers){const{buffer:r,byteLength:i,byteOffset:s}=this._getBufferRange(this.buffers[t]);this._bindBuffer(Number(t),r,s,i)}}_unbindBuffers(){for(const t in this.buffers)this.gl.bindBufferBase(35982,Number(t),null)}_bindBuffer(t,r,i=0,s){const a=r&&r.handle;!a||s===void 0?this.gl.bindBufferBase(35982,t,a):this.gl.bindBufferRange(35982,t,a,i,s)}}function fF(n){return typeof n=="number"?Number.isInteger(n):/^\d+$/.test(n)}class nye extends w9{constructor(t,r){super(t,r);z(this,"device");z(this,"handle");z(this,"target",null);z(this,"_queryPending",!1);z(this,"_pollingPromise",null);if(this.device=t,r.count>1)throw new Error("WebGL QuerySet can only have one value");const i=this.device.gl.createQuery();if(!i)throw new Error("WebGL query not supported");this.handle=i,Object.seal(this)}get[Symbol.toStringTag](){return"Query"}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery(t){return this._begin(t!=null&&t.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin(t){this._queryPending||(this.target=t,this.device.gl.beginQuery(this.target,this.handle))}_end(){this._queryPending||this.target&&(this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0)}isResultAvailable(){if(!this._queryPending)return!1;const t=this.device.gl.getQueryParameter(this.handle,34919);return t&&(this._queryPending=!1),t}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery(t=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let r=0;return this._pollingPromise=new Promise((i,s)=>{const a=()=>{this.isResultAvailable()?(i(this.getResult()),this._pollingPromise=null):r++>t?(s("Timed out"),this._pollingPromise=null):requestAnimationFrame(a)};requestAnimationFrame(a)}),this._pollingPromise}}function Sj(n){switch(n){case 6406:case 33326:case 6403:case 36244:return 1;case 33339:case 33340:case 33328:case 33320:case 33319:return 2;case 6407:case 36248:case 34837:return 3;case 6408:case 36249:case 34836:return 4;default:return 0}}function rye(n){switch(n){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return 0}}function iye(n){return sye[n]}const sye={5124:"sint32",5125:"uint32",5122:"sint16",5123:"uint16",5120:"sint8",5121:"uint8",5126:"float32",5131:"float16",33635:"uint16",32819:"uint16",32820:"uint16",33640:"uint32",35899:"uint32",35902:"uint32",34042:"uint32",36269:"uint32"};function aye(n,e){var y;const{sourceX:t=0,sourceY:r=0,sourceAttachment:i=0}=e||{};let{target:s=null,sourceWidth:a,sourceHeight:o,sourceDepth:l,sourceFormat:c,sourceType:A}=e||{};const{framebuffer:u,deleteFramebuffer:h}=Fj(n),{gl:f,handle:d}=u;a||(a=u.width),o||(o=u.height);const g=(y=u.colorAttachments[i])==null?void 0:y.texture;if(!g)throw new Error(`Invalid framebuffer attachment ${i}`);l=(g==null?void 0:g.depth)||1,c||(c=(g==null?void 0:g.glFormat)||6408),A||(A=(g==null?void 0:g.glType)||5121),s=cye(s,A,c,a,o);const _=_R(s);A=A||I5e(_);const m=f.bindFramebuffer(36160,d);return f.readBuffer(36064+i),f.readPixels(t,r,a,o,c,A,s),f.readBuffer(36064),f.bindFramebuffer(36160,m||null),h&&u.destroy(),s}function oye(n,e){const{target:t,sourceX:r=0,sourceY:i=0,sourceFormat:s=6408,targetByteOffset:a=0}=e||{};let{sourceWidth:o,sourceHeight:l,sourceType:c}=e||{};const{framebuffer:A,deleteFramebuffer:u}=Fj(n);o=o||A.width,l=l||A.height;const h=A;c=c||5121;let f=t;if(!f){const g=Sj(s),_=rye(c),m=a+o*l*g*_;f=h.device.createBuffer({byteLength:m})}const d=n.device.createCommandEncoder();return d.copyTextureToBuffer({sourceTexture:n,width:o,height:l,origin:[r,i],destinationBuffer:f,byteOffset:a}),d.destroy(),u&&A.destroy(),f}function Fj(n){return n instanceof O5?{framebuffer:n,deleteFramebuffer:!1}:{framebuffer:lye(n),deleteFramebuffer:!0}}function lye(n,e){const{device:t,width:r,height:i,id:s}=n;return t.createFramebuffer({...e,id:`framebuffer-for-${s}`,width:r,height:i,colorAttachments:[n]})}function cye(n,e,t,r,i,s){if(n)return n;e||(e=5121);const a=iye(e),o=mR(a),l=Sj(t);return new o(r*i*l)}class K9 extends Q1{constructor(t){var u,h;super({...t,id:t.id||g5e("webgl-device")});z(this,"type","webgl");z(this,"handle");z(this,"features");z(this,"limits");z(this,"info");z(this,"canvasContext");z(this,"preferredColorFormat","rgba8unorm");z(this,"preferredDepthFormat","depth24plus");z(this,"commandEncoder");z(this,"lost");z(this,"_resolveContextLost");z(this,"gl");z(this,"_constants");z(this,"_extensions",{});z(this,"_polyfilled",!1);z(this,"spectorJS");const r=Q1._getCanvasContextProps(t);if(!r)throw new Error("WebGLDevice requires props.createCanvasContext to be set");let i=(h=(u=r.canvas)==null?void 0:u.gl)==null?void 0:h.device;if(i)throw new Error(`WebGL context already attached to device ${i.id}`);this.canvasContext=new d5e(this,r),this.lost=new Promise(f=>{this._resolveContextLost=f});const s={...t.webgl};r.alphaMode==="premultiplied"&&(s.premultipliedAlpha=!0),t.powerPreference!==void 0&&(s.powerPreference=t.powerPreference);const o=this.props._handle||$me(this.canvasContext.canvas,{onContextLost:f=>{var d;return(d=this._resolveContextLost)==null?void 0:d.call(this,{reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."})},onContextRestored:f=>console.log("WebGL context restored")},s);if(!o)throw new Error("WebGL context creation failed");if(i=o.device,i){if(t._reuseDevices)return mt.log(1,`Not creating a new Device, instead returning a reference to Device ${i.id} already attached to WebGL context`,i)(),i._reused=!0,i;throw new Error(`WebGL context already attached to device ${i.id}`)}this.handle=o,this.gl=o,this.spectorJS=Tme({...this.props,gl:this.handle}),this.gl.device=this,this.gl._version=2,this.info=Wme(this.gl,this._extensions),this.limits=new u5e(this.gl),this.features=new A5e(this.gl,this._extensions,this.props._disabledFeatures),this.props._initializeFeatures&&this.features.initializeFeatures(),new T1(this.gl,{log:(...f)=>mt.log(1,...f)()}).trackState(this.gl,{copyState:!1});const c=t.debugWebGL||t.debug,A=t.debugWebGL;c&&(this.gl=Fme(this.gl,{debugWebGL:c,traceWebGL:A}),mt.warn("WebGL debug mode activated. Performance reduced.")(),t.debugWebGL&&(mt.level=Math.max(mt.level,1))),this.commandEncoder=new uF(this,{id:`${this}-command-encoder`})}get[Symbol.toStringTag](){return"WebGLDevice"}toString(){return`${this[Symbol.toStringTag]}(${this.id})`}isVertexFormatSupported(t){switch(t){case"unorm8x4-bgra":return!1;default:return!0}}destroy(){!this.props._reuseDevices&&!this._reused&&delete this.gl.device}get isLost(){return this.gl.isContextLost()}getTextureByteAlignment(){return 4}createCanvasContext(t){throw new Error("WebGL only supports a single canvas")}createBuffer(t){const r=this._normalizeBufferProps(t);return new Zg(this,r)}createTexture(t){return new e3(this,t)}createExternalTexture(t){throw new Error("createExternalTexture() not implemented")}createSampler(t){return new B5e(this,t)}createShader(t){return new y5e(this,t)}createFramebuffer(t){return new Jg(this,t)}createVertexArray(t){return new tB(this,t)}createTransformFeedback(t){return new tye(this,t)}createQuerySet(t){return new nye(this,t)}createRenderPipeline(t){return new j5e(this,t)}createComputePipeline(t){throw new Error("ComputePipeline not supported in WebGL")}createCommandEncoder(t={}){return new uF(this,t)}submit(t){t||(t=this.commandEncoder.finish(),this.commandEncoder.destroy(),this.commandEncoder=this.createCommandEncoder({id:`${this.id}-default-encoder`})),t._executeCommands()}readPixelsToArrayWebGL(t,r){return aye(t,r)}readPixelsToBufferWebGL(t,r){return oye(t,r)}setParametersWebGL(t){Yd(this.gl,t)}getParametersWebGL(t){return Rj(this.gl,t)}withParametersWebGL(t,r){return V3(this.gl,t,r)}resetWebGL(){mt.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),jme(this.gl)}_getDeviceSpecificTextureFormatCapabilities(t){return a5e(this.gl,t,this._extensions)}loseDevice(){var s;let t=!1;const i=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;return i&&(t=!0,i.loseContext()),(s=this._resolveContextLost)==null||s.call(this,{reason:"destroyed",message:"Application triggered context loss"}),t}pushState(){T1.get(this.gl).push()}popState(){T1.get(this.gl).pop()}getGLKey(t,r){const i=Number(t);for(const s in this.gl)if(this.gl[s]===i)return`GL.${s}`;return r!=null&&r.emptyIfUnknown?"":String(t)}getGLKeys(t){const r={emptyIfUnknown:!0};return Object.entries(t).reduce((i,[s,a])=>(i[`${s}:${this.getGLKey(s,r)}`]=`${a}:${this.getGLKey(a,r)}`,i),{})}setConstantAttributeWebGL(t,r){const i=this.limits.maxVertexAttributes;this._constants=this._constants||new Array(i).fill(null);const s=this._constants[t];switch(s&&hye(s,r)&&mt.info(1,`setConstantAttributeWebGL(${t}) could have been skipped, value unchanged`)(),this._constants[t]=r,r.constructor){case Float32Array:Aye(this,t,r);break;case Int32Array:uye(this,t,r);break;case Uint32Array:fye(this,t,r);break;default:throw new Error("constant")}}getExtension(t){return md(this.gl,t,this._extensions),this._extensions}_setWebGLDebugMetadata(t,r,i){t.luma=r;const s={props:i.spector,id:i.spector.id};t.__SPECTOR_Metadata=s}}function Aye(n,e,t){switch(t.length){case 1:n.gl.vertexAttrib1fv(e,t);break;case 2:n.gl.vertexAttrib2fv(e,t);break;case 3:n.gl.vertexAttrib3fv(e,t);break;case 4:n.gl.vertexAttrib4fv(e,t);break}}function uye(n,e,t){n.gl.vertexAttribI4iv(e,t)}function fye(n,e,t){n.gl.vertexAttribI4uiv(e,t)}function hye(n,e){if(!n||!e||n.length!==e.length||n.constructor!==e.constructor)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0}const hF=Object.freeze(Object.defineProperty({__proto__:null,WebGLDevice:K9},Symbol.toStringTag,{value:"Module"}));function _A(){}const dye=({isDragging:n})=>n?"grabbing":"grab",Uj={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{},gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:_A,onWebGLInitialized:_A,onResize:_A,onViewStateChange:_A,onInteractionStateChange:_A,onBeforeRender:_A,onAfterRender:_A,onLoad:_A,onError:n=>or.error(n.message,n.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:dye,getTooltip:null,debug:!1,drawPickingColors:!1};class K3{constructor(e){var r;this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new Od({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=i=>{const{_pickRequest:s}=this;if(i.type==="pointerleave")s.x=-1,s.y=-1,s.radius=0;else{if(i.leftButton||i.rightButton)return;{const a=i.offsetCenter;if(!a)return;s.x=a.x,s.y=a.y,s.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:s.x,y:s.y}),s.event=i},this._onEvent=i=>{const s=F9[i.type],a=i.offsetCenter;if(!s||!a||!this.layerManager)return;const o=this.layerManager.getLayers(),l=this.deckPicker.getLastPickedObject({x:a.x,y:a.y,layers:o,viewports:this.getViewports(a)},this._lastPointerDownInfo),{layer:c}=l,A=c&&(c[s]||c.props[s]),u=this.props[s];let h=!1;A&&(h=A.call(c,l,i)),h||(u==null||u(l,i),this.widgetManager.onEvent(l,i))},this._onPointerDown=i=>{var o;if(((o=this.device)==null?void 0:o.type)==="webgpu")return;const s=i.offsetCenter,a=this._pick("pickObject","pickObject Time",{x:s.x,y:s.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=a.result[0]||a.emptyInfo},this.props={...Uj,...e},e=this.props,e.viewState&&e.initialViewState&&or.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),this.viewState=this.props.initialViewState,e.device&&(this.device=e.device);let t=this.device;if(!t&&e.gl){e.gl instanceof WebGLRenderingContext&&or.error("WebGL1 context not supported.")();const i=(r=this.props.deviceProps)==null?void 0:r.onResize;t=m8.attach(e.gl,{...this.props.deviceProps,onResize:(s,a)=>{const{width:o,height:l}=s.canvas;s.drawingBufferWidth=o,s.drawingBufferHeight=l,this._needsRedraw="Canvas resized",i==null||i(s,a)}})}t||(t=this._createDevice(e)),this.animationLoop=this._createAnimationLoop(t,e),this.setProps(e),e._typedArrayManagerProps&&Y3.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,t,r,i,s,a,o,l,c,A;(e=this.animationLoop)==null||e.stop(),(t=this.animationLoop)==null||t.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,(r=this.layerManager)==null||r.finalize(),this.layerManager=null,(i=this.viewManager)==null||i.finalize(),this.viewManager=null,(s=this.effectManager)==null||s.finalize(),this.effectManager=null,(a=this.deckRenderer)==null||a.finalize(),this.deckRenderer=null,(o=this.deckPicker)==null||o.finalize(),this.deckPicker=null,(l=this.eventManager)==null||l.destroy(),this.eventManager=null,(c=this.widgetManager)==null||c.finalize(),this.widgetManager=null,!this.props.canvas&&!this.props.device&&!this.props.gl&&this.canvas&&((A=this.canvas.parentElement)==null||A.removeChild(this.canvas),this.canvas=null)}setProps(e){var r,i,s,a,o,l,c;this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&or.removed("onLayerHover","onHover")(),"onLayerClick"in e&&or.removed("onLayerClick","onClick")(),e.initialViewState&&!$o(this.props.initialViewState,e.initialViewState,3)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),e.device&&e.device.id!==((r=this.device)==null?void 0:r.id)&&((i=this.animationLoop)==null||i.stop(),this.canvas!==((s=e.device.canvasContext)==null?void 0:s.canvas)&&((a=this.canvas)==null||a.remove(),(o=this.eventManager)==null||o.destroy(),this.canvas=null),or.log(`recreating animation loop for new device! id=${e.device.id}`)(),this.animationLoop=this._createAnimationLoop(e.device,e),this.animationLoop.start()),(l=this.animationLoop)==null||l.setProps(t),e.useDevicePixels!==void 0&&((c=this.device)!=null&&c.canvasContext)&&this.device.canvasContext.setProps({useDevicePixels:e.useDevicePixels}),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t),this.widgetManager.setProps(t)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const r=this.viewManager.needsRedraw(e),i=this.layerManager.needsRedraw(e),s=this.effectManager.needsRedraw(e),a=this.deckRenderer.needsRedraw(e);return t=t||r||i||s||a,t}redraw(e){if(!this.layerManager)return;let t=this.needsRedraw({clearRedrawFlags:!0});t=e||t,t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}get isInitialized(){return this.viewManager!==null}getViews(){return ps(this.viewManager),this.viewManager.views}getViewports(e){return ps(this.viewManager),this.viewManager.getViewports(e)}getCanvas(){return this.canvas}pickObject(e){const t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,t=!1){for(const r in e)this.layerManager.resourceManager.add({resourceId:r,data:e[r],forceUpdate:t})}_removeResources(e){for(const t of e)this.layerManager.resourceManager.remove(t)}_addDefaultEffect(e){this.effectManager.addDefaultEffect(e)}_addDefaultShaderModule(e){this.layerManager.addDefaultShaderModule(e)}_removeDefaultShaderModule(e){var t;(t=this.layerManager)==null||t.removeDefaultShaderModule(e)}_pick(e,t,r){ps(this.deckPicker);const{stats:i}=this;i.get("Pick Count").incrementCount(),i.get(t).timeStart();const s=this.deckPicker[e]({layers:this.layerManager.getLayers(r),views:this.viewManager.getViews(),viewports:this.getViewports(r),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...r});return i.get(t).timeEnd(),s}_createCanvas(e){let t=e.canvas;return typeof t=="string"&&(t=document.getElementById(t),ps(t)),t||(t=document.createElement("canvas"),t.id=e.id||"deckgl-overlay",e.width&&typeof e.width=="number"&&(t.width=e.width),e.height&&typeof e.height=="number"&&(t.height=e.height),(e.parent||document.body).appendChild(t)),Object.assign(t.style,e.style),t}_setCanvasSize(e){var i;if(!this.canvas)return;const{width:t,height:r}=e;if(t||t===0){const s=Number.isFinite(t)?`${t}px`:t;this.canvas.style.width=s}if(r||r===0){const s=Number.isFinite(r)?`${r}px`:r;this.canvas.style.position=((i=e.style)==null?void 0:i.position)||"absolute",this.canvas.style.height=s}}_updateCanvasSize(){var i,s;const{canvas:e}=this;if(!e)return;const t=e.clientWidth??e.width,r=e.clientHeight??e.height;(t!==this.width||r!==this.height)&&(this.width=t,this.height=r,(i=this.viewManager)==null||i.setProps({width:t,height:r}),(s=this.layerManager)==null||s.activateViewport(this.getViewports()[0]),this.props.onResize({width:t,height:r}))}_createAnimationLoop(e,t){const{gl:r,onError:i}=t;return new P9({device:e,autoResizeDrawingBuffer:!r,autoResizeViewport:!1,onInitialize:s=>this._setDevice(s.device),onRender:this._onRenderFrame.bind(this),onError:i})}_createDevice(e){var o,l,c;const t=(o=this.props.deviceProps)==null?void 0:o.createCanvasContext,r=typeof t=="object"?t:void 0,i={adapters:[],_cacheShaders:!0,_cachePipelines:!0,...e.deviceProps};i.adapters.includes(m8)||i.adapters.push(m8);const s={alphaMode:((l=this.props.deviceProps)==null?void 0:l.type)==="webgpu"?"premultiplied":void 0},a=(c=this.props.deviceProps)==null?void 0:c.onResize;return p9.createDevice({_reuseDevices:!0,type:"webgl",...i,createCanvasContext:{...s,...r,canvas:this._createCanvas(e),useDevicePixels:this.props.useDevicePixels,autoResize:!0},onResize:(A,u)=>{this._needsRedraw="Canvas resized",a==null||a(A,u)}})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){const{views:e}=this.props,t=Array.isArray(e)?e:e?[e]:[new $R({id:"default-view"})];return t.length&&this.props.controller&&(t[0].props.controller=this.props.controller),t}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){var t,r,i,s;if(((t=this.device)==null?void 0:t.type)==="webgpu")return;const{_pickRequest:e}=this;if(e.event){const{result:a,emptyInfo:o}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=a.length>0;let l=o,c=!1;for(const A of a)l=A,c=((r=A.layer)==null?void 0:r.onHover(A,e.event))||c;c||((s=(i=this.props).onHover)==null||s.call(i,l,e.event),this.widgetManager.onHover(l,e.event)),e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setDevice(e){var i,s;if(this.device=e,!this.animationLoop)return;this.canvas||(this.canvas=(i=this.device.canvasContext)==null?void 0:i.canvas,!this.canvas.isConnected&&this.props.parent&&this.props.parent.insertBefore(this.canvas,this.props.parent.firstChild)),this.device.type==="webgl"&&this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onDeviceInitialized(this.device),this.device.type==="webgl"&&this.props.onWebGLInitialized(this.device.gl);const t=new gj;t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new Xpe(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizers:Object.keys(IS).map(a=>{var f;const[o,l,c,A]=IS[a],u=(f=this.props.eventRecognizerOptions)==null?void 0:f[a],h={...l,...u,event:a};return{recognizer:new o(h),recognizeWith:c,requestFailure:A}}),events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const a in F9)this.eventManager.on(a,this._onEvent);this.viewManager=new q4e({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const r=this.viewManager.getViewports()[0];this.layerManager=new W4e(this.device,{deck:this,stats:this.stats,viewport:r,timeline:t}),this.effectManager=new Ame({deck:this,device:this.device}),this.deckRenderer=new hme(this.device),this.deckPicker=new pme(this.device),this.widgetManager=new yme({deck:this,parentElement:(s=this.canvas)==null?void 0:s.parentElement}),this.widgetManager.addDefault(new wj),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,t){var a;const{device:r,gl:i}=this.layerManager.context;this.props.onBeforeRender({device:r,gl:i});const s={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...t};(a=this.deckRenderer)==null||a.renderLayers(s),s.pass==="screen"&&this.widgetManager.onRedraw({viewports:s.viewports,layers:s.layers}),this.props.onAfterRender({device:r,gl:i})}_onRenderFrame(){var e;this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),or.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),((e=this.device)==null?void 0:e.type)!=="webgpu"&&this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:t},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:t}=this;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();const r=p9.stats.get("Memory Usage");e.bufferMemory=r.get("Buffer Memory").count,e.textureMemory=r.get("Texture Memory").count,e.renderbufferMemory=r.get("Renderbuffer Memory").count,e.gpuMemory=r.get("GPU Memory").count}}K3.defaultProps=Uj;K3.VERSION=Whe;function gye(n){switch(n){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return mR(n)}}const pye=_R;function x4(n,e,t){const r=t==="webgpu"&&e.type==="uint8"?"unorm8":e.type;return{attribute:n,format:e.size>1?`${r}x${e.size}`:e.type,byteOffset:e.offset||0}}function h1(n){return n.stride||n.size*n.bytesPerElement}function _ye(n,e){return n.type===e.type&&n.size===e.size&&h1(n)===h1(e)&&(n.offset||0)===(e.offset||0)}function $9(n,e){e.offset&&or.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const t=h1(n),r=e.vertexOffset!==void 0?e.vertexOffset:n.vertexOffset||0,i=e.elementOffset||0,s=r*t+i*n.bytesPerElement+(n.offset||0);return{...e,offset:s,stride:t}}function mye(n,e){const t=$9(n,e);return{high:t,low:{...t,offset:t.offset+n.size*4}}}class yye{constructor(e,t,r){this._buffer=null,this.device=e,this.id=t.id||"",this.size=t.size||1;const i=t.logicalType||t.type,s=i==="float64";let{defaultValue:a}=t;a=Number.isFinite(a)?[a]:a||new Array(this.size).fill(0);let o;s?o="float32":!i&&t.isIndexed?o="uint32":o=i||"float32";let l=gye(i||o);this.doublePrecision=s,s&&t.fp64===!1&&(l=Float32Array),this.value=null,this.settings={...t,defaultType:l,defaultValue:a,logicalType:i,type:o,normalized:o.includes("norm"),size:this.size,bytesPerElement:l.BYTES_PER_ELEMENT},this.state={...r,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*h1(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),Y3.release(this.state.allocatedValue)}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(e=this.id,t=null){const r={};if(this.state.constant){const i=this.value;if(t){const s=$9(this.getAccessor(),t),a=s.offset/i.BYTES_PER_ELEMENT,o=s.size||this.size;r[e]=i.subarray(a,a+o)}else r[e]=i}else r[e]=this.getBuffer();return this.doublePrecision&&(this.value instanceof Float64Array?r[`${e}64Low`]=r[e]:r[`${e}64Low`]=new Float32Array(this.size)),r}_getBufferLayout(e=this.id,t=null){const r=this.getAccessor(),i=[],s={name:this.id,byteStride:h1(r),attributes:i};if(this.doublePrecision){const a=mye(r,t||{});i.push(x4(e,{...r,...a.high},this.device.type),x4(`${e}64Low`,{...r,...a.low},this.device.type))}else if(t){const a=$9(r,t);i.push(x4(e,{...r,...a},this.device.type))}else i.push(x4(e,r,this.device.type));return s}setAccessor(e){this.state.bufferAccessor=e}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const t=Array.from(this.value);e=[t,t]}else{const{value:t,numInstances:r,size:i}=this,s=r*i;if(t&&s&&t.length>=s){const a=new Array(i).fill(1/0),o=new Array(i).fill(-1/0);for(let l=0;l<s;)for(let c=0;c<i;c++){const A=t[l++];A<a[c]&&(a[c]=A),A>o[c]&&(o[c]=A)}e=[a,o]}}return this.state.bounds=e,e}setData(e){const{state:t}=this;let r;ArrayBuffer.isView(e)?r={value:e}:e instanceof xi?r={buffer:e}:r=e;const i={...this.settings,...r};if(ArrayBuffer.isView(r.value)){if(!r.type)if(this.doublePrecision&&r.value instanceof Float64Array)i.type="float32";else{const a=pye(r.value);i.type=i.normalized?a.replace("int","norm"):a}i.bytesPerElement=r.value.BYTES_PER_ELEMENT,i.stride=h1(i)}if(t.bounds=null,r.constant){let s=r.value;if(s=this._normalizeValue(s,[],0),this.settings.normalized&&(s=this.normalizeConstant(s)),!(!t.constant||!this._areValuesEqual(s,this.value)))return!1;t.externalBuffer=null,t.constant=!0,this.value=ArrayBuffer.isView(s)?s:new Float32Array(s)}else if(r.buffer){const s=r.buffer;t.externalBuffer=s,t.constant=!1,this.value=r.value||null}else if(r.value){this._checkExternalBuffer(r);let s=r.value;t.externalBuffer=null,t.constant=!1,this.value=s;let{buffer:a}=this;const o=h1(i),l=(i.vertexOffset||0)*o;if(this.doublePrecision&&s instanceof Float64Array&&(s=h8(s,i)),this.settings.isIndexed){const A=this.settings.defaultType;s.constructor!==A&&(s=new A(s))}const c=s.byteLength+l+o*2;(!a||a.byteLength<c)&&(a=this._createBuffer(c)),a.write(s,l)}return this.setAccessor(i),!0}updateSubBuffer(e={}){this.state.bounds=null;const t=this.value,{startOffset:r=0,endOffset:i}=e;this.buffer.write(this.doublePrecision&&t instanceof Float64Array?h8(t,{size:this.size,startIndex:r,endIndex:i}):t.subarray(r,i),r*t.BYTES_PER_ELEMENT+this.byteOffset)}allocate(e,t=!1){const{state:r}=this,i=r.allocatedValue,s=Y3.allocate(i,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=s;const{byteOffset:a}=this;let{buffer:o}=this;return(!o||o.byteLength<s.byteLength+a)&&(o=this._createBuffer(s.byteLength+a),t&&i&&o.write(i instanceof Float64Array?h8(i,this):i,a)),r.allocatedValue=s,r.constant=!1,r.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer(e){const{value:t}=e;if(!ArrayBuffer.isView(t))throw new Error(`Attribute ${this.id} value is not TypedArray`);const r=this.settings.defaultType;let i=!1;if(this.doublePrecision&&(i=t.BYTES_PER_ELEMENT<4),i)throw new Error(`Attribute ${this.id} does not support ${t.constructor.name}`);!(t instanceof r)&&this.settings.normalized&&!("normalized"in e)&&or.warn(`Attribute ${this.id} is normalized`)()}normalizeConstant(e){switch(this.settings.type){case"snorm8":return new Float32Array(e).map(t=>(t+128)/255*2-1);case"snorm16":return new Float32Array(e).map(t=>(t+32768)/65535*2-1);case"unorm8":return new Float32Array(e).map(t=>t/255);case"unorm16":return new Float32Array(e).map(t=>t/65535);default:return e}}_normalizeValue(e,t,r){const{defaultValue:i,size:s}=this.settings;if(Number.isFinite(e))return t[r]=e,t;if(!e){let a=s;for(;--a>=0;)t[r+a]=i[a];return t}switch(s){case 4:t[r+3]=Number.isFinite(e[3])?e[3]:i[3];case 3:t[r+2]=Number.isFinite(e[2])?e[2]:i[2];case 2:t[r+1]=Number.isFinite(e[1])?e[1]:i[1];case 1:t[r+0]=Number.isFinite(e[0])?e[0]:i[0];break;default:let a=s;for(;--a>=0;)t[r+a]=Number.isFinite(e[a])?e[a]:i[a]}return t}_areValuesEqual(e,t){if(!e||!t)return!1;const{size:r}=this;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}_createBuffer(e){var i;this._buffer&&this._buffer.destroy();const{isIndexed:t,type:r}=this.settings;return this._buffer=this.device.createBuffer({...(i=this._buffer)==null?void 0:i.props,id:this.id,usage:(t?xi.INDEX:xi.VERTEX)|xi.COPY_DST,indexType:t?r:void 0,byteLength:e}),this._buffer}}const dF=[],gF=[];function Nj(n,e=0,t=1/0){let r=dF;const i={index:-1,data:n,target:[]};return n?typeof n[Symbol.iterator]=="function"?r=n:n.length>0&&(gF.length=n.length,r=gF):r=dF,(e>0||Number.isFinite(t))&&(r=(Array.isArray(r)?r:Array.from(r)).slice(e,t),i.index=e-1),{iterable:r,objectInfo:i}}function kj(n){return n&&n[Symbol.asyncIterator]}function bye(n,e){const{size:t,stride:r,offset:i,startIndices:s,nested:a}=e,o=n.BYTES_PER_ELEMENT,l=r?r/o:t,c=i?i/o:0,A=Math.floor((n.length-c)/l);return(u,{index:h,target:f})=>{if(!s){const m=h*l+c;for(let y=0;y<t;y++)f[y]=n[m+y];return f}const d=s[h],g=s[h+1]||A;let _;if(a){_=new Array(g-d);for(let m=d;m<g;m++){const y=m*l+c;f=new Array(t);for(let b=0;b<t;b++)f[b]=n[y+b];_[m-d]=f}}else if(l===t)_=n.subarray(d*t+c,g*t+c);else{_=new n.constructor((g-d)*t);let m=0;for(let y=d;y<g;y++){const b=y*l+c;for(let v=0;v<t;v++)_[m++]=n[b+v]}}return _}}const vye=[],Im=[[0,1/0]];function wye(n,e){if(n===Im||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return n;const t=[],r=n.length;let i=0;for(let s=0;s<r;s++){const a=n[s];a[1]<e[0]?(t.push(a),i=s+1):a[0]>e[1]?t.push(a):e=[Math.min(a[0],e[0]),Math.max(a[1],e[1])]}return t.splice(i,0,e),t}const Lye={interpolation:{duration:0,easing:n=>n},spring:{stiffness:.05,damping:.5}};function Pj(n,e){if(!n)return null;Number.isFinite(n)&&(n={type:"interpolation",duration:n});const t=n.type||"interpolation";return{...Lye[t],...e,...n,type:t}}class Dj extends yye{constructor(e,t){super(e,t,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:Im}),this.constant=!1,this.settings.update=t.update||(t.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const t=this.state.needsRedraw;return this.state.needsRedraw=t&&!e,t}layoutChanged(){return this.state.layoutChanged}setAccessor(e){var t;(t=this.state).layoutChanged||(t.layoutChanged=!_ye(e,this.getAccessor())),super.setAccessor(e)}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat(typeof e!="function"&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:t}=this.settings,r=this.settings.transition,i=Array.isArray(t)?e[t.find(s=>e[s])]:e[t];return Pj(i,r)}setNeedsUpdate(e=this.id,t){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){const{startRow:r=0,endRow:i=1/0}=t;this.state.updateRanges=wye(this.state.updateRanges,[r,i])}else this.state.updateRanges=Im}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=vye}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:t,settings:r}=this;return r.noAlloc?!1:r.update?(super.allocate(e,t.updateRanges!==Im),!0):!1}updateBuffer({numInstances:e,data:t,props:r,context:i}){if(!this.needsUpdate())return!1;const{state:{updateRanges:s},settings:{update:a,noAlloc:o}}=this;let l=!0;if(a){for(const[c,A]of s)a.call(i,this,{data:t,startRow:c,endRow:A,props:r,numInstances:e});if(this.value)if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[c,A]of s){const u=Number.isFinite(c)?this.getVertexOffset(c):0,h=Number.isFinite(A)?this.getVertexOffset(A):o||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:u,endOffset:h})}this._checkAttributeArray()}else l=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),l}setConstantValue(e,t){const r=this.device.type==="webgpu";if(r||t===void 0||typeof t=="function"){if(r&&typeof t!="function"){const a=this._normalizeValue(t,[],0);this._areValuesEqual(a,this.value)||this.setNeedsUpdate("WebGPU constant updated")}return!1}const i=this.settings.transform&&e?this.settings.transform.call(e,t):t;return this.setData({constant:!0,value:i})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0}setExternalBuffer(e){const{state:t}=this;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}setBinaryValue(e,t=null){const{state:r,settings:i}=this;if(!e)return r.binaryValue=null,r.binaryAccessor=null,!1;if(i.noAlloc)return!1;if(r.binaryValue===e)return this.clearNeedsUpdate(),!0;if(r.binaryValue=e,this.setNeedsRedraw(),i.transform||t!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const a=e;ps(ArrayBuffer.isView(a.value),`invalid ${i.accessor}`);const o=!!a.size&&a.size!==this.size;return r.binaryAccessor=bye(a.value,{size:a.size||this.size,stride:a.stride,offset:a.offset,startIndices:t,nested:o}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:t}=this;return(t?e<t.length?t[e]:this.numInstances:e)*this.size}getValue(){const e=this.settings.shaderAttributes,t=super.getValue();if(!e)return t;for(const r in e)Object.assign(t,super.getValue(r,e[r]));return t}getBufferLayout(e){this.state.layoutChanged=!1;const t=this.settings.shaderAttributes,r=super._getBufferLayout(),{stepMode:i}=this.settings;if(i==="dynamic"?r.stepMode=e?e.isInstanced?"instance":"vertex":"instance":r.stepMode=i??"vertex",!t)return r;for(const s in t){const a=super._getBufferLayout(s,t[s]);r.attributes.push(...a.attributes)}return r}_autoUpdater(e,{data:t,startRow:r,endRow:i,props:s,numInstances:a}){if(e.constant&&this.context.device.type!=="webgpu")return;const{settings:o,state:l,value:c,size:A,startIndices:u}=e,{accessor:h,transform:f}=o;let d=l.binaryAccessor||(typeof h=="function"?h:s[h]);typeof d!="function"&&typeof h=="string"&&(d=()=>s[h]),ps(typeof d=="function",`accessor "${h}" is not a function`);let g=e.getVertexOffset(r);const{iterable:_,objectInfo:m}=Nj(t,r,i);for(const y of _){m.index++;let b=d(y,m);if(f&&(b=f.call(this,b)),u){const v=(m.index<u.length-1?u[m.index+1]:a)-u[m.index];if(b&&Array.isArray(b[0])){let B=g;for(const C of b)e._normalizeValue(C,c,B),B+=A}else b&&b.length>A?c.set(b,g):(e._normalizeValue(b,m.target,0),Y4e({target:c,source:m.target,start:g,count:v}));g+=v*A}else e._normalizeValue(b,c,g),g+=A}}_validateAttributeUpdaters(){const{settings:e}=this;if(!(e.noAlloc||typeof e.update=="function"))throw new Error(`Attribute ${this.id} missing update or accessor`)}_checkAttributeArray(){const{value:e}=this,t=Math.min(4,this.size);if(e&&e.length>=t){let r=!0;switch(t){case 4:r=r&&Number.isFinite(e[3]);case 3:r=r&&Number.isFinite(e[2]);case 2:r=r&&Number.isFinite(e[1]);case 1:r=r&&Number.isFinite(e[0]);break;default:r=!1}if(!r)throw new Error(`Illegal attribute generated for ${this.id}`)}}}function L8(n){const{source:e,target:t,start:r=0,size:i,getData:s}=n,a=n.end||t.length,o=e.length,l=a-r;if(o>l){t.set(e.subarray(0,l),r);return}if(t.set(e,r),!s)return;let c=o;for(;c<l;){const A=s(c,e);for(let u=0;u<i;u++)t[r+c]=A[u]||0,c++}}function xye({source:n,target:e,size:t,getData:r,sourceStartIndices:i,targetStartIndices:s}){if(!i||!s)return L8({source:n,target:e,size:t,getData:r}),e;let a=0,o=0;const l=r&&((A,u)=>r(A+o,u)),c=Math.min(i.length,s.length);for(let A=1;A<c;A++){const u=i[A]*t,h=s[A]*t;L8({source:n.subarray(a,u),target:e,start:o,end:h,size:t,getData:l}),a=u,o=h}return o<e.length&&L8({source:[],target:e,start:o,size:t,getData:l}),e}function Rye(n){const{device:e,settings:t,value:r}=n,i=new Dj(e,t);return i.setData({value:r instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:t.normalized}),i}function Oj(n){switch(n){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`No defined attribute type for size "${n}"`)}}function zj(n){switch(n){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw new Error("invalid type size")}}function Hj(n){n.push(n.shift())}function Bye(n,e){const{doublePrecision:t,settings:r,value:i,size:s}=n,a=t&&i instanceof Float64Array?2:1;let o=0;const{shaderAttributes:l}=n.settings;if(l)for(const c of Object.values(l))o=Math.max(o,c.vertexOffset??0);return(r.noAlloc?i.length:(e+o)*s)*a}function Qj({device:n,source:e,target:t}){return(!t||t.byteLength<e.byteLength)&&(t==null||t.destroy(),t=n.createBuffer({byteLength:e.byteLength,usage:e.usage})),t}function jj({device:n,buffer:e,attribute:t,fromLength:r,toLength:i,fromStartIndices:s,getData:a=o=>o}){const o=t.doublePrecision&&t.value instanceof Float64Array?2:1,l=t.size*o,c=t.byteOffset,A=t.settings.bytesPerElement<4?c/t.settings.bytesPerElement*4:c,u=t.startIndices,h=s&&u,f=t.isConstant;if(!h&&e&&r>=i)return e;const d=t.value instanceof Float64Array?Float32Array:t.value.constructor,g=f?t.value:new d(t.getBuffer().readSyncWebGL(c,i*d.BYTES_PER_ELEMENT).buffer);if(t.settings.normalized&&!f){const b=a;a=(v,B)=>t.normalizeConstant(b(v,B))}const _=f?(b,v)=>a(g,v):(b,v)=>a(g.subarray(b+c,b+c+l),v),m=e?new Float32Array(e.readSyncWebGL(A,r*4).buffer):new Float32Array(0),y=new Float32Array(i);return xye({source:m,target:y,sourceStartIndices:s,targetStartIndices:u,size:l,getData:_}),(!e||e.byteLength<y.byteLength+A)&&(e==null||e.destroy(),e=n.createBuffer({byteLength:y.byteLength+A,usage:35050})),e.write(y,A),e}class Yj{constructor({device:e,attribute:t,timeline:r}){this.buffers=[],this.currentLength=0,this.device=e,this.transition=new b6(r),this.attribute=t,this.attributeInTransition=Rye(t),this.currentStartIndices=t.startIndices}get inProgress(){return this.transition.inProgress}start(e,t,r=1/0){this.settings=e,this.currentStartIndices=this.attribute.startIndices,this.currentLength=Bye(this.attribute,t),this.transition.start({...e,duration:r})}update(){const e=this.transition.update();return e&&this.onUpdate(),e}setBuffer(e){this.attributeInTransition.setData({buffer:e,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(const e of this.buffers)e.destroy();this.buffers.length=0}}class Eye extends Yj{constructor({device:e,attribute:t,timeline:r}){super({device:e,attribute:t,timeline:r}),this.type="interpolation",this.transform=Mye(e,t)}start(e,t){const r=this.currentLength,i=this.currentStartIndices;if(super.start(e,t,e.duration),e.duration<=0){this.transition.cancel();return}const{buffers:s,attribute:a}=this;Hj(s),s[0]=jj({device:this.device,buffer:s[0],attribute:a,fromLength:r,toLength:this.currentLength,fromStartIndices:i,getData:e.enter}),s[1]=Qj({device:this.device,source:s[0],target:s[1]}),this.setBuffer(s[1]);const{transform:o}=this,l=o.model;let c=Math.floor(this.currentLength/a.size);Gj(a)&&(c/=2),l.setVertexCount(c),a.isConstant?(l.setAttributes({aFrom:s[0]}),l.setConstantAttributes({aTo:a.value})):l.setAttributes({aFrom:s[0],aTo:a.getBuffer()}),o.transformFeedback.setBuffers({vCurrent:s[1]})}onUpdate(){const{duration:e,easing:t}=this.settings,{time:r}=this.transition;let i=r/e;t&&(i=t(i));const{model:s}=this.transform,a={time:i};s.shaderInputs.setProps({interpolation:a}),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}}const Cye=`uniform interpolationUniforms {
  float time;
} interpolation;
`,pF={name:"interpolation",vs:Cye,uniformTypes:{time:"f32"}},Iye=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, interpolation.time);
  gl_Position = vec4(0.0);
}
`,Tye=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aFrom64Low;
in ATTRIBUTE_TYPE aTo;
in ATTRIBUTE_TYPE aTo64Low;
out ATTRIBUTE_TYPE vCurrent;
out ATTRIBUTE_TYPE vCurrent64Low;

vec2 mix_fp64(vec2 a, vec2 b, float x) {
  vec2 range = sub_fp64(b, a);
  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));
}

void main(void) {
  for (int i=0; i<ATTRIBUTE_SIZE; i++) {
    vec2 value = mix_fp64(vec2(aFrom[i], aFrom64Low[i]), vec2(aTo[i], aTo64Low[i]), interpolation.time);
    vCurrent[i] = value.x;
    vCurrent64Low[i] = value.y;
  }
  gl_Position = vec4(0.0);
}
`;function Gj(n){return n.doublePrecision&&n.value instanceof Float64Array}function Mye(n,e){const t=e.size,r=Oj(t),i=zj(t),s=e.getBufferLayout();return Gj(e)?new G3(n,{vs:Tye,bufferLayout:[{name:"aFrom",byteStride:8*t,attributes:[{attribute:"aFrom",format:i,byteOffset:0},{attribute:"aFrom64Low",format:i,byteOffset:4*t}]},{name:"aTo",byteStride:8*t,attributes:[{attribute:"aTo",format:i,byteOffset:0},{attribute:"aTo64Low",format:i,byteOffset:4*t}]}],modules:[P3e,pF],defines:{ATTRIBUTE_TYPE:r,ATTRIBUTE_SIZE:t},moduleSettings:{},varyings:["vCurrent","vCurrent64Low"],bufferMode:35980,disableWarnings:!0}):new G3(n,{vs:Iye,bufferLayout:[{name:"aFrom",format:i},{name:"aTo",format:s.attributes[0].format}],modules:[pF],defines:{ATTRIBUTE_TYPE:r},varyings:["vCurrent"],disableWarnings:!0})}class Sye extends Yj{constructor({device:e,attribute:t,timeline:r}){super({device:e,attribute:t,timeline:r}),this.type="spring",this.texture=Dye(e),this.framebuffer=Oye(e,this.texture),this.transform=Pye(e,t)}start(e,t){const r=this.currentLength,i=this.currentStartIndices;super.start(e,t);const{buffers:s,attribute:a}=this;for(let l=0;l<2;l++)s[l]=jj({device:this.device,buffer:s[l],attribute:a,fromLength:r,toLength:this.currentLength,fromStartIndices:i,getData:e.enter});s[2]=Qj({device:this.device,source:s[0],target:s[2]}),this.setBuffer(s[1]);const{model:o}=this.transform;o.setVertexCount(Math.floor(this.currentLength/a.size)),a.isConstant?o.setConstantAttributes({aTo:a.value}):o.setAttributes({aTo:a.getBuffer()})}onUpdate(){const{buffers:e,transform:t,framebuffer:r,transition:i}=this,s=this.settings;t.model.setAttributes({aPrev:e[0],aCur:e[1]}),t.transformFeedback.setBuffers({vNext:e[2]});const a={stiffness:s.stiffness,damping:s.damping};t.model.shaderInputs.setProps({spring:a}),t.run({framebuffer:r,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),Hj(e),this.setBuffer(e[1]),this.device.readPixelsToArrayWebGL(r)[0]>0||i.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}}const Fye=`uniform springUniforms {
  float damping;
  float stiffness;
} spring;
`,Uye={name:"spring",vs:Fye,uniformTypes:{damping:"f32",stiffness:"f32"}},Nye=`#version 300 es
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

in ATTRIBUTE_TYPE aPrev;
in ATTRIBUTE_TYPE aCur;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vNext;
out float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE force = delta * spring.stiffness;
  ATTRIBUTE_TYPE resistance = velocity * spring.damping;
  return force - resistance + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,kye=`#version 300 es
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

in float vIsTransitioningFlag;

out vec4 fragColor;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  fragColor = vec4(1.0);
}`;function Pye(n,e){const t=Oj(e.size),r=zj(e.size);return new G3(n,{vs:Nye,fs:kye,bufferLayout:[{name:"aPrev",format:r},{name:"aCur",format:r},{name:"aTo",format:e.getBufferLayout().attributes[0].format}],varyings:["vNext"],modules:[Uye],defines:{ATTRIBUTE_TYPE:t},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}function Dye(n){return n.createTexture({data:new Uint8Array(4),format:"rgba8unorm",width:1,height:1})}function Oye(n,e){return n.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[e]})}const zye={interpolation:Eye,spring:Sye};class Hye{constructor(e,{id:t,timeline:r}){if(!e)throw new Error("AttributeTransitionManager is constructed without device");this.id=t,this.device=e,this.timeline=r,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:t,numInstances:r}){this.numInstances=r||1;for(const i in e){const s=e[i],a=s.getTransitionSetting(t);a&&this._updateAttribute(i,s,a)}for(const i in this.transitions){const s=e[i];(!s||!s.getTransitionSetting(t))&&this._removeTransition(i)}}hasAttribute(e){const t=this.transitions[e];return t&&t.inProgress}getAttributes(){const e={};for(const t in this.transitions){const r=this.transitions[t];r.inProgress&&(e[t]=r.attributeInTransition)}return e}run(){if(this.numInstances===0)return!1;for(const t in this.transitions)this.transitions[t].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].delete(),delete this.transitions[e]}_updateAttribute(e,t,r){const i=this.transitions[e];let s=!i||i.type!==r.type;if(s){i&&this._removeTransition(e);const a=zye[r.type];a?this.transitions[e]=new a({attribute:t,timeline:this.timeline,device:this.device}):(or.error(`unsupported transition type '${r.type}'`)(),s=!1)}(s||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(r,this.numInstances))}}const _F="attributeManager.invalidate",Qye="attributeManager.updateStart",jye="attributeManager.updateEnd",Yye="attribute.updateStart",Gye="attribute.allocate",Vye="attribute.updateEnd";class Kye{constructor(e,{id:t="attribute-manager",stats:r,timeline:i}={}){this.mergeBoundsMemoized=Cp(c4e),this.id=t,this.device=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=r,this.attributeTransitionManager=new Hye(e,{id:`${t}-transitions`,timeline:i}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{stepMode:"instance"})}remove(e){for(const t of e)this.attributes[t]!==void 0&&(this.attributes[t].delete(),delete this.attributes[t])}invalidate(e,t){const r=this._invalidateTrigger(e,t);ea(_F,this,e,r)}invalidateAll(e){for(const t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);ea(_F,this,"all")}update({data:e,numInstances:t,startIndices:r=null,transitions:i,props:s={},buffers:a={},context:o={}}){let l=!1;ea(Qye,this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const c in this.attributes){const A=this.attributes[c],u=A.settings.accessor;A.startIndices=r,A.numInstances=t,s[c]&&or.removed(`props.${c}`,`data.attributes.${c}`)(),A.setExternalBuffer(a[c])||A.setBinaryValue(typeof u=="string"?a[u]:void 0,e.startIndices)||typeof u=="string"&&!a[u]&&A.setConstantValue(o,s[u])||A.needsUpdate()&&(l=!0,this._updateAttribute({attribute:A,numInstances:t,data:e,props:s,context:o})),this.needsRedraw=this.needsRedraw||A.needsRedraw()}l&&ea(jye,this,t),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:t,transitions:i})}updateTransition(){const{attributeTransitionManager:e}=this,t=e.run();return this.needsRedraw=this.needsRedraw||t,t}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds(e){const t=e.map(r=>{var i;return(i=this.attributes[r])==null?void 0:i.getBounds()});return this.mergeBoundsMemoized(t)}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:t,attributeTransitionManager:r}=this,i={...r.getAttributes()};for(const s in t){const a=t[s];a.needsRedraw(e)&&!r.hasAttribute(s)&&(i[s]=a)}return i}getBufferLayouts(e){return Object.values(this.getAttributes()).map(t=>t.getBufferLayout(e))}_add(e,t){for(const r in e){const i=e[r],s={...i,id:r,size:i.isIndexed&&1||i.size||1,...t};this.attributes[r]=new Dj(this.device,s)}this._mapUpdateTriggersToAttributes()}_mapUpdateTriggersToAttributes(){const e={};for(const t in this.attributes)this.attributes[t].getUpdateTriggers().forEach(i=>{e[i]||(e[i]=[]),e[i].push(t)});this.updateTriggers=e}_invalidateTrigger(e,t){const{attributes:r,updateTriggers:i}=this,s=i[e];return s&&s.forEach(a=>{const o=r[a];o&&o.setNeedsUpdate(o.id,t)}),s}_updateAttribute(e){const{attribute:t,numInstances:r}=e;if(ea(Yye,t),t.constant){t.setConstantValue(e.context,t.value);return}t.allocate(r)&&ea(Gye,t,r),t.updateBuffer(e)&&(this.needsRedraw=!0,ea(Vye,t,r))}}class $ye extends b6{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:t,toValue:r,duration:i,easing:s}}=this,a=s(e/i);this._value=K5(t,r,a)}}const mF=1e-5;function yF(n,e,t,r,i){const s=e-n,o=(t-e)*i,l=-s*r;return o+l+s+e}function Wye(n,e,t,r,i){if(Array.isArray(t)){const s=[];for(let a=0;a<t.length;a++)s[a]=yF(n[a],e[a],t[a],r,i);return s}return yF(n,e,t,r,i)}function bF(n,e){if(Array.isArray(n)){let t=0;for(let r=0;r<n.length;r++){const i=n[r]-e[r];t+=i*i}return Math.sqrt(t)}return Math.abs(n-e)}class qye extends b6{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:t,damping:r,stiffness:i}=this.settings,{_prevValue:s=e,_currValue:a=e}=this;let o=Wye(s,a,t,r,i);const l=bF(o,t),c=bF(o,a);l<mF&&c<mF&&(o=t,this.end()),this._prevValue=a,this._currValue=o}}const Xye={interpolation:$ye,spring:qye};class Jye{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,t,r,i){const{transitions:s}=this;if(s.has(e)){const l=s.get(e),{value:c=l.settings.fromValue}=l;t=c,this.remove(e)}if(i=Pj(i),!i)return;const a=Xye[i.type];if(!a){or.error(`unsupported transition type '${i.type}'`)();return}const o=new a(this.timeline);o.start({...i,fromValue:t,toValue:r}),s.set(e,o)}remove(e){const{transitions:t}=this;t.has(e)&&(t.get(e).cancel(),t.delete(e))}update(){const e={};for(const[t,r]of this.transitions)r.update(),e[t]=r.value,r.inProgress||this.remove(t);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function Zye(n){const e=n[qA];for(const t in e){const r=e[t],{validate:i}=r;if(i&&!i(n[t],r))throw new Error(`Invalid prop ${t}: ${n[t]}`)}}function e6e(n,e){const t=Vj({newProps:n,oldProps:e,propTypes:n[qA],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=n6e(n,e);let i=!1;return r||(i=r6e(n,e)),{dataChanged:r,propsChanged:t,updateTriggersChanged:i,extensionsChanged:i6e(n,e),transitionsChanged:t6e(n,e)}}function t6e(n,e){if(!n.transitions)return!1;const t={},r=n[qA];let i=!1;for(const s in n.transitions){const a=r[s],o=a&&a.type;(o==="number"||o==="color"||o==="array")&&W9(n[s],e[s],a)&&(t[s]=!0,i=!0)}return i?t:!1}function Vj({newProps:n,oldProps:e,ignoreProps:t={},propTypes:r={},triggerName:i="props"}){if(e===n)return!1;if(typeof n!="object"||n===null)return`${i} changed shallowly`;if(typeof e!="object"||e===null)return`${i} changed shallowly`;for(const s of Object.keys(n))if(!(s in t)){if(!(s in e))return`${i}.${s} added`;const a=W9(n[s],e[s],r[s]);if(a)return`${i}.${s} ${a}`}for(const s of Object.keys(e))if(!(s in t)){if(!(s in n))return`${i}.${s} dropped`;if(!Object.hasOwnProperty.call(n,s)){const a=W9(n[s],e[s],r[s]);if(a)return`${i}.${s} ${a}`}}return!1}function W9(n,e,t){let r=t&&t.equal;return r&&!r(n,e,t)||!r&&(r=n&&e&&n.equals,r&&!r.call(n,e))?"changed deeply":!r&&e!==n?"changed shallowly":null}function n6e(n,e){if(e===null)return"oldProps is null, initial diff";let t=!1;const{dataComparator:r,_dataDiff:i}=n;return r?r(n.data,e.data)||(t="Data comparator detected a change"):n.data!==e.data&&(t="A new data container was supplied"),t&&i&&(t=i(n.data,e.data)||t),t}function r6e(n,e){if(e===null)return{all:!0};if("all"in n.updateTriggers&&vF(n,e,"all"))return{all:!0};const t={};let r=!1;for(const i in n.updateTriggers)i!=="all"&&vF(n,e,i)&&(t[i]=!0,r=!0);return r?t:!1}function i6e(n,e){if(e===null)return!0;const t=e.extensions,{extensions:r}=n;if(r===t)return!1;if(!t||!r||r.length!==t.length)return!0;for(let i=0;i<r.length;i++)if(!r[i].equals(t[i]))return!0;return!1}function vF(n,e,t){let r=n.updateTriggers[t];r=r??{};let i=e.updateTriggers[t];return i=i??{},Vj({oldProps:i,newProps:r,triggerName:t})}const s6e="count(): argument not an object",a6e="count(): argument not a container";function o6e(n){if(!c6e(n))throw new Error(s6e);if(typeof n.count=="function")return n.count();if(Number.isFinite(n.size))return n.size;if(Number.isFinite(n.length))return n.length;if(l6e(n))return Object.keys(n).length;throw new Error(a6e)}function l6e(n){return n!==null&&typeof n=="object"&&n.constructor===Object}function c6e(n){return n!==null&&typeof n=="object"}function wF(n,e){if(!e)return n;const t={...n,...e};if("defines"in e&&(t.defines={...n.defines,...e.defines}),"modules"in e&&(t.modules=(n.modules||[]).concat(e.modules),e.modules.some(r=>r.name==="project64"))){const r=t.modules.findIndex(i=>i.name==="project32");r>=0&&t.modules.splice(r,1)}if("inject"in e)if(!n.inject)t.inject=e.inject;else{const r={...n.inject};for(const i in e.inject)r[i]=(r[i]||"")+e.inject[i];t.inject=r}return t}const A6e={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},q9={};function u6e(n,e,t,r){if(t instanceof Pa)return t;t.constructor&&t.constructor.name!=="Object"&&(t={data:t});let i=null;t.compressed&&(i={minFilter:"linear",mipmapFilter:t.data.length>1?"nearest":"linear"});const{width:s,height:a}=t.data,o=e.createTexture({...t,sampler:{...A6e,...i,...r},mipLevels:e.getMipLevelCount(s,a)});return o.generateMipmapsWebGL(),q9[o.id]=n,o}function f6e(n,e){!e||!(e instanceof Pa)||q9[e.id]===n&&(e.delete(),delete q9[e.id])}const h6e={boolean:{validate(n,e){return!0},equal(n,e,t){return!!n==!!e}},number:{validate(n,e){return Number.isFinite(n)&&(!("max"in e)||n<=e.max)&&(!("min"in e)||n>=e.min)}},color:{validate(n,e){return e.optional&&!n||X9(n)&&(n.length===3||n.length===4)},equal(n,e,t){return $o(n,e,1)}},accessor:{validate(n,e){const t=Z5(n);return t==="function"||t===Z5(e.value)},equal(n,e,t){return typeof e=="function"?!0:$o(n,e,1)}},array:{validate(n,e){return e.optional&&!n||X9(n)},equal(n,e,t){const{compare:r}=t,i=Number.isInteger(r)?r:r?1:0;return r?$o(n,e,i):n===e}},object:{equal(n,e,t){if(t.ignore)return!0;const{compare:r}=t,i=Number.isInteger(r)?r:r?1:0;return r?$o(n,e,i):n===e}},function:{validate(n,e){return e.optional&&!n||typeof n=="function"},equal(n,e,t){return!t.compare&&t.ignore!==!1||n===e}},data:{transform:(n,e,t)=>{if(!n)return n;const{dataTransform:r}=t.props;return r?r(n):typeof n.shape=="string"&&n.shape.endsWith("-table")&&Array.isArray(n.data)?n.data:n}},image:{transform:(n,e,t)=>{const r=t.context;return!r||!r.device?null:u6e(t.id,r.device,n,{...e.parameters,...t.props.textureParameters})},release:(n,e,t)=>{f6e(t.id,n)}}};function d6e(n){const e={},t={},r={};for(const[i,s]of Object.entries(n)){const a=s==null?void 0:s.deprecatedFor;if(a)r[i]=Array.isArray(a)?a:[a];else{const o=g6e(i,s);e[i]=o,t[i]=o.value}}return{propTypes:e,defaultProps:t,deprecatedProps:r}}function g6e(n,e){switch(Z5(e)){case"object":return k2(n,e);case"array":return k2(n,{type:"array",value:e,compare:!1});case"boolean":return k2(n,{type:"boolean",value:e});case"number":return k2(n,{type:"number",value:e});case"function":return k2(n,{type:"function",value:e,compare:!0});default:return{name:n,type:"unknown",value:e}}}function k2(n,e){return"type"in e?{name:n,...h6e[e.type],...e}:"value"in e?{name:n,type:Z5(e.value),...e}:{name:n,type:"object",value:e}}function X9(n){return Array.isArray(n)||ArrayBuffer.isView(n)}function Z5(n){return X9(n)?"array":n===null?"null":typeof n}function p6e(n,e){let t;for(let s=e.length-1;s>=0;s--){const a=e[s];"extensions"in a&&(t=a.extensions)}const r=J9(n.constructor,t),i=Object.create(r);i[J5]=n,i[V1]={},i[zA]={};for(let s=0;s<e.length;++s){const a=e[s];for(const o in a)i[o]=a[o]}return Object.freeze(i),i}const _6e="_mergedDefaultProps";function J9(n,e){if(!(n instanceof v6.constructor))return{};let t=_6e;if(e)for(const i of e){const s=i.constructor;s&&(t+=`:${s.extensionName||s.name}`)}const r=Kj(n,t);return r||(n[t]=m6e(n,e||[]))}function m6e(n,e){if(!n.prototype)return null;const r=Object.getPrototypeOf(n),i=J9(r),s=Kj(n,"defaultProps")||{},a=d6e(s),o=Object.assign(Object.create(null),i,a.defaultProps),l=Object.assign(Object.create(null),i==null?void 0:i[qA],a.propTypes),c=Object.assign(Object.create(null),i==null?void 0:i[_8],a.deprecatedProps);for(const A of e){const u=J9(A.constructor);u&&(Object.assign(o,u),Object.assign(l,u[qA]),Object.assign(c,u[_8]))}return y6e(o,n),v6e(o,l),b6e(o,c),o[qA]=l,o[_8]=c,e.length===0&&!nB(n,"_propTypes")&&(n._propTypes=l),o}function y6e(n,e){const t=L6e(e);Object.defineProperties(n,{id:{writable:!0,value:t}})}function b6e(n,e){for(const t in e)Object.defineProperty(n,t,{enumerable:!1,set(r){const i=`${this.id}: ${t}`;for(const s of e[t])nB(this,s)||(this[s]=r);or.deprecated(i,e[t].join("/"))()}})}function v6e(n,e){const t={},r={};for(const i in e){const s=e[i],{name:a,value:o}=s;s.async&&(t[a]=o,r[a]=w6e(a))}n[jh]=t,n[V1]={},Object.defineProperties(n,r)}function w6e(n){return{enumerable:!0,set(e){typeof e=="string"||e instanceof Promise||kj(e)?this[V1][n]=e:this[zA][n]=e},get(){if(this[zA]){if(n in this[zA])return this[zA][n]||this[jh][n];if(n in this[V1]){const e=this[J5]&&this[J5].internalState;if(e&&e.hasAsyncProp(n))return e.getAsyncProp(n)||this[jh][n]}}return this[jh][n]}}}function nB(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Kj(n,e){return nB(n,e)&&n[e]}function L6e(n){const e=n.componentName;return e||or.warn(`${n.name}.componentName not specified`)(),e||n.name}let x6e=0;class v6{constructor(...e){this.props=p6e(this,e),this.id=this.props.id,this.count=x6e++}clone(e){const{props:t}=this,r={};for(const i in t[jh])i in t[zA]?r[i]=t[zA][i]:i in t[V1]&&(r[i]=t[V1][i]);return new this.constructor({...t,...r,...e})}}v6.componentName="Component";v6.defaultProps={};const R6e=Object.freeze({});class B6e{constructor(e){this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||R6e}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const t=this.asyncProps[e];return t&&t.resolvedValue}isAsyncPropLoading(e){if(e){const t=this.asyncProps[e];return!!(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(const t in this.asyncProps)if(this.isAsyncPropLoading(t))return!0;return!1}reloadAsyncProp(e,t){this._watchPromise(e,Promise.resolve(t))}setAsyncProps(e){this.component=e[J5]||this.component;const t=e[zA]||{},r=e[V1]||e,i=e[jh]||{};for(const s in t){const a=t[s];this._createAsyncPropData(s,i[s]),this._updateAsyncProp(s,a),t[s]=this.getAsyncProp(s)}for(const s in r){const a=r[s];this._createAsyncPropData(s,i[s]),this._updateAsyncProp(s,a)}}_fetch(e,t){return null}_onResolve(e,t){}_onError(e,t){}_updateAsyncProp(e,t){if(this._didAsyncInputValueChange(e,t)){if(typeof t=="string"&&(t=this._fetch(e,t)),t instanceof Promise){this._watchPromise(e,t);return}if(kj(t)){this._resolveAsyncIterable(e,t);return}this._setPropValue(e,t)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,t){const r=this.asyncProps[e];return t===r.resolvedValue||t===r.lastValue?!1:(r.lastValue=t,!0)}_setPropValue(e,t){this._freezeAsyncOldProps();const r=this.asyncProps[e];r&&(t=this._postProcessValue(r,t),r.resolvedValue=t,r.pendingLoadCount++,r.resolvedLoadCount=r.pendingLoadCount)}_setAsyncPropValue(e,t,r){const i=this.asyncProps[e];i&&r>=i.resolvedLoadCount&&t!==void 0&&(this._freezeAsyncOldProps(),i.resolvedValue=t,i.resolvedLoadCount=r,this.onAsyncPropUpdated(e,t))}_watchPromise(e,t){const r=this.asyncProps[e];if(r){r.pendingLoadCount++;const i=r.pendingLoadCount;t.then(s=>{this.component&&(s=this._postProcessValue(r,s),this._setAsyncPropValue(e,s,i),this._onResolve(e,s))}).catch(s=>{this._onError(e,s)})}}async _resolveAsyncIterable(e,t){if(e!=="data"){this._setPropValue(e,t);return}const r=this.asyncProps[e];if(!r)return;r.pendingLoadCount++;const i=r.pendingLoadCount;let s=[],a=0;for await(const o of t){if(!this.component)return;const{dataTransform:l}=this.component.props;l?s=l(o,s):s=s.concat(o),Object.defineProperty(s,"__diff",{enumerable:!1,value:[{startRow:a,endRow:s.length}]}),a=s.length,this._setAsyncPropValue(e,s,i)}this._onResolve(e,s)}_postProcessValue(e,t){const r=e.type;return r&&this.component&&(r.release&&r.release(e.resolvedValue,r,this.component),r.transform)?r.transform(t,r,this.component):t}_createAsyncPropData(e,t){if(!this.asyncProps[e]){const i=this.component&&this.component.props[qA];this.asyncProps[e]={type:i&&i[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}class E6e extends B6e{constructor({attributeManager:e,layer:t}){super(t),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(e,t){const r=this.layer,i=r==null?void 0:r.props.fetch;return i?i(t,{propName:e,layer:r}):super._fetch(e,t)}_onResolve(e,t){const r=this.layer;if(r){const i=r.props.onDataLoad;e==="data"&&i&&i(t,{propName:e,layer:r})}}_onError(e,t){const r=this.layer;r&&r.raiseError(t,`loading ${e} of ${this.layer}`)}}const C6e="layer.changeFlag",I6e="layer.initialize",T6e="layer.update",M6e="layer.finalize",S6e="layer.matched",LF=2**24-1,F6e=Object.freeze([]),U6e=Cp(({oldViewport:n,viewport:e})=>n.equals(e));let _l=new Uint8ClampedArray(0);const N6e={data:{type:"data",value:F6e,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:n=>n&&n.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(n,{propName:e,layer:t,loaders:r,loadOptions:i,signal:s})=>{const{resourceManager:a}=t.context;i=i||t.getLoadOptions(),r=r||t.props.loaders,s&&(i={...i,fetch:{...i==null?void 0:i.fetch,signal:s}});let o=a.contains(n);return!o&&!i&&(a.add({resourceId:n,data:ou(n,r),persistent:!1}),o=!0),o?a.subscribe({resourceId:n,onChange:l=>{var c;return(c=t.internalState)==null?void 0:c.reloadAsyncProp(e,l)},consumerId:t.id,requestId:e}):ou(n,r,i)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:Vn.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:n})=>[0,-n*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class Gd extends v6{constructor(){super(...arguments),this.internalState=null,this.lifecycle=rh.NO_STATE,this.parent=null}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){return`${this.constructor.layerName||this.constructor.name}({id: '${this.props.id}'})`}project(e){ps(this.internalState);const t=this.internalState.viewport||this.context.viewport,r=dj(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[i,s,a]=Aj(r,t.pixelProjectionMatrix);return e.length===2?[i,s]:[i,s,a]}unproject(e){return ps(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,t){ps(this.internalState);const r=this.internalState.viewport||this.context.viewport;return g4e(e,{viewport:r,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...t})}get isComposite(){return!1}get isDrawable(){return!0}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){const e=this.state;return e&&(e.models||e.model&&[e.model])||[]}setShaderModuleProps(...e){for(const t of this.getModels())t.shaderInputs.setProps(...e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===Vn.DEFAULT||e===Vn.LNGLAT||e===Vn.CARTESIAN}onHover(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}onClick(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,t=[]){return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}decodePickingColor(e){ps(e instanceof Uint8Array);const[t,r,i]=e;return t+r*256+i*65536-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&this.state.numInstances!==void 0?this.state.numInstances:o6e(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["positions","instancePositions"])}getShaders(e){e=wF(e,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(const t of this.props.extensions)e=wF(e,t.getShaders.call(this,t));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const t=this.getAttributeManager(),{dataChanged:r}=e.changeFlags;if(r&&t)if(Array.isArray(r))for(const i of r)t.invalidateAll(i);else t.invalidateAll();if(t){const{props:i}=e,s=this.internalState.hasPickingBuffer,a=Number.isInteger(i.highlightedObjectIndex)||i.pickable||i.extensions.some(o=>o.getNeedsPickingBuffer.call(this,o));if(s!==a){this.internalState.hasPickingBuffer=a;const{pickingColors:o,instancePickingColors:l}=t.attributes,c=o||l;c&&(a&&c.constant&&(c.constant=!1,t.invalidate(c.id)),!c.value&&!a&&(c.constant=!0,c.value=[0,0,0]))}}}finalizeState(e){for(const r of this.getModels())r.destroy();const t=this.getAttributeManager();t&&t.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const t of this.getModels())t.draw(e.renderPass)}getPickingInfo({info:e,mode:t,sourceLayer:r}){const{index:i}=e;return i>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[i]),e}raiseError(e,t){var r,i,s,a;t&&(e=new Error(`${t}: ${e.message}`,{cause:e})),(i=(r=this.props).onError)!=null&&i.call(r,e)||(a=(s=this.context)==null?void 0:s.onError)==null||a.call(s,e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return this.internalState?this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()):!1}hasUniformTransition(){var e;return((e=this.internalState)==null?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const t=this.internalState.viewport;this.internalState.viewport=e,(!t||!U6e({oldViewport:t,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const t=this.getAttributeManager();t&&(e==="all"?t.invalidateAll():t.invalidate(e))}updateAttributes(e){let t=!1;for(const r in e)e[r].layoutChanged()&&(t=!0);for(const r of this.getModels())this._setModelAttributes(r,e,t)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const t=this.props,r=this.getNumInstances(),i=this.getStartIndices();e.update({data:t.data,numInstances:r,startIndices:i,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});const s=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(s)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const t=e.update(),r=Object.create(this.props);for(const i in t)Object.defineProperty(r,i,{value:t[i]});return r}return this.props}calculateInstancePickingColors(e,{numInstances:t}){if(e.constant)return;const r=Math.floor(_l.length/4);if(this.internalState.usesPickingColorCache=!0,r<t){t>LF&&or.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),_l=Y3.allocate(_l,t,{size:4,copy:!0,maxCount:Math.max(t,LF)});const i=Math.floor(_l.length/4),s=[0,0,0];for(let a=r;a<i;a++)this.encodePickingColor(a,s),_l[a*4+0]=s[0],_l[a*4+1]=s[1],_l[a*4+2]=s[2],_l[a*4+3]=0}e.value=_l.subarray(0,t*4)}_setModelAttributes(e,t,r=!1){var o;if(!Object.keys(t).length)return;if(r){const l=this.getAttributeManager();e.setBufferLayout(l.getBufferLayouts(e)),t=l.getAttributes()}const i=((o=e.userData)==null?void 0:o.excludeAttributes)||{},s={},a={};for(const l in t){if(i[l])continue;const c=t[l].getValue();for(const A in c){const u=c[A];u instanceof xi?t[l].settings.isIndexed?e.setIndexBuffer(u):s[A]=u:u&&(a[A]=u)}}e.setAttributes(s),e.setConstantAttributes(a)}disablePickingIndex(e){const t=this.props.data;if(!("attributes"in t)){this._disablePickingIndex(e);return}const{pickingColors:r,instancePickingColors:i}=this.getAttributeManager().attributes,s=r||i,a=s&&t.attributes&&t.attributes[s.id];if(a&&a.value){const o=a.value,l=this.encodePickingColor(e);for(let c=0;c<t.length;c++){const A=s.getVertexOffset(c);o[A]===l[0]&&o[A+1]===l[1]&&o[A+2]===l[2]&&this._disablePickingIndex(c)}}else this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:t,instancePickingColors:r}=this.getAttributeManager().attributes,i=t||r;if(!i)return;const s=i.getVertexOffset(e),a=i.getVertexOffset(e+1);i.buffer.write(new Uint8Array(a-s),s)}restorePickingColors(){const{pickingColors:e,instancePickingColors:t}=this.getAttributeManager().attributes,r=e||t;r&&(this.internalState.usesPickingColorCache&&r.value.buffer!==_l.buffer&&(r.value=_l.subarray(0,r.value.length)),r.updateSubBuffer({startOffset:0}))}_initialize(){ps(!this.internalState),ps(Number.isFinite(this.props.coordinateSystem)),ea(I6e,this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new E6e({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(or.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.uniformTransitions=new Jye(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const t of this.props.extensions)t.initializeState.call(this,this.context,t);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){ea(S6e,this,this===e);const{state:t,internalState:r}=e;this!==e&&(this.internalState=r,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(ea(T6e,this,e),!e)return;const t=this.props,r=this.context,i=this.internalState,s=r.viewport,a=this._updateUniformTransition();i.propsInTransition=a,r.viewport=i.viewport||s,this.props=a;try{const o=this._getUpdateParams(),l=this.getModels();if(r.device)this.updateState(o);else try{this.updateState(o)}catch{}for(const A of this.props.extensions)A.updateState.call(this,o,A);this.setNeedsRedraw(),this._updateAttributes();const c=this.getModels()[0]!==l[0];this._postUpdate(o,c)}finally{r.viewport=s,this.props=t,this._clearChangeFlags(),i.needsUpdate=!1,i.resetOldProps()}}_finalize(){ea(M6e,this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,this.context,e)}_drawLayer({renderPass:e,shaderModuleProps:t=null,uniforms:r={},parameters:i={}}){this._updateAttributeTransition();const s=this.props,a=this.context;this.props=this.internalState.propsInTransition||s;try{t&&this.setShaderModuleProps(t);const{getPolygonOffset:o}=this.props,l=o&&o(r)||[0,0];a.device instanceof K9&&a.device.setParametersWebGL({polygonOffset:l});for(const c of this.getModels())c.device.type==="webgpu"?c.setParameters({...c.parameters,...i}):c.setParameters(i);if(a.device instanceof K9)a.device.withParametersWebGL(i,()=>{const c={renderPass:e,shaderModuleProps:t,uniforms:r,parameters:i,context:a};for(const A of this.props.extensions)A.draw.call(this,c,A);this.draw(c)});else{const c={renderPass:e,shaderModuleProps:t,uniforms:r,parameters:i,context:a};for(const A of this.props.extensions)A.draw.call(this,c,A);this.draw(c)}}finally{this.props=s}}getChangeFlags(){var e;return(e=this.internalState)==null?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:t}=this.internalState;for(const i in e)if(e[i]){let s=!1;switch(i){case"dataChanged":const a=e[i],o=t[i];a&&Array.isArray(o)&&(t.dataChanged=Array.isArray(a)?o.concat(a):a,s=!0);default:t[i]||(t[i]=e[i],s=!0)}s&&ea(C6e,this,i,e)}const r=!!(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=r,t.somethingChanged=r||t.viewportChanged||t.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,t){var i;const r=e6e(e,t);if(r.updateTriggersChanged)for(const s in r.updateTriggersChanged)r.updateTriggersChanged[s]&&this.invalidateAttribute(s);if(r.transitionsChanged)for(const s in r.transitionsChanged)this.internalState.uniformTransitions.add(s,t[s],e[s],(i=e.transitions)==null?void 0:i[s]);return this.setChangeFlags(r)}validateProps(){Zye(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const t={highlightedObjectColor:e.picked?e.color:null},{highlightColor:r}=this.props;e.picked&&typeof r=="function"&&(t.highlightColor=r(e)),this.setShaderModuleProps({picking:t}),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new Kye(e.device,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,t){const{props:r,oldProps:i}=e,s=this.state.model;s!=null&&s.isInstanced&&s.setInstanceCount(this.getNumInstances());const{autoHighlight:a,highlightedObjectIndex:o,highlightColor:l}=r;if(t||i.autoHighlight!==a||i.highlightedObjectIndex!==o||i.highlightColor!==l){const c={};Array.isArray(l)&&(c.highlightColor=l),(t||i.autoHighlight!==a||o!==i.highlightedObjectIndex)&&(c.highlightedObjectColor=Number.isFinite(o)&&o>=0?this.encodePickingColor(o):null),this.setShaderModuleProps({picking:c})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let t=!1;t=t||this.internalState.needsRedraw&&this.id;const r=this.getAttributeManager(),i=r?r.getNeedsRedraw(e):!1;if(t=t||i,t)for(const s of this.props.extensions)s.onNeedsRedraw.call(this,s);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags,t}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}Gd.defaultProps=N6e;Gd.layerName="Layer";const k6e="compositeLayer.renderLayers";class $j extends Gd{get isComposite(){return!0}get isDrawable(){return!1}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(e=>e.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(e){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo({info:e}){const{object:t}=e;return t&&t.__source&&t.__source.parent&&t.__source.parent.id===this.id&&(e.object=t.__source.object,e.index=t.__source.index),e}filterSubLayer(e){return!0}shouldRenderSubLayer(e,t){return t&&t.length}getSubLayerClass(e,t){const{_subLayerProps:r}=this.props;return r&&r[e]&&r[e].type||t}getSubLayerRow(e,t,r){return e.__source={parent:this,object:t,index:r},e}getSubLayerAccessor(e){if(typeof e=="function"){const t={index:-1,data:this.props.data,target:[]};return(r,i)=>r&&r.__source?(t.index=r.__source.index,e(r.__source.object,t)):e(r,i)}return e}getSubLayerProps(e={}){var I;const{opacity:t,pickable:r,visible:i,parameters:s,getPolygonOffset:a,highlightedObjectIndex:o,autoHighlight:l,highlightColor:c,coordinateSystem:A,coordinateOrigin:u,wrapLongitude:h,positionFormat:f,modelMatrix:d,extensions:g,fetch:_,operation:m,_subLayerProps:y}=this.props,b={id:"",updateTriggers:{},opacity:t,pickable:r,visible:i,parameters:s,getPolygonOffset:a,highlightedObjectIndex:o,autoHighlight:l,highlightColor:c,coordinateSystem:A,coordinateOrigin:u,wrapLongitude:h,positionFormat:f,modelMatrix:d,extensions:g,fetch:_,operation:m},v=y&&e.id&&y[e.id],B=v&&v.updateTriggers,C=e.id||"sublayer";if(v){const R=this.props[qA],w=e.type?e.type._propTypes:{};for(const U in v){const M=w[U]||R[U];M&&M.type==="accessor"&&(v[U]=this.getSubLayerAccessor(v[U]))}}Object.assign(b,e,v),b.id=`${this.props.id}-${C}`,b.updateTriggers={all:(I=this.props.updateTriggers)==null?void 0:I.all,...e.updateTriggers,...B};for(const R of g){const w=R.getSubLayerProps.call(this,R);w&&Object.assign(b,w,{updateTriggers:Object.assign(b.updateTriggers,w.updateTriggers)})}return b}_updateAutoHighlight(e){for(const t of this.getSubLayers())t.updateAutoHighlight(e)}_getAttributeManager(){return null}_postUpdate(e,t){let r=this.internalState.subLayers;const i=!r||this.needsUpdate();if(i){const s=this.renderLayers();r=K1(s,Boolean),this.internalState.subLayers=r}ea(k6e,this,i,r);for(const s of r)s.parent=this}}$j.layerName="CompositeLayer";const R4=Math.PI/180,xF=180/Math.PI,Tm=6370972,mh=256;function P6e(){const n=mh/Tm,e=Math.PI/180*mh;return{unitsPerMeter:[n,n,n],unitsPerMeter2:[0,0,0],metersPerUnit:[1/n,1/n,1/n],unitsPerDegree:[e,e,n],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/e,1/e,1/n]}}class D6e extends Hd{constructor(e={}){const{longitude:t=0,zoom:r=0,nearZMultiplier:i=.5,farZMultiplier:s=1,resolution:a=10}=e;let{latitude:o=0,height:l,altitude:c=1.5,fovy:A}=e;o=Math.max(Math.min(o,OA),-OA),l=l||1,A?c=jR(A):A=j3(c);const u=1/Math.PI/Math.cos(o*Math.PI/180),h=Math.pow(2,r)*u,f=e.nearZ??i,d=e.farZ??(c+mh*2*h/l)*s,g=new Yn().lookAt({eye:[0,-c,0],up:[0,0,1]});g.rotateX(o*R4),g.rotateZ(-t*R4),g.scale(h/l),super({...e,height:l,viewMatrix:g,longitude:t,latitude:o,zoom:r,distanceScales:P6e(),fovy:A,focalDistance:c,near:f,far:d}),this.scale=h,this.latitude=o,this.longitude=t,this.resolution=a}get projectionMode(){return yo.GLOBE}getDistanceScales(){return this.distanceScales}getBounds(e={}){const t={targetZ:e.z||0},r=this.unproject([0,this.height/2],t),i=this.unproject([this.width/2,0],t),s=this.unproject([this.width,this.height/2],t),a=this.unproject([this.width/2,this.height],t);return s[0]<this.longitude&&(s[0]+=360),r[0]>this.longitude&&(r[0]-=360),[Math.min(r[0],s[0],i[0],a[0]),Math.min(r[1],s[1],i[1],a[1]),Math.max(r[0],s[0],i[0],a[0]),Math.max(r[1],s[1],i[1],a[1])]}unproject(e,{topLeft:t=!0,targetZ:r}={}){const[i,s,a]=e,o=t?s:this.height-s,{pixelUnprojectionMatrix:l}=this;let c;if(Number.isFinite(a))c=x8(l,[i,o,a,1]);else{const f=x8(l,[i,o,-1,1]),d=x8(l,[i,o,1,1]),g=((r||0)/Tm+1)*mh,_=a8(kQ([],f,d)),m=a8(f),y=a8(d),v=4*((4*m*y-(_-m-y)**2)/16)/_,B=Math.sqrt(m-v),C=Math.sqrt(Math.max(0,g*g-v)),I=(B-C)/Math.sqrt(_);c=Rge([],f,d,I)}const[A,u,h]=this.unprojectPosition(c);return Number.isFinite(a)?[A,u,h]:Number.isFinite(r)?[A,u,r]:[A,u]}projectPosition(e){const[t,r,i=0]=e,s=t*R4,a=r*R4,o=Math.cos(a),l=(i/Tm+1)*mh;return[Math.sin(s)*o*l,-Math.cos(s)*o*l,Math.sin(a)*l]}unprojectPosition(e){const[t,r,i]=e,s=PQ(e),a=Math.asin(i/s),l=Math.atan2(t,-r)*xF,c=a*xF,A=(s/mh-1)*Tm;return[l,c,A]}projectFlat(e){return e}unprojectFlat(e){return e}panByPosition(e,t){const r=this.unproject(t);return{longitude:e[0]-r[0]+this.longitude,latitude:e[1]-r[1]+this.latitude}}}function x8(n,e){const t=zd([],e,n);return DR(t,t,1/t[3]),t}class O6e extends vj{applyConstraints(e){const{maxZoom:t,minZoom:r,zoom:i}=e;e.zoom=Ul(i,r,t);const{longitude:s,latitude:a}=e;return(s<-180||s>180)&&(e.longitude=s4e(s+180,360)-180),e.latitude=Ul(a,-OA,OA),e}}class z6e extends bj{constructor(){super(...arguments),this.ControllerState=O6e,this.transition={transitionDuration:300,transitionInterpolator:new KR(["longitude","latitude","zoom"])},this.dragMode="pan"}setProps(e){super.setProps(e),this.dragRotate=!1,this.touchRotate=!1}}class Wj extends yj{constructor(e={}){super(e)}getViewportType(e){return e.zoom>12?G1:D6e}get ControllerType(){return z6e}}Wj.displayName="GlobeView";const $3="mapbox",R8=512,H6e=Math.PI/180;function qj({map:n,gl:e,deck:t}){if(n.__deck)return n.__deck;const r=t==null?void 0:t.props._customRender,i=t==null?void 0:t.props.onLoad,s={...t==null?void 0:t.props,_customRender:()=>{n.triggerRepaint(),r==null||r("")}};s.parameters={...Mm(n,!0),...s.parameters},s.views||(s.views=t3(n));let a;return(!t||t.props.gl===e)&&(Object.assign(s,{gl:e,width:null,height:null,touchAction:"unset",viewState:W3(n)}),t!=null&&t.isInitialized?RF(t,n):s.onLoad=()=>{i==null||i(),RF(a,n)}),t?(a=t,t.setProps(s),t.userData.isExternal=!0):(a=new K3(s),n.on("remove",()=>{Xj(n)})),a.userData.mapboxLayers=new Set,n.__deck=a,n.on("render",()=>{a.isInitialized&&K6e(a,n)}),a}function RF(n,e){const t=()=>{n.isInitialized?$6e(n,e):e.off("move",t)};e.on("move",t)}function Xj(n){var e;(e=n.__deck)==null||e.finalize(),n.__deck=null}function Mm(n,e){const t=e?{depthWriteEnabled:!0,depthCompare:"less-equal",depthBias:0,blend:!0,blendColorSrcFactor:"src-alpha",blendColorDstFactor:"one-minus-src-alpha",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one-minus-src-alpha",blendColorOperation:"add",blendAlphaOperation:"add"}:{};return rB(n)==="globe"&&(t.cullMode="back"),t}function Q6e(n,e){n.userData.mapboxLayers.add(e),iB(n)}function j6e(n,e){n.userData.mapboxLayers.delete(e),iB(n)}function Y6e(n,e){iB(n)}function G6e(n,e,t,r){let{currentViewport:i}=n.userData,s=!1;i||(i=Jj(n,e,r),n.userData.currentViewport=i,s=!0),n.isInitialized&&n._drawLayers("mapbox-repaint",{viewports:[i],layerFilter:a=>(!n.props.layerFilter||n.props.layerFilter(a))&&(t.id===a.layer.id||a.layer.props.operation.includes("terrain")),clearStack:s,clearCanvas:!1})}function rB(n){var r;const e=(r=n.getProjection)==null?void 0:r.call(n),t=(e==null?void 0:e.type)||(e==null?void 0:e.name);if(t==="globe")return"globe";if(t&&t!=="mercator")throw new Error("Unsupported projection");return"mercator"}function t3(n){return rB(n)==="globe"?new Wj({id:$3}):new $R({id:$3})}function W3(n){var i;const{lng:e,lat:t}=n.getCenter(),r={longitude:(e+540)%360-180,latitude:t,zoom:n.getZoom(),bearing:n.getBearing(),pitch:n.getPitch(),padding:n.getPadding(),repeat:n.getRenderWorldCopies()};return(i=n.getTerrain)!=null&&i.call(n)&&V6e(n,r),r}function V6e(n,e){if(n.getFreeCameraOptions){const{position:t}=n.getFreeCameraOptions();if(!t||t.z===void 0)return;const r=n.transform.height,{longitude:i,latitude:s,pitch:a}=e,o=t.x*R8,l=(1-t.y)*R8,c=t.z*R8,A=Q3([i,s]),u=o-A[0],h=l-A[1],f=Math.sqrt(u*u+h*h),d=a*H6e,g=1.5*r,_=d<.001?g*Math.cos(d)/c:g*Math.sin(d)/f;e.zoom=Math.log2(_);const m=g*Math.cos(d)/_,y=c-m;e.position=[0,0,y/Cm(s)]}else typeof n.transform.elevation=="number"&&(e.position=[0,0,n.transform.elevation])}function Jj(n,e,t){const r=W3(e),{views:i}=n.props,s=i&&K1(i).find(l=>l.id===$3)||t3(e);t&&(s.props.nearZMultiplier=.2);const a=(t==null?void 0:t.nearZ)??e.transform._nearZ,o=(t==null?void 0:t.farZ)??e.transform._farZ;return Number.isFinite(a)&&(r.nearZ=a/e.transform.height,r.farZ=o/e.transform.height),s.makeViewport({width:n.width,height:n.height,viewState:r})}function K6e(n,e){const{mapboxLayers:t,isExternal:r}=n.userData;if(r){const i=Array.from(t,A=>A.id),a=K1(n.props.layers,Boolean).some(A=>A&&!i.includes(A.id));let o=n.getViewports();const l=o.findIndex(A=>A.id===$3),c=o.length>1||l<0;(a||c)&&(l>=0&&(o=o.slice(),o[l]=Jj(n,e)),n._drawLayers("mapbox-repaint",{viewports:o,layerFilter:A=>(!n.props.layerFilter||n.props.layerFilter(A))&&(A.viewport.id!==$3||!i.includes(A.layer.id)),clearCanvas:!1}))}n.userData.currentViewport=null}function $6e(n,e){n.setProps({viewState:W3(e)}),n.needsRedraw({clearRedrawFlags:!0})}function iB(n){if(n.userData.isExternal)return;const e=[];n.userData.mapboxLayers.forEach(t=>{const r=t.props.type,i=new r(t.props);e.push(i)}),n.setProps({layers:e})}class W6e{constructor(e){if(!e.id)throw new Error("Layer must have an unique id");this.id=e.id,this.type="custom",this.renderingMode=e.renderingMode||"3d",this.slot=e.slot,this.map=null,this.deck=null,this.props=e}onAdd(e,t){this.map=e,this.deck=qj({map:e,gl:t,deck:this.props.deck}),Q6e(this.deck,this)}onRemove(){this.deck&&j6e(this.deck,this)}setProps(e){Object.assign(this.props,e,{id:this.id}),this.deck&&Y6e(this.deck)}render(e,t){G6e(this.deck,this.map,this,t)}}const B8="__UNDEFINED__";function B4(n,e,t,r){if(!n||!e||!n.style||!n.style._loaded)return;const i=K1(r,Boolean);if(t!==r){const o=K1(t,Boolean),l=new Set(o.map(c=>c.id));for(const c of i)l.delete(c.id);for(const c of l)n.getLayer(c)&&n.removeLayer(c)}for(const o of i){const l=n.getLayer(o.id);l?(l.implementation||l).setProps(o.props):n.addLayer(new W6e({id:o.id,deck:e,slot:o.props.slot}),o.props.beforeId)}const s=n.style._order,a={};for(const o of i){let{beforeId:l}=o.props;(!l||!s.includes(l))&&(l=B8),a[l]=a[l]||[],a[l].push(o.id)}for(const o in a){const l=a[o];let c=o===B8?s.length:s.indexOf(o),A=o===B8?void 0:o;for(let u=l.length-1;u>=0;u--){const h=l[u],f=s.indexOf(h);f!==c-1&&(n.moveLayer(h,A),f>c&&c++),c--,A=h}}}class q6e{constructor(e){this._handleStyleChange=()=>{var i;if(B4(this._map,this._deck,this._props.layers,this._props.layers),!this._map)return;rB(this._map)&&!this._props.views&&((i=this._deck)==null||i.setProps({views:t3(this._map)}))},this._updateContainerSize=()=>{if(this._map&&this._container){const{clientWidth:r,clientHeight:i}=this._map.getContainer();Object.assign(this._container.style,{width:`${r}px`,height:`${i}px`})}},this._updateViewState=()=>{const r=this._deck,i=this._map;r&&i&&(r.setProps({views:this._props.views||t3(i),viewState:W3(i)}),r.isInitialized&&r.redraw())},this._handleMouseEvent=r=>{const i=this._deck;if(!i||!i.isInitialized)return;const s={type:r.type,offsetCenter:r.point,srcEvent:r},a=this._lastMouseDownPoint;switch(!r.point&&a&&(s.deltaX=r.originalEvent.clientX-a.clientX,s.deltaY=r.originalEvent.clientY-a.clientY,s.offsetCenter={x:a.x+s.deltaX,y:a.y+s.deltaY}),s.type){case"mousedown":i._onPointerDown(s),this._lastMouseDownPoint={...r.point,clientX:r.originalEvent.clientX,clientY:r.originalEvent.clientY};break;case"dragstart":s.type="panstart",i._onEvent(s);break;case"drag":s.type="panmove",i._onEvent(s);break;case"dragend":s.type="panend",i._onEvent(s);break;case"click":s.tapCount=1,i._onEvent(s);break;case"dblclick":s.type="click",s.tapCount=2,i._onEvent(s);break;case"mousemove":s.type="pointermove",i._onPointerMove(s);break;case"mouseout":s.type="pointerleave",i._onPointerMove(s);break;default:return}};const{interleaved:t=!1}=e;this._interleaved=t,this._props=this.filterProps(e)}filterProps(e){const{interleaved:t=!1,useDevicePixels:r,...i}=e;return!t&&r!==void 0&&(i.useDevicePixels=r),i}setProps(e){this._interleaved&&e.layers&&B4(this._map,this._deck,this._props.layers,e.layers),Object.assign(this._props,this.filterProps(e)),this._deck&&this._map&&this._deck.setProps({...this._props,parameters:{...Mm(this._map,this._interleaved),...this._props.parameters}})}onAdd(e){return this._map=e,this._interleaved?this._onAddInterleaved(e):this._onAddOverlaid(e)}_onAddOverlaid(e){const t=document.createElement("div");return Object.assign(t.style,{position:"absolute",left:0,top:0,textAlign:"initial",pointerEvents:"none"}),this._container=t,this._deck=new K3({...this._props,parent:t,parameters:{...Mm(e,!1),...this._props.parameters},views:this._props.views||t3(e),viewState:W3(e)}),e.on("resize",this._updateContainerSize),e.on("render",this._updateViewState),e.on("mousedown",this._handleMouseEvent),e.on("dragstart",this._handleMouseEvent),e.on("drag",this._handleMouseEvent),e.on("dragend",this._handleMouseEvent),e.on("mousemove",this._handleMouseEvent),e.on("mouseout",this._handleMouseEvent),e.on("click",this._handleMouseEvent),e.on("dblclick",this._handleMouseEvent),this._updateContainerSize(),t}_onAddInterleaved(e){const t=e.painter.context.gl;return t instanceof WebGLRenderingContext&&or.warn("Incompatible basemap library. See: https://deck.gl/docs/api-reference/mapbox/overview#compatibility")(),this._deck=qj({map:e,gl:t,deck:new K3({...this._props,gl:t,parameters:{...Mm(e,!0),...this._props.parameters}})}),e.on("styledata",this._handleStyleChange),B4(e,this._deck,[],this._props.layers),document.createElement("div")}onRemove(){const e=this._map;e&&(this._interleaved?this._onRemoveInterleaved(e):this._onRemoveOverlaid(e)),this._deck=void 0,this._map=void 0,this._container=void 0}_onRemoveOverlaid(e){var t;e.off("resize",this._updateContainerSize),e.off("render",this._updateViewState),e.off("mousedown",this._handleMouseEvent),e.off("dragstart",this._handleMouseEvent),e.off("drag",this._handleMouseEvent),e.off("dragend",this._handleMouseEvent),e.off("mousemove",this._handleMouseEvent),e.off("mouseout",this._handleMouseEvent),e.off("click",this._handleMouseEvent),e.off("dblclick",this._handleMouseEvent),(t=this._deck)==null||t.finalize()}_onRemoveInterleaved(e){e.off("styledata",this._handleStyleChange),B4(e,this._deck,this._props.layers,[]),Xj(e)}getDefaultPosition(){return"top-left"}pickObject(e){return ps(this._deck),this._deck.pickObject(e)}pickMultipleObjects(e){return ps(this._deck),this._deck.pickMultipleObjects(e)}pickObjects(e){return ps(this._deck),this._deck.pickObjects(e)}finalize(){this._map&&this._map.removeControl(this)}getCanvas(){return this._map?this._interleaved?this._map.getCanvas():this._deck.getCanvas():null}}function BF(n,e){if(e===Q$)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Yw||e===Vk){let t=n.getIndex();if(t===null){const a=[],o=n.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)a.push(l);n.setIndex(a),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===Yw)for(let a=1;a<=r;a++)i.push(t.getX(0)),i.push(t.getX(a)),i.push(t.getX(a+1));else for(let a=0;a<r;a++)a%2===0?(i.push(t.getX(a)),i.push(t.getX(a+1)),i.push(t.getX(a+2))):(i.push(t.getX(a+2)),i.push(t.getX(a+1)),i.push(t.getX(a)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}let X6e=class extends j${constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new nbe(t)}),this.register(function(t){return new rbe(t)}),this.register(function(t){return new fbe(t)}),this.register(function(t){return new hbe(t)}),this.register(function(t){return new dbe(t)}),this.register(function(t){return new sbe(t)}),this.register(function(t){return new abe(t)}),this.register(function(t){return new obe(t)}),this.register(function(t){return new lbe(t)}),this.register(function(t){return new tbe(t)}),this.register(function(t){return new cbe(t)}),this.register(function(t){return new ibe(t)}),this.register(function(t){return new ube(t)}),this.register(function(t){return new Abe(t)}),this.register(function(t){return new Z6e(t)}),this.register(function(t){return new gbe(t)}),this.register(function(t){return new pbe(t)})}load(e,t,r,i){const s=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const c=Tg.extractUrlBase(e);a=Tg.resolveURL(c,this.path)}else a=Tg.extractUrlBase(e);this.manager.itemStart(e);const o=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Kk(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,a,function(A){t(A),s.manager.itemEnd(e)},o)}catch(A){o(A)}},r,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const a={},o={},l=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===Zj){try{a[Gn.KHR_BINARY_GLTF]=new _be(e)}catch(u){i&&i(u);return}s=JSON.parse(a[Gn.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Tbe(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let A=0;A<this.pluginCallbacks.length;A++){const u=this.pluginCallbacks[A](c);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[u.name]=u,a[u.name]=!0}if(s.extensionsUsed)for(let A=0;A<s.extensionsUsed.length;++A){const u=s.extensionsUsed[A],h=s.extensionsRequired||[];switch(u){case Gn.KHR_MATERIALS_UNLIT:a[u]=new ebe;break;case Gn.KHR_DRACO_MESH_COMPRESSION:a[u]=new mbe(s,this.dracoLoader);break;case Gn.KHR_TEXTURE_TRANSFORM:a[u]=new ybe;break;case Gn.KHR_MESH_QUANTIZATION:a[u]=new bbe;break;default:h.indexOf(u)>=0&&o[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}c.setExtensions(a),c.setPlugins(o),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}};function J6e(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Gn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Z6e{constructor(e){this.parser=e,this.name=Gn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const A=new ZA(16777215);l.color!==void 0&&A.setRGB(l.color[0],l.color[1],l.color[2],O0);const u=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new V$(A),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new G$(A),c.distance=u;break;case"spot":c=new Y$(A),c.distance=u,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,d0(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],o=(s.extensions&&s.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return r._getNodeRef(t.cache,o,l)})}}class ebe{constructor(){this.name=Gn.KHR_MATERIALS_UNLIT}getMaterialType(){return ah}extendParams(e,t,r){const i=[];e.color=new ZA(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],O0),e.opacity=a[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,nd))}return Promise.all(i)}}class tbe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class nbe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new $k(o,o)}return Promise.all(s)}}class rbe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uc}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class ibe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}}class sbe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ZA(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=i.extensions[this.name];if(a.sheenColorFactor!==void 0){const o=a.sheenColorFactor;t.sheenColor.setRGB(o[0],o[1],o[2],O0)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",a.sheenColorTexture,nd)),a.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class abe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class obe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return t.attenuationColor=new ZA().setRGB(o[0],o[1],o[2],O0),Promise.all(s)}}class lbe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uc}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class cbe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return t.specularColor=new ZA().setRGB(o[0],o[1],o[2],O0),a.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",a.specularColorTexture,nd)),Promise.all(s)}}class Abe{constructor(e){this.parser=e,this.name=Gn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&s.push(r.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(s)}}class ube{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class fbe{constructor(e){this.parser=e,this.name=Gn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,a)}}class hbe{constructor(e){this.parser=e,this.name=Gn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],o=i.images[a.source];let l=r.textureLoader;if(o.uri){const c=r.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,a.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class dbe{constructor(e){this.parser=e,this.name=Gn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],o=i.images[a.source];let l=r.textureLoader;if(o.uri){const c=r.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,a.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class gbe{constructor(e){this.name=Gn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(o){const l=i.byteOffset||0,c=i.byteLength||0,A=i.count,u=i.byteStride,h=new Uint8Array(o,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(A,u,h,i.mode,i.filter).then(function(f){return f.buffer}):a.ready.then(function(){const f=new ArrayBuffer(A*u);return a.decodeGltfBuffer(new Uint8Array(f),A,u,h,i.mode,i.filter),f})})}else return null}}class pbe{constructor(e){this.name=Gn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Do.TRIANGLES&&c.mode!==Do.TRIANGLE_STRIP&&c.mode!==Do.TRIANGLE_FAN&&c.mode!==void 0)return null;const a=r.extensions[this.name].attributes,o=[],l={};for(const c in a)o.push(this.parser.getDependency("accessor",a[c]).then(A=>(l[c]=A,l[c])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(c=>{const A=c.pop(),u=A.isGroup?A.children:[A],h=c[0].count,f=[];for(const d of u){const g=new L0,_=new _s,m=new Wk,y=new _s(1,1,1),b=new K$(d.geometry,d.material,h);for(let v=0;v<h;v++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,v),l.ROTATION&&m.fromBufferAttribute(l.ROTATION,v),l.SCALE&&y.fromBufferAttribute(l.SCALE,v),b.setMatrixAt(v,g.compose(_,m,y));for(const v in l)if(v==="_COLOR_0"){const B=l[v];b.instanceColor=new $$(B.array,B.itemSize,B.normalized)}else v!=="TRANSLATION"&&v!=="ROTATION"&&v!=="SCALE"&&d.geometry.setAttribute(v,l[v]);qk.prototype.copy.call(b,d),this.parser.assignFinalMaterial(b),f.push(b)}return A.isGroup?(A.clear(),A.add(...f),A):f[0]}))}}const Zj="glTF",P2=12,EF={JSON:1313821514,BIN:5130562};class _be{constructor(e){this.name=Gn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,P2),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Zj)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-P2,s=new DataView(e,P2);let a=0;for(;a<i;){const o=s.getUint32(a,!0);a+=4;const l=s.getUint32(a,!0);if(a+=4,l===EF.JSON){const c=new Uint8Array(e,P2+a,o);this.content=r.decode(c)}else if(l===EF.BIN){const c=P2+a;this.body=e.slice(c,c+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class mbe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Gn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},c={};for(const A in a){const u=Z9[A]||A.toLowerCase();o[u]=a[A]}for(const A in e.attributes){const u=Z9[A]||A.toLowerCase();if(a[A]!==void 0){const h=r.accessors[e.attributes[A]],f=Yh[h.componentType];c[u]=f.name,l[u]=h.normalized===!0}}return t.getDependency("bufferView",s).then(function(A){return new Promise(function(u,h){i.decodeDracoFile(A,function(f){for(const d in f.attributes){const g=f.attributes[d],_=l[d];_!==void 0&&(g.normalized=_)}u(f)},o,c,O0,h)})})}}class ybe{constructor(){this.name=Gn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class bbe{constructor(){this.name=Gn.KHR_MESH_QUANTIZATION}}class eY extends mW{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let a=0;a!==i;a++)t[a]=r[s+a];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,A=i-t,u=(r-t)/A,h=u*u,f=h*u,d=e*c,g=d-c,_=-2*f+3*h,m=f-h,y=1-_,b=m-h+u;for(let v=0;v!==o;v++){const B=a[g+v+o],C=a[g+v+l]*A,I=a[d+v+o],R=a[d+v]*A;s[v]=y*B+b*C+_*I+m*R}return s}}const vbe=new Wk;class wbe extends eY{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return vbe.fromArray(s).normalize().toArray(s),s}}const Do={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Yh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},CF={9728:Zk,9729:y3,9984:Z$,9985:J$,9986:X$,9987:Jk},IF={33071:tW,33648:eW,10497:Gw},E8={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Z9={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},mA={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Lbe={CUBICSPLINE:void 0,LINEAR:nP,STEP:gW},C8={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function xbe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Jm({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:_W})),n.DefaultMaterial}function Vu(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function d0(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Rbe(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,A=e.length;c<A;c++){const u=e[c];if(u.POSITION!==void 0&&(r=!0),u.NORMAL!==void 0&&(i=!0),u.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const a=[],o=[],l=[];for(let c=0,A=e.length;c<A;c++){const u=e[c];if(r){const h=u.POSITION!==void 0?t.getDependency("accessor",u.POSITION):n.attributes.position;a.push(h)}if(i){const h=u.NORMAL!==void 0?t.getDependency("accessor",u.NORMAL):n.attributes.normal;o.push(h)}if(s){const h=u.COLOR_0!==void 0?t.getDependency("accessor",u.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const A=c[0],u=c[1],h=c[2];return r&&(n.morphAttributes.position=A),i&&(n.morphAttributes.normal=u),s&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}function Bbe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ebe(n){let e;const t=n.extensions&&n.extensions[Gn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+I8(t.attributes):e=n.indices+":"+I8(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+I8(n.targets[r]);return e}function I8(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function eL(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Cbe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":n.search(/\.ktx2($|\?)/i)>0||n.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const Ibe=new L0;class Tbe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new J6e,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=-1,s=!1,a=-1;if(typeof navigator<"u"){const o=navigator.userAgent;r=/^((?!chrome|android).)*safari/i.test(o)===!0;const l=o.match(/Version\/(\d+)/);i=r&&l?parseInt(l[1],10):-1,s=o.indexOf("Firefox")>-1,a=s?o.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||r&&i<17||s&&a<98?this.textureLoader=new Xk(this.options.manager):this.textureLoader=new W$(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Kk(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(a){const o={scene:a[0][i.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:i.asset,parser:r,userData:{}};return Vu(s,o,i),d0(o,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(const l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const a=t[i].joints;for(let o=0,l=a.length;o<l;o++)e[a[o]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const a=e[i];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(r[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(a,o)=>{const l=this.associations.get(a);l!=null&&this.associations.set(o,l);for(const[c,A]of a.children.entries())s(A,o.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,a){return r.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Gn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,a){r.load(Tg.resolveURL(t.uri,i.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const a=E8[i.type],o=Yh[i.componentType],l=i.normalized===!0,c=new o(i.count*a);return Promise.resolve(new Bb(c,a,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(a){const o=a[0],l=E8[i.type],c=Yh[i.componentType],A=c.BYTES_PER_ELEMENT,u=A*l,h=i.byteOffset||0,f=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,d=i.normalized===!0;let g,_;if(f&&f!==u){const m=Math.floor(h/f),y="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+m+":"+i.count;let b=t.cache.get(y);b||(g=new c(o,m*f,i.count*f/A),b=new q$(g,f/A),t.cache.add(y,b)),_=new pW(b,l,h%f/A,d)}else o===null?g=new c(i.count*l):g=new c(o,h,i.count*l),_=new Bb(g,l,d);if(i.sparse!==void 0){const m=E8.SCALAR,y=Yh[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,v=i.sparse.values.byteOffset||0,B=new y(a[1],b,i.sparse.count*m),C=new c(a[2],v,i.sparse.count*l);o!==null&&(_=new Bb(_.array.slice(),_.itemSize,_.normalized)),_.normalized=!1;for(let I=0,R=B.length;I<R;I++){const w=B[I];if(_.setX(w,C[I*l]),l>=2&&_.setY(w,C[I*l+1]),l>=3&&_.setZ(w,C[I*l+2]),l>=4&&_.setW(w,C[I*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}_.normalized=d}return _})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,a=t.images[s];let o=this.textureLoader;if(a.uri){const l=r.manager.getHandler(a.uri);l!==null&&(o=l)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,t,r){const i=this,s=this.json,a=s.textures[e],o=s.images[t],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(A){A.flipY=!1,A.name=a.name||o.name||"",A.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(A.name=o.uri);const h=(s.samplers||{})[a.sampler]||{};return A.magFilter=CF[h.magFilter]||y3,A.minFilter=CF[h.minFilter]||Jk,A.wrapS=IF[h.wrapS]||Gw,A.wrapT=IF[h.wrapT]||Gw,A.generateMipmaps=!A.isCompressedTexture&&A.minFilter!==Zk&&A.minFilter!==y3,i.associations.set(A,{textures:e}),A}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(u=>u.clone());const a=i.images[e],o=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=r.getDependency("bufferView",a.bufferView).then(function(u){c=!0;const h=new Blob([u],{type:a.mimeType});return l=o.createObjectURL(h),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const A=Promise.resolve(l).then(function(u){return new Promise(function(h,f){let d=h;t.isImageBitmapLoader===!0&&(d=function(g){const _=new eC(g);_.needsUpdate=!0,h(_)}),t.load(Tg.resolveURL(u,s.path),d,void 0,f)})}).then(function(u){return c===!0&&o.revokeObjectURL(l),d0(u,a),u.userData.mimeType=a.mimeType||Cbe(a.uri),u}).catch(function(u){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),u});return this.sourceCache[e]=A,A}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(a){if(!a)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(a=a.clone(),a.channel=r.texCoord),s.extensions[Gn.KHR_TEXTURE_TRANSFORM]){const o=r.extensions!==void 0?r.extensions[Gn.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=s.associations.get(a);a=s.extensions[Gn.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),s.associations.set(a,l)}}return i!==void 0&&(a.colorSpace=i),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+r.uuid;let l=this.cache.get(o);l||(l=new nW,Eb.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(o,l)),r=l}else if(e.isLine){const o="LineBasicMaterial:"+r.uuid;let l=this.cache.get(o);l||(l=new rW,Eb.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(o,l)),r=l}if(i||s||a){let o="ClonedMaterial:"+r.uuid+":";i&&(o+="derivative-tangents:"),s&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=r.clone(),s&&(l.vertexColors=!0),a&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Jm}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let a;const o={},l=s.extensions||{},c=[];if(l[Gn.KHR_MATERIALS_UNLIT]){const u=i[Gn.KHR_MATERIALS_UNLIT];a=u.getMaterialType(),c.push(u.extendParams(o,s,t))}else{const u=s.pbrMetallicRoughness||{};if(o.color=new ZA(1,1,1),o.opacity=1,Array.isArray(u.baseColorFactor)){const h=u.baseColorFactor;o.color.setRGB(h[0],h[1],h[2],O0),o.opacity=h[3]}u.baseColorTexture!==void 0&&c.push(t.assignTexture(o,"map",u.baseColorTexture,nd)),o.metalness=u.metallicFactor!==void 0?u.metallicFactor:1,o.roughness=u.roughnessFactor!==void 0?u.roughnessFactor:1,u.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(o,"metalnessMap",u.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",u.metallicRoughnessTexture))),a=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,o)})))}s.doubleSided===!0&&(o.side=eP);const A=s.alphaMode||C8.OPAQUE;if(A===C8.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,A===C8.MASK&&(o.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==ah&&(c.push(t.assignTexture(o,"normalMap",s.normalTexture)),o.normalScale=new $k(1,1),s.normalTexture.scale!==void 0)){const u=s.normalTexture.scale;o.normalScale.set(u,u)}if(s.occlusionTexture!==void 0&&a!==ah&&(c.push(t.assignTexture(o,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==ah){const u=s.emissiveFactor;o.emissive=new ZA().setRGB(u[0],u[1],u[2],O0)}return s.emissiveTexture!==void 0&&a!==ah&&c.push(t.assignTexture(o,"emissiveMap",s.emissiveTexture,nd)),Promise.all(c).then(function(){const u=new a(o);return s.name&&(u.name=s.name),d0(u,s),t.associations.set(u,{materials:e}),s.extensions&&Vu(i,u,s),u})}createUniqueName(e){const t=iW.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(o){return r[Gn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return TF(l,o,t)})}const a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],A=Ebe(c),u=i[A];if(u)a.push(u.promise);else{let h;c.extensions&&c.extensions[Gn.KHR_DRACO_MESH_COMPRESSION]?h=s(c):h=TF(new sW,c,t),i[A]={primitive:c,promise:h},a.push(h)}}return Promise.all(a)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],a=s.primitives,o=[];for(let l=0,c=a.length;l<c;l++){const A=a[l].material===void 0?xbe(this.cache):this.getDependency("material",a[l].material);o.push(A)}return o.push(t.loadGeometries(a)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),A=l[l.length-1],u=[];for(let f=0,d=A.length;f<d;f++){const g=A[f],_=a[f];let m;const y=c[f];if(_.mode===Do.TRIANGLES||_.mode===Do.TRIANGLE_STRIP||_.mode===Do.TRIANGLE_FAN||_.mode===void 0)m=s.isSkinnedMesh===!0?new aW(g,y):new sm(g,y),m.isSkinnedMesh===!0&&m.normalizeSkinWeights(),_.mode===Do.TRIANGLE_STRIP?m.geometry=BF(m.geometry,Vk):_.mode===Do.TRIANGLE_FAN&&(m.geometry=BF(m.geometry,Yw));else if(_.mode===Do.LINES)m=new oW(g,y);else if(_.mode===Do.LINE_STRIP)m=new lW(g,y);else if(_.mode===Do.LINE_LOOP)m=new cW(g,y);else if(_.mode===Do.POINTS)m=new AW(g,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(m.geometry.morphAttributes).length>0&&Bbe(m,s),m.name=t.createUniqueName(s.name||"mesh_"+e),d0(m,s),_.extensions&&Vu(i,m,_),t.assignFinalMaterial(m),u.push(m)}for(let f=0,d=u.length;f<d;f++)t.associations.set(u[f],{meshes:e,primitives:f});if(u.length===1)return s.extensions&&Vu(i,u[0],s),u[0];const h=new Mg;s.extensions&&Vu(i,h,s),t.associations.set(h,{meshes:e});for(let f=0,d=u.length;f<d;f++)h.add(u[f]);return h})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new tP(l1.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new uW(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),d0(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),a=i,o=[],l=[];for(let c=0,A=a.length;c<A;c++){const u=a[c];if(u){o.push(u);const h=new L0;s!==null&&h.fromArray(s.array,c*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new fW(o,l)})}loadAnimation(e){const t=this.json,r=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,a=[],o=[],l=[],c=[],A=[];for(let u=0,h=i.channels.length;u<h;u++){const f=i.channels[u],d=i.samplers[f.sampler],g=f.target,_=g.node,m=i.parameters!==void 0?i.parameters[d.input]:d.input,y=i.parameters!==void 0?i.parameters[d.output]:d.output;g.node!==void 0&&(a.push(this.getDependency("node",_)),o.push(this.getDependency("accessor",m)),l.push(this.getDependency("accessor",y)),c.push(d),A.push(g))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(A)]).then(function(u){const h=u[0],f=u[1],d=u[2],g=u[3],_=u[4],m=[];for(let y=0,b=h.length;y<b;y++){const v=h[y],B=f[y],C=d[y],I=g[y],R=_[y];if(v===void 0)continue;v.updateMatrix&&v.updateMatrix();const w=r._createAnimationTracks(v,B,C,I,R);if(w)for(let U=0;U<w.length;U++)m.push(w[U])}return new hW(s,void 0,m)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const a=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let l=0,c=i.weights.length;l<c;l++)o.morphTargetInfluences[l]=i.weights[l]}),a})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),a=[],o=i.children||[];for(let c=0,A=o.length;c<A;c++)a.push(r.getDependency("node",o[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(a),l]).then(function(c){const A=c[0],u=c[1],h=c[2];h!==null&&A.traverse(function(f){f.isSkinnedMesh&&f.bind(h,Ibe)});for(let f=0,d=u.length;f<d;f++)A.add(u[f]);return A})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],a=s.name?i.createUniqueName(s.name):"",o=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),s.camera!==void 0&&o.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let A;if(s.isBone===!0?A=new dW:c.length>1?A=new Mg:c.length===1?A=c[0]:A=new qk,A!==c[0])for(let u=0,h=c.length;u<h;u++)A.add(c[u]);if(s.name&&(A.userData.name=s.name,A.name=a),d0(A,s),s.extensions&&Vu(r,A,s),s.matrix!==void 0){const u=new L0;u.fromArray(s.matrix),A.applyMatrix4(u)}else s.translation!==void 0&&A.position.fromArray(s.translation),s.rotation!==void 0&&A.quaternion.fromArray(s.rotation),s.scale!==void 0&&A.scale.fromArray(s.scale);return i.associations.has(A)||i.associations.set(A,{}),i.associations.get(A).nodes=e,A}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new Mg;r.name&&(s.name=i.createUniqueName(r.name)),d0(s,r),r.extensions&&Vu(t,s,r);const a=r.nodes||[],o=[];for(let l=0,c=a.length;l<c;l++)o.push(i.getDependency("node",a[l]));return Promise.all(o).then(function(l){for(let A=0,u=l.length;A<u;A++)s.add(l[A]);const c=A=>{const u=new Map;for(const[h,f]of i.associations)(h instanceof Eb||h instanceof eC)&&u.set(h,f);return A.traverse(h=>{const f=i.associations.get(h);f!=null&&u.set(h,f)}),u};return i.associations=c(s),s})}_createAnimationTracks(e,t,r,i,s){const a=[],o=e.name?e.name:e.uuid,l=[];mA[s.path]===mA.weights?e.traverse(function(h){h.morphTargetInfluences&&l.push(h.name?h.name:h.uuid)}):l.push(o);let c;switch(mA[s.path]){case mA.weights:c=nC;break;case mA.rotation:c=rC;break;case mA.position:case mA.scale:c=tC;break;default:switch(r.itemSize){case 1:c=nC;break;case 2:case 3:default:c=tC;break}break}const A=i.interpolation!==void 0?Lbe[i.interpolation]:nP,u=this._getArrayFromAccessor(r);for(let h=0,f=l.length;h<f;h++){const d=new c(l[h]+"."+mA[s.path],t.array,u,A);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(d),a.push(d)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=eL(t.constructor),i=new Float32Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=t[s]*r;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof rC?wbe:eY;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Mbe(n,e,t){const r=e.attributes,i=new yW;if(r.POSITION!==void 0){const o=t.json.accessors[r.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(i.set(new _s(l[0],l[1],l[2]),new _s(c[0],c[1],c[2])),o.normalized){const A=eL(Yh[o.componentType]);i.min.multiplyScalar(A),i.max.multiplyScalar(A)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const o=new _s,l=new _s;for(let c=0,A=s.length;c<A;c++){const u=s[c];if(u.POSITION!==void 0){const h=t.json.accessors[u.POSITION],f=h.min,d=h.max;if(f!==void 0&&d!==void 0){if(l.setX(Math.max(Math.abs(f[0]),Math.abs(d[0]))),l.setY(Math.max(Math.abs(f[1]),Math.abs(d[1]))),l.setZ(Math.max(Math.abs(f[2]),Math.abs(d[2]))),h.normalized){const g=eL(Yh[h.componentType]);l.multiplyScalar(g)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(o)}n.boundingBox=i;const a=new bW;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=a}function TF(n,e,t){const r=e.attributes,i=[];function s(a,o){return t.getDependency("accessor",a).then(function(l){n.setAttribute(o,l)})}for(const a in r){const o=Z9[a]||a.toLowerCase();o in n.attributes||i.push(s(r[a],o))}if(e.indices!==void 0&&!n.index){const a=t.getDependency("accessor",e.indices).then(function(o){n.setIndex(o)});i.push(a)}return iC.workingColorSpace!==O0&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${iC.workingColorSpace}" not supported.`),d0(n,e),Mbe(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Rbe(n,e.targets,t):n})}const MF=n=>{const{lng:e,lat:t,altitude:r,scale:i,rotationY:s}=n.transform,a=Qr.MercatorCoordinate.fromLngLat([e,t],Dt.getTerrain()?r:0),o=a.meterInMercatorCoordinateUnits();return{translateX:a.x,translateY:a.y,translateZ:a.z,rotateX:Math.PI/2,rotateY:s*Math.PI/180,rotateZ:0,scale:o*i}};class Sbe{constructor(){z(this,"camera",null);z(this,"scene",null);z(this,"modelGroup",null);z(this,"previewModelGroup",null);z(this,"renderer",null);z(this,"loadedModels",new Map);z(this,"loader",new X6e);z(this,"isInitialized",!1)}createLayer(){return{id:"3d-model-layer",type:"custom",renderingMode:"3d",onAdd:(e,t)=>{if(!this.isInitialized){this.camera=new vW,this.scene=new rP,this.modelGroup=new Mg,this.previewModelGroup=new Mg,this.scene.add(this.modelGroup),this.scene.add(this.previewModelGroup),this.renderer=new iP({canvas:e.getCanvas(),context:t,antialias:!0}),this.renderer.autoClear=!1;const r=new wW(16777215,4473924,1);this.scene.add(r),this.isInitialized=!0}},render:(e,t)=>{!this.scene||!this.camera||!this.renderer||this.loadedModels.size!==0&&this.loadedModels.forEach(r=>{const{transform:i}=r,s=new L0().makeRotationAxis(new _s(1,0,0),i.rotateX),a=new L0().makeRotationAxis(new _s(0,1,0),i.rotateY),o=new L0().makeRotationAxis(new _s(0,0,1),i.rotateZ),l=new L0().makeTranslation(i.translateX,i.translateY,i.translateZ).scale(new _s(i.scale,-i.scale,i.scale)).multiply(s).multiply(a).multiply(o),c=new L0().fromArray(t.defaultProjectionData.mainMatrix);this.camera.projectionMatrix=c.multiply(l),this.modelGroup.traverse(A=>{A.userData.entryId&&(A.visible=A.userData.entryId===r.entry.id)}),this.renderer.resetState(),this.renderer.render(this.scene,this.camera)})},onRemove:()=>{this.clearAllModels()}}}addModel(e,t="main"){return new Promise((r,i)=>{if(!this.modelGroup||!this.previewModelGroup){i(new Error("modelGroup not initialized"));return}if(e.style.type!=="mesh"){i(new Error('Entry style type must be "mesh"'));return}const s=MF(e.style);if(t==="main"){const o=this.loadedModels.get(e.id);if(o&&o.object.parent===this.previewModelGroup){this.previewModelGroup.remove(o.object),this.modelGroup.add(o.object),o.transform=s,r();return}}const a=this.loadedModels.get(e.id);if(a){const o=a.object.parent===this.previewModelGroup,l=a.object.parent===this.modelGroup;(t==="preview"&&o||t==="main"&&l)&&this.removeModel(e.id)}this.loader.load(e.format.url,o=>{const l=o.scene;l.traverse(c=>{if(c.isMesh){const A=c;(Array.isArray(A.material)?A.material:[A.material]).forEach(h=>{h.transparent=!0,h.opacity=e.style.opacity,e.style.wireframe&&(h.wireframe=!0)})}}),l.visible=e.style.visible??!0,l.userData.entryId=e.id,this.loadedModels.set(e.id,{entry:e,object:l,transform:s}),t==="preview"?this.previewModelGroup.add(l):this.modelGroup.add(l),r()},void 0,o=>{i(o)})})}async addModels(e){await Promise.all(e.map(t=>this.addModel(t)))}updateTransform(e){e.forEach(t=>{const r=this.loadedModels.get(t.id);if(!r)return;const i=MF(t.style);r.transform=i})}removeModel(e){const t=this.loadedModels.get(e);!t||!this.modelGroup||(this.modelGroup.remove(t.object),t.object.traverse(r=>{if(r.isMesh){const i=r;i.geometry.dispose(),(Array.isArray(i.material)?i.material:[i.material]).forEach(a=>a.dispose())}}),this.loadedModels.delete(e))}clearAllModels(){this.loadedModels.forEach((e,t)=>{this.removeModel(t)})}async replaceModels(e){this.clearAllModels(),await this.addModels(e)}setModelVisibility(e,t){const r=this.loadedModels.get(e);r&&r.object.traverse(i=>{if(i.isMesh){const s=i;(Array.isArray(s.material)?s.material:[s.material]).forEach(o=>{o.visible=t})}})}setModelOpacity(e,t){const r=this.loadedModels.get(e);r&&r.object.traverse(i=>{if(i.isMesh){const s=i;(Array.isArray(s.material)?s.material:[s.material]).forEach(o=>{o.opacity=t})}})}setModelWireframe(e,t){const r=this.loadedModels.get(e);r&&r.object.traverse(i=>{if(i.isMesh){const s=i;(Array.isArray(s.material)?s.material:[s.material]).forEach(o=>{o instanceof Jm&&(o.wireframe=t)})}})}setModelColor(e,t){const r=this.loadedModels.get(e);r&&r.object.traverse(i=>{if(i.isMesh){const s=i;(Array.isArray(s.material)?s.material:[s.material]).forEach(o=>{o instanceof Jm&&(o.color=new ZA(t))})}})}setGroupVisibility(e){this.modelGroup&&(this.modelGroup.visible=e)}promotePreviewToMain(e){if(!this.modelGroup||!this.previewModelGroup)return!1;const t=this.loadedModels.get(e);return t?(this.previewModelGroup.remove(t.object),this.modelGroup.add(t.object),!0):!1}clearPreview(e){if(this.previewModelGroup)if(e){const t=this.loadedModels.get(e);t&&t.object.parent===this.previewModelGroup&&this.removeModel(e)}else{const t=[];this.loadedModels.forEach((r,i)=>{r.object.parent===this.previewModelGroup&&t.push(i)}),t.forEach(r=>this.removeModel(r))}}dispose(){this.clearAllModels(),this.renderer&&(this.renderer.dispose(),this.renderer=null),this.scene=null,this.camera=null,this.isInitialized=!1}get initialized(){return this.isInitialized}get modelIds(){return Array.from(this.loadedModels.keys())}}const vl=new Sbe,Fbe=new Gre;Qr.addProtocol("pmtiles",Fbe.tile);const SF=Sie("webgl");Qr.addProtocol(SF.protocolName,SF.request);const FF=Vie("terrain");Qr.addProtocol(FF.protocolName,FF.request);const UF=Jie("geojson");Qr.addProtocol(UF.protocolName,UF.request);const E4=er(!0),Gh=er(!1),Ube=()=>{let n=null,e=null,t=null;const{subscribe:r,set:i}=er(null),s=er({bbox:[0,0,0,0],zoom:0,center:[0,0],pitch:0,bearing:0}),a=er(null),o=er(null),l=er(null),c=er(null),A=er(null),u=er(null),h=er(null),f=er(null),d=er(null),g=er(null),_=er(null),m=er(null),y=er(null),b=er(null),v=er(null),B=er(null),C=er(null),I=be=>{const Fe=zbe();if(t=new q6e({id:"deckgl-overlay",interleaved:!0,layers:[]}),e=new Qr.Map({...Fe,minZoom:Di()?2:1,container:be,canvasContextAttributes:{antialias:!0,depth:!0,alpha:!0},centerClampedToGround:!0,style:{version:8,sources:{},layers:[]},attributionControl:!1,localIdeographFontFamily:!1,maxPitch:85,dragRotate:!1,pitchWithRotate:!1,boxZoom:!1,keyboard:!1,transformRequest:(rt,Nt)=>({url:rt})}),Wn(Ig)&&e.on("data",rt=>{}),!e)return;e.on("styleimagemissing",rt=>{if(!e)return;const Nt=rt.id;if(Nt==="marker_png")fetch(Kie).then(async ot=>{if(!ot.ok)throw new Error(`Failed to fetch image: ${ot.statusText}`);const Rt=await createImageBitmap(await ot.blob());e&&e.addImage("marker_png",Rt)});else if(Nt==="poi-icon"){const Tt=new Uint8Array(1024);e.addImage("poi-icon",{width:16,height:16,data:Tt})}}),e.once("style.load",()=>{e&&(e.addControl(t),_.set(e))}),e.on("terrain",rt=>{C.set(rt)}),e.on("styledata",rt=>{e&&(s.set({bbox:ue(),zoom:e.getZoom(),center:[e.getCenter().lng,e.getCenter().lat],pitch:e.getPitch(),bearing:e.getBearing()}),m.set(rt))}),e.on("load",rt=>{B.set(rt)});let Qe=!1,Ge=0,nt=0;const ke=rt=>{(rt.ctrlKey&&rt.button===0||rt.shiftKey&&rt.button===0||rt.button===1)&&(Qe=!0,Ge=rt.clientX,nt=rt.clientY,rt.preventDefault())},De=rt=>{if(!Qe||!e)return;const Nt=rt.clientX-Ge,ot=rt.clientY-nt,Rt=e.getBearing();e.setBearing(Rt+Nt*.3);const Tt=e.getPitch(),Jt=Math.max(0,Math.min(85,Tt-ot*.3));e.setPitch(Jt),Ge=rt.clientX,nt=rt.clientY},At=()=>{Qe=!1};Na()||(e.getCanvas().addEventListener("mousedown",ke),window.addEventListener("mousemove",De),window.addEventListener("mouseup",At)),e.on("error",rt=>{}),e.on("click",rt=>{if(rt.originalEvent.shiftKey||rt.originalEvent.ctrlKey){console.log(": ");return}rt.originalEvent.target.classList.contains("maplibregl-canvas")&&a.set(rt)}),e.on("contextmenu",rt=>{rt.originalEvent.shiftKey||rt.originalEvent.ctrlKey||Na()||o.set(rt)}),e.on("resize",rt=>{b.set(rt)}),e.on("data",rt=>{E4.set(!0)}),e.on("idle",rt=>{E4.set(!1)}),e.on("rotate",rt=>{if(!e)return;const Nt=e.getBearing();f.set(Nt)}),e.on("mousemove",rt=>{A.set(rt)}),e.on("mousedown",rt=>{u.set(rt)}),e.on("mouseup",rt=>{At(),h.set(rt)}),e.on("mouseover",rt=>{l.set(rt)}),e.on("mouseout",rt=>{c.set(rt)});const kt=Yy(rt=>{if(!e)return;const Nt=window.location.href;let ot=window.location.origin;ot+="/morivis";const Rt=e.getZoom(),Tt=e.getCenter(),Jt=e.getBearing(),wt=e.getPitch();Nt.startsWith(`${ot}/map`)&&Hbe({center:[Tt.lng,Tt.lat],zoom:Rt,pitch:wt,bearing:Jt}),s.set({bbox:ue(),zoom:e.getZoom(),center:[e.getCenter().lng,e.getCenter().lat],pitch:e.getPitch(),bearing:e.getBearing()}),y.set(rt),e.getZoom()},100);e.on("moveend",kt),e.on("zoom",rt=>{if(!e)return;const Nt=e.getZoom();d.set(Nt)}),v.set(e)},R=be=>be&&typeof be=="object"&&typeof be.getLayer=="function"&&typeof be.setLayoutProperty=="function"&&!be._removed,w=be=>{!e||!R(e)||(g.set(be),e.setStyle(be,{transformStyle:(Fe,Qe)=>({...Qe,layers:[...Qe.layers]})}),M())},U=be=>{!e||!R(e)||!t||t.setProps({layers:be})},M=()=>{if(!e||!R(e)||e.getLayer("3d-model-layer"))return;const Fe=vl.createLayer();e.addLayer(Fe)};let F=new Set;const P=async(be,Fe="main")=>{if(Fe==="preview"&&be.length>0){vl.addModel(be[0],"preview");return}const Qe=new Set(be.map(ke=>ke.id)),Ge=F;for(const ke of Ge)Qe.has(ke)||vl.removeModel(ke);const nt=be.filter(ke=>!Ge.has(ke.id));for(const ke of nt)await vl.addModel(ke);for(const ke of be)Ge.has(ke.id)&&(vl.setModelVisibility(ke.id,ke.style.visible??!0),vl.setModelOpacity(ke.id,ke.style.opacity),vl.setModelWireframe(ke.id,ke.style.wireframe));vl.updateTransform(be),F=Qe,Fe==="main"&&vl.clearPreview()},S=(be,Fe)=>{if(!e||!R(e))return;e.getLayer(be)?e.setFilter(be,Fe):console.warn(`Layer with ID ${be} does not exist.`)},W=(be,Fe)=>{!e||!R(e)||(n=new Qr.Marker({element:be}).setLngLat(Fe).addTo(e))},re=()=>{if(!e||!R(e))return;const be=[136.91917,35.54692,136.926817,35.555122];e.fitBounds(be,{padding:20,bearing:e.getBearing(),duration:1e3,animate:!0})},G=async()=>{if(!e||!R(e))return;const be=e.getCanvasContainer(),Fe=be.clientWidth,Qe=be.clientHeight;return{canvas:be,witdh:Fe,height:Qe}},ie=()=>{!e||!R(e)||n&&n.remove()};let X=null;const ge=()=>{!e||!R(e)||e.getTerrain()&&(X&&clearTimeout(X),X=setTimeout(()=>{var Fe;const be=e==null?void 0:e.terrain;(Fe=be==null?void 0:be.sourceCache)!=null&&Fe.sourceCache&&be.sourceCache.sourceCache.reload(),X=null},200))},K=be=>{if(!(!e||!R(e)))try{be?e.getSource("terrain")&&(e.setTerrain({source:"terrain",exaggeration:1}),NF("1")):(e.getTerrain()&&e.setTerrain(null),NF("0"))}catch(Fe){console.error("Terrain control error:",Fe)}},N=(be,Fe)=>e?e.queryRenderedFeatures(be,Fe):[],H=(be,Fe)=>{!e||!R(e)||e.panTo(be,Fe)},V=be=>{if(!(!e||!R(e))&&(Di()&&e.panTo(be,{duration:300}),Na())){const Ge=e.getContainer().clientHeight/4;e.panTo(be,{offset:[0,-Ge],duration:300})}},j=be=>{!e||!R(e)||e.easeTo(be)},le=async be=>{!e||!R(e)||(Di(),be.metaData.center?e.easeTo({center:be.metaData.center,zoom:be.metaData.minZoom+1.5,bearing:e.getBearing(),pitch:e.getPitch(),duration:500}):e.fitBounds(be.metaData.bounds,{bearing:e.getBearing(),padding:-100,duration:500}))},de=be=>(!e||!R(e)||e.queryTerrainElevation(be),null),he=be=>{if(!e||!R(e))return;const Fe=e.getSprite();Fe||console.warn("Sprite is not available yet.");const Qe=Fe.find(Ge=>Ge.id===be);if(Qe)return Qe.url;console.warn(`Sprite with id ${be} not found.`)},ue=()=>{if(!e||!R(e))return console.warn("Map is not ready yet."),[0,0,0,0];const be=kt=>Math.max(TD,Math.min(ID,kt)),Fe=kt=>(kt=kt%360,kt>180?kt-=360:kt<-180&&(kt+=360),kt),Qe=e.getBounds(),Ge=be(Qe._sw.lat),nt=be(Qe._ne.lat);let ke=Fe(Qe._sw.lng),De=Fe(Qe._ne.lng);return ke>De&&(ke=RJ,De=xJ),[ke,Ge,De,nt]},me=()=>{if(!e||!R(e)){console.warn("Map is not ready yet.");return}const be=e.getStyle(),Fe={...be.sources},Qe=[...be.layers];for(const Ge of Qe)e.getLayer(Ge.id)&&e.removeLayer(Ge.id);for(const Ge in Fe)e.getSource(Ge)&&e.removeSource(Ge);for(const[Ge,nt]of Object.entries(Fe))e.addSource(Ge,nt);for(const Ge of Qe)e.addLayer(Ge);Wn(Gh)&&e.setTerrain({source:"terrain",exaggeration:1})},_e=()=>{!e||!R(e)||(e.setTerrain(null),e.removeSource("terrain"),e.setTerrain({source:"terrain",exaggeration:1}),me(),ge())},xe=be=>{if(!e||!R(e))return;const Fe=e.getCanvas();Fe&&(Fe.style.cursor=be)},Re=be=>Fe=>be.subscribe(Qe=>{Qe&&Fe(Qe)});return{subscribe:r,init:I,isInitialized:()=>Wn(v),remove:()=>{!e||!R(e)||(t&&(t.finalize(),t=null),vl.dispose(),e.remove(),e=null,i(null),l.set(null),c.set(null),f.set(null),d.set(null),g.set(null),E4.set(!0),_.set(null),m.set(null),y.set(null),b.set(null),v.set(null),B.set(null),n=null)},addLockonMarker:W,removeLockonMarker:ie,queryRenderedFeatures:N,setCursor:xe,setData:(be,Fe)=>{if(!e||!R(e))return;const Qe=e.getSource(be);Qe?Qe.setData(Fe):console.warn(`Source with ID ${be} does not exist.`)},setStyle:w,setDeckOverlay:U,initThreeLayer:M,setThreeLayer:P,setFilter:S,setFeatureState:(be,Fe)=>{e&&e.setFeatureState(be,Fe)},setLayoutProperty:(be,Fe,Qe,Ge)=>{if(!(!e||!R(e)))try{e.getLayer(be)?e.setLayoutProperty(be,Fe,Qe,Ge):console.warn(`Layer with ID ${be} does not exist.`)}catch(nt){console.error(`Error setting layout property for layer ${be}:`,nt)}},setBearing:be=>e==null?void 0:e.setBearing(be),setPitch:be=>e==null?void 0:e.setPitch(be),setZoom:be=>e==null?void 0:e.setZoom(be),setCamera:(be,Fe)=>{if(!e)return;const Qe=e.queryTerrainElevation(be);e.setCenterClampedToGround(!1),e.setCenterElevation(Qe||(Fe??0)),e._elevationStart=e._elevationTarget},resetCamera:()=>{e&&(e.setCenterClampedToGround(!0),e.setCenterElevation(0),e._elevationStart=e._elevationTarget)},fitBounds:(be,Fe)=>{!e||!R(e)||e.fitBounds(be,Fe)},panTo:H,panToPoi:V,flyTo:(be,Fe)=>{!e||!R(e)||e.flyTo({center:be,...Fe})},easeTo:j,panToOrJumpTo:be=>{!e||!R(e)||(hH(be,ue())?e.panTo(be,{duration:500}):e.flyTo({center:be,zoom:17,duration:1e3}))},focusLayer:le,jumpToFac:re,terrainReload:ge,toggleTerrain:K,resetDem:_e,resetAllSourcesAndLayers:me,triggerRepaint:()=>{e&&e.triggerRepaint()},getLockonMarker:()=>n,getMap:()=>e,getZoom:()=>e==null?void 0:e.getZoom(),getCenter:()=>e==null?void 0:e.getCenter(),getPitch:()=>e==null?void 0:e.getPitch(),getBearing:()=>e==null?void 0:e.getBearing(),getTerrain:()=>e==null?void 0:e.getTerrain(),getElevation:de,getLayer:be=>{if(!(!e||!R(e)))return e.getLayer(be)},getState:()=>Wn(s),getImage:be=>e==null?void 0:e.getImage(be),getMapBounds:ue,getSpriteUrl:he,getCanvas:()=>e==null?void 0:e.getCanvas(),getMapContainer:G,onSetStyle:Re(g),onResize:Re(b),onLoad:Re(B),onClick:Re(a),onContextMenu:Re(o),onMouseover:Re(l),onMouseout:Re(c),onMousemove:Re(A),onMouseDown:Re(u),onMouseUp:Re(h),onRotate:Re(f),onZoom:Re(d),onMoveEnd:Re(y),onLoading:Re(E4),onInitialized:Re(v),onStyleLoad:Re(_),onStateChange:s.subscribe,onTerrain:Re(C)}},Dt=Ube(),Nbe=(n,e)=>!isNaN(n)&&!isNaN(e)&&n>=-180&&n<=180&&e>=-90&&e<=90,kbe=n=>!isNaN(n)&&n>=0&&n<=24,Pbe=n=>!isNaN(n)&&n>=0&&n<=85,Dbe=n=>!isNaN(n)&&n>=-180&&n<=180,Obe=n=>{const e=n.slice(1).split("&"),t={};return e.forEach(r=>{t[r.split("=")[0]]=r.split("=")[1]}),t},zbe=()=>{const n=Wn(il({c:C_.string(),z:C_.number(),p:C_.number(),b:C_.number()},{pushHistory:!1}));if(n.c===null||n.c===void 0||n.z===null||n.z===void 0||n.p===null||n.p===void 0||n.b===null||n.b===void 0)return Du;try{const e=n.c.split("_");if(e.length!==2)return Du;const[t,r]=e.map(Number);if(!Nbe(t,r))return console.warn("Invalid coordinates:",{lng:t,lat:r}),Du;const i=Number(n.z),s=Number(n.p),a=Number(n.b);return kbe(i)?Pbe(s)?Dbe(a)?{center:[t,r],zoom:i,pitch:s,bearing:a}:(console.warn("Invalid bearing:",a),Du):(console.warn("Invalid pitch:",s),Du):(console.warn("Invalid zoom:",i),Du)}catch(e){return console.error("Error parsing map parameters:",e),Du}},Hbe=n=>{const e=Wn(il({},{pushHistory:!1})),t=n.center.map(r=>r.toFixed(6)).join("_");e.c=t,e.z=n.zoom.toFixed(1),e.p=n.pitch.toFixed(0),e.b=n.bearing.toFixed(0),Wn(Qo)||(e.sv="-1"),Wn(Gh)||(e["3d"]="0"),il({},{pushHistory:!1}).set(e)},ey=n=>{const e=Wn(il({}));e.sv=n.toString(),il({},{pushHistory:!1}).set(e)},Qbe=()=>Wn(il({},{pushHistory:!1})).sv,jbe=({x:n,y:e})=>{const t=Wn(il({}));t.cr=`${n.toFixed(2)}_${e.toFixed(2)}`,il({},{pushHistory:!1}).set(t)},Ybe=()=>{const e=Wn(il({},{pushHistory:!1})).cr;if(!e)return null;const[t,r]=e.split("_"),i=parseFloat(t),s=parseFloat(r);return isNaN(i)||isNaN(s)?null:{x:i,y:s}},NF=n=>{const e=Wn(il({}));e["3d"]=n,il({},{pushHistory:!1}).set(e)},Gbe=()=>Wn(il({},{pushHistory:!1}))["3d"],kF=n=>{const e=new URLSearchParams;for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];Array.isArray(r)?r.forEach(i=>{e.append(t,i)}):r!=null&&e.append(t,String(r))}return e.toString()};class ds{static setDataUrl(e,t){this.dataUrlCache.set(e,t)}static setRasters(e,t){this.rastersCache.set(e,t)}static setBbox(e,t){this.bboxCache.set(e,t)}static setSize(e,t,r){this.sizeCache.set(e,{width:t,height:r})}static setNumBands(e,t){this.numBandsCache.set(e,t)}static setBlob(e,t,r){this.blobCache.set(e,{blob:t,url:r})}static getDataUrl(e){return this.dataUrlCache.get(e)}static getRasters(e){return this.rastersCache.get(e)}static getBbox(e){return this.bboxCache.get(e)}static getSize(e){return this.sizeCache.get(e)}static getNumBands(e){return this.numBandsCache.get(e)}static getBlobUrl(e){var t;return(t=this.blobCache.get(e))==null?void 0:t.url}static removeDataUrl(e){this.dataUrlCache.delete(e)}static removeRasters(e){this.rastersCache.delete(e)}static removeBbox(e){this.bboxCache.delete(e)}static removeSize(e){this.sizeCache.delete(e)}static removeNumBands(e){this.numBandsCache.delete(e)}static revokeBlob(e){const t=this.blobCache.get(e);t&&(URL.revokeObjectURL(t.url),this.blobCache.delete(e))}static clear(){this.dataUrlCache.clear(),this.rastersCache.clear(),this.bboxCache.clear(),this.sizeCache.clear(),this.numBandsCache.clear(),this.blobCache.clear()}static hasDataUrl(e){return this.dataUrlCache.has(e)}static hasRasters(e){return this.rastersCache.has(e)}static hasBbox(e){return this.bboxCache.has(e)}static hasSize(e){return this.sizeCache.has(e)}static hasNumBands(e){return this.numBandsCache.has(e)}static hasBlob(e){return this.blobCache.has(e)}}z(ds,"dataUrlCache",new Map),z(ds,"rastersCache",new Map),z(ds,"bboxCache",new Map),z(ds,"numBandsCache",new Map),z(ds,"sizeCache",new Map),z(ds,"blobCache",new Map);class Sm{static set(e,t){this.cache.set(e,t)}static get(e){return this.cache.get(e)}static has(e){return this.cache.has(e)}static remove(e){this.cache.delete(e)}static clear(){this.cache.clear()}}z(Sm,"cache",new Map);const tY=async(n,e,t)=>{const r=new Worker(new URL(""+new URL("../workers/convert.worker-BBzXNk0N.js",import.meta.url).href,import.meta.url),{type:"module"});try{return new Promise((i,s)=>{if(n.length===1)return i({rastersData:n[0],size:1});r.postMessage({rasters:n,width:e,height:t}),r.onmessage=async a=>{const{result:o}=a.data;i({rastersData:o,size:n.length}),r.terminate()},r.onerror=a=>{console.error("Worker error:",a),s(new Error(`Worker error: ${a.message}`))},r.terminate()})}catch(i){console.error("Error processing image",i)}},T8=new Worker(new URL(""+new URL("../workers/geotiff_render.worker-BFPocHlh.js",import.meta.url).href,import.meta.url),{type:"module"}),Vbe=new _p,Kbe=async(n,e)=>{const t=await e.arrayBuffer(),i=await(await RP(t)).getImage(),s=i.getWidth(),a=i.getHeight(),o=await i.readRasters({interleave:!1}),{rastersData:l,size:c}=await tY(o,s,a);ds.setRasters(n,l),ds.setSize(n,s,a),ds.setNumBands(n,c)},$be=async(n,e,t)=>{var r,i;try{let s,a,o=[],l=1;if(ds.hasRasters(n))o=ds.getRasters(n),s=((r=ds.getSize(n))==null?void 0:r.width)??0,a=((i=ds.getSize(n))==null?void 0:i.height)??0,l=ds.getNumBands(n)??1;else{const f=await(await fetch(e)).arrayBuffer(),g=await(await RP(f)).getImage();s=g.getWidth(),a=g.getHeight();const _=await g.readRasters({interleave:!1}),{rastersData:m,size:y}=await tY(_,s,a);o=m,l=y,ds.setRasters(n,o),ds.setSize(n,s,a),ds.setNumBands(n,l)}const c=t.mode,A=t.uniformsData,u=Vbe.createColorArray(A.single.colorMap||"bone");return new Promise((h,f)=>{T8.postMessage({rasters:o,size:l,type:c,min:A.single.min,max:A.single.max,width:s,height:a,colorArray:u}),T8.onmessage=async d=>{const{blob:g}=d.data,_=ds.getBlobUrl(n);_&&URL.revokeObjectURL(_);const m=URL.createObjectURL(g);ds.setBlob(n,g,m),h(m)},T8.onerror=d=>{console.error("Worker error:",d),f(new Error(`Worker error: ${d.message}`))}})}catch(s){console.error("Error processing image",s)}},Wbe=n=>n.includes("{-y}")?"tms":"xyz",nY=n=>n.replace("{-y}","{y}"),qbe=d5.getInstance(),tL=async(n,e="main")=>{const r=(await Promise.all(n.map(async(A,u)=>{const h={},f=`${A.id}_source`,{metaData:d,format:g,type:_,style:m,auxiliaryLayers:y,properties:b}=A;switch(_){case"raster":{if(g.type==="image")if(m.type==="tiff"){const v=m.visualization,B=v.mode;let C;if(B==="single"){const R=v.uniformsData[B];C=`${A.id}_${B}_${R.index}_${R.colorMap}_${R.min}_${R.max}`}else if(B==="multi"){const R=v.uniformsData[B];C=`${A.id}_${B}_${R.r.index}_${R.g.index}_${R.b.index}`}let I;Sm.has(C)?I=Sm.get(C):I=await $be(A.id,g.url,v),I&&(Sm.set(C,I),h[f]={type:"image",url:I,coordinates:n1e(d.bounds)})}else if(m.type==="dem"){const v=m.visualization,B=v.mode;if(B!=="default"){const C=v.demType,I=kF(v.uniformsData[B]);qbe.addUrlcache(A.id,g.url),h[f]={type:"raster",tiles:[`webgl://${g.url}?entryId=${A.id}&formatType=${g.type}&demType=${C}&mode=${B}&${I}&x={x}&y={y}&z={z}`],maxzoom:d.maxZoom,minzoom:d.minZoom,tileSize:d.tileSize,attribution:d.attribution,bounds:d.bounds}}else h[f]={type:"raster",tiles:[g.url],maxzoom:d.maxZoom,minzoom:d.minZoom,tileSize:d.tileSize,attribution:d.attribution,bounds:d.bounds}}else h[f]={type:"raster",tiles:[nY(g.url)],maxzoom:d.maxZoom,minzoom:d.minZoom,scheme:Wbe(g.url),tileSize:d.tileSize,attribution:d.attribution,bounds:d.bounds};else if(g.type==="pmtiles")if(m.type==="dem"){const v=m.visualization,B=v.mode;if(B!=="default"){const C=v.demType,I=kF(v.uniformsData[B]);h[f]={type:"raster",tiles:[`webgl://${g.url}?entryId=${A.id}&formatType=${g.type}&demType=${C}&mode=${B}&${I}&x={x}&y={y}&z={z}`],maxzoom:d.maxZoom,minzoom:d.minZoom,tileSize:d.tileSize,attribution:d.attribution,bounds:d.bounds}}else h[f]={type:"raster",url:`pmtiles://${g.url}`,maxzoom:d.maxZoom,minzoom:"minZoom"in d?d.minZoom:void 0,tileSize:d.tileSize,attribution:d.attribution,bounds:d.bounds}}else m.type==="cad"?h[f]={type:"raster",url:`pmtiles://${g.url}`,maxzoom:d.maxZoom,minzoom:"minZoom"in d?d.minZoom:void 0,tileSize:d.tileSize,attribution:d.attribution,bounds:d.bounds}:h[f]={type:"raster",url:`pmtiles://${g.url}`,maxzoom:d.maxZoom,minzoom:"minZoom"in d?d.minZoom:void 0,tileSize:d.tileSize,attribution:d.attribution,bounds:d.bounds};break}case"vector":{if(g.type==="geojson"||g.type==="fgb"){let v;Tl.has(A.id)?v=Tl.get(A.id):g.type==="fgb"?(v=await _7(g.url),Tl.set(A.id,v)):g.type==="geojson"&&(v=await gne(g.url),Tl.set(A.id,v)),h[f]={type:"geojson",data:v,generateId:!0,maxzoom:d.maxZoom,attribution:d.attribution}}else if(g.type==="mvt")h[f]={type:"vector",tiles:[g.url],maxzoom:d.maxZoom,minzoom:"minZoom"in d?d.minZoom:void 0,promoteId:"promoteId"in d?d.promoteId:void 0,attribution:d.attribution,bounds:d.bounds};else if(g.type==="pmtiles")h[f]={type:"vector",url:`pmtiles://${g.url}`,maxzoom:d.maxZoom,minzoom:"minZoom"in d?d.minZoom:void 0,promoteId:"promoteId"in d?d.promoteId:void 0,attribution:d.attribution,bounds:d.bounds};else if(g.type==="geojsontile"&&(h[f]={type:"vector",tiles:[`geojson://${g.url}?x={x}&y={y}&z={z}&entryId=${A.id}`],maxzoom:d.maxZoom,minzoom:"minZoom"in d?d.minZoom:void 0,promoteId:"promoteId"in d?d.promoteId:void 0,attribution:d.attribution,bounds:d.bounds},"joinDataUrl"in b&&b.joinDataUrl)){const v=await fetch(b.joinDataUrl).then(B=>B.json());Ad.set(A.id,v)}break}default:console.warn(`Unknown layer: ${f}`);break}if(y){const{source:v}=y;Object.entries(v).forEach(([B,C])=>{const I=`${B}`;h[I]=C})}return{index:u,items:h}}))).sort((A,u)=>A.index-u.index).map(A=>A.items),i=Object.assign({},...r);let s;Wn(Ho)==="satellite"?s=uie:Wn(Ho)==="hillshade"||Wn(Ho)==="hillshade"?s=nI:Wn(Ho)==="osm"?s=die:s={};const a=Wn(ud)?tie:{},o=Wn(T3)?nie:{},l=Wn(fd)?iie:{},c=Wn(M3)?oie:{};return{...i,...s,...a,...o,...l,...c,...cie}},Xbe=async(n,e)=>{const t={},r=n.find(c=>c.id===e);if(!r)return console.warn(`Entry with id ${e} not found.`),t;const{id:i,metaData:s,format:a,style:o}=r,l=o.visualization.demType;return t.terrain={type:"raster-dem",tiles:[`terrain://${a.url}?entryId=${i}&formatType=${a.type}&demType=${l}&x={x}&y={y}&z={z}`],maxzoom:s.maxZoom,minzoom:s.minZoom,tileSize:s.tileSize,attribution:s.attribution,bounds:s.bounds},t},Jbe={id:"@street_view_line_layer",type:"line",source:"street_view_link_sources",paint:{"line-color":"#08fa00","line-width":["interpolate",["linear"],["zoom"],12,1,15,12,18,20,22,40],"line-opacity":.6,"line-blur":.5},layout:{"line-cap":"round","line-join":"round"}},Zbe={id:"@street_view_circle_layer",type:"circle",source:"street_view_node_sources",filter:["==",["get","has_link"],!1],minzoom:10,paint:{"circle-color":"#08fa00","circle-radius":["interpolate",["linear"],["zoom"],10,1,15,12],"circle-opacity":.6,"circle-stroke-width":2,"circle-stroke-color":"#ffffff","circle-stroke-opacity":.6,"circle-blur":.3}};class n3{static set(e,t){this.cache.set(e,t)}static get(e){return this.cache.get(e)}static remove(e){this.cache.delete(e)}static clear(){this.cache.clear()}static has(e){return this.cache.has(e)}static keys(){return this.cache.keys()}}z(n3,"cache",new Map);const eve={:{name:"",url:"https://www.forest.ac.jp/"},MIERUNE:{name:"MIERUNE Inc.",url:"https://mierune.co.jp/"},:{name:"",url:"https://maps.gsi.go.jp/development/ichiran.html"},:{name:"",url:"https://github.com/gsi-cyberjapan/optimal_bvmap"},NASA:{name:"NASA/Goddard Space Flight Center/Reto Stckli",url:"https://earthdata.nasa.gov/"},:{name:"",url:"https://www.forest.rd.pref.gifu.lg.jp/index.html"},:{name:"",url:"https://map.ecoris.info/#contents"},:{name:"",url:"https://gbank.gsj.jp/seamless/index.html?lang=ja"},:{name:"",url:"https://nlftp.mlit.go.jp/"},:{name:"",url:"https://gbank.gsj.jp/seamless/elev/"},Q:{name:"Q",url:"https://info.qchizu.xyz/qchizu/reprint/"},OSM:{name:" OpenStreetMap contributors",url:"https://www.openstreetmap.org/copyright"},OpenMapTiles:{name:" OpenMapTiles",url:"https://openmaptiles.org/"},USGS:{name:" U.S. Geological Survey",url:"https://www.usgs.gov/"},Esri:{name:" Esri, HERE, Garmin, USGS, Intermap, INCREMENT P, NRCan, Esri Japan, METI, Esri China (Hong Kong), Esri Korea, Esri (Thailand), NGCC,  OpenStreetMap contributors, and the GIS User Community",url:""},:{name:"",url:"https://www.owl-sys.com/"},:{name:"",url:"https://www.rinya.maff.go.jp/index.html"},:{name:"",url:"https://portal.data.metro.tokyo.lg.jp/"},:{name:"",url:"https://www.biodic.go.jp"},:{name:"",url:"https://www.geospatial.jp/ckan/organization/ehime-ringyou"},:{name:"",url:"https://www.geospatial.jp/ckan/organization/tochigipref-shinrin-seibi"},:{name:"",url:"https://www.geospatial.jp/ckan/organization/kochipref-mori"},:{name:"",url:"https://www.geospatial.jp/ckan/organization/hyogopref"},"":{name:"",url:"https://www.geospatial.jp/ckan/organization/rinya"},:{name:"",url:"https://www.ffpri.go.jp/ffpri.html"},:{name:"",url:"https://www.bosai.go.jp/"},:{name:"",url:"https://www.pref.nagano.lg.jp/ringyosogo/"},"":{name:"",url:"https://www.rinya.maff.go.jp/index.html"},"":{name:"",url:"https://www.geospatial.jp/ckan/organization/rinya"},:{name:"",url:"https://www.geospatial.jp/ckan/organization/hyogopref"},PLATEAU:{name:" Project PLATEAU",url:"https://www.mlit.go.jp/plateau/"}},rY=new Map(Object.entries(eve).map(([n,e])=>[n,e])),tve=n=>n===""?{name:"",url:""}:rY.get(n),sB=n=>{var e;return n===""?"":(e=rY.get(n))==null?void 0:e.name},PF=(n,e,t)=>{n/=255,e/=255,t/=255;const r=Math.max(n,e,t),i=Math.min(n,e,t);let s=0,a=0;const o=(r+i)/2;if(r!==i){const l=r-i;switch(a=o>.5?l/(2-r-i):l/(r+i),r){case n:s=((e-t)/l+(e<t?6:0))/6;break;case e:s=((t-n)/l+2)/6;break;case t:s=((n-e)/l+4)/6;break}}return[s*360,a,o]},DF=n=>{const e=n.replace(/^#/,"");if(e.length===3)return[parseInt(e[0]+e[0],16),parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16)];if(e.length===6)return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)];throw new Error(`Invalid hex color: ${n}`)},nve=(n,e="#FF0000",t=1,r={})=>{const{saturationBoost:i=0}=r,s=DF(e),a=DF(n),[o,l,c]=PF(...s),[A,u,h]=PF(...a),d=u<.05;let g=A-o;g>180?g-=360:g<-180&&(g+=360);let _=u-l+i,m,y;if(d)_=-1,m=h,y=h;else{const b=h-c;r.brightnessMin!==void 0||r.brightnessMax!==void 0?(m=r.brightnessMin??0,y=r.brightnessMax??1):b>=0?(m=Math.min(1,b*2),y=1):(m=0,y=Math.max(0,1+b*2))}return{"raster-hue-rotate":d?0:g,"raster-saturation":Math.max(-1,Math.min(1,_)),"raster-brightness-min":m,"raster-brightness-max":y}},iY=N0.map(n=>n.id),rve=n=>{if(!iY.includes(n))throw new Error(`Invalid ID: ${n}`)};jw.forEach(n=>{try{rve(n)}catch(e){e instanceof Error&&(console.warn(`id: ${n}`),console.warn("id: ",iY.join(", ")),console.error(e.message))}});const ive=n=>{const t=["match",["get",n.key]],{categories:r,values:i}=n.mapping;if(r.length!==i.length)return console.warn(""),"#ff0000";for(let s=0;s<r.length;s++)t.push(r[s],i[s]);return n.noData?t.push(n.noData.value):t.push("transparent"),t},sve=n=>{const e=n.key,{categories:t,values:r}=Tx(n.mapping);if(t.length!==r.length)return console.warn(""),"#ff0000";const i=["to-number",["get",e]],s=["step",i];s.push(r[0]);for(let o=1;o<t.length;o++)s.push(t[o],r[o]);return["case",["!",["has",e]],"#00000000",["==",["get",e],null],"#00000000",["==",["typeof",i],"number"],s,"#00000000"]},w6=n=>{const e=n.key,t=n.expressions.find(r=>r.key===e);if(!t)return console.warn(`: ${e}`),"#ff0000";switch(t.type){case"single":return t.mapping.value;case"raw":return t.mapping.expression;case"match":return ive(t);case"step":return sve(t);default:return console.warn(`: ${e}`),"#ff0000"}},ave=n=>{const e=n.key,{categories:t,patterns:r}=n.mapping;if(!r||!r.filter(a=>a!==null).length)return null;const s=["match",["get",e]];for(let a=0;a<t.length;a++)r[a]!==null&&s.push(t[a],r[a]);return s.push(""),s},sY=n=>{const e=n.key,t=n.expressions.find(r=>r.key===e);if(!t)return null;switch(t.type){case"single":return t.mapping.pattern;case"raw":return t.mapping.expression;case"match":return ave(t);default:return null}},ove=n=>{const t=["match",["get",n.key]],{categories:r,values:i}=n.mapping;if(r.length!==i.length)return console.warn(""),0;for(let s=0;s<r.length;s++)t.push(r[s],i[s]);return t.push(0),t},lve=n=>{const e=n.key,t=["step",["case",["==",["get",e],null],-9999,["!=",["to-number",["get",e],-9999],-9999],["to-number",["get",e],-9999],-9999]],{categories:r,values:i}=Tx(n.mapping);return r.length!==i.length?(console.warn(""),0):(t.push(0),r.forEach((s,a)=>{t.push(s,i[a])}),t)},cve=n=>{const{key:e,mapping:t}=n,[r,i]=t.range,[s,a]=t.values;return["interpolate",["linear"],["get",e],r,s,i,a]},L6=n=>{const e=n.key,t=n.expressions.find(r=>r.key===e);if(!t)return console.warn(`: ${e}`),0;switch(t.type){case"single":return t.mapping.value;case"raw":return t.mapping.expression;case"match":return ove(t);case"linear":return cve(t);case"step":return lve(t);default:return console.warn(`: ${e}`),0}},x6=n=>["case",["boolean",["feature-state","selected"],!1],Ok,n],aY=n=>["case",["boolean",["feature-state","selected"],!1],.8,n],Ave=(n,e)=>{const t=e.default,r=w6(e.colors),i=x6(r),s=aY(e.opacity);return{...n,type:"fill",paint:{"fill-opacity":s,"fill-outline-color":"#00000000","fill-color":e.colors.show?i:"#00000000",...t&&t.fill?t.fill.paint:{}},layout:{...t&&t.fill?t.fill.layout:{}},...(()=>{var o;return(o=t==null?void 0:t.fill)!=null&&o.filter?{filter:t.fill.filter}:{}})()}},uve=(n,e)=>{const t=sY(e.colors);if(!t)return;const r=aY(e.opacity),i=e.default;return{...n,id:`${n.id}_fill_pattern`,type:"fill",paint:{"fill-pattern":t,"fill-opacity":r},layout:{},...(()=>{var a;return(a=i==null?void 0:i.fill)!=null&&a.filter?{filter:i.fill.filter}:{}})()}},fve=(n,e)=>{const t=e.default;return{...n,id:`${n.id}_outline`,minzoom:e.outline.minZoom?e.outline.minZoom:n.minzoom,type:"line",paint:{"line-color":e.outline.color,"line-width":e.outline.width,"line-opacity":e.opacity,...e.outline.lineStyle==="dashed"&&{"line-dasharray":[2,2]}},...(()=>{var i;return(i=t==null?void 0:t.line)!=null&&i.filter?{filter:t.line.filter}:{}})()}},hve=(n,e)=>{const t=e.default,r=w6(e.colors),i=x6(r),s=e.extrusion?L6(e.extrusion.height):0;return{...n,type:"fill-extrusion",id:`${n.id}_fill_extrusion`,paint:{"fill-extrusion-height":s,"fill-extrusion-opacity":e.opacity,"fill-extrusion-color":e.colors.show?i:"#00000000","fill-extrusion-vertical-gradient":!0,...t&&t.fillExtrusion?t.fillExtrusion.paint:{}},layout:{...t&&t.fillExtrusion?t.fillExtrusion.layout:{}},...(()=>{var o;return(o=t==null?void 0:t.fillExtrusion)!=null&&o.filter?{filter:t.fillExtrusion.filter}:{}})()}},dve=(n,e)=>{const t=e.default,r=sY(e.colors),i=e.extrusion?L6(e.extrusion.height):0;return{...n,id:`${n.id}_fill_extrusion_pattern`,type:"fill-extrusion",paint:{"fill-extrusion-height":i,"fill-extrusion-opacity":e.opacity,"fill-extrusion-pattern":r||"#00000000",...t&&t.fillExtrusion?t.fillExtrusion.paint:{}},layout:{...t&&t.fillExtrusion?t.fillExtrusion.layout:{}},...(()=>{var a;return(a=t==null?void 0:t.fillExtrusion)!=null&&a.filter?{filter:t.fillExtrusion.filter}:{}})()}},gve=(n,e)=>{const t=e.default,r=w6(e.colors),i=x6(r),s=L6(e.width);return{...n,type:"line",paint:{"line-opacity":e.colors.show?e.opacity:0,"line-color":e.colors.show?i:"#00000000","line-width":s,...e.lineStyle==="dashed"&&{"line-dasharray":[2,2]},...t&&t.line?t.line.paint:{}},layout:{...t&&t.line?t.line.layout:{}},...(()=>{var o;return(o=t==null?void 0:t.line)!=null&&o.filter?{filter:t.line.filter}:{}})()}},pve=(n,e)=>{const t=e.outline,r=e.default,i=w6(e.colors),s=x6(i),a=L6(e.radius);return{...n,type:"circle",paint:{"circle-opacity":e.colors.show?e.opacity:0,"circle-stroke-opacity":e.opacity,"circle-color":e.colors.show?s:"#00000000","circle-radius":a,"circle-stroke-color":t.show?e.outline.color:"#00000000","circle-stroke-width":t.show?e.outline.width:0,...r&&r.circle?r.circle.paint:{}},layout:{...r&&r.circle?r.circle.layout:{}},...(()=>{var l;return(l=r==null?void 0:r.circle)!=null&&l.filter?{filter:r.circle.filter}:{}})()}},_ve=(n,e)=>{var c,A;const t=e.default,r=e.labels.key,i=e.labels.show,s=((c=e.labels.expressions.find(u=>u.key===r))==null?void 0:c.value)??"",a={"text-opacity":1,"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":2},o={"text-field":s,"text-size":12,"text-max-width":12};return{...n,id:`${n.id}`,type:"symbol",paint:{...i?a:{},...i&&t&&t.symbol?t.symbol.paint:{},"icon-opacity":e.opacity},layout:{...i?o:{},...i&&t&&t.symbol?t.symbol.layout:{},"icon-image":["get","_prop_id"],"icon-size":((A=e.icon)==null?void 0:A.size)??.1,"icon-anchor":"bottom"},...(()=>{var u;return(u=t==null?void 0:t.symbol)!=null&&u.filter?{filter:t.symbol.filter}:{}})()}},mve=(n,e)=>{var s;const t=e.default,r=e.labels.key;return{...n,id:`${n.id}_label`,minzoom:e.labels.minZoom?e.labels.minZoom:n.minzoom,type:"symbol",paint:{"text-opacity":1,"icon-opacity":1,"text-color":"#000000","text-halo-color":"#e8e8e8","text-halo-width":2,...t&&t.symbol?t.symbol.paint:{}},layout:{"text-field":((s=e.labels.expressions.find(a=>a.key===r))==null?void 0:s.value)??"","text-size":12,"text-max-width":12,"text-font":["Noto Sans JP Regular"],...t&&t.symbol?t.symbol.layout:{}},...(()=>{var a;return(a=t==null?void 0:t.symbol)!=null&&a.filter?{filter:t.symbol.filter}:{}})()}},yve=(n,e)=>{var t;switch(e.type){case"fill":return e.extrusion&&e.extrusion.show?hve(n,e):Ave(n,e);case"line":return gve(n,e);case"circle":switch(e.markerType){case"icon":return(t=e.icon)!=null&&t.show?_ve(n,e):void 0;case"circle":return pve(n,e);default:console.warn(` style.markerType: ${e.markerType} layer.id: ${n.id}`);return}default:console.warn(`style.type: ${n.id}`);return}},nL=(n,e="main")=>{const t=[],r=[],i=[],s=[],a=[],o=[],l=[],c=[],A=new Map;n3.clear(),n.filter(B=>B.style.visible).reverse().forEach(B=>{var re;const C=`${B.id}`,I=`${B.id}_source`,{format:R,style:w,metaData:U,interaction:M,type:F,auxiliaryLayers:P}=B,S={id:C,source:I,maxzoom:24,minzoom:U.minZoom??1,metadata:{name:U.name,location:U.location,titles:B.type==="vector"?B.properties.titles:null}};switch(tve(U.attribution)&&U.attribution!==""&&A.set(U.attribution,U.attribution),F){case"raster":{M.clickable&&c.push(C),w.type==="basemap"?o.push({...S,type:"raster",paint:{"raster-opacity":w.opacity,"raster-hue-rotate":w.hueRotate,"raster-brightness-max":w.brightnessMax,"raster-brightness-min":w.brightnessMin,"raster-saturation":w.saturation,"raster-contrast":w.contrast}}):w.type==="categorical"?o.push({...S,type:"raster",paint:{"raster-opacity":w.opacity,"raster-resampling":w.resampling?w.resampling:"linear"}}):w.type==="dem"?o.push({...S,type:"raster",paint:{"raster-opacity":w.opacity}}):w.type==="tiff"?o.push({...S,type:"raster",paint:{"raster-opacity":w.opacity}}):w.type==="cad"&&i.push({...S,type:"raster",paint:{"raster-opacity":w.opacity,...nve(w.color)}});break}case"vector":{M.clickable&&(l.push(C),"sourceLayer"in U?n3.set(C,{source:I,sourceLayer:U.sourceLayer}):n3.set(C,{source:I})),(R.type==="mvt"||R.type==="pmtiles"||R.type==="geojsontile")&&"sourceLayer"in U&&(S["source-layer"]=U.sourceLayer);const G=yve(S,w);if(!G)return;if(w.type==="fill"){if(!w.extrusion||w.extrusion&&!w.extrusion.show){s.push(G);const ie=uve(S,w);ie&&s.push(ie)}else if(w.extrusion&&w.extrusion.show){a.push(G);const ie=dve(S,w);a.push(ie)}if(w.outline.show){const ie=fve(S,w);s.push(ie)}}if(w.type==="line"&&i.push(G),w.type==="circle"&&r.push(G),w.labels.show&&!(w.type==="circle"&&w.markerType==="icon"&&((re=w.icon)!=null&&re.show))){const ie=mve(S,w);t.push(ie)}P&&P.layers.forEach(ie=>{const X=ie.type;X==="fill"?s.push(ie):X==="line"?i.push(ie):X==="circle"?r.push(ie):X==="symbol"&&t.push(ie)});break}default:console.warn(`type: ${C}`);break}});const u=Array.from(A.values());JD.set(u),Wn(O1)&&(l.push("@street_view_line_layer"),l.push("@street_view_circle_layer")),e==="main"&&(Dk.set(l),M$.set(c));const h=Wn(O1)&&e==="main"?[Jbe,Zbe]:[];let f=[];e==="main"?Wn(Ho)==="satellite"?f=fie:Wn(Ho)==="hillshade"?f=hie:Wn(Ho)==="osm"?f=gie:f=[]:f=[];const d=Wn(Ho)!=="osm",g=Wn(ud)&&e==="main"&&d?bO:[],_=Wn(T3)&&e==="main"&&d?rie:[],m=Wn(fd)&&e==="main"&&d?sie:[],y=Wn(fd)&&e==="main"&&d?aie:[],b=Wn(M3)&&e==="main"&&d?lie:[],v=e==="main"&&Wn(Ho)==="satellite"?Aie:[];return[...f,...o,...s,...b,...y,...i,...a,...r,...h,...v,..._,...m,...t,...g]};class bve{constructor(e=2){z(this,"instances",[]);z(this,"availableInstances",[]);z(this,"maxInstances");this.maxInstances=e,this.initializeInstances()}initializeInstances(){for(let e=0;e<this.maxInstances;e++){const t=document.createElement("div");t.style.width="512px",t.style.height="512px",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",t.style.visibility="hidden",t.id=`map-instance-${e}`,document.body.appendChild(t);const r=new Qr.Map({container:t,style:{version:8,sources:{},layers:[]},zoom:0,interactive:!1,attributionControl:!1});this.instances.push(r),this.availableInstances.push(r)}}async acquireInstance(){return new Promise(e=>{const t=()=>{if(this.availableInstances.length>0){const r=this.availableInstances.pop();e(r)}else setTimeout(t,100)};t()})}releaseInstance(e){this.availableInstances.push(e)}destroy(){this.instances.forEach(e=>{const t=e.getContainer();e.remove(),t.remove()}),this.instances=[],this.availableInstances=[]}}class vve{constructor(e=1){z(this,"queue",[]);z(this,"activeCount",0);z(this,"maxConcurrency");this.maxConcurrency=e}async add(e){return new Promise((t,r)=>{this.queue.push(async()=>{try{const i=await e();t(i)}catch(i){r(i)}}),this.processNext()})}async processNext(){if(this.activeCount>=this.maxConcurrency||this.queue.length===0)return;this.activeCount++;const e=this.queue.shift();try{await e()}catch(t){console.error("Queue task error:",t)}this.activeCount--,this.processNext()}}const D2=new bve(1),wve=new vve(1);async function Lve(n,e={}){const{name:t,width:r=512,height:i=512,center:s,bearing:a=0,pitch:o=0,bounds:l,xyz:c,timeout:A=1e4}=e,u=await D2.acquireInstance();return new Promise((h,f)=>{const d=c?Wx(Object.values(c)):l;u.setBearing(a),u.setPitch(o),u.fitBounds(d,{duration:0,animate:!1}),u.setStyle(n),u.resize();const g=b=>{var v;_(),D2.releaseInstance(u),f(new Error(`Map error: ${((v=b.error)==null?void 0:v.message)||"Unknown error"}`))},_=()=>{u.off("error",g),u.off("styledata",y),u.off("idle",m)},m=()=>{try{const b=u.getCanvas();if(!b)throw new Error("Canvas not found");b.toBlob(v=>{if(_(),D2.releaseInstance(u),!v){f(new Error("Failed to generate blob"));return}const B=`${t}.webp`,C=URL.createObjectURL(v);h({blobUrl:C,fileName:B,revokeBlobUrl:()=>{URL.revokeObjectURL(C)}})},"image/webp",1)}catch(b){_(),D2.releaseInstance(u),f(b)}},y=()=>{try{u.setBearing(a),u.setPitch(o),u.fitBounds(d,{duration:0,animate:!1}),u.on("idle",m)}catch(b){_(),D2.releaseInstance(u),f(b)}};u.on("error",g),u.on("styledata",y),u.triggerRepaint()})}async function xve(n,e={}){return wve.add(()=>Lve(n,e))}const Rve=async n=>{var l;const e=vd.get(n.id);if(e)return e;if(n.metaData.xyzImageTile&&n.format.type==="mvt"){const c=n.format.url.replace("{z}",n.metaData.xyzImageTile.z.toString()).replace("{x}",n.metaData.xyzImageTile.x.toString()).replace("{y}",n.metaData.xyzImageTile.y.toString());try{if(c){const A=await fetch(c,{method:"HEAD",mode:"cors",headers:{Accept:"*/*"}});if(!A.ok)throw new Error(`Tile URL fetch failed: ${A.status} - ${c}`)}else throw new Error("Invalid tile URL")}catch(A){if(A instanceof Error)if(console.error("Tile URL fetch failed:",A),A.name==="TypeError"&&A.message.includes("CORS"))console.warn("CORS error detected, skipping tile validation");else throw new Error(`Tile URL fetch failed: ${c} - ${A.message}`)}}const t={...n,style:{...n.style,opacity:1},metaData:{...n.metaData,bounds:n.metaData.xyzImageTile?Wx(Object.values(n.metaData.xyzImageTile)):n.metaData.bounds,maxZoom:((l=n.metaData.xyzImageTile)==null?void 0:l.z)??n.metaData.maxZoom}};let r=await tL([t],"preview");const i=await nL([t],"preview"),s={version:8,sprite:Hk,glyphs:zk,sources:{...r},layers:[...i.filter(c=>c.type!=="symbol")]},a={name:n.id,width:512,height:512,bearing:0,pitch:0,bounds:n.metaData.bounds,timeout:5e3};n.metaData.xyzImageTile&&(a.xyz=n.metaData.xyzImageTile);const o=await xve(s,a);return vd.add(n.id,o.blobUrl),o.blobUrl},R6=n=>"https://tile.mierune.co.jp/mierune_mono/{z}/{x}/{y}.png".replace("{z}",n.z.toString()).replace("{x}",n.x.toString()).replace("{y}",n.y.toString()),{min:Bve,max:Eve}=Math,S1=(n,e=0,t=1)=>Bve(Eve(e,n),t),aB=n=>{n._clipped=!1,n._unclipped=n.slice(0);for(let e=0;e<=3;e++)e<3?((n[e]<0||n[e]>255)&&(n._clipped=!0),n[e]=S1(n[e],0,255)):e===3&&(n[e]=S1(n[e],0,1));return n},oY={};for(let n of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])oY[`[object ${n}]`]=n.toLowerCase();function On(n){return oY[Object.prototype.toString.call(n)]||"object"}const Un=(n,e=null)=>n.length>=3?Array.prototype.slice.call(n):On(n[0])=="object"&&e?e.split("").filter(t=>n[0][t]!==void 0).map(t=>n[0][t]):n[0].slice(0),Vd=n=>{if(n.length<2)return null;const e=n.length-1;return On(n[e])=="string"?n[e].toLowerCase():null},{PI:B6,min:lY,max:cY}=Math,nl=n=>Math.round(n*100)/100,rL=n=>Math.round(n*100)/100,b0=B6*2,M8=B6/3,Cve=B6/180,Ive=180/B6;function AY(n){return[...n.slice(0,3).reverse(),...n.slice(3)]}const Mn={format:{},autodetect:[]};class Ut{constructor(...e){const t=this;if(On(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let r=Vd(e),i=!1;if(!r){i=!0,Mn.sorted||(Mn.autodetect=Mn.autodetect.sort((s,a)=>a.p-s.p),Mn.sorted=!0);for(let s of Mn.autodetect)if(r=s.test(...e),r)break}if(Mn.format[r]){const s=Mn.format[r].apply(null,i?e:e.slice(0,-1));t._rgb=aB(s)}else throw new Error("unknown format: "+e);t._rgb.length===3&&t._rgb.push(1)}toString(){return On(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const Tve="3.2.0",Qn=(...n)=>new Ut(...n);Qn.version=Tve;const yd={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Mve=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Sve=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,uY=n=>{if(n.match(Mve)){(n.length===4||n.length===7)&&(n=n.substr(1)),n.length===3&&(n=n.split(""),n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);const e=parseInt(n,16),t=e>>16,r=e>>8&255,i=e&255;return[t,r,i,1]}if(n.match(Sve)){(n.length===5||n.length===9)&&(n=n.substr(1)),n.length===4&&(n=n.split(""),n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]);const e=parseInt(n,16),t=e>>24&255,r=e>>16&255,i=e>>8&255,s=Math.round((e&255)/255*100)/100;return[t,r,i,s]}throw new Error(`unknown hex color: ${n}`)},{round:C4}=Math,fY=(...n)=>{let[e,t,r,i]=Un(n,"rgba"),s=Vd(n)||"auto";i===void 0&&(i=1),s==="auto"&&(s=i<1?"rgba":"rgb"),e=C4(e),t=C4(t),r=C4(r);let o="000000"+(e<<16|t<<8|r).toString(16);o=o.substr(o.length-6);let l="0"+C4(i*255).toString(16);switch(l=l.substr(l.length-2),s.toLowerCase()){case"rgba":return`#${o}${l}`;case"argb":return`#${l}${o}`;default:return`#${o}`}};Ut.prototype.name=function(){const n=fY(this._rgb,"rgb");for(let e of Object.keys(yd))if(yd[e]===n)return e.toLowerCase();return n};Mn.format.named=n=>{if(n=n.toLowerCase(),yd[n])return uY(yd[n]);throw new Error("unknown color name: "+n)};Mn.autodetect.push({p:5,test:(n,...e)=>{if(!e.length&&On(n)==="string"&&yd[n.toLowerCase()])return"named"}});Ut.prototype.alpha=function(n,e=!1){return n!==void 0&&On(n)==="number"?e?(this._rgb[3]=n,this):new Ut([this._rgb[0],this._rgb[1],this._rgb[2],n],"rgb"):this._rgb[3]};Ut.prototype.clipped=function(){return this._rgb._clipped||!1};const Tc={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},Fve=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function T0(n){const e=Fve.get(String(n).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+n);Tc.labWhitePoint=n,Tc.Xn=e[0],Tc.Zn=e[1]}function q3(){return Tc.labWhitePoint}const oB=(...n)=>{n=Un(n,"lab");const[e,t,r]=n,[i,s,a]=Uve(e,t,r),[o,l,c]=hY(i,s,a);return[o,l,c,n.length>3?n[3]:1]},Uve=(n,e,t)=>{const{kE:r,kK:i,kKE:s,Xn:a,Yn:o,Zn:l}=Tc,c=(n+16)/116,A=.002*e+c,u=c-.005*t,h=A*A*A,f=u*u*u,d=h>r?h:(116*A-16)/i,g=n>s?Math.pow((n+16)/116,3):n/i,_=f>r?f:(116*u-16)/i,m=d*a,y=g*o,b=_*l;return[m,y,b]},S8=n=>{const e=Math.sign(n);return n=Math.abs(n),(n<=.0031308?n*12.92:1.055*Math.pow(n,1/2.4)-.055)*e},hY=(n,e,t)=>{const{MtxAdaptMa:r,MtxAdaptMaI:i,MtxXYZ2RGB:s,RefWhiteRGB:a,Xn:o,Yn:l,Zn:c}=Tc,A=o*r.m00+l*r.m10+c*r.m20,u=o*r.m01+l*r.m11+c*r.m21,h=o*r.m02+l*r.m12+c*r.m22,f=a.X*r.m00+a.Y*r.m10+a.Z*r.m20,d=a.X*r.m01+a.Y*r.m11+a.Z*r.m21,g=a.X*r.m02+a.Y*r.m12+a.Z*r.m22,_=(n*r.m00+e*r.m10+t*r.m20)*(f/A),m=(n*r.m01+e*r.m11+t*r.m21)*(d/u),y=(n*r.m02+e*r.m12+t*r.m22)*(g/h),b=_*i.m00+m*i.m10+y*i.m20,v=_*i.m01+m*i.m11+y*i.m21,B=_*i.m02+m*i.m12+y*i.m22,C=S8(b*s.m00+v*s.m10+B*s.m20),I=S8(b*s.m01+v*s.m11+B*s.m21),R=S8(b*s.m02+v*s.m12+B*s.m22);return[C*255,I*255,R*255]},lB=(...n)=>{const[e,t,r,...i]=Un(n,"rgb"),[s,a,o]=dY(e,t,r),[l,c,A]=Nve(s,a,o);return[l,c,A,...i.length>0&&i[0]<1?[i[0]]:[]]};function Nve(n,e,t){const{Xn:r,Yn:i,Zn:s,kE:a,kK:o}=Tc,l=n/r,c=e/i,A=t/s,u=l>a?Math.pow(l,1/3):(o*l+16)/116,h=c>a?Math.pow(c,1/3):(o*c+16)/116,f=A>a?Math.pow(A,1/3):(o*A+16)/116;return[116*h-16,500*(u-h),200*(h-f)]}function F8(n){const e=Math.sign(n);return n=Math.abs(n),(n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4))*e}const dY=(n,e,t)=>{n=F8(n/255),e=F8(e/255),t=F8(t/255);const{MtxRGB2XYZ:r,MtxAdaptMa:i,MtxAdaptMaI:s,Xn:a,Yn:o,Zn:l,As:c,Bs:A,Cs:u}=Tc;let h=n*r.m00+e*r.m10+t*r.m20,f=n*r.m01+e*r.m11+t*r.m21,d=n*r.m02+e*r.m12+t*r.m22;const g=a*i.m00+o*i.m10+l*i.m20,_=a*i.m01+o*i.m11+l*i.m21,m=a*i.m02+o*i.m12+l*i.m22;let y=h*i.m00+f*i.m10+d*i.m20,b=h*i.m01+f*i.m11+d*i.m21,v=h*i.m02+f*i.m12+d*i.m22;return y*=g/c,b*=_/A,v*=m/u,h=y*s.m00+b*s.m10+v*s.m20,f=y*s.m01+b*s.m11+v*s.m21,d=y*s.m02+b*s.m12+v*s.m22,[h,f,d]};Ut.prototype.lab=function(){return lB(this._rgb)};const kve=(...n)=>new Ut(...n,"lab");Object.assign(Qn,{lab:kve,getLabWhitePoint:q3,setLabWhitePoint:T0});Mn.format.lab=oB;Mn.autodetect.push({p:2,test:(...n)=>{if(n=Un(n,"lab"),On(n)==="array"&&n.length===3)return"lab"}});Ut.prototype.darken=function(n=1){const e=this,t=e.lab();return t[0]-=Tc.Kn*n,new Ut(t,"lab").alpha(e.alpha(),!0)};Ut.prototype.brighten=function(n=1){return this.darken(-n)};Ut.prototype.darker=Ut.prototype.darken;Ut.prototype.brighter=Ut.prototype.brighten;Ut.prototype.get=function(n){const[e,t]=n.split("."),r=this[e]();if(t){const i=e.indexOf(t)-(e.substr(0,2)==="ok"?2:0);if(i>-1)return r[i];throw new Error(`unknown channel ${t} in mode ${e}`)}else return r};const{pow:Pve}=Math,Dve=1e-7,Ove=20;Ut.prototype.luminance=function(n,e="rgb"){if(n!==void 0&&On(n)==="number"){if(n===0)return new Ut([0,0,0,this._rgb[3]],"rgb");if(n===1)return new Ut([255,255,255,this._rgb[3]],"rgb");let t=this.luminance(),r=Ove;const i=(a,o)=>{const l=a.interpolate(o,.5,e),c=l.luminance();return Math.abs(n-c)<Dve||!r--?l:c>n?i(a,l):i(l,o)},s=(t>n?i(new Ut([0,0,0]),this):i(this,new Ut([255,255,255]))).rgb();return new Ut([...s,this._rgb[3]])}return zve(...this._rgb.slice(0,3))};const zve=(n,e,t)=>(n=U8(n),e=U8(e),t=U8(t),.2126*n+.7152*e+.0722*t),U8=n=>(n/=255,n<=.03928?n/12.92:Pve((n+.055)/1.055,2.4)),ia={},bd=(n,e,t=.5,...r)=>{let i=r[0]||"lrgb";if(!ia[i]&&!r.length&&(i=Object.keys(ia)[0]),!ia[i])throw new Error(`interpolation mode ${i} is not defined`);return On(n)!=="object"&&(n=new Ut(n)),On(e)!=="object"&&(e=new Ut(e)),ia[i](n,e,t).alpha(n.alpha()+t*(e.alpha()-n.alpha()))};Ut.prototype.mix=Ut.prototype.interpolate=function(n,e=.5,...t){return bd(this,n,e,...t)};Ut.prototype.premultiply=function(n=!1){const e=this._rgb,t=e[3];return n?(this._rgb=[e[0]*t,e[1]*t,e[2]*t,t],this):new Ut([e[0]*t,e[1]*t,e[2]*t,t],"rgb")};const{sin:Hve,cos:Qve}=Math,gY=(...n)=>{let[e,t,r]=Un(n,"lch");return isNaN(r)&&(r=0),r=r*Cve,[e,Qve(r)*t,Hve(r)*t]},cB=(...n)=>{n=Un(n,"lch");const[e,t,r]=n,[i,s,a]=gY(e,t,r),[o,l,c]=oB(i,s,a);return[o,l,c,n.length>3?n[3]:1]},jve=(...n)=>{const e=AY(Un(n,"hcl"));return cB(...e)},{sqrt:Yve,atan2:Gve,round:Vve}=Math,pY=(...n)=>{const[e,t,r]=Un(n,"lab"),i=Yve(t*t+r*r);let s=(Gve(r,t)*Ive+360)%360;return Vve(i*1e4)===0&&(s=Number.NaN),[e,i,s]},AB=(...n)=>{const[e,t,r,...i]=Un(n,"rgb"),[s,a,o]=lB(e,t,r),[l,c,A]=pY(s,a,o);return[l,c,A,...i.length>0&&i[0]<1?[i[0]]:[]]};Ut.prototype.lch=function(){return AB(this._rgb)};Ut.prototype.hcl=function(){return AY(AB(this._rgb))};const Kve=(...n)=>new Ut(...n,"lch"),$ve=(...n)=>new Ut(...n,"hcl");Object.assign(Qn,{lch:Kve,hcl:$ve});Mn.format.lch=cB;Mn.format.hcl=jve;["lch","hcl"].forEach(n=>Mn.autodetect.push({p:2,test:(...e)=>{if(e=Un(e,n),On(e)==="array"&&e.length===3)return n}}));Ut.prototype.saturate=function(n=1){const e=this,t=e.lch();return t[1]+=Tc.Kn*n,t[1]<0&&(t[1]=0),new Ut(t,"lch").alpha(e.alpha(),!0)};Ut.prototype.desaturate=function(n=1){return this.saturate(-n)};Ut.prototype.set=function(n,e,t=!1){const[r,i]=n.split("."),s=this[r]();if(i){const a=r.indexOf(i)-(r.substr(0,2)==="ok"?2:0);if(a>-1){if(On(e)=="string")switch(e.charAt(0)){case"+":s[a]+=+e;break;case"-":s[a]+=+e;break;case"*":s[a]*=+e.substr(1);break;case"/":s[a]/=+e.substr(1);break;default:s[a]=+e}else if(On(e)==="number")s[a]=e;else throw new Error("unsupported value for Color.set");const o=new Ut(s,r);return t?(this._rgb=o._rgb,this):o}throw new Error(`unknown channel ${i} in mode ${r}`)}else return s};Ut.prototype.tint=function(n=.5,...e){return bd(this,"white",n,...e)};Ut.prototype.shade=function(n=.5,...e){return bd(this,"black",n,...e)};const Wve=(n,e,t)=>{const r=n._rgb,i=e._rgb;return new Ut(r[0]+t*(i[0]-r[0]),r[1]+t*(i[1]-r[1]),r[2]+t*(i[2]-r[2]),"rgb")};ia.rgb=Wve;const{sqrt:N8,pow:Hf}=Math,qve=(n,e,t)=>{const[r,i,s]=n._rgb,[a,o,l]=e._rgb;return new Ut(N8(Hf(r,2)*(1-t)+Hf(a,2)*t),N8(Hf(i,2)*(1-t)+Hf(o,2)*t),N8(Hf(s,2)*(1-t)+Hf(l,2)*t),"rgb")};ia.lrgb=qve;const Xve=(n,e,t)=>{const r=n.lab(),i=e.lab();return new Ut(r[0]+t*(i[0]-r[0]),r[1]+t*(i[1]-r[1]),r[2]+t*(i[2]-r[2]),"lab")};ia.lab=Xve;const Kd=(n,e,t,r)=>{let i,s;r==="hsl"?(i=n.hsl(),s=e.hsl()):r==="hsv"?(i=n.hsv(),s=e.hsv()):r==="hcg"?(i=n.hcg(),s=e.hcg()):r==="hsi"?(i=n.hsi(),s=e.hsi()):r==="lch"||r==="hcl"?(r="hcl",i=n.hcl(),s=e.hcl()):r==="oklch"&&(i=n.oklch().reverse(),s=e.oklch().reverse());let a,o,l,c,A,u;(r.substr(0,1)==="h"||r==="oklch")&&([a,l,A]=i,[o,c,u]=s);let h,f,d,g;return!isNaN(a)&&!isNaN(o)?(o>a&&o-a>180?g=o-(a+360):o<a&&a-o>180?g=o+360-a:g=o-a,f=a+t*g):isNaN(a)?isNaN(o)?f=Number.NaN:(f=o,(A==1||A==0)&&r!="hsv"&&(h=c)):(f=a,(u==1||u==0)&&r!="hsv"&&(h=l)),h===void 0&&(h=l+t*(c-l)),d=A+t*(u-A),r==="oklch"?new Ut([d,h,f],r):new Ut([f,h,d],r)},_Y=(n,e,t)=>Kd(n,e,t,"lch");ia.lch=_Y;ia.hcl=_Y;const Jve=n=>{if(On(n)=="number"&&n>=0&&n<=16777215){const e=n>>16,t=n>>8&255,r=n&255;return[e,t,r,1]}throw new Error("unknown num color: "+n)},Zve=(...n)=>{const[e,t,r]=Un(n,"rgb");return(e<<16)+(t<<8)+r};Ut.prototype.num=function(){return Zve(this._rgb)};const e8e=(...n)=>new Ut(...n,"num");Object.assign(Qn,{num:e8e});Mn.format.num=Jve;Mn.autodetect.push({p:5,test:(...n)=>{if(n.length===1&&On(n[0])==="number"&&n[0]>=0&&n[0]<=16777215)return"num"}});const t8e=(n,e,t)=>{const r=n.num(),i=e.num();return new Ut(r+t*(i-r),"num")};ia.num=t8e;const{floor:n8e}=Math,r8e=(...n)=>{n=Un(n,"hcg");let[e,t,r]=n,i,s,a;r=r*255;const o=t*255;if(t===0)i=s=a=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const l=n8e(e),c=e-l,A=r*(1-t),u=A+o*(1-c),h=A+o*c,f=A+o;switch(l){case 0:[i,s,a]=[f,h,A];break;case 1:[i,s,a]=[u,f,A];break;case 2:[i,s,a]=[A,f,h];break;case 3:[i,s,a]=[A,u,f];break;case 4:[i,s,a]=[h,A,f];break;case 5:[i,s,a]=[f,A,u];break}}return[i,s,a,n.length>3?n[3]:1]},i8e=(...n)=>{const[e,t,r]=Un(n,"rgb"),i=lY(e,t,r),s=cY(e,t,r),a=s-i,o=a*100/255,l=i/(255-a)*100;let c;return a===0?c=Number.NaN:(e===s&&(c=(t-r)/a),t===s&&(c=2+(r-e)/a),r===s&&(c=4+(e-t)/a),c*=60,c<0&&(c+=360)),[c,o,l]};Ut.prototype.hcg=function(){return i8e(this._rgb)};const s8e=(...n)=>new Ut(...n,"hcg");Qn.hcg=s8e;Mn.format.hcg=r8e;Mn.autodetect.push({p:1,test:(...n)=>{if(n=Un(n,"hcg"),On(n)==="array"&&n.length===3)return"hcg"}});const a8e=(n,e,t)=>Kd(n,e,t,"hcg");ia.hcg=a8e;const{cos:Qf}=Math,o8e=(...n)=>{n=Un(n,"hsi");let[e,t,r]=n,i,s,a;return isNaN(e)&&(e=0),isNaN(t)&&(t=0),e>360&&(e-=360),e<0&&(e+=360),e/=360,e<1/3?(a=(1-t)/3,i=(1+t*Qf(b0*e)/Qf(M8-b0*e))/3,s=1-(a+i)):e<2/3?(e-=1/3,i=(1-t)/3,s=(1+t*Qf(b0*e)/Qf(M8-b0*e))/3,a=1-(i+s)):(e-=2/3,s=(1-t)/3,a=(1+t*Qf(b0*e)/Qf(M8-b0*e))/3,i=1-(s+a)),i=S1(r*i*3),s=S1(r*s*3),a=S1(r*a*3),[i*255,s*255,a*255,n.length>3?n[3]:1]},{min:l8e,sqrt:c8e,acos:A8e}=Math,u8e=(...n)=>{let[e,t,r]=Un(n,"rgb");e/=255,t/=255,r/=255;let i;const s=l8e(e,t,r),a=(e+t+r)/3,o=a>0?1-s/a:0;return o===0?i=NaN:(i=(e-t+(e-r))/2,i/=c8e((e-t)*(e-t)+(e-r)*(t-r)),i=A8e(i),r>t&&(i=b0-i),i/=b0),[i*360,o,a]};Ut.prototype.hsi=function(){return u8e(this._rgb)};const f8e=(...n)=>new Ut(...n,"hsi");Qn.hsi=f8e;Mn.format.hsi=o8e;Mn.autodetect.push({p:2,test:(...n)=>{if(n=Un(n,"hsi"),On(n)==="array"&&n.length===3)return"hsi"}});const h8e=(n,e,t)=>Kd(n,e,t,"hsi");ia.hsi=h8e;const iL=(...n)=>{n=Un(n,"hsl");const[e,t,r]=n;let i,s,a;if(t===0)i=s=a=r*255;else{const o=[0,0,0],l=[0,0,0],c=r<.5?r*(1+t):r+t-r*t,A=2*r-c,u=e/360;o[0]=u+1/3,o[1]=u,o[2]=u-1/3;for(let h=0;h<3;h++)o[h]<0&&(o[h]+=1),o[h]>1&&(o[h]-=1),6*o[h]<1?l[h]=A+(c-A)*6*o[h]:2*o[h]<1?l[h]=c:3*o[h]<2?l[h]=A+(c-A)*(2/3-o[h])*6:l[h]=A;[i,s,a]=[l[0]*255,l[1]*255,l[2]*255]}return n.length>3?[i,s,a,n[3]]:[i,s,a,1]},mY=(...n)=>{n=Un(n,"rgba");let[e,t,r]=n;e/=255,t/=255,r/=255;const i=lY(e,t,r),s=cY(e,t,r),a=(s+i)/2;let o,l;return s===i?(o=0,l=Number.NaN):o=a<.5?(s-i)/(s+i):(s-i)/(2-s-i),e==s?l=(t-r)/(s-i):t==s?l=2+(r-e)/(s-i):r==s&&(l=4+(e-t)/(s-i)),l*=60,l<0&&(l+=360),n.length>3&&n[3]!==void 0?[l,o,a,n[3]]:[l,o,a]};Ut.prototype.hsl=function(){return mY(this._rgb)};const d8e=(...n)=>new Ut(...n,"hsl");Qn.hsl=d8e;Mn.format.hsl=iL;Mn.autodetect.push({p:2,test:(...n)=>{if(n=Un(n,"hsl"),On(n)==="array"&&n.length===3)return"hsl"}});const g8e=(n,e,t)=>Kd(n,e,t,"hsl");ia.hsl=g8e;const{floor:p8e}=Math,_8e=(...n)=>{n=Un(n,"hsv");let[e,t,r]=n,i,s,a;if(r*=255,t===0)i=s=a=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const o=p8e(e),l=e-o,c=r*(1-t),A=r*(1-t*l),u=r*(1-t*(1-l));switch(o){case 0:[i,s,a]=[r,u,c];break;case 1:[i,s,a]=[A,r,c];break;case 2:[i,s,a]=[c,r,u];break;case 3:[i,s,a]=[c,A,r];break;case 4:[i,s,a]=[u,c,r];break;case 5:[i,s,a]=[r,c,A];break}}return[i,s,a,n.length>3?n[3]:1]},{min:m8e,max:y8e}=Math,b8e=(...n)=>{n=Un(n,"rgb");let[e,t,r]=n;const i=m8e(e,t,r),s=y8e(e,t,r),a=s-i;let o,l,c;return c=s/255,s===0?(o=Number.NaN,l=0):(l=a/s,e===s&&(o=(t-r)/a),t===s&&(o=2+(r-e)/a),r===s&&(o=4+(e-t)/a),o*=60,o<0&&(o+=360)),[o,l,c]};Ut.prototype.hsv=function(){return b8e(this._rgb)};const v8e=(...n)=>new Ut(...n,"hsv");Qn.hsv=v8e;Mn.format.hsv=_8e;Mn.autodetect.push({p:2,test:(...n)=>{if(n=Un(n,"hsv"),On(n)==="array"&&n.length===3)return"hsv"}});const w8e=(n,e,t)=>Kd(n,e,t,"hsv");ia.hsv=w8e;function ty(n,e){let t=n.length;Array.isArray(n[0])||(n=[n]),Array.isArray(e[0])||(e=e.map(a=>[a]));let r=e[0].length,i=e[0].map((a,o)=>e.map(l=>l[o])),s=n.map(a=>i.map(o=>Array.isArray(a)?a.reduce((l,c,A)=>l+c*(o[A]||0),0):o.reduce((l,c)=>l+c*a,0)));return t===1&&(s=s[0]),r===1?s.map(a=>a[0]):s}const uB=(...n)=>{n=Un(n,"lab");const[e,t,r,...i]=n,[s,a,o]=L8e([e,t,r]),[l,c,A]=hY(s,a,o);return[l,c,A,...i.length>0&&i[0]<1?[i[0]]:[]]};function L8e(n){var e=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],t=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],r=ty(t,n);return ty(e,r.map(i=>i**3))}const fB=(...n)=>{const[e,t,r,...i]=Un(n,"rgb"),s=dY(e,t,r);return[...x8e(s),...i.length>0&&i[0]<1?[i[0]]:[]]};function x8e(n){const e=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r=ty(e,n);return ty(t,r.map(i=>Math.cbrt(i)))}Ut.prototype.oklab=function(){return fB(this._rgb)};const R8e=(...n)=>new Ut(...n,"oklab");Object.assign(Qn,{oklab:R8e});Mn.format.oklab=uB;Mn.autodetect.push({p:2,test:(...n)=>{if(n=Un(n,"oklab"),On(n)==="array"&&n.length===3)return"oklab"}});const B8e=(n,e,t)=>{const r=n.oklab(),i=e.oklab();return new Ut(r[0]+t*(i[0]-r[0]),r[1]+t*(i[1]-r[1]),r[2]+t*(i[2]-r[2]),"oklab")};ia.oklab=B8e;const E8e=(n,e,t)=>Kd(n,e,t,"oklch");ia.oklch=E8e;const{pow:k8,sqrt:P8,PI:D8,cos:OF,sin:zF,atan2:C8e}=Math,I8e=(n,e="lrgb",t=null)=>{const r=n.length;t||(t=Array.from(new Array(r)).map(()=>1));const i=r/t.reduce(function(u,h){return u+h});if(t.forEach((u,h)=>{t[h]*=i}),n=n.map(u=>new Ut(u)),e==="lrgb")return T8e(n,t);const s=n.shift(),a=s.get(e),o=[];let l=0,c=0;for(let u=0;u<a.length;u++)if(a[u]=(a[u]||0)*t[0],o.push(isNaN(a[u])?0:t[0]),e.charAt(u)==="h"&&!isNaN(a[u])){const h=a[u]/180*D8;l+=OF(h)*t[0],c+=zF(h)*t[0]}let A=s.alpha()*t[0];n.forEach((u,h)=>{const f=u.get(e);A+=u.alpha()*t[h+1];for(let d=0;d<a.length;d++)if(!isNaN(f[d]))if(o[d]+=t[h+1],e.charAt(d)==="h"){const g=f[d]/180*D8;l+=OF(g)*t[h+1],c+=zF(g)*t[h+1]}else a[d]+=f[d]*t[h+1]});for(let u=0;u<a.length;u++)if(e.charAt(u)==="h"){let h=C8e(c/o[u],l/o[u])/D8*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;a[u]=h}else a[u]=a[u]/o[u];return A/=r,new Ut(a,e).alpha(A>.99999?1:A,!0)},T8e=(n,e)=>{const t=n.length,r=[0,0,0,0];for(let i=0;i<n.length;i++){const s=n[i],a=e[i]/t,o=s._rgb;r[0]+=k8(o[0],2)*a,r[1]+=k8(o[1],2)*a,r[2]+=k8(o[2],2)*a,r[3]+=o[3]*a}return r[0]=P8(r[0]),r[1]=P8(r[1]),r[2]=P8(r[2]),r[3]>.9999999&&(r[3]=1),new Ut(aB(r))},{pow:M8e}=Math;function ny(n){let e="rgb",t=Qn("#ccc"),r=0,i=[0,1],s=[0,1],a=[],o=[0,0],l=!1,c=[],A=!1,u=0,h=1,f=!1,d={},g=!0,_=1;const m=function(R){if(R=R||["#fff","#000"],R&&On(R)==="string"&&Qn.brewer&&Qn.brewer[R.toLowerCase()]&&(R=Qn.brewer[R.toLowerCase()]),On(R)==="array"){R.length===1&&(R=[R[0],R[0]]),R=R.slice(0);for(let w=0;w<R.length;w++)R[w]=Qn(R[w]);a.length=0;for(let w=0;w<R.length;w++)a.push(w/(R.length-1))}return C(),c=R},y=function(R){if(l!=null){const w=l.length-1;let U=0;for(;U<w&&R>=l[U];)U++;return U-1}return 0};let b=R=>R,v=R=>R;const B=function(R,w){let U,M;if(w==null&&(w=!1),isNaN(R)||R===null)return t;w?M=R:l&&l.length>2?M=y(R)/(l.length-2):h!==u?M=(R-u)/(h-u):M=1,M=v(M),w||(M=b(M)),_!==1&&(M=M8e(M,_)),M=o[0]+M*(1-o[0]-o[1]),M=S1(M,0,1);const F=Math.floor(M*1e4);if(g&&d[F])U=d[F];else{if(On(c)==="array")for(let P=0;P<a.length;P++){const S=a[P];if(M<=S){U=c[P];break}if(M>=S&&P===a.length-1){U=c[P];break}if(M>S&&M<a[P+1]){M=(M-S)/(a[P+1]-S),U=Qn.interpolate(c[P],c[P+1],M,e);break}}else On(c)==="function"&&(U=c(M));g&&(d[F]=U)}return U};var C=()=>d={};m(n);const I=function(R){const w=Qn(B(R));return A&&w[A]?w[A]():w};return I.classes=function(R){if(R!=null){if(On(R)==="array")l=R,i=[R[0],R[R.length-1]];else{const w=Qn.analyze(i);R===0?l=[w.min,w.max]:l=Qn.limits(w,"e",R)}return I}return l},I.domain=function(R){if(!arguments.length)return s;s=R.slice(0),u=R[0],h=R[R.length-1],a=[];const w=c.length;if(R.length===w&&u!==h)for(let U of Array.from(R))a.push((U-u)/(h-u));else{for(let U=0;U<w;U++)a.push(U/(w-1));if(R.length>2){const U=R.map((F,P)=>P/(R.length-1)),M=R.map(F=>(F-u)/(h-u));M.every((F,P)=>U[P]===F)||(v=F=>{if(F<=0||F>=1)return F;let P=0;for(;F>=M[P+1];)P++;const S=(F-M[P])/(M[P+1]-M[P]);return U[P]+S*(U[P+1]-U[P])})}}return i=[u,h],I},I.mode=function(R){return arguments.length?(e=R,C(),I):e},I.range=function(R,w){return m(R),I},I.out=function(R){return A=R,I},I.spread=function(R){return arguments.length?(r=R,I):r},I.correctLightness=function(R){return R==null&&(R=!0),f=R,C(),f?b=function(w){const U=B(0,!0).lab()[0],M=B(1,!0).lab()[0],F=U>M;let P=B(w,!0).lab()[0];const S=U+(M-U)*w;let W=P-S,re=0,G=1,ie=20;for(;Math.abs(W)>.01&&ie-- >0;)(function(){return F&&(W*=-1),W<0?(re=w,w+=(G-w)*.5):(G=w,w+=(re-w)*.5),P=B(w,!0).lab()[0],W=P-S})();return w}:b=w=>w,I},I.padding=function(R){return R!=null?(On(R)==="number"&&(R=[R,R]),o=R,I):o},I.colors=function(R,w){arguments.length<2&&(w="hex");let U=[];if(arguments.length===0)U=c.slice(0);else if(R===1)U=[I(.5)];else if(R>1){const M=i[0],F=i[1]-M;U=S8e(0,R).map(P=>I(M+P/(R-1)*F))}else{n=[];let M=[];if(l&&l.length>2)for(let F=1,P=l.length,S=1<=P;S?F<P:F>P;S?F++:F--)M.push((l[F-1]+l[F])*.5);else M=i;U=M.map(F=>I(F))}return Qn[w]&&(U=U.map(M=>M[w]())),U},I.cache=function(R){return R!=null?(g=R,I):g},I.gamma=function(R){return R!=null?(_=R,I):_},I.nodata=function(R){return R!=null?(t=Qn(R),I):t},I}function S8e(n,e,t){let r=[],i=n<e,s=e;for(let a=n;i?a<s:a>s;i?a++:a--)r.push(a);return r}const F8e=function(n){let e=[1,1];for(let t=1;t<n;t++){let r=[1];for(let i=1;i<=e.length;i++)r[i]=(e[i]||0)+e[i-1];e=r}return e},U8e=function(n){let e,t,r,i;if(n=n.map(s=>new Ut(s)),n.length===2)[t,r]=n.map(s=>s.lab()),e=function(s){const a=[0,1,2].map(o=>t[o]+s*(r[o]-t[o]));return new Ut(a,"lab")};else if(n.length===3)[t,r,i]=n.map(s=>s.lab()),e=function(s){const a=[0,1,2].map(o=>(1-s)*(1-s)*t[o]+2*(1-s)*s*r[o]+s*s*i[o]);return new Ut(a,"lab")};else if(n.length===4){let s;[t,r,i,s]=n.map(a=>a.lab()),e=function(a){const o=[0,1,2].map(l=>(1-a)*(1-a)*(1-a)*t[l]+3*(1-a)*(1-a)*a*r[l]+3*(1-a)*a*a*i[l]+a*a*a*s[l]);return new Ut(o,"lab")}}else if(n.length>=5){let s,a,o;s=n.map(l=>l.lab()),o=n.length-1,a=F8e(o),e=function(l){const c=1-l,A=[0,1,2].map(u=>s.reduce((h,f,d)=>h+a[d]*c**(o-d)*l**d*f[u],0));return new Ut(A,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return e},N8e=n=>{const e=U8e(n);return e.scale=()=>ny(e),e},{round:yY}=Math;Ut.prototype.rgb=function(n=!0){return n===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(yY)};Ut.prototype.rgba=function(n=!0){return this._rgb.slice(0,4).map((e,t)=>t<3?n===!1?e:yY(e):e)};const k8e=(...n)=>new Ut(...n,"rgb");Object.assign(Qn,{rgb:k8e});Mn.format.rgb=(...n)=>{const e=Un(n,"rgba");return e[3]===void 0&&(e[3]=1),e};Mn.autodetect.push({p:3,test:(...n)=>{if(n=Un(n,"rgba"),On(n)==="array"&&(n.length===3||n.length===4&&On(n[3])=="number"&&n[3]>=0&&n[3]<=1))return"rgb"}});const Vl=(n,e,t)=>{if(!Vl[t])throw new Error("unknown blend mode "+t);return Vl[t](n,e)},mu=n=>(e,t)=>{const r=Qn(t).rgb(),i=Qn(e).rgb();return Qn.rgb(n(r,i))},yu=n=>(e,t)=>{const r=[];return r[0]=n(e[0],t[0]),r[1]=n(e[1],t[1]),r[2]=n(e[2],t[2]),r},P8e=n=>n,D8e=(n,e)=>n*e/255,O8e=(n,e)=>n>e?e:n,z8e=(n,e)=>n>e?n:e,H8e=(n,e)=>255*(1-(1-n/255)*(1-e/255)),Q8e=(n,e)=>e<128?2*n*e/255:255*(1-2*(1-n/255)*(1-e/255)),j8e=(n,e)=>255*(1-(1-e/255)/(n/255)),Y8e=(n,e)=>n===255?255:(n=255*(e/255)/(1-n/255),n>255?255:n);Vl.normal=mu(yu(P8e));Vl.multiply=mu(yu(D8e));Vl.screen=mu(yu(H8e));Vl.overlay=mu(yu(Q8e));Vl.darken=mu(yu(O8e));Vl.lighten=mu(yu(z8e));Vl.dodge=mu(yu(Y8e));Vl.burn=mu(yu(j8e));const{pow:G8e,sin:V8e,cos:K8e}=Math;function $8e(n=300,e=-1.5,t=1,r=1,i=[0,1]){let s=0,a;On(i)==="array"?a=i[1]-i[0]:(a=0,i=[i,i]);const o=function(l){const c=b0*((n+120)/360+e*l),A=G8e(i[0]+a*l,r),h=(s!==0?t[0]+l*s:t)*A*(1-A)/2,f=K8e(c),d=V8e(c),g=A+h*(-.14861*f+1.78277*d),_=A+h*(-.29227*f-.90649*d),m=A+h*(1.97294*f);return Qn(aB([g*255,_*255,m*255,1]))};return o.start=function(l){return l==null?n:(n=l,o)},o.rotations=function(l){return l==null?e:(e=l,o)},o.gamma=function(l){return l==null?r:(r=l,o)},o.hue=function(l){return l==null?t:(t=l,On(t)==="array"?(s=t[1]-t[0],s===0&&(t=t[1])):s=0,o)},o.lightness=function(l){return l==null?i:(On(l)==="array"?(i=l,a=l[1]-l[0]):(i=[l,l],a=0),o)},o.scale=()=>Qn.scale(o),o.hue(t),o}const W8e="0123456789abcdef",{floor:q8e,random:X8e}=Math,J8e=(n=X8e)=>{let e="#";for(let t=0;t<6;t++)e+=W8e.charAt(q8e(n()*16));return new Ut(e,"hex")},{log:HF,pow:Z8e,floor:ewe,abs:twe}=Math;function bY(n,e=null){const t={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return On(n)==="object"&&(n=Object.values(n)),n.forEach(r=>{e&&On(r)==="object"&&(r=r[e]),r!=null&&!isNaN(r)&&(t.values.push(r),t.sum+=r,r<t.min&&(t.min=r),r>t.max&&(t.max=r),t.count+=1)}),t.domain=[t.min,t.max],t.limits=(r,i)=>vY(t,r,i),t}function vY(n,e="equal",t=7){On(n)=="array"&&(n=bY(n));const{min:r,max:i}=n,s=n.values.sort((o,l)=>o-l);if(t===1)return[r,i];const a=[];if(e.substr(0,1)==="c"&&(a.push(r),a.push(i)),e.substr(0,1)==="e"){a.push(r);for(let o=1;o<t;o++)a.push(r+o/t*(i-r));a.push(i)}else if(e.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const o=Math.LOG10E*HF(r),l=Math.LOG10E*HF(i);a.push(r);for(let c=1;c<t;c++)a.push(Z8e(10,o+c/t*(l-o)));a.push(i)}else if(e.substr(0,1)==="q"){a.push(r);for(let o=1;o<t;o++){const l=(s.length-1)*o/t,c=ewe(l);if(c===l)a.push(s[c]);else{const A=l-c;a.push(s[c]*(1-A)+s[c+1]*A)}}a.push(i)}else if(e.substr(0,1)==="k"){let o;const l=s.length,c=new Array(l),A=new Array(t);let u=!0,h=0,f=null;f=[],f.push(r);for(let _=1;_<t;_++)f.push(r+_/t*(i-r));for(f.push(i);u;){for(let m=0;m<t;m++)A[m]=0;for(let m=0;m<l;m++){const y=s[m];let b=Number.MAX_VALUE,v;for(let B=0;B<t;B++){const C=twe(f[B]-y);C<b&&(b=C,v=B),A[v]++,c[m]=v}}const _=new Array(t);for(let m=0;m<t;m++)_[m]=null;for(let m=0;m<l;m++)o=c[m],_[o]===null?_[o]=s[m]:_[o]+=s[m];for(let m=0;m<t;m++)_[m]*=1/A[m];u=!1;for(let m=0;m<t;m++)if(_[m]!==f[m]){u=!0;break}f=_,h++,h>200&&(u=!1)}const d={};for(let _=0;_<t;_++)d[_]=[];for(let _=0;_<l;_++)o=c[_],d[o].push(s[_]);let g=[];for(let _=0;_<t;_++)g.push(d[_][0]),g.push(d[_][d[_].length-1]);g=g.sort((_,m)=>_-m),a.push(g[0]);for(let _=1;_<g.length;_+=2){const m=g[_];!isNaN(m)&&a.indexOf(m)===-1&&a.push(m)}}return a}const nwe=(n,e)=>{n=new Ut(n),e=new Ut(e);const t=n.luminance(),r=e.luminance();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const QF=.027,rwe=5e-4,iwe=.1,jF=1.14,I4=.022,YF=1.414,swe=(n,e)=>{n=new Ut(n),e=new Ut(e),n.alpha()<1&&(n=bd(e,n,n.alpha(),"rgb"));const t=GF(...n.rgb()),r=GF(...e.rgb()),i=t>=I4?t:t+Math.pow(I4-t,YF),s=r>=I4?r:r+Math.pow(I4-r,YF),a=Math.pow(s,.56)-Math.pow(i,.57),o=Math.pow(s,.65)-Math.pow(i,.62),l=Math.abs(s-i)<rwe?0:i<s?a*jF:o*jF;return(Math.abs(l)<iwe?0:l>0?l-QF:l+QF)*100};function GF(n,e,t){return .2126729*Math.pow(n/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(t/255,2.4)}const{sqrt:l0,pow:Yi,min:awe,max:owe,atan2:VF,abs:KF,cos:T4,sin:$F,exp:lwe,PI:WF}=Math;function cwe(n,e,t=1,r=1,i=1){var s=function(H){return 360*H/(2*WF)},a=function(H){return 2*WF*H/360};n=new Ut(n),e=new Ut(e);const[o,l,c]=Array.from(n.lab()),[A,u,h]=Array.from(e.lab()),f=(o+A)/2,d=l0(Yi(l,2)+Yi(c,2)),g=l0(Yi(u,2)+Yi(h,2)),_=(d+g)/2,m=.5*(1-l0(Yi(_,7)/(Yi(_,7)+Yi(25,7)))),y=l*(1+m),b=u*(1+m),v=l0(Yi(y,2)+Yi(c,2)),B=l0(Yi(b,2)+Yi(h,2)),C=(v+B)/2,I=s(VF(c,y)),R=s(VF(h,b)),w=I>=0?I:I+360,U=R>=0?R:R+360,M=KF(w-U)>180?(w+U+360)/2:(w+U)/2,F=1-.17*T4(a(M-30))+.24*T4(a(2*M))+.32*T4(a(3*M+6))-.2*T4(a(4*M-63));let P=U-w;P=KF(P)<=180?P:U<=w?P+360:P-360,P=2*l0(v*B)*$F(a(P)/2);const S=A-o,W=B-v,re=1+.015*Yi(f-50,2)/l0(20+Yi(f-50,2)),G=1+.045*C,ie=1+.015*C*F,X=30*lwe(-Yi((M-275)/25,2)),K=-(2*l0(Yi(C,7)/(Yi(C,7)+Yi(25,7))))*$F(2*a(X)),N=l0(Yi(S/(t*re),2)+Yi(W/(r*G),2)+Yi(P/(i*ie),2)+K*(W/(r*G))*(P/(i*ie)));return owe(0,awe(100,N))}function Awe(n,e,t="lab"){n=new Ut(n),e=new Ut(e);const r=n.get(t),i=e.get(t);let s=0;for(let a in r){const o=(r[a]||0)-(i[a]||0);s+=o*o}return Math.sqrt(s)}const uwe=(...n)=>{try{return new Ut(...n),!0}catch{return!1}},fwe={cool(){return ny([Qn.hsl(180,1,.9),Qn.hsl(250,.7,.4)])},hot(){return ny(["#000","#f00","#ff0","#fff"]).mode("rgb")}},sL={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},wY=Object.keys(sL),qF=new Map(wY.map(n=>[n.toLowerCase(),n])),hwe=typeof Proxy=="function"?new Proxy(sL,{get(n,e){const t=e.toLowerCase();if(qF.has(t))return n[qF.get(t)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(wY)}}):sL,dwe=(...n)=>{n=Un(n,"cmyk");const[e,t,r,i]=n,s=n.length>4?n[4]:1;return i===1?[0,0,0,s]:[e>=1?0:255*(1-e)*(1-i),t>=1?0:255*(1-t)*(1-i),r>=1?0:255*(1-r)*(1-i),s]},{max:XF}=Math,gwe=(...n)=>{let[e,t,r]=Un(n,"rgb");e=e/255,t=t/255,r=r/255;const i=1-XF(e,XF(t,r)),s=i<1?1/(1-i):0,a=(1-e-i)*s,o=(1-t-i)*s,l=(1-r-i)*s;return[a,o,l,i]};Ut.prototype.cmyk=function(){return gwe(this._rgb)};const pwe=(...n)=>new Ut(...n,"cmyk");Object.assign(Qn,{cmyk:pwe});Mn.format.cmyk=dwe;Mn.autodetect.push({p:2,test:(...n)=>{if(n=Un(n,"cmyk"),On(n)==="array"&&n.length===4)return"cmyk"}});const _we=(...n)=>{const e=Un(n,"hsla");let t=Vd(n)||"lsa";return e[0]=nl(e[0]||0)+"deg",e[1]=nl(e[1]*100)+"%",e[2]=nl(e[2]*100)+"%",t==="hsla"||e.length>3&&e[3]<1?(e[3]="/ "+(e.length>3?e[3]:1),t="hsla"):e.length=3,`${t.substr(0,3)}(${e.join(" ")})`},mwe=(...n)=>{const e=Un(n,"lab");let t=Vd(n)||"lab";return e[0]=nl(e[0])+"%",e[1]=nl(e[1]),e[2]=nl(e[2]),t==="laba"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lab(${e.join(" ")})`},ywe=(...n)=>{const e=Un(n,"lch");let t=Vd(n)||"lab";return e[0]=nl(e[0])+"%",e[1]=nl(e[1]),e[2]=isNaN(e[2])?"none":nl(e[2])+"deg",t==="lcha"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lch(${e.join(" ")})`},bwe=(...n)=>{const e=Un(n,"lab");return e[0]=nl(e[0]*100)+"%",e[1]=rL(e[1]),e[2]=rL(e[2]),e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklab(${e.join(" ")})`},LY=(...n)=>{const[e,t,r,...i]=Un(n,"rgb"),[s,a,o]=fB(e,t,r),[l,c,A]=pY(s,a,o);return[l,c,A,...i.length>0&&i[0]<1?[i[0]]:[]]},vwe=(...n)=>{const e=Un(n,"lch");return e[0]=nl(e[0]*100)+"%",e[1]=rL(e[1]),e[2]=isNaN(e[2])?"none":nl(e[2])+"deg",e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklch(${e.join(" ")})`},{round:O8}=Math,wwe=(...n)=>{const e=Un(n,"rgba");let t=Vd(n)||"rgb";if(t.substr(0,3)==="hsl")return _we(mY(e),t);if(t.substr(0,3)==="lab"){const r=q3();T0("d50");const i=mwe(lB(e),t);return T0(r),i}if(t.substr(0,3)==="lch"){const r=q3();T0("d50");const i=ywe(AB(e),t);return T0(r),i}return t.substr(0,5)==="oklab"?bwe(fB(e)):t.substr(0,5)==="oklch"?vwe(LY(e)):(e[0]=O8(e[0]),e[1]=O8(e[1]),e[2]=O8(e[2]),(t==="rgba"||e.length>3&&e[3]<1)&&(e[3]="/ "+(e.length>3?e[3]:1),t="rgba"),`${t.substr(0,3)}(${e.slice(0,t==="rgb"?3:4).join(" ")})`)},xY=(...n)=>{n=Un(n,"lch");const[e,t,r,...i]=n,[s,a,o]=gY(e,t,r),[l,c,A]=uB(s,a,o);return[l,c,A,...i.length>0&&i[0]<1?[i[0]]:[]]},P0=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Ol=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,ry=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,ol=/\s*/.source,$d=/\s+/.source,hB=/\s*,\s*/.source,E6=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,Wd=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,RY=new RegExp("^rgba?\\("+ol+[P0,P0,P0].join($d)+Wd+"\\)$"),BY=new RegExp("^rgb\\("+ol+[P0,P0,P0].join(hB)+ol+"\\)$"),EY=new RegExp("^rgba\\("+ol+[P0,P0,P0,Ol].join(hB)+ol+"\\)$"),CY=new RegExp("^hsla?\\("+ol+[E6,ry,ry].join($d)+Wd+"\\)$"),IY=new RegExp("^hsl?\\("+ol+[E6,ry,ry].join(hB)+ol+"\\)$"),TY=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,MY=new RegExp("^lab\\("+ol+[Ol,Ol,Ol].join($d)+Wd+"\\)$"),SY=new RegExp("^lch\\("+ol+[Ol,Ol,E6].join($d)+Wd+"\\)$"),FY=new RegExp("^oklab\\("+ol+[Ol,Ol,Ol].join($d)+Wd+"\\)$"),UY=new RegExp("^oklch\\("+ol+[Ol,Ol,E6].join($d)+Wd+"\\)$"),{round:NY}=Math,jf=n=>n.map((e,t)=>t<=2?S1(NY(e),0,255):e),Gi=(n,e=0,t=100,r=!1)=>(typeof n=="string"&&n.endsWith("%")&&(n=parseFloat(n.substring(0,n.length-1))/100,r?n=e+(n+1)*.5*(t-e):n=e+n*(t-e)),+n),fa=(n,e)=>n==="none"?e:n,dB=n=>{if(n=n.toLowerCase().trim(),n==="transparent")return[0,0,0,0];let e;if(Mn.format.named)try{return Mn.format.named(n)}catch{}if((e=n.match(RY))||(e=n.match(BY))){let t=e.slice(1,4);for(let i=0;i<3;i++)t[i]=+Gi(fa(t[i],0),0,255);t=jf(t);const r=e[4]!==void 0?+Gi(e[4],0,1):1;return t[3]=r,t}if(e=n.match(EY)){const t=e.slice(1,5);for(let r=0;r<4;r++)t[r]=+Gi(t[r],0,255);return t}if((e=n.match(CY))||(e=n.match(IY))){const t=e.slice(1,4);t[0]=+fa(t[0].replace("deg",""),0),t[1]=+Gi(fa(t[1],0),0,100)*.01,t[2]=+Gi(fa(t[2],0),0,100)*.01;const r=jf(iL(t)),i=e[4]!==void 0?+Gi(e[4],0,1):1;return r[3]=i,r}if(e=n.match(TY)){const t=e.slice(1,4);t[1]*=.01,t[2]*=.01;const r=iL(t);for(let i=0;i<3;i++)r[i]=NY(r[i]);return r[3]=+e[4],r}if(e=n.match(MY)){const t=e.slice(1,4);t[0]=Gi(fa(t[0],0),0,100),t[1]=Gi(fa(t[1],0),-125,125,!0),t[2]=Gi(fa(t[2],0),-125,125,!0);const r=q3();T0("d50");const i=jf(oB(t));T0(r);const s=e[4]!==void 0?+Gi(e[4],0,1):1;return i[3]=s,i}if(e=n.match(SY)){const t=e.slice(1,4);t[0]=Gi(t[0],0,100),t[1]=Gi(fa(t[1],0),0,150,!1),t[2]=+fa(t[2].replace("deg",""),0);const r=q3();T0("d50");const i=jf(cB(t));T0(r);const s=e[4]!==void 0?+Gi(e[4],0,1):1;return i[3]=s,i}if(e=n.match(FY)){const t=e.slice(1,4);t[0]=Gi(fa(t[0],0),0,1),t[1]=Gi(fa(t[1],0),-.4,.4,!0),t[2]=Gi(fa(t[2],0),-.4,.4,!0);const r=jf(uB(t)),i=e[4]!==void 0?+Gi(e[4],0,1):1;return r[3]=i,r}if(e=n.match(UY)){const t=e.slice(1,4);t[0]=Gi(fa(t[0],0),0,1),t[1]=Gi(fa(t[1],0),0,.4,!1),t[2]=+fa(t[2].replace("deg",""),0);const r=jf(xY(t)),i=e[4]!==void 0?+Gi(e[4],0,1):1;return r[3]=i,r}};dB.test=n=>RY.test(n)||CY.test(n)||MY.test(n)||SY.test(n)||FY.test(n)||UY.test(n)||BY.test(n)||EY.test(n)||IY.test(n)||TY.test(n)||n==="transparent";Ut.prototype.css=function(n){return wwe(this._rgb,n)};const Lwe=(...n)=>new Ut(...n,"css");Qn.css=Lwe;Mn.format.css=dB;Mn.autodetect.push({p:5,test:(n,...e)=>{if(!e.length&&On(n)==="string"&&dB.test(n))return"css"}});Mn.format.gl=(...n)=>{const e=Un(n,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e};const xwe=(...n)=>new Ut(...n,"gl");Qn.gl=xwe;Ut.prototype.gl=function(){const n=this._rgb;return[n[0]/255,n[1]/255,n[2]/255,n[3]]};Ut.prototype.hex=function(n){return fY(this._rgb,n)};const Rwe=(...n)=>new Ut(...n,"hex");Qn.hex=Rwe;Mn.format.hex=uY;Mn.autodetect.push({p:4,test:(n,...e)=>{if(!e.length&&On(n)==="string"&&[3,4,5,6,7,8,9].indexOf(n.length)>=0)return"hex"}});const{log:M4}=Math,kY=n=>{const e=n/100;let t,r,i;return e<66?(t=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*M4(r),i=e<20?0:-254.76935184120902+.8274096064007395*(i=e-10)+115.67994401066147*M4(i)):(t=351.97690566805693+.114206453784165*(t=e-55)-40.25366309332127*M4(t),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*M4(r),i=255),[t,r,i,1]},{round:Bwe}=Math,Ewe=(...n)=>{const e=Un(n,"rgb"),t=e[0],r=e[2];let i=1e3,s=4e4;const a=.4;let o;for(;s-i>a;){o=(s+i)*.5;const l=kY(o);l[2]/l[0]>=r/t?s=o:i=o}return Bwe(o)};Ut.prototype.temp=Ut.prototype.kelvin=Ut.prototype.temperature=function(){return Ewe(this._rgb)};const z8=(...n)=>new Ut(...n,"temp");Object.assign(Qn,{temp:z8,kelvin:z8,temperature:z8});Mn.format.temp=Mn.format.kelvin=Mn.format.temperature=kY;Ut.prototype.oklch=function(){return LY(this._rgb)};const Cwe=(...n)=>new Ut(...n,"oklch");Object.assign(Qn,{oklch:Cwe});Mn.format.oklch=xY;Mn.autodetect.push({p:2,test:(...n)=>{if(n=Un(n,"oklch"),On(n)==="array"&&n.length===3)return"oklch"}});Object.assign(Qn,{analyze:bY,average:I8e,bezier:N8e,blend:Vl,brewer:hwe,Color:Ut,colors:yd,contrast:nwe,contrastAPCA:swe,cubehelix:$8e,deltaE:cwe,distance:Awe,input:Mn,interpolate:bd,limits:vY,mix:bd,random:J8e,scale:ny,scales:fwe,valid:uwe});const Iwe=async(n,e)=>{const r=await new z1(n).getZxy(e.z,e.x,e.y);if(!r||!r.data)throw new Error("Tile data not found");const i=new Blob([r.data],{type:"image/png"});return new Promise((s,a)=>{const o=new FileReader;o.onloadend=()=>{o.result?s(o.result.toString()):a(new Error("Failed to convert blob to Base64"))},o.onerror=l=>a(l),o.readAsDataURL(i)})};function Twe(n){const{hueRotate:e,brightnessMin:t,brightnessMax:r,saturation:i,contrast:s}=n;if(t===1&&r===0)return{filter:"invert(1)"};const a=r,o=i+1,l=s+1,c=[];return e!==0&&c.push(`hue-rotate(${e}deg)`),a!==1&&c.push(`brightness(${a})`),o!==1&&c.push(`saturate(${o})`),l!==1&&c.push(`contrast(${l})`),{filter:c.length>0?c.join(" "):"none"}}const Mwe={default:{hueRotate:0,brightnessMin:0,brightnessMax:1,saturation:0,contrast:0},sepia:{hueRotate:35,brightnessMin:.1,brightnessMax:.9,saturation:-.3,contrast:.2},grayscale:{hueRotate:0,brightnessMin:0,brightnessMax:1,saturation:-1,contrast:.1},vintage:{hueRotate:20,brightnessMin:.2,brightnessMax:.8,saturation:-.2,contrast:.3},cool:{hueRotate:180,brightnessMin:.1,brightnessMax:1,saturation:.2,contrast:.1},warm:{hueRotate:30,brightnessMin:.1,brightnessMax:1,saturation:.3,contrast:.2},vivid:{hueRotate:0,brightnessMin:.1,brightnessMax:1,saturation:.5,contrast:.4},soft:{hueRotate:0,brightnessMin:.2,brightnessMax:.9,saturation:-.1,contrast:-.2},dramatic:{hueRotate:0,brightnessMin:0,brightnessMax:1,saturation:.2,contrast:.6},night:{hueRotate:240,brightnessMin:0,brightnessMax:.6,saturation:-.3,contrast:.3},sunset:{hueRotate:15,brightnessMin:.3,brightnessMax:.9,saturation:.4,contrast:.2},blueprint:{hueRotate:200,brightnessMin:.2,brightnessMax:.8,saturation:.3,contrast:.5},negative:{hueRotate:0,brightnessMin:1,brightnessMax:0,saturation:0,contrast:0}};function PY(n){return Mwe[n]}function JF(n){return Twe(PY(n))}const Swe=(n,e,t=14)=>{const r=e*Math.PI/180,i=Math.pow(2,t),s=Math.floor((n+180)/360*i),a=Math.floor((1-Math.log(Math.tan(r)+1/Math.cos(r))/Math.PI)/2*i);return{x:s,y:a,z:t}},Fwe=n=>{const{x:e,y:t,z:r}=n,i=Math.pow(2,r)-1-t;return{x:e,y:i,z:r}},Uwe=async n=>{let e=n.metaData.xyzImageTile??Hy;n.format.url.includes("{-y}")&&(e=Fwe(e));const t=nY(n.format.url).replace("{z}",e.z.toString()).replace("{x}",e.x.toString()).replace("{y}",e.y.toString());if(n.style.type==="dem"){if(n.style.visualization.demType)return await HY(t,n)}else return t},Nwe=async n=>{const e=vd.get(n.id);if(e)return e;let t;if(n.style.type==="dem")n.style.visualization.demType&&(t=await HY("none",n));else if(n.style.type==="cad")t=await kwe(n.format.url,n);else{const r=n.metaData.xyzImageTile??Hy;t=await Iwe(n.format.url,r)}return t&&vd.add(n.id,t),t},DY=async n=>{try{const e=Dwe.toProxyUrl(n),t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch image: ${t.statusText}`);const r=await t.blob();return await createImageBitmap(r)}catch(e){throw console.error("Error loading image to bitmap:",e),e}},OY=async(n,e)=>{try{const r=await new z1(n).getZxy(e.z,e.x,e.y);if(!r||!r.data)throw new Error("Tile data not found");const i=new Blob([r.data],{type:"image/png"});return await createImageBitmap(i)}catch(t){if(t instanceof Error&&t.name==="AbortError")throw t;return await createImageBitmap(new ImageData(1,1))}},zY=async()=>await createImageBitmap(new ImageData(1,1)),ZF=new _p,HY=async(n,e)=>{const{style:t,metaData:r}=e,i=t.visualization,{x:s,y:a,z:o}=r.xyzImageTile??Hy,l=i.mode,c=crypto.randomUUID(),A=i.demType,u=$x[A],h=RO[l],f=e.format.url,d="blob";try{let g;e.format.type==="image"?g=await DY(n):e.format.type==="pmtiles"?g=await OY(f,{x:s,y:a,z:o}):g=await zY();const _=new Worker(new URL(""+new URL("../workers/protocol_dem.worker-Dr9vdl9S.js",import.meta.url).href,import.meta.url),{type:"module"});if(l==="relief"){const m=ZF.createColorArray(i.uniformsData.relief.colorMap||"bone"),y=i.uniformsData.relief.max,b=i.uniformsData.relief.min;return new Promise((v,B)=>{_.postMessage({tileId:c,center:g,demTypeNumber:u,modeNumber:h,mode:l,elevationColorArray:m,max:y,min:b,encodeType:d}),_.onmessage=C=>{const{id:I,blob:R,error:w}=C.data;I===c&&(w?B(new Error(w)):v(URL.createObjectURL(R))),_.terminate()}})}else if(l==="slope"||l==="aspect"){const m=ZF.createColorArray(i.uniformsData[l].colorMap||"bone");let y=0,b=0;const v=await createImageBitmap(new ImageData(1,1));return l==="slope"&&(y=i.uniformsData.slope.min,b=i.uniformsData.slope.max),new Promise((B,C)=>{_.postMessage({tileId:c,center:g,left:v,right:v,top:v,bottom:v,demTypeNumber:u,modeNumber:h,mode:l,elevationColorArray:m,max:b,min:y,tile:{x:s,y:a,z:o},encodeType:d}),_.onmessage=I=>{const{id:R,blob:w,error:U}=I.data;R===c&&(U?C(new Error(U)):B(URL.createObjectURL(w))),_.terminate()}})}else return new Promise((m,y)=>{_.postMessage({tileId:c,center:g,z:o,demTypeNumber:u}),_.onmessage=b=>{const{id:v,blob:B,error:C}=b.data;v===c&&(C?y(new Error(C)):m(URL.createObjectURL(B))),_.terminate()}})}catch(g){throw new Error(`Failed to load image: ${g}`)}},kwe=async(n,e)=>{const t=crypto.randomUUID(),r=new Worker(new URL(""+new URL("../workers/image_replacement_color.worker-C9haU0TV.js",import.meta.url).href,import.meta.url),{type:"module"}),{metaData:i}=e,{x:s,y:a,z:o}=i.xyzImageTile??Hy,l=e.format.url,c="blob";let A;e.format.type==="image"?A=await DY(n):e.format.type==="pmtiles"?A=await OY(l,{x:s,y:a,z:o}):A=await zY();const u="#ff0000",h=e.style.color;return new Promise((f,d)=>{r.postMessage({tileId:t,image:A,targetColor:u,replacementColor:h,encodeType:c}),r.onmessage=g=>{const{id:_,blob:m,error:y}=g.data;_===t&&(y?d(new Error(y)):f(URL.createObjectURL(m))),r.terminate()}})},Pwe=n=>n.startsWith("blob:");class vd{static revokeIfBlob(e){Pwe(e)&&URL.revokeObjectURL(e)}static add(e,t){if(this.images.has(e)&&(console.warn(`Image with id ${e} already exists. Overwriting.`),this.images.delete(e)),this.images.size>=this.MAX_SIZE){const r=this.images.keys().next().value;if(r){const i=this.images.get(r);this.images.delete(r),i&&this.revokeIfBlob(i)}}this.images.set(e,t)}static get(e){const t=this.images.get(e);return t&&(this.images.delete(e),this.images.set(e,t)),t}static has(e){return this.images.has(e)}static remove(e){const t=this.images.get(e);t?(this.revokeIfBlob(t),this.images.delete(e)):console.warn(`Image with id ${e} does not exist.`)}static clear(){this.images.forEach(e=>{this.revokeIfBlob(e)}),this.images.clear()}static export(e){const t=this.get(e);if(t){const r=document.createElement("a");r.href=t,r.download=`${e}.webp`,r.click()}}static size(){return this.images.size}static getAll(){return new Map(this.images)}}z(vd,"MAX_SIZE",100),z(vd,"images",new Map);class Dwe{static toProxyUrl(e){return e}}const Owe=n=>n.metaData.mapImage??void 0,lf=async n=>{try{if(n.metaData.mapImage){const e=Owe(n);return e?{url:e}:void 0}else if(n.type==="raster"){if(n.format.type==="image"){const e=await Uwe(n);return e?{url:e}:void 0}else if(n.format.type==="pmtiles"){const e=await Nwe(n);return e?{url:e}:void 0}}else if(n.type==="vector"){const e=await Rve(n);return e?{url:e}:void 0}else{console.warn(`Unsupported layer type: ${n.type}`);return}}catch(e){throw console.error("Error getting layer image:",e),e}},zwe={"01":"","02":"","03":"","04":"","05":"","06":"","07":"","08":"","09":"",10:"",11:"",12:"",13:"",14:"",15:"",16:"",17:"",18:"",19:"",20:"",21:"",22:"",23:"",24:"",25:"",26:"",27:"",28:"",29:"",30:"",31:"",32:"",33:"",34:"",35:"",36:"",37:"",38:"",39:"",40:"",41:"",42:"",43:"",44:"",45:"",46:"",47:""},Hwe=Object.fromEntries(Object.entries(zwe).map(([n,e])=>[e,n])),gB=n=>{if(n)return Hwe[n]};var Qwe=wn('<svg height="auto" viewBox="0 0 638 600" xmlns="http://www.w3.org/2000/svg"><path d="M199.99,73.70L191.84,55.13L189.97,47.69L190.49,42.75L193.68,38.56L195.12,35.53L195.16,32.16L198.78,26.69L199.31,22.99L196.96,17.93L196.96,14.83L198.32,11.10L201.80,15.43L201.43,16.90L204.13,17.68L204.53,19.03L207.38,18.63L208.75,16.43L211.64,17.85L214.83,17.14L218.41,15.17L221.31,12.17L222.67,9.27L222.81,4.11L224.15,1.80L228.83,0.00L231.41,1.86L232.29,6.06L234.72,9.05L237.39,10.35L238.99,15.45L241.12,18.76L253.36,27.65L263.24,41.67L279.21,61.32L290.73,74.03L292.83,80.27L296.45,84.12L297.61,87.48L297.48,90.39L300.42,94.24L302.15,95.08L304.84,101.83L307.21,103.72L309.50,107.05L313.32,114.02L317.48,118.70L329.67,130.16L336.12,138.04L340.00,143.83L345.59,148.17L347.78,148.19L347.73,149.94L351.51,153.00L363.81,161.56L365.28,163.95L376.83,171.58L379.04,173.74L380.22,177.42L384.79,181.02L392.71,185.60L406.37,192.34L413.46,195.55L424.90,200.22L440.92,205.31L454.19,208.12L456.85,207.77L459.28,209.32L466.27,211.10L469.32,211.33L472.74,210.25L473.50,213.79L472.94,217.26L473.95,217.96L473.37,220.79L476.87,223.37L476.09,224.93L478.19,229.19L485.08,233.00L497.05,236.55L510.06,238.40L521.78,238.10L530.24,236.38L531.34,234.75L534.44,233.35L535.77,230.31L539.22,228.45L542.44,225.61L545.08,219.99L546.10,220.49L549.48,216.76L550.97,216.29L554.60,210.80L556.03,210.57L562.03,204.73L563.43,204.20L568.43,199.58L572.05,197.63L575.30,191.64L576.06,189.18L581.45,183.66L582.46,180.88L583.67,180.80L585.64,176.23L588.15,176.42L588.61,182.93L590.31,188.16L588.46,190.86L588.49,193.40L583.82,201.95L579.67,206.01L577.14,213.24L577.66,216.23L575.30,220.76L573.45,221.98L570.22,226.91L568.19,228.86L565.28,234.24L564.36,237.43L561.73,242.31L562.22,246.68L560.63,252.57L558.27,254.72L558.06,257.87L559.11,263.20L561.79,266.53L564.58,272.31L566.21,277.06L568.43,278.81L577.72,282.62L583.71,284.20L587.65,286.60L588.71,289.73L586.87,291.85L582.47,292.05L584.05,290.03L587.14,289.31L587.68,287.31L584.44,284.79L580.35,285.76L579.99,283.31L572.25,281.90L572.80,285.29L574.78,286.44L575.20,290.71L577.18,294.33L579.70,309.17L581.12,313.60L585.10,321.03L588.17,324.52L593.68,329.71L595.27,329.62L603.80,333.25L606.91,327.39L609.97,325.89L613.67,322.55L613.29,321.56L619.19,317.62L620.42,315.15L627.94,316.33L631.17,314.26L634.67,315.89L638.00,316.00L637.35,318.59L631.04,322.95L626.25,323.47L623.58,325.00L623.08,326.73L620.24,325.26L615.96,327.14L616.06,328.81L613.51,331.49L611.50,331.19L609.80,339.59L607.99,341.37L608.17,344.26L605.39,344.83L606.57,347.98L604.10,348.84L604.52,345.99L602.11,344.58L595.01,344.88L587.79,346.01L585.29,347.69L582.75,346.87L578.07,348.85L575.60,351.28L572.97,352.14L569.67,350.09L564.75,352.65L563.59,355.01L564.26,360.09L561.00,362.35L561.11,364.90L555.25,367.50L554.41,371.76L551.38,372.70L548.87,374.51L544.43,373.19L543.66,374.56L541.18,373.35L539.30,374.02L536.45,371.60L535.91,369.71L534.13,369.74L534.59,366.86L536.42,364.74L533.55,363.40L528.83,363.97L525.04,368.35L522.51,374.61L525.86,378.27L529.18,380.74L524.08,381.40L517.52,380.60L512.80,378.83L502.34,378.81L497.51,380.53L493.67,379.81L484.64,376.06L485.56,373.86L483.50,372.11L480.41,372.19L480.05,371.13L475.47,371.25L468.69,372.56L459.62,376.25L457.11,378.14L454.66,378.63L450.51,380.83L443.99,385.26L437.63,390.05L430.94,396.04L426.58,400.67L407.53,419.31L401.83,425.85L396.22,433.11L387.78,445.13L383.32,452.96L379.14,461.46L375.16,471.02L373.39,480.14L374.87,483.11L374.73,485.17L376.35,486.31L376.15,489.71L375.02,492.43L374.34,497.49L374.75,498.95L373.42,503.55L373.33,508.39L371.97,509.03L368.30,514.35L366.69,519.71L366.49,525.70L363.61,521.81L361.62,520.93L358.19,517.39L357.94,515.53L355.23,511.16L347.44,505.66L340.95,502.55L337.35,498.19L331.09,496.07L327.87,496.06L321.51,494.83L316.44,491.89L315.75,490.18L311.85,488.77L306.06,487.56L301.74,483.25L296.97,480.22L292.82,479.23L288.99,476.93L285.69,475.88L281.80,471.36L278.67,470.92L274.61,468.69L273.65,467.39L264.82,461.50L263.51,459.28L257.37,453.46L255.97,451.12L253.02,449.43L248.10,448.16L243.41,447.90L243.08,446.93L238.50,445.95L237.08,443.76L233.60,441.31L231.41,438.54L226.92,435.16L224.42,432.13L216.22,428.46L212.48,428.36L213.08,427.19L209.62,426.27L200.89,425.01L196.56,425.32L203.37,421.10L195.90,424.25L195.12,425.92L192.02,425.82L185.25,427.66L178.71,430.43L171.64,434.49L165.38,438.73L159.83,443.12L151.92,450.11L146.79,452.01L140.34,457.92L129.46,472.00L123.98,469.36L122.73,467.16L124.86,465.46L126.84,468.77L128.04,468.84L128.66,464.38L121.29,462.36L120.32,460.74L119.73,456.07L116.11,448.93L113.22,447.92L108.93,443.73L107.28,443.48L105.90,440.45L106.56,439.50L104.26,436.01L97.94,431.26L91.91,431.44L85.96,434.13L81.22,431.13L76.55,431.66L74.71,430.90L68.70,436.57L65.76,440.32L62.05,446.27L59.01,452.43L54.78,464.38L53.81,469.71L53.72,475.20L55.65,480.17L61.55,482.98L65.34,483.26L67.71,486.19L73.41,491.33L77.16,494.05L79.43,497.08L82.39,498.78L85.58,499.53L89.30,498.68L93.53,496.74L97.53,496.87L99.01,495.30L104.92,498.68L105.74,501.96L109.24,504.27L109.36,507.00L111.27,510.16L114.62,513.05L117.22,514.18L120.40,517.33L123.53,523.97L125.73,526.79L132.07,530.24L133.51,529.77L141.71,532.90L145.19,535.19L145.52,538.89L149.48,541.06L149.46,543.12L146.43,545.50L142.09,545.06L138.17,550.98L133.82,553.54L126.69,555.98L124.87,555.20L122.29,551.97L114.92,548.96L112.72,549.02L107.75,547.02L104.80,547.02L101.66,548.26L100.29,551.08L98.48,551.61L97.61,548.44L98.91,546.07L99.98,548.01L101.27,544.90L98.43,540.96L93.66,540.28L90.17,542.59L89.99,545.00L88.34,548.83L88.05,551.37L83.81,553.47L80.14,557.35L72.53,558.24L70.61,561.75L69.79,571.14L69.83,575.11L70.66,578.89L67.59,583.31L62.88,583.47L56.68,586.77L51.88,588.33L47.32,598.32L45.62,600.00L43.72,599.20L40.96,596.28L38.09,595.40L33.65,596.74L28.84,592.68L22.95,577.05L22.79,570.41L24.86,564.14L25.59,558.49L30.44,551.31L32.20,547.10L31.96,542.64L36.88,541.56L37.78,538.33L37.26,533.84L38.37,533.09L39.46,526.76L37.13,514.36L34.66,510.10L33.33,509.75L30.60,503.16L27.08,498.66L23.29,496.60L16.21,495.96L15.95,494.58L10.24,483.79L3.03,482.13L0.88,477.54L1.92,476.42L0.00,471.79L1.58,464.61L3.65,463.52L6.58,458.83L8.30,453.51L9.07,448.56L8.37,446.56L7.74,438.06L5.82,427.93L9.28,423.36L10.68,420.23L13.88,417.87L17.78,416.52L23.44,416.11L24.99,416.96L28.73,416.30L31.46,413.99L31.69,411.97L36.67,408.36L39.21,407.78L41.29,401.90L44.20,396.65L46.17,399.25L49.69,401.74L50.61,405.23L53.35,405.20L56.90,403.53L56.61,398.75L57.15,396.15L61.14,392.35L64.24,386.94L64.37,385.69L68.43,380.23L71.67,378.52L77.95,373.90L80.27,371.42L80.27,367.60L77.87,366.51L75.80,360.82L73.72,359.73L69.51,351.20L62.21,345.42L60.26,341.25L58.83,339.88L62.48,326.01L61.75,323.81L69.20,324.20L73.09,321.89L75.41,317.43L77.65,318.21L85.52,326.76L88.79,329.06L91.01,329.16L92.67,330.62L92.12,333.30L98.06,335.56L100.24,335.78L102.18,337.84L106.54,339.38L106.22,342.25L107.96,343.66L114.22,343.08L114.70,340.51L116.21,341.96L121.71,340.73L121.60,339.42L124.81,338.89L128.69,337.16L131.80,337.40L132.06,339.72L130.25,341.88L134.41,345.93L139.40,347.05L147.09,351.01L153.44,348.10L158.23,344.95L159.27,343.03L161.01,344.83L160.65,342.13L161.80,341.75L166.24,336.58L171.87,328.93L174.77,324.00L175.57,315.34L175.10,310.75L171.39,302.73L169.22,300.07L167.79,296.64L168.01,293.95L169.68,290.99L170.74,286.33L170.40,284.18L168.54,282.22L167.05,278.47L166.88,274.95L164.90,269.26L164.98,266.07L168.18,261.23L169.29,256.73L171.97,253.98L178.20,250.39L182.42,250.02L183.90,247.44L186.68,248.02L189.29,246.88L192.99,243.29L196.78,236.16L196.68,233.41L197.84,232.78L198.67,226.66L199.87,222.85L199.85,214.81L198.91,205.69L199.40,203.12L199.04,193.41L199.41,190.75L198.43,184.01L198.36,179.93L199.90,179.83L201.51,177.61L202.53,173.68L204.14,171.67L205.04,168.32L207.73,165.07L210.22,156.84L210.52,148.14L211.04,144.11L213.06,139.84L213.53,128.68L211.96,114.30L209.36,101.75L207.10,93.02L204.64,85.69L199.99,73.70Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function jwe(n,e){let t=Ne(e,"width",3,"100px");var r=Qwe();Ye(()=>pt(r,"width",t())),Z(n,r)}var Ywe=wn('<svg height="auto" viewBox="0 0 623 600" xmlns="http://www.w3.org/2000/svg"><path d="M623.00,496.37L618.71,501.98L605.80,509.34L593.06,513.34L588.39,520.03L589.66,527.05L582.35,536.07L572.74,542.41L565.71,539.67L553.61,529.39L540.57,529.55L529.07,537.89L525.43,533.48L520.01,544.11L509.57,549.73L503.82,543.27L504.52,536.64L497.73,530.92L490.07,535.18L483.80,543.75L479.26,541.49L457.07,560.23L448.90,559.25L437.66,563.62L424.29,574.11L427.15,581.20L415.66,584.89L409.99,591.35L403.75,592.16L394.93,600.00L382.83,599.66L374.07,587.12L371.19,582.67L373.96,572.68L370.36,565.34L374.78,561.55L378.73,540.89L383.05,544.23L387.97,539.73L384.20,523.87L384.22,506.18L366.60,509.24L362.30,506.62L352.80,508.32L345.57,502.63L348.21,469.04L333.54,472.05L324.84,480.27L322.85,496.38L316.66,493.10L308.31,495.84L304.68,501.41L298.34,501.35L298.45,511.67L292.32,506.33L282.60,506.83L282.55,510.55L273.78,516.77L264.76,517.48L264.25,511.82L249.25,502.73L236.76,509.65L242.25,518.46L238.65,520.09L226.90,513.59L228.04,504.72L221.52,505.98L205.10,493.61L197.97,496.25L193.64,481.69L186.57,485.28L182.30,480.56L171.09,483.57L166.48,488.45L164.01,499.44L153.89,502.48L149.67,498.01L122.35,504.66L110.64,499.41L99.40,503.07L84.22,502.74L81.55,494.95L74.68,488.82L67.04,488.46L58.26,492.82L54.19,509.78L45.41,503.85L38.16,506.85L33.74,503.15L25.75,505.96L29.06,479.85L29.59,463.18L27.00,449.93L19.63,435.25L5.30,437.12L0.38,431.13L0.00,421.87L9.31,415.23L14.01,408.31L21.75,409.94L26.81,398.44L35.55,390.99L37.14,383.98L43.23,377.26L46.55,364.54L56.80,360.80L65.53,352.55L78.00,358.33L85.87,364.99L93.96,362.46L116.56,345.70L122.16,348.09L129.06,343.95L140.64,322.37L148.77,295.20L153.42,271.36L157.55,235.99L158.27,220.46L156.63,205.88L145.21,193.33L132.50,191.75L135.01,185.23L142.70,184.86L151.28,188.60L157.55,181.04L162.44,161.05L160.38,143.79L165.48,129.75L182.02,140.87L185.35,147.52L195.78,159.02L208.39,165.62L215.62,163.64L226.01,153.29L227.72,147.79L237.31,146.30L254.23,150.96L263.83,161.34L267.37,171.02L264.30,187.90L263.50,202.86L268.28,226.02L272.79,267.72L279.76,301.20L284.72,312.05L299.48,325.18L314.57,324.26L322.90,319.99L333.07,306.10L336.41,305.77L344.88,289.02L344.11,275.65L334.30,270.18L342.50,267.50L341.78,260.65L345.94,256.39L349.04,244.22L355.36,244.10L362.26,251.27L369.26,250.43L383.13,265.56L379.54,277.10L390.03,277.29L403.76,286.66L411.47,287.30L418.35,299.78L424.85,305.89L434.72,305.85L441.72,301.72L455.68,282.96L462.46,268.56L468.87,247.79L471.35,234.03L472.47,210.10L474.51,198.11L482.85,186.47L484.95,176.21L481.92,164.26L474.41,146.75L465.35,133.03L456.78,124.30L447.82,120.98L435.13,137.35L442.06,138.06L428.93,150.65L423.36,151.50L407.46,165.33L392.45,158.43L381.81,158.11L370.80,169.27L360.98,168.26L353.13,173.38L347.37,172.41L329.84,182.21L325.17,190.16L315.41,188.60L309.19,182.62L310.54,170.20L308.86,159.68L316.03,143.61L314.18,133.34L319.67,121.30L323.01,106.36L321.53,99.15L325.97,95.59L330.56,79.67L334.12,57.82L347.78,42.48L354.84,31.35L358.59,19.04L355.44,9.29L359.11,0.00L373.37,10.78L380.44,21.25L389.78,26.97L412.28,28.79L427.34,37.51L435.70,50.42L439.91,52.91L455.02,71.79L468.37,81.28L490.61,88.82L501.96,86.92L522.17,77.41L537.32,63.99L547.21,52.20L547.09,71.24L539.99,89.04L528.13,140.10L523.21,167.35L522.61,181.17L525.62,204.26L523.91,211.41L521.27,242.42L521.08,263.28L525.24,312.94L528.54,340.31L534.56,379.25L542.98,412.08L555.64,445.90L560.94,449.01L568.55,459.44L578.46,460.61L586.56,454.51L590.34,463.58L598.65,468.89L609.64,485.76L623.00,496.37Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function Gwe(n,e){let t=Ne(e,"width",3,"100px");var r=Ywe();Ye(()=>pt(r,"width",t())),Z(n,r)}var Vwe=wn('<svg height="auto" viewBox="0 0 386 600" xmlns="http://www.w3.org/2000/svg"><path d="M266.10,523.06L258.87,518.02L249.10,514.90L236.52,515.81L234.99,512.19L227.61,513.62L225.85,520.35L228.64,528.51L226.37,535.30L227.29,545.39L216.98,556.10L220.73,562.45L216.68,569.57L219.17,577.39L210.98,579.00L213.13,588.80L205.77,593.91L207.11,587.52L201.39,582.76L197.11,583.72L190.21,578.36L187.07,580.47L178.37,574.98L176.99,585.10L168.54,583.76L163.95,592.73L164.39,596.03L152.70,600.00L150.34,593.34L143.01,588.95L139.85,590.19L132.06,586.02L133.06,578.53L127.20,573.59L122.78,574.20L122.85,569.67L127.08,570.47L134.13,562.84L132.11,555.70L123.48,555.63L119.86,552.07L114.61,554.97L106.13,555.99L99.86,552.61L90.35,556.41L83.85,545.77L67.91,537.56L63.21,538.06L50.96,530.05L46.60,525.41L32.80,527.39L30.15,512.78L34.16,509.92L42.15,493.40L40.53,485.53L32.31,485.26L27.07,482.58L31.77,469.34L26.23,463.68L32.86,454.04L42.03,450.32L39.19,446.23L30.35,443.43L31.63,435.07L36.47,429.91L31.06,424.56L17.56,417.18L17.85,409.64L11.02,407.75L10.75,402.06L15.25,397.06L10.81,387.11L6.11,383.44L7.19,378.87L0.00,375.60L1.47,367.16L7.18,366.41L8.79,359.23L6.45,355.46L9.90,349.58L19.33,344.06L16.45,337.51L22.76,329.59L23.68,321.18L21.02,313.97L27.43,312.28L35.13,300.49L38.95,300.90L42.33,290.10L45.96,284.28L42.58,263.70L38.84,263.00L33.09,254.39L41.55,249.88L41.38,246.60L53.04,233.68L51.18,229.41L35.38,221.03L36.84,212.74L35.10,207.27L39.76,202.27L47.03,200.67L54.43,207.90L61.14,204.82L58.43,191.60L54.81,187.52L55.53,177.06L52.47,170.13L53.64,149.08L55.00,143.76L52.06,133.74L60.79,125.60L61.94,120.12L58.15,113.32L62.35,106.63L56.04,99.40L65.11,91.87L68.58,81.32L78.14,79.58L82.04,72.18L89.00,82.16L98.62,82.43L105.63,76.20L110.60,75.55L115.11,70.42L124.24,67.48L121.98,61.84L132.60,53.50L141.54,50.01L148.04,50.80L165.68,35.89L169.30,37.69L174.28,30.87L180.37,27.49L185.77,32.03L185.22,37.31L189.79,42.44L198.09,37.98L202.40,29.52L205.30,33.03L214.44,26.40L224.81,26.27L234.43,34.44L240.02,36.62L247.66,31.58L253.47,24.40L252.46,18.82L256.18,13.50L266.31,10.32L276.58,4.46L279.99,0.00L290.74,18.53L299.57,29.07L299.58,33.69L304.12,37.34L305.00,45.98L307.61,48.00L317.41,67.01L320.95,82.13L316.70,81.66L311.73,87.65L312.91,95.09L320.86,97.06L328.40,102.33L332.23,110.00L325.12,112.43L319.87,119.70L320.96,133.76L326.15,140.60L332.92,143.17L341.23,157.17L348.03,156.59L354.32,166.07L355.64,179.87L351.57,179.51L350.38,190.00L354.06,198.93L358.39,201.14L360.60,208.31L360.37,219.98L362.22,234.91L367.46,239.77L364.05,242.09L365.35,248.54L361.77,254.38L362.14,263.08L357.93,271.09L362.56,272.62L358.49,280.24L356.28,297.58L351.39,302.33L355.15,306.65L370.75,282.28L373.58,282.55L372.51,291.41L375.11,311.06L381.62,310.85L386.00,320.26L384.12,324.56L375.39,326.87L374.29,333.74L368.03,336.08L368.69,345.74L363.91,342.90L354.76,345.73L353.70,348.95L360.80,358.62L375.85,343.25L379.94,342.59L382.97,347.23L377.05,355.80L378.02,360.82L373.95,366.93L361.01,368.99L361.46,363.21L349.67,377.10L352.48,382.70L357.55,381.82L354.57,388.07L349.45,390.31L343.41,387.88L339.19,393.77L340.43,398.45L349.75,397.32L354.10,393.43L358.01,394.93L365.46,389.86L357.78,402.98L341.33,404.55L335.67,406.53L346.00,412.58L346.93,418.89L336.50,416.63L342.77,428.54L357.67,424.69L351.30,427.95L351.97,436.72L345.84,434.84L337.35,442.52L331.05,440.22L336.40,448.89L344.57,447.63L343.69,452.30L335.50,458.31L324.54,458.24L322.08,462.08L332.07,467.89L331.61,471.96L339.79,470.94L342.61,476.25L333.27,483.02L328.31,476.49L314.73,474.48L317.86,486.00L331.07,487.66L329.87,492.03L315.64,493.23L325.38,499.84L324.77,503.63L316.59,504.80L303.75,500.71L300.70,506.64L292.33,503.03L295.88,494.55L292.78,488.04L291.49,498.54L287.52,503.80L296.66,513.87L295.87,518.13L287.68,514.98L283.68,522.81L288.30,523.88L292.40,529.33L286.00,534.40L281.68,530.55L281.67,525.37L276.35,521.34L279.59,513.49L268.01,510.67L264.11,513.16L266.10,523.06Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function Kwe(n,e){let t=Ne(e,"width",3,"100px");var r=Vwe();Ye(()=>pt(r,"width",t())),Z(n,r)}var $we=wn('<svg height="auto" viewBox="0 0 535 600" xmlns="http://www.w3.org/2000/svg"><path d="M250.87,540.60L238.14,537.14L222.28,542.96L223.58,548.45L220.53,589.32L204.13,589.02L191.07,584.01L189.95,588.32L201.79,596.83L197.48,600.00L179.69,592.70L172.39,595.78L167.09,587.02L160.28,585.72L156.13,568.25L159.23,562.49L155.37,550.31L157.92,543.87L147.07,538.18L134.63,539.10L128.60,531.20L122.56,535.59L111.09,527.57L109.82,533.07L81.56,538.87L74.05,529.99L76.05,515.95L58.45,512.05L46.89,502.49L41.85,512.92L33.69,510.11L25.20,513.52L1.37,501.44L0.01,493.39L5.04,486.46L0.00,475.89L4.91,461.23L28.27,463.80L37.70,462.19L40.88,455.30L54.16,451.01L54.07,439.88L59.28,428.38L73.25,413.77L77.93,402.06L73.92,378.90L75.35,357.76L84.51,352.19L82.84,342.80L93.39,339.36L97.10,333.86L93.97,320.96L115.66,298.69L113.27,287.84L118.82,275.31L123.53,276.31L128.89,269.33L123.32,252.67L114.02,248.87L110.01,241.07L113.17,233.68L106.82,231.18L111.13,216.80L115.80,213.00L100.11,180.78L103.17,172.51L120.15,180.79L124.72,177.00L133.02,151.85L126.65,146.69L126.76,137.77L131.97,132.92L137.17,119.14L141.78,114.48L125.36,107.26L120.45,81.55L101.45,69.12L103.74,55.42L112.22,62.56L120.25,55.86L129.31,53.08L138.21,58.30L151.24,51.51L154.79,43.45L170.91,33.89L179.65,22.36L190.57,21.39L210.02,18.60L216.16,25.13L233.41,36.41L240.04,35.71L262.49,47.26L271.64,62.24L285.05,56.88L293.87,61.64L305.82,60.20L313.21,56.12L318.32,61.14L330.46,61.23L333.32,71.28L323.38,82.02L317.42,80.89L317.33,87.26L323.55,86.40L331.81,93.36L330.40,103.91L341.37,109.77L345.83,108.03L356.14,114.20L359.48,123.58L375.94,117.99L375.32,113.34L381.78,100.72L393.69,102.61L395.64,88.36L407.88,96.09L412.30,93.12L422.03,100.67L428.06,99.31L436.11,106.02L434.23,115.02L444.60,107.81L441.57,94.02L453.10,91.77L449.59,80.76L455.30,70.73L450.02,61.80L464.54,46.72L463.25,32.52L466.44,22.97L462.51,11.49L464.99,2.01L475.39,0.00L477.55,5.10L495.27,3.81L509.02,8.20L519.21,15.30L519.19,21.68L527.10,41.13L527.02,49.25L533.09,53.66L531.61,60.26L535.00,71.51L528.82,68.51L518.26,52.34L508.88,59.98L504.67,55.16L500.32,73.04L503.58,82.43L508.66,84.84L491.42,93.22L489.85,98.83L476.29,105.66L474.99,116.26L484.44,126.83L493.75,128.87L491.44,147.74L480.72,140.22L475.95,151.83L465.56,152.90L466.00,160.69L458.59,158.49L447.21,161.37L447.19,176.06L455.07,173.91L470.84,179.18L479.52,178.84L478.27,191.87L469.07,196.02L463.86,205.61L455.08,206.48L452.76,214.96L460.96,217.36L466.34,230.22L482.02,223.57L480.62,230.28L486.48,235.37L481.81,242.04L482.40,252.20L474.64,249.04L473.25,239.77L467.62,241.29L457.61,235.93L467.30,246.13L468.24,256.92L459.94,264.37L468.90,266.92L472.67,272.61L463.08,277.14L453.15,272.65L448.90,275.08L457.89,282.73L458.26,298.18L469.51,287.48L474.53,298.72L482.02,294.05L484.14,300.57L477.95,300.07L462.92,305.15L465.36,311.10L474.46,309.39L481.94,324.50L478.42,332.00L484.42,335.91L479.74,344.19L478.35,357.42L473.53,356.26L472.24,345.53L467.62,341.76L455.99,341.18L449.36,336.03L456.29,332.80L454.38,318.91L449.24,323.47L436.76,321.49L441.97,312.42L453.15,307.76L442.68,308.11L433.43,293.58L425.25,302.94L417.56,300.32L418.56,291.44L413.48,288.23L389.50,288.51L379.31,285.75L379.95,290.42L365.31,294.80L343.90,307.21L338.00,315.98L327.89,314.48L330.13,308.99L321.12,304.26L316.99,309.02L310.81,304.18L300.91,310.20L302.77,318.48L297.63,322.64L291.60,340.55L306.57,334.50L309.46,347.53L285.43,358.05L287.53,359.82L267.36,392.63L257.43,417.88L248.76,451.86L244.69,502.65L247.84,531.10L250.87,540.60Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function Wwe(n,e){let t=Ne(e,"width",3,"100px");var r=$we();Ye(()=>pt(r,"width",t())),Z(n,r)}var qwe=wn('<svg height="auto" viewBox="0 0 367 600" xmlns="http://www.w3.org/2000/svg"><path d="M68.20,30.46L74.78,28.14L78.43,31.20L84.41,28.72L91.65,33.61L95.01,19.62L102.26,16.02L108.56,16.32L114.22,21.38L116.43,27.80L128.95,28.08L138.22,25.06L147.88,29.39L170.42,23.90L173.90,27.59L182.25,25.09L184.29,16.01L188.09,11.99L197.34,9.50L200.86,13.40L206.70,10.44L210.27,22.45L216.15,20.27L229.69,30.48L235.07,29.44L234.13,36.76L243.83,42.12L246.80,40.78L242.27,33.51L252.57,27.80L264.94,35.29L265.36,39.97L272.80,39.38L280.04,34.25L280.08,31.18L288.09,30.77L293.16,35.17L293.06,26.66L298.29,26.71L301.29,22.11L308.18,19.85L313.28,22.55L314.92,9.27L322.11,2.48L334.20,0.00L332.02,27.72L337.99,32.41L345.83,31.00L349.37,33.17L363.91,30.64L363.89,45.24L367.00,58.33L362.94,62.04L359.38,59.28L356.13,76.33L352.48,79.46L355.45,85.52L353.16,93.76L355.54,97.43L351.49,105.10L341.58,106.91L337.98,117.85L328.57,125.66L335.11,133.16L330.76,140.10L334.69,147.16L333.50,152.84L324.44,161.29L327.49,171.68L326.08,177.20L324.87,199.03L328.04,206.23L327.29,217.07L331.05,221.31L333.86,235.02L326.90,238.22L319.22,230.72L311.68,232.38L306.85,237.57L308.66,243.24L307.13,251.84L323.53,260.53L325.45,264.96L313.37,278.37L313.53,281.76L304.76,286.45L310.73,295.38L314.61,296.11L318.11,317.45L314.35,323.49L310.84,334.70L306.88,334.27L298.89,346.50L292.24,348.25L295.00,355.73L294.05,364.45L287.50,372.68L290.48,379.47L280.70,385.20L277.13,391.30L279.55,395.20L277.89,402.66L271.96,403.43L270.44,412.19L277.89,415.58L276.77,420.33L281.65,424.13L286.26,434.45L281.59,439.64L281.87,445.53L288.96,447.50L288.65,455.32L302.65,462.98L308.27,468.53L303.25,473.89L301.92,482.55L311.09,485.46L314.04,489.71L304.52,493.56L297.65,503.56L303.39,509.44L298.52,523.17L303.95,525.95L312.48,526.23L314.17,534.39L305.87,551.53L301.71,554.50L304.46,569.65L296.41,570.37L289.98,578.87L278.10,585.91L275.49,591.86L265.89,596.86L259.34,593.01L252.67,595.06L246.75,600.00L240.51,594.73L237.98,590.74L225.57,591.22L222.17,584.85L216.50,583.72L212.99,574.28L213.44,564.72L208.01,557.49L192.30,556.55L188.12,545.68L176.89,542.82L173.67,549.57L167.02,544.33L159.67,541.74L150.29,544.70L144.10,541.91L142.07,532.30L128.68,536.60L125.02,530.99L119.13,529.75L118.49,526.13L103.82,520.85L103.74,506.03L88.35,509.82L84.59,516.19L71.50,511.95L49.38,511.61L53.68,505.97L59.16,489.74L58.86,481.90L55.80,480.12L61.50,465.87L60.73,460.30L65.94,449.69L76.97,446.72L85.55,429.25L92.13,407.06L98.10,376.67L102.13,345.95L103.67,327.38L103.95,310.18L102.67,289.70L96.90,275.34L97.95,269.21L94.03,256.35L85.20,241.61L76.93,232.99L66.60,226.48L56.55,224.93L47.57,226.70L43.00,233.48L47.03,238.02L38.41,237.02L32.95,241.26L27.02,237.69L17.45,241.23L13.27,236.26L11.35,223.63L6.25,222.05L2.21,210.03L6.57,208.87L0.00,196.00L1.70,186.12L8.18,195.59L20.10,198.11L29.06,204.71L39.09,201.53L51.45,191.57L64.60,173.68L76.42,148.37L84.00,123.75L81.66,121.14L86.96,108.75L90.62,91.26L93.53,63.69L89.21,50.50L81.39,46.74L80.04,41.65L71.54,36.17L68.20,30.46Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function Xwe(n,e){let t=Ne(e,"width",3,"100px");var r=qwe();Ye(()=>pt(r,"width",t())),Z(n,r)}var Jwe=wn('<svg height="auto" viewBox="0 0 371 600" xmlns="http://www.w3.org/2000/svg"><path d="M247.96,496.90L245.08,501.03L247.86,511.61L243.44,522.33L244.85,533.49L242.01,557.50L253.89,569.29L248.71,572.83L233.32,595.01L214.57,590.63L202.93,592.69L196.87,600.00L188.23,598.45L183.11,589.86L177.21,589.95L170.48,580.99L165.94,585.91L151.53,589.56L146.63,586.38L140.37,573.04L139.89,565.75L129.84,560.31L128.92,566.16L113.58,567.68L106.48,560.74L88.51,569.68L81.22,558.52L67.06,563.42L59.74,554.10L58.61,549.08L47.28,552.01L38.88,544.98L29.50,532.23L28.09,521.79L32.91,514.75L34.84,502.98L32.49,499.57L34.72,488.92L37.88,488.50L38.10,471.85L44.83,469.61L50.84,462.59L50.52,456.84L44.00,453.96L47.47,440.81L50.61,438.75L50.69,423.63L47.50,413.48L57.69,398.73L71.26,404.31L82.33,404.00L97.30,393.01L107.08,388.25L112.50,375.31L120.44,369.12L120.06,361.73L113.51,356.66L103.17,340.46L96.65,339.85L92.42,334.82L83.74,337.90L70.79,333.52L62.96,325.74L60.55,318.50L56.68,321.69L55.15,312.85L59.02,306.88L59.77,294.50L57.12,282.98L60.40,274.96L51.01,270.18L37.61,270.07L30.14,263.58L19.60,263.56L2.72,250.09L0.00,248.04L5.52,240.62L8.21,231.35L15.08,220.10L20.47,205.95L28.81,192.50L32.21,193.19L43.86,178.92L52.07,174.83L56.60,164.47L68.62,154.98L78.62,131.97L92.81,82.40L98.45,76.61L93.23,74.68L100.36,64.18L109.83,33.47L113.49,16.04L110.24,6.65L136.55,7.06L152.13,12.10L156.60,4.51L174.91,0.00L175.01,17.65L192.47,23.92L193.23,28.24L200.24,29.71L204.59,36.39L220.53,31.28L222.95,42.71L230.31,46.03L241.47,42.50L250.22,45.59L258.13,51.83L261.96,43.79L275.33,47.20L280.30,60.13L299.00,61.26L305.46,69.86L304.93,81.24L309.09,92.47L315.84,93.82L319.89,101.40L334.65,100.83L337.67,105.58L335.66,117.61L352.31,128.51L356.61,151.07L371.00,157.40L366.96,161.49L362.40,173.58L357.84,177.84L357.74,185.66L363.32,190.18L356.05,212.25L352.04,215.58L337.16,208.31L334.48,215.57L348.23,243.84L344.14,247.17L340.36,259.78L345.93,261.98L343.16,268.46L346.68,275.31L354.83,278.64L359.71,293.26L355.01,299.38L350.88,298.50L346.02,309.49L348.11,319.01L329.11,338.56L331.85,349.87L328.59,354.69L319.35,357.71L320.81,365.95L312.79,370.84L311.53,389.39L315.05,409.70L310.95,419.98L298.70,432.79L294.14,442.89L294.21,452.65L282.58,456.42L279.79,462.46L271.53,463.87L251.06,461.62L246.76,474.47L251.17,483.75L246.76,489.83L247.96,496.90Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function Zwe(n,e){let t=Ne(e,"width",3,"100px");var r=Jwe();Ye(()=>pt(r,"width",t())),Z(n,r)}var e7e=wn('<svg height="auto" viewBox="0 0 754 600" xmlns="http://www.w3.org/2000/svg"><path d="M710.26,41.14L714.26,58.53L721.72,73.32L728.08,76.08L723.68,96.03L730.36,100.87L732.46,78.89L733.00,100.44L742.52,120.63L742.49,145.26L747.83,170.26L747.02,181.74L750.37,227.31L754.00,253.41L751.47,289.99L752.75,310.75L743.47,364.32L746.34,373.67L740.39,388.08L738.35,402.03L737.61,439.32L729.02,459.27L726.99,480.98L730.87,497.13L717.56,516.92L704.03,527.32L700.91,522.55L692.36,525.88L674.36,540.37L667.97,539.21L658.03,548.12L653.75,566.93L633.15,558.11L622.91,559.01L616.02,551.81L597.95,545.37L583.24,543.70L571.51,522.63L563.85,527.15L562.89,538.09L569.22,543.18L574.32,555.43L569.07,561.97L552.15,566.03L541.01,584.62L522.70,600.00L512.01,584.81L502.57,579.94L487.29,576.46L482.57,553.41L465.93,548.62L464.68,541.09L449.98,526.65L441.99,528.64L433.39,523.50L437.43,513.62L432.33,494.80L436.11,482.47L417.44,483.00L413.25,462.04L405.08,459.59L391.19,441.90L374.83,432.37L358.45,430.86L351.17,424.80L321.17,420.20L317.12,416.88L301.86,420.61L296.03,417.46L267.68,428.13L261.22,436.20L263.19,451.20L244.54,450.30L235.61,459.67L219.35,460.55L215.00,465.11L204.10,465.98L200.75,474.69L184.77,478.48L181.49,487.33L167.50,487.43L165.14,494.02L153.88,498.30L147.77,504.26L131.61,511.11L128.13,507.45L117.32,510.25L115.32,519.93L108.03,524.35L104.99,533.22L97.15,532.22L91.52,539.88L83.43,536.16L75.10,537.49L72.10,532.46L46.63,529.71L39.90,524.76L30.11,530.60L27.20,524.57L33.70,517.33L32.74,505.12L35.98,501.22L31.35,487.66L37.91,472.77L29.34,449.81L27.95,437.52L35.27,412.00L22.04,389.57L15.84,397.09L0.00,377.94L3.34,366.44L18.65,350.62L23.47,332.93L21.52,325.99L27.20,321.63L29.00,306.82L25.36,298.82L16.76,294.82L12.62,287.53L23.14,268.19L28.78,270.19L46.79,267.82L55.92,263.25L68.14,263.77L79.15,257.64L93.21,262.72L96.50,259.87L99.90,237.24L117.14,233.35L124.83,241.09L133.10,236.01L143.86,235.02L160.57,241.50L168.62,235.86L170.84,228.18L161.64,219.54L163.53,206.74L159.43,191.54L153.96,186.83L154.26,166.85L174.68,156.79L177.92,149.52L185.52,146.82L184.49,136.56L197.77,119.94L197.97,112.86L223.45,85.54L231.40,79.67L248.36,73.80L257.10,87.17L278.64,76.46L287.16,84.77L305.54,82.95L306.64,75.94L318.68,82.46L319.26,91.19L326.76,107.16L332.64,110.97L349.91,106.60L355.35,100.71L363.42,111.44L370.49,111.34L376.63,121.62L386.98,123.48L394.25,114.72L408.20,112.26L430.67,117.50L449.12,90.94L455.32,86.70L441.09,72.58L444.49,43.83L442.80,30.46L448.10,17.62L444.76,4.95L448.21,0.00L473.24,12.69L482.16,9.11L490.73,12.06L496.02,1.10L508.17,11.14L526.65,15.24L524.55,30.00L532.43,39.32L562.12,33.23L563.45,27.45L575.50,35.88L581.85,31.27L588.18,39.57L601.25,38.59L612.64,44.58L609.97,51.34L614.02,64.14L610.76,70.20L615.11,88.55L622.27,89.91L627.84,99.12L635.50,95.88L654.19,103.55L658.72,100.22L646.28,91.28L647.46,86.75L661.18,92.01L678.40,92.33L681.61,49.39L680.24,43.62L696.90,37.50L710.26,41.14Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function t7e(n,e){let t=Ne(e,"width",3,"100px");var r=e7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var n7e=wn('<svg height="auto" viewBox="0 0 466 600" xmlns="http://www.w3.org/2000/svg"><path d="M231.19,6.00L239.16,4.01L253.80,18.43L255.05,25.95L271.64,30.72L276.34,53.73L291.57,57.20L300.97,62.06L311.62,77.22L329.87,61.87L340.98,43.32L357.85,39.27L363.07,32.74L357.99,20.51L351.69,15.43L352.64,4.51L360.27,0.00L371.97,21.04L386.62,22.70L404.64,29.13L411.50,36.31L421.71,35.41L442.24,44.22L448.40,57.15L440.45,58.06L432.46,65.68L424.53,82.68L412.47,126.58L410.80,144.08L402.63,153.47L401.46,162.25L387.06,186.46L377.46,221.48L372.81,227.64L369.12,252.89L369.68,270.26L376.55,284.09L374.00,292.63L364.43,301.96L360.66,316.93L353.72,318.87L349.39,327.60L350.69,358.40L356.01,386.80L363.45,411.95L380.83,456.23L394.07,485.19L399.74,489.38L406.26,502.75L393.78,512.63L395.70,522.93L402.27,529.92L396.71,515.57L405.96,508.78L409.28,511.11L424.24,539.94L455.46,589.81L466.00,600.00L452.13,599.90L422.58,578.32L416.24,570.60L408.41,552.95L400.59,547.32L378.04,541.61L369.01,523.57L357.63,512.50L338.30,500.34L329.56,491.94L319.47,516.66L309.00,508.30L304.98,514.01L292.76,518.28L284.08,517.00L271.02,521.75L254.71,538.27L239.88,534.86L223.39,543.15L207.54,540.61L188.55,549.73L183.89,548.33L176.27,535.99L160.24,529.43L154.97,533.03L130.46,515.95L123.85,516.88L100.55,501.33L98.04,487.01L91.66,486.57L77.97,476.10L76.35,468.16L68.30,457.75L50.44,440.88L46.49,428.82L39.67,420.14L34.23,427.64L31.23,431.93L16.21,427.11L15.43,415.99L3.24,394.05L0.00,372.54L12.92,366.86L15.83,371.65L28.93,362.93L53.66,352.72L61.69,334.01L59.23,325.65L64.21,317.36L74.02,315.21L89.29,322.19L90.25,305.26L110.92,297.34L113.99,285.34L120.68,289.15L125.33,284.66L144.39,285.08L152.88,278.38L151.79,271.04L165.56,275.80L169.07,269.31L182.95,265.78L187.88,273.84L196.73,274.22L206.67,262.53L205.92,253.76L217.17,221.98L229.48,214.22L224.53,205.79L225.99,195.53L222.98,178.76L224.79,167.60L218.91,156.01L221.63,147.11L213.69,136.33L218.93,122.79L232.70,121.83L242.25,116.56L238.78,105.87L227.40,93.01L226.85,81.49L230.85,79.87L232.38,64.01L226.03,46.56L226.80,25.12L224.99,11.05L231.19,6.00Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function r7e(n,e){let t=Ne(e,"width",3,"100px");var r=n7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var i7e=wn('<svg height="auto" viewBox="0 0 486 600" xmlns="http://www.w3.org/2000/svg"><path d="M33.57,154.06L40.61,144.47L50.43,145.72L54.23,134.61L63.34,129.08L65.85,116.95L79.38,113.45L83.74,118.03L103.96,109.45L111.60,101.98L125.69,96.62L128.64,88.37L146.15,88.25L150.26,77.15L170.25,72.42L174.44,61.50L188.08,60.41L193.52,54.70L213.86,53.59L225.05,41.87L248.38,42.98L245.91,24.20L253.99,14.10L289.47,0.73L296.77,4.67L315.86,0.00L320.93,4.16L358.47,9.92L367.58,17.52L388.08,19.41L408.55,31.34L425.93,53.50L436.15,56.57L441.39,82.82L464.75,82.16L460.03,97.60L466.41,121.17L461.35,133.54L472.11,139.98L464.33,146.32L466.60,163.97L465.63,190.88L473.62,212.79L471.68,232.69L466.67,234.73L467.35,249.18L481.64,265.32L486.00,278.75L474.02,285.36L456.72,286.56L450.15,303.55L460.11,317.09L456.70,328.25L464.08,342.80L461.81,356.80L465.59,377.85L463.76,390.72L469.97,401.31L454.51,411.05L440.39,450.94L441.33,461.93L428.85,476.62L417.74,476.13L411.54,466.01L394.13,470.44L389.71,478.59L372.42,472.62L373.80,481.82L363.13,490.23L339.20,489.71L333.36,495.35L324.96,490.56L321.12,505.63L295.16,515.56L293.95,536.81L274.78,528.05L262.47,530.75L256.21,541.16L259.30,551.65L249.22,575.13L218.17,587.94L201.72,598.88L198.07,592.87L181.84,600.00L169.66,593.05L171.95,590.09L153.21,564.86L154.27,555.70L117.42,557.55L100.31,547.03L73.15,555.77L65.62,544.24L58.77,544.73L45.52,529.29L45.91,514.60L21.90,496.29L17.33,485.10L25.22,468.17L42.72,443.92L54.69,434.75L46.50,411.78L58.17,392.56L57.26,379.86L63.15,381.18L78.42,363.39L69.69,345.57L50.87,348.96L35.88,348.28L30.26,342.12L12.88,340.08L1.44,332.20L0.00,313.69L5.20,291.50L19.19,274.42L21.47,257.43L14.73,255.03L13.29,240.43L25.05,232.45L40.26,206.92L19.98,197.84L11.57,190.38L15.49,176.04L21.90,174.66L25.12,163.34L33.57,154.06Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function s7e(n,e){let t=Ne(e,"width",3,"100px");var r=i7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var a7e=wn('<svg height="auto" viewBox="0 0 571 600" xmlns="http://www.w3.org/2000/svg"><path d="M568.96,474.55L551.56,488.03L534.81,474.91L511.61,484.47L474.91,485.47L456.82,469.64L446.03,464.39L440.63,456.83L426.90,450.79L415.03,464.17L407.58,456.84L390.76,452.56L390.71,456.98L377.50,454.96L371.26,448.25L359.66,445.98L345.34,437.65L329.58,435.15L296.15,491.54L298.64,507.04L289.99,509.73L289.91,520.43L273.78,517.86L265.99,526.36L252.18,523.65L251.33,533.01L239.98,542.93L224.89,541.66L201.62,554.98L193.69,571.18L176.95,575.57L167.10,570.35L160.46,572.78L155.73,586.29L141.66,600.00L131.04,596.52L126.85,585.40L105.35,576.08L110.97,564.18L104.92,541.30L112.52,532.90L106.62,517.54L91.33,516.23L82.79,493.19L88.70,499.84L107.31,496.79L101.39,482.44L106.78,477.58L101.46,472.65L92.44,454.03L92.77,439.02L96.72,433.13L115.16,423.13L113.64,395.77L116.81,386.60L112.72,364.37L107.77,359.57L87.81,355.59L71.06,359.21L64.40,367.65L47.96,361.08L41.20,368.67L28.10,366.55L26.93,357.94L1.91,350.20L2.77,331.77L0.00,318.65L6.46,291.42L14.28,281.82L10.44,272.10L14.22,258.65L24.01,251.41L27.83,237.92L56.21,229.04L61.76,220.82L54.43,214.75L53.43,207.02L73.26,197.53L83.89,200.74L91.05,193.48L96.09,197.79L100.86,190.16L134.29,179.90L141.63,179.70L148.34,165.53L166.35,175.35L176.23,176.27L178.85,168.88L188.89,166.91L194.00,147.85L190.75,135.46L203.94,138.61L218.90,130.65L238.95,127.04L233.50,117.83L233.57,105.43L240.85,92.57L261.43,94.19L260.33,77.47L255.90,71.84L255.80,44.84L270.54,44.70L277.83,39.58L292.26,39.92L295.13,33.99L311.77,21.82L314.40,0.00L326.96,7.97L330.02,18.35L351.46,38.32L350.91,54.23L364.33,57.77L373.61,54.86L375.74,65.97L378.98,72.71L389.91,66.18L397.42,71.71L425.86,74.78L429.21,80.40L438.51,78.91L447.54,83.07L440.00,91.34L437.13,101.43L431.41,102.67L427.92,115.46L435.42,122.11L453.51,130.21L439.94,152.97L429.45,160.08L430.73,173.11L436.74,175.24L434.71,190.40L422.23,205.64L417.59,225.42L418.87,241.93L429.08,248.95L444.59,250.77L449.61,256.26L462.97,256.87L479.76,253.85L487.55,269.74L473.93,285.61L468.68,284.42L469.49,295.76L459.08,312.89L466.39,333.37L455.71,341.56L440.09,363.18L433.05,378.28L437.13,388.26L458.55,404.59L458.20,417.69L470.02,431.46L476.14,431.01L482.85,441.30L507.09,433.51L522.35,442.88L555.23,441.24L554.28,449.41L571.00,471.91L568.96,474.55Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function o7e(n,e){let t=Ne(e,"width",3,"100px");var r=a7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var l7e=wn('<svg height="auto" viewBox="0 0 800 439" xmlns="http://www.w3.org/2000/svg"><path d="M795.60,415.65L784.33,416.96L780.09,403.56L769.18,408.76L749.10,392.35L728.39,397.02L713.41,387.32L699.32,392.83L702.26,412.08L671.47,407.98L661.12,401.21L625.16,403.22L613.03,428.88L585.77,425.24L560.31,439.00L562.53,422.84L541.45,429.85L559.22,418.20L558.65,395.29L544.65,410.92L518.62,417.04L501.38,426.50L450.21,429.60L441.36,408.42L413.16,405.37L405.85,380.46L382.31,367.95L350.00,370.92L338.35,363.29L323.33,367.87L293.63,349.57L268.91,347.58L249.18,339.11L227.27,335.86L206.18,319.55L194.36,331.45L179.60,330.72L162.99,339.08L156.39,355.94L133.68,357.52L121.30,368.26L97.06,347.62L68.12,349.51L53.49,338.35L46.24,319.06L9.02,311.12L18.01,285.64L1.25,263.81L0.00,247.15L21.10,226.60L28.20,206.34L38.15,202.70L52.92,210.52L78.02,203.94L89.91,179.65L124.79,159.68L147.41,161.58L164.43,146.71L165.71,132.69L186.41,136.74L198.09,123.99L222.27,127.85L222.39,111.81L235.36,107.77L231.63,84.53L281.75,0.00L305.37,3.74L326.84,16.23L344.24,19.63L353.58,29.70L373.39,32.72L373.47,26.09L398.69,32.51L409.86,43.51L427.66,23.45L448.24,32.49L456.33,43.83L472.52,51.71L499.64,75.44L554.66,73.93L589.43,59.60L614.56,79.27L640.64,59.06L656.93,68.35L662.37,104.44L682.85,141.27L684.15,159.93L709.37,168.02L714.42,160.82L726.99,186.98L744.13,208.19L742.00,236.63L750.11,248.19L757.87,273.39L776.79,295.11L791.00,320.70L800.00,348.23L792.74,366.43L791.88,405.83L795.60,415.65Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function c7e(n,e){let t=Ne(e,"width",3,"100px");var r=l7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var A7e=wn('<svg height="auto" viewBox="0 0 454 600" xmlns="http://www.w3.org/2000/svg"><path d="M49.12,232.98L54.56,225.00L54.19,213.63L63.22,210.16L66.30,198.90L59.20,191.20L59.48,180.67L51.46,169.44L57.19,161.44L54.94,155.51L55.46,131.72L59.84,120.74L54.41,104.11L45.83,88.67L34.42,75.56L29.73,60.34L24.84,53.36L26.13,36.19L15.79,23.39L8.20,7.60L13.71,0.00L20.63,8.79L24.62,21.00L42.72,38.10L50.89,48.64L52.53,56.69L66.39,67.29L72.86,67.74L75.40,82.25L99.01,97.99L105.71,97.06L130.54,114.35L135.89,110.71L152.13,117.36L159.86,129.86L164.57,131.28L183.82,122.04L199.88,124.61L216.59,116.21L231.61,119.66L248.14,102.93L261.38,98.12L270.18,99.42L282.56,95.09L286.63,89.30L297.24,97.78L307.46,72.73L316.32,81.24L335.90,93.56L347.44,104.78L356.59,123.05L379.44,128.84L387.36,134.53L395.30,152.42L401.72,160.24L431.66,182.10L445.72,182.20L450.34,180.51L454.00,193.75L449.11,205.44L438.07,196.08L428.69,196.88L405.38,206.17L383.15,202.64L370.40,206.92L351.52,218.42L313.78,251.71L302.94,263.35L282.23,291.60L271.19,312.81L265.31,328.86L260.43,350.76L260.69,384.33L269.05,398.17L262.95,416.83L265.21,432.93L260.30,451.04L253.64,462.08L242.03,462.69L236.36,469.25L233.02,482.54L221.23,477.02L216.69,485.22L201.80,484.91L194.71,494.87L181.72,497.03L177.68,488.77L161.28,493.85L155.56,491.48L143.12,501.23L141.92,513.21L134.43,520.88L115.82,526.29L100.26,537.54L90.59,550.27L84.64,567.02L86.12,580.27L76.65,592.92L62.84,599.37L36.66,600.00L29.33,596.23L30.24,589.45L22.93,579.49L0.00,569.27L0.40,562.73L12.54,565.25L28.94,560.92L30.87,556.46L38.79,559.36L42.70,552.46L41.13,541.75L28.52,533.26L32.34,529.45L27.73,516.02L35.68,511.37L33.78,502.29L29.11,501.48L35.04,486.97L25.44,466.27L28.84,453.62L46.23,442.81L45.17,425.43L38.11,416.63L40.19,409.66L24.64,399.75L12.52,396.39L27.08,394.46L25.66,390.72L34.97,385.87L28.46,380.64L37.76,365.17L58.55,373.58L54.81,367.33L66.94,361.67L62.42,358.13L58.53,341.26L66.06,334.47L79.46,331.81L80.48,324.90L89.95,328.70L86.43,318.68L93.20,315.88L100.03,319.96L103.00,313.30L111.19,321.26L105.25,310.35L125.31,281.09L130.40,277.95L139.42,285.26L133.51,258.79L142.17,259.27L146.67,266.73L144.60,253.00L141.67,255.97L134.12,246.27L134.47,254.58L105.90,224.16L95.24,225.68L94.50,212.40L78.69,212.47L67.11,225.19L75.91,232.59L58.78,244.64L48.57,240.21L49.12,232.98Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function u7e(n,e){let t=Ne(e,"width",3,"100px");var r=A7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var f7e=wn('<svg height="auto" viewBox="0 0 800 401" xmlns="http://www.w3.org/2000/svg"><path d="M702.85,381.29L668.63,358.47L624.63,366.49L625.03,350.32L604.23,339.48L596.64,317.73L554.87,288.44L515.84,277.70L508.33,269.22L478.27,259.22L469.20,277.41L452.85,285.02L455.35,297.45L427.76,277.58L415.68,290.39L462.03,327.74L448.69,341.15L437.81,320.72L431.17,339.70L442.40,347.17L447.01,378.66L430.76,401.00L423.08,376.26L388.30,340.92L374.80,318.19L324.60,297.57L300.11,298.46L278.30,289.11L263.59,299.89L242.06,295.27L228.68,277.07L222.93,255.66L212.20,249.13L192.95,256.19L178.87,233.54L151.25,225.88L134.67,211.52L104.98,205.85L63.70,178.04L49.83,151.59L32.68,132.40L34.63,119.01L21.99,99.79L20.27,68.11L2.25,56.23L0.00,44.43L8.07,23.85L28.38,13.64L46.42,14.53L60.88,0.00L86.66,19.92L113.46,23.89L137.57,34.23L167.80,36.66L204.11,58.99L222.48,53.41L236.72,62.72L276.22,59.09L305.01,74.36L313.95,104.78L348.42,108.50L359.24,134.37L421.80,130.58L442.88,119.03L474.71,111.56L491.83,92.47L492.52,120.45L470.80,134.66L496.58,126.11L493.85,145.84L524.99,129.05L558.31,133.48L573.15,102.15L617.11,99.71L629.76,107.97L667.41,112.98L663.82,89.47L681.05,82.75L699.36,94.58L724.69,88.88L749.24,108.92L762.58,102.57L767.76,118.93L781.54,117.34L769.94,133.52L786.20,156.23L785.63,177.52L800.00,193.09L793.76,215.85L775.48,222.88L776.23,245.88L765.20,262.00L745.26,259.24L739.63,244.89L732.71,257.85L709.61,261.41L703.25,280.36L672.17,249.95L671.62,286.38L690.35,325.56L654.70,328.29L675.68,340.74L692.37,332.25L710.90,362.52L702.85,381.29Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function h7e(n,e){let t=Ne(e,"width",3,"100px");var r=f7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var d7e=wn('<svg height="auto" viewBox="0 0 800 599" xmlns="http://www.w3.org/2000/svg"><path d="M800.00,171.36L793.44,186.87L769.70,182.86L782.27,196.38L752.30,212.49L722.43,235.62L708.84,216.65L682.16,231.35L683.03,220.85L660.83,222.65L653.18,244.65L691.74,272.38L692.35,295.19L682.87,304.32L668.09,292.87L643.84,305.29L642.42,316.39L668.50,321.21L666.39,351.73L671.82,371.88L656.71,368.66L650.82,383.85L675.21,386.92L655.57,417.48L675.25,437.01L676.09,417.81L702.69,455.48L742.46,460.49L753.01,469.76L731.97,484.87L733.33,516.05L703.80,519.20L678.30,536.44L669.94,550.51L676.48,572.99L692.07,577.17L689.76,596.80L645.21,599.00L626.87,578.25L638.30,558.97L634.57,540.24L619.47,536.46L628.49,517.43L644.59,510.82L625.54,503.16L620.06,486.52L590.77,455.01L591.13,424.70L582.08,427.49L565.73,407.91L553.31,415.84L504.03,402.68L467.35,397.08L371.34,405.84L303.05,426.02L266.81,442.44L210.67,484.66L204.68,501.39L200.18,552.84L215.78,595.85L200.26,584.36L177.42,594.45L101.73,584.18L100.11,556.57L65.40,528.48L52.63,476.04L53.67,458.40L79.88,429.58L93.00,385.63L85.42,375.53L77.47,308.38L49.12,301.53L0.00,306.42L12.35,282.46L9.98,265.24L34.62,240.45L65.69,225.16L100.84,216.09L117.65,185.03L153.67,182.34L179.21,152.70L177.57,140.52L193.58,122.09L186.67,101.93L197.21,64.71L187.89,57.68L190.33,35.70L182.17,23.29L192.28,0.00L222.71,8.44L238.21,33.43L259.42,25.63L271.25,32.84L277.58,56.45L292.32,76.51L316.04,81.61L332.25,69.72L356.28,80.03L383.27,79.05L438.57,101.78L453.45,126.84L491.76,165.81L500.22,193.09L518.13,168.45L513.05,133.73L500.68,125.50L507.99,104.58L519.98,127.10L534.67,112.32L483.61,71.13L496.92,57.01L527.32,78.92L524.56,65.21L542.57,56.82L552.57,36.77L585.69,47.79L593.97,57.14L636.97,68.99L682.98,101.28L691.34,125.26L714.27,137.20L713.82,155.04L762.30,146.20L800.00,171.36Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function g7e(n,e){let t=Ne(e,"width",3,"100px");var r=d7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var p7e=wn('<svg height="auto" viewBox="0 0 593 600" xmlns="http://www.w3.org/2000/svg"><path d="M501.20,0.00L514.36,10.50L522.58,10.52L528.40,15.57L538.85,15.66L546.18,19.38L543.62,25.63L545.69,34.61L545.10,44.26L542.08,48.91L543.27,55.80L546.30,53.31L548.18,58.95L554.28,65.02L564.38,68.42L571.15,66.02L574.45,69.94L579.53,70.42L587.60,83.04L592.70,87.00L593.00,92.76L586.81,97.58L582.59,107.66L574.96,111.37L563.28,119.93L554.64,120.17L544.06,115.83L536.11,127.32L538.60,135.23L538.54,147.01L536.09,148.62L533.39,158.86L538.48,161.11L538.72,165.59L534.04,171.05L528.78,172.81L528.61,185.78L526.15,186.11L524.41,194.41L526.24,197.06L524.74,206.23L520.98,211.72L522.08,219.86L529.39,229.79L535.94,235.27L544.52,233.40L545.67,236.90L551.37,244.16L546.20,247.97L529.62,265.75L529.49,270.36L520.85,281.17L521.52,287.85L516.57,289.61L514.47,294.33L501.18,300.88L500.99,313.88L504.55,316.94L507.21,326.84L505.98,335.16L511.97,340.79L510.52,345.78L505.29,349.45L494.41,345.24L487.41,345.88L482.03,349.19L477.03,344.15L465.81,346.68L463.60,361.40L461.45,363.26L452.31,359.95L445.14,363.94L437.19,363.60L431.25,366.58L419.53,368.12L415.86,366.82L409.01,379.40L411.71,384.15L417.31,386.75L419.67,391.95L418.50,401.59L414.81,404.43L416.07,408.94L412.94,420.45L402.98,430.74L400.80,438.23L411.11,450.69L415.15,445.80L423.76,460.39L418.99,477.00L419.90,484.99L425.47,499.93L421.21,509.62L424.22,518.44L422.10,520.98L422.73,528.92L418.51,533.64L417.26,527.16L411.86,528.86L404.04,526.80L404.35,517.53L391.86,505.89L390.08,499.85L382.75,495.21L381.22,507.91L371.52,515.01L369.85,518.46L361.44,518.26L357.19,521.25L348.60,521.32L348.65,537.06L351.24,540.33L351.88,550.07L339.88,549.13L335.64,556.62L335.60,563.84L338.78,569.21L327.09,571.31L318.37,575.95L310.68,574.11L312.58,581.33L309.60,592.43L303.75,593.58L302.22,597.88L296.46,597.35L285.97,591.63L282.05,599.89L277.77,600.00L275.70,591.09L270.82,588.43L277.67,576.87L273.75,571.97L277.01,561.92L272.68,557.91L267.64,557.63L257.29,549.81L258.14,545.87L251.61,544.82L248.55,536.79L249.35,522.07L243.71,507.35L235.90,507.53L232.93,504.48L224.00,507.90L214.32,508.96L198.64,515.98L194.69,520.76L191.01,532.27L185.36,540.37L181.81,538.37L173.14,543.59L173.60,551.40L171.08,557.38L173.08,560.78L167.47,566.51L166.66,561.81L161.98,557.01L158.07,559.05L150.84,557.47L146.84,562.26L138.25,565.38L125.69,563.41L116.88,570.07L114.01,578.17L108.08,576.80L96.38,571.21L100.82,566.03L99.17,560.09L103.91,554.06L103.70,550.05L99.18,545.93L82.29,543.21L74.68,540.63L67.43,543.91L62.73,542.00L59.29,550.03L63.19,558.21L51.46,573.48L51.11,577.40L41.42,584.25L40.83,586.94L33.43,590.78L29.93,586.16L29.89,576.72L24.90,571.13L25.40,556.04L20.97,550.88L22.30,538.36L19.85,532.68L13.74,533.04L8.14,529.59L0.00,521.07L17.29,516.12L46.66,504.50L50.68,501.28L73.35,494.06L82.53,486.07L88.63,483.30L96.78,476.66L102.70,476.18L108.35,472.41L122.21,457.32L130.48,460.72L139.83,461.21L151.98,458.86L162.28,453.94L182.40,436.77L209.84,408.77L223.59,399.82L237.88,393.39L249.16,376.66L257.36,358.23L272.71,337.42L281.22,331.73L292.51,312.44L297.64,297.63L301.28,283.45L301.35,277.55L310.28,252.70L325.64,235.79L357.26,215.20L371.36,204.08L382.59,198.34L393.97,196.36L409.19,190.75L413.56,186.60L419.23,192.96L416.91,184.84L422.16,182.85L439.67,167.95L452.41,152.74L464.83,133.71L469.71,124.64L470.08,116.62L475.14,106.14L472.63,102.60L474.96,92.67L475.43,64.51L476.46,54.80L480.07,45.07L483.61,40.39L490.59,23.11L501.30,3.28L501.20,0.00Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function _7e(n,e){let t=Ne(e,"width",3,"100px");var r=p7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var m7e=wn('<svg height="auto" viewBox="0 0 678 600" xmlns="http://www.w3.org/2000/svg"><path d="M590.84,0.00L612.07,22.22L626.66,31.20L642.61,30.27L649.00,45.09L645.52,77.73L657.06,91.19L655.76,130.56L668.78,145.15L668.88,169.77L678.00,181.80L670.53,195.14L674.64,203.48L669.70,237.55L677.34,267.43L665.13,312.71L671.36,329.07L651.86,335.09L630.80,350.53L624.69,376.57L640.99,377.98L638.39,393.47L614.53,399.88L611.97,414.30L601.73,424.93L604.56,443.52L597.78,447.22L589.48,472.32L573.02,478.10L570.48,491.41L558.06,502.28L539.28,504.12L512.59,488.44L505.88,472.95L481.04,471.96L471.82,483.11L437.11,472.57L427.45,462.92L426.78,446.18L409.35,448.59L397.37,464.98L375.47,472.72L365.56,462.95L373.68,443.23L346.71,438.59L332.21,450.08L326.53,440.93L315.61,455.79L296.85,461.79L288.17,446.81L266.44,445.57L240.66,478.84L220.11,496.39L222.07,507.09L198.91,515.20L190.69,539.78L197.33,542.37L182.90,563.47L170.74,562.82L162.50,587.17L147.98,589.86L140.36,600.00L130.14,597.71L137.59,565.15L126.53,544.99L93.36,527.16L77.40,542.55L68.91,533.14L46.13,538.27L49.67,550.86L39.04,575.23L16.27,577.68L10.11,541.70L24.82,531.34L17.47,492.53L0.11,480.57L0.00,467.37L18.48,455.26L22.50,416.84L17.25,400.96L32.50,364.05L21.52,349.53L9.39,310.61L11.22,298.54L33.64,266.14L31.40,238.41L14.51,224.08L18.21,213.37L34.48,212.11L47.56,200.08L56.42,179.38L50.34,169.46L57.66,157.75L54.07,142.25L61.63,128.78L63.53,101.88L77.27,87.07L74.88,62.46L99.26,42.05L110.15,26.37L125.65,20.22L139.22,30.19L148.75,10.60L160.65,15.84L182.90,10.78L191.60,16.95L175.60,34.49L179.60,47.91L146.56,92.97L154.57,113.22L215.27,167.29L285.74,189.99L323.11,182.68L358.79,191.10L384.03,185.78L395.99,168.38L419.15,154.57L429.62,123.14L437.59,113.49L443.35,85.86L436.95,69.58L454.95,41.55L492.61,21.80L549.56,13.19L559.67,3.91L590.84,0.00Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function y7e(n,e){let t=Ne(e,"width",3,"100px");var r=m7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var b7e=wn('<svg height="auto" viewBox="0 0 366 600" xmlns="http://www.w3.org/2000/svg"><path d="M180.05,505.95L187.01,519.81L193.21,520.45L198.89,525.95L192.57,539.77L182.87,552.23L181.29,558.41L171.09,562.89L175.65,573.61L167.25,593.08L154.41,594.84L149.21,598.11L135.91,600.00L135.27,593.80L129.71,587.93L121.51,584.21L117.74,576.16L100.87,565.24L94.06,568.33L82.76,567.26L81.09,563.88L72.15,572.22L64.31,572.46L55.75,564.51L54.14,558.20L37.34,561.09L32.81,557.92L27.45,542.85L28.79,534.71L23.83,532.71L18.78,523.29L6.19,518.79L4.51,510.90L0.00,508.23L11.06,497.31L18.15,485.18L24.32,484.41L35.91,477.70L52.19,462.07L65.92,445.50L77.48,428.39L91.93,411.27L118.95,374.88L117.77,372.39L126.86,363.27L147.56,326.98L157.41,306.15L166.52,282.42L171.55,259.23L170.86,252.89L165.59,247.86L169.71,242.90L172.55,229.81L172.04,220.10L163.30,214.45L164.74,208.20L157.10,197.81L155.30,187.71L158.63,179.99L158.40,164.29L149.49,158.49L147.79,162.72L140.87,162.66L142.59,135.76L151.20,125.02L150.47,118.74L156.27,114.61L160.89,101.26L157.60,98.97L156.73,86.52L167.10,77.26L168.04,69.69L173.22,69.18L196.41,54.89L205.81,52.10L217.41,57.08L223.75,57.00L253.39,41.54L257.49,41.57L276.04,27.97L278.54,22.48L288.09,17.24L301.43,12.87L316.71,11.27L338.06,0.00L340.20,2.58L354.41,1.67L362.67,12.07L359.05,19.93L366.00,33.26L363.09,36.75L350.09,39.35L346.23,37.55L331.80,42.30L325.47,61.30L327.52,70.75L335.01,72.54L334.47,85.64L324.48,98.35L316.12,95.70L295.15,96.84L279.64,105.92L278.29,114.52L272.42,119.50L266.44,134.39L256.13,135.77L256.41,142.54L249.86,144.43L242.14,135.52L238.34,137.24L232.79,129.56L234.80,122.58L229.18,127.58L217.68,129.18L224.67,135.04L210.47,152.24L208.30,164.30L215.18,164.04L212.54,173.78L204.32,174.19L204.50,184.53L201.72,188.71L209.91,191.85L215.63,189.55L217.13,183.37L229.20,185.36L228.17,191.97L235.67,192.87L233.27,196.47L238.76,200.64L246.07,198.42L257.06,177.42L263.98,178.39L265.47,191.09L262.72,204.43L265.40,221.87L264.25,236.41L260.07,233.45L249.39,235.88L243.67,233.36L239.10,242.78L232.58,237.99L225.14,240.94L219.91,248.48L208.20,258.29L209.34,270.12L202.75,277.24L201.84,290.17L198.21,296.64L199.93,304.10L196.41,309.72L199.33,314.49L195.08,324.44L188.80,330.22L180.98,330.83L179.21,335.98L187.32,342.87L188.40,356.19L177.63,371.77L176.75,377.57L182.57,396.28L187.85,403.26L180.52,421.00L183.04,428.64L181.11,447.10L172.24,452.92L172.29,459.27L180.63,465.02L184.16,483.68L177.10,488.65L180.05,505.95Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function v7e(n,e){let t=Ne(e,"width",3,"100px");var r=b7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var w7e=wn('<svg height="auto" viewBox="0 0 707 600" xmlns="http://www.w3.org/2000/svg"><path d="M667.11,132.31L672.15,144.14L656.64,155.71L657.54,166.65L653.07,189.62L664.72,192.71L666.68,214.66L684.78,219.38L682.20,232.61L697.49,243.33L707.00,277.04L703.85,284.19L691.44,285.78L688.30,307.75L677.20,313.21L672.25,306.72L660.19,312.59L651.85,308.14L644.45,318.30L627.58,317.59L617.66,323.71L611.12,309.02L599.39,321.15L587.66,314.27L572.04,327.23L549.80,320.85L538.81,344.32L529.10,328.99L508.32,329.81L473.33,316.98L458.62,328.32L449.05,328.99L444.55,343.87L447.00,365.76L430.27,383.81L432.63,391.67L424.74,401.42L401.22,387.41L385.70,384.63L379.10,374.80L358.14,377.51L350.11,395.44L357.02,400.00L362.92,421.11L372.10,442.36L364.75,457.42L343.32,454.27L339.60,450.06L334.36,483.04L323.81,476.70L316.43,485.65L305.99,480.59L295.65,483.90L284.63,507.40L271.78,510.61L267.33,502.07L250.33,489.56L238.90,520.21L237.45,544.84L226.75,552.89L225.38,563.00L213.38,568.31L206.27,557.76L185.94,556.75L182.89,574.17L173.30,571.46L163.19,592.69L137.41,592.97L128.19,600.00L98.33,585.82L39.80,577.50L39.39,553.13L23.23,548.62L25.13,543.29L6.72,525.97L4.67,519.10L13.42,498.80L0.00,485.07L5.45,471.71L17.78,466.38L10.51,483.00L26.67,487.07L25.02,469.15L35.09,471.38L29.34,498.27L44.22,509.19L64.40,506.20L90.53,481.38L104.06,473.23L110.01,476.12L94.13,489.12L98.38,497.81L90.33,507.75L80.14,508.37L101.31,515.83L107.81,506.98L134.30,512.69L146.76,506.33L157.58,477.86L136.98,487.45L136.51,476.58L122.41,474.02L135.50,458.22L153.83,460.81L157.84,475.34L161.61,466.14L179.19,486.13L185.50,478.57L196.59,478.20L179.89,457.18L189.09,455.64L199.80,461.96L208.28,450.58L206.62,437.44L193.11,432.18L198.93,426.34L188.61,411.60L202.24,416.87L213.35,434.12L233.71,423.82L237.00,433.46L249.69,430.12L255.68,422.63L264.08,425.49L274.25,412.80L262.96,402.83L269.88,384.17L266.63,368.89L259.31,373.93L258.06,362.02L269.14,356.01L292.02,336.60L300.49,351.83L304.27,379.74L294.85,389.43L303.93,402.39L318.40,401.04L324.18,388.14L321.48,374.15L331.77,360.01L325.52,352.21L332.34,347.10L332.44,326.57L317.82,298.76L278.37,257.73L280.16,228.37L260.50,202.36L262.96,188.53L287.55,164.72L296.73,126.35L305.22,118.53L309.53,105.24L329.01,89.94L327.66,85.34L350.24,47.09L344.31,28.73L364.28,28.67L395.66,9.86L406.20,0.00L413.23,4.16L415.85,16.47L435.49,23.48L443.36,38.17L451.10,41.29L449.02,53.99L457.38,77.49L464.45,82.43L490.65,77.92L493.17,87.75L506.52,100.15L518.75,99.78L532.69,86.77L535.30,92.04L552.93,93.71L563.56,88.90L589.87,105.92L595.75,118.47L608.54,124.28L617.21,133.43L618.21,143.10L638.96,140.15L647.07,135.04L667.11,132.31Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function L7e(n,e){let t=Ne(e,"width",3,"100px");var r=w7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var x7e=wn('<svg height="auto" viewBox="0 0 579 600" xmlns="http://www.w3.org/2000/svg"><path d="M331.17,47.08L364.74,54.24L371.28,71.65L384.48,81.72L410.58,80.01L432.45,98.64L443.61,88.95L464.10,87.52L465.76,96.25L479.06,105.03L480.33,128.44L489.65,142.65L488.21,152.54L500.87,166.73L511.10,186.28L541.56,206.84L563.46,211.03L575.70,221.64L568.93,237.25L574.39,245.58L572.76,260.31L579.00,265.02L571.94,289.97L576.57,303.49L565.85,315.84L566.95,324.01L549.84,343.88L525.72,345.68L514.47,366.50L490.93,372.59L470.12,382.84L453.62,399.45L455.21,411.00L446.94,427.06L420.68,441.29L407.28,434.60L390.61,445.80L375.57,444.97L303.51,458.61L297.90,432.83L293.38,428.89L260.45,432.61L253.11,403.20L243.75,393.56L213.24,420.69L212.49,445.04L215.27,479.29L201.39,491.84L206.90,513.76L202.62,530.12L213.57,559.10L214.10,575.92L203.32,577.81L188.71,600.00L171.04,592.22L149.89,589.34L144.42,577.09L132.68,576.32L123.91,541.20L113.21,523.46L116.49,502.59L107.09,489.45L87.18,481.86L63.55,498.84L44.92,487.13L42.77,454.60L31.17,449.03L47.02,421.78L47.81,404.18L38.58,386.99L46.90,370.67L48.40,349.17L53.51,342.34L46.54,329.88L47.90,313.47L38.67,305.26L38.14,284.61L29.26,259.39L31.33,248.33L22.44,243.34L7.76,223.84L8.04,206.74L0.00,194.83L33.76,159.81L15.09,141.50L2.69,135.17L15.16,116.62L14.03,109.30L27.99,85.41L31.58,71.29L41.31,64.05L62.51,84.01L88.72,50.67L100.25,22.05L115.78,0.00L145.08,8.59L163.93,19.40L160.19,36.96L166.01,50.70L188.04,56.13L200.37,36.76L218.72,42.95L249.92,39.59L262.08,46.51L261.28,73.26L275.37,75.93L290.05,71.65L301.06,75.96L307.46,58.08L320.61,46.29L331.17,47.08Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function R7e(n,e){let t=Ne(e,"width",3,"100px");var r=x7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var B7e=wn('<svg height="auto" viewBox="0 0 374 600" xmlns="http://www.w3.org/2000/svg"><path d="M362.59,96.59L342.91,102.63L340.10,107.12L337.13,104.59L332.92,108.86L326.66,106.97L314.99,112.56L315.57,117.12L319.89,120.69L316.62,125.53L299.91,130.76L297.66,138.71L291.90,142.97L289.68,150.89L291.93,156.62L287.33,162.27L283.53,178.31L285.16,186.04L284.65,196.90L299.38,201.46L300.07,206.53L307.78,207.77L311.77,203.30L321.44,207.17L325.37,202.20L335.22,200.07L346.98,202.42L349.89,205.24L352.30,218.34L350.43,223.74L351.33,239.85L340.47,245.74L338.15,249.21L337.95,258.05L343.26,269.02L346.39,271.92L343.22,274.79L346.70,283.24L335.75,285.03L332.27,281.12L337.30,294.69L346.30,295.46L349.77,304.51L345.30,309.46L348.86,322.93L345.55,329.94L358.21,335.43L360.68,341.98L366.93,344.03L367.42,350.57L374.00,359.15L370.47,369.16L365.87,368.82L360.15,373.95L357.36,381.73L352.57,379.86L346.18,381.72L340.05,380.56L340.40,368.91L335.10,365.90L321.52,367.36L313.53,364.67L308.16,373.10L298.58,370.74L296.04,364.76L297.67,357.11L289.47,352.40L276.71,348.67L269.95,358.27L264.93,370.72L253.52,385.24L244.29,376.55L240.05,379.70L238.49,385.85L232.41,396.25L232.91,399.43L227.48,407.51L232.88,410.26L241.01,418.24L226.31,433.48L229.81,438.66L229.69,446.11L236.08,454.60L232.34,459.29L233.00,467.11L227.31,478.50L221.41,475.84L216.63,484.52L220.67,487.68L215.09,495.10L215.59,502.38L221.89,504.70L219.99,515.32L210.18,516.45L210.57,525.44L215.48,527.42L214.16,532.25L219.00,535.69L215.61,544.85L208.79,546.28L201.45,554.99L194.71,551.93L185.48,560.57L184.21,566.25L176.42,566.67L169.47,572.43L159.80,575.51L155.33,582.34L150.67,581.31L144.61,593.54L141.38,592.13L135.68,595.51L131.24,594.58L124.51,598.17L118.83,598.53L114.84,592.47L105.32,592.63L100.71,588.73L86.98,590.99L84.54,596.64L76.25,596.58L66.92,600.00L67.10,593.37L58.44,582.89L62.50,570.29L62.17,564.11L73.04,557.23L72.34,541.62L66.56,534.65L76.31,537.40L81.67,535.05L77.40,526.11L70.88,519.49L81.29,510.64L79.25,502.07L81.01,499.02L77.35,493.74L65.81,487.71L63.24,479.94L65.13,474.96L56.22,474.68L49.93,467.10L53.29,458.71L58.25,453.08L54.99,447.93L46.07,441.35L42.54,435.30L42.33,429.10L37.17,422.97L35.60,417.20L30.50,418.12L28.78,414.90L17.48,410.94L18.29,405.48L2.86,404.84L0.00,399.20L2.88,390.20L8.39,390.65L11.14,379.53L14.76,374.43L29.78,370.30L35.30,375.43L41.27,372.39L42.01,366.92L47.57,358.70L51.30,358.84L57.99,348.11L58.12,344.46L70.17,337.10L72.14,325.56L76.33,319.78L75.84,313.77L72.09,314.48L65.48,310.37L59.69,303.18L62.27,296.59L60.77,293.36L70.36,285.57L71.43,276.88L67.66,275.25L66.09,268.20L80.37,248.01L85.36,244.55L86.46,233.35L77.79,219.85L69.05,215.83L69.31,211.50L74.12,207.28L75.11,202.12L81.48,199.88L84.70,190.15L87.32,188.72L86.23,181.51L90.19,177.39L91.19,171.80L100.43,169.32L101.44,163.31L95.12,162.76L97.49,152.67L105.65,146.68L113.20,144.35L110.79,138.01L115.52,120.45L112.56,108.87L114.47,95.66L112.88,92.43L115.78,87.26L123.25,83.38L123.84,80.66L133.63,73.74L133.99,69.77L145.84,54.33L141.90,46.06L145.37,37.94L150.12,39.87L157.45,36.55L165.13,39.16L182.19,41.91L186.76,46.08L186.97,50.13L182.18,56.24L183.85,62.24L179.37,67.47L191.18,73.13L197.18,74.51L200.07,66.32L208.97,59.59L221.66,61.58L230.33,58.43L234.38,53.58L241.67,55.18L245.63,53.12L250.35,57.97L251.17,62.73L256.84,56.93L254.82,53.49L257.36,47.44L256.90,39.55L265.66,34.27L269.24,36.29L274.95,28.11L278.66,16.47L282.66,11.63L298.50,4.53L308.27,3.46L317.29,0.00L320.29,3.08L328.18,2.91L333.88,17.79L333.07,32.68L336.17,40.79L342.75,41.86L341.90,45.83L352.35,53.74L357.44,54.02L361.82,58.08L358.52,68.25L362.49,73.20L355.57,84.89L360.49,87.58L362.59,96.59Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function E7e(n,e){let t=Ne(e,"width",3,"100px");var r=B7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var C7e=wn('<svg height="auto" viewBox="0 0 503 600" xmlns="http://www.w3.org/2000/svg"><path d="M174.71,171.72L184.08,150.01L178.99,138.05L190.37,133.06L192.13,126.16L202.95,112.27L210.00,96.85L203.67,90.73L196.76,90.01L188.99,74.56L201.19,73.24L206.88,60.18L204.99,53.43L217.20,50.68L221.74,55.73L230.30,47.47L248.07,57.03L253.99,67.84L250.00,85.29L255.48,86.52L259.56,81.08L267.34,79.64L271.75,66.59L278.27,66.94L286.00,55.63L282.45,54.24L286.85,41.07L299.26,36.72L298.21,30.98L309.22,21.57L323.03,3.74L334.68,4.41L339.33,12.44L349.38,9.22L355.23,1.26L358.27,6.16L366.04,0.00L380.49,2.49L376.14,13.06L381.45,18.29L393.19,14.15L399.60,5.36L408.94,4.07L409.30,13.04L414.48,18.21L433.07,23.86L438.02,17.89L451.33,18.42L454.92,26.72L469.22,35.13L479.28,34.14L478.92,40.13L491.02,45.69L503.00,64.36L501.48,79.85L494.58,84.62L474.83,112.54L477.00,122.29L482.21,124.55L480.73,136.56L467.47,147.34L469.55,151.79L465.98,160.90L473.98,170.85L483.13,176.54L488.32,175.55L488.99,183.86L483.20,191.86L480.48,207.81L463.81,217.99L463.63,223.03L454.37,237.88L449.22,237.67L441.53,249.04L440.51,256.61L432.24,260.81L424.61,253.72L403.84,259.42L398.84,266.47L395.04,281.86L387.41,281.23L383.43,293.67L387.38,301.48L408.72,302.36L407.60,309.91L423.23,315.38L425.61,319.83L432.66,318.56L434.84,326.54L441.97,335.02L442.26,343.59L447.15,351.95L459.49,361.05L463.99,368.18L457.13,375.95L452.48,387.56L461.19,398.04L473.51,398.43L470.90,405.31L474.45,416.06L490.40,424.40L495.47,431.69L493.03,435.91L495.86,447.75L481.46,459.99L490.48,469.15L496.38,481.51L488.97,484.76L475.48,480.96L483.47,490.60L484.44,512.17L469.41,521.70L469.87,530.24L470.07,533.36L454.31,533.56L449.57,541.98L438.79,546.93L421.27,560.44L417.16,552.79L405.94,552.32L405.37,544.45L392.65,545.21L391.24,539.06L377.22,529.91L360.62,532.63L359.40,537.47L346.69,545.51L331.96,546.53L324.88,533.56L316.92,534.11L312.65,528.91L302.39,525.44L294.25,529.43L288.95,521.94L291.20,514.26L281.44,507.87L282.78,499.33L265.35,489.48L256.67,478.36L262.05,470.26L251.44,471.81L250.55,481.24L235.80,490.55L215.15,493.43L203.83,500.96L182.13,494.79L176.45,500.35L162.42,530.53L147.42,550.56L148.36,571.50L144.72,575.72L144.87,600.00L135.20,586.11L134.47,595.62L123.82,592.72L119.05,580.61L104.38,568.26L98.86,560.39L94.15,545.28L87.53,546.66L83.81,555.12L69.39,553.86L60.01,563.31L55.93,557.88L50.56,562.79L37.43,552.28L43.90,545.16L41.79,531.45L49.53,519.16L53.26,504.30L49.00,502.47L49.46,494.62L61.13,486.37L49.42,472.79L54.69,459.16L52.06,450.87L45.71,449.70L40.32,439.57L47.17,430.19L45.25,422.70L39.42,421.40L35.61,409.90L31.42,409.86L28.70,418.83L22.15,413.63L14.58,413.97L16.78,405.02L17.19,383.88L4.31,381.89L0.00,368.15L1.36,364.16L7.00,357.19L5.31,351.57L17.28,338.66L15.53,323.01L18.74,312.37L25.59,311.89L36.11,303.78L61.14,312.95L76.00,312.37L82.94,323.33L90.80,306.55L106.72,311.11L117.89,301.84L126.27,306.76L134.66,298.08L139.34,308.59L146.44,304.22L158.50,304.73L163.79,297.46L169.76,300.64L178.38,296.44L181.93,301.08L189.87,297.18L192.11,281.47L200.98,280.33L203.24,275.22L196.44,251.11L185.50,243.45L187.35,233.98L174.40,230.61L173.00,214.91L164.67,212.70L167.86,196.28L167.22,188.45L178.31,180.18L174.71,171.72Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function I7e(n,e){let t=Ne(e,"width",3,"100px");var r=C7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var T7e=wn('<svg height="auto" viewBox="0 0 780 600" xmlns="http://www.w3.org/2000/svg"><path d="M672.49,140.99L697.74,138.48L712.31,142.01L716.40,176.55L720.30,181.75L713.55,204.36L700.08,219.19L699.54,228.26L706.11,255.24L723.95,269.69L724.78,283.90L763.68,289.18L762.45,295.36L746.30,316.47L749.73,320.78L743.57,337.38L745.94,342.98L758.26,344.81L757.00,361.90L750.14,369.24L755.15,382.21L770.32,387.10L772.03,395.34L780.00,396.14L779.60,409.66L772.22,439.17L751.95,450.48L747.35,459.75L748.04,471.97L740.21,488.93L722.16,501.76L713.71,511.02L707.20,531.09L701.85,535.07L698.88,554.66L705.56,559.31L700.82,566.71L687.40,561.11L678.05,563.53L666.93,579.90L641.17,590.28L638.24,596.43L630.14,593.46L622.21,580.94L605.21,569.17L613.21,557.58L598.04,545.03L592.56,547.17L589.90,525.19L606.94,509.26L603.13,494.13L596.08,483.13L602.52,470.01L599.64,459.47L606.97,452.96L598.89,448.49L597.83,434.98L613.25,422.57L603.04,398.52L600.52,387.31L612.39,356.35L631.35,356.41L638.89,361.62L657.16,355.23L667.52,343.06L658.35,343.40L651.73,329.24L639.16,315.61L625.55,305.36L589.76,293.44L571.59,292.08L543.77,304.35L514.79,306.11L505.28,311.52L494.24,338.01L477.22,350.15L477.50,374.37L483.51,374.98L479.69,362.61L486.00,357.96L494.03,362.18L490.25,373.13L481.82,382.55L467.27,391.12L438.75,402.25L432.25,408.78L410.83,419.11L402.96,437.43L396.46,442.24L396.42,453.73L402.05,459.32L401.32,469.36L380.59,504.03L367.43,511.83L350.83,525.79L336.28,560.62L337.12,578.97L350.87,600.00L335.13,596.87L300.48,580.53L267.59,568.05L242.65,561.67L206.69,558.78L174.03,564.64L150.13,571.60L127.74,564.69L93.49,556.90L52.66,551.99L4.90,555.07L8.21,538.92L0.00,512.00L1.17,497.94L8.75,490.94L5.92,477.03L12.04,465.77L36.07,454.04L52.51,455.04L57.47,442.34L66.19,440.66L77.90,430.56L77.57,423.83L86.36,401.34L100.39,394.35L108.09,374.40L105.79,367.73L113.27,349.88L124.07,337.86L140.57,325.38L141.79,313.14L151.93,309.71L150.54,291.96L155.33,294.22L164.05,274.74L153.44,265.20L169.68,248.41L179.73,242.45L185.41,244.95L196.11,223.38L204.32,225.20L212.20,213.16L229.25,207.73L241.49,197.58L255.24,196.84L257.48,186.82L273.76,171.58L285.63,176.98L298.58,161.63L310.59,159.11L316.58,142.95L308.04,136.89L310.36,128.38L301.72,124.89L301.02,109.04L318.32,107.04L321.67,88.33L310.57,84.24L309.68,71.40L319.53,58.32L312.40,52.75L320.83,37.45L331.22,42.14L341.26,22.07L340.09,8.28L346.69,0.00L353.51,3.83L351.92,12.32L358.73,31.67L359.14,47.53L366.23,53.83L365.18,66.42L370.53,75.98L366.61,81.22L365.45,97.72L359.07,110.24L366.16,123.44L365.55,136.94L353.38,157.85L362.28,162.13L363.94,187.10L378.24,196.08L396.37,183.05L411.65,188.88L418.87,198.96L416.35,214.98L424.57,228.59L431.30,255.54L440.31,256.13L444.50,265.53L460.74,267.74L474.30,273.71L485.52,256.68L493.79,255.23L493.38,242.33L484.97,220.09L488.26,207.53L484.03,190.71L494.69,181.08L492.55,154.79L493.13,136.11L516.54,115.29L523.73,122.68L529.36,145.26L554.64,142.40L558.10,145.42L562.41,165.21L617.72,154.74L629.26,155.37L642.05,146.78L652.34,151.91L672.49,140.99Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function M7e(n,e){let t=Ne(e,"width",3,"100px");var r=T7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var S7e=wn('<svg height="auto" viewBox="0 0 678 600" xmlns="http://www.w3.org/2000/svg"><path d="M57.12,286.68L47.12,264.28L45.61,245.72L24.25,227.21L13.15,213.33L0.23,206.17L0.00,167.59L5.78,160.88L4.29,127.60L28.14,95.77L50.45,47.82L59.48,38.97L93.99,48.77L111.99,36.82L144.83,32.24L168.29,17.44L169.70,2.46L186.58,0.00L178.03,12.86L191.82,30.54L219.54,46.19L217.40,59.75L232.93,69.91L229.35,82.12L237.78,94.03L250.73,87.68L267.04,93.20L273.83,101.47L286.48,100.59L297.76,121.19L321.18,119.57L341.38,106.80L343.33,99.11L369.72,94.79L392.02,109.32L394.27,119.10L414.49,117.89L415.39,130.40L433.23,131.15L439.77,143.30L467.64,121.84L484.77,113.97L492.32,100.59L517.38,100.28L517.05,95.32L508.13,122.99L527.17,146.03L526.77,160.59L547.29,153.07L565.52,153.21L570.90,140.80L601.08,135.83L611.22,144.40L632.17,144.05L640.95,157.36L653.43,156.58L668.23,148.69L678.00,150.72L657.75,171.65L670.98,183.54L660.11,207.82L654.13,205.00L655.87,227.13L643.21,231.40L641.69,246.66L621.11,262.22L607.64,277.19L598.30,299.45L601.18,307.76L591.58,332.63L574.07,341.34L563.11,369.38L563.52,377.76L548.91,390.35L538.03,392.44L531.84,408.28L511.34,407.02L481.36,421.64L473.73,435.68L477.26,453.02L467.81,461.75L466.35,479.27L476.60,512.83L472.46,532.95L444.87,537.76L389.12,551.50L359.25,560.44L268.60,593.46L245.72,591.21L213.05,600.00L199.51,598.65L225.03,547.87L237.92,541.49L240.17,551.91L259.76,560.79L270.51,549.52L285.21,546.30L310.71,529.90L319.49,531.85L333.41,510.17L342.29,517.35L342.83,503.28L356.25,492.63L365.61,494.78L365.57,518.92L357.35,527.89L370.00,527.71L379.73,513.56L370.05,513.06L369.95,496.98L376.89,491.34L377.15,464.46L386.51,461.92L379.39,454.50L370.08,458.70L374.15,446.27L363.03,434.55L347.97,440.61L319.90,432.08L312.55,441.81L304.48,437.51L298.70,449.45L300.55,461.04L289.28,468.31L291.87,454.54L279.49,456.72L258.68,450.59L241.58,460.84L234.23,453.14L214.34,461.06L205.66,459.43L190.89,440.62L188.81,432.12L169.76,427.70L165.11,403.96L177.38,376.53L179.48,332.96L172.70,371.83L166.00,389.79L159.03,394.36L150.31,413.07L140.87,464.60L161.53,486.81L170.12,490.54L168.40,499.81L177.39,511.91L158.40,514.09L123.96,498.53L109.53,487.15L98.52,470.05L107.57,445.61L112.97,417.00L107.59,399.41L87.25,385.07L87.54,347.75L91.72,329.55L86.22,325.81L100.32,304.07L115.12,271.97L120.50,267.69L126.71,239.45L116.52,239.87L106.51,261.77L93.79,256.57L91.72,266.25L72.46,265.37L74.49,281.42L62.95,278.18L70.75,291.26L57.12,286.68Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function F7e(n,e){let t=Ne(e,"width",3,"100px");var r=S7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var U7e=wn('<svg height="auto" viewBox="0 0 344 600" xmlns="http://www.w3.org/2000/svg"><path d="M180.01,15.43L184.74,11.10L188.33,15.89L196.59,7.56L209.29,8.67L212.57,1.22L218.39,0.00L222.54,13.31L227.40,20.25L240.32,31.13L244.51,41.80L253.89,44.37L254.53,35.98L263.05,48.22L270.20,52.20L276.35,59.89L288.17,70.16L289.01,80.45L294.55,92.87L284.59,88.53L271.94,93.01L271.81,98.48L265.84,97.70L255.82,104.80L252.85,125.40L255.11,122.25L261.12,126.13L254.03,127.23L254.42,139.29L244.66,158.96L225.92,183.48L219.83,194.05L214.19,219.12L215.44,226.33L223.28,230.66L223.45,243.49L216.65,254.14L227.57,252.66L229.88,257.29L247.49,259.22L254.88,262.83L259.25,272.58L270.49,279.38L277.19,280.06L296.20,294.04L306.84,294.29L309.70,302.71L314.49,295.14L318.78,306.50L325.49,305.56L329.15,321.47L339.76,314.88L344.00,320.54L338.50,342.16L334.31,340.72L328.72,347.93L322.73,350.74L319.09,347.56L310.46,353.17L315.93,354.22L319.01,348.28L323.81,350.96L325.14,358.96L333.66,350.14L339.11,350.22L330.13,358.37L329.61,366.28L333.77,370.66L331.54,376.81L336.80,384.18L326.55,386.17L318.88,395.69L295.47,391.55L288.01,387.28L294.80,384.03L314.59,387.16L314.02,376.80L320.90,372.88L304.92,369.64L301.98,372.84L307.77,376.40L303.57,379.63L295.35,377.22L295.20,370.57L287.21,377.40L275.65,373.23L275.68,378.17L267.72,381.51L269.90,368.24L274.88,368.90L273.51,356.79L267.58,363.00L262.40,361.15L256.70,369.37L263.96,369.98L251.14,385.07L245.25,386.40L241.42,391.74L234.91,391.68L232.60,383.30L238.62,379.59L222.98,382.97L226.17,388.43L219.40,392.73L219.80,383.99L215.89,391.58L209.59,386.19L208.97,397.87L203.23,397.60L210.46,402.47L201.37,406.98L192.32,397.03L191.93,407.18L184.47,407.28L174.60,412.50L175.00,407.54L163.12,418.63L155.35,413.09L153.24,422.41L149.80,420.13L141.68,425.41L135.39,438.85L140.62,443.09L140.67,448.84L147.14,447.02L142.43,457.54L136.02,459.48L126.53,452.70L134.84,444.89L132.72,442.46L127.74,449.12L119.62,454.00L122.72,457.89L111.42,462.64L115.23,467.67L124.67,469.68L125.23,476.68L136.93,483.81L128.03,490.06L134.12,490.84L130.94,496.87L134.03,503.30L123.48,504.77L122.21,500.20L114.13,493.08L115.80,498.86L110.48,506.55L116.77,502.46L120.90,513.56L116.82,517.74L111.84,514.42L110.40,523.68L101.04,526.19L101.07,521.51L94.68,519.36L94.94,526.04L91.06,528.10L88.04,537.10L86.63,532.55L77.99,538.23L64.59,560.58L50.06,600.00L41.01,594.98L38.99,599.59L28.28,596.14L26.71,587.26L16.06,582.62L12.48,571.20L0.00,562.72L0.64,542.00L6.31,546.36L13.45,543.15L14.64,537.19L7.42,528.10L17.24,524.29L23.63,515.37L36.62,519.86L38.88,505.80L45.85,509.66L50.66,502.46L45.40,493.37L47.59,488.77L52.67,478.30L69.83,479.44L79.92,482.55L76.54,472.86L77.34,458.99L79.89,456.03L81.31,443.23L79.23,437.62L83.33,430.39L81.48,420.62L76.24,418.51L84.58,408.64L81.69,405.25L88.69,394.54L77.28,378.14L78.66,373.57L88.07,369.44L81.52,364.30L74.15,344.66L68.78,340.94L75.50,330.20L77.33,322.85L97.38,317.47L112.66,317.66L115.90,304.78L120.12,299.60L115.52,297.03L116.11,286.48L100.41,289.74L101.46,282.89L96.42,274.17L90.69,274.18L83.09,279.50L81.93,275.40L74.15,274.72L65.80,270.28L61.40,264.02L61.39,258.23L69.98,244.19L67.25,237.92L74.21,228.84L70.47,220.00L63.76,216.87L69.00,213.92L63.90,204.06L56.18,197.29L57.18,187.98L52.75,183.03L58.91,182.26L75.54,175.19L74.55,165.02L87.09,155.64L86.38,151.51L74.16,149.97L74.63,144.34L82.11,139.93L88.71,147.28L103.91,145.73L107.58,151.11L126.39,156.91L135.63,150.95L139.52,152.64L147.24,145.86L163.72,138.72L166.40,124.07L173.55,120.41L180.27,109.01L179.55,103.13L182.52,90.27L181.13,81.82L188.59,75.15L186.63,68.70L190.66,52.62L186.67,49.83L192.12,35.96L183.02,28.64L178.03,27.55L180.01,15.43Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function N7e(n,e){let t=Ne(e,"width",3,"100px");var r=U7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var k7e=wn('<svg height="auto" viewBox="0 0 371 600" xmlns="http://www.w3.org/2000/svg"><path d="M2.78,229.23L13.43,206.89L23.53,209.74L26.75,191.42L48.16,192.48L55.66,203.58L68.29,197.99L69.74,187.36L81.00,178.89L82.53,152.98L94.57,120.73L112.48,133.89L117.17,142.88L130.70,139.50L142.32,114.78L153.21,111.29L164.20,116.62L171.97,107.20L183.09,113.88L188.61,79.17L192.53,83.60L215.10,86.92L222.85,71.08L213.17,48.72L206.96,26.51L199.68,21.72L208.14,2.85L230.22,0.00L237.17,10.34L253.52,13.26L278.30,28.01L276.29,33.87L282.63,54.08L301.60,57.01L301.00,88.11L297.77,101.28L308.91,100.78L318.56,108.42L322.56,95.24L328.73,95.29L334.35,112.21L342.93,114.12L345.76,125.15L335.67,138.93L343.62,153.84L352.97,155.57L356.84,167.76L349.07,187.81L366.32,207.79L349.14,219.93L348.46,231.47L354.73,234.16L349.24,256.03L337.84,274.10L340.94,294.27L331.42,304.75L350.76,320.21L347.44,340.44L355.78,342.26L371.00,354.48L361.89,377.63L368.57,382.29L361.82,409.14L365.10,419.91L352.63,431.05L354.95,445.15L349.97,466.61L351.19,476.42L339.95,495.46L327.99,501.57L323.49,526.03L295.93,537.95L283.03,549.27L276.50,546.45L261.06,556.40L229.59,546.71L223.45,537.73L198.02,540.31L186.98,528.04L174.47,535.41L173.68,544.80L194.12,547.38L195.32,554.27L174.34,569.93L176.00,586.91L148.17,598.71L137.87,600.00L132.73,595.68L142.25,580.71L130.30,577.62L130.09,566.65L111.49,568.94L105.01,558.96L98.69,561.18L95.06,534.27L80.25,540.18L73.28,547.99L55.32,534.48L57.59,512.20L62.50,506.66L59.38,493.08L51.29,488.62L46.04,469.02L34.17,469.36L39.19,462.79L38.00,449.02L27.86,436.22L37.27,428.82L49.64,358.60L44.69,356.71L35.60,321.46L43.61,291.11L50.97,273.19L38.21,283.17L24.43,255.17L15.76,251.04L9.17,239.33L0.00,236.27L2.78,229.23Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function P7e(n,e){let t=Ne(e,"width",3,"100px");var r=k7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var D7e=wn('<svg height="auto" viewBox="0 0 544 600" xmlns="http://www.w3.org/2000/svg"><path d="M528.19,552.16L534.46,559.17L533.05,572.35L544.00,581.94L538.33,584.25L531.51,600.00L521.41,593.81L512.88,594.91L511.41,584.20L498.67,576.66L492.44,581.76L478.92,578.82L469.05,597.97L456.14,599.60L436.89,596.87L429.11,591.18L409.82,588.65L398.83,575.35L395.33,560.14L403.19,545.68L386.85,521.97L380.06,521.00L371.14,492.50L358.55,486.23L356.13,475.16L347.23,472.98L336.32,476.40L344.64,460.17L342.73,452.46L323.41,453.78L326.39,461.26L319.72,462.27L317.97,473.66L328.24,472.26L324.30,482.76L309.71,483.63L297.05,467.73L286.55,468.86L283.30,446.45L287.33,442.37L263.62,432.12L255.65,435.24L236.83,429.74L236.17,414.63L232.06,411.03L231.10,405.56L247.14,386.97L239.65,380.97L239.26,364.14L219.32,360.70L218.22,352.75L196.70,357.39L189.75,352.12L194.83,340.29L168.71,337.33L165.52,344.92L156.86,346.73L148.25,340.47L147.91,330.44L154.01,327.34L146.50,316.83L133.31,309.89L138.71,302.79L134.64,290.65L112.08,287.82L93.62,303.78L88.62,289.20L79.00,289.77L66.99,285.07L61.20,274.61L42.14,268.94L26.72,259.27L29.83,251.84L24.85,246.13L27.80,218.72L38.15,205.37L57.47,216.64L58.31,220.78L71.65,215.85L76.33,207.25L84.36,208.84L86.10,188.56L77.45,158.17L83.23,151.81L76.38,134.15L61.06,136.99L46.83,145.61L30.66,150.19L23.93,141.20L25.83,135.36L17.53,125.36L8.26,120.66L0.00,108.21L5.10,88.82L2.03,69.06L7.66,66.42L9.94,74.64L27.32,74.66L46.34,65.22L46.21,59.85L56.11,48.44L73.67,50.26L79.52,43.22L90.70,39.27L101.27,30.47L100.11,22.91L122.76,16.06L129.25,16.37L157.04,8.47L165.24,0.00L179.18,11.32L179.99,19.35L187.20,21.03L194.53,30.66L193.09,41.00L202.63,45.11L199.01,59.31L186.28,61.68L178.04,73.15L174.38,89.00L160.67,101.57L151.34,115.97L148.36,129.83L158.20,132.34L157.30,121.57L165.47,118.68L168.48,110.13L175.45,110.53L178.77,118.66L187.36,123.25L170.63,128.69L174.62,136.80L185.61,138.00L194.39,147.68L204.46,149.84L208.83,142.58L215.52,154.17L205.73,183.45L221.20,170.66L222.64,162.31L233.94,161.38L242.95,165.38L244.45,156.75L219.64,154.55L221.93,144.88L216.59,142.24L217.32,130.05L222.90,132.27L235.79,122.02L240.69,124.94L251.15,117.30L257.42,119.44L261.26,106.92L273.82,98.49L267.36,112.32L283.90,124.78L272.90,129.54L268.03,141.48L280.01,153.73L272.20,171.85L274.03,177.98L290.47,193.45L288.77,198.20L303.20,202.23L303.56,223.98L355.81,231.41L382.46,244.07L390.70,237.80L413.71,237.55L411.35,243.52L419.12,246.12L424.71,256.05L432.06,259.55L443.74,283.31L454.55,274.85L448.31,290.05L441.52,315.80L449.22,345.72L453.42,347.33L442.94,406.91L434.96,413.19L443.55,424.05L444.57,435.73L440.31,441.30L450.37,441.02L454.82,457.65L461.67,461.43L464.32,472.95L460.16,477.66L458.24,496.56L473.46,508.03L479.36,501.40L491.91,496.39L494.98,519.22L500.35,517.34L505.83,525.80L521.60,523.86L521.77,533.17L531.90,535.79L523.83,548.49L528.19,552.16Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function O7e(n,e){let t=Ne(e,"width",3,"100px");var r=D7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var z7e=wn('<svg height="auto" viewBox="0 0 413 600" xmlns="http://www.w3.org/2000/svg"><path d="M352.81,514.56L333.16,513.62L297.28,525.23L287.43,534.93L259.34,550.41L258.22,539.99L247.80,530.22L235.37,542.08L199.46,544.83L185.34,556.01L155.12,555.74L132.77,568.10L124.89,578.67L119.46,564.77L97.92,567.38L82.53,577.40L72.19,572.66L70.17,587.23L37.22,597.38L37.13,591.91L10.78,600.00L0.00,570.19L4.55,563.45L22.88,558.44L28.97,564.76L37.09,554.56L60.49,549.92L82.76,540.90L97.74,520.28L106.75,516.62L125.75,496.25L142.74,485.64L169.34,447.41L174.72,449.74L178.10,416.49L194.07,394.90L200.30,378.22L195.24,348.06L203.65,352.83L206.90,371.35L210.25,355.98L225.03,372.67L226.50,354.23L209.87,353.12L208.58,344.16L222.00,349.83L222.98,339.79L208.51,339.71L219.83,327.92L222.04,314.28L205.10,302.22L207.67,286.81L199.05,271.86L222.83,257.01L231.84,234.28L220.36,203.32L203.84,180.44L208.76,170.88L206.63,154.25L213.05,147.56L221.37,117.64L213.16,122.61L205.83,109.24L218.64,100.98L235.21,101.62L236.65,95.05L220.60,86.76L205.31,90.42L199.42,82.06L188.95,84.82L182.24,73.39L168.66,74.75L158.88,65.09L163.59,46.98L164.85,20.32L150.82,10.98L161.91,0.00L175.33,4.36L181.03,9.36L181.94,30.31L208.08,37.93L219.15,33.60L252.08,47.81L246.49,53.47L251.00,84.54L265.58,82.97L283.17,105.01L303.43,103.81L308.89,89.25L294.64,91.19L297.07,75.40L306.32,74.00L302.19,63.63L329.02,61.80L331.68,72.49L320.12,94.99L335.28,90.24L347.63,93.28L351.00,108.61L368.49,117.31L380.88,156.82L390.30,158.17L413.00,191.04L402.07,211.09L391.20,208.41L390.34,227.97L382.58,232.84L385.69,251.79L366.61,270.20L370.01,283.15L353.72,345.14L365.34,345.28L372.28,359.63L356.66,376.96L360.35,402.14L369.34,405.50L367.18,420.67L374.23,437.37L370.41,476.75L361.25,483.87L370.62,494.04L352.81,514.56Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function H7e(n,e){let t=Ne(e,"width",3,"100px");var r=z7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var Q7e=wn('<svg height="auto" viewBox="0 0 570 600" xmlns="http://www.w3.org/2000/svg"><path d="M32.36,542.13L28.43,534.69L32.24,521.55L37.76,519.17L29.56,510.50L30.16,498.57L14.30,482.69L6.26,485.02L0.00,470.10L6.41,457.21L4.90,451.28L19.82,438.12L10.93,425.62L0.61,420.83L11.16,406.18L7.89,397.45L14.11,389.16L5.93,382.04L7.05,372.86L20.96,360.67L30.09,360.31L31.05,337.62L44.72,333.51L53.78,301.13L61.18,297.95L72.36,300.91L74.28,278.22L61.07,273.84L60.83,258.27L69.82,246.27L84.40,253.54L105.27,242.39L108.23,236.19L122.04,226.66L122.88,208.83L116.87,198.10L120.95,181.84L117.42,175.33L102.56,167.34L106.79,154.06L106.09,139.77L87.86,131.14L86.82,113.17L82.03,93.30L75.58,90.28L80.49,74.11L79.28,62.25L71.41,57.57L71.93,46.78L54.99,32.40L83.08,28.83L84.97,21.49L93.70,23.79L119.04,5.22L134.67,0.00L145.60,10.96L153.12,5.46L163.29,7.08L174.47,17.79L185.22,5.69L213.64,9.52L220.11,1.74L225.21,7.00L242.93,6.62L256.33,0.93L276.60,15.95L281.32,7.59L288.22,8.21L291.37,28.49L286.13,48.39L294.62,61.17L304.15,66.01L312.68,76.27L310.72,82.27L317.64,91.49L334.26,86.79L348.88,77.94L364.63,75.03L371.67,93.16L365.73,99.69L374.62,130.89L372.83,151.70L364.58,150.07L359.77,158.90L346.06,163.96L345.20,159.71L325.34,148.14L314.71,161.85L311.67,189.99L316.79,195.84L313.59,203.48L329.45,213.40L349.03,219.22L354.98,229.96L367.32,234.78L377.21,234.20L382.34,249.17L401.32,232.79L424.50,235.69L428.68,248.15L423.14,255.44L436.69,262.56L444.41,273.36L438.14,276.54L438.49,286.84L447.33,293.26L456.24,291.41L459.51,283.61L486.36,286.66L481.14,298.79L488.28,304.20L510.40,299.44L511.52,307.61L532.02,311.14L532.42,328.42L540.12,334.57L523.64,353.66L524.63,359.28L514.70,356.04L506.49,364.18L516.87,371.09L515.94,390.83L512.45,404.25L519.70,411.40L529.74,410.39L534.71,418.85L542.45,416.81L546.81,423.00L558.13,420.29L570.00,426.43L568.93,431.29L556.68,430.82L547.19,436.94L552.62,446.84L558.70,443.16L552.54,465.31L547.79,470.27L549.37,482.58L545.73,489.66L557.95,506.61L566.44,529.53L559.77,546.36L542.18,557.36L527.70,560.99L524.70,567.72L516.59,558.57L521.20,553.85L509.55,544.06L494.15,548.47L488.68,545.62L485.66,554.48L460.63,557.55L462.20,560.56L436.06,569.78L436.52,585.59L401.00,590.68L376.97,600.00L360.80,589.90L337.66,588.78L317.00,572.96L308.38,571.30L286.95,551.51L277.98,548.02L269.22,553.03L260.89,546.23L262.87,539.15L255.41,538.32L242.17,527.94L240.96,522.14L209.95,512.35L204.02,516.11L191.42,508.87L173.46,508.96L176.31,515.02L164.15,514.26L148.77,523.69L143.89,517.12L128.37,509.95L118.24,521.77L116.13,514.19L104.00,525.20L100.96,503.70L95.14,518.01L84.70,518.57L85.09,529.69L72.79,541.72L57.60,538.86L54.29,531.21L40.75,534.54L32.36,542.13Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function j7e(n,e){let t=Ne(e,"width",3,"100px");var r=Q7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var Y7e=wn('<svg height="auto" viewBox="0 0 371 600" xmlns="http://www.w3.org/2000/svg"><path d="M277.03,28.00L285.54,44.48L276.79,49.41L288.01,54.64L294.25,69.41L282.62,84.59L287.19,95.06L272.83,118.53L272.85,128.20L280.21,138.65L294.16,146.08L307.17,147.22L309.09,154.06L321.81,145.18L331.39,145.15L339.80,159.73L338.04,171.18L364.30,165.73L363.31,183.37L371.00,187.65L363.94,196.31L358.53,217.83L332.98,217.52L299.47,226.51L296.41,238.79L285.19,256.74L294.15,262.95L306.48,295.77L317.42,304.36L301.70,311.26L299.39,318.89L318.46,346.30L306.76,364.19L311.59,369.85L297.65,386.35L306.41,389.87L309.50,406.21L302.65,418.28L306.12,427.66L303.75,449.05L299.49,454.00L298.15,477.17L303.80,493.36L286.93,488.16L258.26,486.27L249.75,503.75L239.85,514.81L217.48,524.79L207.68,522.68L190.57,542.68L193.92,559.06L199.03,563.11L182.62,569.48L176.00,561.45L172.95,583.39L184.61,588.84L180.75,600.00L171.29,592.71L167.80,578.87L148.89,571.47L140.69,577.85L116.49,584.69L100.28,573.47L78.36,572.77L65.16,576.89L58.24,590.11L42.08,593.21L44.74,576.41L32.50,569.62L40.04,558.72L42.24,539.63L52.46,542.25L52.22,516.74L44.10,503.83L30.10,502.59L32.23,489.48L21.82,472.47L14.74,472.86L0.00,461.03L4.05,444.99L21.04,434.42L26.15,414.72L44.26,407.06L43.48,400.75L56.47,385.92L51.00,377.06L57.80,368.59L77.06,365.66L90.54,374.66L100.93,365.81L96.71,340.64L82.10,329.10L75.22,332.99L64.20,292.65L66.65,279.17L59.90,260.51L75.02,243.05L67.06,234.40L74.84,228.34L78.08,194.82L72.10,180.62L73.93,167.71L66.30,164.85L63.17,143.42L76.43,128.67L70.54,116.46L60.67,116.35L74.50,63.60L71.61,52.58L87.82,36.91L85.18,20.79L91.76,16.65L92.50,0.00L101.72,2.28L105.85,20.22L118.81,35.92L141.55,38.90L150.73,45.61L173.43,48.83L188.65,46.91L200.29,24.31L216.23,27.78L223.58,21.77L238.60,30.66L240.33,43.30L250.39,42.00L262.30,49.30L270.34,30.73L277.03,28.00Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function G7e(n,e){let t=Ne(e,"width",3,"100px");var r=Y7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var V7e=wn('<svg height="auto" viewBox="0 0 499 600" xmlns="http://www.w3.org/2000/svg"><path d="M310.38,0.78L316.95,18.92L314.57,32.02L325.28,71.22L331.97,67.44L346.18,78.65L350.28,103.12L340.17,111.72L327.07,102.97L308.34,105.82L301.73,114.06L307.05,122.66L294.42,137.08L295.18,143.21L277.57,150.65L272.60,169.80L256.08,180.07L252.15,195.66L266.47,207.16L273.36,206.78L283.49,223.31L281.41,236.05L295.03,237.26L302.91,249.80L303.15,274.59L293.21,272.05L291.08,290.60L283.74,301.19L295.65,307.79L293.06,324.12L308.77,321.11L315.50,308.26L328.33,304.26L349.64,304.94L365.41,315.84L388.94,309.19L396.91,303.00L415.29,310.19L418.69,323.63L417.64,357.28L437.93,371.06L443.75,389.61L461.05,397.14L463.60,411.56L481.01,417.16L484.28,409.67L499.00,417.83L484.16,444.43L478.31,449.29L481.93,460.61L460.32,467.45L468.73,475.62L464.74,484.55L453.82,489.99L458.81,499.61L472.99,499.10L470.90,508.03L454.23,509.74L436.28,521.97L451.84,519.38L429.31,540.35L426.45,537.24L410.81,550.37L401.56,549.15L387.37,559.27L378.77,580.89L387.25,592.68L381.36,597.19L372.42,591.62L368.91,600.00L362.82,589.00L375.38,583.16L375.22,572.07L367.09,568.14L348.91,572.45L335.45,564.24L317.28,562.83L298.50,553.02L284.00,555.89L267.92,547.46L256.07,548.00L237.64,542.43L224.71,526.40L203.34,527.35L203.69,520.41L187.90,507.54L175.67,502.79L172.48,490.86L177.30,476.57L169.92,463.66L149.10,458.59L142.18,451.13L154.78,436.18L157.56,445.09L165.31,442.18L175.67,423.00L164.58,412.68L156.17,415.72L153.35,403.16L141.88,405.47L132.80,388.75L125.57,389.88L111.60,380.47L92.55,381.21L92.48,370.09L82.64,360.71L67.59,357.83L55.69,341.94L50.43,321.22L28.22,310.71L0.00,319.24L2.62,302.59L9.54,304.62L12.84,294.48L5.47,286.66L14.26,284.22L15.98,275.64L29.36,270.49L23.36,264.75L11.56,271.27L18.34,247.72L42.11,245.11L48.88,237.50L48.68,227.70L60.58,223.15L40.59,202.29L24.42,198.43L15.61,200.42L20.45,184.15L29.39,168.16L39.58,168.25L40.33,155.66L58.77,159.12L75.55,148.67L66.10,149.57L62.72,130.14L54.87,124.61L47.07,127.92L45.49,99.77L33.42,101.22L22.17,94.26L39.16,98.04L15.99,78.46L2.29,77.31L8.49,64.94L8.51,50.18L19.15,46.78L28.05,71.43L49.80,64.74L49.88,69.26L77.08,60.87L78.74,48.82L87.28,52.74L99.98,44.46L117.76,42.30L122.24,53.79L128.75,45.05L147.20,34.83L172.15,35.05L183.80,25.81L213.44,23.53L223.71,13.72L232.31,21.80L233.23,30.42L256.42,17.62L264.54,9.60L294.16,0.00L310.38,0.78Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function K7e(n,e){let t=Ne(e,"width",3,"100px");var r=V7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var $7e=wn('<svg height="auto" viewBox="0 0 800 396" xmlns="http://www.w3.org/2000/svg"><path d="M734.30,264.74L722.53,260.16L715.24,272.48L696.49,281.20L687.69,293.62L662.68,297.19L656.65,289.10L630.02,301.19L613.09,302.96L611.36,312.06L598.23,314.66L590.64,290.97L595.93,281.15L592.26,270.43L580.76,267.35L588.45,253.81L580.09,237.39L568.16,235.60L558.16,221.35L528.93,224.99L500.65,213.44L510.17,191.03L499.68,186.29L483.28,189.90L469.15,200.72L461.25,200.20L457.54,218.96L446.81,219.34L434.76,228.00L420.94,229.22L422.35,243.84L403.51,260.29L395.41,257.64L390.13,240.27L381.10,229.00L352.96,210.07L343.50,212.01L324.45,204.73L313.99,210.42L297.96,198.45L281.60,197.77L266.60,191.93L255.12,213.63L249.70,254.97L242.31,265.28L220.29,266.11L213.73,275.24L219.65,280.72L227.35,304.18L208.20,304.45L179.78,314.94L156.75,305.03L149.13,311.94L158.91,338.49L159.26,350.98L139.86,355.65L126.10,365.44L116.65,361.29L109.10,370.61L93.65,363.25L87.28,369.76L89.01,386.28L76.36,396.00L64.97,380.86L24.51,388.87L13.60,384.32L2.69,390.97L0.00,384.10L4.40,362.74L1.52,353.11L11.60,331.24L26.55,325.93L33.24,316.40L19.34,288.86L10.10,292.75L8.11,283.12L25.54,270.52L66.62,252.64L79.89,253.92L100.58,246.20L94.23,230.24L98.23,221.45L91.23,211.53L92.15,188.57L108.02,168.73L102.22,161.95L105.90,144.50L99.43,130.95L78.04,119.98L49.32,95.62L35.37,62.83L47.08,48.39L62.11,46.46L77.84,44.00L62.17,56.45L71.42,67.49L71.59,80.30L88.91,96.12L107.70,105.58L147.48,114.59L166.19,110.86L171.03,95.04L180.47,84.88L194.58,82.12L209.18,70.22L250.16,59.78L262.93,58.68L275.14,66.42L288.21,67.75L310.98,76.78L350.59,80.26L393.88,80.40L457.49,74.26L499.40,64.20L505.21,54.49L513.31,67.20L531.95,68.04L593.80,58.78L636.10,47.87L658.85,38.42L670.11,27.27L671.60,17.70L694.08,16.13L714.84,7.96L715.93,0.00L736.91,17.80L736.27,31.17L746.01,36.95L747.51,51.63L741.42,71.65L749.42,75.39L755.34,99.99L756.63,122.24L779.21,132.92L780.08,150.61L774.84,167.04L793.24,176.93L797.61,184.99L792.56,205.12L800.00,218.40L798.96,240.48L781.87,252.27L778.19,259.94L752.36,273.75L734.30,264.74Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function W7e(n,e){let t=Ne(e,"width",3,"100px");var r=$7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var q7e=wn('<svg height="auto" viewBox="0 0 627 600" xmlns="http://www.w3.org/2000/svg"><path d="M596.17,24.78L586.39,26.03L578.77,35.45L587.85,56.82L606.54,72.69L620.46,79.84L624.68,88.67L622.28,100.04L626.05,104.47L615.73,117.39L615.13,132.36L619.69,138.82L617.08,144.55L621.21,154.95L607.74,159.98L599.11,159.15L572.37,170.80L561.02,179.02L562.32,185.29L568.33,182.75L577.38,200.70L573.03,206.91L563.29,210.38L556.73,224.63L558.61,230.91L555.74,244.82L549.87,240.43L540.10,239.76L536.01,243.13L526.43,241.71L523.37,247.01L516.17,247.66L509.23,238.79L500.20,232.43L494.15,240.85L484.90,244.39L469.45,239.39L464.92,231.24L451.18,235.13L438.60,250.99L442.39,255.69L433.18,260.57L423.45,276.90L415.38,280.87L416.20,286.52L407.29,290.10L409.03,297.58L397.94,303.20L392.93,299.97L384.68,302.01L381.02,310.37L371.92,317.10L366.30,326.06L380.47,328.04L390.27,333.61L394.25,348.44L389.61,351.74L382.83,347.65L377.79,356.54L372.11,352.80L357.91,351.76L348.59,361.80L335.07,367.66L328.94,373.92L322.09,369.67L308.47,372.79L290.66,361.83L284.95,365.11L286.17,371.84L276.20,379.88L269.75,377.94L266.72,370.94L251.74,376.06L244.32,372.26L238.32,382.21L231.51,379.09L230.76,372.09L217.24,368.44L217.27,379.38L210.75,386.52L208.82,395.11L202.14,395.11L175.46,414.11L179.31,421.39L186.76,425.27L173.47,445.61L169.90,457.62L173.65,465.14L168.59,480.66L157.30,492.18L145.34,495.76L139.36,508.50L148.17,513.10L151.43,523.68L139.67,524.36L131.46,531.45L132.08,536.88L121.70,549.10L130.64,563.55L115.72,582.25L114.28,590.34L108.73,597.44L103.66,589.54L95.04,583.70L80.71,597.22L72.63,599.01L62.79,596.00L57.55,600.00L40.30,584.00L41.53,576.81L36.72,562.90L44.07,555.42L47.52,538.71L16.88,542.20L11.06,539.09L10.64,518.25L5.31,518.90L0.00,506.68L14.57,494.39L13.19,479.51L22.47,474.38L19.72,471.46L18.80,457.24L10.13,454.01L11.36,442.52L8.63,429.18L29.46,428.79L52.50,421.75L69.58,411.12L76.74,402.50L74.37,392.02L82.54,391.44L86.66,382.69L92.52,383.84L105.16,375.01L108.84,364.57L122.00,357.96L128.51,349.74L127.93,340.62L139.54,333.47L144.00,338.73L147.35,325.39L165.10,304.42L180.14,295.98L182.78,290.21L194.91,283.52L215.39,263.31L226.01,261.42L243.31,252.08L249.50,241.93L248.04,237.89L263.38,222.98L270.91,220.45L274.42,207.12L282.89,194.21L296.12,186.94L309.65,173.50L324.58,167.62L326.27,162.26L335.60,156.92L362.88,146.20L376.51,124.76L380.65,106.16L379.06,93.16L365.77,85.21L362.96,78.33L384.47,70.04L394.18,74.66L409.92,72.08L410.83,67.66L402.11,61.80L427.15,55.07L439.59,45.41L453.11,41.42L467.70,42.25L473.54,39.21L490.89,40.80L494.19,38.08L491.55,27.53L495.84,26.18L514.30,29.75L515.59,20.90L521.95,22.49L526.53,14.10L521.53,11.77L529.72,8.48L539.92,11.27L535.89,0.00L546.88,3.71L557.21,19.35L576.60,17.67L588.34,13.62L600.39,14.76L605.84,10.89L627.00,15.68L619.60,20.41L603.93,21.74L596.17,24.78Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function X7e(n,e){let t=Ne(e,"width",3,"100px");var r=q7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var J7e=wn('<svg height="auto" viewBox="0 0 610 600" xmlns="http://www.w3.org/2000/svg"><path d="M604.92,72.16L594.69,85.83L594.96,103.56L610.00,108.55L607.82,134.38L595.08,131.01L586.67,134.63L576.34,171.50L560.78,176.17L559.69,202.01L549.29,202.42L533.46,216.31L532.18,226.75L541.49,234.86L534.41,244.29L538.13,254.24L526.13,270.93L537.87,276.37L548.00,290.61L531.00,305.59L532.72,312.34L525.43,327.02L532.56,344.01L541.71,341.35L559.77,359.43L559.09,373.02L568.42,382.89L562.14,385.60L557.80,400.56L562.27,409.03L549.69,401.95L537.60,403.24L533.87,413.26L520.61,415.72L512.82,405.36L501.36,406.16L493.68,412.82L498.26,418.83L512.26,416.24L519.91,428.72L504.13,436.32L501.88,447.37L485.37,453.59L481.45,480.36L469.09,480.09L454.56,497.89L436.24,503.39L419.44,499.26L412.62,482.53L406.15,486.71L386.09,481.26L378.73,488.75L361.57,491.23L367.54,500.24L375.85,494.39L407.97,492.07L414.58,506.27L406.78,510.47L405.72,521.93L390.98,526.15L388.03,538.69L378.54,533.99L368.80,539.98L365.31,559.99L355.30,572.12L360.20,578.41L355.59,587.21L326.23,583.39L319.87,576.93L303.04,571.88L288.30,580.36L295.26,600.00L279.00,594.57L268.10,584.20L262.01,564.42L255.99,562.22L250.17,540.40L248.89,556.36L253.31,574.50L232.29,569.73L233.08,538.08L221.66,550.88L207.99,542.40L201.56,552.56L188.15,559.64L177.70,558.69L170.73,566.80L177.35,573.07L144.88,580.45L133.72,572.80L137.92,585.42L123.97,586.60L109.28,593.34L114.98,577.52L100.03,581.43L95.87,562.95L93.96,551.61L98.95,534.99L94.53,518.87L84.17,510.53L82.28,500.11L68.36,493.79L61.87,479.75L63.73,462.49L71.70,443.91L60.76,438.52L53.70,410.76L47.90,404.38L53.60,396.96L49.57,389.60L58.15,355.15L44.87,340.85L34.41,336.10L33.07,324.24L21.44,312.46L14.16,294.18L21.33,270.18L15.44,258.49L27.25,241.20L27.00,224.93L18.14,218.99L0.00,192.89L11.63,183.95L10.04,168.76L15.90,162.77L30.10,169.54L37.05,160.97L45.73,164.79L58.38,155.78L76.22,151.49L75.90,140.00L66.91,115.57L73.91,109.22L95.09,118.33L121.22,108.69L138.82,108.43L131.75,86.86L126.30,81.82L132.33,73.42L152.58,72.66L159.37,63.17L164.35,25.15L174.91,5.19L188.70,10.57L203.74,11.19L218.48,22.20L228.10,16.97L245.61,23.66L254.31,21.88L280.18,39.29L288.49,49.65L293.34,65.63L300.79,68.07L318.11,52.93L316.81,39.49L329.52,38.37L340.60,30.41L350.46,30.05L353.88,12.79L361.14,13.28L374.14,3.32L389.21,0.00L398.86,4.37L390.10,24.97L416.11,35.60L442.98,32.25L452.17,45.35L463.14,47.01L470.83,62.10L463.76,74.56L474.33,77.40L477.70,87.25L472.85,96.29L479.82,118.08L491.89,115.69L493.48,107.32L509.05,105.69L533.53,94.57L539.07,102.01L562.07,98.73L570.17,87.30L587.40,79.28L594.10,67.95L604.92,72.16Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function Z7e(n,e){let t=Ne(e,"width",3,"100px");var r=J7e();Ye(()=>pt(r,"width",t())),Z(n,r)}var e9e=wn('<svg height="auto" viewBox="0 0 769 600" xmlns="http://www.w3.org/2000/svg"><path d="M113.37,589.02L94.15,594.32L85.31,592.17L91.49,579.41L72.76,573.95L65.37,576.85L52.71,549.18L55.03,538.22L48.14,534.84L48.09,508.21L37.49,511.11L34.82,500.54L18.02,493.41L22.11,471.76L17.49,454.06L24.10,436.18L17.31,419.32L12.63,404.16L0.00,397.56L8.58,379.29L25.73,374.16L41.92,357.64L49.18,335.39L43.80,324.60L48.92,307.38L67.99,278.22L57.30,272.66L51.78,262.22L90.05,234.98L99.62,234.97L102.39,222.65L111.74,212.41L111.70,196.73L131.10,201.96L132.16,212.00L141.93,216.47L150.54,202.20L161.19,207.66L182.67,200.31L187.02,210.35L196.28,213.13L210.57,201.61L208.82,191.95L217.00,187.25L242.56,202.97L262.09,198.49L271.92,204.59L280.71,195.61L300.10,187.21L313.47,172.81L333.83,174.30L341.99,179.66L349.21,166.91L358.94,172.79L365.59,168.06L359.88,146.79L345.82,138.80L325.51,135.96L333.56,123.11L346.62,113.46L351.87,101.48L363.70,98.56L370.89,103.18L386.79,95.12L384.30,84.40L397.08,79.27L395.89,71.17L407.47,65.48L421.43,42.06L434.64,35.06L429.20,28.32L447.25,5.58L466.95,0.00L473.46,11.69L495.61,18.86L508.89,13.78L517.55,1.70L530.51,10.83L540.46,23.54L550.79,22.61L555.18,15.02L568.93,17.06L574.79,12.22L588.81,13.18L597.23,19.48L599.74,25.90L609.93,19.69L620.11,23.94L657.88,16.45L668.52,30.60L686.94,57.12L695.93,63.15L696.19,79.68L684.20,97.24L690.18,109.12L682.90,133.50L690.29,152.08L702.11,164.05L703.47,176.10L714.09,180.92L727.57,195.46L718.86,230.46L722.95,237.93L717.16,245.47L723.05,251.95L730.22,280.15L741.33,285.63L733.24,304.51L731.34,322.05L737.94,336.31L752.07,342.73L753.99,353.32L764.51,361.79L769.00,378.17L763.93,395.05L765.87,406.58L762.67,434.99L743.94,427.09L761.12,440.70L756.56,448.62L740.62,436.61L743.60,446.15L731.29,452.79L731.16,474.70L720.63,484.89L710.37,487.37L708.92,478.78L681.93,475.58L673.03,464.90L659.44,472.53L655.56,465.89L670.35,459.95L669.18,443.19L658.97,437.49L649.50,457.06L636.21,457.72L591.70,476.12L572.68,471.98L566.81,497.17L531.32,511.53L518.63,506.36L502.32,505.99L484.88,513.20L465.10,513.00L439.61,535.75L429.17,519.78L413.89,525.20L407.85,544.75L390.35,542.65L399.13,561.25L389.30,570.67L381.83,567.71L357.13,574.40L351.33,589.39L337.47,583.48L337.66,591.63L324.75,594.77L303.69,575.81L288.26,596.31L272.57,600.00L275.21,589.72L268.47,581.43L283.09,570.99L264.62,557.35L259.22,558.29L261.68,542.01L248.42,519.58L253.58,506.25L246.86,506.56L254.67,493.74L222.93,497.23L196.66,487.65L176.08,491.88L153.69,506.38L153.19,515.02L128.88,544.31L105.40,560.33L103.57,572.66L113.37,589.02Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function t9e(n,e){let t=Ne(e,"width",3,"100px");var r=e9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var n9e=wn('<svg height="auto" viewBox="0 0 800 587" xmlns="http://www.w3.org/2000/svg"><path d="M477.60,0.00L481.75,20.30L479.87,37.77L493.08,42.69L494.49,64.33L498.67,68.77L484.53,76.57L486.65,99.21L464.45,117.91L472.54,136.50L480.65,135.51L481.30,167.22L490.15,171.94L536.82,166.63L531.56,192.06L520.38,203.42L527.69,224.59L525.82,235.53L552.09,259.87L560.07,253.79L575.06,258.37L587.36,255.64L609.17,235.07L622.31,243.96L630.03,255.98L638.49,245.18L640.67,232.86L663.39,204.41L649.78,182.44L665.58,163.85L664.64,155.58L677.15,144.81L695.05,143.76L702.26,161.65L695.25,180.62L700.15,199.40L695.80,222.37L713.64,229.93L716.48,241.14L727.73,238.07L727.79,266.32L735.10,269.91L732.63,281.53L746.07,310.89L753.93,307.82L773.81,313.61L767.25,327.14L776.63,329.43L797.04,323.80L788.20,340.12L800.00,355.34L790.63,381.42L772.66,383.17L770.98,395.02L776.85,412.83L775.82,426.99L782.56,436.31L778.22,468.81L764.01,495.25L747.69,499.96L729.24,499.91L727.49,521.02L730.46,550.81L746.70,567.41L746.12,578.11L735.45,587.00L722.56,586.08L722.67,554.65L699.84,542.37L698.42,536.09L683.28,529.06L670.11,536.34L645.45,519.37L638.00,518.48L632.51,506.41L618.94,506.79L606.73,491.24L588.02,483.45L572.89,465.30L558.63,462.56L550.38,475.40L537.27,478.91L553.03,486.90L546.34,492.62L523.53,483.50L539.09,463.72L555.87,453.79L542.99,440.38L529.60,451.12L535.59,432.78L511.08,437.91L505.56,432.05L514.50,425.17L470.05,432.76L453.15,443.35L438.54,442.84L430.88,455.68L424.93,443.43L415.89,453.56L425.87,460.53L419.89,471.32L406.83,478.74L403.23,465.36L390.19,472.03L372.74,454.12L352.80,444.12L348.39,452.59L355.75,462.50L341.56,468.38L334.32,481.89L323.98,477.69L328.40,465.74L320.75,459.60L307.35,480.21L312.93,460.85L318.76,455.39L306.91,452.13L309.36,435.98L302.11,437.44L297.56,464.73L280.05,483.63L283.73,494.63L269.74,503.58L263.33,501.42L234.21,523.72L221.79,517.86L217.42,503.94L210.54,508.58L186.17,512.62L182.46,517.78L172.51,503.23L178.80,487.21L157.18,467.92L148.29,465.86L133.76,444.66L107.05,440.92L101.09,430.61L97.37,443.04L85.80,452.10L91.98,456.30L80.00,463.97L76.89,477.84L40.35,506.81L38.48,521.30L28.54,531.97L19.55,509.41L29.84,495.82L27.74,478.41L31.65,456.59L24.58,451.00L30.66,437.53L28.42,427.37L17.11,425.49L0.00,397.29L3.10,375.14L19.95,375.83L19.83,364.24L31.70,358.79L41.47,338.84L39.32,322.91L31.53,320.73L34.61,303.86L20.10,285.38L3.35,270.71L20.77,249.59L15.98,239.42L23.01,217.79L36.81,232.16L45.29,225.92L75.78,213.73L100.51,211.48L89.59,189.03L81.05,192.94L55.89,186.43L53.88,199.71L41.14,197.52L56.35,181.96L63.48,163.02L82.03,173.15L82.39,181.11L107.82,183.93L122.99,174.90L145.60,185.29L153.57,183.42L168.06,210.60L188.01,205.50L194.77,193.67L204.79,212.14L209.96,196.85L224.88,204.64L236.20,198.87L256.33,203.78L267.01,196.98L270.53,181.67L282.94,184.05L302.62,180.00L321.97,165.78L307.83,158.23L310.64,150.05L320.19,157.10L348.88,124.85L341.94,104.80L351.71,99.20L366.61,100.08L376.58,85.37L387.15,80.47L399.26,66.12L396.94,56.92L405.12,37.56L427.01,36.15L418.96,29.06L426.41,10.08L433.43,6.42L457.12,14.90L468.34,7.00L464.18,0.23L477.60,0.00Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function r9e(n,e){let t=Ne(e,"width",3,"100px");var r=n9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var i9e=wn('<svg height="auto" viewBox="0 0 790 600" xmlns="http://www.w3.org/2000/svg"><path d="M467.09,599.24L444.43,593.32L418.93,600.00L404.25,587.22L387.98,593.30L373.46,552.86L356.33,543.05L354.89,532.42L378.85,515.02L370.21,508.89L372.61,485.70L353.68,484.36L337.42,475.48L293.87,481.79L287.05,477.25L296.72,462.18L286.60,426.79L288.60,405.34L270.28,376.87L268.59,359.88L242.82,365.43L236.80,350.23L210.51,359.38L203.31,385.42L182.95,392.31L168.64,380.48L153.98,379.58L139.95,355.94L127.87,345.11L114.89,351.74L92.48,352.98L83.57,347.74L62.67,352.47L55.98,341.23L29.38,341.17L1.45,323.33L0.00,313.36L12.25,303.44L12.13,288.98L21.40,283.19L11.25,268.59L22.83,259.14L21.98,242.25L11.22,216.66L12.33,196.57L42.73,190.89L45.06,178.02L90.06,140.09L100.71,149.10L112.77,145.64L117.58,128.60L140.54,118.88L167.73,115.95L173.93,121.65L189.45,109.88L201.82,108.98L206.58,129.38L225.80,143.94L247.12,144.21L264.78,135.55L281.95,107.05L297.19,111.40L303.52,103.97L320.67,109.23L346.94,92.68L345.45,74.51L371.48,56.05L394.43,58.76L434.75,49.25L461.21,61.15L474.22,54.81L494.59,58.93L505.95,48.47L545.52,72.53L560.05,62.72L557.27,49.66L565.28,28.23L592.03,25.04L605.06,13.78L638.79,11.86L663.60,15.68L656.45,8.15L670.24,0.00L674.24,13.32L668.21,25.86L677.44,38.87L699.15,51.82L709.93,51.11L679.98,121.06L687.10,119.97L672.67,161.70L672.92,184.93L681.59,193.54L674.48,204.73L697.11,219.50L704.15,200.60L713.88,209.43L726.66,238.33L748.62,252.22L757.68,275.40L749.63,295.08L720.50,322.50L707.09,324.68L716.47,339.72L710.06,346.46L739.60,339.84L768.44,345.44L754.21,353.05L767.96,357.28L782.47,349.30L790.00,354.43L728.72,384.59L719.21,392.55L690.68,400.07L682.73,415.91L676.06,408.43L659.40,417.88L656.96,443.56L642.18,438.83L639.71,455.26L563.61,503.36L538.05,506.78L509.08,537.21L528.58,538.78L514.55,551.48L507.80,569.86L479.20,574.07L467.09,599.24Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function s9e(n,e){let t=Ne(e,"width",3,"100px");var r=i9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var a9e=wn('<svg height="auto" viewBox="0 0 800 429" xmlns="http://www.w3.org/2000/svg"><path d="M800.00,215.05L789.81,242.29L793.35,258.88L774.88,271.36L724.62,240.77L710.17,254.07L684.30,248.83L667.76,256.89L634.15,241.77L582.91,253.86L553.76,250.41L520.68,273.87L522.58,296.96L489.20,318.00L467.42,311.31L459.37,320.75L440.00,315.23L418.19,351.45L395.75,362.46L368.66,362.12L344.25,343.61L338.20,317.68L322.48,318.83L302.76,333.79L294.88,326.53L260.33,330.26L231.16,342.62L225.05,364.28L209.73,368.67L196.19,357.22L139.02,405.43L136.06,421.78L97.43,429.00L85.02,415.48L62.03,417.21L50.08,404.00L26.21,400.21L51.26,386.82L71.13,238.45L57.44,211.99L10.30,174.84L0.00,150.35L36.75,168.07L42.39,182.06L69.60,186.83L87.63,177.83L116.27,185.46L181.82,123.61L174.86,111.98L200.58,113.41L230.93,83.51L228.15,53.81L259.33,44.26L262.75,60.76L237.98,74.87L241.45,84.25L263.18,82.53L296.37,50.25L291.06,27.95L321.41,25.15L326.48,13.01L356.16,25.02L362.43,42.20L372.61,30.17L390.59,50.90L466.80,56.05L479.10,40.96L480.54,16.99L500.66,46.15L501.50,26.59L512.86,16.07L505.77,2.09L519.79,0.00L542.03,13.08L545.30,26.22L535.56,63.41L544.44,80.67L568.25,75.54L562.39,53.14L581.51,64.02L595.58,56.31L609.61,70.29L621.52,56.74L639.58,71.35L637.50,88.50L621.65,103.45L630.06,126.41L675.99,136.43L710.57,165.04L734.90,167.64L743.13,155.12L755.11,163.41L766.94,189.93L800.00,215.05Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function o9e(n,e){let t=Ne(e,"width",3,"100px");var r=a9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var l9e=wn('<svg height="auto" viewBox="0 0 674 600" xmlns="http://www.w3.org/2000/svg"><path d="M636.94,49.42L647.41,51.08L652.64,56.87L662.71,56.11L668.16,62.03L667.54,73.21L673.53,87.46L674.00,96.86L667.55,102.12L673.21,110.24L668.05,113.47L668.11,121.52L661.29,127.04L654.54,126.42L647.72,131.72L639.47,127.14L629.73,133.75L619.23,126.75L612.33,129.32L606.93,140.54L600.14,143.30L595.94,152.59L583.19,149.35L572.56,150.35L562.04,147.37L552.18,154.81L539.21,150.16L526.19,159.73L519.74,159.04L508.97,151.24L503.04,154.32L495.76,172.14L484.48,176.11L472.47,169.64L468.04,183.04L458.13,190.98L458.88,200.30L450.81,207.68L452.11,213.54L444.99,216.08L441.42,234.60L425.92,237.87L421.51,252.77L426.52,259.31L417.45,265.60L413.18,275.67L419.51,282.42L420.21,291.57L409.63,299.46L408.23,306.40L399.71,316.91L400.53,321.39L377.67,328.52L371.77,325.78L360.19,327.86L339.72,325.65L332.58,322.29L316.38,331.28L324.20,338.40L323.01,346.27L329.36,361.32L335.62,361.52L337.77,375.78L349.92,381.07L355.27,393.66L352.29,403.00L336.76,412.29L310.71,421.10L302.23,437.30L303.66,454.32L289.61,456.51L289.51,462.51L277.27,479.97L267.88,488.58L246.72,467.50L238.82,471.93L245.83,481.65L244.19,488.72L258.41,501.00L260.83,519.31L256.15,525.82L264.41,535.50L263.37,545.55L269.74,566.28L264.29,581.03L253.98,582.75L255.04,588.75L251.01,588.25L232.36,595.55L221.92,579.11L208.74,583.74L206.66,578.20L194.23,578.75L198.92,586.16L191.17,592.30L203.46,591.73L199.06,600.00L182.93,599.41L180.40,584.61L189.81,582.14L193.64,575.22L185.14,571.70L186.10,563.03L194.39,563.10L191.74,569.54L204.93,570.01L212.63,574.32L207.92,566.53L197.06,564.80L192.93,557.00L194.90,551.30L186.41,548.60L184.81,529.76L172.07,530.41L173.00,536.48L165.21,528.14L186.51,522.51L183.29,512.89L181.18,519.82L177.02,511.23L184.35,507.45L179.06,496.62L192.09,494.20L192.38,487.42L173.90,484.98L172.96,490.12L165.53,479.41L165.59,471.82L178.13,470.67L167.45,464.06L164.54,455.56L170.80,456.89L187.02,474.30L189.44,464.64L196.31,468.63L193.85,455.84L197.22,450.77L212.85,444.90L201.86,431.58L208.52,429.43L209.70,423.12L198.47,428.24L187.27,421.53L179.55,430.36L185.44,413.99L195.52,406.06L203.68,403.96L197.26,399.75L191.70,403.17L189.67,396.61L173.02,404.63L163.96,399.64L161.21,406.99L151.64,401.11L140.12,399.87L142.52,390.86L156.27,388.11L160.19,380.85L154.48,379.76L157.17,372.72L147.57,376.62L143.93,366.02L150.61,361.82L146.08,351.18L158.54,339.89L154.14,338.64L160.56,329.91L146.85,331.70L152.61,325.67L145.04,324.61L143.21,331.84L137.79,322.05L121.44,325.27L118.66,332.98L111.52,324.50L103.80,337.79L92.96,341.57L84.75,348.22L63.97,354.84L42.75,378.14L32.27,379.01L37.90,373.54L38.41,364.99L28.58,366.62L9.88,376.93L11.56,380.72L0.00,387.40L6.72,376.21L22.25,366.40L26.01,360.39L40.58,350.82L45.52,358.87L46.37,350.27L52.42,357.15L58.97,351.60L50.60,345.19L54.32,342.01L61.94,346.68L59.75,338.77L68.78,340.23L71.18,333.46L81.98,338.49L82.35,331.83L95.95,336.14L95.19,324.92L103.38,324.28L159.23,290.68L165.36,279.18L177.31,264.08L195.56,249.11L226.99,237.84L256.22,214.15L265.11,193.20L272.95,186.55L272.59,178.28L266.46,162.63L268.04,150.26L277.34,140.47L273.14,129.43L277.52,114.78L286.37,117.84L295.53,112.61L302.11,87.83L301.72,69.98L335.50,47.60L336.73,42.77L354.03,36.48L362.54,37.41L366.65,23.70L362.94,13.10L370.82,0.00L375.31,9.01L383.57,12.91L392.58,31.02L407.02,43.79L412.16,61.34L421.84,81.44L433.99,99.01L437.85,94.89L450.89,104.58L463.80,98.78L494.35,91.35L494.68,81.49L508.19,75.80L510.55,80.77L524.00,72.22L538.64,79.91L553.22,74.07L577.35,77.26L582.15,81.68L597.13,84.33L604.49,82.48L617.32,71.83L625.33,59.98L636.94,49.42Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function c9e(n,e){let t=Ne(e,"width",3,"100px");var r=l9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var A9e=wn('<svg height="auto" viewBox="0 0 731 600" xmlns="http://www.w3.org/2000/svg"><path d="M452.47,0.67L453.34,6.62L469.99,17.26L485.85,17.30L489.84,24.01L502.31,21.18L507.62,24.31L520.98,23.58L528.72,19.61L535.92,26.08L544.29,40.19L553.04,40.73L561.57,47.79L573.71,43.67L578.00,28.13L593.68,22.67L597.27,31.74L612.63,28.43L613.64,38.57L624.56,55.56L623.38,68.36L629.41,89.48L623.64,98.48L627.71,101.19L653.68,97.42L663.37,102.72L674.66,103.52L673.23,117.36L678.38,121.02L664.10,131.40L664.95,137.75L675.17,143.60L683.83,167.74L693.53,164.11L702.28,171.73L717.49,167.75L731.00,171.28L703.80,218.02L703.63,224.74L689.44,253.34L691.70,257.00L685.10,280.00L675.56,332.30L659.94,305.47L647.08,306.08L643.11,288.16L632.07,280.99L621.88,267.11L615.32,265.76L612.65,244.78L577.51,225.17L575.14,212.82L568.99,204.91L551.43,198.59L531.32,195.96L519.47,191.04L498.52,190.96L493.40,182.36L478.27,178.64L450.83,183.34L422.98,190.19L409.91,197.08L412.85,177.06L402.92,187.26L410.69,201.02L364.89,226.08L357.75,225.18L355.30,231.37L342.93,230.71L335.86,237.21L325.95,235.44L318.31,241.76L332.82,245.28L347.15,230.62L354.79,236.35L357.84,230.46L366.33,235.88L363.42,240.99L340.05,248.65L316.23,250.69L302.27,263.58L287.54,258.29L279.82,267.04L277.19,285.99L267.08,290.98L279.39,297.93L270.04,303.48L272.66,316.39L277.66,312.79L279.60,324.29L273.71,328.96L277.39,341.47L269.96,346.10L266.61,355.79L259.26,359.12L263.28,378.19L258.07,381.49L253.50,371.59L246.37,373.54L239.01,382.52L228.65,406.93L211.92,420.71L207.66,445.68L197.96,438.75L181.59,439.21L171.38,450.50L163.42,482.35L162.76,492.83L170.05,503.92L170.60,519.23L163.76,528.91L147.09,527.39L148.85,547.36L145.80,554.35L151.62,561.60L167.64,567.54L175.47,600.00L161.37,595.78L151.28,596.34L154.07,589.55L140.38,573.88L118.90,565.94L109.99,578.20L107.39,565.91L97.14,570.67L86.79,585.02L76.28,587.88L73.90,581.89L61.75,585.21L44.63,562.14L29.51,564.14L10.95,576.62L5.97,560.81L17.82,560.43L12.70,550.73L18.65,548.56L18.19,533.83L31.97,523.12L33.55,517.72L45.59,512.45L41.47,498.55L24.28,499.76L17.38,495.71L16.24,489.27L27.28,487.42L33.12,471.61L26.30,449.39L27.41,438.61L18.56,428.23L23.58,421.25L20.99,401.62L5.76,388.46L7.51,380.87L0.00,370.45L8.46,365.71L31.12,388.31L41.18,379.07L54.29,360.35L54.40,353.92L69.44,351.58L67.92,333.33L76.99,315.95L104.89,306.51L121.53,296.55L124.72,286.54L118.99,273.04L105.98,267.36L103.68,252.07L96.97,251.86L90.17,235.72L91.45,227.29L83.07,219.65L100.42,210.01L108.06,213.62L130.00,215.99L142.39,213.76L148.71,216.69L173.19,209.05L172.32,204.24L181.44,192.98L182.94,185.54L194.27,177.08L193.52,167.26L186.75,160.03L191.32,149.23L201.03,142.49L195.67,135.47L200.38,119.50L216.98,115.99L220.81,96.14L228.43,93.42L227.04,87.12L235.69,79.22L234.89,69.22L245.50,60.71L250.25,46.35L263.11,53.27L275.18,49.02L282.99,29.92L289.34,26.61L300.88,34.97L307.78,35.72L321.72,25.46L335.61,30.44L346.17,22.46L357.44,25.66L368.83,24.59L382.49,28.06L386.98,18.10L394.25,15.14L400.04,3.11L407.42,0.35L418.67,7.87L429.10,0.77L437.94,5.69L445.25,0.00L452.47,0.67Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function u9e(n,e){let t=Ne(e,"width",3,"100px");var r=A9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var f9e=wn('<svg height="auto" viewBox="0 0 594 600" xmlns="http://www.w3.org/2000/svg"><path d="M591.22,220.04L584.99,243.48L594.00,255.82L592.00,264.82L581.68,275.57L587.18,287.45L556.85,290.67L518.46,285.78L514.04,280.16L503.32,286.33L483.66,287.57L466.08,300.98L457.44,318.23L443.95,323.36L439.57,335.37L436.73,366.56L425.61,367.90L423.03,378.12L410.68,388.99L418.65,393.54L426.50,419.87L419.12,429.61L425.16,439.78L404.43,444.44L405.77,454.83L422.93,459.42L411.01,470.87L424.98,481.45L437.37,485.81L430.20,497.17L433.35,506.56L419.78,533.55L412.79,536.85L388.57,525.05L376.68,523.24L358.27,506.19L335.94,506.91L330.24,495.34L323.72,504.18L319.05,532.19L296.99,533.92L276.87,530.33L269.25,536.59L271.19,547.29L255.54,552.69L253.36,561.48L245.92,560.48L234.61,570.79L245.41,593.48L224.08,600.00L193.13,599.35L198.46,568.14L191.61,547.45L179.34,541.49L183.26,533.86L171.61,526.82L172.94,514.52L162.71,514.27L161.21,489.56L154.83,484.65L155.60,472.66L173.29,465.21L169.97,453.52L177.96,452.56L179.94,441.81L193.41,444.79L200.91,431.45L211.85,436.05L210.67,429.21L220.52,424.13L216.24,413.36L229.36,412.01L226.98,394.73L236.97,399.91L243.45,388.51L255.75,389.27L258.89,374.58L258.41,340.85L255.61,328.95L243.60,323.32L224.49,330.99L215.60,341.61L207.29,344.31L205.30,353.80L189.44,354.41L193.47,347.49L184.52,337.48L174.26,338.43L122.05,305.24L109.20,309.98L100.70,305.55L81.50,303.65L75.03,311.68L59.78,306.38L50.72,310.27L34.19,305.74L25.42,311.52L0.00,311.05L4.87,294.97L25.81,288.46L29.78,283.33L44.39,285.64L43.05,276.12L58.47,268.96L64.24,257.92L43.57,257.09L49.09,250.66L40.72,245.75L29.52,251.99L26.45,239.12L34.73,231.77L45.01,236.30L54.96,232.71L62.58,222.88L60.06,212.29L75.73,209.06L86.09,200.40L87.58,188.12L101.04,201.28L94.95,209.65L98.46,219.14L120.13,222.80L116.53,237.84L130.25,242.29L141.32,231.16L159.04,233.27L175.92,228.42L182.96,230.76L189.53,203.77L188.21,197.66L203.59,190.81L200.16,175.35L188.26,183.58L168.96,189.73L165.50,202.56L148.04,194.08L171.07,185.92L186.77,174.46L197.36,156.41L202.31,157.88L214.00,147.84L220.43,134.55L220.24,115.53L209.17,111.29L211.43,102.10L224.32,92.66L228.13,76.46L248.32,66.45L249.82,51.19L270.18,49.08L271.67,54.52L289.73,57.21L316.28,47.87L318.47,37.61L331.84,27.84L333.62,21.54L347.15,19.64L357.16,26.45L367.77,23.68L367.77,15.24L376.19,14.20L371.61,22.51L400.39,27.04L399.89,40.74L389.96,49.54L362.07,59.17L390.87,52.53L403.75,41.25L404.35,31.59L420.66,25.23L440.40,45.95L452.71,45.95L460.97,37.80L467.61,19.76L476.27,14.80L476.42,4.86L491.45,4.94L496.67,0.00L505.87,4.73L501.07,24.49L503.58,31.21L489.17,43.95L497.95,48.82L495.38,60.01L488.62,55.15L487.42,65.96L494.61,63.28L492.22,73.68L483.16,84.35L474.88,82.23L478.26,99.73L495.69,96.09L497.43,116.13L504.67,125.60L495.82,132.36L505.49,139.84L509.79,161.20L522.50,177.39L529.79,194.10L537.11,200.37L547.43,218.80L568.72,213.38L578.55,219.49L591.22,220.04Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function h9e(n,e){let t=Ne(e,"width",3,"100px");var r=f9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var d9e=wn('<svg height="auto" viewBox="0 0 657 600" xmlns="http://www.w3.org/2000/svg"><path d="M500.77,415.03L444.60,408.57L442.20,393.70L413.34,365.16L398.10,361.16L388.42,390.58L361.67,409.45L329.06,441.79L320.31,461.24L324.93,481.56L344.67,504.09L345.92,519.95L366.00,567.21L389.58,582.12L390.99,600.00L372.36,597.39L337.73,594.51L274.88,580.85L265.92,568.19L253.58,569.90L226.59,536.87L203.01,529.94L188.18,498.88L151.47,482.75L137.04,465.13L139.25,449.80L161.31,445.59L152.79,391.14L123.27,397.36L100.96,393.52L77.56,378.11L66.47,381.96L48.80,370.92L40.17,344.03L47.28,316.42L17.67,287.96L0.00,264.22L8.56,235.41L26.65,214.36L52.19,244.51L62.55,264.12L84.73,271.66L58.09,242.42L73.15,226.34L75.70,192.50L89.93,176.96L85.26,149.19L54.39,142.52L56.95,132.98L20.41,103.09L40.38,92.66L29.15,81.84L38.76,71.55L56.93,75.50L63.71,103.21L77.70,107.02L82.32,89.37L59.27,48.45L60.41,34.10L76.71,41.63L77.48,0.00L98.55,16.41L115.45,4.21L142.56,15.28L176.36,42.55L163.42,49.90L149.80,73.97L158.34,81.64L168.90,70.43L176.60,98.92L199.36,107.37L226.35,106.34L236.49,84.89L277.77,85.66L292.02,76.26L318.87,83.62L333.60,77.30L358.36,85.91L368.87,72.86L400.05,75.95L413.86,83.15L434.73,75.44L519.53,129.36L536.21,127.82L550.73,144.09L544.18,155.33L569.95,154.34L573.19,138.93L586.67,134.53L601.12,117.27L632.16,104.81L651.66,113.97L656.21,133.29L657.00,188.10L651.89,211.96L631.92,210.73L621.39,229.25L605.16,220.83L609.02,248.90L587.72,251.09L594.67,268.59L578.68,276.85L580.58,287.96L562.81,280.48L550.64,302.15L528.76,297.31L525.54,314.78L512.56,316.34L517.96,335.33L489.22,347.43L487.97,366.92L498.34,374.90L500.77,415.03Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function g9e(n,e){let t=Ne(e,"width",3,"100px");var r=d9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var p9e=wn('<svg height="auto" viewBox="0 0 500 600" xmlns="http://www.w3.org/2000/svg"><path d="M142.69,42.88L129.61,58.08L123.43,78.89L136.19,96.04L157.59,116.60L152.45,136.54L158.69,155.96L171.45,163.94L179.46,161.16L196.37,172.29L212.48,175.06L233.81,170.57L239.97,209.90L224.03,212.94L222.43,224.02L232.86,236.74L259.37,248.39L270.09,270.83L287.12,275.83L306.62,299.69L315.53,298.46L322.00,307.61L367.41,317.47L392.43,319.55L381.68,351.47L369.87,351.52L361.97,362.47L349.08,367.71L323.03,385.89L346.25,404.24L354.81,397.87L365.18,403.30L383.15,404.18L416.90,379.46L431.01,381.68L456.32,378.18L476.17,394.16L485.85,421.89L500.00,445.23L494.21,459.76L497.83,477.20L479.09,500.01L486.31,512.74L480.95,524.16L450.77,540.89L437.01,539.08L426.90,553.35L413.96,559.05L408.14,570.48L372.51,584.59L371.49,562.74L348.04,548.57L349.12,522.93L390.41,492.97L396.71,478.91L388.90,467.31L378.44,438.05L356.27,435.92L347.09,442.60L324.16,438.39L310.90,442.54L284.19,463.90L244.25,459.03L237.31,466.13L243.19,474.89L232.75,484.46L199.56,538.97L176.27,550.72L170.69,561.75L150.92,584.68L135.33,592.04L125.86,590.29L111.31,600.00L109.31,591.81L129.04,581.18L142.62,566.42L143.28,556.18L153.76,538.17L158.62,538.76L160.41,516.50L150.00,522.03L158.84,502.46L162.21,511.20L175.69,508.47L179.30,492.05L189.81,478.72L183.68,476.28L176.54,491.04L159.79,491.89L165.75,473.60L151.08,473.99L157.23,464.32L143.24,458.51L149.87,451.64L128.11,433.13L134.49,420.19L115.63,417.95L112.16,428.23L99.40,417.91L74.15,385.44L75.50,376.56L58.73,339.46L42.09,323.95L43.77,306.23L58.05,282.99L55.61,261.92L63.28,258.22L63.68,239.39L72.68,233.00L76.62,217.63L105.63,234.95L111.83,247.86L123.49,251.80L108.53,276.92L114.70,298.37L126.89,274.13L140.24,285.31L148.64,283.43L157.49,293.10L162.47,309.43L155.16,311.37L159.45,327.45L152.58,352.34L144.72,338.11L147.23,322.48L138.21,332.21L143.39,352.49L151.04,355.95L153.45,371.28L142.55,372.50L141.53,384.77L158.80,388.28L176.38,409.93L188.47,402.10L195.88,379.80L239.14,389.79L243.34,399.77L254.41,398.33L255.02,406.59L271.67,402.19L257.40,385.36L248.82,381.48L249.30,367.65L227.78,343.26L226.15,311.89L238.15,295.91L236.06,277.82L194.77,243.02L171.97,248.88L161.20,262.67L160.51,250.61L171.02,246.80L148.78,240.40L139.89,229.31L135.84,245.39L121.26,249.81L113.50,245.06L106.49,214.76L119.60,215.73L116.29,198.71L124.47,207.04L122.96,194.39L129.31,183.77L109.01,198.16L99.69,189.15L105.02,183.91L101.30,169.32L85.85,173.40L91.35,177.75L94.55,205.76L75.11,207.02L68.44,215.67L65.89,199.75L85.69,190.99L64.14,165.58L48.62,168.54L59.31,150.43L51.36,139.88L42.56,151.79L40.10,141.22L25.02,143.59L18.71,131.87L1.87,133.70L0.00,120.49L8.81,93.52L20.70,92.66L21.85,69.10L12.17,66.04L3.98,54.03L11.56,50.50L12.88,27.79L8.81,16.86L25.24,14.70L46.81,27.23L46.38,20.52L61.90,21.65L71.11,0.00L68.36,26.41L74.46,33.75L85.82,27.69L91.48,38.41L103.36,35.09L115.19,23.47L130.94,32.77L133.70,20.01L142.58,21.13L142.69,42.88Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function _9e(n,e){let t=Ne(e,"width",3,"100px");var r=p9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var m9e=wn('<svg height="auto" viewBox="0 0 444 600" xmlns="http://www.w3.org/2000/svg"><path d="M167.17,596.76L155.42,593.54L135.06,577.87L133.63,569.58L120.13,566.21L114.92,550.57L106.28,550.64L107.90,556.41L101.94,566.59L82.92,571.95L82.20,577.17L53.36,576.23L52.81,585.26L42.70,590.27L19.45,586.38L12.21,572.87L0.17,560.35L0.00,552.90L9.11,547.29L5.93,540.81L19.23,524.17L34.68,521.16L29.76,516.36L34.46,506.22L41.29,503.67L40.54,495.68L48.14,490.76L53.76,495.93L59.84,489.35L51.21,488.02L48.95,474.95L67.52,457.25L60.07,451.65L95.65,415.89L93.82,393.03L83.54,388.41L84.87,372.69L95.01,376.24L80.72,365.94L84.19,359.20L93.26,358.20L104.97,338.67L113.54,329.49L125.50,323.64L117.75,315.75L128.19,312.63L134.31,318.25L137.06,306.92L133.66,302.21L126.49,307.31L99.08,313.55L78.32,313.63L72.51,318.30L57.87,318.55L48.81,322.62L41.55,312.50L63.73,296.12L81.41,290.07L95.13,271.39L110.48,264.09L112.87,254.16L109.09,228.40L116.55,220.46L107.20,204.67L100.03,200.57L100.63,193.87L74.46,187.15L76.37,174.37L53.13,159.03L40.64,155.57L33.83,132.69L30.36,109.22L24.86,105.60L52.35,106.18L71.29,100.38L61.70,80.22L71.75,71.05L78.36,71.94L80.30,64.12L94.19,59.33L92.47,49.82L99.24,44.25L117.11,47.44L136.71,45.90L140.85,21.01L146.64,13.15L151.71,23.43L171.54,22.79L187.89,37.95L198.45,39.56L219.96,50.04L221.44,55.56L241.68,59.48L247.28,71.89L255.53,77.97L269.05,78.02L279.79,93.85L288.08,94.07L299.39,82.50L298.42,68.74L304.49,59.01L283.93,30.54L289.93,6.49L299.78,9.75L311.34,0.52L321.10,0.00L347.03,9.01L347.85,13.78L361.34,22.07L368.30,31.35L373.55,61.45L392.84,77.70L396.08,97.51L407.13,109.64L406.88,116.56L414.36,120.82L406.94,127.10L409.75,163.53L414.60,173.03L428.26,184.71L440.26,190.98L444.00,198.90L424.66,199.19L410.48,207.90L406.54,233.01L401.13,246.21L392.38,254.18L380.51,259.09L372.64,279.28L373.72,286.31L362.90,281.85L346.44,302.61L348.53,323.36L341.63,336.62L317.34,332.22L313.30,335.12L309.76,351.09L301.74,354.59L305.18,368.54L297.69,372.01L296.66,385.46L303.65,414.20L313.40,429.87L324.61,430.28L326.99,456.37L336.52,461.47L344.73,472.44L329.54,498.92L315.13,495.61L318.34,506.67L312.63,511.32L315.05,519.06L326.18,523.02L325.15,529.23L339.58,542.21L340.01,557.80L343.46,564.59L338.03,568.38L320.36,567.55L310.47,559.19L294.44,560.29L290.10,571.22L281.92,577.17L281.11,585.93L262.51,588.43L250.75,579.20L237.61,585.74L227.97,597.46L219.61,593.43L211.27,600.00L180.40,595.47L171.95,592.46L167.17,596.76Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function y9e(n,e){let t=Ne(e,"width",3,"100px");var r=m9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var b9e=wn('<svg height="auto" viewBox="0 0 661 600" xmlns="http://www.w3.org/2000/svg"><path d="M554.42,594.72L536.88,600.00L535.39,574.71L543.70,555.74L543.06,546.79L529.77,547.51L524.93,541.35L509.05,546.32L505.17,538.85L494.04,536.93L478.45,540.61L474.27,561.74L466.15,576.69L443.47,580.53L403.28,575.48L390.82,588.66L373.93,585.76L360.64,578.47L363.96,559.71L346.85,545.85L341.88,536.71L321.68,542.19L313.42,552.71L296.53,552.63L284.86,557.69L276.17,553.61L275.91,544.62L264.60,540.09L260.33,531.04L246.61,523.87L231.00,510.53L225.45,499.68L222.24,458.05L230.72,450.87L222.16,446.01L222.45,438.10L209.82,424.24L206.12,401.61L184.06,383.04L178.07,348.64L170.11,338.04L154.69,328.57L153.75,323.12L124.10,312.83L112.95,313.42L99.73,323.97L88.47,320.24L81.61,347.72L105.12,380.25L98.17,391.37L99.29,407.09L86.36,420.31L76.88,420.06L64.60,401.97L49.14,401.91L39.71,394.97L33.31,380.78L10.18,376.31L8.49,370.00L15.58,366.65L29.36,339.25L26.17,329.71L33.45,318.17L20.87,313.74L6.68,303.00L18.79,291.37L1.35,286.71L0.00,276.16L21.05,271.42L14.92,261.10L22.41,251.21L14.44,224.46L6.34,219.85L18.88,208.80L21.51,198.43L32.80,197.06L35.68,165.39L40.12,153.20L53.83,147.98L62.60,130.47L80.44,116.85L100.42,115.59L111.30,109.32L115.78,115.02L154.77,119.99L185.56,116.72L179.97,104.65L190.45,93.73L192.49,84.60L183.34,72.07L189.66,48.27L203.19,49.30L215.65,57.54L221.88,51.05L238.78,70.49L267.34,70.31L320.45,76.96L314.94,63.51L335.03,46.28L339.96,47.02L344.47,32.24L358.70,11.10L363.01,14.86L387.48,4.22L394.00,11.05L399.73,0.00L440.43,15.81L451.42,33.35L456.29,33.53L460.13,49.19L475.38,66.19L482.58,95.47L476.66,110.96L480.40,142.64L474.08,142.59L465.76,159.62L461.29,179.73L443.08,178.60L444.66,172.54L426.22,169.58L421.48,177.28L432.99,192.64L425.19,200.81L406.47,202.30L403.76,217.23L380.98,215.52L375.20,205.82L354.46,208.97L352.19,222.05L356.62,250.19L363.17,272.08L381.76,273.69L401.58,281.16L414.78,270.87L449.59,260.17L462.45,263.00L488.58,284.26L533.61,279.35L559.48,267.19L566.43,271.12L561.02,280.44L551.95,281.84L552.67,294.40L544.61,312.95L529.40,321.61L523.63,333.44L526.52,340.44L512.24,356.61L532.52,357.58L536.43,363.11L548.35,352.99L555.82,358.82L564.34,354.24L571.64,358.48L556.65,365.73L548.48,378.41L540.19,379.98L545.50,387.85L557.39,382.99L577.79,393.84L583.61,379.59L587.13,391.50L611.48,391.78L611.04,377.85L620.78,397.09L603.64,406.10L581.31,401.79L574.78,418.99L563.98,431.28L562.27,446.78L578.76,451.52L585.35,464.86L596.01,469.08L603.80,461.81L607.90,472.99L618.32,460.59L618.13,477.03L640.21,468.14L659.97,472.01L661.00,478.02L645.63,472.63L640.70,481.15L634.74,474.48L621.70,481.85L621.76,493.90L611.68,482.49L605.21,483.12L609.88,504.22L620.59,504.13L608.97,520.86L594.18,534.52L605.43,544.48L609.84,531.17L622.63,538.82L603.35,555.76L589.11,556.45L589.40,563.39L579.93,568.87L553.85,565.26L548.39,577.48L554.42,594.72Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function v9e(n,e){let t=Ne(e,"width",3,"100px");var r=b9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var w9e=wn('<svg height="auto" viewBox="0 0 405 600" xmlns="http://www.w3.org/2000/svg"><path d="M157.44,558.82L161.00,543.18L171.11,536.65L167.54,520.54L172.72,511.53L166.46,502.02L166.98,493.97L158.57,487.48L145.97,492.70L129.20,479.12L120.79,489.95L117.72,481.90L110.89,476.32L112.07,464.29L106.53,457.64L107.13,443.23L94.64,442.12L98.53,431.39L77.83,428.07L75.79,423.13L61.99,420.11L59.41,405.52L63.83,401.91L66.83,386.59L61.57,374.01L47.41,364.67L38.84,365.30L33.09,361.70L31.30,352.26L27.74,349.89L25.49,334.95L11.84,322.25L0.16,318.00L0.00,310.22L7.34,300.41L10.93,297.19L17.26,299.44L40.41,302.84L46.66,297.92L52.93,300.94L60.16,292.16L70.01,287.25L78.83,294.17L92.77,292.30L93.38,285.73L99.51,281.27L102.77,273.08L114.79,272.26L122.20,278.52L135.45,279.14L139.52,276.30L136.94,271.21L136.61,259.53L125.79,249.80L126.57,245.14L118.22,242.18L116.41,236.37L120.69,232.89L118.29,224.60L129.09,227.08L140.48,207.23L134.32,199.01L127.17,195.19L125.39,175.63L116.98,175.32L109.67,163.58L104.44,142.04L105.21,131.96L110.82,129.36L108.24,118.91L114.26,116.29L116.91,104.32L119.94,102.14L138.15,105.44L143.33,95.50L141.76,79.95L154.10,64.39L162.21,67.73L161.40,62.46L167.31,47.33L176.20,43.65L182.76,37.67L186.82,27.78L189.78,8.96L200.41,2.43L214.91,2.21L222.33,5.19L222.50,11.09L228.20,13.76L235.85,10.44L246.93,10.50L252.35,3.59L265.60,0.00L268.86,6.00L280.08,15.09L277.90,27.40L286.61,32.17L297.69,34.08L305.87,25.43L332.23,28.74L347.10,26.23L352.42,16.42L355.17,2.56L365.39,0.14L372.69,1.40L375.24,6.30L385.65,3.04L388.83,7.08L397.54,6.61L397.97,12.48L392.51,24.93L393.49,41.52L405.00,38.05L398.46,42.07L393.45,50.35L396.66,57.20L391.97,59.91L386.43,53.52L382.42,61.39L369.47,66.81L362.21,95.47L357.37,100.39L345.97,102.48L336.72,120.89L337.58,134.20L352.62,139.20L348.30,145.51L338.75,150.56L336.26,144.95L329.37,144.53L325.82,155.36L329.40,163.05L337.72,171.30L323.29,175.43L319.15,186.08L320.92,189.73L316.05,197.08L318.46,202.17L312.72,203.14L304.80,218.62L298.81,238.54L300.00,243.47L294.36,257.71L289.05,277.50L286.47,293.21L282.97,300.15L274.57,327.47L264.54,363.85L263.55,376.88L258.52,393.68L258.73,416.22L269.81,428.03L261.46,449.19L263.14,454.50L257.46,470.46L263.49,485.07L255.58,496.43L247.66,499.88L240.18,510.68L238.86,520.02L233.29,521.68L235.71,527.21L233.07,533.12L236.08,549.77L226.98,555.17L229.98,572.02L221.17,578.37L216.89,584.73L217.61,592.21L222.57,595.74L217.45,600.00L210.84,595.36L208.36,587.91L199.28,591.61L189.23,591.78L183.19,581.71L185.81,573.79L180.70,574.39L171.59,562.22L157.44,558.82Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function L9e(n,e){let t=Ne(e,"width",3,"100px");var r=w9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var x9e=wn('<svg height="auto" viewBox="0 0 462 600" xmlns="http://www.w3.org/2000/svg"><path d="M97.09,9.21L108.43,21.00L115.24,33.72L137.14,37.39L146.65,32.67L147.17,24.17L174.32,25.05L175.00,20.13L192.92,15.09L198.52,5.50L197.00,0.06L205.13,0.00L210.04,14.73L222.75,17.90L224.10,25.71L243.27,40.47L254.33,43.50L245.11,55.83L245.32,65.60L259.98,70.94L277.12,86.90L279.95,105.67L284.42,108.65L286.66,120.52L293.89,125.04L304.65,124.24L322.43,135.99L329.03,151.79L325.26,171.05L319.72,175.59L322.95,193.92L340.28,197.71L342.84,203.92L368.83,208.09L363.95,221.58L379.64,222.96L378.89,241.07L385.84,249.44L384.35,264.55L392.93,271.56L396.79,281.67L407.35,268.07L428.41,285.13L444.23,278.57L454.80,286.72L454.15,296.85L462.00,308.80L455.50,320.11L459.97,340.36L447.28,348.56L442.82,368.22L420.18,361.46L414.62,371.27L410.79,368.72L394.50,382.23L386.73,393.34L380.62,408.47L379.71,420.58L395.83,427.77L420.24,435.42L419.51,443.06L405.04,454.88L409.21,464.13L419.27,463.03L426.17,457.27L429.36,462.10L410.56,476.33L401.55,487.42L380.71,487.11L376.21,492.51L374.49,506.95L367.16,510.87L371.19,516.86L363.63,517.04L364.05,526.05L345.38,538.92L338.33,539.98L320.84,551.98L307.19,557.39L292.44,557.32L269.26,574.37L250.45,579.79L248.32,586.89L235.38,600.00L230.00,598.02L234.19,571.06L223.43,566.69L250.56,544.10L256.74,543.49L262.86,535.47L272.45,511.03L267.36,502.35L275.85,481.14L281.75,476.69L284.97,454.84L282.59,448.12L288.27,434.32L277.46,414.60L269.10,389.73L256.38,373.73L243.14,368.75L239.80,355.01L242.77,352.28L243.13,335.23L246.75,332.22L242.91,321.03L233.78,326.86L228.53,322.12L217.41,326.42L210.72,322.86L196.57,304.28L211.03,288.49L234.88,283.88L242.02,285.89L251.69,303.00L247.92,319.96L265.35,319.89L272.56,317.08L281.36,305.78L281.17,298.72L287.24,282.50L296.73,268.28L291.90,256.40L283.44,246.24L256.79,242.77L250.66,234.82L237.15,230.11L226.32,233.36L206.53,249.59L204.43,258.12L207.55,267.96L201.36,282.60L189.80,290.85L184.53,300.34L186.99,313.46L182.63,325.75L175.52,329.29L171.42,345.77L166.52,344.63L162.86,360.56L171.20,364.52L163.03,371.05L168.65,395.63L174.07,404.71L182.24,407.44L176.99,412.35L185.16,439.26L210.03,462.89L228.80,467.51L221.99,478.80L225.45,490.42L213.24,495.85L220.20,500.02L211.65,510.94L200.86,510.30L195.01,522.34L180.65,512.07L169.96,519.81L160.89,513.85L163.92,502.04L157.91,489.98L146.17,478.43L133.84,474.56L128.80,477.82L106.17,474.62L94.05,476.05L77.40,472.17L74.20,467.52L63.95,466.91L61.45,476.72L43.78,471.36L34.79,476.68L32.80,472.39L40.11,459.79L27.88,459.62L27.12,453.26L38.95,447.85L33.88,440.08L23.85,442.72L16.09,438.54L25.82,435.73L31.78,426.70L23.42,416.84L17.05,417.11L5.58,404.91L0.00,393.29L10.26,379.78L15.01,389.80L21.83,394.63L38.51,398.90L57.76,386.68L65.87,376.75L74.72,358.57L81.75,338.36L84.75,322.52L85.62,298.88L83.55,284.71L77.57,267.95L71.28,266.95L55.02,237.20L41.05,228.35L33.48,219.64L22.77,224.10L20.46,206.98L13.54,200.77L23.70,174.99L30.37,176.31L24.46,166.26L30.84,161.53L36.81,148.02L34.48,119.15L25.68,99.75L19.97,98.83L18.77,87.14L23.88,86.91L30.71,64.58L24.17,52.69L15.25,54.98L17.31,40.84L30.98,31.77L49.60,29.66L63.48,38.82L75.12,39.55L92.69,26.75L98.24,17.52L97.09,9.21Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function R9e(n,e){let t=Ne(e,"width",3,"100px");var r=x9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var B9e=wn('<svg height="auto" viewBox="0 0 463 600" xmlns="http://www.w3.org/2000/svg"><path d="M63.47,582.82L39.14,591.89L29.42,600.00L13.18,593.32L20.00,565.26L7.37,547.76L21.43,542.38L11.18,534.34L0.00,508.22L10.45,493.54L30.00,487.88L21.31,468.82L32.08,474.78L52.67,450.72L80.38,435.63L82.41,424.58L70.75,408.52L73.64,402.94L51.21,344.02L58.97,326.92L66.67,340.26L90.19,322.45L97.45,330.44L140.02,296.13L136.04,284.73L155.15,274.45L163.46,279.17L188.64,269.28L200.97,253.54L219.38,251.19L232.50,224.97L229.77,214.83L189.44,200.32L172.86,202.07L162.28,166.46L169.16,152.93L159.19,143.63L163.35,124.62L178.29,132.57L209.73,125.56L223.59,136.46L246.65,140.49L233.55,171.54L245.56,182.46L260.58,186.86L297.52,173.15L308.65,160.38L327.41,160.87L313.82,152.44L323.21,129.37L340.08,125.43L351.38,112.19L346.17,97.75L365.65,95.26L393.89,64.42L412.99,26.93L407.42,12.31L416.53,0.00L438.31,25.49L449.21,23.98L448.03,33.55L458.00,46.90L463.00,94.84L440.73,119.30L430.43,150.55L421.15,156.07L403.54,183.00L365.97,189.17L350.60,183.92L341.23,190.03L345.17,208.29L326.47,204.80L341.35,230.50L337.13,240.98L317.80,243.80L304.68,254.90L286.26,243.39L266.38,243.71L278.44,266.50L250.76,270.96L237.85,278.88L245.08,292.85L237.58,300.70L206.03,307.00L204.28,325.80L166.45,314.08L144.62,318.88L136.31,336.76L127.23,340.31L162.22,373.50L158.51,387.31L167.37,400.10L184.44,412.68L191.18,435.08L175.86,428.38L155.15,405.05L141.07,420.36L128.89,421.94L116.29,436.56L120.15,448.79L107.57,458.99L100.87,487.35L79.91,504.00L88.69,507.17L95.07,527.39L107.77,516.76L123.32,513.16L129.50,530.03L104.65,555.26L92.80,555.29L74.18,567.55L63.47,582.82Z" fill="black" stroke="black" stroke-width="1"></path></svg>');function E9e(n,e){let t=Ne(e,"width",3,"100px");var r=B9e();Ye(()=>pt(r,"width",t())),Z(n,r)}function pB(n,e){Mt(e,!0);const t={"01":jwe,"02":Gwe,"03":Kwe,"04":Wwe,"05":Xwe,"06":Zwe,"07":t7e,"08":r7e,"09":s7e,10:o7e,11:c7e,12:u7e,13:h7e,14:g7e,15:_7e,16:y7e,17:v7e,18:L7e,19:R7e,20:E7e,21:I7e,22:M7e,23:F7e,24:N7e,25:P7e,26:O7e,27:H7e,28:j7e,29:G7e,30:K7e,31:W7e,32:X7e,33:Z7e,34:t9e,35:r9e,36:s9e,37:o9e,38:c9e,39:u9e,40:h9e,41:g9e,42:_9e,43:y9e,44:v9e,45:L9e,46:R9e,47:E9e};let r=Ne(e,"width",3,"100px"),i=Wr(t[e.code]||null);var s={components:t},a=xt(),o=Je(a);return H$(o,()=>i,(l,c)=>{c(l,{get width(){return r()}})}),Z(n,a),St(s)}var C9e=wn('<svg height="auto" viewBox="0 0 32.255001 38.595009" xmlns="http://www.w3.org/2000/svg"><path d="m 3.077,29.662007 c 0,-1 -0.499,-5.656 7.668,-8.823 8.166,-3.167 16.583,-7.333 16.583,-15.41701 0,-0.855 0,-4.32999 0,-4.45499 0,-0.25 0.066,-0.328 0.421,-0.328 0,0 3.797,0 4.506,0 V 0 c 0,0 -10.256,0 -10.51,0 -14.5,0 -18.792,11.984007 -18.792,19.214007 0,3.833 -0.024,10.448 -0.024,10.448" id="path63"></path><path d="m 3.006,29.089007 c 0,2.125 3.005,3.5 3.005,6.5 0,-3 -3.005,-4.375 -3.005,-6.5 z" id="path64"></path><path d="m 3.006,29.089007 c 0,2.125 3.005,3.5 3.005,6.5 0,-3 -3.005,-4.375 -3.005,-6.5 z" id="path65"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path66"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path67"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path68"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path69"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path70"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path71"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path72"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path73"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path74"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path75"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path76"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path77"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path78"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path79"></path><path d="m 6.011,35.589007 c 0,-3 -3.005,-4.375 -3.005,-6.5 0,2.125 3.005,3.5 3.005,6.5 z" id="path80"></path><path d="m 6.011,35.589007 c 0,0.166 -0.014,0.329 -0.039,0.488 -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.66,-0.002 3.006,-1.346 3.006,-3.006 z" id="path81"></path><path d="m 6.011,35.589007 c 0,0.166 -0.014,0.329 -0.039,0.488 -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.66,-0.002 3.006,-1.346 3.006,-3.006 z" id="path82"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path83"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path84"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path85"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path86"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path87"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path88"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path89"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path90"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path91"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path92"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path93"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path94"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path95"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path96"></path><path d="m 5.972,36.077007 c -0.026,0.158 -0.064,0.313 -0.114,0.462 -0.05,0.149 -0.11,0.293 -0.183,0.431 -0.071,0.139 -0.153,0.27 -0.244,0.395 -0.091,0.124 -0.191,0.241 -0.301,0.35 -0.102,0.094 -0.241,0.215 -0.35,0.301 -0.124,0.091 -0.256,0.173 -0.394,0.244 -0.138,0.071 -0.282,0.133 -0.432,0.182 -0.149,0.05 -0.304,0.089 -0.462,0.114 -0.159,0.026 -0.321,0.039 -0.487,0.039 1.659,0 3.005,-1.345 3.005,-3.005 0.001,0.165 -0.013,0.328 -0.038,0.487 z" id="path97"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0,0 1.312,0 2.953,0 1.659,0 3.028,0 3.058,0 0,1.66 -1.346,3.004 -3.005,3.004 z" id="path98"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0,0 1.312,0 2.953,0 1.659,0 3.028,0 3.058,0 0,1.66 -1.346,3.004 -3.005,3.004 z" id="path99"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0,0 1.312,0 2.953,0 1.659,0 3.028,0 3.058,0 0,1.66 -1.346,3.004 -3.005,3.004 z" id="path100"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0,0 0.375,0 0.976,0 0.625,0.136 0.923,0.073 1.268,0 0.227,0 0.465,0 0.71,0 1.659,0 3.028,0 3.058,0 -10e-4,1.66 -1.347,3.004 -3.006,3.004 z" id="path101"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0,0 0.25,0 0.667,0 0.845,0.375 1.677,0.065 1.835,0 0.147,0 0.298,0 0.451,0 1.659,0 3.028,0 3.058,0 0,1.66 -1.346,3.004 -3.005,3.004 z" id="path102"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0,0 0.179,0 0.487,0 0.361,0.268 1.044,0.484 2.238,0 0.075,0 0.151,0 0.228,0 1.659,0 3.028,0 3.058,0 0,1.66 -1.346,3.004 -3.005,3.004 z" id="path103"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0,0 0.128,0 0.353,0 0.641,0.727 2.008,0.313 2.57,0 0.01,0 0.02,0 0.03,0 1.659,0 3.028,0 3.058,0 0,1.66 -1.346,3.004 -3.005,3.004 z" id="path104"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0,0 0.089,0 0.248,0 0.286,0.364 0.48,0.443 1,0.525 0.106,0 0.218,0 0.334,0 0.479,-0.068 0.795,-0.113 1.536,-0.525 1.584,0 2.864,0 2.893,0 0,1.66 -1.346,3.004 -3.005,3.004 z" id="path105"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0,0 0.06,0 0.168,0 0.531,0.973 2.048,0.757 3.149,0 1.491,0 2.666,0 2.693,0 0.001,1.66 -1.345,3.004 -3.004,3.004 z" id="path106"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0,0 0.036,0 0.104,0 0.468,1.034 1.935,1.034 3.411,0 1.396,0 2.469,0 2.495,0 0.001,1.66 -1.345,3.004 -3.004,3.004 z" id="path107"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0,0 0.02,0 0.057,0 0.407,1.322 2.335,1.081 3.661,0 1.296,0 2.268,0 2.293,0 0,1.66 -1.346,3.004 -3.005,3.004 z" id="path108"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0.007,0 0.017,0 0.023,0 0.304,1.388 2.232,1.388 3.895,0 1.194,0 2.069,0 2.093,0 0,1.66 -1.346,3.004 -3.005,3.004 z" id="path109"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.025,-0.157 -0.039,-0.32 -0.039,-0.486 0.001,0 0.003,0 0.004,0 0.185,1.559 2.457,1.559 4.121,0 1.087,0 1.863,0 1.886,0 0,1.66 -1.346,3.004 -3.005,3.004 z" id="path110"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.088,-0.304 -0.113,-0.462 -0.022,-0.136 -0.035,-0.273 -0.039,-0.414 0.144,1.688 2.611,1.646 4.329,-0.074 0.979,0 1.66,0 1.681,0 0.001,1.662 -1.345,3.006 -3.004,3.006 z" id="path111"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241001,-0.192 -0.350001,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.049,-0.149 -0.0880002,-0.304 -0.1130002,-0.462 -0.01,-0.059 -0.018,-0.118 -0.023,-0.178 0.2750002,1.667 2.9050012,1.486 4.5390012,-0.311 0.856,0 1.436,0 1.455,0 0.001,1.663 -1.345,3.007 -3.004,3.007 z" id="path112"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.241,-0.192 -0.35,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.039,-0.118 -0.0710002,-0.239 -0.0960002,-0.362 0.4380002,1.655 3.1370002,1.32 4.7360002,-0.588 0.724,0 1.199,0 1.217,0 0.002,1.662 -1.344,3.006 -3.003,3.006 z" id="path113"></path><path d="m 3.006,38.593007 c -0.166,0 -0.329,-0.013 -0.487,-0.039 -0.159,-0.025 -0.313,-0.064 -0.463,-0.114 -0.131,-0.049 -0.304,-0.122 -0.431,-0.182 -0.138,-0.071 -0.27,-0.153 -0.395,-0.244 -0.124,-0.092 -0.240996,-0.192 -0.349996,-0.301 -0.109,-0.109 -0.209,-0.226 -0.301,-0.35 -0.091,-0.125 -0.173,-0.256 -0.244,-0.395 -0.071,-0.138 -0.133,-0.281 -0.183,-0.431 -0.001,-0.005 -0.004,-0.012 -0.006,-0.018 0.584,1.478 3.279996,1.239 4.929996,-0.933 0.563,0 0.918,0 0.934,0 0.001,1.663 -1.345,3.007 -3.004,3.007 z" id="path114"></path><path d="m 0,35.589007 c 0,-3 3.006,-4.375 3.006,-6.5 0,2.125 3.005,3.5 3.005,6.5 -0.029,0 -1.398,0 -3.058,0 -1.641,0 -2.953,0 -2.953,0 z" id="path115"></path><path d="m 0,35.589007 c 0,-3 3.006,-4.375 3.006,-6.5 0,2.125 3.005,3.5 3.005,6.5 -0.029,0 -1.398,0 -3.058,0 -1.641,0 -2.953,0 -2.953,0 z" id="path116"></path><path d="m 6.011,35.589007 c -0.029,0 -1.398,0 -3.058,0 -1.642,0 -2.953,0 -2.953,0 0,-3 3.006,-4.375 3.006,-6.5 -0.005,0.933 -0.506,1.633 -1.322,2.697 -0.635,0.828 -1.593,2.078 -1.212,3.068 0.278,0.725 1.688,1.097 2.477,0.222 0.177,-0.196 0.646,-0.717 0.656,-1.773 0.014,-1.435 -0.601,-2.78 -0.599,-4.214 0,2.125 3.005,3.5 3.005,6.5 z" id="path117"></path><path d="m 0,35.589007 c 0,-3 3.006,-4.375 3.006,-6.5 -0.009,0.936 -0.511,1.635 -1.329,2.697 -2.098,2.728 -1.34,3.553 -0.701,3.803 -0.601,0 -0.976,0 -0.976,0 z" id="path118"></path><path d="m 6.011,35.589007 c -0.029,0 -1.398,0 -3.058,0 -0.245,0 -0.483,0 -0.71,0 0.023,-0.004 0.056,-0.01 0.08,-0.014 0.995,-0.472 1.278,-1.274 1.34,-1.865 0.168,-1.596 -0.659,-3.049 -0.657,-4.621 0,2.125 3.005,3.5 3.005,6.5 z" id="path119"></path><path d="m 0,35.589007 c 0,-3 3.006,-4.375 3.006,-6.5 -0.019,0.902 -0.42,1.515 -1.331,2.697 -0.543,0.706 -2.198,2.854 -1.008,3.803 -0.417,0 -0.667,0 -0.667,0 z" id="path120"></path><path d="m 6.011,35.589007 c -0.029,0 -1.398,0 -3.058,0 -0.153,0 -0.304,0 -0.451,0 0.07,-0.032 0.164,-0.074 0.234,-0.106 0.479,-0.479 1.021,-1.021 1.069,-2.18 0.028,-0.681 -0.127,-1.154 -0.324,-1.754 -0.395,-1.2 -0.477,-1.449 -0.476,-2.46 10e-4,2.125 3.006,3.5 3.006,6.5 z" id="path121"></path><path d="m 2.995,29.311007 c -0.06,0.604 -0.336,1.061 -0.558,1.428 0.336,-0.526 0.568,-1.06 0.568,-1.65 -10e-4,0.067 -0.003,0.156 -0.01,0.222 z" id="path122"></path><path d="m 0,35.589007 c 0,-1.044 0.364,-1.892 0.84,-2.643 H 0.839 c -0.304,0.511 -1.017,1.705 -0.352,2.643 -0.308,0 -0.487,0 -0.487,0 z" id="path123"></path><path d="m 6.011,35.589007 c -0.029,0 -1.398,0 -3.058,0 -0.076,0 -0.152,0 -0.228,0 0.37,-0.321 1.141,-0.989 1.196,-2.286 0.027,-0.633 -0.201,-1.255 -0.384,-1.754 -0.441,-1.201 -0.533,-1.452 -0.532,-2.46 10e-4,2.125 3.006,3.5 3.006,6.5 z" id="path124"></path><path d="m 3.004,29.169007 c -0.021,0.533 -0.199,0.893 -0.355,1.21 0.218,-0.411 0.357,-0.833 0.357,-1.29 -10e-4,0.024 -10e-4,0.056 -0.002,0.08 z" id="path125"></path><path d="m 0,35.589007 c 0,-0.826 0.229,-1.53 0.56,-2.159 -0.313,0.646 -0.588,1.345 -0.207,2.159 -0.225,0 -0.353,0 -0.353,0 z" id="path126"></path><path d="m 6.011,35.589007 c -0.029,0 -1.398,0 -3.058,0 0.058,-0.059 0.134,-0.137 0.191,-0.195 1.356,-1.602 0.854,-2.846 0.449,-3.845 -0.475,-1.174 -0.587,-1.452 -0.588,-2.46 10e-4,2.125 3.006,3.5 3.006,6.5 z" id="path127"></path><path d="m 2.993,29.327007 c -0.039,0.364 -0.15,0.629 -0.217,0.787 0.144,-0.328 0.229,-0.666 0.229,-1.025 -0.002,0.071 -0.004,0.167 -0.012,0.238 z" id="path128"></path><path d="m 0,35.589007 c 0,-0.664 0.147,-1.248 0.377,-1.778 -0.135,0.349 -0.413,1.075 -0.129,1.778 -0.159,0 -0.248,0 -0.248,0 z" id="path129"></path><path d="m 6.011,35.589007 c -0.028,0 -1.309,0 -2.893,0 0.015,-0.014 0.035,-0.031 0.05,-0.045 1.154,-1.42 1.253,-2.241 0.48,-3.995 -0.491,-1.114 -0.64,-1.45 -0.643,-2.46 10e-4,2.125 3.006,3.5 3.006,6.5 z" id="path130"></path><path d="m 3.004,29.174007 c -0.01,0.22 -0.037,0.41 -0.146,0.732 0.094,-0.263 0.147,-0.533 0.147,-0.817 0,0.025 0,0.059 -10e-4,0.085 z" id="path131"></path><path d="m 0,35.589007 c 0,-0.525 0.093,-1.002 0.245,-1.44 -0.114,0.386 -0.244,0.823 -0.077,1.44 -0.108,0 -0.168,0 -0.168,0 z" id="path132"></path><path d="m 6.011,35.589007 c -0.027,0 -1.202,0 -2.693,0 0.06,-0.074 0.139,-0.173 0.197,-0.247 1.249,-1.575 0.661,-2.805 0.188,-3.793 -0.517,-1.082 -0.691,-1.447 -0.697,-2.46 0,2.125 3.005,3.5 3.005,6.5 z" id="path133"></path><path d="m 2.989,29.364007 c -0.018,0.142 -0.059,0.307 -0.071,0.354 0.057,-0.203 0.088,-0.412 0.088,-0.629 -0.003,0.083 -0.007,0.193 -0.017,0.275 z" id="path134"></path><path d="m 0,35.589007 c 0,-0.409 0.057,-0.788 0.152,-1.143 -0.047,0.192 -0.157,0.642 -0.048,1.143 -0.068,0 -0.104,0 -0.104,0 z" id="path135"></path><path d="m 6.011,35.589007 c -0.026,0 -1.1,0 -2.495,0 0.021,-0.026 0.049,-0.063 0.069,-0.089 1.226,-1.752 0.864,-2.626 -10e-4,-4.283 -0.491,-0.94 -0.578,-1.436 -0.578,-2.128 0,2.125 3.005,3.5 3.005,6.5 z" id="path136"></path><path d="m 3.003,29.197007 c -0.009,0.155 -0.02,0.217 -0.042,0.339 0.029,-0.146 0.045,-0.295 0.045,-0.447 -10e-4,0.032 -10e-4,0.076 -0.003,0.108 z" id="path137"></path><path d="m 0,35.589007 c 0,-0.298 0.03,-0.579 0.083,-0.848 -0.048,0.333 -0.072,0.5 -0.026,0.848 -0.037,0 -0.057,0 -0.057,0 z" id="path138"></path><path d="m 6.011,35.589007 c -0.025,0 -0.997,0 -2.293,0 1.023,-1.522 1.042,-2.315 0.093,-4.04 -0.552,-1.003 -0.804,-1.461 -0.805,-2.46 0,2.125 3.005,3.5 3.005,6.5 z" id="path139"></path><path d="m 2.989,29.356007 c 0.011,-0.088 0.017,-0.177 0.017,-0.268 -0.004,0.081 -0.008,0.188 -0.017,0.268 z" id="path140"></path><path d="m 0,35.589007 c 0,-0.188 0.012,-0.369 0.034,-0.544 -0.023,0.199 -0.021,0.265 -0.011,0.544 -0.015,0 -0.023,0 -0.023,0 z" id="path141"></path><path d="m 6.011,35.589007 c -0.023,0 -0.898,0 -2.093,0 0.02,-0.029 0.046,-0.068 0.065,-0.099 1.071,-1.774 0.678,-2.592 -0.314,-4.272 -0.559,-0.945 -0.662,-1.459 -0.663,-2.129 0,2.125 3.005,3.5 3.005,6.5 z" id="path142"></path><path d="m 3.004,29.166007 c 10e-4,-0.025 0.002,-0.052 0.002,-0.077 z" id="path143"></path><path d="m 0,35.589007 c 0,-0.076 0.002,-0.151 0.006,-0.226 l -0.002,0.226 c -0.002,0 -0.004,0 -0.004,0 z" id="path144"></path><path d="m 6.011,35.589007 c -0.022,0 -0.799,0 -1.886,0 0.049,-0.085 0.113,-0.197 0.161,-0.282 0.928,-1.689 0.362,-2.592 -0.575,-4.087 -0.65,-1.038 -0.704,-1.579 -0.705,-2.131 0,2.125 3.005,3.5 3.005,6.5 z" id="path145"></path><path d="m 6.011,35.589007 c -0.021,0 -0.702,0 -1.681,0 0.947,-1.692 0.599,-2.57 -0.362,-4.04 -0.599,-0.916 -0.96,-1.47 -0.962,-2.46 0,2.125 3.005,3.5 3.005,6.5 z" id="path146"></path><path d="m 6.011,35.589007 c -0.02,0 -0.599,0 -1.455,0 0.042,-0.088 0.098,-0.205 0.141,-0.293 0.754,-1.68 0.166,-2.53 -0.9,-4.075 -0.715,-1.035 -0.78,-1.558 -0.79,-2.132 -0.001,2.125 3.004,3.5 3.004,6.5 z" id="path147"></path><path d="m 6.011,35.589007 c -0.018,0 -0.493,0 -1.217,0 0.038,-0.091 0.088,-0.211 0.126,-0.302 0.63,-1.695 0.094,-2.438 -1.082,-4.064 -0.759,-1.05 -0.826,-1.608 -0.832,-2.134 0,2.125 3.005,3.5 3.005,6.5 z" id="path148"></path><path d="m 6.011,35.589007 c -0.016,0 -0.371,0 -0.934,0 0.596,-1.622 0.316,-2.356 -0.953,-4.039 -0.764,-1.013 -1.101,-1.552 -1.118,-2.461 0,2.125 3.005,3.5 3.005,6.5 z" id="path149"></path><path d="m 3.429,32.185007 c 0.48,3.124 -1.346,3.711 -2.499999,2.989 -1.227,-0.766 0.186999,-2.626 0.944999,-3.626 0.754,-0.992 1.115,-1.606 1.131,-2.414 0,0.252 -0.002,0.721 0.067,1.221 0.085,0.617 0.263,1.216 0.357,1.83 z" id="path150"></path><path d="m 3.345,32.185007 c 0.236,1.927 0.046,2.148 -0.586,2.883 -0.642,0.747 -1.624,0.057 -1.814004,-0.089 -1.0379996,-0.795 0.107004,-2.318 0.943004,-3.431 0.744,-0.99 1.102,-1.602 1.117,-2.396 -10e-4,0.25 -10e-4,0.25 0.34,3.033 z" id="path151"></path><path d="m 3.267,32.185007 c 0.143,1.309 0.201,1.851 -0.16,2.408 -0.345,0.531 -0.924,1.048 -1.724,0.496 -1.060999,-0.731 -1.126999,-1.315 0.521,-3.541 0.706,-0.953 1.07,-1.575 1.1,-2.328 0.002,0.574 0.002,0.574 0.263,2.965 z" id="path152"></path><path d="m 3.322,33.710007 c -0.027,0.37 -0.673,2.641 -2.321,0.884 -0.725001,-0.772 0.114,-1.928 0.926,-3.045 0.709,-0.977 1.052,-1.573 1.077,-2.321 -0.004,0.98 0.205,3.177 0.26,3.63 0.033,0.279 0.075,0.629 0.058,0.852 z" id="path153"></path><path d="m 3.27,33.710007 c -0.077,1.052 -1.04,2.008 -1.852,1.098 -0.739003,-0.83 -0.989003,-1.109 0.535,-3.259 0.7,-0.987 1.018,-1.551 1.05,-2.284 0,0.327 0,0.327 0.008,0.547 0.032,0.885 0.076,1.967 0.076,1.976 0.027,0.642 0.229,1.27 0.183,1.922 z" id="path154"></path><path d="m 3.152,34.037007 c -0.199,1.343 -1.475,1.247 -1.811,0.557 -0.529998,-1.088 -0.598998,-1.228 0.647,-3.045 0.872,-1.273 0.982,-1.681 1.013,-2.247 0.003,0.732 0.033,1.464 0.021,2.196 -0.013,0.849 0.257,1.683 0.13,2.539 z" id="path155"></path><path d="m 3.147,33.788007 c -0.284,1.897 -1.527,1.208 -1.725,0.806 -0.04,-0.082 -0.051,-0.208 -0.071,-0.297 -0.002,-0.012 -0.005,-0.026 -0.007,-0.038 -0.073,-0.318 -0.289,-0.604 -0.219,-0.956 0.108,-0.538 0.479,-1.102 0.906,-1.754 0.801,-1.218 0.932,-1.584 0.969,-2.21 0.018,1.642 0.018,1.642 -0.025,2.102 -0.016,0.17 -0.045,0.616 0.031,1.104 0.167,1.072 0.167,1.072 0.141,1.243 z" id="path156"></path><path d="m 3.079,34.139007 c -0.272,0.995 -1.21,1.138 -1.572,0.454 -0.066,-0.124 -0.106,-0.314 -0.117,-0.454 -0.004,-0.04 0.008,-0.094 0.008,-0.134 -10e-4,-0.072 -0.046,-0.162 -0.065,-0.231 -10e-4,-0.003 -0.095,-0.393 0.042,-0.859 0.264,-0.904 0.917,-1.596 1.328,-2.42 0.137,-0.273 0.253,-0.546 0.297,-1.12 0.006,0.261 0.013,0.521 0.017,0.782 0.012,0.66 -0.133,1.312 -0.125,1.972 0.005,0.675 0.379,1.316 0.187,2.01 z" id="path157"></path><path d="m 3.048,34.139007 c -0.232,0.803 -1.039,1.18 -1.456,0.454 -0.269,-0.468 -0.106,-1.33 -0.024,-1.679 0.105,-0.446 0.202,-0.62 0.831,-1.752 0.299,-0.538 0.535,-0.963 0.599,-1.751 0.006,0.098 0.016,0.739 0.016,0.745 0.008,0.663 -0.227,1.3 -0.216,1.964 0.011,0.682 0.456,1.31 0.25,2.019 z" id="path158"></path><path d="m 3.017,34.139007 c -0.228,0.747 -0.986,1.114 -1.365,0.454 -0.312,-0.543 -0.099,-1.218 0.434,-2.351 0.008,-0.018 0.813,-1.74 0.91,-2.786 0.01,0.223 0.015,0.696 0.015,0.7 0.004,0.671 -0.305,1.292 -0.316,1.961 -0.003,0.141 0.091,0.424 0.092,0.426 0.056,0.095 0.401,1.037 0.23,1.596 z" id="path159"></path><path d="m 2.985,34.139007 c -0.176,0.558 -0.645,0.737 -0.648,0.738 -0.109,0.039 -0.279,0.013 -0.385,-0.034 -0.098,-0.043 -0.198,-0.158 -0.251,-0.25 -0.003,-0.004 -0.237,-0.442 -0.105,-0.884 0.284,-0.949 0.802,-1.454 0.806,-1.455 0.061,-0.024 0.167,-0.01 0.216,0.034 0.058,0.054 0.038,0.181 0.065,0.255 0.021,0.061 0.073,0.131 0.108,0.186 0.071,0.111 0.187,0.569 0.187,0.573 0.091,0.459 0.043,0.721 0.007,0.837 z" id="path160"></path><path d="m 2.998,30.495007 c -0.042,0.516 -0.204,0.776 -0.206,0.777 -0.03,0.03 -0.101,0.071 -0.135,0.046 -0.01,-0.007 -0.005,-0.215 0.043,-0.477 0.059,-0.318 0.163,-0.625 0.231,-0.941 0.03,-0.142 0.026,-0.289 0.064,-0.43 0.016,0.876 0.016,0.876 0.003,1.025 z" id="path161"></path><path d="m 2.954,34.139007 c -0.139,0.436 -0.527,0.666 -0.616,0.699 -0.108,0.041 -0.276,0.001 -0.383,-0.043 -0.079,-0.033 -0.161,-0.128 -0.204,-0.202 l -0.135,-0.454 c 0.012,-0.361 0.012,-0.361 0.173,-0.764 0.027,-0.068 0.182,-0.428 0.53,-0.803 l 0.258,-0.044 c 0.008,0.005 0.606,0.889 0.377,1.611 z" id="path162"></path><path d="m 2.922,34.139007 c -0.116,0.367 -0.473,0.615 -0.582,0.66 -0.107,0.043 -0.273,-0.011 -0.382,-0.052 -0.062,-0.023 -0.123,-0.098 -0.156,-0.154 -0.111,-0.186 -0.158,-0.689 -0.082,-0.884 0.13,-0.334 0.208,-0.536 0.412,-0.795 0.044,-0.055 0.088,-0.145 0.147,-0.182 0.074,-0.047 0.198,-0.119 0.279,-0.087 0.048,0.02 0.304,0.502 0.341,0.656 0.037,0.154 0.125,0.516 0.023,0.838 z" id="path163"></path><path d="m 2.991,30.495007 c -0.042,0.436 -0.168,0.595 -0.169,0.596 -0.028,0.012 -0.079,-0.01 -0.097,-0.036 -0.037,-0.057 -0.002,-0.158 0.01,-0.225 0.014,-0.077 0.031,-0.18 0.046,-0.256 0.044,-0.227 0.109,-0.448 0.154,-0.675 0.027,-0.136 0.032,-0.275 0.062,-0.411 -0.002,0.336 0.025,0.672 -0.006,1.007 z" id="path164"></path><path d="m 2.891,34.139007 c -0.091,0.284 -0.459,0.599 -0.55,0.621 -0.111,0.027 -0.27,-0.023 -0.379,-0.061 -0.043,-0.015 -0.076,-0.074 -0.109,-0.106 -0.102,-0.101 -0.105,-0.316 -0.144,-0.454 -0.01,-0.037 0.044,-0.514 0.228,-0.837 l 0.305,-0.407 c 0.074,-0.066 0.206,-0.167 0.301,-0.138 0.052,0.017 0.063,0.11 0.091,0.157 0.033,0.057 0.093,0.122 0.135,0.172 0.046,0.054 0.075,0.147 0.093,0.216 0.057,0.232 0.129,0.52 0.029,0.837 z" id="path165"></path><path d="m 2.983,30.495007 c -0.016,0.155 -0.016,0.155 -0.143,0.482 -0.079,-0.087 -0.079,-0.087 -0.072,-0.147 0.011,-0.101 0.023,-0.235 0.041,-0.335 l 0.187,-0.981 c -0.005,0.911 -0.005,0.911 -0.013,0.981 z" id="path166"></path><path d="m 2.859,34.139007 c -0.079,0.247 -0.469,0.571 -0.517,0.582 -0.112,0.026 -0.295,0.012 -0.377,-0.068 -0.084,-0.081 -0.159,-0.254 -0.225,-0.514 -10e-4,-0.003 -0.006,-0.414 0.245,-0.837 0.06,-0.099 0.143,-0.234 0.232,-0.307 l 0.306,-0.126 c 0.002,10e-4 0.285,0.389 0.297,0.433 0.078,0.292 0.14,0.524 0.039,0.837 z" id="path167"></path><path d="m 2.977,30.495007 c -0.01,0.085 -0.01,0.085 -0.118,0.369 -0.02,-0.03 -0.059,-0.045 -0.066,-0.084 -0.01,-0.054 0.01,-0.128 0.015,-0.183 0.02,-0.182 0.187,-1.051 0.188,-1.059 -0.006,0.832 -0.006,0.832 -0.019,0.957 z" id="path168"></path><path d="m 2.828,34.139007 c -0.056,0.175 -0.45,0.537 -0.483,0.544 -0.112,0.024 -0.292,0.002 -0.375,-0.077 -0.039,-0.036 -0.195,-0.464 -0.196,-0.467 -0.001,-0.003 -0.042,-0.339 0.264,-0.837 0.042,-0.068 0.097,-0.166 0.161,-0.214 0.083,-0.061 0.216,-0.162 0.314,-0.134 0.002,0 0.275,0.361 0.28,0.38 0.083,0.312 0.133,0.5 0.035,0.805 z" id="path169"></path><path d="m 2.969,30.495007 c -0.006,0.055 -0.05,0.166 -0.1,0.295 -0.062,-0.085 -0.062,-0.085 -0.043,-0.271 0.005,-0.046 0.167,-0.948 0.168,-0.955 -0.005,0.756 -0.005,0.756 -0.025,0.931 z" id="path170"></path><path d="m 2.797,34.139007 c -0.033,0.104 -0.409,0.497 -0.45,0.506 -0.043,0.009 -0.342,-0.071 -0.372,-0.1 -0.096,-0.092 -0.153,-0.275 -0.169,-0.406 -0.016,-0.13 0.025,-0.307 0.068,-0.43 10e-4,-0.003 0.172,-0.383 0.305,-0.527 0.073,-0.08 0.219,-0.188 0.324,-0.162 0.006,10e-4 0.504,0.465 0.294,1.119 z" id="path171"></path><path d="m 2.972,30.418007 c -0.006,0.051 -0.02,0.121 -0.095,0.318 -0.052,-0.107 -0.052,-0.107 -0.038,-0.241 0.005,-0.053 0.152,-0.899 0.154,-0.906 -0.004,0.699 -0.004,0.699 -0.021,0.829 z" id="path172"></path><path d="m 2.766,34.139007 c -0.011,0.035 -0.414,0.467 -0.417,0.467 -0.02,0.005 -0.35,-0.108 -0.368,-0.126 -0.003,-0.002 -0.255,-0.275 -0.072,-0.771 10e-4,-0.003 0.226,-0.405 0.251,-0.432 0.079,-0.085 0.222,-0.216 0.335,-0.191 0.005,0.002 0.474,0.425 0.271,1.053 z" id="path173"></path><path d="m 2.977,30.329007 c -0.021,0.164 -0.043,0.223 -0.092,0.352 -0.05,-0.146 -0.063,-0.187 0.106,-1.066 -0.002,0.607 -0.002,0.607 -0.014,0.714 z" id="path174"></path><path d="m 2.771,33.818007 c -0.013,0.097 0.004,0.236 -0.044,0.321 -0.084,0.147 -0.212,0.383 -0.377,0.422 -0.114,0.027 -0.28,-0.063 -0.364,-0.146 -0.218,-0.216 -0.046,-0.701 -0.044,-0.706 0.044,-0.11 0.116,-0.258 0.199,-0.344 0.027,-0.028 0.33,-0.216 0.344,-0.213 0.041,0.008 0.169,0.238 0.292,0.523 0.017,0.041 0,0.101 -0.006,0.143 z" id="path175"></path><path d="m 2.98,30.239007 c -0.022,0.19 -0.031,0.216 -0.088,0.386 -0.038,-0.146 -0.055,-0.206 0.098,-0.985 0,0.279 -0.001,0.52 -0.01,0.599 z" id="path176"></path><path d="m 2.688,34.139007 c -0.063,0.136 -0.187,0.341 -0.334,0.373 -0.115,0.025 -0.27,-0.085 -0.36,-0.16 -0.053,-0.045 -0.074,-0.146 -0.089,-0.213 -0.001,-0.004 10e-4,-0.444 0.221,-0.687 0.034,-0.039 0.333,-0.236 0.352,-0.232 0.022,0.005 0.253,0.426 0.268,0.489 0.027,0.128 -0.005,0.312 -0.058,0.43 z" id="path177"></path><path d="m 2.925,30.495007 c -0.006,0.022 -0.018,0.053 -0.024,0.074 -0.032,-0.132 -0.05,-0.204 0.089,-0.905 -0.001,0.5 -0.001,0.59 -0.065,0.831 z" id="path178"></path><path d="m 2.647,34.139007 c -0.054,0.119 -0.162,0.299 -0.291,0.324 -0.116,0.023 -0.262,-0.102 -0.356,-0.175 -0.038,-0.03 -0.05,-0.103 -0.063,-0.149 -0.001,-0.003 0.011,-0.422 0.172,-0.6 0.009,-0.01 0.354,-0.253 0.358,-0.252 0.004,10e-4 0.23,0.411 0.232,0.422 0.028,0.128 0.002,0.312 -0.052,0.43 z" id="path179"></path><path d="m 2.914,30.495007 c -0.002,0.006 -0.005,0.014 -0.007,0.02 -0.026,-0.107 -0.047,-0.191 0.08,-0.825 10e-4,0.431 0.002,0.533 -0.073,0.805 z" id="path180"></path><path d="m 2.607,34.139007 c -0.045,0.102 -0.138,0.257 -0.248,0.276 -0.118,0.021 -0.254,-0.12 -0.353,-0.19 -0.022,-0.016 -0.027,-0.06 -0.036,-0.086 -10e-4,-0.003 0.033,-0.409 0.123,-0.511 0.091,-0.104 0.231,-0.306 0.365,-0.276 0.12,0.026 0.175,0.237 0.197,0.357 0.025,0.129 0.005,0.312 -0.048,0.43 z" id="path181"></path><path d="m 2.914,30.463007 c -0.021,-0.185 -0.029,-0.253 0.072,-0.748 0,0.43 0,0.438 -0.072,0.748 z" id="path182"></path><path d="m 2.568,34.139007 c -0.037,0.084 -0.114,0.213 -0.206,0.229 -0.002,0 -0.33,-0.162 -0.357,-0.229 -0.051,-0.121 0.011,-0.318 0.081,-0.43 0.075,-0.118 0.228,-0.321 0.365,-0.293 0.099,0.02 0.146,0.194 0.161,0.293 0.021,0.129 0.008,0.311 -0.044,0.43 z" id="path183"></path><path d="m 2.92,30.413007 c -0.016,-0.195 -0.021,-0.262 0.064,-0.674 0,0.397 -0.008,0.435 -0.064,0.674 z" id="path184"></path><path d="m 2.528,34.139007 c -0.028,0.066 -0.09,0.17 -0.162,0.181 -0.104,0.016 -0.259,-0.084 -0.3,-0.181 -0.052,-0.121 0.026,-0.315 0.092,-0.43 0.055,-0.095 0.179,-0.25 0.286,-0.229 0.076,0.016 0.114,0.151 0.124,0.229 0.017,0.13 0.012,0.311 -0.04,0.43 z" id="path185"></path><path d="m 2.927,30.363007 c -0.004,-0.062 -0.014,-0.145 -0.008,-0.206 0,-0.002 0.055,-0.354 0.063,-0.393 0,0.356 -0.015,0.422 -0.055,0.599 z" id="path186"></path><path d="m 2.489,34.139007 c -0.021,0.049 -0.066,0.125 -0.12,0.133 -0.077,0.012 -0.191,-0.062 -0.223,-0.133 -0.053,-0.12 0.028,-0.312 0.086,-0.43 0.034,-0.07 0.127,-0.179 0.204,-0.164 0.165,0.034 0.056,0.588 0.053,0.594 z" id="path187"></path><path d="m 2.933,30.314007 c -0.003,-0.048 -0.011,-0.11 -0.006,-0.157 0,-0.003 0.05,-0.349 0.055,-0.368 -0.002,0.272 -0.014,0.342 -0.049,0.525 z" id="path188"></path><path d="m 2.373,34.225007 c -0.051,0.008 -0.125,-0.04 -0.146,-0.086 -0.055,-0.119 0.032,-0.308 0.079,-0.43 0.017,-0.044 0.076,-0.107 0.122,-0.099 0.069,0.015 0.065,0.053 0.022,0.528 -0.003,0.036 -0.043,0.082 -0.077,0.087 z" id="path189"></path><path d="m 2.938,30.264007 c -0.001,-0.032 -0.007,-0.075 -0.004,-0.107 0.009,-0.101 0.034,-0.232 0.045,-0.332 -0.021,0.332 -0.021,0.332 -0.041,0.439 z" id="path190"></path><path d="m 2.376,34.178007 c -0.022,0.004 -0.057,-0.019 -0.066,-0.039 -0.056,-0.118 0.041,-0.303 0.072,-0.43 0.004,-0.015 0.025,-0.035 0.04,-0.032 0.016,0.003 0.031,0.007 -0.01,0.462 -0.002,0.016 -0.02,0.037 -0.036,0.039 z" id="path191"></path><path d="m 2.943,30.215007 c -0.003,-0.071 0.013,-0.165 0.022,-0.234 -0.004,0.069 -0.009,0.164 -0.022,0.234 z" id="path192"></path><path d="m 2.948,30.164007 c 0,-0.009 0.002,-0.021 0.003,-0.03 0,0.009 -10e-4,0.021 -0.003,0.03 z" id="path193"></path></svg>');function _B(n,e){let t=Ne(e,"width",3,"100px");var r=C9e();Ye(()=>pt(r,"width",t())),Z(n,r)}var I9e=we('<button class="c-btn-sub grid place-items-center p-1"><!></button>'),T9e=we('<button class="c-btn-confirm grid place-items-center p-1"><!></button>'),M9e=we('<div class="absolute right-2 top-2 z-10 shrink-0"><!></div> <!>',1),S9e=we('<img class="c-no-drag-icon absolute h-full w-full object-cover transition-transform duration-150" loading="lazy"/>'),F9e=we('<img class="c-basemap-img absolute h-full w-full object-cover transition-transform duration-150" alt="" loading="lazy"/>'),U9e=we('<!> <img class="c-no-drag-icon absolute h-full w-full object-cover transition-transform duration-150" loading="lazy"/>',1),N9e=we('<div class="text-accent"></div>'),k9e=we('<div class="pointer-events-none absolute h-full w-full"><div class="c-gradient absolute h-full w-full svelte-1kpburu"></div></div>'),P9e=we('<div class="pointer-events-none absolute grid h-full w-full place-items-center"><div class="flex items-center justify-center gap-1 rounded-full bg-black/80 p-2 px-4 text-lg text-white"><!><span></span></div></div>'),D9e=we('<span class="bg-sub rounded-full p-1 px-2 text-xs"> </span>'),O9e=we('<div class="absolute bottom-2 flex items-center gap-1 pl-2 text-gray-300"></div>'),z9e=we('<div class="pointer-events-none absolute grid h-full w-full place-items-center"><div class=" flex w-full items-center justify-center gap-1 bg-black/60 p-2 px-4 text-lg text-white"><!><span></span></div></div>'),H9e=we('<div class="bounded-full absolute aspect-square rounded-full bg-black/50 p-2 text-base max-lg:left-1 max-lg:top-1 lg:left-2 lg:top-2"><!></div>'),Q9e=we('<div class="grid place-items-center [&amp;_path]:fill-white"><!></div>'),j9e=we('<div class="[&amp;_path]:fill-base grid aspect-square place-items-center"><!></div>'),Y9e=we('<div class="grid place-items-center"><!></div>'),G9e=we('<div class="grid place-items-center"><!></div>'),V9e=we('<div class="aspect-3/4 relative flex shrink-0 grow flex-col items-center overflow-hidden rounded-lg bg-black transition-all duration-150 lg:hover:z-10 lg:hover:scale-105 lg:hover:shadow-lg" tabindex="0" role="button"><!> <button class="flex h-full w-full cursor-pointer flex-col"><div class="group relative flex aspect-square w-full shrink-0 overflow-hidden"><!> <div class="pointer-events-none absolute h-full w-full"><div class="c-vignette absolute h-full w-full svelte-1kpburu"></div></div> <!> <!> <!> <!> <!></div> <div class="relative flex h-full w-full flex-col items-end justify-end gap-1 pb-4 max-lg:p-1 lg:p-2"><div class="flex h-full w-full flex-col justify-center text-left text-white lg:gap-1 lg:pl-2"><span class="max-lg:text-md max-lg:leading-5 lg:text-lg lg:leading-6"> </span> <span class="text-left text-xs text-gray-400"> </span> <div class="absolute bottom-0 right-0 grid h-full place-items-center opacity-20 max-lg:pr-1 lg:pr-2"><!> <!> <!> <!></div></div></div></button></div>');function K9e(n,e){Mt(e,!0);const t=()=>qt(ba,"$activeLayerIdsStore",r),[r,i]=Rr();let s=Ne(e,"showDataEntry",15),a=Ne(e,"itemHeight",15),o=Oe(!1),l=Oe(!1),c=Ot(()=>R0(e.dataEntry));const A=O=>{O.cleanup&&O.cleanup()};let u=Ot(()=>t().includes(e.dataEntry.id)),h=Oe(null);const f=O=>{a(O+20)};ni(()=>{window==null||window.addEventListener("resize",()=>{if(E(h)){const O=E(h).clientHeight;f(O)}})}),on(()=>{if(E(h)){const O=E(h).clientHeight;f(O)}});let d=Oe(void 0);on(()=>{try{ee(d,lf(e.dataEntry),!0)}catch(O){ee(l,!0),console.error("Error generating icon image:",O),ee(d,Promise.resolve(void 0),!0)}});const g=O=>{ba.add(O),ci(`${e.dataEntry.metaData.name}`,"success")},_=O=>{ba.remove(O)};let m=Ot(()=>gB(e.dataEntry.metaData.location));vi.subscribe(O=>{if(O&&E(h)){const ne=E(h).clientHeight;f(ne)}});const y=()=>e.isTopEdge&&e.isLeftEdge?"top left":e.isTopEdge&&e.isRightEdge?"top right":e.isTopEdge?"top":e.isLeftEdge?"left":e.isRightEdge?"right":"center",b=()=>{Na()&&(E(u)||s(e.dataEntry))};var v=V9e();v.__mouseover=()=>Di()?ee(o,!0):null,v.__click=b,v.__keydown=O=>{(O.key==="Enter"||O.key===" ")&&b()};var B=q(v);{var C=O=>{var ne=M9e(),te=Je(ne),J=q(te);{var ce=Le=>{var He=I9e();He.__click=Fe=>{Fe.stopPropagation(),_(e.dataEntry.id)};var be=q(He);Bt(be,{icon:"ic:round-minus",class:" h-6 w-6"}),$(He),Z(Le,He)},Me=Le=>{var He=T9e();He.__click=Fe=>{Fe.stopPropagation(),g(e.dataEntry.id)};var be=q(He);Bt(be,{icon:"material-symbols:add",class:" h-6 w-6"}),$(He),Z(Le,He)};Te(J,Le=>{E(u)?Le(ce):Le(Me,!1)})}$(te);var Se=oe(te,2);Te(Se,Le=>{}),Yt(3,te,()=>cr,()=>({duration:200})),Z(O,ne)};Te(B,O=>{E(o)&&O(C)})}var I=oe(B,2);I.__click=()=>{E(u)||s(e.dataEntry)};var R=q(I),w=q(R);ef(w,()=>E(d),null,(O,ne)=>{var te=xt(),J=Je(te);{var ce=Me=>{var Se=xt(),Le=Je(Se);{var He=Fe=>{var Qe=S9e();Ye(()=>{pt(Qe,"src",e.dataEntry.metaData.coverImage),pt(Qe,"alt",e.dataEntry.metaData.name)}),Bn("error",Qe,()=>{console.error("Image loading failed:",e.dataEntry.metaData.name),ee(l,!0)}),Eh(Qe),Z(Fe,Qe)},be=Fe=>{var Qe=U9e(),Ge=Je(Qe);{var nt=De=>{var At=F9e();Ye(kt=>pt(At,"src",kt),[()=>R6(e.dataEntry.metaData.xyzImageTile)]),Bn("error",At,()=>{console.error("Image loading failed: BaseMap Image"),ee(l,!0)}),Eh(At),Z(De,At)};Te(Ge,De=>{e.dataEntry.metaData.xyzImageTile&&!e.dataEntry.metaData.coverImage&&!E(l)&&e.dataEntry.type==="vector"&&De(nt)})}var ke=oe(Ge,2);Ye(()=>{pt(ke,"src",E(ne).url),pt(ke,"alt",e.dataEntry.metaData.name)}),Bn("load",ke,()=>A(E(ne))),Bn("error",ke,()=>{console.error("Image loading failed:",e.dataEntry.metaData.name),ee(l,!0)}),Eh(ke),Z(Fe,Qe)};Te(Le,Fe=>{e.dataEntry.metaData.coverImage&&!E(l)?Fe(He):Fe(be,!1)})}Z(Me,Se)};Te(J,Me=>{E(ne)&&Me(ce)})}Z(O,te)},O=>{var ne=N9e();Z(O,ne)});var U=oe(w,4);{var M=O=>{var ne=k9e();Yt(3,ne,()=>cr,()=>({duration:150})),Z(O,ne)};Te(U,O=>{E(o)||O(M)})}var F=oe(U,2);{var P=O=>{var ne=P9e(),te=q(ne),J=q(te);Bt(J,{icon:"akar-icons:eye",class:"h-7 w-7"}),jn(),$(te),$(ne),Yt(3,ne,()=>cr,()=>({duration:150})),Z(O,ne)};Te(F,O=>{E(o)&&!E(u)&&O(P)})}var S=oe(F,2);{var W=O=>{var ne=O9e();Fn(ne,21,()=>e.dataEntry.metaData.tags,wi,(te,J)=>{var ce=D9e(),Me=q(ce,!0);$(ce),Ye(()=>yt(Me,E(J))),Z(te,ce)}),$(ne),Yt(3,ne,()=>cr,()=>({duration:150})),Z(O,ne)};Te(S,O=>{E(o)&&O(W)})}var re=oe(S,2);{var G=O=>{var ne=z9e(),te=q(ne),J=q(te);Bt(J,{icon:"lets-icons:check-fill",class:"h-7 w-7"}),jn(),$(te),$(ne),Yt(3,ne,()=>cr,()=>({duration:150})),Z(O,ne)};Te(re,O=>{E(u)&&O(G)})}var ie=oe(re,2);{var X=O=>{var ne=H9e(),te=q(ne);{let J=Ot(()=>Jy(E(c)));Bt(te,{get icon(){return E(J)},class:"max-lg:h-5 max-lg:w-5 lg:h-6 lg:w-6"})}$(ne),Z(O,ne)};Te(ie,O=>{E(c)&&O(X)})}$(R);var ge=oe(R,2),K=q(ge),N=q(K),H=q(N,!0);$(N);var V=oe(N,2),j=q(V,!0);$(V);var le=oe(V,2),de=q(le);{var he=O=>{var ne=Q9e(),te=q(ne);_B(te,{width:"60px"}),$(ne),Z(O,ne)};Te(de,O=>{e.dataEntry.metaData.location===""&&O(he)})}var ue=oe(de,2);{var me=O=>{var ne=j9e(),te=q(ne);pB(te,{width:"80px",get code(){return E(m)}}),$(ne),Z(O,ne)};Te(ue,O=>{E(m)&&O(me)})}var _e=oe(ue,2);{var xe=O=>{var ne=Y9e(),te=q(ne);Bt(te,{icon:"emojione-monotone:map-of-japan",class:"h-20 w-20 text-base"}),$(ne),Z(O,ne)};Te(_e,O=>{e.dataEntry.metaData.location===""&&O(xe)})}var Re=oe(_e,2);{var D=O=>{var ne=G9e(),te=q(ne);Bt(te,{icon:"fxemoji:worldmap",class:"[&_path]:fill-base h-20 w-20"}),$(ne),Z(O,ne)};Te(Re,O=>{e.dataEntry.metaData.location===""&&O(D)})}$(le),$(K),$(ge),$(I),$(v),qn(v,O=>ee(h,O),()=>E(h)),Ye((O,ne)=>{Xr(v,`transform-origin: ${O??""}`),yt(H,e.dataEntry.metaData.name),yt(j,ne)},[y,()=>sB(e.dataEntry.metaData.attribution)]),Bn("mouseleave",v,()=>Di()?ee(o,!1):null),Bn("focus",v,()=>Di()?ee(o,!0):null),Bn("blur",v,()=>Di()?ee(o,!1):null),Z(n,v),St(),i()}Ln(["mouseover","click","keydown"]);var $9e=we('<div class="flex h-full grow flex-col gap-4 p-4 text-white"><div role="region"><span class="text-2xl"></span> <span class="text-sm">.geojson .fgb .gpx .shp .dbf .shx .prj</span> <label class="bg-base grid cursor-pointer place-items-center rounded-full p-4 text-black"><span></span> <input type="file" accept=".geojson,.fgb,.gpx,.shp,.dbf,.shx,.prj" class="hidden"/></label></div> <div class="flex grow items-center justify-center gap-4"><button class="grid aspect-video w-full max-w-[300px] cursor-pointer place-items-center rounded-lg bg-black p-4"></button> <button class="grid aspect-video w-full max-w-[300px] cursor-pointer place-items-center rounded-lg bg-black p-4"></button></div></div>');function W9e(n,e){Mt(e,!0);let t=Ne(e,"dropFile",15),r=Ne(e,"showDialogType",15);const i=m=>{var b;const y=(b=m.target.files)==null?void 0:b[0];y&&t(y)},s=m=>{r(m)};let a=Oe(!1);const o=m=>{m.preventDefault(),ee(a,!0)},l=m=>{m.preventDefault(),ee(a,!1)},c=async m=>{m.preventDefault(),ee(a,!1);const y=m.dataTransfer;if(!y)return;const b=y.files;!b||b.length===0||t(b)};var A=$9e(),u=q(A),h=oe(q(u),4),f=oe(q(h),2);f.__change=m=>i(m),$(h),$(u);var d=oe(u,2),g=q(d);g.__click=()=>s("raster");var _=oe(g,2);_.__click=()=>s("vector"),$(d),$(A),Ye(()=>Xt(u,1,`flex h-full w-full grow flex-col items-center justify-center gap-4 rounded-lg border-2 decoration-amber-200 transition-all ${E(a)?"border-white bg-black":"border-dashed bg-black/70"}`)),Bn("drop",u,c),Bn("dragover",u,o),Bn("dragleave",u,l),Z(n,A),St()}Ln(["change","click"]);var q9e=we('<label class="hover:text-accent flex grow cursor-pointer items-center justify-between gap-2 py-2 pr-4 text-base transition-colors duration-100"><div class="flex items-center gap-1"><!> <span class="select-none"> </span></div> <input type="checkbox" class="hidden"/> <div><div></div></div></label>');function $0(n,e){Mt(e,!0);let t=Ne(e,"value",15);var r=q9e(),i=q(r),s=q(i);{var a=h=>{Bt(h,{icon:"akar-icons:eye",class:"h-6 w-6"})};Te(s,h=>{e.icon&&h(a)})}var o=oe(s,2),l=q(o,!0);$(o),$(i);var c=oe(i,2);ts(c);var A=oe(c,2),u=q(A);$(A),$(r),Ye(()=>{yt(l,e.label),Xt(A,1,`relative flex h-[30px] w-[60px] items-center rounded-full ${t()?"bg-main-accent":"bg-sub"}`),Xt(u,1,`ml-[5px] h-[22px] w-[22px] rounded-full bg-white transition-transform duration-200 ${t()?"translate-x-[28px]":""}`)}),jy(c,t),Z(n,r),St()}function X9e(n){return n}function QY(n){const e=n-1;return e*e*e+1}var J9e=we('<button class="absolute top-[5px] right-2 grid cursor-pointer place-items-center svelte-fsa5qm"><!></button>'),Z9e=we('<div class="border-sub relative flex w-full rounded-full border bg-black px-4 lg:max-w-[400px] svelte-fsa5qm"><input class="c-search-form tex grid w-full text-left text-base svelte-fsa5qm" type="text" placeholder=""/> <!></div>'),eLe=we('<div class="flex w-full grow items-center justify-between gap-4 p-2 max-lg:hidden svelte-fsa5qm"><div class="svelte-fsa5qm"><!></div></div>'),tLe=we('<div slot="item" class="svelte-fsa5qm"><div class="h-16 w-full lg:hidden svelte-fsa5qm"></div> <div class="grid max-lg:gap-[5px] lg:gap-3 svelte-fsa5qm"></div></div>'),nLe=we('<div class="c-list h-full svelte-fsa5qm"><!></div>'),rLe=we('<div class="flex h-full w-full justify-center max-lg:items-start max-lg:pt-4 lg:items-center svelte-fsa5qm"><div class="flex flex-col items-center gap-4 svelte-fsa5qm"><!> <span class="text-2xl text-gray-500 svelte-fsa5qm"></span></div></div>'),iLe=we("<!> <!>",1),sLe=we('<div class="bg-main absolute bottom-0 flex h-full w-full flex-col overflow-hidden p-2 lg:pl-[100px] lg:transition-all lg:duration-30 svelte-fsa5qm" style="padding-top: env(safe-area-inset-top);"><div class="flex grow items-center justify-between gap-4 p-2 max-lg:absolute max-lg:top-2 max-lg:left-0 max-lg:z-10 max-lg:w-full max-lg:px-2 lg:mt-3 svelte-fsa5qm" style="padding-top: env(safe-area-inset-top);"><div class="flex items-center gap-2 text-base max-lg:hidden svelte-fsa5qm"><!> <span class="text-lg select-none svelte-fsa5qm"></span></div> <!> <div class="w-[300px] shrink-0 max-lg:hidden svelte-fsa5qm"><!></div></div> <!> <!> <!></div>');function aLe(n,e){Mt(e,!0);const t=()=>qt(ba,"$activeLayerIdsStore",s),r=()=>qt(vi,"$showDataMenu",s),i=()=>qt(k1,"$isMobile",s),[s,a]=Rr();let o=Ne(e,"showDataEntry",15),l=Ne(e,"dropFile",15),c=Ne(e,"showDialogType",15),A=Oe(Wr([])),u=Oe(""),h=Oe(!0);on(()=>{if(E(u)){const I=XD.search(u1(E(u)));ee(A,I.map(R=>R.item),!0)}else E(h)?ee(A,N0,!0):ee(A,N0.filter(I=>!t().includes(I.id)),!0)});let f=Oe(0),d=Oe(0),g=Oe(2),_=Oe(450),m=300;on(()=>{E(d)>m*2?(ee(g,Math.floor(E(d)/m),!0),E(g)<2&&ee(g,2)):ee(g,2)});let y=Oe(Wr([{key:"system",name:""},{key:"user",name:""}])),b=Oe("system");vi.subscribe(I=>{I||(ee(b,"system"),o(null),ee(u,""))});var v=xt(),B=Je(v);{var C=I=>{var R=sLe(),w=q(R),U=q(w),M=q(U);Bt(M,{icon:"material-symbols:data-saver-on-rounded",class:"h-10 w-10"}),jn(2),$(U);var F=oe(U,2);{var P=N=>{var H=Z9e(),V=q(H);ts(V);var j=oe(V,2);{var le=de=>{var he=J9e();he.__click=()=>ee(u,"");var ue=q(he);Bt(ue,{icon:"material-symbols:close-rounded",class:"h-8 w-8 text-gray-400"}),$(he),Ye(()=>he.disabled=!E(u)),Z(de,he)};Te(j,de=>{E(u)&&de(le)})}$(H),fp(V,()=>E(u),de=>ee(u,de)),Z(N,H)};Te(F,N=>{E(b)==="system"&&N(P)})}var S=oe(F,2),W=q(S);nu(W,{get group(){return E(b)},set group(N){ee(b,N,!0)},get options(){return E(y)},set options(N){ee(y,N,!0)}}),$(S),$(w);var re=oe(w,2);{var G=N=>{var H=eLe(),V=q(H),j=q(V);$0(j,{label:"",get value(){return E(h)},set value(le){ee(h,le,!0)}}),$(V),$(H),Z(N,H)};Te(re,N=>{E(b)==="system"&&N(G)})}var ie=oe(re,2);{var X=N=>{var H=iLe(),V=Je(H);{var j=he=>{var ue=nLe(),me=q(ue);{let _e=Ot(()=>E(A).length/E(g)+1);dJ(me,{width:"100%",height:"100%",get itemCount(){return E(_e)},get itemSize(){return E(_)},$$slots:{item:(xe,Re)=>{var D=tLe();const O=Ot(()=>Re.index),ne=Ot(()=>Re.style);var te=oe(q(D),2);Fn(te,21,()=>Array(E(g)),wi,(J,ce,Me)=>{var Se=xt(),Le=Je(Se);{var He=be=>{const Fe=Ot(()=>E(O)*E(g)+Me),Qe=Ot(()=>E(Fe)<E(g)),Ge=Ot(()=>E(Fe)%E(g)===0),nt=Ot(()=>E(Fe)%E(g)===E(g)-1);K9e(be,{get dataEntry(){return E(A)[E(Fe)]},get index(){return E(Fe)},get isLeftEdge(){return E(Ge)},get isRightEdge(){return E(nt)},get isTopEdge(){return E(Qe)},get showDataEntry(){return o()},set showDataEntry(ke){o(ke)},get itemHeight(){return E(_)},set itemHeight(ke){ee(_,ke,!0)}})};Te(Le,be=>{E(A)[E(O)*E(g)+Me]&&be(He)})}Z(J,Se)}),$(te),$(D),Ye(()=>{Xr(D,E(ne)),Xr(te,`--grid-columns: ${E(g)??""}; grid-template-columns: repeat(var(--grid-columns), minmax(${i()?100:256}px, 1fr));`)}),Z(xe,D)}}})}$(ue),cC(ue,"clientHeight",_e=>ee(f,_e)),cC(ue,"clientWidth",_e=>ee(d,_e)),Z(he,ue)};Te(V,he=>{E(A).length&&he(j)})}var le=oe(V,2);{var de=he=>{var ue=rLe(),me=q(ue),_e=q(me);Bt(_e,{icon:"streamline:sad-face",class:"h-16 w-16 text-gray-500 opacity-95"}),jn(2),$(me),$(ue),Z(he,ue)};Te(le,he=>{E(A).length===0&&he(de)})}Z(N,H)};Te(ie,N=>{E(b)==="system"&&N(X)})}var ge=oe(ie,2);{var K=N=>{W9e(N,{get showDataEntry(){return o()},set showDataEntry(H){o(H)},get dropFile(){return l()},set dropFile(H){l(H)},get showDialogType(){return c()},set showDialogType(H){c(H)}})};Te(ge,N=>{E(b)==="user"&&N(K)})}$(R),Yt(3,R,()=>Qy,()=>({duration:300,start:i()?1:.9})),Z(I,R)};Te(B,I=>{r()&&I(C)})}Z(n,v),St(),a()}Ln(["click"]);var oLe=we('<div class="absolute right-0 grid place-items-center"><!></div>'),lLe=we('<div class="flex flex-col items-start justify-center"><div class="flex items-center justify-center gap-1"><span class="text-base font-semibold"> </span></div> <div class="w-full pt-2 lg:pr-2"><button class="text-accent relative flex w-full cursor-pointer items-center justify-between rounded-md bg-black p-2 pl-4 text-left transition-colors duration-150"><span> </span> <!></button></div></div>');function jY(n,e){Mt(e,!0);let t=Oe(!1);const r=d=>{navigator.clipboard.writeText(d),ci(` ${d} `,"info")};var i=lLe(),s=q(i),a=q(s),o=q(a,!0);$(a),$(s);var l=oe(s,2),c=q(l);c.__click=()=>{Di()&&r(e.value)},c.__mouseover=()=>{Di()&&ee(t,!0)};var A=q(c),u=q(A,!0);$(A);var h=oe(A,2);{var f=d=>{var g=oLe(),_=q(g);Bt(_,{icon:"majesticons:clipboard-line",class:"mr-2 h-6 w-6 shrink-0 text-base"}),$(g),Yt(3,g,()=>cr,()=>({duration:100})),Z(d,g)};Te(h,d=>{E(t)&&d(f)})}$(c),$(l),$(i),Ye(()=>{yt(o,e.key),yt(u,e.value)}),Bn("mouseleave",c,()=>{Di()&&ee(t,!1)}),Bn("focus",c,()=>{Di()&&ee(t,!0)}),Bn("blur",c,()=>{Di()&&ee(t,!1)}),Z(n,i),St()}Ln(["click","mouseover"]);const wd={pole_1:{image:`${nn}/pole_1.webp`,description:"",url:null},pole_2:{image:`${nn}/pole_2.webp`,description:"",url:null},pole_3:{image:`${nn}/pole_3.webp`,description:"",url:null},pole_4:{image:`${nn}/pole_4.webp`,description:"",url:null},pole_5:{image:`${nn}/pole_5.webp`,description:"",url:null},pole_6:{image:`${nn}/pole_6.webp`,description:"",url:null},pole_a:{image:`${nn}/pole_a.webp`,description:"",url:null},fac_center:{image:`${nn}/fac_center.webp`,description:`
                        `,url:"https://www.forest.ac.jp/facilities/centerzone/"},fac_cottage:{image:`${nn}/fac_cottage.webp`,description:`1530
                        `,url:"https://www.forest.ac.jp/facilities/stay/"},fac_forest_labo:{image:`${nn}/fac_forest_labo.webp`,description:`
                `,url:"https://www.forest.ac.jp/facilities/centerzone/"},fac_kakoutou:{image:`${nn}/fac_kakoutou.webp`,description:"",url:null},fac_kensyutou:{image:`${nn}/fac_kensyutou.webp`,description:"",url:null},fac_koubou:{image:`${nn}/fac_koubou.webp`,description:"",url:"https://www.forest.ac.jp/facilities/testroom/"},fac_morinos:{image:`${nn}/fac_morinos.webp`,description:"",url:"https://morinos.net/"},fac_open_labo:{image:`${nn}/fac_open_labo.webp`,description:"",url:"https://www.forest.ac.jp/facilities/testroom/"},fac_ringyoukikaitou:{image:`${nn}/fac_ringyoukikaitou.webp`,description:"",url:"https://www.forest.ac.jp/facilities/fmeb/"},fac_seizaitou:{image:`${nn}/fac_seizaitou.webp`,description:"",url:"https://www.forest.ac.jp/facilities/testroom/"},fac_syako:{image:`${nn}/fac_syako.webp`,description:"",url:null},fac_wood_labo:{image:`${nn}/fac_wood_labo.webp`,description:"",url:"https://www.forest.ac.jp/facilities/centerzone/"},fac_tech_a:{image:`${nn}/fac_tech_a.webp`,description:"",url:"https://www.forest.ac.jp/facilities/technicalzone/"},fac_tech_b:{image:`${nn}/fac_tech_b.webp`,description:"",url:"https://www.forest.ac.jp/facilities/technicalzone/"},fac_information:{image:`${nn}/fac_information.webp`,description:"",url:"https://www.forest.ac.jp/facilities/forest/"},ziriki_01:{image:`${nn}/ziriki_01.webp`,description:"(120mm)",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_02:{image:`${nn}/ziriki_02.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_03:{image:`${nn}/ziriki_03.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_04:{image:`${nn}/ziriki_04.webp`,description:"10",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_05:{image:`${nn}/ziriki_05.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_06:{image:`${nn}/ziriki_06.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_07:{image:`${nn}/ziriki_07.webp`,description:" ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_08:{image:`${nn}/ziriki_08.webp`,description:"  RCS",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_09:{image:`${nn}/ziriki_09.webp`,description:"20 ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_10:{image:`${nn}/ziriki_10.webp`,description:"2002   ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_11:{image:`${nn}/ziriki_11.webp`,description:" ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_12:{image:`${nn}/ziriki_12.webp`,description:"   ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_13:{image:`${nn}/ziriki_13.webp`,description:"  ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_14:{image:`${nn}/ziriki_14.webp`,description:"10     ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_15:{image:`${nn}/ziriki_15.webp`,description:" hut()hat()  ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_16:{image:`${nn}/ziriki_16.webp`,description:"  ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_17:{image:`${nn}/ziriki_17.webp`,description:"   ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_18:{image:`${nn}/ziriki_18.webp`,description:"2006  ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_19:{image:`${nn}/ziriki_19.webp`,description:" Cobiki   ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_20:{image:`${nn}/ziriki_20.webp`,description:"2008",url:"https://www.forest.ac.jp/facilities/self/midori-archi/"},ziriki_21:{image:`${nn}/ziriki_21.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/jiriki-kodachi/"},ziriki_22:{image:`${nn}/ziriki_22.webp`,description:`2007
            
            
            `,url:"https://www.forest.ac.jp/facilities/self/jiriki-decchi/"},ziriki_23:{image:`${nn}/ziriki_23.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/jiriki-hotori/"},ziriki_24:{image:`${nn}/ziriki_24.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/shiori-jiriki2024/"},ziriki_25:{image:`${nn}/ziriki_25.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},gate_ensyurin:{image:`${nn}/gate_ensyurin.webp`,description:"",url:null},aozyutaki:{image:`${nn}/aozyutaki.webp`,description:"",url:null},azumaya_1:{image:`${nn}/azumaya_1.webp`,description:"",url:null},azumaya_kezikabora:{image:`${nn}/azumaya_kezikabora.webp`,description:"",url:null},gate_kokuyurin:{image:`${nn}/gate_kokuyurin.webp`,description:"",url:null},hebiotaki:{image:`${nn}/hebiotaki.webp`,description:"",url:null},heihuuiwa:{image:`${nn}/heihuuiwa.webp`,description:"",url:null},hirumesiiwa:{image:`${nn}/hirumesiiwa.webp`,description:"",url:null},kezikaboraike:{image:`${nn}/kezikaboraike.webp`,description:"",url:null},miharasiiwa:{image:`${nn}/miharasiiwa2.webp`,description:"",url:null},mokudou:{image:`${nn}/mokudou.webp`,description:"",url:null},morinoiriguti:{image:`${nn}/morinoiriguti.webp`,description:"",url:"https://morinos.net/what-is-morinos/"},nagamenoiwa:{image:`${nn}/nagamenoiwa2.webp`,description:"",url:null},oosugi:{image:`${nn}/oosugi.webp`,description:"100",url:null},sumiyakigoya:{image:`${nn}/sumiyakigoya.webp`,description:"2",url:"https://www.forest.ac.jp/academy-archives/%E5%8F%AA%E4%BB%8A%E3%80%81%E7%82%AD%E7%84%BC%E3%81%8D%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BE%E3%81%99%EF%BC%81%E3%80%80%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E7%A7%912%E5%B9%B4%E3%80%8C%E6%9C%A8/"},toilet:{image:`${nn}/toilet.webp`,description:"",url:null},umanoseiwa:{image:`${nn}/umanoseiwa.webp`,description:"",url:null},yamanokami:{image:`${nn}/yamanokami.webp`,description:"1004",url:"https://www.forest.ac.jp/academy-archives/jimu0423/"}};function cLe(n){return Object.prototype.toString.call(n)==="[object Object]"}function eU(n){return cLe(n)||Array.isArray(n)}function ALe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function mB(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;const i=JSON.stringify(Object.keys(n.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:t.every(a=>{const o=n[a],l=e[a];return typeof o=="function"?`${o}`==`${l}`:!eU(o)||!eU(l)?o===l:mB(o,l)})}function tU(n){return n.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function uLe(n,e){if(n.length!==e.length)return!1;const t=tU(n),r=tU(e);return t.every((i,s)=>{const a=r[s];return mB(i,a)})}function yB(n){return typeof n=="number"}function aL(n){return typeof n=="string"}function C6(n){return typeof n=="boolean"}function nU(n){return Object.prototype.toString.call(n)==="[object Object]"}function fi(n){return Math.abs(n)}function bB(n){return Math.sign(n)}function r3(n,e){return fi(n-e)}function fLe(n,e){if(n===0||e===0||fi(n)<=fi(e))return 0;const t=r3(fi(n),fi(e));return fi(t/n)}function hLe(n){return Math.round(n*100)/100}function X3(n){return J3(n).map(Number)}function zl(n){return n[Ip(n)]}function Ip(n){return Math.max(0,n.length-1)}function vB(n,e){return e===Ip(n)}function rU(n,e=0){return Array.from(Array(n),(t,r)=>e+r)}function J3(n){return Object.keys(n)}function YY(n,e){return[n,e].reduce((t,r)=>(J3(r).forEach(i=>{const s=t[i],a=r[i],o=nU(s)&&nU(a);t[i]=o?YY(s,a):a}),t),{})}function oL(n,e){return typeof e.MouseEvent<"u"&&n instanceof e.MouseEvent}function dLe(n,e){const t={start:r,center:i,end:s};function r(){return 0}function i(l){return s(l)/2}function s(l){return e-l}function a(l,c){return aL(n)?t[n](l):n(e,l,c)}return{measure:a}}function Z3(){let n=[];function e(i,s,a,o={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(s,a,o),l=()=>i.removeEventListener(s,a,o);else{const c=i;c.addListener(a),l=()=>c.removeListener(a)}return n.push(l),r}function t(){n=n.filter(i=>i())}const r={add:e,clear:t};return r}function gLe(n,e,t,r){const i=Z3(),s=1e3/60;let a=null,o=0,l=0;function c(){i.add(n,"visibilitychange",()=>{n.hidden&&d()})}function A(){f(),i.clear()}function u(_){if(!l)return;a||(a=_,t(),t());const m=_-a;for(a=_,o+=m;o>=s;)t(),o-=s;const y=o/s;r(y),l&&(l=e.requestAnimationFrame(u))}function h(){l||(l=e.requestAnimationFrame(u))}function f(){e.cancelAnimationFrame(l),a=null,o=0,l=0}function d(){a=null,o=0}return{init:c,destroy:A,start:h,stop:f,update:t,render:r}}function pLe(n,e){const t=e==="rtl",r=n==="y",i=r?"y":"x",s=r?"x":"y",a=!r&&t?-1:1,o=A(),l=u();function c(d){const{height:g,width:_}=d;return r?g:_}function A(){return r?"top":t?"right":"left"}function u(){return r?"bottom":t?"left":"right"}function h(d){return d*a}return{scroll:i,cross:s,startEdge:o,endEdge:l,measureSize:c,direction:h}}function $1(n=0,e=0){const t=fi(n-e);function r(c){return c<n}function i(c){return c>e}function s(c){return r(c)||i(c)}function a(c){return s(c)?r(c)?n:e:c}function o(c){return t?c-t*Math.ceil((c-e)/t):c}return{length:t,max:e,min:n,constrain:a,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:o}}function GY(n,e,t){const{constrain:r}=$1(0,n),i=n+1;let s=a(e);function a(h){return t?fi((i+h)%i):r(h)}function o(){return s}function l(h){return s=a(h),u}function c(h){return A().set(o()+h)}function A(){return GY(n,o(),t)}const u={get:o,set:l,add:c,clone:A};return u}function _Le(n,e,t,r,i,s,a,o,l,c,A,u,h,f,d,g,_,m,y){const{cross:b,direction:v}=n,B=["INPUT","SELECT","TEXTAREA"],C={passive:!1},I=Z3(),R=Z3(),w=$1(50,225).constrain(f.measure(20)),U={mouse:300,touch:400},M={mouse:500,touch:600},F=d?43:25;let P=!1,S=0,W=0,re=!1,G=!1,ie=!1,X=!1;function ge(xe){if(!y)return;function Re(O){(C6(y)||y(xe,O))&&le(O)}const D=e;I.add(D,"dragstart",O=>O.preventDefault(),C).add(D,"touchmove",()=>{},C).add(D,"touchend",()=>{}).add(D,"touchstart",Re).add(D,"mousedown",Re).add(D,"touchcancel",he).add(D,"contextmenu",he).add(D,"click",ue,!0)}function K(){I.clear(),R.clear()}function N(){const xe=X?t:e;R.add(xe,"touchmove",de,C).add(xe,"touchend",he).add(xe,"mousemove",de,C).add(xe,"mouseup",he)}function H(xe){const Re=xe.nodeName||"";return B.includes(Re)}function V(){return(d?M:U)[X?"mouse":"touch"]}function j(xe,Re){const D=u.add(bB(xe)*-1),O=A.byDistance(xe,!d).distance;return d||fi(xe)<w?O:_&&Re?O*.5:A.byIndex(D.get(),0).distance}function le(xe){const Re=oL(xe,r);X=Re,ie=d&&Re&&!xe.buttons&&P,P=r3(i.get(),a.get())>=2,!(Re&&xe.button!==0)&&(H(xe.target)||(re=!0,s.pointerDown(xe),c.useFriction(0).useDuration(0),i.set(a),N(),S=s.readPoint(xe),W=s.readPoint(xe,b),h.emit("pointerDown")))}function de(xe){if(!oL(xe,r)&&xe.touches.length>=2)return he(xe);const D=s.readPoint(xe),O=s.readPoint(xe,b),ne=r3(D,S),te=r3(O,W);if(!G&&!X&&(!xe.cancelable||(G=ne>te,!G)))return he(xe);const J=s.pointerMove(xe);ne>g&&(ie=!0),c.useFriction(.3).useDuration(.75),o.start(),i.add(v(J)),xe.preventDefault()}function he(xe){const D=A.byDistance(0,!1).index!==u.get(),O=s.pointerUp(xe)*V(),ne=j(v(O),D),te=fLe(O,ne),J=F-10*te,ce=m+te/50;G=!1,re=!1,R.clear(),c.useDuration(J).useFriction(ce),l.distance(ne,!d),X=!1,h.emit("pointerUp")}function ue(xe){ie&&(xe.stopPropagation(),xe.preventDefault(),ie=!1)}function me(){return re}return{init:ge,destroy:K,pointerDown:me}}function mLe(n,e){let r,i;function s(u){return u.timeStamp}function a(u,h){const d=`client${(h||n.scroll)==="x"?"X":"Y"}`;return(oL(u,e)?u:u.touches[0])[d]}function o(u){return r=u,i=u,a(u)}function l(u){const h=a(u)-a(i),f=s(u)-s(r)>170;return i=u,f&&(r=u),h}function c(u){if(!r||!i)return 0;const h=a(i)-a(r),f=s(u)-s(r),d=s(u)-s(i)>170,g=h/f;return f&&!d&&fi(g)>.1?g:0}return{pointerDown:o,pointerMove:l,pointerUp:c,readPoint:a}}function yLe(){function n(t){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:a}=t;return{top:r,right:i+s,bottom:r+a,left:i,width:s,height:a}}return{measure:n}}function bLe(n){function e(r){return n*(r/100)}return{measure:e}}function vLe(n,e,t,r,i,s,a){const o=[n].concat(r);let l,c,A=[],u=!1;function h(_){return i.measureSize(a.measure(_))}function f(_){if(!s)return;c=h(n),A=r.map(h);function m(y){for(const b of y){if(u)return;const v=b.target===n,B=r.indexOf(b.target),C=v?c:A[B],I=h(v?n:r[B]);if(fi(I-C)>=.5){_.reInit(),e.emit("resize");break}}}l=new ResizeObserver(y=>{(C6(s)||s(_,y))&&m(y)}),t.requestAnimationFrame(()=>{o.forEach(y=>l.observe(y))})}function d(){u=!0,l&&l.disconnect()}return{init:f,destroy:d}}function wLe(n,e,t,r,i,s){let a=0,o=0,l=i,c=s,A=n.get(),u=0;function h(){const C=r.get()-n.get(),I=!l;let R=0;return I?(a=0,t.set(r),n.set(r),R=C):(t.set(n),a+=C/l,a*=c,A+=a,n.add(a),R=A-u),o=bB(R),u=A,B}function f(){const C=r.get()-e.get();return fi(C)<.001}function d(){return l}function g(){return o}function _(){return a}function m(){return b(i)}function y(){return v(s)}function b(C){return l=C,B}function v(C){return c=C,B}const B={direction:g,duration:d,velocity:_,seek:h,settled:f,useBaseFriction:y,useBaseDuration:m,useFriction:v,useDuration:b};return B}function LLe(n,e,t,r,i){const s=i.measure(10),a=i.measure(50),o=$1(.1,.99);let l=!1;function c(){return!(l||!n.reachedAny(t.get())||!n.reachedAny(e.get()))}function A(f){if(!c())return;const d=n.reachedMin(e.get())?"min":"max",g=fi(n[d]-e.get()),_=t.get()-e.get(),m=o.constrain(g/a);t.subtract(_*m),!f&&fi(_)<s&&(t.set(n.constrain(t.get())),r.useDuration(25).useBaseFriction())}function u(f){l=!f}return{shouldConstrain:c,constrain:A,toggleActive:u}}function xLe(n,e,t,r,i){const s=$1(-e+n,0),a=u(),o=A(),l=h();function c(d,g){return r3(d,g)<=1}function A(){const d=a[0],g=zl(a),_=a.lastIndexOf(d),m=a.indexOf(g)+1;return $1(_,m)}function u(){return t.map((d,g)=>{const{min:_,max:m}=s,y=s.constrain(d),b=!g,v=vB(t,g);return b?m:v||c(_,y)?_:c(m,y)?m:y}).map(d=>parseFloat(d.toFixed(3)))}function h(){if(e<=n+i)return[s.max];if(r==="keepSnaps")return a;const{min:d,max:g}=o;return a.slice(d,g)}return{snapsContained:l,scrollContainLimit:o}}function RLe(n,e,t){const r=e[0],i=t?r-n:zl(e);return{limit:$1(i,r)}}function BLe(n,e,t,r){const s=e.min+.1,a=e.max+.1,{reachedMin:o,reachedMax:l}=$1(s,a);function c(h){return h===1?l(t.get()):h===-1?o(t.get()):!1}function A(h){if(!c(h))return;const f=n*(h*-1);r.forEach(d=>d.add(f))}return{loop:A}}function ELe(n){const{max:e,length:t}=n;function r(s){const a=s-e;return t?a/-t:0}return{get:r}}function CLe(n,e,t,r,i){const{startEdge:s,endEdge:a}=n,{groupSlides:o}=i,l=u().map(e.measure),c=h(),A=f();function u(){return o(r).map(g=>zl(g)[a]-g[0][s]).map(fi)}function h(){return r.map(g=>t[s]-g[s]).map(g=>-fi(g))}function f(){return o(c).map(g=>g[0]).map((g,_)=>g+l[_])}return{snaps:c,snapsAligned:A}}function ILe(n,e,t,r,i,s){const{groupSlides:a}=i,{min:o,max:l}=r,c=A();function A(){const h=a(s),f=!n||e==="keepSnaps";return t.length===1?[s]:f?h:h.slice(o,l).map((d,g,_)=>{const m=!g,y=vB(_,g);if(m){const b=zl(_[0])+1;return rU(b)}if(y){const b=Ip(s)-zl(_)[0]+1;return rU(b,zl(_)[0])}return d})}return{slideRegistry:c}}function TLe(n,e,t,r,i){const{reachedAny:s,removeOffset:a,constrain:o}=r;function l(d){return d.concat().sort((g,_)=>fi(g)-fi(_))[0]}function c(d){const g=n?a(d):o(d),_=e.map((y,b)=>({diff:A(y-g,0),index:b})).sort((y,b)=>fi(y.diff)-fi(b.diff)),{index:m}=_[0];return{index:m,distance:g}}function A(d,g){const _=[d,d+t,d-t];if(!n)return d;if(!g)return l(_);const m=_.filter(y=>bB(y)===g);return m.length?l(m):zl(_)-t}function u(d,g){const _=e[d]-i.get(),m=A(_,g);return{index:d,distance:m}}function h(d,g){const _=i.get()+d,{index:m,distance:y}=c(_),b=!n&&s(_);if(!g||b)return{index:m,distance:d};const v=e[m]-y,B=d+A(v,0);return{index:m,distance:B}}return{byDistance:h,byIndex:u,shortcut:A}}function MLe(n,e,t,r,i,s,a){function o(u){const h=u.distance,f=u.index!==e.get();s.add(h),h&&(r.duration()?n.start():(n.update(),n.render(1),n.update())),f&&(t.set(e.get()),e.set(u.index),a.emit("select"))}function l(u,h){const f=i.byDistance(u,h);o(f)}function c(u,h){const f=e.clone().set(u),d=i.byIndex(f.get(),h);o(d)}return{distance:l,index:c}}function SLe(n,e,t,r,i,s,a,o){const l={passive:!0,capture:!0};let c=0;function A(f){if(!o)return;function d(g){if(new Date().getTime()-c>10)return;a.emit("slideFocusStart"),n.scrollLeft=0;const y=t.findIndex(b=>b.includes(g));yB(y)&&(i.useDuration(0),r.index(y,0),a.emit("slideFocus"))}s.add(document,"keydown",u,!1),e.forEach((g,_)=>{s.add(g,"focus",m=>{(C6(o)||o(f,m))&&d(_)},l)})}function u(f){f.code==="Tab"&&(c=new Date().getTime())}return{init:A}}function _g(n){let e=n;function t(){return e}function r(l){e=a(l)}function i(l){e+=a(l)}function s(l){e-=a(l)}function a(l){return yB(l)?l:l.get()}return{get:t,set:r,add:i,subtract:s}}function VY(n,e){const t=n.scroll==="x"?a:o,r=e.style;let i=null,s=!1;function a(h){return`translate3d(${h}px,0px,0px)`}function o(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const f=hLe(n.direction(h));f!==i&&(r.transform=t(f),i=f)}function c(h){s=!h}function A(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:A,to:l,toggleActive:c}}function FLe(n,e,t,r,i,s,a,o,l){const A=X3(i),u=X3(i).reverse(),h=m().concat(y());function f(I,R){return I.reduce((w,U)=>w-i[U],R)}function d(I,R){return I.reduce((w,U)=>f(w,R)>0?w.concat([U]):w,[])}function g(I){return s.map((R,w)=>({start:R-r[w]+.5+I,end:R+e-.5+I}))}function _(I,R,w){const U=g(R);return I.map(M=>{const F=w?0:-t,P=w?t:0,S=w?"end":"start",W=U[M][S];return{index:M,loopPoint:W,slideLocation:_g(-1),translate:VY(n,l[M]),target:()=>o.get()>W?F:P}})}function m(){const I=a[0],R=d(u,I);return _(R,t,!1)}function y(){const I=e-a[0]-1,R=d(A,I);return _(R,-t,!0)}function b(){return h.every(({index:I})=>{const R=A.filter(w=>w!==I);return f(R,e)<=.1})}function v(){h.forEach(I=>{const{target:R,translate:w,slideLocation:U}=I,M=R();M!==U.get()&&(w.to(M),U.set(M))})}function B(){h.forEach(I=>I.translate.clear())}return{canLoop:b,clear:B,loop:v,loopPoints:h}}function ULe(n,e,t){let r,i=!1;function s(l){if(!t)return;function c(A){for(const u of A)if(u.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(A=>{i||(C6(t)||t(l,A))&&c(A)}),r.observe(n,{childList:!0})}function a(){r&&r.disconnect(),i=!0}return{init:s,destroy:a}}function NLe(n,e,t,r){const i={};let s=null,a=null,o,l=!1;function c(){o=new IntersectionObserver(d=>{l||(d.forEach(g=>{const _=e.indexOf(g.target);i[_]=g}),s=null,a=null,t.emit("slidesInView"))},{root:n.parentElement,threshold:r}),e.forEach(d=>o.observe(d))}function A(){o&&o.disconnect(),l=!0}function u(d){return J3(i).reduce((g,_)=>{const m=parseInt(_),{isIntersecting:y}=i[m];return(d&&y||!d&&!y)&&g.push(m),g},[])}function h(d=!0){if(d&&s)return s;if(!d&&a)return a;const g=u(d);return d&&(s=g),d||(a=g),g}return{init:c,destroy:A,get:h}}function kLe(n,e,t,r,i,s){const{measureSize:a,startEdge:o,endEdge:l}=n,c=t[0]&&i,A=d(),u=g(),h=t.map(a),f=_();function d(){if(!c)return 0;const y=t[0];return fi(e[o]-y[o])}function g(){if(!c)return 0;const y=s.getComputedStyle(zl(r));return parseFloat(y.getPropertyValue(`margin-${l}`))}function _(){return t.map((y,b,v)=>{const B=!b,C=vB(v,b);return B?h[b]+A:C?h[b]+u:v[b+1][o]-y[o]}).map(fi)}return{slideSizes:h,slideSizesWithGaps:f,startGap:A,endGap:u}}function PLe(n,e,t,r,i,s,a,o,l){const{startEdge:c,endEdge:A,direction:u}=n,h=yB(t);function f(m,y){return X3(m).filter(b=>b%y===0).map(b=>m.slice(b,b+y))}function d(m){return m.length?X3(m).reduce((y,b,v)=>{const B=zl(y)||0,C=B===0,I=b===Ip(m),R=i[c]-s[B][c],w=i[c]-s[b][A],U=!r&&C?u(a):0,M=!r&&I?u(o):0,F=fi(w-M-(R+U));return v&&F>e+l&&y.push(b),I&&y.push(m.length),y},[]).map((y,b,v)=>{const B=Math.max(v[b-1]||0);return m.slice(B,y)}):[]}function g(m){return h?f(m,t):d(m)}return{groupSlides:g}}function DLe(n,e,t,r,i,s,a){const{align:o,axis:l,direction:c,startIndex:A,loop:u,duration:h,dragFree:f,dragThreshold:d,inViewThreshold:g,slidesToScroll:_,skipSnaps:m,containScroll:y,watchResize:b,watchSlides:v,watchDrag:B,watchFocus:C}=s,I=2,R=yLe(),w=R.measure(e),U=t.map(R.measure),M=pLe(l,c),F=M.measureSize(w),P=bLe(F),S=dLe(o,F),W=!u&&!!y,re=u||!!y,{slideSizes:G,slideSizesWithGaps:ie,startGap:X,endGap:ge}=kLe(M,w,U,t,re,i),K=PLe(M,F,_,u,w,U,X,ge,I),{snaps:N,snapsAligned:H}=CLe(M,S,w,U,K),V=-zl(N)+zl(ie),{snapsContained:j,scrollContainLimit:le}=xLe(F,V,H,y,I),de=W?j:H,{limit:he}=RLe(V,de,u),ue=GY(Ip(de),A,u),me=ue.clone(),_e=X3(t),xe=({dragHandler:De,scrollBody:At,scrollBounds:kt,options:{loop:rt}})=>{rt||kt.constrain(De.pointerDown()),At.seek()},Re=({scrollBody:De,translate:At,location:kt,offsetLocation:rt,previousLocation:Nt,scrollLooper:ot,slideLooper:Rt,dragHandler:Tt,animation:Jt,eventHandler:wt,scrollBounds:It,options:{loop:tn}},rn)=>{const Vt=De.settled(),Dn=!It.shouldConstrain(),Wt=tn?Vt:Vt&&Dn,Ue=Wt&&!Tt.pointerDown();Ue&&Jt.stop();const gt=kt.get()*rn+Nt.get()*(1-rn);rt.set(gt),tn&&(ot.loop(De.direction()),Rt.loop()),At.to(rt.get()),Ue&&wt.emit("settle"),Wt||wt.emit("scroll")},D=gLe(r,i,()=>xe(ke),De=>Re(ke,De)),O=.68,ne=de[ue.get()],te=_g(ne),J=_g(ne),ce=_g(ne),Me=_g(ne),Se=wLe(te,ce,J,Me,h,O),Le=TLe(u,de,V,he,Me),He=MLe(D,ue,me,Se,Le,Me,a),be=ELe(he),Fe=Z3(),Qe=NLe(e,t,a,g),{slideRegistry:Ge}=ILe(W,y,de,le,K,_e),nt=SLe(n,t,Ge,He,Se,Fe,a,C),ke={ownerDocument:r,ownerWindow:i,eventHandler:a,containerRect:w,slideRects:U,animation:D,axis:M,dragHandler:_Le(M,n,r,i,Me,mLe(M,i),te,D,He,Se,Le,ue,a,P,f,d,m,O,B),eventStore:Fe,percentOfView:P,index:ue,indexPrevious:me,limit:he,location:te,offsetLocation:ce,previousLocation:J,options:s,resizeHandler:vLe(e,a,i,t,M,b,R),scrollBody:Se,scrollBounds:LLe(he,ce,Me,Se,P),scrollLooper:BLe(V,he,ce,[te,ce,J,Me]),scrollProgress:be,scrollSnapList:de.map(be.get),scrollSnaps:de,scrollTarget:Le,scrollTo:He,slideLooper:FLe(M,F,V,G,ie,N,de,ce,t),slideFocus:nt,slidesHandler:ULe(e,a,v),slidesInView:Qe,slideIndexes:_e,slideRegistry:Ge,slidesToScroll:K,target:Me,translate:VY(M,e)};return ke}function OLe(){let n={},e;function t(c){e=c}function r(c){return n[c]||[]}function i(c){return r(c).forEach(A=>A(e,c)),l}function s(c,A){return n[c]=r(c).concat([A]),l}function a(c,A){return n[c]=r(c).filter(u=>u!==A),l}function o(){n={}}const l={init:t,emit:i,off:a,on:s,clear:o};return l}const zLe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function HLe(n){function e(s,a){return YY(s,a||{})}function t(s){const a=s.breakpoints||{},o=J3(a).filter(l=>n.matchMedia(l).matches).map(l=>a[l]).reduce((l,c)=>e(l,c),{});return e(s,o)}function r(s){return s.map(a=>J3(a.breakpoints||{})).reduce((a,o)=>a.concat(o),[]).map(n.matchMedia)}return{mergeOptions:e,optionsAtMedia:t,optionsMediaQueries:r}}function QLe(n){let e=[];function t(s,a){return e=a.filter(({options:o})=>n.optionsAtMedia(o).active!==!1),e.forEach(o=>o.init(s,n)),a.reduce((o,l)=>Object.assign(o,{[l.name]:l}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:t,destroy:r}}function iy(n,e,t){const r=n.ownerDocument,i=r.defaultView,s=HLe(i),a=QLe(s),o=Z3(),l=OLe(),{mergeOptions:c,optionsAtMedia:A,optionsMediaQueries:u}=s,{on:h,off:f,emit:d}=l,g=M;let _=!1,m,y=c(zLe,iy.globalOptions),b=c(y),v=[],B,C,I;function R(){const{container:_e,slides:xe}=b;C=(aL(_e)?n.querySelector(_e):_e)||n.children[0];const D=aL(xe)?C.querySelectorAll(xe):xe;I=[].slice.call(D||C.children)}function w(_e){const xe=DLe(n,C,I,r,i,_e,l);if(_e.loop&&!xe.slideLooper.canLoop()){const Re=Object.assign({},_e,{loop:!1});return w(Re)}return xe}function U(_e,xe){_||(y=c(y,_e),b=A(y),v=xe||v,R(),m=w(b),u([y,...v.map(({options:Re})=>Re)]).forEach(Re=>o.add(Re,"change",M)),b.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(me),m.eventHandler.init(me),m.resizeHandler.init(me),m.slidesHandler.init(me),m.options.loop&&m.slideLooper.loop(),C.offsetParent&&I.length&&m.dragHandler.init(me),B=a.init(me,v)))}function M(_e,xe){const Re=K();F(),U(c({startIndex:Re},_e),xe),l.emit("reInit")}function F(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),a.destroy(),o.clear()}function P(){_||(_=!0,o.clear(),F(),l.emit("destroy"),l.clear())}function S(_e,xe,Re){!b.active||_||(m.scrollBody.useBaseFriction().useDuration(xe===!0?0:b.duration),m.scrollTo.index(_e,Re||0))}function W(_e){const xe=m.index.add(1).get();S(xe,_e,-1)}function re(_e){const xe=m.index.add(-1).get();S(xe,_e,1)}function G(){return m.index.add(1).get()!==K()}function ie(){return m.index.add(-1).get()!==K()}function X(){return m.scrollSnapList}function ge(){return m.scrollProgress.get(m.offsetLocation.get())}function K(){return m.index.get()}function N(){return m.indexPrevious.get()}function H(){return m.slidesInView.get()}function V(){return m.slidesInView.get(!1)}function j(){return B}function le(){return m}function de(){return n}function he(){return C}function ue(){return I}const me={canScrollNext:G,canScrollPrev:ie,containerNode:he,internalEngine:le,destroy:P,off:f,on:h,emit:d,plugins:j,previousScrollSnap:N,reInit:g,rootNode:de,scrollNext:W,scrollPrev:re,scrollProgress:ge,scrollSnapList:X,scrollTo:S,selectedScrollSnap:K,slideNodes:ue,slidesInView:H,slidesNotInView:V};return U(e,t),setTimeout(()=>l.emit("init"),0),me}iy.globalOptions=void 0;function Hl(n,e={options:{},plugins:[]}){let t=e,r;return ALe()&&(iy.globalOptions=Hl.globalOptions,r=iy(n,t.options,t.plugins),r.on("init",()=>n.dispatchEvent(new CustomEvent("emblaInit",{detail:r})))),{destroy:()=>{r&&r.destroy()},update:i=>{const s=!mB(t.options,i.options),a=!uLe(t.plugins,i.plugins);!s&&!a||(t=i,r&&r.reInit(t.options,t.plugins))}}}Hl.globalOptions=void 0;var jLe=we('<img class="block aspect-video h-full w-full rounded-lg object-cover" alt=""/>'),YLe=we('<img alt="" class="ml-2 aspect-video min-w-0 flex-[0_0_100%] object-cover"/>'),GLe=we('<iframe class="ml-2 aspect-video min-w-0 flex-[0_0_100%]" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>'),VLe=we('<div class="overflow-hidden"><div class="flex"><img class="c-no-drag-icon block aspect-video h-full w-full object-cover" alt=""/> <!></div></div>'),KLe=we('<span class="text-[22px] font-bold"> </span> <span class="text-[14px] text-gray-300"> </span>',1),$Le=we('<span class="text-[22px] font-bold"> </span> <span class="text-[14px] text-gray-300"> </span>',1),WLe=we('<a class="flex w-full items-start justify-start gap-2 break-all" target="_blank" rel="noopener noreferrer"><!> <span class="text-accent text-ellipsis hover:underline"> </span></a>'),qLe=we('<span class="my-2 text-justify text-base"> </span>'),XLe=we('<div class="my-4 flex items-center gap-1 text-base text-lg"><!><span></span></div> <div class="mb-56 flex h-full w-full flex-col gap-3"><!></div>',1),JLe=we('<button class="c-btn-confirm absolute top-3 left-3 z-10 flex items-center justify-center gap-2 px-3"><!> <span class="select-none"></span></button>'),ZLe=we('<div class="bg-main w-side-menu max absolute top-0 left-0 z-20 flex h-full flex-col max-lg:hidden"><div class="flex w-full justify-between p-3 px-4"><button class="bg-base ml-auto cursor-pointer rounded-full p-2 shadow-md"><!></button></div> <div class="c-scroll h-full overflow-x-hidden overflow-y-auto pl-2"><div class="b relative w-full p-2"><!> <div class="bottom-0 left-0 flex h-full w-full shrink-0 grow flex-col justify-end gap-1 pt-4 text-base"><!></div></div> <div class="pl-2"><div class="flex h-full w-full flex-col gap-2 pr-2"><div class="flex flex-col gap-2 rounded-lg bg-black p-2"><div class="flex w-full justify-start gap-2"><!> <span class="text-accent"> </span></div> <!></div> <!></div> <!> <!></div></div></div>');function exe(n,e){Mt(e,!0);let t=Ne(e,"featureMenuData",15),r=Ne(e,"showSelectionMarker",15),i=Oe(void 0),s={loop:!0,dragFree:!1},a=[],o=Oe(void 0),l=Oe(0);function c(){!E(i)||!E(o)||(ee(l,E(i).selectedScrollSnap(),!0),E(o).scrollTo(E(l)))}function A(C){ee(i,C.detail,!0),E(i).on("select",c).on("reInit",c)}let u=Ot(()=>t()?e.layerEntries.find(I=>t()&&I.id===t().layerId):null),h=Ot(()=>{const C={};return e.layerEntries.forEach(I=>{I.type==="vector"&&I.properties&&I.properties.dict&&Object.assign(C,I.properties.dict)}),C}),f=Ot(()=>t()&&t().properties?t().properties._prop_id:null),d=Ot(()=>t()&&t().properties?wd[t().properties._prop_id]:null),g=Ot(()=>E(u)&&E(u).type==="vector"?E(u).properties.imageKey:null),_=Ot(()=>{if(E(d)){if(E(d).image)return E(d).image}else if(t()&&t().properties&&E(g))return t().properties[E(g)];return null});const m=()=>{E(u)&&E(u).type==="vector"&&(Xs.set(E(u).id),ma.set(!0),t(null))},y=(C,I=50)=>C.length<=I?C:C.substring(0,I)+"...";on(()=>{t()||r(!1)});var b=xt(),v=Je(b);{var B=C=>{var I=ZLe(),R=q(I),w=q(R);w.__click=()=>t(null);var U=q(w);Bt(U,{icon:"material-symbols:close-rounded",class:"text-main h-5 w-5"}),$(w),$(R);var M=oe(R,2),F=q(M),P=q(F);{var S=O=>{var ne=jLe();Ye(()=>pt(ne,"src",E(_))),Yt(1,ne,()=>cr),Z(O,ne)},W=O=>{var ne=xt(),te=Je(ne);{var J=Me=>{var Se=VLe(),Le=q(Se),He=q(Le),be=oe(He,2);Fn(be,17,()=>E(d).medias,Fe=>Fe.url,(Fe,Qe)=>{var Ge=xt(),nt=Je(Ge);{var ke=At=>{var kt=YLe();pt(kt,"width",1920),pt(kt,"height",1080),Ye(()=>pt(kt,"src",E(Qe).url)),Z(At,kt)},De=At=>{var kt=xt(),rt=Je(kt);{var Nt=ot=>{var Rt=GLe();Ye(()=>pt(Rt,"src",`${E(Qe).url}?mute=0&controls=1`)),Z(ot,Rt)};Te(rt,ot=>{E(Qe).type==="youtube"&&ot(Nt)},!0)}Z(At,kt)};Te(nt,At=>{E(Qe).type==="image"?At(ke):At(De,!1)})}Z(Fe,Ge)}),$(Le),$(Se),JL(Se,(Fe,Qe)=>Hl==null?void 0:Hl(Fe,Qe),()=>({plugins:a,options:s})),Ye(()=>pt(He,"src",E(_))),Bn("emblaInit",Se,A),Yt(1,He,()=>cr),Z(Me,Se)},ce=Me=>{};Te(te,Me=>{E(d)&&E(d).medias&&E(d).medias.length>0?Me(J):Me(ce,!1)},!0)}Z(O,ne)};Te(P,O=>{E(_)?O(S):O(W,!1)})}var re=oe(P,2),G=q(re);{var ie=O=>{var ne=KLe(),te=Je(ne),J=q(te,!0);$(te);var ce=oe(te,2),Me=q(ce,!0);$(ce),Ye(()=>{yt(J,t().properties.name),yt(Me,t().properties.category)}),Z(O,ne)},X=O=>{var ne=$Le(),te=Je(ne),J=q(te,!0);$(te);var ce=oe(te,2),Me=q(ce,!0);$(ce),Ye(Se=>{yt(J,Se),yt(Me,E(u)&&E(u).metaData.name?E(u).metaData.name:"")},[()=>{var Se;return E(u)&&E(u).type==="vector"&&E(u).properties.titles.length&&t().properties?Mx(t().properties,E(u).properties.titles):(Se=E(u))==null?void 0:Se.metaData.name}]),Z(O,ne)};Te(G,O=>{E(f)&&t().properties&&t().properties._prop_id?O(ie):O(X,!1)})}$(re),$(F);var ge=oe(F,2),K=q(ge),N=q(K),H=q(N),V=q(H);Bt(V,{icon:"lucide:map-pin",class:"h-6 w-6 shrink-0 text-base"});var j=oe(V,2),le=q(j);$(j),$(H);var de=oe(H,2);{var he=O=>{var ne=xt(),te=Je(ne);{var J=ce=>{var Me=WLe(),Se=q(Me);Bt(Se,{icon:"mdi:web",class:"h-6 w-6 shrink-0 text-base"});var Le=oe(Se,2),He=q(Le,!0);$(Le),$(Me),Ye(be=>{pt(Me,"href",E(d).url),yt(He,be)},[()=>y(E(d).url)]),Z(ce,Me)};Te(te,ce=>{E(d).url&&ce(J)})}Z(O,ne)};Te(de,O=>{E(d)&&O(he)})}$(N);var ue=oe(N,2);{var me=O=>{var ne=xt(),te=Je(ne);{var J=ce=>{var Me=qLe(),Se=q(Me,!0);$(Me),Ye(()=>yt(Se,E(d).description)),Z(ce,Me)};Te(te,ce=>{E(d).description&&ce(J)})}Z(O,ne)};Te(ue,O=>{E(d)&&O(me)})}$(K);var _e=oe(K,2);{var xe=O=>{var ne=XLe(),te=Je(ne),J=q(te);Bt(J,{icon:"iconamoon:attention-circle-fill",class:"h-5 w-5 shrink-0 text-base"}),jn(),$(te);var ce=oe(te,2),Me=q(ce);{var Se=Le=>{var He=xt(),be=Je(He);Fn(be,17,()=>Object.entries(t().properties),wi,(Fe,Qe)=>{var Ge=Ot(()=>kk(E(Qe),2));let nt=()=>E(Ge)[0],ke=()=>E(Ge)[1];var De=xt(),At=Je(De);{var kt=rt=>{const Nt=Ot(()=>E(h)[nt()]??nt());jY(rt,{get key(){return E(Nt)},get value(){return ke()}})};Te(At,rt=>{nt()!=="_prop_id"&&ke()&&E(g)!==nt()&&rt(kt)})}Z(Fe,De)}),Z(Le,He)};Te(Me,Le=>{t().properties&&Le(Se)})}$(ce),Z(O,ne)};Te(_e,O=>{E(f)||O(xe)})}var Re=oe(_e,2);{var D=O=>{var ne=JLe();ne.__click=m;var te=q(ne);Bt(te,{icon:"mdi:mixer-settings",class:"h-6 w-6"}),jn(2),$(ne),Z(O,ne)};Te(Re,O=>{t().layerId!=="fac_poi"&&O(D)})}$(ge),$(M),$(I),Ye((O,ne)=>yt(le,`${O??""}, ${ne??""}`),[()=>t().point[0].toFixed(6),()=>t().point[1].toFixed(6)]),Yt(3,I,()=>br,()=>({duration:300,x:-100,opacity:0})),Z(C,I)};Te(v,C=>{t()&&Di()&&C(B)})}Z(n,b),St()}Ln(["click"]);const txe=async n=>{var r,i,s,a,o;const e="https://ja.wikipedia.org/w/api.php",t=new URLSearchParams({action:"query",format:"json",titles:n,prop:"extracts|info|pageimages|coordinates|categories|revisions",exintro:"true",explaintext:"true",inprop:"url",pithumbsize:"500",redirects:"1",clshow:"!hidden",rvprop:"timestamp",rvlimit:"1",origin:"*"});try{const c=await(await fetch(`${e}?${t}`)).json(),A=(r=c.query.redirects)==null?void 0:r[0],u=c.query.pages,h=Object.keys(u)[0],f=u[h];if(f.missing||h==="-1")return console.warn(":",n),null;if(!f.extract)return console.warn(":",n),null;const d=(i=f.categories)==null?void 0:i.map(_=>_.title.replace("Category:",""));let g=null;return g=nxe(d),g||(g=rxe(f.extract)),{pageId:f.pageid,title:f.title,extract:f.extract,thumbnail:f.thumbnail,url:f.fullurl,coordinates:(s=f.coordinates)==null?void 0:s[0],categories:d,prefecture:g||void 0,lastModified:(o=(a=f.revisions)==null?void 0:a[0])==null?void 0:o.timestamp,wasRedirected:!!A,originalTitle:A?A.from:n}}catch(l){return console.error("Wikipedia API Error:",l),null}},nxe=n=>{if(!n)return null;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];for(const t of n)for(const r of e)if(t.includes(r))return r;return null},rxe=n=>{const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];for(const t of e)if(n.includes(t))return t;return null};var ixe=we('<img class="block aspect-video h-full w-full rounded-lg object-cover" alt=""/>'),sxe=we('<span class="my-2 text-justify text-base"> </span> <div class="flex w-full items-center justify-center"><a class="c-btn-confirm mt-4 flex select-none items-center justify-start gap-2 rounded-full p-2 px-4" target="_blank" rel="noopener noreferrer"><!> <span>Wikipedia</span></a></div>',1),axe=we('<div class="c-scroll h-full overflow-y-auto overflow-x-hidden pl-2"><div class="b relative w-full p-2"><!> <div class="bottom-0 left-0 flex h-full w-full shrink-0 grow flex-col justify-end gap-1 pt-4 text-base"><span class="text-[22px] font-bold"> </span> <span class="text-[14px] text-gray-300"> </span></div></div> <div class="pl-2"><div class="flex h-full w-full flex-col gap-2 pr-2"><div class="flex flex-col gap-2 rounded-lg bg-black p-2"><div class="flex w-full justify-start gap-2"><!> <span class="text-accent"><!></span></div></div> <!></div></div></div>'),oxe=we('<div class="flex h-full w-full flex-col items-center justify-center gap-4"><div class="border-t-accent h-12 w-12 animate-spin rounded-full border-4 border-gray-300"></div> <p class="text-gray-400">...</p></div>'),lxe=we('<div class="bg-main w-side-menu max absolute left-0 top-0 z-20 flex h-full flex-col max-lg:hidden"><div class="flex w-full justify-between p-3 px-4"><button class="bg-base ml-auto cursor-pointer rounded-full p-2 shadow-md"><!></button></div> <!></div>');function cxe(n,e){Mt(e,!0);let t=Ne(e,"selectedSearchResultData",15),r=Ne(e,"selectedSearchId",15),i=Oe(!0);const s=async()=>{if(t()&&t().type==="address"){const c=pre(t().name),A=await txe(c);return ee(i,!1),Promise.resolve(A)}return ee(i,!1),Promise.resolve(null)};var a=xt(),o=Je(a);{var l=c=>{var A=lxe(),u=q(A),h=q(u);h.__click=()=>{t(null),r(null)};var f=q(h);Bt(f,{icon:"material-symbols:close-rounded",class:"text-main h-5 w-5"}),$(h),$(u);var d=oe(u,2);ef(d,s,g=>{var _=oxe();Z(g,_)},(g,_)=>{var m=axe(),y=q(m),b=q(y);{var v=K=>{var N=xt(),H=Je(N);{var V=j=>{var le=ixe();Ye(()=>pt(le,"src",E(_).thumbnail.source)),Yt(1,le,()=>cr,()=>({duration:300})),Z(j,le)};Te(H,j=>{E(_).thumbnail&&E(_).thumbnail.source&&j(V)})}Z(K,N)};Te(b,K=>{E(_)&&K(v)})}var B=oe(b,2),C=q(B),I=q(C,!0);$(C);var R=oe(C,2),w=q(R,!0);$(R),$(B),$(y);var U=oe(y,2),M=q(U),F=q(M),P=q(F),S=q(P);Bt(S,{icon:"lucide:map-pin",class:"h-6 w-6 shrink-0 text-base"});var W=oe(S,2),re=q(W);{var G=K=>{var N=Cg();Ye((H,V)=>yt(N,`${H??""}, ${V??""}`),[()=>{var H;return(H=E(_).coordinates)==null?void 0:H.lat.toFixed(6)},()=>{var H;return(H=E(_).coordinates)==null?void 0:H.lon.toFixed(6)}]),Z(K,N)},ie=K=>{var N=Cg();Ye((H,V)=>yt(N,`${H??""}, ${V??""}`),[()=>t().point[1].toFixed(6),()=>t().point[0].toFixed(6)]),Z(K,N)};Te(re,K=>{E(_)&&E(_).coordinates?K(G):K(ie,!1)})}$(W),$(P),$(F);var X=oe(F,2);{var ge=K=>{var N=sxe(),H=Je(N),V=q(H,!0);$(H);var j=oe(H,2),le=q(j),de=q(le);Bt(de,{icon:"majesticons:open",class:"h-6 w-6"}),jn(2),$(le),$(j),Ye(()=>{yt(V,E(_).extract),pt(le,"href",E(_).url)}),Z(K,N)};Te(X,K=>{E(_)&&K(ge)})}$(M),$(U),$(m),Ye(()=>{yt(I,E(_)?E(_).title:t().name),yt(w,E(_)?E(_).prefecture:t().location)}),Yt(1,m,()=>cr,()=>({duration:100})),Z(g,m)}),$(A),Yt(3,A,()=>br,()=>({duration:300,x:-100,opacity:0})),Z(c,A)};Te(o,c=>{t()&&t().type==="address"&&Di()&&c(l)})}Z(n,a),St()}Ln(["click"]);/*!
 * matrix 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var M0,F1,wB,I6,mg,Fm,sy,i3,kl="transform",lL=kl+"Origin",KY,$Y=function(e){var t=e.ownerDocument||e;for(!(kl in e.style)&&("msTransform"in e.style)&&(kl="msTransform",lL=kl+"Origin");t.parentNode&&(t=t.parentNode););if(F1=window,sy=new W1,t){M0=t,wB=t.documentElement,I6=t.body,i3=M0.createElementNS("http://www.w3.org/2000/svg","g"),i3.style.transform="none";var r=t.createElement("div"),i=t.createElement("div"),s=t&&(t.body||t.firstElementChild);s&&s.appendChild&&(s.appendChild(r),r.appendChild(i),r.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),KY=i.offsetParent!==r,s.removeChild(r))}return t},Axe=function(e){for(var t,r;e&&e!==I6;)r=e._gsap,r&&r.uncache&&r.get(e,"x"),r&&!r.scaleX&&!r.scaleY&&r.renderTransform&&(r.scaleX=r.scaleY=1e-4,r.renderTransform(1,r),t?t.push(r):t=[r]),e=e.parentNode;return t},WY=[],qY=[],uxe=function(){return F1.pageYOffset||M0.scrollTop||wB.scrollTop||I6.scrollTop||0},fxe=function(){return F1.pageXOffset||M0.scrollLeft||wB.scrollLeft||I6.scrollLeft||0},LB=function(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},hxe=function n(e){if(F1.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return n(e)},H8=function n(e,t){if(e.parentNode&&(M0||$Y(e))){var r=LB(e),i=r?r.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",s=r?t?"rect":"g":"div",a=t!==2?0:100,o=t===3?100:0,l="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",c=M0.createElementNS?M0.createElementNS(i.replace(/^https/,"http"),s):M0.createElement(s);return t&&(r?(Fm||(Fm=n(e)),c.setAttribute("width",.01),c.setAttribute("height",.01),c.setAttribute("transform","translate("+a+","+o+")"),Fm.appendChild(c)):(mg||(mg=n(e),mg.style.cssText=l),c.style.cssText=l+"width:0.1px;height:0.1px;top:"+o+"px;left:"+a+"px",mg.appendChild(c))),c}throw"Need document and parent."},dxe=function(e){for(var t=new W1,r=0;r<e.numberOfItems;r++)t.multiply(e.getItem(r).matrix);return t},gxe=function(e){var t=e.getCTM(),r;return t||(r=e.style[kl],e.style[kl]="none",e.appendChild(i3),t=i3.getCTM(),e.removeChild(i3),r?e.style[kl]=r:e.style.removeProperty(kl.replace(/([A-Z])/g,"-$1").toLowerCase())),t||sy.clone()},pxe=function(e,t){var r=LB(e),i=e===r,s=r?WY:qY,a=e.parentNode,o=a&&!r&&a.shadowRoot&&a.shadowRoot.appendChild?a.shadowRoot:a,l,c,A,u,h,f;if(e===F1)return e;if(s.length||s.push(H8(e,1),H8(e,2),H8(e,3)),l=r?Fm:mg,r)i?(A=gxe(e),u=-A.e/A.a,h=-A.f/A.d,c=sy):e.getBBox?(A=e.getBBox(),c=e.transform?e.transform.baseVal:{},c=c.numberOfItems?c.numberOfItems>1?dxe(c):c.getItem(0).matrix:sy,u=c.a*A.x+c.c*A.y,h=c.b*A.x+c.d*A.y):(c=new W1,u=h=0),(i?r:a).appendChild(l),l.setAttribute("transform","matrix("+c.a+","+c.b+","+c.c+","+c.d+","+(c.e+u)+","+(c.f+h)+")");else{if(u=h=0,KY)for(c=e.offsetParent,A=e;A&&(A=A.parentNode)&&A!==c&&A.parentNode;)(F1.getComputedStyle(A)[kl]+"").length>4&&(u=A.offsetLeft,h=A.offsetTop,A=0);if(f=F1.getComputedStyle(e),f.position!=="absolute"&&f.position!=="fixed")for(c=e.offsetParent;a&&a!==c;)u+=a.scrollLeft||0,h+=a.scrollTop||0,a=a.parentNode;A=l.style,A.top=e.offsetTop-h+"px",A.left=e.offsetLeft-u+"px",A[kl]=f[kl],A[lL]=f[lL],A.position=f.position==="fixed"?"fixed":"absolute",o.appendChild(l)}return l},Q8=function(e,t,r,i,s,a,o){return e.a=t,e.b=r,e.c=i,e.d=s,e.e=a,e.f=o,e},W1=function(){function n(t,r,i,s,a,o){t===void 0&&(t=1),r===void 0&&(r=0),i===void 0&&(i=0),s===void 0&&(s=1),a===void 0&&(a=0),o===void 0&&(o=0),Q8(this,t,r,i,s,a,o)}var e=n.prototype;return e.inverse=function(){var r=this.a,i=this.b,s=this.c,a=this.d,o=this.e,l=this.f,c=r*a-i*s||1e-10;return Q8(this,a/c,-i/c,-s/c,r/c,(s*l-a*o)/c,-(r*l-i*o)/c)},e.multiply=function(r){var i=this.a,s=this.b,a=this.c,o=this.d,l=this.e,c=this.f,A=r.a,u=r.c,h=r.b,f=r.d,d=r.e,g=r.f;return Q8(this,A*i+h*a,A*s+h*o,u*i+f*a,u*s+f*o,l+d*i+g*a,c+d*s+g*o)},e.clone=function(){return new n(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(r){var i=this.a,s=this.b,a=this.c,o=this.d,l=this.e,c=this.f;return i===r.a&&s===r.b&&a===r.c&&o===r.d&&l===r.e&&c===r.f},e.apply=function(r,i){i===void 0&&(i={});var s=r.x,a=r.y,o=this.a,l=this.b,c=this.c,A=this.d,u=this.e,h=this.f;return i.x=s*o+a*c+u||0,i.y=s*l+a*A+h||0,i},n}();function i1(n,e,t,r){if(!n||!n.parentNode||(M0||$Y(n)).documentElement===n)return new W1;var i=Axe(n),s=LB(n),a=s?WY:qY,o=pxe(n),l=a[0].getBoundingClientRect(),c=a[1].getBoundingClientRect(),A=a[2].getBoundingClientRect(),u=o.parentNode,h=hxe(n),f=new W1((c.left-l.left)/100,(c.top-l.top)/100,(A.left-l.left)/100,(A.top-l.top)/100,l.left+(h?0:fxe()),l.top+(h?0:uxe()));if(u.removeChild(o),i)for(l=i.length;l--;)c=i[l],c.scaleX=c.scaleY=0,c.renderTransform(1,c);return e?f.inverse():f}function iU(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _xe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var tr,Dr,po,Ql,S0,j8,v0,cL,yg,HA,XY,AL,ep,xB,bg,wl,vg,Um,JY,uL,ay=0,ZY=function(){return typeof window<"u"},eG=function(){return tr||ZY()&&(tr=window.gsap)&&tr.registerPlugin&&tr},CA=function(e){return typeof e=="function"},s3=function(e){return typeof e=="object"},Il=function(e){return typeof e>"u"},Nm=function(){return!1},a3="transform",fL="transformOrigin",yA=function(e){return Math.round(e*1e4)/1e4},O2=Array.isArray,S4=function(e,t){var r=po.createElementNS?po.createElementNS("http://www.w3.org/1999/xhtml".replace(/^https/,"http"),e):po.createElement(e);return r.style?r:po.createElement(e)},sU=180/Math.PI,Ku=1e20,mxe=new W1,bA=Date.now||function(){return new Date().getTime()},U1=[],Vh={},yxe=0,bxe=/^(?:a|input|textarea|button|select)$/i,aU=0,Yf={},u0={},tG=function(e,t){var r={},i;for(i in e)r[i]=t?e[i]*t:e[i];return r},vxe=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},oU=function n(e,t){for(var r=e.length,i;r--;)t?e[r].style.touchAction=t:e[r].style.removeProperty("touch-action"),i=e[r].children,i&&i.length&&n(i,t)},nG=function(){return U1.forEach(function(e){return e()})},wxe=function(e){U1.push(e),U1.length===1&&tr.ticker.add(nG)},lU=function(){return!U1.length&&tr.ticker.remove(nG)},cU=function(e){for(var t=U1.length;t--;)U1[t]===e&&U1.splice(t,1);tr.to(lU,{overwrite:!0,delay:15,duration:0,onComplete:lU,data:"_draggable"})},Lxe=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},us=function(e,t,r,i){if(e.addEventListener){var s=ep[t];i=i||(XY?{passive:!1}:null),e.addEventListener(s||t,r,i),s&&t!==s&&e.addEventListener(t,r,i)}},Vi=function(e,t,r,i){if(e.removeEventListener){var s=ep[t];e.removeEventListener(s||t,r,i),s&&t!==s&&e.removeEventListener(t,r,i)}},To=function(e){e.preventDefault&&e.preventDefault(),e.preventManipulation&&e.preventManipulation()},xxe=function(e,t){for(var r=e.length;r--;)if(e[r].identifier===t)return!0},Rxe=function n(e){xB=e.touches&&ay<e.touches.length,Vi(e.target,"touchend",n)},AU=function(e){xB=e.touches&&ay<e.touches.length,us(e.target,"touchend",Rxe)},Kh=function(e){return Dr.pageYOffset||e.scrollTop||e.documentElement.scrollTop||e.body.scrollTop||0},$h=function(e){return Dr.pageXOffset||e.scrollLeft||e.documentElement.scrollLeft||e.body.scrollLeft||0},uU=function n(e,t){us(e,"scroll",t),Ld(e.parentNode)||n(e.parentNode,t)},fU=function n(e,t){Vi(e,"scroll",t),Ld(e.parentNode)||n(e.parentNode,t)},Ld=function(e){return!e||e===Ql||e.nodeType===9||e===po.body||e===Dr||!e.nodeType||!e.parentNode},hU=function(e,t){var r=t==="x"?"Width":"Height",i="scroll"+r,s="client"+r;return Math.max(0,Ld(e)?Math.max(Ql[i],S0[i])-(Dr["inner"+r]||Ql[s]||S0[s]):e[i]-e[s])},Y8=function n(e,t){var r=hU(e,"x"),i=hU(e,"y");Ld(e)?e=u0:n(e.parentNode,t),e._gsMaxScrollX=r,e._gsMaxScrollY=i,t||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},G8=function(e,t,r){var i=e.style;i&&(Il(i[t])&&(t=yg(t,e)||t),r==null?i.removeProperty&&i.removeProperty(t.replace(/([A-Z])/g,"-$1").toLowerCase()):i[t]=r)},tp=function(e){return Dr.getComputedStyle(e instanceof Element?e:e.host||(e.parentNode||{}).host||e)},$u={},Gf=function(e){if(e===Dr)return $u.left=$u.top=0,$u.width=$u.right=Ql.clientWidth||e.innerWidth||S0.clientWidth||0,$u.height=$u.bottom=(e.innerHeight||0)-20<Ql.clientHeight?Ql.clientHeight:e.innerHeight||S0.clientHeight||0,$u;var t=e.ownerDocument||po,r=Il(e.pageX)?!e.nodeType&&!Il(e.left)&&!Il(e.top)?e:HA(e)[0].getBoundingClientRect():{left:e.pageX-$h(t),top:e.pageY-Kh(t),right:e.pageX-$h(t)+1,bottom:e.pageY-Kh(t)+1};return Il(r.right)&&!Il(r.width)?(r.right=r.left+r.width,r.bottom=r.top+r.height):Il(r.width)&&(r={width:r.right-r.left,height:r.bottom-r.top,right:r.right,left:r.left,bottom:r.bottom,top:r.top}),r},Mi=function(e,t,r){var i=e.vars,s=i[r],a=e._listeners[t],o;return CA(s)&&(o=s.apply(i.callbackScope||e,i[r+"Params"]||[e.pointerEvent])),a&&e.dispatchEvent(t)===!1&&(o=!1),o},dU=function(e,t){var r=HA(e)[0],i,s,a;return!r.nodeType&&r!==Dr?Il(e.left)?(s=e.min||e.minX||e.minRotation||0,i=e.min||e.minY||0,{left:s,top:i,width:(e.max||e.maxX||e.maxRotation||0)-s,height:(e.max||e.maxY||0)-i}):(a={x:0,y:0},{left:e.left-a.x,top:e.top-a.y,width:e.width,height:e.height}):Bxe(r,t)},Mo={},Bxe=function(e,t){t=HA(t)[0];var r=e.getBBox&&e.ownerSVGElement,i=e.ownerDocument||po,s,a,o,l,c,A,u,h,f,d,g,_,m;if(e===Dr)o=Kh(i),s=$h(i),a=s+(i.documentElement.clientWidth||e.innerWidth||i.body.clientWidth||0),l=o+((e.innerHeight||0)-20<i.documentElement.clientHeight?i.documentElement.clientHeight:e.innerHeight||i.body.clientHeight||0);else{if(t===Dr||Il(t))return e.getBoundingClientRect();s=o=0,r?(d=e.getBBox(),g=d.width,_=d.height):(e.viewBox&&(d=e.viewBox.baseVal)&&(s=d.x||0,o=d.y||0,g=d.width,_=d.height),g||(m=tp(e),d=m.boxSizing==="border-box",g=(parseFloat(m.width)||e.clientWidth||0)+(d?0:parseFloat(m.borderLeftWidth)+parseFloat(m.borderRightWidth)),_=(parseFloat(m.height)||e.clientHeight||0)+(d?0:parseFloat(m.borderTopWidth)+parseFloat(m.borderBottomWidth)))),a=g,l=_}return e===t?{left:s,top:o,width:a-s,height:l-o}:(c=i1(t,!0).multiply(i1(e)),A=c.apply({x:s,y:o}),u=c.apply({x:a,y:o}),h=c.apply({x:a,y:l}),f=c.apply({x:s,y:l}),s=Math.min(A.x,u.x,h.x,f.x),o=Math.min(A.y,u.y,h.y,f.y),{left:s,top:o,width:Math.max(A.x,u.x,h.x,f.x)-s,height:Math.max(A.y,u.y,h.y,f.y)-o})},V8=function(e,t,r,i,s,a){var o={},l,c,A;if(t)if(s!==1&&t instanceof Array){if(o.end=l=[],A=t.length,s3(t[0]))for(c=0;c<A;c++)l[c]=tG(t[c],s);else for(c=0;c<A;c++)l[c]=t[c]*s;r+=1.1,i-=1.1}else CA(t)?o.end=function(u){var h=t.call(e,u),f,d;if(s!==1)if(s3(h)){f={};for(d in h)f[d]=h[d]*s;h=f}else h*=s;return h}:o.end=t;return(r||r===0)&&(o.max=r),(i||i===0)&&(o.min=i),a&&(o.velocity=0),o},Exe=function n(e){var t;return!e||!e.getAttribute||e===S0?!1:(t=e.getAttribute("data-clickable"))==="true"||t!=="false"&&(bxe.test(e.nodeName+"")||e.getAttribute("contentEditable")==="true")?!0:n(e.parentNode)},F4=function(e,t){for(var r=e.length,i;r--;)i=e[r],i.ondragstart=i.onselectstart=t?null:Nm,tr.set(i,{lazy:!0,userSelect:t?"text":"none"})},Cxe=function n(e){if(tp(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return n(e)},rG,hL,Ixe=function(e,t){e=tr.utils.toArray(e)[0],t=t||{};var r=document.createElement("div"),i=r.style,s=e.firstChild,a=0,o=0,l=e.scrollTop,c=e.scrollLeft,A=e.scrollWidth,u=e.scrollHeight,h=0,f=0,d=0,g,_,m,y,b,v;rG&&t.force3D!==!1?(b="translate3d(",v="px,0px)"):a3&&(b="translate(",v="px)"),this.scrollTop=function(B,C){if(!arguments.length)return-this.top();this.top(-B,C)},this.scrollLeft=function(B,C){if(!arguments.length)return-this.left();this.left(-B,C)},this.left=function(B,C){if(!arguments.length)return-(e.scrollLeft+o);var I=e.scrollLeft-c,R=o;if((I>2||I<-2)&&!C){c=e.scrollLeft,tr.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-c),t.onKill&&t.onKill();return}B=-B,B<0?(o=B-.5|0,B=0):B>f?(o=B-f|0,B=f):o=0,(o||R)&&(this._skip||(i[a3]=b+-o+"px,"+-a+v),o+h>=0&&(i.paddingRight=o+h+"px")),e.scrollLeft=B|0,c=e.scrollLeft},this.top=function(B,C){if(!arguments.length)return-(e.scrollTop+a);var I=e.scrollTop-l,R=a;if((I>2||I<-2)&&!C){l=e.scrollTop,tr.killTweensOf(this,{top:1,scrollTop:1}),this.top(-l),t.onKill&&t.onKill();return}B=-B,B<0?(a=B-.5|0,B=0):B>d?(a=B-d|0,B=d):a=0,(a||R)&&(this._skip||(i[a3]=b+-o+"px,"+-a+v)),e.scrollTop=B|0,l=e.scrollTop},this.maxScrollTop=function(){return d},this.maxScrollLeft=function(){return f},this.disable=function(){for(s=r.firstChild;s;)y=s.nextSibling,e.appendChild(s),s=y;e===r.parentNode&&e.removeChild(r)},this.enable=function(){if(s=e.firstChild,s!==r){for(;s;)y=s.nextSibling,r.appendChild(s),s=y;e.appendChild(r),this.calibrate()}},this.calibrate=function(B){var C=e.clientWidth===g,I,R,w;l=e.scrollTop,c=e.scrollLeft,!(C&&e.clientHeight===_&&r.offsetHeight===m&&A===e.scrollWidth&&u===e.scrollHeight&&!B)&&((a||o)&&(R=this.left(),w=this.top(),this.left(-e.scrollLeft),this.top(-e.scrollTop)),I=tp(e),(!C||B)&&(i.display="block",i.width="auto",i.paddingRight="0px",h=Math.max(0,e.scrollWidth-e.clientWidth),h&&(h+=parseFloat(I.paddingLeft)+(hL?parseFloat(I.paddingRight):0))),i.display="inline-block",i.position="relative",i.overflow="visible",i.verticalAlign="top",i.boxSizing="content-box",i.width="100%",i.paddingRight=h+"px",hL&&(i.paddingBottom=I.paddingBottom),g=e.clientWidth,_=e.clientHeight,A=e.scrollWidth,u=e.scrollHeight,f=e.scrollWidth-g,d=e.scrollHeight-_,m=r.offsetHeight,i.display="block",(R||w)&&(this.left(R),this.top(w)))},this.content=r,this.element=e,this._skip=!1,this.enable()},K8=function(e){if(ZY()&&document.body){var t=window&&window.navigator;Dr=window,po=document,Ql=po.documentElement,S0=po.body,j8=S4("div"),Um=!!window.PointerEvent,v0=S4("div"),v0.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",vg=v0.style.cursor==="grab"?"grab":"move",bg=t&&t.userAgent.toLowerCase().indexOf("android")!==-1,AL="ontouchstart"in Ql&&"orientation"in Dr||t&&(t.MaxTouchPoints>0||t.msMaxTouchPoints>0),hL=function(){var r=S4("div"),i=S4("div"),s=i.style,a=S0,o;return s.display="inline-block",s.position="relative",r.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",r.appendChild(i),a.appendChild(r),o=i.offsetHeight+18>r.scrollHeight,a.removeChild(r),o}(),ep=function(r){for(var i=r.split(","),s=("onpointerdown"in j8?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in j8?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":r).split(","),a={},o=4;--o>-1;)a[i[o]]=s[o],a[s[o]]=i[o];try{Ql.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){XY=1}}))}catch{}return a}("touchstart,touchmove,touchend,touchcancel"),us(po,"touchcancel",Nm),us(Dr,"touchmove",Nm),S0&&S0.addEventListener("touchstart",Nm),us(po,"contextmenu",function(){for(var r in Vh)Vh[r].isPressed&&Vh[r].endDrag()}),tr=cL=eG()}tr?(wl=tr.plugins.inertia,JY=tr.core.context||function(){},yg=tr.utils.checkPrefix,a3=yg(a3),fL=yg(fL),HA=tr.utils.toArray,uL=tr.core.getStyleSaver,rG=!!yg("perspective")):e&&console.warn("Please gsap.registerPlugin(Draggable)")},Txe=function(){function n(t){this._listeners={},this.target=t||this}var e=n.prototype;return e.addEventListener=function(r,i){var s=this._listeners[r]||(this._listeners[r]=[]);~s.indexOf(i)||s.push(i)},e.removeEventListener=function(r,i){var s=this._listeners[r],a=s&&s.indexOf(i);a>=0&&s.splice(a,1)},e.dispatchEvent=function(r){var i=this,s;return(this._listeners[r]||[]).forEach(function(a){return a.call(i,{type:r,target:i.target})===!1&&(s=!1)}),s},n}(),Au=function(n){_xe(e,n);function e(t,r){var i;i=n.call(this)||this,cL||K8(1),t=HA(t)[0],i.styles=uL&&uL(t,"transform,left,top"),wl||(wl=tr.plugins.inertia),i.vars=r=tG(r||{}),i.target=t,i.x=i.y=i.rotation=0,i.dragResistance=parseFloat(r.dragResistance)||0,i.edgeResistance=isNaN(r.edgeResistance)?1:parseFloat(r.edgeResistance)||0,i.lockAxis=r.lockAxis,i.autoScroll=r.autoScroll||0,i.lockedAxis=null,i.allowEventDefault=!!r.allowEventDefault,tr.getProperty(t,"x");var s=(r.type||"x,y").toLowerCase(),a=~s.indexOf("x")||~s.indexOf("y"),o=s.indexOf("rotation")!==-1,l=o?"rotation":a?"x":"left",c=a?"y":"top",A=!!(~s.indexOf("x")||~s.indexOf("left")||s==="scroll"),u=!!(~s.indexOf("y")||~s.indexOf("top")||s==="scroll"),h=r.minimumMovement||2,f=iU(i),d=HA(r.trigger||r.handle||t),g={},_=0,m=!1,y=r.autoScrollMarginTop||40,b=r.autoScrollMarginRight||40,v=r.autoScrollMarginBottom||40,B=r.autoScrollMarginLeft||40,C=r.clickableTest||Exe,I=0,R=t._gsap||tr.core.getCache(t),w=Cxe(t),U=function(Ue,gt){return parseFloat(R.get(t,Ue,gt))},M=t.ownerDocument||po,F,P,S,W,re,G,ie,X,ge,K,N,H,V,j,le,de,he,ue,me,_e,xe,Re,D,O,ne,te,J,ce,Me,Se,Le,He,be,Fe=function(Ue){return To(Ue),Ue.stopImmediatePropagation&&Ue.stopImmediatePropagation(),!1},Qe=function Wt(Ue){if(f.autoScroll&&f.isDragging&&(m||he)){var gt=t,at=f.autoScroll*15,lt,Pt,Ht,gn,Kt,sn,ln,yn;for(m=!1,u0.scrollTop=Dr.pageYOffset!=null?Dr.pageYOffset:M.documentElement.scrollTop!=null?M.documentElement.scrollTop:M.body.scrollTop,u0.scrollLeft=Dr.pageXOffset!=null?Dr.pageXOffset:M.documentElement.scrollLeft!=null?M.documentElement.scrollLeft:M.body.scrollLeft,gn=f.pointerX-u0.scrollLeft,Kt=f.pointerY-u0.scrollTop;gt&&!Pt;)Pt=Ld(gt.parentNode),lt=Pt?u0:gt.parentNode,Ht=Pt?{bottom:Math.max(Ql.clientHeight,Dr.innerHeight||0),right:Math.max(Ql.clientWidth,Dr.innerWidth||0),left:0,top:0}:lt.getBoundingClientRect(),sn=ln=0,u&&(yn=lt._gsMaxScrollY-lt.scrollTop,yn<0?ln=yn:Kt>Ht.bottom-v&&yn?(m=!0,ln=Math.min(yn,at*(1-Math.max(0,Ht.bottom-Kt)/v)|0)):Kt<Ht.top+y&&lt.scrollTop&&(m=!0,ln=-Math.min(lt.scrollTop,at*(1-Math.max(0,Kt-Ht.top)/y)|0)),ln&&(lt.scrollTop+=ln)),A&&(yn=lt._gsMaxScrollX-lt.scrollLeft,yn<0?sn=yn:gn>Ht.right-b&&yn?(m=!0,sn=Math.min(yn,at*(1-Math.max(0,Ht.right-gn)/b)|0)):gn<Ht.left+B&&lt.scrollLeft&&(m=!0,sn=-Math.min(lt.scrollLeft,at*(1-Math.max(0,gn-Ht.left)/B)|0)),sn&&(lt.scrollLeft+=sn)),Pt&&(sn||ln)&&(Dr.scrollTo(lt.scrollLeft,lt.scrollTop),It(f.pointerX+sn,f.pointerY+ln)),gt=lt}if(he){var Xn=f.x,ur=f.y;o?(f.deltaX=Xn-parseFloat(R.rotation),f.rotation=Xn,R.rotation=Xn+"deg",R.renderTransform(1,R)):P?(u&&(f.deltaY=ur-P.top(),P.top(ur)),A&&(f.deltaX=Xn-P.left(),P.left(Xn))):a?(u&&(f.deltaY=ur-parseFloat(R.y),R.y=ur+"px"),A&&(f.deltaX=Xn-parseFloat(R.x),R.x=Xn+"px"),R.renderTransform(1,R)):(u&&(f.deltaY=ur-parseFloat(t.style.top||0),t.style.top=ur+"px"),A&&(f.deltaX=Xn-parseFloat(t.style.left||0),t.style.left=Xn+"px")),X&&!Ue&&!ce&&(ce=!0,Mi(f,"drag","onDrag")===!1&&(A&&(f.x-=f.deltaX),u&&(f.y-=f.deltaY),Wt(!0)),ce=!1)}he=!1},Ge=function(Ue,gt){var at=f.x,lt=f.y,Pt,Ht;t._gsap||(R=tr.core.getCache(t)),R.uncache&&tr.getProperty(t,"x"),a?(f.x=parseFloat(R.x),f.y=parseFloat(R.y)):o?f.x=f.rotation=parseFloat(R.rotation):P?(f.y=P.top(),f.x=P.left()):(f.y=parseFloat(t.style.top||(Ht=tp(t))&&Ht.top)||0,f.x=parseFloat(t.style.left||(Ht||{}).left)||0),(me||_e||xe)&&!gt&&(f.isDragging||f.isThrowing)&&(xe&&(Yf.x=f.x,Yf.y=f.y,Pt=xe(Yf),Pt.x!==f.x&&(f.x=Pt.x,he=!0),Pt.y!==f.y&&(f.y=Pt.y,he=!0)),me&&(Pt=me(f.x),Pt!==f.x&&(f.x=Pt,o&&(f.rotation=Pt),he=!0)),_e&&(Pt=_e(f.y),Pt!==f.y&&(f.y=Pt),he=!0)),he&&Qe(!0),Ue||(f.deltaX=f.x-at,f.deltaY=f.y-lt,Mi(f,"throwupdate","onThrowUpdate"))},nt=function(Ue,gt,at,lt){return gt==null&&(gt=-Ku),at==null&&(at=Ku),CA(Ue)?function(Pt){var Ht=f.isPressed?1-f.edgeResistance:1;return Ue.call(f,(Pt>at?at+(Pt-at)*Ht:Pt<gt?gt+(Pt-gt)*Ht:Pt)*lt)*lt}:O2(Ue)?function(Pt){for(var Ht=Ue.length,gn=0,Kt=Ku,sn,ln;--Ht>-1;)sn=Ue[Ht],ln=sn-Pt,ln<0&&(ln=-ln),ln<Kt&&sn>=gt&&sn<=at&&(gn=Ht,Kt=ln);return Ue[gn]}:isNaN(Ue)?function(Pt){return Pt}:function(){return Ue*lt}},ke=function(Ue,gt,at,lt,Pt,Ht,gn){return Ht=Ht&&Ht<Ku?Ht*Ht:Ku,CA(Ue)?function(Kt){var sn=f.isPressed?1-f.edgeResistance:1,ln=Kt.x,yn=Kt.y,Xn,ur,Mr;return Kt.x=ln=ln>at?at+(ln-at)*sn:ln<gt?gt+(ln-gt)*sn:ln,Kt.y=yn=yn>Pt?Pt+(yn-Pt)*sn:yn<lt?lt+(yn-lt)*sn:yn,Xn=Ue.call(f,Kt),Xn!==Kt&&(Kt.x=Xn.x,Kt.y=Xn.y),gn!==1&&(Kt.x*=gn,Kt.y*=gn),Ht<Ku&&(ur=Kt.x-ln,Mr=Kt.y-yn,ur*ur+Mr*Mr>Ht&&(Kt.x=ln,Kt.y=yn)),Kt}:O2(Ue)?function(Kt){for(var sn=Ue.length,ln=0,yn=Ku,Xn,ur,Mr,Jn;--sn>-1;)Mr=Ue[sn],Xn=Mr.x-Kt.x,ur=Mr.y-Kt.y,Jn=Xn*Xn+ur*ur,Jn<yn&&(ln=sn,yn=Jn);return yn<=Ht?Ue[ln]:Kt}:function(Kt){return Kt}},De=function(){var Ue,gt,at,lt;ie=!1,P?(P.calibrate(),f.minX=N=-P.maxScrollLeft(),f.minY=V=-P.maxScrollTop(),f.maxX=K=f.maxY=H=0,ie=!0):r.bounds&&(Ue=dU(r.bounds,t.parentNode),o?(f.minX=N=Ue.left,f.maxX=K=Ue.left+Ue.width,f.minY=V=f.maxY=H=0):!Il(r.bounds.maxX)||!Il(r.bounds.maxY)?(Ue=r.bounds,f.minX=N=Ue.minX,f.minY=V=Ue.minY,f.maxX=K=Ue.maxX,f.maxY=H=Ue.maxY):(gt=dU(t,t.parentNode),f.minX=N=Math.round(U(l,"px")+Ue.left-gt.left),f.minY=V=Math.round(U(c,"px")+Ue.top-gt.top),f.maxX=K=Math.round(N+(Ue.width-gt.width)),f.maxY=H=Math.round(V+(Ue.height-gt.height))),N>K&&(f.minX=K,f.maxX=K=N,N=f.minX),V>H&&(f.minY=H,f.maxY=H=V,V=f.minY),o&&(f.minRotation=N,f.maxRotation=K),ie=!0),r.liveSnap&&(at=r.liveSnap===!0?r.snap||{}:r.liveSnap,lt=O2(at)||CA(at),o?(me=nt(lt?at:at.rotation,N,K,1),_e=null):at.points?xe=ke(lt?at:at.points,N,K,V,H,at.radius,P?-1:1):(A&&(me=nt(lt?at:at.x||at.left||at.scrollLeft,N,K,P?-1:1)),u&&(_e=nt(lt?at:at.y||at.top||at.scrollTop,V,H,P?-1:1))))},At=function(){f.isThrowing=!1,Mi(f,"throwcomplete","onThrowComplete")},kt=function(){f.isThrowing=!1},rt=function(Ue,gt){var at,lt,Pt,Ht;Ue&&wl?(Ue===!0&&(at=r.snap||r.liveSnap||{},lt=O2(at)||CA(at),Ue={resistance:(r.throwResistance||r.resistance||1e3)/(o?10:1)},o?Ue.rotation=V8(f,lt?at:at.rotation,K,N,1,gt):(A&&(Ue[l]=V8(f,lt?at:at.points||at.x||at.left,K,N,P?-1:1,gt||f.lockedAxis==="x")),u&&(Ue[c]=V8(f,lt?at:at.points||at.y||at.top,H,V,P?-1:1,gt||f.lockedAxis==="y")),(at.points||O2(at)&&s3(at[0]))&&(Ue.linkedProps=l+","+c,Ue.radius=at.radius))),f.isThrowing=!0,Ht=isNaN(r.overshootTolerance)?r.edgeResistance===1?0:1-f.edgeResistance+.2:r.overshootTolerance,Ue.duration||(Ue.duration={max:Math.max(r.minDuration||0,"maxDuration"in r?r.maxDuration:2),min:isNaN(r.minDuration)?Ht===0||s3(Ue)&&Ue.resistance>1e3?0:.5:r.minDuration,overshoot:Ht}),f.tween=Pt=tr.to(P||t,{inertia:Ue,data:"_draggable",inherit:!1,onComplete:At,onInterrupt:kt,onUpdate:r.fastMode?Mi:Ge,onUpdateParams:r.fastMode?[f,"onthrowupdate","onThrowUpdate"]:at&&at.radius?[!1,!0]:[]}),r.fastMode||(P&&(P._skip=!0),Pt.render(1e9,!0,!0),Ge(!0,!0),f.endX=f.x,f.endY=f.y,o&&(f.endRotation=f.x),Pt.play(0),Ge(!0,!0),P&&(P._skip=!1))):ie&&f.applyBounds()},Nt=function(Ue){var gt=O,at;O=i1(t.parentNode,!0),Ue&&f.isPressed&&!O.equals(gt||new W1)&&(at=gt.inverse().apply({x:S,y:W}),O.apply(at,at),S=at.x,W=at.y),O.equals(mxe)&&(O=null)},ot=function(){var Ue=1-f.edgeResistance,gt=w?$h(M):0,at=w?Kh(M):0,lt,Pt,Ht;a&&(R.x=U(l,"px")+"px",R.y=U(c,"px")+"px",R.renderTransform()),Nt(!1),Mo.x=f.pointerX-gt,Mo.y=f.pointerY-at,O&&O.apply(Mo,Mo),S=Mo.x,W=Mo.y,he&&(It(f.pointerX,f.pointerY),Qe(!0)),He=i1(t),P?(De(),G=P.top(),re=P.left()):(Rt()?(Ge(!0,!0),De()):f.applyBounds(),o?(lt=t.ownerSVGElement?[R.xOrigin-t.getBBox().x,R.yOrigin-t.getBBox().y]:(tp(t)[fL]||"0 0").split(" "),de=f.rotationOrigin=i1(t).apply({x:parseFloat(lt[0])||0,y:parseFloat(lt[1])||0}),Ge(!0,!0),Pt=f.pointerX-de.x-gt,Ht=de.y-f.pointerY+at,re=f.x,G=f.y=Math.atan2(Ht,Pt)*sU):(G=U(c,"px"),re=U(l,"px"))),ie&&Ue&&(re>K?re=K+(re-K)/Ue:re<N&&(re=N-(N-re)/Ue),o||(G>H?G=H+(G-H)/Ue:G<V&&(G=V-(V-G)/Ue))),f.startX=re=yA(re),f.startY=G=yA(G)},Rt=function(){return f.tween&&f.tween.isActive()},Tt=function(){v0.parentNode&&!Rt()&&!f.isDragging&&v0.parentNode.removeChild(v0)},Jt=function(Ue,gt){var at;if(!F||f.isPressed||!Ue||(Ue.type==="mousedown"||Ue.type==="pointerdown")&&!gt&&bA()-I<30&&ep[f.pointerEvent.type]){Le&&Ue&&F&&To(Ue);return}if(ne=Rt(),be=!1,f.pointerEvent=Ue,ep[Ue.type]?(D=~Ue.type.indexOf("touch")?Ue.currentTarget||Ue.target:M,us(D,"touchend",tn),us(D,"touchmove",wt),us(D,"touchcancel",tn),us(M,"touchstart",AU)):(D=null,us(M,"mousemove",wt)),J=null,(!Um||!D)&&(us(M,"mouseup",tn),Ue&&Ue.target&&us(Ue.target,"mouseup",tn)),Re=C.call(f,Ue.target)&&r.dragClickables===!1&&!gt,Re){us(Ue.target,"change",tn),Mi(f,"pressInit","onPressInit"),Mi(f,"press","onPress"),F4(d,!0),Le=!1;return}if(te=!D||A===u||f.vars.allowNativeTouchScrolling===!1||f.vars.allowContextMenu&&Ue&&(Ue.ctrlKey||Ue.which>2)?!1:A?"y":"x",Le=!te&&!f.allowEventDefault,Le&&(To(Ue),us(Dr,"touchforcechange",To)),Ue.changedTouches?(Ue=j=Ue.changedTouches[0],le=Ue.identifier):Ue.pointerId?le=Ue.pointerId:j=le=null,ay++,wxe(Qe),W=f.pointerY=Ue.pageY,S=f.pointerX=Ue.pageX,Mi(f,"pressInit","onPressInit"),(te||f.autoScroll)&&Y8(t.parentNode),t.parentNode&&f.autoScroll&&!P&&!o&&t.parentNode._gsMaxScrollX&&!v0.parentNode&&!t.getBBox&&(v0.style.width=t.parentNode.scrollWidth+"px",t.parentNode.appendChild(v0)),ot(),f.tween&&f.tween.kill(),f.isThrowing=!1,tr.killTweensOf(P||t,g,!0),P&&tr.killTweensOf(t,{scrollTo:1},!0),f.tween=f.lockedAxis=null,(r.zIndexBoost||!o&&!P&&r.zIndexBoost!==!1)&&(t.style.zIndex=e.zIndex++),f.isPressed=!0,X=!!(r.onDrag||f._listeners.drag),ge=!!(r.onMove||f._listeners.move),r.cursor!==!1||r.activeCursor)for(at=d.length;--at>-1;)tr.set(d[at],{cursor:r.activeCursor||r.cursor||(vg==="grab"?"grabbing":vg)});Mi(f,"press","onPress")},wt=function(Ue){var gt=Ue,at,lt,Pt,Ht,gn,Kt;if(!F||xB||!f.isPressed||!Ue){Le&&Ue&&F&&To(Ue);return}if(f.pointerEvent=Ue,at=Ue.changedTouches,at){if(Ue=at[0],Ue!==j&&Ue.identifier!==le){for(Ht=at.length;--Ht>-1&&(Ue=at[Ht]).identifier!==le&&Ue.target!==t;);if(Ht<0)return}}else if(Ue.pointerId&&le&&Ue.pointerId!==le)return;if(D&&te&&!J&&(Mo.x=Ue.pageX-(w?$h(M):0),Mo.y=Ue.pageY-(w?Kh(M):0),O&&O.apply(Mo,Mo),lt=Mo.x,Pt=Mo.y,gn=Math.abs(lt-S),Kt=Math.abs(Pt-W),(gn!==Kt&&(gn>h||Kt>h)||bg&&te===J)&&(J=gn>Kt&&A?"x":"y",te&&J!==te&&us(Dr,"touchforcechange",To),f.vars.lockAxisOnTouchScroll!==!1&&A&&u&&(f.lockedAxis=J==="x"?"y":"x",CA(f.vars.onLockAxis)&&f.vars.onLockAxis.call(f,gt)),bg&&te===J))){tn(gt);return}!f.allowEventDefault&&(!te||J&&te!==J)&&gt.cancelable!==!1?(To(gt),Le=!0):Le&&(Le=!1),f.autoScroll&&(m=!0),It(Ue.pageX,Ue.pageY,ge)},It=function(Ue,gt,at){var lt=1-f.dragResistance,Pt=1-f.edgeResistance,Ht=f.pointerX,gn=f.pointerY,Kt=G,sn=f.x,ln=f.y,yn=f.endX,Xn=f.endY,ur=f.endRotation,Mr=he,Jn,Vr,ct,pn,ys,Jr;f.pointerX=Ue,f.pointerY=gt,w&&(Ue-=$h(M),gt-=Kh(M)),o?(pn=Math.atan2(de.y-gt,Ue-de.x)*sU,ys=f.y-pn,ys>180?(G-=360,f.y=pn):ys<-180&&(G+=360,f.y=pn),f.x!==re||Math.max(Math.abs(S-Ue),Math.abs(W-gt))>h?(f.y=pn,ct=re+(G-pn)*lt):ct=re):(O&&(Jr=Ue*O.a+gt*O.c+O.e,gt=Ue*O.b+gt*O.d+O.f,Ue=Jr),Vr=gt-W,Jn=Ue-S,Vr<h&&Vr>-h&&(Vr=0),Jn<h&&Jn>-h&&(Jn=0),(f.lockAxis||f.lockedAxis)&&(Jn||Vr)&&(Jr=f.lockedAxis,Jr||(f.lockedAxis=Jr=A&&Math.abs(Jn)>Math.abs(Vr)?"y":u?"x":null,Jr&&CA(f.vars.onLockAxis)&&f.vars.onLockAxis.call(f,f.pointerEvent)),Jr==="y"?Vr=0:Jr==="x"&&(Jn=0)),ct=yA(re+Jn*lt),pn=yA(G+Vr*lt)),(me||_e||xe)&&(f.x!==ct||f.y!==pn&&!o)&&(xe&&(Yf.x=ct,Yf.y=pn,Jr=xe(Yf),ct=yA(Jr.x),pn=yA(Jr.y)),me&&(ct=yA(me(ct))),_e&&(pn=yA(_e(pn)))),ie&&(ct>K?ct=K+Math.round((ct-K)*Pt):ct<N&&(ct=N+Math.round((ct-N)*Pt)),o||(pn>H?pn=Math.round(H+(pn-H)*Pt):pn<V&&(pn=Math.round(V+(pn-V)*Pt)))),(f.x!==ct||f.y!==pn&&!o)&&(o?(f.endRotation=f.x=f.endX=ct,he=!0):(u&&(f.y=f.endY=pn,he=!0),A&&(f.x=f.endX=ct,he=!0)),!at||Mi(f,"move","onMove")!==!1?!f.isDragging&&f.isPressed&&(f.isDragging=be=!0,Mi(f,"dragstart","onDragStart")):(f.pointerX=Ht,f.pointerY=gn,G=Kt,f.x=sn,f.y=ln,f.endX=yn,f.endY=Xn,f.endRotation=ur,he=Mr))},tn=function Wt(Ue,gt){if(!F||!f.isPressed||Ue&&le!=null&&!gt&&(Ue.pointerId&&Ue.pointerId!==le&&Ue.target!==t||Ue.changedTouches&&!xxe(Ue.changedTouches,le))){Le&&Ue&&F&&To(Ue);return}f.isPressed=!1;var at=Ue,lt=f.isDragging,Pt=f.vars.allowContextMenu&&Ue&&(Ue.ctrlKey||Ue.which>2),Ht=tr.delayedCall(.001,Tt),gn,Kt,sn,ln,yn;if(D?(Vi(D,"touchend",Wt),Vi(D,"touchmove",wt),Vi(D,"touchcancel",Wt),Vi(M,"touchstart",AU)):Vi(M,"mousemove",wt),Vi(Dr,"touchforcechange",To),(!Um||!D)&&(Vi(M,"mouseup",Wt),Ue&&Ue.target&&Vi(Ue.target,"mouseup",Wt)),he=!1,lt&&(_=aU=bA(),f.isDragging=!1),cU(Qe),Re&&!Pt){Ue&&(Vi(Ue.target,"change",Wt),f.pointerEvent=at),F4(d,!1),Mi(f,"release","onRelease"),Mi(f,"click","onClick"),Re=!1;return}for(Kt=d.length;--Kt>-1;)G8(d[Kt],"cursor",r.cursor||(r.cursor!==!1?vg:null));if(ay--,Ue){if(gn=Ue.changedTouches,gn&&(Ue=gn[0],Ue!==j&&Ue.identifier!==le)){for(Kt=gn.length;--Kt>-1&&(Ue=gn[Kt]).identifier!==le&&Ue.target!==t;);if(Kt<0&&!gt)return}f.pointerEvent=at,f.pointerX=Ue.pageX,f.pointerY=Ue.pageY}return Pt&&at?(To(at),Le=!0,Mi(f,"release","onRelease")):at&&!lt?(Le=!1,ne&&(r.snap||r.bounds)&&rt(r.inertia||r.throwProps),Mi(f,"release","onRelease"),(!bg||at.type!=="touchmove")&&at.type.indexOf("cancel")===-1&&(Mi(f,"click","onClick"),bA()-I<300&&Mi(f,"doubleclick","onDoubleClick"),ln=at.target||t,I=bA(),yn=function(){I!==Me&&f.enabled()&&!f.isPressed&&!at.defaultPrevented&&(ln.click?ln.click():M.createEvent&&(sn=M.createEvent("MouseEvents"),sn.initMouseEvent("click",!0,!0,Dr,1,f.pointerEvent.screenX,f.pointerEvent.screenY,f.pointerX,f.pointerY,!1,!1,!1,!1,0,null),ln.dispatchEvent(sn)))},!bg&&!at.defaultPrevented&&tr.delayedCall(.05,yn))):(rt(r.inertia||r.throwProps),!f.allowEventDefault&&at&&(r.dragClickables!==!1||!C.call(f,at.target))&&lt&&(!te||J&&te===J)&&at.cancelable!==!1?(Le=!0,To(at)):Le=!1,Mi(f,"release","onRelease")),Rt()&&Ht.duration(f.tween.duration()),lt&&Mi(f,"dragend","onDragEnd"),!0},rn=function(Ue){if(Ue&&f.isDragging&&!P){var gt=Ue.target||t.parentNode,at=gt.scrollLeft-gt._gsScrollX,lt=gt.scrollTop-gt._gsScrollY;(at||lt)&&(O?(S-=at*O.a+lt*O.c,W-=lt*O.d+at*O.b):(S-=at,W-=lt),gt._gsScrollX+=at,gt._gsScrollY+=lt,It(f.pointerX,f.pointerY))}},Vt=function(Ue){var gt=bA(),at=gt-I<100,lt=gt-_<50,Pt=at&&Me===I,Ht=f.pointerEvent&&f.pointerEvent.defaultPrevented,gn=at&&Se===I,Kt=Ue.isTrusted||Ue.isTrusted==null&&at&&Pt;if((Pt||lt&&f.vars.suppressClickOnDrag!==!1)&&Ue.stopImmediatePropagation&&Ue.stopImmediatePropagation(),at&&!(f.pointerEvent&&f.pointerEvent.defaultPrevented)&&(!Pt||Kt&&!gn)){Kt&&Pt&&(Se=I),Me=I;return}(f.isPressed||lt||at)&&(!Kt||!Ue.detail||!at||Ht)&&To(Ue),!at&&!lt&&!be&&(Ue&&Ue.target&&(f.pointerEvent=Ue),Mi(f,"click","onClick"))},Dn=function(Ue){return O?{x:Ue.x*O.a+Ue.y*O.c+O.e,y:Ue.x*O.b+Ue.y*O.d+O.f}:{x:Ue.x,y:Ue.y}};return ue=e.get(t),ue&&ue.kill(),i.startDrag=function(Wt,Ue){var gt,at,lt,Pt;Jt(Wt||f.pointerEvent,!0),Ue&&!f.hitTest(Wt||f.pointerEvent)&&(gt=Gf(Wt||f.pointerEvent),at=Gf(t),lt=Dn({x:gt.left+gt.width/2,y:gt.top+gt.height/2}),Pt=Dn({x:at.left+at.width/2,y:at.top+at.height/2}),S-=lt.x-Pt.x,W-=lt.y-Pt.y),f.isDragging||(f.isDragging=be=!0,Mi(f,"dragstart","onDragStart"))},i.drag=wt,i.endDrag=function(Wt){return tn(Wt||f.pointerEvent,!0)},i.timeSinceDrag=function(){return f.isDragging?0:(bA()-_)/1e3},i.timeSinceClick=function(){return(bA()-I)/1e3},i.hitTest=function(Wt,Ue){return e.hitTest(f.target,Wt,Ue)},i.getDirection=function(Wt,Ue){var gt=Wt==="velocity"&&wl?Wt:s3(Wt)&&!o?"element":"start",at,lt,Pt,Ht,gn,Kt;return gt==="element"&&(gn=Gf(f.target),Kt=Gf(Wt)),at=gt==="start"?f.x-re:gt==="velocity"?wl.getVelocity(t,l):gn.left+gn.width/2-(Kt.left+Kt.width/2),o?at<0?"counter-clockwise":"clockwise":(Ue=Ue||2,lt=gt==="start"?f.y-G:gt==="velocity"?wl.getVelocity(t,c):gn.top+gn.height/2-(Kt.top+Kt.height/2),Pt=Math.abs(at/lt),Ht=Pt<1/Ue?"":at<0?"left":"right",Pt<Ue&&(Ht!==""&&(Ht+="-"),Ht+=lt<0?"up":"down"),Ht)},i.applyBounds=function(Wt,Ue){var gt,at,lt,Pt,Ht,gn;if(Wt&&r.bounds!==Wt)return r.bounds=Wt,f.update(!0,Ue);if(Ge(!0),De(),ie&&!Rt()){if(gt=f.x,at=f.y,gt>K?gt=K:gt<N&&(gt=N),at>H?at=H:at<V&&(at=V),(f.x!==gt||f.y!==at)&&(lt=!0,f.x=f.endX=gt,o?f.endRotation=gt:f.y=f.endY=at,he=!0,Qe(!0),f.autoScroll&&!f.isDragging))for(Y8(t.parentNode),Pt=t,u0.scrollTop=Dr.pageYOffset!=null?Dr.pageYOffset:M.documentElement.scrollTop!=null?M.documentElement.scrollTop:M.body.scrollTop,u0.scrollLeft=Dr.pageXOffset!=null?Dr.pageXOffset:M.documentElement.scrollLeft!=null?M.documentElement.scrollLeft:M.body.scrollLeft;Pt&&!gn;)gn=Ld(Pt.parentNode),Ht=gn?u0:Pt.parentNode,u&&Ht.scrollTop>Ht._gsMaxScrollY&&(Ht.scrollTop=Ht._gsMaxScrollY),A&&Ht.scrollLeft>Ht._gsMaxScrollX&&(Ht.scrollLeft=Ht._gsMaxScrollX),Pt=Ht;f.isThrowing&&(lt||f.endX>K||f.endX<N||f.endY>H||f.endY<V)&&rt(r.inertia||r.throwProps,lt)}return f},i.update=function(Wt,Ue,gt){if(Ue&&f.isPressed){var at=i1(t),lt=He.apply({x:f.x-re,y:f.y-G}),Pt=i1(t.parentNode,!0);Pt.apply({x:at.e-lt.x,y:at.f-lt.y},lt),f.x-=lt.x-Pt.e,f.y-=lt.y-Pt.f,Qe(!0),ot()}var Ht=f.x,gn=f.y;return Nt(!Ue),Wt?f.applyBounds():(he&&gt&&Qe(!0),Ge(!0)),Ue&&(It(f.pointerX,f.pointerY),he&&Qe(!0)),f.isPressed&&!Ue&&(A&&Math.abs(Ht-f.x)>.01||u&&Math.abs(gn-f.y)>.01&&!o)&&ot(),f.autoScroll&&(Y8(t.parentNode,f.isDragging),m=f.isDragging,Qe(!0),fU(t,rn),uU(t,rn)),f},i.enable=function(Wt){var Ue={lazy:!0},gt,at,lt;if(r.cursor!==!1&&(Ue.cursor=r.cursor||vg),tr.utils.checkPrefix("touchCallout")&&(Ue.touchCallout="none"),Wt!=="soft"){for(oU(d,A===u?"none":r.allowNativeTouchScrolling&&t.scrollHeight===t.clientHeight==(t.scrollWidth===t.clientHeight)||r.allowEventDefault?"manipulation":A?"pan-y":"pan-x"),at=d.length;--at>-1;)lt=d[at],Um||us(lt,"mousedown",Jt),us(lt,"touchstart",Jt),us(lt,"click",Vt,!0),tr.set(lt,Ue),lt.getBBox&&lt.ownerSVGElement&&A!==u&&tr.set(lt.ownerSVGElement,{touchAction:r.allowNativeTouchScrolling||r.allowEventDefault?"manipulation":A?"pan-y":"pan-x"}),r.allowContextMenu||us(lt,"contextmenu",Fe);F4(d,!1)}return uU(t,rn),F=!0,wl&&Wt!=="soft"&&wl.track(P||t,a?"x,y":o?"rotation":"top,left"),t._gsDragID=gt=t._gsDragID||"d"+yxe++,Vh[gt]=f,P&&(P.enable(),P.element._gsDragID=gt),(r.bounds||o)&&ot(),r.bounds&&f.applyBounds(),f},i.disable=function(Wt){for(var Ue=f.isDragging,gt=d.length,at;--gt>-1;)G8(d[gt],"cursor",null);if(Wt!=="soft"){for(oU(d,null),gt=d.length;--gt>-1;)at=d[gt],G8(at,"touchCallout",null),Vi(at,"mousedown",Jt),Vi(at,"touchstart",Jt),Vi(at,"click",Vt,!0),Vi(at,"contextmenu",Fe);F4(d,!0),D&&(Vi(D,"touchcancel",tn),Vi(D,"touchend",tn),Vi(D,"touchmove",wt)),Vi(M,"mouseup",tn),Vi(M,"mousemove",wt)}return fU(t,rn),F=!1,wl&&Wt!=="soft"&&(wl.untrack(P||t,a?"x,y":o?"rotation":"top,left"),f.tween&&f.tween.kill()),P&&P.disable(),cU(Qe),f.isDragging=f.isPressed=Re=!1,Ue&&Mi(f,"dragend","onDragEnd"),f},i.enabled=function(Wt,Ue){return arguments.length?Wt?f.enable(Ue):f.disable(Ue):F},i.kill=function(){return f.isThrowing=!1,f.tween&&f.tween.kill(),f.disable(),tr.set(d,{clearProps:"userSelect"}),delete Vh[t._gsDragID],f},i.revert=function(){this.kill(),this.styles&&this.styles.revert()},~s.indexOf("scroll")&&(P=i.scrollProxy=new Ixe(t,vxe({onKill:function(){f.isPressed&&tn(null)}},r)),t.style.overflowY=u&&!AL?"auto":"hidden",t.style.overflowX=A&&!AL?"auto":"hidden",t=P.content),o?g.rotation=1:(A&&(g[l]=1),u&&(g[c]=1)),R.force3D="force3D"in r?r.force3D:!0,JY(iU(i)),i.enable(),i}return e.register=function(r){tr=r,K8()},e.create=function(r,i){return cL||K8(!0),HA(r).map(function(s){return new e(s,i)})},e.get=function(r){return Vh[(HA(r)[0]||{})._gsDragID]},e.timeSinceDrag=function(){return(bA()-aU)/1e3},e.hitTest=function(r,i,s){if(r===i)return!1;var a=Gf(r),o=Gf(i),l=a.top,c=a.left,A=a.right,u=a.bottom,h=a.width,f=a.height,d=o.left>A||o.right<c||o.top>u||o.bottom<l,g,_,m;return d||!s?!d:(m=(s+"").indexOf("%")!==-1,s=parseFloat(s)||0,g={left:Math.max(c,o.left),top:Math.max(l,o.top)},g.width=Math.min(A,o.right)-g.left,g.height=Math.min(u,o.bottom)-g.top,g.width<0||g.height<0?!1:m?(s*=.01,_=g.width*g.height,_>=h*f*s||_>=o.width*o.height*s):g.width>s&&g.height>s)},e}(Txe);Lxe(Au.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1});Au.zIndex=1e3;Au.version="3.13.0";eG()&&tr.registerPlugin(Au);Ln(["click"]);var Mxe=we('<div class="pointer-events-auto relative grid h-[50px] w-[50px] shrink-0 place-items-center overflow-hidden lg:drop-shadow-lg svelte-1ja4ywz"><!></div>');function iG(n,e){Mt(e,!0);let t=Oe(null),r,i=Oe("");const s=l=>{const c=l[0];if(c.attributeName==="class"){const A=c.target;if(A.classList.contains("maplibregl-ctrl-geolocate-waiting")){ee(i,"waiting"),ci("...","info");return}else if(A.classList.contains("maplibregl-ctrl-geolocate-active")||A.classList.contains("maplibregl-ctrl-geolocate-background")){ee(i,"active");return}else if(A.classList.contains("maplibregl-ctrl-geolocate-error")||A.classList.contains("maplibregl-ctrl-geolocate-background-error")){ee(i,"error"),ci("","error");return}else ee(i,"")}};ni(()=>{Dt.onInitialized(l=>{if(l){const c=new k$.GeolocateControl({positionOptions:{enableHighAccuracy:!0},fitBoundsOptions:{maxZoom:12},trackUserLocation:!0,showUserLocation:!0});E(t)&&(E(t).appendChild(c.onAdd(l)),r=new MutationObserver(s),r.observe(c._container.children[0],{attributes:!0,attributeFilter:["class"]}))}})});var a=Mxe(),o=q(a);{let l=Ot(()=>E(i)==="waiting"?"css-rotate text-accent":E(i)==="active"?"text-accent":E(i)==="error"?"text-red-500":"text-base");Bt(o,{icon:"f7:location-fill",get class(){return`absolute h-6 w-6 ${E(l)??""}`}})}$(a),qn(a,l=>ee(t,l),()=>E(t)),Z(n,a),St()}var Sxe=we('<button class="absolute right-14 top-0 grid h-full cursor-pointer place-items-center"><!></button>'),Fxe=we('<input type="text" class="focus:outline-hidden placeholder:gray-400 w-full rounded-l-full bg-black px-5 py-2 text-base outline-0"/> <!>',1);function Uxe(n,e){Mt(e,!0);let t=Ne(e,"inputSearchWord",15),r=Oe(!1),i=Oe(!1),s=Oe(null),a=Oe(!1);const o=async h=>{if(h=h.trim(),!!h){ee(r,!0);try{await e.searchFeature(h)}catch(f){console.error(f)}finally{ee(r,!1)}}};var l=Fxe(),c=Je(l);ts(c),c.__keydown=h=>{h.key==="Enter"&&!E(i)&&o(t())},qn(c,h=>ee(s,h),()=>E(s));var A=oe(c,2);{var u=h=>{var f=Sxe();f.__click=()=>t("");var d=q(f);Bt(d,{icon:"material-symbols:close-rounded",class:"h-7 w-7 text-gray-400"}),$(f),Ye(()=>f.disabled=!t()),Z(h,f)};Te(A,h=>{t()&&h(u)})}Ye(()=>pt(c,"placeholder",E(a)?" /  /  / ":"")),Bn("compositionstart",c,()=>ee(i,!0)),Bn("compositionend",c,()=>ee(i,!1)),Bn("focus",c,()=>{ee(a,!0),gc.set(!0)}),Bn("blur",c,()=>{ee(a,!1)}),Yt(1,c,()=>cr,()=>({duration:100,delay:100})),Yt(2,c,()=>cr,()=>({duration:100})),fp(c,t),Z(n,l),St()}Ln(["keydown","click"]);const p={};p.MUNI_ARRAY={};p.MUNI_ARRAY[1100]="1,,1100,";p.MUNI_ARRAY[1101]="1,,1101,";p.MUNI_ARRAY[1102]="1,,1102,";p.MUNI_ARRAY[1103]="1,,1103,";p.MUNI_ARRAY[1104]="1,,1104,";p.MUNI_ARRAY[1105]="1,,1105,";p.MUNI_ARRAY[1106]="1,,1106,";p.MUNI_ARRAY[1107]="1,,1107,";p.MUNI_ARRAY[1108]="1,,1108,";p.MUNI_ARRAY[1109]="1,,1109,";p.MUNI_ARRAY[1110]="1,,1110,";p.MUNI_ARRAY[1202]="1,,1202,";p.MUNI_ARRAY[1203]="1,,1203,";p.MUNI_ARRAY[1204]="1,,1204,";p.MUNI_ARRAY[1205]="1,,1205,";p.MUNI_ARRAY[1206]="1,,1206,";p.MUNI_ARRAY[1207]="1,,1207,";p.MUNI_ARRAY[1208]="1,,1208,";p.MUNI_ARRAY[1209]="1,,1209,";p.MUNI_ARRAY[1210]="1,,1210,";p.MUNI_ARRAY[1211]="1,,1211,";p.MUNI_ARRAY[1212]="1,,1212,";p.MUNI_ARRAY[1213]="1,,1213,";p.MUNI_ARRAY[1214]="1,,1214,";p.MUNI_ARRAY[1215]="1,,1215,";p.MUNI_ARRAY[1216]="1,,1216,";p.MUNI_ARRAY[1217]="1,,1217,";p.MUNI_ARRAY[1218]="1,,1218,";p.MUNI_ARRAY[1219]="1,,1219,";p.MUNI_ARRAY[1220]="1,,1220,";p.MUNI_ARRAY[1221]="1,,1221,";p.MUNI_ARRAY[1222]="1,,1222,";p.MUNI_ARRAY[1223]="1,,1223,";p.MUNI_ARRAY[1224]="1,,1224,";p.MUNI_ARRAY[1225]="1,,1225,";p.MUNI_ARRAY[1226]="1,,1226,";p.MUNI_ARRAY[1227]="1,,1227,";p.MUNI_ARRAY[1228]="1,,1228,";p.MUNI_ARRAY[1229]="1,,1229,";p.MUNI_ARRAY[1230]="1,,1230,";p.MUNI_ARRAY[1231]="1,,1231,";p.MUNI_ARRAY[1233]="1,,1233,";p.MUNI_ARRAY[1234]="1,,1234,";p.MUNI_ARRAY[1235]="1,,1235,";p.MUNI_ARRAY[1236]="1,,1236,";p.MUNI_ARRAY[1303]="1,,1303,";p.MUNI_ARRAY[1304]="1,,1304,";p.MUNI_ARRAY[1331]="1,,1331,";p.MUNI_ARRAY[1332]="1,,1332,";p.MUNI_ARRAY[1333]="1,,1333,";p.MUNI_ARRAY[1334]="1,,1334,";p.MUNI_ARRAY[1337]="1,,1337,";p.MUNI_ARRAY[1343]="1,,1343,";p.MUNI_ARRAY[1345]="1,,1345,";p.MUNI_ARRAY[1346]="1,,1346,";p.MUNI_ARRAY[1347]="1,,1347,";p.MUNI_ARRAY[1361]="1,,1361,";p.MUNI_ARRAY[1362]="1,,1362,";p.MUNI_ARRAY[1363]="1,,1363,";p.MUNI_ARRAY[1364]="1,,1364,";p.MUNI_ARRAY[1367]="1,,1367,";p.MUNI_ARRAY[1370]="1,,1370,";p.MUNI_ARRAY[1371]="1,,1371,";p.MUNI_ARRAY[1391]="1,,1391,";p.MUNI_ARRAY[1392]="1,,1392,";p.MUNI_ARRAY[1393]="1,,1393,";p.MUNI_ARRAY[1394]="1,,1394,";p.MUNI_ARRAY[1395]="1,,1395,";p.MUNI_ARRAY[1396]="1,,1396,";p.MUNI_ARRAY[1397]="1,,1397,";p.MUNI_ARRAY[1398]="1,,1398,";p.MUNI_ARRAY[1399]="1,,1399,";p.MUNI_ARRAY[1400]="1,,1400,";p.MUNI_ARRAY[1401]="1,,1401,";p.MUNI_ARRAY[1402]="1,,1402,";p.MUNI_ARRAY[1403]="1,,1403,";p.MUNI_ARRAY[1404]="1,,1404,";p.MUNI_ARRAY[1405]="1,,1405,";p.MUNI_ARRAY[1406]="1,,1406,";p.MUNI_ARRAY[1407]="1,,1407,";p.MUNI_ARRAY[1408]="1,,1408,";p.MUNI_ARRAY[1409]="1,,1409,";p.MUNI_ARRAY[1423]="1,,1423,";p.MUNI_ARRAY[1424]="1,,1424,";p.MUNI_ARRAY[1425]="1,,1425,";p.MUNI_ARRAY[1427]="1,,1427,";p.MUNI_ARRAY[1428]="1,,1428,";p.MUNI_ARRAY[1429]="1,,1429,";p.MUNI_ARRAY[1430]="1,,1430,";p.MUNI_ARRAY[1431]="1,,1431,";p.MUNI_ARRAY[1432]="1,,1432,";p.MUNI_ARRAY[1433]="1,,1433,";p.MUNI_ARRAY[1434]="1,,1434,";p.MUNI_ARRAY[1436]="1,,1436,";p.MUNI_ARRAY[1437]="1,,1437,";p.MUNI_ARRAY[1438]="1,,1438,";p.MUNI_ARRAY[1452]="1,,1452,";p.MUNI_ARRAY[1453]="1,,1453,";p.MUNI_ARRAY[1454]="1,,1454,";p.MUNI_ARRAY[1455]="1,,1455,";p.MUNI_ARRAY[1456]="1,,1456,";p.MUNI_ARRAY[1457]="1,,1457,";p.MUNI_ARRAY[1458]="1,,1458,";p.MUNI_ARRAY[1459]="1,,1459,";p.MUNI_ARRAY[1460]="1,,1460,";p.MUNI_ARRAY[1461]="1,,1461,";p.MUNI_ARRAY[1462]="1,,1462,";p.MUNI_ARRAY[1463]="1,,1463,";p.MUNI_ARRAY[1464]="1,,1464,";p.MUNI_ARRAY[1465]="1,,1465,";p.MUNI_ARRAY[1468]="1,,1468,";p.MUNI_ARRAY[1469]="1,,1469,";p.MUNI_ARRAY[1470]="1,,1470,";p.MUNI_ARRAY[1471]="1,,1471,";p.MUNI_ARRAY[1472]="1,,1472,";p.MUNI_ARRAY[1481]="1,,1481,";p.MUNI_ARRAY[1482]="1,,1482,";p.MUNI_ARRAY[1483]="1,,1483,";p.MUNI_ARRAY[1484]="1,,1484,";p.MUNI_ARRAY[1485]="1,,1485,";p.MUNI_ARRAY[1486]="1,,1486,";p.MUNI_ARRAY[1487]="1,,1487,";p.MUNI_ARRAY[1511]="1,,1511,";p.MUNI_ARRAY[1512]="1,,1512,";p.MUNI_ARRAY[1513]="1,,1513,";p.MUNI_ARRAY[1514]="1,,1514,";p.MUNI_ARRAY[1516]="1,,1516,";p.MUNI_ARRAY[1517]="1,,1517,";p.MUNI_ARRAY[1518]="1,,1518,";p.MUNI_ARRAY[1519]="1,,1519,";p.MUNI_ARRAY[1520]="1,,1520,";p.MUNI_ARRAY[1543]="1,,1543,";p.MUNI_ARRAY[1544]="1,,1544,";p.MUNI_ARRAY[1545]="1,,1545,";p.MUNI_ARRAY[1546]="1,,1546,";p.MUNI_ARRAY[1547]="1,,1547,";p.MUNI_ARRAY[1549]="1,,1549,";p.MUNI_ARRAY[1550]="1,,1550,";p.MUNI_ARRAY[1552]="1,,1552,";p.MUNI_ARRAY[1555]="1,,1555,";p.MUNI_ARRAY[1559]="1,,1559,";p.MUNI_ARRAY[1560]="1,,1560,";p.MUNI_ARRAY[1561]="1,,1561,";p.MUNI_ARRAY[1562]="1,,1562,";p.MUNI_ARRAY[1563]="1,,1563,";p.MUNI_ARRAY[1564]="1,,1564,";p.MUNI_ARRAY[1571]="1,,1571,";p.MUNI_ARRAY[1575]="1,,1575,";p.MUNI_ARRAY[1578]="1,,1578,";p.MUNI_ARRAY[1581]="1,,1581,";p.MUNI_ARRAY[1584]="1,,1584,";p.MUNI_ARRAY[1585]="1,,1585,";p.MUNI_ARRAY[1586]="1,,1586,";p.MUNI_ARRAY[1601]="1,,1601,";p.MUNI_ARRAY[1602]="1,,1602,";p.MUNI_ARRAY[1604]="1,,1604,";p.MUNI_ARRAY[1607]="1,,1607,";p.MUNI_ARRAY[1608]="1,,1608,";p.MUNI_ARRAY[1609]="1,,1609,";p.MUNI_ARRAY[1610]="1,,1610,";p.MUNI_ARRAY[1631]="1,,1631,";p.MUNI_ARRAY[1632]="1,,1632,";p.MUNI_ARRAY[1633]="1,,1633,";p.MUNI_ARRAY[1634]="1,,1634,";p.MUNI_ARRAY[1635]="1,,1635,";p.MUNI_ARRAY[1636]="1,,1636,";p.MUNI_ARRAY[1637]="1,,1637,";p.MUNI_ARRAY[1638]="1,,1638,";p.MUNI_ARRAY[1639]="1,,1639,";p.MUNI_ARRAY[1641]="1,,1641,";p.MUNI_ARRAY[1642]="1,,1642,";p.MUNI_ARRAY[1643]="1,,1643,";p.MUNI_ARRAY[1644]="1,,1644,";p.MUNI_ARRAY[1645]="1,,1645,";p.MUNI_ARRAY[1646]="1,,1646,";p.MUNI_ARRAY[1647]="1,,1647,";p.MUNI_ARRAY[1648]="1,,1648,";p.MUNI_ARRAY[1649]="1,,1649,";p.MUNI_ARRAY[1661]="1,,1661,";p.MUNI_ARRAY[1662]="1,,1662,";p.MUNI_ARRAY[1663]="1,,1663,";p.MUNI_ARRAY[1664]="1,,1664,";p.MUNI_ARRAY[1665]="1,,1665,";p.MUNI_ARRAY[1667]="1,,1667,";p.MUNI_ARRAY[1668]="1,,1668,";p.MUNI_ARRAY[1691]="1,,1691,";p.MUNI_ARRAY[1692]="1,,1692,";p.MUNI_ARRAY[1693]="1,,1693,";p.MUNI_ARRAY[1694]="1,,1694,";p.MUNI_ARRAY[1695]="1,,1695,";p.MUNI_ARRAY[1696]="1,,1696,";p.MUNI_ARRAY[1697]="1,,1697,";p.MUNI_ARRAY[1698]="1,,1698,";p.MUNI_ARRAY[1699]="1,,1699,";p.MUNI_ARRAY[1700]="1,,1700,";p.MUNI_ARRAY[2201]="2,,2201,";p.MUNI_ARRAY[2202]="2,,2202,";p.MUNI_ARRAY[2203]="2,,2203,";p.MUNI_ARRAY[2204]="2,,2204,";p.MUNI_ARRAY[2205]="2,,2205,";p.MUNI_ARRAY[2206]="2,,2206,";p.MUNI_ARRAY[2207]="2,,2207,";p.MUNI_ARRAY[2208]="2,,2208,";p.MUNI_ARRAY[2209]="2,,2209,";p.MUNI_ARRAY[2210]="2,,2210,";p.MUNI_ARRAY[2301]="2,,2301,";p.MUNI_ARRAY[2303]="2,,2303,";p.MUNI_ARRAY[2304]="2,,2304,";p.MUNI_ARRAY[2307]="2,,2307,";p.MUNI_ARRAY[2321]="2,,2321,";p.MUNI_ARRAY[2323]="2,,2323,";p.MUNI_ARRAY[2343]="2,,2343,";p.MUNI_ARRAY[2361]="2,,2361,";p.MUNI_ARRAY[2362]="2,,2362,";p.MUNI_ARRAY[2367]="2,,2367,";p.MUNI_ARRAY[2381]="2,,2381,";p.MUNI_ARRAY[2384]="2,,2384,";p.MUNI_ARRAY[2387]="2,,2387,";p.MUNI_ARRAY[2401]="2,,2401,";p.MUNI_ARRAY[2402]="2,,2402,";p.MUNI_ARRAY[2405]="2,,2405,";p.MUNI_ARRAY[2406]="2,,2406,";p.MUNI_ARRAY[2408]="2,,2408,";p.MUNI_ARRAY[2411]="2,,2411,";p.MUNI_ARRAY[2412]="2,,2412,";p.MUNI_ARRAY[2423]="2,,2423,";p.MUNI_ARRAY[2424]="2,,2424,";p.MUNI_ARRAY[2425]="2,,2425,";p.MUNI_ARRAY[2426]="2,,2426,";p.MUNI_ARRAY[2441]="2,,2441,";p.MUNI_ARRAY[2442]="2,,2442,";p.MUNI_ARRAY[2443]="2,,2443,";p.MUNI_ARRAY[2445]="2,,2445,";p.MUNI_ARRAY[2446]="2,,2446,";p.MUNI_ARRAY[2450]="2,,2450,";p.MUNI_ARRAY[3201]="3,,3201,";p.MUNI_ARRAY[3202]="3,,3202,";p.MUNI_ARRAY[3203]="3,,3203,";p.MUNI_ARRAY[3205]="3,,3205,";p.MUNI_ARRAY[3206]="3,,3206,";p.MUNI_ARRAY[3207]="3,,3207,";p.MUNI_ARRAY[3208]="3,,3208,";p.MUNI_ARRAY[3209]="3,,3209,";p.MUNI_ARRAY[3210]="3,,3210,";p.MUNI_ARRAY[3211]="3,,3211,";p.MUNI_ARRAY[3213]="3,,3213,";p.MUNI_ARRAY[3214]="3,,3214,";p.MUNI_ARRAY[3215]="3,,3215,";p.MUNI_ARRAY[3216]="3,,3216,";p.MUNI_ARRAY[3301]="3,,3301,";p.MUNI_ARRAY[3302]="3,,3302,";p.MUNI_ARRAY[3303]="3,,3303,";p.MUNI_ARRAY[3321]="3,,3321,";p.MUNI_ARRAY[3322]="3,,3322,";p.MUNI_ARRAY[3366]="3,,3366,";p.MUNI_ARRAY[3381]="3,,3381,";p.MUNI_ARRAY[3402]="3,,3402,";p.MUNI_ARRAY[3441]="3,,3441,";p.MUNI_ARRAY[3461]="3,,3461,";p.MUNI_ARRAY[3482]="3,,3482,";p.MUNI_ARRAY[3483]="3,,3483,";p.MUNI_ARRAY[3484]="3,,3484,";p.MUNI_ARRAY[3485]="3,,3485,";p.MUNI_ARRAY[3501]="3,,3501,";p.MUNI_ARRAY[3503]="3,,3503,";p.MUNI_ARRAY[3506]="3,,3506,";p.MUNI_ARRAY[3507]="3,,3507,";p.MUNI_ARRAY[3524]="3,,3524,";p.MUNI_ARRAY[4100]="4,,4100,";p.MUNI_ARRAY[4101]="4,,4101,";p.MUNI_ARRAY[4102]="4,,4102,";p.MUNI_ARRAY[4103]="4,,4103,";p.MUNI_ARRAY[4104]="4,,4104,";p.MUNI_ARRAY[4105]="4,,4105,";p.MUNI_ARRAY[4202]="4,,4202,";p.MUNI_ARRAY[4203]="4,,4203,";p.MUNI_ARRAY[4205]="4,,4205,";p.MUNI_ARRAY[4206]="4,,4206,";p.MUNI_ARRAY[4207]="4,,4207,";p.MUNI_ARRAY[4208]="4,,4208,";p.MUNI_ARRAY[4209]="4,,4209,";p.MUNI_ARRAY[4211]="4,,4211,";p.MUNI_ARRAY[4212]="4,,4212,";p.MUNI_ARRAY[4213]="4,,4213,";p.MUNI_ARRAY[4214]="4,,4214,";p.MUNI_ARRAY[4215]="4,,4215,";p.MUNI_ARRAY[4216]="4,,4216,";p.MUNI_ARRAY[4301]="4,,4301,";p.MUNI_ARRAY[4302]="4,,4302,";p.MUNI_ARRAY[4321]="4,,4321,";p.MUNI_ARRAY[4322]="4,,4322,";p.MUNI_ARRAY[4323]="4,,4323,";p.MUNI_ARRAY[4324]="4,,4324,";p.MUNI_ARRAY[4341]="4,,4341,";p.MUNI_ARRAY[4361]="4,,4361,";p.MUNI_ARRAY[4362]="4,,4362,";p.MUNI_ARRAY[4401]="4,,4401,";p.MUNI_ARRAY[4404]="4,,4404,";p.MUNI_ARRAY[4406]="4,,4406,";p.MUNI_ARRAY[4421]="4,,4421,";p.MUNI_ARRAY[4422]="4,,4422,";p.MUNI_ARRAY[4423]="4,,4423,";p.MUNI_ARRAY[4424]="4,,4424,";p.MUNI_ARRAY[4444]="4,,4444,";p.MUNI_ARRAY[4445]="4,,4445,";p.MUNI_ARRAY[4501]="4,,4501,";p.MUNI_ARRAY[4505]="4,,4505,";p.MUNI_ARRAY[4581]="4,,4581,";p.MUNI_ARRAY[4606]="4,,4606,";p.MUNI_ARRAY[5201]="5,,5201,";p.MUNI_ARRAY[5202]="5,,5202,";p.MUNI_ARRAY[5203]="5,,5203,";p.MUNI_ARRAY[5204]="5,,5204,";p.MUNI_ARRAY[5206]="5,,5206,";p.MUNI_ARRAY[5207]="5,,5207,";p.MUNI_ARRAY[5209]="5,,5209,";p.MUNI_ARRAY[5210]="5,,5210,";p.MUNI_ARRAY[5211]="5,,5211,";p.MUNI_ARRAY[5212]="5,,5212,";p.MUNI_ARRAY[5213]="5,,5213,";p.MUNI_ARRAY[5214]="5,,5214,";p.MUNI_ARRAY[5215]="5,,5215,";p.MUNI_ARRAY[5303]="5,,5303,";p.MUNI_ARRAY[5327]="5,,5327,";p.MUNI_ARRAY[5346]="5,,5346,";p.MUNI_ARRAY[5348]="5,,5348,";p.MUNI_ARRAY[5349]="5,,5349,";p.MUNI_ARRAY[5361]="5,,5361,";p.MUNI_ARRAY[5363]="5,,5363,";p.MUNI_ARRAY[5366]="5,,5366,";p.MUNI_ARRAY[5368]="5,,5368,";p.MUNI_ARRAY[5434]="5,,5434,";p.MUNI_ARRAY[5463]="5,,5463,";p.MUNI_ARRAY[5464]="5,,5464,";p.MUNI_ARRAY[6201]="6,,6201,";p.MUNI_ARRAY[6202]="6,,6202,";p.MUNI_ARRAY[6203]="6,,6203,";p.MUNI_ARRAY[6204]="6,,6204,";p.MUNI_ARRAY[6205]="6,,6205,";p.MUNI_ARRAY[6206]="6,,6206,";p.MUNI_ARRAY[6207]="6,,6207,";p.MUNI_ARRAY[6208]="6,,6208,";p.MUNI_ARRAY[6209]="6,,6209,";p.MUNI_ARRAY[6210]="6,,6210,";p.MUNI_ARRAY[6211]="6,,6211,";p.MUNI_ARRAY[6212]="6,,6212,";p.MUNI_ARRAY[6213]="6,,6213,";p.MUNI_ARRAY[6301]="6,,6301,";p.MUNI_ARRAY[6302]="6,,6302,";p.MUNI_ARRAY[6321]="6,,6321,";p.MUNI_ARRAY[6322]="6,,6322,";p.MUNI_ARRAY[6323]="6,,6323,";p.MUNI_ARRAY[6324]="6,,6324,";p.MUNI_ARRAY[6341]="6,,6341,";p.MUNI_ARRAY[6361]="6,,6361,";p.MUNI_ARRAY[6362]="6,,6362,";p.MUNI_ARRAY[6363]="6,,6363,";p.MUNI_ARRAY[6364]="6,,6364,";p.MUNI_ARRAY[6365]="6,,6365,";p.MUNI_ARRAY[6366]="6,,6366,";p.MUNI_ARRAY[6367]="6,,6367,";p.MUNI_ARRAY[6381]="6,,6381,";p.MUNI_ARRAY[6382]="6,,6382,";p.MUNI_ARRAY[6401]="6,,6401,";p.MUNI_ARRAY[6402]="6,,6402,";p.MUNI_ARRAY[6403]="6,,6403,";p.MUNI_ARRAY[6426]="6,,6426,";p.MUNI_ARRAY[6428]="6,,6428,";p.MUNI_ARRAY[6461]="6,,6461,";p.MUNI_ARRAY[7201]="7,,7201,";p.MUNI_ARRAY[7202]="7,,7202,";p.MUNI_ARRAY[7203]="7,,7203,";p.MUNI_ARRAY[7204]="7,,7204,";p.MUNI_ARRAY[7205]="7,,7205,";p.MUNI_ARRAY[7207]="7,,7207,";p.MUNI_ARRAY[7208]="7,,7208,";p.MUNI_ARRAY[7209]="7,,7209,";p.MUNI_ARRAY[7210]="7,,7210,";p.MUNI_ARRAY[7211]="7,,7211,";p.MUNI_ARRAY[7212]="7,,7212,";p.MUNI_ARRAY[7213]="7,,7213,";p.MUNI_ARRAY[7214]="7,,7214,";p.MUNI_ARRAY[7301]="7,,7301,";p.MUNI_ARRAY[7303]="7,,7303,";p.MUNI_ARRAY[7308]="7,,7308,";p.MUNI_ARRAY[7322]="7,,7322,";p.MUNI_ARRAY[7342]="7,,7342,";p.MUNI_ARRAY[7344]="7,,7344,";p.MUNI_ARRAY[7362]="7,,7362,";p.MUNI_ARRAY[7364]="7,,7364,";p.MUNI_ARRAY[7367]="7,,7367,";p.MUNI_ARRAY[7368]="7,,7368,";p.MUNI_ARRAY[7402]="7,,7402,";p.MUNI_ARRAY[7405]="7,,7405,";p.MUNI_ARRAY[7407]="7,,7407,";p.MUNI_ARRAY[7408]="7,,7408,";p.MUNI_ARRAY[7421]="7,,7421,";p.MUNI_ARRAY[7422]="7,,7422,";p.MUNI_ARRAY[7423]="7,,7423,";p.MUNI_ARRAY[7444]="7,,7444,";p.MUNI_ARRAY[7445]="7,,7445,";p.MUNI_ARRAY[7446]="7,,7446,";p.MUNI_ARRAY[7447]="7,,7447,";p.MUNI_ARRAY[7461]="7,,7461,";p.MUNI_ARRAY[7464]="7,,7464,";p.MUNI_ARRAY[7465]="7,,7465,";p.MUNI_ARRAY[7466]="7,,7466,";p.MUNI_ARRAY[7481]="7,,7481,";p.MUNI_ARRAY[7482]="7,,7482,";p.MUNI_ARRAY[7483]="7,,7483,";p.MUNI_ARRAY[7484]="7,,7484,";p.MUNI_ARRAY[7501]="7,,7501,";p.MUNI_ARRAY[7502]="7,,7502,";p.MUNI_ARRAY[7503]="7,,7503,";p.MUNI_ARRAY[7504]="7,,7504,";p.MUNI_ARRAY[7505]="7,,7505,";p.MUNI_ARRAY[7521]="7,,7521,";p.MUNI_ARRAY[7522]="7,,7522,";p.MUNI_ARRAY[7541]="7,,7541,";p.MUNI_ARRAY[7542]="7,,7542,";p.MUNI_ARRAY[7543]="7,,7543,";p.MUNI_ARRAY[7544]="7,,7544,";p.MUNI_ARRAY[7545]="7,,7545,";p.MUNI_ARRAY[7546]="7,,7546,";p.MUNI_ARRAY[7547]="7,,7547,";p.MUNI_ARRAY[7548]="7,,7548,";p.MUNI_ARRAY[7561]="7,,7561,";p.MUNI_ARRAY[7564]="7,,7564,";p.MUNI_ARRAY[8201]="8,,8201,";p.MUNI_ARRAY[8202]="8,,8202,";p.MUNI_ARRAY[8203]="8,,8203,";p.MUNI_ARRAY[8204]="8,,8204,";p.MUNI_ARRAY[8205]="8,,8205,";p.MUNI_ARRAY[8207]="8,,8207,";p.MUNI_ARRAY[8208]="8,,8208,";p.MUNI_ARRAY[8210]="8,,8210,";p.MUNI_ARRAY[8211]="8,,8211,";p.MUNI_ARRAY[8212]="8,,8212,";p.MUNI_ARRAY[8214]="8,,8214,";p.MUNI_ARRAY[8215]="8,,8215,";p.MUNI_ARRAY[8216]="8,,8216,";p.MUNI_ARRAY[8217]="8,,8217,";p.MUNI_ARRAY[8219]="8,,8219,";p.MUNI_ARRAY[8220]="8,,8220,";p.MUNI_ARRAY[8221]="8,,8221,";p.MUNI_ARRAY[8222]="8,,8222,";p.MUNI_ARRAY[8223]="8,,8223,";p.MUNI_ARRAY[8224]="8,,8224,";p.MUNI_ARRAY[8225]="8,,8225,";p.MUNI_ARRAY[8226]="8,,8226,";p.MUNI_ARRAY[8227]="8,,8227,";p.MUNI_ARRAY[8228]="8,,8228,";p.MUNI_ARRAY[8229]="8,,8229,";p.MUNI_ARRAY[8230]="8,,8230,";p.MUNI_ARRAY[8231]="8,,8231,";p.MUNI_ARRAY[8232]="8,,8232,";p.MUNI_ARRAY[8233]="8,,8233,";p.MUNI_ARRAY[8234]="8,,8234,";p.MUNI_ARRAY[8235]="8,,8235,";p.MUNI_ARRAY[8236]="8,,8236,";p.MUNI_ARRAY[8302]="8,,8302,";p.MUNI_ARRAY[8309]="8,,8309,";p.MUNI_ARRAY[8310]="8,,8310,";p.MUNI_ARRAY[8341]="8,,8341,";p.MUNI_ARRAY[8364]="8,,8364,";p.MUNI_ARRAY[8442]="8,,8442,";p.MUNI_ARRAY[8443]="8,,8443,";p.MUNI_ARRAY[8447]="8,,8447,";p.MUNI_ARRAY[8521]="8,,8521,";p.MUNI_ARRAY[8542]="8,,8542,";p.MUNI_ARRAY[8546]="8,,8546,";p.MUNI_ARRAY[8564]="8,,8564,";p.MUNI_ARRAY[9201]="9,,9201,";p.MUNI_ARRAY[9202]="9,,9202,";p.MUNI_ARRAY[9203]="9,,9203,";p.MUNI_ARRAY[9204]="9,,9204,";p.MUNI_ARRAY[9205]="9,,9205,";p.MUNI_ARRAY[9206]="9,,9206,";p.MUNI_ARRAY[9208]="9,,9208,";p.MUNI_ARRAY[9209]="9,,9209,";p.MUNI_ARRAY[9210]="9,,9210,";p.MUNI_ARRAY[9211]="9,,9211,";p.MUNI_ARRAY[9213]="9,,9213,";p.MUNI_ARRAY[9214]="9,,9214,";p.MUNI_ARRAY[9215]="9,,9215,";p.MUNI_ARRAY[9216]="9,,9216,";p.MUNI_ARRAY[9301]="9,,9301,";p.MUNI_ARRAY[9342]="9,,9342,";p.MUNI_ARRAY[9343]="9,,9343,";p.MUNI_ARRAY[9344]="9,,9344,";p.MUNI_ARRAY[9345]="9,,9345,";p.MUNI_ARRAY[9361]="9,,9361,";p.MUNI_ARRAY[9364]="9,,9364,";p.MUNI_ARRAY[9384]="9,,9384,";p.MUNI_ARRAY[9386]="9,,9386,";p.MUNI_ARRAY[9407]="9,,9407,";p.MUNI_ARRAY[9411]="9,,9411,";p.MUNI_ARRAY[10201]="10,,10201,";p.MUNI_ARRAY[10202]="10,,10202,";p.MUNI_ARRAY[10203]="10,,10203,";p.MUNI_ARRAY[10204]="10,,10204,";p.MUNI_ARRAY[10205]="10,,10205,";p.MUNI_ARRAY[10206]="10,,10206,";p.MUNI_ARRAY[10207]="10,,10207,";p.MUNI_ARRAY[10208]="10,,10208,";p.MUNI_ARRAY[10209]="10,,10209,";p.MUNI_ARRAY[10210]="10,,10210,";p.MUNI_ARRAY[10211]="10,,10211,";p.MUNI_ARRAY[10212]="10,,10212,";p.MUNI_ARRAY[10344]="10,,10344,";p.MUNI_ARRAY[10345]="10,,10345,";p.MUNI_ARRAY[10366]="10,,10366,";p.MUNI_ARRAY[10367]="10,,10367,";p.MUNI_ARRAY[10382]="10,,10382,";p.MUNI_ARRAY[10383]="10,,10383,";p.MUNI_ARRAY[10384]="10,,10384,";p.MUNI_ARRAY[10421]="10,,10421,";p.MUNI_ARRAY[10424]="10,,10424,";p.MUNI_ARRAY[10425]="10,,10425,";p.MUNI_ARRAY[10426]="10,,10426,";p.MUNI_ARRAY[10428]="10,,10428,";p.MUNI_ARRAY[10429]="10,,10429,";p.MUNI_ARRAY[10443]="10,,10443,";p.MUNI_ARRAY[10444]="10,,10444,";p.MUNI_ARRAY[10448]="10,,10448,";p.MUNI_ARRAY[10449]="10,,10449,";p.MUNI_ARRAY[10464]="10,,10464,";p.MUNI_ARRAY[10521]="10,,10521,";p.MUNI_ARRAY[10522]="10,,10522,";p.MUNI_ARRAY[10523]="10,,10523,";p.MUNI_ARRAY[10524]="10,,10524,";p.MUNI_ARRAY[10525]="10,,10525,";p.MUNI_ARRAY[11100]="11,,11100,";p.MUNI_ARRAY[11101]="11,,11101,";p.MUNI_ARRAY[11102]="11,,11102,";p.MUNI_ARRAY[11103]="11,,11103,";p.MUNI_ARRAY[11104]="11,,11104,";p.MUNI_ARRAY[11105]="11,,11105,";p.MUNI_ARRAY[11106]="11,,11106,";p.MUNI_ARRAY[11107]="11,,11107,";p.MUNI_ARRAY[11108]="11,,11108,";p.MUNI_ARRAY[11109]="11,,11109,";p.MUNI_ARRAY[11110]="11,,11110,";p.MUNI_ARRAY[11201]="11,,11201,";p.MUNI_ARRAY[11202]="11,,11202,";p.MUNI_ARRAY[11203]="11,,11203,";p.MUNI_ARRAY[11206]="11,,11206,";p.MUNI_ARRAY[11207]="11,,11207,";p.MUNI_ARRAY[11208]="11,,11208,";p.MUNI_ARRAY[11209]="11,,11209,";p.MUNI_ARRAY[11210]="11,,11210,";p.MUNI_ARRAY[11211]="11,,11211,";p.MUNI_ARRAY[11212]="11,,11212,";p.MUNI_ARRAY[11214]="11,,11214,";p.MUNI_ARRAY[11215]="11,,11215,";p.MUNI_ARRAY[11216]="11,,11216,";p.MUNI_ARRAY[11217]="11,,11217,";p.MUNI_ARRAY[11218]="11,,11218,";p.MUNI_ARRAY[11219]="11,,11219,";p.MUNI_ARRAY[11221]="11,,11221,";p.MUNI_ARRAY[11222]="11,,11222,";p.MUNI_ARRAY[11223]="11,,11223,";p.MUNI_ARRAY[11224]="11,,11224,";p.MUNI_ARRAY[11225]="11,,11225,";p.MUNI_ARRAY[11227]="11,,11227,";p.MUNI_ARRAY[11228]="11,,11228,";p.MUNI_ARRAY[11229]="11,,11229,";p.MUNI_ARRAY[11230]="11,,11230,";p.MUNI_ARRAY[11231]="11,,11231,";p.MUNI_ARRAY[11232]="11,,11232,";p.MUNI_ARRAY[11233]="11,,11233,";p.MUNI_ARRAY[11234]="11,,11234,";p.MUNI_ARRAY[11235]="11,,11235,";p.MUNI_ARRAY[11237]="11,,11237,";p.MUNI_ARRAY[11238]="11,,11238,";p.MUNI_ARRAY[11239]="11,,11239,";p.MUNI_ARRAY[11240]="11,,11240,";p.MUNI_ARRAY[11241]="11,,11241,";p.MUNI_ARRAY[11242]="11,,11242,";p.MUNI_ARRAY[11243]="11,,11243,";p.MUNI_ARRAY[11245]="11,,11245,";p.MUNI_ARRAY[11301]="11,,11301,";p.MUNI_ARRAY[11324]="11,,11324,";p.MUNI_ARRAY[11326]="11,,11326,";p.MUNI_ARRAY[11327]="11,,11327,";p.MUNI_ARRAY[11341]="11,,11341,";p.MUNI_ARRAY[11342]="11,,11342,";p.MUNI_ARRAY[11343]="11,,11343,";p.MUNI_ARRAY[11346]="11,,11346,";p.MUNI_ARRAY[11347]="11,,11347,";p.MUNI_ARRAY[11348]="11,,11348,";p.MUNI_ARRAY[11349]="11,,11349,";p.MUNI_ARRAY[11361]="11,,11361,";p.MUNI_ARRAY[11362]="11,,11362,";p.MUNI_ARRAY[11363]="11,,11363,";p.MUNI_ARRAY[11365]="11,,11365,";p.MUNI_ARRAY[11369]="11,,11369,";p.MUNI_ARRAY[11381]="11,,11381,";p.MUNI_ARRAY[11383]="11,,11383,";p.MUNI_ARRAY[11385]="11,,11385,";p.MUNI_ARRAY[11408]="11,,11408,";p.MUNI_ARRAY[11442]="11,,11442,";p.MUNI_ARRAY[11246]="11,,11246,";p.MUNI_ARRAY[11464]="11,,11464,";p.MUNI_ARRAY[11465]="11,,11465,";p.MUNI_ARRAY[12100]="12,,12100,";p.MUNI_ARRAY[12101]="12,,12101,";p.MUNI_ARRAY[12102]="12,,12102,";p.MUNI_ARRAY[12103]="12,,12103,";p.MUNI_ARRAY[12104]="12,,12104,";p.MUNI_ARRAY[12105]="12,,12105,";p.MUNI_ARRAY[12106]="12,,12106,";p.MUNI_ARRAY[12202]="12,,12202,";p.MUNI_ARRAY[12203]="12,,12203,";p.MUNI_ARRAY[12204]="12,,12204,";p.MUNI_ARRAY[12205]="12,,12205,";p.MUNI_ARRAY[12206]="12,,12206,";p.MUNI_ARRAY[12207]="12,,12207,";p.MUNI_ARRAY[12208]="12,,12208,";p.MUNI_ARRAY[12210]="12,,12210,";p.MUNI_ARRAY[12211]="12,,12211,";p.MUNI_ARRAY[12212]="12,,12212,";p.MUNI_ARRAY[12213]="12,,12213,";p.MUNI_ARRAY[12215]="12,,12215,";p.MUNI_ARRAY[12216]="12,,12216,";p.MUNI_ARRAY[12217]="12,,12217,";p.MUNI_ARRAY[12218]="12,,12218,";p.MUNI_ARRAY[12219]="12,,12219,";p.MUNI_ARRAY[12220]="12,,12220,";p.MUNI_ARRAY[12221]="12,,12221,";p.MUNI_ARRAY[12222]="12,,12222,";p.MUNI_ARRAY[12223]="12,,12223,";p.MUNI_ARRAY[12224]="12,,12224,";p.MUNI_ARRAY[12225]="12,,12225,";p.MUNI_ARRAY[12226]="12,,12226,";p.MUNI_ARRAY[12227]="12,,12227,";p.MUNI_ARRAY[12228]="12,,12228,";p.MUNI_ARRAY[12229]="12,,12229,";p.MUNI_ARRAY[12230]="12,,12230,";p.MUNI_ARRAY[12231]="12,,12231,";p.MUNI_ARRAY[12232]="12,,12232,";p.MUNI_ARRAY[12233]="12,,12233,";p.MUNI_ARRAY[12234]="12,,12234,";p.MUNI_ARRAY[12235]="12,,12235,";p.MUNI_ARRAY[12236]="12,,12236,";p.MUNI_ARRAY[12237]="12,,12237,";p.MUNI_ARRAY[12238]="12,,12238,";p.MUNI_ARRAY[12322]="12,,12322,";p.MUNI_ARRAY[12329]="12,,12329,";p.MUNI_ARRAY[12342]="12,,12342,";p.MUNI_ARRAY[12347]="12,,12347,";p.MUNI_ARRAY[12349]="12,,12349,";p.MUNI_ARRAY[12239]="12,,12239,";p.MUNI_ARRAY[12403]="12,,12403,";p.MUNI_ARRAY[12409]="12,,12409,";p.MUNI_ARRAY[12410]="12,,12410,";p.MUNI_ARRAY[12421]="12,,12421,";p.MUNI_ARRAY[12422]="12,,12422,";p.MUNI_ARRAY[12423]="12,,12423,";p.MUNI_ARRAY[12424]="12,,12424,";p.MUNI_ARRAY[12426]="12,,12426,";p.MUNI_ARRAY[12427]="12,,12427,";p.MUNI_ARRAY[12441]="12,,12441,";p.MUNI_ARRAY[12443]="12,,12443,";p.MUNI_ARRAY[12463]="12,,12463,";p.MUNI_ARRAY[13101]="13,,13101,";p.MUNI_ARRAY[13102]="13,,13102,";p.MUNI_ARRAY[13103]="13,,13103,";p.MUNI_ARRAY[13104]="13,,13104,";p.MUNI_ARRAY[13105]="13,,13105,";p.MUNI_ARRAY[13106]="13,,13106,";p.MUNI_ARRAY[13107]="13,,13107,";p.MUNI_ARRAY[13108]="13,,13108,";p.MUNI_ARRAY[13109]="13,,13109,";p.MUNI_ARRAY[13110]="13,,13110,";p.MUNI_ARRAY[13111]="13,,13111,";p.MUNI_ARRAY[13112]="13,,13112,";p.MUNI_ARRAY[13113]="13,,13113,";p.MUNI_ARRAY[13114]="13,,13114,";p.MUNI_ARRAY[13115]="13,,13115,";p.MUNI_ARRAY[13116]="13,,13116,";p.MUNI_ARRAY[13117]="13,,13117,";p.MUNI_ARRAY[13118]="13,,13118,";p.MUNI_ARRAY[13119]="13,,13119,";p.MUNI_ARRAY[13120]="13,,13120,";p.MUNI_ARRAY[13121]="13,,13121,";p.MUNI_ARRAY[13122]="13,,13122,";p.MUNI_ARRAY[13123]="13,,13123,";p.MUNI_ARRAY[13201]="13,,13201,";p.MUNI_ARRAY[13202]="13,,13202,";p.MUNI_ARRAY[13203]="13,,13203,";p.MUNI_ARRAY[13204]="13,,13204,";p.MUNI_ARRAY[13205]="13,,13205,";p.MUNI_ARRAY[13206]="13,,13206,";p.MUNI_ARRAY[13207]="13,,13207,";p.MUNI_ARRAY[13208]="13,,13208,";p.MUNI_ARRAY[13209]="13,,13209,";p.MUNI_ARRAY[13210]="13,,13210,";p.MUNI_ARRAY[13211]="13,,13211,";p.MUNI_ARRAY[13212]="13,,13212,";p.MUNI_ARRAY[13213]="13,,13213,";p.MUNI_ARRAY[13214]="13,,13214,";p.MUNI_ARRAY[13215]="13,,13215,";p.MUNI_ARRAY[13218]="13,,13218,";p.MUNI_ARRAY[13219]="13,,13219,";p.MUNI_ARRAY[13220]="13,,13220,";p.MUNI_ARRAY[13221]="13,,13221,";p.MUNI_ARRAY[13222]="13,,13222,";p.MUNI_ARRAY[13223]="13,,13223,";p.MUNI_ARRAY[13224]="13,,13224,";p.MUNI_ARRAY[13225]="13,,13225,";p.MUNI_ARRAY[13227]="13,,13227,";p.MUNI_ARRAY[13228]="13,,13228,";p.MUNI_ARRAY[13229]="13,,13229,";p.MUNI_ARRAY[13303]="13,,13303,";p.MUNI_ARRAY[13305]="13,,13305,";p.MUNI_ARRAY[13307]="13,,13307,";p.MUNI_ARRAY[13308]="13,,13308,";p.MUNI_ARRAY[13361]="13,,13361,";p.MUNI_ARRAY[13362]="13,,13362,";p.MUNI_ARRAY[13363]="13,,13363,";p.MUNI_ARRAY[13364]="13,,13364,";p.MUNI_ARRAY[13381]="13,,13381,";p.MUNI_ARRAY[13382]="13,,13382,";p.MUNI_ARRAY[13401]="13,,13401,";p.MUNI_ARRAY[13402]="13,,13402,";p.MUNI_ARRAY[13421]="13,,13421,";p.MUNI_ARRAY[14100]="14,,14100,";p.MUNI_ARRAY[14101]="14,,14101,";p.MUNI_ARRAY[14102]="14,,14102,";p.MUNI_ARRAY[14103]="14,,14103,";p.MUNI_ARRAY[14104]="14,,14104,";p.MUNI_ARRAY[14105]="14,,14105,";p.MUNI_ARRAY[14106]="14,,14106,";p.MUNI_ARRAY[14107]="14,,14107,";p.MUNI_ARRAY[14108]="14,,14108,";p.MUNI_ARRAY[14109]="14,,14109,";p.MUNI_ARRAY[14110]="14,,14110,";p.MUNI_ARRAY[14111]="14,,14111,";p.MUNI_ARRAY[14112]="14,,14112,";p.MUNI_ARRAY[14113]="14,,14113,";p.MUNI_ARRAY[14114]="14,,14114,";p.MUNI_ARRAY[14115]="14,,14115,";p.MUNI_ARRAY[14116]="14,,14116,";p.MUNI_ARRAY[14117]="14,,14117,";p.MUNI_ARRAY[14118]="14,,14118,";p.MUNI_ARRAY[14130]="14,,14130,";p.MUNI_ARRAY[14131]="14,,14131,";p.MUNI_ARRAY[14132]="14,,14132,";p.MUNI_ARRAY[14133]="14,,14133,";p.MUNI_ARRAY[14134]="14,,14134,";p.MUNI_ARRAY[14135]="14,,14135,";p.MUNI_ARRAY[14136]="14,,14136,";p.MUNI_ARRAY[14137]="14,,14137,";p.MUNI_ARRAY[14150]="14,,14150,";p.MUNI_ARRAY[14151]="14,,14151,";p.MUNI_ARRAY[14152]="14,,14152,";p.MUNI_ARRAY[14153]="14,,14153,";p.MUNI_ARRAY[14201]="14,,14201,";p.MUNI_ARRAY[14203]="14,,14203,";p.MUNI_ARRAY[14204]="14,,14204,";p.MUNI_ARRAY[14205]="14,,14205,";p.MUNI_ARRAY[14206]="14,,14206,";p.MUNI_ARRAY[14207]="14,,14207,";p.MUNI_ARRAY[14208]="14,,14208,";p.MUNI_ARRAY[14210]="14,,14210,";p.MUNI_ARRAY[14211]="14,,14211,";p.MUNI_ARRAY[14212]="14,,14212,";p.MUNI_ARRAY[14213]="14,,14213,";p.MUNI_ARRAY[14214]="14,,14214,";p.MUNI_ARRAY[14215]="14,,14215,";p.MUNI_ARRAY[14216]="14,,14216,";p.MUNI_ARRAY[14217]="14,,14217,";p.MUNI_ARRAY[14218]="14,,14218,";p.MUNI_ARRAY[14301]="14,,14301,";p.MUNI_ARRAY[14321]="14,,14321,";p.MUNI_ARRAY[14341]="14,,14341,";p.MUNI_ARRAY[14342]="14,,14342,";p.MUNI_ARRAY[14361]="14,,14361,";p.MUNI_ARRAY[14362]="14,,14362,";p.MUNI_ARRAY[14363]="14,,14363,";p.MUNI_ARRAY[14364]="14,,14364,";p.MUNI_ARRAY[14366]="14,,14366,";p.MUNI_ARRAY[14382]="14,,14382,";p.MUNI_ARRAY[14383]="14,,14383,";p.MUNI_ARRAY[14384]="14,,14384,";p.MUNI_ARRAY[14401]="14,,14401,";p.MUNI_ARRAY[14402]="14,,14402,";p.MUNI_ARRAY[15100]="15,,15100,";p.MUNI_ARRAY[15101]="15,,15101,";p.MUNI_ARRAY[15102]="15,,15102,";p.MUNI_ARRAY[15103]="15,,15103,";p.MUNI_ARRAY[15104]="15,,15104,";p.MUNI_ARRAY[15105]="15,,15105,";p.MUNI_ARRAY[15106]="15,,15106,";p.MUNI_ARRAY[15107]="15,,15107,";p.MUNI_ARRAY[15108]="15,,15108,";p.MUNI_ARRAY[15202]="15,,15202,";p.MUNI_ARRAY[15204]="15,,15204,";p.MUNI_ARRAY[15205]="15,,15205,";p.MUNI_ARRAY[15206]="15,,15206,";p.MUNI_ARRAY[15208]="15,,15208,";p.MUNI_ARRAY[15209]="15,,15209,";p.MUNI_ARRAY[15210]="15,,15210,";p.MUNI_ARRAY[15211]="15,,15211,";p.MUNI_ARRAY[15212]="15,,15212,";p.MUNI_ARRAY[15213]="15,,15213,";p.MUNI_ARRAY[15216]="15,,15216,";p.MUNI_ARRAY[15217]="15,,15217,";p.MUNI_ARRAY[15218]="15,,15218,";p.MUNI_ARRAY[15222]="15,,15222,";p.MUNI_ARRAY[15223]="15,,15223,";p.MUNI_ARRAY[15224]="15,,15224,";p.MUNI_ARRAY[15225]="15,,15225,";p.MUNI_ARRAY[15226]="15,,15226,";p.MUNI_ARRAY[15227]="15,,15227,";p.MUNI_ARRAY[15307]="15,,15307,";p.MUNI_ARRAY[15342]="15,,15342,";p.MUNI_ARRAY[15361]="15,,15361,";p.MUNI_ARRAY[15385]="15,,15385,";p.MUNI_ARRAY[15405]="15,,15405,";p.MUNI_ARRAY[15461]="15,,15461,";p.MUNI_ARRAY[15482]="15,,15482,";p.MUNI_ARRAY[15504]="15,,15504,";p.MUNI_ARRAY[15581]="15,,15581,";p.MUNI_ARRAY[15586]="15,,15586,";p.MUNI_ARRAY[16201]="16,,16201,";p.MUNI_ARRAY[16202]="16,,16202,";p.MUNI_ARRAY[16204]="16,,16204,";p.MUNI_ARRAY[16205]="16,,16205,";p.MUNI_ARRAY[16206]="16,,16206,";p.MUNI_ARRAY[16207]="16,,16207,";p.MUNI_ARRAY[16208]="16,,16208,";p.MUNI_ARRAY[16209]="16,,16209,";p.MUNI_ARRAY[16210]="16,,16210,";p.MUNI_ARRAY[16211]="16,,16211,";p.MUNI_ARRAY[16321]="16,,16321,";p.MUNI_ARRAY[16322]="16,,16322,";p.MUNI_ARRAY[16323]="16,,16323,";p.MUNI_ARRAY[16342]="16,,16342,";p.MUNI_ARRAY[16343]="16,,16343,";p.MUNI_ARRAY[17201]="17,,17201,";p.MUNI_ARRAY[17202]="17,,17202,";p.MUNI_ARRAY[17203]="17,,17203,";p.MUNI_ARRAY[17204]="17,,17204,";p.MUNI_ARRAY[17205]="17,,17205,";p.MUNI_ARRAY[17206]="17,,17206,";p.MUNI_ARRAY[17207]="17,,17207,";p.MUNI_ARRAY[17209]="17,,17209,";p.MUNI_ARRAY[17210]="17,,17210,";p.MUNI_ARRAY[17211]="17,,17211,";p.MUNI_ARRAY[17212]="17,,17212,";p.MUNI_ARRAY[17324]="17,,17324,";p.MUNI_ARRAY[17361]="17,,17361,";p.MUNI_ARRAY[17365]="17,,17365,";p.MUNI_ARRAY[17384]="17,,17384,";p.MUNI_ARRAY[17386]="17,,17386,";p.MUNI_ARRAY[17407]="17,,17407,";p.MUNI_ARRAY[17461]="17,,17461,";p.MUNI_ARRAY[17463]="17,,17463,";p.MUNI_ARRAY[18201]="18,,18201,";p.MUNI_ARRAY[18202]="18,,18202,";p.MUNI_ARRAY[18204]="18,,18204,";p.MUNI_ARRAY[18205]="18,,18205,";p.MUNI_ARRAY[18206]="18,,18206,";p.MUNI_ARRAY[18207]="18,,18207,";p.MUNI_ARRAY[18208]="18,,18208,";p.MUNI_ARRAY[18209]="18,,18209,";p.MUNI_ARRAY[18210]="18,,18210,";p.MUNI_ARRAY[18322]="18,,18322,";p.MUNI_ARRAY[18382]="18,,18382,";p.MUNI_ARRAY[18404]="18,,18404,";p.MUNI_ARRAY[18423]="18,,18423,";p.MUNI_ARRAY[18442]="18,,18442,";p.MUNI_ARRAY[18481]="18,,18481,";p.MUNI_ARRAY[18483]="18,,18483,";p.MUNI_ARRAY[18501]="18,,18501,";p.MUNI_ARRAY[19201]="19,,19201,";p.MUNI_ARRAY[19202]="19,,19202,";p.MUNI_ARRAY[19204]="19,,19204,";p.MUNI_ARRAY[19205]="19,,19205,";p.MUNI_ARRAY[19206]="19,,19206,";p.MUNI_ARRAY[19207]="19,,19207,";p.MUNI_ARRAY[19208]="19,,19208,";p.MUNI_ARRAY[19209]="19,,19209,";p.MUNI_ARRAY[19210]="19,,19210,";p.MUNI_ARRAY[19211]="19,,19211,";p.MUNI_ARRAY[19212]="19,,19212,";p.MUNI_ARRAY[19213]="19,,19213,";p.MUNI_ARRAY[19214]="19,,19214,";p.MUNI_ARRAY[19346]="19,,19346,";p.MUNI_ARRAY[19364]="19,,19364,";p.MUNI_ARRAY[19365]="19,,19365,";p.MUNI_ARRAY[19366]="19,,19366,";p.MUNI_ARRAY[19368]="19,,19368,";p.MUNI_ARRAY[19384]="19,,19384,";p.MUNI_ARRAY[19422]="19,,19422,";p.MUNI_ARRAY[19423]="19,,19423,";p.MUNI_ARRAY[19424]="19,,19424,";p.MUNI_ARRAY[19425]="19,,19425,";p.MUNI_ARRAY[19429]="19,,19429,";p.MUNI_ARRAY[19430]="19,,19430,";p.MUNI_ARRAY[19442]="19,,19442,";p.MUNI_ARRAY[19443]="19,,19443,";p.MUNI_ARRAY[20201]="20,,20201,";p.MUNI_ARRAY[20202]="20,,20202,";p.MUNI_ARRAY[20203]="20,,20203,";p.MUNI_ARRAY[20204]="20,,20204,";p.MUNI_ARRAY[20205]="20,,20205,";p.MUNI_ARRAY[20206]="20,,20206,";p.MUNI_ARRAY[20207]="20,,20207,";p.MUNI_ARRAY[20208]="20,,20208,";p.MUNI_ARRAY[20209]="20,,20209,";p.MUNI_ARRAY[20210]="20,,20210,";p.MUNI_ARRAY[20211]="20,,20211,";p.MUNI_ARRAY[20212]="20,,20212,";p.MUNI_ARRAY[20213]="20,,20213,";p.MUNI_ARRAY[20214]="20,,20214,";p.MUNI_ARRAY[20215]="20,,20215,";p.MUNI_ARRAY[20217]="20,,20217,";p.MUNI_ARRAY[20218]="20,,20218,";p.MUNI_ARRAY[20219]="20,,20219,";p.MUNI_ARRAY[20220]="20,,20220,";p.MUNI_ARRAY[20303]="20,,20303,";p.MUNI_ARRAY[20304]="20,,20304,";p.MUNI_ARRAY[20305]="20,,20305,";p.MUNI_ARRAY[20306]="20,,20306,";p.MUNI_ARRAY[20307]="20,,20307,";p.MUNI_ARRAY[20309]="20,,20309,";p.MUNI_ARRAY[20321]="20,,20321,";p.MUNI_ARRAY[20323]="20,,20323,";p.MUNI_ARRAY[20324]="20,,20324,";p.MUNI_ARRAY[20349]="20,,20349,";p.MUNI_ARRAY[20350]="20,,20350,";p.MUNI_ARRAY[20361]="20,,20361,";p.MUNI_ARRAY[20362]="20,,20362,";p.MUNI_ARRAY[20363]="20,,20363,";p.MUNI_ARRAY[20382]="20,,20382,";p.MUNI_ARRAY[20383]="20,,20383,";p.MUNI_ARRAY[20384]="20,,20384,";p.MUNI_ARRAY[20385]="20,,20385,";p.MUNI_ARRAY[20386]="20,,20386,";p.MUNI_ARRAY[20388]="20,,20388,";p.MUNI_ARRAY[20402]="20,,20402,";p.MUNI_ARRAY[20403]="20,,20403,";p.MUNI_ARRAY[20404]="20,,20404,";p.MUNI_ARRAY[20407]="20,,20407,";p.MUNI_ARRAY[20409]="20,,20409,";p.MUNI_ARRAY[20410]="20,,20410,";p.MUNI_ARRAY[20411]="20,,20411,";p.MUNI_ARRAY[20412]="20,,20412,";p.MUNI_ARRAY[20413]="20,,20413,";p.MUNI_ARRAY[20414]="20,,20414,";p.MUNI_ARRAY[20415]="20,,20415,";p.MUNI_ARRAY[20416]="20,,20416,";p.MUNI_ARRAY[20417]="20,,20417,";p.MUNI_ARRAY[20422]="20,,20422,";p.MUNI_ARRAY[20423]="20,,20423,";p.MUNI_ARRAY[20425]="20,,20425,";p.MUNI_ARRAY[20429]="20,,20429,";p.MUNI_ARRAY[20430]="20,,20430,";p.MUNI_ARRAY[20432]="20,,20432,";p.MUNI_ARRAY[20446]="20,,20446,";p.MUNI_ARRAY[20448]="20,,20448,";p.MUNI_ARRAY[20450]="20,,20450,";p.MUNI_ARRAY[20451]="20,,20451,";p.MUNI_ARRAY[20452]="20,,20452,";p.MUNI_ARRAY[20481]="20,,20481,";p.MUNI_ARRAY[20482]="20,,20482,";p.MUNI_ARRAY[20485]="20,,20485,";p.MUNI_ARRAY[20486]="20,,20486,";p.MUNI_ARRAY[20521]="20,,20521,";p.MUNI_ARRAY[20541]="20,,20541,";p.MUNI_ARRAY[20543]="20,,20543,";p.MUNI_ARRAY[20561]="20,,20561,";p.MUNI_ARRAY[20562]="20,,20562,";p.MUNI_ARRAY[20563]="20,,20563,";p.MUNI_ARRAY[20583]="20,,20583,";p.MUNI_ARRAY[20588]="20,,20588,";p.MUNI_ARRAY[20590]="20,,20590,";p.MUNI_ARRAY[20602]="20,,20602,";p.MUNI_ARRAY[21201]="21,,21201,";p.MUNI_ARRAY[21202]="21,,21202,";p.MUNI_ARRAY[21203]="21,,21203,";p.MUNI_ARRAY[21204]="21,,21204,";p.MUNI_ARRAY[21205]="21,,21205,";p.MUNI_ARRAY[21206]="21,,21206,";p.MUNI_ARRAY[21207]="21,,21207,";p.MUNI_ARRAY[21208]="21,,21208,";p.MUNI_ARRAY[21209]="21,,21209,";p.MUNI_ARRAY[21210]="21,,21210,";p.MUNI_ARRAY[21211]="21,,21211,";p.MUNI_ARRAY[21212]="21,,21212,";p.MUNI_ARRAY[21213]="21,,21213,";p.MUNI_ARRAY[21214]="21,,21214,";p.MUNI_ARRAY[21215]="21,,21215,";p.MUNI_ARRAY[21216]="21,,21216,";p.MUNI_ARRAY[21217]="21,,21217,";p.MUNI_ARRAY[21218]="21,,21218,";p.MUNI_ARRAY[21219]="21,,21219,";p.MUNI_ARRAY[21220]="21,,21220,";p.MUNI_ARRAY[21221]="21,,21221,";p.MUNI_ARRAY[21302]="21,,21302,";p.MUNI_ARRAY[21303]="21,,21303,";p.MUNI_ARRAY[21341]="21,,21341,";p.MUNI_ARRAY[21361]="21,,21361,";p.MUNI_ARRAY[21362]="21,,21362,";p.MUNI_ARRAY[21381]="21,,21381,";p.MUNI_ARRAY[21382]="21,,21382,";p.MUNI_ARRAY[21383]="21,,21383,";p.MUNI_ARRAY[21401]="21,,21401,";p.MUNI_ARRAY[21403]="21,,21403,";p.MUNI_ARRAY[21404]="21,,21404,";p.MUNI_ARRAY[21421]="21,,21421,";p.MUNI_ARRAY[21501]="21,,21501,";p.MUNI_ARRAY[21502]="21,,21502,";p.MUNI_ARRAY[21503]="21,,21503,";p.MUNI_ARRAY[21504]="21,,21504,";p.MUNI_ARRAY[21505]="21,,21505,";p.MUNI_ARRAY[21506]="21,,21506,";p.MUNI_ARRAY[21507]="21,,21507,";p.MUNI_ARRAY[21521]="21,,21521,";p.MUNI_ARRAY[21604]="21,,21604,";p.MUNI_ARRAY[22100]="22,,22100,";p.MUNI_ARRAY[22101]="22,,22101,";p.MUNI_ARRAY[22102]="22,,22102,";p.MUNI_ARRAY[22103]="22,,22103,";p.MUNI_ARRAY[22130]="22,,22130,";p.MUNI_ARRAY[22138]="22,,22138,";p.MUNI_ARRAY[22139]="22,,22139,";p.MUNI_ARRAY[22140]="22,,22140,";p.MUNI_ARRAY[22203]="22,,22203,";p.MUNI_ARRAY[22205]="22,,22205,";p.MUNI_ARRAY[22206]="22,,22206,";p.MUNI_ARRAY[22207]="22,,22207,";p.MUNI_ARRAY[22208]="22,,22208,";p.MUNI_ARRAY[22209]="22,,22209,";p.MUNI_ARRAY[22210]="22,,22210,";p.MUNI_ARRAY[22211]="22,,22211,";p.MUNI_ARRAY[22212]="22,,22212,";p.MUNI_ARRAY[22213]="22,,22213,";p.MUNI_ARRAY[22214]="22,,22214,";p.MUNI_ARRAY[22215]="22,,22215,";p.MUNI_ARRAY[22216]="22,,22216,";p.MUNI_ARRAY[22219]="22,,22219,";p.MUNI_ARRAY[22220]="22,,22220,";p.MUNI_ARRAY[22221]="22,,22221,";p.MUNI_ARRAY[22222]="22,,22222,";p.MUNI_ARRAY[22223]="22,,22223,";p.MUNI_ARRAY[22224]="22,,22224,";p.MUNI_ARRAY[22225]="22,,22225,";p.MUNI_ARRAY[22226]="22,,22226,";p.MUNI_ARRAY[22301]="22,,22301,";p.MUNI_ARRAY[22302]="22,,22302,";p.MUNI_ARRAY[22304]="22,,22304,";p.MUNI_ARRAY[22305]="22,,22305,";p.MUNI_ARRAY[22306]="22,,22306,";p.MUNI_ARRAY[22325]="22,,22325,";p.MUNI_ARRAY[22341]="22,,22341,";p.MUNI_ARRAY[22342]="22,,22342,";p.MUNI_ARRAY[22344]="22,,22344,";p.MUNI_ARRAY[22424]="22,,22424,";p.MUNI_ARRAY[22429]="22,,22429,";p.MUNI_ARRAY[22461]="22,,22461,";p.MUNI_ARRAY[23100]="23,,23100,";p.MUNI_ARRAY[23101]="23,,23101,";p.MUNI_ARRAY[23102]="23,,23102,";p.MUNI_ARRAY[23103]="23,,23103,";p.MUNI_ARRAY[23104]="23,,23104,";p.MUNI_ARRAY[23105]="23,,23105,";p.MUNI_ARRAY[23106]="23,,23106,";p.MUNI_ARRAY[23107]="23,,23107,";p.MUNI_ARRAY[23108]="23,,23108,";p.MUNI_ARRAY[23109]="23,,23109,";p.MUNI_ARRAY[23110]="23,,23110,";p.MUNI_ARRAY[23111]="23,,23111,";p.MUNI_ARRAY[23112]="23,,23112,";p.MUNI_ARRAY[23113]="23,,23113,";p.MUNI_ARRAY[23114]="23,,23114,";p.MUNI_ARRAY[23115]="23,,23115,";p.MUNI_ARRAY[23116]="23,,23116,";p.MUNI_ARRAY[23201]="23,,23201,";p.MUNI_ARRAY[23202]="23,,23202,";p.MUNI_ARRAY[23203]="23,,23203,";p.MUNI_ARRAY[23204]="23,,23204,";p.MUNI_ARRAY[23205]="23,,23205,";p.MUNI_ARRAY[23206]="23,,23206,";p.MUNI_ARRAY[23207]="23,,23207,";p.MUNI_ARRAY[23208]="23,,23208,";p.MUNI_ARRAY[23209]="23,,23209,";p.MUNI_ARRAY[23210]="23,,23210,";p.MUNI_ARRAY[23211]="23,,23211,";p.MUNI_ARRAY[23212]="23,,23212,";p.MUNI_ARRAY[23213]="23,,23213,";p.MUNI_ARRAY[23214]="23,,23214,";p.MUNI_ARRAY[23215]="23,,23215,";p.MUNI_ARRAY[23216]="23,,23216,";p.MUNI_ARRAY[23217]="23,,23217,";p.MUNI_ARRAY[23219]="23,,23219,";p.MUNI_ARRAY[23220]="23,,23220,";p.MUNI_ARRAY[23221]="23,,23221,";p.MUNI_ARRAY[23222]="23,,23222,";p.MUNI_ARRAY[23223]="23,,23223,";p.MUNI_ARRAY[23224]="23,,23224,";p.MUNI_ARRAY[23225]="23,,23225,";p.MUNI_ARRAY[23226]="23,,23226,";p.MUNI_ARRAY[23227]="23,,23227,";p.MUNI_ARRAY[23228]="23,,23228,";p.MUNI_ARRAY[23229]="23,,23229,";p.MUNI_ARRAY[23230]="23,,23230,";p.MUNI_ARRAY[23231]="23,,23231,";p.MUNI_ARRAY[23232]="23,,23232,";p.MUNI_ARRAY[23233]="23,,23233,";p.MUNI_ARRAY[23234]="23,,23234,";p.MUNI_ARRAY[23235]="23,,23235,";p.MUNI_ARRAY[23236]="23,,23236,";p.MUNI_ARRAY[23237]="23,,23237,";p.MUNI_ARRAY[23238]="23,,23238,";p.MUNI_ARRAY[23302]="23,,23302,";p.MUNI_ARRAY[23342]="23,,23342,";p.MUNI_ARRAY[23361]="23,,23361,";p.MUNI_ARRAY[23362]="23,,23362,";p.MUNI_ARRAY[23424]="23,,23424,";p.MUNI_ARRAY[23425]="23,,23425,";p.MUNI_ARRAY[23427]="23,,23427,";p.MUNI_ARRAY[23441]="23,,23441,";p.MUNI_ARRAY[23442]="23,,23442,";p.MUNI_ARRAY[23445]="23,,23445,";p.MUNI_ARRAY[23446]="23,,23446,";p.MUNI_ARRAY[23447]="23,,23447,";p.MUNI_ARRAY[23501]="23,,23501,";p.MUNI_ARRAY[23561]="23,,23561,";p.MUNI_ARRAY[23562]="23,,23562,";p.MUNI_ARRAY[23563]="23,,23563,";p.MUNI_ARRAY[24201]="24,,24201,";p.MUNI_ARRAY[24202]="24,,24202,";p.MUNI_ARRAY[24203]="24,,24203,";p.MUNI_ARRAY[24204]="24,,24204,";p.MUNI_ARRAY[24205]="24,,24205,";p.MUNI_ARRAY[24207]="24,,24207,";p.MUNI_ARRAY[24208]="24,,24208,";p.MUNI_ARRAY[24209]="24,,24209,";p.MUNI_ARRAY[24210]="24,,24210,";p.MUNI_ARRAY[24211]="24,,24211,";p.MUNI_ARRAY[24212]="24,,24212,";p.MUNI_ARRAY[24214]="24,,24214,";p.MUNI_ARRAY[24215]="24,,24215,";p.MUNI_ARRAY[24216]="24,,24216,";p.MUNI_ARRAY[24303]="24,,24303,";p.MUNI_ARRAY[24324]="24,,24324,";p.MUNI_ARRAY[24341]="24,,24341,";p.MUNI_ARRAY[24343]="24,,24343,";p.MUNI_ARRAY[24344]="24,,24344,";p.MUNI_ARRAY[24441]="24,,24441,";p.MUNI_ARRAY[24442]="24,,24442,";p.MUNI_ARRAY[24443]="24,,24443,";p.MUNI_ARRAY[24461]="24,,24461,";p.MUNI_ARRAY[24470]="24,,24470,";p.MUNI_ARRAY[24471]="24,,24471,";p.MUNI_ARRAY[24472]="24,,24472,";p.MUNI_ARRAY[24543]="24,,24543,";p.MUNI_ARRAY[24561]="24,,24561,";p.MUNI_ARRAY[24562]="24,,24562,";p.MUNI_ARRAY[25201]="25,,25201,";p.MUNI_ARRAY[25202]="25,,25202,";p.MUNI_ARRAY[25203]="25,,25203,";p.MUNI_ARRAY[25204]="25,,25204,";p.MUNI_ARRAY[25206]="25,,25206,";p.MUNI_ARRAY[25207]="25,,25207,";p.MUNI_ARRAY[25208]="25,,25208,";p.MUNI_ARRAY[25209]="25,,25209,";p.MUNI_ARRAY[25210]="25,,25210,";p.MUNI_ARRAY[25211]="25,,25211,";p.MUNI_ARRAY[25212]="25,,25212,";p.MUNI_ARRAY[25213]="25,,25213,";p.MUNI_ARRAY[25214]="25,,25214,";p.MUNI_ARRAY[25383]="25,,25383,";p.MUNI_ARRAY[25384]="25,,25384,";p.MUNI_ARRAY[25425]="25,,25425,";p.MUNI_ARRAY[25441]="25,,25441,";p.MUNI_ARRAY[25442]="25,,25442,";p.MUNI_ARRAY[25443]="25,,25443,";p.MUNI_ARRAY[26100]="26,,26100,";p.MUNI_ARRAY[26101]="26,,26101,";p.MUNI_ARRAY[26102]="26,,26102,";p.MUNI_ARRAY[26103]="26,,26103,";p.MUNI_ARRAY[26104]="26,,26104,";p.MUNI_ARRAY[26105]="26,,26105,";p.MUNI_ARRAY[26106]="26,,26106,";p.MUNI_ARRAY[26107]="26,,26107,";p.MUNI_ARRAY[26108]="26,,26108,";p.MUNI_ARRAY[26109]="26,,26109,";p.MUNI_ARRAY[26110]="26,,26110,";p.MUNI_ARRAY[26111]="26,,26111,";p.MUNI_ARRAY[26201]="26,,26201,";p.MUNI_ARRAY[26202]="26,,26202,";p.MUNI_ARRAY[26203]="26,,26203,";p.MUNI_ARRAY[26204]="26,,26204,";p.MUNI_ARRAY[26205]="26,,26205,";p.MUNI_ARRAY[26206]="26,,26206,";p.MUNI_ARRAY[26207]="26,,26207,";p.MUNI_ARRAY[26208]="26,,26208,";p.MUNI_ARRAY[26209]="26,,26209,";p.MUNI_ARRAY[26210]="26,,26210,";p.MUNI_ARRAY[26211]="26,,26211,";p.MUNI_ARRAY[26212]="26,,26212,";p.MUNI_ARRAY[26213]="26,,26213,";p.MUNI_ARRAY[26214]="26,,26214,";p.MUNI_ARRAY[26303]="26,,26303,";p.MUNI_ARRAY[26322]="26,,26322,";p.MUNI_ARRAY[26343]="26,,26343,";p.MUNI_ARRAY[26344]="26,,26344,";p.MUNI_ARRAY[26364]="26,,26364,";p.MUNI_ARRAY[26365]="26,,26365,";p.MUNI_ARRAY[26366]="26,,26366,";p.MUNI_ARRAY[26367]="26,,26367,";p.MUNI_ARRAY[26407]="26,,26407,";p.MUNI_ARRAY[26463]="26,,26463,";p.MUNI_ARRAY[26465]="26,,26465,";p.MUNI_ARRAY[27100]="27,,27100,";p.MUNI_ARRAY[27102]="27,,27102,";p.MUNI_ARRAY[27103]="27,,27103,";p.MUNI_ARRAY[27104]="27,,27104,";p.MUNI_ARRAY[27106]="27,,27106,";p.MUNI_ARRAY[27107]="27,,27107,";p.MUNI_ARRAY[27108]="27,,27108,";p.MUNI_ARRAY[27109]="27,,27109,";p.MUNI_ARRAY[27111]="27,,27111,";p.MUNI_ARRAY[27113]="27,,27113,";p.MUNI_ARRAY[27114]="27,,27114,";p.MUNI_ARRAY[27115]="27,,27115,";p.MUNI_ARRAY[27116]="27,,27116,";p.MUNI_ARRAY[27117]="27,,27117,";p.MUNI_ARRAY[27118]="27,,27118,";p.MUNI_ARRAY[27119]="27,,27119,";p.MUNI_ARRAY[27120]="27,,27120,";p.MUNI_ARRAY[27121]="27,,27121,";p.MUNI_ARRAY[27122]="27,,27122,";p.MUNI_ARRAY[27123]="27,,27123,";p.MUNI_ARRAY[27124]="27,,27124,";p.MUNI_ARRAY[27125]="27,,27125,";p.MUNI_ARRAY[27126]="27,,27126,";p.MUNI_ARRAY[27127]="27,,27127,";p.MUNI_ARRAY[27128]="27,,27128,";p.MUNI_ARRAY[27140]="27,,27140,";p.MUNI_ARRAY[27141]="27,,27141,";p.MUNI_ARRAY[27142]="27,,27142,";p.MUNI_ARRAY[27143]="27,,27143,";p.MUNI_ARRAY[27144]="27,,27144,";p.MUNI_ARRAY[27145]="27,,27145,";p.MUNI_ARRAY[27146]="27,,27146,";p.MUNI_ARRAY[27147]="27,,27147,";p.MUNI_ARRAY[27202]="27,,27202,";p.MUNI_ARRAY[27203]="27,,27203,";p.MUNI_ARRAY[27204]="27,,27204,";p.MUNI_ARRAY[27205]="27,,27205,";p.MUNI_ARRAY[27206]="27,,27206,";p.MUNI_ARRAY[27207]="27,,27207,";p.MUNI_ARRAY[27208]="27,,27208,";p.MUNI_ARRAY[27209]="27,,27209,";p.MUNI_ARRAY[27210]="27,,27210,";p.MUNI_ARRAY[27211]="27,,27211,";p.MUNI_ARRAY[27212]="27,,27212,";p.MUNI_ARRAY[27213]="27,,27213,";p.MUNI_ARRAY[27214]="27,,27214,";p.MUNI_ARRAY[27215]="27,,27215,";p.MUNI_ARRAY[27216]="27,,27216,";p.MUNI_ARRAY[27217]="27,,27217,";p.MUNI_ARRAY[27218]="27,,27218,";p.MUNI_ARRAY[27219]="27,,27219,";p.MUNI_ARRAY[27220]="27,,27220,";p.MUNI_ARRAY[27221]="27,,27221,";p.MUNI_ARRAY[27222]="27,,27222,";p.MUNI_ARRAY[27223]="27,,27223,";p.MUNI_ARRAY[27224]="27,,27224,";p.MUNI_ARRAY[27225]="27,,27225,";p.MUNI_ARRAY[27226]="27,,27226,";p.MUNI_ARRAY[27227]="27,,27227,";p.MUNI_ARRAY[27228]="27,,27228,";p.MUNI_ARRAY[27229]="27,,27229,";p.MUNI_ARRAY[27230]="27,,27230,";p.MUNI_ARRAY[27231]="27,,27231,";p.MUNI_ARRAY[27232]="27,,27232,";p.MUNI_ARRAY[27301]="27,,27301,";p.MUNI_ARRAY[27321]="27,,27321,";p.MUNI_ARRAY[27322]="27,,27322,";p.MUNI_ARRAY[27341]="27,,27341,";p.MUNI_ARRAY[27361]="27,,27361,";p.MUNI_ARRAY[27362]="27,,27362,";p.MUNI_ARRAY[27366]="27,,27366,";p.MUNI_ARRAY[27381]="27,,27381,";p.MUNI_ARRAY[27382]="27,,27382,";p.MUNI_ARRAY[27383]="27,,27383,";p.MUNI_ARRAY[28100]="28,,28100,";p.MUNI_ARRAY[28101]="28,,28101,";p.MUNI_ARRAY[28102]="28,,28102,";p.MUNI_ARRAY[28105]="28,,28105,";p.MUNI_ARRAY[28106]="28,,28106,";p.MUNI_ARRAY[28107]="28,,28107,";p.MUNI_ARRAY[28108]="28,,28108,";p.MUNI_ARRAY[28109]="28,,28109,";p.MUNI_ARRAY[28110]="28,,28110,";p.MUNI_ARRAY[28111]="28,,28111,";p.MUNI_ARRAY[28201]="28,,28201,";p.MUNI_ARRAY[28202]="28,,28202,";p.MUNI_ARRAY[28203]="28,,28203,";p.MUNI_ARRAY[28204]="28,,28204,";p.MUNI_ARRAY[28205]="28,,28205,";p.MUNI_ARRAY[28206]="28,,28206,";p.MUNI_ARRAY[28207]="28,,28207,";p.MUNI_ARRAY[28208]="28,,28208,";p.MUNI_ARRAY[28209]="28,,28209,";p.MUNI_ARRAY[28210]="28,,28210,";p.MUNI_ARRAY[28212]="28,,28212,";p.MUNI_ARRAY[28213]="28,,28213,";p.MUNI_ARRAY[28214]="28,,28214,";p.MUNI_ARRAY[28215]="28,,28215,";p.MUNI_ARRAY[28216]="28,,28216,";p.MUNI_ARRAY[28217]="28,,28217,";p.MUNI_ARRAY[28218]="28,,28218,";p.MUNI_ARRAY[28219]="28,,28219,";p.MUNI_ARRAY[28220]="28,,28220,";p.MUNI_ARRAY[28221]="28,,28221,";p.MUNI_ARRAY[28222]="28,,28222,";p.MUNI_ARRAY[28223]="28,,28223,";p.MUNI_ARRAY[28224]="28,,28224,";p.MUNI_ARRAY[28225]="28,,28225,";p.MUNI_ARRAY[28226]="28,,28226,";p.MUNI_ARRAY[28227]="28,,28227,";p.MUNI_ARRAY[28228]="28,,28228,";p.MUNI_ARRAY[28229]="28,,28229,";p.MUNI_ARRAY[28301]="28,,28301,";p.MUNI_ARRAY[28365]="28,,28365,";p.MUNI_ARRAY[28381]="28,,28381,";p.MUNI_ARRAY[28382]="28,,28382,";p.MUNI_ARRAY[28442]="28,,28442,";p.MUNI_ARRAY[28443]="28,,28443,";p.MUNI_ARRAY[28446]="28,,28446,";p.MUNI_ARRAY[28464]="28,,28464,";p.MUNI_ARRAY[28481]="28,,28481,";p.MUNI_ARRAY[28501]="28,,28501,";p.MUNI_ARRAY[28585]="28,,28585,";p.MUNI_ARRAY[28586]="28,,28586,";p.MUNI_ARRAY[29201]="29,,29201,";p.MUNI_ARRAY[29202]="29,,29202,";p.MUNI_ARRAY[29203]="29,,29203,";p.MUNI_ARRAY[29204]="29,,29204,";p.MUNI_ARRAY[29205]="29,,29205,";p.MUNI_ARRAY[29206]="29,,29206,";p.MUNI_ARRAY[29207]="29,,29207,";p.MUNI_ARRAY[29208]="29,,29208,";p.MUNI_ARRAY[29209]="29,,29209,";p.MUNI_ARRAY[29210]="29,,29210,";p.MUNI_ARRAY[29211]="29,,29211,";p.MUNI_ARRAY[29212]="29,,29212,";p.MUNI_ARRAY[29322]="29,,29322,";p.MUNI_ARRAY[29342]="29,,29342,";p.MUNI_ARRAY[29343]="29,,29343,";p.MUNI_ARRAY[29344]="29,,29344,";p.MUNI_ARRAY[29345]="29,,29345,";p.MUNI_ARRAY[29361]="29,,29361,";p.MUNI_ARRAY[29362]="29,,29362,";p.MUNI_ARRAY[29363]="29,,29363,";p.MUNI_ARRAY[29385]="29,,29385,";p.MUNI_ARRAY[29386]="29,,29386,";p.MUNI_ARRAY[29401]="29,,29401,";p.MUNI_ARRAY[29402]="29,,29402,";p.MUNI_ARRAY[29424]="29,,29424,";p.MUNI_ARRAY[29425]="29,,29425,";p.MUNI_ARRAY[29426]="29,,29426,";p.MUNI_ARRAY[29427]="29,,29427,";p.MUNI_ARRAY[29441]="29,,29441,";p.MUNI_ARRAY[29442]="29,,29442,";p.MUNI_ARRAY[29443]="29,,29443,";p.MUNI_ARRAY[29444]="29,,29444,";p.MUNI_ARRAY[29446]="29,,29446,";p.MUNI_ARRAY[29447]="29,,29447,";p.MUNI_ARRAY[29449]="29,,29449,";p.MUNI_ARRAY[29450]="29,,29450,";p.MUNI_ARRAY[29451]="29,,29451,";p.MUNI_ARRAY[29452]="29,,29452,";p.MUNI_ARRAY[29453]="29,,29453,";p.MUNI_ARRAY[30201]="30,,30201,";p.MUNI_ARRAY[30202]="30,,30202,";p.MUNI_ARRAY[30203]="30,,30203,";p.MUNI_ARRAY[30204]="30,,30204,";p.MUNI_ARRAY[30205]="30,,30205,";p.MUNI_ARRAY[30206]="30,,30206,";p.MUNI_ARRAY[30207]="30,,30207,";p.MUNI_ARRAY[30208]="30,,30208,";p.MUNI_ARRAY[30209]="30,,30209,";p.MUNI_ARRAY[30304]="30,,30304,";p.MUNI_ARRAY[30341]="30,,30341,";p.MUNI_ARRAY[30343]="30,,30343,";p.MUNI_ARRAY[30344]="30,,30344,";p.MUNI_ARRAY[30361]="30,,30361,";p.MUNI_ARRAY[30362]="30,,30362,";p.MUNI_ARRAY[30366]="30,,30366,";p.MUNI_ARRAY[30381]="30,,30381,";p.MUNI_ARRAY[30382]="30,,30382,";p.MUNI_ARRAY[30383]="30,,30383,";p.MUNI_ARRAY[30390]="30,,30390,";p.MUNI_ARRAY[30391]="30,,30391,";p.MUNI_ARRAY[30392]="30,,30392,";p.MUNI_ARRAY[30401]="30,,30401,";p.MUNI_ARRAY[30404]="30,,30404,";p.MUNI_ARRAY[30406]="30,,30406,";p.MUNI_ARRAY[30421]="30,,30421,";p.MUNI_ARRAY[30422]="30,,30422,";p.MUNI_ARRAY[30424]="30,,30424,";p.MUNI_ARRAY[30427]="30,,30427,";p.MUNI_ARRAY[30428]="30,,30428,";p.MUNI_ARRAY[31201]="31,,31201,";p.MUNI_ARRAY[31202]="31,,31202,";p.MUNI_ARRAY[31203]="31,,31203,";p.MUNI_ARRAY[31204]="31,,31204,";p.MUNI_ARRAY[31302]="31,,31302,";p.MUNI_ARRAY[31325]="31,,31325,";p.MUNI_ARRAY[31328]="31,,31328,";p.MUNI_ARRAY[31329]="31,,31329,";p.MUNI_ARRAY[31364]="31,,31364,";p.MUNI_ARRAY[31370]="31,,31370,";p.MUNI_ARRAY[31371]="31,,31371,";p.MUNI_ARRAY[31372]="31,,31372,";p.MUNI_ARRAY[31384]="31,,31384,";p.MUNI_ARRAY[31386]="31,,31386,";p.MUNI_ARRAY[31389]="31,,31389,";p.MUNI_ARRAY[31390]="31,,31390,";p.MUNI_ARRAY[31401]="31,,31401,";p.MUNI_ARRAY[31402]="31,,31402,";p.MUNI_ARRAY[31403]="31,,31403,";p.MUNI_ARRAY[32201]="32,,32201,";p.MUNI_ARRAY[32202]="32,,32202,";p.MUNI_ARRAY[32203]="32,,32203,";p.MUNI_ARRAY[32204]="32,,32204,";p.MUNI_ARRAY[32205]="32,,32205,";p.MUNI_ARRAY[32206]="32,,32206,";p.MUNI_ARRAY[32207]="32,,32207,";p.MUNI_ARRAY[32209]="32,,32209,";p.MUNI_ARRAY[32343]="32,,32343,";p.MUNI_ARRAY[32386]="32,,32386,";p.MUNI_ARRAY[32441]="32,,32441,";p.MUNI_ARRAY[32448]="32,,32448,";p.MUNI_ARRAY[32449]="32,,32449,";p.MUNI_ARRAY[32501]="32,,32501,";p.MUNI_ARRAY[32505]="32,,32505,";p.MUNI_ARRAY[32525]="32,,32525,";p.MUNI_ARRAY[32526]="32,,32526,";p.MUNI_ARRAY[32527]="32,,32527,";p.MUNI_ARRAY[32528]="32,,32528,";p.MUNI_ARRAY[33100]="33,,33100,";p.MUNI_ARRAY[33101]="33,,33101,";p.MUNI_ARRAY[33102]="33,,33102,";p.MUNI_ARRAY[33103]="33,,33103,";p.MUNI_ARRAY[33104]="33,,33104,";p.MUNI_ARRAY[33202]="33,,33202,";p.MUNI_ARRAY[33203]="33,,33203,";p.MUNI_ARRAY[33204]="33,,33204,";p.MUNI_ARRAY[33205]="33,,33205,";p.MUNI_ARRAY[33207]="33,,33207,";p.MUNI_ARRAY[33208]="33,,33208,";p.MUNI_ARRAY[33209]="33,,33209,";p.MUNI_ARRAY[33210]="33,,33210,";p.MUNI_ARRAY[33211]="33,,33211,";p.MUNI_ARRAY[33212]="33,,33212,";p.MUNI_ARRAY[33213]="33,,33213,";p.MUNI_ARRAY[33214]="33,,33214,";p.MUNI_ARRAY[33215]="33,,33215,";p.MUNI_ARRAY[33216]="33,,33216,";p.MUNI_ARRAY[33346]="33,,33346,";p.MUNI_ARRAY[33423]="33,,33423,";p.MUNI_ARRAY[33445]="33,,33445,";p.MUNI_ARRAY[33461]="33,,33461,";p.MUNI_ARRAY[33586]="33,,33586,";p.MUNI_ARRAY[33606]="33,,33606,";p.MUNI_ARRAY[33622]="33,,33622,";p.MUNI_ARRAY[33623]="33,,33623,";p.MUNI_ARRAY[33643]="33,,33643,";p.MUNI_ARRAY[33663]="33,,33663,";p.MUNI_ARRAY[33666]="33,,33666,";p.MUNI_ARRAY[33681]="33,,33681,";p.MUNI_ARRAY[34100]="34,,34100,";p.MUNI_ARRAY[34101]="34,,34101,";p.MUNI_ARRAY[34102]="34,,34102,";p.MUNI_ARRAY[34103]="34,,34103,";p.MUNI_ARRAY[34104]="34,,34104,";p.MUNI_ARRAY[34105]="34,,34105,";p.MUNI_ARRAY[34106]="34,,34106,";p.MUNI_ARRAY[34107]="34,,34107,";p.MUNI_ARRAY[34108]="34,,34108,";p.MUNI_ARRAY[34202]="34,,34202,";p.MUNI_ARRAY[34203]="34,,34203,";p.MUNI_ARRAY[34204]="34,,34204,";p.MUNI_ARRAY[34205]="34,,34205,";p.MUNI_ARRAY[34207]="34,,34207,";p.MUNI_ARRAY[34208]="34,,34208,";p.MUNI_ARRAY[34209]="34,,34209,";p.MUNI_ARRAY[34210]="34,,34210,";p.MUNI_ARRAY[34211]="34,,34211,";p.MUNI_ARRAY[34212]="34,,34212,";p.MUNI_ARRAY[34213]="34,,34213,";p.MUNI_ARRAY[34214]="34,,34214,";p.MUNI_ARRAY[34215]="34,,34215,";p.MUNI_ARRAY[34302]="34,,34302,";p.MUNI_ARRAY[34304]="34,,34304,";p.MUNI_ARRAY[34307]="34,,34307,";p.MUNI_ARRAY[34309]="34,,34309,";p.MUNI_ARRAY[34368]="34,,34368,";p.MUNI_ARRAY[34369]="34,,34369,";p.MUNI_ARRAY[34431]="34,,34431,";p.MUNI_ARRAY[34462]="34,,34462,";p.MUNI_ARRAY[34545]="34,,34545,";p.MUNI_ARRAY[35201]="35,,35201,";p.MUNI_ARRAY[35202]="35,,35202,";p.MUNI_ARRAY[35203]="35,,35203,";p.MUNI_ARRAY[35204]="35,,35204,";p.MUNI_ARRAY[35206]="35,,35206,";p.MUNI_ARRAY[35207]="35,,35207,";p.MUNI_ARRAY[35208]="35,,35208,";p.MUNI_ARRAY[35210]="35,,35210,";p.MUNI_ARRAY[35211]="35,,35211,";p.MUNI_ARRAY[35212]="35,,35212,";p.MUNI_ARRAY[35213]="35,,35213,";p.MUNI_ARRAY[35215]="35,,35215,";p.MUNI_ARRAY[35216]="35,,35216,";p.MUNI_ARRAY[35305]="35,,35305,";p.MUNI_ARRAY[35321]="35,,35321,";p.MUNI_ARRAY[35341]="35,,35341,";p.MUNI_ARRAY[35343]="35,,35343,";p.MUNI_ARRAY[35344]="35,,35344,";p.MUNI_ARRAY[35502]="35,,35502,";p.MUNI_ARRAY[36201]="36,,36201,";p.MUNI_ARRAY[36202]="36,,36202,";p.MUNI_ARRAY[36203]="36,,36203,";p.MUNI_ARRAY[36204]="36,,36204,";p.MUNI_ARRAY[36205]="36,,36205,";p.MUNI_ARRAY[36206]="36,,36206,";p.MUNI_ARRAY[36207]="36,,36207,";p.MUNI_ARRAY[36208]="36,,36208,";p.MUNI_ARRAY[36301]="36,,36301,";p.MUNI_ARRAY[36302]="36,,36302,";p.MUNI_ARRAY[36321]="36,,36321,";p.MUNI_ARRAY[36341]="36,,36341,";p.MUNI_ARRAY[36342]="36,,36342,";p.MUNI_ARRAY[36368]="36,,36368,";p.MUNI_ARRAY[36383]="36,,36383,";p.MUNI_ARRAY[36387]="36,,36387,";p.MUNI_ARRAY[36388]="36,,36388,";p.MUNI_ARRAY[36401]="36,,36401,";p.MUNI_ARRAY[36402]="36,,36402,";p.MUNI_ARRAY[36403]="36,,36403,";p.MUNI_ARRAY[36404]="36,,36404,";p.MUNI_ARRAY[36405]="36,,36405,";p.MUNI_ARRAY[36468]="36,,36468,";p.MUNI_ARRAY[36489]="36,,36489,";p.MUNI_ARRAY[37201]="37,,37201,";p.MUNI_ARRAY[37202]="37,,37202,";p.MUNI_ARRAY[37203]="37,,37203,";p.MUNI_ARRAY[37204]="37,,37204,";p.MUNI_ARRAY[37205]="37,,37205,";p.MUNI_ARRAY[37206]="37,,37206,";p.MUNI_ARRAY[37207]="37,,37207,";p.MUNI_ARRAY[37208]="37,,37208,";p.MUNI_ARRAY[37322]="37,,37322,";p.MUNI_ARRAY[37324]="37,,37324,";p.MUNI_ARRAY[37341]="37,,37341,";p.MUNI_ARRAY[37364]="37,,37364,";p.MUNI_ARRAY[37386]="37,,37386,";p.MUNI_ARRAY[37387]="37,,37387,";p.MUNI_ARRAY[37403]="37,,37403,";p.MUNI_ARRAY[37404]="37,,37404,";p.MUNI_ARRAY[37406]="37,,37406,";p.MUNI_ARRAY[38201]="38,,38201,";p.MUNI_ARRAY[38202]="38,,38202,";p.MUNI_ARRAY[38203]="38,,38203,";p.MUNI_ARRAY[38204]="38,,38204,";p.MUNI_ARRAY[38205]="38,,38205,";p.MUNI_ARRAY[38206]="38,,38206,";p.MUNI_ARRAY[38207]="38,,38207,";p.MUNI_ARRAY[38210]="38,,38210,";p.MUNI_ARRAY[38213]="38,,38213,";p.MUNI_ARRAY[38214]="38,,38214,";p.MUNI_ARRAY[38215]="38,,38215,";p.MUNI_ARRAY[38356]="38,,38356,";p.MUNI_ARRAY[38386]="38,,38386,";p.MUNI_ARRAY[38401]="38,,38401,";p.MUNI_ARRAY[38402]="38,,38402,";p.MUNI_ARRAY[38422]="38,,38422,";p.MUNI_ARRAY[38442]="38,,38442,";p.MUNI_ARRAY[38484]="38,,38484,";p.MUNI_ARRAY[38488]="38,,38488,";p.MUNI_ARRAY[38506]="38,,38506,";p.MUNI_ARRAY[39201]="39,,39201,";p.MUNI_ARRAY[39202]="39,,39202,";p.MUNI_ARRAY[39203]="39,,39203,";p.MUNI_ARRAY[39204]="39,,39204,";p.MUNI_ARRAY[39205]="39,,39205,";p.MUNI_ARRAY[39206]="39,,39206,";p.MUNI_ARRAY[39208]="39,,39208,";p.MUNI_ARRAY[39209]="39,,39209,";p.MUNI_ARRAY[39210]="39,,39210,";p.MUNI_ARRAY[39211]="39,,39211,";p.MUNI_ARRAY[39212]="39,,39212,";p.MUNI_ARRAY[39301]="39,,39301,";p.MUNI_ARRAY[39302]="39,,39302,";p.MUNI_ARRAY[39303]="39,,39303,";p.MUNI_ARRAY[39304]="39,,39304,";p.MUNI_ARRAY[39305]="39,,39305,";p.MUNI_ARRAY[39306]="39,,39306,";p.MUNI_ARRAY[39307]="39,,39307,";p.MUNI_ARRAY[39341]="39,,39341,";p.MUNI_ARRAY[39344]="39,,39344,";p.MUNI_ARRAY[39363]="39,,39363,";p.MUNI_ARRAY[39364]="39,,39364,";p.MUNI_ARRAY[39386]="39,,39386,";p.MUNI_ARRAY[39387]="39,,39387,";p.MUNI_ARRAY[39401]="39,,39401,";p.MUNI_ARRAY[39402]="39,,39402,";p.MUNI_ARRAY[39403]="39,,39403,";p.MUNI_ARRAY[39405]="39,,39405,";p.MUNI_ARRAY[39410]="39,,39410,";p.MUNI_ARRAY[39411]="39,,39411,";p.MUNI_ARRAY[39412]="39,,39412,";p.MUNI_ARRAY[39424]="39,,39424,";p.MUNI_ARRAY[39427]="39,,39427,";p.MUNI_ARRAY[39428]="39,,39428,";p.MUNI_ARRAY[40100]="40,,40100,";p.MUNI_ARRAY[40101]="40,,40101,";p.MUNI_ARRAY[40103]="40,,40103,";p.MUNI_ARRAY[40105]="40,,40105,";p.MUNI_ARRAY[40106]="40,,40106,";p.MUNI_ARRAY[40107]="40,,40107,";p.MUNI_ARRAY[40108]="40,,40108,";p.MUNI_ARRAY[40109]="40,,40109,";p.MUNI_ARRAY[40130]="40,,40130,";p.MUNI_ARRAY[40131]="40,,40131,";p.MUNI_ARRAY[40132]="40,,40132,";p.MUNI_ARRAY[40133]="40,,40133,";p.MUNI_ARRAY[40134]="40,,40134,";p.MUNI_ARRAY[40135]="40,,40135,";p.MUNI_ARRAY[40136]="40,,40136,";p.MUNI_ARRAY[40137]="40,,40137,";p.MUNI_ARRAY[40202]="40,,40202,";p.MUNI_ARRAY[40203]="40,,40203,";p.MUNI_ARRAY[40204]="40,,40204,";p.MUNI_ARRAY[40205]="40,,40205,";p.MUNI_ARRAY[40206]="40,,40206,";p.MUNI_ARRAY[40207]="40,,40207,";p.MUNI_ARRAY[40210]="40,,40210,";p.MUNI_ARRAY[40211]="40,,40211,";p.MUNI_ARRAY[40212]="40,,40212,";p.MUNI_ARRAY[40213]="40,,40213,";p.MUNI_ARRAY[40214]="40,,40214,";p.MUNI_ARRAY[40215]="40,,40215,";p.MUNI_ARRAY[40216]="40,,40216,";p.MUNI_ARRAY[40217]="40,,40217,";p.MUNI_ARRAY[40218]="40,,40218,";p.MUNI_ARRAY[40219]="40,,40219,";p.MUNI_ARRAY[40220]="40,,40220,";p.MUNI_ARRAY[40221]="40,,40221,";p.MUNI_ARRAY[40223]="40,,40223,";p.MUNI_ARRAY[40224]="40,,40224,";p.MUNI_ARRAY[40225]="40,,40225,";p.MUNI_ARRAY[40226]="40,,40226,";p.MUNI_ARRAY[40227]="40,,40227,";p.MUNI_ARRAY[40228]="40,,40228,";p.MUNI_ARRAY[40229]="40,,40229,";p.MUNI_ARRAY[40230]="40,,40230,";p.MUNI_ARRAY[40231]="40,,40231,";p.MUNI_ARRAY[40341]="40,,40341,";p.MUNI_ARRAY[40342]="40,,40342,";p.MUNI_ARRAY[40343]="40,,40343,";p.MUNI_ARRAY[40344]="40,,40344,";p.MUNI_ARRAY[40345]="40,,40345,";p.MUNI_ARRAY[40348]="40,,40348,";p.MUNI_ARRAY[40349]="40,,40349,";p.MUNI_ARRAY[40381]="40,,40381,";p.MUNI_ARRAY[40382]="40,,40382,";p.MUNI_ARRAY[40383]="40,,40383,";p.MUNI_ARRAY[40384]="40,,40384,";p.MUNI_ARRAY[40401]="40,,40401,";p.MUNI_ARRAY[40402]="40,,40402,";p.MUNI_ARRAY[40421]="40,,40421,";p.MUNI_ARRAY[40447]="40,,40447,";p.MUNI_ARRAY[40448]="40,,40448,";p.MUNI_ARRAY[40503]="40,,40503,";p.MUNI_ARRAY[40522]="40,,40522,";p.MUNI_ARRAY[40544]="40,,40544,";p.MUNI_ARRAY[40601]="40,,40601,";p.MUNI_ARRAY[40602]="40,,40602,";p.MUNI_ARRAY[40604]="40,,40604,";p.MUNI_ARRAY[40605]="40,,40605,";p.MUNI_ARRAY[40608]="40,,40608,";p.MUNI_ARRAY[40609]="40,,40609,";p.MUNI_ARRAY[40610]="40,,40610,";p.MUNI_ARRAY[40621]="40,,40621,";p.MUNI_ARRAY[40625]="40,,40625,";p.MUNI_ARRAY[40642]="40,,40642,";p.MUNI_ARRAY[40646]="40,,40646,";p.MUNI_ARRAY[40647]="40,,40647,";p.MUNI_ARRAY[41201]="41,,41201,";p.MUNI_ARRAY[41202]="41,,41202,";p.MUNI_ARRAY[41203]="41,,41203,";p.MUNI_ARRAY[41204]="41,,41204,";p.MUNI_ARRAY[41205]="41,,41205,";p.MUNI_ARRAY[41206]="41,,41206,";p.MUNI_ARRAY[41207]="41,,41207,";p.MUNI_ARRAY[41208]="41,,41208,";p.MUNI_ARRAY[41209]="41,,41209,";p.MUNI_ARRAY[41210]="41,,41210,";p.MUNI_ARRAY[41327]="41,,41327,";p.MUNI_ARRAY[41341]="41,,41341,";p.MUNI_ARRAY[41345]="41,,41345,";p.MUNI_ARRAY[41346]="41,,41346,";p.MUNI_ARRAY[41387]="41,,41387,";p.MUNI_ARRAY[41401]="41,,41401,";p.MUNI_ARRAY[41423]="41,,41423,";p.MUNI_ARRAY[41424]="41,,41424,";p.MUNI_ARRAY[41425]="41,,41425,";p.MUNI_ARRAY[41441]="41,,41441,";p.MUNI_ARRAY[42201]="42,,42201,";p.MUNI_ARRAY[42202]="42,,42202,";p.MUNI_ARRAY[42203]="42,,42203,";p.MUNI_ARRAY[42204]="42,,42204,";p.MUNI_ARRAY[42205]="42,,42205,";p.MUNI_ARRAY[42207]="42,,42207,";p.MUNI_ARRAY[42208]="42,,42208,";p.MUNI_ARRAY[42209]="42,,42209,";p.MUNI_ARRAY[42210]="42,,42210,";p.MUNI_ARRAY[42211]="42,,42211,";p.MUNI_ARRAY[42212]="42,,42212,";p.MUNI_ARRAY[42213]="42,,42213,";p.MUNI_ARRAY[42214]="42,,42214,";p.MUNI_ARRAY[42307]="42,,42307,";p.MUNI_ARRAY[42308]="42,,42308,";p.MUNI_ARRAY[42321]="42,,42321,";p.MUNI_ARRAY[42322]="42,,42322,";p.MUNI_ARRAY[42323]="42,,42323,";p.MUNI_ARRAY[42383]="42,,42383,";p.MUNI_ARRAY[42391]="42,,42391,";p.MUNI_ARRAY[42411]="42,,42411,";p.MUNI_ARRAY[43100]="43,,43100,";p.MUNI_ARRAY[43101]="43,,43101,";p.MUNI_ARRAY[43102]="43,,43102,";p.MUNI_ARRAY[43103]="43,,43103,";p.MUNI_ARRAY[43104]="43,,43104,";p.MUNI_ARRAY[43105]="43,,43105,";p.MUNI_ARRAY[43202]="43,,43202,";p.MUNI_ARRAY[43203]="43,,43203,";p.MUNI_ARRAY[43204]="43,,43204,";p.MUNI_ARRAY[43205]="43,,43205,";p.MUNI_ARRAY[43206]="43,,43206,";p.MUNI_ARRAY[43208]="43,,43208,";p.MUNI_ARRAY[43210]="43,,43210,";p.MUNI_ARRAY[43211]="43,,43211,";p.MUNI_ARRAY[43212]="43,,43212,";p.MUNI_ARRAY[43213]="43,,43213,";p.MUNI_ARRAY[43214]="43,,43214,";p.MUNI_ARRAY[43215]="43,,43215,";p.MUNI_ARRAY[43216]="43,,43216,";p.MUNI_ARRAY[43348]="43,,43348,";p.MUNI_ARRAY[43364]="43,,43364,";p.MUNI_ARRAY[43367]="43,,43367,";p.MUNI_ARRAY[43368]="43,,43368,";p.MUNI_ARRAY[43369]="43,,43369,";p.MUNI_ARRAY[43403]="43,,43403,";p.MUNI_ARRAY[43404]="43,,43404,";p.MUNI_ARRAY[43423]="43,,43423,";p.MUNI_ARRAY[43424]="43,,43424,";p.MUNI_ARRAY[43425]="43,,43425,";p.MUNI_ARRAY[43428]="43,,43428,";p.MUNI_ARRAY[43432]="43,,43432,";p.MUNI_ARRAY[43433]="43,,43433,";p.MUNI_ARRAY[43441]="43,,43441,";p.MUNI_ARRAY[43442]="43,,43442,";p.MUNI_ARRAY[43443]="43,,43443,";p.MUNI_ARRAY[43444]="43,,43444,";p.MUNI_ARRAY[43447]="43,,43447,";p.MUNI_ARRAY[43468]="43,,43468,";p.MUNI_ARRAY[43482]="43,,43482,";p.MUNI_ARRAY[43484]="43,,43484,";p.MUNI_ARRAY[43501]="43,,43501,";p.MUNI_ARRAY[43505]="43,,43505,";p.MUNI_ARRAY[43506]="43,,43506,";p.MUNI_ARRAY[43507]="43,,43507,";p.MUNI_ARRAY[43510]="43,,43510,";p.MUNI_ARRAY[43511]="43,,43511,";p.MUNI_ARRAY[43512]="43,,43512,";p.MUNI_ARRAY[43513]="43,,43513,";p.MUNI_ARRAY[43514]="43,,43514,";p.MUNI_ARRAY[43531]="43,,43531,";p.MUNI_ARRAY[44201]="44,,44201,";p.MUNI_ARRAY[44202]="44,,44202,";p.MUNI_ARRAY[44203]="44,,44203,";p.MUNI_ARRAY[44204]="44,,44204,";p.MUNI_ARRAY[44205]="44,,44205,";p.MUNI_ARRAY[44206]="44,,44206,";p.MUNI_ARRAY[44207]="44,,44207,";p.MUNI_ARRAY[44208]="44,,44208,";p.MUNI_ARRAY[44209]="44,,44209,";p.MUNI_ARRAY[44210]="44,,44210,";p.MUNI_ARRAY[44211]="44,,44211,";p.MUNI_ARRAY[44212]="44,,44212,";p.MUNI_ARRAY[44213]="44,,44213,";p.MUNI_ARRAY[44214]="44,,44214,";p.MUNI_ARRAY[44322]="44,,44322,";p.MUNI_ARRAY[44341]="44,,44341,";p.MUNI_ARRAY[44461]="44,,44461,";p.MUNI_ARRAY[44462]="44,,44462,";p.MUNI_ARRAY[45201]="45,,45201,";p.MUNI_ARRAY[45202]="45,,45202,";p.MUNI_ARRAY[45203]="45,,45203,";p.MUNI_ARRAY[45204]="45,,45204,";p.MUNI_ARRAY[45205]="45,,45205,";p.MUNI_ARRAY[45206]="45,,45206,";p.MUNI_ARRAY[45207]="45,,45207,";p.MUNI_ARRAY[45208]="45,,45208,";p.MUNI_ARRAY[45209]="45,,45209,";p.MUNI_ARRAY[45341]="45,,45341,";p.MUNI_ARRAY[45361]="45,,45361,";p.MUNI_ARRAY[45382]="45,,45382,";p.MUNI_ARRAY[45383]="45,,45383,";p.MUNI_ARRAY[45401]="45,,45401,";p.MUNI_ARRAY[45402]="45,,45402,";p.MUNI_ARRAY[45403]="45,,45403,";p.MUNI_ARRAY[45404]="45,,45404,";p.MUNI_ARRAY[45405]="45,,45405,";p.MUNI_ARRAY[45406]="45,,45406,";p.MUNI_ARRAY[45421]="45,,45421,";p.MUNI_ARRAY[45429]="45,,45429,";p.MUNI_ARRAY[45430]="45,,45430,";p.MUNI_ARRAY[45431]="45,,45431,";p.MUNI_ARRAY[45441]="45,,45441,";p.MUNI_ARRAY[45442]="45,,45442,";p.MUNI_ARRAY[45443]="45,,45443,";p.MUNI_ARRAY[46201]="46,,46201,";p.MUNI_ARRAY[46203]="46,,46203,";p.MUNI_ARRAY[46204]="46,,46204,";p.MUNI_ARRAY[46206]="46,,46206,";p.MUNI_ARRAY[46208]="46,,46208,";p.MUNI_ARRAY[46210]="46,,46210,";p.MUNI_ARRAY[46213]="46,,46213,";p.MUNI_ARRAY[46214]="46,,46214,";p.MUNI_ARRAY[46215]="46,,46215,";p.MUNI_ARRAY[46216]="46,,46216,";p.MUNI_ARRAY[46217]="46,,46217,";p.MUNI_ARRAY[46218]="46,,46218,";p.MUNI_ARRAY[46219]="46,,46219,";p.MUNI_ARRAY[46220]="46,,46220,";p.MUNI_ARRAY[46221]="46,,46221,";p.MUNI_ARRAY[46222]="46,,46222,";p.MUNI_ARRAY[46223]="46,,46223,";p.MUNI_ARRAY[46224]="46,,46224,";p.MUNI_ARRAY[46225]="46,,46225,";p.MUNI_ARRAY[46303]="46,,46303,";p.MUNI_ARRAY[46304]="46,,46304,";p.MUNI_ARRAY[46392]="46,,46392,";p.MUNI_ARRAY[46404]="46,,46404,";p.MUNI_ARRAY[46452]="46,,46452,";p.MUNI_ARRAY[46468]="46,,46468,";p.MUNI_ARRAY[46482]="46,,46482,";p.MUNI_ARRAY[46490]="46,,46490,";p.MUNI_ARRAY[46491]="46,,46491,";p.MUNI_ARRAY[46492]="46,,46492,";p.MUNI_ARRAY[46501]="46,,46501,";p.MUNI_ARRAY[46502]="46,,46502,";p.MUNI_ARRAY[46505]="46,,46505,";p.MUNI_ARRAY[46523]="46,,46523,";p.MUNI_ARRAY[46524]="46,,46524,";p.MUNI_ARRAY[46525]="46,,46525,";p.MUNI_ARRAY[46527]="46,,46527,";p.MUNI_ARRAY[46529]="46,,46529,";p.MUNI_ARRAY[46530]="46,,46530,";p.MUNI_ARRAY[46531]="46,,46531,";p.MUNI_ARRAY[46532]="46,,46532,";p.MUNI_ARRAY[46533]="46,,46533,";p.MUNI_ARRAY[46534]="46,,46534,";p.MUNI_ARRAY[46535]="46,,46535,";p.MUNI_ARRAY[47201]="47,,47201,";p.MUNI_ARRAY[47205]="47,,47205,";p.MUNI_ARRAY[47207]="47,,47207,";p.MUNI_ARRAY[47208]="47,,47208,";p.MUNI_ARRAY[47209]="47,,47209,";p.MUNI_ARRAY[47210]="47,,47210,";p.MUNI_ARRAY[47211]="47,,47211,";p.MUNI_ARRAY[47212]="47,,47212,";p.MUNI_ARRAY[47213]="47,,47213,";p.MUNI_ARRAY[47214]="47,,47214,";p.MUNI_ARRAY[47215]="47,,47215,";p.MUNI_ARRAY[47301]="47,,47301,";p.MUNI_ARRAY[47302]="47,,47302,";p.MUNI_ARRAY[47303]="47,,47303,";p.MUNI_ARRAY[47306]="47,,47306,";p.MUNI_ARRAY[47308]="47,,47308,";p.MUNI_ARRAY[47311]="47,,47311,";p.MUNI_ARRAY[47313]="47,,47313,";p.MUNI_ARRAY[47314]="47,,47314,";p.MUNI_ARRAY[47315]="47,,47315,";p.MUNI_ARRAY[47324]="47,,47324,";p.MUNI_ARRAY[47325]="47,,47325,";p.MUNI_ARRAY[47326]="47,,47326,";p.MUNI_ARRAY[47327]="47,,47327,";p.MUNI_ARRAY[47328]="47,,47328,";p.MUNI_ARRAY[47329]="47,,47329,";p.MUNI_ARRAY[47348]="47,,47348,";p.MUNI_ARRAY[47350]="47,,47350,";p.MUNI_ARRAY[47353]="47,,47353,";p.MUNI_ARRAY[47354]="47,,47354,";p.MUNI_ARRAY[47355]="47,,47355,";p.MUNI_ARRAY[47356]="47,,47356,";p.MUNI_ARRAY[47357]="47,,47357,";p.MUNI_ARRAY[47358]="47,,47358,";p.MUNI_ARRAY[47359]="47,,47359,";p.MUNI_ARRAY[47360]="47,,47360,";p.MUNI_ARRAY[47361]="47,,47361,";p.MUNI_ARRAY[47362]="47,,47362,";p.MUNI_ARRAY[47375]="47,,47375,";p.MUNI_ARRAY[47381]="47,,47381,";p.MUNI_ARRAY[47382]="47,,47382,";const sG=n=>{const e=p.MUNI_ARRAY[n];if(!e)return"";const t=e.split(",");return`${t[1]}${t[3]}`},Nxe=async(n,e)=>{const t=`https://mreversegeocoder.gsi.go.jp/reverse-geocoder/LonLatToAddress?lat=${e}&lon=${n}`;try{const r=await fetch(t);if(r.ok){const i=await r.json();return`${sG(i.results.muniCd)}${i.results.lv01Nm===""?"":i.results.lv01Nm}`}else throw new Error("Failed to fetch")}catch(r){throw r instanceof Error?new Error(r.message):new Error("Unknown error occurred")}},kxe=async n=>{const e=`https://msearch.gsi.go.jp/address-search/AddressSearch?q=${n}`;try{const t=await fetch(e,{method:"GET"});if(t.ok)return t.json()}catch(t){throw t instanceof Error?new Error(t.message):new Error("Unknown error occurred")}},T6=er(null),aG=n=>new Promise(e=>{T6.set({message:n.message,confirmText:n.confirmText||"OK",cancelText:n.cancelText||"",confirmOnly:n.confirmOnly||!1,resolve:e})}),gU=n=>{T6.update(e=>(e&&e.resolve(n),null))},Pxe=()=>aG({message:"",confirmText:"",cancelText:""});var Dxe=we('<button class="pointer-events-auto grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center p-2 drop-shadow-lg"><!></button>');function oG(n,e){Mt(e,!0);const t=()=>qt(O1,"$showStreetViewLayer",r),[r,i]=Rr(),s=()=>{if(O1.set(!t()),t()){const c=Dt.getMapBounds(),A=[136.91278,35.543576,136.92986,35.556704];gH(c,A)||Dt.fitBounds(A,{padding:0,duration:1e3,animate:!0})}};let a=Oe(null);ni(()=>{E(a)});var o=Dxe();o.__click=s;var l=q(o);{let c=Ot(()=>t()?"text-accent":"text-base");Bt(l,{icon:"fa6-solid:street-view",get class(){return`h-7 w-7 ${E(c)??""}`}})}$(o),qn(o,c=>ee(a,c),()=>E(a)),Z(n,o),St(),i()}Ln(["click"]);const dL=65536*65536,pU=1/dL,Oxe=12,_U=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),$8=0,U4=1,z2=2,N4=5;class zxe{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,r=this.length){for(;this.pos<r;){const i=this.readVarint(),s=i>>3,a=this.pos;this.type=i&7,e(s,t,this),this.pos===a&&this.skip(i)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*dL;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*dL;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let r,i;return i=t[this.pos++],r=i&127,i<128||(i=t[this.pos++],r|=(i&127)<<7,i<128)||(i=t[this.pos++],r|=(i&127)<<14,i<128)||(i=t[this.pos++],r|=(i&127)<<21,i<128)?r:(i=t[this.pos],r|=(i&15)<<28,Hxe(r,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=Oxe&&_U?_U.decode(this.buf.subarray(t,e)):eRe(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===z2?this.readVarint()+this.pos:this.pos+1}skip(e){const t=e&7;if(t===$8)for(;this.buf[this.pos++]>127;);else if(t===z2)this.pos=this.readVarint()+this.pos;else if(t===N4)this.pos+=4;else if(t===U4)this.pos+=8;else throw new Error(`Unimplemented type: ${t}`)}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.dataView=new DataView(r.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*pU),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*pU),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){Qxe(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const t=this.pos;this.pos=tRe(this.buf,e,this.pos);const r=this.pos-t;r>=128&&mU(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let r=0;r<t;r++)this.buf[this.pos++]=e[r]}writeRawMessage(e,t){this.pos++;const r=this.pos;e(t,this);const i=this.pos-r;i>=128&&mU(r,i,this),this.pos=r-1,this.writeVarint(i),this.pos+=i}writeMessage(e,t,r){this.writeTag(e,z2),this.writeRawMessage(t,r)}writePackedVarint(e,t){t.length&&this.writeMessage(e,Gxe,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,Vxe,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,Wxe,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,Kxe,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,$xe,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,qxe,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,Xxe,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,Jxe,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,Zxe,t)}writeBytesField(e,t){this.writeTag(e,z2),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,N4),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,N4),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,U4),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,U4),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,$8),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,$8),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,z2),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,N4),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,U4),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function Hxe(n,e,t){const r=t.buf;let i,s;if(s=r[t.pos++],i=(s&112)>>4,s<128||(s=r[t.pos++],i|=(s&127)<<3,s<128)||(s=r[t.pos++],i|=(s&127)<<10,s<128)||(s=r[t.pos++],i|=(s&127)<<17,s<128)||(s=r[t.pos++],i|=(s&127)<<24,s<128)||(s=r[t.pos++],i|=(s&1)<<31,s<128))return Vf(n,i,e);throw new Error("Expected varint not more than 10 bytes")}function Vf(n,e,t){return t?e*4294967296+(n>>>0):(e>>>0)*4294967296+(n>>>0)}function Qxe(n,e){let t,r;if(n>=0?(t=n%4294967296|0,r=n/4294967296|0):(t=~(-n%4294967296),r=~(-n/4294967296),t^4294967295?t=t+1|0:(t=0,r=r+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),jxe(t,r,e),Yxe(r,e)}function jxe(n,e,t){t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos]=n&127}function Yxe(n,e){const t=(n&7)<<4;e.buf[e.pos++]|=t|((n>>>=3)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127)))))}function mU(n,e,t){const r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(r);for(let i=t.pos-1;i>=n;i--)t.buf[i+r]=t.buf[i]}function Gxe(n,e){for(let t=0;t<n.length;t++)e.writeVarint(n[t])}function Vxe(n,e){for(let t=0;t<n.length;t++)e.writeSVarint(n[t])}function Kxe(n,e){for(let t=0;t<n.length;t++)e.writeFloat(n[t])}function $xe(n,e){for(let t=0;t<n.length;t++)e.writeDouble(n[t])}function Wxe(n,e){for(let t=0;t<n.length;t++)e.writeBoolean(n[t])}function qxe(n,e){for(let t=0;t<n.length;t++)e.writeFixed32(n[t])}function Xxe(n,e){for(let t=0;t<n.length;t++)e.writeSFixed32(n[t])}function Jxe(n,e){for(let t=0;t<n.length;t++)e.writeFixed64(n[t])}function Zxe(n,e){for(let t=0;t<n.length;t++)e.writeSFixed64(n[t])}function eRe(n,e,t){let r="",i=e;for(;i<t;){const s=n[i];let a=null,o=s>239?4:s>223?3:s>191?2:1;if(i+o>t)break;let l,c,A;o===1?s<128&&(a=s):o===2?(l=n[i+1],(l&192)===128&&(a=(s&31)<<6|l&63,a<=127&&(a=null))):o===3?(l=n[i+1],c=n[i+2],(l&192)===128&&(c&192)===128&&(a=(s&15)<<12|(l&63)<<6|c&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):o===4&&(l=n[i+1],c=n[i+2],A=n[i+3],(l&192)===128&&(c&192)===128&&(A&192)===128&&(a=(s&15)<<18|(l&63)<<12|(c&63)<<6|A&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,o=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),r+=String.fromCharCode(a),i+=o}return r}function tRe(n,e,t){for(let r=0,i,s;r<e.length;r++){if(i=e.charCodeAt(r),i>55295&&i<57344)if(s)if(i<56320){n[t++]=239,n[t++]=191,n[t++]=189,s=i;continue}else i=s-55296<<10|i-56320|65536,s=null;else{i>56319||r+1===e.length?(n[t++]=239,n[t++]=191,n[t++]=189):s=i;continue}else s&&(n[t++]=239,n[t++]=191,n[t++]=189,s=null);i<128?n[t++]=i:(i<2048?n[t++]=i>>6|192:(i<65536?n[t++]=i>>12|224:(n[t++]=i>>18|240,n[t++]=i>>12&63|128),n[t++]=i>>6&63|128),n[t++]=i&63|128)}return t}function QA(n,e){this.x=n,this.y=e}QA.prototype={clone(){return new QA(this.x,this.y)},add(n){return this.clone()._add(n)},sub(n){return this.clone()._sub(n)},multByPoint(n){return this.clone()._multByPoint(n)},divByPoint(n){return this.clone()._divByPoint(n)},mult(n){return this.clone()._mult(n)},div(n){return this.clone()._div(n)},rotate(n){return this.clone()._rotate(n)},rotateAround(n,e){return this.clone()._rotateAround(n,e)},matMult(n){return this.clone()._matMult(n)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(n){return this.x===n.x&&this.y===n.y},dist(n){return Math.sqrt(this.distSqr(n))},distSqr(n){const e=n.x-this.x,t=n.y-this.y;return e*e+t*t},angle(){return Math.atan2(this.y,this.x)},angleTo(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith(n){return this.angleWithSep(n.x,n.y)},angleWithSep(n,e){return Math.atan2(this.x*e-this.y*n,this.x*n+this.y*e)},_matMult(n){const e=n[0]*this.x+n[1]*this.y,t=n[2]*this.x+n[3]*this.y;return this.x=e,this.y=t,this},_add(n){return this.x+=n.x,this.y+=n.y,this},_sub(n){return this.x-=n.x,this.y-=n.y,this},_mult(n){return this.x*=n,this.y*=n,this},_div(n){return this.x/=n,this.y/=n,this},_multByPoint(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint(n){return this.x/=n.x,this.y/=n.y,this},_unit(){return this._div(this.mag()),this},_perp(){const n=this.y;return this.y=this.x,this.x=-n,this},_rotate(n){const e=Math.cos(n),t=Math.sin(n),r=e*this.x-t*this.y,i=t*this.x+e*this.y;return this.x=r,this.y=i,this},_rotateAround(n,e){const t=Math.cos(n),r=Math.sin(n),i=e.x+t*(this.x-e.x)-r*(this.y-e.y),s=e.y+r*(this.x-e.x)+t*(this.y-e.y);return this.x=i,this.y=s,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:QA};QA.convert=function(n){if(n instanceof QA)return n;if(Array.isArray(n))return new QA(+n[0],+n[1]);if(n.x!==void 0&&n.y!==void 0)return new QA(+n.x,+n.y);throw new Error("Expected [x, y] or {x, y} point format")};class lG{constructor(e,t,r,i,s){this.properties={},this.extent=r,this.type=0,this.id=void 0,this._pbf=e,this._geometry=-1,this._keys=i,this._values=s,e.readFields(nRe,this,t)}loadGeometry(){const e=this._pbf;e.pos=this._geometry;const t=e.readVarint()+e.pos,r=[];let i,s=1,a=0,o=0,l=0;for(;e.pos<t;){if(a<=0){const c=e.readVarint();s=c&7,a=c>>3}if(a--,s===1||s===2)o+=e.readSVarint(),l+=e.readSVarint(),s===1&&(i&&r.push(i),i=[]),i&&i.push(new QA(o,l));else if(s===7)i&&i.push(i[0].clone());else throw new Error(`unknown command ${s}`)}return i&&r.push(i),r}bbox(){const e=this._pbf;e.pos=this._geometry;const t=e.readVarint()+e.pos;let r=1,i=0,s=0,a=0,o=1/0,l=-1/0,c=1/0,A=-1/0;for(;e.pos<t;){if(i<=0){const u=e.readVarint();r=u&7,i=u>>3}if(i--,r===1||r===2)s+=e.readSVarint(),a+=e.readSVarint(),s<o&&(o=s),s>l&&(l=s),a<c&&(c=a),a>A&&(A=a);else if(r!==7)throw new Error(`unknown command ${r}`)}return[o,c,l,A]}toGeoJSON(e,t,r){const i=this.extent*Math.pow(2,r),s=this.extent*e,a=this.extent*t,o=this.loadGeometry();function l(h){return[(h.x+s)*360/i-180,360/Math.PI*Math.atan(Math.exp((1-(h.y+a)*2/i)*Math.PI))-90]}function c(h){return h.map(l)}let A;if(this.type===1){const h=[];for(const d of o)h.push(d[0]);const f=c(h);A=h.length===1?{type:"Point",coordinates:f[0]}:{type:"MultiPoint",coordinates:f}}else if(this.type===2){const h=o.map(c);A=h.length===1?{type:"LineString",coordinates:h[0]}:{type:"MultiLineString",coordinates:h}}else if(this.type===3){const h=iRe(o),f=[];for(const d of h)f.push(d.map(c));A=f.length===1?{type:"Polygon",coordinates:f[0]}:{type:"MultiPolygon",coordinates:f}}else throw new Error("unknown feature type");const u={type:"Feature",geometry:A,properties:this.properties};return this.id!=null&&(u.id=this.id),u}}lG.types=["Unknown","Point","LineString","Polygon"];function nRe(n,e,t){n===1?e.id=t.readVarint():n===2?rRe(t,e):n===3?e.type=t.readVarint():n===4&&(e._geometry=t.pos)}function rRe(n,e){const t=n.readVarint()+n.pos;for(;n.pos<t;){const r=e._keys[n.readVarint()],i=e._values[n.readVarint()];e.properties[r]=i}}function iRe(n){const e=n.length;if(e<=1)return[n];const t=[];let r,i;for(let s=0;s<e;s++){const a=sRe(n[s]);a!==0&&(i===void 0&&(i=a<0),i===a<0?(r&&t.push(r),r=[n[s]]):r&&r.push(n[s]))}return r&&t.push(r),t}function sRe(n){let e=0;for(let t=0,r=n.length,i=r-1,s,a;t<r;i=t++)s=n[t],a=n[i],e+=(a.x-s.x)*(s.y+a.y);return e}class aRe{constructor(e,t){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(oRe,this,t),this.length=this._features.length}feature(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];const t=this._pbf.readVarint()+this._pbf.pos;return new lG(this._pbf,t,this.extent,this._keys,this._values)}}function oRe(n,e,t){n===15?e.version=t.readVarint():n===1?e.name=t.readString():n===5?e.extent=t.readVarint():n===2?e._features.push(t.pos):n===3?e._keys.push(t.readString()):n===4&&e._values.push(lRe(t))}function lRe(n){let e=null;const t=n.readVarint()+n.pos;for(;n.pos<t;){const r=n.readVarint()>>3;e=r===1?n.readString():r===2?n.readFloat():r===3?n.readDouble():r===4?n.readVarint64():r===5?n.readVarint():r===6?n.readSVarint():r===7?n.readBoolean():null}if(e==null)throw new Error("unknown feature value");return e}class cRe{constructor(e,t){this.layers=e.readFields(ARe,{},t)}}function ARe(n,e,t){if(n===3){const r=new aRe(t,t.readVarint()+t.pos);r.length&&(e[r.name]=r)}}const uRe=async(n,{z:e,x:t,y:r},i,s)=>{const o=await new z1(n).getZxy(e,t,r);if(!o||!o.data)throw new Error("");const c=new cRe(new zxe(o.data)).layers[i];if(!c)throw new Error("");for(let A=0;A<c.length;A++){const u=c.feature(A);if(u.id===s)return u.properties}return console.warn("  feature_id "),null},fRe=(n,e)=>{let t=.5,r=n,i=e,s="lat_lng";return Math.abs(n)>Math.abs(e)+10?(r=e,i=n,s="lng_lat",t=.7):Math.abs(e)>Math.abs(n)+10?(r=n,i=e,s="lat_lng",t=.7):n>=30&&n<=45&&e>=130&&e<=145?(r=n,i=e,s="lat_lng",t=.8):e>=30&&e<=45&&n>=130&&n<=145?(r=e,i=n,s="lng_lat",t=.8):(r=n,i=e,s="lat_lng",t=.55),{lat:r,lng:i,order:s,confidence:t}},hRe=n=>{const e=/^(-?\d+\.?\d*)\s*,\s*(-?\d+\.?\d*)$/,t=n.match(e);if(!t)return{isCoordinate:!1,lat:0,lng:0,order:"unknown",confidence:0};const r=parseFloat(t[1]),i=parseFloat(t[2]),s=r>=-90&&r<=90,a=r>=-180&&r<=180,o=i>=-90&&i<=90,l=i>=-180&&i<=180;if(!(s||a)||!(o||l))return{isCoordinate:!1,lat:0,lng:0,order:"unknown",confidence:0};let c,A,u,h;if(s&&!o&&l)c=r,A=i,u="lat_lng",h=.95;else if(!s&&a&&o)c=i,A=r,u="lng_lat",h=.95;else if(s&&o){const f=fRe(r,i);c=f.lat,A=f.lng,u=f.order,h=f.confidence}else c=r,A=i,u="lat_lng",h=.5;return{isCoordinate:!0,lat:c,lng:A,order:u,confidence:h}};var dRe=we('<img class="c-basemap-img pointer-events-none absolute block h-full w-full rounded-full object-cover" alt=""/>'),gRe=we('<img class="pointer-events-none absolute block h-full w-full rounded-full object-cover"/>'),pRe=we("<!> <!>",1);function M6(n,e){Mt(e,!0);let t=Oe(!1);const r=l=>{l.cleanup&&l.cleanup()},i=(()=>{try{return lf(e.layerEntry)}catch(l){return ee(t,!0),console.error("Error generating icon image:",l),Promise.resolve(void 0)}})();var s=xt(),a=Je(s);{var o=l=>{var c=xt(),A=Je(c);ef(A,()=>i,null,(u,h)=>{var f=pRe(),d=Je(f);{var g=y=>{var b=dRe();Ye(v=>pt(b,"src",v),[()=>R6(e.layerEntry.metaData.xyzImageTile)]),Yt(3,b,()=>cr),Z(y,b)};Te(d,y=>{e.layerEntry.metaData.xyzImageTile&&e.layerEntry.type==="vector"&&y(g)})}var _=oe(d,2);{var m=y=>{var b=gRe();Ye(()=>{pt(b,"alt",e.layerEntry.metaData.name),pt(b,"src",E(h).url)}),Bn("load",b,()=>r(E(h))),Bn("error",b,()=>{ee(t,!0)}),Eh(b),Yt(3,b,()=>cr),Z(y,b)};Te(_,y=>{E(h)&&y(m)})}Z(u,f)},u=>{var h=xt(),f=Je(h);{var d=_=>{Bt(_,{icon:"mdi:raster",class:"pointer-events-none",width:30})},g=_=>{var m=xt(),y=Je(m);{var b=v=>{var B=xt(),C=Je(B);{var I=w=>{Bt(w,{icon:"ic:baseline-mode-standby",class:"pointer-events-none",width:30})},R=w=>{var U=xt(),M=Je(U);{var F=S=>{Bt(S,{icon:"ic:baseline-polymer",class:"pointer-events-none",width:30})},P=S=>{var W=xt(),re=Je(W);{var G=ie=>{Bt(ie,{icon:"ic:baseline-pentagon",class:"pointer-events-none",width:30})};Te(re,ie=>{e.layerEntry.format.geometryType==="Polygon"&&ie(G)},!0)}Z(S,W)};Te(M,S=>{e.layerEntry.format.geometryType==="LineString"?S(F):S(P,!1)},!0)}Z(w,U)};Te(C,w=>{e.layerEntry.format.geometryType==="Point"?w(I):w(R,!1)})}Z(v,B)};Te(y,v=>{e.layerEntry.type==="vector"&&v(b)},!0)}Z(_,m)};Te(f,_=>{e.layerEntry.type==="raster"?_(d):_(g,!1)})}Z(u,h)}),Z(l,c)};Te(a,l=>{E(t)||l(o)})}Z(n,s),St()}var _Re=we('<div class="flex w-full items-center justify-center"><div class="h-16 w-16 animate-spin cursor-pointer rounded-full border-4 border-white border-t-transparent"></div></div>'),mRe=we('<img alt="Icon" class="h-12 w-12 rounded-full object-cover"/>'),yRe=we('<div class="grid h-12 w-12 place-items-center"><!></div>'),bRe=we('<button class="flex w-full cursor-pointer items-center justify-center gap-2 p-2 text-left text-base transition-colors duration-100 hover:bg-gray-800"><div class="grid shrink-0 place-items-center"><!></div> <div class="flex w-full flex-col justify-center gap-[1px]"><span> </span> <span class="text-xs"> </span></div></button>'),vRe=we('<button class="flex w-full cursor-pointer items-center justify-center gap-2 p-2 text-left text-base transition-colors duration-100 hover:bg-gray-800"><div class="grid shrink-0 place-items-center"><!></div> <div class="flex w-full flex-col justify-center gap-[1px]"><span> </span> <span class="text-xs"></span></div></button>'),wRe=we("<!> <!>",1),LRe=we('<div class="p-2 pt-3 text-white"></div> <!>',1),xRe=we('<button class="flex w-full cursor-pointer items-center justify-center gap-2 p-2 text-left text-base transition-colors duration-100 hover:bg-gray-800"><div class="relative isolate grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center overflow-hidden rounded-full bg-black text-base transition-transform duration-150"><div class="scale-200 h-full w-full"><!></div></div> <div class="flex w-full flex-col justify-center gap-[1px]"><span> </span> <span class="text-xs"> </span></div></button>'),RRe=we('<div class="p-2 pt-3 text-white"></div> <!>',1),BRe=we('<div class="c-scroll-hidden flex grow flex-col divide-y-2 divide-gray-600 overflow-y-auto overflow-x-hidden px-2"><!> <!></div>'),ERe=we('<div class="pointer-events-auto flex max-h-[calc(100dvh-300px)] w-full flex-col gap-2 rounded-lg bg-black/80"><!></div>');function CRe(n,e){Mt(e,!0);const t=()=>qt(gc,"$showSearchSuggest",i),r=()=>qt(ba,"$activeLayerIdsStore",i),[i,s]=Rr();let a=Ne(e,"searchSuggests",15),o=Ne(e,"showDataEntry",15),l;const c={};let A;ni(async()=>{l=await fetch(`${WL}/search_data.json`).then(_=>_.json()).then(_=>_).catch(_=>{console.error("Error fetching search data:",_)}),A=new _u(l,{keys:["search_values"],threshold:.3,getFn:(_,m)=>_.search_values.map(b=>u1(b))}),l.forEach(_=>{const m=_.layer_id,y="";c[m]=y})});let u=Oe(!1);const h=_=>{if(!_)return;const m=u1(_);try{if(!l){console.error("Search data is not loaded yet.");return}const y=hRe(m);if(y.isCoordinate){let I;y.order==="lng_lat"?I=[y.lng,y.lat]:y.order==="lat_lng"&&(I=[y.lat,y.lng]),a([{type:"coordinate",name:_,point:I}]);return}ee(u,!0);const v=A.search(m,{limit:10}).map(I=>{const R=I.item;return{type:"poi",name:R.name,location:c[R.layer_id]||null,point:R.point,layerId:R.layer_id,featureId:R.feature_id,propId:R.prop_id}}),C=XD.search(m,{limit:10}).map(I=>{const R=I.item;return{type:"layer",name:R.metaData.name,layerId:R.id,location:R.metaData.location||"---",data:R}});a([...v,...C])}catch(y){console.error("Error searching features:",y)}finally{ee(u,!1)}};on(()=>{e.inputSearchWord?(h(e.inputSearchWord),xr(gc,!0)):xr(gc,!1)}),YA.subscribe(_=>{_||xr(gc,!1)});var f=xt(),d=Je(f);{var g=_=>{var m=ERe(),y=q(m);{var b=B=>{var C=_Re();Z(B,C)},v=B=>{var C=xt(),I=Je(C);{var R=w=>{var U=BRe(),M=q(U);{var F=W=>{var re=LRe(),G=oe(Je(re),2);Fn(G,16,a,ie=>ie,(ie,X)=>{var ge=wRe(),K=Je(ge);{var N=j=>{var le=bRe();le.__click=()=>{xr(gc,!1),e.focusFeature(X)};var de=q(le),he=q(de);{var ue=ne=>{var te=mRe();Ye(()=>pt(te,"src",`${qL}/${X.propId}.webp`)),Z(ne,te)},me=ne=>{var te=yRe(),J=q(te);Bt(J,{icon:"lucide:map-pin",class:"h-8 w-8 shrink-0 text-base"}),$(te),Z(ne,te)};Te(he,ne=>{X.propId&&wd[X.propId]&&wd[X.propId].image?ne(ue):ne(me,!1)})}$(de);var _e=oe(de,2),xe=q(_e),Re=q(xe,!0);$(xe);var D=oe(xe,2),O=q(D,!0);$(D),$(_e),$(le),Ye(()=>{yt(Re,X.name),yt(O,X.location??"---")}),Z(j,le)};Te(K,j=>{X.type==="poi"&&j(N)})}var H=oe(K,2);{var V=j=>{var le=vRe();le.__click=()=>{xr(gc,!1),e.focusFeature(X)};var de=q(le),he=q(de);Bt(he,{icon:"mdi:crosshairs-gps",class:"h-8 w-8 shrink-0 text-base"}),$(de);var ue=oe(de,2),me=q(ue),_e=q(me,!0);$(me),jn(2),$(ue),$(le),Ye(()=>yt(_e,X.name)),Z(j,le)};Te(H,j=>{X.type==="coordinate"&&j(V)})}Z(ie,ge)}),Z(W,re)};Te(M,W=>{a().some(re=>re.type==="poi"||re.type==="coordinate")&&W(F)})}var P=oe(M,2);{var S=W=>{var re=RRe(),G=oe(Je(re),2);Fn(G,16,a,ie=>ie,(ie,X)=>{var ge=xt(),K=Je(ge);{var N=H=>{var V=xRe();V.__click=()=>{xr(gc,!1),r().includes(X.layerId)?(Xs.set(X.layerId),ma.set(!0)):o(X.data)};var j=q(V),le=q(j),de=q(le);M6(de,{get layerEntry(){return X.data}}),$(le),$(j);var he=oe(j,2),ue=q(he),me=q(ue,!0);$(ue);var _e=oe(ue,2),xe=q(_e,!0);$(_e),$(he),$(V),Ye(()=>{yt(me,X.name),yt(xe,X.location??"---")}),Z(H,V)};Te(K,H=>{X.type==="layer"&&H(N)})}Z(ie,ge)}),Z(W,re)};Te(P,W=>{a().some(re=>re.type==="layer")&&W(S)})}$(U),Z(w,U)};Te(I,w=>{a()&&e.inputSearchWord.trim()!==""&&w(R)},!0)}Z(B,C)};Te(y,B=>{E(u)?B(b):B(v,!1)})}$(m),Yt(3,m,()=>br,()=>({duration:200,y:-10,opacity:0,delay:100})),Z(_,m)};Te(d,_=>{t()&&a()&&a().length>0&&_(g)})}Z(n,f),St(),s()}Ln(["click"]);var IRe=we('<div><!> <button class="flex cursor-pointer items-center justify-start gap-2 rounded-r-full bg-black p-2 px-4 text-base transition-colors delay-100 duration-100"><!></button></div>'),TRe=we('<div class="bg-main right-2 top-2 flex w-full items-center justify-between p-2 max-lg:hidden"><div class="flex h-full items-center gap-4 pl-2"><div class="flex h-full items-end justify-center gap-2"></div></div> <!> <div><!> <!> <button class="hover:text-accent cursor-pointer rounded-full p-2 text-left text-base drop-shadow-lg duration-100"><!></button></div></div> <div class="pointer-events-none relative w-full"><div class="absolute top-0 z-20 flex w-full items-center justify-between p-2 max-lg:hidden"><div class="flex h-full items-center gap-4 pl-2"></div> <div class="flex max-w-[400px] flex-1 items-center"><!></div> <div class="flex w-[150px] items-center rounded-lg max-lg:hidden"></div></div></div>',1);function MRe(n,e){Mt(e,!0);const t=()=>qt(vi,"$showDataMenu",i),r=()=>qt(y1,"$isProcessing",i),[i,s]=Rr();let a=Ne(e,"featureMenuData",15),o=Ne(e,"inputSearchWord",15),l=Ne(e,"showSelectionMarker",15),c=Ne(e,"selectionMarkerLngLat",15),A=Ne(e,"searchResults",15),u=Ne(e,"selectedSearchResultData",15),h=Ne(e,"showDataEntry",15),f;const d=50,g={};let _=Oe(!1);ni(async()=>{f=await fetch(`${WL}/search_data.json`).then(G=>G.json()).then(G=>G).catch(G=>{console.error("Error fetching search data:",G)}),f.forEach(G=>{const ie=G.layer_id,X="";g[ie]=X})});let m=Oe(null);const y=async G=>{if(E(m)&&E(m).length>0&&E(m)[0].type==="coordinate"){const ie=E(m)[0];e.focusFeature(ie);return}ee(_,!0),y1.set(!0);try{if(!f){console.error("Search data is not loaded yet.");return}const X=new _u(f,{keys:["search_values"],threshold:.1}).search(G,{limit:d}),ge=X.map(N=>{const H=N.item;return{type:"poi",name:H.name,location:g[H.layer_id]||null,point:H.point,layerId:H.layer_id,featureId:H.feature_id,propId:H.prop_id}});let K=[];G.length>1&&(K=(await kxe(G)).slice(0,d-X.length).map(({geometry:{coordinates:H},properties:V})=>{const j=V.addressCode?sG(V.addressCode):null;return{type:"address",point:H,name:V.title,location:j}})),A([...ge,...K].map((N,H)=>({id:H,...N})))}catch(ie){console.error("Error searching features:",ie)}finally{ee(_,!1),y1.set(!1),A()&&A().length>0?(YA.set(!0),a(null),u(null)):ci("","info")}};Ch.subscribe(G=>{Wi.set(!1)});let b=Oe(null);var v=TRe(),B=Je(v),C=oe(q(B),2);{var I=G=>{var ie=IRe(),X=q(ie);Uxe(X,{get layerEntries(){return e.layerEntries},get searchSuggests(){return E(m)},searchFeature:N=>y(N),get searchResults(){return A()},set searchResults(N){A(N)},get inputSearchWord(){return o()},set inputSearchWord(N){o(N)}});var ge=oe(X,2);ge.__click=()=>{o()&&y(o())};var K=q(ge);Bt(K,{icon:"stash:search-solid",class:"transition-[width, height] h-6 w-6 duration-100"}),$(ge),$(ie),qn(ie,N=>ee(b,N),()=>E(b)),Ye(()=>{Xt(ie,1,`border-sub border-1 relative flex max-w-[400px] flex-1 items-center rounded-full ${h()?"pointer-events-none opacity-0":""}`),ge.disabled=r()}),Z(G,ie)};Te(C,G=>{t()||G(I)})}var R=oe(C,2),w=q(R);iG(w,{});var U=oe(w,2);oG(U,{});var M=oe(U,2);M.__click=()=>Wi.set(!0);var F=q(M);Bt(F,{icon:"ic:round-menu",class:"h-8 w-8"}),$(M),$(R),$(B);var P=oe(B,2),S=q(P),W=oe(q(S),2),re=q(W);CRe(re,{get focusFeature(){return e.focusFeature},get layerEntries(){return e.layerEntries},get featureMenuData(){return a()},set featureMenuData(G){a(G)},get inputSearchWord(){return o()},set inputSearchWord(G){o(G)},get showSelectionMarker(){return l()},set showSelectionMarker(G){l(G)},get selectionMarkerLngLat(){return c()},set selectionMarkerLngLat(G){c(G)},get searchSuggests(){return E(m)},set searchSuggests(G){ee(m,G,!0)},get showDataEntry(){return h()},set showDataEntry(G){h(G)}}),$(W),jn(2),$(S),$(P),Ye(()=>Xt(R,1,`flex items-center rounded-lg pr-1 max-lg:hidden ${h()?"pointer-events-none opacity-0":""}`)),Z(n,v),St(),s()}Ln(["click"]);function cG(n,{from:e,to:t},r={}){var{delay:i=0,duration:s=C=>Math.sqrt(C)*120,easing:a=QY}=r,o=getComputedStyle(n),l=o.transform==="none"?"":o.transform,[c,A]=o.transformOrigin.split(" ").map(parseFloat);c/=n.clientWidth,A/=n.clientHeight;var u=SRe(n),h=n.clientWidth/t.width/u,f=n.clientHeight/t.height/u,d=e.left+e.width*c,g=e.top+e.height*A,_=t.left+t.width*c,m=t.top+t.height*A,y=(d-_)*h,b=(g-m)*f,v=e.width/t.width,B=e.height/t.height;return{delay:i,duration:typeof s=="function"?s(Math.sqrt(y*y+b*b)):s,easing:a,css:(C,I)=>{var R=I*y,w=I*b,U=C+I*v,M=C+I*B;return`transform: ${l} translate(${R}px, ${w}px) scale(${U}, ${M});`}}}function SRe(n){if("currentCSSZoom"in n)return n.currentCSSZoom;for(var e=n,t=1;e!==null;)t*=+getComputedStyle(e).zoom,e=e.parentElement;return t}var FRe=we('<div class="relative flex h-full w-[50px] shrink-0 items-center justify-center svelte-o6a86q"><div></div></div>'),URe=we('<div class="c-ripple-effect absolute top-0 h-full w-full rounded-full border-2 border-amber-50 svelte-o6a86q"></div> <div class="c-ripple-effect2 absolute top-0 h-full w-full rounded-full border-2 border-amber-50 svelte-o6a86q"></div>',1),NRe=we('<div class="grid place-items-center [&amp;_path]:fill-white svelte-o6a86q"><!></div>'),kRe=we('<div class="[&amp;_path]:fill-base grid aspect-square place-items-center svelte-o6a86q"><!></div>'),PRe=we('<div class="grid place-items-center svelte-o6a86q"><!></div>'),DRe=we('<div class="grid place-items-center svelte-o6a86q"><!></div>'),ORe=we('<div class="absolute top-2 right-4 grid place-items-center opacity-10 svelte-o6a86q"><!> <!> <!> <!></div>'),zRe=we('<div class="flex h-full w-full flex-col gap-[2px] svelte-o6a86q"><span class="truncate pt-2 pl-1 text-base svelte-o6a86q"> </span> <div class="mt-auto flex pl-1 svelte-o6a86q"><span class="truncate text-xs text-gray-400 svelte-o6a86q"> </span></div></div>'),HRe=we('<button class="cursor-pointer svelte-o6a86q"><!></button>'),QRe=we('<div class="absolute flex h-full w-full gap-4 rounded-r-full bg-black pl-2 text-gray-100 svelte-o6a86q"><button class="cursor-pointer svelte-o6a86q"><!></button> <button class="cursor-pointer svelte-o6a86q"><!></button> <!> <button class="mr-4 ml-auto cursor-pointer svelte-o6a86q"><!></button></div>'),jRe=we('<button class="cursor-pointer svelte-o6a86q"><!></button>'),YRe=we('<div class="absolute flex h-full w-full gap-4 rounded-r-full bg-black pl-1 text-gray-100 svelte-o6a86q"><button class="cursor-pointer svelte-o6a86q"><!></button> <button class="cursor-pointer svelte-o6a86q"><!></button> <!> <button class="mr-4 ml-auto cursor-pointer svelte-o6a86q"><!></button></div>'),GRe=we('<button class="grid translate-x-3 place-items-center px-2 py-2 svelte-o6a86q"><!></button>'),VRe=we("<div></div>"),KRe=we('<div class="bg-base pointer-events-none absolute bottom-[0px] left-[0px] z-10 grid place-items-center rounded-full border-4 border-black p-1 svelte-o6a86q"><!></div>'),$Re=we('<div role="button" tabindex="0" aria-label=""><!> <div role="button" tabindex="0"><!> <!> <div class="flex w-full items-center justify-start gap-1 bg-transparent svelte-o6a86q"><button><div><!></div></button> <div class="relative flex h-full w-full grow flex-col items-start overflow-hidden svelte-o6a86q"><!> <!> <!></div> <!></div> <!> <!></div></div>');function WRe(n,e){Mt(e,!0);const t=()=>qt(ma,"$isStyleEdit",s),r=()=>qt(Xs,"$selectedLayerId",s),i=()=>qt(vi,"$showDataMenu",s),[s,a]=Rr();let o=Ne(e,"layerEntry",15);Ne(e,"showDataEntry",15),Ne(e,"tempLayerEntries",15);let l=Ne(e,"enableFlip",15),c=Ne(e,"isDraggingLayerType",15),A=Ne(e,"isHoveredLayerType",15),u=Ne(e,"featureMenuData",15),h=Ne(e,"isTouchDragging",15),f=Oe(!1),d=Oe(!1),g,_=Oe(!1),m=!0,y=Oe(!1),b=Oe(!1),v=Ot(()=>{var ke;return(ke=o())==null?void 0:ke.metaData.bounds});const B=()=>{o()&&(Xs.set(o().id),u(null),!E(b)&&t()&&Dt.focusLayer(o()))};ma.subscribe(ke=>{o()&&ke&&r()===o().id&&!E(b)&&Dt.focusLayer(o())}),vi.subscribe(ke=>{ke&&xr(Xs,"")});const C=()=>{xr(ma,!1),o()&&(ba.remove(o().id),Xs.set(""))},I=()=>{o()&&(Dt.focusLayer(o()),Na()&&Bl.set("map"))},R=()=>{o()&&(Xs.set(o().id),xr(ma,!t()))};let w=0,U=0;const M=(ke,De)=>{const At=document.getElementById(De);if(!At)return;const kt=At.getBoundingClientRect();w=ke.clientX-kt.left,U=ke.clientY-kt.top},F=(ke,De)=>{if(!ke.dataTransfer)return;ke.dataTransfer.effectAllowed="move";const At=document.getElementById(De);ke.dataTransfer.setDragImage(At,w,U),ee(_,!0),l(!1),ee(f,!1),c(e.layerType),Xs.set(De)},P=ke=>{ke&&r()!==ke&&ba.reorder(r(),ke)},S=()=>{ee(_,!1),l(!0),c(null),h5.set("idle")};let W=0,re=null,G=null;const ie=(ke,De)=>{if(!Na())return;const At=ke.touches[0];if(W=At.clientY,At.clientY,re=document.getElementById(De),!re)return;const kt=setTimeout(()=>{h(!0),ee(_,!0),l(!1),ee(f,!1),c(e.layerType),Xs.set(De),re&&(G=re.cloneNode(!0),G.style.position="fixed",G.style.left=`${re.getBoundingClientRect().left}px`,G.style.top=`${At.clientY-40}px`,G.style.width=`${re.offsetWidth}px`,G.style.zIndex="9999",G.style.opacity="0.8",G.style.pointerEvents="none",G.style.transition="none",document.body.appendChild(G))},200),rt=()=>{clearTimeout(kt),document.removeEventListener("touchend",rt),document.removeEventListener("touchmove",Nt)},Nt=ot=>{const Rt=ot.touches[0];Math.abs(Rt.clientY-W)>10&&!h()&&rt()};document.addEventListener("touchend",rt,{once:!0}),document.addEventListener("touchmove",Nt)},X=ke=>{if(!h()||!Na())return;ke.preventDefault();const De=ke.touches[0];De.clientY,G&&(G.style.top=`${De.clientY-40}px`);const At=document.elementsFromPoint(De.clientX,De.clientY);for(const kt of At){const rt=kt.closest("[data-layer-id]");if(rt&&rt.dataset.layerId!==o().id){const Nt=rt.dataset.layerId;Nt&&r()!==Nt&&ba.reorder(r(),Nt);break}}},ge=()=>{!h()||!Na()||(G&&(G.remove(),G=null),h(!1),ee(_,!1),l(!0),c(null),h5.set("idle"),re=null)},K=ke=>{ee(y,ke,!0),A(ke?e.layerType:null)},N=ke=>{if(!o())return;let De=ke.zoom;if("tileSize"in o().metaData&&o().metaData.tileSize===256&&(De=De+1.5),o().metaData.minZoom&&De<o().metaData.minZoom){ee(b,!1);return}if(!E(v)){ee(b,!1);return}const At=ke.bbox;dH(E(v),At)?ee(b,!0):ee(b,!1)};ni(()=>{const ke=Dt.getState();return N(ke),g==null||g.addEventListener("touchmove",X,{passive:!1}),()=>{g==null||g.removeEventListener("touchmove",X)}}),Dt.onStateChange(ke=>{N(ke)});let H=Ot(()=>gB(o().metaData.location));var V=$Re();pt(V,"draggable",m),V.__mousedown=ke=>M(ke,o().id),V.__touchstart=ke=>ie(ke,o().id),V.__touchend=ge;var j=q(V);{var le=ke=>{var De=FRe(),At=q(De);$(De),Ye(()=>Xt(At,1,`absolute h-full w-[2px] ${A()===e.layerType?"bg-accent ":"bg-base/60"}`,"svelte-o6a86q")),Yt(3,De,()=>Sl,()=>({duration:200,axis:"x"})),Z(ke,De)};Te(j,ke=>{!t()&&!i()&&ke(le)})}var de=oe(j,2),he=q(de);{var ue=ke=>{var De=URe();jn(2),Z(ke,De)};Te(he,ke=>{r()===o().id&&t()&&ke(ue)})}var me=oe(he,2);{var _e=ke=>{var De=ORe(),At=q(De);{var kt=wt=>{var It=NRe(),tn=q(It);_B(tn,{width:"60px"}),$(It),Z(wt,It)};Te(At,wt=>{o().metaData.location===""&&wt(kt)})}var rt=oe(At,2);{var Nt=wt=>{var It=kRe(),tn=q(It);pB(tn,{width:"80px",get code(){return E(H)}}),$(It),Z(wt,It)};Te(rt,wt=>{E(H)&&wt(Nt)})}var ot=oe(rt,2);{var Rt=wt=>{var It=PRe(),tn=q(It);Bt(tn,{icon:"emojione-monotone:map-of-japan",class:"h-20 w-20 text-base"}),$(It),Z(wt,It)};Te(ot,wt=>{o().metaData.location===""&&wt(Rt)})}var Tt=oe(ot,2);{var Jt=wt=>{var It=DRe(),tn=q(It);Bt(tn,{icon:"fxemoji:worldmap",class:"[&_path]:fill-base h-20 w-20"}),$(It),Z(wt,It)};Te(Tt,wt=>{o().metaData.location===""&&wt(Jt)})}$(De),Yt(3,De,()=>cr,()=>({duration:100})),Z(ke,De)};Te(me,ke=>{!E(y)&&!t()&&!i()&&!E(d)&&ke(_e)})}var xe=oe(me,2),Re=q(xe);Re.__click=B;var D=q(Re),O=q(D);M6(O,{get layerEntry(){return o()}}),$(D),$(Re);var ne=oe(Re,2),te=q(ne);{var J=ke=>{var De=zRe(),At=q(De),kt=q(At,!0);$(At);var rt=oe(At,2),Nt=q(rt),ot=q(Nt,!0);$(Nt),$(rt),$(De),Ye(Rt=>{yt(kt,o().metaData.name),yt(ot,Rt)},[()=>sB(o().metaData.attribution)??"---"]),Z(ke,De)};Te(te,ke=>{t()||ke(J)})}var ce=oe(te,2);{var Me=ke=>{var De=QRe(),At=q(De);At.__click=()=>o(o().style.visible=!o().style.visible,!0);var kt=q(At);{let wt=Ot(()=>o().style.visible?"akar-icons:eye":"akar-icons:eye-slashed");Bt(kt,{get icon(){return E(wt)},class:"h-8 w-8"})}$(At);var rt=oe(At,2);rt.__click=C;var Nt=q(rt);Bt(Nt,{icon:"bx:trash",class:"h-8 w-8"}),$(rt);var ot=oe(rt,2);{var Rt=wt=>{var It=HRe();It.__click=I;var tn=q(It);Bt(tn,{icon:"hugeicons:target-03",class:"h-8 w-8"}),$(It),Z(wt,It)};Te(ot,wt=>{o().metaData.location!==""&&o().metaData.location!==""&&wt(Rt)})}var Tt=oe(ot,2);Tt.__click=R;var Jt=q(Tt);Bt(Jt,{icon:"mdi:mixer-settings",class:"ml-4 h-8 w-8"}),$(Tt),$(De),Yt(3,De,()=>br,()=>({duration:200,y:10,opacity:0})),Z(ke,De)};Te(ce,ke=>{E(y)&&!t()&&ke(Me)})}var Se=oe(ce,2);{var Le=ke=>{var De=YRe(),At=q(De);At.__click=()=>o(o().style.visible=!o().style.visible,!0);var kt=q(At);{let wt=Ot(()=>o().style.visible?"akar-icons:eye":"akar-icons:eye-slashed");Bt(kt,{get icon(){return E(wt)},class:"h-8 w-8"})}$(At);var rt=oe(At,2);rt.__click=C;var Nt=q(rt);Bt(Nt,{icon:"bx:trash",class:"h-8 w-8"}),$(rt);var ot=oe(rt,2);{var Rt=wt=>{var It=jRe();It.__click=I;var tn=q(It);Bt(tn,{icon:"hugeicons:target-03",class:"h-8 w-8"}),$(It),Z(wt,It)};Te(ot,wt=>{o().metaData.location!==""&&o().metaData.location!==""&&wt(Rt)})}var Tt=oe(ot,2);Tt.__click=R;var Jt=q(Tt);Bt(Jt,{icon:"mdi:mixer-settings",class:"ml-4 h-8 w-8"}),$(Tt),$(De),Yt(3,De,()=>br,()=>({duration:200,y:10,opacity:0})),Z(ke,De)};Te(Se,ke=>{E(d)&&r()===o().id&&Na()&&ke(Le)})}$(ne);var He=oe(ne,2);{var be=ke=>{var De=GRe();De.__click=()=>{xr(Xs,o().id),ee(d,!E(d))};var At=q(De);Bt(At,{icon:"pepicons-pencil:dots-y",class:"h-8 w-8 text-base"}),$(De),Z(ke,De)};Te(He,ke=>{Na()&&ke(be)})}$(xe);var Fe=oe(xe,2);{var Qe=ke=>{var De=VRe();Ye(()=>Xt(De,1,`pointer-events-none absolute bottom-[4px] left-[40px] z-10 grid h-6 w-6 place-items-center rounded-full border-4 border-black text-sm transition-colors duration-300 ${o().style.visible?E(b)?"bg-accent":"bg-red-400":"bg-gray-500"}`,"svelte-o6a86q")),Z(ke,De)};Te(Fe,ke=>{!i()&&!t()&&ke(Qe)})}var Ge=oe(Fe,2);{var nt=ke=>{var De=KRe(),At=q(De);{let kt=Ot(()=>Jy(e.layerType));Bt(At,{get icon(){return E(kt)},class:"h-4 w-4"})}$(De),Z(ke,De)};Te(Ge,ke=>{i()&&ke(nt)})}$(de),$(V),qn(V,ke=>g=ke,()=>g),Ye(()=>{Xt(V,1,`relative flex h-[80px] w-full items-center
		transition-colors ${E(_)?"c-dragging-style":""}`,"svelte-o6a86q"),pt(V,"data-layer-id",o().id),pt(de,"id",o().id),Xt(de,1,`transform-[width, transform, translate, scale, rotate, height] c-rounded relative flex translate-z-0 cursor-move justify-center p-2 text-left text-nowrap text-clip duration-200 select-none
			${r()!==o().id&&t()?"bg-black ":""} ${r()===o().id&&t()?"bg-base":""} ${i()||t()?"w-[66px]":"overflow-hidden max-lg:w-[calc(100%_-_55px)] lg:w-[330px]"} ${t()?"translate-x-[310px]":"border-sub border-1 bg-black"} `,"svelte-o6a86q"),Xt(Re,1,`relative isolate grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center overflow-hidden rounded-full bg-black text-base transition-transform duration-150  ${r()===o().id&&t()||E(y)?"scale-115":""}`,"svelte-o6a86q"),Xt(D,1,`h-full w-full scale-200 ${o().style.visible?"":"brightness-75 grayscale"}`,"svelte-o6a86q")}),Bn("dragstart",V,ke=>F(ke,o().id)),Bn("dragenter",V,()=>P(o().id)),Bn("dragover",V,ke=>ke.preventDefault()),Bn("dragend",V,S),Bn("mouseenter",de,()=>Di()?K(!0):null),Bn("mouseleave",de,()=>Di()?K(!1):null),Z(n,V),St(),a()}Ln(["mousedown","touchstart","touchend","click"]);var qRe=we('<div class="sticky top-[0px] z-10 flex w-[50px] shrink-0 translate-y-[8px] justify-center"><div><!></div> <div class="bg-base pointer-events-none absolute top-10 z-10 w-[60px] rounded-full px-1 text-center text-xs opacity-0 transition-opacity duration-200 peer-hover:opacity-100"> </div></div>'),XRe=we("<div><!></div>"),JRe=we("<!> <!>",1);function H2(n,e){Mt(e,!0);const t=()=>qt(ma,"$isStyleEdit",i),r=()=>qt(vi,"$showDataMenu",i),[i,s]=Rr();let a=Ne(e,"showDataEntry",15),o=Ne(e,"tempLayerEntries",15),l=Ne(e,"enableFlip",15),c=Ne(e,"isDraggingLayerType",15),A=Ne(e,"isHoveredLayerType",15),u=Ne(e,"featureMenuData",15),h=Ne(e,"isTouchDragging",15);var f=JRe(),d=Je(f);{var g=m=>{var y=qRe(),b=q(y),v=q(b);{let I=Ot(()=>Jy(e.layerType));Bt(v,{get icon(){return E(I)},class:"h-5 w-5"})}$(b);var B=oe(b,2),C=q(B,!0);$(B),$(y),Ye(()=>{Xt(b,1,` peer absolute z-10 aspect-square rounded-full p-1.5 ${A()===e.layerType?"bg-accent text-base":"bg-base"} duration-200`),yt(C,mne[e.layerType])}),Yt(3,y,()=>br,()=>({duration:200,delay:r()?0:200})),Z(m,y)};Te(d,m=>{!t()&&!r()&&m(g)})}var _=oe(d,2);Fn(_,27,()=>e.typeEntries,m=>m.id,(m,y,b)=>{var v=XRe(),B=q(v);WRe(B,{get index(){return E(b)},get length(){return e.typeEntries.length},get layerType(){return e.layerType},get layerEntry(){return E(y)},get showDataEntry(){return a()},set showDataEntry(C){a(C)},get tempLayerEntries(){return o()},set tempLayerEntries(C){o(C)},get enableFlip(){return l()},set enableFlip(C){l(C)},get isDraggingLayerType(){return c()},set isDraggingLayerType(C){c(C)},get isHoveredLayerType(){return A()},set isHoveredLayerType(C){A(C)},get featureMenuData(){return u()},set featureMenuData(C){u(C)},get isTouchDragging(){return h()},set isTouchDragging(C){h(C)}}),$(v),Qk(v,()=>cG,()=>({duration:l()?200:0})),Z(m,v)}),Z(n,f),St(),s()}const ZRe={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function eBe(n,e){const t=n.scrollSnapList();return typeof e=="number"?t.map(()=>e):e(t,n)}function tBe(n,e){const t=n.rootNode();return e&&e(t)||t}function RB(n={}){let e,t,r,i,s=null,a=0,o=!1,l=!1,c=!1,A=!1;function u(S,W){t=S;const{mergeOptions:re,optionsAtMedia:G}=W,ie=re(ZRe,RB.globalOptions),X=re(ie,n);if(e=G(X),t.scrollSnapList().length<=1)return;A=e.jump,r=!1,i=eBe(t,e.delay);const{eventStore:ge,ownerDocument:K}=t.internalEngine(),N=!!t.internalEngine().options.watchDrag,H=tBe(t,e.rootNode);ge.add(K,"visibilitychange",m),N&&t.on("pointerDown",b),N&&!e.stopOnInteraction&&t.on("pointerUp",v),e.stopOnMouseEnter&&ge.add(H,"mouseenter",B),e.stopOnMouseEnter&&!e.stopOnInteraction&&ge.add(H,"mouseleave",C),e.stopOnFocusIn&&t.on("slideFocusStart",_),e.stopOnFocusIn&&!e.stopOnInteraction&&ge.add(t.containerNode(),"focusout",g),e.playOnInit&&g()}function h(){t.off("pointerDown",b).off("pointerUp",v).off("slideFocusStart",_),_(),r=!0,o=!1}function f(){const{ownerWindow:S}=t.internalEngine();S.clearTimeout(a),a=S.setTimeout(M,i[t.selectedScrollSnap()]),s=new Date().getTime(),t.emit("autoplay:timerset")}function d(){const{ownerWindow:S}=t.internalEngine();S.clearTimeout(a),a=0,s=null,t.emit("autoplay:timerstopped")}function g(){if(!r){if(y()){c=!0;return}o||t.emit("autoplay:play"),f(),o=!0}}function _(){r||(o&&t.emit("autoplay:stop"),d(),o=!1)}function m(){if(y())return c=o,_();c&&g()}function y(){const{ownerDocument:S}=t.internalEngine();return S.visibilityState==="hidden"}function b(){l||_()}function v(){l||g()}function B(){l=!0,_()}function C(){l=!1,g()}function I(S){typeof S<"u"&&(A=S),g()}function R(){o&&_()}function w(){o&&g()}function U(){return o}function M(){const{index:S}=t.internalEngine(),W=S.clone().add(1).get(),re=t.scrollSnapList().length-1,G=e.stopOnLastSnap&&W===re;if(t.canScrollNext()?t.scrollNext(A):t.scrollTo(0,A),t.emit("autoplay:select"),G)return _();g()}function F(){if(!s)return null;const S=i[t.selectedScrollSnap()],W=new Date().getTime()-s;return S-W}return{name:"autoplay",options:n,init:u,destroy:h,play:I,stop:R,reset:w,isPlaying:U,timeUntilNext:F}}RB.globalOptions=void 0;var nBe=we('<img alt="" loading="lazy"/>'),rBe=we('<!> <img loading="lazy"/>',1),iBe=we('<div class="text-accent"></div>'),sBe=we('<div class="flex w-full"><!> <div class="absolute bottom-0 left-0 w-full bg-black bg-opacity-50 p-1 text-center text-xs text-white"> </div></div>');function aBe(n,e){Mt(e,!0);const[t,r]=Rr();let i=Oe(!1);const s=u=>{u.cleanup&&u.cleanup()};let a=Oe(void 0);on(()=>{try{ee(a,lf(e.dataEntry),!0)}catch(u){ee(i,!0),console.error("Error generating icon image:",u),ee(a,Promise.resolve(void 0),!0)}});var o=sBe(),l=q(o);ef(l,()=>E(a),null,(u,h)=>{var f=xt(),d=Je(f);{var g=_=>{var m=rBe(),y=Je(m);{var b=B=>{var C=nBe();Ye(I=>{pt(C,"src",I),Xt(C,1,`c-basemap-img absolute h-full w-full object-cover opacity-50 transition-transform duration-150 ${e.dataEntry.format.geometryType==="Point"?"scale-200":""}`)},[()=>R6(e.dataEntry.metaData.xyzImageTile)]),Bn("error",C,()=>{console.error("Image loading failed: BaseMap Image"),ee(i,!0)}),Eh(C),Yt(3,C,()=>cr,()=>({duration:200})),Z(B,C)};Te(y,B=>{e.dataEntry.metaData.xyzImageTile&&!E(i)&&e.dataEntry.type==="vector"&&B(b)})}var v=oe(y,2);Ye(()=>{pt(v,"src",E(h).url),Xt(v,1,`c-no-drag-icon absolute h-full w-full object-cover transition-transform duration-150 ${e.dataEntry.type==="vector"&&e.dataEntry.format.geometryType==="Point"?"scale-200":""}`),pt(v,"alt",e.dataEntry.metaData.name)}),Bn("load",v,()=>s(E(h))),Bn("error",v,()=>{console.error("Image loading failed:",e.dataEntry.metaData.name),ee(i,!0)}),Eh(v),Yt(3,v,()=>cr,()=>({duration:200})),Z(_,m)};Te(d,_=>{E(h)&&_(g)})}Z(u,f)},u=>{var h=iBe();Z(u,h)});var c=oe(l,2),A=q(c,!0);$(c),$(o),Ye(()=>yt(A,e.dataEntry.metaData.name)),Z(n,o),St(),r()}var oBe=we('<button class="transition-scale duration-150origin-center group flex flex-[0_0_70%] cursor-pointer items-center justify-center overflow-hidden rounded-lg py-2 text-white"><div class="border-1 border-sub transition-scale group-hover:border-accent relative flex aspect-video w-[95%] shrink-0 overflow-hidden rounded-lg bg-black duration-150"><!></div></button>'),lBe=we('<div class="relative flex w-full flex-col gap-2 rounded-lg"><div class="text-base"></div> <div class="overflow-hidden"><div class="flex"></div></div></div>');function cBe(n,e){Mt(e,!0);const t=()=>qt(ba,"$activeLayerIdsStore",r),[r,i]=Rr();let s=Ne(e,"showDataEntry",15),a=Oe(void 0),o={loop:!0,dragFree:!1,align:"center",containScroll:"trimSnaps",duration:25,slidesToScroll:1,startIndex:0},l=[RB({delay:5e3,playOnInit:!0})],c=Oe(void 0),A=Oe(0);const u=()=>{!E(a)||!E(c)||(ee(A,E(a).selectedScrollSnap(),!0),E(c).scrollTo(E(A)))},h=w=>{ee(a,w.detail,!0),E(a).on("select",u).on("reInit",u),ee(a,w.detail,!0),E(f)&&E(f).addEventListener("wheel",_,{passive:!1})};let f=Oe(void 0),d=null,g=Oe(!1);const _=w=>{if(!E(a))return;const{deltaY:U}=w;Math.abs(U)>10&&(w.preventDefault(),U>0?E(a).scrollNext():E(a).scrollPrev(),ee(g,!0),d&&clearTimeout(d),d=setTimeout(()=>{ee(g,!1)},150))};Ga(()=>{E(f)&&E(f).removeEventListener("wheel",_),d&&clearTimeout(d)});const m=w=>w===""?120:w===""?110:w===""?100:w.includes("")||w.includes("")||w.includes("")||w.includes("")?10:w.includes("")||w.includes("")||w.includes("")||w.includes("")?5:w.includes("")||w.includes("")||w.includes("")?50:30;let y=Oe(null);Dt.onStateChange(w=>{ee(y,w.bbox,!0)});const b=15;let v=Ot(()=>E(y)?N0.filter(w=>!t().includes(w.id)).filter(w=>dH(E(y),w.metaData.bounds)).sort((w,U)=>{const M=m(w.metaData.location),F=m(U.metaData.location);return M===F?w.metaData.name.localeCompare(U.metaData.name,"ja"):M-F}).slice(0,b):[]);const B=w=>{if(jk()){ba.add(w.id);return}else s(w)};var C=xt(),I=Je(C);{var R=w=>{var U=lBe(),M=oe(q(U),2),F=q(M);Fn(F,21,()=>E(v),P=>P.id,(P,S)=>{var W=oBe();W.__click=()=>B(E(S));var re=q(W),G=q(re);aBe(G,{get dataEntry(){return E(S)}}),$(re),$(W),Z(P,W)}),$(F),$(M),JL(M,(P,S)=>Hl==null?void 0:Hl(P,S),()=>({plugins:l,options:o})),qn(M,P=>ee(f,P),()=>E(f)),$(U),Bn("emblaInit",M,h),Yt(3,U,()=>cr,()=>({duration:200})),Z(w,U)};Te(I,w=>{E(v).length>0&&w(R)})}Z(n,C),St(),i()}Ln(["click"]);var ABe=we('<div class="relative grid h-full w-[50px] shrink-0 place-items-center"><div class="bg-base/60 h-full w-[2px]"></div></div>'),uBe=we('<div class="flex shrink-0 select-none items-center justify-center text-base max-lg:hidden"><span class="text-[2.7rem]">morivis</span></div>'),fBe=we('<div class="grid w-full shrink-0 place-items-center"><button class="bg-base group grid shrink-0 cursor-pointer place-items-center rounded-full p-2"><!></button></div>'),hBe=we("<div><!></div>"),dBe=we("<div><!></div>"),gBe=we("<div><!></div>"),pBe=we("<div><!></div>"),_Be=we("<div><!></div>"),mBe=we('<div class="relative grid h-full w-[50px] shrink-0 place-items-center"><button class="c-btn-sub bg-sub peer pointer-events-auto absolute aspect-square translate-y-[10px] rounded-full p-1.5"><!></button> <div class="bg-base pointer-events-none absolute -bottom-5 z-10 w-[60px] rounded-full px-1 text-center text-xs opacity-0 transition-opacity duration-200 peer-hover:opacity-100"></div> <div class="bg-base/60 h-full w-[2px]"></div></div>'),yBe=we('<span class="text-lg"></span>'),bBe=we('<div class="mobile-bottom p-3 max-lg:hidden svelte-2ia6ly"><!></div>'),vBe=we('<div style="padding-top: env(safe-area-inset-top);"><div class="pl-2"><div class="relative flex h-[64px] w-full items-center max-lg:hidden"><!> <!> <!></div></div> <div><!> <!> <!> <!> <!> <div class="relative flex h-[60px] w-full items-center"><!> <button><div class="flex w-full items-center justify-start gap-2 bg-transparent"><div><!></div> <div class="relative flex w-full grow flex-col items-center justify-center gap-[2px] overflow-hidden pr-6 text-white"><!></div></div></button></div> <div class="h-[150px] w-full shrink-0"></div></div> <!> <!></div>');function wBe(n,e){Mt(e,!0);const t=()=>qt(C0,"$showLayerMenu",o),r=()=>qt(Bl,"$isActiveMobileMenu",o),i=()=>qt(k1,"$isMobile",o),s=()=>qt(ma,"$isStyleEdit",o),a=()=>qt(vi,"$showDataMenu",o),[o,l]=Rr();let c=Ne(e,"tempLayerEntries",15),A=Ne(e,"showDataEntry",15),u=Ne(e,"featureMenuData",15),h=Oe(void 0),f=Oe(!0);Xs.subscribe(U=>{if(U)ee(h,e.layerEntries.find(M=>M.id===U),!0);else{ee(h,void 0);return}});const d=async()=>{await Pxe()&&e.resetlayerEntries()};let g=Ot(()=>e.layerEntries.filter(U=>R0(U)==="model")),_=Ot(()=>e.layerEntries.filter(U=>R0(U)==="point")),m=Ot(()=>e.layerEntries.filter(U=>R0(U)==="line")),y=Ot(()=>e.layerEntries.filter(U=>R0(U)==="polygon")),b=Ot(()=>e.layerEntries.filter(U=>R0(U)==="raster")),v=Oe(null),B=Oe(null),C=Oe(!1);k1.subscribe(U=>{!U&&!t()&&xr(C0,!0),U&&t()&&r()!=="layer"&&xr(C0,!1)});var I=xt(),R=Je(I);{var w=U=>{var M=vBe(),F=q(M),P=q(F),S=q(P);{var W=Ge=>{var nt=ABe();Yt(3,nt,()=>Sl,()=>({duration:200,axis:"x"})),Z(Ge,nt)};Te(S,Ge=>{!s()&&!a()&&Ge(W)})}var re=oe(S,2);{var G=Ge=>{var nt=uBe();Yt(3,nt,()=>Sl,()=>({duration:200,axis:"x"})),Z(Ge,nt)};Te(re,Ge=>{!s()&&!a()&&Ge(G)})}var ie=oe(re,2);{var X=Ge=>{var nt=fBe(),ke=q(nt);ke.__click=()=>{xr(vi,!1)};var De=q(ke);Bt(De,{icon:"ep:back",class:"h-6 w-6 lg:transition-transform lg:duration-150 lg:group-hover:-translate-x-1"}),$(ke),$(nt),Yt(3,ke,()=>Sl,()=>({duration:200,axis:"x"})),Z(Ge,nt)};Te(ie,Ge=>{a()&&Ge(X)})}$(P),$(F);var ge=oe(F,2),K=q(ge);{var N=Ge=>{var nt=hBe(),ke=q(nt);H2(ke,{layerType:"model",get typeEntries(){return E(g)},get showDataEntry(){return A()},set showDataEntry(De){A(De)},get tempLayerEntries(){return c()},set tempLayerEntries(De){c(De)},get enableFlip(){return E(f)},set enableFlip(De){ee(f,De,!0)},get isDraggingLayerType(){return E(v)},set isDraggingLayerType(De){ee(v,De,!0)},get isHoveredLayerType(){return E(B)},set isHoveredLayerType(De){ee(B,De,!0)},get featureMenuData(){return u()},set featureMenuData(De){u(De)},get isTouchDragging(){return E(C)},set isTouchDragging(De){ee(C,De,!0)}}),$(nt),Ye(()=>Xt(nt,1,`rounded-lg transition-colors duration-150 ${E(v)==="model"?"bg-accent/70":""}`)),Z(Ge,nt)};Te(K,Ge=>{E(g).length>0&&Ge(N)})}var H=oe(K,2);{var V=Ge=>{var nt=dBe(),ke=q(nt);H2(ke,{layerType:"point",get typeEntries(){return E(_)},get showDataEntry(){return A()},set showDataEntry(De){A(De)},get tempLayerEntries(){return c()},set tempLayerEntries(De){c(De)},get enableFlip(){return E(f)},set enableFlip(De){ee(f,De,!0)},get isDraggingLayerType(){return E(v)},set isDraggingLayerType(De){ee(v,De,!0)},get isHoveredLayerType(){return E(B)},set isHoveredLayerType(De){ee(B,De,!0)},get featureMenuData(){return u()},set featureMenuData(De){u(De)},get isTouchDragging(){return E(C)},set isTouchDragging(De){ee(C,De,!0)}}),$(nt),Ye(()=>Xt(nt,1,`rounded-lg transition-colors duration-150 ${E(v)==="point"?"bg-accent/70":""}`)),Z(Ge,nt)};Te(H,Ge=>{E(_).length>0&&Ge(V)})}var j=oe(H,2);{var le=Ge=>{var nt=gBe(),ke=q(nt);H2(ke,{layerType:"line",get typeEntries(){return E(m)},get showDataEntry(){return A()},set showDataEntry(De){A(De)},get tempLayerEntries(){return c()},set tempLayerEntries(De){c(De)},get enableFlip(){return E(f)},set enableFlip(De){ee(f,De,!0)},get isDraggingLayerType(){return E(v)},set isDraggingLayerType(De){ee(v,De,!0)},get isHoveredLayerType(){return E(B)},set isHoveredLayerType(De){ee(B,De,!0)},get featureMenuData(){return u()},set featureMenuData(De){u(De)},get isTouchDragging(){return E(C)},set isTouchDragging(De){ee(C,De,!0)}}),$(nt),Ye(()=>Xt(nt,1,`rounded-lg transition-colors duration-150 ${E(v)==="line"?"bg-accent/70":""}`)),Z(Ge,nt)};Te(j,Ge=>{E(m).length>0&&Ge(le)})}var de=oe(j,2);{var he=Ge=>{var nt=pBe(),ke=q(nt);H2(ke,{layerType:"polygon",get typeEntries(){return E(y)},get showDataEntry(){return A()},set showDataEntry(De){A(De)},get tempLayerEntries(){return c()},set tempLayerEntries(De){c(De)},get enableFlip(){return E(f)},set enableFlip(De){ee(f,De,!0)},get isDraggingLayerType(){return E(v)},set isDraggingLayerType(De){ee(v,De,!0)},get isHoveredLayerType(){return E(B)},set isHoveredLayerType(De){ee(B,De,!0)},get featureMenuData(){return u()},set featureMenuData(De){u(De)},get isTouchDragging(){return E(C)},set isTouchDragging(De){ee(C,De,!0)}}),$(nt),Ye(()=>Xt(nt,1,`rounded-lg transition-colors duration-150 ${E(v)==="polygon"?"bg-accent/70":""}`)),Z(Ge,nt)};Te(de,Ge=>{E(y).length>0&&Ge(he)})}var ue=oe(de,2);{var me=Ge=>{var nt=_Be(),ke=q(nt);H2(ke,{layerType:"raster",get typeEntries(){return E(b)},get showDataEntry(){return A()},set showDataEntry(De){A(De)},get tempLayerEntries(){return c()},set tempLayerEntries(De){c(De)},get enableFlip(){return E(f)},set enableFlip(De){ee(f,De,!0)},get isDraggingLayerType(){return E(v)},set isDraggingLayerType(De){ee(v,De,!0)},get isHoveredLayerType(){return E(B)},set isHoveredLayerType(De){ee(B,De,!0)},get featureMenuData(){return u()},set featureMenuData(De){u(De)},get isTouchDragging(){return E(C)},set isTouchDragging(De){ee(C,De,!0)}}),$(nt),Ye(()=>Xt(nt,1,`rounded-lg transition-colors duration-150 ${E(v)==="raster"?"bg-accent/70":""}`)),Z(Ge,nt)};Te(ue,Ge=>{E(b).length>0&&Ge(me)})}var _e=oe(ue,2),xe=q(_e);{var Re=Ge=>{var nt=mBe(),ke=q(nt);ke.__click=d;var De=q(ke);Bt(De,{icon:"carbon:reset",class:"h-6 w-6"}),$(ke),jn(4),$(nt),Yt(3,nt,()=>Sl,()=>({duration:200,axis:"x"})),Z(Ge,nt)};Te(xe,Ge=>{!s()&&!a()&&Ge(Re)})}var D=oe(xe,2);D.__click=()=>{s()?(ma.set(!1),Xs.set("")):(vi.set(!a()),i()&&Bl.set("data"))};var O=q(D),ne=q(O),te=q(ne);{var J=Ge=>{Bt(Ge,{icon:"material-symbols:add",width:30})},ce=Ge=>{Bt(Ge,{icon:"ep:back",class:"h-7 w-7"})};Te(te,Ge=>{!a()&&!s()?Ge(J):Ge(ce,!1)})}$(ne);var Me=oe(ne,2),Se=q(Me);{var Le=Ge=>{var nt=yBe();Z(Ge,nt)};Te(Se,Ge=>{a()||Ge(Le)})}$(Me),$(O),$(D),$(_e),jn(2),$(ge);var He=oe(ge,2);{var be=Ge=>{};Te(He,Ge=>{!s()&&!a()&&Ge(be)})}var Fe=oe(He,2);{var Qe=Ge=>{var nt=bBe(),ke=q(nt);cBe(ke,{get showDataEntry(){return A()},set showDataEntry(De){A(De)}}),$(nt),Yt(3,nt,()=>cr,()=>({duration:150})),Z(Ge,nt)};Te(Fe,Ge=>{!s()&&!a()&&Ge(Qe)})}$(M),Ye(()=>{Xt(M,1,`transition-[width, transform, translate, scale] absolute z-10 flex h-full flex-col overflow-hidden duration-200 ${t()?"translate-x-0":"-translate-x-[400px]"} ${s()?"bg-transparent delay-150 max-lg:translate-x-full lg:translate-x-[90px]":"bg-main"}
             ${a()?"max-lg:w-[0px] lg:w-[80px]":"lg:w-side-menu max-lg:w-full"}`),Xt(ge,1,`flex h-full flex-col overflow-x-hidden pl-2 ${a()||s()?"c-scroll-hidden":"c-scroll"} ${E(C)?"touch-none overflow-hidden":"touch-auto overflow-y-auto"}`),Xt(D,1,`transform-[width, transform, translate, scale, rotate, height, background] translate-z-0 relative flex translate-y-[10px] cursor-pointer select-none justify-center text-clip text-nowrap rounded-full p-2 text-left duration-200 max-lg:hidden ${a()?"w-[66px]":s()?"w-[400px]":"hover:bg-accent bg-main max-lg:w-full lg:w-[330px]"} ${!s()&&!a()?"not-hover:drop-shadow-[0_0_2px_rgba(220,220,220,0.8)] opacity-100":"opacity-0"}`),Xt(ne,1,`relative isolate grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center overflow-hidden rounded-full transition-transform duration-150 ${!a()&&!s()?"bg-accent text-base":"bg-base text-main"} ${s()?"translate-x-[320px]":""}`)}),Yt(3,M,()=>br,()=>({duration:300,y:i()?0:100,opacity:0,delay:i()?0:100})),Z(U,M)};Te(R,U=>{t()&&U(w)})}Z(n,I),St(),l()}Ln(["click"]);var LBe=we('<div class="flex flex-col gap-4 pb-4 text-base"><div class="flex w-full items-center gap-1"><!> <div class="flex w-full select-none justify-between pr-2"><span> </span><span> </span></div></div> <input class="css-range svelte-zvoy6t" type="range"/></div>');function ra(n,e){Mt(e,!0);let t=Ne(e,"value",15),r=Ne(e,"min",3,0),i=Ne(e,"max",3,1),s=Ne(e,"step",3,.01),a=Ne(e,"isInt",3,!1);var o=LBe(),l=q(o),c=q(l);{var A=m=>{Bt(m,{get icon(){return e.icon},width:20})};Te(c,m=>{e.icon&&m(A)})}var u=oe(c,2),h=q(u),f=q(h,!0);$(h);var d=oe(h),g=q(d,!0);$(d),$(u),$(l);var _=oe(l,2);ts(_),$(o),Ye(m=>{yt(f,e.label?`${e.label}: `:""),Xt(d,1,S$(a()?"pr-2":"")),yt(g,m),pt(_,"min",r()),pt(_,"max",i()),pt(_,"step",s())},[()=>a()?t().toFixed(0):t().toFixed(2)]),fp(_,t),Z(n,o),St()}var xBe=we('<label><input type="radio" class="hidden"/> <div class="flex w-full items-center justify-center gap-2"><span class="w-[200px] select-none"> </span></div> <!></label>'),RBe=we('<div class="bg-sub c-scroll-sub absolute left-0 top-[60px] z-10 max-h-60 w-full divide-y divide-gray-300 overflow-hidden overflow-y-auto rounded-lg shadow-md"></div>'),BBe=we('<h2 class="text-base"></h2> <div class="relative py-2"><button class="c-select flex w-full justify-between"><div class="flex w-full items-center justify-center gap-2"><span class="w-[180px] select-none text-start"> </span> <!></div> <!></button> <!></div>',1);function o3(n,e){Mt(e,!0);const t=[];let r=Ne(e,"isColorMap",15),i=Oe(!1),s=Oe(void 0);on(()=>{const _=m=>{E(i)&&E(s)&&!E(s).contains(m.target)&&ee(i,!1)};return E(i)&&document.addEventListener("click",_),()=>{document.removeEventListener("click",_)}});var a=BBe(),o=oe(Je(a),2),l=q(o);l.__click=()=>ee(i,!E(i));var c=q(l),A=q(c),u=q(A,!0);$(A);var h=oe(A,2);Wm(h,()=>e.children,r),$(c);var f=oe(c,2);Bt(f,{icon:"iconamoon:arrow-down-2-duotone",class:"h-7 w-7"}),$(l);var d=oe(l,2);{var g=_=>{var m=RBe();Fn(m,20,()=>e.mutableColorMapType,y=>y,(y,b)=>{var v=xBe(),B=q(v);ts(B),B.__change=()=>ee(i,!1);var C,I=oe(B,2),R=q(I),w=q(R,!0);$(R),$(I);var U=oe(I,2);Wm(U,()=>e.children,()=>b),$(v),Ye(()=>{Xt(v,1,`flex w-full cursor-pointer items-center justify-between gap-2 p-2 transition-colors duration-100 ${r()===b?"bg-base text-main":"hover:text-accent text-white"}`),C!==(C=b)&&(B.value=(B.__value=b)??""),yt(w,b)}),z0(t,[],B,()=>r(),r),Z(y,v)}),$(m),Yt(3,m,()=>br,()=>({duration:200,y:-20})),Z(_,m)};Te(d,_=>{E(i)&&_(g)})}$(o),qn(o,_=>ee(s,_),()=>E(s)),Ye(()=>yt(u,r())),Z(n,a),St()}Ln(["click","change"]);var EBe=we('<img class="c-no-drag-icon aspect-square w-full bg-black object-cover"/>'),CBe=we("<div></div>"),IBe=we('<label><input type="radio" class="hidden"/> <div><!></div> <span class="select-none text-sm"> </span></label>');function TBe(n,e){Mt(e,!0);const t=[];let r=Ne(e,"isMode",15),i=Ne(e,"showPullDown",15),s=Oe(void 0),a=Oe(!1),o=Ot(()=>({...e.layerEntry,style:{...e.layerEntry.style,visualization:{...e.layerEntry.style.visualization,mode:e.mode}}}));on(()=>{try{ee(s,lf(E(o)),!0)}catch(g){ee(a,!0),console.error("Error generating icon image:",g),ee(s,Promise.resolve(void 0),!0)}});var l=IBe();Xt(l,1,"group flex w-full cursor-pointer flex-col items-center justify-between gap-2 p-2 text-white transition-colors duration-100 ");var c=q(l);ts(c),c.__change=()=>i(!1);var A,u=oe(c,2),h=q(u);ef(h,()=>E(s),null,(g,_)=>{var m=xt(),y=Je(m);{var b=v=>{var B=EBe();Ye(()=>{pt(B,"alt",e.name),pt(B,"src",E(_).url)}),Z(v,B)};Te(y,v=>{E(_)&&v(b)})}Z(g,m)},g=>{var _=CBe();Z(g,_)}),$(u);var f=oe(u,2),d=q(f,!0);$(f),$(l),Ye(()=>{A!==(A=e.mode)&&(c.value=(c.__value=e.mode)??""),Xt(u,1,`border-3 overflow-hidden rounded-md ${r()===e.mode?"border-accent":"border-transparent"}`),yt(d,e.name)}),z0(t,[],c,()=>(e.mode,r()),r),Z(n,l),St()}Ln(["change"]);var MBe=we('<img class="c-no-drag-icon aspect-square h-24 rounded bg-black object-cover"/>'),SBe=we("<div></div>"),FBe=we('<div class="bg-sub absolute left-0 top-[130px] z-10 grid w-full grid-cols-3 gap-1 overflow-hidden rounded-lg shadow-md"></div>'),UBe=we('<h2 class="text-base"></h2> <div class="relative py-2"><button class="c-select flex h-28 w-full justify-between"><div class="flex items-center gap-2"><span> </span></div> <!></button> <!></div>',1);function NBe(n,e){Mt(e,!0);let t=Ne(e,"isMode",15);const r=[{key:"relief",name:""},{key:"slope",name:""},{key:"aspect",name:""}];let i=Ot(()=>r.filter(y=>{var v,B,C;const b=(C=(B=(v=e.layerEntry)==null?void 0:v.style)==null?void 0:B.visualization)==null?void 0:C.uniformsData;if(!b)return!1;switch(y.key){case"relief":return b.relief!==void 0;case"slope":return b.slope!==void 0;case"aspect":return b.aspect!==void 0;default:return!1}})),s=Oe(!1),a=Oe(void 0);on(()=>{const y=b=>{E(s)&&E(a)&&!E(a).contains(b.target)&&ee(s,!1)};return E(s)&&document.addEventListener("click",y),()=>{document.removeEventListener("click",y)}});let o=Oe(void 0),l=Oe(!1);on(()=>{try{ee(o,lf(e.layerEntry),!0)}catch(y){ee(l,!0),console.error("Error generating icon image:",y),ee(o,Promise.resolve(void 0),!0)}});var c=UBe(),A=oe(Je(c),2),u=q(A);u.__click=()=>ee(s,!E(s));var h=q(u),f=q(h),d=q(f,!0);$(f),$(h);var g=oe(h,2);ef(g,()=>E(o),null,(y,b)=>{var v=xt(),B=Je(v);{var C=I=>{var R=MBe();Ye(w=>{pt(R,"src",E(b).url),pt(R,"alt",w)},[()=>{var w;return(w=E(i).find(U=>U.key===t()))==null?void 0:w.name}]),Z(I,R)};Te(B,I=>{E(b)&&I(C)})}Z(y,v)},y=>{var b=SBe();Z(y,b)}),$(u);var _=oe(u,2);{var m=y=>{var b=FBe();Fn(b,21,()=>E(i),({key:v,name:B})=>v,(v,B)=>{let C=()=>E(B).key,I=()=>E(B).name;TBe(v,{get mode(){return C()},get name(){return I()},get layerEntry(){return e.layerEntry},get isMode(){return t()},set isMode(R){t(R)},get showPullDown(){return E(s)},set showPullDown(R){ee(s,R,!0)}})}),$(b),Yt(3,b,()=>br,()=>({duration:200,y:-20})),Z(y,b)};Te(_,y=>{E(s)&&y(m)})}$(A),qn(A,y=>ee(a,y),()=>E(a)),Ye(y=>yt(d,y),[()=>{var y;return(y=E(i).find(b=>b.key===t()))==null?void 0:y.name}]),Z(n,c),St()}Ln(["click"]);var kBe=we("<div><!></div>"),PBe=we('<label class="group flex grow cursor-pointer items-center justify-between gap-2 pb-2 pr-2 pt-4"><div class="flex items-center gap-2"><!> <span class="group-hover:text-accent select-none text-base font-bold transition-colors duration-100"> </span></div> <!> <input type="checkbox" class="hidden"/></label> <!> <div class="mt-2 h-[1px] w-full bg-gray-500"></div>',1);function Sc(n,e){Mt(e,!0);let t=Ne(e,"value",15);var r=PBe(),i=Je(r),s=q(i),a=q(s);{var o=d=>{Bt(d,{get icon(){return e.icon},class:" h-7 w-7 text-base transition-transform duration-100"})};Te(a,d=>{e.icon&&d(o)})}var l=oe(a,2),c=q(l,!0);$(l),$(s);var A=oe(s,2);{let d=Ot(()=>t()?"rotate-0":"rotate-180");Bt(A,{icon:"iconamoon:arrow-up-2-duotone",get class(){return`h-8 w-8 text-base transition-transform duration-150 ${E(d)??""}`}})}var u=oe(A,2);ts(u),$(i);var h=oe(i,2);{var f=d=>{var g=kBe(),_=q(g);Wm(_,()=>e.children),$(g),Yt(3,g,()=>Sl,()=>({duration:250})),Z(d,g)};Te(h,d=>{t()&&d(f)})}jn(2),Ye(()=>yt(c,e.label)),jy(u,t),Z(n,r),St()}var DBe=we('<div class="mb-4 text-base"> <span> </span></div>'),OBe=we('<!> <div class="relative grid w-full place-items-center"><div class="pointer-events-none absolute grid w-[90%] place-items-center"><div class="pointer-events-none absolute -z-10 h-2 rounded-full"></div> <div class="pointer-events-none absolute -z-10 h-2 rounded-full"></div> <div class="pointer-events-none absolute -z-10 h-2 rounded-full"></div></div> <div class="pointer-events-none relative grid w-[95%] place-items-center"><input type="range" class="slider w-full svelte-1yjnyau" aria-label=""/> <input type="range" class="slider w-full svelte-1yjnyau" aria-label=""/></div></div> <div class="mt-2 flex justify-between px-2 text-base text-sm"><div><span> </span></div> <div><span> </span></div></div>',1);function gL(n,e){Mt(e,!0);let t=Ne(e,"label",3,""),r=Ne(e,"lowerValue",15,20),i=Ne(e,"upperValue",15,80),s=Ne(e,"min",3,0),a=Ne(e,"max",3,100),o=Ne(e,"step",3,1),l=Ne(e,"primaryColor",3,"var(--color-accent)"),c=Ne(e,"minRangeColor",3,"black"),A=Ne(e,"maxRangeColor",3,"black"),u=Ne(e,"disabled",3,!1),h,f,d=!1,g=Ot(()=>{const ge=a()-s(),K=(r()-s())/ge*100,H=(i()-s())/ge*100-K;return{left:`${K}%`,width:`${H}%`}});const _=ge=>{var H;const K=ge.target,N=Number(K.value);N>=i()?(r(i()-o()),K.value=String(r())):r(N),(H=e.onChange)==null||H.call(e,r(),i())},m=ge=>{var H;const K=ge.target,N=Number(K.value);N<=r()?(i(r()+o()),K.value=String(i())):i(N),(H=e.onChange)==null||H.call(e,r(),i())};ni(()=>{h&&f&&(r()>=i()&&r(Math.max(s(),i()-o())),d=!0)}),on(()=>{d&&h&&f&&(h.value=String(r()),f.value=String(i()))});var y=OBe(),b=Je(y);{var v=ge=>{var K=DBe(),N=q(K),H=oe(N),V=q(H);$(H),$(K),Ye(()=>{yt(N,`${t()??""} `),yt(V,`${r()??""} - ${i()??""}`)}),Z(ge,K)};Te(b,ge=>{t()&&ge(v)})}var B=oe(b,2),C=q(B),I=q(C),R=oe(I,2),w=oe(R,2);$(C);var U=oe(C,2),M=q(U);ts(M),M.__input=_,qn(M,ge=>h=ge,()=>h);var F=oe(M,2);ts(F),F.__input=m,qn(F,ge=>f=ge,()=>f),$(U),$(B);var P=oe(B,2),S=q(P),W=q(S),re=q(W,!0);$(W),$(S);var G=oe(S,2),ie=q(G),X=q(ie,!0);$(ie),$(G),$(P),Ye(()=>{Xr(I,`background: ${c()??""}; left: 0; width: calc(${E(g).left??""});`),Xr(R,`background: ${l()??""}; left: calc(${E(g).left??""}); width: calc(${E(g).width??""});`),Xr(w,`background: ${A()??""}; left: calc(${E(g).left??""} + ${E(g).width??""}); width: calc(100% - ${E(g).left??""} - ${E(g).width??""});`),JE(M,r()),pt(M,"min",s()),pt(M,"max",a()),pt(M,"step",o()),M.disabled=u(),JE(F,i()),pt(F,"min",s()),pt(F,"max",a()),pt(F,"step",o()),F.disabled=u(),yt(re,s()),yt(X,a())}),Z(n,y),St()}Ln(["input"]);var zBe=we('<div class="border-1 w-full rounded-full border-black p-3"></div>');function km(n,e){Mt(e,!0);const t=new _p;var r=zBe();Ye(i=>Xr(r,`background: ${i??""}`),[()=>t.createSimpleCSSGradient(e.isColorMap)]),Z(n,r),St()}var HBe=we("<!> <!>",1),QBe=we("<!> <!>",1),jBe=we("<!> <!> <!> <!>",1);function YBe(n,e){Mt(e,!0);const t=new _p;let r=Ne(e,"layerEntry",15),i=Ne(e,"showColorOption",15);const s=r().style.visualization.uniformsData.relief.max,a=r().style.visualization.uniformsData.relief.min;Sc(n,{label:"",icon:"mdi:paint",get value(){return i()},set value(o){i(o)},children:(o,l)=>{var c=jBe(),A=Je(c);NBe(A,{get layerEntry(){return r()},get isMode(){return r().style.visualization.mode},set isMode(m){r(r().style.visualization.mode=m,!0)}});var u=oe(A,2);{var h=m=>{var y=HBe(),b=Je(y);{const B=(I,R=m1)=>{km(I,{get isColorMap(){return R()}})};let C=Ot(()=>[...Am]);o3(b,{get mutableColorMapType(){return E(C)},get isColorMap(){return r().style.visualization.uniformsData.relief.colorMap},set isColorMap(I){r(r().style.visualization.uniformsData.relief.colorMap=I,!0)},children:B,$$slots:{default:!0}})}var v=oe(b,2);{let B=Ot(()=>t.createSimpleCSSGradient(r().style.visualization.uniformsData.relief.colorMap)),C=Ot(()=>t.getMinColor(r().style.visualization.uniformsData.relief.colorMap)),I=Ot(()=>t.getMaxColor(r().style.visualization.uniformsData.relief.colorMap));gL(v,{label:"",get max(){return s},get min(){return a},step:.01,get primaryColor(){return E(B)},get minRangeColor(){return E(C)},get maxRangeColor(){return E(I)},get lowerValue(){return r().style.visualization.uniformsData.relief.min},set lowerValue(R){r(r().style.visualization.uniformsData.relief.min=R,!0)},get upperValue(){return r().style.visualization.uniformsData.relief.max},set upperValue(R){r(r().style.visualization.uniformsData.relief.max=R,!0)}})}Z(m,y)};Te(u,m=>{r().style.visualization.mode==="relief"&&m(h)})}var f=oe(u,2);{var d=m=>{var y=QBe(),b=Je(y);{const B=(I,R=m1)=>{km(I,{get isColorMap(){return R()}})};let C=Ot(()=>[...Am]);o3(b,{get mutableColorMapType(){return E(C)},get isColorMap(){return r().style.visualization.uniformsData.slope.colorMap},set isColorMap(I){r(r().style.visualization.uniformsData.slope.colorMap=I,!0)},children:B,$$slots:{default:!0}})}var v=oe(b,2);{let B=Ot(()=>t.createSimpleCSSGradient(r().style.visualization.uniformsData.slope.colorMap)),C=Ot(()=>t.getMinColor(r().style.visualization.uniformsData.slope.colorMap)),I=Ot(()=>t.getMaxColor(r().style.visualization.uniformsData.slope.colorMap));gL(v,{label:"",max:90,min:0,step:.01,get primaryColor(){return E(B)},get minRangeColor(){return E(C)},get maxRangeColor(){return E(I)},get lowerValue(){return r().style.visualization.uniformsData.slope.min},set lowerValue(R){r(r().style.visualization.uniformsData.slope.min=R,!0)},get upperValue(){return r().style.visualization.uniformsData.slope.max},set upperValue(R){r(r().style.visualization.uniformsData.slope.max=R,!0)}})}Z(m,y)};Te(f,m=>{var y;(y=r().style)!=null&&y.visualization.uniformsData.slope&&r().style.visualization.mode==="slope"&&m(d)})}var g=oe(f,2);{var _=m=>{{const y=(v,B=m1)=>{km(v,{get isColorMap(){return B()}})};let b=Ot(()=>[...Am]);o3(m,{get mutableColorMapType(){return E(b)},get isColorMap(){return r().style.visualization.uniformsData.aspect.colorMap},set isColorMap(v){r(r().style.visualization.uniformsData.aspect.colorMap=v,!0)},children:y,$$slots:{default:!0}})}};Te(g,m=>{var y;(y=r().style)!=null&&y.visualization.uniformsData.aspect&&r().style.visualization.mode==="aspect"&&m(_)})}Z(o,c)},$$slots:{default:!0}}),St()}var GBe=we('<label><input type="radio" class="hidden"/> <div class="flex items-center gap-2"><!> <span class="select-none"> </span></div></label>'),VBe=we('<div class="bg-sub absolute left-0 top-[60px] z-10 w-full divide-y divide-gray-400 overflow-hidden rounded-lg shadow-md"></div>'),KBe=we('<h2 class="text-base"></h2> <div class="relative py-2"><button class="c-select flex w-full justify-between"><div class="flex items-center gap-2"><!> <span> </span></div> <!></button> <!></div>',1);function $Be(n,e){Mt(e,!0);const t=[];let r=Ne(e,"isMode",15),i=Wr([{key:"single",name:""},{key:"multi",name:""}]),s=Oe(!1);var a=KBe(),o=oe(Je(a),2),l=q(o);l.__click=()=>ee(s,!E(s));var c=q(l),A=q(c);Bt(A,{icon:"ic:round-terrain",width:20});var u=oe(A,2),h=q(u,!0);$(u),$(c);var f=oe(c,2);Bt(f,{icon:"bi:chevron-down",class:"h-6 w-6"}),$(l);var d=oe(l,2);{var g=_=>{var m=VBe();Fn(m,21,()=>i,({key:y,name:b})=>y,(y,b)=>{let v=()=>E(b).key,B=()=>E(b).name;var C=GBe(),I=q(C);ts(I),I.__change=()=>ee(s,!1);var R,w=oe(I,2),U=q(w);Bt(U,{icon:"ic:round-terrain",width:20});var M=oe(U,2),F=q(M,!0);$(M),$(w),$(C),Ye(()=>{Xt(C,1,`flex w-full cursor-pointer items-center justify-between gap-2 p-2 transition-colors duration-100 ${r()===v()?"bg-base text-main":"hover:text-accent text-white"}`),R!==(R=v())&&(I.value=(I.__value=v())??""),yt(F,B())}),z0(t,[],I,()=>(v(),r()),r),Z(y,C)}),$(m),Yt(3,m,()=>br,()=>({duration:200,y:-20})),Z(_,m)};Te(d,_=>{E(s)&&_(g)})}$(o),Ye(_=>yt(h,_),[()=>{var _;return(_=i.find(m=>m.key===r()))==null?void 0:_.name}]),Z(n,a),St()}Ln(["click","change"]);var WBe=we("<!> <!> <!>",1),qBe=we("<!> <!> <!>",1);function XBe(n,e){Mt(e,!0);let t=Ne(e,"style",15);var r=qBe(),i=Je(r);ra(i,{label:"",min:0,max:1,step:.01,get value(){return t().opacity},set value(l){t(t().opacity=l,!0)}});var s=oe(i,2);$Be(s,{get isMode(){return t().visualization.mode},set isMode(l){t(t().visualization.mode=l,!0)}});var a=oe(s,2);{var o=l=>{var c=WBe(),A=Je(c);{const f=(g,_=m1)=>{km(g,{get isColorMap(){return _()}})};let d=Ot(()=>[...Am]);o3(A,{get mutableColorMapType(){return E(d)},get isColorMap(){return t().visualization.uniformsData.single.colorMap},set isColorMap(g){t(t().visualization.uniformsData.single.colorMap=g,!0)},children:f,$$slots:{default:!0}})}var u=oe(A,2);ra(u,{label:"",max:5e3,min:0,step:.01,get value(){return t().visualization.uniformsData.single.max},set value(f){t(t().visualization.uniformsData.single.max=f,!0)}});var h=oe(u,2);ra(h,{label:"",max:5e3,min:0,step:.01,get value(){return t().visualization.uniformsData.single.min},set value(f){t(t().visualization.uniformsData.single.min=f,!0)}}),Z(l,c)};Te(a,l=>{t().visualization.mode==="single"&&l(o)})}Z(n,r),St()}var JBe=we('<label><input type="radio" class="hidden"/> <div><img class="c-no-drag-icon aspect-square w-full bg-black object-cover"/></div> <span class="select-none text-sm"> </span></label>'),ZBe=we('<div class="bg-sub absolute left-0 top-[130px] z-10 grid w-full grid-cols-3 gap-1 overflow-hidden rounded-lg shadow-md"></div>'),eEe=we('<div class="relative py-2"><button><span> </span> <img class="c-no-drag-icon aspect-square h-24 rounded bg-black object-cover"/></button> <!></div>');function tEe(n,e){Mt(e,!0);const t=[];let r=Ne(e,"preset",15),i=Ne(e,"disabled",3,!1),s=Wr([{key:"default",name:""},{key:"sepia",name:""},{key:"grayscale",name:""},{key:"vintage",name:""},{key:"cool",name:""},{key:"warm",name:""},{key:"vivid",name:""},{key:"soft",name:""},{key:"dramatic",name:""},{key:"night",name:""},{key:"sunset",name:""},{key:"blueprint",name:""},{key:"negative",name:""}]),a=Oe(!1),o=Oe(void 0);on(()=>{const g=_=>{E(a)&&E(o)&&!E(o).contains(_.target)&&ee(a,!1)};return E(a)&&document.addEventListener("click",g),()=>{document.removeEventListener("click",g)}});var l=eEe(),c=q(l);c.__click=()=>ee(a,!E(a));var A=q(c),u=q(A,!0);$(A);var h=oe(A,2);$(c);var f=oe(c,2);{var d=g=>{var _=ZBe();Fn(_,21,()=>s,({key:m,name:y})=>m,(m,y)=>{let b=()=>E(y).key,v=()=>E(y).name;var B=JBe();Xt(B,1,"group flex w-full cursor-pointer flex-col items-center justify-between gap-2 p-2 text-white transition-colors duration-100 ");var C=q(B);ts(C),C.__change=()=>ee(a,!1);var I,R=oe(C,2),w=q(R);$(R);var U=oe(R,2),M=q(U,!0);$(U),$(B),Ye(F=>{I!==(I=b())&&(C.value=(C.__value=b())??""),Xt(R,1,`border-3 overflow-hidden rounded-md ${r()===b()?"border-accent":"border-transparent"}`),pt(w,"src",e.src),pt(w,"alt",v()),Xr(w,`filter:${F??""};`),yt(M,v())},[()=>JF(b()).filter]),z0(t,[],C,()=>(b(),r()),r),Z(m,B)}),$(_),Yt(3,_,()=>br,()=>({duration:200,y:-20})),Z(g,_)};Te(f,g=>{E(a)&&g(d)})}$(l),qn(l,g=>ee(o,g),()=>E(o)),Ye((g,_,m)=>{c.disabled=i(),Xt(c,1,`flex w-full items-center justify-between gap-2 rounded-md bg-black p-2 px-4 text-base ${i()?"cursor-not-allowed opacity-50":"cursor-pointer"}`),yt(u,g),pt(h,"src",e.src),pt(h,"alt",_),Xr(h,`filter:${m??""};`)},[()=>{var g;return(g=s.find(_=>_.key===r()))==null?void 0:g.name},()=>{var g;return(g=s.find(_=>_.key===r()))==null?void 0:g.name},()=>JF(r()).filter]),Z(n,l),St()}Ln(["click","change"]);var nEe=we('<span class="select-none text-base"> </span>'),rEe=we('<label class="hover:text-accent flex cursor-pointer items-center justify-between py-2 pr-2 transition-colors duration-100"><!> <div class="relative h-[30px] w-[30px] rounded-full"><input type="color" class="absolute inset-0 h-full w-full cursor-pointer opacity-0"/></div></label>');function BB(n,e){Mt(e,!0);let t=Ne(e,"value",15);var r=rEe(),i=q(r);{var s=l=>{var c=nEe(),A=q(c,!0);$(c),Ye(()=>yt(A,e.label)),Z(l,c)};Te(i,l=>{e.label&&l(s)})}var a=oe(i,2),o=q(a);ts(o),$(a),$(r),Ye(()=>Xr(a,`background-color: ${t()??""}`)),fp(o,t),Z(n,r),St()}var iEe=we('<li style="display: flex; align-items: center; margin-bottom: 5px;"><span></span> <span> </span></li>'),sEe=we('<h2 class="mb-2 text-base"> </h2> <ul class="text-base"></ul>',1),aEe=we("<span> </span>"),oEe=we('<h2 class="text-base"> </h2> <div class="flex flex-col text-base"><div class="w-full py-[10px]"><div class="h-[30px] w-full rounded-lg border border-black"></div></div> <div class="flex justify-between text-base"></div></div>',1),lEe=we('<li class="flex items-center gap-2"><div class="grid h-20 w-20 shrink-0 place-items-center rounded-lg bg-white p-2"><img class="aspect-square object-contain"/></div> <span class="text-sm"> </span></li>'),cEe=we('<h2 class="mt-4 text-base"> </h2> <div class="flex flex-col gap-2"></div>',1),AEe=we('<ul class="flex flex-col gap-2 text-base"></ul>'),uEe=we('<div class="mt-8 flex items-center gap-1 text-base text-lg"><!><span></span></div> <div class="mt-2 flex-1 shrink-0 rounded-lg bg-black p-2"><!></div>',1),fEe=we('<div class="mt-8"><!></div>');function hEe(n,e){Mt(e,!0);let t=Ne(e,"layerEntry",15),r=Ne(e,"showColorOption",15),i=Ot(()=>t().style),s=!1,a=Ot(()=>{if(E(i).type==="basemap")return E(i).preset}),o;const l=(()=>{try{return lf(t())}catch(f){return console.error("Error generating icon image:",f),Promise.resolve(void 0)}})();on(()=>{E(a)&&E(a)!==o&&(E(i).type==="basemap"&&t(t().style={...E(i),...PY(E(a))},!0),o=E(a))});const c=(f,d)=>{const g=Math.max(...d),_=Math.min(...d);return d.map((y,b)=>({range:y,color:f[b]})).sort((y,b)=>y.range-b.range).map(({range:y,color:b})=>{const v=(y-_)/(g-_)*100;return`${b} ${v.toFixed(1)}%`}).join(", ")};var A=xt(),u=Je(A);{var h=f=>{var d=xt(),g=Je(d);{var _=y=>{var b=xt(),v=Je(b);ef(v,()=>l,null,(B,C)=>{var I=xt(),R=Je(I);{var w=U=>{Sc(U,{label:"",icon:"material-symbols:image",get value(){return r()},set value(M){r(M)},children:(M,F)=>{tEe(M,{get src(){return E(C).url},disabled:s,get preset(){return E(i).preset},set preset(P){E(i).preset=P}})},$$slots:{default:!0}})};Te(R,U=>{E(C)&&U(w)})}Z(B,I)}),Z(y,b)},m=y=>{var b=xt(),v=Je(b);{var B=I=>{var R=uEe(),w=Je(R),U=q(w);Bt(U,{icon:"lsicon:data-filled",class:"h-6 w-6"}),jn(),$(w);var M=oe(w,2),F=q(M);{var P=W=>{var re=sEe(),G=Je(re),ie=q(G,!0);$(G);var X=oe(G,2);Fn(X,21,()=>E(i).legend.colors,wi,(ge,K,N)=>{var H=iEe(),V=q(H),j=oe(V,2),le=q(j,!0);$(j),$(H),Ye(()=>{Xr(V,`width: 20px; height: 20px; background-color: ${E(K)??""}; margin-right: 10px; display: inline-block;`),yt(le,E(i).legend.labels[N])}),Z(ge,H)}),$(X),Ye(()=>yt(ie,E(i).legend.name)),Z(W,re)},S=W=>{var re=xt(),G=Je(re);{var ie=ge=>{var K=oEe(),N=Je(K),H=q(N,!0);$(N);var V=oe(N,2),j=q(V),le=q(j);$(j);var de=oe(j,2);Fn(de,21,()=>E(i).legend.ranges.slice().reverse(),wi,(he,ue,me)=>{var _e=xt(),xe=Je(_e);{var Re=D=>{var O=aEe(),ne=q(O);$(O),Ye(()=>yt(ne,`${E(ue)??""} ${E(i).legend.unit??""}`)),Z(D,O)};Te(xe,D=>{(me===0||me===E(i).legend.ranges.length-1)&&D(Re)})}Z(he,_e)}),$(de),$(V),Ye(he=>{yt(H,E(i).legend.name),Xr(le,`background: linear-gradient(90deg, ${he??""});`)},[()=>c(E(i).legend.colors,E(i).legend.ranges)]),Z(ge,K)},X=ge=>{var K=xt(),N=Je(K);{var H=V=>{var j=AEe();Fn(j,21,()=>E(i).legend.categories,wi,(le,de)=>{var he=cEe(),ue=Je(he),me=q(ue,!0);$(ue);var _e=oe(ue,2);Fn(_e,21,()=>E(de).urls,wi,(xe,Re,D)=>{var O=lEe(),ne=q(O),te=q(ne);$(ne);var J=oe(ne,2),ce=q(J,!0);$(J),$(O),Ye(()=>{pt(te,"src",E(Re)),pt(te,"alt",E(de).labels[D]),yt(ce,E(de).labels[D])}),Z(xe,O)}),$(_e),Ye(()=>yt(me,E(de).name)),Z(le,he)}),$(j),Z(V,j)};Te(N,V=>{E(i).legend.type==="image"&&V(H)},!0)}Z(ge,K)};Te(G,ge=>{E(i).legend.type==="gradient"?ge(ie):ge(X,!1)},!0)}Z(W,re)};Te(F,W=>{E(i).legend.type==="category"?W(P):W(S,!1)})}$(M),Z(I,R)},C=I=>{var R=xt(),w=Je(R);{var U=F=>{YBe(F,{get layerEntry(){return t()},set layerEntry(P){t(P)},get showColorOption(){return r()},set showColorOption(P){r(P)}})},M=F=>{var P=xt(),S=Je(P);{var W=G=>{XBe(G,{get style(){return E(i)},set style(ie){ee(i,ie)}})},re=G=>{var ie=xt(),X=Je(ie);{var ge=K=>{var N=fEe(),H=q(N);BB(H,{label:"",get value(){return E(i).color},set value(V){E(i).color=V}}),$(N),Z(K,N)};Te(X,K=>{E(i).type==="cad"&&K(ge)},!0)}Z(G,ie)};Te(S,G=>{E(i).type==="tiff"?G(W):G(re,!1)},!0)}Z(F,P)};Te(w,F=>{E(i).type==="dem"?F(U):F(M,!1)},!0)}Z(I,R)};Te(v,I=>{E(i).type==="categorical"?I(B):I(C,!1)},!0)}Z(y,b)};Te(g,y=>{E(i).type==="basemap"?y(_):y(m,!1)})}Z(f,d)};Te(u,f=>{t()&&t().type==="raster"&&E(i)&&f(h)})}Z(n,A),St()}var dEe=we('<button class="relative grid h-[30px] w-[30px] cursor-pointer place-items-center overflow-hidden rounded-full"></button>'),gEe=we('<span class="group-hover:text-accent select-none text-base"> </span>'),pEe=we('<img alt="pattern" class="absolute h-full"/>'),_Ee=we('<img alt="pattern" class="absolute h-full"/>'),mEe=we('<button class="relative grid h-[30px] w-[30px] cursor-pointer place-items-center overflow-hidden rounded-full"><!></button>'),yEe=we('<div class="bg-base mb-4 h-[1px] w-full"></div> <!> <div class="flex w-full items-center pb-2 text-base"></div> <div class="grid grid-cols-8 gap-2 pb-2"><!></div> <div class="flex w-full items-center justify-end pb-2"><button class="relative flex shrink-0 cursor-pointer items-center justify-center overflow-hidden rounded-full bg-white px-3 py-2" aria-label="Remove pattern"><span class="text-sm"></span></button></div>',1),bEe=we('<div class="bg-sub absolute z-20 mt-2 w-full rounded-lg p-3 shadow-lg"><!> <div class="flex w-full items-center pb-2 text-base"></div> <div class="relative"><div class="grid grid-cols-8 gap-2"><!></div> <button class="absolute bottom-0 right-[5px] flex shrink-0 cursor-pointer items-center justify-center overflow-hidden rounded-full bg-white py-1 pl-2 pr-3" aria-label=""><!><span class="text-sm"></span></button></div> <div class="flex w-full items-center justify-center pb-2"></div> <!></div>'),vEe=we('<div class="relative"><label class="group flex cursor-pointer items-center justify-between pr-2 transition-colors duration-100"><!> <div><!> <input type="checkbox" class="invisible"/></div></label> <!></div>');function Q2(n,e){Mt(e,!0);let t=Ne(e,"value",15),r=Ne(e,"pattern",15);const i=["tmpoly-caret-200-black","tmpoly-circle-alt-light-200-black","tmpoly-circle-alt-medium-200-black","tmpoly-circle-bold-200-black","tmpoly-circle-heavy-200-black","tmpoly-circle-light-200-black","tmpoly-circle-medium-200-black","tmpoly-crosshatch-light-200-black","tmpoly-crosshatch-medium-200-black","tmpoly-grid-light-200-black","tmpoly-grid-medium-200-black","tmpoly-line-horizontal-light-200-black","tmpoly-line-horizontal-medium-200-black","tmpoly-line-vertical-down-light-200-black","tmpoly-line-vertical-down-medium-200-black","tmpoly-line-vertical-light-200-black","tmpoly-line-vertical-medium-200-black","tmpoly-line-vertical-up-light-200-black","tmpoly-line-vertical-up-medium-200-black","tmpoly-minus-200-black","tmpoly-plus-200-black","tmpoly-slash-back-200-black","tmpoly-slash-forward-200-black","tmpoly-square-200-black"],s=["tmpoly-caret-200-white","tmpoly-circle-alt-light-200-white","tmpoly-circle-alt-medium-200-white","tmpoly-circle-bold-200-white","tmpoly-circle-heavy-200-white","tmpoly-circle-light-200-white","tmpoly-circle-medium-200-white","tmpoly-crosshatch-light-200-white","tmpoly-crosshatch-medium-200-white","tmpoly-grid-light-200-white","tmpoly-grid-medium-200-white","tmpoly-line-horizontal-light-200-white","tmpoly-line-horizontal-medium-200-white","tmpoly-line-vertical-down-light-200-white","tmpoly-line-vertical-down-medium-200-white","tmpoly-line-vertical-light-200-white","tmpoly-line-vertical-medium-200-white","tmpoly-line-vertical-up-light-200-white","tmpoly-line-vertical-up-medium-200-white","tmpoly-minus-200-white","tmpoly-plus-200-white","tmpoly-slash-back-200-white","tmpoly-slash-forward-200-white","tmpoly-square-200-white"],a=(C,I={})=>{try{const{tileCount:R=25,spacing:w=0,backgroundColor:U="transparent"}=I,{width:M,height:F,data:P}=C.data;if(!M||!F||!P)throw new Error("Invalid image data structure");const S=new Uint8ClampedArray(M*F*4);for(let V=0;V<M*F*4;V++)S[V]=P[V]||0;const W=new ImageData(S,M,F),re=Math.ceil(Math.sqrt(R)),G=Math.ceil(R/re),ie=M*re+w*(re-1),X=F*G+w*(G-1),ge=document.createElement("canvas");ge.width=ie,ge.height=X;const K=ge.getContext("2d");if(!K)throw new Error("Could not get 2D context");U!=="transparent"&&(K.fillStyle=U,K.fillRect(0,0,ie,X));const N=document.createElement("canvas");N.width=M,N.height=F;const H=N.getContext("2d");if(!H)throw new Error("Could not get temporary 2D context");H.putImageData(W,0,0);for(let V=0;V<R;V++){const j=Math.floor(V/re),de=V%re*(M+w),he=j*(F+w);K.drawImage(N,de,he)}return ge.toDataURL("image/png")}catch(R){return console.error("Error creating tiled pattern image:",R),null}};let o=Ot(()=>{if(!r())return null;const C=Dt.getImage(r());return C?a(C):(console.warn("Image not found for pattern"),null)}),l=Oe(!1),c=Oe(void 0),A=Oe("Paired"),u=Oe("black");on(()=>{const C=I=>{E(l)&&E(c)&&!E(c).contains(I.target)&&ee(l,!1)};return E(l)&&document.addEventListener("click",C),()=>{document.removeEventListener("click",C)}});var h=vEe();{const C=(I,R=m1)=>{var w=dEe();w.__click=()=>{t(R()),ee(l,!1)},Ye(()=>{Xr(w,`background-color: ${R()??""}`),pt(w,"aria-label",`Select color ${R()??""}`)}),Z(I,w)};var f=q(h),d=q(f);{var g=I=>{var R=gEe(),w=q(R,!0);$(R),Ye(()=>yt(w,e.label)),Z(I,R)};Te(d,I=>{e.label&&I(g)})}var _=oe(d,2),m=q(_);{var y=I=>{var R=pEe();Ye(()=>pt(R,"src",E(o))),Z(I,R)};Te(m,I=>{E(o)&&I(y)})}var b=oe(m,2);ts(b),$(_),$(f);var v=oe(f,2);{var B=I=>{var R=bEe(),w=q(R);nu(w,{options:[{key:"Paired",name:":Paired"},{key:"Set3",name:":Set3"}],get group(){return E(A)},set group(X){ee(A,X,!0)}});var U=oe(w,4),M=q(U),F=q(M);{var P=X=>{var ge=xt(),K=Je(ge);Fn(K,17,()=>[...Qn.brewer.Paired],wi,(N,H)=>{C(N,()=>E(H))}),Z(X,ge)},S=X=>{var ge=xt(),K=Je(ge);{var N=H=>{var V=xt(),j=Je(V);Fn(j,17,()=>[...Qn.brewer.Set3],wi,(le,de)=>{C(le,()=>E(de))}),Z(H,V)};Te(K,H=>{E(A)==="Set3"&&H(N)},!0)}Z(X,ge)};Te(F,X=>{E(A)==="Paired"?X(P):X(S,!1)})}$(M);var W=oe(M,2);W.__click=()=>{t("transparent"),ee(l,!1)};var re=q(W);Bt(re,{icon:"mdi:blood-transparent",class:"h-6 w-6"}),jn(),$(W),$(U);var G=oe(U,4);{var ie=X=>{var ge=yEe();const K=(ue,me=m1)=>{var _e=mEe();_e.__click=()=>{r(me()),ee(l,!1)};var xe=q(_e);{var Re=D=>{var O=_Ee();Ye(ne=>pt(O,"src",ne),[()=>a(Dt.getImage(me()))]),Z(D,O)};Te(xe,D=>{me()&&D(Re)})}$(_e),Ye(()=>Xr(_e,`background-color: ${t()??""};`)),Z(ue,_e)};var N=oe(Je(ge),2);nu(N,{options:[{key:"black",name:":"},{key:"white",name:":"}],get group(){return E(u)},set group(ue){ee(u,ue,!0)}});var H=oe(N,4),V=q(H);{var j=ue=>{var me=xt(),_e=Je(me);Fn(_e,17,()=>i,wi,(xe,Re)=>{K(xe,()=>E(Re))}),Z(ue,me)},le=ue=>{var me=xt(),_e=Je(me);{var xe=Re=>{var D=xt(),O=Je(D);Fn(O,17,()=>s,wi,(ne,te)=>{K(ne,()=>E(te))}),Z(Re,D)};Te(_e,Re=>{E(u)==="white"&&Re(xe)},!0)}Z(ue,me)};Te(V,ue=>{E(u)==="black"?ue(j):ue(le,!1)})}$(H);var de=oe(H,2),he=q(de);he.__click=()=>{r(null),ee(l,!1)},$(de),Z(X,ge)};Te(G,X=>{(r()||r()===null)&&X(ie)})}$(R),Yt(3,R,()=>br,()=>({duration:200,y:-20})),Z(I,R)};Te(v,I=>{E(l)&&I(B)})}$(h),qn(h,I=>ee(c,I),()=>E(c)),Ye(()=>{Xt(_,1,`relative grid h-[30px] w-[30px] place-items-center overflow-hidden rounded-full ${t()==="transparent"?"border-1 border-white":""}`),Xr(_,`background-color: ${t()??""}`)}),jy(b,()=>E(l),I=>ee(l,I))}Z(n,h),St()}Ln(["click"]);var wEe=we('<div class="border-1 w-full rounded-full border-black p-3"></div>');function LEe(n,e){Mt(e,!0);var t=wEe();Ye(r=>Xr(t,`background: ${r??""}`),[()=>FD(kg(e.isColorMap,5))]),Z(n,t),St()}function xEe(n,e){Mt(e,!0);let t=Ne(e,"setStepExpression",15);const r=t().mapping.range[1],i=t().mapping.range[0];{let s=Ot(()=>FD(kg(t().mapping.scheme,t().mapping.divisions))),a=Ot(()=>kg(t().mapping.scheme,t().mapping.divisions).at(0)),o=Ot(()=>kg(t().mapping.scheme,t().mapping.divisions).at(-1));gL(n,{label:"",get max(){return r},get min(){return i},step:.01,get primaryColor(){return E(s)},get minRangeColor(){return E(a)},get maxRangeColor(){return E(o)},get lowerValue(){return t().mapping.range[0]},set lowerValue(l){t(t().mapping.range[0]=l,!0)},get upperValue(){return t().mapping.range[1]},set upperValue(l){t(t().mapping.range[1]=l,!0)}})}St()}var REe=we("<!> <!>",1),BEe=we('<div class="flex-between flex w-full select-none gap-2 text-base"><div class="w-full"> </div> <div class="p-2"></div></div>'),EEe=we("<!> <!> <!> <!>",1);function CEe(n,e){Mt(e,!0);let t=Ne(e,"setExpression",15),r=Ot(()=>{if(t()&&t().type==="step")return Tx(t().mapping)});var i=xt(),s=Je(i);{var a=l=>{var c=xt(),A=Je(c);{var u=f=>{Q2(f,{label:"",get value(){return t().mapping.value},set value(d){t(t().mapping.value=d,!0)},get pattern(){return t().mapping.pattern},set pattern(d){t(t().mapping.pattern=d,!0)}})},h=f=>{Q2(f,{label:"",get value(){return t().mapping.value},set value(d){t(t().mapping.value=d,!0)}})};Te(A,f=>{"pattern"in t().mapping?f(u):f(h,!1)})}Z(l,c)},o=l=>{var c=xt(),A=Je(c);{var u=f=>{var d=REe(),g=Je(d);Fn(g,17,()=>t().mapping.categories,wi,(y,b,v)=>{var B=xt(),C=Je(B);{var I=w=>{Q2(w,{get label(){return t().mapping.categories[v]},get pattern(){return t().mapping.patterns[v]},set pattern(U){t(t().mapping.patterns[v]=U,!0)},get value(){return t().mapping.values[v]},set value(U){t(t().mapping.values[v]=U,!0)}})},R=w=>{Q2(w,{get label(){return t().mapping.categories[v]},get value(){return t().mapping.values[v]},set value(U){t(t().mapping.values[v]=U,!0)}})};Te(C,w=>{t().mapping.patterns?w(I):w(R,!1)})}Z(y,B)});var _=oe(g,2);{var m=y=>{{let b=Ot(()=>t().noData.category??"");Q2(y,{get label(){return E(b)},get value(){return t().noData.value},set value(v){t(t().noData.value=v,!0)}})}};Te(_,y=>{t().noData&&y(m)})}Z(f,d)},h=f=>{var d=xt(),g=Je(d);{var _=m=>{var y=EEe(),b=Je(y);{const R=(U,M=m1)=>{LEe(U,{get isColorMap(){return M()}})};let w=Ot(()=>[...vte.sequential[9]]);o3(b,{get mutableColorMapType(){return E(w)},get isColorMap(){return t().mapping.scheme},set isColorMap(U){t(t().mapping.scheme=U,!0)},children:R,$$slots:{default:!0}})}var v=oe(b,2);b3(v,t,R=>{xEe(R,{get setStepExpression(){return t()},set setStepExpression(w){t(w)}})});var B=oe(v,2);ra(B,{label:"",min:3,max:9,step:1,isInt:!0,get value(){return t().mapping.divisions},set value(R){t(t().mapping.divisions=R,!0)}});var C=oe(B,2);{var I=R=>{var w=xt(),U=Je(w);Fn(U,17,()=>E(r).categories,wi,(M,F,P)=>{var S=BEe(),W=q(S),re=q(W,!0);$(W);var G=oe(W,2);$(S),Ye(()=>{yt(re,E(r).categories[P]),Xr(G,`background-color: ${E(r).values[P]??""};`)}),Z(M,S)}),Z(R,w)};Te(C,R=>{E(r)&&R(I)})}Z(m,y)};Te(g,m=>{t().type==="step"&&m(_)},!0)}Z(f,d)};Te(A,f=>{t().type==="match"?f(u):f(h,!1)},!0)}Z(l,c)};Te(s,l=>{t().type==="single"?l(a):l(o,!1)})}Z(n,i),St()}const IEe=n=>{const{range:e,divisions:t,values:r}=n;if(t<=0)throw new Error("divisions must be greater than 0");const[i,s]=e,a=(s-i)/t;return{categories:Array.from({length:t},(l,c)=>i+a*c),values:r}};var TEe=we('<div class="flex w-full select-none flex-col gap-2"><!></div>'),MEe=we("<span></span> <!>",1),SEe=we('<div class="flex-between flex w-full select-none gap-2"><div class="w-full"> </div> <div class="p-2"> </div></div>'),FEe=we('<div class="flex-between flex w-full gap-2"></div> <!> <!> ',1),UEe=we("<!> <!> <!> <!>",1);function NEe(n,e){Mt(e,!0);let t=Ne(e,"setExpression",15),r=Ot(()=>{if(t()&&t().type==="step")return IEe(t().mapping)});const i=t().type==="linear"?t().mapping.range[0]:0,s=t().type==="linear"?t().mapping.range[1]:0;var a=xt(),o=Je(a);{var l=c=>{var A=UEe(),u=Je(A);{var h=b=>{ra(b,{label:"",min:1,max:50,step:.01,get value(){return t().mapping.value},set value(v){t(t().mapping.value=v,!0)}})};Te(u,b=>{t().type==="single"&&b(h)})}var f=oe(u,2);{var d=b=>{var v=xt(),B=Je(v);Fn(B,17,()=>t().mapping.categories,wi,(C,I,R)=>{ra(C,{get label(){return t().mapping.categories[R]},min:2,max:10,step:1,get value(){return t().mapping.values[R]},set value(w){t(t().mapping.values[R]=w,!0)}})}),Z(b,v)};Te(f,b=>{t().type==="match"&&b(d)})}var g=oe(f,2);{var _=b=>{var v=xt(),B=Je(v);Fn(B,17,()=>t().mapping.range,wi,(C,I,R)=>{var w=TEe(),U=q(w);ra(U,{label:R===0?"":"",get min(){return i},get max(){return s},step:.01,get value(){return t().mapping.values[R]},set value(M){t(t().mapping.values[R]=M,!0)}}),$(w),Z(C,w)}),Z(b,v)};Te(g,b=>{t().type==="linear"&&b(_)})}var m=oe(g,2);{var y=b=>{var v=FEe(),B=Je(v);Fn(B,21,()=>t().mapping.values,wi,(U,M,F)=>{var P=MEe(),S=Je(P);S.textContent=F===0?"":"";var W=oe(S,2);ra(W,{label:"",min:0,max:30,step:.01,get value(){return t().mapping.values[F]},set value(re){t(t().mapping.values[F]=re,!0)}}),Z(U,P)}),$(B);var C=oe(B,2);ra(C,{label:"",min:2,max:10,step:1,get value(){return t().mapping.divisions},set value(U){t(t().mapping.divisions=U,!0)}});var I=oe(C,2);{var R=U=>{var M=xt(),F=Je(M);Fn(F,17,()=>E(r).categories,wi,(P,S,W)=>{var re=SEe(),G=q(re),ie=q(G,!0);$(G);var X=oe(G,2),ge=q(X,!0);$(X),$(re),Ye(()=>{yt(ie,E(r).categories[W]),yt(ge,E(r).values[W])}),Z(P,re)}),Z(U,M)};Te(I,U=>{E(r)&&U(R)})}var w=oe(I);Ye(U=>yt(w,` ${U??""}`),[()=>JSON.stringify(E(r))]),Z(b,v)};Te(m,b=>{t().type==="step"&&b(y)})}Z(c,A)};Te(o,c=>{t()&&c(l)})}Z(n,a),St()}var kEe=we('<label><input type="radio" class="hidden"/> <div class="flex items-center gap-2"><!> <span class="select-none"> </span></div></label>'),PEe=we('<div class="bg-sub c-scroll-sub absolute left-0 top-[60px] z-10 max-h-60 w-full divide-y divide-gray-400 overflow-hidden overflow-y-auto rounded-lg shadow-md"></div>'),DEe=we('<div class="relative py-2"><button class="c-select flex w-full justify-between"><div class="flex items-center gap-2"><!> <span> </span></div> <!></button> <!></div> <div class="flex grow flex-col gap-2 overflow-visible pt-2"><!> <!></div>',1);function EB(n,e){Mt(e,!0);const t=[];let r=Ne(e,"style",15),i=Oe(!1),s=Ot(()=>{const u=r().expressions.find(h=>h.key===r().key);if(u)return u}),a=Ot(()=>r().expressions),o=Oe(void 0);on(()=>{const u=h=>{E(i)&&E(o)&&!E(o).contains(h.target)&&ee(i,!1)};return E(i)&&document.addEventListener("click",u),()=>{document.removeEventListener("click",u)}});var l=xt(),c=Je(l);{var A=u=>{var h=DEe(),f=Je(h),d=q(f);d.__click=()=>ee(i,!E(i));var g=q(d),_=q(g);{let M=Ot(()=>ZE(E(s).type,e.expressionType));Bt(_,{get icon(){return E(M)},width:20})}var m=oe(_,2),y=q(m,!0);$(m),$(g);var b=oe(g,2);Bt(b,{icon:"iconamoon:arrow-down-2-duotone",class:"h-7 w-7"}),$(d);var v=oe(d,2);{var B=M=>{var F=PEe();Fn(F,21,()=>E(a),P=>P.key,(P,S)=>{var W=kEe(),re=q(W);ts(re),re.__change=()=>ee(i,!1);var G,ie=oe(re,2),X=q(ie);{let N=Ot(()=>ZE(E(S).type,e.expressionType));Bt(X,{get icon(){return E(N)},width:20})}var ge=oe(X,2),K=q(ge,!0);$(ge),$(ie),$(W),Ye(()=>{Xt(W,1,`flex w-full cursor-pointer items-center justify-between gap-2 p-2 transition-colors duration-100 ${E(S).key===r().key?"bg-base text-main":"hover:text-accent text-white"}`),G!==(G=E(S).key)&&(re.value=(re.__value=E(S).key)??""),yt(K,E(S).name)}),z0(t,[],re,()=>(E(S).key,r().key),N=>r(r().key=N,!0)),Z(P,W)}),$(F),Yt(3,F,()=>br,()=>({duration:200,y:-20})),Z(M,F)};Te(v,M=>{E(i)&&M(B)})}$(f),qn(f,M=>ee(o,M),()=>E(o));var C=oe(f,2),I=q(C);{var R=M=>{CEe(M,{get setExpression(){return E(s)},set setExpression(F){ee(s,F)}})};Te(I,M=>{e.expressionType==="color"&&M(R)})}var w=oe(I,2);{var U=M=>{NEe(M,{get setExpression(){return E(s)},set setExpression(F){ee(s,F)}})};Te(w,M=>{e.expressionType==="number"&&M(U)})}$(C),Ye(M=>yt(y,M),[()=>{var M;return(M=E(a).find(F=>F.key===r().key))==null?void 0:M.name}]),Z(u,h)};Te(c,u=>{E(s)&&u(A)})}Z(n,l),St()}Ln(["click","change"]);var OEe=we("<div><!></div>"),zEe=we("<!> <!>",1);function CB(n,e){Mt(e,!0);let t=Ne(e,"colorStyle",15),r=Ne(e,"showColorOption",15);Sc(n,{label:"",icon:"mdi:paint",get value(){return r()},set value(i){r(i)},children:(i,s)=>{var a=zEe(),o=Je(a);$0(o,{label:"",get value(){return t().show},set value(A){t(t().show=A,!0)}});var l=oe(o,2);{var c=A=>{var u=OEe(),h=q(u);EB(h,{expressionType:"color",get style(){return t()},set style(f){t(f)}}),$(u),Yt(3,u,()=>Sl,()=>({duration:300})),Z(A,u)};Te(l,A=>{t().show&&A(c)})}Z(i,a)},$$slots:{default:!0}}),St()}var HEe=we('<label><input type="radio" class="hidden"/> <div class="flex items-center gap-2"><!> <span class="select-none"> </span></div></label>'),QEe=we('<div class="bg-sub c-scroll-sub absolute left-0 top-[60px] z-10 max-h-60 w-full divide-y divide-gray-400 overflow-hidden overflow-y-auto rounded-lg shadow-md"></div>'),jEe=we('<div class="relative py-2"><button class="c-select flex w-full justify-between"><div class="flex items-center gap-2"><!> <span> </span></div> <!></button> <!></div>');function YEe(n,e){Mt(e,!0);const t=[];let r=Ne(e,"labels",15),i=Oe(!1),s=Ot(()=>{const u=r().expressions.find(h=>h.key===r().key);if(u)return u}),a=Ot(()=>r().expressions),o=Oe(void 0);on(()=>{const u=h=>{E(i)&&E(o)&&!E(o).contains(h.target)&&ee(i,!1)};return E(i)&&document.addEventListener("click",u),()=>{document.removeEventListener("click",u)}});var l=xt(),c=Je(l);{var A=u=>{var h=jEe(),f=q(h);f.__click=()=>ee(i,!E(i));var d=q(f),g=q(d);Bt(g,{get icon(){return e.icon},width:20});var _=oe(g,2),m=q(_,!0);$(_),$(d);var y=oe(d,2);Bt(y,{icon:"iconamoon:arrow-down-2-duotone",class:"h-7 w-7"}),$(f);var b=oe(f,2);{var v=B=>{var C=QEe();Fn(C,21,()=>E(a),I=>I.key,(I,R)=>{var w=HEe(),U=q(w);ts(U),U.__change=()=>ee(i,!1);var M,F=oe(U,2),P=q(F);Bt(P,{icon:"ci:font",width:20});var S=oe(P,2),W=q(S,!0);$(S),$(F),$(w),Ye(()=>{Xt(w,1,`flex w-full cursor-pointer items-center justify-between gap-2 p-2 transition-colors duration-100 ${E(R).key===r().key?"bg-base text-main":"hover:text-accent text-white"}`),M!==(M=E(R).key)&&(U.value=(U.__value=E(R).key)??""),yt(W,E(R).name)}),z0(t,[],U,()=>(E(R).key,r().key),re=>r(r().key=re,!0)),Z(I,w)}),$(C),Yt(3,C,()=>br,()=>({duration:200,y:-20})),Z(B,C)};Te(b,B=>{E(i)&&B(v)})}$(h),qn(h,B=>ee(o,B),()=>E(o)),Ye(B=>yt(m,B),[()=>{var B;return(B=E(a).find(C=>C.key===E(s).key))==null?void 0:B.name}]),Z(u,h)};Te(c,u=>{E(s)&&u(A)})}Z(n,l),St()}Ln(["click","change"]);var GEe=we("<div><!></div>"),VEe=we("<!> <!>",1);function IB(n,e){Mt(e,!0);let t=Ne(e,"labels",15),r=Oe(!1);Sc(n,{label:"",icon:"ci:font",get value(){return E(r)},set value(i){ee(r,i,!0)},children:(i,s)=>{var a=VEe(),o=Je(a);$0(o,{label:"",get value(){return t().show},set value(A){t(t().show=A,!0)}});var l=oe(o,2);{var c=A=>{var u=GEe(),h=q(u);YEe(h,{icon:"ci:font",get labels(){return t()},set labels(f){t(f)}}),$(u),Yt(3,u,()=>Sl,()=>({duration:300})),Z(A,u)};Te(l,A=>{t().show&&A(c)})}Z(i,a)},$$slots:{default:!0}}),St()}function AG(n,e){Mt(e,!0);let t=Ne(e,"numberStyle",15),r=Oe(!1);Sc(n,{get label(){return e.label},get icon(){return e.icon},get value(){return E(r)},set value(i){ee(r,i,!0)},children:(i,s)=>{EB(i,{expressionType:"number",get style(){return t()},set style(a){t(a)}})},$$slots:{default:!0}}),St()}var KEe=we("<!> <!> <!> <!>",1);function $Ee(n,e){Mt(e,!0);let t=Ne(e,"layerEntry",15),r=Ne(e,"showColorOption",15),i=Oe(!1);var s=KEe(),a=Je(s);CB(a,{get colorStyle(){return t().style.colors},set colorStyle(A){t(t().style.colors=A,!0)},get showColorOption(){return r()},set showColorOption(A){r(A)}});var o=oe(a,2);AG(o,{label:"",icon:"mingcute:line-fill",get numberStyle(){return t().style.width},set numberStyle(A){t(t().style.width=A,!0)}});var l=oe(o,2);Sc(l,{label:"",icon:"fluent:line-dashes-32-filled",get value(){return E(i)},set value(A){ee(i,A,!0)},children:(A,u)=>{nu(A,{label:"",options:[{name:"",key:"solid"},{name:"",key:"dashed"}],get group(){return t().style.lineStyle},set group(h){t(t().style.lineStyle=h,!0)}})},$$slots:{default:!0}});var c=oe(l,2);IB(c,{get labels(){return t().style.labels},set labels(A){t(t().style.labels=A,!0)}}),Z(n,s),St()}var WEe=we('<div><!> <div class="flex flex-col gap-2 pb-2"><!></div></div>'),qEe=we("<!> <!>",1),XEe=we("<!> <!> <!>",1),JEe=we("<!> <!>",1),ZEe=we("<!> <!> <!> <!>",1);function eCe(n,e){Mt(e,!0);let t=Ne(e,"layerEntry",15),r=Ne(e,"showColorOption",15),i=Oe(!1),s=Oe(!1);var a=ZEe(),o=Je(a);{var l=d=>{nu(d,{label:"",options:[{name:"",key:"circle"},{name:"",key:"icon"}],get group(){return t().style.markerType},set group(g){t(t().style.markerType=g,!0)}})};Te(o,d=>{t().style.icon&&d(l)})}var c=oe(o,2);{var A=d=>{var g=XEe(),_=Je(g);CB(_,{get colorStyle(){return t().style.colors},set colorStyle(b){t(t().style.colors=b,!0)},get showColorOption(){return r()},set showColorOption(b){r(b)}});var m=oe(_,2);AG(m,{label:"",icon:"mdi:radius",get numberStyle(){return t().style.radius},set numberStyle(b){t(t().style.radius=b,!0)}});var y=oe(m,2);Sc(y,{label:"",icon:"material-symbols:line-curve",get value(){return E(i)},set value(b){ee(i,b,!0)},children:(b,v)=>{var B=qEe(),C=Je(B);$0(C,{label:"",get value(){return t().style.outline.show},set value(w){t(t().style.outline.show=w,!0)}});var I=oe(C,2);{var R=w=>{var U=WEe(),M=q(U);ra(M,{label:"",min:0,max:10,step:.01,get value(){return t().style.outline.width},set value(S){t(t().style.outline.width=S,!0)}});var F=oe(M,2),P=q(F);BB(P,{label:"",get value(){return t().style.outline.color},set value(S){t(t().style.outline.color=S,!0)}}),$(F),$(U),Yt(3,U,()=>Sl,()=>({duration:300})),Z(w,U)};Te(I,w=>{t().style.outline.show&&w(R)})}Z(b,B)},$$slots:{default:!0}}),Z(d,g)};Te(c,d=>{t().style.markerType==="circle"&&d(A)})}var u=oe(c,2);{var h=d=>{Sc(d,{label:"",get value(){return E(s)},set value(g){ee(s,g,!0)},children:(g,_)=>{var m=JEe(),y=Je(m);$0(y,{label:"",get value(){return t().style.icon.show},set value(v){t(t().style.icon.show=v,!0)}});var b=oe(y,2);ra(b,{label:"",min:0,max:.5,step:.01,get value(){return t().style.icon.size},set value(v){t(t().style.icon.size=v,!0)}}),Z(g,m)},$$slots:{default:!0}})};Te(u,d=>{t().style.markerType==="icon"&&t().style.icon&&d(h)})}var f=oe(u,2);IB(f,{get labels(){return t().style.labels},set labels(d){t(t().style.labels=d,!0)}}),Z(n,a),St()}var tCe=we("<!> <!>",1),nCe=we("<div><!> <!> <!></div>"),rCe=we("<!> <!>",1),iCe=we("<!> <!> <!> <!>",1);function sCe(n,e){Mt(e,!0);let t=Ne(e,"layerEntry",15),r=Ne(e,"showColorOption",15),i=Oe(!1),s=Oe(!1);var a=iCe(),o=Je(a);CB(o,{get colorStyle(){return t().style.colors},set colorStyle(h){t(t().style.colors=h,!0)},get showColorOption(){return r()},set showColorOption(h){r(h)}});var l=oe(o,2);{var c=h=>{Sc(h,{label:"3D",icon:"iconoir:3d-select-solid",get value(){return E(s)},set value(f){ee(s,f,!0)},children:(f,d)=>{var g=tCe(),_=Je(g);$0(_,{label:"",get value(){return t().style.extrusion.show},set value(b){t(t().style.extrusion.show=b,!0)}});var m=oe(_,2);{var y=b=>{EB(b,{expressionType:"number",get style(){return t().style.extrusion.height},set style(v){t(t().style.extrusion.height=v,!0)}})};Te(m,b=>{t().style.extrusion.show&&b(y)})}Z(f,g)},$$slots:{default:!0}})};Te(l,h=>{t().style.extrusion&&h(c)})}var A=oe(l,2);Sc(A,{label:"",icon:"material-symbols:pentagon-outline-rounded",get value(){return E(i)},set value(h){ee(i,h,!0)},children:(h,f)=>{var d=rCe(),g=Je(d);$0(g,{label:"",get value(){return t().style.outline.show},set value(y){t(t().style.outline.show=y,!0)}});var _=oe(g,2);{var m=y=>{var b=nCe(),v=q(b);ra(v,{label:"",min:0,max:10,step:.01,get value(){return t().style.outline.width},set value(I){t(t().style.outline.width=I,!0)}});var B=oe(v,2);BB(B,{label:"",get value(){return t().style.outline.color},set value(I){t(t().style.outline.color=I,!0)}});var C=oe(B,2);nu(C,{label:"",options:[{name:"",key:"solid"},{name:"",key:"dashed"}],get group(){return t().style.outline.lineStyle},set group(I){t(t().style.outline.lineStyle=I,!0)}}),$(b),Yt(3,b,()=>Sl,()=>({duration:300})),Z(y,b)};Te(_,y=>{t().style.outline.show&&y(m)})}Z(h,d)},$$slots:{default:!0}});var u=oe(A,2);IB(u,{get labels(){return t().style.labels},set labels(h){t(t().style.labels=h,!0)}}),Z(n,a),St()}var aCe=we("<!> <!> <!>",1);function oCe(n,e){Mt(e,!0);let t=Ne(e,"layerEntry",15),r=Ne(e,"showColorOption",15);var i=xt(),s=Je(i);{var a=o=>{var l=aCe(),c=Je(l);{var A=g=>{eCe(g,{get layerEntry(){return t()},set layerEntry(_){t(_)},get showColorOption(){return r()},set showColorOption(_){r(_)}})};Te(c,g=>{t().format.geometryType==="Point"&&g(A)})}var u=oe(c,2);{var h=g=>{$Ee(g,{get layerEntry(){return t()},set layerEntry(_){t(_)},get showColorOption(){return r()},set showColorOption(_){r(_)}})};Te(u,g=>{t().format.geometryType==="LineString"&&g(h)})}var f=oe(u,2);{var d=g=>{sCe(g,{get layerEntry(){return t()},set layerEntry(_){t(_)},get showColorOption(){return r()},set showColorOption(_){r(_)}})};Te(f,g=>{t().format.geometryType==="Polygon"&&g(d)})}Z(o,l)};Te(s,o=>{t()&&t().type==="vector"&&o(a)})}Z(n,i),St()}var lCe=we('<div class="mt-8"><!></div>');function cCe(n,e){Mt(e,!0);let t=Ne(e,"layerEntry",15);var r=lCe(),i=q(r);$0(i,{label:"",get value(){return t().style.wireframe},set value(s){t(t().style.wireframe=s,!0)}}),$(r),Z(n,r),St()}var ACe=we('<div class="mt-8"><!></div>');function uCe(n,e){Mt(e,!0);let t=Ne(e,"layerEntry",15);var r=ACe(),i=q(r);ra(i,{label:"",min:0,max:10,step:.1,get value(){return t().style.pointSize},set value(s){t(t().style.pointSize=s,!0)}}),$(r),Z(n,r),St()}var fCe=we("<!> <!>",1);function hCe(n,e){Mt(e,!0);let t=Ne(e,"layerEntry",15),r=Ne(e,"showColorOption",15);var i=xt(),s=Je(i);{var a=o=>{var l=fCe(),c=Je(l);{var A=f=>{uCe(f,{get layerEntry(){return t()},set layerEntry(d){t(d)},get showColorOption(){return r()},set showColorOption(d){r(d)}})};Te(c,f=>{t().style.type==="point-cloud"&&f(A)})}var u=oe(c,2);{var h=f=>{cCe(f,{get layerEntry(){return t()},set layerEntry(d){t(d)},get showColorOption(){return r()},set showColorOption(d){r(d)}})};Te(u,f=>{t().style.type==="mesh"&&f(h)})}Z(o,l)};Te(s,o=>{t()&&t().type==="model"&&o(a)})}Z(n,i),St()}var dCe=we('<img class="c-basemap-img scale-200 absolute left-0 top-0 h-full w-full cursor-pointer object-cover text-left text-sm" alt=""/>'),gCe=we('<div><!> <img class="c-no-drag-icon scale-200 absolute left-0 top-0 h-full w-full cursor-pointer text-left text-sm"/></div>'),pCe=we('<button class="flex aspect-square w-[19%] flex-col items-center gap-1"><!> <span> </span></button>'),_Ce=we('<div class="absolute flex h-full w-full flex-col gap-2 px-2"><div class="flex h-[80px] items-center gap-2 pr-2"><div class="flex items-center gap-2 max-lg:hidden"><!> <span class="select-none text-base text-lg"></span></div> <div class="truncate text-2xl text-base lg:hidden"><span class="select-none"> </span></div> <button class="bg-base ml-auto grid shrink-0 cursor-pointer place-items-center rounded-full p-2"><!></button></div> <div class="text-2xl text-base max-lg:hidden"> </div> <div class="c-scroll h-full grow overflow-x-hidden rounded-lg pb-[300px] pr-2"><div class="flex w-full justify-between rounded-lg bg-black p-2"><button class="flex aspect-square w-[19%] flex-col items-center gap-1"><div><!></div> <span></span></button> <!></div> <!> <!> <!></div></div>'),mCe=we('<div class="bg-main lg:w-side-menu absolute z-10 flex flex-col gap-2 overflow-hidden pl-2 max-lg:bottom-0 max-lg:h-1/2 max-lg:w-full max-lg:pt-2 lg:top-0 lg:h-full"><!></div>');function yCe(n,e){Mt(e,!0);let t=Ne(e,"layerEntry",15),r=Oe(!1);const i=[{label:"30",value:.3},{label:"50",value:.5},{label:"70",value:.7},{label:"100",value:1}];let s=Oe(void 0);const a=async A=>{try{const u=await lf(A);ee(s,u?u.url:void 0,!0)}catch(u){console.error("Error generating icon image:",u);return}};on(()=>{t()&&a(t())});var o=xt(),l=Je(o);{var c=A=>{var u=mCe(),h=q(u);b3(h,()=>t().id,f=>{var d=_Ce(),g=q(d),_=q(g),m=q(_);Bt(m,{icon:"streamline:paint-palette-solid",class:"h-7 w-7 text-base"}),jn(2),$(_);var y=oe(_,2),b=q(y),v=q(b,!0);$(b),$(y);var B=oe(y,2);B.__click=()=>{ma.set(!1),Xs.set("")};var C=q(B);Bt(C,{icon:"material-symbols:close-rounded",class:"h-6 w-6"}),$(B),$(g);var I=oe(g,2),R=q(I,!0);$(I);var w=oe(I,2),U=q(w),M=q(U);M.__click=()=>{t()&&t(t().style.visible=!1,!0)};var F=q(M),P=q(F);Bt(P,{icon:"akar-icons:eye-slashed",class:"text-base/90 h-8 w-8"}),$(F);var S=oe(F,2);$(M);var W=oe(M,2);Fn(W,17,()=>i,N=>N.label,(N,H)=>{var V=pCe();V.__click=()=>{t()&&(t(t().style.visible=!0,!0),t(t().style.opacity=E(H).value,!0))};var j=q(V);{var le=ue=>{var me=gCe(),_e=q(me);{var xe=D=>{var O=dCe();Ye(ne=>pt(O,"src",ne),[()=>R6(t().metaData.xyzImageTile)]),Z(D,O)};Te(_e,D=>{t().metaData.xyzImageTile&&t().type==="vector"&&D(xe)})}var Re=oe(_e,2);$(me),Ye(()=>{Xt(me,1,` relative h-full w-full overflow-hidden rounded-lg border-2 ${t().style.opacity===E(H).value&&t().style.visible?"border-accent":"border-transparent"}`),pt(Re,"src",E(s)),pt(Re,"alt",t().metaData.name),Xr(Re,`opacity: ${E(H).value??""};`)}),Z(ue,me)};Te(j,ue=>{E(s)&&ue(le)})}var de=oe(j,2),he=q(de,!0);$(de),$(V),Ye(()=>{Xt(de,1,`select-none rounded-lg p-1 px-2 text-base text-sm transition-colors duration-150 ${t().style.opacity===E(H).value&&t().style.visible?"bg-accent text-black":"border-base"}`),yt(he,E(H).label)}),Z(N,V)}),$(U);var re=oe(U,2);{var G=N=>{oCe(N,{get layerEntry(){return t()},set layerEntry(H){t(H)},get showColorOption(){return E(r)},set showColorOption(H){ee(r,H,!0)}})};Te(re,N=>{t().type==="vector"&&N(G)})}var ie=oe(re,2);{var X=N=>{hEe(N,{get layerEntry(){return t()},set layerEntry(H){t(H)},get showColorOption(){return E(r)},set showColorOption(H){ee(r,H,!0)}})};Te(ie,N=>{t().type==="raster"&&N(X)})}var ge=oe(ie,2);{var K=N=>{hCe(N,{get layerEntry(){return t()},set layerEntry(H){t(H)},get showColorOption(){return E(r)},set showColorOption(H){ee(r,H,!0)}})};Te(ge,N=>{t().type==="model"&&N(K)})}$(w),$(d),Ye(()=>{yt(v,t().metaData.name),yt(R,t().metaData.name),Xt(F,1,`hover:bg-accent grid aspect-square w-full cursor-pointer place-items-center rounded-lg object-cover text-left ${t().style.visible?"":"bg-accent"}`),Xt(S,1,`select-none rounded-lg p-1 px-2 text-base text-sm transition-colors duration-150 ${t().style.visible?"border-base":"bg-accent text-black"}`)}),Yt(1,d,()=>br,()=>({duration:300,opacity:10})),Yt(2,d,()=>br,()=>({duration:300,opacity:0})),Z(f,d)}),$(u),Yt(1,u,()=>br,()=>({duration:300,opacity:0,x:-100})),Yt(2,u,()=>br,()=>({duration:300,opacity:0,x:-100,delay:150})),Z(A,u)};Te(l,A=>{t()&&A(c)})}Z(n,o),St()}Ln(["click"]);var bCe=we('<label><span></span> <input type="checkbox" class="hidden"/> <span> </span></label>');function j2(n,e){Mt(e,!0);let t=Ne(e,"value",15);var r=bCe(),i=q(r),s=oe(i,2);ts(s);var a=oe(s,2),o=q(a,!0);$(a),$(r),Ye(()=>{Xt(r,1,`flex w-full shrink-0 cursor-pointer select-none items-center justify-start gap-2 ${e.disabled?"cursor-not-allowed opacity-50":""}`),Xt(i,1,`border-1 block aspect-square h-4 rounded-sm ${t()?" bg-accent border-accent":"border-base/80"}`),s.disabled=e.disabled,yt(o,e.label)}),jy(s,t),Z(n,r),St()}var vCe=we('<button><img class="c-no-drag-icon h-16 w-16 rounded-lg"/> <span class="text-xs"> </span></button>'),wCe=we('<div class="bg-main absolute bottom-[80px] z-10 flex w-full flex-col gap-4 rounded-lg p-2 text-base shadow-lg"><div class="flex flex-col gap-2"><div class="flex w-full justify-between"><span></span> <button class="cursor-pointer text-base"><!></button></div> <div class="ml-6 grid w-full grid-cols-2 items-center justify-center gap-y-4"><!> <!> <!> <!> <!> <!></div></div> <div class="flex flex-col gap-2"><div></div> <div class="flex w-full items-center justify-center gap-4"></div></div></div>'),LCe=we('<div class="absolute bottom-3 right-3 w-[400px] max-lg:hidden"><!> <button class="bg-base pointer-events-auto absolute bottom-0 right-0 grid shrink-0 cursor-pointer place-items-center items-center justify-end rounded-lg p-1 shadow-md"><img alt="" class="c-no-drag-icon h-14 w-14 rounded-lg"/></button></div>');function xCe(n,e){Mt(e,!0);const t=()=>qt(Ho,"$selectedBaseMap",l),r=()=>qt(ud,"$showPoiLayer",l),i=()=>qt(M3,"$showBoundaryLayer",l),s=()=>qt(T3,"$showLabelLayer",l),a=()=>qt(fd,"$showRoadLayer",l),o=()=>qt(Gh,"$isTerrain3d",l),[l,c]=Rr();Gh.subscribe(y=>{Dt.toggleTerrain(y)});let A=Oe(!1),u=Oe(void 0);on(()=>{const y=b=>{E(A)&&E(u)&&!E(u).contains(b.target)&&ee(A,!1)};return E(A)&&document.addEventListener("click",y),()=>{document.removeEventListener("click",y)}});let h=Ot(()=>t()==="osm");var f=LCe(),d=q(f);{var g=y=>{var b=wCe(),v=q(b),B=q(v),C=oe(q(B),2);C.__click=()=>ee(A,!1);var I=q(C);Bt(I,{icon:"material-symbols:close-rounded",class:"h-6 w-6"}),$(C),$(B);var R=oe(B,2),w=q(R);j2(w,{label:"",get value(){return w2(),r()},set value(G){xr(ud,G)}});var U=oe(w,2);j2(U,{label:"",get disabled(){return E(h)},get value(){return w2(),i()},set value(G){xr(M3,G)}});var M=oe(U,2);j2(M,{label:"",get disabled(){return E(h)},get value(){return w2(),s()},set value(G){xr(T3,G)}});var F=oe(M,2);j2(F,{label:"",get disabled(){return E(h)},get value(){return w2(),a()},set value(G){xr(fd,G)}});var P=oe(F,2);j2(P,{label:"3D",get value(){return w2(),o()},set value(G){xr(Gh,G)}});var S=oe(P,2);Te(S,G=>{}),$(R),$(v);var W=oe(v,2),re=oe(q(W),2);Fn(re,21,()=>tI,wi,(G,ie)=>{var X=vCe();X.__click=()=>{t()!==E(ie).type&&xr(Ho,E(ie).type)};var ge=q(X),K=oe(ge,2),N=q(K,!0);$(K),$(X),Ye(()=>{Xt(X,1,`flex cursor-pointer select-none flex-col items-center justify-start gap-2 rounded-md border-2 p-2 transition-colors duration-150 ${t()===E(ie).type?"border-accent":"border-transparent"}`),pt(ge,"src",E(ie).src),pt(ge,"alt",E(ie).label),yt(N,E(ie).label)}),Z(G,X)}),$(re),$(W),$(b),Yt(3,b,()=>br,()=>({duration:200,y:50,opacity:0})),Z(y,b)};Te(d,y=>{E(A)&&y(g)})}var _=oe(d,2);_.__click=()=>{ee(A,!E(A))};var m=q(_);$(_),$(f),qn(f,y=>ee(u,y),()=>E(u)),Ye(y=>pt(m,"src",y),[()=>{var y;return(y=tI.find(b=>b.type===t()))==null?void 0:y.src}]),Z(n,f),St(),c()}Ln(["click"]);var RCe=we("<div></div>");function BCe(n,e){Mt(e,!0),Dt.onInitialized(r=>{}),Ga(()=>{Dt.getMap()});var t=RCe();Z(n,t),St()}var ECe=we('<div class="pointer-events-none relative grid h-[100px] w-[100px] place-items-center svelte-19jsywr"><div class="c-ripple-effect svelte-19jsywr"></div> <div class="border-main absolute h-[12px] w-[12px] rounded-full border-[2px] bg-white svelte-19jsywr"></div> <div class="border-main c-scale-effect absolute h-[24px] w-[24px] rounded-full border-2 svelte-19jsywr"></div> <div class="border-base c-scale-effect absolute h-[20px] w-[20px] rounded-full border-2 svelte-19jsywr"></div></div>');function CCe(n,e){Mt(e,!0);let t=Oe(null),r=Oe(null);ni(()=>{E(t)&&e.show&&e.lngLat&&ee(r,new Qr.Marker({element:E(t),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map))}),on(()=>{e.show?E(r)&&e.lngLat?E(r).setLngLat(e.lngLat):ee(r,new Qr.Marker({element:E(t),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map)):E(r)&&(E(r).remove(),ee(r,null))}),Ga(()=>{var o;(o=E(r))==null||o.remove()});var i=xt(),s=Je(i);{var a=o=>{var l=ECe();qn(l,c=>ee(t,c),()=>E(t)),Z(o,l)};Te(s,o=>{e.show&&o(a)})}Z(n,i),St()}var ICe=we('<div><div class="c-player-marker z-50 grid scale-75 place-items-center svelte-1azqbpy"><svg xmlns="http://www.w3.org/2000/svg" width="73" height="73" fill="none" class="svelte-1azqbpy"><path fill="#333" d="M36.5 2 59 64 36.5 50.5 14 64 36.5 2Z" class="svelte-1azqbpy"></path><path stroke="#333" d="M36.5 2 59 64 36.5 50.5 14 64 36.5 2Z" class="svelte-1azqbpy"></path></svg></div></div>');function TCe(n,e){Mt(e,!0);let t=Oe(null),r=Oe(null);on(()=>{e.show?ee(r,new Qr.Marker({element:E(t),pitchAlignment:"map",rotationAlignment:"map",anchor:"center",draggable:!0}).setLngLat(e.lngLat).setRotation(-e.rotation+180).addTo(e.map)):E(r)&&(E(r).remove(),ee(r,null))}),on(()=>{if(e.rotation&&E(r)){const s=-e.rotation+180;E(r).setRotation(s)}}),on(()=>{e.lngLat&&E(r)&&E(r).setLngLat(e.lngLat)}),Ga(()=>{var s;(s=E(r))==null||s.remove()});var i=ICe();qn(i,s=>ee(t,s),()=>E(t)),Ye(()=>Xt(i,1,`pointer-events-none relative grid h-[100px] w-[100px] place-items-center ${e.show?"":"hidden"}`)),Z(n,i),St()}function MCe(n,e){Mt(e,!0);let t=Ne(e,"selectedSearchId",15),r=Oe(null);ni(()=>{t()&&e.prop&&ee(r,new Qr.Marker({scale:1.2,color:"#FF0000"}).setLngLat(new Qr.LngLat(e.prop.point[0],e.prop.point[1])).addTo(e.map))}),on(()=>{t()?E(r)&&e.prop&&E(r).setLngLat(new Qr.LngLat(e.prop.point[0],e.prop.point[1])):E(r)&&(E(r).remove(),ee(r,null))}),Ga(()=>{var i;(i=E(r))==null||i.remove(),t(null)}),St()}var SCe=we("<div></div>");function FCe(n,e){Mt(e,!0);const t=()=>qt(Dk,"$clickableVectorIds",r),[r,i]=Rr();let s=Ne(e,"markerLngLat",15),a=Ne(e,"featureMenuData",15),o=Ne(e,"showMarker",15),l=Ne(e,"clickedLayerIds",15),c=Ne(e,"contextMenuState",15),A=null,u=null;Dt.onClick(async f=>{var d;if(!e.showDataEntry)try{const _=[...t(),"@search_result"].filter(w=>Dt.getLayer(w)!==void 0);if(!_.length)return;const m=Dt.queryRenderedFeatures(f.point,{layers:_});if(!m.length){if(A!==null&&u!==null&&(Dt.setFeatureState({...u,id:A},{selected:!1}),A=null),a(null),l([]),s())s(null),o(!1);else if(o(!0),s(f.lngLat),!Na()){const w=f.originalEvent.clientX,U=f.originalEvent.clientY;c({show:!0,x:w,y:U,lngLat:f.lngLat})}return}const y=m.map(w=>w.layer.id),b=e.layerEntries.filter(w=>{if(w.type==="raster"&&w.interaction.clickable&&w.style.visible){if(w.metaData.location==="")return!0;if(hH(f.lngLat,w.metaData.bounds))return!0}}).map(w=>w.id);if(y.includes("@street_view_circle_layer")){const w=Dt.queryRenderedFeatures(f.point,{layers:["@street_view_circle_layer"]});if(w.length>0&&e.streetViewPointData.features.length>0){const M=w[0].properties.node_id;ey(M)}return}if(y.includes("@street_view_line_layer")){const w=Dt.queryRenderedFeatures(f.point,{layers:["@street_view_line_layer"]});if(w.length){const U=w[0],M=U.geometry.type==="LineString"?U.geometry.coordinates:[];let F=null,P=1/0;for(const S of M){const W=Math.sqrt(Math.pow(S[0]-f.lngLat.lng,2)+Math.pow(S[1]-f.lngLat.lat,2));W<P&&(P=W,F=S)}if(F){const S=M[0],W=M[M.length-1],re=F[0]===S[0]&&F[1]===S[1],G=F[0]===W[0]&&F[1]===W[1];let ie;re?ie=U.properties.source:G?ie=U.properties.target:ie=U.properties.source,ey(ie)}return}}const v=Dt.queryRenderedFeatures(f.point,{layers:["@search_result"]});if(v.length>0){const{properties:w}=v[0],U=(d=e.searchResults)==null?void 0:d.find(M=>M.id===w.id);e.focusFeature(U);return}const B=[...y,...b];if(l(B.length>0?B:[]),m.length>0){const w=m[0],U=w.geometry.type==="Point"?w.geometry.coordinates:[f.lngLat.lng,f.lngLat.lat],M=pne(w,U);a(M)}const C=m[0],I=C.id,R=n3.get(C.layer.id);s(f.lngLat),o(!0),u&&A!==null&&Dt.setFeatureState({...u,id:A},{selected:!1}),R&&(A=I,u=R,Dt.setFeatureState({...u,id:I},{selected:!0}))}catch(g){console.error("Error occurred while processing mouse events:",g)}}),Dt.onContextMenu(async f=>{const d=f.originalEvent.clientX,g=f.originalEvent.clientY;c({show:!0,x:d,y:g,lngLat:f.lngLat}),s(f.lngLat),o(!0)}),Dt.onMousemove(f=>{const g=[...t()].filter(m=>Dt.getLayer(m)!==void 0);Dt.queryRenderedFeatures(f.point,{layers:g}).length>0?Dt.setCursor("pointer"):Dt.setCursor("default")}),Dt.onMouseDown(f=>{Dt.setCursor("move")}),Dt.onMouseUp(f=>{Dt.setCursor("default")}),on(()=>{(!a()||a().layerId==="fac_poi")&&A!==null&&u!==null&&(Dt.setFeatureState({...u,id:A},{selected:!1}),A=null)});var h=SCe();Z(n,h),St(),i()}var UCe=we('<button class="duration-scale-100 relative grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center overflow-hidden rounded-full bg-gray-500 transition-all hover:scale-110"><!></button>'),NCe=we('<div class="pointer-events-none absolute bottom-2 grid w-full place-items-center rounded-md"><div class="pointer-events-auto relative flex max-w-[calc(100vw-2rem)] gap-2 rounded-md bg-white p-4 px-6 transition-all duration-100"><button class="absolute right-0 top-0 rounded-full p-2"><!></button> <div class="flex grow flex-col gap-2"><div class="flex gap-2"></div> <div class="flex w-full flex-col items-center justify-center"><span class="text-accent text-xs"> </span> <span class="text-xs"> </span></div></div></div></div>');function kCe(n,e){Mt(e,!0);let t=Ne(e,"clickedLayerIds",15),r=Ne(e,"clickedLayerFeaturesData",15),i=Oe(void 0),s=Oe(void 0),a=Ot(()=>t()?e.layerEntries.filter(h=>t().includes(h.id)):[]);on(()=>{(async()=>e.clickedLngLat&&(ee(i,await void 0,!0),ee(s,await void 0,!0),ee(i,await Nxe(e.clickedLngLat.lng,e.clickedLngLat.lat),!0)))()});let o=Oe(Wr({layerId:"",bool:!1}));const l=h=>{var d;!r()||!((d=r().find(g=>g.layerEntry.id===h))!=null&&d.feature)||(r(null),t([]))};on(()=>{if(E(o).layerId&&t().length>0){const h=Dt.getMap();if(!h)return;const f=h.getLayer(E(o).layerId);if(!f)return;let d=f.type;d==="symbol"&&(d="text"),h.setPaintProperty(`@highlight_${E(o).layerId}`,`${d}-color`,E(o).bool?"#00d5ff":Ok),h.moveLayer(`@highlight_${E(o).layerId}`)}});var c=xt(),A=Je(c);{var u=h=>{var f=NCe(),d=q(f),g=q(d);g.__click=()=>{r(null),t([])};var _=q(g);Bt(_,{icon:"material-symbols:close-rounded",class:"h-4 w-4 text-black"}),$(g);var m=oe(g,2),y=q(m);Fn(y,29,()=>E(a),R=>R.id,(R,w)=>{var U=UCe();U.__click=()=>l(E(w).id),U.__mousemove=()=>ee(o,{layerId:E(w).id,bool:!0},!0);var M=q(U);M6(M,{get layerEntry(){return E(w)}}),$(U),Bn("mouseleave",U,()=>ee(o,{layerId:E(w).id,bool:!1},!0)),Qk(U,()=>cG,()=>({duration:200})),Z(R,U)}),$(y);var b=oe(y,2),v=q(b),B=q(v);$(v);var C=oe(v,2),I=q(C,!0);$(C),$(b),$(m),$(d),$(f),Ye((R,w)=>{yt(B,`${R??""}, ${w??""}`),yt(I,E(i)??"-----")},[()=>e.clickedLngLat.lng.toFixed(6),()=>e.clickedLngLat.lat.toFixed(6)]),Yt(3,f,()=>br,()=>({duration:200,y:100,opacity:0})),Z(h,f)};Te(A,h=>{t().length>1&&e.clickedLngLat&&h(u)})}Z(n,c),St()}Ln(["click","mousemove"]);var PCe=we('<div class="absolute translate-y-10 text-base font-bold svelte-m6dga8"> </div>'),DCe=we('<div class="pointer-events-none relative z-50 grid h-[100px] w-[100px] place-items-center svelte-m6dga8"><!> <div class="css-rotate-effect absolute h-[30px] w-[30px] rotate-45 border-2 border-white svelte-m6dga8"></div></div>');function OCe(n,e){Mt(e,!0);let t=Oe(null),r=Oe(null);ni(()=>{E(t)&&e.show&&e.lngLat&&ee(r,new Qr.Marker({element:E(t),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map))}),on(()=>{e.show?E(r)?E(r).setLngLat(e.lngLat):ee(r,new Qr.Marker({element:E(t),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map)):E(r)&&(E(r).remove(),ee(r,null))}),Ga(()=>{E(t)&&Fl.to(E(t),{scale:0,duration:.15,onComplete:()=>{var o;(o=E(r))==null||o.remove()}})});var i=xt(),s=Je(i);{var a=o=>{var l=DCe(),c=q(l);{var A=u=>{var h=PCe(),f=q(h,!0);$(h),Ye(d=>yt(f,d),[()=>e.feature.layer.metadata.titles?Mx(e.feature.properties,e.feature.layer.metadata.titles):e.feature.layer.metadata.name]),Z(u,h)};Te(c,u=>{e.feature.layer.metadata&&u(A)})}jn(2),$(l),qn(l,u=>ee(t,u),()=>E(t)),Z(o,l)};Te(s,o=>{e.show&&e.feature&&o(a)})}Z(n,i),St()}var zCe={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(n,e){((t,r)=>{n.exports=r()})(eg,function t(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,o={},l=0,c={};function A(R){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(w){var U=B(w);U.chunkSize=parseInt(U.chunkSize),w.step||w.chunk||(U.chunkSize=null),this._handle=new g(U),(this._handle.streamer=this)._config=U}).call(this,R),this.parseChunk=function(w,U){var M=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<M){let P=this._config.newline;P||(F=this._config.quoteChar||'"',P=this._handle.guessLineEndings(w,F)),w=[...w.split(P).slice(M)].join(P)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(w))!==void 0&&(w=F),this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+w,F=(this._partialLine="",this._handle.parse(M,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(w=F.meta.cursor,M=(this._finished||(this._partialLine=M.substring(w-this._baseIndex),this._baseIndex=w),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)r.postMessage({results:F,workerId:c.WORKER_ID,finished:M});else if(I(this._config.chunk)&&!U){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!M||!I(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(w){I(this._config.error)?this._config.error(w):a&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:w,finished:!1})}}function u(R){var w;(R=R||{}).chunkSize||(R.chunkSize=c.RemoteChunkSize),A.call(this,R),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(U){this._input=U,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(w=new XMLHttpRequest,this._config.withCredentials&&(w.withCredentials=this._config.withCredentials),s||(w.onload=C(this._chunkLoaded,this),w.onerror=C(this._chunkError,this)),w.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var U,M=this._config.downloadRequestHeaders;for(U in M)w.setRequestHeader(U,M[U])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,w.setRequestHeader("Range","bytes="+this._start+"-"+F));try{w.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}s&&w.status===0&&this._chunkError()}},this._chunkLoaded=function(){w.readyState===4&&(w.status<200||400<=w.status?this._chunkError():(this._start+=this._config.chunkSize||w.responseText.length,this._finished=!this._config.chunkSize||this._start>=(U=>(U=U.getResponseHeader("Content-Range"))!==null?parseInt(U.substring(U.lastIndexOf("/")+1)):-1)(w),this.parseChunk(w.responseText)))},this._chunkError=function(U){U=w.statusText||U,this._sendError(new Error(U))}}function h(R){(R=R||{}).chunkSize||(R.chunkSize=c.LocalChunkSize),A.call(this,R);var w,U,M=typeof FileReader<"u";this.stream=function(F){this._input=F,U=F.slice||F.webkitSlice||F.mozSlice,M?((w=new FileReader).onload=C(this._chunkLoaded,this),w.onerror=C(this._chunkError,this)):w=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),F=U.call(F,this._start,P)),w.readAsText(F,this._config.encoding));M||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(w.error)}}function f(R){var w;A.call(this,R=R||{}),this.stream=function(U){return w=U,this._nextChunk()},this._nextChunk=function(){var U,M;if(!this._finished)return U=this._config.chunkSize,w=U?(M=w.substring(0,U),w.substring(U)):(M=w,""),this._finished=!w,this.parseChunk(M)}}function d(R){A.call(this,R=R||{});var w=[],U=!0,M=!1;this.pause=function(){A.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){A.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&w.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),w.length?this.parseChunk(w.shift()):U=!0},this._streamData=C(function(F){try{w.push(typeof F=="string"?F:F.toString(this._config.encoding)),U&&(U=!1,this._checkIsFinished(),this.parseChunk(w.shift()))}catch(P){this._streamError(P)}},this),this._streamError=C(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=C(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(R){var w,U,M,F,P=Math.pow(2,53),S=-P,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,re=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,G=this,ie=0,X=0,ge=!1,K=!1,N=[],H={data:[],errors:[],meta:{}};function V(he){return R.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function j(){if(H&&M&&(de("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),M=!1),R.skipEmptyLines&&(H.data=H.data.filter(function(_e){return!V(_e)})),le()){let _e=function(xe,Re){I(R.transformHeader)&&(xe=R.transformHeader(xe,Re)),N.push(xe)};if(H)if(Array.isArray(H.data[0])){for(var he=0;le()&&he<H.data.length;he++)H.data[he].forEach(_e);H.data.splice(0,1)}else H.data.forEach(_e)}function ue(_e,xe){for(var Re=R.header?{}:[],D=0;D<_e.length;D++){var O=D,ne=_e[D],ne=((te,J)=>(ce=>(R.dynamicTypingFunction&&R.dynamicTyping[ce]===void 0&&(R.dynamicTyping[ce]=R.dynamicTypingFunction(ce)),(R.dynamicTyping[ce]||R.dynamicTyping)===!0))(te)?J==="true"||J==="TRUE"||J!=="false"&&J!=="FALSE"&&((ce=>{if(W.test(ce)&&(ce=parseFloat(ce),S<ce&&ce<P))return 1})(J)?parseFloat(J):re.test(J)?new Date(J):J===""?null:J):J)(O=R.header?D>=N.length?"__parsed_extra":N[D]:O,ne=R.transform?R.transform(ne,O):ne);O==="__parsed_extra"?(Re[O]=Re[O]||[],Re[O].push(ne)):Re[O]=ne}return R.header&&(D>N.length?de("FieldMismatch","TooManyFields","Too many fields: expected "+N.length+" fields but parsed "+D,X+xe):D<N.length&&de("FieldMismatch","TooFewFields","Too few fields: expected "+N.length+" fields but parsed "+D,X+xe)),Re}var me;H&&(R.header||R.dynamicTyping||R.transform)&&(me=1,!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(ue),me=H.data.length):H.data=ue(H.data,0),R.header&&H.meta&&(H.meta.fields=N),X+=me)}function le(){return R.header&&N.length===0}function de(he,ue,me,_e){he={type:he,code:ue,message:me},_e!==void 0&&(he.row=_e),H.errors.push(he)}I(R.step)&&(F=R.step,R.step=function(he){H=he,le()?j():(j(),H.data.length!==0&&(ie+=he.data.length,R.preview&&ie>R.preview?U.abort():(H.data=H.data[0],F(H,G))))}),this.parse=function(he,ue,me){var _e=R.quoteChar||'"',_e=(R.newline||(R.newline=this.guessLineEndings(he,_e)),M=!1,R.delimiter?I(R.delimiter)&&(R.delimiter=R.delimiter(he),H.meta.delimiter=R.delimiter):((_e=((xe,Re,D,O,ne)=>{var te,J,ce,Me;ne=ne||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Se=0;Se<ne.length;Se++){for(var Le,He=ne[Se],be=0,Fe=0,Qe=0,Ge=(ce=void 0,new m({comments:O,delimiter:He,newline:Re,preview:10}).parse(xe)),nt=0;nt<Ge.data.length;nt++)D&&V(Ge.data[nt])?Qe++:(Le=Ge.data[nt].length,Fe+=Le,ce===void 0?ce=Le:0<Le&&(be+=Math.abs(Le-ce),ce=Le));0<Ge.data.length&&(Fe/=Ge.data.length-Qe),(J===void 0||be<=J)&&(Me===void 0||Me<Fe)&&1.99<Fe&&(J=be,te=He,Me=Fe)}return{successful:!!(R.delimiter=te),bestDelimiter:te}})(he,R.newline,R.skipEmptyLines,R.comments,R.delimitersToGuess)).successful?R.delimiter=_e.bestDelimiter:(M=!0,R.delimiter=c.DefaultDelimiter),H.meta.delimiter=R.delimiter),B(R));return R.preview&&R.header&&_e.preview++,w=he,U=new m(_e),H=U.parse(w,ue,me),j(),ge?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return ge},this.pause=function(){ge=!0,U.abort(),w=I(R.chunk)?"":w.substring(U.getCharIndex())},this.resume=function(){G.streamer._halted?(ge=!1,G.streamer.parseChunk(w,!0)):setTimeout(G.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,U.abort(),H.meta.aborted=!0,I(R.complete)&&R.complete(H),w=""},this.guessLineEndings=function(xe,_e){xe=xe.substring(0,1048576);var _e=new RegExp(_(_e)+"([^]*?)"+_(_e),"gm"),me=(xe=xe.replace(_e,"")).split("\r"),_e=xe.split(`
`),xe=1<_e.length&&_e[0].length<me[0].length;if(me.length===1||xe)return`
`;for(var Re=0,D=0;D<me.length;D++)me[D][0]===`
`&&Re++;return Re>=me.length/2?`\r
`:"\r"}}function _(R){return R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(R){var w=(R=R||{}).delimiter,U=R.newline,M=R.comments,F=R.step,P=R.preview,S=R.fastMode,W=null,re=!1,G=R.quoteChar==null?'"':R.quoteChar,ie=G;if(R.escapeChar!==void 0&&(ie=R.escapeChar),(typeof w!="string"||-1<c.BAD_DELIMITERS.indexOf(w))&&(w=","),M===w)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<c.BAD_DELIMITERS.indexOf(M))&&(M=!1),U!==`
`&&U!=="\r"&&U!==`\r
`&&(U=`
`);var X=0,ge=!1;this.parse=function(K,N,H){if(typeof K!="string")throw new Error("Input must be a string");var V=K.length,j=w.length,le=U.length,de=M.length,he=I(F),ue=[],me=[],_e=[],xe=X=0;if(!K)return be();if(S||S!==!1&&K.indexOf(G)===-1){for(var Re=K.split(U),D=0;D<Re.length;D++){if(_e=Re[D],X+=_e.length,D!==Re.length-1)X+=U.length;else if(H)return be();if(!M||_e.substring(0,de)!==M){if(he){if(ue=[],Me(_e.split(w)),Fe(),ge)return be()}else Me(_e.split(w));if(P&&P<=D)return ue=ue.slice(0,P),be(!0)}}return be()}for(var O=K.indexOf(w,X),ne=K.indexOf(U,X),te=new RegExp(_(ie)+_(G),"g"),J=K.indexOf(G,X);;)if(K[X]===G)for(J=X,X++;;){if((J=K.indexOf(G,J+1))===-1)return H||me.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ue.length,index:X}),Le();if(J===V-1)return Le(K.substring(X,J).replace(te,G));if(G===ie&&K[J+1]===ie)J++;else if(G===ie||J===0||K[J-1]!==ie){O!==-1&&O<J+1&&(O=K.indexOf(w,J+1));var ce=Se((ne=ne!==-1&&ne<J+1?K.indexOf(U,J+1):ne)===-1?O:Math.min(O,ne));if(K.substr(J+1+ce,j)===w){_e.push(K.substring(X,J).replace(te,G)),K[X=J+1+ce+j]!==G&&(J=K.indexOf(G,X)),O=K.indexOf(w,X),ne=K.indexOf(U,X);break}if(ce=Se(ne),K.substring(J+1+ce,J+1+ce+le)===U){if(_e.push(K.substring(X,J).replace(te,G)),He(J+1+ce+le),O=K.indexOf(w,X),J=K.indexOf(G,X),he&&(Fe(),ge))return be();if(P&&ue.length>=P)return be(!0);break}me.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ue.length,index:X}),J++}}else if(M&&_e.length===0&&K.substring(X,X+de)===M){if(ne===-1)return be();X=ne+le,ne=K.indexOf(U,X),O=K.indexOf(w,X)}else if(O!==-1&&(O<ne||ne===-1))_e.push(K.substring(X,O)),X=O+j,O=K.indexOf(w,X);else{if(ne===-1)break;if(_e.push(K.substring(X,ne)),He(ne+le),he&&(Fe(),ge))return be();if(P&&ue.length>=P)return be(!0)}return Le();function Me(Qe){ue.push(Qe),xe=X}function Se(Qe){var Ge=0;return Ge=Qe!==-1&&(Qe=K.substring(J+1,Qe))&&Qe.trim()===""?Qe.length:Ge}function Le(Qe){return H||(Qe===void 0&&(Qe=K.substring(X)),_e.push(Qe),X=V,Me(_e),he&&Fe()),be()}function He(Qe){X=Qe,Me(_e),_e=[],ne=K.indexOf(U,X)}function be(Qe){if(R.header&&!N&&ue.length&&!re){var Ge=ue[0],nt=Object.create(null),ke=new Set(Ge);let De=!1;for(let At=0;At<Ge.length;At++){let kt=Ge[At];if(nt[kt=I(R.transformHeader)?R.transformHeader(kt,At):kt]){let rt,Nt=nt[kt];for(;rt=kt+"_"+Nt,Nt++,ke.has(rt););ke.add(rt),Ge[At]=rt,nt[kt]++,De=!0,(W=W===null?{}:W)[rt]=kt}else nt[kt]=1,Ge[At]=kt;ke.add(kt)}De&&console.warn("Duplicate headers found and renamed."),re=!0}return{data:ue,errors:me,meta:{delimiter:w,linebreak:U,aborted:ge,truncated:!!Qe,cursor:xe+(N||0),renamedHeaders:W}}}function Fe(){F(be()),ue=[],me=[]}},this.abort=function(){ge=!0},this.getCharIndex=function(){return X}}function y(R){var w=R.data,U=o[w.workerId],M=!1;if(w.error)U.userError(w.error,w.file);else if(w.results&&w.results.data){var F={abort:function(){M=!0,b(w.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(I(U.userStep)){for(var P=0;P<w.results.data.length&&(U.userStep({data:w.results.data[P],errors:w.results.errors,meta:w.results.meta},F),!M);P++);delete w.results}else I(U.userChunk)&&(U.userChunk(w.results,F,w.file),delete w.results)}w.finished&&!M&&b(w.workerId,w.results)}function b(R,w){var U=o[R];I(U.userComplete)&&U.userComplete(w),U.terminate(),delete o[R]}function v(){throw new Error("Not implemented.")}function B(R){if(typeof R!="object"||R===null)return R;var w,U=Array.isArray(R)?[]:{};for(w in R)U[w]=B(R[w]);return U}function C(R,w){return function(){R.apply(w,arguments)}}function I(R){return typeof R=="function"}return c.parse=function(R,w){var U=(w=w||{}).dynamicTyping||!1;if(I(U)&&(w.dynamicTypingFunction=U,U={}),w.dynamicTyping=U,w.transform=!!I(w.transform)&&w.transform,!w.worker||!c.WORKERS_SUPPORTED)return U=null,c.NODE_STREAM_INPUT,typeof R=="string"?(R=(M=>M.charCodeAt(0)!==65279?M:M.slice(1))(R),U=new(w.download?u:f)(w)):R.readable===!0&&I(R.read)&&I(R.on)?U=new d(w):(r.File&&R instanceof File||R instanceof Object)&&(U=new h(w)),U.stream(R);(U=(()=>{var M;return!!c.WORKERS_SUPPORTED&&(M=(()=>{var F=r.URL||r.webkitURL||null,P=t.toString();return c.BLOB_URL||(c.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(M=new r.Worker(M)).onmessage=y,M.id=l++,o[M.id]=M)})()).userStep=w.step,U.userChunk=w.chunk,U.userComplete=w.complete,U.userError=w.error,w.step=I(w.step),w.chunk=I(w.chunk),w.complete=I(w.complete),w.error=I(w.error),delete w.worker,U.postMessage({input:R,config:w,workerId:U.id})},c.unparse=function(R,w){var U=!1,M=!0,F=",",P=`\r
`,S='"',W=S+S,re=!1,G=null,ie=!1,X=((()=>{if(typeof w=="object"){if(typeof w.delimiter!="string"||c.BAD_DELIMITERS.filter(function(N){return w.delimiter.indexOf(N)!==-1}).length||(F=w.delimiter),typeof w.quotes!="boolean"&&typeof w.quotes!="function"&&!Array.isArray(w.quotes)||(U=w.quotes),typeof w.skipEmptyLines!="boolean"&&typeof w.skipEmptyLines!="string"||(re=w.skipEmptyLines),typeof w.newline=="string"&&(P=w.newline),typeof w.quoteChar=="string"&&(S=w.quoteChar),typeof w.header=="boolean"&&(M=w.header),Array.isArray(w.columns)){if(w.columns.length===0)throw new Error("Option columns is empty");G=w.columns}w.escapeChar!==void 0&&(W=w.escapeChar+S),w.escapeFormulae instanceof RegExp?ie=w.escapeFormulae:typeof w.escapeFormulae=="boolean"&&w.escapeFormulae&&(ie=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(S),"g"));if(typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(R)){if(!R.length||Array.isArray(R[0]))return ge(null,R,re);if(typeof R[0]=="object")return ge(G||Object.keys(R[0]),R,re)}else if(typeof R=="object")return typeof R.data=="string"&&(R.data=JSON.parse(R.data)),Array.isArray(R.data)&&(R.fields||(R.fields=R.meta&&R.meta.fields||G),R.fields||(R.fields=Array.isArray(R.data[0])?R.fields:typeof R.data[0]=="object"?Object.keys(R.data[0]):[]),Array.isArray(R.data[0])||typeof R.data[0]=="object"||(R.data=[R.data])),ge(R.fields||[],R.data||[],re);throw new Error("Unable to serialize unrecognized input");function ge(N,H,V){var j="",le=(typeof N=="string"&&(N=JSON.parse(N)),typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(N)&&0<N.length),de=!Array.isArray(H[0]);if(le&&M){for(var he=0;he<N.length;he++)0<he&&(j+=F),j+=K(N[he],he);0<H.length&&(j+=P)}for(var ue=0;ue<H.length;ue++){var me=(le?N:H[ue]).length,_e=!1,xe=le?Object.keys(H[ue]).length===0:H[ue].length===0;if(V&&!le&&(_e=V==="greedy"?H[ue].join("").trim()==="":H[ue].length===1&&H[ue][0].length===0),V==="greedy"&&le){for(var Re=[],D=0;D<me;D++){var O=de?N[D]:D;Re.push(H[ue][O])}_e=Re.join("").trim()===""}if(!_e){for(var ne=0;ne<me;ne++){0<ne&&!xe&&(j+=F);var te=le&&de?N[ne]:ne;j+=K(H[ue][te],ne)}ue<H.length-1&&(!V||0<me&&!xe)&&(j+=P)}}return j}function K(N,H){var V,j;return N==null?"":N.constructor===Date?JSON.stringify(N).slice(1,25):(j=!1,ie&&typeof N=="string"&&ie.test(N)&&(N="'"+N,j=!0),V=N.toString().replace(X,W),(j=j||U===!0||typeof U=="function"&&U(N,H)||Array.isArray(U)&&U[H]||((le,de)=>{for(var he=0;he<de.length;he++)if(-1<le.indexOf(de[he]))return!0;return!1})(V,c.BAD_DELIMITERS)||-1<V.indexOf(F)||V.charAt(0)===" "||V.charAt(V.length-1)===" ")?S+V+S:V)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=m,c.ParserHandle=g,c.NetworkStreamer=u,c.FileStreamer=h,c.StringStreamer=f,c.ReadableStreamStreamer=d,r.jQuery&&((i=r.jQuery).fn.parse=function(R){var w=R.config||{},U=[];return this.each(function(P){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var S=0;S<this.files.length;S++)U.push({file:this.files[S],inputElem:this,instanceConfig:i.extend({},w)})}),M(),this;function M(){if(U.length===0)I(R.complete)&&R.complete();else{var P,S,W,re,G=U[0];if(I(R.before)){var ie=R.before(G.file,G.inputElem);if(typeof ie=="object"){if(ie.action==="abort")return P="AbortError",S=G.file,W=G.inputElem,re=ie.reason,void(I(R.error)&&R.error({name:P},S,W,re));if(ie.action==="skip")return void F();typeof ie.config=="object"&&(G.instanceConfig=i.extend(G.instanceConfig,ie.config))}else if(ie==="skip")return void F()}var X=G.instanceConfig.complete;G.instanceConfig.complete=function(ge){I(X)&&X(ge,G.file,G.inputElem),F()},c.parse(G.file,G.instanceConfig)}}function F(){U.splice(0,1),M()}}),a&&(r.onmessage=function(R){R=R.data,c.WORKER_ID===void 0&&R&&(c.WORKER_ID=R.workerId),typeof R.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(R.input,R.config),finished:!0}):(r.File&&R.input instanceof File||R.input instanceof Object)&&(R=c.parse(R.input,R.config))&&r.postMessage({workerId:c.WORKER_ID,results:R,finished:!0})}),(u.prototype=Object.create(A.prototype)).constructor=u,(h.prototype=Object.create(A.prototype)).constructor=h,(f.prototype=Object.create(f.prototype)).constructor=f,(d.prototype=Object.create(A.prototype)).constructor=d,c})})(zCe);const HCe=async(n,e)=>{try{const t=await n.arrayBuffer(),r=new Response(t).body;if(!r)throw new Error("ReadableStream");const i=DD(r),s={type:"FeatureCollection",features:[]};if(e===void 0)for await(const a of i)s.features.push(a);return s}catch(t){throw console.error(t),new Error("Failed to parse FGB file")}};function QCe(){return this._array=null,Promise.resolve()}function jCe(){var n=this._array;return this._array=null,Promise.resolve(n?{done:!1,value:n}:{done:!0,value:void 0})}function oy(n){return new TB(n instanceof Uint8Array?n:new Uint8Array(n))}function TB(n){this._array=n}TB.prototype.read=jCe;TB.prototype.cancel=QCe;function YCe(n){return fetch(n).then(function(e){return e.body&&e.body.getReader?e.body.getReader():e.arrayBuffer().then(oy)})}function GCe(n){return new Promise(function(e,t){var r=new XMLHttpRequest;r.responseType="arraybuffer",r.onload=function(){e(oy(r.response))},r.onerror=t,r.ontimeout=t,r.open("GET",n,!0),r.send()})}function W8(n){return(typeof fetch=="function"?YCe:GCe)(n)}function yU(n){return typeof n.read=="function"?n:n.getReader()}function VCe(){return this._source.cancel()}function KCe(n){return/^[nf]$/i.test(n)?!1:/^[yt]$/i.test(n)?!0:null}function $Ce(n){return new Date(+n.substring(0,4),n.substring(4,6)-1,+n.substring(6,8))}function k4(n){return!(n=n.trim())||isNaN(n=+n)?null:n}function WCe(n){return n.trim()||null}var qCe={B:k4,C:WCe,D:$Ce,F:k4,L:KCe,M:k4,N:k4};function XCe(){var n=this,e=1;return n._source.slice(n._recordLength).then(function(t){return t&&t[0]!==26?{done:!1,value:n._fields.reduce(function(r,i){return r[i.name]=qCe[i.type](n._decode(t.subarray(e,e+=i.length))),r},{})}:{done:!0,value:void 0}})}function Wh(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function JCe(n,e){return n=Fx(n),n.slice(32).then(function(t){var r=Wh(t);return n.slice(r.getUint16(8,!0)-32).then(function(i){return new uG(n,e,r,Wh(i))})})}function uG(n,e,t,r){this._source=n,this._decode=e.decode.bind(e),this._recordLength=t.getUint16(10,!0),this._fields=[];for(var i=0;r.getUint8(i)!==13;i+=32){for(var s=0;s<11&&r.getUint8(i+s)!==0;++s);this._fields.push({name:this._decode(new Uint8Array(r.buffer,r.byteOffset+i,s)),type:String.fromCharCode(r.getUint8(i+11)),length:r.getUint8(i+16)})}}var fG=uG.prototype;fG.read=XCe;fG.cancel=VCe;function ZCe(){return this._source.cancel()}function q8(n){var e=40,t,r=n.getInt32(36,!0),i=new Array(r);for(t=0;t<r;++t,e+=16)i[t]=[n.getFloat64(e,!0),n.getFloat64(e+8,!0)];return{type:"MultiPoint",coordinates:i}}function eIe(){return null}function X8(n){return{type:"Point",coordinates:[n.getFloat64(4,!0),n.getFloat64(12,!0)]}}function J8(n){var e=44,t,r=n.getInt32(36,!0),i=n.getInt32(40,!0),s=new Array(r),a=new Array(i),o=[],l=[];for(t=0;t<r;++t,e+=4)s[t]=n.getInt32(e,!0);for(t=0;t<i;++t,e+=16)a[t]=[n.getFloat64(e,!0),n.getFloat64(e+8,!0)];return s.forEach(function(c,A){var u=a.slice(c,s[A+1]);tIe(u)?o.push([u]):l.push(u)}),l.forEach(function(c){o.some(function(A){if(nIe(A[0],c))return A.push(c),!0})||o.push([c])}),o.length===1?{type:"Polygon",coordinates:o[0]}:{type:"MultiPolygon",coordinates:o}}function tIe(n){if((t=n.length)<4)return!1;for(var e=0,t,r=n[t-1][1]*n[0][0]-n[t-1][0]*n[0][1];++e<t;)r+=n[e-1][1]*n[e][0]-n[e-1][0]*n[e][1];return r>=0}function nIe(n,e){for(var t=-1,r=e.length,i;++t<r;)if(i=rIe(n,e[t]))return i>0;return!1}function rIe(n,e){for(var t=e[0],r=e[1],i=-1,s=0,a=n.length,o=a-1;s<a;o=s++){var l=n[s],c=l[0],A=l[1],u=n[o],h=u[0],f=u[1];if(iIe(l,u,e))return 0;A>r!=f>r&&t<(h-c)*(r-A)/(f-A)+c&&(i=-i)}return i}function iIe(n,e,t){var r=t[0]-n[0],i=t[1]-n[1];if(r===0&&i===0)return!0;var s=e[0]-n[0],a=e[1]-n[1];if(s===0&&a===0)return!1;var o=(r*s+i*a)/(s*s+a*a);return o<0||o>1?!1:o===0||o===1?!0:o*s===r&&o*a===i}function Z8(n){var e=44,t,r=n.getInt32(36,!0),i=n.getInt32(40,!0),s=new Array(r),a=new Array(i);for(t=0;t<r;++t,e+=4)s[t]=n.getInt32(e,!0);for(t=0;t<i;++t,e+=16)a[t]=[n.getFloat64(e,!0),n.getFloat64(e+8,!0)];return r===1?{type:"LineString",coordinates:a}:{type:"MultiLineString",coordinates:s.map(function(o,l){return a.slice(o,s[l+1])})}}function bU(n,e){var t=new Uint8Array(n.length+e.length);return t.set(n,0),t.set(e,n.length),t}function sIe(){var n=this;return++n._index,n._source.slice(12).then(function(e){if(e==null)return{done:!0,value:void 0};var t=Wh(e);function r(){return n._source.slice(4).then(function(s){return s==null?{done:!0,value:void 0}:(t=Wh(e=bU(e.slice(4),s)),t.getInt32(0,!1)!==n._index?r():i())})}function i(){var s=t.getInt32(4,!1)*2-4,a=t.getInt32(8,!0);return s<0||a&&a!==n._type?r():n._source.slice(s).then(function(o){return{done:!1,value:a?n._parse(Wh(bU(e.slice(8),o))):null}})}return i()})}var vU={0:eIe,1:X8,3:Z8,5:J8,8:q8,11:X8,13:Z8,15:J8,18:q8,21:X8,23:Z8,25:J8,28:q8};function aIe(n){return n=Fx(n),n.slice(100).then(function(e){return new hG(n,Wh(e))})}function hG(n,e){var t=e.getInt32(32,!0);if(!(t in vU))throw new Error("unsupported shape type: "+t);this._source=n,this._type=t,this._index=0,this._parse=vU[t],this.bbox=[e.getFloat64(36,!0),e.getFloat64(44,!0),e.getFloat64(52,!0),e.getFloat64(60,!0)]}var dG=hG.prototype;dG.read=sIe;dG.cancel=ZCe;function oIe(){}function lIe(){return Promise.all([this._dbf&&this._dbf.cancel(),this._shp.cancel()]).then(oIe)}function cIe(){var n=this;return Promise.all([n._dbf?n._dbf.read():{value:{}},n._shp.read()]).then(function(e){var t=e[0],r=e[1];return r.done?r:{done:!1,value:{type:"Feature",properties:t.value,geometry:r.value}}})}function AIe(n,e,t){return Promise.all([aIe(n),e&&JCe(e,t)]).then(function(r){return new gG(r[0],r[1])})}function gG(n,e){this._shp=n,this._dbf=e,this.bbox=n.bbox}var pG=gG.prototype;pG.read=cIe;pG.cancel=lIe;function uIe(n,e,t){return typeof e=="string"?(/\.dbf$/.test(e)||(e+=".dbf"),e=W8(e)):e instanceof ArrayBuffer||e instanceof Uint8Array?e=oy(e):e!=null&&(e=yU(e)),typeof n=="string"?(/\.shp$/.test(n)||(n+=".shp"),e===void 0&&(e=W8(n.substring(0,n.length-4)+".dbf").catch(function(){})),n=W8(n)):n instanceof ArrayBuffer||n instanceof Uint8Array?n=oy(n):n=yU(n),Promise.all([n,e]).then(function(r){var i=r[0],s=r[1],a="windows-1252";return t&&t.encoding!=null&&(a=t.encoding),AIe(i,s,s&&new TextDecoder(a))})}function wU(n,e,t){return uIe(n,e,t).then(function(r){var i=[],s={type:"FeatureCollection",features:i,bbox:r.bbox};return r.read().then(function a(o){return o.done?s:(i.push(o.value),r.read().then(a))})})}function fIe(n){n("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),n("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),n("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)n("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),n("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");n("EPSG:5041","+title=WGS 84 / UPS North (E,N) +proj=stere +lat_0=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),n("EPSG:5042","+title=WGS 84 / UPS South (E,N) +proj=stere +lat_0=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),n.WGS84=n["EPSG:4326"],n["EPSG:3785"]=n["EPSG:3857"],n.GOOGLE=n["EPSG:3857"],n["EPSG:900913"]=n["EPSG:3857"],n["EPSG:102113"]=n["EPSG:3857"]}var q1=1,X1=2,qh=3,hIe=4,pL=5,LU=6378137,dIe=6356752314e-3,xU=.0066943799901413165,l3=484813681109536e-20,Lt=Math.PI/2,gIe=.16666666666666666,pIe=.04722222222222222,_Ie=.022156084656084655,zt=1e-10,yi=.017453292519943295,Da=57.29577951308232,mr=Math.PI/4,np=Math.PI*2,Ui=3.14159265359,$a={};$a.greenwich=0;$a.lisbon=-9.131906111111;$a.paris=2.337229166667;$a.bogota=-74.080916666667;$a.madrid=-3.687938888889;$a.rome=12.452333333333;$a.bern=7.439583333333;$a.jakarta=106.807719444444;$a.ferro=-17.666666666667;$a.brussels=4.367975;$a.stockholm=18.058277777778;$a.athens=23.7163375;$a.oslo=10.722916666667;const mIe={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var RU=/[\s_\-\/\(\)]/g;function uu(n,e){if(n[e])return n[e];for(var t=Object.keys(n),r=e.toLowerCase().replace(RU,""),i=-1,s,a;++i<t.length;)if(s=t[i],a=s.toLowerCase().replace(RU,""),a===r)return n[s]}function _L(n){var e={},t=n.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var c=l.split("=");return c.push(!0),o[c[0].toLowerCase()]=c[1],o},{}),r,i,s,a={proj:"projName",datum:"datumCode",rf:function(o){e.rf=parseFloat(o)},lat_0:function(o){e.lat0=o*yi},lat_1:function(o){e.lat1=o*yi},lat_2:function(o){e.lat2=o*yi},lat_ts:function(o){e.lat_ts=o*yi},lon_0:function(o){e.long0=o*yi},lon_1:function(o){e.long1=o*yi},lon_2:function(o){e.long2=o*yi},alpha:function(o){e.alpha=parseFloat(o)*yi},gamma:function(o){e.rectified_grid_angle=parseFloat(o)*yi},lonc:function(o){e.longc=o*yi},x_0:function(o){e.x0=parseFloat(o)},y_0:function(o){e.y0=parseFloat(o)},k_0:function(o){e.k0=parseFloat(o)},k:function(o){e.k0=parseFloat(o)},a:function(o){e.a=parseFloat(o)},b:function(o){e.b=parseFloat(o)},r:function(o){e.a=e.b=parseFloat(o)},r_a:function(){e.R_A=!0},zone:function(o){e.zone=parseInt(o,10)},south:function(){e.utmSouth=!0},towgs84:function(o){e.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){e.to_meter=parseFloat(o)},units:function(o){e.units=o;var l=uu(mIe,o);l&&(e.to_meter=l.to_meter)},from_greenwich:function(o){e.from_greenwich=o*yi},pm:function(o){var l=uu($a,o);e.from_greenwich=(l||parseFloat(o))*yi},nadgrids:function(o){o==="@null"?e.datumCode="none":e.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(e.axis=o)},approx:function(){e.approx=!0},over:function(){e.over=!0}};for(r in t)i=t[r],r in a?(s=a[r],typeof s=="function"?s(i):e[s]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e.projStr=n,e}class _G{static getId(e){const t=e.find(r=>Array.isArray(r)&&r[0]==="ID");return t&&t.length>=3?{authority:t[1],code:parseInt(t[2],10)}:null}static convertUnit(e,t="unit"){if(!e||e.length<3)return{type:t,name:"unknown",conversion_factor:null};const r=e[1],i=parseFloat(e[2])||null,s=e.find(o=>Array.isArray(o)&&o[0]==="ID"),a=s?{authority:s[1],code:parseInt(s[2],10)}:null;return{type:t,name:r,conversion_factor:i,id:a}}static convertAxis(e){const t=e[1]||"Unknown";let r;const i=t.match(/^\((.)\)$/);if(i){const c=i[1].toUpperCase();if(c==="E")r="east";else if(c==="N")r="north";else if(c==="U")r="up";else throw new Error(`Unknown axis abbreviation: ${c}`)}else r=e[2]?e[2].toLowerCase():"unknown";const s=e.find(c=>Array.isArray(c)&&c[0]==="ORDER"),a=s?parseInt(s[1],10):null,o=e.find(c=>Array.isArray(c)&&(c[0]==="LENGTHUNIT"||c[0]==="ANGLEUNIT"||c[0]==="SCALEUNIT")),l=this.convertUnit(o);return{name:t,direction:r,unit:l,order:a}}static extractAxes(e){return e.filter(t=>Array.isArray(t)&&t[0]==="AXIS").map(t=>this.convertAxis(t)).sort((t,r)=>(t.order||0)-(r.order||0))}static convert(e,t={}){switch(e[0]){case"PROJCRS":t.type="ProjectedCRS",t.name=e[1],t.base_crs=e.find(h=>Array.isArray(h)&&h[0]==="BASEGEOGCRS")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="BASEGEOGCRS")):null,t.conversion=e.find(h=>Array.isArray(h)&&h[0]==="CONVERSION")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="CONVERSION")):null;const r=e.find(h=>Array.isArray(h)&&h[0]==="CS");r&&(t.coordinate_system={type:r[1],axis:this.extractAxes(e)});const i=e.find(h=>Array.isArray(h)&&h[0]==="LENGTHUNIT");if(i){const h=this.convertUnit(i);t.coordinate_system.unit=h}t.id=this.getId(e);break;case"BASEGEOGCRS":case"GEOGCRS":t.type="GeographicCRS",t.name=e[1];const s=e.find(h=>Array.isArray(h)&&(h[0]==="DATUM"||h[0]==="ENSEMBLE"));if(s){const h=this.convert(s);s[0]==="ENSEMBLE"?t.datum_ensemble=h:t.datum=h;const f=e.find(d=>Array.isArray(d)&&d[0]==="PRIMEM");f&&f[1]!=="Greenwich"&&(h.prime_meridian={name:f[1],longitude:parseFloat(f[2])})}t.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(e)},t.id=this.getId(e);break;case"DATUM":t.type="GeodeticReferenceFrame",t.name=e[1],t.ellipsoid=e.find(h=>Array.isArray(h)&&h[0]==="ELLIPSOID")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":t.type="DatumEnsemble",t.name=e[1],t.members=e.filter(h=>Array.isArray(h)&&h[0]==="MEMBER").map(h=>({type:"DatumEnsembleMember",name:h[1],id:this.getId(h)}));const a=e.find(h=>Array.isArray(h)&&h[0]==="ENSEMBLEACCURACY");a&&(t.accuracy=parseFloat(a[1]));const o=e.find(h=>Array.isArray(h)&&h[0]==="ELLIPSOID");o&&(t.ellipsoid=this.convert(o)),t.id=this.getId(e);break;case"ELLIPSOID":t.type="Ellipsoid",t.name=e[1],t.semi_major_axis=parseFloat(e[2]),t.inverse_flattening=parseFloat(e[3]),e.find(h=>Array.isArray(h)&&h[0]==="LENGTHUNIT")&&this.convert(e.find(h=>Array.isArray(h)&&h[0]==="LENGTHUNIT"),t);break;case"CONVERSION":t.type="Conversion",t.name=e[1],t.method=e.find(h=>Array.isArray(h)&&h[0]==="METHOD")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="METHOD")):null,t.parameters=e.filter(h=>Array.isArray(h)&&h[0]==="PARAMETER").map(h=>this.convert(h));break;case"METHOD":t.type="Method",t.name=e[1],t.id=this.getId(e);break;case"PARAMETER":t.type="Parameter",t.name=e[1],t.value=parseFloat(e[2]),t.unit=this.convertUnit(e.find(h=>Array.isArray(h)&&(h[0]==="LENGTHUNIT"||h[0]==="ANGLEUNIT"||h[0]==="SCALEUNIT"))),t.id=this.getId(e);break;case"BOUNDCRS":t.type="BoundCRS";const l=e.find(h=>Array.isArray(h)&&h[0]==="SOURCECRS");if(l){const h=l.find(f=>Array.isArray(f));t.source_crs=h?this.convert(h):null}const c=e.find(h=>Array.isArray(h)&&h[0]==="TARGETCRS");if(c){const h=c.find(f=>Array.isArray(f));t.target_crs=h?this.convert(h):null}const A=e.find(h=>Array.isArray(h)&&h[0]==="ABRIDGEDTRANSFORMATION");A?t.transformation=this.convert(A):t.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(t.type="Transformation",t.name=e[1],t.method=e.find(h=>Array.isArray(h)&&h[0]==="METHOD")?this.convert(e.find(h=>Array.isArray(h)&&h[0]==="METHOD")):null,t.parameters=e.filter(h=>Array.isArray(h)&&(h[0]==="PARAMETER"||h[0]==="PARAMETERFILE")).map(h=>{if(h[0]==="PARAMETER")return this.convert(h);if(h[0]==="PARAMETERFILE")return{name:h[1],value:h[2],id:{authority:"EPSG",code:8656}}}),t.parameters.length===7){const h=t.parameters[6];h.name==="Scale difference"&&(h.value=Math.round((h.value-1)*1e12)/1e6)}t.id=this.getId(e);break;case"AXIS":t.coordinate_system||(t.coordinate_system={type:"unspecified",axis:[]}),t.coordinate_system.axis.push(this.convertAxis(e));break;case"LENGTHUNIT":const u=this.convertUnit(e,"LinearUnit");t.coordinate_system&&t.coordinate_system.axis&&t.coordinate_system.axis.forEach(h=>{h.unit||(h.unit=u)}),u.conversion_factor&&u.conversion_factor!==1&&t.semi_major_axis&&(t.semi_major_axis={value:t.semi_major_axis,unit:u});break;default:t.keyword=e[0];break}return t}}class yIe extends _G{static convert(e,t={}){return super.convert(e,t),t.coordinate_system&&t.coordinate_system.subtype==="Cartesian"&&delete t.coordinate_system,t.usage&&delete t.usage,t}}class bIe extends _G{static convert(e,t={}){super.convert(e,t);const r=e.find(s=>Array.isArray(s)&&s[0]==="CS");r&&(t.coordinate_system={subtype:r[1],axis:this.extractAxes(e)});const i=e.find(s=>Array.isArray(s)&&s[0]==="USAGE");if(i){const s=i.find(l=>Array.isArray(l)&&l[0]==="SCOPE"),a=i.find(l=>Array.isArray(l)&&l[0]==="AREA"),o=i.find(l=>Array.isArray(l)&&l[0]==="BBOX");t.usage={},s&&(t.usage.scope=s[1]),a&&(t.usage.area=a[1]),o&&(t.usage.bbox=o.slice(1))}return t}}function vIe(n){return n.find(e=>Array.isArray(e)&&e[0]==="USAGE")?"2019":(n.find(e=>Array.isArray(e)&&e[0]==="CS")||n[0]==="BOUNDCRS"||n[0]==="PROJCRS"||n[0]==="GEOGCRS","2015")}function wIe(n){return(vIe(n)==="2019"?bIe:yIe).convert(n)}function LIe(n){const e=n.toUpperCase();return e.includes("PROJCRS")||e.includes("GEOGCRS")||e.includes("BOUNDCRS")||e.includes("VERTCRS")||e.includes("LENGTHUNIT")||e.includes("ANGLEUNIT")||e.includes("SCALEUNIT")?"WKT2":(e.includes("PROJCS")||e.includes("GEOGCS")||e.includes("LOCAL_CS")||e.includes("VERT_CS")||e.includes("UNIT"),"WKT1")}var rp=1,mG=2,yG=3,ly=4,bG=5,MB=-1,xIe=/\s/,RIe=/[A-Za-z]/,BIe=/[A-Za-z84_]/,S6=/[,\]]/,vG=/[\d\.E\-\+]/;function W0(n){if(typeof n!="string")throw new Error("not a string");this.text=n.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=rp}W0.prototype.readCharicter=function(){var n=this.text[this.place++];if(this.state!==ly)for(;xIe.test(n);){if(this.place>=this.text.length)return;n=this.text[this.place++]}switch(this.state){case rp:return this.neutral(n);case mG:return this.keyword(n);case ly:return this.quoted(n);case bG:return this.afterquote(n);case yG:return this.number(n);case MB:return}};W0.prototype.afterquote=function(n){if(n==='"'){this.word+='"',this.state=ly;return}if(S6.test(n)){this.word=this.word.trim(),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in afterquote yet, index '+this.place)};W0.prototype.afterItem=function(n){if(n===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=rp;return}if(n==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=rp,this.currentObject=this.stack.pop(),this.currentObject||(this.state=MB);return}};W0.prototype.number=function(n){if(vG.test(n)){this.word+=n;return}if(S6.test(n)){this.word=parseFloat(this.word),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in number yet, index '+this.place)};W0.prototype.quoted=function(n){if(n==='"'){this.state=bG;return}this.word+=n};W0.prototype.keyword=function(n){if(BIe.test(n)){this.word+=n;return}if(n==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=rp;return}if(S6.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in keyword yet, index '+this.place)};W0.prototype.neutral=function(n){if(RIe.test(n)){this.word=n,this.state=mG;return}if(n==='"'){this.word="",this.state=ly;return}if(vG.test(n)){this.word=n,this.state=yG;return}if(S6.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in neutral yet, index '+this.place)};W0.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===MB)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function EIe(n){var e=new W0(n);return e.output()}function ew(n,e,t){Array.isArray(e)&&(t.unshift(e),e=null);var r=e?{}:n,i=t.reduce(function(s,a){return yh(a,s),s},r);e&&(n[e]=i)}function yh(n,e){if(!Array.isArray(n)){e[n]=!0;return}var t=n.shift();if(t==="PARAMETER"&&(t=n.shift()),n.length===1){if(Array.isArray(n[0])){e[t]={},yh(n[0],e[t]);return}e[t]=n[0];return}if(!n.length){e[t]=!0;return}if(t==="TOWGS84"){e[t]=n;return}if(t==="AXIS"){t in e||(e[t]=[]),e[t].push(n);return}Array.isArray(t)||(e[t]={});var r;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[t]={name:n[0].toLowerCase(),convert:n[1]},n.length===3&&yh(n[2],e[t]);return;case"SPHEROID":case"ELLIPSOID":e[t]={name:n[0],a:n[1],rf:n[2]},n.length===4&&yh(n[3],e[t]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":n[0]=["name",n[0]],ew(e,t,n);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":n[0]=["name",n[0]],ew(e,t,n),e[t].type=t;return;default:for(r=-1;++r<n.length;)if(!Array.isArray(n[r]))return yh(n,e[t]);return ew(e,t,n)}}var CIe=.017453292519943295;function Ll(n){return n*CIe}function wG(n){const e=(n.projName||"").toLowerCase().replace(/_/g," ");!n.long0&&n.longc&&(e==="albers conic equal area"||e==="lambert azimuthal equal area")&&(n.long0=n.longc),!n.lat_ts&&n.lat1&&(e==="stereographic south pole"||e==="polar stereographic (variant b)")?(n.lat0=Ll(n.lat1>0?90:-90),n.lat_ts=n.lat1,delete n.lat1):!n.lat_ts&&n.lat0&&(e==="polar stereographic"||e==="polar stereographic (variant a)")&&(n.lat_ts=n.lat0,n.lat0=Ll(n.lat0>0?90:-90),delete n.lat1)}function BU(n){let e={units:null,to_meter:void 0};return typeof n=="string"?(e.units=n.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.units==="meter"&&(e.to_meter=1)):n&&n.name&&(e.units=n.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.to_meter=n.conversion_factor),e}function EU(n){return typeof n=="object"?n.value*n.unit.conversion_factor:n}function CU(n,e){n.ellipsoid.radius?(e.a=n.ellipsoid.radius,e.rf=0):(e.a=EU(n.ellipsoid.semi_major_axis),n.ellipsoid.inverse_flattening!==void 0?e.rf=n.ellipsoid.inverse_flattening:n.ellipsoid.semi_major_axis!==void 0&&n.ellipsoid.semi_minor_axis!==void 0&&(e.rf=e.a/(e.a-EU(n.ellipsoid.semi_minor_axis))))}function cy(n,e={}){return!n||typeof n!="object"?n:n.type==="BoundCRS"?(cy(n.source_crs,e),n.transformation&&(n.transformation.method&&n.transformation.method.name==="NTv2"?e.nadgrids=n.transformation.parameters[0].value:e.datum_params=n.transformation.parameters.map(t=>t.value)),e):(Object.keys(n).forEach(t=>{const r=n[t];if(r!==null)switch(t){case"name":if(e.srsCode)break;e.name=r,e.srsCode=r;break;case"type":r==="GeographicCRS"?e.projName="longlat":r==="ProjectedCRS"&&n.conversion&&n.conversion.method&&(e.projName=n.conversion.method.name);break;case"datum":case"datum_ensemble":r.ellipsoid&&(e.ellps=r.ellipsoid.name,CU(r,e)),r.prime_meridian&&(e.from_greenwich=r.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":e.ellps=r.name,CU(r,e);break;case"prime_meridian":e.long0=(r.longitude||0)*Math.PI/180;break;case"coordinate_system":if(r.axis){if(e.axis=r.axis.map(i=>{const s=i.direction;if(s==="east")return"e";if(s==="north")return"n";if(s==="west")return"w";if(s==="south")return"s";throw new Error(`Unknown axis direction: ${s}`)}).join("")+"u",r.unit){const{units:i,to_meter:s}=BU(r.unit);e.units=i,e.to_meter=s}else if(r.axis[0]&&r.axis[0].unit){const{units:i,to_meter:s}=BU(r.axis[0].unit);e.units=i,e.to_meter=s}}break;case"id":r.authority&&r.code&&(e.title=r.authority+":"+r.code);break;case"conversion":r.method&&r.method.name&&(e.projName=r.method.name),r.parameters&&r.parameters.forEach(i=>{const s=i.name.toLowerCase().replace(/\s+/g,"_"),a=i.value;i.unit&&i.unit.conversion_factor?e[s]=a*i.unit.conversion_factor:i.unit==="degree"?e[s]=a*Math.PI/180:e[s]=a});break;case"unit":r.name&&(e.units=r.name.toLowerCase(),e.units==="metre"&&(e.units="meter")),r.conversion_factor&&(e.to_meter=r.conversion_factor);break;case"base_crs":cy(r,e),e.datumCode=r.id?r.id.authority+"_"+r.id.code:r.name;break}}),e.latitude_of_false_origin!==void 0&&(e.lat0=e.latitude_of_false_origin),e.longitude_of_false_origin!==void 0&&(e.long0=e.longitude_of_false_origin),e.latitude_of_standard_parallel!==void 0&&(e.lat0=e.latitude_of_standard_parallel,e.lat1=e.latitude_of_standard_parallel),e.latitude_of_1st_standard_parallel!==void 0&&(e.lat1=e.latitude_of_1st_standard_parallel),e.latitude_of_2nd_standard_parallel!==void 0&&(e.lat2=e.latitude_of_2nd_standard_parallel),e.latitude_of_projection_centre!==void 0&&(e.lat0=e.latitude_of_projection_centre),e.longitude_of_projection_centre!==void 0&&(e.longc=e.longitude_of_projection_centre),e.easting_at_false_origin!==void 0&&(e.x0=e.easting_at_false_origin),e.northing_at_false_origin!==void 0&&(e.y0=e.northing_at_false_origin),e.latitude_of_natural_origin!==void 0&&(e.lat0=e.latitude_of_natural_origin),e.longitude_of_natural_origin!==void 0&&(e.long0=e.longitude_of_natural_origin),e.longitude_of_origin!==void 0&&(e.long0=e.longitude_of_origin),e.false_easting!==void 0&&(e.x0=e.false_easting),e.easting_at_projection_centre&&(e.x0=e.easting_at_projection_centre),e.false_northing!==void 0&&(e.y0=e.false_northing),e.northing_at_projection_centre&&(e.y0=e.northing_at_projection_centre),e.standard_parallel_1!==void 0&&(e.lat1=e.standard_parallel_1),e.standard_parallel_2!==void 0&&(e.lat2=e.standard_parallel_2),e.scale_factor_at_natural_origin!==void 0&&(e.k0=e.scale_factor_at_natural_origin),e.scale_factor_at_projection_centre!==void 0&&(e.k0=e.scale_factor_at_projection_centre),e.scale_factor_on_pseudo_standard_parallel!==void 0&&(e.k0=e.scale_factor_on_pseudo_standard_parallel),e.azimuth!==void 0&&(e.alpha=e.azimuth),e.azimuth_at_projection_centre!==void 0&&(e.alpha=e.azimuth_at_projection_centre),e.angle_from_rectified_to_skew_grid&&(e.rectified_grid_angle=e.angle_from_rectified_to_skew_grid),wG(e),e)}var IIe=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function TIe(n,e){var t=e[0],r=e[1];!(t in n)&&r in n&&(n[t]=n[r],e.length===3&&(n[t]=e[2](n[t])))}function LG(n){for(var e=Object.keys(n),t=0,r=e.length;t<r;++t){var i=e[t];IIe.indexOf(i)!==-1&&MIe(n[i]),typeof n[i]=="object"&&LG(n[i])}}function MIe(n){if(n.AUTHORITY){var e=Object.keys(n.AUTHORITY)[0];e&&e in n.AUTHORITY&&(n.title=e+":"+n.AUTHORITY[e])}if(n.type==="GEOGCS"?n.projName="longlat":n.type==="LOCAL_CS"?(n.projName="identity",n.local=!0):typeof n.PROJECTION=="object"?n.projName=Object.keys(n.PROJECTION)[0]:n.projName=n.PROJECTION,n.AXIS){for(var t="",r=0,i=n.AXIS.length;r<i;++r){var s=[n.AXIS[r][0].toLowerCase(),n.AXIS[r][1].toLowerCase()];s[0].indexOf("north")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="north"?t+="n":s[0].indexOf("south")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="south"?t+="s":s[0].indexOf("east")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="east"?t+="e":(s[0].indexOf("west")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(n.axis=t)}n.UNIT&&(n.units=n.UNIT.name.toLowerCase(),n.units==="metre"&&(n.units="meter"),n.UNIT.convert&&(n.type==="GEOGCS"?n.DATUM&&n.DATUM.SPHEROID&&(n.to_meter=n.UNIT.convert*n.DATUM.SPHEROID.a):n.to_meter=n.UNIT.convert));var a=n.GEOGCS;n.type==="GEOGCS"&&(a=n),a&&(a.DATUM?n.datumCode=a.DATUM.name.toLowerCase():n.datumCode=a.name.toLowerCase(),n.datumCode.slice(0,2)==="d_"&&(n.datumCode=n.datumCode.slice(2)),n.datumCode==="new_zealand_1949"&&(n.datumCode="nzgd49"),(n.datumCode==="wgs_1984"||n.datumCode==="world_geodetic_system_1984")&&(n.PROJECTION==="Mercator_Auxiliary_Sphere"&&(n.sphere=!0),n.datumCode="wgs84"),n.datumCode==="belge_1972"&&(n.datumCode="rnb72"),a.DATUM&&a.DATUM.SPHEROID&&(n.ellps=a.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),n.ellps.toLowerCase().slice(0,13)==="international"&&(n.ellps="intl"),n.a=a.DATUM.SPHEROID.a,n.rf=parseFloat(a.DATUM.SPHEROID.rf,10)),a.DATUM&&a.DATUM.TOWGS84&&(n.datum_params=a.DATUM.TOWGS84),~n.datumCode.indexOf("osgb_1936")&&(n.datumCode="osgb36"),~n.datumCode.indexOf("osni_1952")&&(n.datumCode="osni52"),(~n.datumCode.indexOf("tm65")||~n.datumCode.indexOf("geodetic_datum_of_1965"))&&(n.datumCode="ire65"),n.datumCode==="ch1903+"&&(n.datumCode="ch1903"),~n.datumCode.indexOf("israel")&&(n.datumCode="isr93")),n.b&&!isFinite(n.b)&&(n.b=n.a),n.rectified_grid_angle&&(n.rectified_grid_angle=Ll(n.rectified_grid_angle));function o(A){var u=n.to_meter||1;return A*u}var l=function(A){return TIe(n,A)},c=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Ll],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Ll],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Ll],["lat0","latitude_of_origin",Ll],["lat0","standard_parallel_1",Ll],["lat1","standard_parallel_1",Ll],["lat2","standard_parallel_2",Ll],["azimuth","Azimuth"],["alpha","azimuth",Ll],["srsCode","name"]];c.forEach(l),wG(n)}function Ay(n){if(typeof n=="object")return cy(n);const e=LIe(n);var t=EIe(n);if(e==="WKT2"){const s=wIe(t);return cy(s)}var r=t[0],i={};return yh(t,i),LG(i),i[r]}function Ns(n){var e=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?Ns[n]=_L(arguments[1]):Ns[n]=Ay(arguments[1]):t&&typeof t=="object"&&!("projName"in t)?Ns[n]=Ay(arguments[1]):(Ns[n]=t,t||delete Ns[n])}else if(arguments.length===1){if(Array.isArray(n))return n.map(function(r){return Array.isArray(r)?Ns.apply(e,r):Ns(r)});if(typeof n=="string"){if(n in Ns)return Ns[n]}else"EPSG"in n?Ns["EPSG:"+n.EPSG]=n:"ESRI"in n?Ns["ESRI:"+n.ESRI]=n:"IAU2000"in n?Ns["IAU2000:"+n.IAU2000]=n:console.log(n);return}}fIe(Ns);function SIe(n){return typeof n=="string"}function FIe(n){return n in Ns}function UIe(n){return n.indexOf("+")!==0&&n.indexOf("[")!==-1||typeof n=="object"&&!("srsCode"in n)}var NIe=["3857","900913","3785","102113"];function kIe(n){var e=uu(n,"authority");if(e){var t=uu(e,"epsg");return t&&NIe.indexOf(t)>-1}}function PIe(n){var e=uu(n,"extension");if(e)return uu(e,"proj4")}function DIe(n){return n[0]==="+"}function OIe(n){if(SIe(n)){if(FIe(n))return Ns[n];if(UIe(n)){var e=Ay(n);if(kIe(e))return Ns["EPSG:3857"];var t=PIe(e);return t?_L(t):e}if(DIe(n))return _L(n)}else return"projName"in n?n:Ay(n)}function IU(n,e){n=n||{};var t,r;if(!e)return n;for(r in e)t=e[r],t!==void 0&&(n[r]=t);return n}function Fc(n,e,t){var r=n*e;return t/Math.sqrt(1-r*r)}function Tp(n){return n<0?-1:1}function Gt(n,e){return e||Math.abs(n)<=Ui?n:n-Tp(n)*np}function jl(n,e,t){var r=n*t,i=.5*n;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(Lt-e))/r}function ip(n,e){for(var t=.5*n,r,i,s=Lt-2*Math.atan(e),a=0;a<=15;a++)if(r=n*Math.sin(s),i=Lt-2*Math.atan(e*Math.pow((1-r)/(1+r),t))-s,s+=i,Math.abs(i)<=1e-10)return s;return-9999}function zIe(){var n=this.b/this.a;this.es=1-n*n,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Fc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function HIe(n){var e=n.x,t=n.y;if(t*Da>90&&t*Da<-90&&e*Da>180&&e*Da<-180)return null;var r,i;if(Math.abs(Math.abs(t)-Lt)<=zt)return null;if(this.sphere)r=this.x0+this.a*this.k0*Gt(e-this.long0,this.over),i=this.y0+this.a*this.k0*Math.log(Math.tan(mr+.5*t));else{var s=Math.sin(t),a=jl(this.e,t,s);r=this.x0+this.a*this.k0*Gt(e-this.long0,this.over),i=this.y0-this.a*this.k0*Math.log(a)}return n.x=r,n.y=i,n}function QIe(n){var e=n.x-this.x0,t=n.y-this.y0,r,i;if(this.sphere)i=Lt-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var s=Math.exp(-t/(this.a*this.k0));if(i=ip(this.e,s),i===-9999)return null}return r=Gt(this.long0+e/(this.a*this.k0),this.over),n.x=r,n.y=i,n}var jIe=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const YIe={init:zIe,forward:HIe,inverse:QIe,names:jIe};function GIe(){}function TU(n){return n}var xG=["longlat","identity"];const VIe={init:GIe,forward:TU,inverse:TU,names:xG};var KIe=[YIe,VIe],Zu={},bh=[];function RG(n,e){var t=bh.length;return n.names?(bh[t]=n,n.names.forEach(function(r){Zu[r.toLowerCase()]=t}),this):(console.log(e),!0)}function BG(n){return n.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function $Ie(n){if(!n)return!1;var e=n.toLowerCase();if(typeof Zu[e]<"u"&&bh[Zu[e]]||(e=BG(e),e in Zu&&bh[Zu[e]]))return bh[Zu[e]]}function WIe(){KIe.forEach(RG)}const qIe={start:WIe,add:RG,get:$Ie};var EG={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const XIe=EG.WGS84;function JIe(n,e,t,r){var i=n*n,s=e*e,a=(i-s)/i,o=0;r?(n*=1-a*(gIe+a*(pIe+a*_Ie)),i=n*n,a=0):o=Math.sqrt(a);var l=(i-s)/s;return{es:a,e:o,ep2:l}}function ZIe(n,e,t,r,i){if(!n){var s=uu(EG,r);s||(s=XIe),n=s.a,e=s.b,t=s.rf}return t&&!e&&(e=(1-1/t)*n),(t===0||Math.abs(n-e)<zt)&&(i=!0,e=n),{a:n,b:e,rf:t,sphere:i}}var Pm={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var eTe in Pm){var tw=Pm[eTe];tw.datumName&&(Pm[tw.datumName]=tw)}function tTe(n,e,t,r,i,s,a){var o={};return n===void 0||n==="none"?o.datum_type=pL:o.datum_type=hIe,e&&(o.datum_params=e.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=q1),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=X1,o.datum_params[3]*=l3,o.datum_params[4]*=l3,o.datum_params[5]*=l3,o.datum_params[6]=o.datum_params[6]/1e6+1)),a&&(o.datum_type=qh,o.grids=a),o.a=t,o.b=r,o.es=i,o.ep2=s,o}var SB={};function nTe(n,e,t){return e instanceof ArrayBuffer?rTe(n,e,t):{ready:iTe(n,e)}}function rTe(n,e,t){var r=!0;t!==void 0&&t.includeErrorFields===!1&&(r=!1);var i=new DataView(e),s=oTe(i),a=lTe(i,s),o=cTe(i,a,s,r),l={header:a,subgrids:o};return SB[n]=l,l}async function iTe(n,e){for(var t=[],r=await e.getImageCount(),i=r-1;i>=0;i--){var s=await e.getImage(i),a=await s.readRasters(),o=a,l=[s.getWidth(),s.getHeight()],c=s.getBoundingBox().map(MU),A=[s.fileDirectory.ModelPixelScale[0],s.fileDirectory.ModelPixelScale[1]].map(MU),u=c[0]+(l[0]-1)*A[0],h=c[3]-(l[1]-1)*A[1],f=o[0],d=o[1],g=[];for(let y=l[1]-1;y>=0;y--)for(let b=l[0]-1;b>=0;b--){var _=y*l[0]+b;g.push([-jA(d[_]),jA(f[_])])}t.push({del:A,lim:l,ll:[-u,h],cvs:g})}var m={header:{nSubgrids:r},subgrids:t};return SB[n]=m,m}function sTe(n){if(n===void 0)return null;var e=n.split(",");return e.map(aTe)}function aTe(n){if(n.length===0)return null;var e=n[0]==="@";return e&&(n=n.slice(1)),n==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:n,mandatory:!e,grid:SB[n]||null,isNull:!1}}function MU(n){return n*Math.PI/180}function jA(n){return n/3600*Math.PI/180}function oTe(n){var e=n.getInt32(8,!1);return e===11?!1:(e=n.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function lTe(n,e){return{nFields:n.getInt32(8,e),nSubgridFields:n.getInt32(24,e),nSubgrids:n.getInt32(40,e),shiftType:mL(n,56,64).trim(),fromSemiMajorAxis:n.getFloat64(120,e),fromSemiMinorAxis:n.getFloat64(136,e),toSemiMajorAxis:n.getFloat64(152,e),toSemiMinorAxis:n.getFloat64(168,e)}}function mL(n,e,t){return String.fromCharCode.apply(null,new Uint8Array(n.buffer.slice(e,t)))}function cTe(n,e,t,r){for(var i=176,s=[],a=0;a<e.nSubgrids;a++){var o=uTe(n,i,t),l=fTe(n,i,o,t,r),c=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),A=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);s.push({ll:[jA(o.lowerLongitude),jA(o.lowerLatitude)],del:[jA(o.longitudeInterval),jA(o.latitudeInterval)],lim:[c,A],count:o.gridNodeCount,cvs:ATe(l)});var u=16;r===!1&&(u=8),i+=176+o.gridNodeCount*u}return s}function ATe(n){return n.map(function(e){return[jA(e.longitudeShift),jA(e.latitudeShift)]})}function uTe(n,e,t){return{name:mL(n,e+8,e+16).trim(),parent:mL(n,e+24,e+24+8).trim(),lowerLatitude:n.getFloat64(e+72,t),upperLatitude:n.getFloat64(e+88,t),lowerLongitude:n.getFloat64(e+104,t),upperLongitude:n.getFloat64(e+120,t),latitudeInterval:n.getFloat64(e+136,t),longitudeInterval:n.getFloat64(e+152,t),gridNodeCount:n.getInt32(e+168,t)}}function fTe(n,e,t,r,i){var s=e+176,a=16;i===!1&&(a=8);for(var o=[],l=0;l<t.gridNodeCount;l++){var c={latitudeShift:n.getFloat32(s+l*a,r),longitudeShift:n.getFloat32(s+l*a+4,r)};i!==!1&&(c.latitudeAccuracy=n.getFloat32(s+l*a+8,r),c.longitudeAccuracy=n.getFloat32(s+l*a+12,r)),o.push(c)}return o}function rl(n,e){if(!(this instanceof rl))return new rl(n);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,e=e||function(c){if(c)throw c};var t=OIe(n);if(typeof t!="object"){e("Could not parse to valid json: "+n);return}var r=rl.projections.get(t.projName);if(!r){e("Could not get projection name from: "+n);return}if(t.datumCode&&t.datumCode!=="none"){var i=uu(Pm,t.datumCode);i&&(t.datum_params=t.datum_params||(i.towgs84?i.towgs84.split(","):null),t.ellps=i.ellipse,t.datumName=i.datumName?i.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var s=ZIe(t.a,t.b,t.rf,t.ellps,t.sphere),a=JIe(s.a,s.b,s.rf,t.R_A),o=sTe(t.nadgrids),l=t.datum||tTe(t.datumCode,t.datum_params,s.a,s.b,a.es,a.ep2,o);IU(this,t),IU(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,"init"in this&&typeof this.init=="function"&&this.init(),e(null,this)}rl.projections=qIe;rl.projections.start();function hTe(n,e){return n.datum_type!==e.datum_type||n.a!==e.a||Math.abs(n.es-e.es)>5e-11?!1:n.datum_type===q1?n.datum_params[0]===e.datum_params[0]&&n.datum_params[1]===e.datum_params[1]&&n.datum_params[2]===e.datum_params[2]:n.datum_type===X1?n.datum_params[0]===e.datum_params[0]&&n.datum_params[1]===e.datum_params[1]&&n.datum_params[2]===e.datum_params[2]&&n.datum_params[3]===e.datum_params[3]&&n.datum_params[4]===e.datum_params[4]&&n.datum_params[5]===e.datum_params[5]&&n.datum_params[6]===e.datum_params[6]:!0}function CG(n,e,t){var r=n.x,i=n.y,s=n.z?n.z:0,a,o,l,c;if(i<-Lt&&i>-1.001*Lt)i=-Lt;else if(i>Lt&&i<1.001*Lt)i=Lt;else{if(i<-Lt)return{x:-1/0,y:-1/0,z:n.z};if(i>Lt)return{x:1/0,y:1/0,z:n.z}}return r>Math.PI&&(r-=2*Math.PI),o=Math.sin(i),c=Math.cos(i),l=o*o,a=t/Math.sqrt(1-e*l),{x:(a+s)*c*Math.cos(r),y:(a+s)*c*Math.sin(r),z:(a*(1-e)+s)*o}}function IG(n,e,t,r){var i=1e-12,s=i*i,a=30,o,l,c,A,u,h,f,d,g,_,m,y,b,v=n.x,B=n.y,C=n.z?n.z:0,I,R,w;if(o=Math.sqrt(v*v+B*B),l=Math.sqrt(v*v+B*B+C*C),o/t<i){if(I=0,l/t<i)return R=Lt,w=-r,{x:n.x,y:n.y,z:n.z}}else I=Math.atan2(B,v);c=C/l,A=o/l,u=1/Math.sqrt(1-e*(2-e)*A*A),d=A*(1-e)*u,g=c*u,b=0;do b++,f=t/Math.sqrt(1-e*g*g),w=o*d+C*g-f*(1-e*g*g),h=e*f/(f+w),u=1/Math.sqrt(1-h*(2-h)*A*A),_=A*(1-h)*u,m=c*u,y=m*d-_*g,d=_,g=m;while(y*y>s&&b<a);return R=Math.atan(m/Math.abs(_)),{x:I,y:R,z:w}}function dTe(n,e,t){if(e===q1)return{x:n.x+t[0],y:n.y+t[1],z:n.z+t[2]};if(e===X1){var r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6];return{x:c*(n.x-l*n.y+o*n.z)+r,y:c*(l*n.x+n.y-a*n.z)+i,z:c*(-o*n.x+a*n.y+n.z)+s}}}function gTe(n,e,t){if(e===q1)return{x:n.x-t[0],y:n.y-t[1],z:n.z-t[2]};if(e===X1){var r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],A=(n.x-r)/c,u=(n.y-i)/c,h=(n.z-s)/c;return{x:A+l*u-o*h,y:-l*A+u+a*h,z:o*A-a*u+h}}}function P4(n){return n===q1||n===X1}function pTe(n,e,t){if(hTe(n,e)||n.datum_type===pL||e.datum_type===pL)return t;var r=n.a,i=n.es;if(n.datum_type===qh){var s=SU(n,!1,t);if(s!==0)return;r=LU,i=xU}var a=e.a,o=e.b,l=e.es;if(e.datum_type===qh&&(a=LU,o=dIe,l=xU),i===l&&r===a&&!P4(n.datum_type)&&!P4(e.datum_type))return t;if(t=CG(t,i,r),P4(n.datum_type)&&(t=dTe(t,n.datum_type,n.datum_params)),P4(e.datum_type)&&(t=gTe(t,e.datum_type,e.datum_params)),t=IG(t,l,a,o),e.datum_type===qh){var c=SU(e,!0,t);if(c!==0)return}return t}function SU(n,e,t){if(n.grids===null||n.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-t.x,y:t.y},i={x:Number.NaN,y:Number.NaN},s=[];e:for(var a=0;a<n.grids.length;a++){var o=n.grids[a];if(s.push(o.name),o.isNull){i=r;break}if(o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var l=o.grid.subgrids,c=0,A=l.length;c<A;c++){var u=l[c],h=(Math.abs(u.del[1])+Math.abs(u.del[0]))/1e4,f=u.ll[0]-h,d=u.ll[1]-h,g=u.ll[0]+(u.lim[0]-1)*u.del[0]+h,_=u.ll[1]+(u.lim[1]-1)*u.del[1]+h;if(!(d>r.y||f>r.x||_<r.y||g<r.x)&&(i=_Te(r,e,u),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*Da+" "+r.y*Da+" tried: '"+s+"'"),-1):(t.x=-i.x,t.y=i.y,0)}function _Te(n,e,t){var r={x:Number.NaN,y:Number.NaN};if(isNaN(n.x))return r;var i={x:n.x,y:n.y};i.x-=t.ll[0],i.y-=t.ll[1],i.x=Gt(i.x-Math.PI)+Math.PI;var s=FU(i,t);if(e){if(isNaN(s.x))return r;s.x=i.x-s.x,s.y=i.y-s.y;var a=9,o=1e-12,l,c;do{if(c=FU(s,t),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(c.x+s.x),y:i.y-(c.y+s.y)},s.x+=l.x,s.y+=l.y}while(a--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=Gt(s.x+t.ll[0]),r.y=s.y+t.ll[1]}else isNaN(s.x)||(r.x=n.x+s.x,r.y=n.y+s.y);return r}function FU(n,e){var t={x:n.x/e.del[0],y:n.y/e.del[1]},r={x:Math.floor(t.x),y:Math.floor(t.y)},i={x:t.x-1*r.x,y:t.y-1*r.y},s={x:Number.NaN,y:Number.NaN},a;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return s;a=r.y*e.lim[0]+r.x;var o={x:e.cvs[a][0],y:e.cvs[a][1]};a++;var l={x:e.cvs[a][0],y:e.cvs[a][1]};a+=e.lim[0];var c={x:e.cvs[a][0],y:e.cvs[a][1]};a--;var A={x:e.cvs[a][0],y:e.cvs[a][1]},u=i.x*i.y,h=i.x*(1-i.y),f=(1-i.x)*(1-i.y),d=(1-i.x)*i.y;return s.x=f*o.x+h*l.x+d*A.x+u*c.x,s.y=f*o.y+h*l.y+d*A.y+u*c.y,s}function UU(n,e,t){var r=t.x,i=t.y,s=t.z||0,a,o,l,c={};for(l=0;l<3;l++)if(!(e&&l===2&&t.z===void 0))switch(l===0?(a=r,"ew".indexOf(n.axis[l])!==-1?o="x":o="y"):l===1?(a=i,"ns".indexOf(n.axis[l])!==-1?o="y":o="x"):(a=s,o="z"),n.axis[l]){case"e":c[o]=a;break;case"w":c[o]=-a;break;case"n":c[o]=a;break;case"s":c[o]=-a;break;case"u":t[o]!==void 0&&(c.z=a);break;case"d":t[o]!==void 0&&(c.z=-a);break;default:return null}return c}function TG(n){var e={x:n[0],y:n[1]};return n.length>2&&(e.z=n[2]),n.length>3&&(e.m=n[3]),e}function mTe(n){NU(n.x),NU(n.y)}function NU(n){if(typeof Number.isFinite=="function"){if(Number.isFinite(n))return;throw new TypeError("coordinates must be finite numbers")}if(typeof n!="number"||n!==n||!isFinite(n))throw new TypeError("coordinates must be finite numbers")}function yTe(n,e){return(n.datum.datum_type===q1||n.datum.datum_type===X1||n.datum.datum_type===qh)&&e.datumCode!=="WGS84"||(e.datum.datum_type===q1||e.datum.datum_type===X1||e.datum.datum_type===qh)&&n.datumCode!=="WGS84"}function uy(n,e,t,r){var i;Array.isArray(t)?t=TG(t):t={x:t.x,y:t.y,z:t.z,m:t.m};var s=t.z!==void 0;if(mTe(t),n.datum&&e.datum&&yTe(n,e)&&(i=new rl("WGS84"),t=uy(n,i,t,r),n=i),r&&n.axis!=="enu"&&(t=UU(n,!1,t)),n.projName==="longlat")t={x:t.x*yi,y:t.y*yi,z:t.z||0};else if(n.to_meter&&(t={x:t.x*n.to_meter,y:t.y*n.to_meter,z:t.z||0}),t=n.inverse(t),!t)return;if(n.from_greenwich&&(t.x+=n.from_greenwich),t=pTe(n.datum,e.datum,t),!!t)return t=t,e.from_greenwich&&(t={x:t.x-e.from_greenwich,y:t.y,z:t.z||0}),e.projName==="longlat"?t={x:t.x*Da,y:t.y*Da,z:t.z||0}:(t=e.forward(t),e.to_meter&&(t={x:t.x/e.to_meter,y:t.y/e.to_meter,z:t.z||0})),r&&e.axis!=="enu"?UU(e,!0,t):(t&&!s&&delete t.z,t)}var kU=rl("WGS84");function nw(n,e,t,r){var i,s,a;return Array.isArray(t)?(i=uy(n,e,t,r)||{x:NaN,y:NaN},t.length>2?typeof n.name<"u"&&n.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(t.slice(3)):[i.x,i.y,t[2]].concat(t.slice(3)):[i.x,i.y].concat(t.slice(2)):[i.x,i.y]):(s=uy(n,e,t,r),a=Object.keys(t),a.length===2||a.forEach(function(o){if(typeof n.name<"u"&&n.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;s[o]=t[o]}),s)}function D4(n){return n instanceof rl?n:typeof n=="object"&&"oProj"in n?n.oProj:rl(n)}function bTe(n,e,t){var r,i,s=!1,a;return typeof e>"u"?(i=D4(n),r=kU,s=!0):(typeof e.x<"u"||Array.isArray(e))&&(t=e,i=D4(n),r=kU,s=!0),r||(r=D4(n)),i||(i=D4(e)),t?nw(r,i,t):(a={forward:function(o,l){return nw(r,i,o,l)},inverse:function(o,l){return nw(i,r,o,l)}},s&&(a.oProj=i),a)}var PU=6,MG="AJSAJS",SG="AFAFAF",vh=65,Ma=73,ko=79,wg=86,Lg=90;const vTe={forward:FG,inverse:wTe,toPoint:UG};function FG(n,e){return e=e||5,RTe(LTe({lat:n[1],lon:n[0]}),e)}function wTe(n){var e=FB(kG(n.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function UG(n){var e=FB(kG(n.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function rw(n){return n*(Math.PI/180)}function DU(n){return 180*(n/Math.PI)}function LTe(n){var e=n.lat,t=n.lon,r=6378137,i=.00669438,s=.9996,a,o,l,c,A,u,h,f=rw(e),d=rw(t),g,_;_=Math.floor((t+180)/6)+1,t===180&&(_=60),e>=56&&e<64&&t>=3&&t<12&&(_=32),e>=72&&e<84&&(t>=0&&t<9?_=31:t>=9&&t<21?_=33:t>=21&&t<33?_=35:t>=33&&t<42&&(_=37)),a=(_-1)*6-180+3,g=rw(a),o=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(f)*Math.sin(f)),c=Math.tan(f)*Math.tan(f),A=o*Math.cos(f)*Math.cos(f),u=Math.cos(f)*(d-g),h=r*((1-i/4-3*i*i/64-5*i*i*i/256)*f-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*f)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*f)-35*i*i*i/3072*Math.sin(6*f));var m=s*l*(u+(1-c+A)*u*u*u/6+(5-18*c+c*c+72*A-58*o)*u*u*u*u*u/120)+5e5,y=s*(h+l*Math.tan(f)*(u*u/2+(5-c+9*A+4*A*A)*u*u*u*u/24+(61-58*c+c*c+600*A-330*o)*u*u*u*u*u*u/720));return e<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(m),zoneNumber:_,zoneLetter:xTe(e)}}function FB(n){var e=n.northing,t=n.easting,r=n.zoneLetter,i=n.zoneNumber;if(i<0||i>60)return null;var s=.9996,a=6378137,o=.00669438,l,c=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),A,u,h,f,d,g,_,m,y,b=t-5e5,v=e;r<"N"&&(v-=1e7),_=(i-1)*6-180+3,l=o/(1-o),g=v/s,m=g/(a*(1-o/4-3*o*o/64-5*o*o*o/256)),y=m+(3*c/2-27*c*c*c/32)*Math.sin(2*m)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*m)+151*c*c*c/96*Math.sin(6*m),A=a/Math.sqrt(1-o*Math.sin(y)*Math.sin(y)),u=Math.tan(y)*Math.tan(y),h=l*Math.cos(y)*Math.cos(y),f=a*(1-o)/Math.pow(1-o*Math.sin(y)*Math.sin(y),1.5),d=b/(A*s);var B=y-A*Math.tan(y)/f*(d*d/2-(5+3*u+10*h-4*h*h-9*l)*d*d*d*d/24+(61+90*u+298*h+45*u*u-252*l-3*h*h)*d*d*d*d*d*d/720);B=DU(B);var C=(d-(1+2*u+h)*d*d*d/6+(5-2*h+28*u-3*h*h+8*l+24*u*u)*d*d*d*d*d/120)/Math.cos(y);C=_+DU(C);var I;if(n.accuracy){var R=FB({northing:n.northing+n.accuracy,easting:n.easting+n.accuracy,zoneLetter:n.zoneLetter,zoneNumber:n.zoneNumber});I={top:R.lat,right:R.lon,bottom:B,left:C}}else I={lat:B,lon:C};return I}function xTe(n){var e="Z";return 84>=n&&n>=72?e="X":72>n&&n>=64?e="W":64>n&&n>=56?e="V":56>n&&n>=48?e="U":48>n&&n>=40?e="T":40>n&&n>=32?e="S":32>n&&n>=24?e="R":24>n&&n>=16?e="Q":16>n&&n>=8?e="P":8>n&&n>=0?e="N":0>n&&n>=-8?e="M":-8>n&&n>=-16?e="L":-16>n&&n>=-24?e="K":-24>n&&n>=-32?e="J":-32>n&&n>=-40?e="H":-40>n&&n>=-48?e="G":-48>n&&n>=-56?e="F":-56>n&&n>=-64?e="E":-64>n&&n>=-72?e="D":-72>n&&n>=-80&&(e="C"),e}function RTe(n,e){var t="00000"+n.easting,r="00000"+n.northing;return n.zoneNumber+n.zoneLetter+BTe(n.easting,n.northing,n.zoneNumber)+t.substr(t.length-5,e)+r.substr(r.length-5,e)}function BTe(n,e,t){var r=NG(t),i=Math.floor(n/1e5),s=Math.floor(e/1e5)%20;return ETe(i,s,r)}function NG(n){var e=n%PU;return e===0&&(e=PU),e}function ETe(n,e,t){var r=t-1,i=MG.charCodeAt(r),s=SG.charCodeAt(r),a=i+n-1,o=s+e,l=!1;a>Lg&&(a=a-Lg+vh-1,l=!0),(a===Ma||i<Ma&&a>Ma||(a>Ma||i<Ma)&&l)&&a++,(a===ko||i<ko&&a>ko||(a>ko||i<ko)&&l)&&(a++,a===Ma&&a++),a>Lg&&(a=a-Lg+vh-1),o>wg?(o=o-wg+vh-1,l=!0):l=!1,(o===Ma||s<Ma&&o>Ma||(o>Ma||s<Ma)&&l)&&o++,(o===ko||s<ko&&o>ko||(o>ko||s<ko)&&l)&&(o++,o===Ma&&o++),o>wg&&(o=o-wg+vh-1);var c=String.fromCharCode(a)+String.fromCharCode(o);return c}function kG(n){if(n&&n.length===0)throw"MGRSPoint coverting from nothing";for(var e=n.length,t=null,r="",i,s=0;!/[A-Z]/.test(i=n.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+n;r+=i,s++}var a=parseInt(r,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+n;var o=n.charAt(s++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+n;t=n.substring(s,s+=2);for(var l=NG(a),c=CTe(t.charAt(0),l),A=ITe(t.charAt(1),l);A<TTe(o);)A+=2e6;var u=e-s;if(u%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+n;var h=u/2,f=0,d=0,g,_,m,y,b;return h>0&&(g=1e5/Math.pow(10,h),_=n.substring(s,s+h),f=parseFloat(_)*g,m=n.substring(s+h),d=parseFloat(m)*g),y=f+c,b=d+A,{easting:y,northing:b,zoneLetter:o,zoneNumber:a,accuracy:g}}function CTe(n,e){for(var t=MG.charCodeAt(e-1),r=1e5,i=!1;t!==n.charCodeAt(0);){if(t++,t===Ma&&t++,t===ko&&t++,t>Lg){if(i)throw"Bad character: "+n;t=vh,i=!0}r+=1e5}return r}function ITe(n,e){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var t=SG.charCodeAt(e-1),r=0,i=!1;t!==n.charCodeAt(0);){if(t++,t===Ma&&t++,t===ko&&t++,t>wg){if(i)throw"Bad character: "+n;t=vh,i=!0}r+=1e5}return r}function TTe(n){var e;switch(n){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+n}function xd(n,e,t){if(!(this instanceof xd))return new xd(n,e,t);if(Array.isArray(n))this.x=n[0],this.y=n[1],this.z=n[2]||0;else if(typeof n=="object")this.x=n.x,this.y=n.y,this.z=n.z||0;else if(typeof n=="string"&&typeof e>"u"){var r=n.split(",");this.x=parseFloat(r[0]),this.y=parseFloat(r[1]),this.z=parseFloat(r[2])||0}else this.x=n,this.y=e,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}xd.fromMGRS=function(n){return new xd(UG(n))};xd.prototype.toMGRS=function(n){return FG([this.x,this.y],n)};var MTe=1,STe=.25,OU=.046875,zU=.01953125,HU=.01068115234375,FTe=.75,UTe=.46875,NTe=.013020833333333334,kTe=.007120768229166667,PTe=.3645833333333333,DTe=.005696614583333333,OTe=.3076171875;function UB(n){var e=[];e[0]=MTe-n*(STe+n*(OU+n*(zU+n*HU))),e[1]=n*(FTe-n*(OU+n*(zU+n*HU)));var t=n*n;return e[2]=t*(UTe-n*(NTe+n*kTe)),t*=n,e[3]=t*(PTe-n*DTe),e[4]=t*n*OTe,e}function qd(n,e,t,r){return t*=e,e*=e,r[0]*n-t*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var zTe=20;function NB(n,e,t){for(var r=1/(1-e),i=n,s=zTe;s;--s){var a=Math.sin(i),o=1-e*a*a;if(o=(qd(i,a,Math.cos(i),t)-n)*(o*Math.sqrt(o))*r,i-=o,Math.abs(o)<zt)return i}return i}function HTe(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=UB(this.es),this.ml0=qd(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function QTe(n){var e=n.x,t=n.y,r=Gt(e-this.long0,this.over),i,s,a,o=Math.sin(t),l=Math.cos(t);if(this.es){var A=l*r,u=Math.pow(A,2),h=this.ep2*Math.pow(l,2),f=Math.pow(h,2),d=Math.abs(l)>zt?Math.tan(t):0,g=Math.pow(d,2),_=Math.pow(g,2);i=1-this.es*Math.pow(o,2),A=A/Math.sqrt(i);var m=qd(t,o,l,this.en);s=this.a*(this.k0*A*(1+u/6*(1-g+h+u/20*(5-18*g+_+14*h-58*g*h+u/42*(61+179*_-_*g-479*g)))))+this.x0,a=this.a*(this.k0*(m-this.ml0+o*r*A/2*(1+u/12*(5-g+9*h+4*f+u/30*(61+_-58*g+270*h-330*g*h+u/56*(1385+543*_-_*g-3111*g))))))+this.y0}else{var c=l*Math.sin(r);if(Math.abs(Math.abs(c)-1)<zt)return 93;if(s=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,a=l*Math.cos(r)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(a),c>=1){if(c-1>zt)return 93;a=0}else a=Math.acos(a);t<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return n.x=s,n.y=a,n}function jTe(n){var e,t,r,i,s=(n.x-this.x0)*(1/this.a),a=(n.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,t=NB(e,this.es,this.en),Math.abs(t)<Lt){var u=Math.sin(t),h=Math.cos(t),f=Math.abs(h)>zt?Math.tan(t):0,d=this.ep2*Math.pow(h,2),g=Math.pow(d,2),_=Math.pow(f,2),m=Math.pow(_,2);e=1-this.es*Math.pow(u,2);var y=s*Math.sqrt(e)/this.k0,b=Math.pow(y,2);e=e*f,r=t-e*b/(1-this.es)*.5*(1-b/12*(5+3*_-9*d*_+d-4*g-b/30*(61+90*_-252*d*_+45*m+46*d-b/56*(1385+3633*_+4095*m+1574*m*_)))),i=Gt(this.long0+y*(1-b/6*(1+2*_+d-b/20*(5+28*_+24*m+8*d*_+6*d-b/42*(61+662*_+1320*m+720*m*_))))/h,this.over)}else r=Lt*Tp(a),i=0;else{var o=Math.exp(s/this.k0),l=.5*(o-1/o),c=this.lat0+a/this.k0,A=Math.cos(c);e=Math.sqrt((1-Math.pow(A,2))/(1+Math.pow(l,2))),r=Math.asin(e),a<0&&(r=-r),l===0&&A===0?i=0:i=Gt(Math.atan2(l,A)+this.long0,this.over)}return n.x=i,n.y=r,n}var YTe=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Dm={init:HTe,forward:QTe,inverse:jTe,names:YTe};function PG(n){var e=Math.exp(n);return e=(e-1/e)/2,e}function ka(n,e){n=Math.abs(n),e=Math.abs(e);var t=Math.max(n,e),r=Math.min(n,e)/(t||1);return t*Math.sqrt(1+Math.pow(r,2))}function GTe(n){var e=1+n,t=e-1;return t===0?n:n*Math.log(e)/t}function VTe(n){var e=Math.abs(n);return e=GTe(e*(1+e/(ka(1,e)+1))),n<0?-e:e}function kB(n,e){for(var t=2*Math.cos(2*e),r=n.length-1,i=n[r],s=0,a;--r>=0;)a=-s+t*i+n[r],s=i,i=a;return e+a*Math.sin(2*e)}function KTe(n,e){for(var t=2*Math.cos(e),r=n.length-1,i=n[r],s=0,a;--r>=0;)a=-s+t*i+n[r],s=i,i=a;return Math.sin(e)*a}function $Te(n){var e=Math.exp(n);return e=(e+1/e)/2,e}function DG(n,e,t){for(var r=Math.sin(e),i=Math.cos(e),s=PG(t),a=$Te(t),o=2*i*a,l=-2*r*s,c=n.length-1,A=n[c],u=0,h=0,f=0,d,g;--c>=0;)d=h,g=u,h=A,u=f,A=-d+o*h-l*u+n[c],f=-g+l*h+o*u;return o=r*a,l=i*s,[o*A-l*f,o*f+l*A]}function WTe(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Dm.init.apply(this),this.forward=Dm.forward,this.inverse=Dm.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var n=this.es/(1+Math.sqrt(1-this.es)),e=n/(2-n),t=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),t=t*e,this.cgb[1]=t*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=t*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),t=t*e,this.cgb[2]=t*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=t*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),t=t*e,this.cgb[3]=t*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=t*(1237/630+e*(-12/5+e*(-24832/14175))),t=t*e,this.cgb[4]=t*(4174/315+e*(-144838/6237)),this.cbg[4]=t*(-734/315+e*(109598/31185)),t=t*e,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=t*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=t*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),t=t*e,this.utg[2]=t*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=t*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),t=t*e,this.utg[3]=t*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=t*(49561/161280+e*(-179/168+e*(6601661/7257600))),t=t*e,this.utg[4]=t*(-4583/161280+e*(108847/3991680)),this.gtu[4]=t*(34729/80640+e*(-3418889/1995840)),t=t*e,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var r=kB(this.cbg,this.lat0);this.Zb=-this.Qn*(r+KTe(this.gtu,2*r))}function qTe(n){var e=Gt(n.x-this.long0,this.over),t=n.y;t=kB(this.cbg,t);var r=Math.sin(t),i=Math.cos(t),s=Math.sin(e),a=Math.cos(e);t=Math.atan2(r,a*i),e=Math.atan2(s*i,ka(r,i*a)),e=VTe(Math.tan(e));var o=DG(this.gtu,2*t,2*e);t=t+o[0],e=e+o[1];var l,c;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*t+this.Zb)+this.y0):(l=1/0,c=1/0),n.x=l,n.y=c,n}function XTe(n){var e=(n.x-this.x0)*(1/this.a),t=(n.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var s=DG(this.utg,2*t,2*e);t=t+s[0],e=e+s[1],e=Math.atan(PG(e));var a=Math.sin(t),o=Math.cos(t),l=Math.sin(e),c=Math.cos(e);t=Math.atan2(a*c,ka(l,c*o)),e=Math.atan2(l,c*o),r=Gt(e+this.long0,this.over),i=kB(this.cgb,t)}else r=1/0,i=1/0;return n.x=r,n.y=i,n}var JTe=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Om={init:WTe,forward:qTe,inverse:XTe,names:JTe};function ZTe(n,e){if(n===void 0){if(n=Math.floor((Gt(e)+Math.PI)*30/Math.PI)+1,n<0)return 0;if(n>60)return 60}return n}var eMe="etmerc";function tMe(){var n=ZTe(this.zone,this.long0);if(n===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(n)-183)*yi,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Om.init.apply(this),this.forward=Om.forward,this.inverse=Om.inverse}var nMe=["Universal Transverse Mercator System","utm"];const rMe={init:tMe,names:nMe,dependsOn:eMe};function PB(n,e){return Math.pow((1-n)/(1+n),e)}var iMe=20;function sMe(){var n=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*n*n),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(n/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+mr)/(Math.pow(Math.tan(.5*this.lat0+mr),this.C)*PB(this.e*n,this.ratexp))}function aMe(n){var e=n.x,t=n.y;return n.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+mr),this.C)*PB(this.e*Math.sin(t),this.ratexp))-Lt,n.x=this.C*e,n}function oMe(n){for(var e=1e-14,t=n.x/this.C,r=n.y,i=Math.pow(Math.tan(.5*r+mr)/this.K,1/this.C),s=iMe;s>0&&(r=2*Math.atan(i*PB(this.e*Math.sin(n.y),-.5*this.e))-Lt,!(Math.abs(r-n.y)<e));--s)n.y=r;return s?(n.x=t,n.y=r,n):null}const DB={init:sMe,forward:aMe,inverse:oMe};function lMe(){DB.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function cMe(n){var e,t,r,i;return n.x=Gt(n.x-this.long0,this.over),DB.forward.apply(this,[n]),e=Math.sin(n.y),t=Math.cos(n.y),r=Math.cos(n.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*t*r),n.x=i*t*Math.sin(n.x),n.y=i*(this.cosc0*e-this.sinc0*t*r),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function AMe(n){var e,t,r,i,s;if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,s=ka(n.x,n.y)){var a=2*Math.atan2(s,this.R2);e=Math.sin(a),t=Math.cos(a),i=Math.asin(t*this.sinc0+n.y*e*this.cosc0/s),r=Math.atan2(n.x*e,s*this.cosc0*t-n.y*this.sinc0*e)}else i=this.phic0,r=0;return n.x=r,n.y=i,DB.inverse.apply(this,[n]),n.x=Gt(n.x+this.long0,this.over),n}var uMe=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const fMe={init:lMe,forward:cMe,inverse:AMe,names:uMe};function OB(n,e,t){return e*=t,Math.tan(.5*(Lt+n))*Math.pow((1-e)/(1+e),.5*t)}function hMe(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=zt&&(this.k0=.5*(1+Tp(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=zt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=zt&&Math.abs(Math.cos(this.lat_ts))>zt&&(this.k0=.5*this.cons*Fc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/jl(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Fc(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(OB(this.lat0,this.sinlat0,this.e))-Lt,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function dMe(n){var e=n.x,t=n.y,r=Math.sin(t),i=Math.cos(t),s,a,o,l,c,A,u=Gt(e-this.long0,this.over);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=zt&&Math.abs(t+this.lat0)<=zt?(n.x=NaN,n.y=NaN,n):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(u)),n.x=this.a*s*i*Math.sin(u)+this.x0,n.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(u))+this.y0,n):(a=2*Math.atan(OB(t,r,this.e))-Lt,l=Math.cos(a),o=Math.sin(a),Math.abs(this.coslat0)<=zt?(c=jl(this.e,t*this.con,this.con*r),A=2*this.a*this.k0*c/this.cons,n.x=this.x0+A*Math.sin(e-this.long0),n.y=this.y0-this.con*A*Math.cos(e-this.long0),n):(Math.abs(this.sinlat0)<zt?(s=2*this.a*this.k0/(1+l*Math.cos(u)),n.y=s*o):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(u))),n.y=s*(this.cosX0*o-this.sinX0*l*Math.cos(u))+this.y0),n.x=s*l*Math.sin(u)+this.x0,n))}function gMe(n){n.x-=this.x0,n.y-=this.y0;var e,t,r,i,s,a=Math.sqrt(n.x*n.x+n.y*n.y);if(this.sphere){var o=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,t=this.lat0,a<=zt?(n.x=e,n.y=t,n):(t=Math.asin(Math.cos(o)*this.sinlat0+n.y*Math.sin(o)*this.coslat0/a),Math.abs(this.coslat0)<zt?this.lat0>0?e=Gt(this.long0+Math.atan2(n.x,-1*n.y),this.over):e=Gt(this.long0+Math.atan2(n.x,n.y),this.over):e=Gt(this.long0+Math.atan2(n.x*Math.sin(o),a*this.coslat0*Math.cos(o)-n.y*this.sinlat0*Math.sin(o)),this.over),n.x=e,n.y=t,n)}else if(Math.abs(this.coslat0)<=zt){if(a<=zt)return t=this.lat0,e=this.long0,n.x=e,n.y=t,n;n.x*=this.con,n.y*=this.con,r=a*this.cons/(2*this.a*this.k0),t=this.con*ip(this.e,r),e=this.con*Gt(this.con*this.long0+Math.atan2(n.x,-1*n.y),this.over)}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=zt?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+n.y*Math.sin(i)*this.cosX0/a),e=Gt(this.long0+Math.atan2(n.x*Math.sin(i),a*this.cosX0*Math.cos(i)-n.y*this.sinX0*Math.sin(i)),this.over)),t=-1*ip(this.e,Math.tan(.5*(Lt+s)));return n.x=e,n.y=t,n}var pMe=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const _Me={init:hMe,forward:dMe,inverse:gMe,names:pMe,ssfn_:OB};function mMe(){var n=this.lat0;this.lambda0=this.long0;var e=Math.sin(n),t=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),a=this.e=Math.sqrt(s);this.R=this.k0*t*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(n),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+n/2)),c=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*l+this.alpha*a/2*c}function yMe(n){var e=Math.log(Math.tan(Math.PI/4-n.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(n.y))/(1-this.e*Math.sin(n.y))),r=-this.alpha*(e+t)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(n.x-this.lambda0),a=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return n.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,n.x=this.R*a+this.x0,n}function bMe(n){for(var e=n.x-this.x0,t=n.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+a/this.alpha,l=0,c=s,A=-1e3,u=0;Math.abs(c-A)>1e-7;){if(++u>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),A=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return n.x=o,n.y=c,n}var vMe=["somerc"];const wMe={init:mMe,forward:yMe,inverse:bMe,names:vMe};var ih=1e-7;function LMe(n){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof n.projName=="object"?Object.keys(n.projName)[0]:n.projName;return"no_uoff"in n||"no_off"in n||e.indexOf(t)!==-1||e.indexOf(BG(t))!==-1}function xMe(){var n,e,t,r,i,s,a,o,l,c,A=0,u,h=0,f=0,d=0,g=0,_=0,m=0;this.no_off=LMe(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),y&&(m=this.alpha),b&&(A=this.rectified_grid_angle),y||b)h=this.longc;else if(f=this.long1,g=this.lat1,d=this.long2,_=this.lat2,Math.abs(g-_)<=ih||(n=Math.abs(g))<=ih||Math.abs(n-Lt)<=ih||Math.abs(Math.abs(this.lat0)-Lt)<=ih||Math.abs(Math.abs(_)-Lt)<=ih)throw new Error;var v=1-this.es;e=Math.sqrt(v),Math.abs(this.lat0)>zt?(o=Math.sin(this.lat0),t=Math.cos(this.lat0),n=1-this.es*o*o,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/v),this.A=this.B*this.k0*e/n,r=this.B*e/(t*Math.sqrt(n)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(jl(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),y||b?(y?(u=Math.asin(Math.sin(m)/r),b||(A=m)):(u=A,m=Math.asin(r*Math.sin(u))),this.lam0=h-Math.asin(.5*(i-1/i)*Math.tan(u))/this.B):(s=Math.pow(jl(this.e,g,Math.sin(g)),this.B),a=Math.pow(jl(this.e,_,Math.sin(_)),this.B),i=this.E/s,l=(a-s)/(a+s),c=this.E*this.E,c=(c-a*s)/(c+a*s),n=f-d,n<-Math.PI?d-=np:n>Math.PI&&(d+=np),this.lam0=Gt(.5*(f+d)-Math.atan(c*Math.tan(.5*this.B*(f-d))/l)/this.B,this.over),u=Math.atan(2*Math.sin(this.B*Gt(f-this.lam0,this.over))/(i-1/i)),A=m=Math.asin(r*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(A),this.cosrot=Math.cos(A),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(m))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(mr-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(mr+i))}function RMe(n){var e={},t,r,i,s,a,o,l,c;if(n.x=n.x-this.lam0,Math.abs(Math.abs(n.y)-Lt)>zt){if(a=this.E/Math.pow(jl(this.e,n.y,Math.sin(n.y)),this.B),o=1/a,t=.5*(a-o),r=.5*(a+o),s=Math.sin(this.B*n.x),i=(t*this.singam-s*this.cosgam)/r,Math.abs(Math.abs(i)-1)<zt)throw new Error;c=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*n.x),Math.abs(o)<ih?l=this.A*n.x:l=this.ArB*Math.atan2(t*this.cosgam+s*this.singam,o)}else c=n.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*n.y;return this.no_rot?(e.x=l,e.y=c):(l-=this.u_0,e.x=c*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-c*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function BMe(n){var e,t,r,i,s,a,o,l={};if(n.x=(n.x-this.x0)*(1/this.a),n.y=(n.y-this.y0)*(1/this.a),this.no_rot?(t=n.y,e=n.x):(t=n.x*this.cosrot-n.y*this.sinrot,e=n.y*this.cosrot+n.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*t),i=.5*(r-1/r),s=.5*(r+1/r),a=Math.sin(this.BrA*e),o=(a*this.cosgam+i*this.singam)/s,Math.abs(Math.abs(o)-1)<zt)l.x=0,l.y=o<0?-Lt:Lt;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=ip(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var EMe=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const CMe={init:xMe,forward:RMe,inverse:BMe,names:EMe};function IMe(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<zt)){var n=this.b/this.a;this.e=Math.sqrt(1-n*n);var e=Math.sin(this.lat1),t=Math.cos(this.lat1),r=Fc(this.e,e,t),i=jl(this.e,this.lat1,e),s=Math.sin(this.lat2),a=Math.cos(this.lat2),o=Fc(this.e,s,a),l=jl(this.e,this.lat2,s),c=Math.abs(Math.abs(this.lat0)-Lt)<zt?0:jl(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>zt?this.ns=Math.log(r/o)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function TMe(n){var e=n.x,t=n.y;Math.abs(2*Math.abs(t)-Math.PI)<=zt&&(t=Tp(t)*(Lt-2*zt));var r=Math.abs(Math.abs(t)-Lt),i,s;if(r>zt)i=jl(this.e,t,Math.sin(t)),s=this.a*this.f0*Math.pow(i,this.ns);else{if(r=t*this.ns,r<=0)return null;s=0}var a=this.ns*Gt(e-this.long0,this.over);return n.x=this.k0*(s*Math.sin(a))+this.x0,n.y=this.k0*(this.rh-s*Math.cos(a))+this.y0,n}function MMe(n){var e,t,r,i,s,a=(n.x-this.x0)/this.k0,o=this.rh-(n.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+o*o),t=1):(e=-Math.sqrt(a*a+o*o),t=-1);var l=0;if(e!==0&&(l=Math.atan2(t*a,t*o)),e!==0||this.ns>0){if(t=1/this.ns,r=Math.pow(e/(this.a*this.f0),t),i=ip(this.e,r),i===-9999)return null}else i=-Lt;return s=Gt(l/this.ns+this.long0,this.over),n.x=s,n.y=i,n}var SMe=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const FMe={init:IMe,forward:TMe,inverse:MMe,names:SMe};function UMe(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function NMe(n){var e,t,r,i,s,a,o,l=n.x,c=n.y,A=Gt(l-this.long0,this.over);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),r=-A*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(r)),s=Math.asin(Math.cos(t)*Math.sin(r)/Math.cos(i)),a=this.n*s,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),n.y=o*Math.cos(a)/1,n.x=o*Math.sin(a)/1,this.czech||(n.y*=-1,n.x*=-1),n}function kMe(n){var e,t,r,i,s,a,o,l,c=n.x;n.x=n.y,n.y=c,this.czech||(n.y*=-1,n.x*=-1),a=Math.sqrt(n.x*n.x+n.y*n.y),s=Math.atan2(n.y,n.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),t=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),n.x=this.long0-t/this.alfa,o=e,l=0;var A=0;do n.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-n.y)<1e-10&&(l=1),o=n.y,A+=1;while(l===0&&A<15);return A>=15?null:n}var PMe=["Krovak","krovak"];const DMe={init:UMe,forward:NMe,inverse:kMe,names:PMe};function ya(n,e,t,r,i){return n*i-e*Math.sin(2*i)+t*Math.sin(4*i)-r*Math.sin(6*i)}function Mp(n){return 1-.25*n*(1+n/16*(3+1.25*n))}function Sp(n){return .375*n*(1+.25*n*(1+.46875*n))}function Fp(n){return .05859375*n*n*(1+.75*n)}function Up(n){return n*n*n*(35/3072)}function zB(n,e,t){var r=e*t;return n/Math.sqrt(1-r*r)}function bu(n){return Math.abs(n)<Lt?n:n-Tp(n)*Math.PI}function fy(n,e,t,r,i){var s,a;s=n/e;for(var o=0;o<15;o++)if(a=(n-(e*s-t*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(e-2*t*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=a,Math.abs(a)<=1e-10)return s;return NaN}function OMe(){this.sphere||(this.e0=Mp(this.es),this.e1=Sp(this.es),this.e2=Fp(this.es),this.e3=Up(this.es),this.ml0=this.a*ya(this.e0,this.e1,this.e2,this.e3,this.lat0))}function zMe(n){var e,t,r=n.x,i=n.y;if(r=Gt(r-this.long0,this.over),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),t=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),a=Math.cos(i),o=zB(this.a,this.e,s),l=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),A=c*c,u=this.es*a*a/(1-this.es),h=this.a*ya(this.e0,this.e1,this.e2,this.e3,i);e=o*c*(1-A*l*(1/6-(8-l+8*u)*A/120)),t=h-this.ml0+o*s/a*A*(.5+(5-l+6*u)*A/24)}return n.x=e+this.x0,n.y=t+this.y0,n}function HMe(n){n.x-=this.x0,n.y-=this.y0;var e=n.x/this.a,t=n.y/this.a,r,i;if(this.sphere){var s=t+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(s))}else{var a=this.ml0/this.a+t,o=fy(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-Lt)<=zt)return n.x=this.long0,n.y=Lt,t<0&&(n.y*=-1),n;var l=zB(this.a,this.e,Math.sin(o)),c=l*l*l/this.a/this.a*(1-this.es),A=Math.pow(Math.tan(o),2),u=e*this.a/l,h=u*u;r=o-l*Math.tan(o)/c*u*u*(.5-(1+3*A)*u*u/24),i=u*(1-h*(A/3+(1+3*A)*A*h/15))/Math.cos(o)}return n.x=Gt(i+this.long0,this.over),n.y=bu(r),n}var QMe=["Cassini","Cassini_Soldner","cass"];const jMe={init:OMe,forward:zMe,inverse:HMe,names:QMe};function XA(n,e){var t;return n>1e-7?(t=n*e,(1-n*n)*(e/(1-t*t)-.5/n*Math.log((1-t)/(1+t)))):2*e}var yL=1,bL=2,vL=3,zm=4;function YMe(){var n=Math.abs(this.lat0);if(Math.abs(n-Lt)<zt?this.mode=this.lat0<0?yL:bL:Math.abs(n)<zt?this.mode=vL:this.mode=zm,this.es>0){var e;switch(this.qp=XA(this.e,1),this.mmf=.5/(1-this.es),this.apa=ZMe(this.es),this.mode){case bL:this.dd=1;break;case yL:this.dd=1;break;case vL:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case zm:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=XA(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===zm&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function GMe(n){var e,t,r,i,s,a,o,l,c,A,u=n.x,h=n.y;if(u=Gt(u-this.long0,this.over),this.sphere){if(s=Math.sin(h),A=Math.cos(h),r=Math.cos(u),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+A*r:1+this.sinph0*s+this.cosph0*A*r,t<=zt)return null;t=Math.sqrt(2/t),e=t*A*Math.sin(u),t*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*A*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.lat0)<zt)return null;t=mr-h*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),e=t*Math.sin(u),t*=r}}else{switch(o=0,l=0,c=0,r=Math.cos(u),i=Math.sin(u),s=Math.sin(h),a=XA(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=a/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:c=1+this.sinb1*o+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=Lt+h,a=this.qp-a;break;case this.S_POLE:c=h-Lt,a=this.qp+a;break}if(Math.abs(c)<zt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?t=this.ymf*c*(this.cosb1*o-this.sinb1*l*r):t=(c=Math.sqrt(2/(1+l*r)))*o*this.ymf,e=this.xmf*c*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(c=Math.sqrt(a))*i,t=r*(this.mode===this.S_POLE?c:-c)):e=t=0;break}}return n.x=this.a*e+this.x0,n.y=this.a*t+this.y0,n}function VMe(n){n.x-=this.x0,n.y-=this.y0;var e=n.x/this.a,t=n.y/this.a,r,i,s,a,o,l,c;if(this.sphere){var A=0,u,h=0;if(u=Math.sqrt(e*e+t*t),i=u*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=Math.sin(i),A=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(u)<=zt?0:Math.asin(t*h/u),e*=h,t=A*u;break;case this.OBLIQ:i=Math.abs(u)<=zt?this.lat0:Math.asin(A*this.sinph0+t*h*this.cosph0/u),e*=h*this.cosph0,t=(A-Math.sin(i)*this.sinph0)*u;break;case this.N_POLE:t=-t,i=Lt-i;break;case this.S_POLE:i-=Lt;break}r=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,t)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,t*=this.dd,l=Math.sqrt(e*e+t*t),l<zt)return n.x=this.long0,n.y=this.lat0,n;a=2*Math.asin(.5*l/this.rq),s=Math.cos(a),e*=a=Math.sin(a),this.mode===this.OBLIQ?(c=s*this.sinb1+t*a*this.cosb1/l,o=this.qp*c,t=l*this.cosb1*s-t*this.sinb1*a):(c=t*a/l,o=this.qp*c,t=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),o=e*e+t*t,!o)return n.x=this.long0,n.y=this.lat0,n;c=1-o/this.qp,this.mode===this.S_POLE&&(c=-c)}r=Math.atan2(e,t),i=eSe(Math.asin(c),this.apa)}return n.x=Gt(this.long0+r,this.over),n.y=i,n}var KMe=.3333333333333333,$Me=.17222222222222222,WMe=.10257936507936508,qMe=.06388888888888888,XMe=.0664021164021164,JMe=.016415012942191543;function ZMe(n){var e,t=[];return t[0]=n*KMe,e=n*n,t[0]+=e*$Me,t[1]=e*qMe,e*=n,t[0]+=e*WMe,t[1]+=e*XMe,t[2]=e*JMe,t}function eSe(n,e){var t=n+n;return n+e[0]*Math.sin(t)+e[1]*Math.sin(t+t)+e[2]*Math.sin(t+t+t)}var tSe=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const nSe={init:YMe,forward:GMe,inverse:VMe,names:tSe,S_POLE:yL,N_POLE:bL,EQUIT:vL,OBLIQ:zm};function fu(n){return Math.abs(n)>1&&(n=n>1?1:-1),Math.asin(n)}function rSe(){Math.abs(this.lat1+this.lat2)<zt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Fc(this.e3,this.sin_po,this.cos_po),this.qs1=XA(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Fc(this.e3,this.sin_po,this.cos_po),this.qs2=XA(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=XA(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>zt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function iSe(n){var e=n.x,t=n.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var r=XA(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*Gt(e-this.long0,this.over),a=i*Math.sin(s)+this.x0,o=this.rh-i*Math.cos(s)+this.y0;return n.x=a,n.y=o,n}function sSe(n){var e,t,r,i,s,a;return n.x-=this.x0,n.y=this.rh-n.y+this.y0,this.ns0>=0?(e=Math.sqrt(n.x*n.x+n.y*n.y),r=1):(e=-Math.sqrt(n.x*n.x+n.y*n.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*n.x,r*n.y)),r=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(t=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,t)),s=Gt(i/this.ns0+this.long0,this.over),n.x=s,n.y=a,n}function aSe(n,e){var t,r,i,s,a,o=fu(.5*e);if(n<zt)return o;for(var l=n*n,c=1;c<=25;c++)if(t=Math.sin(o),r=Math.cos(o),i=n*t,s=1-i*i,a=.5*s*s/r*(e/(1-l)-t/s+.5/n*Math.log((1-i)/(1+i))),o=o+a,Math.abs(a)<=1e-7)return o;return null}var oSe=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const lSe={init:rSe,forward:iSe,inverse:sSe,names:oSe,phi1z:aSe};function cSe(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function ASe(n){var e,t,r,i,s,a,o,l,c=n.x,A=n.y;return r=Gt(c-this.long0,this.over),e=Math.sin(A),t=Math.cos(A),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*t*i,s=1,a>0||Math.abs(a)<=zt?(o=this.x0+this.a*s*t*Math.sin(r)/a,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*t*i)/a):(o=this.x0+this.infinity_dist*t*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*t*i)),n.x=o,n.y=l,n}function uSe(n){var e,t,r,i,s,a;return n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,(e=Math.sqrt(n.x*n.x+n.y*n.y))?(i=Math.atan2(e,this.rc),t=Math.sin(i),r=Math.cos(i),a=fu(r*this.sin_p14+n.y*t*this.cos_p14/e),s=Math.atan2(n.x*t,e*this.cos_p14*r-n.y*this.sin_p14*t),s=Gt(this.long0+s,this.over)):(a=this.phic0,s=0),n.x=s,n.y=a,n}var fSe=["gnom"];const hSe={init:cSe,forward:ASe,inverse:uSe,names:fSe};function dSe(n,e){var t=1-(1-n*n)/(2*n)*Math.log((1-n)/(1+n));if(Math.abs(Math.abs(e)-t)<1e-6)return e<0?-1*Lt:Lt;for(var r=Math.asin(.5*e),i,s,a,o,l=0;l<30;l++)if(s=Math.sin(r),a=Math.cos(r),o=n*s,i=Math.pow(1-o*o,2)/(2*a)*(e/(1-n*n)-s/(1-o*o)+.5/n*Math.log((1-o)/(1+o))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function gSe(){this.sphere||(this.k0=Fc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function pSe(n){var e=n.x,t=n.y,r,i,s=Gt(e-this.long0,this.over);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var a=XA(this.e,Math.sin(t));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*a*.5/this.k0}return n.x=r,n.y=i,n}function _Se(n){n.x-=this.x0,n.y-=this.y0;var e,t;return this.sphere?(e=Gt(this.long0+n.x/this.a/Math.cos(this.lat_ts),this.over),t=Math.asin(n.y/this.a*Math.cos(this.lat_ts))):(t=dSe(this.e,2*n.y*this.k0/this.a),e=Gt(this.long0+n.x/(this.a*this.k0),this.over)),n.x=e,n.y=t,n}var mSe=["cea"];const ySe={init:gSe,forward:pSe,inverse:_Se,names:mSe};function bSe(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function vSe(n){var e=n.x,t=n.y,r=Gt(e-this.long0,this.over),i=bu(t-this.lat0);return n.x=this.x0+this.a*r*this.rc,n.y=this.y0+this.a*i,n}function wSe(n){var e=n.x,t=n.y;return n.x=Gt(this.long0+(e-this.x0)/(this.a*this.rc),this.over),n.y=bu(this.lat0+(t-this.y0)/this.a),n}var LSe=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const xSe={init:bSe,forward:vSe,inverse:wSe,names:LSe};var QU=20;function RSe(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Mp(this.es),this.e1=Sp(this.es),this.e2=Fp(this.es),this.e3=Up(this.es),this.ml0=this.a*ya(this.e0,this.e1,this.e2,this.e3,this.lat0)}function BSe(n){var e=n.x,t=n.y,r,i,s,a=Gt(e-this.long0,this.over);if(s=a*Math.sin(t),this.sphere)Math.abs(t)<=zt?(r=this.a*a,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(t),i=this.a*(bu(t-this.lat0)+(1-Math.cos(s))/Math.tan(t)));else if(Math.abs(t)<=zt)r=this.a*a,i=-1*this.ml0;else{var o=zB(this.a,this.e,Math.sin(t))/Math.tan(t);r=o*Math.sin(s),i=this.a*ya(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+o*(1-Math.cos(s))}return n.x=r+this.x0,n.y=i+this.y0,n}function ESe(n){var e,t,r,i,s,a,o,l,c;if(r=n.x-this.x0,i=n.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=zt)e=Gt(r/this.a+this.long0,this.over),t=0;else{a=this.lat0+i/this.a,o=r*r/this.a/this.a+a*a,l=a;var A;for(s=QU;s;--s)if(A=Math.tan(l),c=-1*(a*(l*A+1)-l-.5*(l*l+o)*A)/((l-a)/A-1),l+=c,Math.abs(c)<=zt){t=l;break}e=Gt(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(t),this.over)}else if(Math.abs(i+this.ml0)<=zt)t=0,e=Gt(this.long0+r/this.a,this.over);else{a=(this.ml0+i)/this.a,o=r*r/this.a/this.a+a*a,l=a;var u,h,f,d,g;for(s=QU;s;--s)if(g=this.e*Math.sin(l),u=Math.sqrt(1-g*g)*Math.tan(l),h=this.a*ya(this.e0,this.e1,this.e2,this.e3,l),f=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),d=h/this.a,c=(a*(u*d+1)-d-.5*u*(d*d+o))/(this.es*Math.sin(2*l)*(d*d+o-2*a*d)/(4*u)+(a-d)*(u*f-2/Math.sin(2*l))-f),l-=c,Math.abs(c)<=zt){t=l;break}u=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),e=Gt(this.long0+Math.asin(r*u/this.a)/Math.sin(t),this.over)}return n.x=e,n.y=t,n}var CSe=["Polyconic","American_Polyconic","poly"];const ISe={init:RSe,forward:BSe,inverse:ESe,names:CSe};function TSe(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function MSe(n){var e,t=n.x,r=n.y,i=r-this.lat0,s=t-this.long0,a=i/l3*1e-5,o=s,l=1,c=0;for(e=1;e<=10;e++)l=l*a,c=c+this.A[e]*l;var A=c,u=o,h=1,f=0,d,g,_=0,m=0;for(e=1;e<=6;e++)d=h*A-f*u,g=f*A+h*u,h=d,f=g,_=_+this.B_re[e]*h-this.B_im[e]*f,m=m+this.B_im[e]*h+this.B_re[e]*f;return n.x=m*this.a+this.x0,n.y=_*this.a+this.y0,n}function SSe(n){var e,t=n.x,r=n.y,i=t-this.x0,s=r-this.y0,a=s/this.a,o=i/this.a,l=1,c=0,A,u,h=0,f=0;for(e=1;e<=6;e++)A=l*a-c*o,u=c*a+l*o,l=A,c=u,h=h+this.C_re[e]*l-this.C_im[e]*c,f=f+this.C_im[e]*l+this.C_re[e]*c;for(var d=0;d<this.iterations;d++){var g=h,_=f,m,y,b=a,v=o;for(e=2;e<=6;e++)m=g*h-_*f,y=_*h+g*f,g=m,_=y,b=b+(e-1)*(this.B_re[e]*g-this.B_im[e]*_),v=v+(e-1)*(this.B_im[e]*g+this.B_re[e]*_);g=1,_=0;var B=this.B_re[1],C=this.B_im[1];for(e=2;e<=6;e++)m=g*h-_*f,y=_*h+g*f,g=m,_=y,B=B+e*(this.B_re[e]*g-this.B_im[e]*_),C=C+e*(this.B_im[e]*g+this.B_re[e]*_);var I=B*B+C*C;h=(b*B+v*C)/I,f=(v*B-b*C)/I}var R=h,w=f,U=1,M=0;for(e=1;e<=9;e++)U=U*R,M=M+this.D[e]*U;var F=this.lat0+M*l3*1e5,P=this.long0+w;return n.x=P,n.y=F,n}var FSe=["New_Zealand_Map_Grid","nzmg"];const USe={init:TSe,forward:MSe,inverse:SSe,names:FSe};function NSe(){}function kSe(n){var e=n.x,t=n.y,r=Gt(e-this.long0,this.over),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return n.x=i,n.y=s,n}function PSe(n){n.x-=this.x0,n.y-=this.y0;var e=Gt(this.long0+n.x/this.a,this.over),t=2.5*(Math.atan(Math.exp(.8*n.y/this.a))-Math.PI/4);return n.x=e,n.y=t,n}var DSe=["Miller_Cylindrical","mill"];const OSe={init:NSe,forward:kSe,inverse:PSe,names:DSe};var zSe=20;function HSe(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=UB(this.es)}function QSe(n){var e,t,r=n.x,i=n.y;if(r=Gt(r-this.long0,this.over),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var s=this.n*Math.sin(i),a=zSe;a;--a){var o=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<zt)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),t=this.a*this.C_y*i}else{var l=Math.sin(i),c=Math.cos(i);t=this.a*qd(i,l,c,this.en),e=this.a*r*c/Math.sqrt(1-this.es*l*l)}return n.x=e,n.y=t,n}function jSe(n){var e,t,r,i;return n.x-=this.x0,r=n.x/this.a,n.y-=this.y0,e=n.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=fu((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=fu(Math.sin(e)/this.n)),r=Gt(r+this.long0,this.over),e=bu(e)):(e=NB(n.y/this.a,this.es,this.en),i=Math.abs(e),i<Lt?(i=Math.sin(e),t=this.long0+n.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=Gt(t,this.over)):i-zt<Lt&&(r=this.long0)),n.x=r,n.y=e,n}var YSe=["Sinusoidal","sinu"];const GSe={init:HSe,forward:QSe,inverse:jSe,names:YSe};function VSe(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0}function KSe(n){for(var e=n.x,t=n.y,r=Gt(e-this.long0,this.over),i=t,s=Math.PI*Math.sin(t);;){var a=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=a,Math.abs(a)<zt)break}i/=2,Math.PI/2-Math.abs(t)<zt&&(r=0);var o=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return n.x=o,n.y=l,n}function $Se(n){var e,t;n.x-=this.x0,n.y-=this.y0,t=n.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),e=Math.asin(t);var r=Gt(this.long0+n.x/(.900316316158*this.a*Math.cos(e)),this.over);r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),t=(2*e+Math.sin(2*e))/Math.PI,Math.abs(t)>1&&(t=1);var i=Math.asin(t);return n.x=r,n.y=i,n}var WSe=["Mollweide","moll"];const qSe={init:VSe,forward:KSe,inverse:$Se,names:WSe};function XSe(){Math.abs(this.lat1+this.lat2)<zt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Mp(this.es),this.e1=Sp(this.es),this.e2=Fp(this.es),this.e3=Up(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=Fc(this.e,this.sin_phi,this.cos_phi),this.ml1=ya(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<zt?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=Fc(this.e,this.sin_phi,this.cos_phi),this.ml2=ya(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=ya(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function JSe(n){var e=n.x,t=n.y,r;if(this.sphere)r=this.a*(this.g-t);else{var i=ya(this.e0,this.e1,this.e2,this.e3,t);r=this.a*(this.g-i)}var s=this.ns*Gt(e-this.long0,this.over),a=this.x0+r*Math.sin(s),o=this.y0+this.rh-r*Math.cos(s);return n.x=a,n.y=o,n}function ZSe(n){n.x-=this.x0,n.y=this.rh-n.y+this.y0;var e,t,r,i;this.ns>=0?(t=Math.sqrt(n.x*n.x+n.y*n.y),e=1):(t=-Math.sqrt(n.x*n.x+n.y*n.y),e=-1);var s=0;if(t!==0&&(s=Math.atan2(e*n.x,e*n.y)),this.sphere)return i=Gt(this.long0+s/this.ns,this.over),r=bu(this.g-t/this.a),n.x=i,n.y=r,n;var a=this.g-t/this.a;return r=fy(a,this.e0,this.e1,this.e2,this.e3),i=Gt(this.long0+s/this.ns,this.over),n.x=i,n.y=r,n}var eFe=["Equidistant_Conic","eqdc"];const tFe={init:XSe,forward:JSe,inverse:ZSe,names:eFe};function nFe(){this.R=this.a}function rFe(n){var e=n.x,t=n.y,r=Gt(e-this.long0,this.over),i,s;Math.abs(t)<=zt&&(i=this.x0+this.R*r,s=this.y0);var a=fu(2*Math.abs(t/Math.PI));(Math.abs(r)<=zt||Math.abs(Math.abs(t)-Lt)<=zt)&&(i=this.x0,t>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*a):s=this.y0+Math.PI*this.R*-Math.tan(.5*a));var o=.5*Math.abs(Math.PI/r-r/Math.PI),l=o*o,c=Math.sin(a),A=Math.cos(a),u=A/(c+A-1),h=u*u,f=u*(2/c-1),d=f*f,g=Math.PI*this.R*(o*(u-d)+Math.sqrt(l*(u-d)*(u-d)-(d+l)*(h-d)))/(d+l);r<0&&(g=-g),i=this.x0+g;var _=l+u;return g=Math.PI*this.R*(f*_-o*Math.sqrt((d+l)*(l+1)-_*_))/(d+l),t>=0?s=this.y0+g:s=this.y0-g,n.x=i,n.y=s,n}function iFe(n){var e,t,r,i,s,a,o,l,c,A,u,h,f;return n.x-=this.x0,n.y-=this.y0,u=Math.PI*this.R,r=n.x/u,i=n.y/u,s=r*r+i*i,a=-Math.abs(i)*(1+s),o=a-2*i*i+r*r,l=-2*a+1+2*i*i+s*s,f=i*i/l+(2*o*o*o/l/l/l-9*a*o/l/l)/27,c=(a-o*o/3/l)/l,A=2*Math.sqrt(-c/3),u=3*f/c/A,Math.abs(u)>1&&(u>=0?u=1:u=-1),h=Math.acos(u)/3,n.y>=0?t=(-A*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI:t=-(-A*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI,Math.abs(r)<zt?e=this.long0:e=Gt(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r,this.over),n.x=e,n.y=t,n}var sFe=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const aFe={init:nFe,forward:rFe,inverse:iFe,names:sFe};function oFe(n,e,t,r,i,s){const a=r-e,o=Math.atan((1-s)*Math.tan(n)),l=Math.atan((1-s)*Math.tan(t)),c=Math.sin(o),A=Math.cos(o),u=Math.sin(l),h=Math.cos(l);let f=a,d,g=100,_,m,y,b,v,B,C,I,R,w,U,M,F,P;do{if(_=Math.sin(f),m=Math.cos(f),y=Math.sqrt(h*_*(h*_)+(A*u-c*h*m)*(A*u-c*h*m)),y===0)return{azi1:0,s12:0};b=c*u+A*h*m,v=Math.atan2(y,b),B=A*h*_/y,C=1-B*B,I=C!==0?b-2*c*u/C:0,R=s/16*C*(4+s*(4-3*C)),d=f,f=a+(1-R)*s*B*(v+R*y*(I+R*b*(-1+2*I*I)))}while(Math.abs(f-d)>1e-12&&--g>0);return g===0?{azi1:NaN,s12:NaN}:(w=C*(i*i-i*(1-s)*(i*(1-s)))/(i*(1-s)*(i*(1-s))),U=1+w/16384*(4096+w*(-768+w*(320-175*w))),M=w/1024*(256+w*(-128+w*(74-47*w))),F=M*y*(I+M/4*(b*(-1+2*I*I)-M/6*I*(-3+4*y*y)*(-3+4*I*I))),P=i*(1-s)*U*(v-F),{azi1:Math.atan2(h*_,A*u-c*h*m),s12:P})}function lFe(n,e,t,r,i,s){const a=Math.atan((1-s)*Math.tan(n)),o=Math.sin(a),l=Math.cos(a),c=Math.sin(t),A=Math.cos(t),u=Math.atan2(o,l*A),h=l*c,f=1-h*h,d=f*(i*i-i*(1-s)*(i*(1-s)))/(i*(1-s)*(i*(1-s))),g=1+d/16384*(4096+d*(-768+d*(320-175*d))),_=d/1024*(256+d*(-128+d*(74-47*d)));let m=r/(i*(1-s)*g),y,b=100,v,B,C,I;do v=Math.cos(2*u+m),B=Math.sin(m),C=Math.cos(m),I=_*B*(v+_/4*(C*(-1+2*v*v)-_/6*v*(-3+4*B*B)*(-3+4*v*v))),y=m,m=r/(i*(1-s)*g)+I;while(Math.abs(m-y)>1e-12&&--b>0);if(b===0)return{lat2:NaN,lon2:NaN};const R=o*B-l*C*A,w=Math.atan2(o*C+l*B*A,(1-s)*Math.sqrt(h*h+R*R)),U=Math.atan2(B*c,l*C-o*B*A),M=s/16*f*(4+s*(4-3*f)),F=U-(1-M)*s*h*(m+M*B*(v+M*C*(-1+2*v*v))),P=e+F;return{lat2:w,lon2:P}}function cFe(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function AFe(n){var e=n.x,t=n.y,r=Math.sin(n.y),i=Math.cos(n.y),s=Gt(e-this.long0,this.over),a,o,l,c,A,u,h,f,d,g,_;return this.sphere?Math.abs(this.sin_p12-1)<=zt?(n.x=this.x0+this.a*(Lt-t)*Math.sin(s),n.y=this.y0-this.a*(Lt-t)*Math.cos(s),n):Math.abs(this.sin_p12+1)<=zt?(n.x=this.x0+this.a*(Lt+t)*Math.sin(s),n.y=this.y0+this.a*(Lt+t)*Math.cos(s),n):(d=this.sin_p12*r+this.cos_p12*i*Math.cos(s),h=Math.acos(d),f=h?h/Math.sin(h):1,n.x=this.x0+this.a*f*i*Math.sin(s),n.y=this.y0+this.a*f*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),n):(a=Mp(this.es),o=Sp(this.es),l=Fp(this.es),c=Up(this.es),Math.abs(this.sin_p12-1)<=zt?(A=this.a*ya(a,o,l,c,Lt),u=this.a*ya(a,o,l,c,t),n.x=this.x0+(A-u)*Math.sin(s),n.y=this.y0-(A-u)*Math.cos(s),n):Math.abs(this.sin_p12+1)<=zt?(A=this.a*ya(a,o,l,c,Lt),u=this.a*ya(a,o,l,c,t),n.x=this.x0+(A+u)*Math.sin(s),n.y=this.y0+(A+u)*Math.cos(s),n):Math.abs(e)<zt&&Math.abs(t-this.lat0)<zt?(n.x=n.y=0,n):(g=oFe(this.lat0,this.long0,t,e,this.a,this.f),_=g.azi1,n.x=g.s12*Math.sin(_),n.y=g.s12*Math.cos(_),n))}function uFe(n){n.x-=this.x0,n.y-=this.y0;var e,t,r,i,s,a,o,l,c,A,u,h,f,d,g,_;return this.sphere?(e=Math.sqrt(n.x*n.x+n.y*n.y),e>2*Lt*this.a?void 0:(t=e/this.a,r=Math.sin(t),i=Math.cos(t),s=this.long0,Math.abs(e)<=zt?a=this.lat0:(a=fu(i*this.sin_p12+n.y*r*this.cos_p12/e),o=Math.abs(this.lat0)-Lt,Math.abs(o)<=zt?this.lat0>=0?s=Gt(this.long0+Math.atan2(n.x,-n.y),this.over):s=Gt(this.long0-Math.atan2(-n.x,n.y),this.over):s=Gt(this.long0+Math.atan2(n.x*r,e*this.cos_p12*i-n.y*this.sin_p12*r),this.over)),n.x=s,n.y=a,n)):(l=Mp(this.es),c=Sp(this.es),A=Fp(this.es),u=Up(this.es),Math.abs(this.sin_p12-1)<=zt?(h=this.a*ya(l,c,A,u,Lt),e=Math.sqrt(n.x*n.x+n.y*n.y),f=h-e,a=fy(f/this.a,l,c,A,u),s=Gt(this.long0+Math.atan2(n.x,-1*n.y),this.over),n.x=s,n.y=a,n):Math.abs(this.sin_p12+1)<=zt?(h=this.a*ya(l,c,A,u,Lt),e=Math.sqrt(n.x*n.x+n.y*n.y),f=e-h,a=fy(f/this.a,l,c,A,u),s=Gt(this.long0+Math.atan2(n.x,n.y),this.over),n.x=s,n.y=a,n):(d=Math.atan2(n.x,n.y),g=Math.sqrt(n.x*n.x+n.y*n.y),_=lFe(this.lat0,this.long0,d,g,this.a,this.f),n.x=_.lon2,n.y=_.lat2,n))}var fFe=["Azimuthal_Equidistant","aeqd"];const hFe={init:cFe,forward:AFe,inverse:uFe,names:fFe};function dFe(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function gFe(n){var e,t,r,i,s,a,o,l,c=n.x,A=n.y;return r=Gt(c-this.long0,this.over),e=Math.sin(A),t=Math.cos(A),i=Math.cos(r),a=this.sin_p14*e+this.cos_p14*t*i,s=1,(a>0||Math.abs(a)<=zt)&&(o=this.a*s*t*Math.sin(r),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*t*i)),n.x=o,n.y=l,n}function pFe(n){var e,t,r,i,s,a,o;return n.x-=this.x0,n.y-=this.y0,e=Math.sqrt(n.x*n.x+n.y*n.y),t=fu(e/this.a),r=Math.sin(t),i=Math.cos(t),a=this.long0,Math.abs(e)<=zt?(o=this.lat0,n.x=a,n.y=o,n):(o=fu(i*this.sin_p14+n.y*r*this.cos_p14/e),s=Math.abs(this.lat0)-Lt,Math.abs(s)<=zt?(this.lat0>=0?a=Gt(this.long0+Math.atan2(n.x,-n.y),this.over):a=Gt(this.long0-Math.atan2(-n.x,n.y),this.over),n.x=a,n.y=o,n):(a=Gt(this.long0+Math.atan2(n.x*r,e*this.cos_p14*i-n.y*this.sin_p14*r),this.over),n.x=a,n.y=o,n))}var _Fe=["ortho"];const mFe={init:dFe,forward:gFe,inverse:pFe,names:_Fe};var li={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},yr={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function yFe(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Lt-mr/2?this.face=li.TOP:this.lat0<=-(Lt-mr/2)?this.face=li.BOTTOM:Math.abs(this.long0)<=mr?this.face=li.FRONT:Math.abs(this.long0)<=Lt+mr?this.face=this.long0>0?li.RIGHT:li.LEFT:this.face=li.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function bFe(n){var e={x:0,y:0},t,r,i,s,a,o,l={value:0};if(n.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(n.y)):t=n.y,r=n.x,this.face===li.TOP)s=Lt-t,r>=mr&&r<=Lt+mr?(l.value=yr.AREA_0,i=r-Lt):r>Lt+mr||r<=-(Lt+mr)?(l.value=yr.AREA_1,i=r>0?r-Ui:r+Ui):r>-(Lt+mr)&&r<=-mr?(l.value=yr.AREA_2,i=r+Lt):(l.value=yr.AREA_3,i=r);else if(this.face===li.BOTTOM)s=Lt+t,r>=mr&&r<=Lt+mr?(l.value=yr.AREA_0,i=-r+Lt):r<mr&&r>=-mr?(l.value=yr.AREA_1,i=-r):r<-mr&&r>=-(Lt+mr)?(l.value=yr.AREA_2,i=-r-Lt):(l.value=yr.AREA_3,i=r>0?-r+Ui:-r-Ui);else{var c,A,u,h,f,d,g;this.face===li.RIGHT?r=Xh(r,+Lt):this.face===li.BACK?r=Xh(r,+Ui):this.face===li.LEFT&&(r=Xh(r,-Lt)),h=Math.sin(t),f=Math.cos(t),d=Math.sin(r),g=Math.cos(r),c=f*g,A=f*d,u=h,this.face===li.FRONT?(s=Math.acos(c),i=O4(s,u,A,l)):this.face===li.RIGHT?(s=Math.acos(A),i=O4(s,u,-c,l)):this.face===li.BACK?(s=Math.acos(-c),i=O4(s,u,-A,l)):this.face===li.LEFT?(s=Math.acos(-A),i=O4(s,u,c,l)):(s=i=0,l.value=yr.AREA_0)}return o=Math.atan(12/Ui*(i+Math.acos(Math.sin(i)*Math.cos(mr))-Lt)),a=Math.sqrt((1-Math.cos(s))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===yr.AREA_1?o+=Lt:l.value===yr.AREA_2?o+=Ui:l.value===yr.AREA_3&&(o+=1.5*Ui),e.x=a*Math.cos(o),e.y=a*Math.sin(o),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,n.x=e.x,n.y=e.y,n}function vFe(n){var e={lam:0,phi:0},t,r,i,s,a,o,l,c,A,u={value:0};if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,r=Math.atan(Math.sqrt(n.x*n.x+n.y*n.y)),t=Math.atan2(n.y,n.x),n.x>=0&&n.x>=Math.abs(n.y)?u.value=yr.AREA_0:n.y>=0&&n.y>=Math.abs(n.x)?(u.value=yr.AREA_1,t-=Lt):n.x<0&&-n.x>=Math.abs(n.y)?(u.value=yr.AREA_2,t=t<0?t+Ui:t-Ui):(u.value=yr.AREA_3,t+=Lt),A=Ui/12*Math.tan(t),a=Math.sin(A)/(Math.cos(A)-1/Math.sqrt(2)),o=Math.atan(a),i=Math.cos(t),s=Math.tan(r),l=1-i*i*s*s*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===li.TOP)c=Math.acos(l),e.phi=Lt-c,u.value===yr.AREA_0?e.lam=o+Lt:u.value===yr.AREA_1?e.lam=o<0?o+Ui:o-Ui:u.value===yr.AREA_2?e.lam=o-Lt:e.lam=o;else if(this.face===li.BOTTOM)c=Math.acos(l),e.phi=c-Lt,u.value===yr.AREA_0?e.lam=-o+Lt:u.value===yr.AREA_1?e.lam=-o:u.value===yr.AREA_2?e.lam=-o-Lt:e.lam=o<0?-o-Ui:-o+Ui;else{var h,f,d;h=l,A=h*h,A>=1?d=0:d=Math.sqrt(1-A)*Math.sin(o),A+=d*d,A>=1?f=0:f=Math.sqrt(1-A),u.value===yr.AREA_1?(A=f,f=-d,d=A):u.value===yr.AREA_2?(f=-f,d=-d):u.value===yr.AREA_3&&(A=f,f=d,d=-A),this.face===li.RIGHT?(A=h,h=-f,f=A):this.face===li.BACK?(h=-h,f=-f):this.face===li.LEFT&&(A=h,h=f,f=-A),e.phi=Math.acos(-d)-Lt,e.lam=Math.atan2(f,h),this.face===li.RIGHT?e.lam=Xh(e.lam,-Lt):this.face===li.BACK?e.lam=Xh(e.lam,-Ui):this.face===li.LEFT&&(e.lam=Xh(e.lam,+Lt))}if(this.es!==0){var g,_,m;g=e.phi<0?1:0,_=Math.tan(e.phi),m=this.b/Math.sqrt(_*_+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-m*m)/(this.one_minus_f*m)),g&&(e.phi=-e.phi)}return e.lam+=this.long0,n.x=e.lam,n.y=e.phi,n}function O4(n,e,t,r){var i;return n<zt?(r.value=yr.AREA_0,i=0):(i=Math.atan2(e,t),Math.abs(i)<=mr?r.value=yr.AREA_0:i>mr&&i<=Lt+mr?(r.value=yr.AREA_1,i-=Lt):i>Lt+mr||i<=-(Lt+mr)?(r.value=yr.AREA_2,i=i>=0?i-Ui:i+Ui):(r.value=yr.AREA_3,i+=Lt)),i}function Xh(n,e){var t=n+e;return t<-Ui?t+=np:t>+Ui&&(t-=np),t}var wFe=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const LFe={init:yFe,forward:bFe,inverse:vFe,names:wFe};var wL=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],xg=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],OG=.8487,zG=1.3523,HG=Da/5,xFe=1/HG,wh=18,hy=function(n,e){return n[0]+e*(n[1]+e*(n[2]+e*n[3]))},RFe=function(n,e){return n[1]+e*(2*n[2]+e*3*n[3])};function BFe(n,e,t,r){for(var i=e;r;--r){var s=n(i);if(i-=s,Math.abs(s)<t)break}return i}function EFe(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function CFe(n){var e=Gt(n.x-this.long0,this.over),t=Math.abs(n.y),r=Math.floor(t*HG);r<0?r=0:r>=wh&&(r=wh-1),t=Da*(t-xFe*r);var i={x:hy(wL[r],t)*e,y:hy(xg[r],t)};return n.y<0&&(i.y=-i.y),i.x=i.x*this.a*OG+this.x0,i.y=i.y*this.a*zG+this.y0,i}function IFe(n){var e={x:(n.x-this.x0)/(this.a*OG),y:Math.abs(n.y-this.y0)/(this.a*zG)};if(e.y>=1)e.x/=wL[wh][0],e.y=n.y<0?-Lt:Lt;else{var t=Math.floor(e.y*wh);for(t<0?t=0:t>=wh&&(t=wh-1);;)if(xg[t][0]>e.y)--t;else if(xg[t+1][0]<=e.y)++t;else break;var r=xg[t],i=5*(e.y-r[0])/(xg[t+1][0]-r[0]);i=BFe(function(s){return(hy(r,s)-e.y)/RFe(r,s)},i,zt,100),e.x/=hy(wL[t],i),e.y=(5*t+i)*yi,n.y<0&&(e.y=-e.y)}return e.x=Gt(e.x+this.long0,this.over),e}var TFe=["Robinson","robin"];const MFe={init:EFe,forward:CFe,inverse:IFe,names:TFe};function SFe(){this.name="geocent"}function FFe(n){var e=CG(n,this.es,this.a);return e}function UFe(n){var e=IG(n,this.es,this.a,this.b);return e}var NFe=["Geocentric","geocentric","geocent","Geocent"];const kFe={init:SFe,forward:FFe,inverse:UFe,names:NFe};var Js={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Y2={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function PFe(){if(Object.keys(Y2).forEach((function(t){if(typeof this[t]>"u")this[t]=Y2[t].def;else{if(Y2[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);Y2[t].num&&(this[t]=parseFloat(this[t]))}Y2[t].degrees&&(this[t]=this[t]*yi)}).bind(this)),Math.abs(Math.abs(this.lat0)-Lt)<zt?this.mode=this.lat0<0?Js.S_POLE:Js.N_POLE:Math.abs(this.lat0)<zt?this.mode=Js.EQUIT:(this.mode=Js.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var n=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(n),this.sw=Math.sin(n)}function DFe(n){n.x-=this.long0;var e=Math.sin(n.y),t=Math.cos(n.y),r=Math.cos(n.x),i,s;switch(this.mode){case Js.OBLIQ:s=this.sinph0*e+this.cosph0*t*r;break;case Js.EQUIT:s=t*r;break;case Js.S_POLE:s=-e;break;case Js.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),i=s*t*Math.sin(n.x),this.mode){case Js.OBLIQ:s*=this.cosph0*e-this.sinph0*t*r;break;case Js.EQUIT:s*=e;break;case Js.N_POLE:s*=-(t*r);break;case Js.S_POLE:s*=t*r;break}var a,o;return a=s*this.cg+i*this.sg,o=1/(a*this.sw*this.h1+this.cw),i=(i*this.cg-s*this.sg)*this.cw*o,s=a*o,n.x=i*this.a,n.y=s*this.a,n}function OFe(n){n.x/=this.a,n.y/=this.a;var e={x:n.x,y:n.y},t,r,i;i=1/(this.pn1-n.y*this.sw),t=this.pn1*n.x*i,r=this.pn1*n.y*this.cw*i,n.x=t*this.cg+r*this.sg,n.y=r*this.cg-t*this.sg;var s=ka(n.x,n.y);if(Math.abs(s)<zt)e.x=0,e.y=n.y;else{var a,o;switch(o=1-s*s*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/s+s/this.pn1),a=Math.sqrt(1-o*o),this.mode){case Js.OBLIQ:e.y=Math.asin(a*this.sinph0+n.y*o*this.cosph0/s),n.y=(a-this.sinph0*Math.sin(e.y))*s,n.x*=o*this.cosph0;break;case Js.EQUIT:e.y=Math.asin(n.y*o/s),n.y=a*s,n.x*=o;break;case Js.N_POLE:e.y=Math.asin(a),n.y=-n.y;break;case Js.S_POLE:e.y=-Math.asin(a);break}e.x=Math.atan2(n.x,n.y)}return n.x=e.x+this.long0,n.y=e.y,n}var zFe=["Tilted_Perspective","tpers"];const HFe={init:PFe,forward:DFe,inverse:OFe,names:zFe};function QFe(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var n=1-this.es,e=1/n;this.radius_p=Math.sqrt(n),this.radius_p2=n,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function jFe(n){var e=n.x,t=n.y,r,i,s,a;if(e=e-this.long0,this.shape==="ellipse"){t=Math.atan(this.radius_p2*Math.tan(t));var o=this.radius_p/ka(this.radius_p*Math.cos(t),Math.sin(t));if(i=o*Math.cos(e)*Math.cos(t),s=o*Math.sin(e)*Math.cos(t),a=o*Math.sin(t),(this.radius_g-i)*i-s*s-a*a*this.radius_p_inv2<0)return n.x=Number.NaN,n.y=Number.NaN,n;r=this.radius_g-i,this.flip_axis?(n.x=this.radius_g_1*Math.atan(s/ka(a,r)),n.y=this.radius_g_1*Math.atan(a/r)):(n.x=this.radius_g_1*Math.atan(s/r),n.y=this.radius_g_1*Math.atan(a/ka(s,r)))}else this.shape==="sphere"&&(r=Math.cos(t),i=Math.cos(e)*r,s=Math.sin(e)*r,a=Math.sin(t),r=this.radius_g-i,this.flip_axis?(n.x=this.radius_g_1*Math.atan(s/ka(a,r)),n.y=this.radius_g_1*Math.atan(a/r)):(n.x=this.radius_g_1*Math.atan(s/r),n.y=this.radius_g_1*Math.atan(a/ka(s,r))));return n.x=n.x*this.a,n.y=n.y*this.a,n}function YFe(n){var e=-1,t=0,r=0,i,s,a,o;if(n.x=n.x/this.a,n.y=n.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(n.y/this.radius_g_1),t=Math.tan(n.x/this.radius_g_1)*ka(1,r)):(t=Math.tan(n.x/this.radius_g_1),r=Math.tan(n.y/this.radius_g_1)*ka(1,t));var l=r/this.radius_p;if(i=t*t+l*l+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return n.x=Number.NaN,n.y=Number.NaN,n;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,t*=o,r*=o,n.x=Math.atan2(t,e),n.y=Math.atan(r*Math.cos(n.x)/e),n.y=Math.atan(this.radius_p_inv2*Math.tan(n.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(n.y/this.radius_g_1),t=Math.tan(n.x/this.radius_g_1)*Math.sqrt(1+r*r)):(t=Math.tan(n.x/this.radius_g_1),r=Math.tan(n.y/this.radius_g_1)*Math.sqrt(1+t*t)),i=t*t+r*r+e*e,s=2*this.radius_g*e,a=s*s-4*i*this.C,a<0)return n.x=Number.NaN,n.y=Number.NaN,n;o=(-s-Math.sqrt(a))/(2*i),e=this.radius_g+o*e,t*=o,r*=o,n.x=Math.atan2(t,e),n.y=Math.atan(r*Math.cos(n.x)/e)}return n.x=n.x+this.long0,n}var GFe=["Geostationary Satellite View","Geostationary_Satellite","geos"];const VFe={init:QFe,forward:jFe,inverse:YFe,names:GFe};var c3=1.340264,A3=-.081106,u3=893e-6,f3=.003796,dy=Math.sqrt(3)/2;function KFe(){this.es=0,this.long0=this.long0!==void 0?this.long0:0,this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0}function $Fe(n){var e=Gt(n.x-this.long0,this.over),t=n.y,r=Math.asin(dy*Math.sin(t)),i=r*r,s=i*i*i;return n.x=e*Math.cos(r)/(dy*(c3+3*A3*i+s*(7*u3+9*f3*i))),n.y=r*(c3+A3*i+s*(u3+f3*i)),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function WFe(n){n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a;var e=1e-9,t=12,r=n.y,i,s,a,o,l,c;for(c=0;c<t&&(i=r*r,s=i*i*i,a=r*(c3+A3*i+s*(u3+f3*i))-n.y,o=c3+3*A3*i+s*(7*u3+9*f3*i),r-=l=a/o,!(Math.abs(l)<e));++c);return i=r*r,s=i*i*i,n.x=dy*n.x*(c3+3*A3*i+s*(7*u3+9*f3*i))/Math.cos(r),n.y=Math.asin(Math.sin(r)/dy),n.x=Gt(n.x+this.long0,this.over),n}var qFe=["eqearth","Equal Earth","Equal_Earth"];const XFe={init:KFe,forward:$Fe,inverse:WFe,names:qFe};var sp=1e-10;function JFe(){var n;if(this.phi1=this.lat1,Math.abs(this.phi1)<sp)throw new Error;this.es?(this.en=UB(this.es),this.m1=qd(this.phi1,this.am1=Math.sin(this.phi1),n=Math.cos(this.phi1),this.en),this.am1=n/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=eUe,this.forward=ZFe):(Math.abs(this.phi1)+sp>=Lt?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=nUe,this.forward=tUe)}function ZFe(n){var e=Gt(n.x-(this.long0||0),this.over),t=n.y,r,i,s;return r=this.am1+this.m1-qd(t,i=Math.sin(t),s=Math.cos(t),this.en),i=s*e/(r*Math.sqrt(1-this.es*i*i)),n.x=r*Math.sin(i),n.y=this.am1-r*Math.cos(i),n.x=this.a*n.x+(this.x0||0),n.y=this.a*n.y+(this.y0||0),n}function eUe(n){n.x=(n.x-(this.x0||0))/this.a,n.y=(n.y-(this.y0||0))/this.a;var e,t,r,i;if(t=ka(n.x,n.y=this.am1-n.y),i=NB(this.am1+this.m1-t,this.es,this.en),(e=Math.abs(i))<Lt)e=Math.sin(i),r=t*Math.atan2(n.x,n.y)*Math.sqrt(1-this.es*e*e)/Math.cos(i);else if(Math.abs(e-Lt)<=sp)r=0;else throw new Error;return n.x=Gt(r+(this.long0||0),this.over),n.y=bu(i),n}function tUe(n){var e=Gt(n.x-(this.long0||0),this.over),t=n.y,r,i;return i=this.cphi1+this.phi1-t,Math.abs(i)>sp?(n.x=i*Math.sin(r=e*Math.cos(t)/i),n.y=this.cphi1-i*Math.cos(r)):n.x=n.y=0,n.x=this.a*n.x+(this.x0||0),n.y=this.a*n.y+(this.y0||0),n}function nUe(n){n.x=(n.x-(this.x0||0))/this.a,n.y=(n.y-(this.y0||0))/this.a;var e,t,r=ka(n.x,n.y=this.cphi1-n.y);if(t=this.cphi1+this.phi1-r,Math.abs(t)>Lt)throw new Error;return Math.abs(Math.abs(t)-Lt)<=sp?e=0:e=r*Math.atan2(n.x,n.y)/Math.cos(t),n.x=Gt(e+(this.long0||0),this.over),n.y=bu(t),n}var rUe=["bonne","Bonne (Werner lat_1=90)"];const iUe={init:JFe,names:rUe},jU={OBLIQUE:{forward:cUe,inverse:uUe},TRANSVERSE:{forward:AUe,inverse:fUe}},gy={ROTATE:{o_alpha:"oAlpha",o_lon_c:"oLongC",o_lat_c:"oLatC"},NEW_POLE:{o_lat_p:"oLatP",o_lon_p:"oLongP"},NEW_EQUATOR:{o_lon_1:"oLong1",o_lat_1:"oLat1",o_lon_2:"oLong2",o_lat_2:"oLat2"}};function sUe(){if(this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.title=this.title||"General Oblique Transformation",this.isIdentity=xG.includes(this.o_proj),!this.o_proj)throw new Error("Missing parameter: o_proj");if(this.o_proj==="ob_tran")throw new Error("Invalid value for o_proj: "+this.o_proj);const n=this.projStr.replace("+proj=ob_tran","").replace("+o_proj=","+proj=").trim(),e=rl(n);if(!e)throw new Error("Invalid parameter: o_proj. Unknown projection "+this.o_proj);e.long0=0,this.obliqueProjection=e;let t;const r=Object.keys(gy),i=o=>{if(typeof this[o]>"u")return;const l=parseFloat(this[o])*yi;if(isNaN(l))throw new Error("Invalid value for "+o+": "+this[o]);return l};for(let o=0;o<r.length;o++){const l=r[o],c=gy[l],A=Object.entries(c);if(A.some(([h])=>typeof this[h]<"u")){t=c;for(let h=0;h<A.length;h++){const[f,d]=A[h],g=i(f);if(typeof g>"u")throw new Error("Missing parameter: "+f+".");this[d]=g}break}}if(!t)throw new Error("No valid parameters provided for ob_tran projection.");const{lamp:s,phip:a}=lUe(this,t);this.lamp=s,Math.abs(a)>zt?(this.cphip=Math.cos(a),this.sphip=Math.sin(a),this.projectionType=jU.OBLIQUE):this.projectionType=jU.TRANSVERSE}function aUe(n){return this.projectionType.forward(this,n)}function oUe(n){return this.projectionType.inverse(this,n)}function lUe(n,e){let t,r;if(e===gy.ROTATE){let i=n.oLongC,s=n.oLatC,a=n.oAlpha;if(Math.abs(Math.abs(s)-Lt)<=zt)throw new Error("Invalid value for o_lat_c: "+n.o_lat_c+" should be < 90");r=i+Math.atan2(-1*Math.cos(a),-1*Math.sin(a)*Math.sin(s)),t=Math.asin(Math.cos(s)*Math.sin(a))}else if(e===gy.NEW_POLE)r=n.oLongP,t=n.oLatP;else{let i=n.oLong1,s=n.oLat1,a=n.oLong2,o=n.oLat2,l=Math.abs(s);if(Math.abs(s)>Lt-zt)throw new Error("Invalid value for o_lat_1: "+n.o_lat_1+" should be < 90");if(Math.abs(o)>Lt-zt)throw new Error("Invalid value for o_lat_2: "+n.o_lat_2+" should be < 90");if(Math.abs(s-o)<zt)throw new Error("Invalid value for o_lat_1 and o_lat_2: o_lat_1 should be different from o_lat_2");if(l<zt)throw new Error("Invalid value for o_lat_1: o_lat_1 should be different from zero");r=Math.atan2(Math.cos(s)*Math.sin(o)*Math.cos(i)-Math.sin(s)*Math.cos(o)*Math.cos(a),Math.sin(s)*Math.cos(o)*Math.sin(a)-Math.cos(s)*Math.sin(o)*Math.sin(i)),t=Math.atan(-1*Math.cos(r-i)/Math.tan(s))}return{lamp:r,phip:t}}function cUe(n,e){let{x:t,y:r}=e;t+=n.long0;const i=Math.cos(t),s=Math.sin(r),a=Math.cos(r);e.x=Gt(Math.atan2(a*Math.sin(t),n.sphip*a*i+n.cphip*s)+n.lamp),e.y=Math.asin(n.sphip*s-n.cphip*a*i);const o=n.obliqueProjection.forward(e);return n.isIdentity&&(o.x*=Da,o.y*=Da),o}function AUe(n,e){let{x:t,y:r}=e;t+=n.long0;const i=Math.cos(r),s=Math.cos(t);e.x=Gt(Math.atan2(i*Math.sin(t),Math.sin(r))+n.lamp),e.y=Math.asin(-1*i*s);const a=n.obliqueProjection.forward(e);return n.isIdentity&&(a.x*=Da,a.y*=Da),a}function uUe(n,e){n.isIdentity&&(e.x*=yi,e.y*=yi);const t=n.obliqueProjection.inverse(e);let{x:r,y:i}=t;if(r<Number.MAX_VALUE){r-=n.lamp;const s=Math.cos(r),a=Math.sin(i),o=Math.cos(i);e.x=Math.atan2(o*Math.sin(r),n.sphip*o*s-n.cphip*a),e.y=Math.asin(n.sphip*a+n.cphip*o*s)}return e.x=Gt(e.x+n.long0),e}function fUe(n,e){n.isIdentity&&(e.x*=yi,e.y*=yi);const t=n.obliqueProjection.inverse(e);let{x:r,y:i}=t;if(r<Number.MAX_VALUE){const s=Math.cos(i);r-=n.lamp,e.x=Math.atan2(s*Math.sin(r),-1*Math.sin(i)),e.y=Math.asin(s*Math.cos(r))}return e.x=Gt(e.x+n.long0),e}var hUe=["General Oblique Transformation","General_Oblique_Transformation","ob_tran"];const dUe={init:sUe,forward:aUe,inverse:oUe,names:hUe};function gUe(n){n.Proj.projections.add(Dm),n.Proj.projections.add(Om),n.Proj.projections.add(rMe),n.Proj.projections.add(fMe),n.Proj.projections.add(_Me),n.Proj.projections.add(wMe),n.Proj.projections.add(CMe),n.Proj.projections.add(FMe),n.Proj.projections.add(DMe),n.Proj.projections.add(jMe),n.Proj.projections.add(nSe),n.Proj.projections.add(lSe),n.Proj.projections.add(hSe),n.Proj.projections.add(ySe),n.Proj.projections.add(xSe),n.Proj.projections.add(ISe),n.Proj.projections.add(USe),n.Proj.projections.add(OSe),n.Proj.projections.add(GSe),n.Proj.projections.add(qSe),n.Proj.projections.add(tFe),n.Proj.projections.add(aFe),n.Proj.projections.add(hFe),n.Proj.projections.add(mFe),n.Proj.projections.add(LFe),n.Proj.projections.add(MFe),n.Proj.projections.add(kFe),n.Proj.projections.add(HFe),n.Proj.projections.add(VFe),n.Proj.projections.add(XFe),n.Proj.projections.add(iUe),n.Proj.projections.add(dUe)}const LL=Object.assign(bTe,{defaultDatum:"WGS84",Proj:rl,WGS84:new rl("WGS84"),Point:xd,toPoint:TG,defs:Ns,nadgrid:nTe,transform:uy,mgrs:vTe,version:"__VERSION__"});gUe(LL);const pUe=async n=>new Promise((e,t)=>{const r=new FileReader;r.onload=i=>{var a;const s=(a=i.target)==null?void 0:a.result;s==null||typeof s!="string"||e(s.trim())},r.onerror=i=>{t(i)},r.readAsText(n)}),QG=async n=>{const e=await pUe(n);if(typeof e!="string")throw new Error("Invalid PRJ file content");return e},_Ue=n=>{if(!n)return!1;const e=n.toUpperCase();return!!(e.includes("GCS_WGS_1984")&&e.includes("D_WGS_1984")&&e.includes("WGS_1984")&&e.includes('PRIMEM["GREENWICH"')&&e.includes('UNIT["DEGREE"')||e.includes("+PROJ=LONGLAT")&&e.includes("+DATUM=WGS84"))},YU=4,mUe=(n,e)=>new Promise((t,r)=>{const i=n.features,s=i.length,a=[];let o=0,l=0;if(s===0){t({type:"FeatureCollection",features:[]});return}const c=[],A=[],u=f=>{const{type:d,transformedFeature:g,featureIndex:_,error:m}=f.data;d==="TRANSFORMED_FEATURE"?a.push(g):d==="ERROR"&&console.error(`Error processing feature (original index ${_}): ${m}`),o++;const y=f.target;if(A.push(y),l<s&&A.length>0){const b=A.shift();if(!b){console.error("No available worker found.");return}b.postMessage({feature:i[l],prjContent:e,featureIndex:l}),l++}o===s&&(c.forEach(b=>b.terminate()),t({type:"FeatureCollection",features:a}))},h=f=>{console.error("Main: Worker error caught by onerror:"),console.error(`  Message: ${f.message}`),console.error(`  Filename: ${f.filename}`),console.error(`  Lineno: ${f.lineno}`),console.error(`  Colno: ${f.colno}`),f.error&&console.error("  Error object:",f.error),c.forEach(g=>g.terminate());const d=f.error instanceof Error?f.error.message:f.message;r(new Error(`Worker failed: ${d}`))};for(let f=0;f<YU;f++){const d=new Worker(new URL(""+new URL("../workers/transformer.worker-w4-Co01L.js",import.meta.url).href,import.meta.url),{type:"module"});d.onmessage=u,d.onerror=h,c.push(d),A.push(d)}for(let f=0;f<Math.min(YU,s);f++)if(A.length>0){const d=A.shift();if(!d){console.error("No available worker found.");return}d.postMessage({feature:i[l],prjContent:e,featureIndex:l}),l++}}),yUe=(n,e)=>{const[t,r,i,s]=n,[a,o]=LL(e,"EPSG:4326",[t,r]),[l,c]=LL(e,"EPSG:4326",[i,s]);return[a,o,l,c]},iw=n=>new Promise(e=>{const t=new FileReader;t.onload=r=>{var s;const i=(s=r.target)==null?void 0:s.result;i!=null&&e(i)},t.readAsArrayBuffer(n)}),h3=async(n,e,t)=>{const[r,i]=n&&e?await Promise.all([iw(n),iw(e)]):await Promise.all([iw(n),null]),s=t&&e?await wU(r,i,{encoding:"shift-jis"}):await wU(r);if(!t||!e||_Ue(t))return s;const a=await mUe(s,t);return a||(ci("","error"),s)},jG={3857:{citation:"WGS 84 / Pseudo-Mercator",proj_context:"+proj=merc +a=6378137 +b=6378137 +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +k=1 +units=m +nadgrids=@null +wktext +no_defs +type=crs",area_of_use:{name:"World between 85.06S and 85.06N.",bounds:[-180,-85.06,180,85.06]},datum:"World Geodetic System 1984 ensemble",ellipsoid:{name:"WGS 84",semi_major_axis:6378137,inverse_flattening:298.257223563},projection_method:"Popular Visualisation Pseudo Mercator",name_ja:"Web ",prefecture:""},4326:{citation:"WGS 84",proj_context:"+proj=longlat +datum=WGS84 +no_defs +type=crs",area_of_use:{name:"World.",bounds:[-180,-90,180,90]},datum:"World Geodetic System 1984 ensemble",ellipsoid:{name:"WGS 84",semi_major_axis:6378137,inverse_flattening:298.257223563},projection_method:null,name_ja:"WGS84 / ",prefecture:""},4612:{citation:"JGD2000",proj_context:"+proj=longlat +ellps=GRS80 +no_defs +type=crs",area_of_use:{name:"Japan - onshore and offshore.",bounds:[122.38,17.09,157.65,46.05]},datum:"Japanese Geodetic Datum 2000",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:null,name_ja:"2000 / ",prefecture:""},6668:{citation:"JGD2011",proj_context:"+proj=longlat +ellps=GRS80 +no_defs +type=crs",area_of_use:{name:"Japan - onshore and offshore.",bounds:[122.38,17.09,157.65,46.05]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:null,name_ja:"2011 / ",prefecture:""},6669:{citation:"JGD2011 / Japan Plane Rectangular CS I",proj_context:"+proj=tmerc +lat_0=33 +lon_0=129.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Kyushu west of approximately 130E - Nagasaki-ken; islands of Kagoshima-ken between 27N and 32N and between 12818'E and 130E (between 12818'E and 3013'E for Amami islands).",bounds:[128.17,26.96,130.46,34.74]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 1",prefecture:"",zone:"1"},6670:{citation:"JGD2011 / Japan Plane Rectangular CS II",proj_context:"+proj=tmerc +lat_0=33 +lon_0=131 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Kyushu east of approximately 130E - Fukuoka-ken; Saga-ken; Kumamoto-ken; Oita-ken; Miyazaki-ken; Kagoshima-ken (except for area within Japan Plane Rectangular Coordinate System zone I).",bounds:[129.76,30.18,132.05,33.99]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 2",prefecture:"",zone:"2"},6671:{citation:"JGD2011 / Japan Plane Rectangular CS III",proj_context:"+proj=tmerc +lat_0=36 +lon_0=132.166666666667 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Honshu west of approximately 13315'E - Yamaguchi-ken; Shimane-ken; Hiroshima-ken.",bounds:[130.81,33.72,133.49,36.38]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 3",prefecture:"",zone:"3"},6672:{citation:"JGD2011 / Japan Plane Rectangular CS IV",proj_context:"+proj=tmerc +lat_0=33 +lon_0=133.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Shikoku - Kagawa-ken; Ehime-ken; Tokushima-ken; Kochi-ken.",bounds:[131.95,32.69,134.81,34.45]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 4",prefecture:"",zone:"4"},6673:{citation:"JGD2011 / Japan Plane Rectangular CS V",proj_context:"+proj=tmerc +lat_0=36 +lon_0=134.333333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Honshu between approximately 13315'E and 13510'E - Hyogo-ken; Tottori-ken; Okayama-ken.",bounds:[133.13,34.13,135.47,35.71]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 5",prefecture:"",zone:"5"},6674:{citation:"JGD2011 / Japan Plane Rectangular CS VI",proj_context:"+proj=tmerc +lat_0=36 +lon_0=136 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Honshu between approximately 13510'E and 13645'E - Kyoto-fu; Osaka-fu; Fukui-ken; Shiga-ken; Mie-ken; Nara-ken; Wakayama-ken.",bounds:[134.86,33.4,136.99,36.33]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 6",prefecture:"",zone:"6"},6675:{citation:"JGD2011 / Japan Plane Rectangular CS VII",proj_context:"+proj=tmerc +lat_0=36 +lon_0=137.166666666667 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Honshu between approximately 13615'E and 13745'E - Ishikawa-ken; Toyama-ken; Gifu-ken; Aichi-ken.",bounds:[136.22,34.51,137.84,37.58]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 7",prefecture:"",zone:"7"},6676:{citation:"JGD2011 / Japan Plane Rectangular CS VIII",proj_context:"+proj=tmerc +lat_0=36 +lon_0=138.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Honshu between approximately 13745'E and 139E - Niigata-ken; Nagano-ken; Yamanashi-ken; Shizuoka-ken.",bounds:[137.32,34.54,139.91,38.58]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 8",prefecture:"",zone:"8"},6677:{citation:"JGD2011 / Japan Plane Rectangular CS IX",proj_context:"+proj=tmerc +lat_0=36 +lon_0=139.833333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Honshu - Tokyo-to. (Excludes offshore island areas of Tokyo-to covered by Japan Plane Rectangular Coordinate System zones XIV, XVIII and XIX).",bounds:[138.4,29.31,141.11,37.98]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 9",prefecture:"",zone:"9"},6678:{citation:"JGD2011 / Japan Plane Rectangular CS X",proj_context:"+proj=tmerc +lat_0=40 +lon_0=140.833333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Honshu north of 38N approximately - Aomori-ken; Akita-ken; Yamagata-ken; Iwate-ken; Miyagi-ken.",bounds:[139.49,37.73,142.14,41.58]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 10",prefecture:"",zone:"10"},6679:{citation:"JGD2011 / Japan Plane Rectangular CS XI",proj_context:"+proj=tmerc +lat_0=44 +lon_0=140.25 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Hokkaido west of approximately 141E - Otaru city; Hakodate city; Date city; Usu-gun and Abuta-gun of Iburi-shicho; Hiyama-shicho; Shiribeshi-shicho; Oshima-shicho.",bounds:[139.34,41.34,141.46,43.42]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 11",prefecture:"11",zone:"11"},6680:{citation:"JGD2011 / Japan Plane Rectangular CS XII",proj_context:"+proj=tmerc +lat_0=44 +lon_0=142.25 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Hokkaido between approximately 141E and 143E - Sapporo city; Asahikawa city; Wakkanai city; Rumoi city; Bibai city; Yubari city; Iwamizawa city; Tomakomai city; Muroran city; Shibetsu city; Nayoro city; Ashibetsu city; Akabira city; Mikasa city; Takikawa city; Sunagawa city; Ebetsu city; Chitose city; Utashinai city; Fukagawa city; Monbetsu city; Furano city; Noboribetsu city; Eniwa city; Ishikari-shicho; Monbetsu-gun of Abashiri-shicho; Kamikawa-shicho; Soya-shicho; Hidaka-shicho; Iburi-shicho (except Usu-gun and Abuta-gun); Sorachi-shicho; Rumoi-shicho.",bounds:[140.89,42.15,143.61,45.54]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 12",prefecture:"",zone:"12"},6681:{citation:"JGD2011 / Japan Plane Rectangular CS XIII",proj_context:"+proj=tmerc +lat_0=44 +lon_0=144.25 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Hokkaido east of approximately 143E - Kitami city; Obihiro city; Kushiro city; Abashiri city; Nemuro city; Nemuro-shicho; Kushiro-shicho; Abashiri-shicho (except Monbetsu-gun); Tokachi-shicho.",bounds:[142.61,41.87,145.87,44.4]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 13",prefecture:"13",zone:"13"},6682:{citation:"JGD2011 / Japan Plane Rectangular CS XIV",proj_context:"+proj=tmerc +lat_0=26 +lon_0=142 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Tokyo-to south of 28N and between 14030'E and 143E.",bounds:[141.2,24.67,142.33,27.8]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 14",prefecture:"",zone:"14"},6683:{citation:"JGD2011 / Japan Plane Rectangular CS XV",proj_context:"+proj=tmerc +lat_0=26 +lon_0=127.5 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Okinawa-ken between 126E and 130E.",bounds:[126.63,26.02,128.4,26.91]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 15",prefecture:"",zone:"15"},6684:{citation:"JGD2011 / Japan Plane Rectangular CS XVI",proj_context:"+proj=tmerc +lat_0=26 +lon_0=124 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Okinawa-ken west of 126E.",bounds:[122.83,23.98,125.51,24.94]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 16",prefecture:"16",zone:"16"},6685:{citation:"JGD2011 / Japan Plane Rectangular CS XVII",proj_context:"+proj=tmerc +lat_0=26 +lon_0=131 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore Okinawa-ken east of 130E.",bounds:[131.12,24.4,131.38,26.01]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 17",prefecture:"17",zone:"17"},6686:{citation:"JGD2011 / Japan Plane Rectangular CS XVIII",proj_context:"+proj=tmerc +lat_0=20 +lon_0=136 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Tokyo-to south of 28N and west of 14030'E.",bounds:[136.02,20.37,136.16,20.48]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 18",prefecture:"",zone:"18"},6687:{citation:"JGD2011 / Japan Plane Rectangular CS XIX",proj_context:"+proj=tmerc +lat_0=26 +lon_0=154 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs",area_of_use:{name:"Japan - onshore - Tokyo-to south of 28N and east of 143E - Minamitori-shima (Marcus Island).",bounds:[153.91,24.22,154.05,24.35]},datum:"Japanese Geodetic Datum 2011",ellipsoid:{name:"GRS 1980",semi_major_axis:6378137,inverse_flattening:298.257222101},projection_method:"Transverse Mercator",name_ja:"2011 / 19",prefecture:"",zone:"19"}},bUe=n=>Object.entries(jG).filter(([e])=>n?!(e==="4326"||n.exclude3857&&e==="3857"):!0).map(([e,t])=>({code:e,...t})),xL=n=>jG[n].proj_context;var vUe=we('<div class="pointer-events-none absolute h-full w-full bg-slate-500 opacity-50"></div>');function wUe(n,e){Mt(e,!0);let t=Ne(e,"showDataEntry",15),r=Ne(e,"showDialogType",15),i=Ne(e,"showZoneForm",15),s=Ne(e,"focusBbox",15),a=Oe("");const o=async u=>{var _;let h=null;if(u instanceof File){const m=(_=u.name.split(".").pop())==null?void 0:_.toLowerCase();switch(ee(a,u.name,!0),m){case"geojson":h=await _ne(u);break;case"fgb":h=await HCe(u);break;case"gpx":r("gpx");return;case"shp":case"dbf":case"shx":case"prj":r("shp");return;default:ci("","error");return}}else if(u instanceof FileList){let m,y,b,v;for(let B=0;B<u.length;B++){const C=u[B];C.name.endsWith(".shp")?m=C:C.name.endsWith(".dbf")?y=C:C.name.endsWith(".prj")?b=C:C.name.endsWith(".shx")&&(v=C)}if(m&&y&&b&&v){const B=await QG(b);if(h=await h3(m,y,B),!h){ci("","error");return}ee(a,m.name,!0)}else if(m&&y&&v&&!b){const B=await h3(m);if(!B){ci("","error");return}const C=g5(B);if(I5(C)){const I=xL("4326");if(h=await h3(m,y,I),!h){ci("","error");return}ee(a,m.name,!0)}else{s(C),r("shp"),i(!0);return}}else if(m||y||b||v){r("shp");return}else{o(u[0]);return}}const f=Zy(h);if(!f){ci("","error");return}const d=g5(h);if(!d||!I5(d)){ci("","error");return}const g=e6(h,f,E(a),d);if(!g){ci("","error");return}t(g),ci("","success")};on(()=>{e.dropFile&&o(e.dropFile)});var l=xt(),c=Je(l);{var A=u=>{var h=vUe();Z(u,h)};Te(c,u=>{e.isDragover&&u(A)})}Z(n,l),St()}var LUe=we('<div class="pointer-events-auto grid h-[50px] w-[50px] shrink-0 cursor-grab place-items-center overflow-hidden rounded-full border-3 bg-black/50"><svg class="h-full w-full scale-60" xmlns="http://www.w3.org/2000/svg" width="132" height="132" viewBox="0 0 132 132"><g transform="translate(47,0)"><path fill="#77D4AC" d="m19 0 16.455 66H2.545L19 0Z"></path><path fill="#D9D9D9" d="M19 132 2.546 66h32.909L19 132Z"></path></g></svg></div>');function xUe(n,e){Mt(e,!0),Fl.registerPlugin(Au);let t=Oe(null);const r=s=>(s+180)%360-180;Dt.onRotate(s=>{!E(t)||s==null||E(t)&&Fl.set(E(t),{rotation:s*-1})}),ni(()=>{E(t)&&Au.create(E(t),{type:"rotation",inertia:!0,dragResistance:.5,onDrag(){const s=r(this.rotation);Dt.setBearing(s*-1)},onClick(){Dt.easeTo({bearing:0,pitch:0}),E(t)&&(E(t).style.transform="rotate(0deg)"),this.rotation=0,this.update()},onDragEnd(){const s=Dt.getBearing();s&&s>=-7&&s<=7&&Dt.easeTo({bearing:0})}})});var i=LUe();qn(i,s=>ee(t,s),()=>E(t)),Z(n,i),St()}var RUe=we('<img class="hover:scale-120 absolute h-[50px] w-[50px] rounded-full object-cover transition-all duration-150 svelte-1v76ubl"/>'),BUe=we('<div class="absolute flex h-[50px] w-[50px] items-center justify-center rounded-full bg-gray-400 svelte-1v76ubl"><span class="text-xs text-white svelte-1v76ubl">?</span></div>'),EUe=we('<button class="pointer-events-auto relative grid h-[100px] w-[100px] cursor-pointer place-items-center drop-shadow-md svelte-1v76ubl"><!></button>'),CUe=we('<div class="pointer-events-none relative grid w-[150px] place-items-center svelte-1v76ubl"><!></div>'),IUe=we("<img/>"),TUe=we('<div><span class="text-sm text-white svelte-1v76ubl">?</span></div>'),MUe=we('<div class="c-ripple-effect absolute top-0 h-full w-full rounded-full border-2 border-amber-50 svelte-1v76ubl"></div> <div class="c-ripple-effect2 absolute top-0 h-full w-full rounded-full border-2 border-amber-50 svelte-1v76ubl"></div>',1),SUe=we('<button class="peer pointer-events-auto relative grid h-[50px] w-[50px] cursor-pointer place-items-center drop-shadow-md transition-opacity duration-200 svelte-1v76ubl"><!> <!></button>'),FUe=we('<div class="pointer-none wrap-nowrap bg-base absolute rounded-full p-1 px-2 text-center text-sm text-gray-800 svelte-1v76ubl"> </div>'),UUe=we('<div class="pointer-events-none relative grid w-[150px] place-items-center svelte-1v76ubl"><!></div> <div class="items-top pointer-events-none relative z-10 flex w-[170px] justify-center svelte-1v76ubl"><!></div>',1);function NUe(n,e){Mt(e,!0);let t=Oe(null),r=Oe(null),i=Oe(null),s=Oe(null),a=Oe(null),o=Oe(!1),l=Oe(!1);const c=()=>{Dt.jumpToFac()},A=C=>{Na()||ee(l,C,!0)},u=()=>{e.onClick(e.featureId)},h=new Map;let f=Oe(!1),d=Oe(!1);const g=C=>{if(h.has(C))return h.get(C);const I=new Promise((R,w)=>{const U=new Image;U.onload=()=>R(),U.onerror=()=>w(new Error(`Failed to load image: ${C}`)),U.src=C});return h.set(C,I),I},_=async()=>{const C=e.properties._prop_id;try{if(C==="fac_top"?ee(a,e.properties.image):ee(a,e.properties.iconImage),!E(a)){ee(d,!0);return}await g(E(a)),ee(f,!0),ee(d,!1)}catch(I){console.warn("Failed to load image:",I),ee(d,!0),ee(f,!1)}};ni(async()=>{E(t)&&e.lngLat&&ee(r,new Qr.Marker({element:E(t),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map)),E(s)&&e.lngLat&&ee(i,new Qr.Marker({element:E(s),anchor:"center",offset:[0,40]}).setLngLat(e.lngLat).addTo(e.map)),ee(o,!0),await _()}),Ga(()=>{var C,I;(C=E(r))==null||C.remove(),(I=E(i))==null||I.remove(),ee(r,null),ee(i,null)});const m=Ot(()=>E(f)&&!E(d));var y=xt(),b=Je(y);{var v=C=>{var I=CUe(),R=q(I);{var w=U=>{var M=EUe();M.__click=c,M.__mouseover=()=>A(!0);var F=q(M);{var P=W=>{var re=RUe();Ye(()=>{pt(re,"src",E(a)),pt(re,"alt",e.properties.name)}),Yt(3,re,()=>cr,()=>({duration:100})),Z(W,re)},S=W=>{var re=xt(),G=Je(re);{var ie=X=>{var ge=BUe();Yt(3,ge,()=>cr,()=>({duration:100})),Z(X,ge)};Te(G,X=>{E(d)&&X(ie)},!0)}Z(W,re)};Te(F,W=>{E(m)?W(P):W(S,!1)})}$(M),Bn("focus",M,()=>A(!0)),Bn("blur",M,()=>A(!1)),Bn("mouseleave",M,()=>A(!1)),Z(U,M)};Te(R,U=>{E(o)&&U(w)})}$(I),qn(I,U=>ee(t,U),()=>E(t)),Z(C,I)},B=C=>{var I=UUe(),R=Je(I),w=q(R);{var U=S=>{var W=SUe();W.__click=u,W.__mouseover=()=>A(!0);var re=q(W);{var G=K=>{var N=IUe();Ye(()=>{Xt(N,1,`border-base bg-main border-3 absolute h-full w-full rounded-full object-cover transition-all duration-150 ${E(l)||e.clickId===e.featureId?"scale-120":""}`,"svelte-1v76ubl"),pt(N,"src",E(a)),pt(N,"alt",e.properties.name||"Marker Image")}),Yt(3,N,()=>cr,()=>({duration:100})),Z(K,N)},ie=K=>{var N=xt(),H=Je(N);{var V=j=>{var le=TUe();Ye(()=>Xt(le,1,`border-base border-3 absolute flex h-full w-full items-center justify-center rounded-full bg-gray-400 transition-all duration-150 ${E(l)||e.clickId===e.featureId?"scale-120":""}`,"svelte-1v76ubl")),Yt(3,le,()=>cr,()=>({duration:100})),Z(j,le)};Te(H,j=>{E(d)&&j(V)},!0)}Z(K,N)};Te(re,K=>{E(m)?K(G):K(ie,!1)})}var X=oe(re,2);{var ge=K=>{var N=MUe();jn(2),Z(K,N)};Te(X,K=>{e.clickId===e.featureId&&K(ge)})}$(W),Bn("focus",W,()=>A(!0)),Bn("blur",W,()=>A(!1)),Bn("mouseleave",W,()=>A(!1)),Z(S,W)};Te(w,S=>{E(o)&&S(U)})}$(R),qn(R,S=>ee(t,S),()=>E(t));var M=oe(R,2),F=q(M);{var P=S=>{var W=FUe(),re=q(W,!0);$(W),Ye(()=>yt(re,e.properties.name)),Yt(3,W,()=>br,()=>({duration:200,y:-10,opacity:0})),Z(S,W)};Te(F,S=>{(E(l)||e.clickId===e.featureId)&&E(o)&&S(P)})}$(M),qn(M,S=>ee(s,S),()=>E(s)),Z(C,I)};Te(b,C=>{e.properties._prop_id==="fac_top"?C(v):C(B,!1)})}Z(n,y),St()}Ln(["click","mouseover"]);function kUe(n,e){Mt(e,!0);const t=()=>qt(ud,"$showPoiLayer",s),r=()=>qt(ma,"$isStyleEdit",s),i=()=>qt(YA,"$showSearchMenu",s),[s,a]=Rr();let o=Ne(e,"featureMenuData",15),l=Ne(e,"showSelectionMarker",15),c=Oe(Wr([])),A=Oe(null);const u=()=>{if(!e.map||!Dt.isInitialized()||!t()||!Dt.getLayer(eI[0]))return;const v=e.map.queryRenderedFeatures({layers:eI}),B=[];for(let C=0;C<v.length;C++){const I=v[C],R=I.properties,w=R._prop_id;if(R.iconImage=`${qL}/${w}.webp`,I.geometry.type!=="Point")continue;const U=I.geometry.coordinates,M=I.id;w&&B.push({featureId:M,propId:w,coordinates:U,properties:R})}ee(c,B,!0)},h=NW(()=>{u()},500),f=v=>{const B=E(c).find(R=>R.featureId===v);if(!B)return;const{coordinates:C,properties:I}=B;o({layerId:"fac_poi",featureId:v,properties:I,point:C}),ee(A,v,!0),Dt.panToPoi(new Qr.LngLat(C[0],C[1]))};on(()=>{o()||(ee(A,null),console.warn("Feature menu data is null, resetting clickId."))}),on(()=>{o()&&o().layerId==="fac_poi"?(Dt.setLayoutProperty("fac_poi","symbol-sort-key",["case",["==",["id"],o().featureId],0,1]),ee(A,o().featureId,!0),l(!1)):ee(A,null)}),ni(()=>{Dt.onLoad(v=>{u(),e.map&&(e.map.on("move",h),e.map.on("moveend",u))})}),Ga(()=>{e.map&&(e.map.off("move",h),e.map.off("moveend",u))});let d=Oe(Wr([]));const g=Yy(v=>{ee(d,[...v],!0)},50);on(()=>{g(E(c))});let _=Ot(()=>t()&&!e.showDataEntry&&!e.showZoneForm&&!r()&&!i()&&E(c).length>0);var m=xt(),y=Je(m);{var b=v=>{var B=xt(),C=Je(B);Fn(C,17,()=>E(d),I=>I.propId,(I,R)=>{{let w=Ot(()=>new Qr.LngLat(E(R).coordinates[0],E(R).coordinates[1]));NUe(I,{get map(){return e.map},get lngLat(){return E(w)},get properties(){return E(R).properties},get featureId(){return E(R).featureId},onClick:U=>f(U),get clickId(){return E(A)}})}}),Z(v,B)};Te(y,v=>{E(_)&&v(b)})}Z(n,m),St(),a()}var PUe=we('<div> </div> <div><div class="bg-opacity-80 px-2 font-mono text-[0.6rem] shadow-sm"><div class="border-base border-b-2 border-l-2 border-r-2 pl-2 text-left leading-none" style="min-width: 30px;"></div></div></div>',1);function YG(n,e){Mt(e,!0);const t=()=>qt(C0,"$showLayerMenu",a),r=()=>qt(vi,"$showDataMenu",a),i=()=>qt(Wi,"$showOtherMenu",a),s=()=>qt(k1,"$isMobile",a),[a,o]=Rr();let l=Oe(null),c=Oe(null),A=Oe(""),u=null,h=Ot(()=>t()||r()||i()?!jk():!0);const f=100,d=B=>{const C=Math.pow(10,Math.floor(Math.log(B)/Math.LN10));let I=B/C;return I=I>=10?10:I>=5?5:I>=3?3:I>=2?2:1,C*I},g=B=>B>=1e3?`${B/1e3}km`:`${B}m`,_=(B,C)=>{const I=B.getContainer().clientHeight/2,R=B.getContainer().clientWidth/2,w=B.unproject([R-C/2,I]),U=B.unproject([R+C/2,I]),M=Math.round(B.project(U).x-B.project(w).x),F=Math.min(C,M,B.getContainer().clientWidth);return{distance:w.distanceTo(U),width:F}},m=()=>{if(!u||!E(c))return;const{distance:B,width:C}=_(u,f),I=d(B),R=I/B;E(c).style.width=`${C*R}px`,E(c).textContent=g(I),ee(A,r1e(u),!0)};ni(()=>{Dt.onLoad(()=>{u=Dt.getMap(),u&&m()}),Dt.onMoveEnd(()=>{m()}),vi.subscribe(B=>{E(l)&&(E(l).style.display=B?"none":"block")})}),on(()=>{E(h)&&m()});var y=xt(),b=Je(y);{var v=B=>{var C=PUe(),I=Je(C),R=q(I);$(I);var w=oe(I,2),U=q(w),M=q(U);qn(M,F=>ee(c,F),()=>E(c)),$(U),$(w),qn(w,F=>ee(l,F),()=>E(l)),Ye(()=>{Xt(I,1,`pointer-events-none absolute bottom-1 text-xs max-lg:hidden ${t()&&!s()?"left-[400px]":"left-[15px]"}`),yt(R,`1/${E(A)??""}`),Xt(w,1,`pointer-events-none absolute bottom-1 z-10 text-base opacity-90 ${t()&&!s()?"left-[460px]":"left-[15px]"}`)}),Z(B,C)};Te(b,B=>{E(h)&&B(v)})}Z(n,y),St(),o()}var DUe=we('<div class="pointer-events-none absolute h-full w-full lg:hidden"><div class="absolute right-4 rounded-lg bg-black/50 p-1" style="top: calc(16px + env(safe-area-inset-top));"><!> <!></div> <div class="absolute bottom-18 left-0 rounded-lg"><!></div></div>');function OUe(n){var e=DUe(),t=q(e),r=q(t);oG(r,{});var i=oe(r,2);iG(i,{}),$(t);var s=oe(t,2),a=q(s);YG(a,{}),$(s),$(e),Z(n,e)}const zUe=`struct PointCloudUniforms {
  radiusPixels: f32,
  sizeUnits: i32,
};

@group(0) @binding(3)
var<uniform> pointCloud: PointCloudUniforms;
`,GU=`uniform pointCloudUniforms {
  float radiusPixels;
  highp int sizeUnits;
} pointCloud;
`,HUe={name:"pointCloud",source:zUe,vs:GU,fs:GU,uniformTypes:{radiusPixels:"f32",sizeUnits:"i32"}},QUe=`#version 300 es
#define SHADER_NAME point-cloud-layer-vertex-shader
in vec3 positions;
in vec3 instanceNormals;
in vec4 instanceColors;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in vec3 instancePickingColors;
out vec4 vColor;
out vec2 unitPosition;
void main(void) {
geometry.worldPosition = instancePositions;
geometry.normal = project_normal(instanceNormals);
unitPosition = positions.xy;
geometry.uv = unitPosition;
geometry.pickingColor = instancePickingColors;
vec3 offset = vec3(positions.xy * project_size_to_pixel(pointCloud.radiusPixels, pointCloud.sizeUnits), 0.0);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
vec3 lightColor = lighting_getLightColor(instanceColors.rgb, project.cameraPosition, geometry.position.xyz, geometry.normal);
vColor = vec4(lightColor, instanceColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,jUe=`#version 300 es
#define SHADER_NAME point-cloud-layer-fragment-shader
precision highp float;
in vec4 vColor;
in vec2 unitPosition;
out vec4 fragColor;
void main(void) {
geometry.uv = unitPosition.xy;
float distToCenter = length(unitPosition);
if (distToCenter > 1.0) {
discard;
}
fragColor = vColor;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,YUe=`struct ConstantAttributes {
  instanceNormals: vec3<f32>,
  instanceColors: vec4<f32>,
  instancePositions: vec3<f32>,
  instancePositions64Low: vec3<f32>,
  instancePickingColors: vec3<f32>
};

const constants = ConstantAttributes(
  vec3<f32>(1.0, 0.0, 0.0),
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec3<f32>(0.0),
  vec3<f32>(0.0),
  vec3<f32>(0.0)
);

struct Attributes {
  @builtin(instance_index) instanceIndex : u32,
  @builtin(vertex_index) vertexIndex : u32,
  @location(0) positions: vec3<f32>,
  @location(1) instancePositions: vec3<f32>,
  @location(2) instancePositions64Low: vec3<f32>,
  @location(3) instanceNormals: vec3<f32>,
  @location(4) instanceColors: vec4<f32>,
  @location(5) instancePickingColors: vec3<f32>
};

struct Varyings {
  @builtin(position) position: vec4<f32>,
  @location(0) vColor: vec4<f32>,
  @location(1) unitPosition: vec2<f32>,
};

@vertex
fn vertexMain(attributes: Attributes) -> Varyings {
  var varyings: Varyings;
  
  // var geometry: Geometry;
  // geometry.worldPosition = instancePositions;
  // geometry.normal = project_normal(instanceNormals);

  // position on the containing square in [-1, 1] space
  varyings.unitPosition = attributes.positions.xy;
  geometry.uv = varyings.unitPosition;
  geometry.pickingColor = attributes.instancePickingColors;

  // Find the center of the point and add the current vertex
  let offset = vec3<f32>(attributes.positions.xy * project_unit_size_to_pixel(pointCloud.radiusPixels, pointCloud.sizeUnits), 0.0);
  // DECKGL_FILTER_SIZE(offset, geometry);

  varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, vec3<f32>(0.0)); // TODO , geometry.position);
  // DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
  let clipPixels = project_pixel_size_to_clipspace(offset.xy);
  varyings.position.x += clipPixels.x;
  varyings.position.y += clipPixels.y;

  // Apply lighting
  let lightColor = lighting_getLightColor2(attributes.instanceColors.rgb, project.cameraPosition, geometry.position.xyz, geometry.normal);

  // Apply opacity to instance color, or return instance picking color
  varyings.vColor = vec4(lightColor, attributes.instanceColors.a * color.opacity);
  // DECKGL_FILTER_COLOR(vColor, geometry);

  return varyings;
}

@fragment
fn fragmentMain(varyings: Varyings) -> @location(0) vec4<f32> {
  // var geometry: Geometry;
  // geometry.uv = unitPosition.xy;

  let distToCenter = length(varyings.unitPosition);
  if (distToCenter > 1.0) {
    discard;
  }

  var fragColor: vec4<f32>;

  fragColor = varyings.vColor;
  // DECKGL_FILTER_COLOR(fragColor, geometry);

  // Apply premultiplied alpha as required by transparent canvas
  fragColor = deckgl_premultiplied_alpha(fragColor);

  return fragColor;
}
`,GG=[0,0,0,255],VG=[0,0,1],GUe={sizeUnits:"pixels",pointSize:{type:"number",min:0,value:10},getPosition:{type:"accessor",value:n=>n.position},getNormal:{type:"accessor",value:VG},getColor:{type:"accessor",value:GG},material:!0,radiusPixels:{deprecatedFor:"pointSize"}};function VUe(n){const{header:e,attributes:t}=n;if(!(!e||!t)&&(n.length=e.vertexCount,t.POSITION&&(t.instancePositions=t.POSITION),t.NORMAL&&(t.instanceNormals=t.NORMAL),t.COLOR_0)){const{size:r,value:i}=t.COLOR_0;t.instanceColors={size:r,type:"unorm8",value:i}}}class HB extends Gd{getShaders(){return super.getShaders({vs:QUe,fs:jUe,source:YUe,modules:[HR,epe,WQ,GR,HUe]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:VG},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:GG}})}updateState(e){var i;const{changeFlags:t,props:r}=e;super.updateState(e),t.extensionsChanged&&((i=this.state.model)==null||i.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll()),t.dataChanged&&VUe(r.data)}draw({uniforms:e}){const{pointSize:t,sizeUnits:r}=this.props,i=this.state.model,s={sizeUnits:H3[r],radiusPixels:t};i.shaderInputs.setProps({pointCloud:s}),this.context.device.type==="webgpu"&&(i.instanceCount=this.props.data.length),i.draw(this.context.renderPass)}_getModel(){const e=this.context.device.type==="webgpu"?{depthWriteEnabled:!0,depthCompare:"less-equal"}:void 0,t=[];for(let r=0;r<3;r++){const i=r/3*Math.PI*2;t.push(Math.cos(i)*2,Math.sin(i)*2,0)}return new cu(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new Qh({topology:"triangle-list",attributes:{positions:new Float32Array(t)}}),parameters:e,isInstanced:!0})}}HB.layerName="PointCloudLayer";HB.defaultProps=GUe;function z4(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}const uo={OUTSIDE:-1,INTERSECTING:0,INSIDE:1};new tt;new tt;const G2=new tt,VU=new tt;class Np{constructor(e=[0,0,0],t=0){this.radius=-0,this.center=new tt,this.fromCenterRadius(e,t)}fromCenterRadius(e,t){return this.center.from(e),this.radius=t,this}fromCornerPoints(e,t){return t=G2.from(t),this.center=new tt().from(e).add(t).scale(.5),this.radius=this.center.distance(t),this}equals(e){return this===e||!!e&&this.center.equals(e.center)&&this.radius===e.radius}clone(){return new Np(this.center,this.radius)}union(e){const t=this.center,r=this.radius,i=e.center,s=e.radius,a=G2.copy(i).subtract(t),o=a.magnitude();if(r>=o+s)return this.clone();if(s>=o+r)return e.clone();const l=(r+o+s)*.5;return VU.copy(a).scale((-r+l)/o).add(t),this.center.copy(VU),this.radius=l,this}expand(e){const r=G2.from(e).subtract(this.center).magnitude();return r>this.radius&&(this.radius=r),this}transform(e){this.center.transform(e);const t=Gge(G2,e);return this.radius=Math.max(t[0],Math.max(t[1],t[2]))*this.radius,this}distanceSquaredTo(e){const t=this.distanceTo(e);return t*t}distanceTo(e){const r=G2.from(e).subtract(this.center);return Math.max(0,r.len()-this.radius)}intersectPlane(e){const t=this.center,r=this.radius,s=e.normal.dot(t)+e.distance;return s<-r?uo.OUTSIDE:s<r?uo.INTERSECTING:uo.INSIDE}}const KUe=new tt,$Ue=new tt,H4=new tt,Q4=new tt,j4=new tt,WUe=new tt,qUe=new tt,c0={COLUMN0ROW0:0,COLUMN0ROW1:1,COLUMN0ROW2:2,COLUMN1ROW0:3,COLUMN1ROW1:4,COLUMN1ROW2:5,COLUMN2ROW0:6,COLUMN2ROW1:7,COLUMN2ROW2:8};class kp{constructor(e=[0,0,0],t=[0,0,0,0,0,0,0,0,0]){this.center=new tt().from(e),this.halfAxes=new Ri(t)}get halfSize(){const e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2);return[new tt(e).len(),new tt(t).len(),new tt(r).len()]}get quaternion(){const e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2),i=new tt(e).normalize(),s=new tt(t).normalize(),a=new tt(r).normalize();return new O3().fromMatrix3(new Ri([...i,...s,...a]))}fromCenterHalfSizeQuaternion(e,t,r){const i=new O3(r),s=new Ri().fromQuaternion(i);return s[0]=s[0]*t[0],s[1]=s[1]*t[0],s[2]=s[2]*t[0],s[3]=s[3]*t[1],s[4]=s[4]*t[1],s[5]=s[5]*t[1],s[6]=s[6]*t[2],s[7]=s[7]*t[2],s[8]=s[8]*t[2],this.center=new tt().from(e),this.halfAxes=s,this}clone(){return new kp(this.center,this.halfAxes)}equals(e){return this===e||!!e&&this.center.equals(e.center)&&this.halfAxes.equals(e.halfAxes)}getBoundingSphere(e=new Np){const t=this.halfAxes,r=t.getColumn(0,H4),i=t.getColumn(1,Q4),s=t.getColumn(2,j4),a=KUe.copy(r).add(i).add(s);return e.center.copy(this.center),e.radius=a.magnitude(),e}intersectPlane(e){const t=this.center,r=e.normal,i=this.halfAxes,s=r.x,a=r.y,o=r.z,l=Math.abs(s*i[c0.COLUMN0ROW0]+a*i[c0.COLUMN0ROW1]+o*i[c0.COLUMN0ROW2])+Math.abs(s*i[c0.COLUMN1ROW0]+a*i[c0.COLUMN1ROW1]+o*i[c0.COLUMN1ROW2])+Math.abs(s*i[c0.COLUMN2ROW0]+a*i[c0.COLUMN2ROW1]+o*i[c0.COLUMN2ROW2]),c=r.dot(t)+e.distance;return c<=-l?uo.OUTSIDE:c>=l?uo.INSIDE:uo.INTERSECTING}distanceTo(e){return Math.sqrt(this.distanceSquaredTo(e))}distanceSquaredTo(e){const t=$Ue.from(e).subtract(this.center),r=this.halfAxes,i=r.getColumn(0,H4),s=r.getColumn(1,Q4),a=r.getColumn(2,j4),o=i.magnitude(),l=s.magnitude(),c=a.magnitude();i.normalize(),s.normalize(),a.normalize();let A=0,u;return u=Math.abs(t.dot(i))-o,u>0&&(A+=u*u),u=Math.abs(t.dot(s))-l,u>0&&(A+=u*u),u=Math.abs(t.dot(a))-c,u>0&&(A+=u*u),A}computePlaneDistances(e,t,r=[-0,-0]){let i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;const a=this.center,o=this.halfAxes,l=o.getColumn(0,H4),c=o.getColumn(1,Q4),A=o.getColumn(2,j4),u=WUe.copy(l).add(c).add(A).add(a),h=qUe.copy(u).subtract(e);let f=t.dot(h);return i=Math.min(f,i),s=Math.max(f,s),u.copy(a).add(l).add(c).subtract(A),h.copy(u).subtract(e),f=t.dot(h),i=Math.min(f,i),s=Math.max(f,s),u.copy(a).add(l).subtract(c).add(A),h.copy(u).subtract(e),f=t.dot(h),i=Math.min(f,i),s=Math.max(f,s),u.copy(a).add(l).subtract(c).subtract(A),h.copy(u).subtract(e),f=t.dot(h),i=Math.min(f,i),s=Math.max(f,s),a.copy(u).subtract(l).add(c).add(A),h.copy(u).subtract(e),f=t.dot(h),i=Math.min(f,i),s=Math.max(f,s),a.copy(u).subtract(l).add(c).subtract(A),h.copy(u).subtract(e),f=t.dot(h),i=Math.min(f,i),s=Math.max(f,s),a.copy(u).subtract(l).subtract(c).add(A),h.copy(u).subtract(e),f=t.dot(h),i=Math.min(f,i),s=Math.max(f,s),a.copy(u).subtract(l).subtract(c).subtract(A),h.copy(u).subtract(e),f=t.dot(h),i=Math.min(f,i),s=Math.max(f,s),r[0]=i,r[1]=s,r}transform(e){this.center.transformAsPoint(e);const t=this.halfAxes.getColumn(0,H4);t.transformAsPoint(e);const r=this.halfAxes.getColumn(1,Q4);r.transformAsPoint(e);const i=this.halfAxes.getColumn(2,j4);return i.transformAsPoint(e),this.halfAxes=new Ri([...t,...r,...i]),this}getTransform(){throw new Error("not implemented")}}const KU=new tt,$U=new tt;class yc{constructor(e=[0,0,1],t=0){this.normal=new tt,this.distance=-0,this.fromNormalDistance(e,t)}fromNormalDistance(e,t){return Ml(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}fromPointNormal(e,t){e=KU.from(e),this.normal.from(t).normalize();const r=-this.normal.dot(e);return this.distance=r,this}fromCoefficients(e,t,r,i){return this.normal.set(e,t,r),Ml(Dl(this.normal.len(),1)),this.distance=i,this}clone(){return new yc(this.normal,this.distance)}equals(e){return Dl(this.distance,e.distance)&&Dl(this.normal,e.normal)}getPointDistance(e){return this.normal.dot(e)+this.distance}transform(e){const t=$U.copy(this.normal).transformAsVector(e).normalize(),r=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(r,t)}projectPointOntoPlane(e,t=[0,0,0]){const r=KU.from(e),i=this.getPointDistance(r),s=$U.copy(this.normal).scale(i);return r.subtract(s).to(t)}}const WU=[new tt([1,0,0]),new tt([0,1,0]),new tt([0,0,1])],qU=new tt,XUe=new tt;class Wo{constructor(e=[]){this.planes=e}fromBoundingSphere(e){this.planes.length=2*WU.length;const t=e.center,r=e.radius;let i=0;for(const s of WU){let a=this.planes[i],o=this.planes[i+1];a||(a=this.planes[i]=new yc),o||(o=this.planes[i+1]=new yc);const l=qU.copy(s).scale(-r).add(t);a.fromPointNormal(l,s);const c=qU.copy(s).scale(r).add(t),A=XUe.copy(s).negate();o.fromPointNormal(c,A),i+=2}return this}computeVisibility(e){let t=uo.INSIDE;for(const r of this.planes)switch(e.intersectPlane(r)){case uo.OUTSIDE:return uo.OUTSIDE;case uo.INTERSECTING:t=uo.INTERSECTING;break}return t}computeVisibilityWithPlaneMask(e,t){if(Ml(Number.isFinite(t),"parentPlaneMask is required."),t===Wo.MASK_OUTSIDE||t===Wo.MASK_INSIDE)return t;let r=Wo.MASK_INSIDE;const i=this.planes;for(let s=0;s<this.planes.length;++s){const a=s<31?1<<s:0;if(s<31&&!(t&a))continue;const o=i[s],l=e.intersectPlane(o);if(l===uo.OUTSIDE)return Wo.MASK_OUTSIDE;l===uo.INTERSECTING&&(r|=a)}return r}}Wo.MASK_OUTSIDE=4294967295;Wo.MASK_INSIDE=0;Wo.MASK_INDETERMINATE=2147483647;new tt;new tt;new tt;new tt;new tt;new tt;new tt;new tt;new tt;new tt;new tt;new tt;new tt;new tt;new tt;new tt;new tt;const hc=new Ri,JUe=new Ri,ZUe=new Ri,Y4=new Ri,XU=new Ri;function eNe(n,e={}){const t=T3e,r=10;let i=0,s=0;const a=JUe,o=ZUe;a.identity(),o.copy(n);const l=t*tNe(o);for(;s<r&&nNe(o)>l;)rNe(o,Y4),XU.copy(Y4).transpose(),o.multiplyRight(Y4),o.multiplyLeft(XU),a.multiplyRight(Y4),++i>2&&(++s,i=0);return e.unitary=a.toTarget(e.unitary),e.diagonal=o.toTarget(e.diagonal),e}function tNe(n){let e=0;for(let t=0;t<9;++t){const r=n[t];e+=r*r}return Math.sqrt(e)}const RL=[1,0,0],BL=[2,2,1];function nNe(n){let e=0;for(let t=0;t<3;++t){const r=n[hc.getElementIndex(BL[t],RL[t])];e+=2*r*r}return Math.sqrt(e)}function rNe(n,e){const t=YQ;let r=0,i=1;for(let c=0;c<3;++c){const A=Math.abs(n[hc.getElementIndex(BL[c],RL[c])]);A>r&&(i=c,r=A)}const s=RL[i],a=BL[i];let o=1,l=0;if(Math.abs(n[hc.getElementIndex(a,s)])>t){const c=n[hc.getElementIndex(a,a)],A=n[hc.getElementIndex(s,s)],u=n[hc.getElementIndex(a,s)],h=(c-A)/2/u;let f;h<0?f=-1/(-h+Math.sqrt(1+h*h)):f=1/(h+Math.sqrt(1+h*h)),o=1/Math.sqrt(1+f*f),l=f*o}return Ri.IDENTITY.to(e),e[hc.getElementIndex(s,s)]=e[hc.getElementIndex(a,a)]=o,e[hc.getElementIndex(a,s)]=l,e[hc.getElementIndex(s,a)]=-l,e}const vA=new tt,iNe=new tt,sNe=new tt,aNe=new tt,oNe=new tt,lNe=new Ri,cNe={diagonal:new Ri,unitary:new Ri};function ANe(n,e=new kp){if(!n||n.length===0)return e.halfAxes=new Ri([0,0,0,0,0,0,0,0,0]),e.center=new tt,e;const t=n.length,r=new tt(0,0,0);for(const w of n)r.add(w);const i=1/t;r.multiplyByScalar(i);let s=0,a=0,o=0,l=0,c=0,A=0;for(const w of n){const U=vA.copy(w).subtract(r);s+=U.x*U.x,a+=U.x*U.y,o+=U.x*U.z,l+=U.y*U.y,c+=U.y*U.z,A+=U.z*U.z}s*=i,a*=i,o*=i,l*=i,c*=i,A*=i;const u=lNe;u[0]=s,u[1]=a,u[2]=o,u[3]=a,u[4]=l,u[5]=c,u[6]=o,u[7]=c,u[8]=A;const{unitary:h}=eNe(u,cNe),f=e.halfAxes.copy(h);let d=f.getColumn(0,sNe),g=f.getColumn(1,aNe),_=f.getColumn(2,oNe),m=-Number.MAX_VALUE,y=-Number.MAX_VALUE,b=-Number.MAX_VALUE,v=Number.MAX_VALUE,B=Number.MAX_VALUE,C=Number.MAX_VALUE;for(const w of n)vA.copy(w),m=Math.max(vA.dot(d),m),y=Math.max(vA.dot(g),y),b=Math.max(vA.dot(_),b),v=Math.min(vA.dot(d),v),B=Math.min(vA.dot(g),B),C=Math.min(vA.dot(_),C);d=d.multiplyByScalar(.5*(v+m)),g=g.multiplyByScalar(.5*(B+y)),_=_.multiplyByScalar(.5*(C+b)),e.center.copy(d).add(g).add(_);const I=iNe.set(m-v,y-B,b-C).multiplyByScalar(.5),R=new Ri([I[0],0,0,0,I[1],0,0,0,I[2]]);return e.halfAxes.multiplyRight(R),e}const sw=Math.PI/180,G4=new Float32Array(16),JU=new Float32Array(12);function ZU(n,e,t){const r=e[0]*sw,i=e[1]*sw,s=e[2]*sw,a=Math.sin(s),o=Math.sin(r),l=Math.sin(i),c=Math.cos(s),A=Math.cos(r),u=Math.cos(i),h=t[0],f=t[1],d=t[2];n[0]=h*u*A,n[1]=h*l*A,n[2]=h*-o,n[3]=f*(-l*c+u*o*a),n[4]=f*(u*c+l*o*a),n[5]=f*A*a,n[6]=d*(l*a+u*o*c),n[7]=d*(-u*a+l*o*c),n[8]=d*A*c}function eN(n){return n[0]=n[0],n[1]=n[1],n[2]=n[2],n[3]=n[4],n[4]=n[5],n[5]=n[6],n[6]=n[8],n[7]=n[9],n[8]=n[10],n[9]=n[12],n[10]=n[13],n[11]=n[14],n.subarray(0,12)}const KG={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrixCol0:{size:3,elementOffset:0},instanceModelMatrixCol1:{size:3,elementOffset:3},instanceModelMatrixCol2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(n,{startRow:e,endRow:t}){const{data:r,getOrientation:i,getScale:s,getTranslation:a,getTransformMatrix:o}=this.props,l=Array.isArray(o),c=l&&o.length===16,A=Array.isArray(s),u=Array.isArray(i),h=Array.isArray(a),f=c||!l&&!!o(r[0]);f?n.constant=c:n.constant=u&&A&&h;const d=n.value;if(n.constant){let g;f?(G4.set(o),g=eN(G4)):(g=JU,ZU(g,i,s),g.set(a,9)),n.value=new Float32Array(g)}else{let g=e*n.size;const{iterable:_,objectInfo:m}=Nj(r,e,t);for(const y of _){m.index++;let b;if(f)G4.set(c?o:o(y,m)),b=eN(G4);else{b=JU;const v=u?i:i(y,m),B=A?s:s(y,m);ZU(b,v,B),b.set(h?a:a(y,m),9)}d[g++]=b[0],d[g++]=b[1],d[g++]=b[2],d[g++]=b[3],d[g++]=b[4],d[g++]=b[5],d[g++]=b[6],d[g++]=b[7],d[g++]=b[8],d[g++]=b[9],d[g++]=b[10],d[g++]=b[11]}}}};function $G(n,e){return e===Vn.CARTESIAN||e===Vn.METER_OFFSETS||e===Vn.DEFAULT&&!n.isGeospatial}const tN=`uniform simpleMeshUniforms {
  float sizeScale;
  bool composeModelMatrix;
  bool hasTexture;
  bool flatShading;
} simpleMesh;
`,uNe={name:"simpleMesh",vs:tN,fs:tN,uniformTypes:{sizeScale:"f32",composeModelMatrix:"f32",hasTexture:"f32",flatShading:"f32"}},fNe=`#version 300 es
#define SHADER_NAME simple-mesh-layer-vs
in vec3 positions;
in vec3 normals;
in vec3 colors;
in vec2 texCoords;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in vec4 instanceColors;
in vec3 instancePickingColors;
in vec3 instanceModelMatrixCol0;
in vec3 instanceModelMatrixCol1;
in vec3 instanceModelMatrixCol2;
in vec3 instanceTranslation;
out vec2 vTexCoord;
out vec3 cameraPosition;
out vec3 normals_commonspace;
out vec4 position_commonspace;
out vec4 vColor;
void main(void) {
geometry.worldPosition = instancePositions;
geometry.uv = texCoords;
geometry.pickingColor = instancePickingColors;
vTexCoord = texCoords;
cameraPosition = project.cameraPosition;
vColor = vec4(colors * instanceColors.rgb, instanceColors.a);
mat3 instanceModelMatrix = mat3(instanceModelMatrixCol0, instanceModelMatrixCol1, instanceModelMatrixCol2);
vec3 pos = (instanceModelMatrix * positions) * simpleMesh.sizeScale + instanceTranslation;
if (simpleMesh.composeModelMatrix) {
DECKGL_FILTER_SIZE(pos, geometry);
normals_commonspace = project_normal(instanceModelMatrix * normals);
geometry.worldPosition += pos;
gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);
geometry.position = position_commonspace;
}
else {
pos = project_size(pos);
DECKGL_FILTER_SIZE(pos, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);
geometry.position = position_commonspace;
normals_commonspace = project_normal(instanceModelMatrix * normals);
}
geometry.normal = normals_commonspace;
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,hNe=`#version 300 es
#define SHADER_NAME simple-mesh-layer-fs
precision highp float;
uniform sampler2D sampler;
in vec2 vTexCoord;
in vec3 cameraPosition;
in vec3 normals_commonspace;
in vec4 position_commonspace;
in vec4 vColor;
out vec4 fragColor;
void main(void) {
geometry.uv = vTexCoord;
vec3 normal;
if (simpleMesh.flatShading) {
normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));
} else {
normal = normals_commonspace;
}
vec4 color = simpleMesh.hasTexture ? texture(sampler, vTexCoord) : vColor;
DECKGL_FILTER_COLOR(color, geometry);
vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);
fragColor = vec4(lightColor, color.a * layer.opacity);
}
`;function aw(n){const e=n.positions||n.POSITION;or.assert(e,'no "postions" or "POSITION" attribute in mesh');const t=e.value.length/e.size;let r=n.COLOR_0||n.colors;r||(r={size:3,value:new Float32Array(t*3).fill(1)});let i=n.NORMAL||n.normals;i||(i={size:3,value:new Float32Array(t*3).fill(0)});let s=n.TEXCOORD_0||n.texCoords;return s||(s={size:2,value:new Float32Array(t*2).fill(0)}),{positions:e,colors:r,normals:i,texCoords:s}}function nN(n){return n instanceof Qh?(n.attributes=aw(n.attributes),n):n.attributes?new Qh({...n,topology:"triangle-list",attributes:aw(n.attributes)}):new Qh({topology:"triangle-list",attributes:aw(n)})}const dNe=[0,0,0,255],gNe={mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:dNe},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},textureParameters:{type:"object",ignore:!0,value:null}};class QB extends Gd{getShaders(){return super.getShaders({vs:fNe,fs:hNe,modules:[HR,qQ,GR,uNe]})}getBounds(){var r;if(this.props._instanced)return super.getBounds();let e=this.state.positionBounds;if(e)return e;const{mesh:t}=this.props;if(!t)return null;if(e=(r=t.header)==null?void 0:r.boundingBox,!e){const{attributes:i}=nN(t);i.POSITION=i.POSITION||i.positions,e=DH(i)}return this.state.positionBounds=e,e}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:"float64",fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:"unorm8",transition:!0,size:this.props.colorFormat.length,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:KG}),this.setState({emptyTexture:this.context.device.createTexture({data:new Uint8Array(4),width:1,height:1})})}updateState(e){var s;super.updateState(e);const{props:t,oldProps:r,changeFlags:i}=e;if(t.mesh!==r.mesh||i.extensionsChanged){if(this.state.positionBounds=null,(s=this.state.model)==null||s.destroy(),t.mesh){this.state.model=this.getModel(t.mesh);const a=t.mesh.attributes||t.mesh;this.setState({hasNormals:!!(a.NORMAL||a.normals)})}this.getAttributeManager().invalidateAll()}t.texture!==r.texture&&t.texture instanceof Pa&&this.setTexture(t.texture),this.state.model&&this.state.model.setTopology(this.props.wireframe?"line-strip":"triangle-list")}finalizeState(e){super.finalizeState(e),this.state.emptyTexture.delete()}draw({uniforms:e}){const{model:t}=this.state;if(!t)return;const{viewport:r,renderPass:i}=this.context,{sizeScale:s,coordinateSystem:a,_instanced:o}=this.props,l={sizeScale:s,composeModelMatrix:!o||$G(r,a),flatShading:!this.state.hasNormals};t.shaderInputs.setProps({simpleMesh:l}),t.draw(i)}get isLoaded(){var e;return!!((e=this.state)!=null&&e.model&&super.isLoaded)}getModel(e){const t=new cu(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:nN(e),isInstanced:!0}),{texture:r}=this.props,{emptyTexture:i}=this.state,s={sampler:r||i,hasTexture:!!r};return t.shaderInputs.setProps({simpleMesh:s}),t}setTexture(e){const{emptyTexture:t,model:r}=this.state;if(r){const i={sampler:e||t,hasTexture:!!e};r.shaderInputs.setProps({simpleMesh:i})}}}QB.defaultProps=gNe;QB.layerName="SimpleMeshLayer";const pNe="4.3.3",py={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"};let rN;async function iN(n){b1e(n.modules);const e=v1e("basis");return e||(rN||(rN=_Ne(n)),await rN)}async function _Ne(n){let e=null,t=null;return[e,t]=await Promise.all([await E1(py.TRANSCODER,"textures",n),await E1(py.TRANSCODER_WASM,"textures",n)]),e=e||globalThis.BASIS,await mNe(e,t)}function mNe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(r=>{n(t).then(i=>{const{BasisFile:s,initializeBasis:a}=i;a(),r({BasisFile:s})})})}let ow;async function sN(n){const e=n.modules||{};return e.basisEncoder?e.basisEncoder:(ow=ow||yNe(n),await ow)}async function yNe(n){let e=null,t=null;return[e,t]=await Promise.all([await E1(py.ENCODER,"textures",n),await E1(py.ENCODER_WASM,"textures",n)]),e=e||globalThis.BASIS,await bNe(e,t)}function bNe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(r=>{n(t).then(i=>{const{BasisFile:s,KTX2File:a,initializeBasis:o,BasisEncoder:l}=i;o(),r({BasisFile:s,KTX2File:a,BasisEncoder:l})})})}const Kf={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGBA_ASTC_4X4_KHR:37808},vNe=["","WEBKIT_","MOZ_"],aN={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let V4=null;function wNe(n){if(!V4){n=n||LNe()||void 0,V4=new Set;for(const e of vNe)for(const t in aN)if(n&&n.getExtension(`${e}${t}`)){const r=aN[t];V4.add(r)}}return V4}function LNe(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}const ao=[171,75,84,88,32,50,48,187,13,10,26,10];function xNe(n){const e=new Uint8Array(n);return!(e.byteLength<ao.length||e[0]!==ao[0]||e[1]!==ao[1]||e[2]!==ao[2]||e[3]!==ao[3]||e[4]!==ao[4]||e[5]!==ao[5]||e[6]!==ao[6]||e[7]!==ao[7]||e[8]!==ao[8]||e[9]!==ao[9]||e[10]!==ao[10]||e[11]!==ao[11])}const RNe={etc1:{basisFormat:0,compressed:!0,format:Kf.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:Kf.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:Kf.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:Kf.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:Kf.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:Kf.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};async function BNe(n,e){if(e.basis.containerFormat==="auto"){if(xNe(n)){const r=await sN(e);return oN(r.KTX2File,n,e)}const{BasisFile:t}=await iN(e);return lw(t,n,e)}switch(e.basis.module){case"encoder":const t=await sN(e);switch(e.basis.containerFormat){case"ktx2":return oN(t.KTX2File,n,e);case"basis":default:return lw(t.BasisFile,n,e)}case"transcoder":default:const{BasisFile:r}=await iN(e);return lw(r,n,e)}}function lw(n,e,t){const r=new n(new Uint8Array(e));try{if(!r.startTranscoding())throw new Error("Failed to start basis transcoding");const i=r.getNumImages(),s=[];for(let a=0;a<i;a++){const o=r.getNumLevels(a),l=[];for(let c=0;c<o;c++)l.push(ENe(r,a,c,t));s.push(l)}return s}finally{r.close(),r.delete()}}function ENe(n,e,t,r){const i=n.getImageWidth(e,t),s=n.getImageHeight(e,t),a=n.getHasAlpha(),{compressed:o,format:l,basisFormat:c}=WG(r,a),A=n.getImageTranscodedSizeInBytes(e,t,c),u=new Uint8Array(A);if(!n.transcodeImage(u,e,t,c,0,0))throw new Error("failed to start Basis transcoding");return{width:i,height:s,data:u,compressed:o,format:l,hasAlpha:a}}function oN(n,e,t){const r=new n(new Uint8Array(e));try{if(!r.startTranscoding())throw new Error("failed to start KTX2 transcoding");const i=r.getLevels(),s=[];for(let a=0;a<i;a++)s.push(CNe(r,a,t));return[s]}finally{r.close(),r.delete()}}function CNe(n,e,t){const{alphaFlag:r,height:i,width:s}=n.getImageLevelInfo(e,0,0),{compressed:a,format:o,basisFormat:l}=WG(t,r),c=n.getImageTranscodedSizeInBytes(e,0,0,l),A=new Uint8Array(c);if(!n.transcodeImage(A,e,0,0,l,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:s,height:i,data:A,compressed:a,levelSize:c,hasAlpha:r,format:o}}function WG(n,e){let t=n&&n.basis&&n.basis.format;return t==="auto"&&(t=qG()),typeof t=="object"&&(t=e?t.alpha:t.noAlpha),t=t.toLowerCase(),RNe[t]}function qG(){const n=wNe();return n.has("astc")?"astc-4x4":n.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:n.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:n.has("etc1")?"etc1":n.has("etc2")?"etc2":"rgb565"}const INe={dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:pNe,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},TNe={...INe,parse:BNe};function MNe(n){return{addressModeU:lN(n.wrapS),addressModeV:lN(n.wrapT),magFilter:SNe(n.magFilter),...FNe(n.minFilter)}}function lN(n){switch(n){case 33071:return"clamp-to-edge";case 10497:return"repeat";case 33648:return"mirror-repeat";default:return}}function SNe(n){switch(n){case 9728:return"nearest";case 9729:return"linear";default:return}}function FNe(n){switch(n){case 9728:return{minFilter:"nearest"};case 9729:return{minFilter:"linear"};case 9984:return{minFilter:"nearest",mipmapFilter:"nearest"};case 9985:return{minFilter:"linear",mipmapFilter:"nearest"};case 9986:return{minFilter:"nearest",mipmapFilter:"linear"};case 9987:return{minFilter:"linear",mipmapFilter:"linear"};default:return{}}}function XG(n,e,t,r){const i={defines:{MANUAL_SRGB:!0,SRGB_FAST_APPROXIMATION:!0},bindings:{},uniforms:{camera:[0,0,0],metallicRoughnessValues:[1,1]},parameters:{},glParameters:{},generatedTextures:[]};i.defines.USE_TEX_LOD=!0;const{imageBasedLightingEnvironment:s}=r;return s&&(i.bindings.pbr_diffuseEnvSampler=s.diffuseEnvSampler.texture,i.bindings.pbr_specularEnvSampler=s.specularEnvSampler.texture,i.bindings.pbr_BrdfLUT=s.brdfLutTexture.texture,i.uniforms.scaleIBLAmbient=[1,1]),r!=null&&r.pbrDebug&&(i.defines.PBR_DEBUG=!0,i.uniforms.scaleDiffBaseMR=[0,0,0,0],i.uniforms.scaleFGDSpec=[0,0,0,0]),t.NORMAL&&(i.defines.HAS_NORMALS=!0),t.TANGENT&&(r!=null&&r.useTangents)&&(i.defines.HAS_TANGENTS=!0),t.TEXCOORD_0&&(i.defines.HAS_UV=!0),r!=null&&r.imageBasedLightingEnvironment&&(i.defines.USE_IBL=!0),r!=null&&r.lights&&(i.defines.USE_LIGHTS=!0),e&&UNe(n,e,i),i}function UNe(n,e,t){if(t.uniforms.unlit=!!e.unlit,e.pbrMetallicRoughness&&NNe(n,e.pbrMetallicRoughness,t),e.normalTexture){d3(n,e.normalTexture,"pbr_normalSampler","HAS_NORMALMAP",t);const{scale:r=1}=e.normalTexture;t.uniforms.normalScale=r}if(e.occlusionTexture){d3(n,e.occlusionTexture,"pbr_occlusionSampler","HAS_OCCLUSIONMAP",t);const{strength:r=1}=e.occlusionTexture;t.uniforms.occlusionStrength=r}switch(e.emissiveTexture&&(d3(n,e.emissiveTexture,"pbr_emissiveSampler","HAS_EMISSIVEMAP",t),t.uniforms.emissiveFactor=e.emissiveFactor||[0,0,0]),e.alphaMode||"MASK"){case"MASK":const{alphaCutoff:r=.5}=e;t.defines.ALPHA_CUTOFF=!0,t.uniforms.alphaCutoff=r;break;case"BLEND":mt.warn("glTF BLEND alphaMode might not work well because it requires mesh sorting")(),t.parameters.blend=!0,t.parameters.blendColorOperation="add",t.parameters.blendColorSrcFactor="src-alpha",t.parameters.blendColorDstFactor="one-minus-src-alpha",t.parameters.blendAlphaOperation="add",t.parameters.blendAlphaSrcFactor="one",t.parameters.blendAlphaDstFactor="one-minus-src-alpha",t.glParameters.blend=!0,t.glParameters.blendEquation=32774,t.glParameters.blendFunc=[770,771,1,771];break}}function NNe(n,e,t){e.baseColorTexture&&d3(n,e.baseColorTexture,"pbr_baseColorSampler","HAS_BASECOLORMAP",t),t.uniforms.baseColorFactor=e.baseColorFactor||[1,1,1,1],e.metallicRoughnessTexture&&d3(n,e.metallicRoughnessTexture,"pbr_metallicRoughnessSampler","HAS_METALROUGHNESSMAP",t);const{metallicFactor:r=1,roughnessFactor:i=1}=e;t.uniforms.metallicRoughnessValues=[r,i]}function d3(n,e,t,r,i){var c;const s=e.texture.source.image;let a;s.compressed?a=s:a={data:s};const o={wrapS:10497,wrapT:10497,...(c=e==null?void 0:e.texture)==null?void 0:c.sampler},l=n.createTexture({id:e.uniformName||e.id,sampler:MNe(o),...a});i.bindings[t]=l,r&&(i.defines[r]=!0),i.generatedTextures.push(l)}var s1;(function(n){n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(s1||(s1={}));function kNe(n){switch(n){case s1.POINTS:return"point-list";case s1.LINES:return"line-list";case s1.LINE_STRIP:return"line-strip";case s1.TRIANGLES:return"triangle-list";case s1.TRIANGLE_STRIP:return"triangle-strip";default:throw new Error(String(n))}}const PNe=`
layout(0) positions: vec4; // in vec4 POSITION;

  #ifdef HAS_NORMALS
    in vec4 normals; // in vec4 NORMAL;
  #endif

  #ifdef HAS_TANGENTS
    in vec4 TANGENT;
  #endif

  #ifdef HAS_UV
    // in vec2 TEXCOORD_0;
    in vec2 texCoords;
  #endif

@vertex
  void main(void) {
    vec4 _NORMAL = vec4(0.);
    vec4 _TANGENT = vec4(0.);
    vec2 _TEXCOORD_0 = vec2(0.);

    #ifdef HAS_NORMALS
      _NORMAL = normals;
    #endif

    #ifdef HAS_TANGENTS
      _TANGENT = TANGENT;
    #endif

    #ifdef HAS_UV
      _TEXCOORD_0 = texCoords;
    #endif

    pbr_setPositionNormalTangentUV(positions, _NORMAL, _TANGENT, _TEXCOORD_0);
    gl_Position = u_MVPMatrix * positions;
  }

@fragment
  out vec4 fragmentColor;

  void main(void) {
    vec3 pos = pbr_vPosition;
    fragmentColor = pbr_filterColor(vec4(1.0));
  }
`,DNe=`#version 300 es

  // in vec4 POSITION;
  in vec4 positions;

  #ifdef HAS_NORMALS
    // in vec4 NORMAL;
    in vec4 normals;
  #endif

  #ifdef HAS_TANGENTS
    in vec4 TANGENT;
  #endif

  #ifdef HAS_UV
    // in vec2 TEXCOORD_0;
    in vec2 texCoords;
  #endif

  void main(void) {
    vec4 _NORMAL = vec4(0.);
    vec4 _TANGENT = vec4(0.);
    vec2 _TEXCOORD_0 = vec2(0.);

    #ifdef HAS_NORMALS
      _NORMAL = normals;
    #endif

    #ifdef HAS_TANGENTS
      _TANGENT = TANGENT;
    #endif

    #ifdef HAS_UV
      _TEXCOORD_0 = texCoords;
    #endif

    pbr_setPositionNormalTangentUV(positions, _NORMAL, _TANGENT, _TEXCOORD_0);
    gl_Position = pbrProjection.modelViewProjectionMatrix * positions;
  }
`,ONe=`#version 300 es
  out vec4 fragmentColor;

  void main(void) {
    vec3 pos = pbr_vPosition;
    fragmentColor = pbr_filterColor(vec4(1.0));
  }
`;function zNe(n,e){const{id:t,geometry:r,parsedPPBRMaterial:i,vertexCount:s,modelOptions:a={}}=e;mt.info(4,"createGLTFModel defines: ",i.defines)();const o=[],l={depthWriteEnabled:!0,depthCompare:"less",depthFormat:"depth24plus",cullMode:"back"},c={id:t,source:PNe,vs:DNe,fs:ONe,geometry:r,topology:r.topology,vertexCount:s,modules:[OR],...a,defines:{...i.defines,...a.defines},parameters:{...l,...i.parameters,...a.parameters}},A=new cu(n,c),{camera:u,...h}={...i.uniforms,...a.uniforms,...i.bindings,...a.bindings};return A.shaderInputs.setProps({pbrMaterial:h,pbrProjection:{camera:u}}),new H9({managedResources:o,model:A})}const HNe={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:void 0,lights:!0,useTangents:!1};function QNe(n,e,t={}){const r={...HNe,...t};return e.scenes.map(s=>jNe(n,s,e.nodes,r))}function jNe(n,e,t,r){const s=(e.nodes||[]).map(o=>JG(n,o,t,r));return new jd({id:e.name||e.id,children:s})}function JG(n,e,t,r){if(!e._node){const a=(e.children||[]).map(l=>JG(n,l,t,r));e.mesh&&a.push(YNe(n,e.mesh,r));const o=new jd({id:e.name||e.id,children:a});if(e.matrix)o.setMatrix(e.matrix);else{if(o.matrix.identity(),e.translation&&o.matrix.translate(e.translation),e.rotation){const l=new Yn().fromQuaternion(e.rotation);o.matrix.multiplyRight(l)}e.scale&&o.matrix.scale(e.scale)}e._node=o}const i=t.find(s=>s.id===e.id);return i._node=e._node,e._node}function YNe(n,e,t){if(!e._mesh){const i=(e.primitives||[]).map((a,o)=>GNe(n,a,o,e,t)),s=new jd({id:e.name||e.id,children:i});e._mesh=s}return e._mesh}function GNe(n,e,t,r,i){const s=e.name||`${r.name||r.id}-primitive-${t}`,a=kNe(e.mode||4),o=e.indices?e.indices.count:VNe(e.attributes),l=cN(s,e,a),c=XG(n,e.material,l.attributes,i),A=zNe(n,{id:s,geometry:cN(s,e,a),parsedPPBRMaterial:c,modelOptions:i.modelOptions,vertexCount:o});return A.bounds=[e.attributes.POSITION.min,e.attributes.POSITION.max],A}function VNe(n){throw new Error("getVertexCount not implemented")}function cN(n,e,t){const r={};for(const[i,s]of Object.entries(e.attributes)){const{components:a,size:o,value:l}=s;r[i]={size:o??a,value:l}}return new Qh({id:n,topology:t,indices:e.indices.value,attributes:r})}const cw=new O3;function KNe(n,{input:e,interpolation:t,output:r},i,s){const a=e[e.length-1],o=n%a,l=e.findIndex(h=>h>=o),c=Math.max(0,l-1);if(!Array.isArray(i[s]))switch(s){case"translation":i[s]=[0,0,0];break;case"rotation":i[s]=[0,0,0,1];break;case"scale":i[s]=[1,1,1];break;default:mt.warn(`Bad animation path ${s}`)()}const A=e[c],u=e[l];switch(t){case"STEP":qNe(i,s,r[c]);break;case"LINEAR":if(u>A){const h=(o-A)/(u-A);$Ne(i,s,r[c],r[l],h)}break;case"CUBICSPLINE":if(u>A){const h=(o-A)/(u-A),f=u-A,d=r[3*c+1],g=r[3*c+2],_=r[3*l+0],m=r[3*l+1];WNe(i,s,{p0:d,outTangent0:g,inTangent1:_,p1:m,tDiff:f,ratio:h})}break;default:mt.warn(`Interpolation ${t} not supported`)();break}}function $Ne(n,e,t,r,i){if(!n[e])throw new Error;if(e==="rotation"){cw.slerp({start:t,target:r,ratio:i});for(let s=0;s<cw.length;s++)n[e][s]=cw[s]}else for(let s=0;s<t.length;s++)n[e][s]=i*r[s]+(1-i)*t[s]}function WNe(n,e,{p0:t,outTangent0:r,inTangent1:i,p1:s,tDiff:a,ratio:o}){if(!n[e])throw new Error;for(let l=0;l<n[e].length;l++){const c=r[l]*a,A=i[l]*a;n[e][l]=(2*Math.pow(o,3)-3*Math.pow(o,2)+1)*t[l]+(Math.pow(o,3)-2*Math.pow(o,2)+o)*c+(-2*Math.pow(o,3)+3*Math.pow(o,2))*s[l]+(Math.pow(o,3)-Math.pow(o,2))*A}}function qNe(n,e,t){if(!n[e])throw new Error;for(let r=0;r<t.length;r++)n[e][r]=t[r]}class XNe{constructor(e){z(this,"animation");z(this,"startTime",0);z(this,"playing",!0);z(this,"speed",1);var t;this.animation=e.animation,(t=this.animation).name||(t.name="unnamed"),Object.assign(this,e)}setTime(e){if(!this.playing)return;const r=(e/1e3-this.startTime)*this.speed;this.animation.channels.forEach(({sampler:i,target:s,path:a})=>{KNe(r,i,s,a),eke(s,s._node)})}}class JNe{constructor(e){z(this,"animations");this.animations=e.animations.map((t,r)=>{const i=t.name||`Animation-${r}`;return new XNe({animation:{name:i,channels:t.channels}})})}animate(e){mt.warn("GLTFAnimator#animate is deprecated. Use GLTFAnimator#setTime instead")(),this.setTime(e)}setTime(e){this.animations.forEach(t=>t.setTime(e))}getAnimations(){return this.animations}}const ZNe=new Yn;function eke(n,e){if(e.matrix.identity(),n.translation&&e.matrix.translate(n.translation),n.rotation){const t=ZNe.fromQuaternion(n.rotation);e.matrix.multiplyRight(t)}n.scale&&e.matrix.scale(n.scale)}const tke={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},nke={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function rke(n){var o;const e=nke[n.componentType],t=tke[n.type],r=t*n.count,{buffer:i,byteOffset:s=0}=((o=n.bufferView)==null?void 0:o.data)??{};return{typedArray:new e(i,s+(n.byteOffset||0),r),components:t}}function ike(n){return(n.animations||[]).map((t,r)=>{const i=t.name||`Animation-${r}`,s=t.samplers.map(({input:o,interpolation:l="LINEAR",output:c})=>({input:AN(n.accessors[o]),interpolation:l,output:AN(n.accessors[c])})),a=t.channels.map(({sampler:o,target:l})=>({sampler:s[o],target:n.nodes[l.node??0],path:l.path}));return{name:i,channels:a}})}function AN(n){if(!n._animation){const{typedArray:e,components:t}=rke(n);if(t===1)n._animation=Array.from(e);else{const r=[];for(let i=0;i<e.length;i+=t)r.push(Array.from(e.slice(i,i+t)));n._animation=r}}return n._animation}function EL(n){if(ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof ImageBitmap)return n;if(Array.isArray(n))return n.map(EL);if(n&&typeof n=="object"){const e={};for(const t in n)e[t]=EL(n[t]);return e}return n}function ske(n,e,t){e=EL(e);const r=QNe(n,e,t),i=ike(e),s=new JNe({animations:i});return{scenes:r,animator:s}}function bo(n,e){if(!n)throw new Error(e||"assert failed: gltf")}const ZG={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},eV={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},ake=1.33,uN=["SCALAR","VEC2","VEC3","VEC4"],oke=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],lke=new Map(oke),cke={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ake={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},uke={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function tV(n){return uN[n-1]||uN[0]}function F6(n){const e=lke.get(n.constructor);if(!e)throw new Error("Illegal typed array");return e}function jB(n,e){const t=uke[n.componentType],r=cke[n.type],i=Ake[n.componentType],s=n.count*r,a=n.count*r*i;bo(a>=0&&a<=e.byteLength);const o=eV[n.componentType],l=ZG[n.type];return{ArrayType:t,length:s,byteLength:a,componentByteSize:o,numberOfComponentsInElement:l}}function nV(n){let{images:e,bufferViews:t}=n;e=e||[],t=t||[];const r=e.map(a=>a.bufferView);t=t.filter(a=>!r.includes(a));const i=t.reduce((a,o)=>a+o.byteLength,0),s=e.reduce((a,o)=>{const{width:l,height:c}=o.image;return a+l*c},0);return i+Math.ceil(4*s*ake)}function fke(n,e,t){const r=n.bufferViews[t];bo(r);const i=r.buffer,s=e[i];bo(s);const a=(r.byteOffset||0)+s.byteOffset;return new Uint8Array(s.arrayBuffer,a,r.byteLength)}function hke(n,e,t){var g,_;const r=typeof t=="number"?(g=n.accessors)==null?void 0:g[t]:t;if(!r)throw new Error(`No gltf accessor ${JSON.stringify(t)}`);const i=(_=n.bufferViews)==null?void 0:_[r.bufferView||0];if(!i)throw new Error(`No gltf buffer view for accessor ${i}`);const{arrayBuffer:s,byteOffset:a}=e[i.buffer],o=(a||0)+(r.byteOffset||0)+(i.byteOffset||0),{ArrayType:l,length:c,componentByteSize:A,numberOfComponentsInElement:u}=jB(r,i),h=A*u,f=i.byteStride||h;if(typeof i.byteStride>"u"||i.byteStride===h)return new l(s,o,c);const d=new l(c);for(let m=0;m<r.count;m++){const y=new l(s,o+m*f,u);d.set(y,m*u)}return d}function dke(){return{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]}}class Es{constructor(e){z(this,"gltf");z(this,"sourceBuffers");z(this,"byteLength");this.gltf={json:(e==null?void 0:e.json)||dke(),buffers:(e==null?void 0:e.buffers)||[],images:(e==null?void 0:e.images)||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}hasExtension(e){const t=this.getUsedExtensions().find(i=>i===e),r=this.getRequiredExtensions().find(i=>i===e);return typeof t=="string"||typeof r=="string"}getExtension(e){const t=this.getUsedExtensions().find(i=>i===e),r=this.json.extensions||{};return t?r[e]:null}getRequiredExtension(e){return this.getRequiredExtensions().find(r=>r===e)?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(e,t){return(e.extensions||{})[t]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,t){if(typeof t=="object")return t;const r=this.json[e]&&this.json[e][t];if(!r)throw new Error(`glTF file error: Could not find ${e}[${t}]`);return r}getTypedArrayForBufferView(e){e=this.getBufferView(e);const t=e.buffer,r=this.gltf.buffers[t];bo(r);const i=(e.byteOffset||0)+r.byteOffset;return new Uint8Array(r.arrayBuffer,i,e.byteLength)}getTypedArrayForAccessor(e){const t=this.getAccessor(e);return hke(this.gltf.json,this.gltf.buffers,t)}getTypedArrayForImageData(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),i=this.getBuffer(t.buffer).data,s=t.byteOffset||0;return new Uint8Array(i,s,t.byteLength)}addApplicationData(e,t){return this.json[e]=t,this}addExtraData(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}addObjectExtension(e,t,r){return e.extensions=e.extensions||{},e.extensions[t]=r,this.registerUsedExtension(t),this}setObjectExtension(e,t,r){const i=e.extensions||{};i[t]=r}removeObjectExtension(e,t){const r=(e==null?void 0:e.extensions)||{};if(r[t]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const i=this.json.extensionsRemoved;i.includes(t)||i.push(t)}delete r[t]}addExtension(e,t={}){return bo(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}addRequiredExtension(e,t={}){return bo(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(t=>t===e)||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(t=>t===e)||this.json.extensionsRequired.push(e)}removeExtension(e){var t;if((t=this.json.extensions)!=null&&t[e]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const r=this.json.extensionsRemoved;r.includes(e)||r.push(e)}this.json.extensions&&delete this.json.extensions[e],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e)}setDefaultScene(e){this.json.scene=e}addScene(e){const{nodeIndices:t}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}addNode(e){const{meshIndex:t,matrix:r}=e;this.json.nodes=this.json.nodes||[];const i={mesh:t};return r&&(i.matrix=r),this.json.nodes.push(i),this.json.nodes.length-1}addMesh(e){const{attributes:t,indices:r,material:i,mode:s=4}=e,o={primitives:[{attributes:this._addAttributes(t),mode:s}]};if(r){const l=this._addIndices(r);o.primitives[0].indices=l}return Number.isFinite(i)&&(o.primitives[0].material=i),this.json.meshes=this.json.meshes||[],this.json.meshes.push(o),this.json.meshes.length-1}addPointCloud(e){const r={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(r),this.json.meshes.length-1}addImage(e,t){const r=dR(e),i=t||(r==null?void 0:r.mimeType),a={bufferView:this.addBufferView(e),mimeType:i};return this.json.images=this.json.images||[],this.json.images.push(a),this.json.images.length-1}addBufferView(e,t=0,r=this.byteLength){const i=e.byteLength;bo(Number.isFinite(i)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);const s={buffer:t,byteOffset:r,byteLength:i};return this.byteLength+=Rp(i,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(s),this.json.bufferViews.length-1}addAccessor(e,t){const r={bufferView:e,type:tV(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(r),this.json.accessors.length-1}addBinaryBuffer(e,t={size:3}){const r=this.addBufferView(e);let i={min:t.min,max:t.max};(!i.min||!i.max)&&(i=this._getAccessorMinMax(e,t.size));const s={size:t.size,componentType:F6(e),count:Math.round(e.length/t.size),min:i.min,max:i.max};return this.addAccessor(r,Object.assign(s,t))}addTexture(e){const{imageIndex:t}=e,r={source:t};return this.json.textures=this.json.textures||[],this.json.textures.push(r),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){var s,a;const e=this.byteLength,t=new ArrayBuffer(e),r=new Uint8Array(t);let i=0;for(const o of this.sourceBuffers||[])i=V1e(o,r,i);(a=(s=this.json)==null?void 0:s.buffers)!=null&&a[0]?this.json.buffers[0].byteLength=e:this.json.buffers=[{byteLength:e}],this.gltf.binary=t,this.sourceBuffers=[t],this.gltf.buffers=[{arrayBuffer:t,byteOffset:0,byteLength:t.byteLength}]}_removeStringFromArray(e,t){let r=!0;for(;r;){const i=e.indexOf(t);i>-1?e.splice(i,1):r=!1}}_addAttributes(e={}){const t={};for(const r in e){const i=e[r],s=this._getGltfAttributeName(r),a=this.addBinaryBuffer(i.value,i);t[s]=a}return t}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,t){const r={min:null,max:null};if(e.length<t)return r;r.min=[],r.max=[];const i=e.subarray(0,t);for(const s of i)r.min.push(s),r.max.push(s);for(let s=t;s<e.length;s+=t)for(let a=0;a<t;a++)r.min[0+a]=Math.min(r.min[0+a],e[s+a]),r.max[0+a]=Math.max(r.max[0+a],e[s+a]);return r}}function fN(n){return(n%1+1)%1}const rV={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},gke={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},iV={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function YB(n,e){return iV[e]*rV[n]}function U6(n,e,t,r){if(t!=="UINT8"&&t!=="UINT16"&&t!=="UINT32"&&t!=="UINT64")return null;const i=n.getTypedArrayForBufferView(e),s=N6(i,"SCALAR",t,r+1);return s instanceof BigInt64Array||s instanceof BigUint64Array?null:s}function N6(n,e,t,r=1){const i=rV[e],s=gke[t],a=iV[t],o=r*i,l=o*a;let c=n.buffer,A=n.byteOffset;return A%a!==0&&(c=new Uint8Array(c).slice(A,A+l).buffer,A=0),new s(c,A,o)}function GB(n,e,t){var c,A,u,h,f;const r=`TEXCOORD_${e.texCoord||0}`,i=t.attributes[r],s=n.getTypedArrayForAccessor(i),a=n.gltf.json,o=e.index,l=(A=(c=a.textures)==null?void 0:c[o])==null?void 0:A.source;if(typeof l<"u"){const d=(h=(u=a.images)==null?void 0:u[l])==null?void 0:h.mimeType,g=(f=n.gltf.images)==null?void 0:f[l];if(g&&typeof g.width<"u"){const _=[];for(let m=0;m<s.length;m+=2){const y=pke(g,d,s,m,e.channels);_.push(y)}return _}}return[]}function sV(n,e,t,r,i){if(!(t!=null&&t.length))return;const s=[];for(const A of t){let u=r.findIndex(h=>h===A);u===-1&&(u=r.push(A)-1),s.push(u)}const a=new Uint32Array(s),o=n.gltf.buffers.push({arrayBuffer:a.buffer,byteOffset:a.byteOffset,byteLength:a.byteLength})-1,l=n.addBufferView(a,o,0),c=n.addAccessor(l,{size:1,componentType:F6(a),count:a.length});i.attributes[e]=c}function pke(n,e,t,r,i=[0]){const s={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},a=t[r],o=t[r+1];let l=1;e&&(e.indexOf("image/jpeg")!==-1||e.indexOf("image/png")!==-1)&&(l=4);const c=_ke(a,o,n,l);let A=0;for(const u of i){const h=typeof u=="number"?Object.values(s)[u]:s[u],f=c+h.offset,d=OH(n);if(d.data.length<=f)throw new Error(`${d.data.length} <= ${f}`);const g=d.data[f];A|=g<<h.shift}return A}function _ke(n,e,t,r=1){const i=t.width,s=fN(n)*(i-1),a=Math.round(s),o=t.height,l=fN(e)*(o-1),c=Math.round(l),A=t.components?t.components:r;return(c*i+a)*A}function aV(n,e,t,r,i){const s=[];for(let a=0;a<e;a++){const o=t[a],l=t[a+1]-t[a];if(l+o>r)break;const c=o/i,A=l/i;s.push(n.slice(c,c+A))}return s}function oV(n,e,t){const r=[];for(let i=0;i<e;i++){const s=i*t;r.push(n.slice(s,s+t))}return r}function lV(n,e,t,r){if(t)throw new Error("Not implemented - arrayOffsets for strings is specified");if(r){const i=[],s=new TextDecoder("utf8");let a=0;for(let o=0;o<n;o++){const l=r[o+1]-r[o];if(l+a<=e.length){const c=e.subarray(a,l+a),A=s.decode(c);i.push(A),a+=l}}return i}return[]}const Jh="EXT_mesh_features",mke=Jh;async function yke(n,e){const t=new Es(n);vke(t,e)}function bke(n,e){const t=new Es(n);return Lke(t),t.createBinaryChunk(),t.gltf}function vke(n,e){const t=n.gltf.json;if(t.meshes)for(const r of t.meshes)for(const i of r.primitives)wke(n,i,e)}function wke(n,e,t){var s,a,o;if(!((s=t==null?void 0:t.gltf)!=null&&s.loadBuffers))return;const r=(a=e.extensions)==null?void 0:a[Jh],i=r==null?void 0:r.featureIds;if(i)for(const l of i){let c;if(typeof l.attribute<"u"){const A=`_FEATURE_ID_${l.attribute}`,u=e.attributes[A];c=n.getTypedArrayForAccessor(u)}else typeof l.texture<"u"&&((o=t==null?void 0:t.gltf)!=null&&o.loadImages)?c=GB(n,l.texture,e):c=[];l.data=c}}function Lke(n,e){const t=n.gltf.json.meshes;if(t)for(const r of t)for(const i of r.primitives)Rke(n,i)}function xke(n,e,t,r){e.extensions||(e.extensions={});let i=e.extensions[Jh];i||(i={featureIds:[]},e.extensions[Jh]=i);const{featureIds:s}=i,a={featureCount:t.length,propertyTable:r,data:t};s.push(a),n.addObjectExtension(e,Jh,i)}function Rke(n,e){var i;const t=(i=e.extensions)==null?void 0:i[Jh];if(!t)return;const r=t.featureIds;r.forEach((s,a)=>{if(s.data){const{accessorKey:o,index:l}=Bke(e.attributes),c=new Uint32Array(s.data);r[a]={featureCount:c.length,propertyTable:s.propertyTable,attribute:l},n.gltf.buffers.push({arrayBuffer:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength});const A=n.addBufferView(c),u=n.addAccessor(A,{size:1,componentType:F6(c),count:c.length});e.attributes[o]=u}})}function Bke(n){const e="_FEATURE_ID_",t=Object.keys(n).filter(s=>s.indexOf(e)===0);let r=-1;for(const s of t){const a=Number(s.substring(e.length));a>r&&(r=a)}return r++,{accessorKey:`${e}${r}`,index:r}}const Eke=Object.freeze(Object.defineProperty({__proto__:null,createExtMeshFeatures:xke,decode:yke,encode:bke,name:mke},Symbol.toStringTag,{value:"Module"})),Rd="EXT_structural_metadata",Cke=Rd;async function Ike(n,e){const t=new Es(n);Mke(t,e)}function Tke(n,e){const t=new Es(n);return Kke(t),t.createBinaryChunk(),t.gltf}function Mke(n,e){var r,i;if(!((r=e.gltf)!=null&&r.loadBuffers))return;const t=n.getExtension(Rd);t&&((i=e.gltf)!=null&&i.loadImages&&Ske(n,t),Fke(n,t))}function Ske(n,e){const t=e.propertyTextures,r=n.gltf.json;if(t&&r.meshes)for(const i of r.meshes)for(const s of i.primitives)Nke(n,t,s,e)}function Fke(n,e){const t=e.schema;if(!t)return;const r=t.classes,i=e.propertyTables;if(r&&i)for(const s in r){const a=Uke(i,s);a&&Pke(n,t,a)}}function Uke(n,e){for(const t of n)if(t.class===e)return t;return null}function Nke(n,e,t,r){var a;if(!e)return;const i=(a=t.extensions)==null?void 0:a[Rd],s=i==null?void 0:i.propertyTextures;if(s)for(const o of s){const l=e[o];kke(n,l,t,r)}}function kke(n,e,t,r){var s;if(!e.properties)return;r.dataAttributeNames||(r.dataAttributeNames=[]);const i=e.class;for(const a in e.properties){const o=`${i}_${a}`,l=(s=e.properties)==null?void 0:s[a];if(!l)continue;l.data||(l.data=[]);const c=l.data,A=GB(n,l,t);A!==null&&(sV(n,o,A,c,t),l.data=c,r.dataAttributeNames.push(o))}}function Pke(n,e,t){var s,a;const r=(s=e.classes)==null?void 0:s[t.class];if(!r)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${t.class}`);const i=t.count;for(const o in r.properties){const l=r.properties[o],c=(a=t.properties)==null?void 0:a[o];if(c){const A=Dke(n,e,l,i,c);c.data=A}}}function Dke(n,e,t,r,i){let s=[];const a=i.values,o=n.getTypedArrayForBufferView(a),l=Oke(n,t,i,r),c=zke(n,i,r);switch(t.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":{s=Hke(t,r,o,l);break}case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${t.type}`);case"STRING":{s=lV(r,o,l,c);break}case"ENUM":{s=Qke(e,t,r,o,l);break}default:throw new Error(`Unknown classProperty type ${t.type}`)}return s}function Oke(n,e,t,r){return e.array&&typeof e.count>"u"&&typeof t.arrayOffsets<"u"?U6(n,t.arrayOffsets,t.arrayOffsetType||"UINT32",r):null}function zke(n,e,t){return typeof e.stringOffsets<"u"?U6(n,e.stringOffsets,e.stringOffsetType||"UINT32",t):null}function Hke(n,e,t,r){const i=n.array,s=n.count,a=YB(n.type,n.componentType),o=t.byteLength/a;let l;return n.componentType?l=N6(t,n.type,n.componentType,o):l=t,i?r?aV(l,e,r,t.length,a):s?oV(l,e,s):[]:l}function Qke(n,e,t,r,i){var u;const s=e.enumType;if(!s)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");const a=(u=n.enums)==null?void 0:u[s];if(!a)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${s}`);const o=a.valueType||"UINT16",l=YB(e.type,o),c=r.byteLength/l;let A=N6(r,e.type,o,c);if(A||(A=r),e.array){if(i)return jke({valuesData:A,numberOfElements:t,arrayOffsets:i,valuesDataBytesLength:r.length,elementSize:l,enumEntry:a});const h=e.count;return h?Yke(A,t,h,a):[]}return VB(A,0,t,a)}function jke(n){const{valuesData:e,numberOfElements:t,arrayOffsets:r,valuesDataBytesLength:i,elementSize:s,enumEntry:a}=n,o=[];for(let l=0;l<t;l++){const c=r[l],A=r[l+1]-r[l];if(A+c>i)break;const u=c/s,h=A/s,f=VB(e,u,h,a);o.push(f)}return o}function Yke(n,e,t,r){const i=[];for(let s=0;s<e;s++){const a=t*s,o=VB(n,a,t,r);i.push(o)}return i}function VB(n,e,t,r){const i=[];for(let s=0;s<t;s++)if(n instanceof BigInt64Array||n instanceof BigUint64Array)i.push("");else{const a=n[e+s],o=Gke(r,a);o?i.push(o.name):i.push("")}return i}function Gke(n,e){for(const t of n.values)if(t.value===e)return t;return null}const Vke="schemaClassId";function Kke(n,e){var r,i;const t=n.getExtension(Rd);if(t&&t.propertyTables)for(const s of t.propertyTables){const a=s.class,o=(i=(r=t.schema)==null?void 0:r.classes)==null?void 0:i[a];s.properties&&o&&$ke(s,o,n)}}function $ke(n,e,t){for(const r in n.properties){const i=n.properties[r].data;if(i){const s=e.properties[r];if(s){const a=Jke(i,s,t);n.properties[r]=a}}}}function Wke(n,e,t=Vke){let r=n.getExtension(Rd);r||(r=n.addExtension(Rd)),r.schema=qke(e,t,r.schema);const i=Xke(e,t,r.schema);return r.propertyTables||(r.propertyTables=[]),r.propertyTables.push(i)-1}function qke(n,e,t){const r=t??{id:"schema_id"},i={properties:{}};for(const s of n){const a={type:s.elementType,componentType:s.componentType};i.properties[s.name]=a}return r.classes={},r.classes[e]=i,r}function Xke(n,e,t){var a;const r={class:e,count:0};let i=0;const s=(a=t.classes)==null?void 0:a[e];for(const o of n){if(i===0&&(i=o.values.length),i!==o.values.length&&o.values.length)throw new Error("Illegal values in attributes");(s==null?void 0:s.properties[o.name])&&(r.properties||(r.properties={}),r.properties[o.name]={values:0,data:o.values})}return r.count=i,r}function Jke(n,e,t){const r={values:0};if(e.type==="STRING"){const{stringData:i,stringOffsets:s}=tPe(n);r.stringOffsets=Aw(s,t),r.values=Aw(i,t)}else if(e.type==="SCALAR"&&e.componentType){const i=ePe(n,e.componentType);r.values=Aw(i,t)}return r}const Zke={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:Int32Array,UINT64:Uint32Array,FLOAT32:Float32Array,FLOAT64:Float64Array};function ePe(n,e){const t=[];for(const i of n)t.push(Number(i));const r=Zke[e];if(!r)throw new Error("Illegal component type");return new r(t)}function tPe(n){const e=new TextEncoder,t=[];let r=0;for(const l of n){const c=e.encode(l);r+=c.length,t.push(c)}const i=new Uint8Array(r),s=[];let a=0;for(const l of t)i.set(l,a),s.push(a),a+=l.length;s.push(a);const o=new Uint32Array(s);return{stringData:i,stringOffsets:o}}function Aw(n,e){return e.gltf.buffers.push({arrayBuffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}),e.addBufferView(n)}const nPe=Object.freeze(Object.defineProperty({__proto__:null,createExtStructuralMetadata:Wke,decode:Ike,encode:Tke,name:Cke},Symbol.toStringTag,{value:"Module"})),cV="EXT_feature_metadata",rPe=cV;async function iPe(n,e){const t=new Es(n);sPe(t,e)}function sPe(n,e){var r,i;if(!((r=e.gltf)!=null&&r.loadBuffers))return;const t=n.getExtension(cV);t&&((i=e.gltf)!=null&&i.loadImages&&aPe(n,t),oPe(n,t))}function aPe(n,e){const t=e.schema;if(!t)return;const r=t.classes,{featureTextures:i}=e;if(r&&i)for(const s in r){const a=r[s],o=cPe(i,s);o&&uPe(n,o,a)}}function oPe(n,e){const t=e.schema;if(!t)return;const r=t.classes,i=e.featureTables;if(r&&i)for(const s in r){const a=lPe(i,s);a&&APe(n,t,a)}}function lPe(n,e){for(const t in n){const r=n[t];if(r.class===e)return r}return null}function cPe(n,e){for(const t in n){const r=n[t];if(r.class===e)return r}return null}function APe(n,e,t){var s,a;if(!t.class)return;const r=(s=e.classes)==null?void 0:s[t.class];if(!r)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${t.class}`);const i=t.count;for(const o in r.properties){const l=r.properties[o],c=(a=t.properties)==null?void 0:a[o];if(c){const A=fPe(n,e,l,i,c);c.data=A}}}function uPe(n,e,t){var i;const r=e.class;for(const s in t.properties){const a=(i=e==null?void 0:e.properties)==null?void 0:i[s];if(a){const o=_Pe(n,a,r);a.data=o}}}function fPe(n,e,t,r,i){let s=[];const a=i.bufferView,o=n.getTypedArrayForBufferView(a),l=hPe(n,t,i,r),c=dPe(n,t,i,r);return t.type==="STRING"||t.componentType==="STRING"?s=lV(r,o,l,c):gPe(t)&&(s=pPe(t,r,o,l)),s}function hPe(n,e,t,r){return e.type==="ARRAY"&&typeof e.componentCount>"u"&&typeof t.arrayOffsetBufferView<"u"?U6(n,t.arrayOffsetBufferView,t.offsetType||"UINT32",r):null}function dPe(n,e,t,r){return typeof t.stringOffsetBufferView<"u"?U6(n,t.stringOffsetBufferView,t.offsetType||"UINT32",r):null}function gPe(n){const e=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return e.includes(n.type)||typeof n.componentType<"u"&&e.includes(n.componentType)}function pPe(n,e,t,r){const i=n.type==="ARRAY",s=n.componentCount,a="SCALAR",o=n.componentType||n.type,l=YB(a,o),c=t.byteLength/l,A=N6(t,a,o,c);return i?r?aV(A,e,r,t.length,l):s?oV(A,e,s):[]:A}function _Pe(n,e,t){const r=n.gltf.json;if(!r.meshes)return[];const i=[];for(const s of r.meshes)for(const a of s.primitives)mPe(n,t,e,i,a);return i}function mPe(n,e,t,r,i){const s={channels:t.channels,...t.texture},a=GB(n,s,i);a&&sV(n,e,a,r,i)}const yPe=Object.freeze(Object.defineProperty({__proto__:null,decode:iPe,name:rPe},Symbol.toStringTag,{value:"Module"})),bPe="4.3.3",Bd=!0,hN=1735152710,KB=12,_y=8,vPe=1313821514,wPe=5130562,LPe=0,xPe=0,RPe=1;function BPe(n,e=0){return`${String.fromCharCode(n.getUint8(e+0))}${String.fromCharCode(n.getUint8(e+1))}${String.fromCharCode(n.getUint8(e+2))}${String.fromCharCode(n.getUint8(e+3))}`}function EPe(n,e=0,t={}){const r=new DataView(n),{magic:i=hN}=t,s=r.getUint32(e,!1);return s===i||s===hN}function CPe(n,e,t=0,r={}){const i=new DataView(e),s=BPe(i,t+0),a=i.getUint32(t+4,Bd),o=i.getUint32(t+8,Bd);switch(Object.assign(n,{header:{byteOffset:t,byteLength:o,hasBinChunk:!1},type:s,version:a,json:{},binChunks:[]}),t+=KB,n.version){case 1:return IPe(n,i,t);case 2:return TPe(n,i,t,r={});default:throw new Error(`Invalid GLB version ${n.version}. Only supports version 1 and 2.`)}}function IPe(n,e,t){zr(n.header.byteLength>KB+_y);const r=e.getUint32(t+0,Bd),i=e.getUint32(t+4,Bd);return t+=_y,zr(i===LPe),CL(n,e,t,r),t+=r,t+=IL(n,e,t,n.header.byteLength),t}function TPe(n,e,t,r){return zr(n.header.byteLength>KB+_y),MPe(n,e,t,r),t+n.header.byteLength}function MPe(n,e,t,r){for(;t+8<=n.header.byteLength;){const i=e.getUint32(t+0,Bd),s=e.getUint32(t+4,Bd);switch(t+=_y,s){case vPe:CL(n,e,t,i);break;case wPe:IL(n,e,t,i);break;case xPe:r.strict||CL(n,e,t,i);break;case RPe:r.strict||IL(n,e,t,i);break}t+=Rp(i,4)}return t}function CL(n,e,t,r){const i=new Uint8Array(e.buffer,t,r),a=new TextDecoder("utf8").decode(i);return n.json=JSON.parse(a),Rp(r,4)}function IL(n,e,t,r){return n.header.hasBinChunk=!0,n.binChunks.push({byteOffset:t,byteLength:r,arrayBuffer:e.buffer}),Rp(r,4)}function AV(n,e){if(n.startsWith("data:")||n.startsWith("http:")||n.startsWith("https:"))return n;const r=e.baseUri||e.uri;if(!r)throw new Error(`'baseUri' must be provided to resolve relative url ${n}`);return r.substr(0,r.lastIndexOf("/")+1)+n}const SPe="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",FPe="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",UPe=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),NPe=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),kPe={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},PPe={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};async function DPe(n,e,t,r,i,s="NONE"){const a=await OPe();QPe(a,a.exports[PPe[i]],n,e,t,r,a.exports[kPe[s||"NONE"]])}let uw;async function OPe(){return uw||(uw=zPe()),uw}async function zPe(){let n=SPe;WebAssembly.validate(UPe)&&(n=FPe,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const e=await WebAssembly.instantiate(HPe(n),{});return await e.instance.exports.__wasm_call_ctors(),e.instance}function HPe(n){const e=new Uint8Array(n.length);for(let r=0;r<n.length;++r){const i=n.charCodeAt(r);e[r]=i>96?i-71:i>64?i-65:i>47?i+4:i>46?63:62}let t=0;for(let r=0;r<n.length;++r)e[t++]=e[r]<60?NPe[e[r]]:(e[r]-60)*64+e[++r];return e.buffer.slice(0,t)}function QPe(n,e,t,r,i,s,a){const o=n.exports.sbrk,l=r+3&-4,c=o(l*i),A=o(s.length),u=new Uint8Array(n.exports.memory.buffer);u.set(s,A);const h=e(c,r,i,A,s.length);if(h===0&&a&&a(c,l,i),t.set(u.subarray(c,c+r*i)),o(c-o(0)),h!==0)throw new Error(`Malformed buffer data: ${h}`)}const my="EXT_meshopt_compression",jPe=my;async function YPe(n,e){var i,s;const t=new Es(n);if(!((i=e==null?void 0:e.gltf)!=null&&i.decompressMeshes)||!((s=e.gltf)!=null&&s.loadBuffers))return;const r=[];for(const a of n.json.bufferViews||[])r.push(GPe(t,a));await Promise.all(r),t.removeExtension(my)}async function GPe(n,e){const t=n.getObjectExtension(e,my);if(t){const{byteOffset:r=0,byteLength:i=0,byteStride:s,count:a,mode:o,filter:l="NONE",buffer:c}=t,A=n.gltf.buffers[c],u=new Uint8Array(A.arrayBuffer,A.byteOffset+r,i),h=new Uint8Array(n.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);await DPe(h,a,s,u,o,l),n.removeObjectExtension(e,my)}}const VPe=Object.freeze(Object.defineProperty({__proto__:null,decode:YPe,name:jPe},Symbol.toStringTag,{value:"Module"})),sh="EXT_texture_webp",KPe=sh;function $Pe(n,e){const t=new Es(n);if(!Hhe("image/webp")){if(t.getRequiredExtensions().includes(sh))throw new Error(`gltf: Required extension ${sh} not supported by browser`);return}const{json:r}=t;for(const i of r.textures||[]){const s=t.getObjectExtension(i,sh);s&&(i.source=s.source),t.removeObjectExtension(i,sh)}t.removeExtension(sh)}const WPe=Object.freeze(Object.defineProperty({__proto__:null,name:KPe,preprocess:$Pe},Symbol.toStringTag,{value:"Module"})),Hm="KHR_texture_basisu",qPe=Hm;function XPe(n,e){const t=new Es(n),{json:r}=t;for(const i of r.textures||[]){const s=t.getObjectExtension(i,Hm);s&&(i.source=s.source,t.removeObjectExtension(i,Hm))}t.removeExtension(Hm)}const JPe=Object.freeze(Object.defineProperty({__proto__:null,name:qPe,preprocess:XPe},Symbol.toStringTag,{value:"Module"})),ZPe="4.3.3",eDe={dataType:null,batchType:null,name:"Draco",id:"draco",module:"draco",version:ZPe,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:typeof WebAssembly=="object"?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};function tDe(n,e,t){const r=uV(e.metadata),i=[],s=nDe(e.attributes);for(const a in n){const o=n[a],l=dN(a,o,s[a]);i.push(l)}if(t){const a=dN("indices",t);i.push(a)}return{fields:i,metadata:r}}function nDe(n){const e={};for(const t in n){const r=n[t];e[r.name||"undefined"]=r}return e}function dN(n,e,t){const r=t?uV(t.metadata):void 0;return ohe(n,e,r)}function uV(n){Object.entries(n);const e={};for(const t in n)e[`${t}.string`]=JSON.stringify(n[t]);return e}const gN={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},rDe={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},iDe=4;class sDe{constructor(e){z(this,"draco");z(this,"decoder");z(this,"metadataQuerier");this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e,t={}){const r=new this.draco.DecoderBuffer;r.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);const i=this.decoder.GetEncodedGeometryType(r),s=i===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let a;switch(i){case this.draco.TRIANGULAR_MESH:a=this.decoder.DecodeBufferToMesh(r,s);break;case this.draco.POINT_CLOUD:a=this.decoder.DecodeBufferToPointCloud(r,s);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!a.ok()||!s.ptr){const h=`DRACO decompression failed: ${a.error_msg()}`;throw new Error(h)}const o=this._getDracoLoaderData(s,i,t),l=this._getMeshData(s,o,t),c=DH(l.attributes),A=tDe(l.attributes,o,l.indices);return{loader:"draco",loaderData:o,header:{vertexCount:s.num_points(),boundingBox:c},...l,schema:A}}finally{this.draco.destroy(r),s&&this.draco.destroy(s)}}_getDracoLoaderData(e,t,r){const i=this._getTopLevelMetadata(e),s=this._getDracoAttributes(e,r);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:i,attributes:s}}_getDracoAttributes(e,t){const r={};for(let i=0;i<e.num_attributes();i++){const s=this.decoder.GetAttribute(e,i),a=this._getAttributeMetadata(e,i);r[s.unique_id()]={unique_id:s.unique_id(),attribute_type:s.attribute_type(),data_type:s.data_type(),num_components:s.num_components(),byte_offset:s.byte_offset(),byte_stride:s.byte_stride(),normalized:s.normalized(),attribute_index:i,metadata:a};const o=this._getQuantizationTransform(s,t);o&&(r[s.unique_id()].quantization_transform=o);const l=this._getOctahedronTransform(s,t);l&&(r[s.unique_id()].octahedron_transform=l)}return r}_getMeshData(e,t,r){const i=this._getMeshAttributes(t,e,r);if(!i.POSITION)throw new Error("DRACO: No position attribute found.");if(e instanceof this.draco.Mesh)switch(r.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:i,indices:{value:this._getTriangleStripIndices(e),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:i,indices:{value:this._getTriangleListIndices(e),size:1}}}return{topology:"point-list",mode:0,attributes:i}}_getMeshAttributes(e,t,r){const i={};for(const s of Object.values(e.attributes)){const a=this._deduceAttributeName(s,r);s.name=a;const o=this._getAttributeValues(t,s);if(o){const{value:l,size:c}=o;i[a]={value:l,size:c,byteOffset:s.byte_offset,byteStride:s.byte_stride,normalized:s.normalized}}}return i}_getTriangleListIndices(e){const r=e.num_faces()*3,i=r*iDe,s=this.draco._malloc(i);try{return this.decoder.GetTrianglesUInt32Array(e,i,s),new Uint32Array(this.draco.HEAPF32.buffer,s,r).slice()}finally{this.draco._free(s)}}_getTriangleStripIndices(e){const t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),lDe(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){const r=rDe[t.data_type];if(!r)return console.warn(`DRACO: Unsupported attribute type ${t.data_type}`),null;const i=t.num_components,a=e.num_points()*i,o=a*r.BYTES_PER_ELEMENT,l=aDe(this.draco,r);let c;const A=this.draco._malloc(o);try{const u=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,u,l,o,A),c=new r(this.draco.HEAPF32.buffer,A,a).slice()}finally{this.draco._free(A)}return{value:c,size:i}}_deduceAttributeName(e,t){const r=e.unique_id;for(const[a,o]of Object.entries(t.extraAttributes||{}))if(o===r)return a;const i=e.attribute_type;for(const a in gN)if(this.draco[a]===i)return gN[a];const s=t.attributeNameEntry||"name";return e.metadata[s]?e.metadata[s].string:`CUSTOM_ATTRIBUTE_${r}`}_getTopLevelMetadata(e){const t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){const r=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(r)}_getDracoMetadata(e){if(!e||!e.ptr)return{};const t={},r=this.metadataQuerier.NumEntries(e);for(let i=0;i<r;i++){const s=this.metadataQuerier.GetEntryName(e,i);t[s]=this._getDracoMetadataField(e,s)}return t}_getDracoMetadataField(e,t){const r=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,r);const i=oDe(r);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:i}}finally{this.draco.destroy(r)}}_disableAttributeTransforms(e){const{quantizedAttributes:t=[],octahedronAttributes:r=[]}=e,i=[...t,...r];for(const s of i)this.decoder.SkipAttributeTransform(this.draco[s])}_getQuantizationTransform(e,t){const{quantizedAttributes:r=[]}=t,i=e.attribute_type();if(r.map(a=>this.decoder[a]).includes(i)){const a=new this.draco.AttributeQuantizationTransform;try{if(a.InitFromAttribute(e))return{quantization_bits:a.quantization_bits(),range:a.range(),min_values:new Float32Array([1,2,3]).map(o=>a.min_value(o))}}finally{this.draco.destroy(a)}}return null}_getOctahedronTransform(e,t){const{octahedronAttributes:r=[]}=t,i=e.attribute_type();if(r.map(a=>this.decoder[a]).includes(i)){const a=new this.draco.AttributeQuantizationTransform;try{if(a.InitFromAttribute(e))return{quantization_bits:a.quantization_bits()}}finally{this.draco.destroy(a)}}return null}}function aDe(n,e){switch(e){case Float32Array:return n.DT_FLOAT32;case Int8Array:return n.DT_INT8;case Int16Array:return n.DT_INT16;case Int32Array:return n.DT_INT32;case Uint8Array:return n.DT_UINT8;case Uint16Array:return n.DT_UINT16;case Uint32Array:return n.DT_UINT32;default:return n.DT_INVALID}}function oDe(n){const e=n.size(),t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=n.GetValue(r);return t}function lDe(n){const e=n.size(),t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=n.GetValue(r);return t}const cDe="1.5.6",ADe="1.4.1",fw=`https://www.gstatic.com/draco/versioned/decoders/${cDe}`,Fa={DECODER:"draco_wasm_wrapper.js",DECODER_WASM:"draco_decoder.wasm",FALLBACK_DECODER:"draco_decoder.js",ENCODER:"draco_encoder.js"},hw={[Fa.DECODER]:`${fw}/${Fa.DECODER}`,[Fa.DECODER_WASM]:`${fw}/${Fa.DECODER_WASM}`,[Fa.FALLBACK_DECODER]:`${fw}/${Fa.FALLBACK_DECODER}`,[Fa.ENCODER]:`https://raw.githubusercontent.com/google/draco/${ADe}/javascript/${Fa.ENCODER}`};let dw;async function uDe(n){const e=n.modules||{};return e.draco3d?dw||(dw=e.draco3d.createDecoderModule({}).then(t=>({draco:t}))):dw||(dw=fDe(n)),await dw}async function fDe(n){let e,t;switch(n.draco&&n.draco.decoderType){case"js":e=await E1(hw[Fa.FALLBACK_DECODER],"draco",n,Fa.FALLBACK_DECODER);break;case"wasm":default:[e,t]=await Promise.all([await E1(hw[Fa.DECODER],"draco",n,Fa.DECODER),await E1(hw[Fa.DECODER_WASM],"draco",n,Fa.DECODER_WASM)])}return e=e||globalThis.DracoDecoderModule,await hDe(e,t)}function hDe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(r=>{n({...t,onModuleLoaded:i=>r({draco:i})})})}const fV={...eDe,parse:dDe};async function dDe(n,e){const{draco:t}=await uDe(e),r=new sDe(t);try{return r.parseSync(n,e==null?void 0:e.draco)}finally{r.destroy()}}function gDe(n){const e={};for(const t in n){const r=n[t];if(t!=="indices"){const i=hV(r);e[t]=i}}return e}function hV(n){const{buffer:e,size:t,count:r}=pDe(n);return{value:e,size:t,byteOffset:0,count:r,type:tV(t),componentType:F6(e)}}function pDe(n){let e=n,t=1,r=0;return n&&n.value&&(e=n.value,t=n.size||1),e&&(ArrayBuffer.isView(e)||(e=_De(e,Float32Array)),r=e.length/t),{buffer:e,size:t,count:r}}function _De(n,e,t=!1){return n?Array.isArray(n)?new e(n):t&&!(n instanceof e)?new e(n):n:null}const hu="KHR_draco_mesh_compression",mDe=hu;function yDe(n,e,t){const r=new Es(n);for(const i of dV(r))r.getObjectExtension(i,hu)}async function bDe(n,e,t){var s;if(!((s=e==null?void 0:e.gltf)!=null&&s.decompressMeshes))return;const r=new Es(n),i=[];for(const a of dV(r))r.getObjectExtension(a,hu)&&i.push(wDe(r,a,e,t));await Promise.all(i),r.removeExtension(hu)}function vDe(n,e={}){const t=new Es(n);for(const r of t.json.meshes||[])LDe(r),t.addRequiredExtension(hu)}async function wDe(n,e,t,r){const i=n.getObjectExtension(e,hu);if(!i)return;const s=n.getTypedArrayForBufferView(i.bufferView),a=oR(s.buffer,s.byteOffset),o={...t};delete o["3d-tiles"];const l=await xp(a,fV,o,r),c=gDe(l.attributes);for(const[A,u]of Object.entries(c))if(A in e.attributes){const h=e.attributes[A],f=n.getAccessor(h);f!=null&&f.min&&(f!=null&&f.max)&&(u.min=f.min,u.max=f.max)}e.attributes=c,l.indices&&(e.indices=hV(l.indices)),n.removeObjectExtension(e,hu),xDe(e)}function LDe(n,e,t=4,r,i){var A;if(!r.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const s=r.DracoWriter.encodeSync({attributes:n}),a=(A=i==null?void 0:i.parseSync)==null?void 0:A.call(i,{attributes:n}),o=r._addFauxAttributes(a.attributes),l=r.addBufferView(s);return{primitives:[{attributes:o,mode:t,extensions:{[hu]:{bufferView:l,attributes:o}}}]}}function xDe(n){if(!n.attributes&&Object.keys(n.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function*dV(n){for(const e of n.json.meshes||[])for(const t of e.primitives)yield t}const RDe=Object.freeze(Object.defineProperty({__proto__:null,decode:bDe,encode:vDe,name:mDe,preprocess:yDe},Symbol.toStringTag,{value:"Module"})),k6="KHR_texture_transform",BDe=k6,K4=new tt,EDe=new Ri,CDe=new Ri;async function IDe(n,e){var s;if(!new Es(n).hasExtension(k6)||!((s=e.gltf)!=null&&s.loadBuffers))return;const i=n.json.materials||[];for(let a=0;a<i.length;a++)TDe(a,n)}function TDe(n,e){var s,a,o,l;const t=(s=e.json.materials)==null?void 0:s[n],r=[(a=t==null?void 0:t.pbrMetallicRoughness)==null?void 0:a.baseColorTexture,t==null?void 0:t.emissiveTexture,t==null?void 0:t.normalTexture,t==null?void 0:t.occlusionTexture,(o=t==null?void 0:t.pbrMetallicRoughness)==null?void 0:o.metallicRoughnessTexture],i=[];for(const c of r)c&&((l=c==null?void 0:c.extensions)!=null&&l[k6])&&MDe(e,n,c,i)}function MDe(n,e,t,r){const i=SDe(t,r);if(!i)return;const s=n.json.meshes||[];for(const a of s)for(const o of a.primitives){const l=o.material;Number.isFinite(l)&&e===l&&FDe(n,o,i)}}function SDe(n,e){var a;const t=(a=n.extensions)==null?void 0:a[k6],{texCoord:r=0}=n,{texCoord:i=r}=t;if(!(e.findIndex(([o,l])=>o===r&&l===i)!==-1)){const o=kDe(t);return r!==i&&(n.texCoord=i),e.push([r,i]),{originalTexCoord:r,texCoord:i,matrix:o}}return null}function FDe(n,e,t){var o,l;const{originalTexCoord:r,texCoord:i,matrix:s}=t,a=e.attributes[`TEXCOORD_${r}`];if(Number.isFinite(a)){const c=(o=n.json.accessors)==null?void 0:o[a];if(c&&c.bufferView){const A=(l=n.json.bufferViews)==null?void 0:l[c.bufferView];if(A){const{arrayBuffer:u,byteOffset:h}=n.buffers[A.buffer],f=(h||0)+(c.byteOffset||0)+(A.byteOffset||0),{ArrayType:d,length:g}=jB(c,A),_=eV[c.componentType],m=ZG[c.type],y=A.byteStride||_*m,b=new Float32Array(g);for(let v=0;v<c.count;v++){const B=new d(u,f+v*y,2);K4.set(B[0],B[1],1),K4.transformByMatrix3(s),b.set([K4[0],K4[1]],v*m)}r===i?UDe(c,A,n.buffers,b):NDe(i,c,e,n,b)}}}}function UDe(n,e,t,r){n.componentType=5126,t.push({arrayBuffer:r.buffer,byteOffset:0,byteLength:r.buffer.byteLength}),e.buffer=t.length-1,e.byteLength=r.buffer.byteLength,e.byteOffset=0,delete e.byteStride}function NDe(n,e,t,r,i){r.buffers.push({arrayBuffer:i.buffer,byteOffset:0,byteLength:i.buffer.byteLength});const s=r.json.bufferViews;if(!s)return;s.push({buffer:r.buffers.length-1,byteLength:i.buffer.byteLength,byteOffset:0});const a=r.json.accessors;a&&(a.push({bufferView:(s==null?void 0:s.length)-1,byteOffset:0,componentType:5126,count:e.count,type:"VEC2"}),t.attributes[`TEXCOORD_${n}`]=a.length-1)}function kDe(n){const{offset:e=[0,0],rotation:t=0,scale:r=[1,1]}=n,i=new Ri().set(1,0,0,0,1,0,e[0],e[1],1),s=EDe.set(Math.cos(t),Math.sin(t),0,-Math.sin(t),Math.cos(t),0,0,0,1),a=CDe.set(r[0],0,0,0,r[1],0,0,0,1);return i.multiplyRight(s).multiplyRight(a)}const PDe=Object.freeze(Object.defineProperty({__proto__:null,decode:IDe,name:BDe},Symbol.toStringTag,{value:"Module"})),d1="KHR_lights_punctual",DDe=d1;async function ODe(n){const e=new Es(n),{json:t}=e,r=e.getExtension(d1);r&&(e.json.lights=r.lights,e.removeExtension(d1));for(const i of t.nodes||[]){const s=e.getObjectExtension(i,d1);s&&(i.light=s.light),e.removeObjectExtension(i,d1)}}async function zDe(n){const e=new Es(n),{json:t}=e;if(t.lights){const r=e.addExtension(d1);bo(!r.lights),r.lights=t.lights,delete t.lights}if(e.json.lights){for(const r of e.json.lights){const i=r.node;e.addObjectExtension(i,d1,r)}delete e.json.lights}}const HDe=Object.freeze(Object.defineProperty({__proto__:null,decode:ODe,encode:zDe,name:DDe},Symbol.toStringTag,{value:"Module"})),ap="KHR_materials_unlit",QDe=ap;async function jDe(n){const e=new Es(n),{json:t}=e;for(const r of t.materials||[])r.extensions&&r.extensions.KHR_materials_unlit&&(r.unlit=!0),e.removeObjectExtension(r,ap);e.removeExtension(ap)}function YDe(n){const e=new Es(n),{json:t}=e;if(e.materials)for(const r of t.materials||[])r.unlit&&(delete r.unlit,e.addObjectExtension(r,ap,{}),e.addExtension(ap))}const GDe=Object.freeze(Object.defineProperty({__proto__:null,decode:jDe,encode:YDe,name:QDe},Symbol.toStringTag,{value:"Module"})),Rg="KHR_techniques_webgl",VDe=Rg;async function KDe(n){const e=new Es(n),{json:t}=e,r=e.getExtension(Rg);if(r){const i=WDe(r,e);for(const s of t.materials||[]){const a=e.getObjectExtension(s,Rg);a&&(s.technique=Object.assign({},a,i[a.technique]),s.technique.values=qDe(s.technique,e)),e.removeObjectExtension(s,Rg)}e.removeExtension(Rg)}}async function $De(n,e){}function WDe(n,e){const{programs:t=[],shaders:r=[],techniques:i=[]}=n,s=new TextDecoder;return r.forEach(a=>{if(Number.isFinite(a.bufferView))a.code=s.decode(e.getTypedArrayForBufferView(a.bufferView));else throw new Error("KHR_techniques_webgl: no shader code")}),t.forEach(a=>{a.fragmentShader=r[a.fragmentShader],a.vertexShader=r[a.vertexShader]}),i.forEach(a=>{a.program=t[a.program]}),i}function qDe(n,e){const t=Object.assign({},n.values);return Object.keys(n.uniforms||{}).forEach(r=>{n.uniforms[r].value&&!(r in t)&&(t[r]=n.uniforms[r].value)}),Object.keys(t).forEach(r=>{typeof t[r]=="object"&&t[r].index!==void 0&&(t[r].texture=e.getTexture(t[r].index))}),t}const XDe=Object.freeze(Object.defineProperty({__proto__:null,decode:KDe,encode:$De,name:VDe},Symbol.toStringTag,{value:"Module"})),gV=[nPe,Eke,VPe,WPe,JPe,RDe,HDe,GDe,XDe,PDe,yPe];function JDe(n,e={},t){var i;const r=gV.filter(s=>pV(s.name,e));for(const s of r)(i=s.preprocess)==null||i.call(s,n,e,t)}async function ZDe(n,e={},t){var i;const r=gV.filter(s=>pV(s.name,e));for(const s of r)await((i=s.decode)==null?void 0:i.call(s,n,e,t))}function pV(n,e){var i;const t=((i=e==null?void 0:e.gltf)==null?void 0:i.excludeExtensions)||{};return!(n in t&&!t[n])}const gw="KHR_binary_glTF";function eOe(n){const e=new Es(n),{json:t}=e;for(const r of t.images||[]){const i=e.getObjectExtension(r,gw);i&&Object.assign(r,i),e.removeObjectExtension(r,gw)}t.buffers&&t.buffers[0]&&delete t.buffers[0].uri,e.removeExtension(gw)}const pN={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},tOe={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class nOe{constructor(){z(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}});z(this,"json")}normalize(e,t){this.json=e.json;const r=e.json;switch(r.asset&&r.asset.version){case"2.0":return;case void 0:case"1.0":break;default:console.warn(`glTF: Unknown version ${r.asset.version}`);return}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(r),this._convertTopLevelObjectsToArrays(r),eOe(e),this._convertObjectIdsToArrayIndices(r),this._updateObjects(r),this._updateMaterial(r)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(const t in pN)this._convertTopLevelObjectToArray(e,t)}_convertTopLevelObjectToArray(e,t){const r=e[t];if(!(!r||Array.isArray(r))){e[t]=[];for(const i in r){const s=r[i];s.id=s.id||i;const a=e[t].length;e[t].push(s),this.idToIndexMap[t][i]=a}}}_convertObjectIdsToArrayIndices(e){for(const t in pN)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(const t of e.textures)this._convertTextureIds(t);for(const t of e.meshes)this._convertMeshIds(t);for(const t of e.nodes)this._convertNodeIds(t);for(const t of e.scenes)this._convertSceneIds(t)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(const t of e.primitives){const{attributes:r,indices:i,material:s}=t;for(const a in r)r[a]=this._convertIdToIndex(r[a],"accessor");i&&(t.indices=this._convertIdToIndex(i,"accessor")),s&&(t.material=this._convertIdToIndex(s,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map(t=>this._convertIdToIndex(t,"node"))),e.meshes&&(e.meshes=e.meshes.map(t=>this._convertIdToIndex(t,"mesh")))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map(t=>this._convertIdToIndex(t,"node")))}_convertIdsToIndices(e,t){e[t]||(console.warn(`gltf v1: json doesn't contain attribute ${t}`),e[t]=[]);for(const r of e[t])for(const i in r){const s=r[i],a=this._convertIdToIndex(s,i);r[i]=a}}_convertIdToIndex(e,t){const r=tOe[t];if(r in this.idToIndexMap){const i=this.idToIndexMap[r][e];if(!Number.isFinite(i))throw new Error(`gltf v1: failed to resolve ${t} with id ${e}`);return i}return e}_updateObjects(e){for(const t of this.json.buffers)delete t.type}_updateMaterial(e){var t,r,i;for(const s of e.materials){s.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const a=((t=s.values)==null?void 0:t.tex)||((r=s.values)==null?void 0:r.texture2d_0)||((i=s.values)==null?void 0:i.diffuseTex),o=e.textures.findIndex(l=>l.id===a);o!==-1&&(s.pbrMetallicRoughness.baseColorTexture={index:o})}}}function rOe(n,e={}){return new nOe().normalize(n,e)}async function iOe(n,e,t=0,r,i){var s,a,o;return sOe(n,e,t,r),rOe(n,{normalize:(s=r==null?void 0:r.gltf)==null?void 0:s.normalize}),JDe(n,r,i),(a=r==null?void 0:r.gltf)!=null&&a.loadBuffers&&n.json.buffers&&await aOe(n,r,i),(o=r==null?void 0:r.gltf)!=null&&o.loadImages&&await oOe(n,r,i),await ZDe(n,r,i),n}function sOe(n,e,t,r){if(r.uri&&(n.baseUri=r.uri),e instanceof ArrayBuffer&&!EPe(e,t,r)&&(e=new TextDecoder().decode(e)),typeof e=="string")n.json=Q1e(e);else if(e instanceof ArrayBuffer){const a={};t=CPe(a,e,t,r.glb),bo(a.type==="glTF",`Invalid GLB magic string ${a.type}`),n._glb=a,n.json=a.json}else bo(!1,"GLTF: must be ArrayBuffer or string");const i=n.json.buffers||[];if(n.buffers=new Array(i.length).fill(null),n._glb&&n._glb.header.hasBinChunk){const{binChunks:a}=n._glb;n.buffers[0]={arrayBuffer:a[0].arrayBuffer,byteOffset:a[0].byteOffset,byteLength:a[0].byteLength}}const s=n.json.images||[];n.images=new Array(s.length).fill({})}async function aOe(n,e,t){var i,s;const r=n.json.buffers||[];for(let a=0;a<r.length;++a){const o=r[a];if(o.uri){const{fetch:l}=t;bo(l);const c=AV(o.uri,e),A=await((i=t==null?void 0:t.fetch)==null?void 0:i.call(t,c)),u=await((s=A==null?void 0:A.arrayBuffer)==null?void 0:s.call(A));n.buffers[a]={arrayBuffer:u,byteOffset:0,byteLength:u.byteLength},delete o.uri}else n.buffers[a]===null&&(n.buffers[a]={arrayBuffer:new ArrayBuffer(o.byteLength),byteOffset:0,byteLength:o.byteLength})}}async function oOe(n,e,t){const r=lOe(n),i=n.json.images||[],s=[];for(const a of r)s.push(cOe(n,i[a],a,e,t));return await Promise.all(s)}function lOe(n){const e=new Set,t=n.json.textures||[];for(const r of t)r.source!==void 0&&e.add(r.source);return Array.from(e).sort()}async function cOe(n,e,t,r,i){let s;if(e.uri&&!e.hasOwnProperty("bufferView")){const o=AV(e.uri,r),{fetch:l}=i;s=await(await l(o)).arrayBuffer(),e.bufferView={data:s}}if(Number.isFinite(e.bufferView)){const o=fke(n.json,n.buffers,e.bufferView);s=oR(o.buffer,o.byteOffset,o.byteLength)}bo(s,"glTF image has no data");let a=await xp(s,[QH,TNe],{...r,mimeType:e.mimeType,basis:r.basis||{format:qG()}},i);a&&a[0]&&(a={compressed:!0,mipmaps:!1,width:a[0].width,height:a[0].height,data:a[0]}),n.images=n.images||[],n.images[t]=a}const op={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:bPe,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:AOe,options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}};async function AOe(n,e={},t){e={...op.options,...e},e.gltf={...op.options.gltf,...e.gltf};const{byteOffset:r=0}=e;return await iOe({},n,r,e,t)}const uOe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},fOe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Oo={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},hOe={magFilter:Oo.TEXTURE_MAG_FILTER,minFilter:Oo.TEXTURE_MIN_FILTER,wrapS:Oo.TEXTURE_WRAP_S,wrapT:Oo.TEXTURE_WRAP_T},dOe={[Oo.TEXTURE_MAG_FILTER]:Oo.LINEAR,[Oo.TEXTURE_MIN_FILTER]:Oo.NEAREST_MIPMAP_LINEAR,[Oo.TEXTURE_WRAP_S]:Oo.REPEAT,[Oo.TEXTURE_WRAP_T]:Oo.REPEAT};function gOe(){return{id:"default-sampler",parameters:dOe}}function pOe(n){return fOe[n]}function _Oe(n){return uOe[n]}class mOe{constructor(){z(this,"baseUri","");z(this,"jsonUnprocessed");z(this,"json");z(this,"buffers",[]);z(this,"images",[])}postProcess(e,t={}){const{json:r,buffers:i=[],images:s=[]}=e,{baseUri:a=""}=e;return bo(r),this.baseUri=a,this.buffers=i,this.images=s,this.jsonUnprocessed=r,this.json=this._resolveTree(e.json,t),this.json}_resolveTree(e,t={}){const r={...e};return this.json=r,e.bufferViews&&(r.bufferViews=e.bufferViews.map((i,s)=>this._resolveBufferView(i,s))),e.images&&(r.images=e.images.map((i,s)=>this._resolveImage(i,s))),e.samplers&&(r.samplers=e.samplers.map((i,s)=>this._resolveSampler(i,s))),e.textures&&(r.textures=e.textures.map((i,s)=>this._resolveTexture(i,s))),e.accessors&&(r.accessors=e.accessors.map((i,s)=>this._resolveAccessor(i,s))),e.materials&&(r.materials=e.materials.map((i,s)=>this._resolveMaterial(i,s))),e.meshes&&(r.meshes=e.meshes.map((i,s)=>this._resolveMesh(i,s))),e.nodes&&(r.nodes=e.nodes.map((i,s)=>this._resolveNode(i,s)),r.nodes=r.nodes.map((i,s)=>this._resolveNodeChildren(i))),e.skins&&(r.skins=e.skins.map((i,s)=>this._resolveSkin(i,s))),e.scenes&&(r.scenes=e.scenes.map((i,s)=>this._resolveScene(i,s))),typeof this.json.scene=="number"&&r.scenes&&(r.scene=r.scenes[this.json.scene]),r}getScene(e){return this._get(this.json.scenes,e)}getNode(e){return this._get(this.json.nodes,e)}getSkin(e){return this._get(this.json.skins,e)}getMesh(e){return this._get(this.json.meshes,e)}getMaterial(e){return this._get(this.json.materials,e)}getAccessor(e){return this._get(this.json.accessors,e)}getCamera(e){return this._get(this.json.cameras,e)}getTexture(e){return this._get(this.json.textures,e)}getSampler(e){return this._get(this.json.samplers,e)}getImage(e){return this._get(this.json.images,e)}getBufferView(e){return this._get(this.json.bufferViews,e)}getBuffer(e){return this._get(this.json.buffers,e)}_get(e,t){if(typeof t=="object")return t;const r=e&&e[t];return r||console.warn(`glTF file error: Could not find ${e}[${t}]`),r}_resolveScene(e,t){return{...e,id:e.id||`scene-${t}`,nodes:(e.nodes||[]).map(r=>this.getNode(r))}}_resolveNode(e,t){const r={...e,id:(e==null?void 0:e.id)||`node-${t}`};return e.mesh!==void 0&&(r.mesh=this.getMesh(e.mesh)),e.camera!==void 0&&(r.camera=this.getCamera(e.camera)),e.skin!==void 0&&(r.skin=this.getSkin(e.skin)),e.meshes!==void 0&&e.meshes.length&&(r.mesh=e.meshes.reduce((i,s)=>{const a=this.getMesh(s);return i.id=a.id,i.primitives=i.primitives.concat(a.primitives),i},{primitives:[]})),r}_resolveNodeChildren(e){return e.children&&(e.children=e.children.map(t=>this.getNode(t))),e}_resolveSkin(e,t){const r=typeof e.inverseBindMatrices=="number"?this.getAccessor(e.inverseBindMatrices):void 0;return{...e,id:e.id||`skin-${t}`,inverseBindMatrices:r}}_resolveMesh(e,t){const r={...e,id:e.id||`mesh-${t}`,primitives:[]};return e.primitives&&(r.primitives=e.primitives.map(i=>{const s={...i,attributes:{},indices:void 0,material:void 0},a=i.attributes;for(const o in a)s.attributes[o]=this.getAccessor(a[o]);return i.indices!==void 0&&(s.indices=this.getAccessor(i.indices)),i.material!==void 0&&(s.material=this.getMaterial(i.material)),s})),r}_resolveMaterial(e,t){const r={...e,id:e.id||`material-${t}`};if(r.normalTexture&&(r.normalTexture={...r.normalTexture},r.normalTexture.texture=this.getTexture(r.normalTexture.index)),r.occlusionTexture&&(r.occlusionTexture={...r.occlusionTexture},r.occlusionTexture.texture=this.getTexture(r.occlusionTexture.index)),r.emissiveTexture&&(r.emissiveTexture={...r.emissiveTexture},r.emissiveTexture.texture=this.getTexture(r.emissiveTexture.index)),r.emissiveFactor||(r.emissiveFactor=r.emissiveTexture?[1,1,1]:[0,0,0]),r.pbrMetallicRoughness){r.pbrMetallicRoughness={...r.pbrMetallicRoughness};const i=r.pbrMetallicRoughness;i.baseColorTexture&&(i.baseColorTexture={...i.baseColorTexture},i.baseColorTexture.texture=this.getTexture(i.baseColorTexture.index)),i.metallicRoughnessTexture&&(i.metallicRoughnessTexture={...i.metallicRoughnessTexture},i.metallicRoughnessTexture.texture=this.getTexture(i.metallicRoughnessTexture.index))}return r}_resolveAccessor(e,t){const r=pOe(e.componentType),i=_Oe(e.type),s=r*i,a={...e,id:e.id||`accessor-${t}`,bytesPerComponent:r,components:i,bytesPerElement:s,value:void 0,bufferView:void 0,sparse:void 0};if(e.bufferView!==void 0&&(a.bufferView=this.getBufferView(e.bufferView)),a.bufferView){const o=a.bufferView.buffer,{ArrayType:l,byteLength:c}=jB(a,a.bufferView),A=(a.bufferView.byteOffset||0)+(a.byteOffset||0)+o.byteOffset;let u=o.arrayBuffer.slice(A,A+c);a.bufferView.byteStride&&(u=this._getValueFromInterleavedBuffer(o,A,a.bufferView.byteStride,a.bytesPerElement,a.count)),a.value=new l(u)}return a}_getValueFromInterleavedBuffer(e,t,r,i,s){const a=new Uint8Array(s*i);for(let o=0;o<s;o++){const l=t+o*r;a.set(new Uint8Array(e.arrayBuffer.slice(l,l+i)),o*i)}return a.buffer}_resolveTexture(e,t){return{...e,id:e.id||`texture-${t}`,sampler:typeof e.sampler=="number"?this.getSampler(e.sampler):gOe(),source:typeof e.source=="number"?this.getImage(e.source):void 0}}_resolveSampler(e,t){const r={id:e.id||`sampler-${t}`,...e,parameters:{}};for(const i in r){const s=this._enumSamplerParameter(i);s!==void 0&&(r.parameters[s]=r[i])}return r}_enumSamplerParameter(e){return hOe[e]}_resolveImage(e,t){const r={...e,id:e.id||`image-${t}`,image:null,bufferView:e.bufferView!==void 0?this.getBufferView(e.bufferView):void 0},i=this.images[t];return i&&(r.image=i),r}_resolveBufferView(e,t){const r=e.buffer,i=this.buffers[r].arrayBuffer;let s=this.buffers[r].byteOffset||0;return e.byteOffset&&(s+=e.byteOffset),{id:`bufferView-${t}`,...e,buffer:this.buffers[r],data:new Uint8Array(i,s,e.byteLength)}}_resolveCamera(e,t){const r={...e,id:e.id||`camera-${t}`};return r.perspective,r.orthographic,r}}function $B(n,e){return new mOe().postProcess(n,e)}async function yOe(n){const e=[];return n.scenes.forEach(t=>{t.traverse(r=>{})}),await bOe(()=>e.some(t=>!t.loaded))}async function bOe(n){for(;n();)await new Promise(e=>requestAnimationFrame(e))}const _N=`uniform scenegraphUniforms {
  float sizeScale;
  float sizeMinPixels;
  float sizeMaxPixels;
  mat4 sceneModelMatrix;
  bool composeModelMatrix;
} scenegraph;
`,vOe={name:"scenegraph",vs:_N,fs:_N,uniformTypes:{sizeScale:"f32",sizeMinPixels:"f32",sizeMaxPixels:"f32",sceneModelMatrix:"mat4x4<f32>",composeModelMatrix:"f32"}},wOe=`#version 300 es
#define SHADER_NAME scenegraph-layer-vertex-shader
in vec3 instancePositions;
in vec3 instancePositions64Low;
in vec4 instanceColors;
in vec3 instancePickingColors;
in vec3 instanceModelMatrixCol0;
in vec3 instanceModelMatrixCol1;
in vec3 instanceModelMatrixCol2;
in vec3 instanceTranslation;
in vec3 positions;
#ifdef HAS_UV
in vec2 texCoords;
#endif
#ifdef LIGHTING_PBR
#ifdef HAS_NORMALS
in vec3 normals;
#endif
#endif
out vec4 vColor;
#ifndef LIGHTING_PBR
#ifdef HAS_UV
out vec2 vTEXCOORD_0;
#endif
#endif
void main(void) {
#if defined(HAS_UV) && !defined(LIGHTING_PBR)
vTEXCOORD_0 = texCoords;
geometry.uv = texCoords;
#endif
geometry.worldPosition = instancePositions;
geometry.pickingColor = instancePickingColors;
mat3 instanceModelMatrix = mat3(instanceModelMatrixCol0, instanceModelMatrixCol1, instanceModelMatrixCol2);
vec3 normal = vec3(0.0, 0.0, 1.0);
#ifdef LIGHTING_PBR
#ifdef HAS_NORMALS
normal = instanceModelMatrix * (scenegraph.sceneModelMatrix * vec4(normals, 0.0)).xyz;
#endif
#endif
float originalSize = project_size_to_pixel(scenegraph.sizeScale);
float clampedSize = clamp(originalSize, scenegraph.sizeMinPixels, scenegraph.sizeMaxPixels);
vec3 pos = (instanceModelMatrix * (scenegraph.sceneModelMatrix * vec4(positions, 1.0)).xyz) * scenegraph.sizeScale * (clampedSize / originalSize) + instanceTranslation;
if(scenegraph.composeModelMatrix) {
DECKGL_FILTER_SIZE(pos, geometry);
geometry.normal = project_normal(normal);
geometry.worldPosition += pos;
gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
}
else {
pos = project_size(pos);
DECKGL_FILTER_SIZE(pos, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);
geometry.normal = project_normal(normal);
}
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
#ifdef LIGHTING_PBR
pbr_vPosition = geometry.position.xyz;
#ifdef HAS_NORMALS
pbr_vNormal = geometry.normal;
#endif
#ifdef HAS_UV
pbr_vUV = texCoords;
#else
pbr_vUV = vec2(0., 0.);
#endif
geometry.uv = pbr_vUV;
#endif
vColor = instanceColors;
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,LOe=`#version 300 es
#define SHADER_NAME scenegraph-layer-fragment-shader
in vec4 vColor;
out vec4 fragColor;
#ifndef LIGHTING_PBR
#if defined(HAS_UV) && defined(HAS_BASECOLORMAP)
in vec2 vTEXCOORD_0;
uniform sampler2D pbr_baseColorSampler;
#endif
#endif
void main(void) {
#ifdef LIGHTING_PBR
fragColor = vColor * pbr_filterColor(vec4(0));
geometry.uv = pbr_vUV;
#else
#if defined(HAS_UV) && defined(HAS_BASECOLORMAP)
fragColor = vColor * texture(pbr_baseColorSampler, vTEXCOORD_0);
geometry.uv = vTEXCOORD_0;
#else
fragColor = vColor;
#endif
#endif
fragColor.a *= layer.opacity;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,_V=[255,255,255,255],xOe={scenegraph:{type:"object",value:null,async:!0},getScene:n=>n&&n.scenes?typeof n.scene=="object"?n.scene:n.scenes[n.scene||0]:n,getAnimator:n=>n&&n.animator,_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:_V},_lighting:"flat",_imageBasedLightingEnvironment:void 0,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[op]};class WB extends Gd{getShaders(){const e={};let t;this.props._lighting==="pbr"?(t=OR,e.LIGHTING_PBR=1):t={name:"pbrMaterial"};const r=[HR,GR,vOe,t];return super.getShaders({defines:e,vs:wOe,fs:LOe,modules:r})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:"unorm8",size:this.props.colorFormat.length,accessor:"getColor",defaultValue:_V,transition:!0},instanceModelMatrix:KG})}updateState(e){super.updateState(e);const{props:t,oldProps:r}=e;t.scenegraph!==r.scenegraph?this._updateScenegraph():t._animations!==r._animations&&this._applyAnimationsProp(this.state.animator,t._animations)}finalizeState(e){var t;super.finalizeState(e),(t=this.state.scenegraph)==null||t.destroy()}get isLoaded(){var e;return!!((e=this.state)!=null&&e.scenegraph&&super.isLoaded)}_updateScenegraph(){var o;const e=this.props,{device:t}=this.context;let r=null;if(e.scenegraph instanceof X5)r={scenes:[e.scenegraph]};else if(e.scenegraph&&typeof e.scenegraph=="object"){const l=e.scenegraph,c=l.json?$B(l):l,A=ske(t,c,this._getModelOptions());r={gltf:c,...A},yOe(A).then(()=>{this.setNeedsRedraw()}).catch(u=>{this.raiseError(u,"loading glTF")})}const i={layer:this,device:this.context.device},s=e.getScene(r,i),a=e.getAnimator(r,i);if(s instanceof jd){(o=this.state.scenegraph)==null||o.destroy(),this._applyAnimationsProp(a,e._animations);const l=[];s.traverse(c=>{c instanceof H9&&l.push(c.model)}),this.setState({scenegraph:s,animator:a,models:l}),this.getAttributeManager().invalidateAll()}else s!==null&&or.warn("invalid scenegraph:",s)()}_applyAnimationsProp(e,t){if(!e||!t)return;const r=e.getAnimations();Object.keys(t).sort().forEach(i=>{const s=t[i];if(i==="*")r.forEach(a=>{Object.assign(a,s)});else if(Number.isFinite(Number(i))){const a=Number(i);a>=0&&a<r.length?Object.assign(r[a],s):or.warn(`animation ${i} not found`)()}else{const a=r.find(({animation:o})=>o.name===i);a?Object.assign(a,s):or.warn(`animation ${i} not found`)()}})}_getModelOptions(){const{_imageBasedLightingEnvironment:e}=this.props;let t;return e&&(typeof e=="function"?t=e({gl:this.context.gl,layer:this}):t=e),{imageBasedLightingEnvironment:t,modelOptions:{id:this.props.id,isInstanced:!0,bufferLayout:this.getAttributeManager().getBufferLayouts(),...this.getShaders()},useTangents:!1}}draw({context:e}){if(!this.state.scenegraph)return;this.props._animations&&this.state.animator&&(this.state.animator.animate(e.timeline.getTime()),this.setNeedsRedraw());const{viewport:t,renderPass:r}=this.context,{sizeScale:i,sizeMinPixels:s,sizeMaxPixels:a,coordinateSystem:o}=this.props,l={camera:t.cameraPosition},c=this.getNumInstances();this.state.scenegraph.traverse((A,{worldMatrix:u})=>{if(A instanceof H9){const{model:h}=A;h.setInstanceCount(c);const f={sizeScale:i,sizeMinPixels:s,sizeMaxPixels:a,composeModelMatrix:$G(t,o),sceneModelMatrix:u};h.shaderInputs.setProps({pbrProjection:l,scenegraph:f}),h.draw(r)}})}}WB.defaultProps=xOe;WB.layerName="ScenegraphLayer";const mN=`uniform meshUniforms {
  bool pickFeatureIds;
} mesh;
`,ROe={name:"mesh",vs:mN,fs:mN,uniformTypes:{pickFeatureIds:"f32"}},BOe=`#version 300 es
#define SHADER_NAME simple-mesh-layer-vs
in vec3 positions;
in vec3 normals;
in vec3 colors;
in vec2 texCoords;
in vec4 uvRegions;
in vec3 featureIdsPickingColors;
in vec4 instanceColors;
in vec3 instancePickingColors;
in vec3 instanceModelMatrixCol0;
in vec3 instanceModelMatrixCol1;
in vec3 instanceModelMatrixCol2;
out vec2 vTexCoord;
out vec3 cameraPosition;
out vec3 normals_commonspace;
out vec4 position_commonspace;
out vec4 vColor;
vec2 applyUVRegion(vec2 uv) {
#ifdef HAS_UV_REGIONS
return fract(uv) * (uvRegions.zw - uvRegions.xy) + uvRegions.xy;
#else
return uv;
#endif
}
void main(void) {
vec2 uv = applyUVRegion(texCoords);
geometry.uv = uv;
if (mesh.pickFeatureIds) {
geometry.pickingColor = featureIdsPickingColors;
} else {
geometry.pickingColor = instancePickingColors;
}
mat3 instanceModelMatrix = mat3(instanceModelMatrixCol0, instanceModelMatrixCol1, instanceModelMatrixCol2);
vTexCoord = uv;
cameraPosition = project.cameraPosition;
vColor = vec4(colors * instanceColors.rgb, instanceColors.a);
vec3 pos = (instanceModelMatrix * positions) * simpleMesh.sizeScale;
vec3 projectedPosition = project_position(positions);
position_commonspace = vec4(projectedPosition, 1.0);
gl_Position = project_common_position_to_clipspace(position_commonspace);
geometry.position = position_commonspace;
normals_commonspace = project_normal(instanceModelMatrix * normals);
geometry.normal = normals_commonspace;
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
#ifdef MODULE_PBRMATERIAL
pbr_vPosition = geometry.position.xyz;
#ifdef HAS_NORMALS
pbr_vNormal = geometry.normal;
#endif
#ifdef HAS_UV
pbr_vUV = uv;
#else
pbr_vUV = vec2(0., 0.);
#endif
geometry.uv = pbr_vUV;
#endif
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,EOe=`#version 300 es
#define SHADER_NAME simple-mesh-layer-fs
precision highp float;
uniform sampler2D sampler;
in vec2 vTexCoord;
in vec3 cameraPosition;
in vec3 normals_commonspace;
in vec4 position_commonspace;
in vec4 vColor;
out vec4 fragColor;
void main(void) {
#ifdef MODULE_PBRMATERIAL
fragColor = vColor * pbr_filterColor(vec4(0));
geometry.uv = pbr_vUV;
fragColor.a *= layer.opacity;
#else
geometry.uv = vTexCoord;
vec3 normal;
if (simpleMesh.flatShading) {
normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));
} else {
normal = normals_commonspace;
}
vec4 color = simpleMesh.hasTexture ? texture(sampler, vTexCoord) : vColor;
vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);
fragColor = vec4(lightColor, color.a * layer.opacity);
#endif
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`;function COe(n){const e=n.positions||n.POSITION,t=e.value.length/e.size;n.COLOR_0||n.colors||(n.colors={size:4,value:new Uint8Array(t*4).fill(255),normalized:!0})}const IOe={pbrMaterial:{type:"object",value:null},featureIds:{type:"array",value:null,optional:!0}};class qB extends QB{getShaders(){const e=super.getShaders();return e.modules.push(OR,ROe),{...e,vs:BOe,fs:EOe}}initializeState(){const{featureIds:e}=this.props;super.initializeState();const t=this.getAttributeManager();e&&t.add({featureIdsPickingColors:{type:"uint8",size:3,noAlloc:!0,update:this.calculateFeatureIdsPickingColors}})}updateState(e){super.updateState(e);const{props:t,oldProps:r}=e;t.pbrMaterial!==r.pbrMaterial&&this.updatePbrMaterialUniforms(t.pbrMaterial)}draw(e){const{featureIds:t}=this.props,{model:r}=this.state;if(!r)return;const i={pickFeatureIds:!!t},s={camera:this.context.viewport.cameraPosition};r.shaderInputs.setProps({pbrProjection:s,mesh:i}),super.draw(e)}getModel(e){const{id:t}=this.props,r=this.parseMaterial(this.props.pbrMaterial,e);this.setState({parsedPBRMaterial:r});const i=this.getShaders();return COe(e.attributes),new cu(this.context.device,{...this.getShaders(),id:t,geometry:e,bufferLayout:this.getAttributeManager().getBufferLayouts(),defines:{...i.defines,...r==null?void 0:r.defines,HAS_UV_REGIONS:e.attributes.uvRegions?1:0},parameters:r==null?void 0:r.parameters,isInstanced:!0})}updatePbrMaterialUniforms(e){const{model:t}=this.state;if(t){const{mesh:r}=this.props,i=this.parseMaterial(e,r);this.setState({parsedPBRMaterial:i});const{pbr_baseColorSampler:s}=i.bindings,{emptyTexture:a}=this.state,o={sampler:s||a,hasTexture:!!s},{camera:l,...c}={...i.bindings,...i.uniforms};t.shaderInputs.setProps({simpleMesh:o,pbrMaterial:c})}}parseMaterial(e,t){const r=!!(e.pbrMetallicRoughness&&e.pbrMetallicRoughness.baseColorTexture);return XG(this.context.device,{unlit:r,...e},{NORMAL:t.attributes.normals,TEXCOORD_0:t.attributes.texCoords},{pbrDebug:!1,lights:!0,useTangents:!1})}calculateFeatureIdsPickingColors(e){const t=this.props.featureIds,r=new Uint8ClampedArray(t.length*e.size),i=[];for(let s=0;s<t.length;s++)this.encodePickingColor(t[s],i),r[s*3]=i[0],r[s*3+1]=i[1],r[s*3+2]=i[2];e.value=r}finalizeState(e){var t;super.finalizeState(e),(t=this.state.parsedPBRMaterial)==null||t.generatedTextures.forEach(r=>r.destroy()),this.setState({parsedPBRMaterial:null})}}qB.layerName="MeshLayer";qB.defaultProps=IOe;const TOe=6378137,MOe=6378137,SOe=6356752314245179e-9;function P6(n){return n}new tt;function FOe(n,e=[],t=P6){return"longitude"in n?(e[0]=t(n.longitude),e[1]=t(n.latitude),e[2]=n.height):"x"in n?(e[0]=t(n.x),e[1]=t(n.y),e[2]=n.z):(e[0]=t(n[0]),e[1]=t(n[1]),e[2]=n[2]),e}function UOe(n,e=[]){return FOe(n,e,ms._cartographicRadians?P6:cge)}function NOe(n,e,t=P6){return"longitude"in e?(e.longitude=t(n[0]),e.latitude=t(n[1]),e.height=n[2]):"x"in e?(e.x=t(n[0]),e.y=t(n[1]),e.z=n[2]):(e[0]=t(n[0]),e[1]=t(n[1]),e[2]=n[2]),e}function kOe(n,e){return NOe(n,e,ms._cartographicRadians?P6:Age)}const yN=1e-14,POe=new tt,bN={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},pw={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},V2={east:new tt,north:new tt,up:new tt,west:new tt,south:new tt,down:new tt},DOe=new tt,OOe=new tt,zOe=new tt;function vN(n,e,t,r,i,s){const a=bN[e]&&bN[e][t];Ml(a&&(!r||r===a));let o,l,c;const A=POe.copy(i);if(Dl(A.x,0,yN)&&Dl(A.y,0,yN)){const h=Math.sign(A.z);o=DOe.fromArray(pw[e]),e!=="east"&&e!=="west"&&o.scale(h),l=OOe.fromArray(pw[t]),t!=="east"&&t!=="west"&&l.scale(h),c=zOe.fromArray(pw[r]),r!=="east"&&r!=="west"&&c.scale(h)}else{const{up:h,east:f,north:d}=V2;f.set(-A.y,A.x,0).normalize(),n.geodeticSurfaceNormal(A,h),d.copy(h).cross(f);const{down:g,west:_,south:m}=V2;g.copy(h).scale(-1),_.copy(f).scale(-1),m.copy(d).scale(-1),o=V2[e],l=V2[t],c=V2[r]}return s[0]=o.x,s[1]=o.y,s[2]=o.z,s[3]=0,s[4]=l.x,s[5]=l.y,s[6]=l.z,s[7]=0,s[8]=c.x,s[9]=c.y,s[10]=c.z,s[11]=0,s[12]=A.x,s[13]=A.y,s[14]=A.z,s[15]=1,s}const $f=new tt,HOe=new tt,QOe=new tt;function jOe(n,e,t=[]){const{oneOverRadii:r,oneOverRadiiSquared:i,centerToleranceSquared:s}=e;$f.from(n);const a=$f.x,o=$f.y,l=$f.z,c=r.x,A=r.y,u=r.z,h=a*a*c*c,f=o*o*A*A,d=l*l*u*u,g=h+f+d,_=Math.sqrt(1/g);if(!Number.isFinite(_))return;const m=HOe;if(m.copy(n).scale(_),g<s)return m.to(t);const y=i.x,b=i.y,v=i.z,B=QOe;B.set(m.x*y*2,m.y*b*2,m.z*v*2);let C=(1-_)*$f.len()/(.5*B.len()),I=0,R,w,U,M;do{C-=I,R=1/(1+C*y),w=1/(1+C*b),U=1/(1+C*v);const F=R*R,P=w*w,S=U*U,W=F*R,re=P*w,G=S*U;M=h*F+f*P+d*S-1;const X=-2*(h*W*y+f*re*b+d*G*v);I=M/X}while(Math.abs(M)>I3e);return $f.scale([R,w,U]).to(t)}const $4=new tt,wN=new tt,YOe=new tt,ml=new tt,GOe=new tt,W4=new tt;class Hr{constructor(e=0,t=0,r=0){this.centerToleranceSquared=C3e,Ml(e>=0),Ml(t>=0),Ml(r>=0),this.radii=new tt(e,t,r),this.radiiSquared=new tt(e*e,t*t,r*r),this.radiiToTheFourth=new tt(e*e*e*e,t*t*t*t,r*r*r*r),this.oneOverRadii=new tt(e===0?0:1/e,t===0?0:1/t,r===0?0:1/r),this.oneOverRadiiSquared=new tt(e===0?0:1/(e*e),t===0?0:1/(t*t),r===0?0:1/(r*r)),this.minimumRadius=Math.min(e,t,r),this.maximumRadius=Math.max(e,t,r),this.radiiSquared.z!==0&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}equals(e){return this===e||!!(e&&this.radii.equals(e.radii))}toString(){return this.radii.toString()}cartographicToCartesian(e,t=[0,0,0]){const r=wN,i=YOe,[,,s]=e;this.geodeticSurfaceNormalCartographic(e,r),i.copy(this.radiiSquared).scale(r);const a=Math.sqrt(r.dot(i));return i.scale(1/a),r.scale(s),i.add(r),i.to(t)}cartesianToCartographic(e,t=[0,0,0]){W4.from(e);const r=this.scaleToGeodeticSurface(W4,ml);if(!r)return;const i=this.geodeticSurfaceNormal(r,wN),s=GOe;s.copy(W4).subtract(r);const a=Math.atan2(i.y,i.x),o=Math.asin(i.z),l=Math.sign(UR(s,W4))*FQ(s);return kOe([a,o,l],t)}eastNorthUpToFixedFrame(e,t=new Yn){return vN(this,"east","north","up",e,t)}localFrameToFixedFrame(e,t,r,i,s=new Yn){return vN(this,e,t,r,i,s)}geocentricSurfaceNormal(e,t=[0,0,0]){return $4.from(e).normalize().to(t)}geodeticSurfaceNormalCartographic(e,t=[0,0,0]){const r=UOe(e),i=r[0],s=r[1],a=Math.cos(s);return $4.set(a*Math.cos(i),a*Math.sin(i),Math.sin(s)).normalize(),$4.to(t)}geodeticSurfaceNormal(e,t=[0,0,0]){return $4.from(e).scale(this.oneOverRadiiSquared).normalize().to(t)}scaleToGeodeticSurface(e,t){return jOe(e,this,t)}scaleToGeocentricSurface(e,t=[0,0,0]){ml.from(e);const r=ml.x,i=ml.y,s=ml.z,a=this.oneOverRadiiSquared,o=1/Math.sqrt(r*r*a.x+i*i*a.y+s*s*a.z);return ml.multiplyScalar(o).to(t)}transformPositionToScaledSpace(e,t=[0,0,0]){return ml.from(e).scale(this.oneOverRadii).to(t)}transformPositionFromScaledSpace(e,t=[0,0,0]){return ml.from(e).scale(this.radii).to(t)}getSurfaceNormalIntersectionWithZAxis(e,t=0,r=[0,0,0]){Ml(Dl(this.radii.x,this.radii.y,YQ)),Ml(this.radii.z>0),ml.from(e);const i=ml.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(i)>=this.radii.z-t))return ml.set(0,0,i).to(r)}}Hr.WGS84=new Hr(TOe,MOe,SOe);class VOe{constructor(e,t,r){z(this,"item");z(this,"previous");z(this,"next");this.item=e,this.previous=t,this.next=r}}class KOe{constructor(){z(this,"head",null);z(this,"tail",null);z(this,"_length",0)}get length(){return this._length}add(e){const t=new VOe(e,this.tail,null);return this.tail?(this.tail.next=t,this.tail=t):(this.head=t,this.tail=t),++this._length,t}remove(e){e&&(e.previous&&e.next?(e.previous.next=e.next,e.next.previous=e.previous):e.previous?(e.previous.next=null,this.tail=e.previous):e.next?(e.next.previous=null,this.head=e.next):(this.head=null,this.tail=null),e.next=null,e.previous=null,--this._length)}splice(e,t){e!==t&&(this.remove(t),this._insert(e,t))}_insert(e,t){const r=e.next;e.next=t,this.tail===e?this.tail=t:r.previous=t,t.next=r,t.previous=e,++this._length}}class $Oe{constructor(){z(this,"_list");z(this,"_sentinel");z(this,"_trimTiles");this._list=new KOe,this._sentinel=this._list.add("sentinel"),this._trimTiles=!1}reset(){this._list.splice(this._list.tail,this._sentinel)}touch(e){const t=e._cacheNode;t&&this._list.splice(this._sentinel,t)}add(e,t,r){t._cacheNode||(t._cacheNode=this._list.add(t),r&&r(e,t))}unloadTile(e,t,r){const i=t._cacheNode;i&&(this._list.remove(i),t._cacheNode=null,r&&r(e,t))}unloadTiles(e,t){const r=this._trimTiles;this._trimTiles=!1;const i=this._list,s=e.maximumMemoryUsage*1024*1024,a=this._sentinel;let o=i.head;for(;o!==a&&(e.gpuMemoryUsageInBytes>s||r);){const l=o.item;o=o.next,this.unloadTile(e,l,t)}}trim(){this._trimTiles=!0}}function WOe(n,e){zr(n),zr(e);const{rtcCenter:t,gltfUpAxis:r}=e,{computedTransform:i,boundingVolume:{center:s}}=n;let a=new Yn(i);switch(t&&a.translate(t),r){case"Z":break;case"Y":const u=new Yn().rotateX(Math.PI/2);a=a.multiplyRight(u);break;case"X":const h=new Yn().rotateY(-Math.PI/2);a=a.multiplyRight(h);break}e.isQuantized&&a.translate(e.quantizedVolumeOffset).scale(e.quantizedVolumeScale);const o=new tt(s);e.cartesianModelMatrix=a,e.cartesianOrigin=o;const l=Hr.WGS84.cartesianToCartographic(o,new tt),A=Hr.WGS84.eastNorthUpToFixedFrame(o).invert();e.cartographicModelMatrix=A.multiplyRight(a),e.cartographicOrigin=l,e.coordinateSystem||(e.modelMatrix=e.cartographicModelMatrix)}const LN=new tt,_w=new tt,TL=new Wo([new yc,new yc,new yc,new yc,new yc,new yc]);function qOe(n,e){const{cameraDirection:t,cameraUp:r,height:i}=n,{metersPerUnit:s}=n.distanceScales,a=Qm(n,n.center),o=Hr.WGS84.eastNorthUpToFixedFrame(a),l=n.unprojectPosition(n.cameraPosition),c=Hr.WGS84.cartographicToCartesian(l,new tt),A=new tt(o.transformAsVector(new tt(t).scale(s))).normalize(),u=new tt(o.transformAsVector(new tt(r).scale(s))).normalize();JOe(n);const h=n.constructor,{longitude:f,latitude:d,width:g,bearing:_,zoom:m}=n,y=new h({longitude:f,latitude:d,height:i,width:g,bearing:_,zoom:m,pitch:0});return{camera:{position:c,direction:A,up:u},viewport:n,topDownViewport:y,height:i,cullingVolume:TL,frameNumber:e,sseDenominator:1.15}}function XOe(n,e,t){if(t===0||n.length<=t)return[n,[]];const r=[],{longitude:i,latitude:s}=e.viewport;for(const[c,A]of n.entries()){const[u,h]=A.header.mbs,f=Math.abs(i-u),d=Math.abs(s-h),g=Math.sqrt(d*d+f*f);r.push([c,g])}const a=r.sort((c,A)=>c[1]-A[1]),o=[];for(let c=0;c<t;c++)o.push(n[a[c][0]]);const l=[];for(let c=t;c<a.length;c++)l.push(n[a[c][0]]);return[o,l]}function JOe(n){const e=n.getFrustumPlanes(),t=xN(e.near,n.cameraPosition),r=Qm(n,t),i=Qm(n,n.cameraPosition,_w);let s=0;TL.planes[s++].fromPointNormal(r,LN.copy(r).subtract(i));for(const a in e){if(a==="near")continue;const o=e[a],l=xN(o,t,_w),c=Qm(n,l,_w);TL.planes[s++].fromPointNormal(c,LN.copy(r).subtract(c))}}function xN(n,e,t=new tt){const r=n.normal.dot(e);return t.copy(n.normal).scale(n.distance-r).add(e),t}function Qm(n,e,t=new tt){const r=n.unprojectPosition(e);return Hr.WGS84.cartographicToCartesian(r,t)}const ZOe=6378137,eze=6378137,ML=6356752314245179e-9,Lh=new tt;function tze(n,e){if(n instanceof kp){const{halfAxes:t}=n,r=rze(t);return Math.log2(ML/(r+e[2]))}else if(n instanceof Np){const{radius:t}=n;return Math.log2(ML/(t+e[2]))}else if(n.width&&n.height){const{width:t,height:r}=n,i=Math.log2(ZOe/t),s=Math.log2(eze/r);return(i+s)/2}return 1}function mV(n,e,t){Hr.WGS84.cartographicToCartesian([n.xmax,n.ymax,n.zmax],Lh);const r=Math.sqrt(Math.pow(Lh[0]-t[0],2)+Math.pow(Lh[1]-t[1],2)+Math.pow(Lh[2]-t[2],2));return Math.log2(ML/(r+e[2]))}function nze(n,e,t){const[r,i,s,a]=n;return mV({xmax:s,ymax:a,zmax:0},e,t)}function rze(n){n.getColumn(0,Lh);const e=n.getColumn(1),t=n.getColumn(2);return Lh.add(e).add(t).len()}const oo={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,EXPIRED:4,FAILED:5};var Yl;(function(n){n[n.ADD=1]="ADD",n[n.REPLACE=2]="REPLACE"})(Yl||(Yl={}));var F0;(function(n){n.EMPTY="empty",n.SCENEGRAPH="scenegraph",n.POINTCLOUD="pointcloud",n.MESH="mesh"})(F0||(F0={}));var Sa;(function(n){n.I3S="I3S",n.TILES3D="TILES3D"})(Sa||(Sa={}));var Ed;(function(n){n.GEOMETRIC_ERROR="geometricError",n.MAX_SCREEN_THRESHOLD="maxScreenThreshold"})(Ed||(Ed={}));const ize={USE_OPTIMIZATION:1};function yV(n){return n!=null}const ta=new tt,jm=new tt,sze=new tt,aze=new tt,Wu=new tt,RN=new tt,BN=new tt,EN=new tt;function mw(n,e,t){if(zr(n,"3D Tile: boundingVolume must be defined"),n.box)return bV(n.box,e,t);if(n.region)return cze(n.region);if(n.sphere)return lze(n.sphere,e,t);throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")}function oze(n,e){if(n.box)return Aze(e);if(n.region){const[t,r,i,s,a,o]=n.region;return[[Cl(t),Cl(r),a],[Cl(i),Cl(s),o]]}if(n.sphere)return uze(e);throw new Error("Unkown boundingVolume type")}function bV(n,e,t){const r=new tt(n[0],n[1],n[2]);e.transform(r,r);let i=[];if(n.length===10){const c=n.slice(3,6),A=new O3;A.fromArray(n,6);const u=new tt([1,0,0]),h=new tt([0,1,0]),f=new tt([0,0,1]);u.transformByQuaternion(A),u.scale(c[0]),h.transformByQuaternion(A),h.scale(c[1]),f.transformByQuaternion(A),f.scale(c[2]),i=[...u.toArray(),...h.toArray(),...f.toArray()]}else i=[...n.slice(3,6),...n.slice(6,9),...n.slice(9,12)];const s=e.transformAsVector(i.slice(0,3)),a=e.transformAsVector(i.slice(3,6)),o=e.transformAsVector(i.slice(6,9)),l=new Ri([s[0],s[1],s[2],a[0],a[1],a[2],o[0],o[1],o[2]]);return yV(t)?(t.center=r,t.halfAxes=l,t):new kp(r,l)}function lze(n,e,t){const r=new tt(n[0],n[1],n[2]);e.transform(r,r);const i=e.getScale(jm),s=Math.max(Math.max(i[0],i[1]),i[2]),a=n[3]*s;return yV(t)?(t.center=r,t.radius=a,t):new Np(r,a)}function cze(n){const[e,t,r,i,s,a]=n,o=Hr.WGS84.cartographicToCartesian([Cl(e),Cl(i),s],sze),l=Hr.WGS84.cartographicToCartesian([Cl(r),Cl(t),a],aze),c=new tt().addVectors(o,l).multiplyByScalar(.5);return Hr.WGS84.cartesianToCartographic(c,Wu),Hr.WGS84.cartographicToCartesian([Cl(r),Wu[1],Wu[2]],RN),Hr.WGS84.cartographicToCartesian([Wu[0],Cl(i),Wu[2]],BN),Hr.WGS84.cartographicToCartesian([Wu[0],Wu[1],a],EN),bV([...c,...RN.subtract(c),...BN.subtract(c),...EN.subtract(c)],new Yn)}function Aze(n){const e=vV(),{halfAxes:t}=n,r=new tt(t.getColumn(0)),i=new tt(t.getColumn(1)),s=new tt(t.getColumn(2));for(let a=0;a<2;a++){for(let o=0;o<2;o++){for(let l=0;l<2;l++)ta.copy(n.center),ta.add(r),ta.add(i),ta.add(s),wV(e,ta),s.negate();i.negate()}r.negate()}return e}function uze(n){const e=vV(),{center:t,radius:r}=n,i=Hr.WGS84.scaleToGeodeticSurface(t,ta);let s;i?s=Hr.WGS84.geodeticSurfaceNormal(i):s=new tt(0,0,1);let a=new tt(s[2],-s[1],0);a.len()>0?a.normalize():a=new tt(0,1,0);const o=a.clone().cross(s);for(const l of[a,o,s]){jm.copy(l).scale(r);for(let c=0;c<2;c++)ta.copy(t),ta.add(jm),wV(e,ta),jm.negate()}return e}function vV(){return[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]]}function wV(n,e){Hr.WGS84.cartesianToCartographic(e,ta),n[0][0]=Math.min(n[0][0],ta[0]),n[0][1]=Math.min(n[0][1],ta[1]),n[0][2]=Math.min(n[0][2],ta[2]),n[1][0]=Math.max(n[1][0],ta[0]),n[1][1]=Math.max(n[1][1],ta[1]),n[1][2]=Math.max(n[1][2],ta[2])}new tt;new tt;new Yn;new tt;new tt;new tt;function fze(n,e){const t=n*e;return 1-Math.exp(-(t*t))}function hze(n,e){if(n.dynamicScreenSpaceError&&n.dynamicScreenSpaceErrorComputedDensity){const t=n.dynamicScreenSpaceErrorComputedDensity,r=n.dynamicScreenSpaceErrorFactor;return fze(e,t)*r}return 0}function dze(n,e,t){const r=n.tileset,i=n.parent&&n.parent.lodMetricValue||n.lodMetricValue,s=t?i:n.lodMetricValue;if(s===0)return 0;const a=Math.max(n._distanceToCamera,1e-7),{height:o,sseDenominator:l}=e,{viewDistanceScale:c}=r.options;let A=s*o*(c||1)/(a*l);return A-=hze(r,a),A}const yw=new tt,CN=new tt,wA=new tt,IN=new tt,gze=new tt,bw=new Yn,TN=new Yn;function pze(n,e){if(n.lodMetricValue===0||isNaN(n.lodMetricValue))return"DIG";const t=2*LV(n,e);return t<2?"OUT":!n.header.children||t<=n.lodMetricValue?"DRAW":n.header.children?"DIG":"OUT"}function LV(n,e){const{topDownViewport:t}=e,r=n.header.mbs[1],i=n.header.mbs[0],s=n.header.mbs[2],a=n.header.mbs[3],o=[...n.boundingVolume.center],l=t.unprojectPosition(t.cameraPosition);Hr.WGS84.cartographicToCartesian(l,yw),CN.copy(yw).subtract(o).normalize(),Hr.WGS84.eastNorthUpToFixedFrame(o,bw),TN.copy(bw).invert(),wA.copy(yw).transform(TN);const c=Math.sqrt(wA[0]*wA[0]+wA[1]*wA[1]),A=c*c/wA[2];IN.copy([wA[0],wA[1],A]);const h=IN.transform(bw).subtract(o).normalize(),d=CN.cross(h).normalize().scale(a).add(o),g=Hr.WGS84.cartesianToCartographic(d),_=t.project([i,r,s]),m=t.project(g);return gze.copy(_).subtract(m).magnitude()}function _ze(n){return{assetGltfUpAxis:n.asset&&n.asset.gltfUpAxis||"Y"}}class MN{constructor(e=0){z(this,"_map",new Map);z(this,"_array");z(this,"_length");this._array=new Array(e),this._length=e}get length(){return this._length}set length(e){this._length=e,e>this._array.length&&(this._array.length=e)}get values(){return this._array}get(e){return zr(e<this._array.length),this._array[e]}set(e,t){zr(e>=0),e>=this.length&&(this.length=e+1),this._map.has(this._array[e])&&this._map.delete(this._array[e]),this._array[e]=t,this._map.set(t,e)}delete(e){const t=this._map.get(e);t>=0&&(this._array.splice(t,1),this._map.delete(e),this.length--)}peek(){return this._array[this._length-1]}push(e){if(!this._map.has(e)){const t=this.length++;this._array[t]=e,this._map.set(e,t)}}pop(){const e=this._array[--this.length];return this._map.delete(e),e}reserve(e){zr(e>=0),e>this._array.length&&(this._array.length=e)}resize(e){zr(e>=0),this.length=e}trim(e){e==null&&(e=this.length),this._array.length=e}reset(){this._array=[],this._map=new Map,this._length=0}find(e){return this._map.has(e)}}const mze={loadSiblings:!1,skipLevelOfDetail:!1,updateTransforms:!0,onTraversalEnd:()=>{},viewportTraversersMap:{},basePath:""};class D6{constructor(e){z(this,"options");z(this,"root",null);z(this,"selectedTiles",{});z(this,"requestedTiles",{});z(this,"emptyTiles",{});z(this,"lastUpdate",new Date().getTime());z(this,"updateDebounceTime",1e3);z(this,"_traversalStack",new MN);z(this,"_emptyTraversalStack",new MN);z(this,"_frameNumber",null);this.options={...mze,...e}}traversalFinished(e){return!0}traverse(e,t,r){this.root=e,this.options={...this.options,...r},this.reset(),this.updateTile(e,t),this._frameNumber=t.frameNumber,this.executeTraversal(e,t)}reset(){this.requestedTiles={},this.selectedTiles={},this.emptyTiles={},this._traversalStack.reset(),this._emptyTraversalStack.reset()}executeTraversal(e,t){const r=this._traversalStack;for(e._selectionDepth=1,r.push(e);r.length>0;){const s=r.pop();let a=!1;this.canTraverse(s,t)&&(this.updateChildTiles(s,t),a=this.updateAndPushChildren(s,t,r,s.hasRenderContent?s._selectionDepth+1:s._selectionDepth));const o=s.parent,l=!!(!o||o._shouldRefine),c=!a;s.hasRenderContent?s.refine===Yl.ADD?(this.loadTile(s,t),this.selectTile(s,t)):s.refine===Yl.REPLACE&&(this.loadTile(s,t),c&&this.selectTile(s,t)):(this.emptyTiles[s.id]=s,this.loadTile(s,t),c&&this.selectTile(s,t)),this.touchTile(s,t),s._shouldRefine=a&&l}const i=new Date().getTime();(this.traversalFinished(t)||i-this.lastUpdate>this.updateDebounceTime)&&(this.lastUpdate=i,this.options.onTraversalEnd(t))}updateChildTiles(e,t){const r=e.children;for(const i of r)this.updateTile(i,t)}updateAndPushChildren(e,t,r,i){const{loadSiblings:s,skipLevelOfDetail:a}=this.options,o=e.children;o.sort(this.compareDistanceToCamera.bind(this));const l=e.refine===Yl.REPLACE&&e.hasRenderContent&&!a;let c=!1,A=!0;for(const u of o)if(u._selectionDepth=i,u.isVisibleAndInRequestVolume?(r.find(u)&&r.delete(u),r.push(u),c=!0):(l||s)&&(this.loadTile(u,t),this.touchTile(u,t)),l){let h;if(u._inRequestVolume?u.hasRenderContent?h=u.contentAvailable:h=this.executeEmptyTraversal(u,t):h=!1,A=A&&h,!A)return!1}return c||(A=!1),A}updateTile(e,t){this.updateTileVisibility(e,t)}selectTile(e,t){this.shouldSelectTile(e)&&(e._selectedFrame=t.frameNumber,this.selectedTiles[e.id]=e)}loadTile(e,t){this.shouldLoadTile(e)&&(e._requestedFrame=t.frameNumber,e._priority=e._getPriority(),this.requestedTiles[e.id]=e)}touchTile(e,t){e.tileset._cache.touch(e),e._touchedFrame=t.frameNumber}canTraverse(e,t){return e.hasChildren?e.hasTilesetContent?!e.contentExpired:this.shouldRefine(e,t):!1}shouldLoadTile(e){return e.hasUnloadedContent||e.contentExpired}shouldSelectTile(e){return e.contentAvailable&&!this.options.skipLevelOfDetail}shouldRefine(e,t,r=!1){let i=e._screenSpaceError;return r&&(i=e.getScreenSpaceError(t,!0)),i>e.tileset.memoryAdjustedScreenSpaceError}updateTileVisibility(e,t){const r=[];if(this.options.viewportTraversersMap)for(const i in this.options.viewportTraversersMap)this.options.viewportTraversersMap[i]===t.viewport.id&&r.push(i);else r.push(t.viewport.id);e.updateVisibility(t,r)}compareDistanceToCamera(e,t){return e._distanceToCamera-t._distanceToCamera}anyChildrenVisible(e,t){let r=!1;for(const i of e.children)i.updateVisibility(t),r=r||i.isVisibleAndInRequestVolume;return r}executeEmptyTraversal(e,t){let r=!0;const i=this._emptyTraversalStack;for(i.push(e);i.length>0;){const s=i.pop(),a=!s.hasRenderContent&&this.canTraverse(s,t),o=!s.hasRenderContent&&s.children.length===0;if(!a&&!s.contentAvailable&&!o&&(r=!1),this.updateTile(s,t),s.isVisibleAndInRequestVolume||(this.loadTile(s,t),this.touchTile(s,t)),a){const l=s.children;for(const c of l)i.push(c)}}return r}}const SN=new tt;function yze(n){return n!=null}class SL{constructor(e,t,r,i=""){z(this,"tileset");z(this,"header");z(this,"id");z(this,"url");z(this,"parent");z(this,"refine");z(this,"type");z(this,"contentUrl");z(this,"lodMetricType","geometricError");z(this,"lodMetricValue",0);z(this,"boundingVolume",null);z(this,"content",null);z(this,"contentState",oo.UNLOADED);z(this,"gpuMemoryUsageInBytes",0);z(this,"children",[]);z(this,"depth",0);z(this,"viewportIds",[]);z(this,"transform",new Yn);z(this,"extensions",null);z(this,"implicitTiling",null);z(this,"userData",{});z(this,"computedTransform");z(this,"hasEmptyContent",!1);z(this,"hasTilesetContent",!1);z(this,"traverser",new D6({}));z(this,"_cacheNode",null);z(this,"_frameNumber",null);z(this,"_expireDate",null);z(this,"_expiredContent",null);z(this,"_boundingBox");z(this,"_distanceToCamera",0);z(this,"_screenSpaceError",0);z(this,"_visibilityPlaneMask");z(this,"_visible");z(this,"_contentBoundingVolume");z(this,"_viewerRequestVolume");z(this,"_initialTransform",new Yn);z(this,"_priority",0);z(this,"_selectedFrame",0);z(this,"_requestedFrame",0);z(this,"_selectionDepth",0);z(this,"_touchedFrame",0);z(this,"_centerZDepth",0);z(this,"_shouldRefine",!1);z(this,"_stackLength",0);z(this,"_visitedFrame",0);z(this,"_inRequestVolume",!1);z(this,"_lodJudge",null);this.header=t,this.tileset=e,this.id=i||t.id,this.url=t.url,this.parent=r,this.refine=this._getRefine(t.refine),this.type=t.type,this.contentUrl=t.contentUrl,this._initializeLodMetric(t),this._initializeTransforms(t),this._initializeBoundingVolumes(t),this._initializeContent(t),this._initializeRenderingState(t),Object.seal(this)}destroy(){this.header=null}isDestroyed(){return this.header===null}get selected(){return this._selectedFrame===this.tileset._frameNumber}get isVisible(){return this._visible}get isVisibleAndInRequestVolume(){return this._visible&&this._inRequestVolume}get hasRenderContent(){return!this.hasEmptyContent&&!this.hasTilesetContent}get hasChildren(){return this.children.length>0||this.header.children&&this.header.children.length>0}get contentReady(){return this.contentState===oo.READY||this.hasEmptyContent}get contentAvailable(){return!!(this.contentReady&&this.hasRenderContent||this._expiredContent&&!this.contentFailed)}get hasUnloadedContent(){return this.hasRenderContent&&this.contentUnloaded}get contentUnloaded(){return this.contentState===oo.UNLOADED}get contentExpired(){return this.contentState===oo.EXPIRED}get contentFailed(){return this.contentState===oo.FAILED}get distanceToCamera(){return this._distanceToCamera}get screenSpaceError(){return this._screenSpaceError}get boundingBox(){return this._boundingBox||(this._boundingBox=oze(this.header.boundingVolume,this.boundingVolume)),this._boundingBox}getScreenSpaceError(e,t){switch(this.tileset.type){case Sa.I3S:return LV(this,e);case Sa.TILES3D:return dze(this,e,t);default:throw new Error("Unsupported tileset type")}}unselect(){this._selectedFrame=0}_getGpuMemoryUsageInBytes(){return this.content.gpuMemoryUsageInBytes||this.content.byteLength||0}_getPriority(){const e=this.tileset._traverser,{skipLevelOfDetail:t}=e.options,r=this.refine===Yl.ADD||t;if(r&&!this.isVisible&&this._visible!==void 0||this.tileset._frameNumber-this._touchedFrame>=1||this.contentState===oo.UNLOADED)return-1;const i=this.parent,a=i&&(!r||this._screenSpaceError===0||i.hasTilesetContent)?i._screenSpaceError:this._screenSpaceError,o=e.root?e.root._screenSpaceError:0;return Math.max(o-a,0)}async loadContent(){if(this.hasEmptyContent)return!1;if(this.content)return!0;this.contentExpired&&(this._expireDate=null),this.contentState=oo.LOADING;const t=await this.tileset._requestScheduler.scheduleRequest(this.id,this._getPriority.bind(this));if(!t)return this.contentState=oo.UNLOADED,!1;try{const r=this.tileset.getTileUrl(this.contentUrl),i=this.tileset.loader,s={...this.tileset.loadOptions,[i.id]:{...this.tileset.loadOptions[i.id],isTileset:this.type==="json",...this._getLoaderSpecificOptions(i.id)}};return this.content=await ou(r,i,s),this.tileset.options.contentLoader&&await this.tileset.options.contentLoader(this),this._isTileset()&&this.tileset._initializeTileHeaders(this.content,this),this.contentState=oo.READY,this._onContentLoaded(),!0}catch(r){throw this.contentState=oo.FAILED,r}finally{t.done()}}unloadContent(){return this.content&&this.content.destroy&&this.content.destroy(),this.content=null,this.header.content&&this.header.content.destroy&&this.header.content.destroy(),this.header.content=null,this.contentState=oo.UNLOADED,!0}updateVisibility(e,t){if(this._frameNumber===e.frameNumber)return;const r=this.parent,i=r?r._visibilityPlaneMask:Wo.MASK_INDETERMINATE;if(this.tileset._traverser.options.updateTransforms){const s=r?r.computedTransform:this.tileset.modelMatrix;this._updateTransform(s)}this._distanceToCamera=this.distanceToTile(e),this._screenSpaceError=this.getScreenSpaceError(e,!1),this._visibilityPlaneMask=this.visibility(e,i),this._visible=this._visibilityPlaneMask!==Wo.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(e),this._frameNumber=e.frameNumber,this.viewportIds=t}visibility(e,t){const{cullingVolume:r}=e,{boundingVolume:i}=this;return r.computeVisibilityWithPlaneMask(i,t)}contentVisibility(){return!0}distanceToTile(e){const t=this.boundingVolume;return Math.sqrt(Math.max(t.distanceSquaredTo(e.camera.position),0))}cameraSpaceZDepth({camera:e}){const t=this.boundingVolume;return SN.subVectors(t.center,e.position),e.direction.dot(SN)}insideViewerRequestVolume(e){const t=this._viewerRequestVolume;return!t||t.distanceSquaredTo(e.camera.position)<=0}updateExpiration(){if(yze(this._expireDate)&&this.contentReady&&!this.hasEmptyContent){const e=Date.now();Date.lessThan(this._expireDate,e)&&(this.contentState=oo.EXPIRED,this._expiredContent=this.content)}}get extras(){return this.header.extras}_initializeLodMetric(e){"lodMetricType"in e?this.lodMetricType=e.lodMetricType:(this.lodMetricType=this.parent&&this.parent.lodMetricType||this.tileset.lodMetricType,console.warn("3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType")),"lodMetricValue"in e?this.lodMetricValue=e.lodMetricValue:(this.lodMetricValue=this.parent&&this.parent.lodMetricValue||this.tileset.lodMetricValue,console.warn("3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue"))}_initializeTransforms(e){this.transform=e.transform?new Yn(e.transform):new Yn;const t=this.parent,r=this.tileset,i=t&&t.computedTransform?t.computedTransform.clone():r.modelMatrix.clone();this.computedTransform=new Yn(i).multiplyRight(this.transform);const s=t&&t._initialTransform?t._initialTransform.clone():new Yn;this._initialTransform=new Yn(s).multiplyRight(this.transform)}_initializeBoundingVolumes(e){this._contentBoundingVolume=null,this._viewerRequestVolume=null,this._updateBoundingVolume(e)}_initializeContent(e){this.content={_tileset:this.tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=oo.UNLOADED,this.hasTilesetContent=!1,e.contentUrl&&(this.content=null,this.hasEmptyContent=!1)}_initializeRenderingState(e){this.depth=e.level||(this.parent?this.parent.depth+1:0),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=Wo.MASK_INDETERMINATE,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._frameNumber=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._priority=0}_getRefine(e){return e||this.parent&&this.parent.refine||Yl.REPLACE}_isTileset(){return this.contentUrl.indexOf(".json")!==-1}_onContentLoaded(){switch(this.content&&this.content.type){case"vctr":case"geom":this.tileset._traverser.disableSkipLevelOfDetail=!0;break}this._isTileset()?this.hasTilesetContent=!0:this.gpuMemoryUsageInBytes=this._getGpuMemoryUsageInBytes()}_updateBoundingVolume(e){this.boundingVolume=mw(e.boundingVolume,this.computedTransform,this.boundingVolume);const t=e.content;t&&(t.boundingVolume&&(this._contentBoundingVolume=mw(t.boundingVolume,this.computedTransform,this._contentBoundingVolume)),e.viewerRequestVolume&&(this._viewerRequestVolume=mw(e.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)))}_updateTransform(e=new Yn){const t=e.clone().multiplyRight(this.transform);t.equals(this.computedTransform)||(this.computedTransform=t,this._updateBoundingVolume(this.header))}_getLoaderSpecificOptions(e){switch(e){case"i3s":return{...this.tileset.options.i3s,_tileOptions:{attributeUrls:this.header.attributeUrls,textureUrl:this.header.textureUrl,textureFormat:this.header.textureFormat,textureLoaderOptions:this.header.textureLoaderOptions,materialDefinition:this.header.materialDefinition,isDracoGeometry:this.header.isDracoGeometry,mbs:this.header.mbs},_tilesetOptions:{store:this.tileset.tileset.store,attributeStorageInfo:this.tileset.tileset.attributeStorageInfo,fields:this.tileset.tileset.fields},isTileHeader:!1};case"3d-tiles":case"cesium-ion":default:return _ze(this.tileset.tileset)}}}class bze extends D6{compareDistanceToCamera(e,t){return t._distanceToCamera===0&&e._distanceToCamera===0?t._centerZDepth-e._centerZDepth:t._distanceToCamera-e._distanceToCamera}updateTileVisibility(e,t){if(super.updateTileVisibility(e,t),!e.isVisibleAndInRequestVolume)return;const r=e.children.length>0;if(e.hasTilesetContent&&r){const a=e.children[0];this.updateTileVisibility(a,t),e._visible=a._visible;return}if(this.meetsScreenSpaceErrorEarly(e,t)){e._visible=!1;return}const i=e.refine===Yl.REPLACE,s=e._optimChildrenWithinParent===ize.USE_OPTIMIZATION;if(i&&s&&r&&!this.anyChildrenVisible(e,t)){e._visible=!1;return}}meetsScreenSpaceErrorEarly(e,t){const{parent:r}=e;return!r||r.hasTilesetContent||r.refine!==Yl.ADD?!1:!this.shouldRefine(e,t,!0)}}class vze{constructor(){z(this,"frameNumberMap",new Map)}register(e,t){const r=this.frameNumberMap.get(e)||new Map,i=r.get(t)||0;r.set(t,i+1),this.frameNumberMap.set(e,r)}deregister(e,t){const r=this.frameNumberMap.get(e);if(!r)return;const i=r.get(t)||1;r.set(t,i-1)}isZero(e,t){var i;return(((i=this.frameNumberMap.get(e))==null?void 0:i.get(t))||0)===0}}const vw={REQUESTED:"REQUESTED",COMPLETED:"COMPLETED",ERROR:"ERROR"};class wze{constructor(){z(this,"_statusMap");z(this,"pendingTilesRegister",new vze);this._statusMap={}}add(e,t,r,i){if(!this._statusMap[t]){const{frameNumber:s,viewport:{id:a}}=i;this._statusMap[t]={request:e,callback:r,key:t,frameState:i,status:vw.REQUESTED},this.pendingTilesRegister.register(a,s),e().then(o=>{this._statusMap[t].status=vw.COMPLETED;const{frameNumber:l,viewport:{id:c}}=this._statusMap[t].frameState;this.pendingTilesRegister.deregister(c,l),this._statusMap[t].callback(o,i)}).catch(o=>{this._statusMap[t].status=vw.ERROR;const{frameNumber:l,viewport:{id:c}}=this._statusMap[t].frameState;this.pendingTilesRegister.deregister(c,l),r(o)})}}update(e,t){if(this._statusMap[e]){const{frameNumber:r,viewport:{id:i}}=this._statusMap[e].frameState;this.pendingTilesRegister.deregister(i,r);const{frameNumber:s,viewport:{id:a}}=t;this.pendingTilesRegister.register(a,s),this._statusMap[e].frameState=t}}find(e){return this._statusMap[e]}hasPendingTiles(e,t){return!this.pendingTilesRegister.isZero(e,t)}}class Lze extends D6{constructor(t){super(t);z(this,"_tileManager");this._tileManager=new wze}traversalFinished(t){return!this._tileManager.hasPendingTiles(t.viewport.id,this._frameNumber||0)}shouldRefine(t,r){return t._lodJudge=pze(t,r),t._lodJudge==="DIG"}updateChildTiles(t,r){const i=t.header.children||[],s=t.children,a=t.tileset;for(const o of i){const l=`${o.id}-${r.viewport.id}`,c=s&&s.find(A=>A.id===l);if(c)c&&this.updateTile(c,r);else{let A=()=>this._loadTile(o.id,a);this._tileManager.find(l)?this._tileManager.update(l,r):(a.tileset.nodePages&&(A=()=>a.tileset.nodePagesTile.formTileFromNodePages(o.id)),this._tileManager.add(A,l,h=>this._onTileLoad(h,t,l),r))}}return!1}async _loadTile(t,r){const{loader:i}=r,s=r.getTileUrl(`${r.url}/nodes/${t}`),a={...r.loadOptions,i3s:{...r.loadOptions.i3s,isTileHeader:!0}};return await ou(s,i,a)}_onTileLoad(t,r,i){const s=new SL(r.tileset,t,r,i);r.children.push(s);const a=this._tileManager.find(s.id).frameState;this.updateTile(s,a),this._frameNumber===a.frameNumber&&(this.traversalFinished(a)||new Date().getTime()-this.lastUpdate>this.updateDebounceTime)&&this.executeTraversal(s,a)}}const xze={description:"",ellipsoid:Hr.WGS84,modelMatrix:new Yn,throttleRequests:!0,maxRequests:64,maximumMemoryUsage:32,memoryCacheOverflow:1,maximumTilesSelected:0,debounceTime:0,onTileLoad:()=>{},onTileUnload:()=>{},onTileError:()=>{},onTraversalComplete:n=>n,contentLoader:void 0,viewDistanceScale:1,maximumScreenSpaceError:8,memoryAdjustedScreenSpaceError:!1,loadTiles:!0,updateTransforms:!0,viewportTraversersMap:null,loadOptions:{fetch:{}},attributions:[],basePath:"",i3s:{}},q4="Tiles In Tileset(s)",ww="Tiles In Memory",FN="Tiles In View",UN="Tiles To Render",NN="Tiles Loaded",Lw="Tiles Loading",kN="Tiles Unloaded",PN="Failed Tile Loads",DN="Points/Vertices",xw="Tile Memory Use",ON="Maximum Screen Space Error";class Rze{constructor(e,t){z(this,"options");z(this,"loadOptions");z(this,"type");z(this,"tileset");z(this,"loader");z(this,"url");z(this,"basePath");z(this,"modelMatrix");z(this,"ellipsoid");z(this,"lodMetricType");z(this,"lodMetricValue");z(this,"refine");z(this,"root",null);z(this,"roots",{});z(this,"asset",{});z(this,"description","");z(this,"properties");z(this,"extras",null);z(this,"attributions",{});z(this,"credits",{});z(this,"stats");z(this,"contentFormats",{draco:!1,meshopt:!1,dds:!1,ktx2:!1});z(this,"cartographicCenter",null);z(this,"cartesianCenter",null);z(this,"zoom",1);z(this,"boundingVolume",null);z(this,"dynamicScreenSpaceErrorComputedDensity",0);z(this,"maximumMemoryUsage",32);z(this,"gpuMemoryUsageInBytes",0);z(this,"memoryAdjustedScreenSpaceError",0);z(this,"_cacheBytes",0);z(this,"_cacheOverflowBytes",0);z(this,"_frameNumber",0);z(this,"_queryParams",{});z(this,"_extensionsUsed",[]);z(this,"_tiles",{});z(this,"_pendingCount",0);z(this,"selectedTiles",[]);z(this,"traverseCounter",0);z(this,"geometricError",0);z(this,"lastUpdatedVieports",null);z(this,"_requestedTiles",[]);z(this,"_emptyTiles",[]);z(this,"frameStateData",{});z(this,"_traverser");z(this,"_cache",new $Oe);z(this,"_requestScheduler");z(this,"updatePromise",null);z(this,"tilesetInitializationPromise");this.options={...xze,...t},this.tileset=e,this.loader=e.loader,this.type=e.type,this.url=e.url,this.basePath=e.basePath||lR(this.url),this.modelMatrix=this.options.modelMatrix,this.ellipsoid=this.options.ellipsoid,this.lodMetricType=e.lodMetricType,this.lodMetricValue=e.lodMetricValue,this.refine=e.root.refine,this.loadOptions=this.options.loadOptions||{},this._traverser=this._initializeTraverser(),this._requestScheduler=new efe({throttleRequests:this.options.throttleRequests,maxRequests:this.options.maxRequests}),this.memoryAdjustedScreenSpaceError=this.options.maximumScreenSpaceError,this._cacheBytes=this.options.maximumMemoryUsage*1024*1024,this._cacheOverflowBytes=this.options.memoryCacheOverflow*1024*1024,this.stats=new Od({id:this.url}),this._initializeStats(),this.tilesetInitializationPromise=this._initializeTileSet(e)}destroy(){this._destroy()}isLoaded(){return this._pendingCount===0&&this._frameNumber!==0&&this._requestedTiles.length===0}get tiles(){return Object.values(this._tiles)}get frameNumber(){return this._frameNumber}get queryParams(){return new URLSearchParams(this._queryParams).toString()}setProps(e){this.options={...this.options,...e}}getTileUrl(e){if(e.startsWith("data:"))return e;let r=e;return this.queryParams.length&&(r=`${e}${e.includes("?")?"&":"?"}${this.queryParams}`),r}hasExtension(e){return this._extensionsUsed.indexOf(e)>-1}update(e=null){this.tilesetInitializationPromise.then(()=>{!e&&this.lastUpdatedVieports?e=this.lastUpdatedVieports:this.lastUpdatedVieports=e,e&&this.doUpdate(e)})}async selectTiles(e=null){return await this.tilesetInitializationPromise,e&&(this.lastUpdatedVieports=e),this.updatePromise||(this.updatePromise=new Promise(t=>{setTimeout(()=>{this.lastUpdatedVieports&&this.doUpdate(this.lastUpdatedVieports),t(this._frameNumber),this.updatePromise=null},this.options.debounceTime)})),this.updatePromise}adjustScreenSpaceError(){this.gpuMemoryUsageInBytes<this._cacheBytes?this.memoryAdjustedScreenSpaceError=Math.max(this.memoryAdjustedScreenSpaceError/1.02,this.options.maximumScreenSpaceError):this.gpuMemoryUsageInBytes>this._cacheBytes+this._cacheOverflowBytes&&(this.memoryAdjustedScreenSpaceError*=1.02)}doUpdate(e){if("loadTiles"in this.options&&!this.options.loadTiles||this.traverseCounter>0)return;const t=e instanceof Array?e:[e];this._cache.reset(),this._frameNumber++,this.traverseCounter=t.length;const r=[];for(const i of t){const s=i.id;this._needTraverse(s)?r.push(s):this.traverseCounter--}for(const i of t){const s=i.id;if(this.roots[s]||(this.roots[s]=this._initializeTileHeaders(this.tileset,null)),!r.includes(s))continue;const a=qOe(i,this._frameNumber);this._traverser.traverse(this.roots[s],a,this.options)}}_needTraverse(e){let t=e;return this.options.viewportTraversersMap&&(t=this.options.viewportTraversersMap[e]),t===e}_onTraversalEnd(e){const t=e.viewport.id;this.frameStateData[t]||(this.frameStateData[t]={selectedTiles:[],_requestedTiles:[],_emptyTiles:[]});const r=this.frameStateData[t],i=Object.values(this._traverser.selectedTiles),[s,a]=XOe(i,e,this.options.maximumTilesSelected);r.selectedTiles=s;for(const o of a)o.unselect();r._requestedTiles=Object.values(this._traverser.requestedTiles),r._emptyTiles=Object.values(this._traverser.emptyTiles),this.traverseCounter--,!(this.traverseCounter>0)&&this._updateTiles()}_updateTiles(){this.selectedTiles=[],this._requestedTiles=[],this._emptyTiles=[];for(const e in this.frameStateData){const t=this.frameStateData[e];this.selectedTiles=this.selectedTiles.concat(t.selectedTiles),this._requestedTiles=this._requestedTiles.concat(t._requestedTiles),this._emptyTiles=this._emptyTiles.concat(t._emptyTiles)}this.selectedTiles=this.options.onTraversalComplete(this.selectedTiles);for(const e of this.selectedTiles)this._tiles[e.id]=e;this._loadTiles(),this._unloadTiles(),this._updateStats()}_tilesChanged(e,t){if(e.length!==t.length)return!0;const r=new Set(e.map(a=>a.id)),i=new Set(t.map(a=>a.id));let s=e.filter(a=>!i.has(a.id)).length>0;return s=s||t.filter(a=>!r.has(a.id)).length>0,s}_loadTiles(){for(const e of this._requestedTiles)e.contentUnloaded&&this._loadTile(e)}_unloadTiles(){this._cache.unloadTiles(this,(e,t)=>e._unloadTile(t))}_updateStats(){let e=0,t=0;for(const r of this.selectedTiles)r.contentAvailable&&r.content&&(e++,r.content.pointCount?t+=r.content.pointCount:t+=r.content.vertexCount);this.stats.get(FN).count=this.selectedTiles.length,this.stats.get(UN).count=e,this.stats.get(DN).count=t,this.stats.get(ON).count=this.memoryAdjustedScreenSpaceError}async _initializeTileSet(e){this.type===Sa.I3S&&(this.calculateViewPropsI3S(),e.root=await e.root),this.root=this._initializeTileHeaders(e,null),this.type===Sa.TILES3D&&(this._initializeTiles3DTileset(e),this.calculateViewPropsTiles3D()),this.type===Sa.I3S&&this._initializeI3STileset()}calculateViewPropsI3S(){var r;const e=this.tileset.fullExtent;if(e){const{xmin:i,xmax:s,ymin:a,ymax:o,zmin:l,zmax:c}=e;this.cartographicCenter=new tt(i+(s-i)/2,a+(o-a)/2,l+(c-l)/2),this.cartesianCenter=new tt,Hr.WGS84.cartographicToCartesian(this.cartographicCenter,this.cartesianCenter),this.zoom=mV(e,this.cartographicCenter,this.cartesianCenter);return}const t=(r=this.tileset.store)==null?void 0:r.extent;if(t){const[i,s,a,o]=t;this.cartographicCenter=new tt(i+(a-i)/2,s+(o-s)/2,0),this.cartesianCenter=new tt,Hr.WGS84.cartographicToCartesian(this.cartographicCenter,this.cartesianCenter),this.zoom=nze(t,this.cartographicCenter,this.cartesianCenter);return}console.warn("Extent is not defined in the tileset header"),this.cartographicCenter=new tt,this.zoom=1}calculateViewPropsTiles3D(){const e=this.root,{center:t}=e.boundingVolume;if(!t){console.warn("center was not pre-calculated for the root tile"),this.cartographicCenter=new tt,this.zoom=1;return}t[0]!==0||t[1]!==0||t[2]!==0?(this.cartographicCenter=new tt,Hr.WGS84.cartesianToCartographic(t,this.cartographicCenter)):this.cartographicCenter=new tt(0,0,-Hr.WGS84.radii[0]),this.cartesianCenter=t,this.zoom=tze(e.boundingVolume,this.cartographicCenter)}_initializeStats(){this.stats.get(q4),this.stats.get(Lw),this.stats.get(ww),this.stats.get(FN),this.stats.get(UN),this.stats.get(NN),this.stats.get(kN),this.stats.get(PN),this.stats.get(DN),this.stats.get(xw,"memory"),this.stats.get(ON)}_initializeTileHeaders(e,t){var i;const r=new SL(this,e.root,t);if(t&&(t.children.push(r),r.depth=t.depth+1),this.type===Sa.TILES3D){const s=[];for(s.push(r);s.length>0;){const a=s.pop();this.stats.get(q4).incrementCount();const o=a.header.children||[];for(const l of o){const c=new SL(this,l,a);if((i=c.contentUrl)!=null&&i.includes("?session=")){const u=new URL(c.contentUrl).searchParams.get("session");u&&(this._queryParams.session=u)}a.children.push(c),c.depth=a.depth+1,s.push(c)}}}return r}_initializeTraverser(){let e;switch(this.type){case Sa.TILES3D:e=bze;break;case Sa.I3S:e=Lze;break;default:e=D6}return new e({basePath:this.basePath,onTraversalEnd:this._onTraversalEnd.bind(this)})}_destroyTileHeaders(e){this._destroySubtree(e)}async _loadTile(e){let t;try{this._onStartTileLoading(),t=await e.loadContent()}catch(r){this._onTileLoadError(e,r instanceof Error?r:new Error("load failed"))}finally{this._onEndTileLoading(),this._onTileLoad(e,t)}}_onTileLoadError(e,t){this.stats.get(PN).incrementCount();const r=t.message||t.toString(),i=e.url;console.error(`A 3D tile failed to load: ${e.url} ${r}`),this.options.onTileError(e,r,i)}_onTileLoad(e,t){var r,i;if(t){if(this.type===Sa.I3S){const s=((i=(r=this.tileset)==null?void 0:r.nodePagesTile)==null?void 0:i.nodesInNodePages)||0;this.stats.get(q4).reset(),this.stats.get(q4).addCount(s)}e&&e.content&&WOe(e,e.content),this.updateContentTypes(e),this._addTileToCache(e),this.options.onTileLoad(e)}}updateContentTypes(e){var t;if(this.type===Sa.I3S)switch(e.header.isDracoGeometry&&(this.contentFormats.draco=!0),e.header.textureFormat){case"dds":this.contentFormats.dds=!0;break;case"ktx2":this.contentFormats.ktx2=!0;break}else if(this.type===Sa.TILES3D){const{extensionsRemoved:r=[]}=((t=e.content)==null?void 0:t.gltf)||{};r.includes("KHR_draco_mesh_compression")&&(this.contentFormats.draco=!0),r.includes("EXT_meshopt_compression")&&(this.contentFormats.meshopt=!0),r.includes("KHR_texture_basisu")&&(this.contentFormats.ktx2=!0)}}_onStartTileLoading(){this._pendingCount++,this.stats.get(Lw).incrementCount()}_onEndTileLoading(){this._pendingCount--,this.stats.get(Lw).decrementCount()}_addTileToCache(e){this._cache.add(this,e,t=>t._updateCacheStats(e))}_updateCacheStats(e){this.stats.get(NN).incrementCount(),this.stats.get(ww).incrementCount(),this.gpuMemoryUsageInBytes+=e.gpuMemoryUsageInBytes||0,this.stats.get(xw).count=this.gpuMemoryUsageInBytes,this.options.memoryAdjustedScreenSpaceError&&this.adjustScreenSpaceError()}_unloadTile(e){this.gpuMemoryUsageInBytes-=e.gpuMemoryUsageInBytes||0,this.stats.get(ww).decrementCount(),this.stats.get(kN).incrementCount(),this.stats.get(xw).count=this.gpuMemoryUsageInBytes,this.options.onTileUnload(e),e.unloadContent()}_destroy(){const e=[];for(this.root&&e.push(this.root);e.length>0;){const t=e.pop();for(const r of t.children)e.push(r);this._destroyTile(t)}this.root=null}_destroySubtree(e){const t=e,r=[];for(r.push(t);r.length>0;){e=r.pop();for(const i of e.children)r.push(i);e!==t&&this._destroyTile(e)}t.children=[]}_destroyTile(e){this._cache.unloadTile(this,e),this._unloadTile(e),e.destroy()}_initializeTiles3DTileset(e){if(e.queryString){const t=new URLSearchParams(e.queryString),r=Object.fromEntries(t.entries());this._queryParams={...this._queryParams,...r}}if(this.asset=e.asset,!this.asset)throw new Error("Tileset must have an asset property.");if(this.asset.version!=="0.0"&&this.asset.version!=="1.0"&&this.asset.version!=="1.1")throw new Error("The tileset must be 3D Tiles version either 0.0 or 1.0 or 1.1.");"tilesetVersion"in this.asset&&(this._queryParams.v=this.asset.tilesetVersion),this.credits={attributions:this.options.attributions||[]},this.description=this.options.description||"",this.properties=e.properties,this.geometricError=e.geometricError,this._extensionsUsed=e.extensionsUsed||[],this.extras=e.extras}_initializeI3STileset(){this.loadOptions.i3s&&"token"in this.loadOptions.i3s&&(this._queryParams.token=this.loadOptions.i3s.token)}}const xV="4.3.3",K2={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GLTF:"glTF"};function RV(n,e,t){zr(n instanceof ArrayBuffer);const r=new TextDecoder("utf8"),i=new Uint8Array(n,e,t);return r.decode(i)}function Bze(n,e=0){const t=new DataView(n);return`${String.fromCharCode(t.getUint8(e+0))}${String.fromCharCode(t.getUint8(e+1))}${String.fromCharCode(t.getUint8(e+2))}${String.fromCharCode(t.getUint8(e+3))}`}const Eze={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Xi={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},ar={...Eze,...Xi},Rw={[Xi.DOUBLE]:Float64Array,[Xi.FLOAT]:Float32Array,[Xi.UNSIGNED_SHORT]:Uint16Array,[Xi.UNSIGNED_INT]:Uint32Array,[Xi.UNSIGNED_BYTE]:Uint8Array,[Xi.BYTE]:Int8Array,[Xi.SHORT]:Int16Array,[Xi.INT]:Int32Array},Cze={DOUBLE:Xi.DOUBLE,FLOAT:Xi.FLOAT,UNSIGNED_SHORT:Xi.UNSIGNED_SHORT,UNSIGNED_INT:Xi.UNSIGNED_INT,UNSIGNED_BYTE:Xi.UNSIGNED_BYTE,BYTE:Xi.BYTE,SHORT:Xi.SHORT,INT:Xi.INT},Bw="Failed to convert GL type";class Ec{static fromTypedArray(e){e=ArrayBuffer.isView(e)?e.constructor:e;for(const t in Rw)if(Rw[t]===e)return t;throw new Error(Bw)}static fromName(e){const t=Cze[e];if(!t)throw new Error(Bw);return t}static getArrayType(e){switch(e){case Xi.UNSIGNED_SHORT_5_6_5:case Xi.UNSIGNED_SHORT_4_4_4_4:case Xi.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:const t=Rw[e];if(!t)throw new Error(Bw);return t}}static getByteSize(e){return Ec.getArrayType(e).BYTES_PER_ELEMENT}static validate(e){return!!Ec.getArrayType(e)}static createTypedArray(e,t,r=0,i){i===void 0&&(i=(t.byteLength-r)/Ec.getByteSize(e));const s=Ec.getArrayType(e);return new s(t,r,i)}}function Ize(n,e){if(!n)throw new Error(`math.gl assertion failed. ${e}`)}function Tze(n,e=[0,0,0]){const t=n>>11&31,r=n>>5&63,i=n&31;return e[0]=t<<3,e[1]=r<<2,e[2]=i<<3,e}new FR;new tt;new FR;new FR;function zN(n,e=255){return Ul(n,0,e)/e*2-1}function HN(n){return n<0?-1:1}function Mze(n,e,t,r){if(Ize(r),n<0||n>t||e<0||e>t)throw new Error(`x and y must be unsigned normalized integers between 0 and ${t}`);if(r.x=zN(n,t),r.y=zN(e,t),r.z=1-(Math.abs(r.x)+Math.abs(r.y)),r.z<0){const i=r.x;r.x=(1-Math.abs(r.y))*HN(i),r.y=(1-Math.abs(i))*HN(r.y)}return r.normalize()}function Sze(n,e,t){return Mze(n,e,255,t)}class XB{constructor(e,t){z(this,"json");z(this,"buffer");z(this,"featuresLength",0);z(this,"_cachedTypedArrays",{});this.json=e,this.buffer=t}getExtension(e){return this.json.extensions&&this.json.extensions[e]}hasProperty(e){return!!this.json[e]}getGlobalProperty(e,t=ar.UNSIGNED_INT,r=1){const i=this.json[e];return i&&Number.isFinite(i.byteOffset)?this._getTypedArrayFromBinary(e,t,r,1,i.byteOffset):i}getPropertyArray(e,t,r){const i=this.json[e];return i&&Number.isFinite(i.byteOffset)?("componentType"in i&&(t=Ec.fromName(i.componentType)),this._getTypedArrayFromBinary(e,t,r,this.featuresLength,i.byteOffset)):this._getTypedArrayFromArray(e,t,i)}getProperty(e,t,r,i,s){const a=this.json[e];if(!a)return a;const o=this.getPropertyArray(e,t,r);if(r===1)return o[i];for(let l=0;l<r;++l)s[l]=o[r*i+l];return s}_getTypedArrayFromBinary(e,t,r,i,s){const a=this._cachedTypedArrays;let o=a[e];return o||(o=Ec.createTypedArray(t,this.buffer.buffer,this.buffer.byteOffset+s,i*r),a[e]=o),o}_getTypedArrayFromArray(e,t,r){const i=this._cachedTypedArrays;let s=i[e];return s||(s=Ec.createTypedArray(t,r),i[e]=s),s}}const Fze={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Uze={SCALAR:(n,e)=>n[e],VEC2:(n,e)=>[n[2*e+0],n[2*e+1]],VEC3:(n,e)=>[n[3*e+0],n[3*e+1],n[3*e+2]],VEC4:(n,e)=>[n[4*e+0],n[4*e+1],n[4*e+2],n[4*e+3]],MAT2:(n,e)=>[n[4*e+0],n[4*e+1],n[4*e+2],n[4*e+3]],MAT3:(n,e)=>[n[9*e+0],n[9*e+1],n[9*e+2],n[9*e+3],n[9*e+4],n[9*e+5],n[9*e+6],n[9*e+7],n[9*e+8]],MAT4:(n,e)=>[n[16*e+0],n[16*e+1],n[16*e+2],n[16*e+3],n[16*e+4],n[16*e+5],n[16*e+6],n[16*e+7],n[16*e+8],n[16*e+9],n[16*e+10],n[16*e+11],n[16*e+12],n[16*e+13],n[16*e+14],n[16*e+15]]},Nze={SCALAR:(n,e,t)=>{e[t]=n},VEC2:(n,e,t)=>{e[2*t+0]=n[0],e[2*t+1]=n[1]},VEC3:(n,e,t)=>{e[3*t+0]=n[0],e[3*t+1]=n[1],e[3*t+2]=n[2]},VEC4:(n,e,t)=>{e[4*t+0]=n[0],e[4*t+1]=n[1],e[4*t+2]=n[2],e[4*t+3]=n[3]},MAT2:(n,e,t)=>{e[4*t+0]=n[0],e[4*t+1]=n[1],e[4*t+2]=n[2],e[4*t+3]=n[3]},MAT3:(n,e,t)=>{e[9*t+0]=n[0],e[9*t+1]=n[1],e[9*t+2]=n[2],e[9*t+3]=n[3],e[9*t+4]=n[4],e[9*t+5]=n[5],e[9*t+6]=n[6],e[9*t+7]=n[7],e[9*t+8]=n[8],e[9*t+9]=n[9]},MAT4:(n,e,t)=>{e[16*t+0]=n[0],e[16*t+1]=n[1],e[16*t+2]=n[2],e[16*t+3]=n[3],e[16*t+4]=n[4],e[16*t+5]=n[5],e[16*t+6]=n[6],e[16*t+7]=n[7],e[16*t+8]=n[8],e[16*t+9]=n[9],e[16*t+10]=n[10],e[16*t+11]=n[11],e[16*t+12]=n[12],e[16*t+13]=n[13],e[16*t+14]=n[14],e[16*t+15]=n[15]}};function kze(n,e,t,r){const{componentType:i}=n;zr(n.componentType);const s=typeof i=="string"?Ec.fromName(i):i,a=Fze[n.type],o=Uze[n.type],l=Nze[n.type];return t+=n.byteOffset,{values:Ec.createTypedArray(s,e,t,a*r),type:s,size:a,unpacker:o,packer:l}}const wc=n=>n!==void 0;function Pze(n,e,t){if(!e)return null;let r=n.getExtension("3DTILES_batch_table_hierarchy");const i=e.HIERARCHY;return i&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),e.extensions=e.extensions||{},e.extensions["3DTILES_batch_table_hierarchy"]=i,r=i),r?Dze(r,t):null}function Dze(n,e){let t,r,i;const s=n.instancesLength,a=n.classes;let o=n.classIds,l=n.parentCounts,c=n.parentIds,A=s;wc(o.byteOffset)&&(o.componentType=defaultValue(o.componentType,GL.UNSIGNED_SHORT),o.type=AttributeType.SCALAR,i=getBinaryAccessor(o),o=i.createArrayBufferView(e.buffer,e.byteOffset+o.byteOffset,s));let u;if(wc(l))for(wc(l.byteOffset)&&(l.componentType=defaultValue(l.componentType,GL.UNSIGNED_SHORT),l.type=AttributeType.SCALAR,i=getBinaryAccessor(l),l=i.createArrayBufferView(e.buffer,e.byteOffset+l.byteOffset,s)),u=new Uint16Array(s),A=0,t=0;t<s;++t)u[t]=A,A+=l[t];wc(c)&&wc(c.byteOffset)&&(c.componentType=defaultValue(c.componentType,GL.UNSIGNED_SHORT),c.type=AttributeType.SCALAR,i=getBinaryAccessor(c),c=i.createArrayBufferView(e.buffer,e.byteOffset+c.byteOffset,A));const h=a.length;for(t=0;t<h;++t){const _=a[t].length,m=a[t].instances,y=getBinaryProperties(_,m,e);a[t].instances=combine(y,m)}const f=new Array(h).fill(0),d=new Uint16Array(s);for(t=0;t<s;++t)r=o[t],d[t]=f[r],++f[r];const g={classes:a,classIds:o,classIndexes:d,parentCounts:l,parentIndexes:u,parentIds:c};return Hze(g),g}function $2(n,e,t){if(!n)return;const r=n.parentCounts;return n.parentIds?t(n,e):r>0?Oze(n,e,t):zze(n,e,t)}function Oze(n,e,t){const r=n.classIds,i=n.parentCounts,s=n.parentIds,a=n.parentIndexes,o=r.length,l=scratchVisited;l.length=Math.max(l.length,o);const c=++marker,A=scratchStack;for(A.length=0,A.push(e);A.length>0;){if(e=A.pop(),l[e]===c)continue;l[e]=c;const u=t(n,e);if(wc(u))return u;const h=i[e],f=a[e];for(let d=0;d<h;++d){const g=s[f+d];g!==e&&A.push(g)}}return null}function zze(n,e,t){let r=!0;for(;r;){const i=t(n,e);if(wc(i))return i;const s=n.parentIds[e];r=s!==e,e=s}throw new Error("traverseHierarchySingleParent")}function Hze(n){const t=n.classIds.length;for(let r=0;r<t;++r)BV(n,r,stack)}function BV(n,e,t){const r=n.parentCounts,i=n.parentIds,s=n.parentIndexes,o=n.classIds.length;if(!wc(i))return;assert(e<o,`Parent index ${e} exceeds the total number of instances: ${o}`),assert(t.indexOf(e)===-1,"Circular dependency detected in the batch table hierarchy."),t.push(e);const l=wc(r)?r[e]:1,c=wc(r)?s[e]:e;for(let A=0;A<l;++A){const u=i[c+A];u!==e&&BV(n,u,t)}t.pop(e)}function Ea(n){return n!=null}const X4=(n,e)=>n,Qze={HIERARCHY:!0,extensions:!0,extras:!0};class EV{constructor(e,t,r,i={}){z(this,"json");z(this,"binary");z(this,"featureCount");z(this,"_extensions");z(this,"_properties");z(this,"_binaryProperties");z(this,"_hierarchy");var s;zr(r>=0),this.json=e||{},this.binary=t,this.featureCount=r,this._extensions=((s=this.json)==null?void 0:s.extensions)||{},this._properties={};for(const a in this.json)Qze[a]||(this._properties[a]=this.json[a]);this._binaryProperties=this._initializeBinaryProperties(),i["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=Pze(this,this.json,this.binary))}getExtension(e){return this.json&&this.json.extensions&&this.json.extensions[e]}memorySizeInBytes(){return 0}isClass(e,t){if(this._checkBatchId(e),zr(typeof t=="string",t),this._hierarchy){const r=$2(this._hierarchy,e,(i,s)=>{const a=i.classIds[s];return i.classes[a].name===t});return Ea(r)}return!1}isExactClass(e,t){return zr(typeof t=="string",t),this.getExactClassName(e)===t}getExactClassName(e){if(this._checkBatchId(e),this._hierarchy){const t=this._hierarchy.classIds[e];return this._hierarchy.classes[t].name}}hasProperty(e,t){return this._checkBatchId(e),zr(typeof t=="string",t),Ea(this._properties[t])||this._hasPropertyInHierarchy(e,t)}getPropertyNames(e,t){this._checkBatchId(e),t=Ea(t)?t:[],t.length=0;const r=Object.keys(this._properties);return t.push(...r),this._hierarchy&&this._getPropertyNamesInHierarchy(e,t),t}getProperty(e,t){if(this._checkBatchId(e),zr(typeof t=="string",t),this._binaryProperties){const i=this._binaryProperties[t];if(Ea(i))return this._getBinaryProperty(i,e)}const r=this._properties[t];if(Ea(r))return X4(r[e]);if(this._hierarchy){const i=this._getHierarchyProperty(e,t);if(Ea(i))return i}}setProperty(e,t,r){const i=this.featureCount;if(this._checkBatchId(e),zr(typeof t=="string",t),this._binaryProperties){const a=this._binaryProperties[t];if(a){this._setBinaryProperty(a,e,r);return}}if(this._hierarchy&&this._setHierarchyProperty(this,e,t,r))return;let s=this._properties[t];Ea(s)||(this._properties[t]=new Array(i),s=this._properties[t]),s[e]=X4(r)}_checkBatchId(e){if(!(e>=0&&e<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")}_getBinaryProperty(e,t){return e.unpack(e.typedArray,t)}_setBinaryProperty(e,t,r){e.pack(r,e.typedArray,t)}_initializeBinaryProperties(){let e=null;for(const t in this._properties){const r=this._properties[t],i=this._initializeBinaryProperty(t,r);i&&(e=e||{},e[t]=i)}return e}_initializeBinaryProperty(e,t){if("byteOffset"in t){const r=t;zr(this.binary,`Property ${e} requires a batch table binary.`),zr(r.type,`Property ${e} requires a type.`);const i=kze(r,this.binary.buffer,this.binary.byteOffset|0,this.featureCount);return{typedArray:i.values,componentCount:i.size,unpack:i.unpacker,pack:i.packer}}return null}_hasPropertyInHierarchy(e,t){if(!this._hierarchy)return!1;const r=$2(this._hierarchy,e,(i,s)=>{const a=i.classIds[s],o=i.classes[a].instances;return Ea(o[t])});return Ea(r)}_getPropertyNamesInHierarchy(e,t){$2(this._hierarchy,e,(r,i)=>{const s=r.classIds[i],a=r.classes[s].instances;for(const o in a)a.hasOwnProperty(o)&&t.indexOf(o)===-1&&t.push(o)})}_getHierarchyProperty(e,t){return $2(this._hierarchy,e,(r,i)=>{const s=r.classIds[i],a=r.classes[s],o=r.classIndexes[i],l=a.instances[t];return Ea(l)?Ea(l.typedArray)?this._getBinaryProperty(l,o):X4(l[o]):null})}_setHierarchyProperty(e,t,r,i){const s=$2(this._hierarchy,t,(a,o)=>{const l=a.classIds[o],c=a.classes[l],A=a.classIndexes[o],u=c.instances[r];return Ea(u)?(zr(o===t,`Inherited property "${r}" is read-only.`),Ea(u.typedArray)?this._setBinaryProperty(u,A,i):u[A]=X4(i),!0):!1});return Ea(s)}}const Ew=4;function O6(n,e,t=0){const r=new DataView(e);if(n.magic=r.getUint32(t,!0),t+=Ew,n.version=r.getUint32(t,!0),t+=Ew,n.byteLength=r.getUint32(t,!0),t+=Ew,n.version!==1)throw new Error(`3D Tile Version ${n.version} not supported`);return t}const Wf=4,QN="b3dm tile in legacy format.";function JB(n,e,t){const r=new DataView(e);let i;n.header=n.header||{};let s=r.getUint32(t,!0);t+=Wf;let a=r.getUint32(t,!0);t+=Wf;let o=r.getUint32(t,!0);t+=Wf;let l=r.getUint32(t,!0);return t+=Wf,o>=570425344?(t-=Wf*2,i=s,o=a,l=0,s=0,a=0,console.warn(QN)):l>=570425344&&(t-=Wf,i=o,o=s,l=a,s=0,a=0,console.warn(QN)),n.header.featureTableJsonByteLength=s,n.header.featureTableBinaryByteLength=a,n.header.batchTableJsonByteLength=o,n.header.batchTableBinaryByteLength=l,n.header.batchLength=i,t}function ZB(n,e,t,r){return t=jze(n,e,t),t=Yze(n,e,t),t}function jze(n,e,t,r){const{featureTableJsonByteLength:i,featureTableBinaryByteLength:s,batchLength:a}=n.header||{};if(n.featureTableJson={BATCH_LENGTH:a||0},i&&i>0){const o=RV(e,t,i);n.featureTableJson=JSON.parse(o)}return t+=i||0,n.featureTableBinary=new Uint8Array(e,t,s),t+=s||0,t}function Yze(n,e,t,r){const{batchTableJsonByteLength:i,batchTableBinaryByteLength:s}=n.header||{};if(i&&i>0){const a=RV(e,t,i);n.batchTableJson=JSON.parse(a),t+=i,s&&s>0&&(n.batchTableBinary=new Uint8Array(e,t,s),n.batchTableBinary=new Uint8Array(n.batchTableBinary),t+=s)}return t}function CV(n,e,t){if(!e&&(!n||!n.batchIds||!t))return null;const{batchIds:r,isRGB565:i,pointCount:s=0}=n;if(r&&t){const a=new Uint8ClampedArray(s*3);for(let o=0;o<s;o++){const l=r[o],A=t.getProperty(l,"dimensions").map(u=>u*255);a[o*3]=A[0],a[o*3+1]=A[1],a[o*3+2]=A[2]}return{type:ar.UNSIGNED_BYTE,value:a,size:3,normalized:!0}}if(e&&i){const a=new Uint8ClampedArray(s*3);for(let o=0;o<s;o++){const l=Tze(e[o]);a[o*3]=l[0],a[o*3+1]=l[1],a[o*3+2]=l[2]}return{type:ar.UNSIGNED_BYTE,value:a,size:3,normalized:!0}}return e&&e.length===s*3?{type:ar.UNSIGNED_BYTE,value:e,size:3,normalized:!0}:{type:ar.UNSIGNED_BYTE,value:e||new Uint8ClampedArray,size:4,normalized:!0}}const jN=new tt;function Gze(n,e){if(!e)return null;if(n.isOctEncoded16P){const t=new Float32Array((n.pointsLength||0)*3);for(let r=0;r<(n.pointsLength||0);r++)Sze(e[r*2],e[r*2+1],jN),jN.toArray(t,r*3);return{type:ar.FLOAT,size:2,value:t}}return{type:ar.FLOAT,size:2,value:e}}function Vze(n,e,t){return n.isQuantized?t["3d-tiles"]&&t["3d-tiles"].decodeQuantizedPositions?(n.isQuantized=!1,Kze(n,e)):{type:ar.UNSIGNED_SHORT,value:e,size:3,normalized:!0}:e}function Kze(n,e){const t=new tt,r=new Float32Array(n.pointCount*3);for(let i=0;i<n.pointCount;i++)t.set(e[i*3],e[i*3+1],e[i*3+2]).scale(1/n.quantizedRange).multiply(n.quantizedVolumeScale).add(n.quantizedVolumeOffset).toArray(r,i*3);return r}async function $ze(n,e,t,r,i){t=O6(n,e,t),t=JB(n,e,t),t=ZB(n,e,t),Wze(n);const{featureTable:s,batchTable:a}=qze(n);return await tHe(n,s,a,r,i),Xze(n,s,r),Jze(n,s,a),Zze(n,s),t}function Wze(n){n.attributes={positions:null,colors:null,normals:null,batchIds:null},n.isQuantized=!1,n.isTranslucent=!1,n.isRGB565=!1,n.isOctEncoded16P=!1}function qze(n){const e=new XB(n.featureTableJson,n.featureTableBinary),t=e.getGlobalProperty("POINTS_LENGTH");if(!Number.isFinite(t))throw new Error("POINTS_LENGTH must be defined");e.featuresLength=t,n.featuresLength=t,n.pointsLength=t,n.pointCount=t,n.rtcCenter=e.getGlobalProperty("RTC_CENTER",ar.FLOAT,3);const r=eHe(n,e);return{featureTable:e,batchTable:r}}function Xze(n,e,t){if(n.attributes=n.attributes||{positions:null,colors:null,normals:null,batchIds:null},!n.attributes.positions){if(e.hasProperty("POSITION"))n.attributes.positions=e.getPropertyArray("POSITION",ar.FLOAT,3);else if(e.hasProperty("POSITION_QUANTIZED")){const r=e.getPropertyArray("POSITION_QUANTIZED",ar.UNSIGNED_SHORT,3);if(n.isQuantized=!0,n.quantizedRange=65535,n.quantizedVolumeScale=e.getGlobalProperty("QUANTIZED_VOLUME_SCALE",ar.FLOAT,3),!n.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(n.quantizedVolumeOffset=e.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",ar.FLOAT,3),!n.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");n.attributes.positions=Vze(n,r,t)}}if(!n.attributes.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}function Jze(n,e,t){if(n.attributes=n.attributes||{positions:null,colors:null,normals:null,batchIds:null},!n.attributes.colors){let r=null;e.hasProperty("RGBA")?(r=e.getPropertyArray("RGBA",ar.UNSIGNED_BYTE,4),n.isTranslucent=!0):e.hasProperty("RGB")?r=e.getPropertyArray("RGB",ar.UNSIGNED_BYTE,3):e.hasProperty("RGB565")&&(r=e.getPropertyArray("RGB565",ar.UNSIGNED_SHORT,1),n.isRGB565=!0),n.attributes.colors=CV(n,r,t)}e.hasProperty("CONSTANT_RGBA")&&(n.constantRGBA=e.getGlobalProperty("CONSTANT_RGBA",ar.UNSIGNED_BYTE,4))}function Zze(n,e){if(n.attributes=n.attributes||{positions:null,colors:null,normals:null,batchIds:null},!n.attributes.normals){let t=null;e.hasProperty("NORMAL")?t=e.getPropertyArray("NORMAL",ar.FLOAT,3):e.hasProperty("NORMAL_OCT16P")&&(t=e.getPropertyArray("NORMAL_OCT16P",ar.UNSIGNED_BYTE,2),n.isOctEncoded16P=!0),n.attributes.normals=Gze(n,t)}}function eHe(n,e){let t=null;if(!n.batchIds&&e.hasProperty("BATCH_ID")&&(n.batchIds=e.getPropertyArray("BATCH_ID",ar.UNSIGNED_SHORT,1),n.batchIds)){const r=e.getGlobalProperty("BATCH_LENGTH");if(!r)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");const{batchTableJson:i,batchTableBinary:s}=n;t=new EV(i,s,r)}return t}async function tHe(n,e,t,r,i){let s,a,o;const l=n.batchTableJson&&n.batchTableJson.extensions&&n.batchTableJson.extensions["3DTILES_draco_point_compression"];l&&(o=l.properties);const c=e.getExtension("3DTILES_draco_point_compression");if(c){a=c.properties;const u=c.byteOffset,h=c.byteLength;if(!a||!Number.isFinite(u)||!h)throw new Error("Draco properties, byteOffset, and byteLength must be defined");s=(n.featureTableBinary||[]).slice(u,u+h),n.hasPositions=Number.isFinite(a.POSITION),n.hasColors=Number.isFinite(a.RGB)||Number.isFinite(a.RGBA),n.hasNormals=Number.isFinite(a.NORMAL),n.hasBatchIds=Number.isFinite(a.BATCH_ID),n.isTranslucent=Number.isFinite(a.RGBA)}if(!s)return!0;const A={buffer:s,properties:{...a,...o},batchTableProperties:o};return await nHe(n,A,r,i)}async function nHe(n,e,t,r){if(!r)return;const i={...t,draco:{...t==null?void 0:t.draco,extraAttributes:e.batchTableProperties||{}}};delete i["3d-tiles"];const s=await xp(e.buffer,fV,i,r),a=s.attributes.POSITION&&s.attributes.POSITION.value,o=s.attributes.COLOR_0&&s.attributes.COLOR_0.value,l=s.attributes.NORMAL&&s.attributes.NORMAL.value,c=s.attributes.BATCH_ID&&s.attributes.BATCH_ID.value,A=a&&s.attributes.POSITION.value.quantization,u=l&&s.attributes.NORMAL.value.quantization;if(A){const f=s.POSITION.data.quantization,d=f.range;n.quantizedVolumeScale=new tt(d,d,d),n.quantizedVolumeOffset=new tt(f.minValues),n.quantizedRange=(1<<f.quantizationBits)-1,n.isQuantizedDraco=!0}u&&(n.octEncodedRange=(1<<s.NORMAL.data.quantization.quantizationBits)-1,n.isOctEncodedDraco=!0);const h={};if(e.batchTableProperties)for(const f of Object.keys(e.batchTableProperties))s.attributes[f]&&s.attributes[f].value&&(h[f.toLowerCase()]=s.attributes[f].value);n.attributes={positions:a,colors:CV(n,o,void 0),normals:l,batchIds:c,...h}}const FL={URI:0,EMBEDDED:1};function IV(n,e,t,r){n.rotateYtoZ=!0;const i=(n.byteOffset||0)+(n.byteLength||0)-t;if(i===0)throw new Error("glTF byte length must be greater than 0.");return n.gltfUpAxis=r!=null&&r["3d-tiles"]&&r["3d-tiles"].assetGltfUpAxis?r["3d-tiles"].assetGltfUpAxis:"Y",n.gltfArrayBuffer=oR(e,t,i),n.gltfByteOffset=0,n.gltfByteLength=i,t%4===0||console.warn(`${n.type}: embedded glb is not aligned to a 4-byte boundary.`),(n.byteOffset||0)+(n.byteLength||0)}async function TV(n,e,t,r){const i=(t==null?void 0:t["3d-tiles"])||{};if(rHe(n,e),i.loadGLTF){if(!r)return;if(n.gltfUrl){const{fetch:s}=r,a=await s(n.gltfUrl,t);n.gltfArrayBuffer=await a.arrayBuffer(),n.gltfByteOffset=0}if(n.gltfArrayBuffer){const s=await xp(n.gltfArrayBuffer,op,t,r);n.gltf=$B(s),n.gpuMemoryUsageInBytes=nV(n.gltf),delete n.gltfArrayBuffer,delete n.gltfByteOffset,delete n.gltfByteLength}}}function rHe(n,e,t){switch(e){case FL.URI:if(n.gltfArrayBuffer){const r=new Uint8Array(n.gltfArrayBuffer,n.gltfByteOffset),s=new TextDecoder().decode(r);n.gltfUrl=s.replace(/[\s\0]+$/,"")}delete n.gltfArrayBuffer,delete n.gltfByteOffset,delete n.gltfByteLength;break;case FL.EMBEDDED:break;default:throw new Error("b3dm: Illegal glTF format field")}}async function iHe(n,e,t,r,i){var a;t=sHe(n,e,t,r),await TV(n,FL.EMBEDDED,r,i);const s=(a=n==null?void 0:n.gltf)==null?void 0:a.extensions;return s&&s.CESIUM_RTC&&(n.rtcCenter=s.CESIUM_RTC.center),t}function sHe(n,e,t,r,i){t=O6(n,e,t),t=JB(n,e,t),t=ZB(n,e,t),t=IV(n,e,t,r);const s=new XB(n.featureTableJson,n.featureTableBinary);return n.rtcCenter=s.getGlobalProperty("RTC_CENTER",ar.FLOAT,3),t}async function aHe(n,e,t,r,i){return t=oHe(n,e,t,r),await TV(n,n.gltfFormat||0,r,i),t}function oHe(n,e,t,r,i){var c;if(t=O6(n,e,t),n.version!==1)throw new Error(`Instanced 3D Model version ${n.version} is not supported`);t=JB(n,e,t);const s=new DataView(e);if(n.gltfFormat=s.getUint32(t,!0),t+=4,t=ZB(n,e,t),t=IV(n,e,t,r),!((c=n==null?void 0:n.header)!=null&&c.featureTableJsonByteLength)||n.header.featureTableJsonByteLength===0)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");const a=new XB(n.featureTableJson,n.featureTableBinary),o=a.getGlobalProperty("INSTANCES_LENGTH");if(a.featuresLength=o,!Number.isFinite(o))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");n.eastNorthUp=a.getGlobalProperty("EAST_NORTH_UP"),n.rtcCenter=a.getGlobalProperty("RTC_CENTER",ar.FLOAT,3);const l=new EV(n.batchTableJson,n.batchTableBinary,o);return lHe(n,a,l,o),t}function lHe(n,e,t,r){const i=new Array(r),s=new tt;new tt,new tt,new tt;const a=new Ri,o=new O3,l=new tt,c={},A=new Yn,u=[],h=[],f=[],d=[];for(let g=0;g<r;g++){let _;if(e.hasProperty("POSITION"))_=e.getProperty("POSITION",ar.FLOAT,3,g,s);else if(e.hasProperty("POSITION_QUANTIZED")){_=e.getProperty("POSITION_QUANTIZED",ar.UNSIGNED_SHORT,3,g,s);const C=e.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",ar.FLOAT,3);if(!C)throw new Error("i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");const I=e.getGlobalProperty("QUANTIZED_VOLUME_SCALE",ar.FLOAT,3);if(!I)throw new Error("i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");const R=65535;for(let w=0;w<3;w++)_[w]=_[w]/R*I[w]+C[w]}if(!_)throw new Error("i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.");if(s.copy(_),c.translation=s,n.normalUp=e.getProperty("NORMAL_UP",ar.FLOAT,3,g,u),n.normalRight=e.getProperty("NORMAL_RIGHT",ar.FLOAT,3,g,h),n.normalUp){if(!n.normalRight)throw new Error("i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.");n.hasCustomOrientation=!0}else{if(n.octNormalUp=e.getProperty("NORMAL_UP_OCT32P",ar.UNSIGNED_SHORT,2,g,u),n.octNormalRight=e.getProperty("NORMAL_RIGHT_OCT32P",ar.UNSIGNED_SHORT,2,g,h),n.octNormalUp)throw n.octNormalRight?new Error("i3dm: oct-encoded orientation not implemented"):new Error("i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P");n.eastNorthUp?(Hr.WGS84.eastNorthUpToFixedFrame(s,A),A.getRotationMatrix3(a)):a.identity()}o.fromMatrix3(a),c.rotation=o,l.set(1,1,1);const m=e.getProperty("SCALE",ar.FLOAT,1,g,f);Number.isFinite(m)&&l.multiplyByScalar(m);const y=e.getProperty("SCALE_NON_UNIFORM",ar.FLOAT,3,g,u);y&&l.scale(y),c.scale=l;let b=e.getProperty("BATCH_ID",ar.UNSIGNED_SHORT,1,g,d);b===void 0&&(b=g);const v=new Yn().fromQuaternion(c.rotation);A.identity(),A.translate(c.translation),A.multiplyRight(v),A.scale(c.scale);const B=A.clone();i[g]={modelMatrix:B,batchId:b}}n.instances=i}async function cHe(n,e,t,r,i,s){t=O6(n,e,t);const a=new DataView(e);for(n.tilesLength=a.getUint32(t,!0),t+=4,n.tiles=[];n.tiles.length<n.tilesLength&&(n.byteLength||0)-t>12;){const o={shape:"tile3d"};n.tiles.push(o),t=await s(e,t,r,i,o)}return t}async function AHe(n,e,t,r){var i,s;if(n.rotateYtoZ=!0,n.gltfUpAxis=(i=t==null?void 0:t["3d-tiles"])!=null&&i.assetGltfUpAxis?t["3d-tiles"].assetGltfUpAxis:"Y",(s=t==null?void 0:t["3d-tiles"])!=null&&s.loadGLTF){if(!r)return e.byteLength;const a=await xp(e,op,t,r);n.gltf=$B(a),n.gpuMemoryUsageInBytes=nV(n.gltf)}else n.gltfArrayBuffer=e;return e.byteLength}async function MV(n,e=0,t,r,i={shape:"tile3d"}){switch(i.byteOffset=e,i.type=Bze(n,e),i.type){case K2.COMPOSITE:return await cHe(i,n,e,t,r,MV);case K2.BATCHED_3D_MODEL:return await iHe(i,n,e,t,r);case K2.GLTF:return await AHe(i,n,t,r);case K2.INSTANCED_3D_MODEL:return await aHe(i,n,e,t,r);case K2.POINT_CLOUD:return await $ze(i,n,e,t,r);default:throw new Error(`3DTileLoader: unknown type ${i.type}`)}}const uHe=1952609651,fHe=1;async function hHe(n,e,t){if(new Uint32Array(n.slice(0,4))[0]!==uHe)throw new Error("Wrong subtree file magic number");if(new Uint32Array(n.slice(4,8))[0]!==fHe)throw new Error("Wrong subtree file verson, must be 1");const s=YN(n.slice(8,16)),a=new Uint8Array(n,24,s),l=new TextDecoder("utf8").decode(a),c=JSON.parse(l),A=YN(n.slice(16,24));let u=new ArrayBuffer(0);if(A&&(u=n.slice(24+s)),await J4(c,c.tileAvailability,u,t),Array.isArray(c.contentAvailability))for(const h of c.contentAvailability)await J4(c,h,u,t);else await J4(c,c.contentAvailability,u,t);return await J4(c,c.childSubtreeAvailability,u,t),c}async function J4(n,e,t,r){const i=Number.isFinite(e.bitstream)?e.bitstream:e.bufferView;if(typeof i!="number")return;const s=n.bufferViews[i],a=n.buffers[s.buffer];if(!(r!=null&&r.baseUrl))throw new Error("Url is not provided");if(!r.fetch)throw new Error("fetch is not provided");if(a.uri){const l=`${(r==null?void 0:r.baseUrl)||""}/${a.uri}`,A=await(await r.fetch(l)).arrayBuffer();e.explicitBitstream=new Uint8Array(A,s.byteOffset,s.byteLength);return}const o=n.buffers.slice(0,s.buffer).reduce((l,c)=>l+c.byteLength,0);e.explicitBitstream=new Uint8Array(t.slice(o,o+a.byteLength),s.byteOffset,s.byteLength)}function YN(n){const e=new DataView(n),t=e.getUint32(0,!0),r=e.getUint32(4,!0);return t+2**32*r}const SV={dataType:null,batchType:null,id:"3d-tiles-subtree",name:"3D Tiles Subtree",module:"3d-tiles",version:xV,extensions:["subtree"],mimeTypes:["application/octet-stream"],tests:["subtree"],parse:hHe,options:{}};/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var qo=null;try{qo=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ar(n,e,t){this.low=n|0,this.high=e|0,this.unsigned=!!t}Ar.prototype.__isLong__;Object.defineProperty(Ar.prototype,"__isLong__",{value:!0});function aa(n){return(n&&n.__isLong__)===!0}function GN(n){var e=Math.clz32(n&-n);return n?31-e:e}Ar.isLong=aa;var VN={},KN={};function cf(n,e){var t,r,i;return e?(n>>>=0,(i=0<=n&&n<256)&&(r=KN[n],r)?r:(t=lr(n,0,!0),i&&(KN[n]=t),t)):(n|=0,(i=-128<=n&&n<128)&&(r=VN[n],r)?r:(t=lr(n,n<0?-1:0,!1),i&&(VN[n]=t),t))}Ar.fromInt=cf;function Xo(n,e){if(isNaN(n))return e?U0:Pl;if(e){if(n<0)return U0;if(n>=FV)return kV}else{if(n<=-WN)return Oa;if(n+1>=WN)return NV}return n<0?Xo(-n,e).neg():lr(n%Cd|0,n/Cd|0,e)}Ar.fromNumber=Xo;function lr(n,e,t){return new Ar(n,e,t)}Ar.fromBits=lr;var yy=Math.pow;function eE(n,e,t){if(n.length===0)throw Error("empty string");if(typeof e=="number"?(t=e,e=!1):e=!!e,n==="NaN"||n==="Infinity"||n==="+Infinity"||n==="-Infinity")return e?U0:Pl;if(t=t||10,t<2||36<t)throw RangeError("radix");var r;if((r=n.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return eE(n.substring(1),e,t).neg();for(var i=Xo(yy(t,8)),s=Pl,a=0;a<n.length;a+=8){var o=Math.min(8,n.length-a),l=parseInt(n.substring(a,a+o),t);if(o<8){var c=Xo(yy(t,o));s=s.mul(c).add(Xo(l))}else s=s.mul(i),s=s.add(Xo(l))}return s.unsigned=e,s}Ar.fromString=eE;function cl(n,e){return typeof n=="number"?Xo(n,e):typeof n=="string"?eE(n,e):lr(n.low,n.high,typeof e=="boolean"?e:n.unsigned)}Ar.fromValue=cl;var $N=65536,dHe=1<<24,Cd=$N*$N,FV=Cd*Cd,WN=FV/2,qN=cf(dHe),Pl=cf(0);Ar.ZERO=Pl;var U0=cf(0,!0);Ar.UZERO=U0;var xh=cf(1);Ar.ONE=xh;var UV=cf(1,!0);Ar.UONE=UV;var UL=cf(-1);Ar.NEG_ONE=UL;var NV=lr(-1,2147483647,!1);Ar.MAX_VALUE=NV;var kV=lr(-1,-1,!0);Ar.MAX_UNSIGNED_VALUE=kV;var Oa=lr(0,-2147483648,!1);Ar.MIN_VALUE=Oa;var Ft=Ar.prototype;Ft.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ft.toNumber=function(){return this.unsigned?(this.high>>>0)*Cd+(this.low>>>0):this.high*Cd+(this.low>>>0)};Ft.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Oa)){var t=Xo(e),r=this.div(t),i=r.mul(t).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var s=Xo(yy(e,6),this.unsigned),a=this,o="";;){var l=a.div(s),c=a.sub(l.mul(s)).toInt()>>>0,A=c.toString(e);if(a=l,a.isZero())return A+o;for(;A.length<6;)A="0"+A;o=""+A+o}};Ft.getHighBits=function(){return this.high};Ft.getHighBitsUnsigned=function(){return this.high>>>0};Ft.getLowBits=function(){return this.low};Ft.getLowBitsUnsigned=function(){return this.low>>>0};Ft.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Oa)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return this.high!=0?t+33:t+1};Ft.isSafeInteger=function(){var e=this.high>>21;return e?this.unsigned?!1:e===-1&&!(this.low===0&&this.high===-2097152):!0};Ft.isZero=function(){return this.high===0&&this.low===0};Ft.eqz=Ft.isZero;Ft.isNegative=function(){return!this.unsigned&&this.high<0};Ft.isPositive=function(){return this.unsigned||this.high>=0};Ft.isOdd=function(){return(this.low&1)===1};Ft.isEven=function(){return(this.low&1)===0};Ft.equals=function(e){return aa(e)||(e=cl(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Ft.eq=Ft.equals;Ft.notEquals=function(e){return!this.eq(e)};Ft.neq=Ft.notEquals;Ft.ne=Ft.notEquals;Ft.lessThan=function(e){return this.comp(e)<0};Ft.lt=Ft.lessThan;Ft.lessThanOrEqual=function(e){return this.comp(e)<=0};Ft.lte=Ft.lessThanOrEqual;Ft.le=Ft.lessThanOrEqual;Ft.greaterThan=function(e){return this.comp(e)>0};Ft.gt=Ft.greaterThan;Ft.greaterThanOrEqual=function(e){return this.comp(e)>=0};Ft.gte=Ft.greaterThanOrEqual;Ft.ge=Ft.greaterThanOrEqual;Ft.compare=function(e){if(aa(e)||(e=cl(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Ft.comp=Ft.compare;Ft.negate=function(){return!this.unsigned&&this.eq(Oa)?Oa:this.not().add(xh)};Ft.neg=Ft.negate;Ft.add=function(e){aa(e)||(e=cl(e));var t=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,a=e.high>>>16,o=e.high&65535,l=e.low>>>16,c=e.low&65535,A=0,u=0,h=0,f=0;return f+=s+c,h+=f>>>16,f&=65535,h+=i+l,u+=h>>>16,h&=65535,u+=r+o,A+=u>>>16,u&=65535,A+=t+a,A&=65535,lr(h<<16|f,A<<16|u,this.unsigned)};Ft.subtract=function(e){return aa(e)||(e=cl(e)),this.add(e.neg())};Ft.sub=Ft.subtract;Ft.multiply=function(e){if(this.isZero())return this;if(aa(e)||(e=cl(e)),qo){var t=qo.mul(this.low,this.high,e.low,e.high);return lr(t,qo.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?U0:Pl;if(this.eq(Oa))return e.isOdd()?Oa:Pl;if(e.eq(Oa))return this.isOdd()?Oa:Pl;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(qN)&&e.lt(qN))return Xo(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,s=this.low>>>16,a=this.low&65535,o=e.high>>>16,l=e.high&65535,c=e.low>>>16,A=e.low&65535,u=0,h=0,f=0,d=0;return d+=a*A,f+=d>>>16,d&=65535,f+=s*A,h+=f>>>16,f&=65535,f+=a*c,h+=f>>>16,f&=65535,h+=i*A,u+=h>>>16,h&=65535,h+=s*c,u+=h>>>16,h&=65535,h+=a*l,u+=h>>>16,h&=65535,u+=r*A+i*c+s*l+a*o,u&=65535,lr(f<<16|d,u<<16|h,this.unsigned)};Ft.mul=Ft.multiply;Ft.divide=function(e){if(aa(e)||(e=cl(e)),e.isZero())throw Error("division by zero");if(qo){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var t=(this.unsigned?qo.div_u:qo.div_s)(this.low,this.high,e.low,e.high);return lr(t,qo.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?U0:Pl;var r,i,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return U0;if(e.gt(this.shru(1)))return UV;s=U0}else{if(this.eq(Oa)){if(e.eq(xh)||e.eq(UL))return Oa;if(e.eq(Oa))return xh;var a=this.shr(1);return r=a.div(e).shl(1),r.eq(Pl)?e.isNegative()?xh:UL:(i=this.sub(e.mul(r)),s=r.add(i.div(e)),s)}else if(e.eq(Oa))return this.unsigned?U0:Pl;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=Pl}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),l=o<=48?1:yy(2,o-48),c=Xo(r),A=c.mul(e);A.isNegative()||A.gt(i);)r-=l,c=Xo(r,this.unsigned),A=c.mul(e);c.isZero()&&(c=xh),s=s.add(c),i=i.sub(A)}return s};Ft.div=Ft.divide;Ft.modulo=function(e){if(aa(e)||(e=cl(e)),qo){var t=(this.unsigned?qo.rem_u:qo.rem_s)(this.low,this.high,e.low,e.high);return lr(t,qo.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Ft.mod=Ft.modulo;Ft.rem=Ft.modulo;Ft.not=function(){return lr(~this.low,~this.high,this.unsigned)};Ft.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};Ft.clz=Ft.countLeadingZeros;Ft.countTrailingZeros=function(){return this.low?GN(this.low):GN(this.high)+32};Ft.ctz=Ft.countTrailingZeros;Ft.and=function(e){return aa(e)||(e=cl(e)),lr(this.low&e.low,this.high&e.high,this.unsigned)};Ft.or=function(e){return aa(e)||(e=cl(e)),lr(this.low|e.low,this.high|e.high,this.unsigned)};Ft.xor=function(e){return aa(e)||(e=cl(e)),lr(this.low^e.low,this.high^e.high,this.unsigned)};Ft.shiftLeft=function(e){return aa(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?lr(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):lr(0,this.low<<e-32,this.unsigned)};Ft.shl=Ft.shiftLeft;Ft.shiftRight=function(e){return aa(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?lr(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):lr(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Ft.shr=Ft.shiftRight;Ft.shiftRightUnsigned=function(e){return aa(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?lr(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?lr(this.high,0,this.unsigned):lr(this.high>>>e-32,0,this.unsigned)};Ft.shru=Ft.shiftRightUnsigned;Ft.shr_u=Ft.shiftRightUnsigned;Ft.rotateLeft=function(e){var t;return aa(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?lr(this.high,this.low,this.unsigned):e<32?(t=32-e,lr(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(e-=32,t=32-e,lr(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))};Ft.rotl=Ft.rotateLeft;Ft.rotateRight=function(e){var t;return aa(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?lr(this.high,this.low,this.unsigned):e<32?(t=32-e,lr(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(e-=32,t=32-e,lr(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))};Ft.rotr=Ft.rotateRight;Ft.toSigned=function(){return this.unsigned?lr(this.low,this.high,!1):this};Ft.toUnsigned=function(){return this.unsigned?this:lr(this.low,this.high,!0)};Ft.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Ft.toBytesLE=function(){var e=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Ft.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,t>>>24,t>>>16&255,t>>>8&255,t&255]};Ar.fromBytes=function(e,t,r){return r?Ar.fromBytesLE(e,t):Ar.fromBytesBE(e,t)};Ar.fromBytesLE=function(e,t){return new Ar(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)};Ar.fromBytesBE=function(e,t){return new Ar(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};typeof BigInt=="function"&&(Ar.fromBigInt=function(e,t){var r=Number(BigInt.asIntN(32,e)),i=Number(BigInt.asIntN(32,e>>BigInt(32)));return lr(r,i,t)},Ar.fromValue=function(e,t){return typeof e=="bigint"?Ar.fromBigInt(e,t):cl(e,t)},Ft.toBigInt=function(){var e=BigInt(this.low>>>0),t=BigInt(this.unsigned?this.high>>>0:this.high);return t<<BigInt(32)|e});const gHe=16;function PV(n){n==="X"&&(n="");const e=n.padEnd(gHe,"0");return Ar.fromString(e,!0,16)}function pHe(n){if(n.isZero())return"X";let e=n.countTrailingZeros();const t=e%4;e=(e-t)/4;const r=e;e*=4;const s=n.shiftRightUnsigned(e).toString(16).replace(/0+$/,"");return Array(17-r-s.length).join("0")+s}function _He(n,e){const t=mHe(n).shiftRightUnsigned(2);return n.add(Ar.fromNumber(2*e+1-4).multiply(t))}function mHe(n){return n.and(n.not().add(1))}const yHe=3,bHe=30,vHe=2*bHe+1,XN=180/Math.PI;function wHe(n){if(n.length===0)throw new Error(`Invalid Hilbert quad key ${n}`);const e=n.split("/"),t=parseInt(e[0],10),r=e[1],i=r.length;let s=0;const a=[0,0];for(let o=i-1;o>=0;o--){s=i-o;const l=r[o];let c=0,A=0;l==="1"?A=1:l==="2"?(c=1,A=1):l==="3"&&(c=1);const u=Math.pow(2,s-1);xHe(u,a,c,A),a[0]+=u*c,a[1]+=u*A}if(t%2===1){const o=a[0];a[0]=a[1],a[1]=o}return{face:t,ij:a,level:s}}function LHe(n){if(n.isZero())return"";let e=n.toString(2);for(;e.length<yHe+vHe;)e="0"+e;const t=e.lastIndexOf("1"),r=e.substring(0,3),i=e.substring(3,t),s=i.length/2,a=Ar.fromString(r,!0,2).toString(10);let o="";if(s!==0)for(o=Ar.fromString(i,!0,2).toString(4);o.length<s;)o="0"+o;return`${a}/${o}`}function DV(n,e,t){const r=1<<e;return[(n[0]+t[0])/r,(n[1]+t[1])/r]}function JN(n){return n>=.5?1/3*(4*n*n-1):1/3*(1-4*(1-n)*(1-n))}function OV(n){return[JN(n[0]),JN(n[1])]}function zV(n,[e,t]){switch(n){case 0:return[1,e,t];case 1:return[-e,1,t];case 2:return[-e,-t,1];case 3:return[-1,-t,-e];case 4:return[t,-1,-e];case 5:return[t,e,-1];default:throw new Error("Invalid face")}}function HV([n,e,t]){const r=Math.atan2(t,Math.sqrt(n*n+e*e));return[Math.atan2(e,n)*XN,r*XN]}function xHe(n,e,t,r){if(r===0){t===1&&(e[0]=n-1-e[0],e[1]=n-1-e[1]);const i=e[0];e[0]=e[1],e[1]=i}}function RHe(n){const e=DV(n.ij,n.level,[.5,.5]),t=OV(e),r=zV(n.face,t);return HV(r)}const BHe=100;function ZN(n){const{face:e,ij:t,level:r}=n,i=[[0,0],[0,1],[1,1],[1,0],[0,0]],s=Math.max(1,Math.ceil(BHe*Math.pow(2,-r))),a=new Float64Array(4*s*2+2);let o=0,l=0;for(let c=0;c<4;c++){const A=i[c].slice(0),u=i[c+1],h=(u[0]-A[0])/s,f=(u[1]-A[1])/s;for(let d=0;d<s;d++){A[0]+=h,A[1]+=f;const g=DV(t,r,A),_=OV(g),m=zV(e,_),y=HV(m);Math.abs(y[1])>89.999&&(y[0]=l);const b=y[0]-l;y[0]+=b>180?-360:b<-180?360:0,a[o++]=y[0],a[o++]=y[1],l=y[0]}}return a[o++]=a[0],a[o++]=a[1],a}function tE(n){const e=EHe(n);return wHe(e)}function EHe(n){if(n.indexOf("/")>0)return n;const e=PV(n);return LHe(e)}function CHe(n){const e=tE(n);return RHe(e)}function IHe(n){let e;if(n.face===2||n.face===5){let t=null,r=0;for(let i=0;i<4;i++){const s=`${n.face}/${i}`,a=tE(s),o=ZN(a);(typeof t>"u"||t===null)&&(t=new Float64Array(4*o.length)),t.set(o,r),r+=o.length}e=ek(t)}else{const t=ZN(n);e=ek(t)}return e}function ek(n){if(n.length%2!==0)throw new Error("Invalid corners");const e=[],t=[];for(let r=0;r<n.length;r+=2)e.push(n[r]),t.push(n[r+1]);return e.sort((r,i)=>r-i),t.sort((r,i)=>r-i),{west:e[0],east:e[e.length-1],north:t[t.length-1],south:t[0]}}function THe(n,e){const t=(e==null?void 0:e.minimumHeight)||0,r=(e==null?void 0:e.maximumHeight)||0,i=tE(n),s=IHe(i),a=s.west,o=s.south,l=s.east,c=s.north,A=[];return A.push(new tt(a,c,t)),A.push(new tt(l,c,t)),A.push(new tt(l,o,t)),A.push(new tt(a,o,t)),A.push(new tt(a,c,r)),A.push(new tt(l,c,r)),A.push(new tt(l,o,r)),A.push(new tt(a,o,r)),A}function QV(n){const e=n.token,t={minimumHeight:n.minimumHeight,maximumHeight:n.maximumHeight},r=THe(e,t),i=CHe(e),s=i[0],a=i[1],o=Hr.WGS84.cartographicToCartesian([s,a,t.maximumHeight]),l=new tt(o[0],o[1],o[2]);r.push(l);const c=ANe(r);return[...c.center,...c.halfAxes]}const MHe=4,SHe=8,FHe={QUADTREE:MHe,OCTREE:SHe};function UHe(n,e,t){if(n!=null&&n.box){const r=PV(n.s2VolumeInfo.token),i=_He(r,e),s=pHe(i),a={...n.s2VolumeInfo};switch(a.token=s,t){case"OCTREE":const c=n.s2VolumeInfo,A=c.maximumHeight-c.minimumHeight,u=A/2,h=c.minimumHeight+A/2;c.minimumHeight=h-u,c.maximumHeight=h+u;break}return{box:QV(a),s2VolumeInfo:a}}}async function jV(n){const{subtree:e,subtreeData:t={level:0,x:0,y:0,z:0},parentData:r={mortonIndex:0,localLevel:-1,localX:0,localY:0,localZ:0},childIndex:i=0,implicitOptions:s,loaderOptions:a,s2VolumeBox:o}=n,{subdivisionScheme:l,subtreeLevels:c,maximumLevel:A,contentUrlTemplate:u,subtreesUriTemplate:h,basePath:f}=s,d={children:[],lodMetricValue:0,contentUrl:""};if(!A)return yH.once(`Missing 'maximumLevel' or 'availableLevels' property. The subtree ${u} won't be loaded...`),d;const g=r.localLevel+1,_=t.level+g;if(_>A)return d;const m=FHe[l],y=Math.log2(m),b=i&1,v=i>>1&1,B=i>>2&1,C=qu(r.localX,b,1),I=qu(r.localY,v,1),R=qu(r.localZ,B,1),w=qu(t.x,C,g),U=qu(t.y,I,g),M=qu(t.z,R,g),F=qu(r.mortonIndex,i,y),P=g===c&&Cw(e.childSubtreeAvailability,F);let S,W,re,G;if(P){const ge=`${f}/${h}`,K=NL(ge,_,w,U,M);S=await ou(K,SV,a),G=0,W={level:_,x:w,y:U,z:M},re={mortonIndex:0,localLevel:0,localX:0,localY:0,localZ:0}}else S=e,G=(m**g-1)/(m-1)+F,W=t,re={mortonIndex:F,localLevel:g,localX:C,localY:I,localZ:R};if(!Cw(S.tileAvailability,G))return d;Cw(S.contentAvailability,G)&&(d.contentUrl=NL(u,_,w,U,M));for(let ge=0;ge<m;ge++){const K=UHe(o,ge,l),N=await jV({subtree:S,subtreeData:W,parentData:re,childIndex:ge,implicitOptions:s,loaderOptions:a,s2VolumeBox:K});(N.contentUrl||N.children.length)&&d.children.push(N)}return d.contentUrl||d.children.length?NHe(d,{level:_,x:w,y:U,z:M},s,o):d}function Cw(n,e){let t;return Array.isArray(n)?(t=n[0],n.length>1&&yH.once('Not supported extension "3DTILES_multiple_contents" has been detected')):t=n,"constant"in t?!!t.constant:t.explicitBitstream?DHe(e,t.explicitBitstream):!1}function NHe(n,e,t,r){const{basePath:i,refine:s,getRefine:a,lodMetricType:o,getTileType:l,rootLodMetricValue:c,rootBoundingVolume:A}=t,u=n.contentUrl&&n.contentUrl.replace(`${i}/`,""),h=c/2**e.level,f=r!=null&&r.box?{box:r.box}:A,d=kHe(f,e,t.subdivisionScheme);return{children:n.children,contentUrl:n.contentUrl,content:{uri:u},id:n.contentUrl,refine:a(s),type:l(n),lodMetricType:o,lodMetricValue:h,geometricError:h,transform:n.transform,boundingVolume:d}}function kHe(n,e,t){if(n.region){const{level:r,x:i,y:s,z:a}=e,[o,l,c,A,u,h]=n.region,f=2**r,d=(c-o)/f,[g,_]=[o+d*i,o+d*(i+1)],m=(A-l)/f,[y,b]=[l+m*s,l+m*(s+1)];let v,B;if(t==="OCTREE"){const C=(h-u)/f;[v,B]=[u+C*a,u+C*(a+1)]}else[v,B]=[u,h];return{region:[g,y,_,b,v,B]}}if(n.box)return n;throw new Error(`Unsupported bounding volume type ${JSON.stringify(n)}`)}function qu(n,e,t){return(n<<t)+e}function NL(n,e,t,r,i){const s=PHe({level:e,x:t,y:r,z:i});return n.replace(/{level}|{x}|{y}|{z}/gi,a=>s[a])}function PHe(n){const e={};for(const t in n)e[`{${t}}`]=n[t];return e}function DHe(n,e){const t=Math.floor(n/8),r=n%8;return(e[t]>>r&1)===1}function nE(n,e=""){if(!e)return F0.EMPTY;const r=e.split("?")[0].split(".").pop();switch(r){case"pnts":return F0.POINTCLOUD;case"i3dm":case"b3dm":case"glb":case"gltf":return F0.SCENEGRAPH;default:return r||F0.EMPTY}}function rE(n){switch(n){case"REPLACE":case"replace":return Yl.REPLACE;case"ADD":case"add":return Yl.ADD;default:return n}}function kL(n,e){if(/^[a-z][0-9a-z+.-]*:/i.test(e)){const r=new URL(n,`${e}/`);return decodeURI(r.toString())}else if(n.startsWith("/"))return n;return sfe(e,n)}function tk(n,e){var i;if(!n)return null;let t;if(n.content){const s=n.content.uri||((i=n.content)==null?void 0:i.url);typeof s<"u"&&(t=kL(s,e))}return{...n,id:t,contentUrl:t,lodMetricType:Ed.GEOMETRIC_ERROR,lodMetricValue:n.geometricError,transformMatrix:n.transform,type:nE(n,t),refine:rE(n.refine)}}async function OHe(n,e,t){let r=null;const i=rk(n.root);i&&n.root?r=await nk(n.root,n,e,i,t):r=tk(n.root,e);const s=[];for(s.push(r);s.length>0;){const a=s.pop()||{},o=a.children||[],l=[];for(const c of o){const A=rk(c);let u;A?u=await nk(c,n,e,A,t):u=tk(c,e),u&&(l.push(u),s.push(u))}a.children=l}return r}async function nk(n,e,t,r,i){var v,B,C;const{subdivisionScheme:s,maximumLevel:a,availableLevels:o,subtreeLevels:l,subtrees:{uri:c}}=r,A=NL(c,0,0,0,0),u=kL(A,t),h=await ou(u,SV,i),f=(v=n.content)==null?void 0:v.uri,d=f?kL(f,t):"",g=(B=e==null?void 0:e.root)==null?void 0:B.refine,_=n.geometricError,m=(C=n.boundingVolume.extensions)==null?void 0:C["3DTILES_bounding_volume_S2"];if(m){const R={box:QV(m),s2VolumeInfo:m};n.boundingVolume=R}const y=n.boundingVolume,b={contentUrlTemplate:d,subtreesUriTemplate:c,subdivisionScheme:s,subtreeLevels:l,maximumLevel:Number.isFinite(o)?o-1:a,refine:g,basePath:t,lodMetricType:Ed.GEOMETRIC_ERROR,rootLodMetricValue:_,rootBoundingVolume:y,getTileType:nE,getRefine:rE};return await zHe(n,t,h,b,i)}async function zHe(n,e,t,r,i){if(!n)return null;const{children:s,contentUrl:a}=await jV({subtree:t,implicitOptions:r,loaderOptions:i});let o,l=null;return a&&(o=a,l={uri:a.replace(`${e}/`,"")}),{...n,id:o,contentUrl:o,lodMetricType:Ed.GEOMETRIC_ERROR,lodMetricValue:n.geometricError,transformMatrix:n.transform,type:nE(n,o),refine:rE(n.refine),content:l||n.content,children:s}}function rk(n){var e;return((e=n==null?void 0:n.extensions)==null?void 0:e["3DTILES_implicit_tiling"])||(n==null?void 0:n.implicitTiling)}const YV={dataType:null,batchType:null,id:"3d-tiles",name:"3D Tiles",module:"3d-tiles",version:xV,extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],tests:["cmpt","pnts","b3dm","i3dm"],parse:HHe,options:{"3d-tiles":{loadGLTF:!0,decodeQuantizedPositions:!1,isTileset:"auto",assetGltfUpAxis:null}}};async function HHe(n,e={},t){const r=e["3d-tiles"]||{};let i;return r.isTileset==="auto"?i=(t==null?void 0:t.url)&&t.url.indexOf(".json")!==-1:i=r.isTileset,i?QHe(n,e,t):jHe(n,e,t)}async function QHe(n,e,t){var l;const r=JSON.parse(new TextDecoder().decode(n)),i=(t==null?void 0:t.url)||"",s=YHe(i),a=await OHe(r,s,e||{});return{...r,shape:"tileset3d",loader:YV,url:i,queryString:(t==null?void 0:t.queryString)||"",basePath:s,root:a||r.root,type:Sa.TILES3D,lodMetricType:Ed.GEOMETRIC_ERROR,lodMetricValue:((l=r.root)==null?void 0:l.geometricError)||0}}async function jHe(n,e,t){const r={content:{shape:"tile3d",featureIds:null}};return await MV(n,0,e,t,r.content),r.content}function YHe(n){return lR(n)}var GV={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,s){function a(c,A){if(!i[c]){if(!r[c]){var u=typeof z4=="function"&&z4;if(!A&&u)return u(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[c]={exports:{}};r[c][0].call(f.exports,function(d){var g=r[c][1][d];return a(g||d)},f,f.exports,t,r,i,s)}return i[c].exports}for(var o=typeof z4=="function"&&z4,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(t,r,i){var s=t("./utils"),a=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,A,u,h,f,d,g,_=[],m=0,y=l.length,b=y,v=s.getTypeOf(l)!=="string";m<l.length;)b=y-m,u=v?(c=l[m++],A=m<y?l[m++]:0,m<y?l[m++]:0):(c=l.charCodeAt(m++),A=m<y?l.charCodeAt(m++):0,m<y?l.charCodeAt(m++):0),h=c>>2,f=(3&c)<<4|A>>4,d=1<b?(15&A)<<2|u>>6:64,g=2<b?63&u:64,_.push(o.charAt(h)+o.charAt(f)+o.charAt(d)+o.charAt(g));return _.join("")},i.decode=function(l){var c,A,u,h,f,d,g=0,_=0,m="data:";if(l.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var y,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&b--,l.charAt(l.length-2)===o.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|b):new Array(0|b);g<l.length;)c=o.indexOf(l.charAt(g++))<<2|(h=o.indexOf(l.charAt(g++)))>>4,A=(15&h)<<4|(f=o.indexOf(l.charAt(g++)))>>2,u=(3&f)<<6|(d=o.indexOf(l.charAt(g++))),y[_++]=c,f!==64&&(y[_++]=A),d!==64&&(y[_++]=u);return y}},{"./support":30,"./utils":32}],2:[function(t,r,i){var s=t("./external"),a=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function c(A,u,h,f,d){this.compressedSize=A,this.uncompressedSize=u,this.crc32=h,this.compression=f,this.compressedContent=d}c.prototype={getContentWorker:function(){var A=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),u=this;return A.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),A},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(A,u,h){return A.pipe(new o).pipe(new l("uncompressedSize")).pipe(u.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",u)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var s=t("./utils"),a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var A=0;A<8;A++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(c,A,u,h){var f=a,d=h+u;c^=-1;for(var g=h;g<d;g++)c=c>>>8^f[255&(c^A[g])];return-1^c}(0|l,o,o.length,0):function(c,A,u,h){var f=a,d=h+u;c^=-1;for(var g=h;g<d;g++)c=c>>>8^f[255&(c^A.charCodeAt(g))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:s}},{lie:37}],7:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),o=t("./utils"),l=t("./stream/GenericWorker"),c=s?"uint8array":"array";function A(u,h){l.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(A,l),A.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,u.data),!1)},A.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(h){u.push({data:h,meta:u.meta})}},i.compressWorker=function(u){return new A("Deflate",u)},i.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function s(f,d){var g,_="";for(g=0;g<d;g++)_+=String.fromCharCode(255&f),f>>>=8;return _}function a(f,d,g,_,m,y){var b,v,B=f.file,C=f.compression,I=y!==c.utf8encode,R=o.transformTo("string",y(B.name)),w=o.transformTo("string",c.utf8encode(B.name)),U=B.comment,M=o.transformTo("string",y(U)),F=o.transformTo("string",c.utf8encode(U)),P=w.length!==B.name.length,S=F.length!==U.length,W="",re="",G="",ie=B.dir,X=B.date,ge={crc32:0,compressedSize:0,uncompressedSize:0};d&&!g||(ge.crc32=f.crc32,ge.compressedSize=f.compressedSize,ge.uncompressedSize=f.uncompressedSize);var K=0;d&&(K|=8),I||!P&&!S||(K|=2048);var N=0,H=0;ie&&(N|=16),m==="UNIX"?(H=798,N|=function(j,le){var de=j;return j||(de=le?16893:33204),(65535&de)<<16}(B.unixPermissions,ie)):(H=20,N|=function(j){return 63&(j||0)}(B.dosPermissions)),b=X.getUTCHours(),b<<=6,b|=X.getUTCMinutes(),b<<=5,b|=X.getUTCSeconds()/2,v=X.getUTCFullYear()-1980,v<<=4,v|=X.getUTCMonth()+1,v<<=5,v|=X.getUTCDate(),P&&(re=s(1,1)+s(A(R),4)+w,W+="up"+s(re.length,2)+re),S&&(G=s(1,1)+s(A(M),4)+F,W+="uc"+s(G.length,2)+G);var V="";return V+=`
\0`,V+=s(K,2),V+=C.magic,V+=s(b,2),V+=s(v,2),V+=s(ge.crc32,4),V+=s(ge.compressedSize,4),V+=s(ge.uncompressedSize,4),V+=s(R.length,2),V+=s(W.length,2),{fileRecord:u.LOCAL_FILE_HEADER+V+R+W,dirRecord:u.CENTRAL_FILE_HEADER+s(H,2)+V+s(M.length,2)+"\0\0\0\0"+s(N,4)+s(_,4)+R+W+M}}var o=t("../utils"),l=t("../stream/GenericWorker"),c=t("../utf8"),A=t("../crc32"),u=t("../signature");function h(f,d,g,_){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=g,this.encodeFileName=_,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(f){var d=f.meta.percent||0,g=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:g?(d+100*(g-_-1))/g:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var d=this.streamFiles&&!f.file.dir;if(d){var g=a(f,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var d=this.streamFiles&&!f.file.dir,g=a(f,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),d)this.push({data:function(_){return u.DATA_DESCRIPTOR+s(_.crc32,4)+s(_.compressedSize,4)+s(_.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var g=this.bytesWritten-f,_=function(m,y,b,v,B){var C=o.transformTo("string",B(v));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(m,2)+s(m,2)+s(y,4)+s(b,4)+s(C.length,2)+C}(this.dirRecords.length,g,f,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var d=this;return f.on("data",function(g){d.processChunk(g)}),f.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),f.on("error",function(g){d.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var d=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var g=0;g<d.length;g++)try{d[g].error(f)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,d=0;d<f.length;d++)f[d].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var s=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(o,l,c){var A=new a(l.streamFiles,c,l.platform,l.encodeFileName),u=0;try{o.forEach(function(h,f){u++;var d=function(y,b){var v=y||b,B=s[v];if(!B)throw new Error(v+" is not a valid compression method !");return B}(f.options.compression,l.compression),g=f.options.compressionOptions||l.compressionOptions||{},_=f.dir,m=f.date;f._compressWorker(d,g).withStreamInfo("file",{name:h,dir:_,date:m,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(A)}),A.entriesCount=u}catch(h){A.error(h)}return A}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=t("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var s=t("./utils"),a=t("./external"),o=t("./utf8"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),A=t("./nodejsUtils");function u(h){return new a.Promise(function(f,d){var g=h.decompressed.getContentWorker().pipe(new c);g.on("error",function(_){d(_)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(h,f){var d=this;return f=s.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),A.isNode&&A.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(g){var _=new l(f);return _.load(g),_}).then(function(g){var _=[a.Promise.resolve(g)],m=g.files;if(f.checkCRC32)for(var y=0;y<m.length;y++)_.push(u(m[y]));return a.Promise.all(_)}).then(function(g){for(var _=g.shift(),m=_.files,y=0;y<m.length;y++){var b=m[y],v=b.fileNameStr,B=s.resolve(b.fileNameStr);d.file(B,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:f.createFolders}),b.dir||(d.file(B).unsafeOriginalName=v)}return _.zipComment.length&&(d.comment=_.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var s=t("../utils"),a=t("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(A){c.push({data:A,meta:{percent:0}})}).on("error",function(A){c.isPaused?this.generatedError=A:c.error(A)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var s=t("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var A=this;o.on("data",function(u,h){A.push(u)||A._helper.pause(),c&&c(h)}).on("error",function(u){A.emit("error",u)}).on("end",function(){A.push(null)})}t("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,r,i){function s(B,C,I){var R,w=o.getTypeOf(C),U=o.extend(I||{},A);U.date=U.date||new Date,U.compression!==null&&(U.compression=U.compression.toUpperCase()),typeof U.unixPermissions=="string"&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(B=m(B)),U.createFolders&&(R=_(B))&&y.call(this,R,!0);var M=w==="string"&&U.binary===!1&&U.base64===!1;I&&I.binary!==void 0||(U.binary=!M),(C instanceof u&&C.uncompressedSize===0||U.dir||!C||C.length===0)&&(U.base64=!1,U.binary=!0,C="",U.compression="STORE",w="string");var F=null;F=C instanceof u||C instanceof l?C:d.isNode&&d.isStream(C)?new g(B,C):o.prepareContent(B,C,U.binary,U.optimizedBinaryString,U.base64);var P=new h(B,F,U);this.files[B]=P}var a=t("./utf8"),o=t("./utils"),l=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),A=t("./defaults"),u=t("./compressedObject"),h=t("./zipObject"),f=t("./generate"),d=t("./nodejsUtils"),g=t("./nodejs/NodejsStreamInputAdapter"),_=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var C=B.lastIndexOf("/");return 0<C?B.substring(0,C):""},m=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},y=function(B,C){return C=C!==void 0?C:A.createFolders,B=m(B),this.files[B]||s.call(this,B,null,{dir:!0,createFolders:C}),this.files[B]};function b(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var C,I,R;for(C in this.files)R=this.files[C],(I=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&B(I,R)},filter:function(B){var C=[];return this.forEach(function(I,R){B(I,R)&&C.push(R)}),C},file:function(B,C,I){if(arguments.length!==1)return B=this.root+B,s.call(this,B,C,I),this;if(b(B)){var R=B;return this.filter(function(U,M){return!M.dir&&R.test(U)})}var w=this.files[this.root+B];return w&&!w.dir?w:null},folder:function(B){if(!B)return this;if(b(B))return this.filter(function(w,U){return U.dir&&B.test(w)});var C=this.root+B,I=y.call(this,C),R=this.clone();return R.root=I.name,R},remove:function(B){B=this.root+B;var C=this.files[B];if(C||(B.slice(-1)!=="/"&&(B+="/"),C=this.files[B]),C&&!C.dir)delete this.files[B];else for(var I=this.filter(function(w,U){return U.name.slice(0,B.length)===B}),R=0;R<I.length;R++)delete this.files[I[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var C,I={};try{if((I=o.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");o.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var R=I.comment||this.comment||"";C=f.generateWorker(this,I,R)}catch(w){(C=new l("error")).error(w)}return new c(C,I.type||"string",I.mimeType)},generateAsync:function(B,C){return this.generateInternalStream(B).accumulate(C)},generateNodeStream:function(B,C){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(C)}};r.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var s=t("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}t("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),A=o.charCodeAt(2),u=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===A&&this.data[h+3]===u)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),A=o.charCodeAt(2),u=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&A===h[2]&&u===h[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var s=t("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(t,r,i){var s=t("./Uint8ArrayReader");function a(o){s.call(this,o)}t("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var s=t("./DataReader");function a(o){s.call(this,o)}t("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var s=t("./ArrayReader");function a(o){s.call(this,o)}t("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var s=t("../utils"),a=t("../support"),o=t("./ArrayReader"),l=t("./StringReader"),c=t("./NodeBufferReader"),A=t("./Uint8ArrayReader");r.exports=function(u){var h=s.getTypeOf(u);return s.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new c(u):a.uint8array?new A(s.transformTo("uint8array",u)):new o(s.transformTo("array",u)):new l(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var s=t("./GenericWorker"),a=t("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var s=t("./GenericWorker"),a=t("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var s=t("../utils"),a=t("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var s=t("../utils"),a=t("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(A){c.dataIsReady=!0,c.data=A,c.max=A&&A.length||0,c.type=s.getTypeOf(A),c.isPaused||c._tickAndRepeat()},function(A){c.error(A)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(t,r,i){var s=t("../utils"),a=t("./ConvertWorker"),o=t("./GenericWorker"),l=t("../base64"),c=t("../support"),A=t("../external"),u=null;if(c.nodestream)try{u=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(d,g){return new A.Promise(function(_,m){var y=[],b=d._internalType,v=d._outputType,B=d._mimeType;d.on("data",function(C,I){y.push(C),g&&g(I)}).on("error",function(C){y=[],m(C)}).on("end",function(){try{var C=function(I,R,w){switch(I){case"blob":return s.newBlob(s.transformTo("arraybuffer",R),w);case"base64":return l.encode(R);default:return s.transformTo(I,R)}}(v,function(I,R){var w,U=0,M=null,F=0;for(w=0;w<R.length;w++)F+=R[w].length;switch(I){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(M=new Uint8Array(F),w=0;w<R.length;w++)M.set(R[w],U),U+=R[w].length;return M;case"nodebuffer":return Buffer.concat(R);default:throw new Error("concat : unsupported type '"+I+"'")}}(b,y),B);_(C)}catch(I){m(I)}y=[]}).resume()})}function f(d,g,_){var m=g;switch(g){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=g,this._mimeType=_,s.checkSupport(m),this._worker=d.pipe(new a(m)),d.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}f.prototype={accumulate:function(d){return h(this,d)},on:function(d,g){var _=this;return d==="data"?this._worker.on(d,function(m){g.call(_,m.data,m.meta)}):this._worker.on(d,function(){s.delay(g,arguments,_)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},d)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var s=t("./utils"),a=t("./support"),o=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),A=0;A<256;A++)c[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;c[254]=c[254]=1;function u(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return a.nodebuffer?o.newBufferFrom(f,"utf-8"):function(d){var g,_,m,y,b,v=d.length,B=0;for(y=0;y<v;y++)(64512&(_=d.charCodeAt(y)))==55296&&y+1<v&&(64512&(m=d.charCodeAt(y+1)))==56320&&(_=65536+(_-55296<<10)+(m-56320),y++),B+=_<128?1:_<2048?2:_<65536?3:4;for(g=a.uint8array?new Uint8Array(B):new Array(B),y=b=0;b<B;y++)(64512&(_=d.charCodeAt(y)))==55296&&y+1<v&&(64512&(m=d.charCodeAt(y+1)))==56320&&(_=65536+(_-55296<<10)+(m-56320),y++),_<128?g[b++]=_:(_<2048?g[b++]=192|_>>>6:(_<65536?g[b++]=224|_>>>12:(g[b++]=240|_>>>18,g[b++]=128|_>>>12&63),g[b++]=128|_>>>6&63),g[b++]=128|63&_);return g}(f)},i.utf8decode=function(f){return a.nodebuffer?s.transformTo("nodebuffer",f).toString("utf-8"):function(d){var g,_,m,y,b=d.length,v=new Array(2*b);for(g=_=0;g<b;)if((m=d[g++])<128)v[_++]=m;else if(4<(y=c[m]))v[_++]=65533,g+=y-1;else{for(m&=y===2?31:y===3?15:7;1<y&&g<b;)m=m<<6|63&d[g++],y--;1<y?v[_++]=65533:m<65536?v[_++]=m:(m-=65536,v[_++]=55296|m>>10&1023,v[_++]=56320|1023&m)}return v.length!==_&&(v.subarray?v=v.subarray(0,_):v.length=_),s.applyFromCharCode(v)}(f=s.transformTo(a.uint8array?"uint8array":"array",f))},s.inherits(u,l),u.prototype.processChunk=function(f){var d=s.transformTo(a.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=d;(d=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),d.set(g,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var _=function(y,b){var v;for((b=b||y.length)>y.length&&(b=y.length),v=b-1;0<=v&&(192&y[v])==128;)v--;return v<0||v===0?b:v+c[y[v]]>b?v:b}(d),m=d;_!==d.length&&(a.uint8array?(m=d.subarray(0,_),this.leftOver=d.subarray(_,d.length)):(m=d.slice(0,_),this.leftOver=d.slice(_,d.length))),this.push({data:i.utf8decode(m),meta:f.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=u,s.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var s=t("./support"),a=t("./base64"),o=t("./nodejsUtils"),l=t("./external");function c(g){return g}function A(g,_){for(var m=0;m<g.length;++m)_[m]=255&g.charCodeAt(m);return _}t("setimmediate"),i.newBlob=function(g,_){i.checkSupport("blob");try{return new Blob([g],{type:_})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(g),m.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(g,_,m){var y=[],b=0,v=g.length;if(v<=m)return String.fromCharCode.apply(null,g);for(;b<v;)_==="array"||_==="nodebuffer"?y.push(String.fromCharCode.apply(null,g.slice(b,Math.min(b+m,v)))):y.push(String.fromCharCode.apply(null,g.subarray(b,Math.min(b+m,v)))),b+=m;return y.join("")},stringifyByChar:function(g){for(var _="",m=0;m<g.length;m++)_+=String.fromCharCode(g[m]);return _},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function h(g){var _=65536,m=i.getTypeOf(g),y=!0;if(m==="uint8array"?y=u.applyCanBeUsed.uint8array:m==="nodebuffer"&&(y=u.applyCanBeUsed.nodebuffer),y)for(;1<_;)try{return u.stringifyByChunk(g,m,_)}catch{_=Math.floor(_/2)}return u.stringifyByChar(g)}function f(g,_){for(var m=0;m<g.length;m++)_[m]=g[m];return _}i.applyFromCharCode=h;var d={};d.string={string:c,array:function(g){return A(g,new Array(g.length))},arraybuffer:function(g){return d.string.uint8array(g).buffer},uint8array:function(g){return A(g,new Uint8Array(g.length))},nodebuffer:function(g){return A(g,o.allocBuffer(g.length))}},d.array={string:h,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},d.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return f(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},d.uint8array={string:h,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},d.nodebuffer={string:h,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return d.nodebuffer.uint8array(g).buffer},uint8array:function(g){return f(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,_){if(_=_||"",!g)return _;i.checkSupport(g);var m=i.getTypeOf(_);return d[m][g](_)},i.resolve=function(g){for(var _=g.split("/"),m=[],y=0;y<_.length;y++){var b=_[y];b==="."||b===""&&y!==0&&y!==_.length-1||(b===".."?m.pop():m.push(b))}return m.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var _,m,y="";for(m=0;m<(g||"").length;m++)y+="\\x"+((_=g.charCodeAt(m))<16?"0":"")+_.toString(16).toUpperCase();return y},i.delay=function(g,_,m){setImmediate(function(){g.apply(m||null,_||[])})},i.inherits=function(g,_){function m(){}m.prototype=_.prototype,g.prototype=new m},i.extend=function(){var g,_,m={};for(g=0;g<arguments.length;g++)for(_ in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],_)&&m[_]===void 0&&(m[_]=arguments[g][_]);return m},i.prepareContent=function(g,_,m,y,b){return l.Promise.resolve(_).then(function(v){return s.blob&&(v instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(v))!==-1)&&typeof FileReader<"u"?new l.Promise(function(B,C){var I=new FileReader;I.onload=function(R){B(R.target.result)},I.onerror=function(R){C(R.target.error)},I.readAsArrayBuffer(v)}):v}).then(function(v){var B=i.getTypeOf(v);return B?(B==="arraybuffer"?v=i.transformTo("uint8array",v):B==="string"&&(b?v=a.decode(v):m&&y!==!0&&(v=function(C){return A(C,s.uint8array?new Uint8Array(C.length):new Array(C.length))}(v))),v):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./signature"),l=t("./zipEntry"),c=t("./support");function A(u){this.files=[],this.loadOptions=u}A.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(u)+")")}},isSignature:function(u,h){var f=this.reader.index;this.reader.setIndex(u);var d=this.reader.readString(4)===h;return this.reader.setIndex(f),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",f=a.transformTo(h,u);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,h,f,d=this.zip64EndOfCentralSize-44;0<d;)u=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[u]={id:u,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,h;for(u=0;u<this.files.length;u++)h=this.files[u],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(u=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var h=u;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var d=h-f;if(0<d)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(u){this.reader=s(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=A},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./compressedObject"),l=t("./crc32"),c=t("./utf8"),A=t("./compressions"),u=t("./support");function h(f,d){this.options=f,this.loadOptions=d}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var d,g;if(f.skip(22),this.fileNameLength=f.readInt(2),g=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(_){for(var m in A)if(Object.prototype.hasOwnProperty.call(A,m)&&A[m].magic===_)return A[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,d,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var d=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(d),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var d,g,_,m=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<m;)d=f.readInt(2),g=f.readInt(2),_=f.readData(g),this.extraFields[d]={id:d,length:g,value:_};f.setIndex(m)},handleUTF8:function(){var f=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var g=a.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var m=a.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var d=s(f.value);return d.readInt(1)!==1||l(this.fileName)!==d.readInt(4)?null:c.utf8decode(d.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var d=s(f.value);return d.readInt(1)!==1||l(this.fileComment)!==d.readInt(4)?null:c.utf8decode(d.readData(f.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function s(d,g,_){this.name=d,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=g,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var a=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),l=t("./utf8"),c=t("./compressedObject"),A=t("./stream/GenericWorker");s.prototype={internalStream:function(d){var g=null,_="string";try{if(!d)throw new Error("No output type specified.");var m=(_=d.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),g=this._decompressWorker();var y=!this._dataBinary;y&&!m&&(g=g.pipe(new l.Utf8EncodeWorker)),!y&&m&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(b){(g=new A("error")).error(b)}return new a(g,_,"")},async:function(d,g){return this.internalStream(d).accumulate(g)},nodeStream:function(d,g){return this.internalStream(d||"nodebuffer").toNodejsStream(g)},_compressWorker:function(d,g){if(this._data instanceof c&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(_,d,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof A?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)s.prototype[u[f]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,A=new l(d),u=s.document.createTextNode("");A.observe(u,{characterData:!0}),a=function(){u.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){d(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(d,0)};else{var h=new s.MessageChannel;h.port1.onmessage=d,a=function(){h.port2.postMessage(0)}}var f=[];function d(){var g,_;o=!0;for(var m=f.length;m;){for(_=f,f=[],g=-1;++g<m;)_[g]();m=f.length}o=!1}r.exports=function(g){f.push(g)!==1||o||a()}}).call(this,typeof eg<"u"?eg:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var s=t("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],A=["PENDING"];function u(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,m!==a&&g(this,m)}function h(m,y,b){this.promise=m,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function f(m,y,b){s(function(){var v;try{v=y(b)}catch(B){return o.reject(m,B)}v===m?o.reject(m,new TypeError("Cannot resolve promise with itself")):o.resolve(m,v)})}function d(m){var y=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof y=="function")return function(){y.apply(m,arguments)}}function g(m,y){var b=!1;function v(I){b||(b=!0,o.reject(m,I))}function B(I){b||(b=!0,o.resolve(m,I))}var C=_(function(){y(B,v)});C.status==="error"&&v(C.value)}function _(m,y){var b={};try{b.value=m(y),b.status="success"}catch(v){b.status="error",b.value=v}return b}(r.exports=u).prototype.finally=function(m){if(typeof m!="function")return this;var y=this.constructor;return this.then(function(b){return y.resolve(m()).then(function(){return b})},function(b){return y.resolve(m()).then(function(){throw b})})},u.prototype.catch=function(m){return this.then(null,m)},u.prototype.then=function(m,y){if(typeof m!="function"&&this.state===c||typeof y!="function"&&this.state===l)return this;var b=new this.constructor(a);return this.state!==A?f(b,this.state===c?m:y,this.outcome):this.queue.push(new h(b,m,y)),b},h.prototype.callFulfilled=function(m){o.resolve(this.promise,m)},h.prototype.otherCallFulfilled=function(m){f(this.promise,this.onFulfilled,m)},h.prototype.callRejected=function(m){o.reject(this.promise,m)},h.prototype.otherCallRejected=function(m){f(this.promise,this.onRejected,m)},o.resolve=function(m,y){var b=_(d,y);if(b.status==="error")return o.reject(m,b.value);var v=b.value;if(v)g(m,v);else{m.state=c,m.outcome=y;for(var B=-1,C=m.queue.length;++B<C;)m.queue[B].callFulfilled(y)}return m},o.reject=function(m,y){m.state=l,m.outcome=y;for(var b=-1,v=m.queue.length;++b<v;)m.queue[b].callRejected(y);return m},u.resolve=function(m){return m instanceof this?m:o.resolve(new this(a),m)},u.reject=function(m){var y=new this(a);return o.reject(y,m)},u.all=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=m.length,v=!1;if(!b)return this.resolve([]);for(var B=new Array(b),C=0,I=-1,R=new this(a);++I<b;)w(m[I],I);return R;function w(U,M){y.resolve(U).then(function(F){B[M]=F,++C!==b||v||(v=!0,o.resolve(R,B))},function(F){v||(v=!0,o.reject(R,F))})}},u.race=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=m.length,v=!1;if(!b)return this.resolve([]);for(var B=-1,C=new this(a);++B<b;)I=m[B],y.resolve(I).then(function(R){v||(v=!0,o.resolve(C,R))},function(R){v||(v=!0,o.reject(C,R))});var I;return C}},{immediate:36}],38:[function(t,r,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var s=t("./zlib/deflate"),a=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),A=Object.prototype.toString,u=0,h=-1,f=0,d=8;function g(m){if(!(this instanceof g))return new g(m);this.options=a.assign({level:h,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},m||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var b=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(b!==u)throw new Error(l[b]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var v;if(v=typeof y.dictionary=="string"?o.string2buf(y.dictionary):A.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(b=s.deflateSetDictionary(this.strm,v))!==u)throw new Error(l[b]);this._dict_set=!0}}function _(m,y){var b=new g(y);if(b.push(m,!0),b.err)throw b.msg||l[b.err];return b.result}g.prototype.push=function(m,y){var b,v,B=this.strm,C=this.options.chunkSize;if(this.ended)return!1;v=y===~~y?y:y===!0?4:0,typeof m=="string"?B.input=o.string2buf(m):A.call(m)==="[object ArrayBuffer]"?B.input=new Uint8Array(m):B.input=m,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new a.Buf8(C),B.next_out=0,B.avail_out=C),(b=s.deflate(B,v))!==1&&b!==u)return this.onEnd(b),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||v!==4&&v!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(B.output,B.next_out))):this.onData(a.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&b!==1);return v===4?(b=s.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===u):v!==2||(this.onEnd(u),!(B.avail_out=0))},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=g,i.deflate=_,i.deflateRaw=function(m,y){return(y=y||{}).raw=!0,_(m,y)},i.gzip=function(m,y){return(y=y||{}).gzip=!0,_(m,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var s=t("./zlib/inflate"),a=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),A=t("./zlib/zstream"),u=t("./zlib/gzheader"),h=Object.prototype.toString;function f(g){if(!(this instanceof f))return new f(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||g&&g.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,_.windowBits);if(m!==l.Z_OK)throw new Error(c[m]);this.header=new u,s.inflateGetHeader(this.strm,this.header)}function d(g,_){var m=new f(_);if(m.push(g,!0),m.err)throw m.msg||c[m.err];return m.result}f.prototype.push=function(g,_){var m,y,b,v,B,C,I=this.strm,R=this.options.chunkSize,w=this.options.dictionary,U=!1;if(this.ended)return!1;y=_===~~_?_:_===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?I.input=o.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?I.input=new Uint8Array(g):I.input=g,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new a.Buf8(R),I.next_out=0,I.avail_out=R),(m=s.inflate(I,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&w&&(C=typeof w=="string"?o.string2buf(w):h.call(w)==="[object ArrayBuffer]"?new Uint8Array(w):w,m=s.inflateSetDictionary(this.strm,C)),m===l.Z_BUF_ERROR&&U===!0&&(m=l.Z_OK,U=!1),m!==l.Z_STREAM_END&&m!==l.Z_OK)return this.onEnd(m),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&m!==l.Z_STREAM_END&&(I.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=o.utf8border(I.output,I.next_out),v=I.next_out-b,B=o.buf2string(I.output,b),I.next_out=v,I.avail_out=R-v,v&&a.arraySet(I.output,I.output,b,v,0),this.onData(B)):this.onData(a.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(U=!0)}while((0<I.avail_in||I.avail_out===0)&&m!==l.Z_STREAM_END);return m===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(m=s.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(I.avail_out=0))},f.prototype.onData=function(g){this.chunks.push(g)},f.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=f,i.inflate=d,i.inflateRaw=function(g,_){return(_=_||{}).raw=!0,d(g,_)},i.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var A=c.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var u in A)A.hasOwnProperty(u)&&(l[u]=A[u])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,A,u,h){if(c.subarray&&l.subarray)l.set(c.subarray(A,A+u),h);else for(var f=0;f<u;f++)l[h+f]=c[A+f]},flattenChunks:function(l){var c,A,u,h,f,d;for(c=u=0,A=l.length;c<A;c++)u+=l[c].length;for(d=new Uint8Array(u),c=h=0,A=l.length;c<A;c++)f=l[c],d.set(f,h),h+=f.length;return d}},o={arraySet:function(l,c,A,u,h){for(var f=0;f<u;f++)l[h+f]=c[A+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(t,r,i){var s=t("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function A(u,h){if(h<65537&&(u.subarray&&o||!u.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(u,h));for(var f="",d=0;d<h;d++)f+=String.fromCharCode(u[d]);return f}l[254]=l[254]=1,i.string2buf=function(u){var h,f,d,g,_,m=u.length,y=0;for(g=0;g<m;g++)(64512&(f=u.charCodeAt(g)))==55296&&g+1<m&&(64512&(d=u.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(d-56320),g++),y+=f<128?1:f<2048?2:f<65536?3:4;for(h=new s.Buf8(y),g=_=0;_<y;g++)(64512&(f=u.charCodeAt(g)))==55296&&g+1<m&&(64512&(d=u.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(d-56320),g++),f<128?h[_++]=f:(f<2048?h[_++]=192|f>>>6:(f<65536?h[_++]=224|f>>>12:(h[_++]=240|f>>>18,h[_++]=128|f>>>12&63),h[_++]=128|f>>>6&63),h[_++]=128|63&f);return h},i.buf2binstring=function(u){return A(u,u.length)},i.binstring2buf=function(u){for(var h=new s.Buf8(u.length),f=0,d=h.length;f<d;f++)h[f]=u.charCodeAt(f);return h},i.buf2string=function(u,h){var f,d,g,_,m=h||u.length,y=new Array(2*m);for(f=d=0;f<m;)if((g=u[f++])<128)y[d++]=g;else if(4<(_=l[g]))y[d++]=65533,f+=_-1;else{for(g&=_===2?31:_===3?15:7;1<_&&f<m;)g=g<<6|63&u[f++],_--;1<_?y[d++]=65533:g<65536?y[d++]=g:(g-=65536,y[d++]=55296|g>>10&1023,y[d++]=56320|1023&g)}return A(y,d)},i.utf8border=function(u,h){var f;for((h=h||u.length)>u.length&&(h=u.length),f=h-1;0<=f&&(192&u[f])==128;)f--;return f<0||f===0?h:f+l[u[f]]>h?f:h}},{"./common":41}],43:[function(t,r,i){r.exports=function(s,a,o,l){for(var c=65535&s|0,A=s>>>16&65535|0,u=0;o!==0;){for(o-=u=2e3<o?2e3:o;A=A+(c=c+a[l++]|0)|0,--u;);c%=65521,A%=65521}return c|A<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();r.exports=function(a,o,l,c){var A=s,u=c+l;a^=-1;for(var h=c;h<u;h++)a=a>>>8^A[255&(a^o[h])];return-1^a}},{}],46:[function(t,r,i){var s,a=t("../utils/common"),o=t("./trees"),l=t("./adler32"),c=t("./crc32"),A=t("./messages"),u=0,h=4,f=0,d=-2,g=-1,_=4,m=2,y=8,b=9,v=286,B=30,C=19,I=2*v+1,R=15,w=3,U=258,M=U+w+1,F=42,P=113,S=1,W=2,re=3,G=4;function ie(D,O){return D.msg=A[O],O}function X(D){return(D<<1)-(4<D?9:0)}function ge(D){for(var O=D.length;0<=--O;)D[O]=0}function K(D){var O=D.state,ne=O.pending;ne>D.avail_out&&(ne=D.avail_out),ne!==0&&(a.arraySet(D.output,O.pending_buf,O.pending_out,ne,D.next_out),D.next_out+=ne,O.pending_out+=ne,D.total_out+=ne,D.avail_out-=ne,O.pending-=ne,O.pending===0&&(O.pending_out=0))}function N(D,O){o._tr_flush_block(D,0<=D.block_start?D.block_start:-1,D.strstart-D.block_start,O),D.block_start=D.strstart,K(D.strm)}function H(D,O){D.pending_buf[D.pending++]=O}function V(D,O){D.pending_buf[D.pending++]=O>>>8&255,D.pending_buf[D.pending++]=255&O}function j(D,O){var ne,te,J=D.max_chain_length,ce=D.strstart,Me=D.prev_length,Se=D.nice_match,Le=D.strstart>D.w_size-M?D.strstart-(D.w_size-M):0,He=D.window,be=D.w_mask,Fe=D.prev,Qe=D.strstart+U,Ge=He[ce+Me-1],nt=He[ce+Me];D.prev_length>=D.good_match&&(J>>=2),Se>D.lookahead&&(Se=D.lookahead);do if(He[(ne=O)+Me]===nt&&He[ne+Me-1]===Ge&&He[ne]===He[ce]&&He[++ne]===He[ce+1]){ce+=2,ne++;do;while(He[++ce]===He[++ne]&&He[++ce]===He[++ne]&&He[++ce]===He[++ne]&&He[++ce]===He[++ne]&&He[++ce]===He[++ne]&&He[++ce]===He[++ne]&&He[++ce]===He[++ne]&&He[++ce]===He[++ne]&&ce<Qe);if(te=U-(Qe-ce),ce=Qe-U,Me<te){if(D.match_start=O,Se<=(Me=te))break;Ge=He[ce+Me-1],nt=He[ce+Me]}}while((O=Fe[O&be])>Le&&--J!=0);return Me<=D.lookahead?Me:D.lookahead}function le(D){var O,ne,te,J,ce,Me,Se,Le,He,be,Fe=D.w_size;do{if(J=D.window_size-D.lookahead-D.strstart,D.strstart>=Fe+(Fe-M)){for(a.arraySet(D.window,D.window,Fe,Fe,0),D.match_start-=Fe,D.strstart-=Fe,D.block_start-=Fe,O=ne=D.hash_size;te=D.head[--O],D.head[O]=Fe<=te?te-Fe:0,--ne;);for(O=ne=Fe;te=D.prev[--O],D.prev[O]=Fe<=te?te-Fe:0,--ne;);J+=Fe}if(D.strm.avail_in===0)break;if(Me=D.strm,Se=D.window,Le=D.strstart+D.lookahead,He=J,be=void 0,be=Me.avail_in,He<be&&(be=He),ne=be===0?0:(Me.avail_in-=be,a.arraySet(Se,Me.input,Me.next_in,be,Le),Me.state.wrap===1?Me.adler=l(Me.adler,Se,be,Le):Me.state.wrap===2&&(Me.adler=c(Me.adler,Se,be,Le)),Me.next_in+=be,Me.total_in+=be,be),D.lookahead+=ne,D.lookahead+D.insert>=w)for(ce=D.strstart-D.insert,D.ins_h=D.window[ce],D.ins_h=(D.ins_h<<D.hash_shift^D.window[ce+1])&D.hash_mask;D.insert&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[ce+w-1])&D.hash_mask,D.prev[ce&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=ce,ce++,D.insert--,!(D.lookahead+D.insert<w)););}while(D.lookahead<M&&D.strm.avail_in!==0)}function de(D,O){for(var ne,te;;){if(D.lookahead<M){if(le(D),D.lookahead<M&&O===u)return S;if(D.lookahead===0)break}if(ne=0,D.lookahead>=w&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+w-1])&D.hash_mask,ne=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),ne!==0&&D.strstart-ne<=D.w_size-M&&(D.match_length=j(D,ne)),D.match_length>=w)if(te=o._tr_tally(D,D.strstart-D.match_start,D.match_length-w),D.lookahead-=D.match_length,D.match_length<=D.max_lazy_match&&D.lookahead>=w){for(D.match_length--;D.strstart++,D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+w-1])&D.hash_mask,ne=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart,--D.match_length!=0;);D.strstart++}else D.strstart+=D.match_length,D.match_length=0,D.ins_h=D.window[D.strstart],D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+1])&D.hash_mask;else te=o._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++;if(te&&(N(D,!1),D.strm.avail_out===0))return S}return D.insert=D.strstart<w-1?D.strstart:w-1,O===h?(N(D,!0),D.strm.avail_out===0?re:G):D.last_lit&&(N(D,!1),D.strm.avail_out===0)?S:W}function he(D,O){for(var ne,te,J;;){if(D.lookahead<M){if(le(D),D.lookahead<M&&O===u)return S;if(D.lookahead===0)break}if(ne=0,D.lookahead>=w&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+w-1])&D.hash_mask,ne=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),D.prev_length=D.match_length,D.prev_match=D.match_start,D.match_length=w-1,ne!==0&&D.prev_length<D.max_lazy_match&&D.strstart-ne<=D.w_size-M&&(D.match_length=j(D,ne),D.match_length<=5&&(D.strategy===1||D.match_length===w&&4096<D.strstart-D.match_start)&&(D.match_length=w-1)),D.prev_length>=w&&D.match_length<=D.prev_length){for(J=D.strstart+D.lookahead-w,te=o._tr_tally(D,D.strstart-1-D.prev_match,D.prev_length-w),D.lookahead-=D.prev_length-1,D.prev_length-=2;++D.strstart<=J&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+w-1])&D.hash_mask,ne=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),--D.prev_length!=0;);if(D.match_available=0,D.match_length=w-1,D.strstart++,te&&(N(D,!1),D.strm.avail_out===0))return S}else if(D.match_available){if((te=o._tr_tally(D,0,D.window[D.strstart-1]))&&N(D,!1),D.strstart++,D.lookahead--,D.strm.avail_out===0)return S}else D.match_available=1,D.strstart++,D.lookahead--}return D.match_available&&(te=o._tr_tally(D,0,D.window[D.strstart-1]),D.match_available=0),D.insert=D.strstart<w-1?D.strstart:w-1,O===h?(N(D,!0),D.strm.avail_out===0?re:G):D.last_lit&&(N(D,!1),D.strm.avail_out===0)?S:W}function ue(D,O,ne,te,J){this.good_length=D,this.max_lazy=O,this.nice_length=ne,this.max_chain=te,this.func=J}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*I),this.dyn_dtree=new a.Buf16(2*(2*B+1)),this.bl_tree=new a.Buf16(2*(2*C+1)),ge(this.dyn_ltree),ge(this.dyn_dtree),ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(R+1),this.heap=new a.Buf16(2*v+1),ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*v+1),ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _e(D){var O;return D&&D.state?(D.total_in=D.total_out=0,D.data_type=m,(O=D.state).pending=0,O.pending_out=0,O.wrap<0&&(O.wrap=-O.wrap),O.status=O.wrap?F:P,D.adler=O.wrap===2?0:1,O.last_flush=u,o._tr_init(O),f):ie(D,d)}function xe(D){var O=_e(D);return O===f&&function(ne){ne.window_size=2*ne.w_size,ge(ne.head),ne.max_lazy_match=s[ne.level].max_lazy,ne.good_match=s[ne.level].good_length,ne.nice_match=s[ne.level].nice_length,ne.max_chain_length=s[ne.level].max_chain,ne.strstart=0,ne.block_start=0,ne.lookahead=0,ne.insert=0,ne.match_length=ne.prev_length=w-1,ne.match_available=0,ne.ins_h=0}(D.state),O}function Re(D,O,ne,te,J,ce){if(!D)return d;var Me=1;if(O===g&&(O=6),te<0?(Me=0,te=-te):15<te&&(Me=2,te-=16),J<1||b<J||ne!==y||te<8||15<te||O<0||9<O||ce<0||_<ce)return ie(D,d);te===8&&(te=9);var Se=new me;return(D.state=Se).strm=D,Se.wrap=Me,Se.gzhead=null,Se.w_bits=te,Se.w_size=1<<Se.w_bits,Se.w_mask=Se.w_size-1,Se.hash_bits=J+7,Se.hash_size=1<<Se.hash_bits,Se.hash_mask=Se.hash_size-1,Se.hash_shift=~~((Se.hash_bits+w-1)/w),Se.window=new a.Buf8(2*Se.w_size),Se.head=new a.Buf16(Se.hash_size),Se.prev=new a.Buf16(Se.w_size),Se.lit_bufsize=1<<J+6,Se.pending_buf_size=4*Se.lit_bufsize,Se.pending_buf=new a.Buf8(Se.pending_buf_size),Se.d_buf=1*Se.lit_bufsize,Se.l_buf=3*Se.lit_bufsize,Se.level=O,Se.strategy=ce,Se.method=ne,xe(D)}s=[new ue(0,0,0,0,function(D,O){var ne=65535;for(ne>D.pending_buf_size-5&&(ne=D.pending_buf_size-5);;){if(D.lookahead<=1){if(le(D),D.lookahead===0&&O===u)return S;if(D.lookahead===0)break}D.strstart+=D.lookahead,D.lookahead=0;var te=D.block_start+ne;if((D.strstart===0||D.strstart>=te)&&(D.lookahead=D.strstart-te,D.strstart=te,N(D,!1),D.strm.avail_out===0)||D.strstart-D.block_start>=D.w_size-M&&(N(D,!1),D.strm.avail_out===0))return S}return D.insert=0,O===h?(N(D,!0),D.strm.avail_out===0?re:G):(D.strstart>D.block_start&&(N(D,!1),D.strm.avail_out),S)}),new ue(4,4,8,4,de),new ue(4,5,16,8,de),new ue(4,6,32,32,de),new ue(4,4,16,16,he),new ue(8,16,32,32,he),new ue(8,16,128,128,he),new ue(8,32,128,256,he),new ue(32,128,258,1024,he),new ue(32,258,258,4096,he)],i.deflateInit=function(D,O){return Re(D,O,y,15,8,0)},i.deflateInit2=Re,i.deflateReset=xe,i.deflateResetKeep=_e,i.deflateSetHeader=function(D,O){return D&&D.state?D.state.wrap!==2?d:(D.state.gzhead=O,f):d},i.deflate=function(D,O){var ne,te,J,ce;if(!D||!D.state||5<O||O<0)return D?ie(D,d):d;if(te=D.state,!D.output||!D.input&&D.avail_in!==0||te.status===666&&O!==h)return ie(D,D.avail_out===0?-5:d);if(te.strm=D,ne=te.last_flush,te.last_flush=O,te.status===F)if(te.wrap===2)D.adler=0,H(te,31),H(te,139),H(te,8),te.gzhead?(H(te,(te.gzhead.text?1:0)+(te.gzhead.hcrc?2:0)+(te.gzhead.extra?4:0)+(te.gzhead.name?8:0)+(te.gzhead.comment?16:0)),H(te,255&te.gzhead.time),H(te,te.gzhead.time>>8&255),H(te,te.gzhead.time>>16&255),H(te,te.gzhead.time>>24&255),H(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),H(te,255&te.gzhead.os),te.gzhead.extra&&te.gzhead.extra.length&&(H(te,255&te.gzhead.extra.length),H(te,te.gzhead.extra.length>>8&255)),te.gzhead.hcrc&&(D.adler=c(D.adler,te.pending_buf,te.pending,0)),te.gzindex=0,te.status=69):(H(te,0),H(te,0),H(te,0),H(te,0),H(te,0),H(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),H(te,3),te.status=P);else{var Me=y+(te.w_bits-8<<4)<<8;Me|=(2<=te.strategy||te.level<2?0:te.level<6?1:te.level===6?2:3)<<6,te.strstart!==0&&(Me|=32),Me+=31-Me%31,te.status=P,V(te,Me),te.strstart!==0&&(V(te,D.adler>>>16),V(te,65535&D.adler)),D.adler=1}if(te.status===69)if(te.gzhead.extra){for(J=te.pending;te.gzindex<(65535&te.gzhead.extra.length)&&(te.pending!==te.pending_buf_size||(te.gzhead.hcrc&&te.pending>J&&(D.adler=c(D.adler,te.pending_buf,te.pending-J,J)),K(D),J=te.pending,te.pending!==te.pending_buf_size));)H(te,255&te.gzhead.extra[te.gzindex]),te.gzindex++;te.gzhead.hcrc&&te.pending>J&&(D.adler=c(D.adler,te.pending_buf,te.pending-J,J)),te.gzindex===te.gzhead.extra.length&&(te.gzindex=0,te.status=73)}else te.status=73;if(te.status===73)if(te.gzhead.name){J=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>J&&(D.adler=c(D.adler,te.pending_buf,te.pending-J,J)),K(D),J=te.pending,te.pending===te.pending_buf_size)){ce=1;break}ce=te.gzindex<te.gzhead.name.length?255&te.gzhead.name.charCodeAt(te.gzindex++):0,H(te,ce)}while(ce!==0);te.gzhead.hcrc&&te.pending>J&&(D.adler=c(D.adler,te.pending_buf,te.pending-J,J)),ce===0&&(te.gzindex=0,te.status=91)}else te.status=91;if(te.status===91)if(te.gzhead.comment){J=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>J&&(D.adler=c(D.adler,te.pending_buf,te.pending-J,J)),K(D),J=te.pending,te.pending===te.pending_buf_size)){ce=1;break}ce=te.gzindex<te.gzhead.comment.length?255&te.gzhead.comment.charCodeAt(te.gzindex++):0,H(te,ce)}while(ce!==0);te.gzhead.hcrc&&te.pending>J&&(D.adler=c(D.adler,te.pending_buf,te.pending-J,J)),ce===0&&(te.status=103)}else te.status=103;if(te.status===103&&(te.gzhead.hcrc?(te.pending+2>te.pending_buf_size&&K(D),te.pending+2<=te.pending_buf_size&&(H(te,255&D.adler),H(te,D.adler>>8&255),D.adler=0,te.status=P)):te.status=P),te.pending!==0){if(K(D),D.avail_out===0)return te.last_flush=-1,f}else if(D.avail_in===0&&X(O)<=X(ne)&&O!==h)return ie(D,-5);if(te.status===666&&D.avail_in!==0)return ie(D,-5);if(D.avail_in!==0||te.lookahead!==0||O!==u&&te.status!==666){var Se=te.strategy===2?function(Le,He){for(var be;;){if(Le.lookahead===0&&(le(Le),Le.lookahead===0)){if(He===u)return S;break}if(Le.match_length=0,be=o._tr_tally(Le,0,Le.window[Le.strstart]),Le.lookahead--,Le.strstart++,be&&(N(Le,!1),Le.strm.avail_out===0))return S}return Le.insert=0,He===h?(N(Le,!0),Le.strm.avail_out===0?re:G):Le.last_lit&&(N(Le,!1),Le.strm.avail_out===0)?S:W}(te,O):te.strategy===3?function(Le,He){for(var be,Fe,Qe,Ge,nt=Le.window;;){if(Le.lookahead<=U){if(le(Le),Le.lookahead<=U&&He===u)return S;if(Le.lookahead===0)break}if(Le.match_length=0,Le.lookahead>=w&&0<Le.strstart&&(Fe=nt[Qe=Le.strstart-1])===nt[++Qe]&&Fe===nt[++Qe]&&Fe===nt[++Qe]){Ge=Le.strstart+U;do;while(Fe===nt[++Qe]&&Fe===nt[++Qe]&&Fe===nt[++Qe]&&Fe===nt[++Qe]&&Fe===nt[++Qe]&&Fe===nt[++Qe]&&Fe===nt[++Qe]&&Fe===nt[++Qe]&&Qe<Ge);Le.match_length=U-(Ge-Qe),Le.match_length>Le.lookahead&&(Le.match_length=Le.lookahead)}if(Le.match_length>=w?(be=o._tr_tally(Le,1,Le.match_length-w),Le.lookahead-=Le.match_length,Le.strstart+=Le.match_length,Le.match_length=0):(be=o._tr_tally(Le,0,Le.window[Le.strstart]),Le.lookahead--,Le.strstart++),be&&(N(Le,!1),Le.strm.avail_out===0))return S}return Le.insert=0,He===h?(N(Le,!0),Le.strm.avail_out===0?re:G):Le.last_lit&&(N(Le,!1),Le.strm.avail_out===0)?S:W}(te,O):s[te.level].func(te,O);if(Se!==re&&Se!==G||(te.status=666),Se===S||Se===re)return D.avail_out===0&&(te.last_flush=-1),f;if(Se===W&&(O===1?o._tr_align(te):O!==5&&(o._tr_stored_block(te,0,0,!1),O===3&&(ge(te.head),te.lookahead===0&&(te.strstart=0,te.block_start=0,te.insert=0))),K(D),D.avail_out===0))return te.last_flush=-1,f}return O!==h?f:te.wrap<=0?1:(te.wrap===2?(H(te,255&D.adler),H(te,D.adler>>8&255),H(te,D.adler>>16&255),H(te,D.adler>>24&255),H(te,255&D.total_in),H(te,D.total_in>>8&255),H(te,D.total_in>>16&255),H(te,D.total_in>>24&255)):(V(te,D.adler>>>16),V(te,65535&D.adler)),K(D),0<te.wrap&&(te.wrap=-te.wrap),te.pending!==0?f:1)},i.deflateEnd=function(D){var O;return D&&D.state?(O=D.state.status)!==F&&O!==69&&O!==73&&O!==91&&O!==103&&O!==P&&O!==666?ie(D,d):(D.state=null,O===P?ie(D,-3):f):d},i.deflateSetDictionary=function(D,O){var ne,te,J,ce,Me,Se,Le,He,be=O.length;if(!D||!D.state||(ce=(ne=D.state).wrap)===2||ce===1&&ne.status!==F||ne.lookahead)return d;for(ce===1&&(D.adler=l(D.adler,O,be,0)),ne.wrap=0,be>=ne.w_size&&(ce===0&&(ge(ne.head),ne.strstart=0,ne.block_start=0,ne.insert=0),He=new a.Buf8(ne.w_size),a.arraySet(He,O,be-ne.w_size,ne.w_size,0),O=He,be=ne.w_size),Me=D.avail_in,Se=D.next_in,Le=D.input,D.avail_in=be,D.next_in=0,D.input=O,le(ne);ne.lookahead>=w;){for(te=ne.strstart,J=ne.lookahead-(w-1);ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[te+w-1])&ne.hash_mask,ne.prev[te&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=te,te++,--J;);ne.strstart=te,ne.lookahead=w-1,le(ne)}return ne.strstart+=ne.lookahead,ne.block_start=ne.strstart,ne.insert=ne.lookahead,ne.lookahead=0,ne.match_length=ne.prev_length=w-1,ne.match_available=0,D.next_in=Se,D.input=Le,D.avail_in=Me,ne.wrap=ce,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(s,a){var o,l,c,A,u,h,f,d,g,_,m,y,b,v,B,C,I,R,w,U,M,F,P,S,W;o=s.state,l=s.next_in,S=s.input,c=l+(s.avail_in-5),A=s.next_out,W=s.output,u=A-(a-s.avail_out),h=A+(s.avail_out-257),f=o.dmax,d=o.wsize,g=o.whave,_=o.wnext,m=o.window,y=o.hold,b=o.bits,v=o.lencode,B=o.distcode,C=(1<<o.lenbits)-1,I=(1<<o.distbits)-1;e:do{b<15&&(y+=S[l++]<<b,b+=8,y+=S[l++]<<b,b+=8),R=v[y&C];t:for(;;){if(y>>>=w=R>>>24,b-=w,(w=R>>>16&255)===0)W[A++]=65535&R;else{if(!(16&w)){if(!(64&w)){R=v[(65535&R)+(y&(1<<w)-1)];continue t}if(32&w){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}U=65535&R,(w&=15)&&(b<w&&(y+=S[l++]<<b,b+=8),U+=y&(1<<w)-1,y>>>=w,b-=w),b<15&&(y+=S[l++]<<b,b+=8,y+=S[l++]<<b,b+=8),R=B[y&I];n:for(;;){if(y>>>=w=R>>>24,b-=w,!(16&(w=R>>>16&255))){if(!(64&w)){R=B[(65535&R)+(y&(1<<w)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(M=65535&R,b<(w&=15)&&(y+=S[l++]<<b,(b+=8)<w&&(y+=S[l++]<<b,b+=8)),f<(M+=y&(1<<w)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=w,b-=w,(w=A-u)<M){if(g<(w=M-w)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(P=m,(F=0)===_){if(F+=d-w,w<U){for(U-=w;W[A++]=m[F++],--w;);F=A-M,P=W}}else if(_<w){if(F+=d+_-w,(w-=_)<U){for(U-=w;W[A++]=m[F++],--w;);if(F=0,_<U){for(U-=w=_;W[A++]=m[F++],--w;);F=A-M,P=W}}}else if(F+=_-w,w<U){for(U-=w;W[A++]=m[F++],--w;);F=A-M,P=W}for(;2<U;)W[A++]=P[F++],W[A++]=P[F++],W[A++]=P[F++],U-=3;U&&(W[A++]=P[F++],1<U&&(W[A++]=P[F++]))}else{for(F=A-M;W[A++]=W[F++],W[A++]=W[F++],W[A++]=W[F++],2<(U-=3););U&&(W[A++]=W[F++],1<U&&(W[A++]=W[F++]))}break}}break}}while(l<c&&A<h);l-=U=b>>3,y&=(1<<(b-=U<<3))-1,s.next_in=l,s.next_out=A,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=A<h?h-A+257:257-(A-h),o.hold=y,o.bits=b}},{}],49:[function(t,r,i){var s=t("../utils/common"),a=t("./adler32"),o=t("./crc32"),l=t("./inffast"),c=t("./inftrees"),A=1,u=2,h=0,f=-2,d=1,g=852,_=592;function m(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(F){var P;return F&&F.state?(P=F.state,F.total_in=F.total_out=P.total=0,F.msg="",P.wrap&&(F.adler=1&P.wrap),P.mode=d,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new s.Buf32(g),P.distcode=P.distdyn=new s.Buf32(_),P.sane=1,P.back=-1,h):f}function v(F){var P;return F&&F.state?((P=F.state).wsize=0,P.whave=0,P.wnext=0,b(F)):f}function B(F,P){var S,W;return F&&F.state?(W=F.state,P<0?(S=0,P=-P):(S=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?f:(W.window!==null&&W.wbits!==P&&(W.window=null),W.wrap=S,W.wbits=P,v(F))):f}function C(F,P){var S,W;return F?(W=new y,(F.state=W).window=null,(S=B(F,P))!==h&&(F.state=null),S):f}var I,R,w=!0;function U(F){if(w){var P;for(I=new s.Buf32(512),R=new s.Buf32(32),P=0;P<144;)F.lens[P++]=8;for(;P<256;)F.lens[P++]=9;for(;P<280;)F.lens[P++]=7;for(;P<288;)F.lens[P++]=8;for(c(A,F.lens,0,288,I,0,F.work,{bits:9}),P=0;P<32;)F.lens[P++]=5;c(u,F.lens,0,32,R,0,F.work,{bits:5}),w=!1}F.lencode=I,F.lenbits=9,F.distcode=R,F.distbits=5}function M(F,P,S,W){var re,G=F.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new s.Buf8(G.wsize)),W>=G.wsize?(s.arraySet(G.window,P,S-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(W<(re=G.wsize-G.wnext)&&(re=W),s.arraySet(G.window,P,S-W,re,G.wnext),(W-=re)?(s.arraySet(G.window,P,S-W,W,0),G.wnext=W,G.whave=G.wsize):(G.wnext+=re,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=re))),0}i.inflateReset=v,i.inflateReset2=B,i.inflateResetKeep=b,i.inflateInit=function(F){return C(F,15)},i.inflateInit2=C,i.inflate=function(F,P){var S,W,re,G,ie,X,ge,K,N,H,V,j,le,de,he,ue,me,_e,xe,Re,D,O,ne,te,J=0,ce=new s.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return f;(S=F.state).mode===12&&(S.mode=13),ie=F.next_out,re=F.output,ge=F.avail_out,G=F.next_in,W=F.input,X=F.avail_in,K=S.hold,N=S.bits,H=X,V=ge,O=h;e:for(;;)switch(S.mode){case d:if(S.wrap===0){S.mode=13;break}for(;N<16;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}if(2&S.wrap&&K===35615){ce[S.check=0]=255&K,ce[1]=K>>>8&255,S.check=o(S.check,ce,2,0),N=K=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&K)<<8)+(K>>8))%31){F.msg="incorrect header check",S.mode=30;break}if((15&K)!=8){F.msg="unknown compression method",S.mode=30;break}if(N-=4,D=8+(15&(K>>>=4)),S.wbits===0)S.wbits=D;else if(D>S.wbits){F.msg="invalid window size",S.mode=30;break}S.dmax=1<<D,F.adler=S.check=1,S.mode=512&K?10:12,N=K=0;break;case 2:for(;N<16;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}if(S.flags=K,(255&S.flags)!=8){F.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){F.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=K>>8&1),512&S.flags&&(ce[0]=255&K,ce[1]=K>>>8&255,S.check=o(S.check,ce,2,0)),N=K=0,S.mode=3;case 3:for(;N<32;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}S.head&&(S.head.time=K),512&S.flags&&(ce[0]=255&K,ce[1]=K>>>8&255,ce[2]=K>>>16&255,ce[3]=K>>>24&255,S.check=o(S.check,ce,4,0)),N=K=0,S.mode=4;case 4:for(;N<16;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}S.head&&(S.head.xflags=255&K,S.head.os=K>>8),512&S.flags&&(ce[0]=255&K,ce[1]=K>>>8&255,S.check=o(S.check,ce,2,0)),N=K=0,S.mode=5;case 5:if(1024&S.flags){for(;N<16;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}S.length=K,S.head&&(S.head.extra_len=K),512&S.flags&&(ce[0]=255&K,ce[1]=K>>>8&255,S.check=o(S.check,ce,2,0)),N=K=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(X<(j=S.length)&&(j=X),j&&(S.head&&(D=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),s.arraySet(S.head.extra,W,G,j,D)),512&S.flags&&(S.check=o(S.check,W,j,G)),X-=j,G+=j,S.length-=j),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(X===0)break e;for(j=0;D=W[G+j++],S.head&&D&&S.length<65536&&(S.head.name+=String.fromCharCode(D)),D&&j<X;);if(512&S.flags&&(S.check=o(S.check,W,j,G)),X-=j,G+=j,D)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(X===0)break e;for(j=0;D=W[G+j++],S.head&&D&&S.length<65536&&(S.head.comment+=String.fromCharCode(D)),D&&j<X;);if(512&S.flags&&(S.check=o(S.check,W,j,G)),X-=j,G+=j,D)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;N<16;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}if(K!==(65535&S.check)){F.msg="header crc mismatch",S.mode=30;break}N=K=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),F.adler=S.check=0,S.mode=12;break;case 10:for(;N<32;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}F.adler=S.check=m(K),N=K=0,S.mode=11;case 11:if(S.havedict===0)return F.next_out=ie,F.avail_out=ge,F.next_in=G,F.avail_in=X,S.hold=K,S.bits=N,2;F.adler=S.check=1,S.mode=12;case 12:if(P===5||P===6)break e;case 13:if(S.last){K>>>=7&N,N-=7&N,S.mode=27;break}for(;N<3;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}switch(S.last=1&K,N-=1,3&(K>>>=1)){case 0:S.mode=14;break;case 1:if(U(S),S.mode=20,P!==6)break;K>>>=2,N-=2;break e;case 2:S.mode=17;break;case 3:F.msg="invalid block type",S.mode=30}K>>>=2,N-=2;break;case 14:for(K>>>=7&N,N-=7&N;N<32;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}if((65535&K)!=(K>>>16^65535)){F.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&K,N=K=0,S.mode=15,P===6)break e;case 15:S.mode=16;case 16:if(j=S.length){if(X<j&&(j=X),ge<j&&(j=ge),j===0)break e;s.arraySet(re,W,G,j,ie),X-=j,G+=j,ge-=j,ie+=j,S.length-=j;break}S.mode=12;break;case 17:for(;N<14;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}if(S.nlen=257+(31&K),K>>>=5,N-=5,S.ndist=1+(31&K),K>>>=5,N-=5,S.ncode=4+(15&K),K>>>=4,N-=4,286<S.nlen||30<S.ndist){F.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;N<3;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}S.lens[Me[S.have++]]=7&K,K>>>=3,N-=3}for(;S.have<19;)S.lens[Me[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,ne={bits:S.lenbits},O=c(0,S.lens,0,19,S.lencode,0,S.work,ne),S.lenbits=ne.bits,O){F.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ue=(J=S.lencode[K&(1<<S.lenbits)-1])>>>16&255,me=65535&J,!((he=J>>>24)<=N);){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}if(me<16)K>>>=he,N-=he,S.lens[S.have++]=me;else{if(me===16){for(te=he+2;N<te;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}if(K>>>=he,N-=he,S.have===0){F.msg="invalid bit length repeat",S.mode=30;break}D=S.lens[S.have-1],j=3+(3&K),K>>>=2,N-=2}else if(me===17){for(te=he+3;N<te;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}N-=he,D=0,j=3+(7&(K>>>=he)),K>>>=3,N-=3}else{for(te=he+7;N<te;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}N-=he,D=0,j=11+(127&(K>>>=he)),K>>>=7,N-=7}if(S.have+j>S.nlen+S.ndist){F.msg="invalid bit length repeat",S.mode=30;break}for(;j--;)S.lens[S.have++]=D}}if(S.mode===30)break;if(S.lens[256]===0){F.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,ne={bits:S.lenbits},O=c(A,S.lens,0,S.nlen,S.lencode,0,S.work,ne),S.lenbits=ne.bits,O){F.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,ne={bits:S.distbits},O=c(u,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,ne),S.distbits=ne.bits,O){F.msg="invalid distances set",S.mode=30;break}if(S.mode=20,P===6)break e;case 20:S.mode=21;case 21:if(6<=X&&258<=ge){F.next_out=ie,F.avail_out=ge,F.next_in=G,F.avail_in=X,S.hold=K,S.bits=N,l(F,V),ie=F.next_out,re=F.output,ge=F.avail_out,G=F.next_in,W=F.input,X=F.avail_in,K=S.hold,N=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ue=(J=S.lencode[K&(1<<S.lenbits)-1])>>>16&255,me=65535&J,!((he=J>>>24)<=N);){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}if(ue&&!(240&ue)){for(_e=he,xe=ue,Re=me;ue=(J=S.lencode[Re+((K&(1<<_e+xe)-1)>>_e)])>>>16&255,me=65535&J,!(_e+(he=J>>>24)<=N);){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}K>>>=_e,N-=_e,S.back+=_e}if(K>>>=he,N-=he,S.back+=he,S.length=me,ue===0){S.mode=26;break}if(32&ue){S.back=-1,S.mode=12;break}if(64&ue){F.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ue,S.mode=22;case 22:if(S.extra){for(te=S.extra;N<te;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}S.length+=K&(1<<S.extra)-1,K>>>=S.extra,N-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ue=(J=S.distcode[K&(1<<S.distbits)-1])>>>16&255,me=65535&J,!((he=J>>>24)<=N);){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}if(!(240&ue)){for(_e=he,xe=ue,Re=me;ue=(J=S.distcode[Re+((K&(1<<_e+xe)-1)>>_e)])>>>16&255,me=65535&J,!(_e+(he=J>>>24)<=N);){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}K>>>=_e,N-=_e,S.back+=_e}if(K>>>=he,N-=he,S.back+=he,64&ue){F.msg="invalid distance code",S.mode=30;break}S.offset=me,S.extra=15&ue,S.mode=24;case 24:if(S.extra){for(te=S.extra;N<te;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}S.offset+=K&(1<<S.extra)-1,K>>>=S.extra,N-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){F.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(ge===0)break e;if(j=V-ge,S.offset>j){if((j=S.offset-j)>S.whave&&S.sane){F.msg="invalid distance too far back",S.mode=30;break}le=j>S.wnext?(j-=S.wnext,S.wsize-j):S.wnext-j,j>S.length&&(j=S.length),de=S.window}else de=re,le=ie-S.offset,j=S.length;for(ge<j&&(j=ge),ge-=j,S.length-=j;re[ie++]=de[le++],--j;);S.length===0&&(S.mode=21);break;case 26:if(ge===0)break e;re[ie++]=S.length,ge--,S.mode=21;break;case 27:if(S.wrap){for(;N<32;){if(X===0)break e;X--,K|=W[G++]<<N,N+=8}if(V-=ge,F.total_out+=V,S.total+=V,V&&(F.adler=S.check=S.flags?o(S.check,re,V,ie-V):a(S.check,re,V,ie-V)),V=ge,(S.flags?K:m(K))!==S.check){F.msg="incorrect data check",S.mode=30;break}N=K=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;N<32;){if(X===0)break e;X--,K+=W[G++]<<N,N+=8}if(K!==(4294967295&S.total)){F.msg="incorrect length check",S.mode=30;break}N=K=0}S.mode=29;case 29:O=1;break e;case 30:O=-3;break e;case 31:return-4;case 32:default:return f}return F.next_out=ie,F.avail_out=ge,F.next_in=G,F.avail_in=X,S.hold=K,S.bits=N,(S.wsize||V!==F.avail_out&&S.mode<30&&(S.mode<27||P!==4))&&M(F,F.output,F.next_out,V-F.avail_out)?(S.mode=31,-4):(H-=F.avail_in,V-=F.avail_out,F.total_in+=H,F.total_out+=V,S.total+=V,S.wrap&&V&&(F.adler=S.check=S.flags?o(S.check,re,V,F.next_out-V):a(S.check,re,V,F.next_out-V)),F.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(H==0&&V===0||P===4)&&O===h&&(O=-5),O)},i.inflateEnd=function(F){if(!F||!F.state)return f;var P=F.state;return P.window&&(P.window=null),F.state=null,h},i.inflateGetHeader=function(F,P){var S;return F&&F.state&&2&(S=F.state).wrap?((S.head=P).done=!1,h):f},i.inflateSetDictionary=function(F,P){var S,W=P.length;return F&&F.state?(S=F.state).wrap!==0&&S.mode!==11?f:S.mode===11&&a(1,P,W,0)!==S.check?-3:M(F,P,W,W)?(S.mode=31,-4):(S.havedict=1,h):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var s=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(A,u,h,f,d,g,_,m){var y,b,v,B,C,I,R,w,U,M=m.bits,F=0,P=0,S=0,W=0,re=0,G=0,ie=0,X=0,ge=0,K=0,N=null,H=0,V=new s.Buf16(16),j=new s.Buf16(16),le=null,de=0;for(F=0;F<=15;F++)V[F]=0;for(P=0;P<f;P++)V[u[h+P]]++;for(re=M,W=15;1<=W&&V[W]===0;W--);if(W<re&&(re=W),W===0)return d[g++]=20971520,d[g++]=20971520,m.bits=1,0;for(S=1;S<W&&V[S]===0;S++);for(re<S&&(re=S),F=X=1;F<=15;F++)if(X<<=1,(X-=V[F])<0)return-1;if(0<X&&(A===0||W!==1))return-1;for(j[1]=0,F=1;F<15;F++)j[F+1]=j[F]+V[F];for(P=0;P<f;P++)u[h+P]!==0&&(_[j[u[h+P]]++]=P);if(I=A===0?(N=le=_,19):A===1?(N=a,H-=257,le=o,de-=257,256):(N=l,le=c,-1),F=S,C=g,ie=P=K=0,v=-1,B=(ge=1<<(G=re))-1,A===1&&852<ge||A===2&&592<ge)return 1;for(;;){for(R=F-ie,U=_[P]<I?(w=0,_[P]):_[P]>I?(w=le[de+_[P]],N[H+_[P]]):(w=96,0),y=1<<F-ie,S=b=1<<G;d[C+(K>>ie)+(b-=y)]=R<<24|w<<16|U|0,b!==0;);for(y=1<<F-1;K&y;)y>>=1;if(y!==0?(K&=y-1,K+=y):K=0,P++,--V[F]==0){if(F===W)break;F=u[h+_[P]]}if(re<F&&(K&B)!==v){for(ie===0&&(ie=re),C+=S,X=1<<(G=F-ie);G+ie<W&&!((X-=V[G+ie])<=0);)G++,X<<=1;if(ge+=1<<G,A===1&&852<ge||A===2&&592<ge)return 1;d[v=K&B]=re<<24|G<<16|C-g|0}}return K!==0&&(d[C+K]=F-ie<<24|64<<16|0),m.bits=re,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var s=t("../utils/common"),a=0,o=1;function l(J){for(var ce=J.length;0<=--ce;)J[ce]=0}var c=0,A=29,u=256,h=u+1+A,f=30,d=19,g=2*h+1,_=15,m=16,y=7,b=256,v=16,B=17,C=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(h+2));l(M);var F=new Array(2*f);l(F);var P=new Array(512);l(P);var S=new Array(256);l(S);var W=new Array(A);l(W);var re,G,ie,X=new Array(f);function ge(J,ce,Me,Se,Le){this.static_tree=J,this.extra_bits=ce,this.extra_base=Me,this.elems=Se,this.max_length=Le,this.has_stree=J&&J.length}function K(J,ce){this.dyn_tree=J,this.max_code=0,this.stat_desc=ce}function N(J){return J<256?P[J]:P[256+(J>>>7)]}function H(J,ce){J.pending_buf[J.pending++]=255&ce,J.pending_buf[J.pending++]=ce>>>8&255}function V(J,ce,Me){J.bi_valid>m-Me?(J.bi_buf|=ce<<J.bi_valid&65535,H(J,J.bi_buf),J.bi_buf=ce>>m-J.bi_valid,J.bi_valid+=Me-m):(J.bi_buf|=ce<<J.bi_valid&65535,J.bi_valid+=Me)}function j(J,ce,Me){V(J,Me[2*ce],Me[2*ce+1])}function le(J,ce){for(var Me=0;Me|=1&J,J>>>=1,Me<<=1,0<--ce;);return Me>>>1}function de(J,ce,Me){var Se,Le,He=new Array(_+1),be=0;for(Se=1;Se<=_;Se++)He[Se]=be=be+Me[Se-1]<<1;for(Le=0;Le<=ce;Le++){var Fe=J[2*Le+1];Fe!==0&&(J[2*Le]=le(He[Fe]++,Fe))}}function he(J){var ce;for(ce=0;ce<h;ce++)J.dyn_ltree[2*ce]=0;for(ce=0;ce<f;ce++)J.dyn_dtree[2*ce]=0;for(ce=0;ce<d;ce++)J.bl_tree[2*ce]=0;J.dyn_ltree[2*b]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function ue(J){8<J.bi_valid?H(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function me(J,ce,Me,Se){var Le=2*ce,He=2*Me;return J[Le]<J[He]||J[Le]===J[He]&&Se[ce]<=Se[Me]}function _e(J,ce,Me){for(var Se=J.heap[Me],Le=Me<<1;Le<=J.heap_len&&(Le<J.heap_len&&me(ce,J.heap[Le+1],J.heap[Le],J.depth)&&Le++,!me(ce,Se,J.heap[Le],J.depth));)J.heap[Me]=J.heap[Le],Me=Le,Le<<=1;J.heap[Me]=Se}function xe(J,ce,Me){var Se,Le,He,be,Fe=0;if(J.last_lit!==0)for(;Se=J.pending_buf[J.d_buf+2*Fe]<<8|J.pending_buf[J.d_buf+2*Fe+1],Le=J.pending_buf[J.l_buf+Fe],Fe++,Se===0?j(J,Le,ce):(j(J,(He=S[Le])+u+1,ce),(be=I[He])!==0&&V(J,Le-=W[He],be),j(J,He=N(--Se),Me),(be=R[He])!==0&&V(J,Se-=X[He],be)),Fe<J.last_lit;);j(J,b,ce)}function Re(J,ce){var Me,Se,Le,He=ce.dyn_tree,be=ce.stat_desc.static_tree,Fe=ce.stat_desc.has_stree,Qe=ce.stat_desc.elems,Ge=-1;for(J.heap_len=0,J.heap_max=g,Me=0;Me<Qe;Me++)He[2*Me]!==0?(J.heap[++J.heap_len]=Ge=Me,J.depth[Me]=0):He[2*Me+1]=0;for(;J.heap_len<2;)He[2*(Le=J.heap[++J.heap_len]=Ge<2?++Ge:0)]=1,J.depth[Le]=0,J.opt_len--,Fe&&(J.static_len-=be[2*Le+1]);for(ce.max_code=Ge,Me=J.heap_len>>1;1<=Me;Me--)_e(J,He,Me);for(Le=Qe;Me=J.heap[1],J.heap[1]=J.heap[J.heap_len--],_e(J,He,1),Se=J.heap[1],J.heap[--J.heap_max]=Me,J.heap[--J.heap_max]=Se,He[2*Le]=He[2*Me]+He[2*Se],J.depth[Le]=(J.depth[Me]>=J.depth[Se]?J.depth[Me]:J.depth[Se])+1,He[2*Me+1]=He[2*Se+1]=Le,J.heap[1]=Le++,_e(J,He,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(nt,ke){var De,At,kt,rt,Nt,ot,Rt=ke.dyn_tree,Tt=ke.max_code,Jt=ke.stat_desc.static_tree,wt=ke.stat_desc.has_stree,It=ke.stat_desc.extra_bits,tn=ke.stat_desc.extra_base,rn=ke.stat_desc.max_length,Vt=0;for(rt=0;rt<=_;rt++)nt.bl_count[rt]=0;for(Rt[2*nt.heap[nt.heap_max]+1]=0,De=nt.heap_max+1;De<g;De++)rn<(rt=Rt[2*Rt[2*(At=nt.heap[De])+1]+1]+1)&&(rt=rn,Vt++),Rt[2*At+1]=rt,Tt<At||(nt.bl_count[rt]++,Nt=0,tn<=At&&(Nt=It[At-tn]),ot=Rt[2*At],nt.opt_len+=ot*(rt+Nt),wt&&(nt.static_len+=ot*(Jt[2*At+1]+Nt)));if(Vt!==0){do{for(rt=rn-1;nt.bl_count[rt]===0;)rt--;nt.bl_count[rt]--,nt.bl_count[rt+1]+=2,nt.bl_count[rn]--,Vt-=2}while(0<Vt);for(rt=rn;rt!==0;rt--)for(At=nt.bl_count[rt];At!==0;)Tt<(kt=nt.heap[--De])||(Rt[2*kt+1]!==rt&&(nt.opt_len+=(rt-Rt[2*kt+1])*Rt[2*kt],Rt[2*kt+1]=rt),At--)}}(J,ce),de(He,Ge,J.bl_count)}function D(J,ce,Me){var Se,Le,He=-1,be=ce[1],Fe=0,Qe=7,Ge=4;for(be===0&&(Qe=138,Ge=3),ce[2*(Me+1)+1]=65535,Se=0;Se<=Me;Se++)Le=be,be=ce[2*(Se+1)+1],++Fe<Qe&&Le===be||(Fe<Ge?J.bl_tree[2*Le]+=Fe:Le!==0?(Le!==He&&J.bl_tree[2*Le]++,J.bl_tree[2*v]++):Fe<=10?J.bl_tree[2*B]++:J.bl_tree[2*C]++,He=Le,Ge=(Fe=0)===be?(Qe=138,3):Le===be?(Qe=6,3):(Qe=7,4))}function O(J,ce,Me){var Se,Le,He=-1,be=ce[1],Fe=0,Qe=7,Ge=4;for(be===0&&(Qe=138,Ge=3),Se=0;Se<=Me;Se++)if(Le=be,be=ce[2*(Se+1)+1],!(++Fe<Qe&&Le===be)){if(Fe<Ge)for(;j(J,Le,J.bl_tree),--Fe!=0;);else Le!==0?(Le!==He&&(j(J,Le,J.bl_tree),Fe--),j(J,v,J.bl_tree),V(J,Fe-3,2)):Fe<=10?(j(J,B,J.bl_tree),V(J,Fe-3,3)):(j(J,C,J.bl_tree),V(J,Fe-11,7));He=Le,Ge=(Fe=0)===be?(Qe=138,3):Le===be?(Qe=6,3):(Qe=7,4)}}l(X);var ne=!1;function te(J,ce,Me,Se){V(J,(c<<1)+(Se?1:0),3),function(Le,He,be,Fe){ue(Le),H(Le,be),H(Le,~be),s.arraySet(Le.pending_buf,Le.window,He,be,Le.pending),Le.pending+=be}(J,ce,Me)}i._tr_init=function(J){ne||(function(){var ce,Me,Se,Le,He,be=new Array(_+1);for(Le=Se=0;Le<A-1;Le++)for(W[Le]=Se,ce=0;ce<1<<I[Le];ce++)S[Se++]=Le;for(S[Se-1]=Le,Le=He=0;Le<16;Le++)for(X[Le]=He,ce=0;ce<1<<R[Le];ce++)P[He++]=Le;for(He>>=7;Le<f;Le++)for(X[Le]=He<<7,ce=0;ce<1<<R[Le]-7;ce++)P[256+He++]=Le;for(Me=0;Me<=_;Me++)be[Me]=0;for(ce=0;ce<=143;)M[2*ce+1]=8,ce++,be[8]++;for(;ce<=255;)M[2*ce+1]=9,ce++,be[9]++;for(;ce<=279;)M[2*ce+1]=7,ce++,be[7]++;for(;ce<=287;)M[2*ce+1]=8,ce++,be[8]++;for(de(M,h+1,be),ce=0;ce<f;ce++)F[2*ce+1]=5,F[2*ce]=le(ce,5);re=new ge(M,I,u+1,h,_),G=new ge(F,R,0,f,_),ie=new ge(new Array(0),w,0,d,y)}(),ne=!0),J.l_desc=new K(J.dyn_ltree,re),J.d_desc=new K(J.dyn_dtree,G),J.bl_desc=new K(J.bl_tree,ie),J.bi_buf=0,J.bi_valid=0,he(J)},i._tr_stored_block=te,i._tr_flush_block=function(J,ce,Me,Se){var Le,He,be=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(Fe){var Qe,Ge=4093624447;for(Qe=0;Qe<=31;Qe++,Ge>>>=1)if(1&Ge&&Fe.dyn_ltree[2*Qe]!==0)return a;if(Fe.dyn_ltree[18]!==0||Fe.dyn_ltree[20]!==0||Fe.dyn_ltree[26]!==0)return o;for(Qe=32;Qe<u;Qe++)if(Fe.dyn_ltree[2*Qe]!==0)return o;return a}(J)),Re(J,J.l_desc),Re(J,J.d_desc),be=function(Fe){var Qe;for(D(Fe,Fe.dyn_ltree,Fe.l_desc.max_code),D(Fe,Fe.dyn_dtree,Fe.d_desc.max_code),Re(Fe,Fe.bl_desc),Qe=d-1;3<=Qe&&Fe.bl_tree[2*U[Qe]+1]===0;Qe--);return Fe.opt_len+=3*(Qe+1)+5+5+4,Qe}(J),Le=J.opt_len+3+7>>>3,(He=J.static_len+3+7>>>3)<=Le&&(Le=He)):Le=He=Me+5,Me+4<=Le&&ce!==-1?te(J,ce,Me,Se):J.strategy===4||He===Le?(V(J,2+(Se?1:0),3),xe(J,M,F)):(V(J,4+(Se?1:0),3),function(Fe,Qe,Ge,nt){var ke;for(V(Fe,Qe-257,5),V(Fe,Ge-1,5),V(Fe,nt-4,4),ke=0;ke<nt;ke++)V(Fe,Fe.bl_tree[2*U[ke]+1],3);O(Fe,Fe.dyn_ltree,Qe-1),O(Fe,Fe.dyn_dtree,Ge-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,be+1),xe(J,J.dyn_ltree,J.dyn_dtree)),he(J),Se&&ue(J)},i._tr_tally=function(J,ce,Me){return J.pending_buf[J.d_buf+2*J.last_lit]=ce>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&ce,J.pending_buf[J.l_buf+J.last_lit]=255&Me,J.last_lit++,ce===0?J.dyn_ltree[2*Me]++:(J.matches++,ce--,J.dyn_ltree[2*(S[Me]+u+1)]++,J.dyn_dtree[2*N(ce)]++),J.last_lit===J.lit_bufsize-1},i._tr_align=function(J){V(J,2,3),j(J,b,M),function(ce){ce.bi_valid===16?(H(ce,ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0):8<=ce.bi_valid&&(ce.pending_buf[ce.pending++]=255&ce.bi_buf,ce.bi_buf>>=8,ce.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,A,u,h=1,f={},d=!1,g=a.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(a);_=_&&_.setTimeout?_:a,l={}.toString.call(a.process)==="[object process]"?function(v){process.nextTick(function(){y(v)})}:function(){if(a.postMessage&&!a.importScripts){var v=!0,B=a.onmessage;return a.onmessage=function(){v=!1},a.postMessage("","*"),a.onmessage=B,v}}()?(u="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",b,!1):a.attachEvent("onmessage",b),function(v){a.postMessage(u+v,"*")}):a.MessageChannel?((A=new MessageChannel).port1.onmessage=function(v){y(v.data)},function(v){A.port2.postMessage(v)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(v){var B=g.createElement("script");B.onreadystatechange=function(){y(v),B.onreadystatechange=null,c.removeChild(B),B=null},c.appendChild(B)}):function(v){setTimeout(y,0,v)},_.setImmediate=function(v){typeof v!="function"&&(v=new Function(""+v));for(var B=new Array(arguments.length-1),C=0;C<B.length;C++)B[C]=arguments[C+1];var I={callback:v,args:B};return f[h]=I,l(h),h++},_.clearImmediate=m}function m(v){delete f[v]}function y(v){if(d)setTimeout(y,0,v);else{var B=f[v];if(B){d=!0;try{(function(C){var I=C.callback,R=C.args;switch(R.length){case 0:I();break;case 1:I(R[0]);break;case 2:I(R[0],R[1]);break;case 3:I(R[0],R[1],R[2]);break;default:I.apply(o,R)}})(B)}finally{m(v),d=!1}}}}function b(v){v.source===a&&typeof v.data=="string"&&v.data.indexOf(u)===0&&y(+v.data.slice(u.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof eg<"u"?eg:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(GV);var GHe=GV.exports;const VHe=Z1(GHe),ik=[0],KHe={getPointColor:{type:"accessor",value:[0,0,0,255]},pointSize:1,data:"",loader:YV,onTilesetLoad:{type:"function",value:n=>{}},onTileLoad:{type:"function",value:n=>{}},onTileUnload:{type:"function",value:n=>{}},onTileError:{type:"function",value:(n,e,t)=>{}},_getMeshColor:{type:"function",value:n=>[255,255,255]}};class iE extends $j{initializeState(){"onTileLoadFail"in this.props&&or.removed("onTileLoadFail","onTileError")(),this.state={layerMap:{},tileset3d:null,activeViewports:{},lastUpdatedViewports:null}}get isLoaded(){var e,t;return!!((t=(e=this.state)==null?void 0:e.tileset3d)!=null&&t.isLoaded()&&super.isLoaded)}shouldUpdateState({changeFlags:e}){return e.somethingChanged}updateState({props:e,oldProps:t,changeFlags:r}){if(e.data&&e.data!==t.data&&this._loadTileset(e.data),r.viewportChanged){const{activeViewports:i}=this.state;Object.keys(i).length&&(this._updateTileset(i),this.state.lastUpdatedViewports=i,this.state.activeViewports={})}if(r.propsChanged){const{layerMap:i}=this.state;for(const s in i)i[s].needsUpdate=!0}}activateViewport(e){const{activeViewports:t,lastUpdatedViewports:r}=this.state;this.internalState.viewport=e,t[e.id]=e;const i=r==null?void 0:r[e.id];(!i||!e.equals(i))&&(this.setChangeFlags({viewportChanged:!0}),this.setNeedsUpdate())}getPickingInfo({info:e,sourceLayer:t}){const r=t&&t.props.tile;return e.picked&&(e.object=r),e.sourceTile=r,e}filterSubLayer({layer:e,viewport:t}){const{tile:r}=e.props,{id:i}=t;return r.selected&&r.viewportIds.includes(i)}_updateAutoHighlight(e){const t=e.sourceTile,r=this.state.layerMap[t==null?void 0:t.id];r&&r.layer&&r.layer.updateAutoHighlight(e)}async _loadTileset(e){const{loadOptions:t={}}=this.props,r=this.props.loader||this.props.loaders,i=Array.isArray(r)?r[0]:r,s={loadOptions:{...t}};let a=e;if(i.preload){const c=await i.preload(e,t);c.url&&(a=c.url),c.headers&&(s.loadOptions.fetch={...s.loadOptions.fetch,headers:c.headers}),Object.assign(s,c)}const o=await ou(a,i,s.loadOptions),l=new Rze(o,{onTileLoad:this._onTileLoad.bind(this),onTileUnload:this._onTileUnload.bind(this),onTileError:this.props.onTileError,...s});this.setState({tileset3d:l,layerMap:{}}),this._updateTileset(this.state.activeViewports),this.props.onTilesetLoad(l)}_onTileLoad(e){const{lastUpdatedViewports:t}=this.state;this.props.onTileLoad(e),this._updateTileset(t),this.setNeedsUpdate()}_onTileUnload(e){delete this.state.layerMap[e.id],this.props.onTileUnload(e)}_updateTileset(e){if(!e)return;const{tileset3d:t}=this.state,{timeline:r}=this.context,i=Object.keys(e).length;!r||!i||!t||t.selectTiles(Object.values(e)).then(s=>{this.state.frameNumber!==s&&this.setState({frameNumber:s})})}_getSubLayer(e,t){if(!e.content)return null;switch(e.type){case F0.POINTCLOUD:return this._makePointCloudLayer(e,t);case F0.SCENEGRAPH:return this._make3DModelLayer(e);case F0.MESH:return this._makeSimpleMeshLayer(e,t);default:throw new Error(`Tile3DLayer: Failed to render layer of type ${e.content.type}`)}}_makePointCloudLayer(e,t){const{attributes:r,pointCount:i,constantRGBA:s,cartographicOrigin:a,modelMatrix:o}=e.content,{positions:l,normals:c,colors:A}=r;if(!l)return null;const u=t&&t.props.data||{header:{vertexCount:i},attributes:{POSITION:l,NORMAL:c,COLOR_0:A}},{pointSize:h,getPointColor:f}=this.props,d=this.getSubLayerClass("pointcloud",HB);return new d({pointSize:h},this.getSubLayerProps({id:"pointcloud"}),{id:`${this.id}-pointcloud-${e.id}`,tile:e,data:u,coordinateSystem:Vn.METER_OFFSETS,coordinateOrigin:a,modelMatrix:o,getColor:s||f,_offset:0})}_make3DModelLayer(e){const{gltf:t,instances:r,cartographicOrigin:i,modelMatrix:s}=e.content,a=this.getSubLayerClass("scenegraph",WB);return new a({_lighting:"pbr"},this.getSubLayerProps({id:"scenegraph"}),{id:`${this.id}-scenegraph-${e.id}`,tile:e,data:r||ik,scenegraph:t,coordinateSystem:Vn.METER_OFFSETS,coordinateOrigin:i,modelMatrix:s,getTransformMatrix:o=>o.modelMatrix,getPosition:[0,0,0],_offset:0})}_makeSimpleMeshLayer(e,t){const r=e.content,{attributes:i,indices:s,modelMatrix:a,cartographicOrigin:o,coordinateSystem:l=Vn.METER_OFFSETS,material:c,featureIds:A}=r,{_getMeshColor:u}=this.props,h=t&&t.props.mesh||new Qh({topology:"triangle-list",attributes:$He(i),indices:s}),f=this.getSubLayerClass("mesh",qB);return new f(this.getSubLayerProps({id:"mesh"}),{id:`${this.id}-mesh-${e.id}`,tile:e,mesh:h,data:ik,getColor:u(e),pbrMaterial:c,modelMatrix:a,coordinateOrigin:o,coordinateSystem:l,featureIds:A,_offset:0})}renderLayers(){const{tileset3d:e,layerMap:t}=this.state;return e?e.tiles.map(r=>{const i=t[r.id]=t[r.id]||{tile:r};let{layer:s}=i;return r.selected&&(s?i.needsUpdate&&(s=this._getSubLayer(r,s),i.needsUpdate=!1):s=this._getSubLayer(r)),i.layer=s,s}).filter(Boolean):null}}iE.defaultProps=KHe;iE.layerName="Tile3DLayer";function $He(n){const e={};return e.positions={...n.positions,value:new Float32Array(n.positions.value)},n.normals&&(e.normals=n.normals),n.texCoords&&(e.texCoords=n.texCoords),n.colors&&(e.colors=n.colors),n.uvRegions&&(e.uvRegions=n.uvRegions),e}const WHe=n=>{const e=n.metaData.altitude??0;return new iE({id:`3d-tiles-layer-${n.id}`,data:n.format.url,pickable:n.interaction.clickable,opacity:n.style.opacity,visible:n.style.visible??!0,pointSize:n.style.type==="point-cloud"?n.style.pointSize??1:void 0,parameters:{depthTest:!1},beforeId:"deck-reference-layer",loadOptions:{"3d-tiles":{decodeQuantizedPositions:!0}},onTileLoad:t=>{var r;(r=t.content)!=null&&r.cartographicOrigin}})},qHe=async n=>n.map(t=>WHe(t));var XHe=we('<div class="absolute bottom-[100px] right-5 max-lg:hidden"><!></div> <!> <!>',1),JHe=we("<!> <!> <!> <!> <!> <!> <!>",1),ZHe=we('<div role="region"><div><!></div> <!> <!></div> <!>',1);function eQe(n,e){Mt(e,!0);const t=()=>qt(qC,"$showXYZTileLayer",a),r=()=>qt(Gh,"$isTerrain3d",a),i=()=>qt(Qo,"$isStreetView",a),s=()=>qt(Ch,"$mapMode",a),[a,o]=Rr();let l=Ne(e,"maplibreMap",15),c=Ne(e,"tempLayerEntries",15),A=Ne(e,"showDataEntry",15),u=Ne(e,"featureMenuData",15),h=Ne(e,"showSelectionMarker",15),f=Ne(e,"showAngleMarker",15),d=Ne(e,"selectionMarkerLngLat",15),g=Ne(e,"angleMarkerLngLat",15),_=Ne(e,"cameraBearing",15),m=Ne(e,"dropFile",15),y=Ne(e,"showDialogType",15),b=Ne(e,"showZoneForm",15),v=Ne(e,"focusBbox",15),B=Ne(e,"isExternalCameraUpdate",15),C=Ne(e,"selectedSearchId",15),I=Ne(e,"contextMenuState",15),R=Ot(()=>e.layerEntries.map(D=>({id:D.id,style:D.style}))),w=Oe(null),U=Oe(Wr([])),M=null,F=Oe(!1),P=Oe(null),S=Oe(null),W=Oe(!1),re=Oe(Wr([]));const G=[136.91278,35.543576,136.92986,35.556704];Wr({type:"canvas",canvas:"canvas-layer",coordinates:[[G[0],G[3]],[G[2],G[3]],[G[2],G[1]],[G[0],G[1]]]});const ie=async D=>{const O=A()?{}:await tL(D),ne=A()?[]:await nL(D),te=await Xbe(e.demEntries,"dem_5a");let J=A()?await tL([A()],"preview"):{};(A()||b())&&(J={...J,preview_base_1:{type:"raster",tiles:["https://tile.mierune.co.jp/mierune_mono/{z}/{x}/{y}.png"],tileSize:256,minzoom:0,maxzoom:18,attribution:""},preview_base_2:{type:"vector",minzoom:4,maxzoom:16,url:"pmtiles://https://cyberjapandata.gsi.go.jp/xyz/optimal_bvmap-v1/optimal_bvmap-v1.pmtiles",attribution:""},tile_grid:{type:"raster",tiles:["./tile_grid.png"],tileSize:256}});let ce=A()?await nL([A()],"preview"):[];(A()||b())&&(ce=[{id:"preview_base_layer_1",source:"preview_base_1",type:"raster",maxzoom:24,paint:{"raster-opacity":1,"raster-brightness-max":0,"raster-brightness-min":1}},{id:"preview_base_layer_2",type:"line",source:"preview_base_2","source-layer":"Cntr",minzoom:7,maxzoom:24,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#FFFFFF","line-width":1,"line-opacity":.6}},{id:"@overlay_layer",type:"background",paint:{"background-color":"#000000","background-opacity":A()||b()?.6:0}},...ce]);let Me=t()?{tile_index:{type:"vector",maxzoom:22,tiles:["tile_index://http://{z}/{x}/{y}.png?x={x}&y={y}&z={z}"]}}:{},Se=t()?[{id:"@tile_index_layer",type:"fill",source:"tile_index","source-layer":"geojsonLayer",maxzoom:22,paint:{"fill-color":"#000000","fill-opacity":0}},{id:"@tile_index_line_layer",type:"line",source:"tile_index","source-layer":"geojsonLayer",paint:{"line-color":"#000000","line-width":2}},{id:"tile_index_line_label",type:"symbol",source:"tile_index","source-layer":"geojsonLayer",paint:{"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":1,"text-opacity":1},layout:{"text-field":["to-string",["get","index"]],"text-font":["Noto Sans JP Regular"],"text-max-width":12,"text-size":24,"text-justify":"auto"}}]:[];const Le={source:"terrain",exaggeration:1};return{version:8,sprite:Hk,glyphs:zk,projection:{type:"mercator"},sources:{...te,street_view_node_sources:{type:"geojson",data:e.streetViewPointData},street_view_link_sources:{type:"geojson",data:e.streetViewLineData},...Me,...O,draw_source:{type:"geojson",data:e.drawGeojsonData,promoteId:"id"},...J,zone_bbox:{type:"geojson",data:{type:"FeatureCollection",features:[]}},search_result:{type:"geojson",data:e.searchGeojsonData||{type:"FeatureCollection",features:[]}}},layers:[{id:"@background_layer",type:"background",paint:{"background-opacity":1,"background-color":"#000"}},...ne,...Se,...ce,{id:"deck-reference-layer",type:"background",paint:{"background-opacity":0}},{id:"@zone_bbox_select",type:"fill",source:"zone_bbox",filter:["all",["==","$type","Polygon"],["==","code",e.selectedEpsgCode]],paint:{"fill-color":"red","fill-opacity":.5}},{id:"@zone_bbox",type:"line",source:"zone_bbox",filter:["==","$type","Polygon"],paint:{"line-color":"white","line-width":1}},{id:"@search_result",type:"symbol",source:"search_result",layout:{"text-allow-overlap":!0,"text-ignore-placement":!0,"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-image":"marker_png","icon-anchor":"bottom"}},{id:"@search_result_label",type:"symbol",source:"search_result",paint:{"text-color":"#000000","text-halo-color":"#e8e8e8","text-halo-width":2},layout:{"text-field":"{name}","text-size":11,"text-max-width":10,"text-font":["Noto Sans JP Regular"],"text-variable-anchor":["bottom-left","bottom-right"],"text-radial-offset":2,"text-justify":"auto"}}],sky:{"sky-color":"#2baeff","sky-horizon-blend":.5,"horizon-color":"#ffffff","horizon-fog-blend":.5,"fog-color":"#2222ff","fog-ground-blend":.5,"atmosphere-blend":["interpolate",["linear"],["zoom"],0,1,10,1,12,0]},transition:{duration:0,delay:0},terrain:r()?Le:void 0}};ni(async()=>{E(w)&&Dt.init(E(w))}),Ga(()=>{l()&&(l().remove(),l(null))});const X=Yy(async D=>{const O=D.filter(Se=>Se.type!=="model"),ne=await ie(O);Dt.setStyle(ne);const te=D.filter(Se=>Se.type==="model"&&Se.format.type==="3d-tiles"),J=await qHe(te);Dt.setDeckOverlay(J);const ce=D.filter(Se=>Se.type==="model"&&Se.format.type==="gltf"),Me=A()&&A().type==="model"&&A().style.type==="mesh"?A():null;Me?Dt.setThreeLayer([Me],"preview"):Dt.setThreeLayer(ce,"main"),Dt.terrainReload(),l()},100);on(()=>{IW(E(R)),X(e.layerEntries)}),Ho.subscribe(D=>{X(e.layerEntries)}),ud.subscribe(()=>{X(e.layerEntries)}),M3.subscribe(()=>{X(e.layerEntries)}),T3.subscribe(()=>{X(e.layerEntries)}),fd.subscribe(()=>{X(e.layerEntries)}),qC.subscribe(()=>{X(e.layerEntries)}),O1.subscribe(()=>{X(e.layerEntries)}),Dt.onTerrain(()=>{X(e.layerEntries)}),on(()=>{(e.searchGeojsonData||!e.searchGeojsonData)&&X(e.layerEntries)}),on(()=>{(A()||!A())&&(X(e.layerEntries),vl.setGroupVisibility(!A()))}),on(()=>{b(),X(e.layerEntries)});const ge=(D,O)=>{if(l()){if(!D||!O){ee(F,!1);return}D&&(ee(P,D.lngLat,!0),ee(S,O,!0),ee(F,!0))}};on(()=>{u()||(h(!1),C(null))}),Dt.onInitialized(D=>{l(D)});const K=D=>{D.preventDefault(),ee(W,!0)},N=D=>{D.preventDefault(),ee(W,!1)},H=async D=>{D.preventDefault(),ee(W,!1);const O=D.dataTransfer;if(!O)return;const ne=O.files;!ne||ne.length===0||m(ne)};var V=ZHe(),j=Je(V),le=q(j),de=q(le);{var he=D=>{kUe(D,{get map(){return l()},get showDataEntry(){return A()},get showZoneForm(){return b()},get featureMenuData(){return u()},set featureMenuData(O){u(O)},get showSelectionMarker(){return h()},set showSelectionMarker(O){h(O)}})};Te(de,D=>{l()&&D(he)})}$(le),qn(le,D=>ee(w,D),()=>E(w));var ue=oe(le,2);{var me=D=>{var O=XHe(),ne=Je(O),te=q(ne);xUe(te,{}),$(ne);var J=oe(ne,2);xCe(J,{});var ce=oe(J,2);OUe(ce),Z(D,O)};Te(ue,D=>{!i()&&!A()&&D(me)})}var _e=oe(ue,2);kCe(_e,{get layerEntries(){return e.layerEntries},clickedLngLat:M,get clickedLayerIds(){return E(U)},set clickedLayerIds(D){ee(U,D,!0)},get featureMenuData(){return u()},set featureMenuData(D){u(D)},get clickedLayerFeaturesData(){return E(re)},set clickedLayerFeaturesData(D){ee(re,D,!0)}}),$(j);var xe=oe(j,2);{var Re=D=>{var O=JHe(),ne=Je(O);wUe(ne,{get map(){return l()},get isDragover(){return E(W)},set isDragover(be){ee(W,be,!0)},get dropFile(){return m()},set dropFile(be){m(be)},get tempLayerEntries(){return c()},set tempLayerEntries(be){c(be)},get showDataEntry(){return A()},set showDataEntry(be){A(be)},get showDialogType(){return y()},set showDialogType(be){y(be)},get showZoneForm(){return b()},set showZoneForm(be){b(be)},get focusBbox(){return v()},set focusBbox(be){v(be)}});var te=oe(ne,2);BCe(te,{get map(){return l()}});var J=oe(te,2);FCe(J,{get showDataEntry(){return A()},get searchResults(){return e.searchResults},get streetViewPointData(){return e.streetViewPointData},get layerEntries(){return e.layerEntries},toggleTooltip:ge,get focusFeature(){return e.focusFeature},get markerLngLat(){return d()},set markerLngLat(be){d(be)},get featureMenuData(){return u()},set featureMenuData(be){u(be)},get showMarker(){return h()},set showMarker(be){h(be)},get clickedLayerIds(){return E(U)},set clickedLayerIds(be){ee(U,be,!0)},get cameraBearing(){return _()},set cameraBearing(be){_(be)},get isExternalCameraUpdate(){return B()},set isExternalCameraUpdate(be){B(be)},get contextMenuState(){return I()},set contextMenuState(be){I(be)}});var ce=oe(J,2);b3(ce,d,be=>{CCe(be,{get map(){return l()},get show(){return h()},set show(Fe){h(Fe)},get lngLat(){return d()},set lngLat(Fe){d(Fe)}})});var Me=oe(ce,2);{var Se=be=>{MCe(be,{get map(){return l()},get prop(){return e.selectedSearchResultData},get selectedSearchId(){return C()},set selectedSearchId(Fe){C(Fe)}})};Te(Me,be=>{e.selectedSearchResultData&&C()&&be(Se)})}var Le=oe(Me,2);TCe(Le,{get map(){return l()},get show(){return f()},set show(be){f(be)},get lngLat(){return g()},set lngLat(be){g(be)},get rotation(){return _()},set rotation(be){_(be)}});var He=oe(Le,2);b3(He,()=>E(F),be=>{OCe(be,{get map(){return l()},get feature(){return E(S)},get show(){return E(F)},set show(Fe){ee(F,Fe,!0)},get lngLat(){return E(P)},set lngLat(Fe){ee(P,Fe,!0)}})}),Z(D,O)};Te(xe,D=>{l()&&D(Re)})}Ye(()=>{Xt(j,1,`bg-main flex items-center justify-center overflow-hidden ${i()&&s()==="small"?"absolute transform border border-gray-300 max-lg:bottom-0 max-lg:h-1/2 max-lg:w-full lg:bottom-2 lg:left-2 lg:z-20 lg:h-[200px] lg:w-[300px] lg:rounded-lg":"relative h-full w-full grow"}`),Xt(le,1,`h-full w-full overflow-hidden bg-black transition-opacity lg:rounded-lg ${!e.showMapCanvas&&s()==="view"?"opacity-0":i()&&s()==="small"?"":"opacity-100"}`)}),Bn("drop",j,H),Bn("dragover",j,K),Bn("dragleave",j,N),Z(n,V),St(),o()}var tQe=we('<div class="fade-in svelte-7fe6d"> </div>'),nQe=we('<div class="flex items-center justify-end gap-2 svelte-7fe6d"><!> <button class="p-0.1 cursor-pointer rounded-full bg-gray-300 svelte-7fe6d"><!></button></div>');function rQe(n,e){Mt(e,!0);const t=()=>qt(JD,"$mapAttributions",r),[r,i]=Rr(),s=[""," OpenMapTiles"," OpenStreetMap contributors"," U.S. Geological Survey"];let a=Ot(()=>[...t(),...s]),o=Oe(0);const l=1e4;let c=null;function A(){c=setTimeout(()=>{ee(o,(E(o)+1)%E(a).length),A()},l)}ni(()=>{A()}),Ga(()=>{c&&clearTimeout(c)});const u=()=>{};var h=nQe(),f=q(h);b3(f,()=>E(o),_=>{var m=tQe(),y=q(m,!0);$(m),Ye(()=>yt(y,E(a)[E(o)])),Z(_,m)});var d=oe(f,2);d.__click=u;var g=q(d);Bt(g,{icon:"humbleicons:info",class:"text-main h-4 w-4"}),$(d),$(h),Z(n,h),St(),i()}Ln(["click"]);var iQe=we('<div class="bg-main relative w-full shrink-0 p-1 pr-4 text-end text-xs font-light text-white/80 max-lg:hidden"><!> <!></div>');function sQe(n){var e=iQe(),t=q(e);rQe(t,{});var r=oe(t,2);YG(r,{}),$(e),Z(n,e)}var aQe=we("<div> </div>");function oQe(n,e){Mt(e,!0);const t=()=>qt(Rb,"$notificationMessage",r),[r,i]=Rr();let s,a=Oe("");Rb.subscribe(A=>{A&&!A.persistent&&(clearTimeout(s),s=setTimeout(()=>{Rb.set(null)},3e3)),ee(a,(A==null?void 0:A.type)==="error"?"bg-red-500 text-base":(A==null?void 0:A.type)==="success"?"bg-[#348163] text-base":(A==null?void 0:A.type)==="info"?"bg-main text-base":(A==null?void 0:A.type)==="warning"?"bg-yellow-500 text-base":"bg-main text-base",!0)}),ni(()=>()=>{clearTimeout(s)});var o=xt(),l=Je(o);{var c=A=>{var u=aQe(),h=q(u,!0);$(u),Ye(()=>{Xt(u,1,`pointer-events-none absolute right-0 top-[100px] z-30 grid place-items-center rounded-l-lg px-6 py-2 shadow-md ${E(a)??""}`),yt(h,t().message)}),Yt(3,u,()=>br,()=>({duration:300,x:200})),Z(A,u)};Te(l,A=>{t()&&A(c)})}Z(n,o),St(),i()}var lQe=we('<button class="c-btn-confirm pointer-events-auto px-6 text-lg svelte-pzzi2b"></button>'),cQe=we('<div class="items-cente pointer-events-none absolute bottom-12 z-20 flex w-full justify-center svelte-pzzi2b"><div class="relative svelte-pzzi2b"><div class="c-ripple-effect absolute top-0 flex h-full w-full flex-col gap-4 rounded-lg border-2 svelte-pzzi2b"></div> <div class="c-ripple-effect2 absolute top-0 flex h-full w-full flex-col gap-4 rounded-lg border-2 svelte-pzzi2b"></div> <div class="border-1 absolute top-0 flex h-full w-full flex-col gap-4 rounded-lg svelte-pzzi2b"></div> <div class="border-sub border-1 flex flex-col gap-4 rounded-lg bg-black p-6 svelte-pzzi2b"><span class="w-full text-center text-base svelte-pzzi2b"></span> <div class="flex gap-4 svelte-pzzi2b"><button class="c-btn-sub pointer-events-auto px-4 text-lg svelte-pzzi2b"></button> <!></div></div></div></div>');function AQe(n,e){Mt(e,!0);const[t,r]=Rr();let i=Ne(e,"showDataEntry",15),s=Ne(e,"tempLayerEntries",15);const a=()=>{if(i()){const g={...i()};i(null),N0.some(m=>m.id===g.id)||s([...s(),g]);const _=R0(g);if(!_){ci(`: ${g.id}`,"error");return}ba.addType(g.id,_),ba.add(g.id),ci(`${g.metaData.name}`,"success"),vi.set(!1),Na()&&xr(Bl,"map")}},o=()=>{i()&&(ba.remove(i().id),i(null))};var l=cQe(),c=q(l),A=oe(q(c),6),u=oe(q(A),2),h=q(u);h.__click=o;var f=oe(h,2);{var d=g=>{var _=lQe();_.__click=a,Z(g,_)};Te(f,g=>{i()&&g(d)})}$(u),$(A),$(c),$(l),Yt(3,l,()=>br,()=>({duration:200,y:100,opacity:0})),Z(n,l),St(),r()}Ln(["click"]);/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:VV,setPrototypeOf:sk,isFrozen:uQe,getPrototypeOf:fQe,getOwnPropertyDescriptor:hQe}=Object;let{freeze:va,seal:ll,create:PL}=Object,{apply:DL,construct:OL}=typeof Reflect<"u"&&Reflect;va||(va=function(e){return e});ll||(ll=function(e){return e});DL||(DL=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(t,i)});OL||(OL=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return new e(...r)});const Z4=wa(Array.prototype.forEach),dQe=wa(Array.prototype.lastIndexOf),ak=wa(Array.prototype.pop),W2=wa(Array.prototype.push),gQe=wa(Array.prototype.splice),Ym=wa(String.prototype.toLowerCase),Iw=wa(String.prototype.toString),Tw=wa(String.prototype.match),q2=wa(String.prototype.replace),pQe=wa(String.prototype.indexOf),_Qe=wa(String.prototype.trim),xl=wa(Object.prototype.hasOwnProperty),ha=wa(RegExp.prototype.test),X2=mQe(TypeError);function wa(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return DL(n,e,r)}}function mQe(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return OL(n,t)}}function Hn(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ym;sk&&sk(n,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=t(i);s!==i&&(uQe(e)||(e[r]=s),i=s)}n[i]=!0}return n}function yQe(n){for(let e=0;e<n.length;e++)xl(n,e)||(n[e]=null);return n}function f0(n){const e=PL(null);for(const[t,r]of VV(n))xl(n,t)&&(Array.isArray(r)?e[t]=yQe(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=f0(r):e[t]=r);return e}function J2(n,e){for(;n!==null;){const r=hQe(n,e);if(r){if(r.get)return wa(r.get);if(typeof r.value=="function")return wa(r.value)}n=fQe(n)}function t(){return null}return t}const ok=va(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Mw=va(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Sw=va(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bQe=va(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Fw=va(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),vQe=va(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),lk=va(["#text"]),ck=va(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Uw=va(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ak=va(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),em=va(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wQe=ll(/\{\{[\w\W]*|[\w\W]*\}\}/gm),LQe=ll(/<%[\w\W]*|[\w\W]*%>/gm),xQe=ll(/\$\{[\w\W]*/gm),RQe=ll(/^data-[\-\w.\u00B7-\uFFFF]+$/),BQe=ll(/^aria-[\-\w]+$/),KV=ll(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),EQe=ll(/^(?:\w+script|data):/i),CQe=ll(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$V=ll(/^html$/i),IQe=ll(/^[a-z][.\w]*(-[.\w]+)+$/i);var uk=Object.freeze({__proto__:null,ARIA_ATTR:BQe,ATTR_WHITESPACE:CQe,CUSTOM_ELEMENT:IQe,DATA_ATTR:RQe,DOCTYPE_NAME:$V,ERB_EXPR:LQe,IS_ALLOWED_URI:KV,IS_SCRIPT_OR_DATA:EQe,MUSTACHE_EXPR:wQe,TMPLIT_EXPR:xQe});const Z2={element:1,text:3,progressingInstruction:7,comment:8,document:9},TQe=function(){return typeof window>"u"?null:window},MQe=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},fk=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function WV(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:TQe();const e=An=>WV(An);if(e.version="3.3.0",e.removed=[],!n||!n.document||n.document.nodeType!==Z2.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const r=t,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:c,NamedNodeMap:A=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:u,DOMParser:h,trustedTypes:f}=n,d=l.prototype,g=J2(d,"cloneNode"),_=J2(d,"remove"),m=J2(d,"nextSibling"),y=J2(d,"childNodes"),b=J2(d,"parentNode");if(typeof a=="function"){const An=t.createElement("template");An.content&&An.content.ownerDocument&&(t=An.content.ownerDocument)}let v,B="";const{implementation:C,createNodeIterator:I,createDocumentFragment:R,getElementsByTagName:w}=t,{importNode:U}=r;let M=fk();e.isSupported=typeof VV=="function"&&typeof b=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:F,ERB_EXPR:P,TMPLIT_EXPR:S,DATA_ATTR:W,ARIA_ATTR:re,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:ie,CUSTOM_ELEMENT:X}=uk;let{IS_ALLOWED_URI:ge}=uk,K=null;const N=Hn({},[...ok,...Mw,...Sw,...Fw,...lk]);let H=null;const V=Hn({},[...ck,...Uw,...Ak,...em]);let j=Object.seal(PL(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),le=null,de=null;const he=Object.seal(PL(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ue=!0,me=!0,_e=!1,xe=!0,Re=!1,D=!0,O=!1,ne=!1,te=!1,J=!1,ce=!1,Me=!1,Se=!0,Le=!1;const He="user-content-";let be=!0,Fe=!1,Qe={},Ge=null;const nt=Hn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ke=null;const De=Hn({},["audio","video","img","source","image","track"]);let At=null;const kt=Hn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),rt="http://www.w3.org/1998/Math/MathML",Nt="http://www.w3.org/2000/svg",ot="http://www.w3.org/1999/xhtml";let Rt=ot,Tt=!1,Jt=null;const wt=Hn({},[rt,Nt,ot],Iw);let It=Hn({},["mi","mo","mn","ms","mtext"]),tn=Hn({},["annotation-xml"]);const rn=Hn({},["title","style","font","a","script"]);let Vt=null;const Dn=["application/xhtml+xml","text/html"],Wt="text/html";let Ue=null,gt=null;const at=t.createElement("form"),lt=function(ze){return ze instanceof RegExp||ze instanceof Function},Pt=function(){let ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(gt&&gt===ze)){if((!ze||typeof ze!="object")&&(ze={}),ze=f0(ze),Vt=Dn.indexOf(ze.PARSER_MEDIA_TYPE)===-1?Wt:ze.PARSER_MEDIA_TYPE,Ue=Vt==="application/xhtml+xml"?Iw:Ym,K=xl(ze,"ALLOWED_TAGS")?Hn({},ze.ALLOWED_TAGS,Ue):N,H=xl(ze,"ALLOWED_ATTR")?Hn({},ze.ALLOWED_ATTR,Ue):V,Jt=xl(ze,"ALLOWED_NAMESPACES")?Hn({},ze.ALLOWED_NAMESPACES,Iw):wt,At=xl(ze,"ADD_URI_SAFE_ATTR")?Hn(f0(kt),ze.ADD_URI_SAFE_ATTR,Ue):kt,ke=xl(ze,"ADD_DATA_URI_TAGS")?Hn(f0(De),ze.ADD_DATA_URI_TAGS,Ue):De,Ge=xl(ze,"FORBID_CONTENTS")?Hn({},ze.FORBID_CONTENTS,Ue):nt,le=xl(ze,"FORBID_TAGS")?Hn({},ze.FORBID_TAGS,Ue):f0({}),de=xl(ze,"FORBID_ATTR")?Hn({},ze.FORBID_ATTR,Ue):f0({}),Qe=xl(ze,"USE_PROFILES")?ze.USE_PROFILES:!1,ue=ze.ALLOW_ARIA_ATTR!==!1,me=ze.ALLOW_DATA_ATTR!==!1,_e=ze.ALLOW_UNKNOWN_PROTOCOLS||!1,xe=ze.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Re=ze.SAFE_FOR_TEMPLATES||!1,D=ze.SAFE_FOR_XML!==!1,O=ze.WHOLE_DOCUMENT||!1,J=ze.RETURN_DOM||!1,ce=ze.RETURN_DOM_FRAGMENT||!1,Me=ze.RETURN_TRUSTED_TYPE||!1,te=ze.FORCE_BODY||!1,Se=ze.SANITIZE_DOM!==!1,Le=ze.SANITIZE_NAMED_PROPS||!1,be=ze.KEEP_CONTENT!==!1,Fe=ze.IN_PLACE||!1,ge=ze.ALLOWED_URI_REGEXP||KV,Rt=ze.NAMESPACE||ot,It=ze.MATHML_TEXT_INTEGRATION_POINTS||It,tn=ze.HTML_INTEGRATION_POINTS||tn,j=ze.CUSTOM_ELEMENT_HANDLING||{},ze.CUSTOM_ELEMENT_HANDLING&&lt(ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ze.CUSTOM_ELEMENT_HANDLING&&lt(ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ze.CUSTOM_ELEMENT_HANDLING&&typeof ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(j.allowCustomizedBuiltInElements=ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Re&&(me=!1),ce&&(J=!0),Qe&&(K=Hn({},lk),H=[],Qe.html===!0&&(Hn(K,ok),Hn(H,ck)),Qe.svg===!0&&(Hn(K,Mw),Hn(H,Uw),Hn(H,em)),Qe.svgFilters===!0&&(Hn(K,Sw),Hn(H,Uw),Hn(H,em)),Qe.mathMl===!0&&(Hn(K,Fw),Hn(H,Ak),Hn(H,em))),ze.ADD_TAGS&&(typeof ze.ADD_TAGS=="function"?he.tagCheck=ze.ADD_TAGS:(K===N&&(K=f0(K)),Hn(K,ze.ADD_TAGS,Ue))),ze.ADD_ATTR&&(typeof ze.ADD_ATTR=="function"?he.attributeCheck=ze.ADD_ATTR:(H===V&&(H=f0(H)),Hn(H,ze.ADD_ATTR,Ue))),ze.ADD_URI_SAFE_ATTR&&Hn(At,ze.ADD_URI_SAFE_ATTR,Ue),ze.FORBID_CONTENTS&&(Ge===nt&&(Ge=f0(Ge)),Hn(Ge,ze.FORBID_CONTENTS,Ue)),be&&(K["#text"]=!0),O&&Hn(K,["html","head","body"]),K.table&&(Hn(K,["tbody"]),delete le.tbody),ze.TRUSTED_TYPES_POLICY){if(typeof ze.TRUSTED_TYPES_POLICY.createHTML!="function")throw X2('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ze.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw X2('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=ze.TRUSTED_TYPES_POLICY,B=v.createHTML("")}else v===void 0&&(v=MQe(f,i)),v!==null&&typeof B=="string"&&(B=v.createHTML(""));va&&va(ze),gt=ze}},Ht=Hn({},[...Mw,...Sw,...bQe]),gn=Hn({},[...Fw,...vQe]),Kt=function(ze){let Et=b(ze);(!Et||!Et.tagName)&&(Et={namespaceURI:Rt,tagName:"template"});const en=Ym(ze.tagName),Br=Ym(Et.tagName);return Jt[ze.namespaceURI]?ze.namespaceURI===Nt?Et.namespaceURI===ot?en==="svg":Et.namespaceURI===rt?en==="svg"&&(Br==="annotation-xml"||It[Br]):!!Ht[en]:ze.namespaceURI===rt?Et.namespaceURI===ot?en==="math":Et.namespaceURI===Nt?en==="math"&&tn[Br]:!!gn[en]:ze.namespaceURI===ot?Et.namespaceURI===Nt&&!tn[Br]||Et.namespaceURI===rt&&!It[Br]?!1:!gn[en]&&(rn[en]||!Ht[en]):!!(Vt==="application/xhtml+xml"&&Jt[ze.namespaceURI]):!1},sn=function(ze){W2(e.removed,{element:ze});try{b(ze).removeChild(ze)}catch{_(ze)}},ln=function(ze,Et){try{W2(e.removed,{attribute:Et.getAttributeNode(ze),from:Et})}catch{W2(e.removed,{attribute:null,from:Et})}if(Et.removeAttribute(ze),ze==="is")if(J||ce)try{sn(Et)}catch{}else try{Et.setAttribute(ze,"")}catch{}},yn=function(ze){let Et=null,en=null;if(te)ze="<remove></remove>"+ze;else{const Kr=Tw(ze,/^[\r\n\t ]+/);en=Kr&&Kr[0]}Vt==="application/xhtml+xml"&&Rt===ot&&(ze='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ze+"</body></html>");const Br=v?v.createHTML(ze):ze;if(Rt===ot)try{Et=new h().parseFromString(Br,Vt)}catch{}if(!Et||!Et.documentElement){Et=C.createDocument(Rt,"template",null);try{Et.documentElement.innerHTML=Tt?B:Br}catch{}}const hi=Et.body||Et.documentElement;return ze&&en&&hi.insertBefore(t.createTextNode(en),hi.childNodes[0]||null),Rt===ot?w.call(Et,O?"html":"body")[0]:O?Et.documentElement:hi},Xn=function(ze){return I.call(ze.ownerDocument||ze,ze,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},ur=function(ze){return ze instanceof u&&(typeof ze.nodeName!="string"||typeof ze.textContent!="string"||typeof ze.removeChild!="function"||!(ze.attributes instanceof A)||typeof ze.removeAttribute!="function"||typeof ze.setAttribute!="function"||typeof ze.namespaceURI!="string"||typeof ze.insertBefore!="function"||typeof ze.hasChildNodes!="function")},Mr=function(ze){return typeof o=="function"&&ze instanceof o};function Jn(An,ze,Et){Z4(An,en=>{en.call(e,ze,Et,gt)})}const Vr=function(ze){let Et=null;if(Jn(M.beforeSanitizeElements,ze,null),ur(ze))return sn(ze),!0;const en=Ue(ze.nodeName);if(Jn(M.uponSanitizeElement,ze,{tagName:en,allowedTags:K}),D&&ze.hasChildNodes()&&!Mr(ze.firstElementChild)&&ha(/<[/\w!]/g,ze.innerHTML)&&ha(/<[/\w!]/g,ze.textContent)||ze.nodeType===Z2.progressingInstruction||D&&ze.nodeType===Z2.comment&&ha(/<[/\w]/g,ze.data))return sn(ze),!0;if(!(he.tagCheck instanceof Function&&he.tagCheck(en))&&(!K[en]||le[en])){if(!le[en]&&pn(en)&&(j.tagNameCheck instanceof RegExp&&ha(j.tagNameCheck,en)||j.tagNameCheck instanceof Function&&j.tagNameCheck(en)))return!1;if(be&&!Ge[en]){const Br=b(ze)||ze.parentNode,hi=y(ze)||ze.childNodes;if(hi&&Br){const Kr=hi.length;for(let rs=Kr-1;rs>=0;--rs){const di=g(hi[rs],!0);di.__removalCount=(ze.__removalCount||0)+1,Br.insertBefore(di,m(ze))}}}return sn(ze),!0}return ze instanceof l&&!Kt(ze)||(en==="noscript"||en==="noembed"||en==="noframes")&&ha(/<\/no(script|embed|frames)/i,ze.innerHTML)?(sn(ze),!0):(Re&&ze.nodeType===Z2.text&&(Et=ze.textContent,Z4([F,P,S],Br=>{Et=q2(Et,Br," ")}),ze.textContent!==Et&&(W2(e.removed,{element:ze.cloneNode()}),ze.textContent=Et)),Jn(M.afterSanitizeElements,ze,null),!1)},ct=function(ze,Et,en){if(Se&&(Et==="id"||Et==="name")&&(en in t||en in at))return!1;if(!(me&&!de[Et]&&ha(W,Et))){if(!(ue&&ha(re,Et))){if(!(he.attributeCheck instanceof Function&&he.attributeCheck(Et,ze))){if(!H[Et]||de[Et]){if(!(pn(ze)&&(j.tagNameCheck instanceof RegExp&&ha(j.tagNameCheck,ze)||j.tagNameCheck instanceof Function&&j.tagNameCheck(ze))&&(j.attributeNameCheck instanceof RegExp&&ha(j.attributeNameCheck,Et)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(Et,ze))||Et==="is"&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&ha(j.tagNameCheck,en)||j.tagNameCheck instanceof Function&&j.tagNameCheck(en))))return!1}else if(!At[Et]){if(!ha(ge,q2(en,ie,""))){if(!((Et==="src"||Et==="xlink:href"||Et==="href")&&ze!=="script"&&pQe(en,"data:")===0&&ke[ze])){if(!(_e&&!ha(G,q2(en,ie,"")))){if(en)return!1}}}}}}}return!0},pn=function(ze){return ze!=="annotation-xml"&&Tw(ze,X)},ys=function(ze){Jn(M.beforeSanitizeAttributes,ze,null);const{attributes:Et}=ze;if(!Et||ur(ze))return;const en={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let Br=Et.length;for(;Br--;){const hi=Et[Br],{name:Kr,namespaceURI:rs,value:di}=hi,xo=Ue(Kr),q0=di;let ai=Kr==="value"?q0:_Qe(q0);if(en.attrName=xo,en.attrValue=ai,en.keepAttr=!0,en.forceKeepAttr=void 0,Jn(M.uponSanitizeAttribute,ze,en),ai=en.attrValue,Le&&(xo==="id"||xo==="name")&&(ln(Kr,ze),ai=He+ai),D&&ha(/((--!?|])>)|<\/(style|title|textarea)/i,ai)){ln(Kr,ze);continue}if(xo==="attributename"&&Tw(ai,"href")){ln(Kr,ze);continue}if(en.forceKeepAttr)continue;if(!en.keepAttr){ln(Kr,ze);continue}if(!xe&&ha(/\/>/i,ai)){ln(Kr,ze);continue}Re&&Z4([F,P,S],wu=>{ai=q2(ai,wu," ")});const vu=Ue(ze.nodeName);if(!ct(vu,xo,ai)){ln(Kr,ze);continue}if(v&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!rs)switch(f.getAttributeType(vu,xo)){case"TrustedHTML":{ai=v.createHTML(ai);break}case"TrustedScriptURL":{ai=v.createScriptURL(ai);break}}if(ai!==q0)try{rs?ze.setAttributeNS(rs,Kr,ai):ze.setAttribute(Kr,ai),ur(ze)?sn(ze):ak(e.removed)}catch{ln(Kr,ze)}}Jn(M.afterSanitizeAttributes,ze,null)},Jr=function An(ze){let Et=null;const en=Xn(ze);for(Jn(M.beforeSanitizeShadowDOM,ze,null);Et=en.nextNode();)Jn(M.uponSanitizeShadowNode,Et,null),Vr(Et),ys(Et),Et.content instanceof s&&An(Et.content);Jn(M.afterSanitizeShadowDOM,ze,null)};return e.sanitize=function(An){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Et=null,en=null,Br=null,hi=null;if(Tt=!An,Tt&&(An="<!-->"),typeof An!="string"&&!Mr(An))if(typeof An.toString=="function"){if(An=An.toString(),typeof An!="string")throw X2("dirty is not a string, aborting")}else throw X2("toString is not a function");if(!e.isSupported)return An;if(ne||Pt(ze),e.removed=[],typeof An=="string"&&(Fe=!1),Fe){if(An.nodeName){const di=Ue(An.nodeName);if(!K[di]||le[di])throw X2("root node is forbidden and cannot be sanitized in-place")}}else if(An instanceof o)Et=yn("<!---->"),en=Et.ownerDocument.importNode(An,!0),en.nodeType===Z2.element&&en.nodeName==="BODY"||en.nodeName==="HTML"?Et=en:Et.appendChild(en);else{if(!J&&!Re&&!O&&An.indexOf("<")===-1)return v&&Me?v.createHTML(An):An;if(Et=yn(An),!Et)return J?null:Me?B:""}Et&&te&&sn(Et.firstChild);const Kr=Xn(Fe?An:Et);for(;Br=Kr.nextNode();)Vr(Br),ys(Br),Br.content instanceof s&&Jr(Br.content);if(Fe)return An;if(J){if(ce)for(hi=R.call(Et.ownerDocument);Et.firstChild;)hi.appendChild(Et.firstChild);else hi=Et;return(H.shadowroot||H.shadowrootmode)&&(hi=U.call(r,hi,!0)),hi}let rs=O?Et.outerHTML:Et.innerHTML;return O&&K["!doctype"]&&Et.ownerDocument&&Et.ownerDocument.doctype&&Et.ownerDocument.doctype.name&&ha($V,Et.ownerDocument.doctype.name)&&(rs="<!DOCTYPE "+Et.ownerDocument.doctype.name+`>
`+rs),Re&&Z4([F,P,S],di=>{rs=q2(rs,di," ")}),v&&Me?v.createHTML(rs):rs},e.setConfig=function(){let An=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Pt(An),ne=!0},e.clearConfig=function(){gt=null,ne=!1},e.isValidAttribute=function(An,ze,Et){gt||Pt({});const en=Ue(An),Br=Ue(ze);return ct(en,Br,Et)},e.addHook=function(An,ze){typeof ze=="function"&&W2(M[An],ze)},e.removeHook=function(An,ze){if(ze!==void 0){const Et=dQe(M[An],ze);return Et===-1?void 0:gQe(M[An],Et,1)[0]}return ak(M[An])},e.removeHooks=function(An){M[An]=[]},e.removeAllHooks=function(){M=fk()},e}var qV=WV();const SQe=Object.freeze(Object.defineProperty({__proto__:null,default:qV},Symbol.toStringTag,{value:"Module"}));var FQe=we('<div class="bounded-full bg-base absolute bottom-1 right-1 aspect-square rounded-full border-2 border-gray-900 p-2 text-black"><!></div>'),UQe=we('<a class="c-btn-confirm mt-4 flex select-none items-center justify-start gap-2 rounded-full p-2 px-4" target="_blank" rel="noopener noreferrer"><!> <span></span></a>'),NQe=we('<div class="grid aspect-square place-items-center [&amp;_path]:fill-white"><!></div>'),kQe=we('<div class="[&amp;_path]:fill-base grid aspect-square w-full place-items-center"><!></div>'),PQe=we('<div class="grid aspect-square w-full place-items-center"><!></div>'),DQe=we('<div class="grid aspect-square w-full place-items-center"><!></div>'),OQe=we(" <br/>",1),zQe=we('<div class="rounded-lg p-2 text-justify text-sm"><!> <!></div>'),HQe=we('<span class="rounded-lg bg-black p-1 px-2 text-sm"> </span>'),QQe=we('<div class="bg-main lg:w-side-menu absolute left-0 top-0 z-20 flex h-full flex-col gap-2 overflow-hidden px-2 max-lg:hidden"><div class="flex w-full justify-start gap-2 p-2 py-4"><!> <span class="select-none text-base text-lg max-lg:hidden"></span></div> <div class="flex h-full flex-col text-base"><div class="relative flex flex-col items-center gap-2 pb-8"><div class="relative isolate grid h-[180px] w-[180px] shrink-0 place-items-center rounded-full bg-black drop-shadow-[0_0_2px_rgba(0,0,0,0.5)]"><!> <!></div> <div class="flex flex-col items-center gap-2"><div class="text-2xl"> </div> <span class="text-gray-300"> </span> <!></div> <div class="absolute -z-10 grid w-full place-items-center opacity-15"><!> <!> <!> <!></div></div> <div class="c-scroll gap-2 overflow-y-auto overflow-x-hidden"><!> <div class="mb-2 flex gap-2"><!> <span> </span></div> <div class="flex gap-2 py-2"><div class="flex gap-1"><!></div> <div class="flex items-center gap-1 text-gray-300"></div></div></div></div></div>');function jQe(n,e){Mt(e,!0);const t=l=>{const c=l.replace(/^\n+/,""),A=/(https?:\/\/[^\s\]>,]+)/g,h=c.replace(A,f=>`<a href="${f}" target="_blank" rel="noopener noreferrer">${f}</a>`).replace(/\n/g,"<br>");return qV.sanitize(h,{ALLOWED_TAGS:["a","br"],ALLOWED_ATTR:["href","target","rel"]})};let r=Ot(()=>{if(e.showDataEntry)return gB(e.showDataEntry.metaData.location)}),i=Ot(()=>{if(e.showDataEntry)return R0(e.showDataEntry)});on(()=>{if(e.showDataEntry){const l=Dt.getMapBounds();gH(l,e.showDataEntry.metaData.bounds)||Dt.focusLayer(e.showDataEntry)}});var s=xt(),a=Je(s);{var o=l=>{var c=QQe(),A=q(c),u=q(A);Bt(u,{icon:"akar-icons:eye",class:"h-7 w-7 text-base"}),jn(2),$(A);var h=oe(A,2),f=q(h),d=q(f),g=q(d);M6(g,{get layerEntry(){return e.showDataEntry}});var _=oe(g,2);{var m=ue=>{var me=FQe(),_e=q(me);{let xe=Ot(()=>Jy(E(i)));Bt(_e,{get icon(){return E(xe)},class:"h-7 w-7"})}$(me),Z(ue,me)};Te(_,ue=>{E(i)&&ue(m)})}$(d);var y=oe(d,2),b=q(y),v=q(b,!0);$(b);var B=oe(b,2),C=q(B,!0);$(B);var I=oe(B,2);{var R=ue=>{var me=UQe(),_e=q(me);Bt(_e,{icon:"majesticons:open",class:"h-6 w-6"}),jn(2),$(me),Ye(()=>{var xe;return pt(me,"href",(xe=e.showDataEntry)==null?void 0:xe.metaData.downloadUrl)}),Z(ue,me)};Te(I,ue=>{var me;(me=e.showDataEntry)!=null&&me.metaData.downloadUrl&&ue(R)})}$(y);var w=oe(y,2),U=q(w);{var M=ue=>{var me=NQe(),_e=q(me);_B(_e,{width:"100%"}),$(me),Z(ue,me)};Te(U,ue=>{e.showDataEntry.metaData.location===""&&ue(M)})}var F=oe(U,2);{var P=ue=>{var me=kQe(),_e=q(me);pB(_e,{width:"100%",get code(){return E(r)}}),$(me),Z(ue,me)};Te(F,ue=>{E(r)&&ue(P)})}var S=oe(F,2);{var W=ue=>{var me=PQe(),_e=q(me);Bt(_e,{icon:"emojione-monotone:map-of-japan",class:"h-full w-full text-base"}),$(me),Z(ue,me)};Te(S,ue=>{e.showDataEntry.metaData.location===""&&ue(W)})}var re=oe(S,2);{var G=ue=>{var me=DQe(),_e=q(me);Bt(_e,{icon:"fxemoji:worldmap",class:"[&_path]:fill-base h-full w-full"}),$(me),Z(ue,me)};Te(re,ue=>{e.showDataEntry.metaData.location===""&&ue(G)})}$(w),$(f);var ie=oe(f,2),X=q(ie);{var ge=ue=>{var me=xt(),_e=Je(me);{var xe=Re=>{var D=zQe(),O=q(D);{var ne=ce=>{var Me=OQe(),Se=Je(Me);jn(),Ye(()=>{var Le;return yt(Se,`:${((Le=e.showDataEntry)==null?void 0:Le.metaData.sourceDataName)??""}`)}),Z(ce,Me)};Te(O,ce=>{var Me;(Me=e.showDataEntry)!=null&&Me.metaData.sourceDataName&&ce(ne)})}var te=oe(O,2);{var J=ce=>{var Me=xt(),Se=Je(Me);F$(Se,()=>{var Le;return t((Le=e.showDataEntry)==null?void 0:Le.metaData.description)}),Z(ce,Me)};Te(te,ce=>{var Me;(Me=e.showDataEntry)!=null&&Me.metaData.description&&ce(J)})}$(D),Z(Re,D)};Te(_e,Re=>{e.showDataEntry&&Re(xe)})}Z(ue,me)};Te(X,ue=>{(e.showDataEntry.metaData.description||e.showDataEntry.metaData.sourceDataName)&&ue(ge)})}var K=oe(X,2),N=q(K);Bt(N,{icon:"tabler:map-pin",class:"h-6 w-6"});var H=oe(N,2),V=q(H,!0);$(H),$(K);var j=oe(K,2),le=q(j),de=q(le);Bt(de,{icon:"tabler:tag-filled",class:"h-6 w-6"}),$(le);var he=oe(le,2);Fn(he,21,()=>{var ue;return(ue=e.showDataEntry)==null?void 0:ue.metaData.tags},wi,(ue,me)=>{var _e=HQe(),xe=q(_e,!0);$(_e),Ye(()=>yt(xe,E(me))),Z(ue,_e)}),$(he),$(j),$(ie),$(h),$(c),Ye(ue=>{var me,_e;yt(v,(me=e.showDataEntry)==null?void 0:me.metaData.name),yt(C,ue),yt(V,(_e=e.showDataEntry)==null?void 0:_e.metaData.location)},[()=>{var ue;return sB((ue=e.showDataEntry)==null?void 0:ue.metaData.attribution)}]),Yt(3,c,()=>br,()=>({duration:300,x:-100,opacity:0})),Z(l,c)};Te(a,l=>{e.showDataEntry&&l(o)})}Z(n,s),St()}var YQe=we('<img alt="Icon" class="h-12 w-12 rounded-full object-cover"/>'),GQe=we('<div class="grid h-12 w-12 place-items-center"><!></div>'),VQe=we('<div class="grid shrink-0 place-items-center overflow-hidden"><!></div> <div class="flex w-full flex-col justify-center gap-[1px] overflow-hidden"><span class="truncate"> </span> <span class="text-xs text-gray-400"> </span></div>',1),KQe=we('<div class="grid shrink-0 place-items-center overflow-hidden"><div class="grid h-12 w-12 place-items-center"><!></div></div> <div class="flex w-full flex-col justify-center gap-[1px] overflow-hidden"><span class="truncate"> </span> <span class="text-xs text-gray-400"> </span></div>',1),$Qe=we("<button><!></button>"),WQe=we('<div class="c-scroll flex grow flex-col gap-3 overflow-y-auto overflow-x-hidden px-2 pb-4"><!> <div class="h-[200px] w-full shrink-0"></div></div>'),qQe=we('<div class="w-side-menu bg-main absolute z-10 flex h-full flex-col gap-2"><div class="flex w-full items-center p-4 text-base"><span class="text-2xl"></span> <button class="bg-base ml-auto cursor-pointer rounded-full p-2 shadow-md"><!></button></div> <!></div>');function XQe(n,e){Mt(e,!0);const t=()=>qt(YA,"$showSearchMenu",r),[r,i]=Rr();let s=Ne(e,"searchResults",15),a=Ne(e,"searchGeojsonData",15),o;ni(async()=>{o=await fetch(`${WL}/search_data.json`).then(h=>h.json()).then(h=>h).catch(h=>{console.error("Error fetching search data:",h)}),o.forEach(h=>{h.layer_id})});const l=()=>{xr(YA,!1),s(null),a(null)};on(()=>{if(s()&&s().length>0){const h={type:"FeatureCollection",features:s().map(d=>{let g;if(d.type==="poi"||d.type==="address")return d.type==="poi"?g={id:d.id,name:d.name,location:d.location,layerId:d.layerId,featureId:d.featureId,propId:d.propId}:d.type==="address"&&(g={id:d.id,name:d.name,location:d.location,propId:null}),{id:d.id,type:"Feature",geometry:{type:"Point",coordinates:d.point},properties:g}})};a(h);const f=g5(h);Dt.fitBounds(f,{duration:500,padding:100}),gc.set(!1)}else l()}),YA.subscribe(h=>{h||l()}),vi.subscribe(h=>{h&&l()}),ma.subscribe(h=>{h&&l()}),on(()=>{e.showSelectionMarker&&gc.set(!1)});var c=xt(),A=Je(c);{var u=h=>{var f=qQe(),d=q(f),g=oe(q(d),2);g.__click=l;var _=q(g);Bt(_,{icon:"material-symbols:close-rounded",class:"text-main h-5 w-5"}),$(g),$(d);var m=oe(d,2);{var y=b=>{var v=WQe(),B=q(v);Fn(B,16,s,C=>C,(C,I)=>{var R=$Qe();R.__click=()=>e.focusFeature(I);var w=q(R);{var U=F=>{var P=VQe(),S=Je(P),W=q(S);{var re=H=>{var V=YQe();Ye(()=>pt(V,"src",`${qL}/${I.propId}.webp`)),Z(H,V)},G=H=>{var V=GQe(),j=q(V);Bt(j,{icon:"lucide:map-pin",class:"h-8 w-8 shrink-0 text-base"}),$(V),Z(H,V)};Te(W,H=>{I.propId&&wd[I.propId]&&wd[I.propId].image?H(re):H(G,!1)})}$(S);var ie=oe(S,2),X=q(ie),ge=q(X,!0);$(X);var K=oe(X,2),N=q(K,!0);$(K),$(ie),Ye(()=>{yt(ge,I.name),yt(N,I.location??"---")}),Z(F,P)},M=F=>{var P=xt(),S=Je(P);{var W=re=>{var G=KQe(),ie=Je(G),X=q(ie),ge=q(X);Bt(ge,{icon:"lucide:map-pin",class:"h-8 w-8 shrink-0 text-base"}),$(X),$(ie);var K=oe(ie,2),N=q(K),H=q(N,!0);$(N);var V=oe(N,2),j=q(V,!0);$(V),$(K),Ye(()=>{yt(H,I.name),yt(j,I.location??"---")}),Z(re,G)};Te(S,re=>{I.type==="address"&&re(W)},!0)}Z(F,P)};Te(w,F=>{I.type==="poi"?F(U):F(M,!1)})}$(R),Ye(()=>Xt(R,1,`border-1 border-sub flex w-full shrink-0 cursor-pointer items-center justify-center gap-2 rounded-full bg-black p-2 text-left text-base ${I.id&&e.selectedSearchId===I.id?"bg-accent":""}`)),Z(C,R)}),jn(2),$(v),Z(b,v)};Te(m,b=>{s()&&b(y)})}$(f),Yt(3,f,()=>br,()=>({duration:200,x:-100,opacity:0,delay:100})),Z(h,f)};Te(A,h=>{t()&&h(u)})}Z(n,c),St(),i()}Ln(["click"]);const Nw=(n,e)=>{const r=n*Math.PI/180*6378137,i=Math.log(Math.tan((90+e)*Math.PI/360))*6378137;return{x:r,y:i}},JQe=(n,e,t,r=4326)=>{n.getBearing();const i=n.getCanvas(),s=n.unproject([0,0]),a=n.unproject([i.width,0]),o=n.unproject([0,i.height]);let l,c,A,u,h,f;if(r===3857){const v=Nw(s.lng,s.lat),B=Nw(a.lng,a.lat),C=Nw(o.lng,o.lat);l=v.x,c=v.y,A=B.x,u=B.y,h=C.x,f=C.y}else l=s.lng,c=s.lat,A=a.lng,u=a.lat,h=o.lng,f=o.lat;const d=(A-l)/e,g=(u-c)/e,_=(h-l)/t,m=(f-c)/t,y=l+d*.5+_*.5,b=c+g*.5+m*.5;return[d.toFixed(10),g.toFixed(10),_.toFixed(10),m.toFixed(10),y.toFixed(10),b.toFixed(10)].join(`
`)},ZQe=n=>new Promise((e,t)=>{if(n.getPitch()>0&&!aG({message:"",confirmOnly:!0})){t(new Error(""));return}n.once("render",async()=>{try{const i=n.getCanvas().toDataURL("image/png");await n.setProjection({type:"globe"}),e(i)}catch(r){t(r)}}),n.setProjection({type:"mercator"}),n.triggerRepaint()});var eje=we('<ui><button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150 max-lg:hidden"><!> <span class="select-none"></span></button> <button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150 max-lg:hidden"><!> <span class="select-none"></span></button></ui> <div class="w-hull bg-base h-[1px] rounded-full opacity-60"></div>',1),tje=we('<button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span></span></button>'),nje=we('<div class="absolute top-0 left-0 z-30 h-full w-full bg-black/50 max-lg:hidden" role="button" tabindex="0"></div> <div class="bg-main absolute top-0 right-0 flex h-full flex-col gap-2 p-2 text-base max-lg:w-full lg:z-30 lg:w-[400px]" style="padding-top: env(safe-area-inset-top);"><div class="flex items-center justify-between"><div class="w-full p-4 [&amp;_path]:fill-white"><!></div> <button class="bg-base cursor-pointer rounded-full p-2 max-lg:hidden"><!></button></div> <!> <ui><button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span class="select-none"></span></button> <button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span class="select-none"> </span></button> <a class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150" href="https://github.com/forestacdev/morivis" target="_blank" rel="noopener noreferrer"><!> <span>GitHub</span></a> <a class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150" href="https://www.forest.ac.jp/" target="_blank" rel="noopener noreferrer"><!> <span>Web</span></a> <button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span></span></button> <!> <!></ui></div>',1);function hk(n,e){Mt(e,!0);const t=()=>qt(vi,"$showDataMenu",c),r=()=>qt(Xm,"$showInfoDialog",c),i=()=>qt(qm,"$showTermsDialog",c),s=()=>qt(Wi,"$showOtherMenu",c),a=()=>qt(k1,"$isMobile",c),o=()=>qt(Qo,"$isStreetView",c),l=()=>qt(im,"$isBlocked",c),[c,A]=Rr();let u=Ne(e,"imagePreviewUrl",15);const h=()=>{Wi.set(!1),vi.set(!t())},f=()=>{Di()&&Wi.set(!1),Xm.set(!r())},d=()=>{Di()&&Wi.set(!1),qm.set(!i())},g=async()=>{Wi.set(!1);const v=Dt.getMap();if(!v)return;const B=await ZQe(v);u(B)},_=async()=>{Wi.set(!1),Gk("/morivis")};Ch.subscribe(v=>{Wi.set(!1)});var m=xt(),y=Je(m);{var b=v=>{var B=nje(),C=Je(B);C.__click=()=>Wi.set(!1),C.__keydown=_e=>{(_e.key==="Enter"||_e.key===" ")&&Wi.set(!1)};var I=oe(C,2),R=q(I),w=q(R),U=q(w);LW(U,{width:"250px"}),$(w);var M=oe(w,2);M.__click=()=>Wi.set(!1);var F=q(M);Bt(F,{icon:"material-symbols:close-rounded",class:"text-main h-4 w-4"}),$(M),$(R);var P=oe(R,2);{var S=_e=>{var xe=eje(),Re=Je(xe),D=q(Re);D.__click=h;var O=q(D);Bt(O,{icon:"material-symbols:data-saver-on-rounded",class:"h-8 w-8"}),jn(2),$(D);var ne=oe(D,2);ne.__click=g;var te=q(ne);Bt(te,{icon:"bx:export",class:"h-8 w-8"}),jn(2),$(ne),$(Re),jn(2),Z(_e,xe)};Te(P,_e=>{o()||_e(S)})}var W=oe(P,2),re=q(W);re.__click=d;var G=q(re);Bt(G,{icon:"majesticons:note-text",class:"h-8 w-8"}),jn(2),$(re);var ie=oe(re,2);ie.__click=f;var X=q(ie);Bt(X,{icon:"akar-icons:info-fill",class:"h-8 w-8"});var ge=oe(X,2),K=q(ge,!0);$(ge),$(ie);var N=oe(ie,2),H=q(N);Bt(H,{icon:"mdi:github",class:"h-8 w-8"}),jn(2),$(N);var V=oe(N,2),j=q(V);Bt(j,{icon:"mdi:web",class:"h-8 w-8"}),jn(2),$(V);var le=oe(V,2);le.__click=_;var de=q(le);Bt(de,{icon:"heroicons:power-16-solid",class:"h-8 w-8"}),jn(2),$(le);var he=oe(le,2);{var ue=_e=>{var xe=tje();xe.__click=function(...D){var O;(O=D$)==null||O.apply(this,D)};var Re=q(xe);Bt(Re,{icon:"grommet-icons:install-option",class:"h-8 w-8 scale-95"}),jn(2),$(xe),Z(_e,xe)};Te(he,_e=>{!P$()&&a()&&_e(ue)})}var me=oe(he,2);Te(me,_e=>{}),$(W),$(I),Ye(()=>{yt(K,a()?"":""),le.disabled=l()}),Yt(3,C,()=>cr,()=>({duration:300})),Yt(3,I,()=>br,()=>({duration:300,x:a()?0:100,opacity:0})),Z(v,B)};Te(y,v=>{s()&&v(b)})}Z(n,m),St(),A()}Ln(["click","keydown"]);function dk(n){return Object.prototype.toString.call(n)==="[object Date]"}function zL(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const r=e.map((i,s)=>zL(n[s],i));return i=>r.map(s=>s(i))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(dk(n)&&dk(e)){const s=n.getTime(),o=e.getTime()-s;return l=>new Date(s+l*o)}const r=Object.keys(e),i={};return r.forEach(s=>{i[s]=zL(n[s],e[s])}),s=>{const a={};return r.forEach(o=>{a[o]=i[o](s)}),a}}if(t==="number"){const r=e-n;return i=>n+i*r}return()=>e}var w0,ed,cp,_1;const uE=class uE{constructor(e,t={}){t0(this,w0);t0(this,ed);t0(this,cp);t0(this,_1,null);Pu(this,w0,Oe(e)),Pu(this,ed,Oe(e)),Pu(this,cp,t)}static of(e,t){const r=new uE(e(),t);return Ap(()=>{r.set(e())}),r}set(e,t){var u;ee(Qi(this,ed),e);let{delay:r=0,duration:i=400,easing:s=X9e,interpolate:a=zL}={...Qi(this,cp),...t};if(i===0)return(u=Qi(this,_1))==null||u.abort(),ee(Qi(this,w0),e),Promise.resolve();const o=U$.now()+r;let l,c=!1,A=Qi(this,_1);return Pu(this,_1,N$(h=>{if(h<o)return!0;if(!c){c=!0;const d=Qi(this,w0).v;l=a(d,e),typeof i=="function"&&(i=i(d,e)),A==null||A.abort()}const f=h-o;return f>i?(ee(Qi(this,w0),e),!1):(ee(Qi(this,w0),l(s(f/i))),!0)})),Qi(this,_1).promise}get current(){return E(Qi(this,w0))}get target(){return E(Qi(this,ed))}set target(e){this.set(e)}};w0=new WeakMap,ed=new WeakMap,cp=new WeakMap,_1=new WeakMap;let HL=uE;const rje="https://forestacdev.github.io/360photo-data-webp/webp/",XV=Di()?75:100,gk=20,pk=100;new _s(0,0,0);new _s(0,10,0);var ije=we('<div class="top-18 absolute right-2 w-[400px] bg-black/50 p-2"><div class="flex flex-col gap-2"><!> <!> <!> <!> <button class="c-btn-confirm">Copy Angle</button></div></div>');function sje(n,e){Mt(e,!0);let t=Ne(e,"angleX",15),r=Ne(e,"angleY",15),i=Ne(e,"angleZ",15),s=Ne(e,"showWireframe",15);const a=()=>{if(!e.streetViewPoint)return;const d=`"${e.streetViewPoint.properties.photo_id}": {
            "angle_x": ${t()},
            "angle_y": ${r()},
            "angle_z": ${i()}
        }`;navigator.clipboard.writeText(d).then(()=>{console.log(":",d)}).catch(g=>{console.error(":",g)})};var o=ije(),l=q(o),c=q(l);ra(c,{label:"Angle X",min:0,max:360,step:.01,get value(){return t()},set value(d){t(d)}});var A=oe(c,2);ra(A,{label:"Angle Y",min:0,max:360,step:.01,get value(){return r()},set value(d){r(d)}});var u=oe(A,2);ra(u,{label:"Angle Z",min:0,max:360,step:.01,get value(){return i()},set value(d){i(d)}});var h=oe(u,2);$0(h,{label:"Show Wireframe",get value(){return s()},set value(d){s(d)}});var f=oe(h,2);f.__click=a,$(l),$(o),Z(n,o),St()}Ln(["click"]);const aje={angle_x:186.12,angle_y:222.48,angle_z:167.76},oje={angle_x:0,angle_y:180,angle_z:0},lje={angle_x:0,angle_y:169.92,angle_z:0},cje={angle_x:0,angle_y:195.48,angle_z:0},Aje={angle_x:14.04,angle_y:22.68,angle_z:0},uje={angle_x:0,angle_y:185.04,angle_z:0},fje={angle_x:0,angle_y:190.08,angle_z:0},hje={angle_x:0,angle_y:331.56,angle_z:0},dje={angle_x:2.22,angle_y:.96,angle_z:14.7},gje={angle_x:0,angle_y:178.92,angle_z:0},pje={angle_x:7.92,angle_y:174.24,angle_z:7.92},_je={angle_x:0,angle_y:169.56,angle_z:0},mje={angle_x:0,angle_y:121.32,angle_z:0},yje={angle_x:0,angle_y:0,angle_z:0},bje={angle_x:7.92,angle_y:105.12,angle_z:10.08},vje={angle_x:10.08,angle_y:149.76,angle_z:24.12},wje={angle_x:0,angle_y:312.12,angle_z:0},Lje={angle_x:0,angle_y:0,angle_z:0},xje={angle_x:14.35,angle_y:24.84,angle_z:2.65},Rje={angle_x:0,angle_y:242.64,angle_z:0},Bje={angle_x:7.92,angle_y:160.92,angle_z:0},Eje={angle_x:0,angle_y:63.36,angle_z:0},Cje={angle_x:0,angle_y:210.24,angle_z:0},Ije={angle_x:5.26,angle_y:236.52,angle_z:0},Tje={angle_x:12.07,angle_y:339.12,angle_z:9.72},Mje={angle_x:349.2,angle_y:340.92,angle_z:357.12},Sje={angle_x:0,angle_y:202.32,angle_z:0},Fje={angle_x:0,angle_y:60.12,angle_z:6.52},Uje={angle_x:0,angle_y:309.24,angle_z:0},Nje={angle_x:13.52,angle_y:0,angle_z:0},kje={angle_x:0,angle_y:338.04,angle_z:0},Pje={angle_x:0,angle_y:157.68,angle_z:0},Dje={angle_x:0,angle_y:206.28,angle_z:0},Oje={angle_x:12.6,angle_y:243.36,angle_z:0},zje={angle_x:0,angle_y:77.04,angle_z:0},Hje={angle_x:0,angle_y:159.84,angle_z:0},Qje={angle_x:0,angle_y:271.44,angle_z:0},jje={angle_x:0,angle_y:284.76,angle_z:14.76},Yje={angle_x:0,angle_y:22.68,angle_z:0},Gje={angle_x:0,angle_y:45.72,angle_z:0},Vje={angle_x:190.08,angle_y:169.92,angle_z:173.88},Kje={angle_x:0,angle_y:54.72,angle_z:0},$je={angle_x:0,angle_y:324.72,angle_z:0},Wje={angle_x:0,angle_y:0,angle_z:0},qje={angle_x:0,angle_y:329.04,angle_z:0},Xje={angle_x:0,angle_y:324.72,angle_z:0},Jje={angle_x:198.36,angle_y:194.04,angle_z:167.76},Zje={angle_x:0,angle_y:32.4,angle_z:0},eYe={angle_x:0,angle_y:76.68,angle_z:0},tYe={angle_x:0,angle_y:231.84,angle_z:0},nYe={angle_x:0,angle_y:338.04,angle_z:0},rYe={angle_x:0,angle_y:54.36,angle_z:0},iYe={angle_x:0,angle_y:72.72,angle_z:0},sYe={angle_x:0,angle_y:165.96,angle_z:0},aYe={angle_x:0,angle_y:182.16,angle_z:0},oYe={angle_x:8.28,angle_y:235.08,angle_z:0},lYe={angle_x:0,angle_y:0,angle_z:0},cYe={angle_x:7.78,angle_y:13.92,angle_z:7.65},AYe={angle_x:0,angle_y:226.08,angle_z:0},uYe={angle_x:0,angle_y:309.24,angle_z:0},fYe={angle_x:2.38,angle_y:62.28,angle_z:9.25},hYe={angle_x:7.92,angle_y:180,angle_z:24.12},dYe={angle_x:0,angle_y:347.76,angle_z:360},gYe={angle_x:0,angle_y:238.68,angle_z:0},pYe={angle_x:2.16,angle_y:81,angle_z:7.92},_Ye={angle_x:0,angle_y:101.16,angle_z:0},mYe={angle_x:0,angle_y:326.52,angle_z:0},yYe={angle_x:14.19,angle_y:306,angle_z:4.35},bYe={angle_x:0,angle_y:195.48,angle_z:0},vYe={angle_x:0,angle_y:155.52,angle_z:0},wYe={angle_x:14.98,angle_y:38.52,angle_z:4.17},LYe={angle_x:0,angle_y:351,angle_z:0},xYe={angle_x:7.92,angle_y:271.08,angle_z:0},RYe={angle_x:0,angle_y:307.8,angle_z:0},BYe={angle_x:0,angle_y:313.56,angle_z:0},EYe={angle_x:10.08,angle_y:86.76,angle_z:16.2},CYe={angle_x:0,angle_y:95.4,angle_z:0},IYe={angle_x:0,angle_y:169.56,angle_z:0},TYe={angle_x:2.04,angle_y:22.88,angle_z:11.31},MYe={angle_x:0,angle_y:201.96,angle_z:0},SYe={angle_x:0,angle_y:191.52,angle_z:0},FYe={angle_x:0,angle_y:323.64,angle_z:0},UYe={angle_x:0,angle_y:202.32,angle_z:0},NYe={angle_x:0,angle_y:180.36,angle_z:0},kYe={angle_x:8.24,angle_y:67.49,angle_z:0},PYe={angle_x:0,angle_y:262.8,angle_z:0},DYe={angle_x:194.04,angle_y:246.6,angle_z:172.08},OYe={angle_x:0,angle_y:157.68,angle_z:0},zYe={angle_x:6.31,angle_y:29.16,angle_z:0},HYe={angle_x:0,angle_y:0,angle_z:0},QYe={angle_x:0,angle_y:230.04,angle_z:0},jYe={angle_x:187.92,angle_y:238.68,angle_z:165.96},YYe={angle_x:0,angle_y:162.36,angle_z:0},GYe={angle_x:10.28,angle_y:95.27,angle_z:0},VYe={angle_x:0,angle_y:0,angle_z:8.44},KYe={angle_x:0,angle_y:244.8,angle_z:0},$Ye={angle_x:0,angle_y:114.48,angle_z:0},WYe={angle_x:0,angle_y:137.52,angle_z:0},qYe={angle_x:0,angle_y:7.92,angle_z:0},XYe={angle_x:0,angle_y:156.6,angle_z:0},JYe={angle_x:180.5,angle_y:360,angle_z:178.04},ZYe={angle_x:0,angle_y:335.16,angle_z:0},eGe={angle_x:10.58,angle_y:122.76,angle_z:7.96},tGe={angle_x:189.82,angle_y:333.15,angle_z:177.48},nGe={angle_x:6.12,angle_y:319.68,angle_z:6.12},rGe={angle_x:0,angle_y:345.96,angle_z:0},iGe={angle_x:0,angle_y:135.36,angle_z:0},sGe={angle_x:0,angle_y:10.44,angle_z:0},aGe={angle_x:0,angle_y:327.6,angle_z:0},oGe={angle_x:347.76,angle_y:119.16,angle_z:0},lGe={angle_x:0,angle_y:198,angle_z:0},cGe={angle_x:13.09,angle_y:303.48,angle_z:0},AGe={angle_x:0,angle_y:349.92,angle_z:0},uGe={angle_x:0,angle_y:311.4,angle_z:0},fGe={angle_x:0,angle_y:293.09,angle_z:10.44},hGe={angle_x:0,angle_y:204.12,angle_z:0},dGe={angle_x:7.92,angle_y:29.16,angle_z:7.92},gGe={angle_x:0,angle_y:74.88,angle_z:3.05},pGe={angle_x:0,angle_y:192.24,angle_z:0},_Ge={angle_x:0,angle_y:0,angle_z:0},mGe={angle_x:0,angle_y:159.84,angle_z:0},yGe={angle_x:0,angle_y:203.4,angle_z:0},bGe={angle_x:4.49,angle_y:0,angle_z:10.64},vGe={angle_x:0,angle_y:141.48,angle_z:0},wGe={angle_x:0,angle_y:213.84,angle_z:0},LGe={angle_x:0,angle_y:107.28,angle_z:0},xGe={angle_x:7.56,angle_y:244.8,angle_z:357.12},RGe={angle_x:351.36,angle_y:156.96,angle_z:0},BGe={angle_x:0,angle_y:249.48,angle_z:0},EGe={angle_x:0,angle_y:10.44,angle_z:0},CGe={angle_x:0,angle_y:329.04,angle_z:0},IGe={angle_x:0,angle_y:60.48,angle_z:0},TGe={angle_x:0,angle_y:23.76,angle_z:0},MGe={angle_x:6.12,angle_y:258.84,angle_z:3.96},SGe={angle_x:0,angle_y:54.72,angle_z:0},FGe={angle_x:0,angle_y:19.44,angle_z:0},UGe={angle_x:0,angle_y:0,angle_z:0},NGe={angle_x:0,angle_y:329.04,angle_z:0},kGe={angle_x:0,angle_y:222.84,angle_z:0},PGe={angle_x:0,angle_y:92.88,angle_z:0},DGe={angle_x:0,angle_y:60.12,angle_z:0},OGe={angle_x:5.4,angle_y:231.84,angle_z:0},zGe={angle_x:0,angle_y:153.72,angle_z:0},HGe={angle_x:0,angle_y:227.16,angle_z:0},QGe={angle_x:0,angle_y:236.52,angle_z:0},jGe={angle_x:8.21,angle_y:0,angle_z:6.39},YGe={angle_x:0,angle_y:180,angle_z:0},GGe={angle_x:0,angle_y:159.84,angle_z:0},VGe={angle_x:0,angle_y:0,angle_z:0},KGe={angle_x:0,angle_y:186.12,angle_z:0},$Ge={angle_x:7.92,angle_y:37.44,angle_z:7.92},WGe={angle_x:0,angle_y:208.44,angle_z:0},qGe={angle_x:0,angle_y:284.76,angle_z:7.56},XGe={angle_x:0,angle_y:220.32,angle_z:0},JGe={angle_x:11.34,angle_y:309.6,angle_z:0},ZGe={angle_x:0,angle_y:216.36,angle_z:0},eVe={angle_x:0,angle_y:0,angle_z:0},tVe={angle_x:0,angle_y:242.64,angle_z:0},nVe={angle_x:0,angle_y:28.08,angle_z:0},rVe={angle_x:7.92,angle_y:0,angle_z:6.12},iVe={angle_x:0,angle_y:291.24,angle_z:0},sVe={angle_x:0,angle_y:190.08,angle_z:0},aVe={angle_x:12.24,angle_y:20.16,angle_z:6.12},oVe={angle_x:0,angle_y:360,angle_z:0},lVe={angle_x:0,angle_y:307.44,angle_z:0},cVe={angle_x:0,angle_y:165.24,angle_z:7.93},AVe={angle_x:194.04,angle_y:234.72,angle_z:167.76},uVe={angle_x:358.13,angle_y:172.19,angle_z:10.83},fVe={angle_x:0,angle_y:138.6,angle_z:0},hVe={angle_x:0,angle_y:28.44,angle_z:0},dVe={angle_x:0,angle_y:163.8,angle_z:0},gVe={angle_x:0,angle_y:323.64,angle_z:0},pVe={angle_x:0,angle_y:224.64,angle_z:0},_Ve={angle_x:11.72,angle_y:116.64,angle_z:.86},mVe={angle_x:0,angle_y:197.64,angle_z:0},yVe={angle_x:5.28,angle_y:15.4,angle_z:9.25},bVe={angle_x:0,angle_y:132.84,angle_z:0},vVe={angle_x:16.2,angle_y:88.92,angle_z:3.96},wVe={angle_x:12.08,angle_y:0,angle_z:0},LVe={angle_x:0,angle_y:226.44,angle_z:0},xVe={angle_x:2.45,angle_y:0,angle_z:8.89},RVe={angle_x:0,angle_y:172.8,angle_z:0},BVe={angle_x:0,angle_y:187.2,angle_z:0},EVe={angle_x:18.36,angle_y:220.32,angle_z:6.12},CVe={angle_x:0,angle_y:60.48,angle_z:0},IVe={angle_x:8.08,angle_y:159.12,angle_z:11.54},TVe={angle_x:16.89,angle_y:55.11,angle_z:3.86},MVe={angle_x:2.16,angle_y:72.72,angle_z:6.12},SVe={angle_x:0,angle_y:303.48,angle_z:0},FVe={angle_x:0,angle_y:109.8,angle_z:0},UVe={angle_x:5.88,angle_y:206.64,angle_z:7.66},NVe={angle_x:0,angle_y:86.76,angle_z:0},kVe={angle_x:0,angle_y:321.48,angle_z:0},PVe={angle_x:0,angle_y:7.92,angle_z:0},DVe={angle_x:0,angle_y:312.12,angle_z:0},OVe={angle_x:0,angle_y:326.88,angle_z:0},zVe={angle_x:8.28,angle_y:247.68,angle_z:0},HVe={angle_x:0,angle_y:335.16,angle_z:0},QVe={angle_x:0,angle_y:299.16,angle_z:0},jVe={angle_x:2.16,angle_y:309.96,angle_z:0},YVe={angle_x:0,angle_y:351,angle_z:0},GVe={angle_x:0,angle_y:267.12,angle_z:0},VVe={angle_x:0,angle_y:309.24,angle_z:0},KVe={angle_x:10.31,angle_y:314.28,angle_z:13.14},$Ve={angle_x:0,angle_y:327.6,angle_z:0},WVe={angle_x:14.37,angle_y:212.4,angle_z:356.66},qVe={angle_x:10.08,angle_y:111.24,angle_z:0},XVe={angle_x:0,angle_y:285.12,angle_z:0},JVe={angle_x:0,angle_y:63.7,angle_z:8.86},ZVe={angle_x:0,angle_y:0,angle_z:0},eKe={angle_x:0,angle_y:50.4,angle_z:0},tKe={angle_x:0,angle_y:68.76,angle_z:0},nKe={angle_x:0,angle_y:72.72,angle_z:0},rKe={angle_x:0,angle_y:147.6,angle_z:0},iKe={angle_x:3.21,angle_y:131.4,angle_z:9.02},sKe={angle_x:0,angle_y:293.4,angle_z:0},aKe={angle_x:6.12,angle_y:262.08,angle_z:0},oKe={angle_x:0,angle_y:10.44,angle_z:0},lKe={angle_x:0,angle_y:208.44,angle_z:0},cKe={angle_x:0,angle_y:351,angle_z:0},AKe={angle_x:0,angle_y:23.76,angle_z:0},uKe={angle_x:0,angle_y:28.08,angle_z:0},fKe={angle_x:0,angle_y:56.52,angle_z:0},hKe={angle_x:0,angle_y:284.4,angle_z:0},dKe={angle_x:0,angle_y:27.72,angle_z:0},gKe={angle_x:0,angle_y:23.76,angle_z:0},pKe={angle_x:0,angle_y:50.4,angle_z:0},_Ke={angle_x:0,angle_y:329.04,angle_z:0},mKe={angle_x:0,angle_y:50.4,angle_z:0},yKe={angle_x:0,angle_y:0,angle_z:0},bKe={angle_x:0,angle_y:202.32,angle_z:0},vKe={angle_x:0,angle_y:0,angle_z:0},wKe={angle_x:0,angle_y:186.12,angle_z:0},LKe={angle_x:353.88,angle_y:0,angle_z:8.28},xKe={angle_x:0,angle_y:89.28,angle_z:0},RKe={angle_x:0,angle_y:114.12,angle_z:0},BKe={angle_x:0,angle_y:0,angle_z:0},EKe={angle_x:0,angle_y:30.96,angle_z:0},CKe={angle_x:0,angle_y:307.44,angle_z:0},IKe={angle_x:0,angle_y:0,angle_z:0},TKe={angle_x:0,angle_y:222.48,angle_z:0},MKe={angle_x:20.16,angle_y:68.76,angle_z:3.96},SKe={angle_x:0,angle_y:307.44,angle_z:0},FKe={angle_x:11.29,angle_y:224.64,angle_z:0},UKe={angle_x:11.95,angle_y:307.44,angle_z:5.36},NKe={angle_x:0,angle_y:331.56,angle_z:0},kKe={angle_x:0,angle_y:0,angle_z:0},PKe={angle_x:0,angle_y:275.76,angle_z:0},DKe={angle_x:9.72,angle_y:266.76,angle_z:10.44},OKe={angle_x:0,angle_y:295.2,angle_z:0},zKe={angle_x:0,angle_y:6.12,angle_z:0},HKe={angle_x:6.12,angle_y:270.36,angle_z:0},QKe={angle_x:10.08,angle_y:253.8,angle_z:347.4},jKe={angle_x:0,angle_y:297.72,angle_z:0},YKe={angle_x:0,angle_y:292.68,angle_z:0},GKe={angle_x:0,angle_y:6.12,angle_z:0},VKe={angle_x:0,angle_y:307.8,angle_z:0},KKe={angle_x:0,angle_y:0,angle_z:0},$Ke={angle_x:7.56,angle_y:122.76,angle_z:0},WKe={angle_x:2.4,angle_y:209.52,angle_z:10.18},qKe={angle_x:0,angle_y:78.84,angle_z:0},XKe={angle_x:12.15,angle_y:32.4,angle_z:7.18},JKe={angle_x:0,angle_y:182.16,angle_z:0},ZKe={angle_x:9.37,angle_y:194.4,angle_z:5.66},e$e={angle_x:11.84,angle_y:30.96,angle_z:0},t$e={angle_x:16.2,angle_y:186.12,angle_z:0},n$e={angle_x:0,angle_y:214.2,angle_z:0},r$e={angle_x:0,angle_y:37.08,angle_z:0},i$e={angle_x:4.06,angle_y:349.26,angle_z:5.03},s$e={angle_x:0,angle_y:202.32,angle_z:0},a$e={angle_x:0,angle_y:14.04,angle_z:0},o$e={angle_x:0,angle_y:178.92,angle_z:0},l$e={angle_x:0,angle_y:199.8,angle_z:0},c$e={angle_x:0,angle_y:325.44,angle_z:0},A$e={angle_x:357.42,angle_y:3.96,angle_z:11.04},u$e={angle_x:0,angle_y:200.16,angle_z:0},f$e={angle_x:0,angle_y:202.32,angle_z:0},h$e={angle_x:17.1,angle_y:32.4,angle_z:2.35},d$e={angle_x:9.78,angle_y:2.23,angle_z:0},g$e={angle_x:0,angle_y:186.12,angle_z:0},p$e={angle_x:0,angle_y:78.84,angle_z:0},_$e={angle_x:0,angle_y:89.28,angle_z:0},m$e={angle_x:10.08,angle_y:47.88,angle_z:7.92},y$e={angle_x:0,angle_y:296.64,angle_z:0},b$e={angle_x:0,angle_y:115.2,angle_z:0},v$e={angle_x:4.32,angle_y:307.8,angle_z:0},w$e={angle_x:0,angle_y:325.44,angle_z:0},L$e={angle_x:0,angle_y:333,angle_z:0},x$e={angle_x:173.88,angle_y:331.56,angle_z:155.88},R$e={angle_x:0,angle_y:204.12,angle_z:0},B$e={angle_x:0,angle_y:275.76,angle_z:7.56},E$e={angle_x:0,angle_y:337.68,angle_z:0},C$e={angle_x:15.16,angle_y:226.44,angle_z:1.11},I$e={angle_x:0,angle_y:195.12,angle_z:0},T$e={angle_x:0,angle_y:0,angle_z:0},M$e={angle_x:10.08,angle_y:238.68,angle_z:0},S$e={angle_x:2.16,angle_y:333.36,angle_z:7.56},F$e={angle_x:0,angle_y:186.12,angle_z:0},U$e={angle_x:0,angle_y:161.64,angle_z:0},N$e={angle_x:10.44,angle_y:160.92,angle_z:8.92},k$e={angle_x:0,angle_y:88.92,angle_z:0},P$e={angle_x:0,angle_y:0,angle_z:0},D$e={angle_x:0,angle_y:271.44,angle_z:0},O$e={angle_x:0,angle_y:208.44,angle_z:0},z$e={angle_x:9.35,angle_y:0,angle_z:1.92},H$e={angle_x:0,angle_y:347.76,angle_z:0},Q$e={angle_x:0,angle_y:338.04,angle_z:0},j$e={angle_x:357.47,angle_y:133.56,angle_z:6.41},Y$e={angle_x:0,angle_y:66.6,angle_z:0},G$e={angle_x:0,angle_y:28.08,angle_z:0},V$e={angle_x:0,angle_y:0,angle_z:0},K$e={angle_x:194.04,angle_y:242.64,angle_z:176.04},$$e={angle_x:0,angle_y:23.76,angle_z:0},W$e={angle_x:180,angle_y:258.84,angle_z:167.76},q$e={angle_x:0,angle_y:329.04,angle_z:0},X$e={angle_x:0,angle_y:37.08,angle_z:0},J$e={angle_x:0,angle_y:74.88,angle_z:0},Z$e={angle_x:0,angle_y:19.44,angle_z:0},eWe={angle_x:0,angle_y:333.36,angle_z:0},tWe={angle_x:351.72,angle_y:0,angle_z:8.28},nWe={angle_x:0,angle_y:125.28,angle_z:7.85},rWe={angle_x:0,angle_y:207.36,angle_z:0},iWe={angle_x:5.69,angle_y:224.28,angle_z:0},sWe={angle_x:0,angle_y:320.04,angle_z:0},aWe={angle_x:6.12,angle_y:165.24,angle_z:9.44},oWe={angle_x:0,angle_y:147.24,angle_z:0},lWe={angle_x:0,angle_y:99.72,angle_z:0},cWe={angle_x:0,angle_y:202.32,angle_z:0},AWe={angle_x:0,angle_y:311.4,angle_z:5.4},uWe={angle_x:0,angle_y:40.32,angle_z:0},fWe={angle_x:0,angle_y:234.72,angle_z:0},hWe={angle_x:4.95,angle_y:226.44,angle_z:0},dWe={angle_x:0,angle_y:181.8,angle_z:0},gWe={angle_x:0,angle_y:48.6,angle_z:0},pWe={angle_x:0,angle_y:258.12,angle_z:10.44},_We={angle_x:0,angle_y:232.56,angle_z:0},mWe={angle_x:0,angle_y:295.56,angle_z:0},yWe={angle_x:196.2,angle_y:36.36,angle_z:176.04},bWe={angle_x:6.12,angle_y:311.4,angle_z:3.96},vWe={angle_x:0,angle_y:299.16,angle_z:0},wWe={angle_x:0,angle_y:94.68,angle_z:0},LWe={angle_x:0,angle_y:304.56,angle_z:0},xWe={angle_x:14.04,angle_y:41.4,angle_z:10.08},RWe={angle_x:0,angle_y:343.8,angle_z:0},BWe={angle_x:0,angle_y:54.72,angle_z:0},EWe={angle_x:0,angle_y:43.93,angle_z:14.27},CWe={angle_x:0,angle_y:157.68,angle_z:0},IWe={angle_x:0,angle_y:266.76,angle_z:0},TWe={angle_x:12.51,angle_y:34.2,angle_z:8.51},MWe={angle_x:0,angle_y:203.76,angle_z:0},SWe={angle_x:3.96,angle_y:116.64,angle_z:6.12},FWe={angle_x:0,angle_y:14.04,angle_z:11.57},UWe={angle_x:0,angle_y:239.76,angle_z:0},NWe={angle_x:0,angle_y:228.6,angle_z:0},kWe={angle_x:0,angle_y:226.8,angle_z:0},PWe={angle_x:0,angle_y:12.24,angle_z:0},DWe={angle_x:20.16,angle_y:177.84,angle_z:6.12},OWe={angle_x:15.16,angle_y:185.4,angle_z:6.94},zWe={angle_x:0,angle_y:22.68,angle_z:0},HWe={angle_x:7.92,angle_y:84.96,angle_z:3.96},QWe={angle_x:24.12,angle_y:88.92,angle_z:0},jWe={angle_x:0,angle_y:66.6,angle_z:0},YWe={angle_x:0,angle_y:271.08,angle_z:0},GWe={angle_x:8.91,angle_y:313.58,angle_z:0},VWe={angle_x:0,angle_y:149.76,angle_z:0},KWe={angle_x:0,angle_y:324.72,angle_z:0},$We={angle_x:14.04,angle_y:213.84,angle_z:7.92},WWe={angle_x:0,angle_y:41.4,angle_z:0},qWe={angle_x:0,angle_y:45.72,angle_z:0},XWe={angle_x:0,angle_y:27.98,angle_z:0},JWe={angle_x:0,angle_y:151.92,angle_z:0},ZWe={angle_x:0,angle_y:209.52,angle_z:0},eqe={angle_x:0,angle_y:289.08,angle_z:0},tqe={angle_x:5.31,angle_y:200.88,angle_z:3.51},nqe={angle_x:0,angle_y:103.32,angle_z:10.96},rqe={angle_x:0,angle_y:19.44,angle_z:0},iqe={angle_x:0,angle_y:0,angle_z:0},sqe={angle_x:5.4,angle_y:258.12,angle_z:0},aqe={angle_x:18.36,angle_y:256.68,angle_z:0},oqe={angle_x:0,angle_y:24.84,angle_z:4.9},lqe={angle_x:355.73,angle_y:343.43,angle_z:3.18},cqe={angle_x:6.12,angle_y:143.64,angle_z:353.88},Aqe={angle_x:189.36,angle_y:209.52,angle_z:171.36},uqe={angle_x:0,angle_y:36.45,angle_z:10.41},fqe={angle_x:0,angle_y:315.72,angle_z:0},hqe={angle_x:0,angle_y:72.36,angle_z:0},dqe={angle_x:0,angle_y:50.4,angle_z:0},gqe={angle_x:0,angle_y:258.12,angle_z:352.08},pqe={angle_x:0,angle_y:57.96,angle_z:0},_qe={angle_x:10.08,angle_y:37.08,angle_z:7.92},mqe={angle_x:0,angle_y:168.48,angle_z:0},yqe={angle_x:0,angle_y:49.68,angle_z:0},bqe={angle_x:0,angle_y:232.2,angle_z:0},vqe={angle_x:0,angle_y:262.8,angle_z:0},wqe={angle_x:0,angle_y:232.56,angle_z:0},Lqe={angle_x:0,angle_y:309.24,angle_z:0},xqe={angle_x:0,angle_y:76.68,angle_z:0},Rqe={angle_x:0,angle_y:62.64,angle_z:0},Bqe={angle_x:0,angle_y:0,angle_z:0},Eqe={angle_x:0,angle_y:0,angle_z:0},Cqe={angle_x:0,angle_y:266.76,angle_z:3.96},Iqe={angle_x:0,angle_y:20.16,angle_z:0},Tqe={angle_x:0,angle_y:35.28,angle_z:0},Mqe={angle_x:0,angle_y:227.16,angle_z:0},Sqe={angle_x:0,angle_y:169.92,angle_z:0},Fqe={angle_x:0,angle_y:34.2,angle_z:0},Uqe={angle_x:0,angle_y:50.4,angle_z:0},Nqe={angle_x:0,angle_y:172.8,angle_z:0},kqe={angle_x:10.08,angle_y:34.2,angle_z:0},Pqe={angle_x:0,angle_y:45.72,angle_z:0},Dqe={angle_x:0,angle_y:19.44,angle_z:0},Oqe={angle_x:360,angle_y:43.56,angle_z:9.06},zqe={angle_x:0,angle_y:280.44,angle_z:0},Hqe={angle_x:177.84,angle_y:183.96,angle_z:165.96},Qqe={angle_x:353.71,angle_y:11.92,angle_z:6.97},jqe={angle_x:12.24,angle_y:218.52,angle_z:12.24},Yqe={angle_x:10.08,angle_y:272.88,angle_z:0},Gqe={angle_x:360,angle_y:289.08,angle_z:11.52},Vqe={angle_x:357.27,angle_y:360,angle_z:8.94},Kqe={angle_x:0,angle_y:0,angle_z:0},$qe={angle_x:355.32,angle_y:32.4,angle_z:351.36},Wqe={angle_x:4.42,angle_y:129.96,angle_z:8.91},qqe={angle_x:0,angle_y:196.2,angle_z:0},Xqe={angle_x:0,angle_y:207.36,angle_z:0},Jqe={angle_x:0,angle_y:303.84,angle_z:0},Zqe={angle_x:0,angle_y:63.36,angle_z:0},eXe={angle_x:2.22,angle_y:120.96,angle_z:3.64},tXe={angle_x:0,angle_y:28.08,angle_z:0},nXe={angle_x:16.14,angle_y:213.84,angle_z:6.65},rXe={angle_x:0,angle_y:37.08,angle_z:0},iXe={angle_x:10.25,angle_y:141.48,angle_z:0},sXe={angle_x:0,angle_y:178.56,angle_z:0},aXe={angle_x:0,angle_y:277.2,angle_z:0},oXe={angle_x:15.1,angle_y:332.92,angle_z:1.41},lXe={angle_x:0,angle_y:159.84,angle_z:0},cXe={angle_x:0,angle_y:119.16,angle_z:0},AXe={angle_x:7,angle_y:293.4,angle_z:0},uXe={angle_x:356.04,angle_y:200.16,angle_z:2.16},fXe={angle_x:13.34,angle_y:193.32,angle_z:360},hXe={angle_x:0,angle_y:16.56,angle_z:0},dXe={angle_x:0,angle_y:72.72,angle_z:0},gXe={angle_x:10.08,angle_y:165.96,angle_z:7.92},pXe={angle_x:0,angle_y:68.76,angle_z:0},_Xe={angle_x:196.2,angle_y:6.22,angle_z:175.29},mXe={angle_x:20.16,angle_y:159.84,angle_z:7.92},yXe={angle_x:0,angle_y:33.12,angle_z:0},bXe={angle_x:5.23,angle_y:245.52,angle_z:0},vXe={angle_x:0,angle_y:208.08,angle_z:0},wXe={angle_x:0,angle_y:230.76,angle_z:0},LXe={angle_x:0,angle_y:178.56,angle_z:0},xXe={angle_x:11.88,angle_y:233.64,angle_z:0},RXe={angle_x:0,angle_y:74.88,angle_z:0},BXe={angle_x:8.96,angle_y:324.61,angle_z:355.27},EXe={angle_x:0,angle_y:190.08,angle_z:0},CXe={angle_x:360,angle_y:19.45,angle_z:354.12},IXe={angle_x:0,angle_y:63.36,angle_z:0},TXe={angle_x:0,angle_y:312.84,angle_z:0},MXe={angle_x:0,angle_y:147.6,angle_z:0},SXe={angle_x:12.24,angle_y:204.12,angle_z:3.96},FXe={angle_x:7.92,angle_y:191.52,angle_z:18.36},UXe={angle_x:181.73,angle_y:10.54,angle_z:170.31},NXe={angle_x:0,angle_y:209.52,angle_z:0},kXe={angle_x:0,angle_y:14.76,angle_z:0},PXe={angle_x:5.98,angle_y:76.68,angle_z:12.56},DXe={angle_x:20.88,angle_y:221.76,angle_z:0},OXe={angle_x:354.54,angle_y:324.72,angle_z:6.09},zXe={angle_x:357.2,angle_y:43.56,angle_z:12.27},HXe={angle_x:16.2,angle_y:242.64,angle_z:0},QXe={angle_x:0,angle_y:329.04,angle_z:0},jXe={angle_x:181.44,angle_y:262.08,angle_z:175.32},YXe={angle_x:18.36,angle_y:183.96,angle_z:360},GXe={angle_x:0,angle_y:32.4,angle_z:0},VXe={angle_x:0,angle_y:15.48,angle_z:0},KXe={angle_x:0,angle_y:320.04,angle_z:0},$Xe={angle_x:0,angle_y:244.8,angle_z:0},WXe={angle_x:343.8,angle_y:54.72,angle_z:347.76},qXe={angle_x:0,angle_y:35.28,angle_z:0},XXe={angle_x:0,angle_y:201.96,angle_z:0},JXe={angle_x:0,angle_y:173.16,angle_z:0},ZXe={angle_x:0,angle_y:24.12,angle_z:0},eJe={angle_x:0,angle_y:0,angle_z:0},tJe={angle_x:0,angle_y:52.56,angle_z:0},nJe={angle_x:0,angle_y:58.68,angle_z:0},rJe={angle_x:0,angle_y:141.12,angle_z:0},iJe={angle_x:0,angle_y:178.92,angle_z:0},sJe={angle_x:0,angle_y:38.52,angle_z:0},aJe={angle_x:0,angle_y:258.12,angle_z:347.04},oJe={angle_x:0,angle_y:59.04,angle_z:0},lJe={angle_x:0,angle_y:284.76,angle_z:0},cJe={angle_x:0,angle_y:178.56,angle_z:0},AJe={angle_x:0,angle_y:39.6,angle_z:0},uJe={angle_x:0,angle_y:22.32,angle_z:0},fJe={angle_x:0,angle_y:307.08,angle_z:0},hJe={angle_x:0,angle_y:353.88,angle_z:0},dJe={angle_x:18.36,angle_y:208.44,angle_z:0},gJe={angle_x:0,angle_y:59.04,angle_z:355.32},pJe={angle_x:0,angle_y:320.04,angle_z:0},_Je={angle_x:2.16,angle_y:99,angle_z:10.08},mJe={angle_x:357.45,angle_y:30.14,angle_z:8.71},yJe={angle_x:12.24,angle_y:262.8,angle_z:0},bJe={angle_x:20.16,angle_y:224.28,angle_z:0},vJe={angle_x:356.84,angle_y:297.72,angle_z:6.85},wJe={angle_x:5.79,angle_y:28.08,angle_z:9.12},LJe={angle_x:0,angle_y:19.44,angle_z:0},xJe={angle_x:0,angle_y:209.52,angle_z:0},RJe={angle_x:4.22,angle_y:190.92,angle_z:7.15},BJe={angle_x:14.04,angle_y:168.48,angle_z:10.08},EJe={angle_x:0,angle_y:165.24,angle_z:0},CJe={angle_x:13.96,angle_y:214.2,angle_z:2.75},IJe={angle_x:0,angle_y:0,angle_z:0},TJe={angle_x:0,angle_y:50.4,angle_z:0},MJe={angle_x:11.54,angle_y:0,angle_z:0},SJe={angle_x:0,angle_y:281.16,angle_z:0},FJe={angle_x:0,angle_y:134.28,angle_z:0},UJe={angle_x:0,angle_y:52.56,angle_z:0},NJe={angle_x:195.2,angle_y:24.28,angle_z:172.16},kJe={angle_x:0,angle_y:81,angle_z:0},PJe={angle_x:0,angle_y:230.76,angle_z:0},DJe={angle_x:4.8,angle_y:287.28,angle_z:0},OJe={angle_x:12.24,angle_y:78.12,angle_z:2.16},zJe={angle_x:0,angle_y:101.88,angle_z:0},HJe={angle_x:0,angle_y:35.28,angle_z:0},QJe={angle_x:18.36,angle_y:183.24,angle_z:3.96},jJe={angle_x:9.67,angle_y:0,angle_z:3.21},YJe={angle_x:0,angle_y:214.2,angle_z:0},GJe={angle_x:0,angle_y:86.76,angle_z:0},VJe={angle_x:14.04,angle_y:190.08,angle_z:360},KJe={angle_x:0,angle_y:172.8,angle_z:0},$Je={angle_x:0,angle_y:40.32,angle_z:10.08},WJe={angle_x:12.45,angle_y:296.13,angle_z:0},qJe={angle_x:18.36,angle_y:91.08,angle_z:12.24},XJe={angle_x:0,angle_y:99,angle_z:0},JJe={angle_x:0,angle_y:14.76,angle_z:0},ZJe={angle_x:0,angle_y:313.2,angle_z:0},eZe={angle_x:16.2,angle_y:236.52,angle_z:0},tZe={angle_x:0,angle_y:311.4,angle_z:0},nZe={angle_x:0,angle_y:213.84,angle_z:4.4},rZe={angle_x:14.04,angle_y:192.24,angle_z:7.92},iZe={angle_x:0,angle_y:99,angle_z:0},sZe={angle_x:0,angle_y:72.36,angle_z:0},aZe={angle_x:0,angle_y:26.28,angle_z:0},oZe={angle_x:6.12,angle_y:342.36,angle_z:0},lZe={angle_x:0,angle_y:54.72,angle_z:0},cZe={angle_x:0,angle_y:307.08,angle_z:0},AZe={angle_x:4.54,angle_y:103.32,angle_z:8.18},uZe={angle_x:0,angle_y:320.04,angle_z:0},fZe={angle_x:7.53,angle_y:14.76,angle_z:355.93},hZe={angle_x:3.46,angle_y:28.08,angle_z:11.79},dZe={angle_x:0,angle_y:26.22,angle_z:6.61},gZe={angle_x:0,angle_y:133.56,angle_z:6.12},pZe={angle_x:10.08,angle_y:204.12,angle_z:0},_Ze={angle_x:0,angle_y:314.28,angle_z:0},mZe={angle_x:0,angle_y:341.64,angle_z:0},yZe={angle_x:0,angle_y:58.68,angle_z:0},bZe={angle_x:0,angle_y:227.88,angle_z:0},vZe={angle_x:0,angle_y:167.76,angle_z:0},wZe={angle_x:0,angle_y:10.08,angle_z:0},LZe={angle_x:2.6,angle_y:45,angle_z:0},xZe={angle_x:0,angle_y:37.08,angle_z:0},RZe={angle_x:0,angle_y:224.64,angle_z:0},BZe={angle_x:0,angle_y:27,angle_z:0},EZe={angle_x:0,angle_y:68.04,angle_z:0},CZe={angle_x:0,angle_y:147.6,angle_z:0},IZe={angle_x:0,angle_y:18,angle_z:0},TZe={angle_x:0,angle_y:39.24,angle_z:0},MZe={angle_x:0,angle_y:76.68,angle_z:0},SZe={angle_x:0,angle_y:22.32,angle_z:0},FZe={angle_x:0,angle_y:41.4,angle_z:0},UZe={angle_x:0,angle_y:14.4,angle_z:0},NZe={angle_x:0,angle_y:59.04,angle_z:0},kZe={angle_x:0,angle_y:45.72,angle_z:0},PZe={angle_x:0,angle_y:168.12,angle_z:0},DZe={angle_x:0,angle_y:22.32,angle_z:0},OZe={angle_x:0,angle_y:222.84,angle_z:0},zZe={angle_x:0,angle_y:58.68,angle_z:0},HZe={angle_x:0,angle_y:157.68,angle_z:0},QZe={angle_x:0,angle_y:244.8,angle_z:0},jZe={angle_x:0,angle_y:343.8,angle_z:0},YZe={angle_x:182.16,angle_y:151.56,angle_z:133.56},GZe={angle_x:0,angle_y:326.52,angle_z:0},VZe={angle_x:0,angle_y:30.24,angle_z:9.68},KZe={angle_x:7.92,angle_y:153.72,angle_z:2.16},$Ze={angle_x:0,angle_y:63.36,angle_z:0},WZe={angle_x:9.49,angle_y:32.4,angle_z:358.71},qZe={angle_x:0,angle_y:333.36,angle_z:0},XZe={angle_x:355.32,angle_y:23.76,angle_z:0},JZe={angle_x:0,angle_y:45.72,angle_z:0},ZZe={angle_x:0,angle_y:329.04,angle_z:0},eet={angle_x:0,angle_y:10.08,angle_z:0},tet={angle_x:0,angle_y:96.48,angle_z:0},net={angle_x:7.1,angle_y:199.8,angle_z:13.26},ret={angle_x:0,angle_y:236.16,angle_z:0},iet={angle_x:0,angle_y:0,angle_z:0},set={angle_x:0,angle_y:351,angle_z:0},aet={angle_x:16.2,angle_y:236.52,angle_z:0},oet={angle_x:0,angle_y:123.48,angle_z:0},cet={angle_x:0,angle_y:10.44,angle_z:0},Aet={angle_x:0,angle_y:68.76,angle_z:0},uet={angle_x:12.24,angle_y:88.2,angle_z:3.96},fet={angle_x:12.33,angle_y:61.86,angle_z:0},het={angle_x:12.24,angle_y:183.24,angle_z:7.92},det={angle_x:0,angle_y:29.16,angle_z:0},get={angle_x:0,angle_y:87.12,angle_z:0},pet={angle_x:0,angle_y:68.76,angle_z:0},_et={angle_x:0,angle_y:224.64,angle_z:0},met={angle_x:0,angle_y:81,angle_z:0},yet={angle_x:10.08,angle_y:196.2,angle_z:0},bet={angle_x:5.46,angle_y:333.72,angle_z:0},vet={angle_x:7.92,angle_y:90.36,angle_z:10.08},wet={angle_x:0,angle_y:336.96,angle_z:0},Let={angle_x:0,angle_y:170.64,angle_z:0},xet={angle_x:12.24,angle_y:114.48,angle_z:6.12},Ret={angle_x:0,angle_y:302.4,angle_z:0},Bet={angle_x:0,angle_y:293.4,angle_z:0},Eet={angle_x:0,angle_y:37.08,angle_z:0},Cet={angle_x:0,angle_y:117.36,angle_z:0},Iet={angle_x:0,angle_y:244.8,angle_z:0},Tet={angle_x:0,angle_y:120.96,angle_z:0},Met={angle_x:0,angle_y:206.28,angle_z:7.92},Fet={angle_x:0,angle_y:7.92,angle_z:0},Uet={angle_x:0,angle_y:54.72,angle_z:0},Net={angle_x:0,angle_y:46.44,angle_z:0},ket={angle_x:6.12,angle_y:352.08,angle_z:10.08},Pet={angle_x:7.66,angle_y:311.4,angle_z:5.4},Det={angle_x:0,angle_y:0,angle_z:0},Oet={angle_x:2.1,angle_y:18.9,angle_z:15.15},zet={angle_x:0,angle_y:50.4,angle_z:0},Het={angle_x:0,angle_y:19.44,angle_z:0},Qet={angle_x:0,angle_y:315.36,angle_z:0},jet={angle_x:0,angle_y:333.36,angle_z:0},Yet={angle_x:0,angle_y:346.68,angle_z:0},Get={angle_x:357.37,angle_y:22.68,angle_z:8.67},Vet={angle_x:11.62,angle_y:226.44,angle_z:16.85},Ket={angle_x:0,angle_y:147.6,angle_z:6.12},$et={angle_x:0,angle_y:11.88,angle_z:6.85},Wet={angle_x:0,angle_y:247.68,angle_z:0},qet={angle_x:0,angle_y:7.92,angle_z:0},Xet={angle_x:6.12,angle_y:88.92,angle_z:7.92},Jet={angle_x:0,angle_y:0,angle_z:0},Zet={angle_x:0,angle_y:171.72,angle_z:0},ett={angle_x:10.08,angle_y:42.48,angle_z:7.92},ttt={angle_x:0,angle_y:44.28,angle_z:0},ntt={angle_x:0,angle_y:94.68,angle_z:0},rtt={angle_x:0,angle_y:28.08,angle_z:0},itt={angle_x:0,angle_y:160.92,angle_z:0},stt={angle_x:0,angle_y:28.44,angle_z:0},att={angle_x:0,angle_y:50.4,angle_z:0},ott={angle_x:0,angle_y:222.84,angle_z:0},ltt={angle_x:0,angle_y:236.16,angle_z:0},ctt={angle_x:0,angle_y:0,angle_z:0},Att={angle_x:0,angle_y:20.16,angle_z:0},utt={angle_x:0,angle_y:178.56,angle_z:0},ftt={angle_x:0,angle_y:19.44,angle_z:0},htt={angle_x:0,angle_y:76.68,angle_z:0},dtt={angle_x:0,angle_y:145.44,angle_z:0},gtt={angle_x:0,angle_y:37.08,angle_z:0},ptt={angle_x:0,angle_y:64.8,angle_z:0},_tt={angle_x:7.92,angle_y:32.4,angle_z:0},mtt={angle_x:0,angle_y:205.92,angle_z:0},ytt={angle_x:0,angle_y:28.44,angle_z:0},btt={angle_x:12.24,angle_y:157.68,angle_z:0},vtt={angle_x:0,angle_y:346.68,angle_z:0},wtt={angle_x:0,angle_y:14.04,angle_z:8.31},Ltt={angle_x:0,angle_y:0,angle_z:0},xtt={angle_x:6.37,angle_y:224.28,angle_z:14.45},Rtt={angle_x:0,angle_y:333.36,angle_z:0},Btt={angle_x:0,angle_y:0,angle_z:0},Ett={angle_x:0,angle_y:0,angle_z:0},Ctt={angle_x:2.16,angle_y:19.44,angle_z:12.24},Itt={angle_x:0,angle_y:50.4,angle_z:0},Ttt={angle_x:3.23,angle_y:28.08,angle_z:13.26},Mtt={angle_x:7.33,angle_y:0,angle_z:0},Stt={angle_x:0,angle_y:315.72,angle_z:0},Ftt={angle_x:0,angle_y:54.72,angle_z:0},Utt={angle_x:0,angle_y:0,angle_z:13.72},Ntt={angle_x:0,angle_y:58.68,angle_z:0},ktt={angle_x:0,angle_y:196.2,angle_z:0},Ptt={angle_x:0,angle_y:324.72,angle_z:0},Dtt={angle_x:0,angle_y:99,angle_z:0},Ott={angle_x:0,angle_y:206.28,angle_z:0},ztt={angle_x:0,angle_y:0,angle_z:0},Htt={angle_x:0,angle_y:32.4,angle_z:0},Qtt={angle_x:0,angle_y:41.4,angle_z:0},jtt={angle_x:0,angle_y:279,angle_z:0},Ytt={angle_x:0,angle_y:208.08,angle_z:0},Gtt={angle_x:16.2,angle_y:114.48,angle_z:12.24},Vtt={angle_x:7.92,angle_y:98.28,angle_z:2.16},Ktt={angle_x:0,angle_y:0,angle_z:0},$tt={angle_x:6.84,angle_y:303.48,angle_z:0},Wtt={angle_x:20.16,angle_y:171.72,angle_z:0},qtt={angle_x:0,angle_y:74.88,angle_z:0},Xtt={angle_x:2.16,angle_y:0,angle_z:0},Jtt={angle_x:0,angle_y:228.6,angle_z:0},Ztt={angle_x:18.36,angle_y:171.72,angle_z:10.08},ent={angle_x:16.2,angle_y:180,angle_z:0},tnt={angle_x:0,angle_y:222.48,angle_z:0},nnt={angle_x:14.52,angle_y:0,angle_z:0},rnt={angle_x:10.08,angle_y:78.12,angle_z:3.96},int={angle_x:7.92,angle_y:144.72,angle_z:6.12},snt={angle_x:18.36,angle_y:244.8,angle_z:0},ant={angle_x:0,angle_y:36.36,angle_z:0},ont={angle_x:0,angle_y:32.4,angle_z:0},lnt={angle_x:0,angle_y:151.92,angle_z:0},cnt={angle_x:0,angle_y:194.04,angle_z:0},Ant={angle_x:6.12,angle_y:216.36,angle_z:7.92},unt={angle_x:0,angle_y:0,angle_z:0},fnt={angle_x:0,angle_y:0,angle_z:0},hnt={angle_x:192.57,angle_y:357.78,angle_z:168.59},dnt={angle_x:0,angle_y:81.36,angle_z:0},gnt={angle_x:178.29,angle_y:313.93,angle_z:167.21},pnt={angle_x:0,angle_y:0,angle_z:0},_nt={angle_x:182.84,angle_y:267.13,angle_z:175.52},mnt={angle_x:0,angle_y:32.4,angle_z:0},ynt={angle_x:0,angle_y:50.4,angle_z:0},bnt={angle_x:0,angle_y:338.04,angle_z:0},vnt={angle_x:8.26,angle_y:28.08,angle_z:356.67},wnt={angle_x:0,angle_y:240.48,angle_z:0},Lnt={angle_x:0,angle_y:0,angle_z:0},xnt={angle_x:12.24,angle_y:236.52,angle_z:0},Rnt={angle_x:357.84,angle_y:45.72,angle_z:12.24},Bnt={angle_x:0,angle_y:328.68,angle_z:0},Ent={angle_x:2.16,angle_y:45.72,angle_z:3.96},Cnt={angle_x:0,angle_y:302.4,angle_z:0},Int={angle_x:0,angle_y:3.96,angle_z:0},Tnt={angle_x:0,angle_y:351,angle_z:0},Mnt={angle_x:192.24,angle_y:210.24,angle_z:176.04},Snt={angle_x:0,angle_y:50.4,angle_z:0},Fnt={angle_x:0,angle_y:18.72,angle_z:0},Unt={angle_x:7.15,angle_y:226.44,angle_z:354.65},Nnt={angle_x:0,angle_y:151.92,angle_z:0},knt={angle_x:0,angle_y:30.24,angle_z:0},Pnt={angle_x:0,angle_y:147.6,angle_z:0},Dnt={angle_x:349.2,angle_y:25.56,angle_z:0},Ont={angle_x:0,angle_y:324.72,angle_z:0},znt={angle_x:0,angle_y:70.2,angle_z:6.64},Hnt={angle_x:0,angle_y:165.24,angle_z:0},Qnt={angle_x:0,angle_y:34.2,angle_z:0},jnt={angle_x:0,angle_y:174.24,angle_z:0},Ynt={angle_x:5.1,angle_y:202.32,angle_z:355},Gnt={angle_x:0,angle_y:20.88,angle_z:0},Vnt={angle_x:0,angle_y:54.72,angle_z:0},Knt={angle_x:0,angle_y:76.68,angle_z:2.16},$nt={angle_x:0,angle_y:338.04,angle_z:0},Wnt={angle_x:7.92,angle_y:32.4,angle_z:0},qnt={angle_x:0,angle_y:14.04,angle_z:0},Xnt={angle_x:0,angle_y:338.04,angle_z:0},Jnt={angle_x:0,angle_y:299.52,angle_z:0},Znt={angle_x:0,angle_y:59.04,angle_z:0},ert={angle_x:0,angle_y:249.48,angle_z:0},trt={angle_x:0,angle_y:341.64,angle_z:0},nrt={angle_x:10.08,angle_y:246.6,angle_z:0},rrt={angle_x:7.92,angle_y:38.52,angle_z:0},irt={angle_x:0,angle_y:333.36,angle_z:0},srt={angle_x:0,angle_y:335.16,angle_z:0},art={angle_x:0,angle_y:32.4,angle_z:0},ort={angle_x:0,angle_y:0,angle_z:0},lrt={angle_x:0,angle_y:35.64,angle_z:0},crt={angle_x:4.32,angle_y:138.6,angle_z:5.45},Art={angle_x:0,angle_y:32.4,angle_z:0},urt={angle_x:0,angle_y:22.68,angle_z:0},frt={angle_x:0,angle_y:94.68,angle_z:0},hrt={angle_x:16.49,angle_y:197.64,angle_z:5.12},drt={angle_x:349.92,angle_y:238.68,angle_z:20.16},grt={angle_x:0,angle_y:0,angle_z:0},prt={angle_x:0,angle_y:214.2,angle_z:0},_rt={angle_x:0,angle_y:120.96,angle_z:0},mrt={angle_x:353.88,angle_y:57.96,angle_z:0},yrt={angle_x:18.36,angle_y:234.72,angle_z:0},brt={angle_x:0,angle_y:50.4,angle_z:0},vrt={angle_x:14.04,angle_y:130.68,angle_z:0},wrt={angle_x:10.08,angle_y:88.2,angle_z:0},Lrt={angle_x:12.08,angle_y:0,angle_z:0},xrt={angle_x:10.08,angle_y:186.12,angle_z:0},Rrt={angle_x:0,angle_y:213.12,angle_z:0},Brt={angle_x:0,angle_y:181.08,angle_z:0},Ert={angle_x:20.16,angle_y:127.44,angle_z:0},Crt={angle_x:0,angle_y:238.68,angle_z:0},Irt={angle_x:0,angle_y:84.96,angle_z:0},Trt={angle_x:16.2,angle_y:200.16,angle_z:3.96},Mrt={angle_x:14.04,angle_y:186.12,angle_z:10.08},Srt={angle_x:0,angle_y:119.16,angle_z:0},Frt={angle_x:6.26,angle_y:57.61,angle_z:0},Urt={angle_x:0,angle_y:190.08,angle_z:0},Nrt={angle_x:14.04,angle_y:252.72,angle_z:0},krt={angle_x:12.24,angle_y:128.88,angle_z:2.16},Prt={angle_x:0,angle_y:198,angle_z:0},Drt={angle_x:0,angle_y:151.92,angle_z:0},Ort={angle_x:18.11,angle_y:186.12,angle_z:8.94},zrt={angle_x:0,angle_y:326.52,angle_z:0},Hrt={angle_x:0,angle_y:319.68,angle_z:0},Qrt={angle_x:12.24,angle_y:189.36,angle_z:3.96},jrt={angle_x:0,angle_y:20.16,angle_z:0},Yrt={angle_x:0,angle_y:346.68,angle_z:5.25},Grt={angle_x:4.57,angle_y:116.64,angle_z:7.53},Vrt={angle_x:0,angle_y:23.76,angle_z:14.14},Krt={angle_x:0,angle_y:54.72,angle_z:351.71},$rt={angle_x:0,angle_y:28.08,angle_z:0},Wrt={angle_x:18.36,angle_y:234.72,angle_z:0},qrt={angle_x:0,angle_y:325.44,angle_z:0},Xrt={angle_x:0,angle_y:279,angle_z:0},Jrt={angle_x:187.92,angle_y:211.43,angle_z:180.69},Zrt={angle_x:0,angle_y:72.36,angle_z:0},eit={angle_x:16.2,angle_y:226.44,angle_z:11.6},tit={angle_x:0,angle_y:297.36,angle_z:6.84},nit={angle_x:0,angle_y:353.88,angle_z:0},rit={angle_x:0,angle_y:178.56,angle_z:0},iit={angle_x:10.08,angle_y:32.4,angle_z:0},sit={angle_x:0,angle_y:35.28,angle_z:0},ait={angle_x:349.2,angle_y:244.8,angle_z:355.32},oit={angle_x:0,angle_y:112.32,angle_z:0},lit={angle_x:353.88,angle_y:62.28,angle_z:4.32},cit={angle_x:0,angle_y:39.6,angle_z:0},Ait={angle_x:0,angle_y:151.92,angle_z:0},uit={angle_x:0,angle_y:125.64,angle_z:0},fit={angle_x:0,angle_y:315.36,angle_z:0},hit={angle_x:0,angle_y:342.36,angle_z:0},dit={angle_x:0,angle_y:249.48,angle_z:0},git={angle_x:0,angle_y:290.52,angle_z:0},pit={angle_x:0,angle_y:143.28,angle_z:0},_it={angle_x:0,angle_y:182.88,angle_z:0},mit={angle_x:0,angle_y:39.6,angle_z:0},yit={angle_x:0,angle_y:156.6,angle_z:0},bit={angle_x:0,angle_y:78.84,angle_z:0},vit={angle_x:0,angle_y:102.96,angle_z:0},wit={angle_x:12.24,angle_y:23.76,angle_z:0},Lit={angle_x:0,angle_y:37.08,angle_z:0},xit={angle_x:0,angle_y:59.04,angle_z:0},Rit={angle_x:0,angle_y:187.56,angle_z:0},Bit={angle_x:0,angle_y:341.64,angle_z:0},Eit={angle_x:.73,angle_y:279.73,angle_z:8.99},Cit={angle_x:16.2,angle_y:176.04,angle_z:0},Iit={angle_x:0,angle_y:249.48,angle_z:7.92},Tit={angle_x:0,angle_y:63.36,angle_z:0},Mit={angle_x:0,angle_y:314.28,angle_z:0},Sit={angle_x:0,angle_y:0,angle_z:0},Fit={angle_x:12.6,angle_y:242.64,angle_z:0},Uit={angle_x:0,angle_y:337.68,angle_z:0},Nit={angle_x:1.72,angle_y:49.94,angle_z:4.12},kit={angle_x:0,angle_y:68.04,angle_z:0},Pit={angle_x:0,angle_y:35.64,angle_z:7.09},Dit={angle_x:4.19,angle_y:143.28,angle_z:9.78},Oit={angle_x:5.1,angle_y:336.96,angle_z:5.1},zit={angle_x:0,angle_y:48.6,angle_z:0},Hit={angle_x:0,angle_y:335.88,angle_z:0},Qit={angle_x:12.24,angle_y:108,angle_z:10.08},jit={angle_x:18.36,angle_y:194.04,angle_z:356.04},Yit={angle_x:0,angle_y:18.72,angle_z:0},Git={angle_x:10.44,angle_y:72.36,angle_z:0},Vit={angle_x:0,angle_y:194.04,angle_z:0},Kit={angle_x:7.92,angle_y:117.36,angle_z:3.96},$it={angle_x:16.2,angle_y:222.48,angle_z:6.12},Wit={angle_x:0,angle_y:193.32,angle_z:0},qit={angle_x:0,angle_y:94.68,angle_z:0},Xit={angle_x:14.04,angle_y:176.04,angle_z:6.12},Jit={angle_x:0,angle_y:119.16,angle_z:0},Zit={angle_x:0,angle_y:237.24,angle_z:0},est={angle_x:16.2,angle_y:204.12,angle_z:0},tst={angle_x:0,angle_y:86.76,angle_z:0},nst={angle_x:0,angle_y:76.68,angle_z:0},rst={angle_x:0,angle_y:64.44,angle_z:0},ist={angle_x:20.16,angle_y:165.96,angle_z:0},sst={angle_x:0,angle_y:208.8,angle_z:0},ast={angle_x:0,angle_y:186.12,angle_z:0},ost={angle_x:22.32,angle_y:159.84,angle_z:12.24},lst={angle_x:0,angle_y:165.24,angle_z:0},cst={angle_x:0,angle_y:7.92,angle_z:0},Ast={angle_x:15.54,angle_y:244.8,angle_z:12.33},ust={angle_x:19.44,angle_y:264.24,angle_z:360},fst={angle_x:183.73,angle_y:289.86,angle_z:172.66},hst={angle_x:0,angle_y:0,angle_z:0},dst={angle_x:0,angle_y:93.84,angle_z:4.04},gst={angle_x:0,angle_y:0,angle_z:0},pst={angle_x:0,angle_y:52.56,angle_z:3.96},_st={angle_x:10.08,angle_y:196.2,angle_z:0},mst={angle_x:0,angle_y:333.36,angle_z:0},yst={angle_x:0,angle_y:45.72,angle_z:0},bst={angle_x:3.96,angle_y:32.4,angle_z:0},vst={angle_x:0,angle_y:0,angle_z:0},wst={angle_x:0,angle_y:50.4,angle_z:14.04},Lst={angle_x:12.24,angle_y:244.8,angle_z:0},xst={angle_x:1.44,angle_y:253.8,angle_z:10.44},Rst={angle_x:0,angle_y:261,angle_z:0},Bst={angle_x:10.08,angle_y:258.84,angle_z:0},Est={angle_x:6.12,angle_y:242.64,angle_z:4.32},Cst={angle_x:0,angle_y:309.6,angle_z:0},Ist={angle_x:0,angle_y:301.68,angle_z:0},Tst={angle_x:0,angle_y:268.92,angle_z:0},Mst={angle_x:6.29,angle_y:216.36,angle_z:0},Sst={angle_x:0,angle_y:68.04,angle_z:0},Fst={angle_x:0,angle_y:30.24,angle_z:0},Ust={angle_x:7.92,angle_y:36.36,angle_z:10.44},Nst={angle_x:0,angle_y:164.52,angle_z:0},kst={angle_x:0,angle_y:95.4,angle_z:0},Pst={angle_x:0,angle_y:213.84,angle_z:0},Dst={angle_x:0,angle_y:329.04,angle_z:0},Ost={angle_x:12.24,angle_y:16.2,angle_z:0},zst={angle_x:0,angle_y:319.68,angle_z:0},Hst={angle_x:0,angle_y:0,angle_z:0},Qst={angle_x:0,angle_y:134.28,angle_z:0},jst={angle_x:0,angle_y:85.68,angle_z:0},Yst={angle_x:0,angle_y:94.68,angle_z:0},Gst={angle_x:4.25,angle_y:120.96,angle_z:.33},Vst={angle_x:0,angle_y:26.28,angle_z:0},Kst={angle_x:0,angle_y:311.4,angle_z:0},$st={angle_x:7.23,angle_y:10.44,angle_z:0},Wst={angle_x:10.08,angle_y:28.08,angle_z:6.12},qst={angle_x:0,angle_y:143.64,angle_z:0},Xst={angle_x:10.08,angle_y:30.24,angle_z:7.92},Jst={angle_x:0,angle_y:200.88,angle_z:0},Zst={angle_x:0,angle_y:41.4,angle_z:0},eat={angle_x:0,angle_y:0,angle_z:0},tat={angle_x:0,angle_y:30.24,angle_z:0},nat={angle_x:8.87,angle_y:189.36,angle_z:337.52},rat={angle_x:0,angle_y:279,angle_z:0},iat={angle_x:0,angle_y:301.68,angle_z:0},sat={angle_x:10.08,angle_y:267.48,angle_z:356.04},aat={angle_x:0,angle_y:7.92,angle_z:0},oat={angle_x:0,angle_y:0,angle_z:0},lat={angle_x:10.08,angle_y:242.64,angle_z:0},cat={angle_x:6.12,angle_y:227.16,angle_z:14.76},Aat={angle_x:14.4,angle_y:255.24,angle_z:0},uat={angle_x:0,angle_y:346.68,angle_z:0},fat={angle_x:0,angle_y:41.4,angle_z:0},hat={angle_x:3.96,angle_y:19.44,angle_z:6.12},dat={angle_x:0,angle_y:14.76,angle_z:0},gat={angle_x:14.04,angle_y:212.4,angle_z:0},pat={angle_x:0,angle_y:315.72,angle_z:0},_at={angle_x:0,angle_y:322.56,angle_z:0},mat={angle_x:32.4,angle_y:190.08,angle_z:0},yat={angle_x:3.33,angle_y:116.64,angle_z:11.69},bat={angle_x:3.92,angle_y:0,angle_z:350.93},vat={angle_x:181.83,angle_y:276.92,angle_z:168.77},wat={angle_x:18.36,angle_y:163.08,angle_z:0},Lat={angle_x:6.12,angle_y:196.2,angle_z:7.92},xat={angle_x:0,angle_y:30.24,angle_z:0},Rat={angle_x:0,angle_y:178.56,angle_z:0},Bat={angle_x:0,angle_y:187.92,angle_z:0},Eat={angle_x:2.16,angle_y:102.96,angle_z:16.2},Cat={angle_x:22.32,angle_y:163.8,angle_z:0},Iat={angle_x:0,angle_y:204.12,angle_z:0},Tat={angle_x:0,angle_y:68.04,angle_z:0},Mat={angle_x:0,angle_y:0,angle_z:0},Sat={angle_x:14.04,angle_y:130.68,angle_z:6.12},Fat={angle_x:0,angle_y:85.68,angle_z:0},Uat={angle_x:12.24,angle_y:196.2,angle_z:10.08},Nat={angle_x:0,angle_y:234.72,angle_z:0},kat={angle_x:0,angle_y:230.76,angle_z:0},Pat={angle_x:12.75,angle_y:123.48,angle_z:5.84},Dat={angle_x:0,angle_y:40.32,angle_z:0},Oat={angle_x:0,angle_y:191.88,angle_z:0},zat={angle_x:13.32,angle_y:270.36,angle_z:0},Hat={angle_x:0,angle_y:74.88,angle_z:0},Qat={angle_x:0,angle_y:182.88,angle_z:0},jat={angle_x:16.2,angle_y:317.52,angle_z:0},Yat={angle_x:0,angle_y:93.33,angle_z:6.24},Gat={angle_x:7.76,angle_y:137.73,angle_z:4.64},Vat={angle_x:0,angle_y:90,angle_z:0},Kat={angle_x:0,angle_y:0,angle_z:0},$at={angle_x:20.16,angle_y:218.52,angle_z:0},Wat={angle_x:1.26,angle_y:169.56,angle_z:9.49},qat={angle_x:21.16,angle_y:165.96,angle_z:5.68},Xat={angle_x:0,angle_y:0,angle_z:0},Jat={angle_x:0,angle_y:6.12,angle_z:0},Zat={angle_x:0,angle_y:10.44,angle_z:0},eot={angle_x:356.08,angle_y:307.44,angle_z:9.49},tot={angle_x:0,angle_y:262.8,angle_z:6.12},not={angle_x:360,angle_y:72.36,angle_z:351.36},rot={angle_x:0,angle_y:327.6,angle_z:0},iot={angle_x:6.12,angle_y:0,angle_z:0},sot={angle_x:3.96,angle_y:37.08,angle_z:6.12},aot={angle_x:10.08,angle_y:206.28,angle_z:0},oot={angle_x:0,angle_y:216.36,angle_z:0},lot={angle_x:0,angle_y:272.88,angle_z:0},cot={angle_x:0,angle_y:257.4,angle_z:0},Aot={angle_x:0,angle_y:30.24,angle_z:0},uot={angle_x:0,angle_y:19.44,angle_z:0},fot={angle_x:10.08,angle_y:20.16,angle_z:0},hot={angle_x:0,angle_y:125.64,angle_z:0},dot={angle_x:0,angle_y:191.88,angle_z:0},got={angle_x:0,angle_y:0,angle_z:0},pot={angle_x:0,angle_y:12.24,angle_z:0},_ot={angle_x:0,angle_y:125.64,angle_z:0},mot={angle_x:0,angle_y:76.68,angle_z:0},yot={angle_x:359.59,angle_y:43.02,angle_z:6.47},bot={angle_x:0,angle_y:68.76,angle_z:9.35},vot={angle_x:0,angle_y:103.32,angle_z:0},wot={angle_x:0,angle_y:129.96,angle_z:0},Lot={angle_x:0,angle_y:275.04,angle_z:0},xot={angle_x:0,angle_y:22.32,angle_z:0},Rot={angle_x:0,angle_y:200.88,angle_z:0},Bot={angle_x:10.08,angle_y:30.24,angle_z:3.96},Eot={angle_x:0,angle_y:0,angle_z:0},Cot={angle_x:0,angle_y:0,angle_z:0},Iot={angle_x:0,angle_y:174.6,angle_z:351.52},Tot={angle_x:0,angle_y:26.28,angle_z:0},Mot={angle_x:0,angle_y:257.4,angle_z:0},Sot={angle_x:0,angle_y:317.52,angle_z:0},Fot={angle_x:14.04,angle_y:228.6,angle_z:357.84},Uot={angle_x:357.84,angle_y:50.4,angle_z:349.2},Not={angle_x:0,angle_y:287.28,angle_z:0},kot={angle_x:0,angle_y:291.24,angle_z:0},Pot={angle_x:10.08,angle_y:289.08,angle_z:7.92},Dot={angle_x:3.96,angle_y:50.4,angle_z:7.92},Oot={angle_x:355.1,angle_y:291.24,angle_z:6.31},zot={angle_x:0,angle_y:271.44,angle_z:0},Hot={angle_x:5.15,angle_y:50.4,angle_z:354.62},Qot={angle_x:0,angle_y:28.08,angle_z:0},jot={angle_x:20.16,angle_y:169.92,angle_z:360},Yot={angle_x:0,angle_y:345.6,angle_z:0},Got={angle_x:0,angle_y:0,angle_z:0},Vot={angle_x:0,angle_y:187.56,angle_z:11.62},Kot={angle_x:7.92,angle_y:212.4,angle_z:0},$ot={angle_x:0,angle_y:151.92,angle_z:10.64},Wot={angle_x:0,angle_y:63.36,angle_z:0},qot={angle_x:0,angle_y:107.01,angle_z:13.01},Xot={angle_x:10.08,angle_y:311.4,angle_z:6.12},Jot={angle_x:0,angle_y:81,angle_z:0},Zot={angle_x:13.19,angle_y:252,angle_z:0},elt={angle_x:0,angle_y:174.24,angle_z:0},tlt={angle_x:0,angle_y:182.88,angle_z:0},nlt={angle_x:0,angle_y:22.32,angle_z:0},rlt={angle_x:0,angle_y:226.44,angle_z:0},ilt={angle_x:30.24,angle_y:109.08,angle_z:0},slt={angle_x:20.16,angle_y:222.48,angle_z:0},alt={angle_x:0,angle_y:167.76,angle_z:0},olt={angle_x:0,angle_y:236.16,angle_z:0},llt={angle_x:12.24,angle_y:153,angle_z:7.92},clt={angle_x:350.56,angle_y:96.84,angle_z:19.34},Alt={angle_x:0,angle_y:213.12,angle_z:0},ult={angle_x:0,angle_y:291.24,angle_z:0},flt={angle_x:0,angle_y:0,angle_z:0},hlt={angle_x:0,angle_y:172.8,angle_z:0},dlt={angle_x:11.97,angle_y:138.87,angle_z:2.86},glt={angle_x:5.48,angle_y:150.82,angle_z:.68},plt={angle_x:8.16,angle_y:142.92,angle_z:8.34},_lt={angle_x:0,angle_y:251.64,angle_z:0},mlt={angle_x:0,angle_y:189.36,angle_z:9.5},ylt={angle_x:0,angle_y:0,angle_z:0},blt={angle_x:0,angle_y:135.36,angle_z:0},vlt={angle_x:0,angle_y:262.8,angle_z:0},wlt={angle_x:0,angle_y:314.28,angle_z:0},Llt={angle_x:11.7,angle_y:115.2,angle_z:0},xlt={angle_x:16.2,angle_y:24.12,angle_z:7.92},Rlt={angle_x:0,angle_y:314.28,angle_z:0},Blt={angle_x:0,angle_y:342.36,angle_z:0},Elt={angle_x:182.16,angle_y:26.28,angle_z:155.88},Clt={angle_x:0,angle_y:342.36,angle_z:0},Ilt={angle_x:0,angle_y:198,angle_z:0},Tlt={angle_x:0,angle_y:245.52,angle_z:0},Mlt={angle_x:0,angle_y:280.44,angle_z:0},Slt={angle_x:7.92,angle_y:66.6,angle_z:6.12},Flt={angle_x:6.94,angle_y:333.36,angle_z:7.05},Ult={angle_x:0,angle_y:173.88,angle_z:0},Nlt={angle_x:0,angle_y:307.44,angle_z:0},klt={angle_x:9.73,angle_y:256.68,angle_z:8.43},Plt={angle_x:2.16,angle_y:324.72,angle_z:0},Dlt={angle_x:10.08,angle_y:1.8,angle_z:3.96},Olt={angle_x:3.96,angle_y:351,angle_z:0},zlt={angle_x:15,angle_y:344.39,angle_z:0},Hlt={angle_x:7.92,angle_y:50.4,angle_z:0},Qlt={angle_x:0,angle_y:160.2,angle_z:0},jlt={angle_x:0,angle_y:165.24,angle_z:0},Ylt={angle_x:3.99,angle_y:169.4,angle_z:7.91},Glt={angle_x:11.52,angle_y:249.48,angle_z:0},Vlt={angle_x:0,angle_y:50.4,angle_z:0},Klt={angle_x:0,angle_y:23.76,angle_z:0},$lt={angle_x:0,angle_y:14.76,angle_z:0},Wlt={angle_x:0,angle_y:194.04,angle_z:0},qlt={angle_x:0,angle_y:0,angle_z:0},Xlt={angle_x:7.56,angle_y:13.32,angle_z:9.36},Jlt={angle_x:8.71,angle_y:289.08,angle_z:3.99},Zlt={angle_x:0,angle_y:258.12,angle_z:0},ect={angle_x:0,angle_y:0,angle_z:0},tct={angle_x:0,angle_y:0,angle_z:0},nct={angle_x:0,angle_y:63.36,angle_z:0},rct={angle_x:4.87,angle_y:349.74,angle_z:0},ict={angle_x:10.08,angle_y:20.16,angle_z:7.92},sct={angle_x:0,angle_y:190.08,angle_z:0},act={angle_x:0,angle_y:10.44,angle_z:0},oct={angle_x:0,angle_y:342.36,angle_z:0},lct={angle_x:0,angle_y:68.04,angle_z:0},cct={angle_x:0,angle_y:0,angle_z:0},Act={angle_x:10.44,angle_y:170.74,angle_z:3.43},uct={angle_x:5.4,angle_y:289.08,angle_z:0},fct={angle_x:0,angle_y:30.96,angle_z:0},hct={angle_x:173.52,angle_y:36.72,angle_z:175.68},dct={angle_x:0,angle_y:165.24,angle_z:0},gct={angle_x:16.54,angle_y:0,angle_z:8.56},pct={angle_x:2.16,angle_y:338.04,angle_z:3.24},_ct={angle_x:12.24,angle_y:52.56,angle_z:0},mct={angle_x:355.32,angle_y:339.12,angle_z:0},yct={angle_x:12.24,angle_y:267.12,angle_z:9.63},bct={angle_x:0,angle_y:299.16,angle_z:0},vct={angle_x:10.48,angle_y:333.36,angle_z:4.55},wct={angle_x:0,angle_y:187.92,angle_z:0},Lct={angle_x:0,angle_y:271.44,angle_z:0},xct={angle_x:3.96,angle_y:107.64,angle_z:12.24},Rct={angle_x:0,angle_y:181.48,angle_z:5},Bct={angle_x:0,angle_y:222.48,angle_z:0},Ect={angle_x:0,angle_y:333.36,angle_z:0},Cct={angle_x:8.28,angle_y:274.68,angle_z:0},Ict={angle_x:0,angle_y:329.04,angle_z:0},Tct={angle_x:14.27,angle_y:3.96,angle_z:5.99},Mct={angle_x:0,angle_y:320.4,angle_z:0},Sct={angle_x:0,angle_y:311.4,angle_z:0},Fct={angle_x:14.77,angle_y:113.04,angle_z:6.49},Uct={angle_x:0,angle_y:0,angle_z:0},Nct={angle_x:0,angle_y:131.4,angle_z:0},kct={angle_x:0,angle_y:223.92,angle_z:0},Pct={angle_x:4.25,angle_y:195.48,angle_z:14.45},Dct={angle_x:0,angle_y:170.64,angle_z:0},Oct={angle_x:14.19,angle_y:169.92,angle_z:8.31},zct={angle_x:6.97,angle_y:183.96,angle_z:10.59},Hct={angle_x:0,angle_y:20.52,angle_z:0},Qct={angle_x:0,angle_y:343.8,angle_z:0},jct={angle_x:7.18,angle_y:162.36,angle_z:355.84},Yct={angle_x:0,angle_y:174.6,angle_z:0},Gct={angle_x:12.7,angle_y:26.28,angle_z:4.95},Vct={angle_x:0,angle_y:226.44,angle_z:0},Kct={angle_x:17.85,angle_y:181.08,angle_z:10.64},$ct={angle_x:0,angle_y:277.2,angle_z:0},Wct={angle_x:0,angle_y:217.44,angle_z:0},qct={angle_x:12.93,angle_y:10.59,angle_z:358.82},Xct={angle_x:0,angle_y:262.08,angle_z:0},Jct={angle_x:11.29,angle_y:14.04,angle_z:14.77},Zct={angle_x:0,angle_y:202.32,angle_z:0},e0t={angle_x:0,angle_y:66.6,angle_z:0},t0t={angle_x:180.77,angle_y:15.48,angle_z:171.63},n0t={angle_x:0,angle_y:153,angle_z:10.84},r0t={angle_x:0,angle_y:258.12,angle_z:0},i0t={angle_x:0,angle_y:137.52,angle_z:0},s0t={angle_x:0,angle_y:287.28,angle_z:0},a0t={angle_x:18.36,angle_y:46.44,angle_z:12.24},o0t={angle_x:0,angle_y:0,angle_z:0},l0t={angle_x:13.24,angle_y:111.24,angle_z:.25},c0t={angle_x:0,angle_y:305.28,angle_z:0},A0t={angle_x:181.71,angle_y:273.99,angle_z:173.02},u0t={angle_x:0,angle_y:0,angle_z:0},f0t={angle_x:0,angle_y:279,angle_z:0},h0t={angle_x:0,angle_y:216.36,angle_z:12.03},d0t={angle_x:0,angle_y:224.28,angle_z:0},g0t={angle_x:0,angle_y:307.08,angle_z:0},p0t={angle_x:15.54,angle_y:303.48,angle_z:.38},_0t={angle_x:0,angle_y:0,angle_z:0},m0t={angle_x:0,angle_y:280.44,angle_z:0},y0t={angle_x:0,angle_y:195.12,angle_z:0},b0t={angle_x:360,angle_y:342.36,angle_z:1.44},v0t={angle_x:0,angle_y:0,angle_z:0},w0t={angle_x:0,angle_y:0,angle_z:0},L0t={angle_x:190.08,angle_y:173.88,angle_z:172.08},x0t={angle_x:10.08,angle_y:16.2,angle_z:0},R0t={angle_x:0,angle_y:204.12,angle_z:0},B0t={angle_x:0,angle_y:160.92,angle_z:9.73},E0t={angle_x:0,angle_y:160.92,angle_z:0},C0t={angle_x:173.52,angle_y:20.16,angle_z:171.36},I0t={angle_x:0,angle_y:14.76,angle_z:0},T0t={angle_x:0,angle_y:76.68,angle_z:0},M0t={angle_x:0,angle_y:0,angle_z:0},S0t={angle_x:10.58,angle_y:309.6,angle_z:0},F0t={angle_x:0,angle_y:0,angle_z:0},U0t={angle_x:0,angle_y:347.04,angle_z:11.31},N0t={angle_x:0,angle_y:72.72,angle_z:0},k0t={angle_x:0,angle_y:37.08,angle_z:0},P0t={angle_x:14.04,angle_y:60.48,angle_z:0},D0t={angle_x:0,angle_y:0,angle_z:0},O0t={angle_x:0,angle_y:240.12,angle_z:0},z0t={angle_x:0,angle_y:227.16,angle_z:0},H0t={angle_x:0,angle_y:0,angle_z:0},Q0t={angle_x:0,angle_y:50.4,angle_z:0},j0t={angle_x:10.08,angle_y:30.24,angle_z:0},Y0t={angle_x:0,angle_y:342.36,angle_z:0},G0t={angle_x:7.42,angle_y:345.6,angle_z:358.16},V0t={angle_x:0,angle_y:0,angle_z:0},K0t={angle_x:0,angle_y:324.72,angle_z:0},$0t={angle_x:14.7,angle_y:276.84,angle_z:0},W0t={angle_x:0,angle_y:32.4,angle_z:0},q0t={angle_x:0,angle_y:23.76,angle_z:0},X0t={angle_x:6.12,angle_y:151.92,angle_z:0},J0t={angle_x:169.56,angle_y:28.44,angle_z:173.52},Z0t={angle_x:4.22,angle_y:54.72,angle_z:6.95},eAt={angle_x:0,angle_y:165.24,angle_z:11.59},tAt={angle_x:0,angle_y:180,angle_z:0},nAt={angle_x:192.24,angle_y:186.12,angle_z:173.88},rAt={angle_x:0,angle_y:0,angle_z:0},iAt={angle_x:0,angle_y:323.64,angle_z:0},sAt={angle_x:0,angle_y:181.44,angle_z:0},aAt={angle_x:1.44,angle_y:351,angle_z:0},oAt={angle_x:18.36,angle_y:254.88,angle_z:0},lAt={angle_x:0,angle_y:284.76,angle_z:0},cAt={angle_x:0,angle_y:202.32,angle_z:0},AAt={angle_x:11.51,angle_y:91.08,angle_z:4.9},uAt={angle_x:0,angle_y:230.4,angle_z:0},fAt={angle_x:0,angle_y:237.24,angle_z:8.91},hAt={angle_x:0,angle_y:0,angle_z:0},dAt={angle_x:0,angle_y:214.2,angle_z:0},gAt={angle_x:0,angle_y:346.68,angle_z:0},pAt={angle_x:10.5,angle_y:117.36,angle_z:0},_At={angle_x:0,angle_y:311.4,angle_z:0},mAt={angle_x:0,angle_y:307.8,angle_z:0},yAt={angle_x:0,angle_y:41.4,angle_z:0},bAt={angle_x:14.04,angle_y:30.96,angle_z:10.08},vAt={angle_x:0,angle_y:133.56,angle_z:0},wAt={angle_x:0,angle_y:338.04,angle_z:0},LAt={angle_x:0,angle_y:262.8,angle_z:0},xAt={angle_x:1.97,angle_y:138.96,angle_z:14.04},RAt={angle_x:.71,angle_y:196.2,angle_z:8.54},BAt={angle_x:0,angle_y:34.2,angle_z:0},EAt={angle_x:0,angle_y:208.44,angle_z:0},CAt={angle_x:8.71,angle_y:68.76,angle_z:0},IAt={angle_x:0,angle_y:60.12,angle_z:0},TAt={angle_x:0,angle_y:213.12,angle_z:0},MAt={angle_x:14.42,angle_y:0,angle_z:1.01},SAt={angle_x:13.97,angle_y:160.2,angle_z:9.87},FAt={angle_x:0,angle_y:254.88,angle_z:0},UAt={angle_x:0,angle_y:230.4,angle_z:0},NAt={angle_x:0,angle_y:0,angle_z:0},kAt={angle_x:9.93,angle_y:24.84,angle_z:0},PAt={angle_x:0,angle_y:174.24,angle_z:0},DAt={angle_x:12.48,angle_y:135.36,angle_z:6.87},OAt={angle_x:8.54,angle_y:48.6,angle_z:7.92},zAt={angle_x:0,angle_y:217.44,angle_z:0},HAt={angle_x:0,angle_y:159.84,angle_z:0},QAt={angle_x:0,angle_y:135.36,angle_z:0},jAt={angle_x:0,angle_y:119.16,angle_z:5.21},YAt={angle_x:0,angle_y:52.56,angle_z:0},GAt={angle_x:4.68,angle_y:126.72,angle_z:9.06},VAt={angle_x:9.45,angle_y:107.64,angle_z:0},KAt={angle_x:0,angle_y:319.68,angle_z:0},$At={angle_x:3.49,angle_y:338.78,angle_z:8},WAt={angle_x:11.06,angle_y:0,angle_z:0},qAt={angle_x:0,angle_y:0,angle_z:0},XAt={angle_x:0,angle_y:287.28,angle_z:0},JAt={angle_x:13.08,angle_y:41.4,angle_z:4.32},ZAt={angle_x:0,angle_y:184.68,angle_z:0},eut={angle_x:0,angle_y:205.92,angle_z:0},tut={angle_x:0,angle_y:208.44,angle_z:0},nut={angle_x:0,angle_y:351,angle_z:0},rut={angle_x:2.16,angle_y:59.04,angle_z:7.92},iut={angle_x:2.16,angle_y:345.24,angle_z:0},sut={angle_x:14.04,angle_y:120.6,angle_z:360},aut={angle_x:0,angle_y:320.04,angle_z:0},out={angle_x:0,angle_y:246.6,angle_z:0},lut={angle_x:8.28,angle_y:153.36,angle_z:5.69},cut={angle_x:0,angle_y:70.56,angle_z:18.36},Aut={angle_x:12.24,angle_y:37.44,angle_z:12.24},uut={angle_x:0,angle_y:76.68,angle_z:0},fut={angle_x:9.49,angle_y:352.34,angle_z:0},hut={angle_x:0,angle_y:320.04,angle_z:0},dut={angle_x:0,angle_y:63.36,angle_z:0},gut={angle_x:0,angle_y:19.44,angle_z:0},put={angle_x:6.12,angle_y:174.24,angle_z:5.03},_ut={angle_x:9.36,angle_y:249.48,angle_z:0},mut={angle_x:7.92,angle_y:324.72,angle_z:353.88},yut={angle_x:0,angle_y:109.08,angle_z:0},but={angle_x:0,angle_y:329.04,angle_z:6.87},vut={angle_x:0,angle_y:258.12,angle_z:4.6},wut={angle_x:0,angle_y:244.8,angle_z:0},Lut={angle_x:0,angle_y:58.68,angle_z:0},xut={angle_x:0,angle_y:41.4,angle_z:0},Rut={angle_x:10.08,angle_y:27,angle_z:0},But={angle_x:14.04,angle_y:345.96,angle_z:0},Eut={angle_x:11.52,angle_y:35.64,angle_z:12.24},Cut={angle_x:0,angle_y:52.56,angle_z:0},Iut={angle_x:187.92,angle_y:220.32,angle_z:169.92},Tut={angle_x:0,angle_y:32.4,angle_z:0},Mut={angle_x:0,angle_y:258.12,angle_z:0},Sut={angle_x:0,angle_y:236.16,angle_z:0},Fut={angle_x:17.64,angle_y:275.76,angle_z:357.12},Uut={angle_x:0,angle_y:6.12,angle_z:8.01},Nut={angle_x:0,angle_y:44.28,angle_z:0},kut={angle_x:10.44,angle_y:175.12,angle_z:9.73},Put={angle_x:7.56,angle_y:253.8,angle_z:0},Dut={angle_x:0,angle_y:54.72,angle_z:0},Out={angle_x:0,angle_y:355.68,angle_z:0},zut={angle_x:0,angle_y:32.4,angle_z:0},Hut={angle_x:0,angle_y:0,angle_z:0},Qut={angle_x:10.03,angle_y:331.56,angle_z:8.29},jut={angle_x:14.04,angle_y:8.28,angle_z:10.08},Yut={angle_x:16.2,angle_y:39.6,angle_z:12.24},Gut={angle_x:0,angle_y:246.6,angle_z:0},Vut={angle_x:190.08,angle_y:360,angle_z:176.04},Kut={angle_x:6.12,angle_y:133.56,angle_z:10.08},$ut={angle_x:0,angle_y:345.96,angle_z:0},Wut={angle_x:0,angle_y:304.92,angle_z:0},qut={angle_x:0,angle_y:247.68,angle_z:0},Xut={angle_x:2.16,angle_y:320.04,angle_z:9.36},Jut={angle_x:0,angle_y:210.24,angle_z:0},Zut={angle_x:0,angle_y:201.96,angle_z:7.61},e1t={angle_x:0,angle_y:291.24,angle_z:0},t1t={angle_x:0,angle_y:186.48,angle_z:0},n1t={angle_x:13.41,angle_y:50.34,angle_z:10.48},r1t={angle_x:22.32,angle_y:16.2,angle_z:0},i1t={angle_x:0,angle_y:322.56,angle_z:0},s1t={angle_x:0,angle_y:329.04,angle_z:0},a1t={angle_x:7.18,angle_y:112.32,angle_z:0},o1t={angle_x:0,angle_y:321.48,angle_z:0},l1t={angle_x:7.75,angle_y:108.36,angle_z:7.3},c1t={angle_x:0,angle_y:129.24,angle_z:0},A1t={angle_x:3.23,angle_y:137.52,angle_z:14.22},u1t={angle_x:0,angle_y:151.2,angle_z:0},f1t={angle_x:0,angle_y:149.76,angle_z:0},h1t={angle_x:17.98,angle_y:70.56,angle_z:5.98},d1t={angle_x:0,angle_y:204.12,angle_z:0},g1t={angle_x:0,angle_y:198,angle_z:0},p1t={angle_x:13.79,angle_y:113.04,angle_z:0},_1t={angle_x:10.94,angle_y:85.32,angle_z:3.69},m1t={angle_x:0,angle_y:110.16,angle_z:0},y1t={angle_x:0,angle_y:200.16,angle_z:0},b1t={angle_x:0,angle_y:226.8,angle_z:0},v1t={angle_x:0,angle_y:186.12,angle_z:0},w1t={angle_x:0,angle_y:236.52,angle_z:0},L1t={angle_x:0,angle_y:222.12,angle_z:0},x1t={angle_x:0,angle_y:11.31,angle_z:6.65},R1t={angle_x:0,angle_y:199.8,angle_z:0},B1t={angle_x:14.87,angle_y:60.12,angle_z:3.74},E1t={angle_x:16.04,angle_y:163.8,angle_z:6.51},C1t={angle_x:0,angle_y:244.8,angle_z:0},I1t={angle_x:0,angle_y:133.56,angle_z:0},T1t={angle_x:0,angle_y:262.8,angle_z:0},M1t={angle_x:3.92,angle_y:118.44,angle_z:12.81},S1t={angle_x:354.74,angle_y:202.32,angle_z:9.85},F1t={angle_x:9.07,angle_y:127.44,angle_z:0},U1t={angle_x:0,angle_y:32.4,angle_z:0},N1t={angle_x:9.85,angle_y:112.32,angle_z:0},k1t={angle_x:8.43,angle_y:91.84,angle_z:2.98},P1t={angle_x:0,angle_y:291.24,angle_z:0},D1t={angle_x:0,angle_y:316.44,angle_z:0},O1t={angle_x:16.2,angle_y:32.4,angle_z:7.92},z1t={angle_x:0,angle_y:190.08,angle_z:0},H1t={angle_x:1.92,angle_y:197.64,angle_z:7.4},Q1t={angle_x:360,angle_y:346.68,angle_z:0},j1t={angle_x:13.77,angle_y:230.4,angle_z:0},Y1t={angle_x:20.16,angle_y:216.36,angle_z:6.12},G1t={angle_x:0,angle_y:293.4,angle_z:0},V1t={angle_x:0,angle_y:302.4,angle_z:0},K1t={angle_x:187.92,angle_y:246.6,angle_z:172.08},$1t={angle_x:10.08,angle_y:0,angle_z:6.12},W1t={angle_x:7.92,angle_y:0,angle_z:7.92},q1t={angle_x:7.9,angle_y:186.12,angle_z:9.19},X1t={angle_x:0,angle_y:32.4,angle_z:0},J1t={angle_x:0,angle_y:163.8,angle_z:0},Z1t={angle_x:0,angle_y:0,angle_z:0},eft={angle_x:0,angle_y:41.4,angle_z:0},tft={angle_x:0,angle_y:90,angle_z:0},nft={angle_x:10.44,angle_y:147.6,angle_z:0},rft={angle_x:12.24,angle_y:330.84,angle_z:353.88},ift={angle_x:7.56,angle_y:240.48,angle_z:0},sft={angle_x:0,angle_y:311.4,angle_z:0},aft={angle_x:360,angle_y:157.74,angle_z:14.1},oft={angle_x:0,angle_y:222.84,angle_z:0},lft={angle_x:0,angle_y:253.8,angle_z:0},cft={angle_x:0,angle_y:0,angle_z:0},Aft={angle_x:10.4,angle_y:29.16,angle_z:0},uft={angle_x:5.02,angle_y:30.24,angle_z:14.04},fft={angle_x:192.24,angle_y:183.96,angle_z:172.08},hft={angle_x:0,angle_y:253.8,angle_z:0},dft={angle_x:0,angle_y:262.8,angle_z:0},gft={angle_x:0,angle_y:320.04,angle_z:0},pft={angle_x:5.4,angle_y:231.84,angle_z:0},_ft={angle_x:10.44,angle_y:174.73,angle_z:12.02},mft={angle_x:6.12,angle_y:147.6,angle_z:0},yft={angle_x:0,angle_y:209.52,angle_z:346.68},bft={angle_x:0,angle_y:37.08,angle_z:0},vft={angle_x:0,angle_y:81.36,angle_z:0},wft={angle_x:0,angle_y:159.84,angle_z:0},Lft={angle_x:0,angle_y:0,angle_z:0},xft={angle_x:0,angle_y:32.4,angle_z:0},Rft={angle_x:0,angle_y:163.8,angle_z:0},Bft={angle_x:16.2,angle_y:29.16,angle_z:10.08},Eft={angle_x:10.08,angle_y:0,angle_z:18.36},Cft={angle_x:0,angle_y:307.08,angle_z:0},Ift={angle_x:9.32,angle_y:108.36,angle_z:3.96},Tft={angle_x:18.36,angle_y:198,angle_z:0},Mft={angle_x:0,angle_y:220.32,angle_z:0},Sft={angle_x:0,angle_y:0,angle_z:0},Fft={angle_x:0,angle_y:0,angle_z:0},Uft={angle_x:12.32,angle_y:214.2,angle_z:8.26},Nft={angle_x:0,angle_y:189.36,angle_z:0},kft={angle_x:0,angle_y:297.72,angle_z:0},Pft={angle_x:14.04,angle_y:0,angle_z:0},Dft={angle_x:14.1,angle_y:74.88,angle_z:4.97},Oft={angle_x:0,angle_y:295.2,angle_z:0},zft={angle_x:10.73,angle_y:120.96,angle_z:5.98},Hft={angle_x:0,angle_y:85.68,angle_z:0},Qft={angle_x:12.9,angle_y:127.44,angle_z:5.88},jft={angle_x:0,angle_y:192.24,angle_z:8.99},Yft={angle_x:7.45,angle_y:116.64,angle_z:4.37},Gft={angle_x:0,angle_y:155.52,angle_z:0},Vft={angle_x:0,angle_y:143.64,angle_z:0},Kft={angle_x:11.22,angle_y:186.12,angle_z:9.6},$ft={angle_x:0,angle_y:240.48,angle_z:0},Wft={angle_x:1.46,angle_y:0,angle_z:7.13},qft={angle_x:0,angle_y:226.44,angle_z:0},Xft={angle_x:19,angle_y:91.44,angle_z:0},Jft={angle_x:0,angle_y:205.92,angle_z:0},Zft={angle_x:0,angle_y:190.08,angle_z:0},eht={angle_x:0,angle_y:159.84,angle_z:0},tht={angle_x:0,angle_y:158.04,angle_z:0},nht={R0010102:aje,R0010664:oje,R0010670:lje,R0011208:cje,R0010116:Aje,R0011220:uje,R0010658:fje,R0010880:hje,R0010894:dje,R0011234:gje,seizaitoutikaku:pje,R0010843:_je,R0010857:mje,R0010466:yje,R0010300:bje,R0010314:vje,R0010472:wje,R0011022:Lje,R0010328:xje,R0011036:Rje,minakinotyaya:Bje,R0010499:Eje,R0010512:Cje,R0010274:Ije,R0010260:Tje,R0011156:Mje,R0010248:Sje,R0011195:Fje,R0011181:Uje,R0010076:Nje,R0011368:kje,R0010710:Pje,R0010704:Dje,R0010062:Oje,R0011354:zje,R0011432:Hje,R0011426:Qje,R0010738:jje,R0011340:Yje,R0011397:Gje,R0010089:Vje,R0010937:Kje,R0010923:$je,R0011383:Wje,R0010922:qje,R0011382:Xje,R0010088:Jje,R0011396:Zje,R0010936:eYe,R0010739:tYe,R0011427:nYe,R0011341:rYe,R0011355:iYe,R0011433:sYe,R0010705:aYe,R0010063:oYe,R0011369:lYe,R0010077:cYe,R0010711:AYe,R0011180:uYe,R0011194:fYe,R0010249:hYe,R0011157:dYe,R0010261:gYe,tekunikaruG:pYe,R0010507:_Ye,R0010513:mYe,R0010275:yYe,R0010498:bYe,R0011037:vYe,R0010329:wYe,R0011023:LYe,R0010315:xYe,R0010473:RYe,R0010467:BYe,R0010301:EYe,R0010856:CYe,R0010842:IYe,R0010895:TYe,R0011235:MYe,R0011221:SYe,R0010881:FYe,R0010659:UYe,R0010671:NYe,R0010117:kYe,R0011209:PYe,R0010103:DYe,R0010665:OYe,R0010115:zYe,R0010673:HYe,R0010667:QYe,R0010101:jYe,R0011237:YYe,R0010129:GYe,R0010897:VYe,R0010883:KYe,R0011223:$Ye,R0010868:WYe,R0010854:qYe,R0010840:XYe,R0010698:JYe,R0010471:ZYe,R0010317:eGe,R0011009:tGe,R0010303:nGe,R0010465:rGe,R0011035:iGe,R0011021:sGe,R0010459:aGe,R0010505:oGe,R0010263:lGe,R0010277:cGe,R0010511:AGe,R0010539:uGe,R0011155:fGe,R0011182:hGe,R0010288:dGe,R0011196:gGe,R0010061:pGe,R0011419:_Ge,R0010707:mGe,R0010713:yGe,R0010075:bGe,R0011343:vGe,R0011425:wGe,R0011431:LGe,R0010049:xGe,R0011357:RGe,R0010908:BGe,R0011380:EGe,R0010920:CGe,R0010934:IGe,R0011394:TGe,nae:MGe,R0010935:SGe,R0011395:FGe,R0011381:UGe,R0010921:NGe,R0010909:kGe,R0011430:PGe,R0011356:DGe,R0010048:OGe,R0011342:zGe,R0011424:HGe,R0010712:QGe,R0010074:jGe,R0010060:YGe,R0010706:GGe,R0011418:VGe,R0011197:KGe,R0010289:$Ge,R0011183:WGe,R0011154:qGe,R0010538:XGe,R0010276:JGe,R0010510:ZGe,R0010504:eVe,R0010262:tVe,R0011020:nVe,tamokuteki:rVe,R0010458:iVe,R0011034:sVe,R0010302:aVe,R0010464:oVe,R0010470:lVe,R0011008:cVe,R0010316:AVe,R0010699:uVe,R0010841:fVe,R0010855:hVe,R0010869:dVe,R0010882:gVe,R0011222:pVe,R0010128:_Ve,R0011236:mVe,R0010896:yVe,R0010666:bVe,R0010100:vVe,R0010114:wVe,R0010672:LVe,R0010892:xVe,R0011232:RVe,R0011226:BVe,R0010138:EVe,R0010886:CVe,R0010676:IVe,R0010110:TVe,R0010104:MVe,R0010662:SVe,R0010851:FVe,R0010689:UVe,R0010845:NVe,R0010879:kVe,R0011030:PVe,R0010448:DVe,R0011024:OVe,R0010312:zVe,R0010474:HVe,R0010460:QVe,R0010306:jVe,R0011018:YVe,R0010528:GVe,R0011178:VVe,R0010266:KVe,R0010514:$Ve,R0010272:WVe,R0010299:qVe,R0011187:XVe,R0011193:JVe,R0011420:ZVe,R0010058:eKe,R0011346:tKe,R0011352:nKe,R0011434:rKe,R0010702:iKe,R0010064:sKe,R0010070:aKe,R0011408:oKe,R0010716:lKe,R0010925:cKe,R0011385:AKe,R0011391:uKe,R0010931:fKe,R0010919:hKe,R0010918:dKe,R0011390:gKe,R0010930:pKe,R0010924:_Ke,R0011384:mKe,R0010071:yKe,R0010717:bKe,R0011409:vKe,R0010703:wKe,R0010065:LKe,R0011353:xKe,R0011435:RKe,R0011421:BKe,R0011347:EKe,R0010059:CKe,R0011192:IKe,R0011186:TKe,R0010298:MKe,R0010515:SKe,R0010273:FKe,R0010267:UKe,R0011179:NKe,R0010501:kKe,R0010529:PKe,R0011151:DKe,R0010461:OKe,R0011019:zKe,R0010307:HKe,R0010313:QKe,R0010475:jKe,R0011025:YKe,R0011031:GKe,R0010449:VKe,R0010878:KKe,R0010844:$Ke,R0010688:WKe,R0010850:qKe,R0010105:XKe,R0010663:JKe,R0010677:ZKe,R0010111:e$e,R0010139:t$e,R0011227:n$e,R0010887:r$e,R0010893:i$e,R0011233:s$e,R0010885:a$e,R0011225:o$e,R0011231:l$e,R0010649:c$e,R0010891:A$e,R0010661:u$e,R0011219:f$e,R0010107:h$e,R0010113:d$e,R0010675:g$e,R0010846:p$e,R0010852:_$e,R0010339:m$e,R0011027:y$e,R0011033:b$e,R0010305:v$e,R0010463:w$e,R0010477:L$e,R0010311:x$e,R0010488:R$e,R0011153:B$e,R0010259:E$e,R0010271:C$e,R0010517:I$e,R0010503:T$e,R0010265:M$e,R0011190:S$e,R0011184:F$e,R0011437:U$e,R0010729:N$e,R0011351:k$e,R0011345:P$e,R0011423:D$e,R0010715:O$e,R0010073:z$e,R0010067:H$e,R0011379:Q$e,R0010701:j$e,R0010932:Y$e,R0011392:G$e,R0011386:V$e,R0010098:K$e,R0010926:$$e,R0010099:W$e,R0011387:q$e,R0010927:X$e,R0010933:J$e,R0011393:Z$e,R0011378:eWe,R0010066:tWe,R0010700:nWe,R0010714:rWe,R0010072:iWe,R0011422:sWe,R0010728:aWe,R0011436:oWe,R0011350:lWe,R0011185:cWe,R0011191:AWe,R0010502:uWe,R0010264:fWe,R0010270:hWe,R0010516:dWe,R0010258:gWe,R0011152:pWe,R0010489:_We,R0010476:mWe,R0010310:yWe,R0010304:bWe,R0010462:vWe,R0011032:wWe,R0011026:LWe,R0010338:xWe,"morinointa-tyenzi":{angle_x:0,angle_y:267.12,angle_z:0},R0010853:RWe,R0010847:BWe,R0010112:EWe,R0010674:CWe,R0010660:IWe,R0010106:TWe,R0011230:MWe,ourainoma:SWe,R0010890:FWe,R0010648:UWe,R0010884:NWe,R0011224:kWe,R0010607:PWe,R0010161:DWe,R0010175:OWe,R0010613:zWe,R0011243:HWe,R0010149:QWe,R0010808:jWe,R0010820:YWe,R0011280:GWe,R0011294:VWe,R0010834:KWe,R0010363:$We,R0010405:WWe,R0010411:qWe,R0010377:XWe,R0011069:JWe,R0011041:ZWe,R0010439:eqe,R0011055:tqe,R0011082:nqe,R0011096:rqe,R0010388:iqe,R0011109:sqe,R0010217:aqe,R0010571:oqe,R0010565:lqe,R0010203:cqe,R0011135:Aqe,R0010559:uqe,R0011121:fqe,R0010773:hqe,R0010767:dqe,R0011451:gqe,R0010997:pqe,R0010029:_qe,R0011337:mqe,R0011323:yqe,R0011445:bqe,R0010983:vqe,R0010968:wqe,R0010954:Lqe,R0010798:xqe,R0010940:Rqe,R0010941:Bqe,R0010799:Eqe,zikuurou:Cqe,R0010969:Iqe,R0011322:Tqe,R0010982:Mqe,R0011444:Sqe,R0010996:Fqe,R0011450:Uqe,R0011336:Nqe,R0010028:kqe,R0010766:Pqe,R0010772:Dqe,R0010558:Oqe,R0011120:zqe,R0011134:Hqe,R0010564:Qqe,R0010202:jqe,R0010216:Yqe,R0011108:Gqe,R0010570:Vqe,R0010389:Kqe,R0011097:$qe,R0011083:Wqe,R0011054:qqe,R0011040:Xqe,R0010438:Jqe,R0010410:Zqe,R0011068:eXe,R0010376:tXe,R0010362:nXe,R0010404:rXe,R0011295:iXe,R0010835:sXe,R0010821:aXe,R0011281:oXe,R0010809:lXe,R0010148:cXe,R0011256:AXe,R0011242:uXe,R0010174:fXe,R0010612:hXe,R0010606:dXe,R0010160:gXe,R0010610:pXe,R0010176:_Xe,R0010162:mXe,R0010604:yXe,R0011254:bXe,R0011240:vXe,R0010638:wXe,R0010837:LXe,R0010189:xXe,R0011297:RXe,R0011283:BXe,R0010823:EXe,R0010374:CXe,R0010412:IXe,kazenomatoi:TXe,R0010406:MXe,R0010360:SXe,R0010348:FXe,R0011056:UXe,R0011042:NXe,R0011095:kXe,R0011081:PXe,R0010200:DXe,R0010566:OXe,R0010572:zXe,R0010214:HXe,R0011122:QXe,R0011136:jXe,R0010228:YXe,R0010764:GXe,R0011308:VXe,R0010770:KXe,R0010980:$Xe,R0010758:WXe,R0011320:qXe,R0011334:XXe,R0011452:JXe,R0010994:ZXe,R0010943:eJe,R0010957:tJe,R0010956:nJe,R0010942:rJe,R0011335:iJe,R0010995:sJe,R0011453:aJe,R0010759:oJe,R0010981:lJe,R0011447:cJe,R0011321:AJe,R0011309:uJe,R0010771:fJe,R0010598:hJe,R0010229:dJe,R0011137:gJe,R0011123:pJe,midorinoatorie:_Je,R0010573:mJe,R0010215:yJe,R0010201:bJe,R0010567:vJe,R0011080:wJe,R0011094:LJe,R0011043:xJe,R0011057:RJe,R0010349:BJe,R0010407:EJe,R0010361:CJe,R0010375:IJe,R0010413:TJe,R0011282:MJe,R0010822:SJe,R0010836:FJe,R0011296:UJe,R0010188:NJe,R0011241:kJe,R0010639:PJe,R0011255:DJe,R0010163:OJe,R0010605:zJe,R0010611:HJe,R0010177:QJe,R0011251:jJe,R0010629:YJe,R0011245:GJe,R0010173:VJe,R0010615:KJe,R0010601:$Je,R0011279:WJe,R0010167:qJe,R0011292:XJe,R0010832:JJe,R0010826:ZJe,R0010198:eZe,R0011286:tZe,R0011053:nZe,R0010359:rZe,R0011047:iZe,R0010417:sZe,R0010371:aZe,R0010365:oZe,R0010403:lZe,R0011090:cZe,R0011084:AZe,R0011127:uZe,R0010239:fZe,R0011085:hZe,R0010563:dZe,R0010205:gZe,R0010211:pZe,R0010577:_Ze,R0010588:mZe,R0011325:yZe,R0010985:bZe,R0011443:vZe,R0010991:wZe,R0011457:LZe,R0010749:xZe,R0011331:RZe,R0011319:BZe,R0010761:EZe,R0010775:CZe,R0010946:IZe,R0010952:TZe,R0010953:MZe,R0010947:SZe,R0010774:FZe,R0011318:UZe,R0010760:NZe,R0010748:kZe,R0011456:PZe,R0010990:DZe,R0011330:OZe,R0011324:zZe,R0011442:HZe,R0010984:QZe,R0010589:jZe,R0010210:YZe,R0010576:GZe,R0010562:VZe,R0010204:KZe,R0011132:$Ze,R0010238:WZe,R0011126:qZe,R0011091:XZe,R0010402:JZe,R0010416:ZZe,R0010370:eet,R0011046:tet,R0010358:net,R0011052:ret,R0010827:iet,R0011287:set,R0010199:aet,R0011293:oet,R0010833:cet,R0010600:Aet,R0010166:uet,R0011278:fet,R0010172:het,R0010614:det,R0011244:get,R0011250:pet,R0010628:_et,R0011246:met,R0010158:yet,R0011252:bet,R0010164:vet,R0010602:wet,R0010616:Let,R0010170:xet,R0011285:Ret,R0010825:Bet,R0010831:Eet,R0011291:Cet,R0010819:Iet,R0011044:Tet,R0011050:Met,R0010428:Fet,R0010400:Uet,"morinokote-zi":{angle_x:0,angle_y:191.88,angle_z:3.96},R0010366:Net,R0011078:ket,R0010372:Pet,R0010414:Det,R0011087:Oet,R0010399:zet,R0011093:Het,R0010548:Qet,R0011130:jet,R0011124:Yet,R0010574:Get,R0010212:Vet,R0010206:Ket,R0010560:$et,R0011332:Wet,R0010992:qet,R0011454:Xet,R0010986:Jet,R0011440:Zet,R0010038:ett,R0011326:ttt,R0010776:ntt,R0010762:rtt,R0010789:itt,R0010951:stt,R0010945:att,R0010979:ott,R0010978:ltt,R0010944:ctt,R0010950:Att,R0010788:utt,R0010763:ftt,R0010777:htt,R0011441:dtt,R0010987:gtt,R0011327:ptt,R0010039:_tt,R0011333:mtt,R0010993:ytt,R0010207:btt,R0011119:vtt,R0010561:wtt,R0010575:Ltt,R0010213:xtt,R0011125:Rtt,R0010549:Btt,R0011131:Ett,R0011092:Ctt,R0010398:Itt,R0011086:Ttt,R0010373:Mtt,R0010415:Stt,R0010401:Ftt,R0011079:Utt,R0010367:Ntt,R0011051:ktt,R0010429:Ptt,R0011045:Dtt,R0010818:Ott,R0010830:ztt,R0011290:Htt,R0011284:Qtt,R0010824:jtt,R0010617:Ytt,R0010171:Gtt,R0010165:Vtt,R0010603:Ktt,R0011253:$tt,R0010159:Wtt,R0011247:qtt,tyusya:Xtt,R0010626:Jtt,R0010140:Ztt,R0010154:ent,R0010632:tnt,R0011276:nnt,R0010168:rnt,R0010183:int,R0010197:snt,R0011289:ant,R0010829:ont,R0010801:lnt,R0010815:cnt,R0010342:Ant,R0010424:unt,R0010430:fnt,R0010356:hnt,R0011048:dnt,R0011060:gnt,R0010418:pnt,"gakuseiho-ru":{angle_x:187.92,angle_y:125.28,angle_z:172.08},R0011074:_nt,R0010381:mnt,R0010395:ynt,R0011128:bnt,R0010236:vnt,R0010550:wnt,R0010544:Lnt,R0010222:xnt,R0011114:Rnt,R0010578:Bnt,R0011100:Ent,R0010593:Cnt,R0010587:Int,R0010752:Tnt,R0010034:Mnt,R0011458:Snt,R0011316:Fnt,R0011302:Unt,R0010791:Nnt,R0010949:knt,R0010785:Pnt,R0010975:Dnt,R0010961:Ont,R0010960:znt,R0010784:Hnt,R0010948:Qnt,R0010790:jnt,R0011303:Ynt,R0011317:Gnt,R0010747:Vnt,R0011459:Knt,R0010753:$nt,R0010035:Wnt,R0010586:qnt,R0010592:Xnt,R0010579:Jnt,R0011101:Znt,R0011115:ert,R0010545:trt,R0010223:nrt,R0010237:rrt,R0011129:irt,R0010551:srt,R0010394:art,R0010380:ort,R0011075:lrt,R0011061:crt,R0010419:Art,R0010431:urt,R0011049:frt,R0010357:hrt,R0010343:drt,R0010425:grt,R0010814:prt,R0010800:_rt,R0011288:mrt,R0010196:yrt,R0010828:brt,R0010182:vrt,R0010169:wrt,R0011277:Lrt,R0010155:xrt,R0010633:Rrt,R0010627:Brt,R0010141:Ert,R0010631:Crt,R0011249:Irt,R0010157:Trt,R0010143:Mrt,R0010625:Srt,R0011275:Frt,R0010619:Urt,R0010194:Nrt,R0010180:krt,R0010816:Prt,R0010802:Drt,R0010355:Ort,R0010433:zrt,R0010427:Hrt,R0010341:Qrt,R0010369:jrt,R0011077:Yrt,R0011063:Grt,R0011088:Vrt,R0010396:Krt,R0010382:$rt,R0010221:Wrt,R0010547:qrt,R0010553:Xrt,R0010235:Jrt,R0011103:Zrt,R0010209:eit,R0010584:tit,R0010590:nit,R0010745:rit,R0010037:iit,R0010989:sit,R0010751:ait,R0010779:oit,R0011301:lit,R0011315:cit,R0010786:Ait,R0010792:uit,R0010962:fit,R0010976:hit,R0010977:dit,R0010963:git,R0010793:pit,R0010787:_it,R0011314:mit,R0010778:yit,R0011300:bit,R0011328:vit,R0010036:wit,R0010750:Lit,R0010988:xit,R0010744:Rit,R0010591:Bit,R0010585:Eit,R0010208:Cit,R0011116:Iit,R0011102:Tit,R0010552:Mit,R0010234:Sit,R0010220:Fit,R0010546:Uit,R0010383:Nit,R0010397:kit,R0011089:Pit,R0011062:Dit,R0011076:Oit,R0010368:zit,R0010426:Hit,R0010340:Qit,R0010354:jit,R0010432:Yit,R0010803:Git,R0010817:Vit,R0010181:Kit,R0010195:$it,R0010618:Wit,R0011274:qit,R0010142:Xit,R0010624:Jit,R0010630:Zit,R0010156:est,R0011248:tst,R0011270:nst,R0010608:rst,R0010152:ist,R0010634:sst,R0010620:ast,R0010146:ost,R0010813:lst,R0010807:cst,R0010191:Ast,R0010185:ust,R0011072:fst,R0010378:hst,R0011066:dst,R0010436:gst,R0010350:pst,R0010344:_st,R0010422:mst,R0010393:yst,R0011099:bst,R0010387:vst,R0011106:wst,R0010218:Lst,R0011112:xst,R0010542:Rst,R0010224:Bst,R0010230:Est,R0010556:Cst,R0010581:Ist,R0010595:Tst,R0011304:Mst,R0010768:Sst,R0011310:Fst,R0010026:Ust,R0011338:Nst,R0010998:kst,R0010740:Pst,R0010754:Dst,R0010032:Ost,R0010967:zst,R0010973:Hst,R0010783:Qst,R0010797:jst,R0010796:Yst,R0010782:Gst,R0010972:Vst,R0010966:Kst,R0010755:$st,R0010033:Wst,R0011339:qst,R0010027:Xst,R0010741:Jst,R0010999:Zst,R0010769:eat,R0011311:tat,R0011305:nat,R0010594:rat,R0010580:iat,R0010231:sat,R0010557:aat,R0010543:oat,R0010225:lat,R0011113:cat,R0010219:Aat,R0011107:uat,R0010386:fat,R0011098:hat,R0010392:dat,R0010345:gat,R0010423:pat,R0010437:_at,R0010351:mat,R0011067:yat,R0010379:bat,R0011073:vat,R0010184:wat,R0010190:Lat,R0010806:xat,R0010812:Rat,R0010621:Bat,R0010147:Eat,R0010153:Cat,R0010635:Iat,R0011271:Tat,R0010609:Mat,R0010179:Sat,R0011273:Fat,R0010145:Uat,R0010623:Nat,R0010637:kat,R0010151:Pat,R0010804:Dat,R0010810:Oat,R0010186:zat,R0011298:Hat,R0010838:Qat,R0010192:jat,R0011065:Yat,R0011071:Gat,R0010409:Vat,R0010421:Kat,R0010347:$at,R0011059:Wat,R0010353:qat,R0010435:Xat,R0010384:Jat,R0010390:Zat,R0010569:eot,R0011111:tot,R0011105:not,R0010555:rot,R0010233:iot,R0011139:sot,R0010227:aot,R0010541:oot,R0010596:lot,R0010582:cot,R0011313:Aot,R0011307:uot,R0010031:fot,R0010757:hot,R0010743:dot,R0010970:got,R0010964:pot,R0010794:_ot,R0010780:mot,R0010958:yot,R0010959:bot,R0010781:vot,R0010795:wot,R0010965:Lot,R0010971:xot,R0010742:Rot,R0010030:Bot,R0010756:Eot,R0011448:Cot,R0011306:Iot,R0011312:Tot,R0010583:Mot,R0010597:Sot,R0010226:Fot,R0011138:Uot,R0010540:Not,R0010554:kot,R0010232:Pot,R0011104:Dot,R0010568:Oot,R0011110:zot,R0010391:Hot,R0010385:Qot,R0010352:jot,R0010434:Yot,R0010420:Got,R0011058:Vot,R0010346:Kot,R0011070:$ot,R0010408:Wot,R0011064:qot,R0010193:Xot,R0011299:Jot,R0010187:Zot,R0010839:elt,R0010811:tlt,R0010805:nlt,R0010636:rlt,R0010150:ilt,R0010144:slt,R0010622:alt,R0011272:olt,R0010178:llt,R0010123:clt,R0010645:Alt,R0010651:ult,R0010889:flt,R0011229:hlt,R0010137:dlt,R0011201:glt,R0010679:plt,R0011215:_lt,R0010686:mlt,R0010692:ylt,R0010862:blt,R0010876:vlt,R0010447:wlt,R0010321:Llt,R0010335:xlt,R0010453:Rlt,R0011003:Blt,R0010309:Elt,R0011017:Clt,R0010484:Ilt,R0010490:Tlt,R0010533:Mlt,R0010255:Slt,R0010241:Flt,R0010527:Ult,R0011177:Nlt,R0010269:klt,R0011163:Plt,R0010296:Dlt,R0011188:Olt,R0010282:zlt,R0010057:Hlt,R0011349:Qlt,R0010731:jlt,R0010725:Ylt,R0010043:Glt,R0011375:Vlt,R0011413:Klt,R0011407:$lt,R0010719:Wlt,R0011361:qlt,R0010094:Xlt,R0010080:Jlt,R0010916:Zlt,R0010902:ect,R0010903:tct,R0010917:nct,R0010081:rct,R0010095:ict,R0010718:sct,R0011406:act,R0011360:oct,R0011374:lct,R0011412:cct,R0010724:Act,R0010042:uct,R0011348:fct,R0010056:hct,R0010730:dct,R0010283:gct,R0011189:pct,R0010297:_ct,R0011162:mct,R0010268:yct,R0011176:bct,R0010240:vct,R0010526:wct,R0010532:Lct,R0010254:xct,R0010491:Rct,R0010485:Bct,R0011016:Ect,R0010308:Cct,R0011002:Ict,R0010334:Tct,R0010452:Mct,R0010446:Sct,R0010320:Fct,R0010877:Uct,R0010863:Nct,R0010693:kct,R0010687:Pct,R0011214:Dct,R0011200:Oct,R0010678:zct,R0010888:Hct,R0010650:Qct,R0010136:jct,R0011228:Yct,R0010122:Gct,R0010644:Vct,R0010134:Kct,R0010652:$ct,R0010646:Wct,R0010120:qct,R0011216:Xct,R0010108:Jct,R0011202:Zct,R0010849:e0t,R0010691:t0t,R0010685:n0t,R0010875:r0t,R0010861:i0t,R0010450:s0t,R0010336:a0t,R0011028:o0t,R0010322:l0t,R0010444:c0t,R0011014:A0t,R0011000:u0t,R0010478:f0t,R0010493:h0t,R0010487:d0t,R0010524:g0t,R0010242:p0t,R0010256:_0t,R0010530:m0t,R0010518:y0t,R0011160:b0t,R0011174:v0t,R0010281:w0t,R0010295:L0t,R0010040:x0t,R0011438:R0t,R0010726:B0t,R0010732:E0t,R0010054:C0t,R0011362:I0t,R0011404:T0t,R0011410:M0t,R0010068:S0t,R0011376:F0t,R0010083:U0t,R0010929:N0t,R0011389:k0t,R0010097:P0t,R0010901:D0t,R0010915:O0t,R0010914:z0t,R0010900:H0t,R0010928:Q0t,R0010096:j0t,R0011388:Y0t,R0010082:G0t,R0011411:V0t,R0011377:K0t,R0010069:$0t,R0011363:W0t,R0011405:q0t,R0010733:X0t,R0010055:J0t,R0010041:Z0t,R0010727:eAt,R0011439:tAt,R0010294:nAt,R0010280:rAt,R0011175:iAt,R0010519:sAt,R0011161:aAt,R0010257:oAt,R0010531:lAt,R0010525:cAt,R0010243:AAt,R0010486:uAt,R0010492:fAt,R0011001:hAt,R0010479:dAt,R0011015:gAt,R0010323:pAt,R0010445:_At,R0010451:mAt,R0011029:yAt,R0010337:bAt,R0010860:vAt,konaranomiti:wAt,R0010874:LAt,R0010684:xAt,R0010690:RAt,R0010848:BAt,R0011203:EAt,R0010109:CAt,R0011217:IAt,R0010647:TAt,R0010121:MAt,R0010135:SAt,R0010653:FAt,R0011213:UAt,R0011207:NAt,R0010119:kAt,R0010657:PAt,R0010131:DAt,R0010125:OAt,R0010643:zAt,R0010870:HAt,R0010864:QAt,R0010694:jAt,R0010858:YAt,R0010680:GAt,R0011011:VAt,R0010469:KAt,R0011005:$At,R0010333:WAt,R0010455:qAt,R0010441:XAt,R0010327:JAt,R0011039:ZAt,R0010496:eut,R0010482:tut,R0011165:nut,R0011171:rut,R0011159:iut,R0010247:sut,R0010521:aut,R0010535:out,R0010253:lut,R0010284:cut,R0010290:Aut,R0011401:uut,R0010079:fut,R0011367:hut,R0011373:dut,R0011415:gut,R0010723:put,R0010045:_ut,R0010051:mut,R0011429:yut,R0010737:but,R0010904:vut,R0010910:wut,R0010938:Lut,R0011398:xut,R0010086:Rut,R0010092:But,R0010093:Eut,R0010939:Cut,R0010087:Iut,R0011399:Tut,R0010911:Mut,R0010905:Sut,R0010050:Fut,R0010736:Uut,R0011428:Nut,R0010722:kut,R0010044:Put,R0011372:Dut,R0011414:Out,R0011400:zut,R0011366:Hut,R0010078:Qut,R0010291:jut,R0010285:Yut,R0010534:Gut,R0010252:Vut,R0010246:Kut,R0011158:$ut,R0010520:Wut,R0010508:qut,R0011164:Xut,R0010483:Jut,R0010497:Zut,R0010440:e1t,R0011038:t1t,R0010326:n1t,R0010332:r1t,R0010454:i1t,R0011004:s1t,R0011010:a1t,R0010468:o1t,R0010681:l1t,R0010859:c1t,R0010695:A1t,R0010865:u1t,R0010871:f1t,R0010124:h1t,R0010642:d1t,R0010656:g1t,R0010130:p1t,R0010118:_1t,R0011206:m1t,R0011212:y1t,R0011204:b1t,R0011210:v1t,R0010668:w1t,R0010640:L1t,R0010898:x1t,R0011238:R1t,R0010126:B1t,R0010132:E1t,R0010654:C1t,R0010867:I1t,R0010873:T1t,R0010683:M1t,R0010697:S1t,R0010318:F1t,R0011006:U1t,R0011012:N1t,R0010324:k1t,R0010442:P1t,R0010456:D1t,R0010330:O1t,R0010481:z1t,R0010495:H1t,R0011166:Q1t,R0010278:j1t,R0010250:Y1t,R0010536:G1t,R0010522:V1t,R0010244:K1t,R0010293:$1t,R0010287:W1t,R0011199:q1t,R0011416:X1t,R0010708:J1t,R0011370:Z1t,R0011364:eft,R0011402:tft,R0010734:nft,R0010052:rft,R0010046:ift,R0011358:sft,R0010720:aft,R0010913:oft,R0010907:lft,R0010091:cft,R0010085:Aft,R0010084:uft,R0010090:fft,R0010906:hft,R0010912:dft,R0011359:gft,R0010047:pft,R0010721:_ft,R0010735:mft,R0010053:yft,R0011365:bft,R0011403:vft,R0010709:wft,R0011417:Lft,R0011371:xft,R0011198:Rft,R0010286:Bft,R0010292:Eft,R0010523:Cft,R0010245:Ift,R0010251:Tft,R0010537:Mft,R0010279:Sft,R0011173:Fft,R0010494:Uft,R0010480:Nft,R0010457:kft,R0010331:Pft,R0010325:Dft,R0010443:Oft,R0011013:zft,R0011007:Hft,R0010319:Qft,R0010696:jft,R0010682:Yft,R0010872:Gft,R0010866:Vft,R0010133:Kft,R0010655:$ft,R0010899:Wft,R0010641:qft,R0010127:Xft,R0011239:Jft,R0011211:Zft,R0010669:eht,R0011205:tht},rht=nht,iht=n=>!n||n.length===0?(console.warn(""),[]):n.map(t=>{const r=t.featureData.properties.photo_id,i=rht[r],s=rje+t.featureData.properties.photo_id+".webp";return{node_id:t.featureData.properties.node_id,photo_id:r,angle:i,featureData:t.featureData,texture:s}}),sht=n=>{let e=-l1.radToDeg(n.rotation.x),t=-l1.radToDeg(n.rotation.y);return{x:(e+360)%360,y:(t+360)%360}},So=n=>n*(Math.PI/180);class aht{constructor(e){z(this,"cache",new Map);z(this,"loadingPromises",new Map);z(this,"textureLoader");z(this,"maxCacheSize",15);this.textureLoader=e}async loadTexture(e){if(this.cache.has(e))return this.cache.get(e);if(this.loadingPromises.has(e))return this.loadingPromises.get(e);const t=this.createLoadPromise(e);this.loadingPromises.set(e,t);try{const r=await t;return this.addToCache(e,r),r}finally{this.loadingPromises.delete(e)}}createLoadPromise(e){return new Promise((t,r)=>{this.textureLoader.load(e,i=>{i.colorSpace=nd,i.minFilter=y3,i.magFilter=y3,i.generateMipmaps=!1,i.needsUpdate=!0,i.premultiplyAlpha=!1,t(i)},void 0,r)})}addToCache(e,t){if(this.cache.size>=this.maxCacheSize){const r=this.cache.keys().next().value;if(!r)return;const i=this.cache.get(r);i&&i.dispose(),this.cache.delete(r)}this.cache.set(e,t)}async preloadTexture(e){try{await this.loadTexture(e)}catch(t){console.warn(`: ${e}`,t)}}async preloadTextures(e){const t=e.map(r=>this.preloadTexture(r));await Promise.allSettled(t)}getCacheStatus(){return{cached:this.cache.size,loading:this.loadingPromises.size,cachedUrls:Array.from(this.cache.keys()).map(e=>e.split("/").pop())}}clearCache(){this.cache.forEach(e=>e.dispose()),this.cache.clear(),this.loadingPromises.clear()}}function oht(n,e){Mt(e,!0);let t=Ne(e,"camera",7),r=Ne(e,"orbitControls",15);r(r().dampingFactor=.1,!0),r(r().rotateSpeed*=Di()?-.3:-.6,!0),r(r().enableDamping=!0,!0),r(r().enablePan=!1,!0),r(r().enableZoom=!1,!0),r(r().maxZoom=1,!0),r().addEventListener("end",()=>{jbe(sht(t()))});const i=new HL(XV,{duration:300,easing:QY});on(()=>{i&&t()&&(t().fov=i.current,t().updateProjectionMatrix())}),e.canvas.addEventListener("wheel",l=>{if(!t())return;const A=t().fov+l.deltaY*.05*.51;i.set(Math.max(gk,Math.min(pk,A)))});let s=0;e.canvas.addEventListener("touchstart",l=>{if(l.touches.length===2){const c=l.touches[0],A=l.touches[1];s=Math.sqrt(Math.pow(A.clientX-c.clientX,2)+Math.pow(A.clientY-c.clientY,2))}}),e.canvas.addEventListener("touchmove",l=>{if(l.touches.length===2){l.preventDefault();const c=15,A=l.touches[0],u=l.touches[1],h=Math.sqrt(Math.pow(u.clientX-A.clientX,2)+Math.pow(u.clientY-A.clientY,2)),f=h-s,d=t().fov-f*.1*c;i.set(Math.max(gk,Math.min(pk,d))),s=h}},{passive:!1}),e.canvas.addEventListener("touchend",l=>{s=0,r(r().enablePan=!0,!0)});const a=l=>{if(!e.renderer||!e.canvas||!t())return;const c=e.canvas.clientWidth,A=l?window.innerHeight:window.innerHeight/2;e.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),e.renderer.setSize(c,A),t().aspect=c/A,t().updateProjectionMatrix()};on(()=>{e.mobileFullscreen!==void 0&&setTimeout(()=>{a(e.mobileFullscreen)},500)}),Qo.subscribe(async l=>{e.onResize()}),window.addEventListener("resize",e.onResize);var o={fov:i};return St(o)}const lht=`const float PI = 3.14159265359;
const float INV_PI = 1.0 / PI;
const float INV_TWO_PI = 1.0 / (2.0 * PI);

// X3D
vec3 rotateX(vec3 p, float angle) {
    float s = sin(angle);
    float c = cos(angle);
    mat3 rotationMatrix = mat3(
        1.0, 0.0, 0.0,
        0.0, c,   -s,
        0.0, s,   c
    );
    return rotationMatrix * p;
}

// Y3D
vec3 rotateY(vec3 p, float angle) {
    float s = sin(angle);
    float c = cos(angle);
    mat3 rotationMatrix = mat3(
        c,   0.0, s,
        0.0, 1.0, 0.0,
        -s,  0.0, c
    );
    return rotationMatrix * p;
}

// Z3D
vec3 rotateZ(vec3 p, float angle) {
    float s = sin(angle);
    float c = cos(angle);
    mat3 rotationMatrix = mat3(
        c,   -s,  0.0,
        s,   c,   0.0,
        0.0, 0.0, 1.0
    );
    return rotationMatrix * p;
}

// 3DUV
vec2 directionToEquirectangularUV(vec3 dir) {
    dir = normalize(dir);
    float u = atan(dir.x, dir.z) * INV_TWO_PI + 0.5;
    float v = asin(dir.y) * INV_PI + 0.5;
    return vec2(u, v);
}

uniform sampler2D textureA;
uniform sampler2D textureB;
uniform sampler2D textureC;
uniform float fadeStartTime;
uniform float fadeSpeed;
uniform float time;
varying vec3 v_modelPosition;
uniform vec3 rotationAnglesA;
uniform vec3 rotationAnglesB;
uniform vec3 rotationAnglesC;
uniform float fromTarget; //  0=A, 1=B, 2=C
uniform float toTarget;   //  0=A, 1=B, 2=C
uniform float exposure; // JavaScript
uniform float inputGamma;
uniform float outputGamma;
uniform float brightness;
uniform float contrast;

vec4 sampleTexture(sampler2D tex, vec3 rotationAngles) {
    vec3 samplingDirection = normalize(v_modelPosition);
    
    // 
    vec3 rotatedDirection = samplingDirection;
    rotatedDirection = rotateY(rotatedDirection, rotationAngles.y);
    rotatedDirection = rotateX(rotatedDirection, rotationAngles.z);
    rotatedDirection = rotateZ(rotatedDirection, rotationAngles.x);
    
    vec2 uv = directionToEquirectangularUV(rotatedDirection);
    uv.x = 1.0 - uv.x;
    
    return texture2D(tex, uv);
}


// 
vec3 sRGBToLinear(vec3 color) {
    return pow(max(color, vec3(0.0)), vec3(inputGamma));
}


vec3 applyBrightnessContrast(vec3 linearColor, float brightness, float contrast) {
    return pow(linearColor * brightness, vec3(contrast));
}

vec3 linearToSRGB(vec3 color) {
    return pow(max(color, vec3(0.0)), vec3(1.0/outputGamma));
}


// 
vec3 adjustExposure(vec3 linearColor, float exposure) {
    return linearColor * pow(2.0, exposure);
}


void main() {
    // 
    float fadeProgress = (time - fadeStartTime) * fadeSpeed;
    fadeProgress = clamp(fadeProgress, 0.0, 1.0);
    float smoothFade = smoothstep(0.0, 1.0, fadeProgress);
    
    // 
    float shouldFade = step(0.001, fadeStartTime);
    
    // fromTargettoTarget
    vec4 fromColor;
    vec4 toColor;
    
    // 
    if (fromTarget < 0.5) {
        fromColor = sampleTexture(textureA, rotationAnglesA);
    } else if (fromTarget < 1.5) {
        fromColor = sampleTexture(textureB, rotationAnglesB);
    } else {
        fromColor = sampleTexture(textureC, rotationAnglesC);
    }
    
    // 
    if (toTarget < 0.5) {
        toColor = sampleTexture(textureA, rotationAnglesA);
    } else if (toTarget < 1.5) {
        toColor = sampleTexture(textureB, rotationAnglesB);
    } else {
        toColor = sampleTexture(textureC, rotationAnglesC);
    }
    
    // sRGB
    vec3 fromColorLinear = sRGBToLinear(fromColor.rgb);
    vec3 toColorLinear = sRGBToLinear(toColor.rgb);
    
    // 
    fromColorLinear = adjustExposure(fromColorLinear, exposure);
    toColorLinear = adjustExposure(toColorLinear, exposure);
    
    // Step3: 
    float hasFromTexture = step(0.1, length(fromColor.rgb));
    vec3 blendedLinear;
    
    if (shouldFade > 0.5) {
        if (hasFromTexture > 0.5) {
            blendedLinear = mix(fromColorLinear, toColorLinear, smoothFade);
        } else {
            blendedLinear = toColorLinear * smoothFade;
        }
    } else {
        blendedLinear = hasFromTexture > 0.5 ? fromColorLinear : toColorLinear;
    }
    
    // Step4: 
    blendedLinear = applyBrightnessContrast(blendedLinear, brightness, contrast);
    
    // Step5: sRGB
    vec4 finalColor = vec4(linearToSRGB(blendedLinear), 1.0);
    
    gl_FragColor = finalColor;

}`,cht=`varying vec4 coords;
varying vec2 vUv;
varying vec3 v_modelPosition;

void main()	{
    vUv = uv;
    v_modelPosition = position;

	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );


	coords = modelMatrix * vec4( position, 1.0 );

	gl_Position = projectionMatrix * mvPosition;

}

// varying vec2 vUv;
// void main() {
//     vUv = uv;
//     gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
// }`,Fs={skybox:{value:null},exposure:{value:.6},gamma:{value:2.2},inputGamma:{value:2.2},outputGamma:{value:2.2},brightness:{value:1.5},contrast:{value:.5},rotationAnglesA:{value:new _s},rotationAnglesB:{value:new _s},rotationAnglesC:{value:new _s},textureA:{value:null},textureB:{value:null},textureC:{value:null},fadeStartTime:{value:0},fadeSpeed:{value:3},time:{value:0},fromTarget:{value:0},toTarget:{value:0}},Aht=new xW({side:RW,uniforms:Fs,fragmentShader:lht,vertexShader:cht,transparent:!1,alphaTest:0,premultipliedAlpha:!1}),kw=new ah({color:16777215,wireframe:!0,side:eP,opacity:1,visible:!1});var uht=we('<div class="css-loading svelte-jnh7og"><div class="css-spinner svelte-jnh7og"></div></div>'),fht=we('<div class="lg:border-sub absolute left-4 z-10 flex items-center justify-center rounded-lg p-2 text-white max-lg:gap-2 max-lg:bg-black/70 lg:gap-3 lg:border lg:bg-black lg:px-4 svelte-jnh7og" style="top: calc(10px + env(safe-area-inset-top));"><button class="lg:bg-base group cursor-pointer rounded-full p-2 max-lg:text-white lg:text-black svelte-jnh7og"><!></button> <div class="flex flex-col gap-2 svelte-jnh7og"><span class="text-lg max-lg:hidden svelte-jnh7og"> </span> <span class="svelte-jnh7og"> </span></div></div> <button class="hover:text-accent lg:border-sub absolute top-3 right-4 z-10 flex cursor-pointer items-center justify-center gap-2 rounded-lg bg-black p-2 text-white duration-100 max-lg:hidden lg:border svelte-jnh7og"><!></button>',1),hht=we('<button class="absolute right-3 bottom-3 z-10 cursor-pointer rounded-full bg-black/70 p-2 text-white svelte-jnh7og"><!></button>'),dht=we('<button class="css-arrow svelte-jnh7og"><!></button>'),ght=we('<!> <!> <div class="css-3d pointer-events-none absolute bottom-0 grid w-full place-items-center p-0 max-lg:h-[200px] lg:h-[400px] svelte-jnh7og"><div class="rotate-x-60 svelte-jnh7og"><div class="pointer-events-none origin-center svelte-jnh7og"><!></div></div></div>',1),pht=we('<div><!> <canvas class="h-full w-full svelte-jnh7og"></canvas> <!></div> <!>',1);function _ht(n,e){Mt(e,!0);const t=()=>qt(Ig,"$isDebugMode",i),r=()=>qt(k1,"$isMobile",i),[i,s]=Rr();let a=Ne(e,"cameraBearing",15),o=Ne(e,"isExternalCameraUpdate",15),l=Oe(void 0),c=Oe(void 0),A=Oe(void 0),u=Oe(void 0),h=Oe(void 0),f=Oe(void 0),d,g=Oe(!1),_=[],m=Oe(null),y=Oe(!0),b=Oe(0),v=Oe(0),B=Oe(0),C=Oe(!1);on(()=>{E(C)?kw.visible=!0:kw.visible=!1}),d=new Xk;const I=new aht(d);ni(async()=>{if(!E(l))return;const N={width:E(l).clientWidth,height:E(l).clientHeight};ee(h,new rP,!0),ee(c,new tP(XV,N.width/N.height,.1,1e4),!0),E(h).add(E(c)),E(c).rotation.order="YXZ",E(c).aspect=N.width/N.height,E(c).updateProjectionMatrix(),ee(f,new BW(E(c),E(l)),!0),E(f).target.set(E(c).position.x,E(c).position.y,E(c).position.z+.01);const H=Ybe();if(H&&H.x!==void 0&&H.y!==void 0){const ue=(-H.y-180+360)%360,me=l1.degToRad(ue),_e=(-H.x+360)%360,xe=l1.degToRad(_e),Re=.01;E(f).target.set(E(c).position.x+Math.sin(me)*Re,E(c).position.y+Math.tan(xe)*Re,E(c).position.z+Math.cos(me)*Re),E(f).update(),o(!1)}else E(f).target.set(E(c).position.x,E(c).position.y,E(c).position.z-.01);ee(A,new iP({canvas:E(l),alpha:!0}),!0);const V=new sC(1e3,1e3,1e3),j=new sm(V,Aht);j.name="panoramaBox",E(h).add(j);const le=new sC(900,900,900,2,2,2),de=new sm(le,kw);E(h).add(de),E(A).setSize(E(l).clientWidth,E(l).clientHeight),E(A).setPixelRatio(Math.min(window.devicePixelRatio,2));const he=()=>{if(!Qo||!E(f)||!E(c)||!E(A)||!E(h))return;requestAnimationFrame(he),E(f).update(),Fs.time.value=performance.now()*.001;let ue=l1.radToDeg(E(c).rotation.y);if(ue=(ue+360)%360,!E(m))return;E(m).style.transform=`rotateZ(${ue}deg)`,o()||a((ue+180)%360);let me=new _s(So(E(b)),So(E(v)),So(E(B)));E(R)===0?Fs.rotationAnglesA.value=me:E(R)===1?Fs.rotationAnglesB.value=me:E(R)===2&&(Fs.rotationAnglesC.value=me),E(A).render(E(h),E(c))};he()}),on(()=>{if(a()!==void 0&&E(c)&&o()&&E(f)){const N=(a()-180+360)%360,H=l1.degToRad(N);E(c).rotation.y=H;const V=.01;E(f).target.set(E(c).position.x+Math.sin(H)*V,E(c).position.y,E(c).position.z+Math.cos(H)*V),E(f).update(),o(!1)}});let R=Oe(0);const w=async N=>{try{const{angle:H,featureData:V,texture:j,photo_id:le,node_id:de}=N,he=await I.loadTexture(j),ue=(E(R)+1)%3;Fs.fromTarget.value=E(R),Fs.toTarget.value=ue,ue===0?(Fs.textureA.value=he,Fs.rotationAnglesA.value=new _s(So(H.angle_x),So(H.angle_y),So(H.angle_z))):ue===1?(Fs.textureB.value=he,Fs.rotationAnglesB.value=new _s(So(H.angle_x),So(H.angle_y),So(H.angle_z))):(Fs.textureC.value=he,Fs.rotationAnglesC.value=new _s(So(H.angle_x),So(H.angle_y),So(H.angle_z))),ee(b,H.angle_x,!0),ee(v,H.angle_y,!0),ee(B,H.angle_z,!0),Fs.fadeStartTime.value=performance.now()*.001,ee(R,ue)}catch(H){console.error(":",H)}},U=async N=>{!N||N.length===0||I.preloadTextures(N.map(H=>H.texture)).then(()=>{N.forEach(async(H,V)=>{_=[..._,H.node_id]})})};on(()=>{if(e.nextPointData){_.includes(e.nextPointData[0].featureData.properties.node_id)||ee(g,!0);const N=iht(e.nextPointData||[]),{node_id:H,angle:V,featureData:j,texture:le}=N[0];ee(u,j.properties.node_id,!0),w(N[0]).then(()=>{_=[..._,H],ee(g,!1),U(N.slice(1))})}}),on(()=>{E(u)&&Qo&&ey(E(u))});const M=()=>{if(!E(A)||!E(c))return;const N=window.innerWidth,H=window.innerHeight;E(A).setPixelRatio(Math.min(window.devicePixelRatio,2)),E(A).setSize(N,H),E(c).aspect=N/H,E(c).updateProjectionMatrix()};Ga(()=>{var N,H,V;window.removeEventListener("resize",M),E(A)&&E(A).dispose(),E(f)&&E(f).dispose(),E(h)&&E(h).traverse(j=>{var le,de;j instanceof sm&&((le=j.geometry)==null||le.dispose(),Array.isArray(j.material)?j.material.forEach(he=>he.dispose()):(de=j.material)==null||de.dispose())}),I&&I.clearCache(),(N=Fs.textureA.value)==null||N.dispose(),(H=Fs.textureB.value)==null||H.dispose(),(V=Fs.textureC.value)==null||V.dispose()});var F=pht(),P=Je(F),S=q(P);{var W=N=>{sje(N,{get streetViewPoint(){return e.streetViewPoint},get angleX(){return E(b)},set angleX(H){ee(b,H,!0)},get angleY(){return E(v)},set angleY(H){ee(v,H,!0)},get angleZ(){return E(B)},set angleZ(H){ee(B,H,!0)},get showWireframe(){return E(C)},set showWireframe(H){ee(C,H,!0)}})};Te(S,N=>{t()&&N(W)})}var re=oe(S,2);qn(re,N=>ee(l,N),()=>E(l));var G=oe(re,2);{var ie=N=>{var H=uht();Yt(3,H,()=>cr,()=>({duration:150})),Z(N,H)},X=N=>{var H=ght(),V=Je(H);{var j=Re=>{var D=fht(),O=Je(D),ne=q(O);ne.__click=()=>xr(Qo,!1);var te=q(ne);Bt(te,{icon:"ep:back",class:"max-lg:h-5 max-lg:w-5 lg:h-6 lg:w-6 lg:transition-transform lg:duration-150 lg:group-hover:-translate-x-1"}),$(ne);var J=oe(ne,2),ce=q(J),Me=q(ce,!0);$(ce);var Se=oe(ce,2),Le=q(Se);$(Se),$(J),$(O);var He=oe(O,2);He.__click=()=>Wi.set(!0);var be=q(He);Bt(be,{icon:"ic:round-menu",class:"h-8 w-8"}),$(He),Ye(()=>{yt(Me,e.streetViewPoint?e.streetViewPoint.properties.name:""),yt(Le,`:${(e.streetViewPoint?e.streetViewPoint.properties.Date:"")??""}`)}),Z(Re,D)};Te(V,Re=>{e.showThreeCanvas&&Re(j)})}var le=oe(V,2);{var de=Re=>{var D=hht();D.__click=()=>{ee(y,!E(y)),M()};var O=q(D);{let ne=Ot(()=>E(y)?"mingcute:fullscreen-exit-2-line":"mingcute:fullscreen-2-line");Bt(O,{get icon(){return E(ne)},class:"h-7 w-7"})}$(D),Z(Re,D)};Te(le,Re=>{r()&&Re(de)})}var he=oe(le,2),ue=q(he),me=q(ue),_e=q(me);{var xe=Re=>{var D=xt(),O=Je(D);Fn(O,17,()=>e.nextPointData,wi,(ne,te)=>{var J=xt(),ce=Je(J);{var Me=Se=>{var Le=dht();Le.__click=()=>{ey(E(te).featureData.properties.node_id)};var He=q(Le);Bt(He,{icon:"ep:arrow-up-bold",class:"max-lg:h-[70px] max-lg:w-[70px] lg:h-[128px] lg:w-[128px]",get style(){return`transform: rotate(${E(te).bearing??""}deg);`}}),$(Le),Ye(()=>Xr(Le,`--angle: ${E(te).bearing??""}deg; --distance: ${r()?"120":"175"}px;`)),Z(Se,Le)};Te(ce,Se=>{E(te).featureData.properties.node_id!==E(u)&&Se(Me)})}Z(ne,J)}),Z(Re,D)};Te(_e,Re=>{e.nextPointData&&Re(xe)})}$(me),qn(me,Re=>ee(m,Re),()=>E(m)),$(ue),$(he),Z(N,H)};Te(G,N=>{E(g)?N(ie):N(X,!1)})}$(P);var ge=oe(P,2);{var K=N=>{oht(N,{get camera(){return E(c)},get renderer(){return E(A)},get mobileFullscreen(){return E(y)},onResize:M,get canvas(){return E(l)},set canvas(H){ee(l,H,!0)},get orbitControls(){return E(f)},set orbitControls(H){ee(f,H,!0)}})};Te(ge,N=>{E(l)&&E(c)&&E(f)&&E(A)&&N(K)})}Ye(()=>Xt(P,1,`absolute z-10 flex overflow-hidden bg-black duration-500 ${e.showThreeCanvas?"top-0 right-0 w-full opacity-100 max-lg:h-1/2 lg:h-full":"pointer-events-none right-0 bottom-0 h-full w-full opacity-0"} ${e.showThreeCanvas&&E(y)?"max-lg:h-full":""}`,"svelte-jnh7og")),Z(n,F),St(),s()}Ln(["click"]);const mht=()=>{const{subscribe:n,set:e,update:t}=er({text:"",x:0,y:0,visible:!1});return{subscribe:n,show(r,i){e({text:i,x:r.clientX,y:r.clientY,visible:!0})},hide(){t(r=>({...r,visible:!1}))}}},yht=mht();var bht=we('<div class="bg-base absolute z-50"> </div>');function vht(n,e){Mt(e,!1);const t=()=>qt(yht,"$tooltip",r),[r,i]=Rr();XL();var s=xt(),a=Je(s);{var o=l=>{var c=bht(),A=q(c,!0);$(c),Ye(()=>{Xr(c,`top: ${t().y+10}px;left: ${t().x+10}px;`),yt(A,t().text)}),Z(l,c)};Te(a,l=>{t().visible&&l(o)})}Z(n,s),St(),i()}var JV={exports:{}},Pw,_k;function wht(){if(_k)return Pw;_k=1,Pw=function(){return n};function n(){}return Pw}(function(n){let e=function(){this.xmlSource="",this.metadata={},this.waypoints=[],this.tracks=[],this.routes=[]};e.prototype.parse=function(t){let r=this,i=new window.DOMParser;this.xmlSource=i.parseFromString(t,"text/xml");let s=this.xmlSource.querySelector("metadata");if(s!=null){this.metadata.name=this.getElementValue(s,"name"),this.metadata.desc=this.getElementValue(s,"desc"),this.metadata.time=this.getElementValue(s,"time");let h={},f=s.querySelector("author");if(f!=null){h.name=this.getElementValue(f,"name"),h.email={};let _=f.querySelector("email");_!=null&&(h.email.id=_.getAttribute("id"),h.email.domain=_.getAttribute("domain"));let m={},y=f.querySelector("link");y!=null&&(m.href=y.getAttribute("href"),m.text=this.getElementValue(y,"text"),m.type=this.getElementValue(y,"type")),h.link=m}this.metadata.author=h;let d={},g=this.queryDirectSelector(s,"link");g!=null&&(d.href=g.getAttribute("href"),d.text=this.getElementValue(g,"text"),d.type=this.getElementValue(g,"type"),this.metadata.link=d)}var a=[].slice.call(this.xmlSource.querySelectorAll("wpt"));for(let h in a){var o=a[h];let f={};f.name=r.getElementValue(o,"name"),f.sym=r.getElementValue(o,"sym"),f.lat=parseFloat(o.getAttribute("lat")),f.lon=parseFloat(o.getAttribute("lon"));let d=parseFloat(r.getElementValue(o,"ele"));f.ele=isNaN(d)?null:d,f.cmt=r.getElementValue(o,"cmt"),f.desc=r.getElementValue(o,"desc");let g=r.getElementValue(o,"time");f.time=g==null?null:new Date(g),r.waypoints.push(f)}var l=[].slice.call(this.xmlSource.querySelectorAll("rte"));for(let h in l){let f=l[h],d={};d.name=r.getElementValue(f,"name"),d.cmt=r.getElementValue(f,"cmt"),d.desc=r.getElementValue(f,"desc"),d.src=r.getElementValue(f,"src"),d.number=r.getElementValue(f,"number");let g=r.queryDirectSelector(f,"type");d.type=g!=null?g.innerHTML:null;let _={},m=f.querySelector("link");m!=null&&(_.href=m.getAttribute("href"),_.text=r.getElementValue(m,"text"),_.type=r.getElementValue(m,"type")),d.link=_;let y=[];var c=[].slice.call(f.querySelectorAll("rtept"));for(let b in c){let v=c[b],B={};B.lat=parseFloat(v.getAttribute("lat")),B.lon=parseFloat(v.getAttribute("lon"));let C=parseFloat(r.getElementValue(v,"ele"));B.ele=isNaN(C)?null:C;let I=r.getElementValue(v,"time");B.time=I==null?null:new Date(I),y.push(B)}d.distance=r.calculDistance(y),d.elevation=r.calcElevation(y),d.slopes=r.calculSlope(y,d.distance.cumul),d.points=y,r.routes.push(d)}var A=[].slice.call(this.xmlSource.querySelectorAll("trk"));for(let h in A){let f=A[h],d={};d.name=r.getElementValue(f,"name"),d.cmt=r.getElementValue(f,"cmt"),d.desc=r.getElementValue(f,"desc"),d.src=r.getElementValue(f,"src"),d.number=r.getElementValue(f,"number");let g=r.queryDirectSelector(f,"type");d.type=g!=null?g.innerHTML:null;let _={},m=f.querySelector("link");m!=null&&(_.href=m.getAttribute("href"),_.text=r.getElementValue(m,"text"),_.type=r.getElementValue(m,"type")),d.link=_;let y=[],b=[].slice.call(f.querySelectorAll("trkpt"));for(let v in b){var u=b[v];let B={};B.lat=parseFloat(u.getAttribute("lat")),B.lon=parseFloat(u.getAttribute("lon"));let C=parseFloat(r.getElementValue(u,"ele"));B.ele=isNaN(C)?null:C;let I=r.getElementValue(u,"time");B.time=I==null?null:new Date(I),y.push(B)}d.distance=r.calculDistance(y),d.elevation=r.calcElevation(y),d.slopes=r.calculSlope(y,d.distance.cumul),d.points=y,r.tracks.push(d)}},e.prototype.getElementValue=function(t,r){let i=t.querySelector(r);return i!=null?i.innerHTML!=null?i.innerHTML:i.childNodes[0].data:i},e.prototype.queryDirectSelector=function(t,r){let i=t.querySelectorAll(r),s=i[0];if(i.length>1){let a=t.childNodes;for(idx in a)elem=a[idx],elem.tagName===r&&(s=elem)}return s},e.prototype.calculDistance=function(t){let r={},i=0,s=[];for(var a=0;a<t.length-1;a++)i+=this.calcDistanceBetween(t[a],t[a+1]),s[a]=i;return s[t.length-1]=i,r.total=i,r.cumul=s,r},e.prototype.calcDistanceBetween=function(t,r){let i={};i.lat=t.lat,i.lon=t.lon;let s={};s.lat=r.lat,s.lon=r.lon;var a=Math.PI/180,o=i.lat*a,l=s.lat*a,c=Math.sin((s.lat-i.lat)*a/2),A=Math.sin((s.lon-i.lon)*a/2),u=c*c+Math.cos(o)*Math.cos(l)*A*A;return 6371e3*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},e.prototype.calcElevation=function(t){for(var r=0,i=0,s={},a=0;a<t.length-1;a++){let u=t[a+1].ele,h=t[a].ele;if(u!==null&&h!==null){let f=parseFloat(u)-parseFloat(h);f<0?i+=f:f>0&&(r+=f)}}for(var o=[],l=0,c=(a=0,t.length);a<c;a++)if(t[a].ele!==null){var A=parseFloat(t[a].ele);o.push(A),l+=A}return s.max=Math.max.apply(null,o)||null,s.min=Math.min.apply(null,o)||null,s.pos=Math.abs(r)||null,s.neg=Math.abs(i)||null,s.avg=l/o.length||null,s},e.prototype.calculSlope=function(t,r){let i=[];for(var s=0;s<t.length-1;s++){let a=t[s],o=100*(t[s+1].ele-a.ele)/(r[s+1]-r[s]);i.push(o)}return i},e.prototype.toGeoJSON=function(){var t={type:"FeatureCollection",features:[],properties:{name:this.metadata.name,desc:this.metadata.desc,time:this.metadata.time,author:this.metadata.author,link:this.metadata.link}};for(idx in this.tracks){let s=this.tracks[idx];var r={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}};for(idx in r.properties.name=s.name,r.properties.cmt=s.cmt,r.properties.desc=s.desc,r.properties.src=s.src,r.properties.number=s.number,r.properties.link=s.link,r.properties.type=s.type,s.points){let a=s.points[idx];(i=[]).push(a.lon),i.push(a.lat),i.push(a.ele),r.geometry.coordinates.push(i)}t.features.push(r)}for(idx in this.routes){let s=this.routes[idx];r={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}};for(idx in r.properties.name=s.name,r.properties.cmt=s.cmt,r.properties.desc=s.desc,r.properties.src=s.src,r.properties.number=s.number,r.properties.link=s.link,r.properties.type=s.type,s.points){let a=s.points[idx];var i;(i=[]).push(a.lon),i.push(a.lat),i.push(a.ele),r.geometry.coordinates.push(i)}t.features.push(r)}for(idx in this.waypoints){let s=this.waypoints[idx];(r={type:"Feature",geometry:{type:"Point",coordinates:[]},properties:{}}).properties.name=s.name,r.properties.sym=s.sym,r.properties.cmt=s.cmt,r.properties.desc=s.desc,r.geometry.coordinates=[s.lon,s.lat,s.ele],t.features.push(r)}return t},wht()(),n.exports=e})(JV);var Lht=JV.exports;const ZV=Z1(Lht),xht=async n=>{try{const e=await n.text(),t=new ZV;return t.parse(e),{tracks:t.tracks.length>0,routes:t.routes.length>0,waypoints:t.waypoints.length>0}}catch(e){throw console.error("GPX :",e),e}},eK=async(n,e)=>{try{const t=await n.text(),r=new ZV;r.parse(t);let i;return e==="tracks"&&(i={type:"FeatureCollection",features:r.tracks.map(a=>({type:"Feature",geometry:{type:"LineString",coordinates:a.points.map(o=>[o.lon,o.lat])},properties:{name:a.name,desc:a.cmt,time:a.desc,src:a.src,number:a.number,link:a.link,type:a.type,distance:a.distance.total,elevation_max:a.elevation.max,elevation_min:a.elevation.min,elevation_pos:a.elevation.pos,elevation_neg:a.elevation.neg,elevation_avg:a.elevation.avg,distance_cumul:a.distance.cumul,slopes:a.slopes}}))}),e==="waypoints"&&(i={type:"FeatureCollection",features:r.waypoints.map(a=>({type:"Feature",geometry:{type:"Point",coordinates:[a.lon,a.lat]},properties:{name:a.name,cmt:a.cmt,desc:a.desc,lat:a.lat,lon:a.lon,ele:a.ele,time:a.time}}))}),e==="routes"&&(i={type:"FeatureCollection",features:r.routes.map(a=>({type:"Feature",geometry:{type:"LineString",coordinates:a.points.map(o=>[o.lon,o.lat])},properties:{name:a.name,cmt:a.cmt,desc:a.desc,src:a.src,number:a.number,link:a.link,type:a.type,distance:a.distance.total,elevation_max:a.elevation.max,elevation_min:a.elevation.min,elevation_pos:a.elevation.pos,elevation_neg:a.elevation.neg,elevation_avg:a.elevation.avg,distance_cumul:a.distance.cumul,slopes:a.slopes}}))}),i}catch(t){throw console.error("GeoJSON parsing error:",t),new Error("Failed to parse GeoJSON file")}};var Rht=we('<div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold">GeoTIFF</span></div> <div class="c-scroll flex h-full w-full grow flex-col items-center gap-6 overflow-y-auto overflow-x-hidden"></div> <div class="flex shrink-0 justify-center gap-4 overflow-auto pt-2"><button class="c-btn-sub cursor-pointer p-4 text-lg"></button> <button class="c-btn-confirm min-w-[200px] cursor-pointer p-4 text-lg"></button></div>',1);function Bht(n,e){Mt(e,!0);let t=Ne(e,"showDataEntry",15),r=Ne(e,"showDialogType",15),i=Oe("");const s=async h=>{const f=h.name.toLowerCase();ee(i,f,!0);const d=`${h.name}_${h.size}_${h.lastModified}`;await Kbe(d,h)};on(()=>{if(e.dropFile){if(e.dropFile instanceof FileList){const h=e.dropFile[0];s(h);return}else if(e.dropFile instanceof File){s(e.dropFile);return}}});const a=async()=>{if(!e.dropFile)return;let h;if(e.dropFile instanceof FileList?h=e.dropFile[0]:e.dropFile instanceof File&&(h=e.dropFile),!h)return;const f=await eK(h,dataType),d=Zy(f);if(!d){ci("","error");return}const g=e6(f,d,E(i));g&&(t(g),r(null))},o=()=>{r(null)};var l=Rht(),c=oe(Je(l),4),A=q(c);A.__click=o;var u=oe(A,2);u.__click=a,$(c),Z(n,l),St()}Ln(["click"]);var Eht=we('<div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold">GPX</span></div> <div class="c-scroll flex h-full w-full grow flex-col items-center gap-6 overflow-y-auto overflow-x-hidden"><div class="p-2"><!></div></div> <div class="flex shrink-0 justify-center gap-4 overflow-auto pt-2"><button class="c-btn-sub cursor-pointer p-4 text-lg"></button> <button class="c-btn-confirm min-w-[200px] cursor-pointer p-4 text-lg"></button></div>',1);function Cht(n,e){Mt(e,!0);let t=Ne(e,"showDataEntry",15),r=Ne(e,"showDialogType",15),i=Oe("waypoints"),s=Oe(Wr([])),a=Oe("");const o=async m=>{const y=m.name.toLowerCase();ee(a,y,!0);const b=await xht(m),v=[];if(b.tracks&&v.push({key:"tracks",name:""}),b.routes&&v.push({key:"routes",name:""}),b.waypoints&&v.push({key:"waypoints",name:""}),v.length===1){ee(i,v[0].key,!0),l();return}ee(s,v,!0)};on(()=>{if(e.dropFile){if(e.dropFile instanceof FileList){const m=e.dropFile[0];o(m);return}else if(e.dropFile instanceof File){o(e.dropFile);return}}});const l=async()=>{if(!e.dropFile)return;let m;if(e.dropFile instanceof FileList?m=e.dropFile[0]:e.dropFile instanceof File&&(m=e.dropFile),!m)return;const y=await eK(m,E(i)),b=Zy(y);if(!b){ci("","error");return}const v=e6(y,b,E(a));v&&(t(v),r(null))},c=()=>{r(null)};var A=Eht(),u=oe(Je(A),2),h=q(u),f=q(h);nu(f,{label:"",get group(){return E(i)},set group(m){ee(i,m,!0)},get options(){return E(s)},set options(m){ee(s,m,!0)}}),$(h),$(u);var d=oe(u,2),g=q(d);g.__click=c;var _=oe(g,2);_.__click=l,$(d),Z(n,A),St()}Ln(["click"]);function Af(n){this._maxSize=n,this.clear()}Af.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Af.prototype.get=function(n){return this._values[n]};Af.prototype.set=function(n,e){return this._size>=this._maxSize&&this.clear(),n in this._values||this._size++,this._values[n]=e};var Iht=/[^.^\]^[]+|(?=\[\]|\.\.)/g,tK=/^\d+$/,Tht=/^\d/,Mht=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Sht=/^\s*(['"]?)(.*?)(\1)\s*$/,sE=512,mk=new Af(sE),yk=new Af(sE),bk=new Af(sE),N1={Cache:Af,split:QL,normalizePath:Dw,setter:function(n){var e=Dw(n);return yk.get(n)||yk.set(n,function(r,i){for(var s=0,a=e.length,o=r;s<a-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;o=o[e[s++]]}o[e[s]]=i})},getter:function(n,e){var t=Dw(n);return bk.get(n)||bk.set(n,function(i){for(var s=0,a=t.length;s<a;)if(i!=null||!e)i=i[t[s++]];else return;return i})},join:function(n){return n.reduce(function(e,t){return e+(aE(t)||tK.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(n,e,t){Fht(Array.isArray(n)?n:QL(n),e,t)}};function Dw(n){return mk.get(n)||mk.set(n,QL(n).map(function(e){return e.replace(Sht,"$2")}))}function QL(n){return n.match(Iht)||[""]}function Fht(n,e,t){var r=n.length,i,s,a,o;for(s=0;s<r;s++)i=n[s],i&&(kht(i)&&(i='"'+i+'"'),o=aE(i),a=!o&&/^\d+$/.test(i),e.call(t,i,o,a,s,n))}function aE(n){return typeof n=="string"&&n&&["'",'"'].indexOf(n.charAt(0))!==-1}function Uht(n){return n.match(Tht)&&!n.match(tK)}function Nht(n){return Mht.test(n)}function kht(n){return!aE(n)&&(Uht(n)||Nht(n))}const Pht=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,z6=n=>n.match(Pht)||[],H6=n=>n[0].toUpperCase()+n.slice(1),oE=(n,e)=>z6(n).join(e).toLowerCase(),nK=n=>z6(n).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,""),Dht=n=>H6(nK(n)),Oht=n=>oE(n,"_"),zht=n=>oE(n,"-"),Hht=n=>H6(oE(n," ")),Qht=n=>z6(n).map(H6).join(" ");var Ow={words:z6,upperFirst:H6,camelCase:nK,pascalCase:Dht,snakeCase:Oht,kebabCase:zht,sentenceCase:Hht,titleCase:Qht},lE={exports:{}};lE.exports=function(n){return rK(jht(n),n)};lE.exports.array=rK;function rK(n,e){var t=n.length,r=new Array(t),i={},s=t,a=Yht(e),o=Ght(n);for(e.forEach(function(c){if(!o.has(c[0])||!o.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(n[s],s,new Set);return r;function l(c,A,u){if(u.has(c)){var h;try{h=", node was:"+JSON.stringify(c)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!o.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[A]){i[A]=!0;var f=a.get(c)||new Set;if(f=Array.from(f),A=f.length){u.add(c);do{var d=f[--A];l(d,o.get(d),u)}while(A);u.delete(c)}r[--t]=c}}}function jht(n){for(var e=new Set,t=0,r=n.length;t<r;t++){var i=n[t];e.add(i[0]),e.add(i[1])}return Array.from(e)}function Yht(n){for(var e=new Map,t=0,r=n.length;t<r;t++){var i=n[t];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function Ght(n){for(var e=new Map,t=0,r=n.length;t<r;t++)e.set(n[t],t);return e}var Vht=lE.exports;const Kht=Z1(Vht),$ht=Object.prototype.toString,Wht=Error.prototype.toString,qht=RegExp.prototype.toString,Xht=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Jht=/^Symbol\((.*)\)(.*)$/;function Zht(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function vk(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return Zht(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return Xht.call(n).replace(Jht,"Symbol($1)");const r=$ht.call(n).slice(8,-1);return r==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):r==="Error"||n instanceof Error?"["+Wht.call(n)+"]":r==="RegExp"?qht.call(n):null}function JA(n,e){let t=vk(n,e);return t!==null?t:JSON.stringify(n,function(r,i){let s=vk(this[r],e);return s!==null?s:i},2)}function iK(n){return n==null?[]:[].concat(n)}let sK,aK,oK,edt=/\$\{\s*(\w+)\s*\}/g;sK=Symbol.toStringTag;class wk{constructor(e,t,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[sK]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=i,this.errors=[],this.inner=[],iK(e).forEach(s=>{if(ga.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}aK=Symbol.hasInstance;oK=Symbol.toStringTag;class ga extends Error{static formatError(e,t){const r=t.label||t.path||"this";return t=Object.assign({},t,{path:r,originalPath:t.path}),typeof e=="string"?e.replace(edt,(i,s)=>JA(t[s])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,r,i,s){const a=new wk(e,t,r,i);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[oK]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ga)}static[aK](e){return wk[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let mc={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:r})=>{const i=r!=null&&r!==t?` (cast from the value \`${JA(r,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${JA(t,!0)}\``+i:`${n} must match the configured type. The validated value was: \`${JA(t,!0)}\``+i}},Ta={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},tdt={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},jL={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},ndt={isValue:"${path} field must be ${value}"},Gm={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},rdt={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},idt={notType:n=>{const{path:e,value:t,spec:r}=n,i=r.types.length;if(Array.isArray(t)){if(t.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${t.length} for value: \`${JA(t,!0)}\``;if(t.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${t.length} for value: \`${JA(t,!0)}\``}return ga.formatError(mc.notType,n)}};Object.assign(Object.create(null),{mixed:mc,string:Ta,number:tdt,date:jL,object:Gm,array:rdt,boolean:ndt,tuple:idt});const cE=n=>n&&n.__isYupSchema__;class by{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=t,a=typeof r=="function"?r:(...o)=>o.every(l=>l===r);return new by(e,(o,l)=>{var c;let A=a(...o)?i:s;return(c=A==null?void 0:A(l))!=null?c:l})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(s=>s.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),i=this.fn(r,e,t);if(i===void 0||i===e)return e;if(!cE(i))throw new TypeError("conditions must return a schema object");return i.resolve(t)}}const tm={context:"$",value:"."};class uf{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===tm.context,this.isValue=this.key[0]===tm.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?tm.context:this.isValue?tm.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&N1.getter(this.path,!0),this.map=t.map}getValue(e,t,r){let i=this.isContext?r:this.isValue?e:t;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}uf.prototype.__isYupRef=!0;const g1=n=>n==null;function qf(n){function e({value:t,path:r="",options:i,originalValue:s,schema:a},o,l){const{name:c,test:A,params:u,message:h,skipAbsent:f}=n;let{parent:d,context:g,abortEarly:_=a.spec.abortEarly,disableStackTrace:m=a.spec.disableStackTrace}=i;const y={value:t,parent:d,context:g};function b(M={}){const F=lK(Object.assign({value:t,originalValue:s,label:a.spec.label,path:M.path||r,spec:a.spec,disableStackTrace:M.disableStackTrace||m},u,M.params),y),P=new ga(ga.formatError(M.message||h,F),t,F.path,M.type||c,F.disableStackTrace);return P.params=F,P}const v=_?o:l;let B={path:r,parent:d,type:c,from:i.from,createError:b,resolve(M){return cK(M,y)},options:i,originalValue:s,schema:a};const C=M=>{ga.isError(M)?v(M):M?l(null):v(b())},I=M=>{ga.isError(M)?v(M):o(M)};if(f&&g1(t))return C(!0);let w;try{var U;if(w=A.call(B,t,B),typeof((U=w)==null?void 0:U.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${B.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(w).then(C,I)}}catch(M){I(M);return}C(w)}return e.OPTIONS=n,e}function lK(n,e){if(!n)return n;for(const t of Object.keys(n))n[t]=cK(n[t],e);return n}function cK(n,e){return uf.isRef(n)?n.getValue(e.value,e.parent,e.context):n}function sdt(n,e,t,r=t){let i,s,a;return e?(N1.forEach(e,(o,l,c)=>{let A=l?o.slice(1,o.length-1):o;n=n.resolve({context:r,parent:i,value:t});let u=n.type==="tuple",h=c?parseInt(A,10):0;if(n.innerType||u){if(u&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(t&&h>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);i=t,t=t&&t[h],n=u?n.spec.types[h]:n.innerType}if(!c){if(!n.fields||!n.fields[A])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${n.type}")`);i=t,t=t&&t[A],n=n.fields[A]}s=A,a=l?"["+o+"]":"."+o}),{schema:n,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:n}}class vy extends Set{describe(){const e=[];for(const t of this.values())e.push(uf.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new vy(this.values())}merge(e,t){const r=this.clone();return e.forEach(i=>r.add(i)),t.forEach(i=>r.delete(i)),r}}function Rh(n,e=new Map){if(cE(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let r=0;r<n.length;r++)t[r]=Rh(n[r],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[r,i]of n.entries())t.set(r,Rh(i,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const r of n)t.add(Rh(r,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[r,i]of Object.entries(n))t[r]=Rh(i,e)}else throw Error(`Unable to clone ${n}`);return t}function adt(n){if(!(n!=null&&n.length))return;const e=[];let t="",r=!1,i=!1;for(let s=0;s<n.length;s++){const a=n[s];if(a==="["&&!i){t&&(e.push(...t.split(".").filter(Boolean)),t=""),r=!0;continue}if(a==="]"&&!i){t&&(/^\d+$/.test(t)?e.push(t):e.push(t.replace(/^"|"$/g,"")),t=""),r=!1;continue}if(a==='"'){i=!i;continue}if(a==="."&&!r&&!i){t&&(e.push(t),t="");continue}t+=a}return t&&e.push(...t.split(".").filter(Boolean)),e}function odt(n,e){const t=e?`${e}.${n.path}`:n.path;return n.errors.map(r=>({message:r,path:adt(t)}))}function AK(n,e){var t;if(!((t=n.inner)!=null&&t.length)&&n.errors.length)return odt(n,e);const r=e?`${e}.${n.path}`:n.path;return n.inner.flatMap(i=>AK(i,r))}class Kl{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new vy,this._blacklist=new vy,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(mc.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Rh(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const i=Object.assign({},t.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((i,s)=>s.resolve(i,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,t={}){let r=this.resolve(Object.assign({},t,{value:e})),i=t.assert==="ignore-optionality",s=r._cast(e,t);if(t.assert!==!1&&!r.isType(s)){if(i&&g1(s))return s;let a=JA(e),o=JA(s);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return s}_cast(e,t){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this,t),e);return r===void 0&&(r=this.getDefault(t)),r}_validate(e,t={},r,i){let{path:s,originalValue:a=e,strict:o=this.spec.strict}=t,l=e;o||(l=this._cast(l,Object.assign({assert:!1},t)));let c=[];for(let A of Object.values(this.internalTests))A&&c.push(A);this.runTests({path:s,value:l,originalValue:a,options:t,tests:c},r,A=>{if(A.length)return i(A,l);this.runTests({path:s,value:l,originalValue:a,options:t,tests:this.tests},r,i)})}runTests(e,t,r){let i=!1,{tests:s,value:a,originalValue:o,path:l,options:c}=e,A=g=>{i||(i=!0,t(g,a))},u=g=>{i||(i=!0,r(g,a))},h=s.length,f=[];if(!h)return u([]);let d={value:a,originalValue:o,path:l,options:c,schema:this};for(let g=0;g<s.length;g++){const _=s[g];_(d,A,function(y){y&&(Array.isArray(y)?f.push(...y):f.push(y)),--h<=0&&u(f)})}}asNestedTest({key:e,index:t,parent:r,parentPath:i,originalParent:s,options:a}){const o=e??t;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let c=r[o];const A=Object.assign({},a,{strict:!0,parent:r,value:c,originalValue:s[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${i||""}[${l?o:`"${o}"`}]`:(i?`${i}.`:"")+e});return(u,h,f)=>this.resolve(A)._validate(c,A,h,f)}validate(e,t){var r;let i=this.resolve(Object.assign({},t,{value:e})),s=(r=t==null?void 0:t.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((a,o)=>i._validate(e,t,(l,c)=>{ga.isError(l)&&(l.value=c),o(l)},(l,c)=>{l.length?o(new ga(l,c,void 0,void 0,s)):a(c)}))}validateSync(e,t){var r;let i=this.resolve(Object.assign({},t,{value:e})),s,a=(r=t==null?void 0:t.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},t,{sync:!0}),(o,l)=>{throw ga.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new ga(o,e,void 0,void 0,a);s=l}),s}isValid(e,t){return this.validate(e,t).then(()=>!0,r=>{if(ga.isError(r))return!1;throw r})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(ga.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Rh(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=qf({message:t,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=qf({message:t,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=mc.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=mc.notNull){return this.nullability(!1,e)}required(e=mc.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=mc.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=qf(t),s=t.exclusive||t.name&&r.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===t.name&&(s||a.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let r=this.clone(),i=iK(e).map(s=>new uf(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof t=="function"?new by(i,t):by.fromOptions(i,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=qf({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=mc.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=qf({message:t,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),r}notOneOf(e,t=mc.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=qf({message:t,name:"notOneOf",test(i){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:a}=t.spec;return{meta:i,label:r,optional:s,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((l,c,A)=>A.findIndex(u=>u.OPTIONS.name===l.OPTIONS.name)===c).map(l=>{const c=l.OPTIONS.params&&e?lK(Object.assign({},l.OPTIONS.params),e):l.OPTIONS.params;return{name:l.OPTIONS.name,params:c}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(i){if(i instanceof ga)return{issues:AK(i)};throw i}}}}}Kl.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Kl.prototype[`${n}At`]=function(e,t,r={}){const{parent:i,parentPath:s,schema:a}=sdt(this,e,t,r.context);return a[n](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const n of["equals","is"])Kl.prototype[n]=Kl.prototype.oneOf;for(const n of["not","nope"])Kl.prototype[n]=Kl.prototype.notOneOf;const ldt=()=>!0;function Bg(n){return new uK(n)}class uK extends Kl{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:ldt},e))}}Bg.prototype=uK.prototype;const cdt=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Adt(n){const e=YL(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function YL(n){var e,t;const r=cdt.exec(n);return r?{year:A0(r[1]),month:A0(r[2],1)-1,day:A0(r[3],1),hour:A0(r[4]),minute:A0(r[5]),second:A0(r[6]),millisecond:r[7]?A0(r[7].substring(0,3)):0,precision:(e=(t=r[7])==null?void 0:t.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:A0(r[10]),minuteOffset:A0(r[11])}:null}function A0(n,e=0){return Number(n)||e}let udt=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,fdt=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,hdt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ddt="^\\d{4}-\\d{2}-\\d{2}",gdt="\\d{2}:\\d{2}:\\d{2}",pdt="(([+-]\\d{2}(:?\\d{2})?)|Z)",_dt=new RegExp(`${ddt}T${gdt}(\\.\\d+)?${pdt}$`),mdt=n=>g1(n)||n===n.trim(),ydt={}.toString();function Cc(){return new fK}class fK extends Kl{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===ydt?e:r})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||mc.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=Ta.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,t=Ta.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,t=Ta.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,t){let r=!1,i,s;return t&&(typeof t=="object"?{excludeEmptyString:r=!1,message:i,name:s}=t:i=t),this.test({name:s||"matches",message:i||Ta.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=Ta.email){return this.matches(udt,{name:"email",message:e,excludeEmptyString:!0})}url(e=Ta.url){return this.matches(fdt,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Ta.uuid){return this.matches(hdt,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",r,i;return e&&(typeof e=="object"?{message:t="",allowOffset:r=!1,precision:i=void 0}=e:t=e),this.matches(_dt,{name:"datetime",message:t||Ta.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||Ta.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const a=YL(s);return a?!!a.z:!1}}).test({name:"datetime_precision",message:t||Ta.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const a=YL(s);return a?a.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Ta.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:mdt})}lowercase(e=Ta.lowercase){return this.transform(t=>g1(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>g1(t)||t===t.toLowerCase()})}uppercase(e=Ta.uppercase){return this.transform(t=>g1(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>g1(t)||t===t.toUpperCase()})}}Cc.prototype=fK.prototype;let bdt=new Date(""),vdt=n=>Object.prototype.toString.call(n)==="[object Date]";class AE extends Kl{constructor(){super({type:"date",check(e){return vdt(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=Adt(e),isNaN(e)?AE.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if(uf.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,t=jL.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,t=jL.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}AE.INVALID_DATE=bdt;function wdt(n,e=[]){let t=[],r=new Set,i=new Set(e.map(([a,o])=>`${a}-${o}`));function s(a,o){let l=N1.split(a)[0];r.add(l),i.has(`${o}-${l}`)||t.push([o,l])}for(const a of Object.keys(n)){let o=n[a];r.add(a),uf.isRef(o)&&o.isSibling?s(o.path,a):cE(o)&&"deps"in o&&o.deps.forEach(l=>s(l,a))}return Kht.array(Array.from(r),t).reverse()}function Lk(n,e){let t=1/0;return n.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return t=i,!0}),t}function hK(n){return(e,t)=>Lk(n,e)-Lk(n,t)}const Ldt=(n,e,t)=>{if(typeof n!="string")return n;let r=n;try{r=JSON.parse(n)}catch{}return t.isType(r)?r:n};function Vm(n){if("fields"in n){const e={};for(const[t,r]of Object.entries(n.fields))e[t]=Vm(r);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=Vm(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Vm)}):"optional"in n?n.optional():n}const xdt=(n,e)=>{const t=[...N1.normalizePath(e)];if(t.length===1)return t[0]in n;let r=t.pop(),i=N1.getter(N1.join(t),!0)(n);return!!(i&&r in i)};let xk=n=>Object.prototype.toString.call(n)==="[object Object]";function Rk(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(r=>t.indexOf(r)===-1)}const Rdt=hK([]);function Q6(n){return new dK(n)}class dK extends Kl{constructor(e){super({type:"object",check(t){return xk(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=Rdt,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var r;let i=super._cast(e,t);if(i===void 0)return this.getDefault(t);if(!this._typeCheck(i))return i;let s=this.fields,a=(r=t.stripUnknown)!=null?r:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(i).filter(u=>!this._nodes.includes(u))),l={},c=Object.assign({},t,{parent:l,__validating:t.__validating||!1}),A=!1;for(const u of o){let h=s[u],f=u in i,d=i[u];if(h){let g;c.path=(t.path?`${t.path}.`:"")+u,h=h.resolve({value:d,context:t.context,parent:l});let _=h instanceof Kl?h.spec:void 0,m=_==null?void 0:_.strict;if(_!=null&&_.strip){A=A||u in i;continue}g=!t.__validating||!m?h.cast(d,c):d,g!==void 0&&(l[u]=g)}else f&&!a&&(l[u]=d);(f!==u in l||l[u]!==d)&&(A=!0)}return A?l:i}_validate(e,t={},r,i){let{from:s=[],originalValue:a=e,recursive:o=this.spec.recursive}=t;t.from=[{schema:this,value:a},...s],t.__validating=!0,t.originalValue=a,super._validate(e,t,r,(l,c)=>{if(!o||!xk(c)){i(l,c);return}a=a||c;let A=[];for(let u of this._nodes){let h=this.fields[u];!h||uf.isRef(h)||A.push(h.asNestedTest({options:t,key:u,parent:c,parentPath:t.path,originalParent:a}))}this.runTests({tests:A,value:c,originalValue:a,options:t},r,u=>{i(u.sort(this._sortErrors).concat(l),c)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[i,s]of Object.entries(this.fields)){const a=r[i];r[i]=a===void 0?s:a}return t.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),t[r]=s&&"getDefault"in s?s.getDefault(a):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=wdt(e,t),r._sortErrors=hK(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e,t=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),i=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Vm(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let i=N1.getter(e,!0);return this.transform(s=>{if(!s)return s;let a=s;return xdt(s,e)&&(a=Object.assign({},s),r||delete a[e],a[t]=i(s)),a})}json(){return this.transform(Ldt)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Gm.exact,test(t){if(t==null)return!0;const r=Rk(this.schema,t);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Gm.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(i){if(i==null)return!0;const s=Rk(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=Gm.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const i of Object.keys(t))r[e(i)]=t[i];return r})}camelCase(){return this.transformKeys(Ow.camelCase)}snakeCase(){return this.transformKeys(Ow.snakeCase)}constantCase(){return this.transformKeys(e=>Ow.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,a]of Object.entries(t.fields)){var i;let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[s]})),r.fields[s]=a.describe(o)}return r}}Q6.prototype=dK.prototype;var Bdt=we('<label class="relative flex w-full grow cursor-pointer flex-col items-start gap-2 pb-8"><span class="select-none text-base font-bold"> </span> <input type="text" class="bg-base text-main w-full rounded-lg p-2 focus:outline-0"/> <span class="absolute bottom-0 text-red-500"> </span></label>');function g3(n,e){Mt(e,!0);let t=Ne(e,"value",15);var r=Bdt(),i=q(r),s=q(i,!0);$(i);var a=oe(i,2);ts(a);var o=oe(a,2),l=q(o,!0);$(o),$(r),Ye(()=>{yt(s,e.label),yt(l,e.error?e.error:"")}),fp(a,t),Z(n,r),St()}var Edt=we('<div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold"></span></div> <div class="c-scroll flex h-full w-full grow flex-col items-center gap-6 overflow-y-auto overflow-x-hidden"><!> <!></div> <div class="flex shrink-0 justify-center gap-4 overflow-auto pt-2"><button class="c-btn-sub cursor-pointer p-4 text-lg"></button> <button></button></div>',1);function Cdt(n,e){Mt(e,!0);let t=Ne(e,"showDataEntry",15),r=Ne(e,"showDialogType",15);const i=Q6().shape({name:Cc().required(""),tileUrl:Cc().required("URL")});let s=Wr({name:"",tileUrl:""}),a=Oe(!0),o=Oe(Wr({}));on(()=>{i.validate(s,{abortEarly:!1}).then(()=>{ee(a,!1),ee(o,{},!0)}).catch(m=>{ee(a,!0);const y={};m.inner&&Array.isArray(m.inner)&&m.inner.forEach(b=>{b.path&&(y[b.path]=b.message)}),ee(o,y,!0)})});const l=()=>{s.tileUrl=s.tileUrl.trim();const m=bre(s.name,s.tileUrl);m&&(t(m),r(null))},c=()=>{r(null)};var A=Edt(),u=oe(Je(A),2),h=q(u);g3(h,{label:"",get error(){return E(o).name},get value(){return s.name},set value(m){s.name=m}});var f=oe(h,2);g3(f,{label:"URL",get error(){return E(o).tileUrl},get value(){return s.tileUrl},set value(m){s.tileUrl=m}}),$(u);var d=oe(u,2),g=q(d);g.__click=c;var _=oe(g,2);_.__click=l,$(d),Ye(()=>{_.disabled=E(a),Xt(_,1,`c-btn-confirm min-w-[200px] p-4 text-lg ${E(a)?"cursor-not-allowed opacity-50":"cursor-pointer"}`)}),Z(n,A),St()}Ln(["click"]);var Idt=we('<div class="pointer-events-none absolute grid place-items-center overflow-clip rounded-lg bg-white p-2 text-sm text-gray-500"><span class="text-sm"> </span></div>'),Tdt=we('<div class="relative"><label class="relative flex aspect-square w-full cursor-pointer flex-col items-center justify-center gap-2 rounded-lg bg-white p-4"><span class="absolute"> </span> <div></div> <span class="absolute bottom-0 text-sm text-red-500"> </span> <input type="file" class="hidden"/> <!></label></div>');function nm(n,e){Mt(e,!0);let t=Ne(e,"file",15),r=Ne(e,"name",15);const i=_=>{var y;const m=(y=_.target.files)==null?void 0:y[0];m&&(t(m),r(m.name))};let s=Oe("");on(()=>{t()?ee(s,t().name,!0):ee(s,"")});var a=Tdt(),o=q(a),l=q(o),c=q(l,!0);$(l);var A=oe(l,2);Xt(A,1,"p-12 ");var u=oe(A,2),h=q(u,!0);$(u);var f=oe(u,2);f.__change=_=>i(_);var d=oe(f,2);{var g=_=>{var m=Idt(),y=q(m),b=q(y,!0);$(y),$(m),Ye(()=>yt(b,r())),Z(_,m)};Te(d,_=>{r()&&_(g)})}$(o),$(a),Ye(()=>{yt(c,e.label),yt(h,e.error?e.error:""),pt(f,"accept",e.accept)}),Z(n,a),St()}Ln(["change"]);Ln(["change"]);var Mdt=we('<div><div class="flex shrink-0 items-center justify-between overflow-auto pb-4 pt-8 svelte-1exlno4"><span class="text-2xl font-bold text-white svelte-1exlno4"></span></div>  <div class="flex gap-2 svelte-1exlno4"><!> <!> <!> <!> </div> <div class="flex shrink-0 justify-center gap-4 overflow-auto pt-2 svelte-1exlno4"><button class="c-btn-sub cursor-pointer p-4 text-lg svelte-1exlno4"></button> <button></button></div></div>');function Sdt(n,e){Mt(e,!0);let t=Ne(e,"showDataEntry",15),r=Ne(e,"showDialogType",15),i=Ne(e,"dropFile",15),s=Ne(e,"showZoneForm",15),a=Ne(e,"focusBbox",15);const o=Q6().shape({shpFile:Bg().required("").test("fileType"," (: .shp)",C=>C instanceof File?C.name.endsWith(".shp"):!0),dbfFile:Bg().required("").test("fileType"," (: .dbf)",C=>C instanceof File?C.name.endsWith(".dbf"):!0),prjFile:Bg().optional().test("fileType"," (: .prj)",C=>C instanceof File?C.name.endsWith(".prj"):!0),shxFile:Bg().required("").test("fileType"," (: .shx)",C=>C instanceof File?C.name.endsWith(".shx"):!0),shpName:Cc().required(""),dbfName:Cc().required(""),shxName:Cc().required(""),prjName:Cc().optional()}).test("filenames-match","",C=>{if(!C.shpName||!C.dbfName||!C.prjName||!C.shxName)return!0;const I=C.shpName.replace(/\.shp$/i,""),R=C.dbfName.replace(/\.dbf$/i,""),w=C.prjName.replace(/\.prj$/i,""),U=C.shxName.replace(/\.shx$/i,"");return I===R&&I===w&&I===U});let l=Wr({shpFile:null,dbfFile:null,shxFile:null,prjFile:"",shpName:"",dbfName:"",shxName:"",prjName:""});const c=()=>{l.shpFile=null,l.dbfFile=null,l.shxFile=null,l.prjFile="",l.shpName="",l.dbfName="",l.shxName="",l.prjName=""},A=C=>{if(C){if(C instanceof File)u(C);else if(C instanceof FileList)for(let I=0;I<C.length;I++)u(C[I])}},u=C=>{const I=C.name;I.endsWith(".shp")?(l.shpFile=C,l.shpName=I):I.endsWith(".dbf")?(l.dbfFile=C,l.dbfName=I):I.endsWith(".prj")?(l.prjFile=C,l.prjName=I):I.endsWith(".shx")?(l.shxFile=C,l.shxName=I):ci("","error")};on(()=>{i()&&(A(i()),i(null))});let h=Oe(!0),f=Oe(Wr({})),d=Oe("");on(()=>{o.validate(l,{abortEarly:!1}).then(()=>{ee(h,!1),ee(d,""),ee(f,{},!0)}).catch(C=>{ee(h,!0);const I={};C.inner&&Array.isArray(C.inner)&&C.inner.forEach(R=>{R.path&&(I[R.path]=R.message),R.type==="filenames-match"&&ee(d,R.message,!0)}),ee(f,I,!0)})});const g=async C=>{y1.set(!0);const I=await h3(l.shpFile,l.dbfFile,C),R=Zy(I);if(!R){ci("","error");return}const w=e6(I,R,l.shpName);w&&(t(w),r(null)),y1.set(!1)},_=async()=>{if(!l.shpFile||!l.dbfFile||!l.shxFile)return;if(!l.prjFile){const I=await h3(l.shpFile);if(!I){ci("","error");return}const R=g5(I);if(!I5(R)){s(!0),a(R);return}const w=xL("4326");g(w);return}const C=await QG(l.prjFile);g(C)},m=()=>{r(null)};Yk.subscribe(C=>{if(C==="setZone"){const I=xL(e.selectedEpsgCode);I&&g(I)}});let y=Oe(0);on(()=>{r()==="shp"?ee(y,100):ee(y,0)}),on(()=>{r()!=="shp"&&c()}),on(()=>{if(l.shpFile&&l.dbfFile&&l.shxFile&&l.shpName&&l.dbfName&&l.shxName&&l.prjFile&&l.prjName){if(E(d))return;_()}});var b=xt(),v=Je(b);{var B=C=>{var I=Mdt(),R=oe(q(I),2),w=q(R);nm(w,{label:".shp",accept:".shp",get error(){return E(f).shpFile},get file(){return l.shpFile},set file(G){l.shpFile=G},get name(){return l.shpName},set name(G){l.shpName=G}});var U=oe(w,2);nm(U,{label:".dbf",accept:".dbf",get error(){return E(f).dbfFile},get file(){return l.dbfFile},set file(G){l.dbfFile=G},get name(){return l.dbfName},set name(G){l.dbfName=G}});var M=oe(U,2);nm(M,{label:".shx",accept:".shx",get error(){return E(f).shxFile},get file(){return l.shxFile},set file(G){l.shxFile=G},get name(){return l.shxName},set name(G){l.shxName=G}});var F=oe(M,2);nm(F,{label:".prj()",accept:".prj",get error(){return E(f).prjFile},get file(){return l.prjFile},set file(G){l.prjFile=G},get name(){return l.prjName},set name(G){l.prjName=G}});var P=oe(F);$(R);var S=oe(R,2),W=q(S);W.__click=m;var re=oe(W,2);re.__click=_,$(S),$(I),Ye(()=>{Xt(I,1,`absolute bottom-0 z-30 grid h-full w-full place-items-center bg-black/70
         ${s()?"pointer-events-none opacity-0":""}`,"svelte-1exlno4"),yt(P,` ${E(d)?"":""}`),re.disabled=E(h),Xt(re,1,`c-btn-confirm min-w-[200px] p-4 text-lg ${E(h)?"cursor-not-allowed opacity-50":"cursor-pointer"}`,"svelte-1exlno4")}),Yt(3,I,()=>cr,()=>({duration:200})),Z(C,I)};Te(v,C=>{r()&&r()==="shp"&&C(B)})}Z(n,b),St()}Ln(["click"]);var Fdt=we('<div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold"></span></div> <div class="c-scroll flex h-full w-full grow flex-col items-center gap-6 overflow-y-auto overflow-x-hidden"><!> <!> <!></div> <div class="p-2"><!></div> <div class="flex shrink-0 justify-center gap-4 overflow-auto pt-2"><button class="c-btn-sub cursor-pointer p-4 text-lg"></button> <button></button></div>',1);function Udt(n,e){Mt(e,!0);let t=Ne(e,"showDataEntry",15),r=Ne(e,"showDialogType",15);const i=Q6().shape({name:Cc().required(""),tileUrl:Cc().required("URL").test("","URL",C=>!/[^a-zA-Z0-9!-/:-@[-`{-~]+/.test(C)),source:Cc().required("").test("","",C=>!/[^a-zA-Z0-9!-/:-@[-`{-~]+/.test(C))});let s=Wr({name:"",tileUrl:"",source:""}),a=Oe("Point"),o=Wr([{key:"Point",name:""},{key:"LineString",name:""},{key:"Polygon",name:""}]),l=Oe(!0),c=Oe(Wr({}));on(()=>{i.validate(s,{abortEarly:!1}).then(()=>{ee(l,!1),ee(c,{},!0)}).catch(C=>{ee(l,!0);const I={};C.inner&&Array.isArray(C.inner)&&C.inner.forEach(R=>{R.path&&(I[R.path]=R.message)}),ee(c,I,!0)})});const A=()=>{s.tileUrl=s.tileUrl.trim(),s.source=s.source.trim();const C=yre(s.name,s.tileUrl,s.source,E(a));C&&(t(C),r(null))},u=()=>{r(null)};var h=Fdt(),f=oe(Je(h),2),d=q(f);g3(d,{label:"",get error(){return E(c).name},get value(){return s.name},set value(C){s.name=C}});var g=oe(d,2);g3(g,{label:"URL",get error(){return E(c).tileUrl},get value(){return s.tileUrl},set value(C){s.tileUrl=C}});var _=oe(g,2);g3(_,{label:"",get error(){return E(c).source},get value(){return s.source},set value(C){s.source=C}}),$(f);var m=oe(f,2),y=q(m);nu(y,{label:"",get options(){return o},get group(){return E(a)},set group(C){ee(a,C,!0)}}),$(m);var b=oe(m,2),v=q(b);v.__click=u;var B=oe(v,2);B.__click=A,$(b),Ye(()=>{B.disabled=E(l),Xt(B,1,`c-btn-confirm min-w-[200px] p-4 text-lg ${E(l)?"cursor-not-allowed opacity-50":"cursor-pointer"}`)}),Z(n,h),St()}Ln(["click"]);Ln(["click"]);var Ndt=we('<div><div class="bg-opacity-8 bg-main flex max-h-[600px] max-w-[600px] grow flex-col rounded-md p-4 text-base"><!> <!> <!> <!></div></div>'),kdt=we("<!> <!>",1);function Pdt(n,e){Mt(e,!0);const t=()=>qt(y1,"$isProcessing",r),[r,i]=Rr();let s=Ne(e,"showDialogType",15),a=Ne(e,"showDataEntry",15),o=Ne(e,"showZoneForm",15),l=Ne(e,"dropFile",15),c=Ne(e,"focusBbox",15);var A=kdt(),u=Je(A);{var h=g=>{var _=Ndt(),m=q(_),y=q(m);{var b=U=>{Cdt(U,{get showDataEntry(){return a()},set showDataEntry(M){a(M)},get showDialogType(){return s()},set showDialogType(M){s(M)}})};Te(y,U=>{s()==="raster"&&U(b)})}var v=oe(y,2);{var B=U=>{Bht(U,{get showDataEntry(){return a()},set showDataEntry(M){a(M)},get showDialogType(){return s()},set showDialogType(M){s(M)},get dropFile(){return l()},set dropFile(M){l(M)}})};Te(v,U=>{s()==="tiff"&&U(B)})}var C=oe(v,2);{var I=U=>{Udt(U,{get showDataEntry(){return a()},set showDataEntry(M){a(M)},get showDialogType(){return s()},set showDialogType(M){s(M)}})};Te(C,U=>{s()==="vector"&&U(I)})}var R=oe(C,2);{var w=U=>{Cht(U,{get showDataEntry(){return a()},set showDataEntry(M){a(M)},get showDialogType(){return s()},set showDialogType(M){s(M)},get dropFile(){return l()},set dropFile(M){l(M)}})};Te(R,U=>{s()==="gpx"&&U(w)})}$(m),$(_),Ye(()=>Xt(_,1,`absolute bottom-0 z-30 flex h-full w-full items-center justify-center bg-black/50 ${o()?"pointer-events-none opacity-0":""}`)),Yt(3,m,()=>Qy,()=>({duration:300,start:.9})),Yt(3,_,()=>cr,()=>({duration:200})),Z(g,_)};Te(u,g=>{s()&&s()!=="shp"&&g(h)})}var f=oe(u,2);{var d=g=>{Sdt(g,{get selectedEpsgCode(){return e.selectedEpsgCode},get showDataEntry(){return a()},set showDataEntry(_){a(_)},get showDialogType(){return s()},set showDialogType(_){s(_)},get dropFile(){return l()},set dropFile(_){l(_)},get showZoneForm(){return o()},set showZoneForm(_){o(_)},get focusBbox(){return c()},set focusBbox(_){c(_)}})};Te(f,g=>{t()||g(d)})}Z(n,A),St(),i()}var Ddt=we('<button class="c-btn-sub px-4"> </button>'),Odt=we('<div class="bg-main/70 absolute bottom-0 z-30 flex h-full w-full items-center justify-center" aria-label="Confirmation Dialog" role="button" tabindex="0"><div class="bg-opacity-8 flex max-h-[600px] max-w-[600px] grow flex-col rounded-md bg-black p-4 text-base"><div class="p-2"><p> </p></div> <div class="flex shrink-0 items-center justify-end gap-2 pt-4"><!> <button class="c-btn-confirm px-8"> </button></div></div></div>');function zdt(n,e){Mt(e,!1);const t=()=>qt(T6,"$confirmationDialog",r),[r,i]=Rr(),s=()=>{gU(!0)},a=()=>{gU(!1)},o=u=>{u.target===u.currentTarget&&a()};window.addEventListener("keydown",u=>{u.key==="Escape"&&t()&&a()}),XL();var l=xt(),c=Je(l);{var A=u=>{var h=Odt();h.__click=o,h.__keydown=C=>{C.key==="Escape"&&a()};var f=q(h),d=q(f),g=q(d),_=q(g,!0);$(g),$(d);var m=oe(d,2),y=q(m);{var b=C=>{var I=Ddt();I.__click=a;var R=q(I,!0);$(I),Ye(()=>yt(R,t().cancelText)),Z(C,I)};Te(y,C=>{t().confirmOnly||C(b)})}var v=oe(y,2);v.__click=s;var B=q(v,!0);$(v),$(m),$(f),$(h),Ye(()=>{yt(_,t().message),yt(B,t().confirmText)}),Yt(3,f,()=>Qy,()=>({duration:300,start:.9})),Yt(3,h,()=>cr,()=>({duration:200})),Z(u,h)};Te(c,u=>{t()&&u(A)})}Z(n,l),St(),i()}Ln(["click","keydown"]);function Hdt(n,e={}){const t=xO(n),r=(t[0]+t[2])/2,i=(t[1]+t[3])/2;return sJ([r,i],e.properties,e)}var Qdt=Hdt,jdt=we('<button class="peer pointer-events-auto relative z-0 flex h-[60px] w-[60px] cursor-pointer flex-col items-center justify-center rounded-full bg-white"><span class="text-xs text-gray-600">EPSG</span> <span class="text-sm"> </span></button>'),Ydt=we('<div class="pointer-none wrap-nowrap bg-base absolute rounded-lg p-1 px-2 text-center text-xs text-gray-800"> </div>'),Gdt=we('<div class="pointer-events-none relative grid w-[150px] place-items-center"><!></div> <div class="items-top pointer-events-none relative z-10 flex w-[150px] justify-center"><!></div>',1);function Vdt(n,e){Mt(e,!0);let t=Oe(null),r=Oe(null),i=Oe(null),s=Oe(null),a=Oe(!1),o=Oe(!1);ni(()=>{if(!e.map||!e.lngLat){console.warn("Map or lngLat is not defined");return}E(t)&&e.lngLat&&ee(r,new Qr.Marker({element:E(t),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map)),E(s)&&e.lngLat&&ee(i,new Qr.Marker({element:E(s),anchor:"center",offset:[0,40]}).setLngLat(e.lngLat).addTo(e.map)),ee(a,!0)});const l=m=>{Na()||ee(o,m,!0)},c=()=>{e.onClick(e.properties.code)};Ga(()=>{var m,y;(m=E(r))==null||m.remove(),(y=E(i))==null||y.remove(),ee(r,null),ee(i,null)});var A=Gdt(),u=Je(A),h=q(u);{var f=m=>{var y=jdt();y.__click=c,y.__mouseover=()=>l(!0);var b=oe(q(y),2),v=q(b,!0);$(b),$(y),Ye(()=>yt(v,e.properties.code)),Bn("focus",y,()=>l(!0)),Bn("blur",y,()=>l(!1)),Bn("mouseleave",y,()=>l(!1)),Z(m,y)};Te(h,m=>{E(a)&&m(f)})}$(u),qn(u,m=>ee(t,m),()=>E(t));var d=oe(u,2),g=q(d);{var _=m=>{var y=Ydt(),b=q(y,!0);$(y),Ye(()=>yt(b,e.properties.name_ja)),Yt(3,y,()=>br,()=>({duration:200,y:-10,opacity:0})),Z(m,y)};Te(g,m=>{(E(o)||e.selectedEpsgCode===e.properties.code)&&m(_)})}$(d),qn(d,m=>ee(s,m),()=>E(s)),Z(n,A),St()}Ln(["click","mouseover"]);var Kdt=we('<label><input type="radio" class="hidden"/> <div class="flex flex-col"><span class="select-none transition-colors duration-200"> </span> <span class="text select-none text-xs text-gray-300 transition-colors duration-200"> </span></div></label>'),$dt=we('<div class="w-side-menu bg-main absolute left-0 top-0 z-30 flex h-full flex-col items-center justify-center p-4 text-base"><div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold"></span></div> <div class="c-scroll flex h-full w-full grow flex-col items-center overflow-y-auto overflow-x-hidden"></div> <div class="flex shrink-0 flex-col justify-center gap-4 overflow-auto pt-2"><div class="flex w-full max-w-[300px] flex-col items-center gap-2"><span class="text-lg"> </span></div> <div class="flex gap-2"><button class="c-btn-sub cursor-pointer p-4 text-lg"></button> <button class="c-btn-confirm pointer min-w-[200px] p-4 text-lg"></button></div></div></div>'),Wdt=we("<!> <!>",1);function qdt(n,e){Mt(e,!0);const t=[];let r=Ne(e,"showZoneForm",15),i=Ne(e,"selectedEpsgCode",15);const s=()=>{r(!1),Yk.trigger("setZone")};let a=Ot(()=>e.focusBbox?(console.log("focusBbox:",e.focusBbox),e.focusBbox):null),o={type:"FeatureCollection",features:[]},l=Oe(Wr([]));on(()=>{E(a)&&(o={type:"FeatureCollection",features:bUe({}).flatMap(g=>{g.code;const _=g.proj_context,m=yUe(E(a),_);if(I5(m)){const y={type:"Feature",geometry:{type:"Polygon",coordinates:[[[m[0],m[1]],[m[2],m[1]],[m[2],m[3]],[m[0],m[3]],[m[0],m[1]]]]},bbox:m,properties:{...g}},b=Qdt(y);return b.properties={...g},[y,b]}}).filter(g=>g!==void 0)},ee(l,o.features.filter(g=>g.geometry.type==="Point").map(g=>({coordinates:g.geometry.coordinates,properties:g.properties||{}})),!0),setTimeout(()=>{Dt.setData("zone_bbox",o)},500))}),on(()=>{if(i()){const g=o.features.find(_=>{var m;return((m=_.properties)==null?void 0:m.code)===i()&&_.geometry.type==="Polygon"});g&&Dt.fitBounds(g.bbox,{padding:100,maxZoom:10,duration:500}),Dt.setFilter("@zone_bbox_select",["all",["==","$type","Polygon"],["==","code",i()]])}});const c=g=>{i(g)};var A=Wdt(),u=Je(A);{var h=g=>{var _=$dt(),m=oe(q(_),2);Fn(m,21,()=>E(l),wi,(w,U)=>{var M=Kdt(),F=q(M);ts(F);var P,S=oe(F,2),W=q(S),re=q(W,!0);$(W);var G=oe(W,2),ie=q(G,!0);$(G),$(S),$(M),Ye(()=>{Xt(M,1,`z-10 flex w-full cursor-pointer items-center justify-start rounded-md px-2 py-4 ${E(U).properties.code===i()?"bg-accent ":"text-white"}`),P!==(P=E(U).properties.code)&&(F.value=(F.__value=E(U).properties.code)??""),yt(re,E(U).properties.name_ja),yt(ie,E(U).properties.prefecture??"")}),z0(t,[],F,()=>(E(U).properties.code,i()),i),Z(w,M)}),$(m);var y=oe(m,2),b=q(y),v=q(b),B=q(v);$(v),$(b);var C=oe(b,2),I=q(C);I.__click=()=>r(!1);var R=oe(I,2);R.__click=s,$(C),$(y),$(_),Ye(()=>yt(B,`EPSG: ${i()??""}`)),Yt(3,_,()=>br,()=>({duration:300,x:-100,opacity:0})),Z(g,_)};Te(u,g=>{r()&&g(h)})}var f=oe(u,2);{var d=g=>{var _=xt(),m=Je(_);Fn(m,17,()=>E(l),y=>y.properties.code,(y,b)=>{{let v=Ot(()=>new Qr.LngLat(E(b).coordinates[0],E(b).coordinates[1]));Vdt(y,{get map(){return e.map},get lngLat(){return E(v)},get properties(){return E(b).properties},onClick:B=>c(B),get selectedEpsgCode(){return i()}})}}),Z(g,_)};Te(f,g=>{r()&&g(d)})}Z(n,A),St()}Ln(["click"]);var Xdt=we('<div class="fixed left-0 top-0 z-[9999] h-dvh w-full bg-black/50 svelte-1r5exxa"><div class="flex h-full w-full items-center justify-center svelte-1r5exxa"><div class="loader svelte-1r5exxa"></div></div></div>');function Jdt(n){const e=()=>qt(y1,"$isProcessing",t),[t,r]=Rr();let i=Oe(null);var s=xt(),a=Je(s);{var o=l=>{var c=Xdt();qn(c,A=>ee(i,A),()=>E(i)),Z(l,c)};Te(a,l=>{e()&&l(o)})}Z(n,s),r()}var Zdt=we('<div class="pointer-events-auto absolute grid h-[50px] w-[50px] shrink-0 cursor-grab place-items-center overflow-hidden rounded-full border-3 bg-black"><svg class="h-full w-full scale-60" xmlns="http://www.w3.org/2000/svg" width="132" height="132" viewBox="0 0 132 132"><g transform="translate(47,0)"><path fill="#77D4AC" d="m19 0 16.455 66H2.545L19 0Z"></path><path fill="#D9D9D9" d="M19 132 2.546 66h32.909L19 132Z"></path></g></svg></div>');function e2t(n,e){Mt(e,!0),Fl.registerPlugin(Au);let t=Oe(null);const r=s=>(s+180)%360-180;Dt.onRotate(s=>{!E(t)||s==null||E(t)&&Fl.set(E(t),{rotation:s*-1})}),ni(()=>{if(!E(t))return;const s=Au.create(E(t),{type:"rotation",inertia:!0,dragResistance:.5,allowEventDefault:!0,onDrag(){const o=r(this.rotation);Dt.setBearing(o*-1)},onClick(){Dt.easeTo({bearing:0,pitch:0}),E(t)&&(E(t).style.transform="rotate(0deg)"),this.rotation=0,this.update()},onDragEnd(){const o=Dt.getBearing();o&&o>=-7&&o<=7&&Dt.easeTo({bearing:0})}}),a=Dt.getBearing();return Fl.set(E(t),{rotation:a?a*-1:0}),()=>{var o;(o=s[0])==null||o.kill()}});var i=Zdt();qn(i,s=>ee(t,s),()=>E(t)),Z(n,i),St()}var t2t=we('<div class="c-ripple-effect pointer-events-none absolute h-[50px] w-[50px] rounded-full border-2 border-amber-50 svelte-z2re9y"></div> <div class="c-ripple-effect2 pointer-events-none absolute h-[50px] w-[50px] rounded-full border-2 border-amber-50 svelte-z2re9y"></div>',1),n2t=we('<div><div class="flex w-full items-center justify-between svelte-z2re9y"><button class="flex h-full w-full cursor-pointer flex-col items-center justify-center svelte-z2re9y"><div><!></div> <span class="text-xs svelte-z2re9y"></span></button> <button class="flex h-full w-full cursor-pointer flex-col items-center justify-center svelte-z2re9y"><div><!></div> <span class="text-xs svelte-z2re9y"></span></button> <div><!> <!></div> <button class="flex h-full w-full cursor-pointer flex-col items-center justify-center svelte-z2re9y"><div><!></div> <span class="text-xs svelte-z2re9y"></span></button> <button class="flex h-full w-full cursor-pointer flex-col items-center justify-center svelte-z2re9y"><div><!></div> <span class="text-xs svelte-z2re9y"></span></button></div> <div style="height: env(safe-area-inset-bottom);" class="w-full svelte-z2re9y"></div></div>');function r2t(n,e){Mt(e,!0);const t=()=>qt(Bl,"$isActiveMobileMenu",s),r=()=>qt(ma,"$isStyleEdit",s),i=()=>qt(Qo,"$isStreetView",s),[s,a]=Rr();let o=Oe(!1);Bl.subscribe(v=>{if(v&&E(o))switch(v){case"map":vi.set(!1),C0.set(!1),Wi.set(!1);break;case"layer":vi.set(!1),C0.set(!0),Wi.set(!1);break;case"data":vi.set(!0),C0.set(!1),Wi.set(!1);break;case"other":vi.set(!1),C0.set(!1),Wi.set(!0);break}ee(o,!0)});let l=Oe(!1),c=0,A=0,u=null;const h=200,f=10,d=v=>{const B=v.touches[0];c=B.clientX,A=B.clientY,u=setTimeout(()=>{ee(l,!0)},h)},g=v=>{const B=v.touches[0],C=Math.abs(B.clientX-c),I=Math.abs(B.clientY-A);(C>f||I>f)&&(u&&(clearTimeout(u),u=null),ee(l,!0),xr(Bl,"map"))},_=()=>{u&&(clearTimeout(u),u=null),setTimeout(()=>{ee(l,!1)},50)};var m=xt(),y=Je(m);{var b=v=>{var B=n2t(),C=q(B);Xr(C,"height: 70px;");var I=q(C);I.__click=()=>xr(Bl,"map");var R=q(I),w=q(R);Bt(w,{icon:"ph:map-pin-area-fill",class:"h-8 w-8"}),$(R),jn(2),$(I);var U=oe(I,2);U.__click=()=>xr(Bl,"layer");var M=q(U),F=q(M);Bt(F,{icon:"jam:layers-f",class:"h-8 w-8"}),$(M),jn(2),$(U);var P=oe(U,2);P.__touchstart=d,P.__touchmove=g,P.__touchend=_;var S=q(P);e2t(S,{});var W=oe(S,2);{var re=H=>{var V=t2t();jn(2),Z(H,V)};Te(W,H=>{E(l)&&H(re)})}$(P);var G=oe(P,2);G.__click=()=>xr(Bl,"data");var ie=q(G),X=q(ie);Bt(X,{icon:"material-symbols:data-saver-on-rounded",class:"h-8 w-8"}),$(ie),jn(2),$(G);var ge=oe(G,2);ge.__click=()=>xr(Bl,"other");var K=q(ge),N=q(K);Bt(N,{icon:"basil:other-1-outline",class:"h-8 w-8"}),$(K),jn(2),$(ge),$(C),jn(2),$(B),Ye(()=>{Xt(B,1,`bg-main absolute bottom-0 left-0 z-20 flex w-full flex-col text-base select-none lg:hidden ${e.showDataEntry??""}`,"svelte-z2re9y"),Xt(R,1,`rounded-full px-4 py-1 transition-colors duration-150 ${t()==="map"?"bg-accent":""}`,"svelte-z2re9y"),Xt(M,1,`rounded-full px-4 py-1 transition-colors duration-150 ${t()==="layer"?"bg-accent":""}`,"svelte-z2re9y"),Xt(P,1,`transition-scale relative grid w-full place-items-center duration-200 select-none ${E(l)?"-translate-y-6 scale-200":""} ${t()==="map"?"pointer-events-auto":"pointer-events-none"}`,"svelte-z2re9y"),Xt(ie,1,`rounded-full px-4 py-1 transition-colors duration-150 ${t()==="data"?"bg-accent":""}`,"svelte-z2re9y"),Xt(K,1,`rounded-full px-4 py-1 transition-colors duration-150 ${t()==="other"?"bg-accent":""}`,"svelte-z2re9y")}),Bn("touchcancel",P,_),Yt(3,B,()=>br,()=>({y:100,duration:300})),Z(v,B)};Te(y,v=>{!e.featureMenuData&&!e.showDataEntry&&!r()&&!i()&&v(b)})}Z(n,m),St(),a()}Ln(["click","touchstart","touchmove","touchend"]);var i2t=we('<span class="text-base text-[22px] font-bold"> </span>'),s2t=we('<span class="text-base text-[22px] font-bold"> </span>'),a2t=we('<div class="bg-main absolute bottom-0 z-20 h-[calc(100%_-_20px)] w-full touch-none overflow-hidden rounded-[20px_20px_0_0] shadow-[0_-4px_20px_rgba(0,_0,_0,_0.15)]" role="button" tabindex="0"><div class="flex cursor-grab justify-center p-[12px_0_8px]"><div class="handle-bar h-1 w-10 rounded bg-gray-400"></div></div> <div class="flex w-full items-center justify-between p-4 px-4"><div><!></div> <button class="bg-base ml-auto cursor-pointer rounded-full p-2 shadow-md"><!></button></div> <div><!></div></div>');function o2t(n,e){Mt(e,!0);const t=()=>qt(k1,"$isMobile",r),[r,i]=Rr();let s=Ne(e,"featureMenuData",15),a=Oe(null),o=Oe(null),l=Oe(!1),c=Oe(0),A=Oe(0),u=Oe(50),h=Oe(!1),f=Oe(!1),d=Oe(!1),g=Oe(0),_=Oe(0);const m=.8,y=30,b=300,v=10;let B=0,C=0,I={x:0,y:0},R=Oe(!1),w=[];const U=()=>{if(w.length<2)return 0;const xe=w[w.length-1],Re=w[0],D=xe.time-Re.time,O=xe.y-Re.y;return D>0?O/D:0},M=(xe,Re)=>xe<0?Math.abs(Re)>m&&Math.abs(xe)>y?!0:E(u)<25:!1,F=(xe,Re)=>xe>0?Re>m&&xe>y?!0:E(u)>25:!1,P=(xe,Re)=>xe>0&&!E(h)?Re>m&&xe>y?!0:E(u)>75:!1;ni(()=>(document.addEventListener("mousemove",j),document.addEventListener("mouseup",le),()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",le)}));const S=(xe,Re=.2)=>{E(a)&&(ee(f,!0),ee(d,!1),Fl.set(E(a),{y:`${E(u)}%`}),Fl.to(E(a),{y:`${xe}%`,duration:Re,ease:"power2.out",onComplete:()=>{ee(f,!1),ee(d,!0),ee(u,xe,!0)}}))},W=xe=>{if(ee(R,!1),E(h)&&E(d)&&E(o)){const Re=xe.touches[0],D=E(o).getBoundingClientRect();if(Re.clientY>=D.top&&Re.clientY<=D.bottom&&!(E(o).scrollTop===0))return}ee(l,!0),ee(c,xe.touches[0].clientY,!0),ee(A,E(c),!0),B=Date.now(),E(c),w=[{time:B,y:E(c)}],E(f)&&E(a)&&(Fl.killTweensOf(E(a)),ee(f,!1)),C=Date.now(),I={x:xe.touches[0].clientX,y:xe.touches[0].clientY}},re=xe=>{if(!E(a))return;const Re=xe.touches[0];ee(A,Re.clientY,!0);const D=E(A)-E(c),O=Date.now();if(w.push({time:O,y:E(A)}),w=w.filter(Se=>O-Se.time<=100),E(h)&&E(d)&&E(o)){const Se=E(o).getBoundingClientRect();if(Re.clientY>=Se.top&&Re.clientY<=Se.bottom){const He=E(o).scrollTop===0;if(D>0){if(!He)return;E(l)||(ee(l,!0),ee(c,Re.clientY,!0),ee(A,E(c),!0))}else if(D<0)return}}if(!E(l))return;const ne=E(a).offsetHeight;let te=E(h)?0:50,Me=(ne*(te/100)+D)/ne*100;if(Me<=0){if(ee(u,0),E(h)||(ee(h,!0),ee(d,!0)),D<0&&E(o)){E(g)===0&&(ee(g,E(A),!0),ee(_,E(o).scrollTop,!0));const Se=E(g)-E(A),Le=E(_)+Se;E(o).scrollTop=Math.max(0,Le)}E(a).style.transform="translateY(0%)"}else ee(u,Me),E(a).style.transform=`translateY(${E(u)}%)`,ee(g,0)},G=xe=>{if(!E(l)||E(R))return;ee(l,!1),ee(R,!0),ee(g,0);const Re=E(A)-E(c),D=Date.now(),O=U(),ne=D-C,te=Math.sqrt(Math.pow(xe.changedTouches[0].clientX-I.x,2)+Math.pow(xe.changedTouches[0].clientY-I.y,2));if(ne<b&&te<v)ge();else{if(P(Re,O)){s(null);return}E(h)?F(Re,O)?X():ie():M(Re,O)?ie():X()}setTimeout(()=>{ee(R,!1)},100)},ie=()=>{ee(h,!0),S(0)},X=()=>{ee(h,!1),ee(d,!1),S(50)},ge=()=>{E(h)?X():ie()};let K=Oe(!1),N=0,H={x:0,y:0};const V=xe=>{if(E(R))return;ee(K,!0),ee(c,xe.clientY,!0),ee(A,E(c),!0),ee(l,!0),w=[{time:Date.now(),y:E(c)}],E(f)&&E(a)&&(Fl.killTweensOf(E(a)),ee(f,!1)),N=Date.now(),H={x:xe.clientX,y:xe.clientY}},j=xe=>{if(!E(K)||!E(l)||!E(a))return;ee(A,xe.clientY,!0);const Re=Date.now();w.push({time:Re,y:E(A)}),w=w.filter(Me=>Re-Me.time<=100);const D=E(A)-E(c),O=E(a).offsetHeight;let ne=E(h)?0:50,ce=(O*(ne/100)+D)/O*100;ce<=0?(ee(u,0),E(h)||(ee(h,!0),ee(d,!0)),E(a).style.transform="translateY(0%)"):ce>100?(ee(u,Math.min(ce,120),!0),E(a).style.transform=`translateY(${E(u)}%)`):(ee(u,ce),E(a).style.transform=`translateY(${E(u)}%)`)},le=xe=>{if(!E(K)||E(R))return;ee(K,!1),ee(l,!1);const Re=E(A)-E(c),D=Date.now(),O=U(),ne=D-N,te=Math.sqrt(Math.pow(xe.clientX-H.x,2)+Math.pow(xe.clientY-H.y,2));if(ne<b&&te<v)ge();else{if(P(Re,O)){s(null);return}E(h)?F(Re,O)?X():ie():M(Re,O)?ie():X()}};on(()=>{s()||X()});let de=Ot(()=>s()&&s().properties?s().properties._prop_id:null),he=Ot(()=>s()?e.layerEntries.find(Re=>s()&&Re.id===s().layerId):null);var ue=xt(),me=Je(ue);{var _e=xe=>{var Re=a2t();Re.__touchstart=W,Re.__touchmove=re,Re.__touchend=G,Re.__mousedown=V;var D=oe(q(Re),2),O=q(D),ne=q(O);{var te=be=>{var Fe=i2t(),Qe=q(Fe,!0);$(Fe),Ye(()=>yt(Qe,s().properties.name)),Z(be,Fe)},J=be=>{var Fe=s2t(),Qe=q(Fe,!0);$(Fe),Ye(Ge=>yt(Qe,Ge),[()=>{var Ge;return E(he)&&E(he).type==="vector"&&E(he).properties.titles.length&&s().properties?Mx(s().properties,E(he).properties.titles):(Ge=E(he))==null?void 0:Ge.metaData.name}]),Z(be,Fe)};Te(ne,be=>{E(de)&&s().properties&&s().properties._prop_id?be(te):be(J,!1)})}$(O);var ce=oe(O,2);ce.__click=be=>{be.stopPropagation(),s(null)},ce.__touchend=be=>be.stopPropagation();var Me=q(ce);Bt(Me,{icon:"material-symbols:close-rounded",class:"text-main h-5 w-5"}),$(ce),$(D);var Se=oe(D,2);let Le;var He=q(Se);Wm(He,()=>e.children),$(Se),qn(Se,be=>ee(o,be),()=>E(o)),$(Re),qn(Re,be=>ee(a,be),()=>E(a)),Ye(()=>{Xr(Re,`transform: translateY(${E(u)??""}%)`),Le=Xt(Se,1,"h-[calc(100%_-_60px)] overflow-y-auto px-4 pb-4",null,Le,{"touch-auto":E(h)&&E(d),"touch-none":!E(h)||!E(d)})}),Yt(3,Re,()=>br,()=>({duration:300,y:300,opacity:0})),Z(xe,Re)};Te(me,xe=>{s()&&t()&&xe(_e)})}Z(n,ue),St(),i()}Ln(["touchstart","touchmove","touchend","mousedown","click"]);var l2t=we('<img class="block aspect-video h-full w-full rounded-lg object-cover" alt=""/>'),c2t=we('<img alt="" class="ml-2 aspect-video min-w-0 flex-[0_0_100%] object-cover"/>'),A2t=we('<iframe class="ml-2 aspect-video min-w-0 flex-[0_0_100%]" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>'),u2t=we('<div class="overflow-hidden"><div class="flex"><img class="block aspect-video h-full w-full object-cover" alt=""/> <!></div></div>'),f2t=we('<a class="flex w-full items-start justify-start gap-2 break-all" target="_blank" rel="noopener noreferrer"><!> <span class="text-accent text-ellipsis hover:underline"> </span></a>'),h2t=we('<span class="my-2 text-base"> </span>'),d2t=we('<div class="mb-56 flex h-full w-full flex-col gap-2"><div class="my-4 text-base text-lg"></div> <!></div>'),g2t=we('<div class="relative w-full"><!></div> <div class="pt-3"><div class="flex h-full w-full flex-col gap-2"><div class="flex flex-col gap-2 rounded-lg bg-black p-2"><div class="flex w-full justify-start gap-2"><!> <span class="text-accent"> </span></div> <!></div> <!></div> <!></div>',1);function p2t(n,e){Mt(e,!0);let t=Ne(e,"featureMenuData",15),r=Ne(e,"showSelectionMarker",15),i=Oe(void 0),s={loop:!0,dragFree:!1},a=[],o=Oe(void 0),l=Oe(0);function c(){!E(i)||!E(o)||(ee(l,E(i).selectedScrollSnap(),!0),E(o).scrollTo(E(l)))}function A(y){ee(i,y.detail,!0),E(i).on("select",c).on("reInit",c)}let u=Ot(()=>t()&&t().properties?t().properties._prop_id:null),h=Ot(()=>t()&&t().properties?wd[t().properties._prop_id]:null),f=Ot(()=>E(h)&&E(h).image?E(h).image:null);const d=(y,b=50)=>y.length<=b?y:y.substring(0,b)+"...";on(()=>{t()||r(!1)});var g=xt(),_=Je(g);{var m=y=>{var b=g2t(),v=Je(b),B=q(v);{var C=K=>{var N=l2t();Ye(()=>pt(N,"src",E(f))),Yt(1,N,()=>cr),Z(K,N)},I=K=>{var N=xt(),H=Je(N);{var V=j=>{var le=u2t(),de=q(le),he=q(de),ue=oe(he,2);Fn(ue,17,()=>E(h).medias,me=>me.url,(me,_e)=>{var xe=xt(),Re=Je(xe);{var D=ne=>{var te=c2t();pt(te,"width",1920),pt(te,"height",1080),Ye(()=>pt(te,"src",E(_e).url)),Z(ne,te)},O=ne=>{var te=xt(),J=Je(te);{var ce=Me=>{var Se=A2t();Ye(()=>pt(Se,"src",`${E(_e).url}?mute=0&controls=1`)),Z(Me,Se)};Te(J,Me=>{E(_e).type==="youtube"&&Me(ce)},!0)}Z(ne,te)};Te(Re,ne=>{E(_e).type==="image"?ne(D):ne(O,!1)})}Z(me,xe)}),$(de),$(le),JL(le,(me,_e)=>Hl==null?void 0:Hl(me,_e),()=>({plugins:a,options:s})),Ye(()=>pt(he,"src",E(f))),Bn("emblaInit",le,A),Yt(1,he,()=>cr),Z(j,le)};Te(H,j=>{E(h)&&E(h).medias&&E(h).medias.length>0&&j(V)},!0)}Z(K,N)};Te(B,K=>{E(f)&&E(h)&&!E(h).medias?K(C):K(I,!1)})}$(v);var R=oe(v,2),w=q(R),U=q(w),M=q(U),F=q(M);Bt(F,{icon:"lucide:map-pin",class:"h-6 w-6 shrink-0 text-base"});var P=oe(F,2),S=q(P);$(P),$(M);var W=oe(M,2);{var re=K=>{var N=xt(),H=Je(N);{var V=j=>{var le=f2t(),de=q(le);Bt(de,{icon:"mdi:web",class:"h-6 w-6 shrink-0 text-base"});var he=oe(de,2),ue=q(he,!0);$(he),$(le),Ye(me=>{pt(le,"href",E(h).url),yt(ue,me)},[()=>d(E(h).url)]),Z(j,le)};Te(H,j=>{E(h).url&&j(V)})}Z(K,N)};Te(W,K=>{E(h)&&K(re)})}$(U);var G=oe(U,2);{var ie=K=>{var N=xt(),H=Je(N);{var V=j=>{var le=h2t(),de=q(le,!0);$(le),Ye(()=>yt(de,E(h).description)),Z(j,le)};Te(H,j=>{E(h).description&&j(V)})}Z(K,N)};Te(G,K=>{E(h)&&K(ie)})}$(w);var X=oe(w,2);{var ge=K=>{var N=d2t(),H=oe(q(N),2);{var V=j=>{var le=xt(),de=Je(le);Fn(de,17,()=>Object.entries(t().properties),wi,(he,ue)=>{var me=Ot(()=>kk(E(ue),2));let _e=()=>E(me)[0],xe=()=>E(me)[1];var Re=xt(),D=Je(Re);{var O=ne=>{jY(ne,{get key(){return _e()},get value(){return xe()}})};Te(D,ne=>{_e()!=="_prop_id"&&xe()&&ne(O)})}Z(he,Re)}),Z(j,le)};Te(H,j=>{t().properties&&j(V)})}$(N),Z(K,N)};Te(X,K=>{E(u)||K(ge)})}$(R),Ye((K,N)=>yt(S,`${K??""}, ${N??""}`),[()=>t().point[0].toFixed(6),()=>t().point[1].toFixed(6)]),Z(y,b)};Te(_,y=>{t()&&y(m)})}Z(n,g),St()}var _2t=we('<div class="bg-main/70 absolute bottom-0 z-30 flex h-full w-full items-center justify-center" aria-label="Confirmation Dialog" role="button" tabindex="0"><div class="bg-opacity-8 flex max-h-[700px] max-w-[800px] grow flex-col rounded-md bg-black p-4 text-base"><div class="flex justify-center p-2"><h2 class="text-lg font-bold"></h2></div> <div class="flex h-full w-full justify-center p-2"><img alt="Image Preview" class="h-full w-full object-contain" aria-label="Image Preview" role="img" tabindex="0"/></div> <div class="flex shrink-0 items-center justify-center gap-4 pt-4"><button class="c-btn-sub px-4"></button> <button class="c-btn-confirm px-8"></button></div></div></div>');function m2t(n,e){Mt(e,!0);const t=()=>qt(T6,"$confirmationDialog",r),[r,i]=Rr();let s=Ne(e,"imagePreviewUrl",15);const a=async()=>{var h;if(s()){const f=new Date,d=f.getFullYear()+String(f.getMonth()+1).padStart(2,"0")+String(f.getDate()).padStart(2,"0")+String(f.getHours()).padStart(2,"0")+String(f.getMinutes()).padStart(2,"0")+String(f.getSeconds()).padStart(2,"0"),g=4326,_=d+"_epsg_"+g,m=new VHe;m.file(_+".png",((h=s())==null?void 0:h.split(",")[1])??"",{base64:!0});const y=Dt.getMap();if(!y)return;const b=y.getCanvas(),v=await JQe(y,b.width,b.height,g);m.file(_+".pgw",v);const B=await m.generateAsync({type:"blob"}),C=URL.createObjectURL(B),I=document.createElement("a");I.href=C,I.download=`${d}.zip`,I.click(),URL.revokeObjectURL(C),s(null)}},o=()=>{s()&&(URL.revokeObjectURL(s()),s(null))},l=h=>{h.target===h.currentTarget&&o()};window.addEventListener("keydown",h=>{h.key==="Escape"&&t()&&o()});var c=xt(),A=Je(c);{var u=h=>{var f=_2t();f.__click=l,f.__keydown=v=>{v.key==="Escape"&&o()};var d=q(f),g=oe(q(d),2),_=q(g);$(g);var m=oe(g,2),y=q(m);y.__click=o;var b=oe(y,2);b.__click=a,$(m),$(d),$(f),Ye(()=>pt(_,"src",s())),Yt(3,d,()=>Qy,()=>({duration:300,start:.9})),Yt(3,f,()=>cr,()=>({duration:200})),Z(h,f)};Te(A,h=>{s()&&h(u)})}Z(n,c),St(),i()}Ln(["click","keydown"]);const y2t=(n,e)=>`https://www.google.com/maps/search/?api=1&query=${n},${e}`,b2t=(n,e,t=16)=>`https://www.openstreetmap.org/#map=${t}/${n}/${e}`,v2t=async(n,e)=>{const t=`https://cyberjapandata2.gsi.go.jp/general/dem/scripts/getelevation.php?lon=${n}&lat=${e}&outtype=JSON`;try{const r=await fetch(t);if(r.ok)return(await r.json()).elevation;throw new Error("Failed to fetch")}catch(r){throw r instanceof Error?new Error(r.message):new Error("Unknown error occurred")}};var w2t=we('<div class="bg-main absolute z-50 flex flex-col overflow-hidden rounded-lg text-base shadow-md"><button class="hover:bg-accent w-full cursor-pointer p-2 text-left transition-colors duration-100"> </button> <button class="hover:bg-accent cursor-pointer p-2 transition-colors duration-100"><!></button> <a class="hover:bg-accent cursor-pointer p-2 transition-colors duration-100" target="_blank" rel="noopener noreferrer">Google Maps</a> <a class="hover:bg-accent cursor-pointer p-2 transition-colors duration-100" target="_blank" rel="noopener noreferrer">OpenStreetMap</a></div>');function L2t(n,e){Mt(e,!0);let t=Ne(e,"contextMenuState",15),r=Oe(void 0),i=Oe(null);on(()=>{const l=c=>{t()&&t().show&&E(r)&&!E(r).contains(c.target)&&t(t().show=!1,!0)};return t()&&t().show&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}}),on(()=>{t()&&t().show?new Promise(async(l,c)=>{try{const A=await v2t(t().lngLat.lng,t().lngLat.lat);l(A)}catch(A){c(A)}}).then(l=>{ee(i,l,!0)}).catch(l=>{ee(i,"error")}):ee(i,null)});var s=xt(),a=Je(s);{var o=l=>{var c=w2t(),A=q(c);A.__click=()=>{navigator.clipboard.writeText(`${t().lngLat.lat.toFixed(6)}, ${t().lngLat.lng.toFixed(6)}`),ci("","info")};var u=q(A);$(A);var h=oe(A,2);h.__click=()=>{navigator.clipboard.writeText(`${E(i)!==null&&E(i)!=="error"?E(i):"N/A"} m`),ci("","info")};var f=q(h);{var d=y=>{var b=Cg("...");Z(y,b)},g=y=>{var b=xt(),v=Je(b);{var B=I=>{var R=Cg();Ye(()=>yt(R,`: ${E(i)??""} m`)),Z(I,R)},C=I=>{var R=Cg("");Z(I,R)};Te(v,I=>{E(i)!==null&&E(i)!=="error"?I(B):I(C,!1)},!0)}Z(y,b)};Te(f,y=>{E(i)===null?y(d):y(g,!1)})}$(h);var _=oe(h,2),m=oe(_,2);$(c),qn(c,y=>ee(r,y),()=>E(r)),Ye((y,b,v,B)=>{Xr(c,`top: ${t().y+10}px;left: ${t().x+10}px;`),yt(u,`${y??""}, ${b??""}`),h.disabled=E(i)===null||E(i)==="error",pt(_,"href",v),pt(m,"href",B)},[()=>t().lngLat.lat.toFixed(6),()=>t().lngLat.lng.toFixed(6),()=>y2t(t().lngLat.lat,t().lngLat.lng),()=>b2t(t().lngLat.lat,t().lngLat.lng,Dt.getZoom())]),Yt(3,c,()=>cr,()=>({duration:150})),Z(l,c)};Te(a,l=>{t()&&t().show&&l(o)})}Z(n,s),St()}Ln(["click"]);var x2t=we('<div class="bg-main w-side-menu flex h-full shrink-0 flex-col max-lg:hidden"></div>'),R2t=we('<div class="bg-main p-2 max-lg:hidden"></div>'),B2t=we('<div class="fixed flex h-dvh w-full flex-col"><div class="flex h-full w-full flex-1"><!> <!> <!> <div><!></div> <div class="flex w-full flex-1 flex-col overflow-hidden"><!> <!></div> <div class="bg-main p-2 max-lg:hidden"></div></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div>'),E2t=we('<!> <!> <!> <!> <!> <!> <div class="max-lg:hidden"><!></div> <!> <!> <!>',1);function cgt(n,e){Mt(e,!0);const t=()=>qt(Xs,"$selectedLayerId",f),r=()=>qt(ma,"$isStyleEdit",f),i=()=>qt(Ch,"$mapMode",f),s=()=>qt(C0,"$showLayerMenu",f),a=()=>qt(Wi,"$showOtherMenu",f),o=()=>qt(Ig,"$isDebugMode",f),l=()=>qt(vi,"$showDataMenu",f),c=()=>qt(Qo,"$isStreetView",f),A=()=>qt(Xm,"$showInfoDialog",f),u=()=>qt(qm,"$showTermsDialog",f),h=()=>qt(YA,"$showSearchMenu",f),[f,d]=Rr();let g=Oe(null),_=Oe(Wr([]));const m=()=>E(_).length===0?N0:[...N0,...E(_)];let y=Ot(()=>N0.filter(ot=>ot.type==="raster"&&ot.style.type==="dem")),b=Oe(Wr([])),v=Oe(null),B=Oe(null),C=Ot(()=>{const ot=E(b).find(Rt=>Rt.id===t());return ot&&r()?ot:null}),I=Oe({type:"FeatureCollection",features:[]}),R=Oe(null),w=Oe(null),U=Oe({type:"FeatureCollection",features:[]}),M=Oe({type:"FeatureCollection",features:[]}),F=Oe(null),P=Oe(Wr({})),S=Oe(0),W=Oe(!1),re=Oe(!1),G=Oe(!0),ie=Oe(!1),X=Oe(null),ge=Oe(!1),K=Oe(null),N=Oe(!1),H=Oe(Wr(new Qr.LngLat(0,0))),V=Oe(null),j=Oe(!1),le=Oe("6675"),de=Oe(null),he=Oe(""),ue=Oe(Wr([])),me=Oe(null),_e=Oe(null),xe=Oe(null),Re=Oe(null);on(()=>{E(me)?(Dt.setFilter("@search_result",["!=",["id"],E(me)]),Dt.setFilter("@search_result_label",["!=",["id"],E(me)])):(Dt.setFilter("@search_result",null),Dt.setFilter("@search_result_label",null))});let D=Oe(!1);ni(async()=>{const ot=Obe(location.search);ot&&ot.debug&&ot.debug==="1"&&Ig.set(!0),ee(D,!0),ee(U,await _7(`${xb}/nodes.fgb`)),ee(M,await _7(`${xb}/links.fgb`)),ee(P,await fetch(`${xb}/node_connections.json`).then(Tt=>Tt.json()),!0);const Rt=Qbe();Rt&&E(U).features.find(Jt=>Jt.properties.node_id===Number(Rt))&&(O1.set(!0),O(Number(Rt))),ee(re,!0),Dt.onLoad(()=>{Gbe()==="1"&&Di()})});const O=ot=>{var tn;const Rt=ot;if(!Rt){console.warn("Point ID is not defined");return}const Tt=E(P)[Rt]||[],Jt=E(U).features.find(rn=>rn.properties.node_id===Rt);if(!Jt){console.warn(`Street view point with ID ${Rt} not found.`);return}ee(R,Jt,!0),Qo.set(!0);const wt=[Rt,...Tt].map(rn=>E(U).features.find(Vt=>Vt.properties.node_id===rn)).filter(rn=>rn!==void 0).map(rn=>({featureData:rn,bearing:cJ(Jt,rn)})),It=new Qr.LngLat(Jt.geometry.coordinates[0],Jt.geometry.coordinates[1]);ee(H,It,!0),ee(w,wt,!0),ee(R,((tn=wt[0])==null?void 0:tn.featureData)||Jt,!0),ee(re,!0),i()==="small"&&(Dt.setCamera(It),Dt.panTo(Jt.geometry.coordinates,{duration:1e3,animate:!0}))},ne=()=>{ee(b,[],!0),ba.reset(),Xs.set(""),Dt.jumpToFac()};Qo.subscribe(async ot=>{if(!E(R))return;im.set(!0),ee(N,ot,!0);const Rt=new Qr.LngLat(E(R).geometry.coordinates[0],E(R).geometry.coordinates[1]);ot?(Dt.setCamera(Rt),Dt.easeTo({center:E(R).geometry.coordinates,zoom:20,duration:E(re)?750:0,bearing:-E(S)+180,pitch:E(re)?65:0}),await g_(E(re)?750:0),ee(G,!1),ee(ie,!0),E(re)&&await g_(500),Dt.setBearing(0),Dt.setPitch(0),Dt.setZoom(18),xr(Ch,"small"),im.set(!1)):(Dt.easeTo({center:E(R).geometry.coordinates,zoom:20,duration:0,bearing:-E(S)+180,pitch:65}),xr(Ch,"view"),ee(G,!0),ee(ie,!1),Dt.resetCamera(),await g_(300),Dt.easeTo({zoom:17,bearing:0,pitch:0,duration:750}),await g_(750),im.set(!1))}),ba.subscribe(ot=>{const Rt=[...E(b)],Tt=new Map(Rt.map(wt=>[wt.id,wt])),Jt=[];for(const wt of ot){let It=Tt.get(wt);It?Jt.push(It):(It=m().find(tn=>tn.id===wt),It&&Jt.push(It))}ee(b,Jt,!0)});const te=Ot(()=>EW.url.searchParams.get("sv"));let J=null;on(()=>{E(te)!==J&&(J=E(te),E(re)&&O(Number(E(te))))});const ce=async ot=>{if(ot.type==="poi"){const Rt=Swe(ot.point[0],ot.point[1],14),Tt=await uRe(`${Id}/fac_search.pmtiles`,Rt,ot.layerId,ot.featureId),Jt={layerId:ot.layerId,properties:Tt,point:ot.point,featureId:ot.featureId};ee(X,Jt,!0),ee(_e,ot,!0),ee(me,ot.id,!0)}else ot.type==="address"&&(ee(X,null),ee(_e,ot,!0),ee(me,ot.id,!0));Dt.panToOrJumpTo(new Qr.LngLat(ot.point[0],ot.point[1]))};Ga(()=>{ee(D,!1)});var Me=E2t();Bn("keydown",C$,ot=>{if(ot.key==="F3"&&Ig.set(!o()),ot.key==="Escape"){if(document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.blur(),E(X)){ee(X,null);return}if(E(v)){ee(v,null);return}if(E(C)){ee(C,null),Xs.set(""),ma.set(!1);return}if(l()){vi.set(!1);return}if(c()){Qo.set(!1);return}if(a()){Wi.set(!1);return}if(A()){Xm.set(!1);return}if(u()){qm.set(!1);return}if(h()){YA.set(!1);return}}});var Se=Je(Me);{var Le=ot=>{var Rt=B2t(),Tt=q(Rt),Jt=q(Tt);{var wt=ct=>{var pn=x2t();Yt(1,pn,()=>Sl,()=>({duration:1,delay:200,axis:"x"})),Z(ct,pn)};Te(Jt,ct=>{s()&&ct(wt)})}var It=oe(Jt,2);wBe(It,{resetlayerEntries:ne,get layerEntries(){return E(b)},set layerEntries(ct){ee(b,ct,!0)},get tempLayerEntries(){return E(_)},set tempLayerEntries(ct){ee(_,ct,!0)},get showDataEntry(){return E(v)},set showDataEntry(ct){ee(v,ct,!0)},get featureMenuData(){return E(X)},set featureMenuData(ct){ee(X,ct,!0)}});var tn=oe(It,2);{var rn=ct=>{var pn=R2t();Z(ct,pn)};Te(tn,ct=>{s()||ct(rn)})}var Vt=oe(tn,2),Dn=q(Vt);hk(Dn,{get imagePreviewUrl(){return E(xe)},set imagePreviewUrl(ct){ee(xe,ct,!0)}}),$(Vt);var Wt=oe(Vt,2),Ue=q(Wt);MRe(Ue,{resetlayerEntries:ne,focusFeature:ce,get layerEntries(){return E(b)},get featureMenuData(){return E(X)},set featureMenuData(ct){ee(X,ct,!0)},get selectedSearchResultData(){return E(_e)},set selectedSearchResultData(ct){ee(_e,ct,!0)},get inputSearchWord(){return E(he)},set inputSearchWord(ct){ee(he,ct,!0)},get searchResults(){return E(ue)},set searchResults(ct){ee(ue,ct,!0)},get showSelectionMarker(){return E(ge)},set showSelectionMarker(ct){ee(ge,ct,!0)},get selectionMarkerLngLat(){return E(K)},set selectionMarkerLngLat(ct){ee(K,ct,!0)},get showDataEntry(){return E(v)},set showDataEntry(ct){ee(v,ct,!0)}});var gt=oe(Ue,2);eQe(gt,{get searchResults(){return E(ue)},get selectedEpsgCode(){return E(le)},get demEntries(){return E(y)},get streetViewLineData(){return E(M)},get streetViewPointData(){return E(U)},get streetViewPoint(){return E(R)},get showMapCanvas(){return E(G)},get searchGeojsonData(){return E(F)},focusFeature:ce,get maplibreMap(){return E(g)},set maplibreMap(ct){ee(g,ct)},get layerEntries(){return E(b)},set layerEntries(ct){ee(b,ct,!0)},get tempLayerEntries(){return E(_)},set tempLayerEntries(ct){ee(_,ct,!0)},get showDataEntry(){return E(v)},set showDataEntry(ct){ee(v,ct,!0)},get featureMenuData(){return E(X)},set featureMenuData(ct){ee(X,ct,!0)},get showSelectionMarker(){return E(ge)},set showSelectionMarker(ct){ee(ge,ct,!0)},get selectionMarkerLngLat(){return E(K)},set selectionMarkerLngLat(ct){ee(K,ct,!0)},get showAngleMarker(){return E(N)},set showAngleMarker(ct){ee(N,ct,!0)},get angleMarkerLngLat(){return E(H)},set angleMarkerLngLat(ct){ee(H,ct,!0)},get cameraBearing(){return E(S)},set cameraBearing(ct){ee(S,ct,!0)},get dropFile(){return E(B)},set dropFile(ct){ee(B,ct,!0)},get showDialogType(){return E(V)},set showDialogType(ct){ee(V,ct,!0)},get drawGeojsonData(){return E(I)},set drawGeojsonData(ct){ee(I,ct)},get showZoneForm(){return E(j)},set showZoneForm(ct){ee(j,ct,!0)},get focusBbox(){return E(de)},set focusBbox(ct){ee(de,ct,!0)},get isExternalCameraUpdate(){return E(W)},set isExternalCameraUpdate(ct){ee(W,ct,!0)},get selectedSearchId(){return E(me)},set selectedSearchId(ct){ee(me,ct,!0)},get selectedSearchResultData(){return E(_e)},set selectedSearchResultData(ct){ee(_e,ct,!0)},get contextMenuState(){return E(Re)},set contextMenuState(ct){ee(Re,ct,!0)}}),$(Wt),jn(2),$(Tt);var at=oe(Tt,2);sQe(at);var lt=oe(at,2);XQe(lt,{get layerEntries(){return E(b)},get selectedSearchId(){return E(me)},focusFeature:ce,get featureMenuData(){return E(X)},set featureMenuData(ct){ee(X,ct,!0)},get inputSearchWord(){return E(he)},set inputSearchWord(ct){ee(he,ct,!0)},get showSelectionMarker(){return E(ge)},set showSelectionMarker(ct){ee(ge,ct,!0)},get selectionMarkerLngLat(){return E(K)},set selectionMarkerLngLat(ct){ee(K,ct,!0)},get searchResults(){return E(ue)},set searchResults(ct){ee(ue,ct,!0)},get searchGeojsonData(){return E(F)},set searchGeojsonData(ct){ee(F,ct)}});var Pt=oe(lt,2);yCe(Pt,{get layerEntry(){return E(C)},set layerEntry(ct){ee(C,ct)},get tempLayerEntries(){return E(_)},set tempLayerEntries(ct){ee(_,ct,!0)}});var Ht=oe(Pt,2);exe(Ht,{get layerEntries(){return E(b)},get featureMenuData(){return E(X)},set featureMenuData(ct){ee(X,ct,!0)},get showSelectionMarker(){return E(ge)},set showSelectionMarker(ct){ee(ge,ct,!0)}});var gn=oe(Ht,2);cxe(gn,{get selectedSearchResultData(){return E(_e)},set selectedSearchResultData(ct){ee(_e,ct,!0)},get selectedSearchId(){return E(me)},set selectedSearchId(ct){ee(me,ct,!0)}});var Kt=oe(gn,2);o2t(Kt,{get layerEntries(){return E(b)},get featureMenuData(){return E(X)},set featureMenuData(ct){ee(X,ct,!0)},get showSelectionMarker(){return E(ge)},set showSelectionMarker(ct){ee(ge,ct,!0)},children:(ct,pn)=>{p2t(ct,{get layerEntries(){return E(b)},get featureMenuData(){return E(X)},set featureMenuData(ys){ee(X,ys,!0)},get showSelectionMarker(){return E(ge)},set showSelectionMarker(ys){ee(ge,ys,!0)}})},$$slots:{default:!0}});var sn=oe(Kt,2);jQe(sn,{get showDataEntry(){return E(v)},set showDataEntry(ct){ee(v,ct,!0)}});var ln=oe(sn,2);{var yn=ct=>{aLe(ct,{get showDataEntry(){return E(v)},set showDataEntry(pn){ee(v,pn,!0)},get dropFile(){return E(B)},set dropFile(pn){ee(B,pn,!0)},get showDialogType(){return E(V)},set showDialogType(pn){ee(V,pn,!0)}})};Te(ln,ct=>{!E(v)&&!E(j)&&ct(yn)})}var Xn=oe(ln,2);{var ur=ct=>{AQe(ct,{get showDataEntry(){return E(v)},set showDataEntry(pn){ee(v,pn,!0)},get tempLayerEntries(){return E(_)},set tempLayerEntries(pn){ee(_,pn,!0)}})};Te(Xn,ct=>{E(v)&&ct(ur)})}var Mr=oe(Xn,2);{var Jn=ct=>{_ht(ct,{get streetViewPoint(){return E(R)},get nextPointData(){return E(w)},get showThreeCanvas(){return E(ie)},get cameraBearing(){return E(S)},set cameraBearing(pn){ee(S,pn,!0)},get showAngleMarker(){return E(N)},set showAngleMarker(pn){ee(N,pn,!0)},get isExternalCameraUpdate(){return E(W)},set isExternalCameraUpdate(pn){ee(W,pn,!0)}})};Te(Mr,ct=>{O1&&ct(Jn)})}var Vr=oe(Mr,2);r2t(Vr,{get showDataEntry(){return E(v)},get featureMenuData(){return E(X)}}),$(Rt),Ye(()=>Xt(Vt,1,`absolute z-10 h-full w-full lg:hidden ${a()?"opacity-500 pointer-events-auto":"pointer-events-none opacity-0"}`)),Z(ot,Rt)};Te(Se,ot=>{E(D)&&E(re)&&ot(Le)})}var He=oe(Se,2);Pdt(He,{get selectedEpsgCode(){return E(le)},get showDialogType(){return E(V)},set showDialogType(ot){ee(V,ot,!0)},get showDataEntry(){return E(v)},set showDataEntry(ot){ee(v,ot,!0)},get tempLayerEntries(){return E(_)},set tempLayerEntries(ot){ee(_,ot,!0)},get dropFile(){return E(B)},set dropFile(ot){ee(B,ot,!0)},get showZoneForm(){return E(j)},set showZoneForm(ot){ee(j,ot,!0)},get focusBbox(){return E(de)},set focusBbox(ot){ee(de,ot,!0)}});var be=oe(He,2);m2t(be,{get imagePreviewUrl(){return E(xe)},set imagePreviewUrl(ot){ee(xe,ot,!0)}});var Fe=oe(be,2);{var Qe=ot=>{qdt(ot,{get map(){return E(g)},get showZoneForm(){return E(j)},set showZoneForm(Rt){ee(j,Rt,!0)},get selectedEpsgCode(){return E(le)},set selectedEpsgCode(Rt){ee(le,Rt,!0)},get focusBbox(){return E(de)},set focusBbox(Rt){ee(de,Rt,!0)}})};Te(Fe,ot=>{E(g)&&ot(Qe)})}var Ge=oe(Fe,2);{var nt=ot=>{L2t(ot,{get contextMenuState(){return E(Re)},set contextMenuState(Rt){ee(Re,Rt,!0)}})};Te(Ge,ot=>{E(Re)&&ot(nt)})}var ke=oe(Ge,2);vht(ke,{});var De=oe(ke,2),At=q(De);hk(At,{get imagePreviewUrl(){return E(xe)},set imagePreviewUrl(ot){ee(xe,ot,!0)}}),$(De);var kt=oe(De,2);oQe(kt,{});var rt=oe(kt,2);Jdt(rt);var Nt=oe(rt,2);zdt(Nt,{}),Z(n,Me),St(),d()}export{H2t as L,Lr as _,Q2t as a,cgt as b,$Ae as i};
