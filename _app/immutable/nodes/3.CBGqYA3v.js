import{t as c,a as u}from"../chunks/DGlbTQzB.js";import{p as m,o as y,a as w,g as r,s as f,b}from"../chunks/BhGCRYfc.js";import{b as v}from"../chunks/B4D6-wy9.js";import{m as x}from"../chunks/CWzhDz5V.js";/* empty css                */var z=c('<div class="w-hull h-full"></div>');function I(p,h){m(h,!0);let e=null,o=f(null);const a=200,d={width:a,height:a,data:new Uint8Array(a*a*4),onAdd(){const i=document.createElement("canvas");i.width=this.width,i.height=this.height,this.context=i.getContext("2d")},render(){const s=performance.now()%1e3/1e3,l=a/2*.3,g=a/2*.7*s+l,t=this.context;return t.clearRect(0,0,this.width,this.height),t.beginPath(),t.arc(this.width/2,this.height/2,g,0,Math.PI*2),t.fillStyle=`rgba(255, 200, 200,${1-s})`,t.fill(),t.beginPath(),t.arc(this.width/2,this.height/2,l,0,Math.PI*2),t.fillStyle="rgba(255, 100, 100, 1)",t.strokeStyle="white",t.lineWidth=2+4*(1-s),t.fill(),t.stroke(),this.data=t.getImageData(0,0,this.width,this.height).data,e.triggerRepaint(),!0}};y(()=>{if(!r(o)){console.error("Map container is not defined");return}e=new x.Map({container:r(o),style:{version:8,glyphs:"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf",sources:{pales:{type:"raster",tiles:["https://cyberjapandata.gsi.go.jp/xyz/pale/{z}/{x}/{y}.png"],tileSize:256,maxzoom:18,attribution:"<a href='https://www.gsi.go.jp/' target='_blank'>国土地理院</a>"}},layers:[{id:"pales_layer",source:"pales",type:"raster"}]},center:[139.477,35.681],zoom:9}),e.on("load",()=>{e.addImage("pulsing-dot-webgl",d,{pixelRatio:2}),e.addSource("points",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[139.477,35.681]}}]}}),e.addLayer({id:"points-webgl",type:"symbol",source:"points",layout:{"icon-image":"pulsing-dot-webgl","icon-allow-overlap":!0}})})});var n=z();v(n,i=>b(o,i),()=>r(o)),u(p,n),w()}export{I as component};
