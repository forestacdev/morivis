import"../chunks/CWj6FrbW.js";import{ag as oe,e as re,ah as le,h as N,ai as ne,aj as de,ak as K,D as Y,C as J,al as ce,p as C,b as I,am as ve,a9 as k,t as fe,a as u,f as $,aa as m,ae as O,ab as D,c as w,r as h,an as ue,o as Z,q as L,a7 as ee,K as te,ao as pe}from"../chunks/Dd4CGWiK.js";import{p as ge,i as M,s as W,a as G,b as me}from"../chunks/H7Pt7YBJ.js";import{a as be,b as Q,I as ae,t as z,f as F,g as H,s as V,i as S,c as X,h as we,j as he,P as xe,k as _e}from"../chunks/Bml5LZyM.js";import{i as E}from"../chunks/CQnr0Roj.js";import{d as A,s as ye}from"../chunks/D5lWpgOw.js";import{o as ke,b as $e}from"../chunks/Pa1u9Hqg.js";import{p as je}from"../chunks/DrUwY6hL.js";import{s as Te}from"../chunks/BOVylflK.js";import{w as De}from"../chunks/BWjmW4OD.js";function se(v,i){let r=null,s=N;var t;if(N){r=ce;for(var e=ne(document.head);e!==null&&(e.nodeType!==de||e.data!==v);)e=K(e);if(e===null)Y(!1);else{var l=K(e);e.remove(),J(l)}}N||(t=document.head.appendChild(oe()));try{re(()=>i(t),le)}finally{s&&(Y(!0),J(r))}}const P={webManifest:{linkTag:'<link rel="manifest" href="./manifest.webmanifest">'}};var Me=ve($("<script async><\/script><!>",1));function ze(v,i){C(i,!1);let r=ge(i,"id",8);window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",r()),E(),se("19wtun7",s=>{var t=Me(),e=k(t);m(e),fe(()=>be(e,"src",`https://www.googletagmanager.com/gtag/js?id=${r()??""}`)),u(s,t)}),I()}var Ce=$(`<div class="fixed bottom-0 z-30 flex h-dvh w-full items-center justify-center bg-black/50" style="padding-top: env(safe-area-inset-top);"><div class="bg-opacity-8 bg-main flex max-h-[600px] max-w-[900px] grow flex-col rounded-md p-4 text-base"><div class="flex shrink-0 items-center justify-between pb-4"><span class="text-2xl font-bold">morivis（モリビス） について</span> <button class="bg-base cursor-pointer rounded-full p-2"><!></button></div> <div class="flex-flex-col c-scroll overflow-x-hidden overflow-y-auto"><div class="pb-4"><div class="text-justify">morivis（モリビス）は、岐阜県立森林文化アカデミー演習林の森林地理情報をWebGIS上で表示するシステムです。演習林の地形、植生、林道などの基本情報を地図上で確認できるほか、全国の森林オープンデータも閲覧可能です。
						森林情報の可視化と共有を目的とした研究開発の一環として作成しており、現在も機能の追加や改善を継続しています。バグなどを見つけた場合は、お手数ですが<a class="text-accent" href="https://github.com/forestacdev/morivis/issues" target="_blank" rel="noopener noreferrer">GitHubのイシュー</a>にてご報告ください。</div></div> <div class="pb-4"><div class="pb-2 text-lg font-bold">Contributors / コントリビューターの皆さま</div> <div class="flex max-w-[300px] flex-col gap-2"><a class="lg:hover:bg-accent flex cursor-pointer items-center justify-start gap-2 rounded-full border-1 border-gray-500 bg-black p-2 transition-colors lg:hover:text-white" href="https://github.com/satoshi7190" target="_blank" rel="noopener noreferrer"><div class="relative grid h-[50px] w-[50px] place-items-center overflow-hidden rounded-full bg-gray-500"><img class="absolute block h-full w-full rounded-full object-cover" src="https://github.com/satoshi7190.png" alt="satoshi7190's Avatar"/></div> <div class="flex flex-col"><span>Satoshi Komatsu</span><span>(@satoshi7190)</span></div></a> <a class="lg:hover:bg-accent flex cursor-pointer items-center justify-start gap-2 rounded-full border-1 border-gray-500 bg-black p-2 transition-colors lg:hover:text-white" href="https://www.forest.ac.jp/" target="_blank" rel="noopener noreferrer"><div class="relative grid h-[50px] w-[50px] cursor-pointer place-items-center overflow-hidden rounded-full bg-gray-500"><img class="pointer-events-none absolute block h-full w-full rounded-full object-cover" src="./mapicon.png" alt="岐阜県立森林文化アカデミー"/></div> <div class="flex flex-col"><span>岐阜県立森林文化アカデミー</span> <span>関係者の方々</span></div></a></div></div></div></div></div>`);function Ie(v,i){C(i,!1);const r=()=>G(Q,"$showInfoDialog",s),[s,t]=W();E();var e=D(),l=k(e);{var p=n=>{var o=Ce(),d=w(o),c=w(d),g=m(w(c),2);g.__click=()=>Q.set(!1);var j=w(g);ae(j,{icon:"material-symbols:close-rounded",class:"text-main h-4 w-4"}),h(g),h(c),ue(2),h(d),h(o),z(3,d,()=>F,()=>({duration:300,start:.9})),z(3,o,()=>H,()=>({duration:150})),u(n,o)};M(l,n=>{r()&&n(p)})}u(v,e),I(),t()}O(["click"]);var Le=$('<div class="fixed bottom-0 z-30 flex h-dvh w-full bg-black/50 max-lg:p-4 max-lg:py-8 lg:items-center lg:justify-center" style="padding-top: env(safe-area-inset-top);"><div class="bg-opacity-8 bg-main flex max-w-[900px] grow flex-col rounded-lg text-base max-lg:p-3 lg:h-full lg:max-h-[600px] lg:p-6"><div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold">アプリのインストール手順</span></div> <div class="c-scroll flex h-full grow flex-col overflow-x-hidden overflow-y-auto pb-4 text-justify"><div class="pb-4">画面下部のアドレスバーから共有アイコンをタップします。</div> <img src="./images/pwa/ios_Install_1.webp" alt="共有アイコン" class="bg-base mx-auto mb-6 rounded-lg"/> <div class="pb-4">「ホーム画面に追加」をタップします。</div> <img src="./images/pwa/ios_Install_2.webp" alt="ホーム画面に追加" class="bg-base mx-auto mb-6 rounded-lg"/> <div class="pb-4">「追加」をタップしてアプリをインストールします。</div> <img src="./images/pwa/ios_Install_3.webp" alt="追加" class="bg-base mx-auto mb-6 rounded-lg"/></div> <div class="flex shrink-0 justify-center overflow-auto pt-2"><button class="c-btn-confirm px-12 py-6 text-lg">OK</button></div></div></div>');function We(v,i){C(i,!1);const r=()=>G(V,"$showPwaManuelDialog",s),[s,t]=W();E();var e=D(),l=k(e);{var p=n=>{var o=Le(),d=w(o),c=m(w(d),4),g=w(c);g.__click=()=>{V.set(!1)},h(c),h(d),h(o),z(3,d,()=>F,()=>({duration:300,start:.9})),z(3,o,()=>H,()=>({duration:200})),u(n,o)};M(l,n=>{r()&&n(p)})}u(v,e),I(),t()}O(["click"]);var Ge=$('<div class="absolute top-0 left-0 z-[9999] h-dvh w-full"></div>');function Ee(v){const i=()=>G(S,"$isBlocked",r),[r,s]=W();var t=D(),e=k(t);{var l=p=>{var n=Ge();u(p,n)};M(e,p=>{i()&&p(l)})}u(v,t),s()}var Ne=$(`<div class="fixed bottom-0 z-30 flex h-dvh w-full bg-black/50 max-lg:p-4 max-lg:py-8 lg:items-center lg:justify-center" style="padding-top: env(safe-area-inset-top);"><div class="bg-opacity-8 bg-main flex max-w-[900px] grow flex-col rounded-lg text-base max-lg:p-3 lg:h-full lg:max-h-[600px] lg:p-6"><div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold">利用規約</span></div> <div class="c-scroll flex h-full grow flex-col overflow-x-hidden overflow-y-auto pb-4 text-justify"><div class="pb-4">本規約は、本アプリケーション（以下、「本アプリ」）の利用に関する条件を定めるものです。本アプリをご利用いただくことで、本規約に同意したものとみなします。</div> <div class="pb-4"><div class="text-lg font-bold">開発中のアプリケーションについて</div> 本アプリは現在開発中であり、動作の安定性や正確性は保証されません。不具合や予期しない挙動が発生する可能性があります。予告なく仕様変更・機能追加・サービス停止・データ削除が行われる場合もありますので、あらかじめご理解のうえご利用ください。</div> <div class="pb-4"><div class="text-lg font-bold">本アプリの目的と禁止事項</div> 本アプリは、地図情報の閲覧および関連機能の提供を目的としています。 ご利用にあたり、以下の行為を禁止します： <div class="pl-2"><div>1. 本アプリの機能やコンテンツを不正に利用する行為</div> <div>2. 他のユーザーや第三者の権利を侵害する行為</div> <div>3. サーバーやネットワークに過度な負荷を与える行為</div> <div>4. 法律や公序良俗に反する行為</div></div></div> <div class="pb-4"><div class="text-lg font-bold">サービスの変更・停止</div> <div>サーバー障害、メンテナンス、その他の理由により、本アプリのサービスを一時的または永久に停止することがあります。その際、制作者は事前に通知を行う義務を負いません。</div></div> <div class="pb-4"><div class="text-lg font-bold">知的財産権について</div> <div>本アプリ内の地図データ、画像、プログラムその他のコンテンツに関する著作権、商標権その他の知的財産権は、制作者または正当な権利を有する第三者に帰属します。これらを無断で複製、改変、再配布することを禁止します。</div></div> <div class="pb-4"><div class="text-lg font-bold">地図情報に関する注意および免責事項</div> <div>本アプリで表示される地図は、岐阜県立森林文化アカデミーの演習林を対象としたものであり、当該施設とは直接の関係はありません。個人が制作したものであり、正式な地図や情報と異なる場合があります。内容の正確性・最新性は保証されませんので、参考情報としてご利用ください。
						また、本アプリの利用により生じたいかなる損害についても、制作者は一切の責任を負いません。</div></div> <div class="pb-4"><div class="text-lg font-bold">個人情報の取扱いについて</div> <div>本アプリの利用に際して取得した個人情報は、制作者のプライバシーポリシーに基づき、適切に取り扱います。</div></div> <div class="pb-4"><div class="text-lg font-bold">Google アナリティクスの利用について</div> <div>本アプリでは、サービスの品質向上および利用状況の分析のために、Google
						アナリティクスを使用しています。Google
						アナリティクスは、トラフィックデータの収集のために Cookie
						を使用しており、データは匿名で収集され、個人を特定するものではありません。Google
						によるデータの取扱いについては、<a class="text-accent underline" target="_blank" href="https://policies.google.com/privacy" rel="noopener noreferrer">Google のプライバシーポリシー</a>をご確認ください。</div></div> <div class="pb-4"><div class="text-lg font-bold">本規約の変更について</div> <div>事前の通知なしに、本アプリの内容や機能を変更、または提供を終了する場合があります。</div></div></div> <div class="flex shrink-0 justify-center overflow-auto pt-2"><button class="c-btn-confirm px-12 py-6 text-lg">同意する</button></div></div></div>`);function Ae(v,i){C(i,!1);const r=()=>G(X,"$showTermsDialog",s),[s,t]=W();E();var e=D(),l=k(e);{var p=n=>{var o=Ne(),d=w(o),c=m(w(d),4),g=w(c);g.__click=()=>{X.set(!1),Te()},h(c),h(d),h(o),z(3,d,()=>F,()=>({duration:300,start:.9})),z(3,o,()=>H,()=>({duration:200})),u(n,o)};M(l,n=>{r()&&n(p)})}u(v,e),I(),t()}O(["click"]);const B=De(-1);var Pe=$('<div class="pointer-events-none fixed z-50 h-dvh w-full"></div>');function Se(v,i){C(i,!0);let r=!1,s=ee(null),t=null,e=null,l=null;const p=2e3,n=()=>{if(!L(s))return console.error("Container element not found"),null;t&&t.parentNode&&t.parentNode.removeChild(t),t=document.createElement("canvas"),t.className="pointer-events-none fixed z-50 h-dvh w-full",L(s).appendChild(t);const b=t.transferControlToOffscreen(),x=new Worker(new URL(""+new URL("../workers/webgl_effect.worker-Ba_vFkeq.js",import.meta.url).href,import.meta.url),{type:"module"});return x.postMessage({type:"init",canvas:b,width:window.innerWidth,height:window.innerHeight},[b]),x.onmessage=_=>{const T=_.data;T.type==="initialized"?i.initialized():T.type==="log"&&console.log("WebGL worker log:",T.message)},x.onerror=_=>{console.error("WebGL worker error:",_)},x},o=()=>{e&&(e.terminate(),e=null),t&&t.parentNode&&(t.parentNode.removeChild(t),t=null)},d=()=>{c(),l=window.setTimeout(()=>{o(),l=null},p)},c=()=>{l!==null&&(clearTimeout(l),l=null)},g=b=>{c(),e||(e=n()),e&&e.postMessage(b)};Z(()=>{if(!L(s)){console.error("Container element not found");return}i.initialized();const b=B.subscribe(_=>{if(!r){r=!0;return}g({type:"transition",animationFlag:_}),_===-1&&d()}),x=()=>{e&&e.postMessage({type:"resize",width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",x),()=>{b(),window.removeEventListener("resize",x),c(),o()}});var j=Pe();me(j,b=>te(s,b),()=>L(s)),u(v,j),I()}var Be=$('<div class="bg-main absolute z-100 flex h-full w-full items-center justify-center text-base"><p class="text-2xl">端末を縦向きにしてください。</p> <!></div>'),Oe=$("<!> <!> <!> <!> <!> <!> <!> <!>",1);function Xe(v,i){var q;C(i,!0);const r=()=>G(_e,"$isMobile",s),[s,t]=W(),e=(q=P==null?void 0:P.webManifest)==null?void 0:q.linkTag;ke(a=>{if(!(a.from&&a.to&&a.from.route.id===a.to.route.id))return new Promise(f=>{S.set(!0),B.set(1),A(1e3).then(()=>{f(),a.complete,A(300).then(()=>{B.set(-1),A(1e3).then(()=>{S.set(!1)})})})})});let l=ee(!1);const p=async a=>{if(a&&a.startsWith("/_")){window.location.href="/morivis";return}};$e(async({cancel:a,to:f})=>{if(!f)return;const y=f.route.id;if(y&&y.startsWith("/_"))return a(),{path:"/morivis"}}),Z(async()=>{await p(je.route.id),window.addEventListener("beforeinstallprompt",a=>(a.preventDefault(),ye(a),!1))});const n=()=>{te(l,!0)},o=we()?"mobile":"pc";var d=Oe();se("12qhfyh",a=>{var f=D(),y=k(f);he(y,()=>e),u(a,f)});var c=k(d);ze(c,{get id(){return xe}});var g=m(c,2);{var j=a=>{var f=Be(),y=m(w(f),2);ae(y,{icon:"circum:mobile-3",class:"h-16 w-16"}),h(f),u(a,f)};M(g,a=>{o==="mobile"&&!r()&&a(j)})}var b=m(g,2);{var x=a=>{var f=D(),y=k(f);pe(y,()=>i.children),u(a,f)};M(b,a=>{L(l)&&a(x)})}var _=m(b,2);Ae(_,{});var T=m(_,2);Ie(T,{});var R=m(T,2);Se(R,{initialized:n});var U=m(R,2);Ee(U);var ie=m(U,2);We(ie,{}),u(v,d),I(),t()}export{Xe as component};
