var rB=Object.defineProperty;var ry=t=>{throw TypeError(t)};var iB=(t,e,r)=>e in t?rB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Si=(t,e,r)=>iB(t,typeof e!="symbol"?e+"":e,r),j2=(t,e,r)=>e.has(t)||ry("Cannot "+r);var No=(t,e,r)=>(j2(t,e,"read from private field"),r?r.call(t):e.get(t)),Bd=(t,e,r)=>e.has(t)?ry("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),K2=(t,e,r,n)=>(j2(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),iy=(t,e,r)=>(j2(t,e,"access private method"),r);import{b as ay,m as aB,w as nB,n as f4,f as vr,c as Qe,o as sB,d as nt,i as fi,e as ra,p as ny}from"../chunks/a5flVsui.js";import{ap as l5,av as oB,aB as lB,h as La,a as Qu,aC as g4,b as cp,aD as AB,U as dm,aE as i0,X as yg,G as Ja,D as x0,an as vg,am as xg,aF as sy,x as cB,e as wg,f as Du,p as a0,aj as vn,g as Zo,aG as uB,aH as hB,s as $1,j as zd,v as dB,K as V,R as A5,c as fB,r as oy,d as $2,m as gB,t as c5,aI as q2,y as Bg,aJ as p4,aK as pB,q as mB,aL as _B,at as u5,aM as m4,aN as bB,k as h5,aO as d5,aP as yB,n as vB,l as xB,E as wB,aQ as BB,aR as CB,A as f5,C as up,aS as MB,aT as RB,F as Cd,ao as IB,aU as UB,aV as EB,B as _4,aW as FB,L as g5,O as TB,w as sr,af as ua,aX as sc,aY as q1,aZ as p5,ab as kt,z as or,N as Xe,a_ as W1,a8 as so,a$ as m5,a1 as SB,ah as Ce,ai as ve,ad as Gt,ac as Ue,aA as un,ae as Pt,W as wi,al as oi,b0 as Vi,a5 as Gi,az as NB,J as qo,ag as b4}from"../chunks/uVeY05RF.js";import{a as YB,s as dr,m as PB}from"../chunks/CH3jcibw.js";import{i as _t}from"../chunks/BDZFaj7H.js";import{l as LB,p as Qt,s as kr,a as qi,b as Ko,m as _5}from"../chunks/C9Cc93EH.js";import{f as kB,d as ly,e as dn,g as Bi,r as tn,s as xi,o as Cg,h as zu,j as b5,C as QB,I as Mg,k as L0,l as Qs,m as Rg,b as Ig,n as DB,F as gr,M as zB,D as Ug,G as Xo,t as fm,p as zl,q as y5,u as v5,v as gm,w as GA,x as On,y as Ps,z as hp,A as Ys,B as ZB,E as jA,H as w0,J as OB,a as HB,K as Ay,S as J1,L as Xl,N as XB,O as x5,P as w5,Q as VB,R as B5,T as GB,U as y4,V as v4,W as jB,X as KB,Y as Eg,Z as C5,_ as M5,$ as $B,a0 as qB,a1 as cy,a2 as WB,a3 as JB}from"../chunks/Bu6inNDA.js";import{l as R5,g as dp,d as pm,m as uy,S as eC,n as tC,V as a1,e as rC,P as iC,O as aC,j as hy,A as nC,o as sC,W as oC,b as dy,p as lC,q as AC,r as cC}from"../chunks/BGSar6W7.js";import{i as Jo}from"../chunks/CEaYN3PA.js";import{b as gn}from"../chunks/DM7M-_Yz.js";import{s as uC,g as hC}from"../chunks/C5OetR0b.js";const dC=[];function fC(t,e=!1){return eg(t,new Map,"",dC)}function eg(t,e,r,n,l=null){if(typeof t=="object"&&t!==null){var h=e.get(t);if(h!==void 0)return h;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(l5(t)){var u=Array(t.length);e.set(t,u),l!==null&&e.set(l,u);for(var s=0;s<t.length;s+=1){var v=t[s];s in t&&(u[s]=eg(v,e,r,n))}return u}if(oB(t)===lB){u={},e.set(t,u),l!==null&&e.set(l,u);for(var w in t)u[w]=eg(t[w],e,r,n);return u}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return eg(t.toJSON(),e,r,n,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}const W2=0,n1=1,J2=2;function tg(t,e,r,n,l){La&&Qu();var h=t,u=g4(),s=cB,v=dm,w,I,M,U=(u?yg:Ja)(void 0),C=(u?yg:Ja)(void 0),S=!1;function k(Z,G){S=!0,G&&(vg(z),xg(z),sy(s));try{Z===n1&&n&&(I?wg(I):I=Du(()=>n(h,U))),Z===J2&&l&&(M?wg(M):M=Du(()=>l(h,C))),Z!==W2&&w&&a0(w,()=>w=null),Z!==n1&&I&&a0(I,()=>I=null),Z!==J2&&M&&a0(M,()=>M=null)}finally{G&&(sy(null),xg(null),vg(null),vn())}}var z=cp(()=>{if(v!==(v=e())){if(AB(v)){var Z=v;S=!1,Z.then(G=>{Z===v&&(i0(U,G),k(n1,!0))},G=>{if(Z===v&&(i0(C,G),k(J2,!0),!l))throw C.v}),La||x0(()=>{S||k(W2,!0)})}else i0(U,v),k(n1,!1);return()=>v=dm}});La&&(h=Zo)}function fy(t,e,r){La&&Qu();var n=t,l=dm,h,u=g4()?uB:hB;cp(()=>{u(l,l=e())&&(h&&a0(h),h=Du(()=>r(n)))}),La&&(n=Zo)}let rg=null;function xa(t,e){return e}function gC(t,e,r,n){for(var l=[],h=e.length,u=0;u<h;u++)pB(e[u].e,l,!0);var s=h>0&&l.length===0&&r!==null;if(s){var v=r.parentNode;mB(v),v.append(r),n.clear(),Fl(t,e[0].prev,e[h-1].next)}_B(l,()=>{for(var w=0;w<h;w++){var I=e[w];s||(n.delete(I.k),Fl(t,I.prev,I.next)),u5(I.e,!s)}})}function mi(t,e,r,n,l,h=null){var u=t,s={flags:e,items:new Map,first:null},v=(e&d5)!==0;if(v){var w=t;u=La?$1(zd(w)):w.appendChild(dB())}La&&Qu();var I=null,M=!1,U=A5(()=>{var C=r();return l5(C)?C:C==null?[]:c5(C)});cp(()=>{var C=V(U),S=C.length;if(M&&S===0)return;M=S===0;let k=!1;if(La){var z=u.data===fB;z!==(S===0)&&(u=oy(),$1(u),$2(!1),k=!0)}if(La){for(var Z=null,G,se=0;se<S;se++){if(Zo.nodeType===8&&Zo.data===gB){u=Zo,k=!0,$2(!1);break}var re=C[se],Ae=n(re,se);G=I5(Zo,s,Z,null,re,Ae,se,l,e,r),s.items.set(Ae,G),Z=G}S>0&&$1(oy())}La||pC(C,s,u,l,e,n,r),h!==null&&(S===0?I?wg(I):I=Du(()=>h(u)):I!==null&&a0(I,()=>{I=null})),k&&$2(!0),V(U)}),La&&(u=Zo)}function pC(t,e,r,n,l,h,u){var He,Ve,Ke,ot;var s=(l&yB)!==0,v=(l&(m4|p4))!==0,w=t.length,I=e.items,M=e.first,U=M,C,S=null,k,z=[],Z=[],G,se,re,Ae;if(s)for(Ae=0;Ae<w;Ae+=1)G=t[Ae],se=h(G,Ae),re=I.get(se),re!==void 0&&((He=re.a)==null||He.measure(),(k??(k=new Set)).add(re));for(Ae=0;Ae<w;Ae+=1){if(G=t[Ae],se=h(G,Ae),re=I.get(se),re===void 0){var J=U?U.e.nodes_start:r;S=I5(J,e,S,S===null?e.first:S.next,G,se,Ae,n,l,u),I.set(se,S),z=[],Z=[],U=S.next;continue}if(v&&mC(re,G,Ae,l),re.e.f&q2&&(wg(re.e),s&&((Ve=re.a)==null||Ve.unfix(),(k??(k=new Set)).delete(re))),re!==U){if(C!==void 0&&C.has(re)){if(z.length<Z.length){var te=Z[0],X;S=te.prev;var W=z[0],he=z[z.length-1];for(X=0;X<z.length;X+=1)gy(z[X],te,r);for(X=0;X<Z.length;X+=1)C.delete(Z[X]);Fl(e,W.prev,he.next),Fl(e,S,W),Fl(e,he,te),U=te,S=he,Ae-=1,z=[],Z=[]}else C.delete(re),gy(re,U,r),Fl(e,re.prev,re.next),Fl(e,re,S===null?e.first:S.next),Fl(e,S,re),S=re;continue}for(z=[],Z=[];U!==null&&U.k!==se;)U.e.f&q2||(C??(C=new Set)).add(U),Z.push(U),U=U.next;if(U===null)continue;re=U}z.push(re),S=re,U=re.next}if(U!==null||C!==void 0){for(var ue=C===void 0?[]:c5(C);U!==null;)U.e.f&q2||ue.push(U),U=U.next;var _e=ue.length;if(_e>0){var xe=l&d5&&w===0?r:null;if(s){for(Ae=0;Ae<_e;Ae+=1)(Ke=ue[Ae].a)==null||Ke.measure();for(Ae=0;Ae<_e;Ae+=1)(ot=ue[Ae].a)==null||ot.fix()}gC(e,ue,xe,I)}}s&&x0(()=>{var it;if(k!==void 0)for(re of k)(it=re.a)==null||it.apply()}),Bg.first=e.first&&e.first.e,Bg.last=S&&S.e}function mC(t,e,r,n){n&m4&&i0(t.v,e),n&p4?i0(t.i,r):t.i=r}function I5(t,e,r,n,l,h,u,s,v,w){var I=rg,M=(v&m4)!==0,U=(v&bB)===0,C=M?U?Ja(l):yg(l):l,S=v&p4?yg(u):u,k={i:S,v:C,k:h,a:null,e:null,prev:r,next:n};rg=k;try{return k.e=Du(()=>s(t,C,S,w),La),k.e.prev=r&&r.e,k.e.next=n&&n.e,r===null?e.first=k:(r.next=k,r.e.next=k.e),n!==null&&(n.prev=k,n.e.prev=k.e),k}finally{rg=I}}function gy(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,l=e?e.e.nodes_start:r,h=t.e.nodes_start;h!==n;){var u=h5(h);l.before(h),h=u}}function Fl(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function U5(t,e,r,n,l){var h=t,u="",s;cp(()=>{if(u===(u=e()??"")){La&&Qu();return}s!==void 0&&(u5(s),s=void 0),u!==""&&(s=Du(()=>{if(La){Zo.data;for(var v=Qu(),w=v;v!==null&&(v.nodeType!==8||v.data!=="");)w=v,v=h5(v);if(v===null)throw vB(),xB;ay(Zo,w),h=$1(v);return}var I=u+"";r&&(I=`<svg>${I}</svg>`);var M=aB(I);if((r||n)&&(M=zd(M)),ay(zd(M),M.lastChild),r||n)for(;zd(M);)h.before(zd(M));else h.before(M)}))})}function e3(t,e,r,n,l){var s;La&&Qu();var h=(s=e.$$slots)==null?void 0:s[r],u=!1;h===!0&&(h=e[r==="default"?"children":r],u=!0),h===void 0||h(t,u?()=>n:n)}const _C=()=>performance.now(),Oo={tick:t=>requestAnimationFrame(t),now:()=>_C(),tasks:new Set};function E5(){const t=Oo.now();Oo.tasks.forEach(e=>{e.c(t)||(Oo.tasks.delete(e),e.f())}),Oo.tasks.size!==0&&Oo.tick(E5)}function bC(t){let e;return Oo.tasks.size===0&&Oo.tick(E5),{promise:new Promise(r=>{Oo.tasks.add(e={c:t,f:r})}),abort(){Oo.tasks.delete(e)}}}function s1(t,e){nB(()=>{t.dispatchEvent(new CustomEvent(e))})}function yC(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function py(t){const e={},r=t.split(";");for(const n of r){const[l,h]=n.split(":");if(!l||h===void 0)break;const u=yC(l.trim());e[u]=h.trim()}return e}const vC=t=>t;function F5(t,e,r){var n=rg,l,h,u,s=null;n.a??(n.a={element:t,measure(){l=this.element.getBoundingClientRect()},apply(){if(u==null||u.abort(),h=this.element.getBoundingClientRect(),l.left!==h.left||l.right!==h.right||l.top!==h.top||l.bottom!==h.bottom){const v=e()(this.element,{from:l,to:h},r==null?void 0:r());u=Fg(this.element,v,void 0,1,()=>{u==null||u.abort(),u=void 0})}},fix(){if(!t.getAnimations().length){var{position:v,width:w,height:I}=getComputedStyle(t);if(v!=="absolute"&&v!=="fixed"){var M=t.style;s={position:M.position,width:M.width,height:M.height,transform:M.transform},M.position="absolute",M.width=w,M.height=I;var U=t.getBoundingClientRect();if(l.left!==U.left||l.top!==U.top){var C=`translate(${l.left-U.left}px, ${l.top-U.top}px)`;M.transform=M.transform?`${M.transform} ${C}`:C}}}},unfix(){if(s){var v=t.style;v.position=s.position,v.width=s.width,v.height=s.height,v.transform=s.transform}}}),n.a.element=t}function ni(t,e,r,n){var l=(t&UB)!==0,h=(t&EB)!==0,u=l&&h,s=(t&MB)!==0,v=u?"both":l?"in":"out",w,I=e.inert,M=e.style.overflow,U,C;function S(){var se=IB,re=Bg;xg(null),vg(null);try{return w??(w=r()(e,(n==null?void 0:n())??{},{direction:v}))}finally{xg(se),vg(re)}}var k={is_global:s,in(){var se;if(e.inert=I,!l){C==null||C.abort(),(se=C==null?void 0:C.reset)==null||se.call(C);return}h||U==null||U.abort(),s1(e,"introstart"),U=Fg(e,S(),C,1,()=>{s1(e,"introend"),U==null||U.abort(),U=w=void 0,e.style.overflow=M})},out(se){if(!h){se==null||se(),w=void 0;return}e.inert=!0,s1(e,"outrostart"),C=Fg(e,S(),U,0,()=>{s1(e,"outroend"),se==null||se()})},stop:()=>{U==null||U.abort(),C==null||C.abort()}},z=Bg;if((z.transitions??(z.transitions=[])).push(k),l&&YB){var Z=s;if(!Z){for(var G=z.parent;G&&G.f&wB;)for(;(G=G.parent)&&!(G.f&BB););Z=!G||(G.f&CB)!==0}Z&&f5(()=>{up(()=>k.in())})}}function Fg(t,e,r,n,l){var h=n===1;if(RB(e)){var u,s=!1;return x0(()=>{if(!s){var z=e({direction:h?"in":"out"});u=Fg(t,z,r,n,l)}}),{abort:()=>{s=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return l(),{abort:Cd,deactivate:Cd,reset:Cd,t:()=>n};const{delay:v=0,css:w,tick:I,easing:M=vC}=e;var U=[];if(h&&r===void 0&&(I&&I(0,1),w)){var C=py(w(0,1));U.push(C,C)}var S=()=>1-n,k=t.animate(U,{duration:v});return k.onfinish=()=>{var z=(r==null?void 0:r.t())??1-n;r==null||r.abort();var Z=n-z,G=e.duration*Math.abs(Z),se=[];if(G>0){var re=!1;if(w)for(var Ae=Math.ceil(G/16.666666666666668),J=0;J<=Ae;J+=1){var te=z+Z*M(J/Ae),X=py(w(te,1-te));se.push(X),re||(re=X.overflow==="hidden")}re&&(t.style.overflow="hidden"),S=()=>{var W=k.currentTime;return z+Z*M(W/G)},I&&bC(()=>{if(k.playState!=="running")return!1;var W=S();return I(W,1-W),!0})}k=t.animate(se,{duration:G,fill:"forwards"}),k.onfinish=()=>{S=()=>n,I==null||I(n,1-n),l()}},{abort:()=>{k&&(k.cancel(),k.effect=null,k.onfinish=Cd)},deactivate:()=>{l=Cd},reset:()=>{n===0&&(I==null||I(1,0))},t:()=>S()}}function $u(t,e,r=e){var n=g4();f4(t,"input",l=>{var h=l?t.defaultValue:t.value;if(h=r3(t)?i3(h):h,r(h),n&&h!==(h=e())){var u=t.selectionStart,s=t.selectionEnd;t.value=h??"",s!==null&&(t.selectionStart=u,t.selectionEnd=Math.min(s,t.value.length))}}),(La&&t.defaultValue!==t.value||up(e)==null&&t.value)&&r(r3(t)?i3(t.value):t.value),_4(()=>{var l=e();r3(t)&&l===i3(t.value)||t.type==="date"&&!l&&!t.value||l!==t.value&&(t.value=l??"")})}const t3=new Set;function tc(t,e,r,n,l=n){var h=r.getAttribute("type")==="checkbox",u=t;let s=!1;if(e!==null)for(var v of e)u=u[v]??(u[v]=[]);u.push(r),f4(r,"change",()=>{var w=r.__value;h&&(w=my(u,w,r.checked)),l(w)},()=>l(h?[]:null)),_4(()=>{var w=n();if(La&&r.defaultChecked!==r.checked){s=!0;return}h?(w=w||[],r.checked=w.includes(r.__value)):r.checked=FB(r.__value,w)}),g5(()=>{var w=u.indexOf(r);w!==-1&&u.splice(w,1)}),t3.has(u)||(t3.add(u),x0(()=>{u.sort((w,I)=>w.compareDocumentPosition(I)===4?-1:1),t3.delete(u)})),x0(()=>{if(s){var w;if(h)w=my(u,w,r.checked);else{var I=u.find(M=>M.checked);w=I==null?void 0:I.__value}l(w)}})}function x4(t,e,r=e){f4(t,"change",n=>{var l=n?t.defaultChecked:t.checked;r(l)}),(La&&t.defaultChecked!==t.checked||up(e)==null)&&r(t.checked),_4(()=>{var n=e();t.checked=!!n})}function my(t,e,r){for(var n=new Set,l=0;l<t.length;l+=1)t[l].checked&&n.add(t[l].__value);return r||n.delete(e),Array.from(n)}function r3(t){var e=t.type;return e==="number"||e==="range"}function i3(t){return t===""?null:+t}function xC(t,e,r){var n=TB(t,e);n&&n.set&&(t[e]=r,g5(()=>{t[e]=null}))}var Nl,ku,P0,lp,T5;const Ap=class Ap{constructor(e){Bd(this,lp);Bd(this,Nl,new WeakMap);Bd(this,ku);Bd(this,P0);K2(this,P0,e)}observe(e,r){var n=No(this,Nl).get(e)||new Set;return n.add(r),No(this,Nl).set(e,n),iy(this,lp,T5).call(this).observe(e,No(this,P0)),()=>{var l=No(this,Nl).get(e);l.delete(r),l.size===0&&(No(this,Nl).delete(e),No(this,ku).unobserve(e))}}};Nl=new WeakMap,ku=new WeakMap,P0=new WeakMap,lp=new WeakSet,T5=function(){return No(this,ku)??K2(this,ku,new ResizeObserver(e=>{for(var r of e){Ap.entries.set(r.target,r);for(var n of No(this,Nl).get(r.target)||[])n(r)}}))},Si(Ap,"entries",new WeakMap);let mm=Ap;var wC=new mm({box:"border-box"});function _y(t,e,r){var n=wC.observe(t,()=>r(t[e]));f5(()=>(up(()=>r(t[e])),n))}var Dn=63710088e-1,BC={centimeters:Dn*100,centimetres:Dn*100,degrees:360/(2*Math.PI),feet:Dn*3.28084,inches:Dn*39.37,kilometers:Dn/1e3,kilometres:Dn/1e3,meters:Dn,metres:Dn,miles:Dn/1609.344,millimeters:Dn*1e3,millimetres:Dn*1e3,nauticalmiles:Dn/1852,radians:1,yards:Dn*1.0936};function CC(t,e,r={}){const n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function MC(t,e,r={}){for(const l of t){if(l.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(l[l.length-1].length!==l[0].length)throw new Error("First and last Position are not equivalent.");for(let h=0;h<l[l.length-1].length;h++)if(l[l.length-1][h]!==l[0][h])throw new Error("First and last Position are not equivalent.")}return CC({type:"Polygon",coordinates:t},e,r)}function RC(t,e="kilometers"){const r=BC[e];if(!r)throw new Error(e+" units is invalid");return t*r}function IC(t){return t%(2*Math.PI)*180/Math.PI}function Yl(t){return t%360*Math.PI/180}function Tg(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function S5(t,e,r={}){if(r.final===!0)return UC(t,e);const n=Tg(t),l=Tg(e),h=Yl(n[0]),u=Yl(l[0]),s=Yl(n[1]),v=Yl(l[1]),w=Math.sin(u-h)*Math.cos(v),I=Math.cos(s)*Math.sin(v)-Math.sin(s)*Math.cos(v)*Math.cos(u-h);return IC(Math.atan2(w,I))}function UC(t,e){let r=S5(e,t);return r=(r+180)%360,r}var EC=S5;function N5(t,e,r={}){var n=Tg(t),l=Tg(e),h=Yl(l[1]-n[1]),u=Yl(l[0]-n[0]),s=Yl(n[1]),v=Yl(l[1]),w=Math.pow(Math.sin(h/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(s)*Math.cos(v);return RC(2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w)),r.units)}var FC=N5;function TC(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Y5(t);case"FeatureCollection":return SC(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return w4(t);default:throw new Error("unknown GeoJSON type")}}function Y5(t){const e={type:"Feature"};return Object.keys(t).forEach(r=>{switch(r){case"type":case"properties":case"geometry":return;default:e[r]=t[r]}}),e.properties=P5(t.properties),t.geometry==null?e.geometry=null:e.geometry=w4(t.geometry),e}function P5(t){const e={};return t&&Object.keys(t).forEach(r=>{const n=t[r];typeof n=="object"?n===null?e[r]=null:Array.isArray(n)?e[r]=n.map(l=>l):e[r]=P5(n):e[r]=n}),e}function SC(t){const e={type:"FeatureCollection"};return Object.keys(t).forEach(r=>{switch(r){case"type":case"features":return;default:e[r]=t[r]}}),e.features=t.features.map(r=>Y5(r)),e}function w4(t){const e={type:t.type};return t.bbox&&(e.bbox=t.bbox),t.type==="GeometryCollection"?(e.geometries=t.geometries.map(r=>w4(r)),e):(e.coordinates=L5(t.coordinates),e)}function L5(t){const e=t;return typeof e[0]!="object"?e.slice():e.map(r=>L5(r))}var NC=Object.defineProperty,YC=Object.defineProperties,PC=Object.getOwnPropertyDescriptors,by=Object.getOwnPropertySymbols,LC=Object.prototype.hasOwnProperty,kC=Object.prototype.propertyIsEnumerable,yy=(t,e,r)=>e in t?NC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vy=(t,e)=>{for(var r in e||(e={}))LC.call(e,r)&&yy(t,r,e[r]);if(by)for(var r of by(e))kC.call(e,r)&&yy(t,r,e[r]);return t},xy=(t,e)=>YC(t,PC(e));function QC(t,e,r={}){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");let n=1/0,l=0;kB(e,(u,s)=>{const v=N5(t,u,r);v<n&&(l=s,n=v)});const h=TC(e.features[l]);return xy(vy({},h),{properties:xy(vy({},h.properties),{featureIndex:l,distanceToPoint:n})})}var wy=QC;class DC extends Error{constructor(e="The operation was aborted"){super(e),this.name="AbortError"}}function zC(t,e,{signal:r,edges:n}={}){let l,h=null;const u=n!=null&&n.includes("leading"),s=n==null||n.includes("trailing"),v=()=>{h!==null&&(t.apply(l,h),l=void 0,h=null)},w=()=>{s&&v(),C()};let I=null;const M=()=>{I!=null&&clearTimeout(I),I=setTimeout(()=>{I=null,w()},e)},U=()=>{I!==null&&(clearTimeout(I),I=null)},C=()=>{U(),l=void 0,h=null},S=()=>{U(),v()},k=function(...z){if(r!=null&&r.aborted)return;l=this,h=z;const Z=I==null;M(),u&&Z&&v()};return k.schedule=M,k.cancel=C,k.flush=S,r==null||r.addEventListener("abort",C,{once:!0}),k}function ig(t,{signal:e}={}){return new Promise((r,n)=>{const l=()=>{n(new DC)},h=()=>{clearTimeout(u),l()};if(e!=null&&e.aborted)return l();const u=setTimeout(()=>{e==null||e.removeEventListener("abort",h),r()},t);e==null||e.addEventListener("abort",h,{once:!0})})}var k5={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.4.0/LICENSE.txt
 */(function(t,e){(function(r,n){t.exports=n()})(R5,function(){var r={},n={};function l(u,s,v){if(n[u]=v,u==="index"){var w="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",I={};return n.shared(I),n.index(r,I),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([w],{type:"text/javascript"}))),r}}l("shared",["exports"],function(u){function s(A,a,c,d){return new(c||(c=Promise))(function(m,y){function x(N){try{F(d.next(N))}catch(P){y(P)}}function R(N){try{F(d.throw(N))}catch(P){y(P)}}function F(N){var P;N.done?m(N.value):(P=N.value,P instanceof c?P:new c(function(D){D(P)})).then(x,R)}F((d=d.apply(A,a||[])).next())})}function v(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}var w,I;function M(){if(I)return w;function A(a,c){this.x=a,this.y=c}return I=1,w=A,A.prototype={clone:function(){return new A(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,c){return this.clone()._rotateAround(a,c)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var c=a.x-this.x,d=a.y-this.y;return c*c+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,c){return Math.atan2(this.x*c-this.y*a,this.x*a+this.y*c)},_matMult:function(a){var c=a[2]*this.x+a[3]*this.y;return this.x=a[0]*this.x+a[1]*this.y,this.y=c,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var c=Math.cos(a),d=Math.sin(a),m=d*this.x+c*this.y;return this.x=c*this.x-d*this.y,this.y=m,this},_rotateAround:function(a,c){var d=Math.cos(a),m=Math.sin(a),y=c.y+m*(this.x-c.x)+d*(this.y-c.y);return this.x=c.x+d*(this.x-c.x)-m*(this.y-c.y),this.y=y,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},A.convert=function(a){return a instanceof A?a:Array.isArray(a)?new A(a[0],a[1]):a},w}typeof SuppressedError=="function"&&SuppressedError;var U,C,S=v(M()),k=function(){if(C)return U;function A(a,c,d,m){this.cx=3*a,this.bx=3*(d-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(m-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=c,this.p2x=d,this.p2y=m}return C=1,U=A,A.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,c){if(c===void 0&&(c=1e-6),a<0)return 0;if(a>1)return 1;for(var d=a,m=0;m<8;m++){var y=this.sampleCurveX(d)-a;if(Math.abs(y)<c)return d;var x=this.sampleCurveDerivativeX(d);if(Math.abs(x)<1e-6)break;d-=y/x}var R=0,F=1;for(d=a,m=0;m<20&&(y=this.sampleCurveX(d),!(Math.abs(y-a)<c));m++)a>y?R=d:F=d,d=.5*(F-R)+R;return d},solve:function(a,c){return this.sampleCurveY(this.solveCurveX(a,c))}},U}(),z=v(k);let Z,G;function se(){return Z==null&&(Z=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Z}function re(){if(G==null&&(G=!1,se())){const a=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(a){for(let d=0;d<5*5;d++){const m=4*d;a.fillStyle=`rgb(${m},${m+1},${m+2})`,a.fillRect(d%5,Math.floor(d/5),1,1)}const c=a.getImageData(0,0,5,5).data;for(let d=0;d<5*5*4;d++)if(d%4!=3&&c[d]!==d){G=!0;break}}}return G||!1}var Ae=1e-6,J=typeof Float32Array<"u"?Float32Array:Array;function te(){var A=new J(9);return J!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[5]=0,A[6]=0,A[7]=0),A[0]=1,A[4]=1,A[8]=1,A}function X(A){return A[0]=1,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=1,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=1,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}function W(){var A=new J(3);return J!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0),A}function he(A){return Math.hypot(A[0],A[1],A[2])}function ue(A,a,c){var d=new J(3);return d[0]=A,d[1]=a,d[2]=c,d}Math.hypot||(Math.hypot=function(){for(var A=0,a=arguments.length;a--;)A+=arguments[a]*arguments[a];return Math.sqrt(A)});var _e,xe=he;function He(A,a,c){var d=a[0],m=a[1],y=a[2],x=a[3];return A[0]=c[0]*d+c[4]*m+c[8]*y+c[12]*x,A[1]=c[1]*d+c[5]*m+c[9]*y+c[13]*x,A[2]=c[2]*d+c[6]*m+c[10]*y+c[14]*x,A[3]=c[3]*d+c[7]*m+c[11]*y+c[15]*x,A}function Ve(){var A=new J(4);return J!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0),A[3]=1,A}function Ke(){var A=new J(2);return J!=Float32Array&&(A[0]=0,A[1]=0),A}function ot(A,a){var c=new J(2);return c[0]=A,c[1]=a,c}W(),_e=new J(4),J!=Float32Array&&(_e[0]=0,_e[1]=0,_e[2]=0,_e[3]=0),W(),ue(1,0,0),ue(0,1,0),Ve(),Ve(),te(),Ke();const it=8192;function pt(A,a,c){return a*(it/(A.tileSize*Math.pow(2,c-A.tileID.overscaledZ)))}function Ut(A,a){return(A%a+a)%a}function ct(A,a,c){return A*(1-c)+a*c}function mt(A){if(A<=0)return 0;if(A>=1)return 1;const a=A*A,c=a*A;return 4*(A<.5?c:3*(A-a)+c-.75)}function De(A,a,c,d){const m=new z(A,a,c,d);return y=>m.solve(y)}const $e=De(.25,.1,.25,1);function st(A,a,c){return Math.min(c,Math.max(a,A))}function xt(A,a,c){const d=c-a,m=((A-a)%d+d)%d+a;return m===a?c:m}function Et(A,...a){for(const c of a)for(const d in c)A[d]=c[d];return A}let lt=1;function Zt(A,a,c){const d={};for(const m in A)d[m]=a.call(this,A[m],m,A);return d}function Rt(A,a,c){const d={};for(const m in A)a.call(this,A[m],m,A)&&(d[m]=A[m]);return d}function Mt(A){return Array.isArray(A)?A.map(Mt):typeof A=="object"&&A?Zt(A,Mt):A}const Ht={};function ur(A){Ht[A]||(typeof console<"u"&&console.warn(A),Ht[A]=!0)}function St(A,a,c){return(c.y-A.y)*(a.x-A.x)>(a.y-A.y)*(c.x-A.x)}function Ot(A){return typeof WorkerGlobalScope<"u"&&A!==void 0&&A instanceof WorkerGlobalScope}let Jt=null;function fr(A){return typeof ImageBitmap<"u"&&A instanceof ImageBitmap}const jt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Br(A,a,c,d,m){return s(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const y=new VideoFrame(A,{timestamp:0});try{const x=y==null?void 0:y.format;if(!x||!x.startsWith("BGR")&&!x.startsWith("RGB"))throw new Error(`Unrecognized format ${x}`);const R=x.startsWith("BGR"),F=new Uint8ClampedArray(d*m*4);if(yield y.copyTo(F,function(N,P,D,j,$){const q=4*Math.max(1,0),ae=(Math.max(0,D)-D)*j*4+q,fe=4*j,ye=Math.max(0,P),Le=Math.max(0,D);return{rect:{x:ye,y:Le,width:Math.min(N.width,P+j)-ye,height:Math.min(N.height,D+$)-Le},layout:[{offset:ae,stride:fe}]}}(A,a,c,d,m)),R)for(let N=0;N<F.length;N+=4){const P=F[N];F[N]=F[N+2],F[N+2]=P}return F}finally{y.close()}})}let Hr,ei;function Yr(A,a,c,d){return A.addEventListener(a,c,d),{unsubscribe:()=>{A.removeEventListener(a,c,d)}}}function wt(A){return A/Math.PI*180}const Ar={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},Gr={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},xr="AbortError";function Nr(){return new Error(xr)}const Ir={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Zi(A){return Ir.REGISTERED_PROTOCOLS[A.substring(0,A.indexOf("://"))]}const Yi="global-dispatcher";class Wi extends Error{constructor(a,c,d,m){super(`AJAXError: ${c} (${a}): ${d}`),this.status=a,this.statusText=c,this.url=d,this.body=m}}const Ai=()=>Ot(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,li=function(A,a){if(/:\/\//.test(A.url)&&!/^https?:|^file:/.test(A.url)){const d=Zi(A.url);if(d)return d(A,a);if(Ot(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:A,targetMapId:Yi},a)}if(!(/^file:/.test(c=A.url)||/^file:/.test(Ai())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(d,m){return s(this,void 0,void 0,function*(){const y=new Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,cache:d.cache,referrer:Ai(),signal:m.signal});let x,R;d.type!=="json"||y.headers.has("Accept")||y.headers.set("Accept","application/json");try{x=yield fetch(y)}catch(N){throw new Wi(0,N.message,d.url,new Blob)}if(!x.ok){const N=yield x.blob();throw new Wi(x.status,x.statusText,d.url,N)}R=d.type==="arrayBuffer"||d.type==="image"?x.arrayBuffer():d.type==="json"?x.json():x.text();const F=yield R;if(m.signal.aborted)throw Nr();return{data:F,cacheControl:x.headers.get("Cache-Control"),expires:x.headers.get("Expires")}})}(A,a);if(Ot(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:A,mustQueue:!0,targetMapId:Yi},a)}var c;return function(d,m){return new Promise((y,x)=>{var R;const F=new XMLHttpRequest;F.open(d.method||"GET",d.url,!0),d.type!=="arrayBuffer"&&d.type!=="image"||(F.responseType="arraybuffer");for(const N in d.headers)F.setRequestHeader(N,d.headers[N]);d.type==="json"&&(F.responseType="text",!((R=d.headers)===null||R===void 0)&&R.Accept||F.setRequestHeader("Accept","application/json")),F.withCredentials=d.credentials==="include",F.onerror=()=>{x(new Error(F.statusText))},F.onload=()=>{if(!m.signal.aborted)if((F.status>=200&&F.status<300||F.status===0)&&F.response!==null){let N=F.response;if(d.type==="json")try{N=JSON.parse(F.response)}catch(P){return void x(P)}y({data:N,cacheControl:F.getResponseHeader("Cache-Control"),expires:F.getResponseHeader("Expires")})}else{const N=new Blob([F.response],{type:F.getResponseHeader("Content-Type")});x(new Wi(F.status,F.statusText,d.url,N))}},m.signal.addEventListener("abort",()=>{F.abort(),x(Nr())}),F.send(d.body)})}(A,a)};function Mi(A){if(!A||A.indexOf("://")<=0||A.indexOf("data:image/")===0||A.indexOf("blob:")===0)return!0;const a=new URL(A),c=window.location;return a.protocol===c.protocol&&a.host===c.host}function Oe(A,a,c){c[A]&&c[A].indexOf(a)!==-1||(c[A]=c[A]||[],c[A].push(a))}function ne(A,a,c){if(c&&c[A]){const d=c[A].indexOf(a);d!==-1&&c[A].splice(d,1)}}class oe{constructor(a,c={}){Et(this,c),this.type=a}}class ge extends oe{constructor(a,c={}){super("error",Et({error:a},c))}}class we{on(a,c){return this._listeners=this._listeners||{},Oe(a,c,this._listeners),{unsubscribe:()=>{this.off(a,c)}}}off(a,c){return ne(a,c,this._listeners),ne(a,c,this._oneTimeListeners),this}once(a,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Oe(a,c,this._oneTimeListeners),this):new Promise(d=>this.once(a,d))}fire(a,c){typeof a=="string"&&(a=new oe(a,c||{}));const d=a.type;if(this.listens(d)){a.target=this;const m=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const R of m)R.call(this,a);const y=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const R of y)ne(d,R,this._oneTimeListeners),R.call(this,a);const x=this._eventedParent;x&&(Et(a,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),x.fire(a))}else a instanceof ge&&console.error(a.error);return this}listens(a){return this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a)}setEventedParent(a,c){return this._eventedParent=a,this._eventedParentData=c,this}}var ce={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const ze=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function qe(A,a){const c={};for(const d in A)d!=="ref"&&(c[d]=A[d]);return ze.forEach(d=>{d in a&&(c[d]=a[d])}),c}function Fe(A,a){if(Array.isArray(A)){if(!Array.isArray(a)||A.length!==a.length)return!1;for(let c=0;c<A.length;c++)if(!Fe(A[c],a[c]))return!1;return!0}if(typeof A=="object"&&A!==null&&a!==null){if(typeof a!="object"||Object.keys(A).length!==Object.keys(a).length)return!1;for(const c in A)if(!Fe(A[c],a[c]))return!1;return!0}return A===a}function tt(A,a){A.push(a)}function Ne(A,a,c){tt(c,{command:"addSource",args:[A,a[A]]})}function le(A,a,c){tt(a,{command:"removeSource",args:[A]}),c[A]=!0}function Ye(A,a,c,d){le(A,c,d),Ne(A,a,c)}function Te(A,a,c){let d;for(d in A[c])if(Object.prototype.hasOwnProperty.call(A[c],d)&&d!=="data"&&!Fe(A[c][d],a[c][d]))return!1;for(d in a[c])if(Object.prototype.hasOwnProperty.call(a[c],d)&&d!=="data"&&!Fe(A[c][d],a[c][d]))return!1;return!0}function Ge(A,a,c,d,m,y){A=A||{},a=a||{};for(const x in A)Object.prototype.hasOwnProperty.call(A,x)&&(Fe(A[x],a[x])||c.push({command:y,args:[d,x,a[x],m]}));for(const x in a)Object.prototype.hasOwnProperty.call(a,x)&&!Object.prototype.hasOwnProperty.call(A,x)&&(Fe(A[x],a[x])||c.push({command:y,args:[d,x,a[x],m]}))}function ft(A){return A.id}function Ct(A,a){return A[a.id]=a,A}class je{constructor(a,c,d,m){this.message=(a?`${a}: `:"")+d,m&&(this.identifier=m),c!=null&&c.__line__&&(this.line=c.__line__)}}function bt(A,...a){for(const c of a)for(const d in c)A[d]=c[d];return A}class tr extends Error{constructor(a,c){super(c),this.message=c,this.key=a}}class ir{constructor(a,c=[]){this.parent=a,this.bindings={};for(const[d,m]of c)this.bindings[d]=m}concat(a){return new ir(this,a)}get(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(`${a} not found in scope.`)}has(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)}}const lr={kind:"null"},rt={kind:"number"},Yt={kind:"string"},Vt={kind:"boolean"},ii={kind:"color"},ci={kind:"projectionDefinition"},Cr={kind:"object"},qt={kind:"value"},En={kind:"collator"},Kt={kind:"formatted"},Ze={kind:"padding"},Nt={kind:"resolvedImage"},hr={kind:"variableAnchorOffsetCollection"};function Er(A,a){return{kind:"array",itemType:A,N:a}}function Fr(A){if(A.kind==="array"){const a=Fr(A.itemType);return typeof A.N=="number"?`array<${a}, ${A.N}>`:A.itemType.kind==="value"?"array":`array<${a}>`}return A.kind}const Xr=[lr,rt,Yt,Vt,ii,ci,Kt,Cr,Er(qt),Ze,Nt,hr];function Ji(A,a){if(a.kind==="error")return null;if(A.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!Ji(A.itemType,a.itemType))&&(typeof A.N!="number"||A.N===a.N))return null}else{if(A.kind===a.kind)return null;if(A.kind==="value"){for(const c of Xr)if(!Ji(c,a))return null}}return`Expected ${Fr(A)} but found ${Fr(a)} instead.`}function Qa(A,a){return a.some(c=>c.kind===A.kind)}function wa(A,a){return a.some(c=>c==="null"?A===null:c==="array"?Array.isArray(A):c==="object"?A&&!Array.isArray(A)&&typeof A=="object":c===typeof A)}function Pi(A,a){return A.kind==="array"&&a.kind==="array"?A.itemType.kind===a.itemType.kind&&typeof A.N=="number":A.kind===a.kind}const tA=.96422,rA=.82521,ah=4/29,tl=6/29,nh=3*tl*tl,Lp=tl*tl*tl,kp=Math.PI/180,Qp=180/Math.PI;function V0(A){return(A%=360)<0&&(A+=360),A}function G0([A,a,c,d]){let m,y;const x=oh((.2225045*(A=sh(A))+.7168786*(a=sh(a))+.0606169*(c=sh(c)))/1);A===a&&a===c?m=y=x:(m=oh((.4360747*A+.3850649*a+.1430804*c)/tA),y=oh((.0139322*A+.0971045*a+.7141733*c)/rA));const R=116*x-16;return[R<0?0:R,500*(m-x),200*(x-y),d]}function sh(A){return A<=.04045?A/12.92:Math.pow((A+.055)/1.055,2.4)}function oh(A){return A>Lp?Math.pow(A,1/3):A/nh+ah}function lh([A,a,c,d]){let m=(A+16)/116,y=isNaN(a)?m:m+a/500,x=isNaN(c)?m:m-c/200;return m=1*Ah(m),y=tA*Ah(y),x=rA*Ah(x),[bo(3.1338561*y-1.6168667*m-.4906146*x),bo(-.9787684*y+1.9161415*m+.033454*x),bo(.0719453*y-.2289914*m+1.4052427*x),d]}function bo(A){return(A=A<=.00304?12.92*A:1.055*Math.pow(A,1/2.4)-.055)<0?0:A>1?1:A}function Ah(A){return A>tl?A*A*A:nh*(A-ah)}function Ac(A){return parseInt(A.padEnd(2,A),16)/255}function rl(A,a){return il(a?A/100:A,0,1)}function il(A,a,c){return Math.min(Math.max(a,A),c)}function j0(A){return!A.some(Number.isNaN)}const Dp={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function _s(A,a,c){return A+c*(a-A)}function al(A,a,c){return A.map((d,m)=>_s(d,a[m],c))}class Tr{constructor(a,c,d,m=1,y=!0){this.r=a,this.g=c,this.b=d,this.a=m,y||(this.r*=m,this.g*=m,this.b*=m,m||this.overwriteGetter("rgb",[a,c,d,m]))}static parse(a){if(a instanceof Tr)return a;if(typeof a!="string")return;const c=function(d){if((d=d.toLowerCase().trim())==="transparent")return[0,0,0,0];const m=Dp[d];if(m){const[x,R,F]=m;return[x/255,R/255,F/255,1]}if(d.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(d)){const x=d.length<6?1:2;let R=1;return[Ac(d.slice(R,R+=x)),Ac(d.slice(R,R+=x)),Ac(d.slice(R,R+=x)),Ac(d.slice(R,R+x)||"ff")]}if(d.startsWith("rgb")){const x=d.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){const[R,F,N,P,D,j,$,q,ae,fe,ye,Le]=x,Me=[P||" ",$||" ",fe].join("");if(Me==="  "||Me==="  /"||Me===",,"||Me===",,,"){const K=[N,j,ae].join(""),de=K==="%%%"?100:K===""?255:0;if(de){const Re=[il(+F/de,0,1),il(+D/de,0,1),il(+q/de,0,1),ye?rl(+ye,Le):1];if(j0(Re))return Re}}return}}const y=d.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(y){const[x,R,F,N,P,D,j,$,q]=y,ae=[F||" ",P||" ",j].join("");if(ae==="  "||ae==="  /"||ae===",,"||ae===",,,"){const fe=[+R,il(+N,0,100),il(+D,0,100),$?rl(+$,q):1];if(j0(fe))return function([ye,Le,Me,K]){function de(Re){const Je=(Re+ye/30)%12,vt=Le*Math.min(Me,1-Me);return Me-vt*Math.max(-1,Math.min(Je-3,9-Je,1))}return ye=V0(ye),Le/=100,Me/=100,[de(0),de(8),de(4),K]}(fe)}}}(a);return c?new Tr(...c,!1):void 0}get rgb(){const{r:a,g:c,b:d,a:m}=this,y=m||1/0;return this.overwriteGetter("rgb",[a/y,c/y,d/y,m])}get hcl(){return this.overwriteGetter("hcl",function(a){const[c,d,m,y]=G0(a),x=Math.sqrt(d*d+m*m);return[Math.round(1e4*x)?V0(Math.atan2(m,d)*Qp):NaN,x,c,y]}(this.rgb))}get lab(){return this.overwriteGetter("lab",G0(this.rgb))}overwriteGetter(a,c){return Object.defineProperty(this,a,{value:c}),c}toString(){const[a,c,d,m]=this.rgb;return`rgba(${[a,c,d].map(y=>Math.round(255*y)).join(",")},${m})`}static interpolate(a,c,d,m="rgb"){switch(m){case"rgb":{const[y,x,R,F]=al(a.rgb,c.rgb,d);return new Tr(y,x,R,F,!1)}case"hcl":{const[y,x,R,F]=a.hcl,[N,P,D,j]=c.hcl;let $,q;if(isNaN(y)||isNaN(N))isNaN(y)?isNaN(N)?$=NaN:($=N,R!==1&&R!==0||(q=P)):($=y,D!==1&&D!==0||(q=x));else{let Me=N-y;N>y&&Me>180?Me-=360:N<y&&y-N>180&&(Me+=360),$=y+d*Me}const[ae,fe,ye,Le]=function([Me,K,de,Re]){return Me=isNaN(Me)?0:Me*kp,lh([de,Math.cos(Me)*K,Math.sin(Me)*K,Re])}([$,q??_s(x,P,d),_s(R,D,d),_s(F,j,d)]);return new Tr(ae,fe,ye,Le,!1)}case"lab":{const[y,x,R,F]=lh(al(a.lab,c.lab,d));return new Tr(y,x,R,F,!1)}}}}Tr.black=new Tr(0,0,0,1),Tr.white=new Tr(1,1,1,1),Tr.transparent=new Tr(0,0,0,0),Tr.red=new Tr(1,0,0,1);class Zr{constructor(a,c,d){this.sensitivity=a?c?"variant":"case":c?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(a,c){return this.collator.compare(a,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const nl=["bottom","center","top"];class $n{constructor(a,c,d,m,y,x){this.text=a,this.image=c,this.scale=d,this.fontStack=m,this.textColor=y,this.verticalAlign=x}}class Va{constructor(a){this.sections=a}static fromString(a){return new Va([new $n(a,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(a=>a.text.length!==0||a.image&&a.image.name.length!==0)}static factory(a){return a instanceof Va?a:Va.fromString(a)}toString(){return this.sections.length===0?"":this.sections.map(a=>a.text).join("")}}class Fa{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof Fa)return a;if(typeof a=="number")return new Fa([a,a,a,a]);if(Array.isArray(a)&&!(a.length<1||a.length>4)){for(const c of a)if(typeof c!="number")return;switch(a.length){case 1:a=[a[0],a[0],a[0],a[0]];break;case 2:a=[a[0],a[1],a[0],a[1]];break;case 3:a=[a[0],a[1],a[2],a[1]]}return new Fa(a)}}toString(){return JSON.stringify(this.values)}static interpolate(a,c,d){return new Fa(al(a.values,c.values,d))}}class Li{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}}const iA=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ba{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof Ba)return a;if(Array.isArray(a)&&!(a.length<1)&&a.length%2==0){for(let c=0;c<a.length;c+=2){const d=a[c],m=a[c+1];if(typeof d!="string"||!iA.has(d)||!Array.isArray(m)||m.length!==2||typeof m[0]!="number"||typeof m[1]!="number")return}return new Ba(a)}}toString(){return JSON.stringify(this.values)}static interpolate(a,c,d){const m=a.values,y=c.values;if(m.length!==y.length)throw new Li(`Cannot interpolate values of different length. from: ${a.toString()}, to: ${c.toString()}`);const x=[];for(let R=0;R<m.length;R+=2){if(m[R]!==y[R])throw new Li(`Cannot interpolate values containing mismatched anchors. from[${R}]: ${m[R]}, to[${R}]: ${y[R]}`);x.push(m[R]);const[F,N]=m[R+1],[P,D]=y[R+1];x.push([_s(F,P,d),_s(N,D,d)])}return new Ba(x)}}class rn{constructor(a){this.name=a.name,this.available=a.available}toString(){return this.name}static fromString(a){return a?new rn({name:a,available:!1}):null}}class Da{constructor(a,c,d){this.from=a,this.to=c,this.transition=d}static interpolate(a,c,d){return new Da(a,c,d)}static parse(a){return a instanceof Da?a:Array.isArray(a)&&a.length===3&&typeof a[0]=="string"&&typeof a[1]=="string"&&typeof a[2]=="number"?new Da(a[0],a[1],a[2]):typeof a=="object"&&typeof a.from=="string"&&typeof a.to=="string"&&typeof a.transition=="number"?new Da(a.from,a.to,a.transition):typeof a=="string"?new Da(a,a,1):void 0}}function Gs(A,a,c,d){return typeof A=="number"&&A>=0&&A<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof c=="number"&&c>=0&&c<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[A,a,c,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[A,a,c,d]:[A,a,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function aA(A){if(A===null||typeof A=="string"||typeof A=="boolean"||typeof A=="number"||A instanceof Da||A instanceof Tr||A instanceof Zr||A instanceof Va||A instanceof Fa||A instanceof Ba||A instanceof rn)return!0;if(Array.isArray(A)){for(const a of A)if(!aA(a))return!1;return!0}if(typeof A=="object"){for(const a in A)if(!aA(A[a]))return!1;return!0}return!1}function ki(A){if(A===null)return lr;if(typeof A=="string")return Yt;if(typeof A=="boolean")return Vt;if(typeof A=="number")return rt;if(A instanceof Tr)return ii;if(A instanceof Da)return ci;if(A instanceof Zr)return En;if(A instanceof Va)return Kt;if(A instanceof Fa)return Ze;if(A instanceof Ba)return hr;if(A instanceof rn)return Nt;if(Array.isArray(A)){const a=A.length;let c;for(const d of A){const m=ki(d);if(c){if(c===m)continue;c=qt;break}c=m}return Er(c||qt,a)}return Cr}function qn(A){const a=typeof A;return A===null?"":a==="string"||a==="number"||a==="boolean"?String(A):A instanceof Tr||A instanceof Da||A instanceof Va||A instanceof Fa||A instanceof Ba||A instanceof rn?A.toString():JSON.stringify(A)}class js{constructor(a,c){this.type=a,this.value=c}static parse(a,c){if(a.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${a.length-1} instead.`);if(!aA(a[1]))return c.error("invalid value");const d=a[1];let m=ki(d);const y=c.expectedType;return m.kind!=="array"||m.N!==0||!y||y.kind!=="array"||typeof y.N=="number"&&y.N!==0||(m=y),new js(m,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const nA={string:Yt,number:rt,boolean:Vt,object:Cr};class _n{constructor(a,c){this.type=a,this.args=c}static parse(a,c){if(a.length<2)return c.error("Expected at least one argument.");let d,m=1;const y=a[0];if(y==="array"){let R,F;if(a.length>2){const N=a[1];if(typeof N!="string"||!(N in nA)||N==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);R=nA[N],m++}else R=qt;if(a.length>3){if(a[2]!==null&&(typeof a[2]!="number"||a[2]<0||a[2]!==Math.floor(a[2])))return c.error('The length argument to "array" must be a positive integer literal',2);F=a[2],m++}d=Er(R,F)}else{if(!nA[y])throw new Error(`Types doesn't contain name = ${y}`);d=nA[y]}const x=[];for(;m<a.length;m++){const R=c.parse(a[m],m,qt);if(!R)return null;x.push(R)}return new _n(d,x)}evaluate(a){for(let c=0;c<this.args.length;c++){const d=this.args[c].evaluate(a);if(!Ji(this.type,ki(d)))return d;if(c===this.args.length-1)throw new Li(`Expected value to be of type ${Fr(this.type)}, but found ${Fr(ki(d))} instead.`)}throw new Error}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}const sA={"to-boolean":Vt,"to-color":ii,"to-number":rt,"to-string":Yt};class ti{constructor(a,c){this.type=a,this.args=c}static parse(a,c){if(a.length<2)return c.error("Expected at least one argument.");const d=a[0];if(!sA[d])throw new Error(`Can't parse ${d} as it is not part of the known types`);if((d==="to-boolean"||d==="to-string")&&a.length!==2)return c.error("Expected one argument.");const m=sA[d],y=[];for(let x=1;x<a.length;x++){const R=c.parse(a[x],x,qt);if(!R)return null;y.push(R)}return new ti(m,y)}evaluate(a){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(a);case"color":{let c,d;for(const m of this.args){if(c=m.evaluate(a),d=null,c instanceof Tr)return c;if(typeof c=="string"){const y=a.parseColor(c);if(y)return y}else if(Array.isArray(c)&&(d=c.length<3||c.length>4?`Invalid rgba value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:Gs(c[0],c[1],c[2],c[3]),!d))return new Tr(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Li(d||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(const d of this.args){c=d.evaluate(a);const m=Fa.parse(c);if(m)return m}throw new Li(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(const d of this.args){c=d.evaluate(a);const m=Ba.parse(c);if(m)return m}throw new Li(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(const d of this.args){if(c=d.evaluate(a),c===null)return 0;const m=Number(c);if(!isNaN(m))return m}throw new Li(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return Va.fromString(qn(this.args[0].evaluate(a)));case"resolvedImage":return rn.fromString(qn(this.args[0].evaluate(a)));case"projectionDefinition":return this.args[0].evaluate(a);default:return qn(this.args[0].evaluate(a))}}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}const ch=["Unknown","Point","LineString","Polygon"];class jr{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?ch[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(a){let c=this._parseColorCache[a];return c||(c=this._parseColorCache[a]=Tr.parse(a)),c}}class Rr{constructor(a,c,d=[],m,y=new ir,x=[]){this.registry=a,this.path=d,this.key=d.map(R=>`[${R}]`).join(""),this.scope=y,this.errors=x,this.expectedType=m,this._isConstant=c}parse(a,c,d,m,y={}){return c?this.concat(c,d,m)._parse(a,y):this._parse(a,y)}_parse(a,c){function d(m,y,x){return x==="assert"?new _n(y,[m]):x==="coerce"?new ti(y,[m]):m}if(a!==null&&typeof a!="string"&&typeof a!="boolean"&&typeof a!="number"||(a=["literal",a]),Array.isArray(a)){if(a.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=a[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const y=this.registry[m];if(y){let x=y.parse(a,this);if(!x)return null;if(this.expectedType){const R=this.expectedType,F=x.type;if(R.kind!=="string"&&R.kind!=="number"&&R.kind!=="boolean"&&R.kind!=="object"&&R.kind!=="array"||F.kind!=="value")if(R.kind!=="projectionDefinition"||F.kind!=="string"&&F.kind!=="array")if(R.kind!=="color"&&R.kind!=="formatted"&&R.kind!=="resolvedImage"||F.kind!=="value"&&F.kind!=="string")if(R.kind!=="padding"||F.kind!=="value"&&F.kind!=="number"&&F.kind!=="array")if(R.kind!=="variableAnchorOffsetCollection"||F.kind!=="value"&&F.kind!=="array"){if(this.checkSubtype(R,F))return null}else x=d(x,R,c.typeAnnotation||"coerce");else x=d(x,R,c.typeAnnotation||"coerce");else x=d(x,R,c.typeAnnotation||"coerce");else x=d(x,R,c.typeAnnotation||"coerce");else x=d(x,R,c.typeAnnotation||"assert")}if(!(x instanceof js)&&x.type.kind!=="resolvedImage"&&this._isConstant(x)){const R=new jr;try{x=new js(x.type,x.evaluate(R))}catch(F){return this.error(F.message),null}}return x}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(a===void 0?"'undefined' value invalid. Use null instead.":typeof a=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof a} instead.`)}concat(a,c,d){const m=typeof a=="number"?this.path.concat(a):this.path,y=d?this.scope.concat(d):this.scope;return new Rr(this.registry,this._isConstant,m,c||null,y,this.errors)}error(a,...c){const d=`${this.key}${c.map(m=>`[${m}]`).join("")}`;this.errors.push(new tr(d,a))}checkSubtype(a,c){const d=Ji(a,c);return d&&this.error(d),d}}class sl{constructor(a,c){this.type=c.type,this.bindings=[].concat(a),this.result=c}evaluate(a){return this.result.evaluate(a)}eachChild(a){for(const c of this.bindings)a(c[1]);a(this.result)}static parse(a,c){if(a.length<4)return c.error(`Expected at least 3 arguments, but found ${a.length-1} instead.`);const d=[];for(let y=1;y<a.length-1;y+=2){const x=a[y];if(typeof x!="string")return c.error(`Expected string, but found ${typeof x} instead.`,y);if(/[^a-zA-Z0-9_]/.test(x))return c.error("Variable names must contain only alphanumeric characters or '_'.",y);const R=c.parse(a[y+1],y+1);if(!R)return null;d.push([x,R])}const m=c.parse(a[a.length-1],a.length-1,c.expectedType,d);return m?new sl(d,m):null}outputDefined(){return this.result.outputDefined()}}class Or{constructor(a,c){this.type=c.type,this.name=a,this.boundExpression=c}static parse(a,c){if(a.length!==2||typeof a[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const d=a[1];return c.scope.has(d)?new Or(d,c.scope.get(d)):c.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(a){return this.boundExpression.evaluate(a)}eachChild(){}outputDefined(){return!1}}class oA{constructor(a,c,d){this.type=a,this.index=c,this.input=d}static parse(a,c){if(a.length!==3)return c.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const d=c.parse(a[1],1,rt),m=c.parse(a[2],2,Er(c.expectedType||qt));return d&&m?new oA(m.type.itemType,d,m):null}evaluate(a){const c=this.index.evaluate(a),d=this.input.evaluate(a);if(c<0)throw new Li(`Array index out of bounds: ${c} < 0.`);if(c>=d.length)throw new Li(`Array index out of bounds: ${c} > ${d.length-1}.`);if(c!==Math.floor(c))throw new Li(`Array index must be an integer, but found ${c} instead.`);return d[c]}eachChild(a){a(this.index),a(this.input)}outputDefined(){return!1}}class Fn{constructor(a,c){this.type=Vt,this.needle=a,this.haystack=c}static parse(a,c){if(a.length!==3)return c.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const d=c.parse(a[1],1,qt),m=c.parse(a[2],2,qt);return d&&m?Qa(d.type,[Vt,Yt,rt,lr,qt])?new Fn(d,m):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${Fr(d.type)} instead`):null}evaluate(a){const c=this.needle.evaluate(a),d=this.haystack.evaluate(a);if(!d)return!1;if(!wa(c,["boolean","string","number","null"]))throw new Li(`Expected first argument to be of type boolean, string, number or null, but found ${Fr(ki(c))} instead.`);if(!wa(d,["string","array"]))throw new Li(`Expected second argument to be of type array or string, but found ${Fr(ki(d))} instead.`);return d.indexOf(c)>=0}eachChild(a){a(this.needle),a(this.haystack)}outputDefined(){return!0}}class ol{constructor(a,c,d){this.type=rt,this.needle=a,this.haystack=c,this.fromIndex=d}static parse(a,c){if(a.length<=2||a.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const d=c.parse(a[1],1,qt),m=c.parse(a[2],2,qt);if(!d||!m)return null;if(!Qa(d.type,[Vt,Yt,rt,lr,qt]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${Fr(d.type)} instead`);if(a.length===4){const y=c.parse(a[3],3,rt);return y?new ol(d,m,y):null}return new ol(d,m)}evaluate(a){const c=this.needle.evaluate(a),d=this.haystack.evaluate(a);if(!wa(c,["boolean","string","number","null"]))throw new Li(`Expected first argument to be of type boolean, string, number or null, but found ${Fr(ki(c))} instead.`);let m;if(this.fromIndex&&(m=this.fromIndex.evaluate(a)),wa(d,["string"])){const y=d.indexOf(c,m);return y===-1?-1:[...d.slice(0,y)].length}if(wa(d,["array"]))return d.indexOf(c,m);throw new Li(`Expected second argument to be of type array or string, but found ${Fr(ki(d))} instead.`)}eachChild(a){a(this.needle),a(this.haystack),this.fromIndex&&a(this.fromIndex)}outputDefined(){return!1}}class cc{constructor(a,c,d,m,y,x){this.inputType=a,this.type=c,this.input=d,this.cases=m,this.outputs=y,this.otherwise=x}static parse(a,c){if(a.length<5)return c.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if(a.length%2!=1)return c.error("Expected an even number of arguments.");let d,m;c.expectedType&&c.expectedType.kind!=="value"&&(m=c.expectedType);const y={},x=[];for(let N=2;N<a.length-1;N+=2){let P=a[N];const D=a[N+1];Array.isArray(P)||(P=[P]);const j=c.concat(N);if(P.length===0)return j.error("Expected at least one branch label.");for(const q of P){if(typeof q!="number"&&typeof q!="string")return j.error("Branch labels must be numbers or strings.");if(typeof q=="number"&&Math.abs(q)>Number.MAX_SAFE_INTEGER)return j.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof q=="number"&&Math.floor(q)!==q)return j.error("Numeric branch labels must be integer values.");if(d){if(j.checkSubtype(d,ki(q)))return null}else d=ki(q);if(y[String(q)]!==void 0)return j.error("Branch labels must be unique.");y[String(q)]=x.length}const $=c.parse(D,N,m);if(!$)return null;m=m||$.type,x.push($)}const R=c.parse(a[1],1,qt);if(!R)return null;const F=c.parse(a[a.length-1],a.length-1,m);return F?R.type.kind!=="value"&&c.concat(1).checkSubtype(d,R.type)?null:new cc(d,m,R,y,x,F):null}evaluate(a){const c=this.input.evaluate(a);return(ki(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(a)}eachChild(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)}outputDefined(){return this.outputs.every(a=>a.outputDefined())&&this.otherwise.outputDefined()}}class uc{constructor(a,c,d){this.type=a,this.branches=c,this.otherwise=d}static parse(a,c){if(a.length<4)return c.error(`Expected at least 3 arguments, but found only ${a.length-1}.`);if(a.length%2!=0)return c.error("Expected an odd number of arguments.");let d;c.expectedType&&c.expectedType.kind!=="value"&&(d=c.expectedType);const m=[];for(let x=1;x<a.length-1;x+=2){const R=c.parse(a[x],x,Vt);if(!R)return null;const F=c.parse(a[x+1],x+1,d);if(!F)return null;m.push([R,F]),d=d||F.type}const y=c.parse(a[a.length-1],a.length-1,d);if(!y)return null;if(!d)throw new Error("Can't infer output type");return new uc(d,m,y)}evaluate(a){for(const[c,d]of this.branches)if(c.evaluate(a))return d.evaluate(a);return this.otherwise.evaluate(a)}eachChild(a){for(const[c,d]of this.branches)a(c),a(d);a(this.otherwise)}outputDefined(){return this.branches.every(([a,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class ll{constructor(a,c,d,m){this.type=a,this.input=c,this.beginIndex=d,this.endIndex=m}static parse(a,c){if(a.length<=2||a.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const d=c.parse(a[1],1,qt),m=c.parse(a[2],2,rt);if(!d||!m)return null;if(!Qa(d.type,[Er(qt),Yt,qt]))return c.error(`Expected first argument to be of type array or string, but found ${Fr(d.type)} instead`);if(a.length===4){const y=c.parse(a[3],3,rt);return y?new ll(d.type,d,m,y):null}return new ll(d.type,d,m)}evaluate(a){const c=this.input.evaluate(a),d=this.beginIndex.evaluate(a);let m;if(this.endIndex&&(m=this.endIndex.evaluate(a)),wa(c,["string"]))return[...c].slice(d,m).join("");if(wa(c,["array"]))return c.slice(d,m);throw new Li(`Expected first argument to be of type array or string, but found ${Fr(ki(c))} instead.`)}eachChild(a){a(this.input),a(this.beginIndex),this.endIndex&&a(this.endIndex)}outputDefined(){return!1}}function lA(A,a){const c=A.length-1;let d,m,y=0,x=c,R=0;for(;y<=x;)if(R=Math.floor((y+x)/2),d=A[R],m=A[R+1],d<=a){if(R===c||a<m)return R;y=R+1}else{if(!(d>a))throw new Li("Input is not a number.");x=R-1}return 0}class AA{constructor(a,c,d){this.type=a,this.input=c,this.labels=[],this.outputs=[];for(const[m,y]of d)this.labels.push(m),this.outputs.push(y)}static parse(a,c){if(a.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return c.error("Expected an even number of arguments.");const d=c.parse(a[1],1,rt);if(!d)return null;const m=[];let y=null;c.expectedType&&c.expectedType.kind!=="value"&&(y=c.expectedType);for(let x=1;x<a.length;x+=2){const R=x===1?-1/0:a[x],F=a[x+1],N=x,P=x+1;if(typeof R!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',N);if(m.length&&m[m.length-1][0]>=R)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',N);const D=c.parse(F,P,y);if(!D)return null;y=y||D.type,m.push([R,D])}return new AA(y,d,m)}evaluate(a){const c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(a);const m=this.input.evaluate(a);if(m<=c[0])return d[0].evaluate(a);const y=c.length;return m>=c[y-1]?d[y-1].evaluate(a):d[lA(c,m)].evaluate(a)}eachChild(a){a(this.input);for(const c of this.outputs)a(c)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}}function K0(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}var hc,Al,Ta=function(){if(Al)return hc;function A(a,c,d,m){this.cx=3*a,this.bx=3*(d-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(m-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=c,this.p2x=d,this.p2y=m}return Al=1,hc=A,A.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,c){if(c===void 0&&(c=1e-6),a<0)return 0;if(a>1)return 1;for(var d=a,m=0;m<8;m++){var y=this.sampleCurveX(d)-a;if(Math.abs(y)<c)return d;var x=this.sampleCurveDerivativeX(d);if(Math.abs(x)<1e-6)break;d-=y/x}var R=0,F=1;for(d=a,m=0;m<20&&(y=this.sampleCurveX(d),!(Math.abs(y-a)<c));m++)a>y?R=d:F=d,d=.5*(F-R)+R;return d},solve:function(a,c){return this.sampleCurveY(this.solveCurveX(a,c))}},hc}(),dc=K0(Ta);class Ga{constructor(a,c,d,m,y){this.type=a,this.operator=c,this.interpolation=d,this.input=m,this.labels=[],this.outputs=[];for(const[x,R]of y)this.labels.push(x),this.outputs.push(R)}static interpolationFactor(a,c,d,m){let y=0;if(a.name==="exponential")y=cl(c,a.base,d,m);else if(a.name==="linear")y=cl(c,1,d,m);else if(a.name==="cubic-bezier"){const x=a.controlPoints;y=new dc(x[0],x[1],x[2],x[3]).solve(cl(c,1,d,m))}return y}static parse(a,c){let[d,m,y,...x]=a;if(!Array.isArray(m)||m.length===0)return c.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){const N=m[1];if(typeof N!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:N}}else{if(m[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const N=m.slice(1);if(N.length!==4||N.some(P=>typeof P!="number"||P<0||P>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:N}}}if(a.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(y=c.parse(y,2,rt),!y)return null;const R=[];let F=null;d==="interpolate-hcl"||d==="interpolate-lab"?F=ii:c.expectedType&&c.expectedType.kind!=="value"&&(F=c.expectedType);for(let N=0;N<x.length;N+=2){const P=x[N],D=x[N+1],j=N+3,$=N+4;if(typeof P!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',j);if(R.length&&R[R.length-1][0]>=P)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',j);const q=c.parse(D,$,F);if(!q)return null;F=F||q.type,R.push([P,q])}return Pi(F,rt)||Pi(F,ci)||Pi(F,ii)||Pi(F,Ze)||Pi(F,hr)||Pi(F,Er(rt))?new Ga(F,d,m,y,R):c.error(`Type ${Fr(F)} is not interpolatable.`)}evaluate(a){const c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(a);const m=this.input.evaluate(a);if(m<=c[0])return d[0].evaluate(a);const y=c.length;if(m>=c[y-1])return d[y-1].evaluate(a);const x=lA(c,m),R=Ga.interpolationFactor(this.interpolation,m,c[x],c[x+1]),F=d[x].evaluate(a),N=d[x+1].evaluate(a);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return _s(F,N,R);case"color":return Tr.interpolate(F,N,R);case"padding":return Fa.interpolate(F,N,R);case"variableAnchorOffsetCollection":return Ba.interpolate(F,N,R);case"array":return al(F,N,R);case"projectionDefinition":return Da.interpolate(F,N,R)}case"interpolate-hcl":return Tr.interpolate(F,N,R,"hcl");case"interpolate-lab":return Tr.interpolate(F,N,R,"lab")}}eachChild(a){a(this.input);for(const c of this.outputs)a(c)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}}function cl(A,a,c,d){const m=d-c,y=A-c;return m===0?0:a===1?y/m:(Math.pow(a,y)-1)/(Math.pow(a,m)-1)}const gi={color:Tr.interpolate,number:_s,padding:Fa.interpolate,variableAnchorOffsetCollection:Ba.interpolate,array:al};class cA{constructor(a,c){this.type=a,this.args=c}static parse(a,c){if(a.length<2)return c.error("Expected at least one argument.");let d=null;const m=c.expectedType;m&&m.kind!=="value"&&(d=m);const y=[];for(const R of a.slice(1)){const F=c.parse(R,1+y.length,d,void 0,{typeAnnotation:"omit"});if(!F)return null;d=d||F.type,y.push(F)}if(!d)throw new Error("No output type");const x=m&&y.some(R=>Ji(m,R.type));return new cA(x?qt:d,y)}evaluate(a){let c,d=null,m=0;for(const y of this.args)if(m++,d=y.evaluate(a),d&&d instanceof rn&&!d.available&&(c||(c=d.name),d=null,m===this.args.length&&(d=c)),d!==null)break;return d}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}function fc(A,a){return A==="=="||A==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function uh(A,a,c,d){return d.compare(a,c)===0}function ul(A,a,c){const d=A!=="=="&&A!=="!=";return class Q5{constructor(y,x,R){this.type=Vt,this.lhs=y,this.rhs=x,this.collator=R,this.hasUntypedArgument=y.type.kind==="value"||x.type.kind==="value"}static parse(y,x){if(y.length!==3&&y.length!==4)return x.error("Expected two or three arguments.");const R=y[0];let F=x.parse(y[1],1,qt);if(!F)return null;if(!fc(R,F.type))return x.concat(1).error(`"${R}" comparisons are not supported for type '${Fr(F.type)}'.`);let N=x.parse(y[2],2,qt);if(!N)return null;if(!fc(R,N.type))return x.concat(2).error(`"${R}" comparisons are not supported for type '${Fr(N.type)}'.`);if(F.type.kind!==N.type.kind&&F.type.kind!=="value"&&N.type.kind!=="value")return x.error(`Cannot compare types '${Fr(F.type)}' and '${Fr(N.type)}'.`);d&&(F.type.kind==="value"&&N.type.kind!=="value"?F=new _n(N.type,[F]):F.type.kind!=="value"&&N.type.kind==="value"&&(N=new _n(F.type,[N])));let P=null;if(y.length===4){if(F.type.kind!=="string"&&N.type.kind!=="string"&&F.type.kind!=="value"&&N.type.kind!=="value")return x.error("Cannot use collator to compare non-string types.");if(P=x.parse(y[3],3,En),!P)return null}return new Q5(F,N,P)}evaluate(y){const x=this.lhs.evaluate(y),R=this.rhs.evaluate(y);if(d&&this.hasUntypedArgument){const F=ki(x),N=ki(R);if(F.kind!==N.kind||F.kind!=="string"&&F.kind!=="number")throw new Li(`Expected arguments for "${A}" to be (string, string) or (number, number), but found (${F.kind}, ${N.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const F=ki(x),N=ki(R);if(F.kind!=="string"||N.kind!=="string")return a(y,x,R)}return this.collator?c(y,x,R,this.collator.evaluate(y)):a(y,x,R)}eachChild(y){y(this.lhs),y(this.rhs),this.collator&&y(this.collator)}outputDefined(){return!0}}}const gc=ul("==",function(A,a,c){return a===c},uh),hh=ul("!=",function(A,a,c){return a!==c},function(A,a,c,d){return!uh(0,a,c,d)}),zp=ul("<",function(A,a,c){return a<c},function(A,a,c,d){return d.compare(a,c)<0}),pc=ul(">",function(A,a,c){return a>c},function(A,a,c,d){return d.compare(a,c)>0}),mc=ul("<=",function(A,a,c){return a<=c},function(A,a,c,d){return d.compare(a,c)<=0}),Tn=ul(">=",function(A,a,c){return a>=c},function(A,a,c,d){return d.compare(a,c)>=0});class uA{constructor(a,c,d){this.type=En,this.locale=d,this.caseSensitive=a,this.diacriticSensitive=c}static parse(a,c){if(a.length!==2)return c.error("Expected one argument.");const d=a[1];if(typeof d!="object"||Array.isArray(d))return c.error("Collator options argument must be an object.");const m=c.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,Vt);if(!m)return null;const y=c.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,Vt);if(!y)return null;let x=null;return d.locale&&(x=c.parse(d.locale,1,Yt),!x)?null:new uA(m,y,x)}evaluate(a){return new Zr(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)}eachChild(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)}outputDefined(){return!1}}class hl{constructor(a,c,d,m,y){this.type=Yt,this.number=a,this.locale=c,this.currency=d,this.minFractionDigits=m,this.maxFractionDigits=y}static parse(a,c){if(a.length!==3)return c.error("Expected two arguments.");const d=c.parse(a[1],1,rt);if(!d)return null;const m=a[2];if(typeof m!="object"||Array.isArray(m))return c.error("NumberFormat options argument must be an object.");let y=null;if(m.locale&&(y=c.parse(m.locale,1,Yt),!y))return null;let x=null;if(m.currency&&(x=c.parse(m.currency,1,Yt),!x))return null;let R=null;if(m["min-fraction-digits"]&&(R=c.parse(m["min-fraction-digits"],1,rt),!R))return null;let F=null;return m["max-fraction-digits"]&&(F=c.parse(m["max-fraction-digits"],1,rt),!F)?null:new hl(d,y,x,R,F)}evaluate(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))}eachChild(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)}outputDefined(){return!1}}class _c{constructor(a){this.type=Kt,this.sections=a}static parse(a,c){if(a.length<2)return c.error("Expected at least one argument.");const d=a[1];if(!Array.isArray(d)&&typeof d=="object")return c.error("First argument must be an image or text section.");const m=[];let y=!1;for(let x=1;x<=a.length-1;++x){const R=a[x];if(y&&typeof R=="object"&&!Array.isArray(R)){y=!1;let F=null;if(R["font-scale"]&&(F=c.parse(R["font-scale"],1,rt),!F))return null;let N=null;if(R["text-font"]&&(N=c.parse(R["text-font"],1,Er(Yt)),!N))return null;let P=null;if(R["text-color"]&&(P=c.parse(R["text-color"],1,ii),!P))return null;let D=null;if(R["vertical-align"]){if(typeof R["vertical-align"]=="string"&&!nl.includes(R["vertical-align"]))return c.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${R["vertical-align"]}' instead.`);if(D=c.parse(R["vertical-align"],1,Yt),!D)return null}const j=m[m.length-1];j.scale=F,j.font=N,j.textColor=P,j.verticalAlign=D}else{const F=c.parse(a[x],1,qt);if(!F)return null;const N=F.type.kind;if(N!=="string"&&N!=="value"&&N!=="null"&&N!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");y=!0,m.push({content:F,scale:null,font:null,textColor:null,verticalAlign:null})}}return new _c(m)}evaluate(a){return new Va(this.sections.map(c=>{const d=c.content.evaluate(a);return ki(d)===Nt?new $n("",d,null,null,null,c.verticalAlign?c.verticalAlign.evaluate(a):null):new $n(qn(d),null,c.scale?c.scale.evaluate(a):null,c.font?c.font.evaluate(a).join(","):null,c.textColor?c.textColor.evaluate(a):null,c.verticalAlign?c.verticalAlign.evaluate(a):null)}))}eachChild(a){for(const c of this.sections)a(c.content),c.scale&&a(c.scale),c.font&&a(c.font),c.textColor&&a(c.textColor),c.verticalAlign&&a(c.verticalAlign)}outputDefined(){return!1}}class hA{constructor(a){this.type=Nt,this.input=a}static parse(a,c){if(a.length!==2)return c.error("Expected two arguments.");const d=c.parse(a[1],1,Yt);return d?new hA(d):c.error("No image name provided.")}evaluate(a){const c=this.input.evaluate(a),d=rn.fromString(c);return d&&a.availableImages&&(d.available=a.availableImages.indexOf(c)>-1),d}eachChild(a){a(this.input)}outputDefined(){return!1}}class dh{constructor(a){this.type=rt,this.input=a}static parse(a,c){if(a.length!==2)return c.error(`Expected 1 argument, but found ${a.length-1} instead.`);const d=c.parse(a[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${Fr(d.type)} instead.`):new dh(d):null}evaluate(a){const c=this.input.evaluate(a);if(typeof c=="string")return[...c].length;if(Array.isArray(c))return c.length;throw new Li(`Expected value to be of type string or array, but found ${Fr(ki(c))} instead.`)}eachChild(a){a(this.input)}outputDefined(){return!1}}const Wn=8192;function Zp(A,a){const c=(180+A[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+A[1]*Math.PI/360)))/360,m=Math.pow(2,a.z);return[Math.round(c*m*Wn),Math.round(d*m*Wn)]}function fh(A,a){const c=Math.pow(2,a.z);return[(m=(A[0]/Wn+a.x)/c,360*m-180),(d=(A[1]/Wn+a.y)/c,360/Math.PI*Math.atan(Math.exp((180-360*d)*Math.PI/180))-90)];var d,m}function Ks(A,a){A[0]=Math.min(A[0],a[0]),A[1]=Math.min(A[1],a[1]),A[2]=Math.max(A[2],a[0]),A[3]=Math.max(A[3],a[1])}function dA(A,a){return!(A[0]<=a[0]||A[2]>=a[2]||A[1]<=a[1]||A[3]>=a[3])}function $0(A,a,c){const d=A[0]-a[0],m=A[1]-a[1],y=A[0]-c[0],x=A[1]-c[1];return d*x-y*m==0&&d*y<=0&&m*x<=0}function fA(A,a,c,d){return(m=[d[0]-c[0],d[1]-c[1]])[0]*(y=[a[0]-A[0],a[1]-A[1]])[1]-m[1]*y[0]!=0&&!(!W0(A,a,c,d)||!W0(c,d,A,a));var m,y}function Op(A,a,c){for(const d of c)for(let m=0;m<d.length-1;++m)if(fA(A,a,d[m],d[m+1]))return!0;return!1}function yo(A,a,c=!1){let d=!1;for(const R of a)for(let F=0;F<R.length-1;F++){if($0(A,R[F],R[F+1]))return c;(y=R[F])[1]>(m=A)[1]!=(x=R[F+1])[1]>m[1]&&m[0]<(x[0]-y[0])*(m[1]-y[1])/(x[1]-y[1])+y[0]&&(d=!d)}var m,y,x;return d}function Hp(A,a){for(const c of a)if(yo(A,c))return!0;return!1}function q0(A,a){for(const c of A)if(!yo(c,a))return!1;for(let c=0;c<A.length-1;++c)if(Op(A[c],A[c+1],a))return!1;return!0}function Xp(A,a){for(const c of a)if(q0(A,c))return!0;return!1}function W0(A,a,c,d){const m=d[0]-c[0],y=d[1]-c[1],x=(A[0]-c[0])*y-m*(A[1]-c[1]),R=(a[0]-c[0])*y-m*(a[1]-c[1]);return x>0&&R<0||x<0&&R>0}function gh(A,a,c){const d=[];for(let m=0;m<A.length;m++){const y=[];for(let x=0;x<A[m].length;x++){const R=Zp(A[m][x],c);Ks(a,R),y.push(R)}d.push(y)}return d}function ph(A,a,c){const d=[];for(let m=0;m<A.length;m++){const y=gh(A[m],a,c);d.push(y)}return d}function mh(A,a,c,d){if(A[0]<c[0]||A[0]>c[2]){const m=.5*d;let y=A[0]-c[0]>m?-d:c[0]-A[0]>m?d:0;y===0&&(y=A[0]-c[2]>m?-d:c[2]-A[0]>m?d:0),A[0]+=y}Ks(a,A)}function _h(A,a,c,d){const m=Math.pow(2,d.z)*Wn,y=[d.x*Wn,d.y*Wn],x=[];for(const R of A)for(const F of R){const N=[F.x+y[0],F.y+y[1]];mh(N,a,c,m),x.push(N)}return x}function J0(A,a,c,d){const m=Math.pow(2,d.z)*Wn,y=[d.x*Wn,d.y*Wn],x=[];for(const F of A){const N=[];for(const P of F){const D=[P.x+y[0],P.y+y[1]];Ks(a,D),N.push(D)}x.push(N)}if(a[2]-a[0]<=m/2){(R=a)[0]=R[1]=1/0,R[2]=R[3]=-1/0;for(const F of x)for(const N of F)mh(N,a,c,m)}var R;return x}class vo{constructor(a,c){this.type=Vt,this.geojson=a,this.geometries=c}static parse(a,c){if(a.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${a.length-1} instead.`);if(aA(a[1])){const d=a[1];if(d.type==="FeatureCollection"){const m=[];for(const y of d.features){const{type:x,coordinates:R}=y.geometry;x==="Polygon"&&m.push(R),x==="MultiPolygon"&&m.push(...R)}if(m.length)return new vo(d,{type:"MultiPolygon",coordinates:m})}else if(d.type==="Feature"){const m=d.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new vo(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new vo(d,d)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return function(c,d){const m=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],x=c.canonicalID();if(d.type==="Polygon"){const R=gh(d.coordinates,y,x),F=_h(c.geometry(),m,y,x);if(!dA(m,y))return!1;for(const N of F)if(!yo(N,R))return!1}if(d.type==="MultiPolygon"){const R=ph(d.coordinates,y,x),F=_h(c.geometry(),m,y,x);if(!dA(m,y))return!1;for(const N of F)if(!Hp(N,R))return!1}return!0}(a,this.geometries);if(a.geometryType()==="LineString")return function(c,d){const m=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],x=c.canonicalID();if(d.type==="Polygon"){const R=gh(d.coordinates,y,x),F=J0(c.geometry(),m,y,x);if(!dA(m,y))return!1;for(const N of F)if(!q0(N,R))return!1}if(d.type==="MultiPolygon"){const R=ph(d.coordinates,y,x),F=J0(c.geometry(),m,y,x);if(!dA(m,y))return!1;for(const N of F)if(!Xp(N,R))return!1}return!0}(a,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let ef=class{constructor(A=[],a=(c,d)=>c<d?-1:c>d?1:0){if(this.data=A,this.length=this.data.length,this.compare=a,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(A){this.data.push(A),this._up(this.length++)}pop(){if(this.length===0)return;const A=this.data[0],a=this.data.pop();return--this.length>0&&(this.data[0]=a,this._down(0)),A}peek(){return this.data[0]}_up(A){const{data:a,compare:c}=this,d=a[A];for(;A>0;){const m=A-1>>1,y=a[m];if(c(d,y)>=0)break;a[A]=y,A=m}a[A]=d}_down(A){const{data:a,compare:c}=this,d=this.length>>1,m=a[A];for(;A<d;){let y=1+(A<<1);const x=y+1;if(x<this.length&&c(a[x],a[y])<0&&(y=x),c(a[y],m)>=0)break;a[A]=a[y],A=y}a[A]=m}};function bc(A,a,c=0,d=A.length-1,m=Vp){for(;d>c;){if(d-c>600){const F=d-c+1,N=a-c+1,P=Math.log(F),D=.5*Math.exp(2*P/3),j=.5*Math.sqrt(P*D*(F-D)/F)*(N-F/2<0?-1:1);bc(A,a,Math.max(c,Math.floor(a-N*D/F+j)),Math.min(d,Math.floor(a+(F-N)*D/F+j)),m)}const y=A[a];let x=c,R=d;for(gA(A,c,a),m(A[d],y)>0&&gA(A,c,d);x<R;){for(gA(A,x,R),x++,R--;m(A[x],y)<0;)x++;for(;m(A[R],y)>0;)R--}m(A[c],y)===0?gA(A,c,R):(R++,gA(A,R,d)),R<=a&&(c=R+1),a<=R&&(d=R-1)}}function gA(A,a,c){const d=A[a];A[a]=A[c],A[c]=d}function Vp(A,a){return A<a?-1:A>a?1:0}function yc(A,a){if(A.length<=1)return[A];const c=[];let d,m;for(const y of A){const x=rf(y);x!==0&&(y.area=Math.abs(x),m===void 0&&(m=x<0),m===x<0?(d&&c.push(d),d=[y]):d.push(y))}if(d&&c.push(d),a>1)for(let y=0;y<c.length;y++)c[y].length<=a||(bc(c[y],a,1,c[y].length-1,tf),c[y]=c[y].slice(0,a));return c}function tf(A,a){return a.area-A.area}function rf(A){let a=0;for(let c,d,m=0,y=A.length,x=y-1;m<y;x=m++)c=A[m],d=A[x],a+=(d.x-c.x)*(c.y+d.y);return a}const af=1/298.257223563,nf=af*(2-af),bh=Math.PI/180;class vc{constructor(a){const c=6378.137*bh*1e3,d=Math.cos(a*bh),m=1/(1-nf*(1-d*d)),y=Math.sqrt(m);this.kx=c*y*d,this.ky=c*y*m*(1-nf)}distance(a,c){const d=this.wrap(a[0]-c[0])*this.kx,m=(a[1]-c[1])*this.ky;return Math.sqrt(d*d+m*m)}pointOnLine(a,c){let d,m,y,x,R=1/0;for(let F=0;F<a.length-1;F++){let N=a[F][0],P=a[F][1],D=this.wrap(a[F+1][0]-N)*this.kx,j=(a[F+1][1]-P)*this.ky,$=0;D===0&&j===0||($=(this.wrap(c[0]-N)*this.kx*D+(c[1]-P)*this.ky*j)/(D*D+j*j),$>1?(N=a[F+1][0],P=a[F+1][1]):$>0&&(N+=D/this.kx*$,P+=j/this.ky*$)),D=this.wrap(c[0]-N)*this.kx,j=(c[1]-P)*this.ky;const q=D*D+j*j;q<R&&(R=q,d=N,m=P,y=F,x=$)}return{point:[d,m],index:y,t:Math.max(0,Math.min(1,x))}}wrap(a){for(;a<-180;)a+=360;for(;a>180;)a-=360;return a}}function sf(A,a){return a[0]-A[0]}function xc(A){return A[1]-A[0]+1}function bs(A,a){return A[1]>=A[0]&&A[1]<a}function wc(A,a){if(A[0]>A[1])return[null,null];const c=xc(A);if(a){if(c===2)return[A,null];const m=Math.floor(c/2);return[[A[0],A[0]+m],[A[0]+m,A[1]]]}if(c===1)return[A,null];const d=Math.floor(c/2)-1;return[[A[0],A[0]+d],[A[0]+d+1,A[1]]]}function yh(A,a){if(!bs(a,A.length))return[1/0,1/0,-1/0,-1/0];const c=[1/0,1/0,-1/0,-1/0];for(let d=a[0];d<=a[1];++d)Ks(c,A[d]);return c}function vh(A){const a=[1/0,1/0,-1/0,-1/0];for(const c of A)for(const d of c)Ks(a,d);return a}function of(A){return A[0]!==-1/0&&A[1]!==-1/0&&A[2]!==1/0&&A[3]!==1/0}function xh(A,a,c){if(!of(A)||!of(a))return NaN;let d=0,m=0;return A[2]<a[0]&&(d=a[0]-A[2]),A[0]>a[2]&&(d=A[0]-a[2]),A[1]>a[3]&&(m=A[1]-a[3]),A[3]<a[1]&&(m=a[1]-A[3]),c.distance([0,0],[d,m])}function zr(A,a,c){const d=c.pointOnLine(a,A);return c.distance(A,d.point)}function wh(A,a,c,d,m){const y=Math.min(zr(A,[c,d],m),zr(a,[c,d],m)),x=Math.min(zr(c,[A,a],m),zr(d,[A,a],m));return Math.min(y,x)}function Gp(A,a,c,d,m){if(!bs(a,A.length)||!bs(d,c.length))return 1/0;let y=1/0;for(let x=a[0];x<a[1];++x){const R=A[x],F=A[x+1];for(let N=d[0];N<d[1];++N){const P=c[N],D=c[N+1];if(fA(R,F,P,D))return 0;y=Math.min(y,wh(R,F,P,D,m))}}return y}function jp(A,a,c,d,m){if(!bs(a,A.length)||!bs(d,c.length))return NaN;let y=1/0;for(let x=a[0];x<=a[1];++x)for(let R=d[0];R<=d[1];++R)if(y=Math.min(y,m.distance(A[x],c[R])),y===0)return y;return y}function Kp(A,a,c){if(yo(A,a,!0))return 0;let d=1/0;for(const m of a){const y=m[0],x=m[m.length-1];if(y!==x&&(d=Math.min(d,zr(A,[x,y],c)),d===0))return d;const R=c.pointOnLine(m,A);if(d=Math.min(d,c.distance(A,R.point)),d===0)return d}return d}function $p(A,a,c,d){if(!bs(a,A.length))return NaN;for(let y=a[0];y<=a[1];++y)if(yo(A[y],c,!0))return 0;let m=1/0;for(let y=a[0];y<a[1];++y){const x=A[y],R=A[y+1];for(const F of c)for(let N=0,P=F.length,D=P-1;N<P;D=N++){const j=F[D],$=F[N];if(fA(x,R,j,$))return 0;m=Math.min(m,wh(x,R,j,$,d))}}return m}function lf(A,a){for(const c of A)for(const d of c)if(yo(d,a,!0))return!0;return!1}function qp(A,a,c,d=1/0){const m=vh(A),y=vh(a);if(d!==1/0&&xh(m,y,c)>=d)return d;if(dA(m,y)){if(lf(A,a))return 0}else if(lf(a,A))return 0;let x=1/0;for(const R of A)for(let F=0,N=R.length,P=N-1;F<N;P=F++){const D=R[P],j=R[F];for(const $ of a)for(let q=0,ae=$.length,fe=ae-1;q<ae;fe=q++){const ye=$[fe],Le=$[q];if(fA(D,j,ye,Le))return 0;x=Math.min(x,wh(D,j,ye,Le,c))}}return x}function Af(A,a,c,d,m,y){if(!y)return;const x=xh(yh(d,y),m,c);x<a&&A.push([x,y,[0,0]])}function Bc(A,a,c,d,m,y,x){if(!y||!x)return;const R=xh(yh(d,y),yh(m,x),c);R<a&&A.push([R,y,x])}function Cc(A,a,c,d,m=1/0){let y=Math.min(d.distance(A[0],c[0][0]),m);if(y===0)return y;const x=new ef([[0,[0,A.length-1],[0,0]]],sf),R=vh(c);for(;x.length>0;){const F=x.pop();if(F[0]>=y)continue;const N=F[1],P=a?50:100;if(xc(N)<=P){if(!bs(N,A.length))return NaN;if(a){const D=$p(A,N,c,d);if(isNaN(D)||D===0)return D;y=Math.min(y,D)}else for(let D=N[0];D<=N[1];++D){const j=Kp(A[D],c,d);if(y=Math.min(y,j),y===0)return 0}}else{const D=wc(N,a);Af(x,y,d,A,R,D[0]),Af(x,y,d,A,R,D[1])}}return y}function Mc(A,a,c,d,m,y=1/0){let x=Math.min(y,m.distance(A[0],c[0]));if(x===0)return x;const R=new ef([[0,[0,A.length-1],[0,c.length-1]]],sf);for(;R.length>0;){const F=R.pop();if(F[0]>=x)continue;const N=F[1],P=F[2],D=a?50:100,j=d?50:100;if(xc(N)<=D&&xc(P)<=j){if(!bs(N,A.length)&&bs(P,c.length))return NaN;let $;if(a&&d)$=Gp(A,N,c,P,m),x=Math.min(x,$);else if(a&&!d){const q=A.slice(N[0],N[1]+1);for(let ae=P[0];ae<=P[1];++ae)if($=zr(c[ae],q,m),x=Math.min(x,$),x===0)return x}else if(!a&&d){const q=c.slice(P[0],P[1]+1);for(let ae=N[0];ae<=N[1];++ae)if($=zr(A[ae],q,m),x=Math.min(x,$),x===0)return x}else $=jp(A,N,c,P,m),x=Math.min(x,$)}else{const $=wc(N,a),q=wc(P,d);Bc(R,x,m,A,c,$[0],q[0]),Bc(R,x,m,A,c,$[0],q[1]),Bc(R,x,m,A,c,$[1],q[0]),Bc(R,x,m,A,c,$[1],q[1])}}return x}function Bh(A){return A.type==="MultiPolygon"?A.coordinates.map(a=>({type:"Polygon",coordinates:a})):A.type==="MultiLineString"?A.coordinates.map(a=>({type:"LineString",coordinates:a})):A.type==="MultiPoint"?A.coordinates.map(a=>({type:"Point",coordinates:a})):[A]}class xo{constructor(a,c){this.type=rt,this.geojson=a,this.geometries=c}static parse(a,c){if(a.length!==2)return c.error(`'distance' expression requires exactly one argument, but found ${a.length-1} instead.`);if(aA(a[1])){const d=a[1];if(d.type==="FeatureCollection")return new xo(d,d.features.map(m=>Bh(m.geometry)).flat());if(d.type==="Feature")return new xo(d,Bh(d.geometry));if("type"in d&&"coordinates"in d)return new xo(d,Bh(d))}return c.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return function(c,d){const m=c.geometry(),y=m.flat().map(F=>fh([F.x,F.y],c.canonical));if(m.length===0)return NaN;const x=new vc(y[0][1]);let R=1/0;for(const F of d){switch(F.type){case"Point":R=Math.min(R,Mc(y,!1,[F.coordinates],!1,x,R));break;case"LineString":R=Math.min(R,Mc(y,!1,F.coordinates,!0,x,R));break;case"Polygon":R=Math.min(R,Cc(y,!1,F.coordinates,x,R))}if(R===0)return R}return R}(a,this.geometries);if(a.geometryType()==="LineString")return function(c,d){const m=c.geometry(),y=m.flat().map(F=>fh([F.x,F.y],c.canonical));if(m.length===0)return NaN;const x=new vc(y[0][1]);let R=1/0;for(const F of d){switch(F.type){case"Point":R=Math.min(R,Mc(y,!0,[F.coordinates],!1,x,R));break;case"LineString":R=Math.min(R,Mc(y,!0,F.coordinates,!0,x,R));break;case"Polygon":R=Math.min(R,Cc(y,!0,F.coordinates,x,R))}if(R===0)return R}return R}(a,this.geometries);if(a.geometryType()==="Polygon")return function(c,d){const m=c.geometry();if(m.length===0||m[0].length===0)return NaN;const y=yc(m,0).map(F=>F.map(N=>N.map(P=>fh([P.x,P.y],c.canonical)))),x=new vc(y[0][0][0][1]);let R=1/0;for(const F of d)for(const N of y){switch(F.type){case"Point":R=Math.min(R,Cc([F.coordinates],!1,N,x,R));break;case"LineString":R=Math.min(R,Cc(F.coordinates,!0,N,x,R));break;case"Polygon":R=Math.min(R,qp(N,F.coordinates,x,R))}if(R===0)return R}return R}(a,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const dl={"==":gc,"!=":hh,">":pc,"<":zp,">=":Tn,"<=":mc,array:_n,at:oA,boolean:_n,case:uc,coalesce:cA,collator:uA,format:_c,image:hA,in:Fn,"index-of":ol,interpolate:Ga,"interpolate-hcl":Ga,"interpolate-lab":Ga,length:dh,let:sl,literal:js,match:cc,number:_n,"number-format":hl,object:_n,slice:ll,step:AA,string:_n,"to-boolean":ti,"to-color":ti,"to-number":ti,"to-string":ti,var:Or,within:vo,distance:xo};class bn{constructor(a,c,d,m){this.name=a,this.type=c,this._evaluate=d,this.args=m}evaluate(a){return this._evaluate(a,this.args)}eachChild(a){this.args.forEach(a)}outputDefined(){return!1}static parse(a,c){const d=a[0],m=bn.definitions[d];if(!m)return c.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const y=Array.isArray(m)?m[0]:m.type,x=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,R=x.filter(([N])=>!Array.isArray(N)||N.length===a.length-1);let F=null;for(const[N,P]of R){F=new Rr(c.registry,Rc,c.path,null,c.scope);const D=[];let j=!1;for(let $=1;$<a.length;$++){const q=a[$],ae=Array.isArray(N)?N[$-1]:N.type,fe=F.parse(q,1+D.length,ae);if(!fe){j=!0;break}D.push(fe)}if(!j)if(Array.isArray(N)&&N.length!==D.length)F.error(`Expected ${N.length} arguments, but found ${D.length} instead.`);else{for(let $=0;$<D.length;$++){const q=Array.isArray(N)?N[$]:N.type,ae=D[$];F.concat($+1).checkSubtype(q,ae.type)}if(F.errors.length===0)return new bn(d,y,P,D)}}if(R.length===1)c.errors.push(...F.errors);else{const N=(R.length?R:x).map(([D])=>{return j=D,Array.isArray(j)?`(${j.map(Fr).join(", ")})`:`(${Fr(j.type)}...)`;var j}).join(" | "),P=[];for(let D=1;D<a.length;D++){const j=c.parse(a[D],1+P.length);if(!j)return null;P.push(Fr(j.type))}c.error(`Expected arguments of type ${N}, but found (${P.join(", ")}) instead.`)}return null}static register(a,c){bn.definitions=c;for(const d in c)a[d]=bn}}function cf(A,[a,c,d,m]){a=a.evaluate(A),c=c.evaluate(A),d=d.evaluate(A);const y=m?m.evaluate(A):1,x=Gs(a,c,d,y);if(x)throw new Li(x);return new Tr(a/255,c/255,d/255,y,!1)}function uf(A,a){return A in a}function Ch(A,a){const c=a[A];return c===void 0?null:c}function wo(A){return{type:A}}function Rc(A){if(A instanceof Or)return Rc(A.boundExpression);if(A instanceof bn&&A.name==="error"||A instanceof uA||A instanceof vo||A instanceof xo)return!1;const a=A instanceof ti||A instanceof _n;let c=!0;return A.eachChild(d=>{c=a?c&&Rc(d):c&&d instanceof js}),!!c&&Ic(A)&&Uc(A,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Ic(A){if(A instanceof bn&&(A.name==="get"&&A.args.length===1||A.name==="feature-state"||A.name==="has"&&A.args.length===1||A.name==="properties"||A.name==="geometry-type"||A.name==="id"||/^filter-/.test(A.name))||A instanceof vo||A instanceof xo)return!1;let a=!0;return A.eachChild(c=>{a&&!Ic(c)&&(a=!1)}),a}function pA(A){if(A instanceof bn&&A.name==="feature-state")return!1;let a=!0;return A.eachChild(c=>{a&&!pA(c)&&(a=!1)}),a}function Uc(A,a){if(A instanceof bn&&a.indexOf(A.name)>=0)return!1;let c=!0;return A.eachChild(d=>{c&&!Uc(d,a)&&(c=!1)}),c}function hf(A){return{result:"success",value:A}}function fl(A){return{result:"error",value:A}}function gl(A){return A["property-type"]==="data-driven"||A["property-type"]==="cross-faded-data-driven"}function df(A){return!!A.expression&&A.expression.parameters.indexOf("zoom")>-1}function Mh(A){return!!A.expression&&A.expression.interpolated}function Kr(A){return A instanceof Number?"number":A instanceof String?"string":A instanceof Boolean?"boolean":Array.isArray(A)?"array":A===null?"null":typeof A}function Ec(A){return typeof A=="object"&&A!==null&&!Array.isArray(A)}function Wp(A){return A}function Fc(A,a){const c=a.type==="color",d=A.stops&&typeof A.stops[0][0]=="object",m=d||!(d||A.property!==void 0),y=A.type||(Mh(a)?"exponential":"interval");if(c||a.type==="padding"){const P=c?Tr.parse:Fa.parse;(A=bt({},A)).stops&&(A.stops=A.stops.map(D=>[D[0],P(D[1])])),A.default=P(A.default?A.default:a.default)}if(A.colorSpace&&(x=A.colorSpace)!=="rgb"&&x!=="hcl"&&x!=="lab")throw new Error(`Unknown color space: "${A.colorSpace}"`);var x;let R,F,N;if(y==="exponential")R=Rh;else if(y==="interval")R=e2;else if(y==="categorical"){R=Jp,F=Object.create(null);for(const P of A.stops)F[P[0]]=P[1];N=typeof A.stops[0][0]}else{if(y!=="identity")throw new Error(`Unknown function type "${y}"`);R=t2}if(d){const P={},D=[];for(let q=0;q<A.stops.length;q++){const ae=A.stops[q],fe=ae[0].zoom;P[fe]===void 0&&(P[fe]={zoom:fe,type:A.type,property:A.property,default:A.default,stops:[]},D.push(fe)),P[fe].stops.push([ae[0].value,ae[1]])}const j=[];for(const q of D)j.push([P[q].zoom,Fc(P[q],a)]);const $={name:"linear"};return{kind:"composite",interpolationType:$,interpolationFactor:Ga.interpolationFactor.bind(void 0,$),zoomStops:j.map(q=>q[0]),evaluate:({zoom:q},ae)=>Rh({stops:j,base:A.base},a,q).evaluate(q,ae)}}if(m){const P=y==="exponential"?{name:"exponential",base:A.base!==void 0?A.base:1}:null;return{kind:"camera",interpolationType:P,interpolationFactor:Ga.interpolationFactor.bind(void 0,P),zoomStops:A.stops.map(D=>D[0]),evaluate:({zoom:D})=>R(A,a,D,F,N)}}return{kind:"source",evaluate(P,D){const j=D&&D.properties?D.properties[A.property]:void 0;return j===void 0?mA(A.default,a.default):R(A,a,j,F,N)}}}function mA(A,a,c){return A!==void 0?A:a!==void 0?a:c!==void 0?c:void 0}function Jp(A,a,c,d,m){return mA(typeof c===m?d[c]:void 0,A.default,a.default)}function e2(A,a,c){if(Kr(c)!=="number")return mA(A.default,a.default);const d=A.stops.length;if(d===1||c<=A.stops[0][0])return A.stops[0][1];if(c>=A.stops[d-1][0])return A.stops[d-1][1];const m=lA(A.stops.map(y=>y[0]),c);return A.stops[m][1]}function Rh(A,a,c){const d=A.base!==void 0?A.base:1;if(Kr(c)!=="number")return mA(A.default,a.default);const m=A.stops.length;if(m===1||c<=A.stops[0][0])return A.stops[0][1];if(c>=A.stops[m-1][0])return A.stops[m-1][1];const y=lA(A.stops.map(P=>P[0]),c),x=function(P,D,j,$){const q=$-j,ae=P-j;return q===0?0:D===1?ae/q:(Math.pow(D,ae)-1)/(Math.pow(D,q)-1)}(c,d,A.stops[y][0],A.stops[y+1][0]),R=A.stops[y][1],F=A.stops[y+1][1],N=gi[a.type]||Wp;return typeof R.evaluate=="function"?{evaluate(...P){const D=R.evaluate.apply(void 0,P),j=F.evaluate.apply(void 0,P);if(D!==void 0&&j!==void 0)return N(D,j,x,A.colorSpace)}}:N(R,F,x,A.colorSpace)}function t2(A,a,c){switch(a.type){case"color":c=Tr.parse(c);break;case"formatted":c=Va.fromString(c.toString());break;case"resolvedImage":c=rn.fromString(c.toString());break;case"padding":c=Fa.parse(c);break;default:Kr(c)===a.type||a.type==="enum"&&a.values[c]||(c=void 0)}return mA(c,A.default,a.default)}bn.register(dl,{error:[{kind:"error"},[Yt],(A,[a])=>{throw new Li(a.evaluate(A))}],typeof:[Yt,[qt],(A,[a])=>Fr(ki(a.evaluate(A)))],"to-rgba":[Er(rt,4),[ii],(A,[a])=>{const[c,d,m,y]=a.evaluate(A).rgb;return[255*c,255*d,255*m,y]}],rgb:[ii,[rt,rt,rt],cf],rgba:[ii,[rt,rt,rt,rt],cf],has:{type:Vt,overloads:[[[Yt],(A,[a])=>uf(a.evaluate(A),A.properties())],[[Yt,Cr],(A,[a,c])=>uf(a.evaluate(A),c.evaluate(A))]]},get:{type:qt,overloads:[[[Yt],(A,[a])=>Ch(a.evaluate(A),A.properties())],[[Yt,Cr],(A,[a,c])=>Ch(a.evaluate(A),c.evaluate(A))]]},"feature-state":[qt,[Yt],(A,[a])=>Ch(a.evaluate(A),A.featureState||{})],properties:[Cr,[],A=>A.properties()],"geometry-type":[Yt,[],A=>A.geometryType()],id:[qt,[],A=>A.id()],zoom:[rt,[],A=>A.globals.zoom],"heatmap-density":[rt,[],A=>A.globals.heatmapDensity||0],"line-progress":[rt,[],A=>A.globals.lineProgress||0],accumulated:[qt,[],A=>A.globals.accumulated===void 0?null:A.globals.accumulated],"+":[rt,wo(rt),(A,a)=>{let c=0;for(const d of a)c+=d.evaluate(A);return c}],"*":[rt,wo(rt),(A,a)=>{let c=1;for(const d of a)c*=d.evaluate(A);return c}],"-":{type:rt,overloads:[[[rt,rt],(A,[a,c])=>a.evaluate(A)-c.evaluate(A)],[[rt],(A,[a])=>-a.evaluate(A)]]},"/":[rt,[rt,rt],(A,[a,c])=>a.evaluate(A)/c.evaluate(A)],"%":[rt,[rt,rt],(A,[a,c])=>a.evaluate(A)%c.evaluate(A)],ln2:[rt,[],()=>Math.LN2],pi:[rt,[],()=>Math.PI],e:[rt,[],()=>Math.E],"^":[rt,[rt,rt],(A,[a,c])=>Math.pow(a.evaluate(A),c.evaluate(A))],sqrt:[rt,[rt],(A,[a])=>Math.sqrt(a.evaluate(A))],log10:[rt,[rt],(A,[a])=>Math.log(a.evaluate(A))/Math.LN10],ln:[rt,[rt],(A,[a])=>Math.log(a.evaluate(A))],log2:[rt,[rt],(A,[a])=>Math.log(a.evaluate(A))/Math.LN2],sin:[rt,[rt],(A,[a])=>Math.sin(a.evaluate(A))],cos:[rt,[rt],(A,[a])=>Math.cos(a.evaluate(A))],tan:[rt,[rt],(A,[a])=>Math.tan(a.evaluate(A))],asin:[rt,[rt],(A,[a])=>Math.asin(a.evaluate(A))],acos:[rt,[rt],(A,[a])=>Math.acos(a.evaluate(A))],atan:[rt,[rt],(A,[a])=>Math.atan(a.evaluate(A))],min:[rt,wo(rt),(A,a)=>Math.min(...a.map(c=>c.evaluate(A)))],max:[rt,wo(rt),(A,a)=>Math.max(...a.map(c=>c.evaluate(A)))],abs:[rt,[rt],(A,[a])=>Math.abs(a.evaluate(A))],round:[rt,[rt],(A,[a])=>{const c=a.evaluate(A);return c<0?-Math.round(-c):Math.round(c)}],floor:[rt,[rt],(A,[a])=>Math.floor(a.evaluate(A))],ceil:[rt,[rt],(A,[a])=>Math.ceil(a.evaluate(A))],"filter-==":[Vt,[Yt,qt],(A,[a,c])=>A.properties()[a.value]===c.value],"filter-id-==":[Vt,[qt],(A,[a])=>A.id()===a.value],"filter-type-==":[Vt,[Yt],(A,[a])=>A.geometryType()===a.value],"filter-<":[Vt,[Yt,qt],(A,[a,c])=>{const d=A.properties()[a.value],m=c.value;return typeof d==typeof m&&d<m}],"filter-id-<":[Vt,[qt],(A,[a])=>{const c=A.id(),d=a.value;return typeof c==typeof d&&c<d}],"filter->":[Vt,[Yt,qt],(A,[a,c])=>{const d=A.properties()[a.value],m=c.value;return typeof d==typeof m&&d>m}],"filter-id->":[Vt,[qt],(A,[a])=>{const c=A.id(),d=a.value;return typeof c==typeof d&&c>d}],"filter-<=":[Vt,[Yt,qt],(A,[a,c])=>{const d=A.properties()[a.value],m=c.value;return typeof d==typeof m&&d<=m}],"filter-id-<=":[Vt,[qt],(A,[a])=>{const c=A.id(),d=a.value;return typeof c==typeof d&&c<=d}],"filter->=":[Vt,[Yt,qt],(A,[a,c])=>{const d=A.properties()[a.value],m=c.value;return typeof d==typeof m&&d>=m}],"filter-id->=":[Vt,[qt],(A,[a])=>{const c=A.id(),d=a.value;return typeof c==typeof d&&c>=d}],"filter-has":[Vt,[qt],(A,[a])=>a.value in A.properties()],"filter-has-id":[Vt,[],A=>A.id()!==null&&A.id()!==void 0],"filter-type-in":[Vt,[Er(Yt)],(A,[a])=>a.value.indexOf(A.geometryType())>=0],"filter-id-in":[Vt,[Er(qt)],(A,[a])=>a.value.indexOf(A.id())>=0],"filter-in-small":[Vt,[Yt,Er(qt)],(A,[a,c])=>c.value.indexOf(A.properties()[a.value])>=0],"filter-in-large":[Vt,[Yt,Er(qt)],(A,[a,c])=>function(d,m,y,x){for(;y<=x;){const R=y+x>>1;if(m[R]===d)return!0;m[R]>d?x=R-1:y=R+1}return!1}(A.properties()[a.value],c.value,0,c.value.length-1)],all:{type:Vt,overloads:[[[Vt,Vt],(A,[a,c])=>a.evaluate(A)&&c.evaluate(A)],[wo(Vt),(A,a)=>{for(const c of a)if(!c.evaluate(A))return!1;return!0}]]},any:{type:Vt,overloads:[[[Vt,Vt],(A,[a,c])=>a.evaluate(A)||c.evaluate(A)],[wo(Vt),(A,a)=>{for(const c of a)if(c.evaluate(A))return!0;return!1}]]},"!":[Vt,[Vt],(A,[a])=>!a.evaluate(A)],"is-supported-script":[Vt,[Yt],(A,[a])=>{const c=A.globals&&A.globals.isSupportedScript;return!c||c(a.evaluate(A))}],upcase:[Yt,[Yt],(A,[a])=>a.evaluate(A).toUpperCase()],downcase:[Yt,[Yt],(A,[a])=>a.evaluate(A).toLowerCase()],concat:[Yt,wo(qt),(A,a)=>a.map(c=>qn(c.evaluate(A))).join("")],"resolved-locale":[Yt,[En],(A,[a])=>a.evaluate(A).resolvedLocale()]});class Ih{constructor(a,c){var d;this.expression=a,this._warningHistory={},this._evaluator=new jr,this._defaultValue=c?(d=c).type==="color"&&Ec(d.default)?new Tr(0,0,0,0):d.type==="color"?Tr.parse(d.default)||null:d.type==="padding"?Fa.parse(d.default)||null:d.type==="variableAnchorOffsetCollection"?Ba.parse(d.default)||null:d.type==="projectionDefinition"?Da.parse(d.default)||null:d.default===void 0?null:d.default:null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(a,c,d,m,y,x){return this._evaluator.globals=a,this._evaluator.feature=c,this._evaluator.featureState=d,this._evaluator.canonical=m,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=x,this.expression.evaluate(this._evaluator)}evaluate(a,c,d,m,y,x){this._evaluator.globals=a,this._evaluator.feature=c||null,this._evaluator.featureState=d||null,this._evaluator.canonical=m,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=x||null;try{const R=this.expression.evaluate(this._evaluator);if(R==null||typeof R=="number"&&R!=R)return this._defaultValue;if(this._enumValues&&!(R in this._enumValues))throw new Li(`Expected value to be one of ${Object.keys(this._enumValues).map(F=>JSON.stringify(F)).join(", ")}, but found ${JSON.stringify(R)} instead.`);return R}catch(R){return this._warningHistory[R.message]||(this._warningHistory[R.message]=!0,typeof console<"u"&&console.warn(R.message)),this._defaultValue}}}function Bo(A){return Array.isArray(A)&&A.length>0&&typeof A[0]=="string"&&A[0]in dl}function _A(A,a){const c=new Rr(dl,Rc,[],a?function(m){const y={color:ii,string:Yt,number:rt,enum:Yt,boolean:Vt,formatted:Kt,padding:Ze,projectionDefinition:ci,resolvedImage:Nt,variableAnchorOffsetCollection:hr};return m.type==="array"?Er(y[m.value]||qt,m.length):y[m.type]}(a):void 0),d=c.parse(A,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?hf(new Ih(d,a)):fl(c.errors)}class Uh{constructor(a,c){this.kind=a,this._styleExpression=c,this.isStateDependent=a!=="constant"&&!pA(c.expression)}evaluateWithoutErrorHandling(a,c,d,m,y,x){return this._styleExpression.evaluateWithoutErrorHandling(a,c,d,m,y,x)}evaluate(a,c,d,m,y,x){return this._styleExpression.evaluate(a,c,d,m,y,x)}}class Eh{constructor(a,c,d,m){this.kind=a,this.zoomStops=d,this._styleExpression=c,this.isStateDependent=a!=="camera"&&!pA(c.expression),this.interpolationType=m}evaluateWithoutErrorHandling(a,c,d,m,y,x){return this._styleExpression.evaluateWithoutErrorHandling(a,c,d,m,y,x)}evaluate(a,c,d,m,y,x){return this._styleExpression.evaluate(a,c,d,m,y,x)}interpolationFactor(a,c,d){return this.interpolationType?Ga.interpolationFactor(this.interpolationType,a,c,d):0}}function ff(A,a){const c=_A(A,a);if(c.result==="error")return c;const d=c.value.expression,m=Ic(d);if(!m&&!gl(a))return fl([new tr("","data expressions not supported")]);const y=Uc(d,["zoom"]);if(!y&&!df(a))return fl([new tr("","zoom expressions not supported")]);const x=Sc(d);return x||y?x instanceof tr?fl([x]):x instanceof Ga&&!Mh(a)?fl([new tr("",'"interpolate" expressions cannot be used with this property')]):hf(x?new Eh(m?"camera":"composite",c.value,x.labels,x instanceof Ga?x.interpolation:void 0):new Uh(m?"constant":"source",c.value)):fl([new tr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Tc{constructor(a,c){this._parameters=a,this._specification=c,bt(this,Fc(this._parameters,this._specification))}static deserialize(a){return new Tc(a._parameters,a._specification)}static serialize(a){return{_parameters:a._parameters,_specification:a._specification}}}function Sc(A){let a=null;if(A instanceof sl)a=Sc(A.result);else if(A instanceof cA){for(const c of A.args)if(a=Sc(c),a)break}else(A instanceof AA||A instanceof Ga)&&A.input instanceof bn&&A.input.name==="zoom"&&(a=A);return a instanceof tr||A.eachChild(c=>{const d=Sc(c);d instanceof tr?a=d:!a&&d?a=new tr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):a&&d&&a!==d&&(a=new tr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),a}function Nc(A){if(A===!0||A===!1)return!0;if(!Array.isArray(A)||A.length===0)return!1;switch(A[0]){case"has":return A.length>=2&&A[1]!=="$id"&&A[1]!=="$type";case"in":return A.length>=3&&(typeof A[1]!="string"||Array.isArray(A[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return A.length!==3||Array.isArray(A[1])||Array.isArray(A[2]);case"any":case"all":for(const a of A.slice(1))if(!Nc(a)&&typeof a!="boolean")return!1;return!0;default:return!0}}const gf={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Fh(A){if(A==null)return{filter:()=>!0,needGeometry:!1};Nc(A)||(A=bA(A));const a=_A(A,gf);if(a.result==="error")throw new Error(a.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,d,m)=>a.value.evaluate(c,d,{},m),needGeometry:Th(A)}}function r2(A,a){return A<a?-1:A>a?1:0}function Th(A){if(!Array.isArray(A))return!1;if(A[0]==="within"||A[0]==="distance")return!0;for(let a=1;a<A.length;a++)if(Th(A[a]))return!0;return!1}function bA(A){if(!A)return!0;const a=A[0];return A.length<=1?a!=="any":a==="=="?Yc(A[1],A[2],"=="):a==="!="?pl(Yc(A[1],A[2],"==")):a==="<"||a===">"||a==="<="||a===">="?Yc(A[1],A[2],a):a==="any"?(c=A.slice(1),["any"].concat(c.map(bA))):a==="all"?["all"].concat(A.slice(1).map(bA)):a==="none"?["all"].concat(A.slice(1).map(bA).map(pl)):a==="in"?Sh(A[1],A.slice(2)):a==="!in"?pl(Sh(A[1],A.slice(2))):a==="has"?Pc(A[1]):a!=="!has"||pl(Pc(A[1]));var c}function Yc(A,a,c){switch(A){case"$type":return[`filter-type-${c}`,a];case"$id":return[`filter-id-${c}`,a];default:return[`filter-${c}`,A,a]}}function Sh(A,a){if(a.length===0)return!1;switch(A){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some(c=>typeof c!=typeof a[0])?["filter-in-large",A,["literal",a.sort(r2)]]:["filter-in-small",A,["literal",a]]}}function Pc(A){switch(A){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",A]}}function pl(A){return["!",A]}function yA(A){const a=typeof A;if(a==="number"||a==="boolean"||a==="string"||A==null)return JSON.stringify(A);if(Array.isArray(A)){let m="[";for(const y of A)m+=`${yA(y)},`;return`${m}]`}const c=Object.keys(A).sort();let d="{";for(let m=0;m<c.length;m++)d+=`${JSON.stringify(c[m])}:${yA(A[c[m]])},`;return`${d}}`}function Lc(A){let a="";for(const c of ze)a+=`/${yA(A[c])}`;return a}function pf(A){const a=A.value;return a?[new je(A.key,a,"constants have been deprecated as of v8")]:[]}function Oi(A){return A instanceof Number||A instanceof String||A instanceof Boolean?A.valueOf():A}function Co(A){if(Array.isArray(A))return A.map(Co);if(A instanceof Object&&!(A instanceof Number||A instanceof String||A instanceof Boolean)){const a={};for(const c in A)a[c]=Co(A[c]);return a}return Oi(A)}function yn(A){const a=A.key,c=A.value,d=A.valueSpec||{},m=A.objectElementValidators||{},y=A.style,x=A.styleSpec,R=A.validateSpec;let F=[];const N=Kr(c);if(N!=="object")return[new je(a,c,`object expected, ${N} found`)];for(const P in c){const D=P.split(".")[0],j=d[D]||d["*"];let $;if(m[D])$=m[D];else if(d[D])$=R;else if(m["*"])$=m["*"];else{if(!d["*"]){F.push(new je(a,c[P],`unknown property "${P}"`));continue}$=R}F=F.concat($({key:(a&&`${a}.`)+P,value:c[P],valueSpec:j,style:y,styleSpec:x,object:c,objectKey:P,validateSpec:R},c))}for(const P in d)m[P]||d[P].required&&d[P].default===void 0&&c[P]===void 0&&F.push(new je(a,c,`missing required property "${P}"`));return F}function Nh(A){const a=A.value,c=A.valueSpec,d=A.style,m=A.styleSpec,y=A.key,x=A.arrayElementValidator||A.validateSpec;if(Kr(a)!=="array")return[new je(y,a,`array expected, ${Kr(a)} found`)];if(c.length&&a.length!==c.length)return[new je(y,a,`array length ${c.length} expected, length ${a.length} found`)];if(c["min-length"]&&a.length<c["min-length"])return[new je(y,a,`array length at least ${c["min-length"]} expected, length ${a.length} found`)];let R={type:c.value,values:c.values};m.$version<7&&(R.function=c.function),Kr(c.value)==="object"&&(R=c.value);let F=[];for(let N=0;N<a.length;N++)F=F.concat(x({array:a,arrayIndex:N,value:a[N],valueSpec:R,validateSpec:A.validateSpec,style:d,styleSpec:m,key:`${y}[${N}]`}));return F}function Yh(A){const a=A.key,c=A.value,d=A.valueSpec;let m=Kr(c);return m==="number"&&c!=c&&(m="NaN"),m!=="number"?[new je(a,c,`number expected, ${m} found`)]:"minimum"in d&&c<d.minimum?[new je(a,c,`${c} is less than the minimum value ${d.minimum}`)]:"maximum"in d&&c>d.maximum?[new je(a,c,`${c} is greater than the maximum value ${d.maximum}`)]:[]}function Ph(A){const a=A.valueSpec,c=Oi(A.value.type);let d,m,y,x={};const R=c!=="categorical"&&A.value.property===void 0,F=!R,N=Kr(A.value.stops)==="array"&&Kr(A.value.stops[0])==="array"&&Kr(A.value.stops[0][0])==="object",P=yn({key:A.key,value:A.value,valueSpec:A.styleSpec.function,validateSpec:A.validateSpec,style:A.style,styleSpec:A.styleSpec,objectElementValidators:{stops:function($){if(c==="identity")return[new je($.key,$.value,'identity function may not have a "stops" property')];let q=[];const ae=$.value;return q=q.concat(Nh({key:$.key,value:ae,valueSpec:$.valueSpec,validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec,arrayElementValidator:D})),Kr(ae)==="array"&&ae.length===0&&q.push(new je($.key,ae,"array must have at least one stop")),q},default:function($){return $.validateSpec({key:$.key,value:$.value,valueSpec:a,validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec})}}});return c==="identity"&&R&&P.push(new je(A.key,A.value,'missing required property "property"')),c==="identity"||A.value.stops||P.push(new je(A.key,A.value,'missing required property "stops"')),c==="exponential"&&A.valueSpec.expression&&!Mh(A.valueSpec)&&P.push(new je(A.key,A.value,"exponential functions not supported")),A.styleSpec.$version>=8&&(F&&!gl(A.valueSpec)?P.push(new je(A.key,A.value,"property functions not supported")):R&&!df(A.valueSpec)&&P.push(new je(A.key,A.value,"zoom functions not supported"))),c!=="categorical"&&!N||A.value.property!==void 0||P.push(new je(A.key,A.value,'"property" property is required')),P;function D($){let q=[];const ae=$.value,fe=$.key;if(Kr(ae)!=="array")return[new je(fe,ae,`array expected, ${Kr(ae)} found`)];if(ae.length!==2)return[new je(fe,ae,`array length 2 expected, length ${ae.length} found`)];if(N){if(Kr(ae[0])!=="object")return[new je(fe,ae,`object expected, ${Kr(ae[0])} found`)];if(ae[0].zoom===void 0)return[new je(fe,ae,"object stop key must have zoom")];if(ae[0].value===void 0)return[new je(fe,ae,"object stop key must have value")];if(y&&y>Oi(ae[0].zoom))return[new je(fe,ae[0].zoom,"stop zoom values must appear in ascending order")];Oi(ae[0].zoom)!==y&&(y=Oi(ae[0].zoom),m=void 0,x={}),q=q.concat(yn({key:`${fe}[0]`,value:ae[0],valueSpec:{zoom:{}},validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec,objectElementValidators:{zoom:Yh,value:j}}))}else q=q.concat(j({key:`${fe}[0]`,value:ae[0],validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec},ae));return Bo(Co(ae[1]))?q.concat([new je(`${fe}[1]`,ae[1],"expressions are not allowed in function stops.")]):q.concat($.validateSpec({key:`${fe}[1]`,value:ae[1],valueSpec:a,validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec}))}function j($,q){const ae=Kr($.value),fe=Oi($.value),ye=$.value!==null?$.value:q;if(d){if(ae!==d)return[new je($.key,ye,`${ae} stop domain type must match previous stop domain type ${d}`)]}else d=ae;if(ae!=="number"&&ae!=="string"&&ae!=="boolean")return[new je($.key,ye,"stop domain value must be a number, string, or boolean")];if(ae!=="number"&&c!=="categorical"){let Le=`number expected, ${ae} found`;return gl(a)&&c===void 0&&(Le+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new je($.key,ye,Le)]}return c!=="categorical"||ae!=="number"||isFinite(fe)&&Math.floor(fe)===fe?c!=="categorical"&&ae==="number"&&m!==void 0&&fe<m?[new je($.key,ye,"stop domain values must appear in ascending order")]:(m=fe,c==="categorical"&&fe in x?[new je($.key,ye,"stop domain values must be unique")]:(x[fe]=!0,[])):[new je($.key,ye,`integer expected, found ${fe}`)]}}function Mo(A){const a=(A.expressionContext==="property"?ff:_A)(Co(A.value),A.valueSpec);if(a.result==="error")return a.value.map(d=>new je(`${A.key}${d.key}`,A.value,d.message));const c=a.value.expression||a.value._styleExpression.expression;if(A.expressionContext==="property"&&A.propertyKey==="text-font"&&!c.outputDefined())return[new je(A.key,A.value,`Invalid data expression for "${A.propertyKey}". Output values must be contained as literals within the expression.`)];if(A.expressionContext==="property"&&A.propertyType==="layout"&&!pA(c))return[new je(A.key,A.value,'"feature-state" data expressions are not supported with layout properties.')];if(A.expressionContext==="filter"&&!pA(c))return[new je(A.key,A.value,'"feature-state" data expressions are not supported with filters.')];if(A.expressionContext&&A.expressionContext.indexOf("cluster")===0){if(!Uc(c,["zoom","feature-state"]))return[new je(A.key,A.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(A.expressionContext==="cluster-initial"&&!Ic(c))return[new je(A.key,A.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function $s(A){const a=A.key,c=A.value,d=A.valueSpec,m=[];return Array.isArray(d.values)?d.values.indexOf(Oi(c))===-1&&m.push(new je(a,c,`expected one of [${d.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(d.values).indexOf(Oi(c))===-1&&m.push(new je(a,c,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(c)} found`)),m}function Lh(A){return Nc(Co(A.value))?Mo(bt({},A,{expressionContext:"filter",valueSpec:{value:"boolean"}})):kh(A)}function kh(A){const a=A.value,c=A.key;if(Kr(a)!=="array")return[new je(c,a,`array expected, ${Kr(a)} found`)];const d=A.styleSpec;let m,y=[];if(a.length<1)return[new je(c,a,"filter array must have at least 1 element")];switch(y=y.concat($s({key:`${c}[0]`,value:a[0],valueSpec:d.filter_operator,style:A.style,styleSpec:A.styleSpec})),Oi(a[0])){case"<":case"<=":case">":case">=":a.length>=2&&Oi(a[1])==="$type"&&y.push(new je(c,a,`"$type" cannot be use with operator "${a[0]}"`));case"==":case"!=":a.length!==3&&y.push(new je(c,a,`filter array for operator "${a[0]}" must have 3 elements`));case"in":case"!in":a.length>=2&&(m=Kr(a[1]),m!=="string"&&y.push(new je(`${c}[1]`,a[1],`string expected, ${m} found`)));for(let x=2;x<a.length;x++)m=Kr(a[x]),Oi(a[1])==="$type"?y=y.concat($s({key:`${c}[${x}]`,value:a[x],valueSpec:d.geometry_type,style:A.style,styleSpec:A.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&y.push(new je(`${c}[${x}]`,a[x],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let x=1;x<a.length;x++)y=y.concat(kh({key:`${c}[${x}]`,value:a[x],style:A.style,styleSpec:A.styleSpec}));break;case"has":case"!has":m=Kr(a[1]),a.length!==2?y.push(new je(c,a,`filter array for "${a[0]}" operator must have 2 elements`)):m!=="string"&&y.push(new je(`${c}[1]`,a[1],`string expected, ${m} found`))}return y}function Qh(A,a){const c=A.key,d=A.validateSpec,m=A.style,y=A.styleSpec,x=A.value,R=A.objectKey,F=y[`${a}_${A.layerType}`];if(!F)return[];const N=R.match(/^(.*)-transition$/);if(a==="paint"&&N&&F[N[1]]&&F[N[1]].transition)return d({key:c,value:x,valueSpec:y.transition,style:m,styleSpec:y});const P=A.valueSpec||F[R];if(!P)return[new je(c,x,`unknown property "${R}"`)];let D;if(Kr(x)==="string"&&gl(P)&&!P.tokens&&(D=/^{([^}]+)}$/.exec(x)))return[new je(c,x,`"${R}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(D[1])} }\`.`)];const j=[];return A.layerType==="symbol"&&(R==="text-field"&&m&&!m.glyphs&&j.push(new je(c,x,'use of "text-field" requires a style "glyphs" property')),R==="text-font"&&Ec(Co(x))&&Oi(x.type)==="identity"&&j.push(new je(c,x,'"text-font" does not support identity functions'))),j.concat(d({key:A.key,value:x,valueSpec:P,style:m,styleSpec:y,expressionContext:"property",propertyType:a,propertyKey:R}))}function mf(A){return Qh(A,"paint")}function Dh(A){return Qh(A,"layout")}function zh(A){let a=[];const c=A.value,d=A.key,m=A.style,y=A.styleSpec;c.type||c.ref||a.push(new je(d,c,'either "type" or "ref" is required'));let x=Oi(c.type);const R=Oi(c.ref);if(c.id){const F=Oi(c.id);for(let N=0;N<A.arrayIndex;N++){const P=m.layers[N];Oi(P.id)===F&&a.push(new je(d,c.id,`duplicate layer id "${c.id}", previously used at line ${P.id.__line__}`))}}if("ref"in c){let F;["type","source","source-layer","filter","layout"].forEach(N=>{N in c&&a.push(new je(d,c[N],`"${N}" is prohibited for ref layers`))}),m.layers.forEach(N=>{Oi(N.id)===R&&(F=N)}),F?F.ref?a.push(new je(d,c.ref,"ref cannot reference another ref layer")):x=Oi(F.type):a.push(new je(d,c.ref,`ref layer "${R}" not found`))}else if(x!=="background")if(c.source){const F=m.sources&&m.sources[c.source],N=F&&Oi(F.type);F?N==="vector"&&x==="raster"?a.push(new je(d,c.source,`layer "${c.id}" requires a raster source`)):N!=="raster-dem"&&x==="hillshade"?a.push(new je(d,c.source,`layer "${c.id}" requires a raster-dem source`)):N==="raster"&&x!=="raster"?a.push(new je(d,c.source,`layer "${c.id}" requires a vector source`)):N!=="vector"||c["source-layer"]?N==="raster-dem"&&x!=="hillshade"?a.push(new je(d,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):x!=="line"||!c.paint||!c.paint["line-gradient"]||N==="geojson"&&F.lineMetrics||a.push(new je(d,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):a.push(new je(d,c,`layer "${c.id}" must specify a "source-layer"`)):a.push(new je(d,c.source,`source "${c.source}" not found`))}else a.push(new je(d,c,'missing required property "source"'));return a=a.concat(yn({key:d,value:c,valueSpec:y.layer,style:A.style,styleSpec:A.styleSpec,validateSpec:A.validateSpec,objectElementValidators:{"*":()=>[],type:()=>A.validateSpec({key:`${d}.type`,value:c.type,valueSpec:y.layer.type,style:A.style,styleSpec:A.styleSpec,validateSpec:A.validateSpec,object:c,objectKey:"type"}),filter:Lh,layout:F=>yn({layer:c,key:F.key,value:F.value,style:F.style,styleSpec:F.styleSpec,validateSpec:F.validateSpec,objectElementValidators:{"*":N=>Dh(bt({layerType:x},N))}}),paint:F=>yn({layer:c,key:F.key,value:F.value,style:F.style,styleSpec:F.styleSpec,validateSpec:F.validateSpec,objectElementValidators:{"*":N=>mf(bt({layerType:x},N))}})}})),a}function Sn(A){const a=A.value,c=A.key,d=Kr(a);return d!=="string"?[new je(c,a,`string expected, ${d} found`)]:[]}const _f={promoteId:function({key:A,value:a}){if(Kr(a)==="string")return Sn({key:A,value:a});{const c=[];for(const d in a)c.push(...Sn({key:`${A}.${d}`,value:a[d]}));return c}}};function bf(A){const a=A.value,c=A.key,d=A.styleSpec,m=A.style,y=A.validateSpec;if(!a.type)return[new je(c,a,'"type" is required')];const x=Oi(a.type);let R;switch(x){case"vector":case"raster":return R=yn({key:c,value:a,valueSpec:d[`source_${x.replace("-","_")}`],style:A.style,styleSpec:d,objectElementValidators:_f,validateSpec:y}),R;case"raster-dem":return R=function(F){var N;const P=(N=F.sourceName)!==null&&N!==void 0?N:"",D=F.value,j=F.styleSpec,$=j.source_raster_dem,q=F.style;let ae=[];const fe=Kr(D);if(D===void 0)return ae;if(fe!=="object")return ae.push(new je("source_raster_dem",D,`object expected, ${fe} found`)),ae;const ye=Oi(D.encoding)==="custom",Le=["redFactor","greenFactor","blueFactor","baseShift"],Me=F.value.encoding?`"${F.value.encoding}"`:"Default";for(const K in D)!ye&&Le.includes(K)?ae.push(new je(K,D[K],`In "${P}": "${K}" is only valid when "encoding" is set to "custom". ${Me} encoding found`)):$[K]?ae=ae.concat(F.validateSpec({key:K,value:D[K],valueSpec:$[K],validateSpec:F.validateSpec,style:q,styleSpec:j})):ae.push(new je(K,D[K],`unknown property "${K}"`));return ae}({sourceName:c,value:a,style:A.style,styleSpec:d,validateSpec:y}),R;case"geojson":if(R=yn({key:c,value:a,valueSpec:d.source_geojson,style:m,styleSpec:d,validateSpec:y,objectElementValidators:_f}),a.cluster)for(const F in a.clusterProperties){const[N,P]=a.clusterProperties[F],D=typeof N=="string"?[N,["accumulated"],["get",F]]:N;R.push(...Mo({key:`${c}.${F}.map`,value:P,expressionContext:"cluster-map"})),R.push(...Mo({key:`${c}.${F}.reduce`,value:D,expressionContext:"cluster-reduce"}))}return R;case"video":return yn({key:c,value:a,valueSpec:d.source_video,style:m,validateSpec:y,styleSpec:d});case"image":return yn({key:c,value:a,valueSpec:d.source_image,style:m,validateSpec:y,styleSpec:d});case"canvas":return[new je(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return $s({key:`${c}.type`,value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function yf(A){const a=A.value,c=A.styleSpec,d=c.light,m=A.style;let y=[];const x=Kr(a);if(a===void 0)return y;if(x!=="object")return y=y.concat([new je("light",a,`object expected, ${x} found`)]),y;for(const R in a){const F=R.match(/^(.*)-transition$/);y=y.concat(F&&d[F[1]]&&d[F[1]].transition?A.validateSpec({key:R,value:a[R],valueSpec:c.transition,validateSpec:A.validateSpec,style:m,styleSpec:c}):d[R]?A.validateSpec({key:R,value:a[R],valueSpec:d[R],validateSpec:A.validateSpec,style:m,styleSpec:c}):[new je(R,a[R],`unknown property "${R}"`)])}return y}function vf(A){const a=A.value,c=A.styleSpec,d=c.sky,m=A.style,y=Kr(a);if(a===void 0)return[];if(y!=="object")return[new je("sky",a,`object expected, ${y} found`)];let x=[];for(const R in a)x=x.concat(d[R]?A.validateSpec({key:R,value:a[R],valueSpec:d[R],style:m,styleSpec:c}):[new je(R,a[R],`unknown property "${R}"`)]);return x}function xf(A){const a=A.value,c=A.styleSpec,d=c.terrain,m=A.style;let y=[];const x=Kr(a);if(a===void 0)return y;if(x!=="object")return y=y.concat([new je("terrain",a,`object expected, ${x} found`)]),y;for(const R in a)y=y.concat(d[R]?A.validateSpec({key:R,value:a[R],valueSpec:d[R],validateSpec:A.validateSpec,style:m,styleSpec:c}):[new je(R,a[R],`unknown property "${R}"`)]);return y}function wf(A){let a=[];const c=A.value,d=A.key;if(Array.isArray(c)){const m=[],y=[];for(const x in c)c[x].id&&m.includes(c[x].id)&&a.push(new je(d,c,`all the sprites' ids must be unique, but ${c[x].id} is duplicated`)),m.push(c[x].id),c[x].url&&y.includes(c[x].url)&&a.push(new je(d,c,`all the sprites' URLs must be unique, but ${c[x].url} is duplicated`)),y.push(c[x].url),a=a.concat(yn({key:`${d}[${x}]`,value:c[x],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:A.validateSpec}));return a}return Sn({key:d,value:c})}const ml={"*":()=>[],array:Nh,boolean:function(A){const a=A.value,c=A.key,d=Kr(a);return d!=="boolean"?[new je(c,a,`boolean expected, ${d} found`)]:[]},number:Yh,color:function(A){const a=A.key,c=A.value,d=Kr(c);return d!=="string"?[new je(a,c,`color expected, ${d} found`)]:Tr.parse(String(c))?[]:[new je(a,c,`color expected, "${c}" found`)]},constants:pf,enum:$s,filter:Lh,function:Ph,layer:zh,object:yn,source:bf,light:yf,sky:vf,terrain:xf,projection:function(A){const a=A.value,c=A.styleSpec,d=c.projection,m=A.style,y=Kr(a);if(a===void 0)return[];if(y!=="object")return[new je("projection",a,`object expected, ${y} found`)];let x=[];for(const R in a)x=x.concat(d[R]?A.validateSpec({key:R,value:a[R],valueSpec:d[R],style:m,styleSpec:c}):[new je(R,a[R],`unknown property "${R}"`)]);return x},projectionDefinition:function(A){const a=A.key;let c=A.value;c=c instanceof String?c.valueOf():c;const d=Kr(c);return d!=="array"||function(m){return Array.isArray(m)&&m.length===3&&typeof m[0]=="string"&&typeof m[1]=="string"&&typeof m[2]=="number"}(c)||function(m){return!!["interpolate","step","literal"].includes(m[0])}(c)?["array","string"].includes(d)?[]:[new je(a,c,`projection expected, invalid type "${d}" found`)]:[new je(a,c,`projection expected, invalid array ${JSON.stringify(c)} found`)]},string:Sn,formatted:function(A){return Sn(A).length===0?[]:Mo(A)},resolvedImage:function(A){return Sn(A).length===0?[]:Mo(A)},padding:function(A){const a=A.key,c=A.value;if(Kr(c)==="array"){if(c.length<1||c.length>4)return[new je(a,c,`padding requires 1 to 4 values; ${c.length} values found`)];const d={type:"number"};let m=[];for(let y=0;y<c.length;y++)m=m.concat(A.validateSpec({key:`${a}[${y}]`,value:c[y],validateSpec:A.validateSpec,valueSpec:d}));return m}return Yh({key:a,value:c,valueSpec:{}})},variableAnchorOffsetCollection:function(A){const a=A.key,c=A.value,d=Kr(c),m=A.styleSpec;if(d!=="array"||c.length<1||c.length%2!=0)return[new je(a,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let y=[];for(let x=0;x<c.length;x+=2)y=y.concat($s({key:`${a}[${x}]`,value:c[x],valueSpec:m.layout_symbol["text-anchor"]})),y=y.concat(Nh({key:`${a}[${x+1}]`,value:c[x+1],valueSpec:{length:2,value:"number"},validateSpec:A.validateSpec,style:A.style,styleSpec:m}));return y},sprite:wf};function qs(A){const a=A.value,c=A.valueSpec,d=A.styleSpec;return A.validateSpec=qs,c.expression&&Ec(Oi(a))?Ph(A):c.expression&&Bo(Co(a))?Mo(A):c.type&&ml[c.type]?ml[c.type](A):yn(bt({},A,{valueSpec:c.type?d[c.type]:c}))}function ja(A){const a=A.value,c=A.key,d=Sn(A);return d.length||(a.indexOf("{fontstack}")===-1&&d.push(new je(c,a,'"glyphs" url must include a "{fontstack}" token')),a.indexOf("{range}")===-1&&d.push(new je(c,a,'"glyphs" url must include a "{range}" token'))),d}function za(A,a=ce){let c=[];return c=c.concat(qs({key:"",value:A,valueSpec:a.$root,styleSpec:a,style:A,validateSpec:qs,objectElementValidators:{glyphs:ja,"*":()=>[]}})),A.constants&&(c=c.concat(pf({key:"constants",value:A.constants}))),Bf(c)}function Nn(A){return function(a){return A({...a,validateSpec:qs})}}function Bf(A){return[].concat(A).sort((a,c)=>a.line-c.line)}function Jn(A){return function(...a){return Bf(A.apply(this,a))}}za.source=Jn(Nn(bf)),za.sprite=Jn(Nn(wf)),za.glyphs=Jn(Nn(ja)),za.light=Jn(Nn(yf)),za.sky=Jn(Nn(vf)),za.terrain=Jn(Nn(xf)),za.layer=Jn(Nn(zh)),za.filter=Jn(Nn(Lh)),za.paintProperty=Jn(Nn(mf)),za.layoutProperty=Jn(Nn(Dh));const es=za,Cf=es.light,Zh=es.sky,i2=es.paintProperty,Oh=es.layoutProperty;function Mf(A,a){let c=!1;if(a&&a.length)for(const d of a)A.fire(new ge(new Error(d.message))),c=!0;return c}class ys{constructor(a,c,d){const m=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;const x=new Int32Array(this.arrayBuffer);a=x[0],this.d=(c=x[1])+2*(d=x[2]);for(let F=0;F<this.d*this.d;F++){const N=x[3+F],P=x[3+F+1];m.push(N===P?null:x.subarray(N,P))}const R=x[3+m.length+1];this.keys=x.subarray(x[3+m.length],R),this.bboxes=x.subarray(R),this.insert=this._insertReadonly}else{this.d=c+2*d;for(let x=0;x<this.d*this.d;x++)m.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=a,this.padding=d,this.scale=c/a,this.uid=0;const y=d/c*a;this.min=-y,this.max=a+y}insert(a,c,d,m,y){this._forEachCell(c,d,m,y,this._insertCell,this.uid++,void 0,void 0),this.keys.push(a),this.bboxes.push(c),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(y)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(a,c,d,m,y,x){this.cells[y].push(x)}query(a,c,d,m,y){const x=this.min,R=this.max;if(a<=x&&c<=x&&R<=d&&R<=m&&!y)return Array.prototype.slice.call(this.keys);{const F=[];return this._forEachCell(a,c,d,m,this._queryCell,F,{},y),F}}_queryCell(a,c,d,m,y,x,R,F){const N=this.cells[y];if(N!==null){const P=this.keys,D=this.bboxes;for(let j=0;j<N.length;j++){const $=N[j];if(R[$]===void 0){const q=4*$;(F?F(D[q+0],D[q+1],D[q+2],D[q+3]):a<=D[q+2]&&c<=D[q+3]&&d>=D[q+0]&&m>=D[q+1])?(R[$]=!0,x.push(P[$])):R[$]=!1}}}}_forEachCell(a,c,d,m,y,x,R,F){const N=this._convertToCellCoord(a),P=this._convertToCellCoord(c),D=this._convertToCellCoord(d),j=this._convertToCellCoord(m);for(let $=N;$<=D;$++)for(let q=P;q<=j;q++){const ae=this.d*q+$;if((!F||F(this._convertFromCellCoord($),this._convertFromCellCoord(q),this._convertFromCellCoord($+1),this._convertFromCellCoord(q+1)))&&y.call(this,a,c,d,m,ae,x,R,F))return}}_convertFromCellCoord(a){return(a-this.padding)/this.scale}_convertToCellCoord(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const a=this.cells,c=3+this.cells.length+1+1;let d=0;for(let x=0;x<this.cells.length;x++)d+=this.cells[x].length;const m=new Int32Array(c+d+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let y=c;for(let x=0;x<a.length;x++){const R=a[x];m[3+x]=y,m.set(R,y),y+=R.length}return m[3+a.length]=y,m.set(this.keys,y),y+=this.keys.length,m[3+a.length+1]=y,m.set(this.bboxes,y),y+=this.bboxes.length,m.buffer}static serialize(a,c){const d=a.toArrayBuffer();return c&&c.push(d),{buffer:d}}static deserialize(a){return new ys(a.buffer)}}const vs={};function Xt(A,a,c={}){if(vs[A])throw new Error(`${A} is already registered.`);Object.defineProperty(a,"_classRegistryKey",{value:A,writeable:!1}),vs[A]={klass:a,omit:c.omit||[],shallow:c.shallow||[]}}Xt("Object",Object),Xt("TransferableGridIndex",ys),Xt("Color",Tr),Xt("Error",Error),Xt("AJAXError",Wi),Xt("ResolvedImage",rn),Xt("StylePropertyFunction",Tc),Xt("StyleExpression",Ih,{omit:["_evaluator"]}),Xt("ZoomDependentExpression",Eh),Xt("ZoomConstantExpression",Uh),Xt("CompoundExpression",bn,{omit:["_evaluate"]});for(const A in dl)dl[A]._classRegistryKey||Xt(`Expression_${A}`,dl[A]);function Rf(A){return A&&typeof ArrayBuffer<"u"&&(A instanceof ArrayBuffer||A.constructor&&A.constructor.name==="ArrayBuffer")}function Hh(A){return A.$name||A.constructor._classRegistryKey}function vA(A){return!function(a){if(a===null||typeof a!="object")return!1;const c=Hh(a);return!(!c||c==="Object")}(A)&&(A==null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||A instanceof Boolean||A instanceof Number||A instanceof String||A instanceof Date||A instanceof RegExp||A instanceof Blob||A instanceof Error||Rf(A)||fr(A)||ArrayBuffer.isView(A)||A instanceof ImageData)}function xA(A,a){if(vA(A))return(Rf(A)||fr(A))&&a&&a.push(A),ArrayBuffer.isView(A)&&a&&a.push(A.buffer),A instanceof ImageData&&a&&a.push(A.data.buffer),A;if(Array.isArray(A)){const y=[];for(const x of A)y.push(xA(x,a));return y}if(typeof A!="object")throw new Error("can't serialize object of type "+typeof A);const c=Hh(A);if(!c)throw new Error(`can't serialize object of unregistered class ${A.constructor.name}`);if(!vs[c])throw new Error(`${c} is not registered.`);const{klass:d}=vs[c],m=d.serialize?d.serialize(A,a):{};if(d.serialize){if(a&&m===a[a.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const y in A){if(!A.hasOwnProperty(y)||vs[c].omit.indexOf(y)>=0)continue;const x=A[y];m[y]=vs[c].shallow.indexOf(y)>=0?x:xA(x,a)}A instanceof Error&&(m.message=A.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(m.$name=c),m}function Ro(A){if(vA(A))return A;if(Array.isArray(A))return A.map(Ro);if(typeof A!="object")throw new Error("can't deserialize object of type "+typeof A);const a=Hh(A)||"Object";if(!vs[a])throw new Error(`can't deserialize unregistered class ${a}`);const{klass:c}=vs[a];if(!c)throw new Error(`can't deserialize unregistered class ${a}`);if(c.deserialize)return c.deserialize(A);const d=Object.create(c.prototype);for(const m of Object.keys(A)){if(m==="$name")continue;const y=A[m];d[m]=vs[a].shallow.indexOf(m)>=0?y:Ro(y)}return d}class wA{constructor(){this.first=!0}update(a,c){const d=Math.floor(a);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=a,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=c),a!==this.lastZoom&&(this.lastZoom=a,this.lastFloorZoom=d,!0))}}const Lr={"Latin-1 Supplement":A=>A>=128&&A<=255,"Hangul Jamo":A=>A>=4352&&A<=4607,Khmer:A=>A>=6016&&A<=6143,"General Punctuation":A=>A>=8192&&A<=8303,"Letterlike Symbols":A=>A>=8448&&A<=8527,"Number Forms":A=>A>=8528&&A<=8591,"Miscellaneous Technical":A=>A>=8960&&A<=9215,"Control Pictures":A=>A>=9216&&A<=9279,"Optical Character Recognition":A=>A>=9280&&A<=9311,"Enclosed Alphanumerics":A=>A>=9312&&A<=9471,"Geometric Shapes":A=>A>=9632&&A<=9727,"Miscellaneous Symbols":A=>A>=9728&&A<=9983,"Miscellaneous Symbols and Arrows":A=>A>=11008&&A<=11263,"Ideographic Description Characters":A=>A>=12272&&A<=12287,"CJK Symbols and Punctuation":A=>A>=12288&&A<=12351,Hiragana:A=>A>=12352&&A<=12447,Katakana:A=>A>=12448&&A<=12543,Kanbun:A=>A>=12688&&A<=12703,"CJK Strokes":A=>A>=12736&&A<=12783,"Enclosed CJK Letters and Months":A=>A>=12800&&A<=13055,"CJK Compatibility":A=>A>=13056&&A<=13311,"Yijing Hexagram Symbols":A=>A>=19904&&A<=19967,"CJK Unified Ideographs":A=>A>=19968&&A<=40959,"Hangul Syllables":A=>A>=44032&&A<=55215,"Private Use Area":A=>A>=57344&&A<=63743,"Vertical Forms":A=>A>=65040&&A<=65055,"CJK Compatibility Forms":A=>A>=65072&&A<=65103,"Small Form Variants":A=>A>=65104&&A<=65135,"Halfwidth and Fullwidth Forms":A=>A>=65280&&A<=65519};function kc(A){for(const a of A)if(Dc(a.charCodeAt(0)))return!0;return!1}function If(A){for(const a of A)if(!Uf(a.charCodeAt(0)))return!1;return!0}function Qc(A){const a=A.map(c=>{try{return new RegExp(`\\p{sc=${c}}`,"u").source}catch{return null}}).filter(c=>c);return new RegExp(a.join("|"),"u")}const Xh=Qc(["Arab","Dupl","Mong","Ougr","Syrc"]);function Uf(A){return!Xh.test(String.fromCodePoint(A))}const Ef=Qc(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Dc(A){return!(A!==746&&A!==747&&(A<4352||!(Lr["CJK Compatibility Forms"](A)&&!(A>=65097&&A<=65103)||Lr["CJK Compatibility"](A)||Lr["CJK Strokes"](A)||!(!Lr["CJK Symbols and Punctuation"](A)||A>=12296&&A<=12305||A>=12308&&A<=12319||A===12336)||Lr["Enclosed CJK Letters and Months"](A)||Lr["Ideographic Description Characters"](A)||Lr.Kanbun(A)||Lr.Katakana(A)&&A!==12540||!(!Lr["Halfwidth and Fullwidth Forms"](A)||A===65288||A===65289||A===65293||A>=65306&&A<=65310||A===65339||A===65341||A===65343||A>=65371&&A<=65503||A===65507||A>=65512&&A<=65519)||!(!Lr["Small Form Variants"](A)||A>=65112&&A<=65118||A>=65123&&A<=65126)||Lr["Vertical Forms"](A)||Lr["Yijing Hexagram Symbols"](A)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(A))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(A))||Ef.test(String.fromCodePoint(A)))))}function Ff(A){return!(Dc(A)||function(a){return!!(Lr["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||Lr["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||Lr["Letterlike Symbols"](a)||Lr["Number Forms"](a)||Lr["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||Lr["Control Pictures"](a)&&a!==9251||Lr["Optical Character Recognition"](a)||Lr["Enclosed Alphanumerics"](a)||Lr["Geometric Shapes"](a)||Lr["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||Lr["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||Lr["CJK Symbols and Punctuation"](a)||Lr.Katakana(a)||Lr["Private Use Area"](a)||Lr["CJK Compatibility Forms"](a)||Lr["Small Form Variants"](a)||Lr["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)}(A))}const Tf=Qc(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Vh(A){return Tf.test(String.fromCodePoint(A))}function Sf(A,a){return!(!a&&Vh(A)||A>=2304&&A<=3583||A>=3840&&A<=4255||Lr.Khmer(A))}function a2(A){for(const a of A)if(Vh(a.charCodeAt(0)))return!0;return!1}const Ws=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(A){this.pluginStatus=A.pluginStatus,this.pluginURL=A.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(A){if(Ws.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=A.applyArabicShaping,this.processBidirectionalText=A.processBidirectionalText,this.processStyledBidirectionalText=A.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(A,a){return s(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(A.pluginStatus!=="loading")return this.setState(A),A;const c=A.pluginURL,d=new Promise(y=>{this.loadScriptResolve=y});a(c);const m=new Promise(y=>setTimeout(()=>y(),this.TIMEOUT));if(yield Promise.race([d,m]),this.isParsed()){const y={pluginStatus:"loaded",pluginURL:c};return this.setState(y),y}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${c}`)})}};class _i{constructor(a,c){this.zoom=a,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new wA,this.transition={})}isSupportedScript(a){return function(c,d){for(const m of c)if(!Sf(m.charCodeAt(0),d))return!1;return!0}(a,Ws.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const a=this.zoom,c=a-Math.floor(a),d=this.crossFadingFactor();return a>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*c}}}class BA{constructor(a,c){this.property=a,this.value=c,this.expression=function(d,m){if(Ec(d))return new Tc(d,m);if(Bo(d)){const y=ff(d,m);if(y.result==="error")throw new Error(y.value.map(x=>`${x.key}: ${x.message}`).join(", "));return y.value}{let y=d;return m.type==="color"&&typeof d=="string"?y=Tr.parse(d):m.type!=="padding"||typeof d!="number"&&!Array.isArray(d)?m.type==="variableAnchorOffsetCollection"&&Array.isArray(d)?y=Ba.parse(d):m.type==="projectionDefinition"&&typeof d=="string"&&(y=Da.parse(d)):y=Fa.parse(d),{kind:"constant",evaluate:()=>y}}}(c===void 0?a.specification.default:c,a.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(a,c,d){return this.property.possiblyEvaluate(this,a,c,d)}}class zc{constructor(a){this.property=a,this.value=new BA(a,void 0)}transitioned(a,c){return new CA(this.property,this.value,c,Et({},a.transition,this.transition),a.now)}untransitioned(){return new CA(this.property,this.value,null,{},0)}}class Gh{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues)}getValue(a){return Mt(this._values[a].value.value)}setValue(a,c){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new zc(this._values[a].property)),this._values[a].value=new BA(this._values[a].property,c===null?void 0:Mt(c))}getTransition(a){return Mt(this._values[a].transition)}setTransition(a,c){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new zc(this._values[a].property)),this._values[a].transition=Mt(c)||void 0}serialize(){const a={};for(const c of Object.keys(this._values)){const d=this.getValue(c);d!==void 0&&(a[c]=d);const m=this.getTransition(c);m!==void 0&&(a[`${c}-transition`]=m)}return a}transitioned(a,c){const d=new Nf(this._properties);for(const m of Object.keys(this._values))d._values[m]=this._values[m].transitioned(a,c._values[m]);return d}untransitioned(){const a=new Nf(this._properties);for(const c of Object.keys(this._values))a._values[c]=this._values[c].untransitioned();return a}}class CA{constructor(a,c,d,m,y){this.property=a,this.value=c,this.begin=y+m.delay||0,this.end=this.begin+m.duration||0,a.specification.transition&&(m.delay||m.duration)&&(this.prior=d)}possiblyEvaluate(a,c,d){const m=a.now||0,y=this.value.possiblyEvaluate(a,c,d),x=this.prior;if(x){if(m>this.end)return this.prior=null,y;if(this.value.isDataDriven())return this.prior=null,y;if(m<this.begin)return x.possiblyEvaluate(a,c,d);{const R=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(x.possiblyEvaluate(a,c,d),y,mt(R))}}return y}}class Nf{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)}possiblyEvaluate(a,c,d){const m=new Zc(this._properties);for(const y of Object.keys(this._values))m._values[y]=this._values[y].possiblyEvaluate(a,c,d);return m}hasTransition(){for(const a of Object.keys(this._values))if(this._values[a].prior)return!0;return!1}}class jh{constructor(a){this._properties=a,this._values=Object.create(a.defaultPropertyValues)}hasValue(a){return this._values[a].value!==void 0}getValue(a){return Mt(this._values[a].value)}setValue(a,c){this._values[a]=new BA(this._values[a].property,c===null?void 0:Mt(c))}serialize(){const a={};for(const c of Object.keys(this._values)){const d=this.getValue(c);d!==void 0&&(a[c]=d)}return a}possiblyEvaluate(a,c,d){const m=new Zc(this._properties);for(const y of Object.keys(this._values))m._values[y]=this._values[y].possiblyEvaluate(a,c,d);return m}}class ts{constructor(a,c,d){this.property=a,this.value=c,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(a){return this.value.kind==="constant"?this.value.value:a}evaluate(a,c,d,m){return this.property.evaluate(this.value,this.parameters,a,c,d,m)}}class Zc{constructor(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)}get(a){return this._values[a]}}class cr{constructor(a){this.specification=a}possiblyEvaluate(a,c){if(a.isDataDriven())throw new Error("Value should not be data driven");return a.expression.evaluate(c)}interpolate(a,c,d){const m=gi[this.specification.type];return m?m(a,c,d):a}}class yr{constructor(a,c){this.specification=a,this.overrides=c}possiblyEvaluate(a,c,d,m){return new ts(this,a.expression.kind==="constant"||a.expression.kind==="camera"?{kind:"constant",value:a.expression.evaluate(c,null,{},d,m)}:a.expression,c)}interpolate(a,c,d){if(a.value.kind!=="constant"||c.value.kind!=="constant")return a;if(a.value.value===void 0||c.value.value===void 0)return new ts(this,{kind:"constant",value:void 0},a.parameters);const m=gi[this.specification.type];if(m){const y=m(a.value.value,c.value.value,d);return new ts(this,{kind:"constant",value:y},a.parameters)}return a}evaluate(a,c,d,m,y,x){return a.kind==="constant"?a.value:a.evaluate(c,d,m,y,x)}}class MA extends yr{possiblyEvaluate(a,c,d,m){if(a.value===void 0)return new ts(this,{kind:"constant",value:void 0},c);if(a.expression.kind==="constant"){const y=a.expression.evaluate(c,null,{},d,m),x=a.property.specification.type==="resolvedImage"&&typeof y!="string"?y.name:y,R=this._calculate(x,x,x,c);return new ts(this,{kind:"constant",value:R},c)}if(a.expression.kind==="camera"){const y=this._calculate(a.expression.evaluate({zoom:c.zoom-1}),a.expression.evaluate({zoom:c.zoom}),a.expression.evaluate({zoom:c.zoom+1}),c);return new ts(this,{kind:"constant",value:y},c)}return new ts(this,a.expression,c)}evaluate(a,c,d,m,y,x){if(a.kind==="source"){const R=a.evaluate(c,d,m,y,x);return this._calculate(R,R,R,c)}return a.kind==="composite"?this._calculate(a.evaluate({zoom:Math.floor(c.zoom)-1},d,m),a.evaluate({zoom:Math.floor(c.zoom)},d,m),a.evaluate({zoom:Math.floor(c.zoom)+1},d,m),c):a.value}_calculate(a,c,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:a,to:c}:{from:d,to:c}}interpolate(a){return a}}class Kh{constructor(a){this.specification=a}possiblyEvaluate(a,c,d,m){if(a.value!==void 0){if(a.expression.kind==="constant"){const y=a.expression.evaluate(c,null,{},d,m);return this._calculate(y,y,y,c)}return this._calculate(a.expression.evaluate(new _i(Math.floor(c.zoom-1),c)),a.expression.evaluate(new _i(Math.floor(c.zoom),c)),a.expression.evaluate(new _i(Math.floor(c.zoom+1),c)),c)}}_calculate(a,c,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:a,to:c}:{from:d,to:c}}interpolate(a){return a}}class $h{constructor(a){this.specification=a}possiblyEvaluate(a,c,d,m){return!!a.expression.evaluate(c,null,{},d,m)}interpolate(){return!1}}class Ka{constructor(a){this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in a){const d=a[c];d.specification.overridable&&this.overridableProperties.push(c);const m=this.defaultPropertyValues[c]=new BA(d,void 0),y=this.defaultTransitionablePropertyValues[c]=new zc(d);this.defaultTransitioningPropertyValues[c]=y.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=m.possiblyEvaluate({})}}}Xt("DataDrivenProperty",yr),Xt("DataConstantProperty",cr),Xt("CrossFadedDataDrivenProperty",MA),Xt("CrossFadedProperty",Kh),Xt("ColorRampProperty",$h);const Yf="-transition";class rs extends we{constructor(a,c){if(super(),this.id=a.id,this.type=a.type,this._featureFilter={filter:()=>!0,needGeometry:!1},a.type!=="custom"&&(this.metadata=a.metadata,this.minzoom=a.minzoom,this.maxzoom=a.maxzoom,a.type!=="background"&&(this.source=a.source,this.sourceLayer=a["source-layer"],this.filter=a.filter),c.layout&&(this._unevaluatedLayout=new jh(c.layout)),c.paint)){this._transitionablePaint=new Gh(c.paint);for(const d in a.paint)this.setPaintProperty(d,a.paint[d],{validate:!1});for(const d in a.layout)this.setLayoutProperty(d,a.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Zc(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(a){return a==="visibility"?this.visibility:this._unevaluatedLayout.getValue(a)}setLayoutProperty(a,c,d={}){c!=null&&this._validate(Oh,`layers.${this.id}.layout.${a}`,a,c,d)||(a!=="visibility"?this._unevaluatedLayout.setValue(a,c):this.visibility=c)}getPaintProperty(a){return a.endsWith(Yf)?this._transitionablePaint.getTransition(a.slice(0,-11)):this._transitionablePaint.getValue(a)}setPaintProperty(a,c,d={}){if(c!=null&&this._validate(i2,`layers.${this.id}.paint.${a}`,a,c,d))return!1;if(a.endsWith(Yf))return this._transitionablePaint.setTransition(a.slice(0,-11),c||void 0),!1;{const m=this._transitionablePaint._values[a],y=m.property.specification["property-type"]==="cross-faded-data-driven",x=m.value.isDataDriven(),R=m.value;this._transitionablePaint.setValue(a,c),this._handleSpecialPaintPropertyUpdate(a);const F=this._transitionablePaint._values[a].value;return F.isDataDriven()||x||y||this._handleOverridablePaintPropertyUpdate(a,R,F)}}_handleSpecialPaintPropertyUpdate(a){}_handleOverridablePaintPropertyUpdate(a,c,d){return!1}isHidden(a){return!!(this.minzoom&&a<this.minzoom)||!!(this.maxzoom&&a>=this.maxzoom)||this.visibility==="none"}updateTransitions(a){this._transitioningPaint=this._transitionablePaint.transitioned(a,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(a,c){a.getCrossfadeParameters&&(this._crossfadeParameters=a.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(a,void 0,c)}serialize(){const a={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(a.layout=a.layout||{},a.layout.visibility=this.visibility),Rt(a,(c,d)=>!(c===void 0||d==="layout"&&!Object.keys(c).length||d==="paint"&&!Object.keys(c).length))}_validate(a,c,d,m,y={}){return(!y||y.validate!==!1)&&Mf(this,a.call(es,{key:c,layerType:this.type,objectKey:d,value:m,styleSpec:ce,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const a in this.paint._values){const c=this.paint.get(a);if(c instanceof ts&&gl(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}const _l={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class RA{constructor(a,c){this._structArray=a,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Qi{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(a,c){return a._trim(),c&&(a.isTransferred=!0,c.push(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}}static deserialize(a){const c=Object.create(this.prototype);return c.arrayBuffer=a.arrayBuffer,c.length=a.length,c.capacity=a.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(a){this.reserve(a),this.length=a}reserve(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ji(A,a=1){let c=0,d=0;return{members:A.map(m=>{const y=_l[m.type].BYTES_PER_ELEMENT,x=c=qh(c,Math.max(a,y)),R=m.components||1;return d=Math.max(d,y),c+=y*R,{name:m.name,type:m.type,components:R,offset:x}}),size:qh(c,Math.max(d,a)),alignment:a}}function qh(A,a){return Math.ceil(A/a)*a}class IA extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,c){const d=this.length;return this.resize(d+1),this.emplace(d,a,c)}emplace(a,c,d){const m=2*a;return this.int16[m+0]=c,this.int16[m+1]=d,a}}IA.prototype.bytesPerElement=4,Xt("StructArrayLayout2i4",IA);class Oc extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,c,d){const m=this.length;return this.resize(m+1),this.emplace(m,a,c,d)}emplace(a,c,d,m){const y=3*a;return this.int16[y+0]=c,this.int16[y+1]=d,this.int16[y+2]=m,a}}Oc.prototype.bytesPerElement=6,Xt("StructArrayLayout3i6",Oc);class xs extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,c,d,m){const y=this.length;return this.resize(y+1),this.emplace(y,a,c,d,m)}emplace(a,c,d,m,y){const x=4*a;return this.int16[x+0]=c,this.int16[x+1]=d,this.int16[x+2]=m,this.int16[x+3]=y,a}}xs.prototype.bytesPerElement=8,Xt("StructArrayLayout4i8",xs);class Hc extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,c,d,m,y,x){const R=this.length;return this.resize(R+1),this.emplace(R,a,c,d,m,y,x)}emplace(a,c,d,m,y,x,R){const F=6*a;return this.int16[F+0]=c,this.int16[F+1]=d,this.int16[F+2]=m,this.int16[F+3]=y,this.int16[F+4]=x,this.int16[F+5]=R,a}}Hc.prototype.bytesPerElement=12,Xt("StructArrayLayout2i4i12",Hc);class UA extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,c,d,m,y,x){const R=this.length;return this.resize(R+1),this.emplace(R,a,c,d,m,y,x)}emplace(a,c,d,m,y,x,R){const F=4*a,N=8*a;return this.int16[F+0]=c,this.int16[F+1]=d,this.uint8[N+4]=m,this.uint8[N+5]=y,this.uint8[N+6]=x,this.uint8[N+7]=R,a}}UA.prototype.bytesPerElement=8,Xt("StructArrayLayout2i4ub8",UA);class bl extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,c){const d=this.length;return this.resize(d+1),this.emplace(d,a,c)}emplace(a,c,d){const m=2*a;return this.float32[m+0]=c,this.float32[m+1]=d,a}}bl.prototype.bytesPerElement=8,Xt("StructArrayLayout2f8",bl);class EA extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,c,d,m,y,x,R,F,N,P){const D=this.length;return this.resize(D+1),this.emplace(D,a,c,d,m,y,x,R,F,N,P)}emplace(a,c,d,m,y,x,R,F,N,P,D){const j=10*a;return this.uint16[j+0]=c,this.uint16[j+1]=d,this.uint16[j+2]=m,this.uint16[j+3]=y,this.uint16[j+4]=x,this.uint16[j+5]=R,this.uint16[j+6]=F,this.uint16[j+7]=N,this.uint16[j+8]=P,this.uint16[j+9]=D,a}}EA.prototype.bytesPerElement=20,Xt("StructArrayLayout10ui20",EA);class Wh extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,c,d,m,y,x,R,F,N,P,D,j){const $=this.length;return this.resize($+1),this.emplace($,a,c,d,m,y,x,R,F,N,P,D,j)}emplace(a,c,d,m,y,x,R,F,N,P,D,j,$){const q=12*a;return this.int16[q+0]=c,this.int16[q+1]=d,this.int16[q+2]=m,this.int16[q+3]=y,this.uint16[q+4]=x,this.uint16[q+5]=R,this.uint16[q+6]=F,this.uint16[q+7]=N,this.int16[q+8]=P,this.int16[q+9]=D,this.int16[q+10]=j,this.int16[q+11]=$,a}}Wh.prototype.bytesPerElement=24,Xt("StructArrayLayout4i4ui4i24",Wh);class yl extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,c,d){const m=this.length;return this.resize(m+1),this.emplace(m,a,c,d)}emplace(a,c,d,m){const y=3*a;return this.float32[y+0]=c,this.float32[y+1]=d,this.float32[y+2]=m,a}}yl.prototype.bytesPerElement=12,Xt("StructArrayLayout3f12",yl);class Io extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a){const c=this.length;return this.resize(c+1),this.emplace(c,a)}emplace(a,c){return this.uint32[1*a+0]=c,a}}Io.prototype.bytesPerElement=4,Xt("StructArrayLayout1ul4",Io);class Jh extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,c,d,m,y,x,R,F,N){const P=this.length;return this.resize(P+1),this.emplace(P,a,c,d,m,y,x,R,F,N)}emplace(a,c,d,m,y,x,R,F,N,P){const D=10*a,j=5*a;return this.int16[D+0]=c,this.int16[D+1]=d,this.int16[D+2]=m,this.int16[D+3]=y,this.int16[D+4]=x,this.int16[D+5]=R,this.uint32[j+3]=F,this.uint16[D+8]=N,this.uint16[D+9]=P,a}}Jh.prototype.bytesPerElement=20,Xt("StructArrayLayout6i1ul2ui20",Jh);class Xc extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,c,d,m,y,x){const R=this.length;return this.resize(R+1),this.emplace(R,a,c,d,m,y,x)}emplace(a,c,d,m,y,x,R){const F=6*a;return this.int16[F+0]=c,this.int16[F+1]=d,this.int16[F+2]=m,this.int16[F+3]=y,this.int16[F+4]=x,this.int16[F+5]=R,a}}Xc.prototype.bytesPerElement=12,Xt("StructArrayLayout2i2i2i12",Xc);class Uo extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,c,d,m,y){const x=this.length;return this.resize(x+1),this.emplace(x,a,c,d,m,y)}emplace(a,c,d,m,y,x){const R=4*a,F=8*a;return this.float32[R+0]=c,this.float32[R+1]=d,this.float32[R+2]=m,this.int16[F+6]=y,this.int16[F+7]=x,a}}Uo.prototype.bytesPerElement=16,Xt("StructArrayLayout2f1f2i16",Uo);class ed extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,c,d,m,y,x){const R=this.length;return this.resize(R+1),this.emplace(R,a,c,d,m,y,x)}emplace(a,c,d,m,y,x,R){const F=16*a,N=4*a,P=8*a;return this.uint8[F+0]=c,this.uint8[F+1]=d,this.float32[N+1]=m,this.float32[N+2]=y,this.int16[P+6]=x,this.int16[P+7]=R,a}}ed.prototype.bytesPerElement=16,Xt("StructArrayLayout2ub2f2i16",ed);class Vc extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,c,d){const m=this.length;return this.resize(m+1),this.emplace(m,a,c,d)}emplace(a,c,d,m){const y=3*a;return this.uint16[y+0]=c,this.uint16[y+1]=d,this.uint16[y+2]=m,a}}Vc.prototype.bytesPerElement=6,Xt("StructArrayLayout3ui6",Vc);class Gc extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,c,d,m,y,x,R,F,N,P,D,j,$,q,ae,fe,ye){const Le=this.length;return this.resize(Le+1),this.emplace(Le,a,c,d,m,y,x,R,F,N,P,D,j,$,q,ae,fe,ye)}emplace(a,c,d,m,y,x,R,F,N,P,D,j,$,q,ae,fe,ye,Le){const Me=24*a,K=12*a,de=48*a;return this.int16[Me+0]=c,this.int16[Me+1]=d,this.uint16[Me+2]=m,this.uint16[Me+3]=y,this.uint32[K+2]=x,this.uint32[K+3]=R,this.uint32[K+4]=F,this.uint16[Me+10]=N,this.uint16[Me+11]=P,this.uint16[Me+12]=D,this.float32[K+7]=j,this.float32[K+8]=$,this.uint8[de+36]=q,this.uint8[de+37]=ae,this.uint8[de+38]=fe,this.uint32[K+10]=ye,this.int16[Me+22]=Le,a}}Gc.prototype.bytesPerElement=48,Xt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Gc);class td extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,c,d,m,y,x,R,F,N,P,D,j,$,q,ae,fe,ye,Le,Me,K,de,Re,Je,vt,at,At,It,Bt){const Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,a,c,d,m,y,x,R,F,N,P,D,j,$,q,ae,fe,ye,Le,Me,K,de,Re,Je,vt,at,At,It,Bt)}emplace(a,c,d,m,y,x,R,F,N,P,D,j,$,q,ae,fe,ye,Le,Me,K,de,Re,Je,vt,at,At,It,Bt,Tt){const dt=32*a,$t=16*a;return this.int16[dt+0]=c,this.int16[dt+1]=d,this.int16[dt+2]=m,this.int16[dt+3]=y,this.int16[dt+4]=x,this.int16[dt+5]=R,this.int16[dt+6]=F,this.int16[dt+7]=N,this.uint16[dt+8]=P,this.uint16[dt+9]=D,this.uint16[dt+10]=j,this.uint16[dt+11]=$,this.uint16[dt+12]=q,this.uint16[dt+13]=ae,this.uint16[dt+14]=fe,this.uint16[dt+15]=ye,this.uint16[dt+16]=Le,this.uint16[dt+17]=Me,this.uint16[dt+18]=K,this.uint16[dt+19]=de,this.uint16[dt+20]=Re,this.uint16[dt+21]=Je,this.uint16[dt+22]=vt,this.uint32[$t+12]=at,this.float32[$t+13]=At,this.float32[$t+14]=It,this.uint16[dt+30]=Bt,this.uint16[dt+31]=Tt,a}}td.prototype.bytesPerElement=64,Xt("StructArrayLayout8i15ui1ul2f2ui64",td);class _ extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a){const c=this.length;return this.resize(c+1),this.emplace(c,a)}emplace(a,c){return this.float32[1*a+0]=c,a}}_.prototype.bytesPerElement=4,Xt("StructArrayLayout1f4",_);class i extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,c,d){const m=this.length;return this.resize(m+1),this.emplace(m,a,c,d)}emplace(a,c,d,m){const y=3*a;return this.uint16[6*a+0]=c,this.float32[y+1]=d,this.float32[y+2]=m,a}}i.prototype.bytesPerElement=12,Xt("StructArrayLayout1ui2f12",i);class o extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,c,d){const m=this.length;return this.resize(m+1),this.emplace(m,a,c,d)}emplace(a,c,d,m){const y=4*a;return this.uint32[2*a+0]=c,this.uint16[y+2]=d,this.uint16[y+3]=m,a}}o.prototype.bytesPerElement=8,Xt("StructArrayLayout1ul2ui8",o);class f extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,c){const d=this.length;return this.resize(d+1),this.emplace(d,a,c)}emplace(a,c,d){const m=2*a;return this.uint16[m+0]=c,this.uint16[m+1]=d,a}}f.prototype.bytesPerElement=4,Xt("StructArrayLayout2ui4",f);class p extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a){const c=this.length;return this.resize(c+1),this.emplace(c,a)}emplace(a,c){return this.uint16[1*a+0]=c,a}}p.prototype.bytesPerElement=2,Xt("StructArrayLayout1ui2",p);class b extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,c,d,m){const y=this.length;return this.resize(y+1),this.emplace(y,a,c,d,m)}emplace(a,c,d,m,y){const x=4*a;return this.float32[x+0]=c,this.float32[x+1]=d,this.float32[x+2]=m,this.float32[x+3]=y,a}}b.prototype.bytesPerElement=16,Xt("StructArrayLayout4f16",b);class B extends RA{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new S(this.anchorPointX,this.anchorPointY)}}B.prototype.size=20;class E extends Jh{get(a){return new B(this,a)}}Xt("CollisionBoxArray",E);class T extends RA{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(a){this._structArray.uint8[this._pos1+37]=a}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(a){this._structArray.uint8[this._pos1+38]=a}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(a){this._structArray.uint32[this._pos4+10]=a}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}T.prototype.size=48;class Y extends Gc{get(a){return new T(this,a)}}Xt("PlacedSymbolArray",Y);class Q extends RA{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(a){this._structArray.uint32[this._pos4+12]=a}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Q.prototype.size=64;class O extends td{get(a){return new Q(this,a)}}Xt("SymbolInstanceArray",O);class H extends _{getoffsetX(a){return this.float32[1*a+0]}}Xt("GlyphOffsetArray",H);class ee extends Oc{getx(a){return this.int16[3*a+0]}gety(a){return this.int16[3*a+1]}gettileUnitDistanceFromAnchor(a){return this.int16[3*a+2]}}Xt("SymbolLineVertexArray",ee);class ie extends RA{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}ie.prototype.size=12;class me extends i{get(a){return new ie(this,a)}}Xt("TextAnchorOffsetArray",me);class pe extends RA{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}pe.prototype.size=8;class be extends o{get(a){return new pe(this,a)}}Xt("FeatureIndexArray",be);class Be extends IA{}class Ie extends IA{}class Ee extends IA{}class Se extends Hc{}class ke extends UA{}class Pe extends bl{}class We extends EA{}class et extends Wh{}class ht extends yl{}class gt extends Io{}class ut extends Xc{}class Dt extends ed{}class Ft extends Vc{}class yt extends f{}const ar=ji([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ur}=ar;class wr{constructor(a=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=a}prepareSegment(a,c,d,m){const y=this.segments[this.segments.length-1];return a>wr.MAX_VERTEX_ARRAY_LENGTH&&ur(`Max vertices per segment is ${wr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${a}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${wr.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!y||y.vertexLength+a>wr.MAX_VERTEX_ARRAY_LENGTH||y.sortKey!==m?this.createNewSegment(c,d,m):y}createNewSegment(a,c,d){const m={vertexOffset:a.length,primitiveOffset:c.length,vertexLength:0,primitiveLength:0,vaos:{}};return d!==void 0&&(m.sortKey=d),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(m),m}getOrCreateLatestSegment(a,c,d){return this.prepareSegment(0,a,c,d)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const a of this.segments)for(const c in a.vaos)a.vaos[c].destroy()}static simpleSegment(a,c,d,m){return new wr([{vertexOffset:a,primitiveOffset:c,vertexLength:d,primitiveLength:m,vaos:{},sortKey:0}])}}function Ri(A,a){return 256*(A=st(Math.floor(A),0,255))+st(Math.floor(a),0,255)}wr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Xt("SegmentVector",wr);const ai=ji([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Ii,bi,si,ri={exports:{}},ha={exports:{}},aa={exports:{}},Ca=function(){if(si)return ri.exports;si=1;var A=(Ii||(Ii=1,ha.exports=function(c,d){var m,y,x,R,F,N,P,D;for(y=c.length-(m=3&c.length),x=d,F=3432918353,N=461845907,D=0;D<y;)P=255&c.charCodeAt(D)|(255&c.charCodeAt(++D))<<8|(255&c.charCodeAt(++D))<<16|(255&c.charCodeAt(++D))<<24,++D,x=27492+(65535&(R=5*(65535&(x=(x^=P=(65535&(P=(P=(65535&P)*F+(((P>>>16)*F&65535)<<16)&4294967295)<<15|P>>>17))*N+(((P>>>16)*N&65535)<<16)&4294967295)<<13|x>>>19))+((5*(x>>>16)&65535)<<16)&4294967295))+((58964+(R>>>16)&65535)<<16);switch(P=0,m){case 3:P^=(255&c.charCodeAt(D+2))<<16;case 2:P^=(255&c.charCodeAt(D+1))<<8;case 1:x^=P=(65535&(P=(P=(65535&(P^=255&c.charCodeAt(D)))*F+(((P>>>16)*F&65535)<<16)&4294967295)<<15|P>>>17))*N+(((P>>>16)*N&65535)<<16)&4294967295}return x^=c.length,x=2246822507*(65535&(x^=x>>>16))+((2246822507*(x>>>16)&65535)<<16)&4294967295,x=3266489909*(65535&(x^=x>>>13))+((3266489909*(x>>>16)&65535)<<16)&4294967295,(x^=x>>>16)>>>0}),ha.exports),a=(bi||(bi=1,aa.exports=function(c,d){for(var m,y=c.length,x=d^y,R=0;y>=4;)m=1540483477*(65535&(m=255&c.charCodeAt(R)|(255&c.charCodeAt(++R))<<8|(255&c.charCodeAt(++R))<<16|(255&c.charCodeAt(++R))<<24))+((1540483477*(m>>>16)&65535)<<16),x=1540483477*(65535&x)+((1540483477*(x>>>16)&65535)<<16)^(m=1540483477*(65535&(m^=m>>>24))+((1540483477*(m>>>16)&65535)<<16)),y-=4,++R;switch(y){case 3:x^=(255&c.charCodeAt(R+2))<<16;case 2:x^=(255&c.charCodeAt(R+1))<<8;case 1:x=1540483477*(65535&(x^=255&c.charCodeAt(R)))+((1540483477*(x>>>16)&65535)<<16)}return x=1540483477*(65535&(x^=x>>>13))+((1540483477*(x>>>16)&65535)<<16),(x^=x>>>15)>>>0}),aa.exports);return ri.exports=A,ri.exports.murmur3=A,ri.exports.murmur2=a,ri.exports}(),Sa=v(Ca);class is{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(a,c,d,m){this.ids.push(Js(a)),this.positions.push(c,d,m)}getPositions(a){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const c=Js(a);let d=0,m=this.ids.length-1;for(;d<m;){const x=d+m>>1;this.ids[x]>=c?m=x:d=x+1}const y=[];for(;this.ids[d]===c;)y.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return y}static serialize(a,c){const d=new Float64Array(a.ids),m=new Uint32Array(a.positions);return ws(d,m,0,d.length-1),c&&c.push(d.buffer,m.buffer),{ids:d,positions:m}}static deserialize(a){const c=new is;return c.ids=a.ids,c.positions=a.positions,c.indexed=!0,c}}function Js(A){const a=+A;return!isNaN(a)&&a<=Number.MAX_SAFE_INTEGER?a:Sa(String(A))}function ws(A,a,c,d){for(;c<d;){const m=A[c+d>>1];let y=c-1,x=d+1;for(;;){do y++;while(A[y]<m);do x--;while(A[x]>m);if(y>=x)break;Bs(A,y,x),Bs(a,3*y,3*x),Bs(a,3*y+1,3*x+1),Bs(a,3*y+2,3*x+2)}x-c<d-x?(ws(A,a,c,x),c=x+1):(ws(A,a,x+1,d),d=x)}}function Bs(A,a,c){const d=A[a];A[a]=A[c],A[c]=d}Xt("FeaturePositionMap",is);class as{constructor(a,c){this.gl=a.gl,this.location=c}}class Eo extends as{constructor(a,c){super(a,c),this.current=0}set(a){this.current!==a&&(this.current=a,this.gl.uniform1f(this.location,a))}}class Fo extends as{constructor(a,c){super(a,c),this.current=[0,0,0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]&&a[3]===this.current[3]||(this.current=a,this.gl.uniform4f(this.location,a[0],a[1],a[2],a[3]))}}class an extends as{constructor(a,c){super(a,c),this.current=Tr.transparent}set(a){a.r===this.current.r&&a.g===this.current.g&&a.b===this.current.b&&a.a===this.current.a||(this.current=a,this.gl.uniform4f(this.location,a.r,a.g,a.b,a.a))}}const eo=new Float32Array(16);function Cs(A){return[Ri(255*A.r,255*A.g),Ri(255*A.b,255*A.a)]}class Ms{constructor(a,c,d){this.value=a,this.uniformNames=c.map(m=>`u_${m}`),this.type=d}setUniform(a,c,d){a.set(d.constantOr(this.value))}getBinding(a,c,d){return this.type==="color"?new an(a,c):new Eo(a,c)}}class Fi{constructor(a,c){this.uniformNames=c.map(d=>`u_${d}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(a,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=a.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=a.tlbr}setUniform(a,c,d,m){const y=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;y&&a.set(y)}getBinding(a,c,d){return d.substr(0,9)==="u_pattern"?new Fo(a,c):new Eo(a,c)}}class yi{constructor(a,c,d,m){this.expression=a,this.type=d,this.maxValue=0,this.paintVertexAttributes=c.map(y=>({name:`a_${y}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(a,c,d,m,y){const x=this.paintVertexArray.length,R=this.expression.evaluate(new _i(0),c,{},m,[],y);this.paintVertexArray.resize(a),this._setPaintValue(x,a,R)}updatePaintArray(a,c,d,m){const y=this.expression.evaluate({zoom:0},d,m);this._setPaintValue(a,c,y)}_setPaintValue(a,c,d){if(this.type==="color"){const m=Cs(d);for(let y=a;y<c;y++)this.paintVertexArray.emplace(y,m[0],m[1])}else{for(let m=a;m<c;m++)this.paintVertexArray.emplace(m,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Hi{constructor(a,c,d,m,y,x){this.expression=a,this.uniformNames=c.map(R=>`u_${R}_t`),this.type=d,this.useIntegerZoom=m,this.zoom=y,this.maxValue=0,this.paintVertexAttributes=c.map(R=>({name:`a_${R}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new x}populatePaintArray(a,c,d,m,y){const x=this.expression.evaluate(new _i(this.zoom),c,{},m,[],y),R=this.expression.evaluate(new _i(this.zoom+1),c,{},m,[],y),F=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValue(F,a,x,R)}updatePaintArray(a,c,d,m){const y=this.expression.evaluate({zoom:this.zoom},d,m),x=this.expression.evaluate({zoom:this.zoom+1},d,m);this._setPaintValue(a,c,y,x)}_setPaintValue(a,c,d,m){if(this.type==="color"){const y=Cs(d),x=Cs(m);for(let R=a;R<c;R++)this.paintVertexArray.emplace(R,y[0],y[1],x[0],x[1])}else{for(let y=a;y<c;y++)this.paintVertexArray.emplace(y,d,m);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(m))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(a,c){const d=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,m=st(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);a.set(m)}getBinding(a,c,d){return new Eo(a,c)}}class Ui{constructor(a,c,d,m,y,x){this.expression=a,this.type=c,this.useIntegerZoom=d,this.zoom=m,this.layerId=x,this.zoomInPaintVertexArray=new y,this.zoomOutPaintVertexArray=new y}populatePaintArray(a,c,d){const m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(a),this.zoomOutPaintVertexArray.resize(a),this._setPaintValues(m,a,c.patterns&&c.patterns[this.layerId],d)}updatePaintArray(a,c,d,m,y){this._setPaintValues(a,c,d.patterns&&d.patterns[this.layerId],y)}_setPaintValues(a,c,d,m){if(!m||!d)return;const{min:y,mid:x,max:R}=d,F=m[y],N=m[x],P=m[R];if(F&&N&&P)for(let D=a;D<c;D++)this.zoomInPaintVertexArray.emplace(D,N.tl[0],N.tl[1],N.br[0],N.br[1],F.tl[0],F.tl[1],F.br[0],F.br[1],N.pixelRatio,F.pixelRatio),this.zoomOutPaintVertexArray.emplace(D,N.tl[0],N.tl[1],N.br[0],N.br[1],P.tl[0],P.tl[1],P.br[0],P.br[1],N.pixelRatio,P.pixelRatio)}upload(a){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=a.createVertexBuffer(this.zoomInPaintVertexArray,ai.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=a.createVertexBuffer(this.zoomOutPaintVertexArray,ai.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Pf{constructor(a,c,d){this.binders={},this._buffers=[];const m=[];for(const y in a.paint._values){if(!d(y))continue;const x=a.paint.get(y);if(!(x instanceof ts&&gl(x.property.specification)))continue;const R=n2(y,a.type),F=x.value,N=x.property.specification.type,P=x.property.useIntegerZoom,D=x.property.specification["property-type"],j=D==="cross-faded"||D==="cross-faded-data-driven";if(F.kind==="constant")this.binders[y]=j?new Fi(F.value,R):new Ms(F.value,R,N),m.push(`/u_${y}`);else if(F.kind==="source"||j){const $=Lf(y,N,"source");this.binders[y]=j?new Ui(F,N,P,c,$,a.id):new yi(F,R,N,$),m.push(`/a_${y}`)}else{const $=Lf(y,N,"composite");this.binders[y]=new Hi(F,R,N,P,c,$),m.push(`/z_${y}`)}}this.cacheKey=m.sort().join("")}getMaxValue(a){const c=this.binders[a];return c instanceof yi||c instanceof Hi?c.maxValue:0}populatePaintArrays(a,c,d,m,y){for(const x in this.binders){const R=this.binders[x];(R instanceof yi||R instanceof Hi||R instanceof Ui)&&R.populatePaintArray(a,c,d,m,y)}}setConstantPatternPositions(a,c){for(const d in this.binders){const m=this.binders[d];m instanceof Fi&&m.setConstantPatternPositions(a,c)}}updatePaintArrays(a,c,d,m,y){let x=!1;for(const R in a){const F=c.getPositions(R);for(const N of F){const P=d.feature(N.index);for(const D in this.binders){const j=this.binders[D];if((j instanceof yi||j instanceof Hi||j instanceof Ui)&&j.expression.isStateDependent===!0){const $=m.paint.get(D);j.expression=$.value,j.updatePaintArray(N.start,N.end,P,a[R],y),x=!0}}}}return x}defines(){const a=[];for(const c in this.binders){const d=this.binders[c];(d instanceof Ms||d instanceof Fi)&&a.push(...d.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return a}getBinderAttributes(){const a=[];for(const c in this.binders){const d=this.binders[c];if(d instanceof yi||d instanceof Hi)for(let m=0;m<d.paintVertexAttributes.length;m++)a.push(d.paintVertexAttributes[m].name);else if(d instanceof Ui)for(let m=0;m<ai.members.length;m++)a.push(ai.members[m].name)}return a}getBinderUniforms(){const a=[];for(const c in this.binders){const d=this.binders[c];if(d instanceof Ms||d instanceof Fi||d instanceof Hi)for(const m of d.uniformNames)a.push(m)}return a}getPaintVertexBuffers(){return this._buffers}getUniforms(a,c){const d=[];for(const m in this.binders){const y=this.binders[m];if(y instanceof Ms||y instanceof Fi||y instanceof Hi){for(const x of y.uniformNames)if(c[x]){const R=y.getBinding(a,c[x],x);d.push({name:x,property:m,binding:R})}}}return d}setUniforms(a,c,d,m){for(const{name:y,property:x,binding:R}of c)this.binders[x].setUniform(R,m,d.get(x),y)}updatePaintBuffers(a){this._buffers=[];for(const c in this.binders){const d=this.binders[c];if(a&&d instanceof Ui){const m=a.fromScale===2?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(d instanceof yi||d instanceof Hi)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(a){for(const c in this.binders){const d=this.binders[c];(d instanceof yi||d instanceof Hi||d instanceof Ui)&&d.upload(a)}this.updatePaintBuffers()}destroy(){for(const a in this.binders){const c=this.binders[a];(c instanceof yi||c instanceof Hi||c instanceof Ui)&&c.destroy()}}}class To{constructor(a,c,d=()=>!0){this.programConfigurations={};for(const m of a)this.programConfigurations[m.id]=new Pf(m,c,d);this.needsUpload=!1,this._featureMap=new is,this._bufferOffset=0}populatePaintArrays(a,c,d,m,y,x){for(const R in this.programConfigurations)this.programConfigurations[R].populatePaintArrays(a,c,m,y,x);c.id!==void 0&&this._featureMap.add(c.id,d,this._bufferOffset,a),this._bufferOffset=a,this.needsUpload=!0}updatePaintArrays(a,c,d,m){for(const y of d)this.needsUpload=this.programConfigurations[y.id].updatePaintArrays(a,this._featureMap,c,y,m)||this.needsUpload}get(a){return this.programConfigurations[a]}upload(a){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(a);this.needsUpload=!1}}destroy(){for(const a in this.programConfigurations)this.programConfigurations[a].destroy()}}function n2(A,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[A]||[A.replace(`${a}-`,"").replace(/-/g,"_")]}function Lf(A,a,c){const d={color:{source:bl,composite:b},number:{source:_,composite:bl}},m=function(y){return{"line-pattern":{source:We,composite:We},"fill-pattern":{source:We,composite:We},"fill-extrusion-pattern":{source:We,composite:We}}[y]}(A);return m&&m[c]||d[a][c]}Xt("ConstantBinder",Ms),Xt("CrossFadedConstantBinder",Fi),Xt("SourceExpressionBinder",yi),Xt("CrossFadedCompositeBinder",Ui),Xt("CompositeExpressionBinder",Hi),Xt("ProgramConfiguration",Pf,{omit:["_buffers"]}),Xt("ProgramConfigurationSet",To);const rd=Math.pow(2,14)-1,kf=-rd-1;function nn(A){const a=it/A.extent,c=A.loadGeometry();for(let d=0;d<c.length;d++){const m=c[d];for(let y=0;y<m.length;y++){const x=m[y],R=Math.round(x.x*a),F=Math.round(x.y*a);x.x=st(R,kf,rd),x.y=st(F,kf,rd),(R<x.x||R>x.x+1||F<x.y||F>x.y+1)&&ur("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function to(A,a){return{type:A.type,id:A.id,properties:A.properties,geometry:a?nn(A):[]}}const id=-32768;function Qf(A,a,c,d,m){A.emplaceBack(id+8*a+d,id+8*c+m)}class FA{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(c=>c.id),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new Ie,this.indexArray=new Ft,this.segments=new wr,this.programConfigurations=new To(a.layers,a.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(a,c,d){const m=this.layers[0],y=[];let x=null,R=!1,F=m.type==="heatmap";if(m.type==="circle"){const P=m;x=P.layout.get("circle-sort-key"),R=!x.isConstant(),F=F||P.paint.get("circle-pitch-alignment")==="map"}const N=F?c.subdivisionGranularity.circle:1;for(const{feature:P,id:D,index:j,sourceLayerIndex:$}of a){const q=this.layers[0]._featureFilter.needGeometry,ae=to(P,q);if(!this.layers[0]._featureFilter.filter(new _i(this.zoom),ae,d))continue;const fe=R?x.evaluate(ae,{},d):void 0,ye={id:D,properties:P.properties,type:P.type,sourceLayerIndex:$,index:j,geometry:q?ae.geometry:nn(P),patterns:{},sortKey:fe};y.push(ye)}R&&y.sort((P,D)=>P.sortKey-D.sortKey);for(const P of y){const{geometry:D,index:j,sourceLayerIndex:$}=P,q=a[j].feature;this.addFeature(P,D,j,d,N),c.featureIndex.insert(q,D,j,$,this.index)}}update(a,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,c,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Ur),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(a,c,d,m,y=1){let x;switch(y){case 1:x=[0,7];break;case 3:x=[0,2,5,7];break;case 5:x=[0,1,3,4,6,7];break;case 7:x=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${y}; valid values are 1, 3, 5, 7.`)}const R=x.length;for(const F of c)for(const N of F){const P=N.x,D=N.y;if(P<0||P>=it||D<0||D>=it)continue;const j=this.segments.prepareSegment(R*R,this.layoutVertexArray,this.indexArray,a.sortKey),$=j.vertexLength;for(let q=0;q<R;q++)for(let ae=0;ae<R;ae++)Qf(this.layoutVertexArray,P,D,x[ae],x[q]);for(let q=0;q<R-1;q++)for(let ae=0;ae<R-1;ae++){const fe=$+q*R+ae,ye=$+(q+1)*R+ae;this.indexArray.emplaceBack(fe,ye+1,fe+1),this.indexArray.emplaceBack(fe,ye,ye+1)}j.vertexLength+=R*R,j.primitiveLength+=(R-1)*(R-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,{},m)}}function ad(A,a){for(let c=0;c<A.length;c++)if(TA(a,A[c]))return!0;for(let c=0;c<a.length;c++)if(TA(A,a[c]))return!0;return!!s2(A,a)}function nd(A,a,c){return!!TA(A,a)||!!o2(a,A,c)}function y_(A,a){if(A.length===1)return x_(a,A[0]);for(let c=0;c<a.length;c++){const d=a[c];for(let m=0;m<d.length;m++)if(TA(A,d[m]))return!0}for(let c=0;c<A.length;c++)if(x_(a,A[c]))return!0;for(let c=0;c<a.length;c++)if(s2(A,a[c]))return!0;return!1}function y9(A,a,c){if(A.length>1){if(s2(A,a))return!0;for(let d=0;d<a.length;d++)if(o2(a[d],A,c))return!0}for(let d=0;d<A.length;d++)if(o2(A[d],a,c))return!0;return!1}function s2(A,a){if(A.length===0||a.length===0)return!1;for(let c=0;c<A.length-1;c++){const d=A[c],m=A[c+1];for(let y=0;y<a.length-1;y++)if(v9(d,m,a[y],a[y+1]))return!0}return!1}function v9(A,a,c,d){return St(A,c,d)!==St(a,c,d)&&St(A,a,c)!==St(A,a,d)}function o2(A,a,c){const d=c*c;if(a.length===1)return A.distSqr(a[0])<d;for(let m=1;m<a.length;m++)if(v_(A,a[m-1],a[m])<d)return!0;return!1}function v_(A,a,c){const d=a.distSqr(c);if(d===0)return A.distSqr(a);const m=((A.x-a.x)*(c.x-a.x)+(A.y-a.y)*(c.y-a.y))/d;return A.distSqr(m<0?a:m>1?c:c.sub(a)._mult(m)._add(a))}function x_(A,a){for(let c=0;c<A.length;c++)if(TA(A[c],a))return!0;return!1}function TA(A,a){let c=!1;for(let d=0,m=A.length-1;d<A.length;m=d++){const y=A[d],x=A[m];y.y>a.y!=x.y>a.y&&a.x<(x.x-y.x)*(a.y-y.y)/(x.y-y.y)+y.x&&(c=!c)}return c}function x9(A,a,c){const d=c[0],m=c[2];if(A.x<d.x&&a.x<d.x||A.x>m.x&&a.x>m.x||A.y<d.y&&a.y<d.y||A.y>m.y&&a.y>m.y)return!1;const y=St(A,a,c[0]);return y!==St(A,a,c[1])||y!==St(A,a,c[2])||y!==St(A,a,c[3])}function sd(A,a,c){const d=a.paint.get(A).value;return d.kind==="constant"?d.value:c.programConfigurations.get(a.id).getMaxValue(A)}function Df(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function zf(A,a,c,d,m){if(!a[0]&&!a[1])return A;const y=S.convert(a)._mult(m);c==="viewport"&&y._rotate(-d);const x=[];for(let R=0;R<A.length;R++)x.push(A[R].sub(y));return x}let w_,B_;Xt("CircleBucket",FA,{omit:["layers"]});var w9={get paint(){return B_=B_||new Ka({"circle-radius":new yr(ce.paint_circle["circle-radius"]),"circle-color":new yr(ce.paint_circle["circle-color"]),"circle-blur":new yr(ce.paint_circle["circle-blur"]),"circle-opacity":new yr(ce.paint_circle["circle-opacity"]),"circle-translate":new cr(ce.paint_circle["circle-translate"]),"circle-translate-anchor":new cr(ce.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new cr(ce.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new cr(ce.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yr(ce.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yr(ce.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yr(ce.paint_circle["circle-stroke-opacity"])})},get layout(){return w_=w_||new Ka({"circle-sort-key":new yr(ce.layout_circle["circle-sort-key"])})}};class B9 extends rs{constructor(a){super(a,w9)}createBucket(a){return new FA(a)}queryRadius(a){const c=a;return sd("circle-radius",this,c)+sd("circle-stroke-width",this,c)+Df(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:a,feature:c,featureState:d,geometry:m,transform:y,pixelsToTileUnits:x,unwrappedTileID:R,getElevation:F}){const N=zf(a,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-y.bearingInRadians,x),P=this.paint.get("circle-radius").evaluate(c,d)+this.paint.get("circle-stroke-width").evaluate(c,d),D=this.paint.get("circle-pitch-alignment")==="map",j=D?N:function(q,ae,fe,ye){return q.map(Le=>C_(Le,ae,fe,ye))}(N,y,R,F),$=D?P*x:P;for(const q of m)for(const ae of q){const fe=D?ae:C_(ae,y,R,F);let ye=$;const Le=y.projectTileCoordinates(ae.x,ae.y,R,F).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ye*=Le/y.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ye*=y.cameraToCenterDistance/Le),nd(j,fe,ye))return!0}return!1}}function C_(A,a,c,d){const m=a.projectTileCoordinates(A.x,A.y,c,d).point;return new S((.5*m.x+.5)*a.width,(.5*-m.y+.5)*a.height)}class M_ extends FA{}let R_;Xt("HeatmapBucket",M_,{omit:["layers"]});var C9={get paint(){return R_=R_||new Ka({"heatmap-radius":new yr(ce.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yr(ce.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new cr(ce.paint_heatmap["heatmap-intensity"]),"heatmap-color":new $h(ce.paint_heatmap["heatmap-color"]),"heatmap-opacity":new cr(ce.paint_heatmap["heatmap-opacity"])})}};function l2(A,{width:a,height:c},d,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==a*c*d)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${a*c*d}`)}else m=new Uint8Array(a*c*d);return A.width=a,A.height=c,A.data=m,A}function I_(A,{width:a,height:c},d){if(a===A.width&&c===A.height)return;const m=l2({},{width:a,height:c},d);A2(A,m,{x:0,y:0},{x:0,y:0},{width:Math.min(A.width,a),height:Math.min(A.height,c)},d),A.width=a,A.height=c,A.data=m.data}function A2(A,a,c,d,m,y){if(m.width===0||m.height===0)return a;if(m.width>A.width||m.height>A.height||c.x>A.width-m.width||c.y>A.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>a.width||m.height>a.height||d.x>a.width-m.width||d.y>a.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const x=A.data,R=a.data;if(x===R)throw new Error("srcData equals dstData, so image is already copied");for(let F=0;F<m.height;F++){const N=((c.y+F)*A.width+c.x)*y,P=((d.y+F)*a.width+d.x)*y;for(let D=0;D<m.width*y;D++)R[P+D]=x[N+D]}return a}class od{constructor(a,c){l2(this,a,1,c)}resize(a){I_(this,a,1)}clone(){return new od({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,c,d,m,y){A2(a,c,d,m,y,1)}}class Yn{constructor(a,c){l2(this,a,4,c)}resize(a){I_(this,a,4)}replace(a,c){c?this.data.set(a):this.data=a instanceof Uint8ClampedArray?new Uint8Array(a.buffer):a}clone(){return new Yn({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,c,d,m,y){A2(a,c,d,m,y,4)}}function U_(A){const a={},c=A.resolution||256,d=A.clips?A.clips.length:1,m=A.image||new Yn({width:c,height:d});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);const y=(x,R,F)=>{a[A.evaluationKey]=F;const N=A.expression.evaluate(a);m.data[x+R+0]=Math.floor(255*N.r/N.a),m.data[x+R+1]=Math.floor(255*N.g/N.a),m.data[x+R+2]=Math.floor(255*N.b/N.a),m.data[x+R+3]=Math.floor(255*N.a)};if(A.clips)for(let x=0,R=0;x<d;++x,R+=4*c)for(let F=0,N=0;F<c;F++,N+=4){const P=F/(c-1),{start:D,end:j}=A.clips[x];y(R,N,D*(1-P)+j*P)}else for(let x=0,R=0;x<c;x++,R+=4)y(0,R,x/(c-1));return m}Xt("AlphaImage",od),Xt("RGBAImage",Yn);const c2="big-fb";class M9 extends rs{createBucket(a){return new M_(a)}constructor(a){super(a,C9),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=U_({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(c2)&&this.heatmapFbos.delete(c2)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let E_;var R9={get paint(){return E_=E_||new Ka({"hillshade-illumination-direction":new cr(ce.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new cr(ce.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new cr(ce.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new cr(ce.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new cr(ce.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new cr(ce.paint_hillshade["hillshade-accent-color"])})}};class I9 extends rs{constructor(a){super(a,R9)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const U9=ji([{name:"a_pos",components:2,type:"Int16"}],4),{members:E9}=U9;function u2(A,a,c){const d=c.patternDependencies;let m=!1;for(const y of a){const x=y.paint.get(`${A}-pattern`);x.isConstant()||(m=!0);const R=x.constantOr(null);R&&(m=!0,d[R.to]=!0,d[R.from]=!0)}return m}function h2(A,a,c,d,m){const y=m.patternDependencies;for(const x of a){const R=x.paint.get(`${A}-pattern`).value;if(R.kind!=="constant"){let F=R.evaluate({zoom:d-1},c,{},m.availableImages),N=R.evaluate({zoom:d},c,{},m.availableImages),P=R.evaluate({zoom:d+1},c,{},m.availableImages);F=F&&F.name?F.name:F,N=N&&N.name?N.name:N,P=P&&P.name?P.name:P,y[F]=!0,y[N]=!0,y[P]=!0,c.patterns[x.id]={min:F,mid:N,max:P}}}return c}function F_(A,a,c,d,m){let y;if(m===function(x,R,F,N){let P=0;for(let D=R,j=F-N;D<F;D+=N)P+=(x[j]-x[D])*(x[D+1]+x[j+1]),j=D;return P}(A,a,c,d)>0)for(let x=a;x<c;x+=d)y=Y_(x/d|0,A[x],A[x+1],y);else for(let x=c-d;x>=a;x-=d)y=Y_(x/d|0,A[x],A[x+1],y);return y&&jc(y,y.next)&&(ud(y),y=y.next),y}function SA(A,a){if(!A)return A;a||(a=A);let c,d=A;do if(c=!1,d.steiner||!jc(d,d.next)&&Ki(d.prev,d,d.next)!==0)d=d.next;else{if(ud(d),d=a=d.prev,d===d.next)break;c=!0}while(c||d!==a);return a}function ld(A,a,c,d,m,y,x){if(!A)return;!x&&y&&function(F,N,P,D){let j=F;do j.z===0&&(j.z=d2(j.x,j.y,N,P,D)),j.prevZ=j.prev,j.nextZ=j.next,j=j.next;while(j!==F);j.prevZ.nextZ=null,j.prevZ=null,function($){let q,ae=1;do{let fe,ye=$;$=null;let Le=null;for(q=0;ye;){q++;let Me=ye,K=0;for(let Re=0;Re<ae&&(K++,Me=Me.nextZ,Me);Re++);let de=ae;for(;K>0||de>0&&Me;)K!==0&&(de===0||!Me||ye.z<=Me.z)?(fe=ye,ye=ye.nextZ,K--):(fe=Me,Me=Me.nextZ,de--),Le?Le.nextZ=fe:$=fe,fe.prevZ=Le,Le=fe;ye=Me}Le.nextZ=null,ae*=2}while(q>1)}(j)}(A,d,m,y);let R=A;for(;A.prev!==A.next;){const F=A.prev,N=A.next;if(y?T9(A,d,m,y):F9(A))a.push(F.i,A.i,N.i),ud(A),A=N.next,R=N.next;else if((A=N)===R){x?x===1?ld(A=S9(SA(A),a),a,c,d,m,y,2):x===2&&N9(A,a,c,d,m,y):ld(SA(A),a,c,d,m,y,1);break}}}function F9(A){const a=A.prev,c=A,d=A.next;if(Ki(a,c,d)>=0)return!1;const m=a.x,y=c.x,x=d.x,R=a.y,F=c.y,N=d.y,P=Math.min(m,y,x),D=Math.min(R,F,N),j=Math.max(m,y,x),$=Math.max(R,F,N);let q=d.next;for(;q!==a;){if(q.x>=P&&q.x<=j&&q.y>=D&&q.y<=$&&Ad(m,R,y,F,x,N,q.x,q.y)&&Ki(q.prev,q,q.next)>=0)return!1;q=q.next}return!0}function T9(A,a,c,d){const m=A.prev,y=A,x=A.next;if(Ki(m,y,x)>=0)return!1;const R=m.x,F=y.x,N=x.x,P=m.y,D=y.y,j=x.y,$=Math.min(R,F,N),q=Math.min(P,D,j),ae=Math.max(R,F,N),fe=Math.max(P,D,j),ye=d2($,q,a,c,d),Le=d2(ae,fe,a,c,d);let Me=A.prevZ,K=A.nextZ;for(;Me&&Me.z>=ye&&K&&K.z<=Le;){if(Me.x>=$&&Me.x<=ae&&Me.y>=q&&Me.y<=fe&&Me!==m&&Me!==x&&Ad(R,P,F,D,N,j,Me.x,Me.y)&&Ki(Me.prev,Me,Me.next)>=0||(Me=Me.prevZ,K.x>=$&&K.x<=ae&&K.y>=q&&K.y<=fe&&K!==m&&K!==x&&Ad(R,P,F,D,N,j,K.x,K.y)&&Ki(K.prev,K,K.next)>=0))return!1;K=K.nextZ}for(;Me&&Me.z>=ye;){if(Me.x>=$&&Me.x<=ae&&Me.y>=q&&Me.y<=fe&&Me!==m&&Me!==x&&Ad(R,P,F,D,N,j,Me.x,Me.y)&&Ki(Me.prev,Me,Me.next)>=0)return!1;Me=Me.prevZ}for(;K&&K.z<=Le;){if(K.x>=$&&K.x<=ae&&K.y>=q&&K.y<=fe&&K!==m&&K!==x&&Ad(R,P,F,D,N,j,K.x,K.y)&&Ki(K.prev,K,K.next)>=0)return!1;K=K.nextZ}return!0}function S9(A,a){let c=A;do{const d=c.prev,m=c.next.next;!jc(d,m)&&S_(d,c,c.next,m)&&cd(d,m)&&cd(m,d)&&(a.push(d.i,c.i,m.i),ud(c),ud(c.next),c=A=m),c=c.next}while(c!==A);return SA(c)}function N9(A,a,c,d,m,y){let x=A;do{let R=x.next.next;for(;R!==x.prev;){if(x.i!==R.i&&Q9(x,R)){let F=N_(x,R);return x=SA(x,x.next),F=SA(F,F.next),ld(x,a,c,d,m,y,0),void ld(F,a,c,d,m,y,0)}R=R.next}x=x.next}while(x!==A)}function Y9(A,a){let c=A.x-a.x;return c===0&&(c=A.y-a.y,c===0)&&(c=(A.next.y-A.y)/(A.next.x-A.x)-(a.next.y-a.y)/(a.next.x-a.x)),c}function P9(A,a){const c=function(m,y){let x=y;const R=m.x,F=m.y;let N,P=-1/0;if(jc(m,x))return x;do{if(jc(m,x.next))return x.next;if(F<=x.y&&F>=x.next.y&&x.next.y!==x.y){const ae=x.x+(F-x.y)*(x.next.x-x.x)/(x.next.y-x.y);if(ae<=R&&ae>P&&(P=ae,N=x.x<x.next.x?x:x.next,ae===R))return N}x=x.next}while(x!==y);if(!N)return null;const D=N,j=N.x,$=N.y;let q=1/0;x=N;do{if(R>=x.x&&x.x>=j&&R!==x.x&&T_(F<$?R:P,F,j,$,F<$?P:R,F,x.x,x.y)){const ae=Math.abs(F-x.y)/(R-x.x);cd(x,m)&&(ae<q||ae===q&&(x.x>N.x||x.x===N.x&&L9(N,x)))&&(N=x,q=ae)}x=x.next}while(x!==D);return N}(A,a);if(!c)return a;const d=N_(c,A);return SA(d,d.next),SA(c,c.next)}function L9(A,a){return Ki(A.prev,A,a.prev)<0&&Ki(a.next,A,A.next)<0}function d2(A,a,c,d,m){return(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=(A-c)*m|0)|A<<8))|A<<4))|A<<2))|A<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-d)*m|0)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function k9(A){let a=A,c=A;do(a.x<c.x||a.x===c.x&&a.y<c.y)&&(c=a),a=a.next;while(a!==A);return c}function T_(A,a,c,d,m,y,x,R){return(m-x)*(a-R)>=(A-x)*(y-R)&&(A-x)*(d-R)>=(c-x)*(a-R)&&(c-x)*(y-R)>=(m-x)*(d-R)}function Ad(A,a,c,d,m,y,x,R){return!(A===x&&a===R)&&T_(A,a,c,d,m,y,x,R)}function Q9(A,a){return A.next.i!==a.i&&A.prev.i!==a.i&&!function(c,d){let m=c;do{if(m.i!==c.i&&m.next.i!==c.i&&m.i!==d.i&&m.next.i!==d.i&&S_(m,m.next,c,d))return!0;m=m.next}while(m!==c);return!1}(A,a)&&(cd(A,a)&&cd(a,A)&&function(c,d){let m=c,y=!1;const x=(c.x+d.x)/2,R=(c.y+d.y)/2;do m.y>R!=m.next.y>R&&m.next.y!==m.y&&x<(m.next.x-m.x)*(R-m.y)/(m.next.y-m.y)+m.x&&(y=!y),m=m.next;while(m!==c);return y}(A,a)&&(Ki(A.prev,A,a.prev)||Ki(A,a.prev,a))||jc(A,a)&&Ki(A.prev,A,A.next)>0&&Ki(a.prev,a,a.next)>0)}function Ki(A,a,c){return(a.y-A.y)*(c.x-a.x)-(a.x-A.x)*(c.y-a.y)}function jc(A,a){return A.x===a.x&&A.y===a.y}function S_(A,a,c,d){const m=Of(Ki(A,a,c)),y=Of(Ki(A,a,d)),x=Of(Ki(c,d,A)),R=Of(Ki(c,d,a));return m!==y&&x!==R||!(m!==0||!Zf(A,c,a))||!(y!==0||!Zf(A,d,a))||!(x!==0||!Zf(c,A,d))||!(R!==0||!Zf(c,a,d))}function Zf(A,a,c){return a.x<=Math.max(A.x,c.x)&&a.x>=Math.min(A.x,c.x)&&a.y<=Math.max(A.y,c.y)&&a.y>=Math.min(A.y,c.y)}function Of(A){return A>0?1:A<0?-1:0}function cd(A,a){return Ki(A.prev,A,A.next)<0?Ki(A,a,A.next)>=0&&Ki(A,A.prev,a)>=0:Ki(A,a,A.prev)<0||Ki(A,A.next,a)<0}function N_(A,a){const c=f2(A.i,A.x,A.y),d=f2(a.i,a.x,a.y),m=A.next,y=a.prev;return A.next=a,a.prev=A,c.next=m,m.prev=c,d.next=c,c.prev=d,y.next=d,d.prev=y,d}function Y_(A,a,c,d){const m=f2(A,a,c);return d?(m.next=d.next,m.prev=d,d.next.prev=m,d.next=m):(m.prev=m,m.next=m),m}function ud(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function f2(A,a,c){return{i:A,x:a,y:c,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Kc{constructor(a,c){if(c>a)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=a,this._minGranularity=c}getGranularityForZoomLevel(a){return Math.max(Math.floor(this._baseZoomGranularity/(1<<a)),this._minGranularity,1)}}class Hf{constructor(a){this.fill=a.fill,this.line=a.line,this.tile=a.tile,this.stencil=a.stencil,this.circle=a.circle}}Hf.noSubdivision=new Hf({fill:new Kc(0,0),line:new Kc(0,0),tile:new Kc(0,0),stencil:new Kc(0,0),circle:1}),Xt("SubdivisionGranularityExpression",Kc),Xt("SubdivisionGranularitySetting",Hf);const $c=-32768,hd=32767;class D9{constructor(a,c){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=a,this._granularityCellSize=it/a,this._canonical=c}_getKey(a,c){return(a+=32768)<<16|(c+=32768)<<0}_vertexToIndex(a,c){if(a<-32768||c<-32768||a>32767||c>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const d=0|Math.round(a),m=0|Math.round(c),y=this._getKey(d,m);if(this._vertexDictionary.has(y))return this._vertexDictionary.get(y);const x=this._vertexBuffer.length/2;return this._vertexDictionary.set(y,x),this._vertexBuffer.push(d,m),x}_subdivideTrianglesScanline(a){if(this._granularity<2)return function(m,y){const x=[];for(let R=0;R<y.length;R+=3){const F=y[R],N=y[R+1],P=y[R+2],D=m[2*F],j=m[2*F+1];(m[2*N]-D)*(m[2*P+1]-j)-(m[2*N+1]-j)*(m[2*P]-D)>0?(x.push(F),x.push(P),x.push(N)):(x.push(F),x.push(N),x.push(P))}return x}(this._vertexBuffer,a);const c=[],d=a.length;for(let m=0;m<d;m+=3){const y=[a[m+0],a[m+1],a[m+2]],x=[this._vertexBuffer[2*a[m+0]+0],this._vertexBuffer[2*a[m+0]+1],this._vertexBuffer[2*a[m+1]+0],this._vertexBuffer[2*a[m+1]+1],this._vertexBuffer[2*a[m+2]+0],this._vertexBuffer[2*a[m+2]+1]];let R=1/0,F=1/0,N=-1/0,P=-1/0;for(let ae=0;ae<3;ae++){const fe=x[2*ae],ye=x[2*ae+1];R=Math.min(R,fe),N=Math.max(N,fe),F=Math.min(F,ye),P=Math.max(P,ye)}if(R===N||F===P)continue;const D=Math.floor(R/this._granularityCellSize),j=Math.ceil(N/this._granularityCellSize),$=Math.floor(F/this._granularityCellSize),q=Math.ceil(P/this._granularityCellSize);if(D!==j||$!==q)for(let ae=$;ae<q;ae++){const fe=this._scanlineGenerateVertexRingForCellRow(ae,x,y);z9(this._vertexBuffer,fe,c)}else c.push(...y)}return c}_scanlineGenerateVertexRingForCellRow(a,c,d){const m=a*this._granularityCellSize,y=m+this._granularityCellSize,x=[];for(let R=0;R<3;R++){const F=c[2*R],N=c[2*R+1],P=c[2*(R+1)%6],D=c[(2*(R+1)+1)%6],j=c[2*(R+2)%6],$=c[(2*(R+2)+1)%6],q=P-F,ae=D-N,fe=q===0,ye=ae===0,Le=(m-N)/ae,Me=(y-N)/ae,K=Math.min(Le,Me),de=Math.max(Le,Me);if(!ye&&(K>=1||de<=0)||ye&&(N<m||N>y)){D>=m&&D<=y&&x.push(d[(R+1)%3]);continue}!ye&&K>0&&x.push(this._vertexToIndex(F+q*K,N+ae*K));const Re=F+q*Math.max(K,0),Je=F+q*Math.min(de,1);fe||this._generateIntraEdgeVertices(x,F,N,P,D,Re,Je),!ye&&de<1&&x.push(this._vertexToIndex(F+q*de,N+ae*de)),(ye||D>=m&&D<=y)&&x.push(d[(R+1)%3]),!ye&&(D<=m||D>=y)&&this._generateInterEdgeVertices(x,F,N,P,D,j,$,Je,m,y)}return x}_generateIntraEdgeVertices(a,c,d,m,y,x,R){const F=m-c,N=y-d,P=N===0,D=P?Math.min(c,m):Math.min(x,R),j=P?Math.max(c,m):Math.max(x,R),$=Math.floor(D/this._granularityCellSize)+1,q=Math.ceil(j/this._granularityCellSize)-1;if(P?c<m:x<R)for(let ae=$;ae<=q;ae++){const fe=ae*this._granularityCellSize;a.push(this._vertexToIndex(fe,d+N*(fe-c)/F))}else for(let ae=q;ae>=$;ae--){const fe=ae*this._granularityCellSize;a.push(this._vertexToIndex(fe,d+N*(fe-c)/F))}}_generateInterEdgeVertices(a,c,d,m,y,x,R,F,N,P){const D=y-d,j=x-m,$=R-y,q=(N-y)/$,ae=(P-y)/$,fe=Math.min(q,ae),ye=Math.max(q,ae),Le=m+j*fe;let Me=Math.floor(Math.min(Le,F)/this._granularityCellSize)+1,K=Math.ceil(Math.max(Le,F)/this._granularityCellSize)-1,de=F<Le;const Re=$===0;if(Re&&(R===N||R===P))return;if(Re||fe>=1||ye<=0){const vt=d-R,at=x+(c-x)*Math.min((N-R)/vt,(P-R)/vt);Me=Math.floor(Math.min(at,F)/this._granularityCellSize)+1,K=Math.ceil(Math.max(at,F)/this._granularityCellSize)-1,de=F<at}const Je=D>0?P:N;if(de)for(let vt=Me;vt<=K;vt++)a.push(this._vertexToIndex(vt*this._granularityCellSize,Je));else for(let vt=K;vt>=Me;vt--)a.push(this._vertexToIndex(vt*this._granularityCellSize,Je))}_generateOutline(a){const c=[];for(const d of a){const m=NA(d,this._granularity,!0),y=this._pointArrayToIndices(m),x=[];for(let R=1;R<y.length;R++)x.push(y[R-1]),x.push(y[R]);c.push(x)}return c}_handlePoles(a){let c=!1,d=!1;this._canonical&&(this._canonical.y===0&&(c=!0),this._canonical.y===(1<<this._canonical.z)-1&&(d=!0)),(c||d)&&this._fillPoles(a,c,d)}_ensureNoPoleVertices(){const a=this._vertexBuffer;for(let c=0;c<a.length;c+=2){const d=a[c+1];d===$c&&(a[c+1]=-32767),d===hd&&(a[c+1]=32766)}}_generatePoleQuad(a,c,d,m,y,x){m>y!=(x===$c)?(a.push(c),a.push(d),a.push(this._vertexToIndex(m,x)),a.push(d),a.push(this._vertexToIndex(y,x)),a.push(this._vertexToIndex(m,x))):(a.push(d),a.push(c),a.push(this._vertexToIndex(m,x)),a.push(this._vertexToIndex(y,x)),a.push(d),a.push(this._vertexToIndex(m,x)))}_fillPoles(a,c,d){const m=this._vertexBuffer,y=it,x=a.length;for(let R=2;R<x;R+=3){const F=a[R-2],N=a[R-1],P=a[R],D=m[2*F],j=m[2*F+1],$=m[2*N],q=m[2*N+1],ae=m[2*P],fe=m[2*P+1];c&&(j===0&&q===0&&this._generatePoleQuad(a,F,N,D,$,$c),q===0&&fe===0&&this._generatePoleQuad(a,N,P,$,ae,$c),fe===0&&j===0&&this._generatePoleQuad(a,P,F,ae,D,$c)),d&&(j===y&&q===y&&this._generatePoleQuad(a,F,N,D,$,hd),q===y&&fe===y&&this._generatePoleQuad(a,N,P,$,ae,hd),fe===y&&j===y&&this._generatePoleQuad(a,P,F,ae,D,hd))}}_initializeVertices(a){for(let c=0;c<a.length;c+=2)this._vertexToIndex(a[c],a[c+1])}subdividePolygonInternal(a,c){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:d,holeIndices:m}=function(R){const F=[],N=[];for(const P of R)if(P.length!==0){P!==R[0]&&F.push(N.length/2);for(let D=0;D<P.length;D++)N.push(P[D].x),N.push(P[D].y)}return{flattened:N,holeIndices:F}}(a);let y;this._initializeVertices(d);try{const R=function(N,P,D=2){const j=P&&P.length,$=j?P[0]*D:N.length;let q=F_(N,0,$,D,!0);const ae=[];if(!q||q.next===q.prev)return ae;let fe,ye,Le;if(j&&(q=function(Me,K,de,Re){const Je=[];for(let vt=0,at=K.length;vt<at;vt++){const At=F_(Me,K[vt]*Re,vt<at-1?K[vt+1]*Re:Me.length,Re,!1);At===At.next&&(At.steiner=!0),Je.push(k9(At))}Je.sort(Y9);for(let vt=0;vt<Je.length;vt++)de=P9(Je[vt],de);return de}(N,P,q,D)),N.length>80*D){fe=1/0,ye=1/0;let Me=-1/0,K=-1/0;for(let de=D;de<$;de+=D){const Re=N[de],Je=N[de+1];Re<fe&&(fe=Re),Je<ye&&(ye=Je),Re>Me&&(Me=Re),Je>K&&(K=Je)}Le=Math.max(Me-fe,K-ye),Le=Le!==0?32767/Le:0}return ld(q,ae,D,fe,ye,Le,0),ae}(d,m),F=this._convertIndices(d,R);y=this._subdivideTrianglesScanline(F)}catch(R){console.error(R)}let x=[];return c&&(x=this._generateOutline(a)),this._ensureNoPoleVertices(),this._handlePoles(y),{verticesFlattened:this._vertexBuffer,indicesTriangles:y,indicesLineList:x}}_convertIndices(a,c){const d=[];for(let m=0;m<c.length;m++)d.push(this._vertexToIndex(a[2*c[m]],a[2*c[m]+1]));return d}_pointArrayToIndices(a){const c=[];for(let d=0;d<a.length;d++){const m=a[d];c.push(this._vertexToIndex(m.x,m.y))}return c}}function P_(A,a,c,d=!0){return new D9(c,a).subdividePolygonInternal(A,d)}function NA(A,a,c=!1){if(!A||A.length<1)return[];if(A.length<2)return[];const d=A[0],m=A[A.length-1],y=c&&(d.x!==m.x||d.y!==m.y);if(a<2)return y?[...A,A[0]]:[...A];const x=Math.floor(it/a),R=[];R.push(new S(A[0].x,A[0].y));const F=A.length,N=y?F:F-1;for(let P=0;P<N;P++){const D=A[P],j=P<F-1?A[P+1]:A[0],$=D.x,q=D.y,ae=j.x,fe=j.y,ye=$!==ae,Le=q!==fe;if(!ye&&!Le)continue;const Me=ae-$,K=fe-q,de=Math.abs(Me),Re=Math.abs(K);let Je=$,vt=q;for(;;){const At=Me>0?(Math.floor(Je/x)+1)*x:(Math.ceil(Je/x)-1)*x,It=K>0?(Math.floor(vt/x)+1)*x:(Math.ceil(vt/x)-1)*x,Bt=Math.abs(Je-At),Tt=Math.abs(vt-It),dt=Math.abs(Je-ae),$t=Math.abs(vt-fe),br=ye?Bt/de:Number.POSITIVE_INFINITY,mr=Le?Tt/Re:Number.POSITIVE_INFINITY;if((dt<=Bt||!ye)&&($t<=Tt||!Le))break;if(br<mr&&ye||!Le){Je=At,vt+=K*br;const nr=new S(Je,Math.round(vt));R[R.length-1].x===nr.x&&R[R.length-1].y===nr.y||R.push(nr)}else{Je+=Me*mr,vt=It;const nr=new S(Math.round(Je),vt);R[R.length-1].x===nr.x&&R[R.length-1].y===nr.y||R.push(nr)}}const at=new S(ae,fe);R[R.length-1].x===at.x&&R[R.length-1].y===at.y||R.push(at)}return R}function z9(A,a,c){if(a.length===0)throw new Error("Subdivision vertex ring is empty.");let d=0,m=A[2*a[0]];for(let F=1;F<a.length;F++){const N=A[2*a[F]];N<m&&(m=N,d=F)}const y=a.length;let x=d,R=(x+1)%y;for(;;){const F=x-1>=0?x-1:y-1,N=(R+1)%y,P=A[2*a[F]],D=A[2*a[N]],j=A[2*a[x]],$=A[2*a[x]+1],q=A[2*a[R]+1];let ae=!1;if(P<D)ae=!0;else if(P>D)ae=!1;else{const fe=q-$,ye=-(A[2*a[R]]-j),Le=$<q?1:-1;((P-j)*fe+(A[2*a[F]+1]-$)*ye)*Le>((D-j)*fe+(A[2*a[N]+1]-$)*ye)*Le&&(ae=!0)}if(ae){const fe=a[F],ye=a[x],Le=a[R];fe!==ye&&fe!==Le&&ye!==Le&&c.push(Le,ye,fe),x--,x<0&&(x=y-1)}else{const fe=a[N],ye=a[x],Le=a[R];fe!==ye&&fe!==Le&&ye!==Le&&c.push(Le,ye,fe),R++,R>=y&&(R=0)}if(F===N)break}}function L_(A,a,c,d,m,y,x,R,F){const N=m.length/2,P=x&&R&&F;if(N<wr.MAX_VERTEX_ARRAY_LENGTH){const D=a.prepareSegment(N,c,d),j=D.vertexLength;for(let ae=0;ae<y.length;ae+=3)d.emplaceBack(j+y[ae],j+y[ae+1],j+y[ae+2]);let $,q;D.vertexLength+=N,D.primitiveLength+=y.length/3,P&&(q=x.prepareSegment(N,c,R),$=q.vertexLength,q.vertexLength+=N);for(let ae=0;ae<m.length;ae+=2)A(m[ae],m[ae+1]);if(P)for(let ae=0;ae<F.length;ae++){const fe=F[ae];for(let ye=1;ye<fe.length;ye+=2)R.emplaceBack($+fe[ye-1],$+fe[ye]);q.primitiveLength+=fe.length/2}}else(function(D,j,$,q,ae,fe){const ye=[];for(let Re=0;Re<q.length/2;Re++)ye.push(-1);const Le={count:0};let Me=0,K=D.getOrCreateLatestSegment(j,$),de=K.vertexLength;for(let Re=2;Re<ae.length;Re+=3){const Je=ae[Re-2],vt=ae[Re-1],at=ae[Re];let At=ye[Je]<Me,It=ye[vt]<Me,Bt=ye[at]<Me;K.vertexLength+((At?1:0)+(It?1:0)+(Bt?1:0))>wr.MAX_VERTEX_ARRAY_LENGTH&&(K=D.createNewSegment(j,$),Me=Le.count,At=!0,It=!0,Bt=!0,de=0);const Tt=dd(ye,q,fe,Le,Je,At,K),dt=dd(ye,q,fe,Le,vt,It,K),$t=dd(ye,q,fe,Le,at,Bt,K);$.emplaceBack(de+Tt-Me,de+dt-Me,de+$t-Me),K.primitiveLength++}})(a,c,d,m,y,A),P&&function(D,j,$,q,ae,fe){const ye=[];for(let Re=0;Re<q.length/2;Re++)ye.push(-1);const Le={count:0};let Me=0,K=D.getOrCreateLatestSegment(j,$),de=K.vertexLength;for(let Re=0;Re<ae.length;Re++){const Je=ae[Re];for(let vt=1;vt<ae[Re].length;vt+=2){const at=Je[vt-1],At=Je[vt];let It=ye[at]<Me,Bt=ye[At]<Me;K.vertexLength+((It?1:0)+(Bt?1:0))>wr.MAX_VERTEX_ARRAY_LENGTH&&(K=D.createNewSegment(j,$),Me=Le.count,It=!0,Bt=!0,de=0);const Tt=dd(ye,q,fe,Le,at,It,K),dt=dd(ye,q,fe,Le,At,Bt,K);$.emplaceBack(de+Tt-Me,de+dt-Me),K.primitiveLength++}}}(x,c,R,m,F,A),a.forceNewSegmentOnNextPrepare(),x==null||x.forceNewSegmentOnNextPrepare()}function dd(A,a,c,d,m,y,x){if(y){const R=d.count;return c(a[2*m],a[2*m+1]),A[m]=d.count,d.count++,x.vertexLength++,R}return A[m]}class g2{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(c=>c.id),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ee,this.indexArray=new Ft,this.indexArray2=new yt,this.programConfigurations=new To(a.layers,a.zoom),this.segments=new wr,this.segments2=new wr,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(a,c,d){this.hasPattern=u2("fill",this.layers,c);const m=this.layers[0].layout.get("fill-sort-key"),y=!m.isConstant(),x=[];for(const{feature:R,id:F,index:N,sourceLayerIndex:P}of a){const D=this.layers[0]._featureFilter.needGeometry,j=to(R,D);if(!this.layers[0]._featureFilter.filter(new _i(this.zoom),j,d))continue;const $=y?m.evaluate(j,{},d,c.availableImages):void 0,q={id:F,properties:R.properties,type:R.type,sourceLayerIndex:P,index:N,geometry:D?j.geometry:nn(R),patterns:{},sortKey:$};x.push(q)}y&&x.sort((R,F)=>R.sortKey-F.sortKey);for(const R of x){const{geometry:F,index:N,sourceLayerIndex:P}=R;if(this.hasPattern){const D=h2("fill",this.layers,R,this.zoom,c);this.patternFeatures.push(D)}else this.addFeature(R,F,N,d,{},c.subdivisionGranularity);c.featureIndex.insert(a[N].feature,F,N,P,this.index)}}update(a,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,c,this.stateDependentLayers,d)}addFeatures(a,c,d){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,c,d,a.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,E9),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(a,c,d,m,y,x){for(const R of yc(c,500)){const F=P_(R,m,x.fill.getGranularityForZoomLevel(m.z)),N=this.layoutVertexArray;L_((P,D)=>{N.emplaceBack(P,D)},this.segments,this.layoutVertexArray,this.indexArray,F.verticesFlattened,F.indicesTriangles,this.segments2,this.indexArray2,F.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,y,m)}}let k_,Q_;Xt("FillBucket",g2,{omit:["layers","patternFeatures"]});var Z9={get paint(){return Q_=Q_||new Ka({"fill-antialias":new cr(ce.paint_fill["fill-antialias"]),"fill-opacity":new yr(ce.paint_fill["fill-opacity"]),"fill-color":new yr(ce.paint_fill["fill-color"]),"fill-outline-color":new yr(ce.paint_fill["fill-outline-color"]),"fill-translate":new cr(ce.paint_fill["fill-translate"]),"fill-translate-anchor":new cr(ce.paint_fill["fill-translate-anchor"]),"fill-pattern":new MA(ce.paint_fill["fill-pattern"])})},get layout(){return k_=k_||new Ka({"fill-sort-key":new yr(ce.layout_fill["fill-sort-key"])})}};class O9 extends rs{constructor(a){super(a,Z9)}recalculate(a,c){super.recalculate(a,c);const d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new g2(a)}queryRadius(){return Df(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:a,geometry:c,transform:d,pixelsToTileUnits:m}){return y_(zf(a,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-d.bearingInRadians,m),c)}isTileClipped(){return!0}}const H9=ji([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),X9=ji([{name:"a_centroid",components:2,type:"Int16"}],4),{members:V9}=H9;var p2,D_,m2,z_,_2,Z_,O_,Xf={};function H_(){if(D_)return p2;D_=1;var A=M();function a(m,y,x,R,F){this.properties={},this.extent=x,this.type=0,this._pbf=m,this._geometry=-1,this._keys=R,this._values=F,m.readFields(c,this,y)}function c(m,y,x){m==1?y.id=x.readVarint():m==2?function(R,F){for(var N=R.readVarint()+R.pos;R.pos<N;){var P=F._keys[R.readVarint()],D=F._values[R.readVarint()];F.properties[P]=D}}(x,y):m==3?y.type=x.readVarint():m==4&&(y._geometry=x.pos)}function d(m){for(var y,x,R=0,F=0,N=m.length,P=N-1;F<N;P=F++)R+=((x=m[P]).x-(y=m[F]).x)*(y.y+x.y);return R}return p2=a,a.types=["Unknown","Point","LineString","Polygon"],a.prototype.loadGeometry=function(){var m=this._pbf;m.pos=this._geometry;for(var y,x=m.readVarint()+m.pos,R=1,F=0,N=0,P=0,D=[];m.pos<x;){if(F<=0){var j=m.readVarint();R=7&j,F=j>>3}if(F--,R===1||R===2)N+=m.readSVarint(),P+=m.readSVarint(),R===1&&(y&&D.push(y),y=[]),y.push(new A(N,P));else{if(R!==7)throw new Error("unknown command "+R);y&&y.push(y[0].clone())}}return y&&D.push(y),D},a.prototype.bbox=function(){var m=this._pbf;m.pos=this._geometry;for(var y=m.readVarint()+m.pos,x=1,R=0,F=0,N=0,P=1/0,D=-1/0,j=1/0,$=-1/0;m.pos<y;){if(R<=0){var q=m.readVarint();x=7&q,R=q>>3}if(R--,x===1||x===2)(F+=m.readSVarint())<P&&(P=F),F>D&&(D=F),(N+=m.readSVarint())<j&&(j=N),N>$&&($=N);else if(x!==7)throw new Error("unknown command "+x)}return[P,j,D,$]},a.prototype.toGeoJSON=function(m,y,x){var R,F,N=this.extent*Math.pow(2,x),P=this.extent*m,D=this.extent*y,j=this.loadGeometry(),$=a.types[this.type];function q(ye){for(var Le=0;Le<ye.length;Le++){var Me=ye[Le];ye[Le]=[360*(Me.x+P)/N-180,360/Math.PI*Math.atan(Math.exp((180-360*(Me.y+D)/N)*Math.PI/180))-90]}}switch(this.type){case 1:var ae=[];for(R=0;R<j.length;R++)ae[R]=j[R][0];q(j=ae);break;case 2:for(R=0;R<j.length;R++)q(j[R]);break;case 3:for(j=function(ye){var Le=ye.length;if(Le<=1)return[ye];for(var Me,K,de=[],Re=0;Re<Le;Re++){var Je=d(ye[Re]);Je!==0&&(K===void 0&&(K=Je<0),K===Je<0?(Me&&de.push(Me),Me=[ye[Re]]):Me.push(ye[Re]))}return Me&&de.push(Me),de}(j),R=0;R<j.length;R++)for(F=0;F<j[R].length;F++)q(j[R][F])}j.length===1?j=j[0]:$="Multi"+$;var fe={type:"Feature",geometry:{type:$,coordinates:j},properties:this.properties};return"id"in this&&(fe.id=this.id),fe},p2}function X_(){if(z_)return m2;z_=1;var A=H_();function a(d,m){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=d,this._keys=[],this._values=[],this._features=[],d.readFields(c,this,m),this.length=this._features.length}function c(d,m,y){d===15?m.version=y.readVarint():d===1?m.name=y.readString():d===5?m.extent=y.readVarint():d===2?m._features.push(y.pos):d===3?m._keys.push(y.readString()):d===4&&m._values.push(function(x){for(var R=null,F=x.readVarint()+x.pos;x.pos<F;){var N=x.readVarint()>>3;R=N===1?x.readString():N===2?x.readFloat():N===3?x.readDouble():N===4?x.readVarint64():N===5?x.readVarint():N===6?x.readSVarint():N===7?x.readBoolean():null}return R}(y))}return m2=a,a.prototype.feature=function(d){if(d<0||d>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[d];var m=this._pbf.readVarint()+this._pbf.pos;return new A(this._pbf,m,this.extent,this._keys,this._values)},m2}function V_(){return O_||(O_=1,Xf.VectorTile=function(){if(Z_)return _2;Z_=1;var A=X_();function a(c,d,m){if(c===3){var y=new A(m,m.readVarint()+m.pos);y.length&&(d[y.name]=y)}}return _2=function(c,d){this.layers=c.readFields(a,{},d)},_2}(),Xf.VectorTileFeature=H_(),Xf.VectorTileLayer=X_()),Xf}var fd=v(V_());const G9=fd.VectorTileFeature.types,b2=Math.pow(2,13);function gd(A,a,c,d,m,y,x,R){A.emplaceBack(a,c,2*Math.floor(d*b2)+x,m*b2*2,y*b2*2,Math.round(R))}class y2{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(c=>c.id),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new Se,this.centroidVertexArray=new Be,this.indexArray=new Ft,this.programConfigurations=new To(a.layers,a.zoom),this.segments=new wr,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(a,c,d){this.features=[],this.hasPattern=u2("fill-extrusion",this.layers,c);for(const{feature:m,id:y,index:x,sourceLayerIndex:R}of a){const F=this.layers[0]._featureFilter.needGeometry,N=to(m,F);if(!this.layers[0]._featureFilter.filter(new _i(this.zoom),N,d))continue;const P={id:y,sourceLayerIndex:R,index:x,geometry:F?N.geometry:nn(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push(h2("fill-extrusion",this.layers,P,this.zoom,c)):this.addFeature(P,P.geometry,x,d,{},c.subdivisionGranularity),c.featureIndex.insert(m,P.geometry,x,R,this.index,!0)}}addFeatures(a,c,d){for(const m of this.features){const{geometry:y}=m;this.addFeature(m,y,m.index,c,d,a.subdivisionGranularity)}}update(a,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,c,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,V9),this.centroidVertexBuffer=a.createVertexBuffer(this.centroidVertexArray,X9.members,!0),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(a,c,d,m,y,x){for(const R of yc(c,500)){const F={x:0,y:0,sampleCount:0},N=this.layoutVertexArray.length;this.processPolygon(F,m,a,R,x);const P=this.layoutVertexArray.length-N,D=Math.floor(F.x/F.sampleCount),j=Math.floor(F.y/F.sampleCount);for(let $=0;$<P;$++)this.centroidVertexArray.emplaceBack(D,j)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,y,m)}processPolygon(a,c,d,m,y){if(m.length<1||G_(m[0]))return;for(const D of m)D.length!==0&&j9(a,D);const x={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},R=y.fill.getGranularityForZoomLevel(c.z),F=G9[d.type]==="Polygon";for(const D of m){if(D.length===0||G_(D))continue;const j=NA(D,R,F);this._generateSideFaces(j,x)}if(!F)return;const N=P_(m,c,R,!1),P=this.layoutVertexArray;L_((D,j)=>{gd(P,D,j,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,N.verticesFlattened,N.indicesTriangles)}_generateSideFaces(a,c){let d=0;for(let m=1;m<a.length;m++){const y=a[m],x=a[m-1];if(K9(y,x))continue;c.segment.vertexLength+4>wr.MAX_VERTEX_ARRAY_LENGTH&&(c.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const R=y.sub(x)._perp()._unit(),F=x.dist(y);d+F>32768&&(d=0),gd(this.layoutVertexArray,y.x,y.y,R.x,R.y,0,0,d),gd(this.layoutVertexArray,y.x,y.y,R.x,R.y,0,1,d),d+=F,gd(this.layoutVertexArray,x.x,x.y,R.x,R.y,0,0,d),gd(this.layoutVertexArray,x.x,x.y,R.x,R.y,0,1,d);const N=c.segment.vertexLength;this.indexArray.emplaceBack(N,N+2,N+1),this.indexArray.emplaceBack(N+1,N+2,N+3),c.segment.vertexLength+=4,c.segment.primitiveLength+=2}}}function j9(A,a){for(let c=0;c<a.length;c++){const d=a[c];c===a.length-1&&a[0].x===d.x&&a[0].y===d.y||(A.x+=d.x,A.y+=d.y,A.sampleCount++)}}function K9(A,a){return A.x===a.x&&(A.x<0||A.x>it)||A.y===a.y&&(A.y<0||A.y>it)}function G_(A){return A.every(a=>a.x<0)||A.every(a=>a.x>it)||A.every(a=>a.y<0)||A.every(a=>a.y>it)}let j_;Xt("FillExtrusionBucket",y2,{omit:["layers","features"]});var $9={get paint(){return j_=j_||new Ka({"fill-extrusion-opacity":new cr(ce["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yr(ce["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new cr(ce["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new cr(ce["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new MA(ce["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yr(ce["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yr(ce["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new cr(ce["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class q9 extends rs{constructor(a){super(a,$9)}createBucket(a){return new y2(a)}queryRadius(){return Df(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:a,feature:c,featureState:d,geometry:m,transform:y,pixelsToTileUnits:x,pixelPosMatrix:R}){const F=zf(a,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-y.bearingInRadians,x),N=this.paint.get("fill-extrusion-height").evaluate(c,d),P=this.paint.get("fill-extrusion-base").evaluate(c,d),D=function($,q,ae){const fe=[];for(const ye of $){const Le=[ye.x,ye.y,0,1];He(Le,Le,q),fe.push(new S(Le[0]/Le[3],Le[1]/Le[3]))}return fe}(F,R),j=function($,q,ae,fe){const ye=[],Le=[],Me=fe[8]*q,K=fe[9]*q,de=fe[10]*q,Re=fe[11]*q,Je=fe[8]*ae,vt=fe[9]*ae,at=fe[10]*ae,At=fe[11]*ae;for(const It of $){const Bt=[],Tt=[];for(const dt of It){const $t=dt.x,br=dt.y,mr=fe[0]*$t+fe[4]*br+fe[12],nr=fe[1]*$t+fe[5]*br+fe[13],Dr=fe[2]*$t+fe[6]*br+fe[14],Di=fe[3]*$t+fe[7]*br+fe[15],sa=Dr+de,Ya=Di+Re,Ln=mr+Je,on=nr+vt,Ma=Dr+at,Ti=Di+At,da=new S((mr+Me)/Ya,(nr+K)/Ya);da.z=sa/Ya,Bt.push(da);const Ra=new S(Ln/Ti,on/Ti);Ra.z=Ma/Ti,Tt.push(Ra)}ye.push(Bt),Le.push(Tt)}return[ye,Le]}(m,P,N,R);return function($,q,ae){let fe=1/0;y_(ae,q)&&(fe=K_(ae,q[0]));for(let ye=0;ye<q.length;ye++){const Le=q[ye],Me=$[ye];for(let K=0;K<Le.length-1;K++){const de=Le[K],Re=[de,Le[K+1],Me[K+1],Me[K],de];ad(ae,Re)&&(fe=Math.min(fe,K_(ae,Re)))}}return fe!==1/0&&fe}(j[0],j[1],D)}}function pd(A,a){return A.x*a.x+A.y*a.y}function K_(A,a){if(A.length===1){let c=0;const d=a[c++];let m;for(;!m||d.equals(m);)if(m=a[c++],!m)return 1/0;for(;c<a.length;c++){const y=a[c],x=A[0],R=m.sub(d),F=y.sub(d),N=x.sub(d),P=pd(R,R),D=pd(R,F),j=pd(F,F),$=pd(N,R),q=pd(N,F),ae=P*j-D*D,fe=(j*$-D*q)/ae,ye=(P*q-D*$)/ae,Le=d.z*(1-fe-ye)+m.z*fe+y.z*ye;if(isFinite(Le))return Le}return 1/0}{let c=1/0;for(const d of a)c=Math.min(c,d.z);return c}}const W9=ji([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:J9}=W9,e7=ji([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:t7}=e7,r7=fd.VectorTileFeature.types,i7=Math.cos(Math.PI/180*37.5),$_=Math.pow(2,14)/.5;class v2{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(c=>c.id),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new ke,this.layoutVertexArray2=new Pe,this.indexArray=new Ft,this.programConfigurations=new To(a.layers,a.zoom),this.segments=new wr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(a,c,d){this.hasPattern=u2("line",this.layers,c);const m=this.layers[0].layout.get("line-sort-key"),y=!m.isConstant(),x=[];for(const{feature:R,id:F,index:N,sourceLayerIndex:P}of a){const D=this.layers[0]._featureFilter.needGeometry,j=to(R,D);if(!this.layers[0]._featureFilter.filter(new _i(this.zoom),j,d))continue;const $=y?m.evaluate(j,{},d):void 0,q={id:F,properties:R.properties,type:R.type,sourceLayerIndex:P,index:N,geometry:D?j.geometry:nn(R),patterns:{},sortKey:$};x.push(q)}y&&x.sort((R,F)=>R.sortKey-F.sortKey);for(const R of x){const{geometry:F,index:N,sourceLayerIndex:P}=R;if(this.hasPattern){const D=h2("line",this.layers,R,this.zoom,c);this.patternFeatures.push(D)}else this.addFeature(R,F,N,d,{},c.subdivisionGranularity);c.featureIndex.insert(a[N].feature,F,N,P,this.index)}}update(a,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,c,this.stateDependentLayers,d)}addFeatures(a,c,d){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,c,d,a.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=a.createVertexBuffer(this.layoutVertexArray2,t7)),this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,J9),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(a){if(a.properties&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_end"))return{start:+a.properties.mapbox_clip_start,end:+a.properties.mapbox_clip_end}}addFeature(a,c,d,m,y,x){const R=this.layers[0].layout,F=R.get("line-join").evaluate(a,{}),N=R.get("line-cap"),P=R.get("line-miter-limit"),D=R.get("line-round-limit");this.lineClips=this.lineFeatureClips(a);for(const j of c)this.addLine(j,a,F,N,P,D,m,x);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,y,m)}addLine(a,c,d,m,y,x,R,F){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,a=NA(a,R?F.line.getGranularityForZoomLevel(R.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Me=0;Me<a.length-1;Me++)this.totalDistance+=a[Me].dist(a[Me+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const N=r7[c.type]==="Polygon";let P=a.length;for(;P>=2&&a[P-1].equals(a[P-2]);)P--;let D=0;for(;D<P-1&&a[D].equals(a[D+1]);)D++;if(P<(N?3:2))return;d==="bevel"&&(y=1.05);const j=this.overscaling<=16?15*it/(512*this.overscaling):0,$=this.segments.prepareSegment(10*P,this.layoutVertexArray,this.indexArray);let q,ae,fe,ye,Le;this.e1=this.e2=-1,N&&(q=a[P-2],Le=a[D].sub(q)._unit()._perp());for(let Me=D;Me<P;Me++){if(fe=Me===P-1?N?a[D+1]:void 0:a[Me+1],fe&&a[Me].equals(fe))continue;Le&&(ye=Le),q&&(ae=q),q=a[Me],Le=fe?fe.sub(q)._unit()._perp():ye,ye=ye||Le;let K=ye.add(Le);K.x===0&&K.y===0||K._unit();const de=ye.x*Le.x+ye.y*Le.y,Re=K.x*Le.x+K.y*Le.y,Je=Re!==0?1/Re:1/0,vt=2*Math.sqrt(2-2*Re),at=Re<i7&&ae&&fe,At=ye.x*Le.y-ye.y*Le.x>0;if(at&&Me>D){const Tt=q.dist(ae);if(Tt>2*j){const dt=q.sub(q.sub(ae)._mult(j/Tt)._round());this.updateDistance(ae,dt),this.addCurrentVertex(dt,ye,0,0,$),ae=dt}}const It=ae&&fe;let Bt=It?d:N?"butt":m;if(It&&Bt==="round"&&(Je<x?Bt="miter":Je<=2&&(Bt="fakeround")),Bt==="miter"&&Je>y&&(Bt="bevel"),Bt==="bevel"&&(Je>2&&(Bt="flipbevel"),Je<y&&(Bt="miter")),ae&&this.updateDistance(ae,q),Bt==="miter")K._mult(Je),this.addCurrentVertex(q,K,0,0,$);else if(Bt==="flipbevel"){if(Je>100)K=Le.mult(-1);else{const Tt=Je*ye.add(Le).mag()/ye.sub(Le).mag();K._perp()._mult(Tt*(At?-1:1))}this.addCurrentVertex(q,K,0,0,$),this.addCurrentVertex(q,K.mult(-1),0,0,$)}else if(Bt==="bevel"||Bt==="fakeround"){const Tt=-Math.sqrt(Je*Je-1),dt=At?Tt:0,$t=At?0:Tt;if(ae&&this.addCurrentVertex(q,ye,dt,$t,$),Bt==="fakeround"){const br=Math.round(180*vt/Math.PI/20);for(let mr=1;mr<br;mr++){let nr=mr/br;if(nr!==.5){const Di=nr-.5;nr+=nr*Di*(nr-1)*((1.0904+de*(de*(3.55645-1.43519*de)-3.2452))*Di*Di+(.848013+de*(.215638*de-1.06021)))}const Dr=Le.sub(ye)._mult(nr)._add(ye)._unit()._mult(At?-1:1);this.addHalfVertex(q,Dr.x,Dr.y,!1,At,0,$)}}fe&&this.addCurrentVertex(q,Le,-dt,-$t,$)}else if(Bt==="butt")this.addCurrentVertex(q,K,0,0,$);else if(Bt==="square"){const Tt=ae?1:-1;this.addCurrentVertex(q,K,Tt,Tt,$)}else Bt==="round"&&(ae&&(this.addCurrentVertex(q,ye,0,0,$),this.addCurrentVertex(q,ye,1,1,$,!0)),fe&&(this.addCurrentVertex(q,Le,-1,-1,$,!0),this.addCurrentVertex(q,Le,0,0,$)));if(at&&Me<P-1){const Tt=q.dist(fe);if(Tt>2*j){const dt=q.add(fe.sub(q)._mult(j/Tt)._round());this.updateDistance(q,dt),this.addCurrentVertex(dt,Le,0,0,$),q=dt}}}}addCurrentVertex(a,c,d,m,y,x=!1){const R=c.y*m-c.x,F=-c.y-c.x*m;this.addHalfVertex(a,c.x+c.y*d,c.y-c.x*d,x,!1,d,y),this.addHalfVertex(a,R,F,x,!0,-m,y),this.distance>$_/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(a,c,d,m,y,x))}addHalfVertex({x:a,y:c},d,m,y,x,R,F){const N=.5*(this.lineClips?this.scaledDistance*($_-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((a<<1)+(y?1:0),(c<<1)+(x?1:0),Math.round(63*d)+128,Math.round(63*m)+128,1+(R===0?0:R<0?-1:1)|(63&N)<<2,N>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const P=F.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,P,this.e2),F.primitiveLength++),x?this.e2=P:this.e1=P}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(a,c){this.distance+=a.dist(c),this.updateScaledDistance()}}let q_,W_;Xt("LineBucket",v2,{omit:["layers","patternFeatures"]});var J_={get paint(){return W_=W_||new Ka({"line-opacity":new yr(ce.paint_line["line-opacity"]),"line-color":new yr(ce.paint_line["line-color"]),"line-translate":new cr(ce.paint_line["line-translate"]),"line-translate-anchor":new cr(ce.paint_line["line-translate-anchor"]),"line-width":new yr(ce.paint_line["line-width"]),"line-gap-width":new yr(ce.paint_line["line-gap-width"]),"line-offset":new yr(ce.paint_line["line-offset"]),"line-blur":new yr(ce.paint_line["line-blur"]),"line-dasharray":new Kh(ce.paint_line["line-dasharray"]),"line-pattern":new MA(ce.paint_line["line-pattern"]),"line-gradient":new $h(ce.paint_line["line-gradient"])})},get layout(){return q_=q_||new Ka({"line-cap":new cr(ce.layout_line["line-cap"]),"line-join":new yr(ce.layout_line["line-join"]),"line-miter-limit":new cr(ce.layout_line["line-miter-limit"]),"line-round-limit":new cr(ce.layout_line["line-round-limit"]),"line-sort-key":new yr(ce.layout_line["line-sort-key"])})}};class a7 extends yr{possiblyEvaluate(a,c){return c=new _i(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(a,c)}evaluate(a,c,d,m){return c=Et({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(a,c,d,m)}}let Vf;class n7 extends rs{constructor(a){super(a,J_),this.gradientVersion=0,Vf||(Vf=new a7(J_.paint.properties["line-width"].specification),Vf.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(a){if(a==="line-gradient"){const c=this.gradientExpression();this.stepInterpolant=!!function(d){return d._styleExpression!==void 0}(c)&&c._styleExpression.expression instanceof AA,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,c){super.recalculate(a,c),this.paint._values["line-floorwidth"]=Vf.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new v2(a)}queryRadius(a){const c=a,d=eb(sd("line-width",this,c),sd("line-gap-width",this,c)),m=sd("line-offset",this,c);return d/2+Math.abs(m)+Df(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:a,feature:c,featureState:d,geometry:m,transform:y,pixelsToTileUnits:x}){const R=zf(a,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-y.bearingInRadians,x),F=x/2*eb(this.paint.get("line-width").evaluate(c,d),this.paint.get("line-gap-width").evaluate(c,d)),N=this.paint.get("line-offset").evaluate(c,d);return N&&(m=function(P,D){const j=[];for(let $=0;$<P.length;$++){const q=P[$],ae=[];for(let fe=0;fe<q.length;fe++){const ye=q[fe-1],Le=q[fe],Me=q[fe+1],K=fe===0?new S(0,0):Le.sub(ye)._unit()._perp(),de=fe===q.length-1?new S(0,0):Me.sub(Le)._unit()._perp(),Re=K._add(de)._unit(),Je=Re.x*de.x+Re.y*de.y;Je!==0&&Re._mult(1/Je),ae.push(Re._mult(D)._add(Le))}j.push(ae)}return j}(m,N*x)),function(P,D,j){for(let $=0;$<D.length;$++){const q=D[$];if(P.length>=3){for(let ae=0;ae<q.length;ae++)if(TA(P,q[ae]))return!0}if(y9(P,q,j))return!0}return!1}(R,m,F)}isTileClipped(){return!0}}function eb(A,a){return a>0?a+2*A:A}const s7=ji([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),o7=ji([{name:"a_projected_pos",components:3,type:"Float32"}],4);ji([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const l7=ji([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);ji([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const tb=ji([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),A7=ji([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function c7(A,a,c){return A.sections.forEach(d=>{d.text=function(m,y,x){const R=y.layout.get("text-transform").evaluate(x,{});return R==="uppercase"?m=m.toLocaleUpperCase():R==="lowercase"&&(m=m.toLocaleLowerCase()),Ws.applyArabicShaping&&(m=Ws.applyArabicShaping(m)),m}(d.text,a,c)}),A}ji([{name:"triangle",components:3,type:"Uint16"}]),ji([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ji([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),ji([{type:"Float32",name:"offsetX"}]),ji([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),ji([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const md={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var rb,x2,ib,na=24,w2={};function u7(){return rb||(rb=1,w2.read=function(A,a,c,d,m){var y,x,R=8*m-d-1,F=(1<<R)-1,N=F>>1,P=-7,D=c?m-1:0,j=c?-1:1,$=A[a+D];for(D+=j,y=$&(1<<-P)-1,$>>=-P,P+=R;P>0;y=256*y+A[a+D],D+=j,P-=8);for(x=y&(1<<-P)-1,y>>=-P,P+=d;P>0;x=256*x+A[a+D],D+=j,P-=8);if(y===0)y=1-N;else{if(y===F)return x?NaN:1/0*($?-1:1);x+=Math.pow(2,d),y-=N}return($?-1:1)*x*Math.pow(2,y-d)},w2.write=function(A,a,c,d,m,y){var x,R,F,N=8*y-m-1,P=(1<<N)-1,D=P>>1,j=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=d?0:y-1,q=d?1:-1,ae=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(R=isNaN(a)?1:0,x=P):(x=Math.floor(Math.log(a)/Math.LN2),a*(F=Math.pow(2,-x))<1&&(x--,F*=2),(a+=x+D>=1?j/F:j*Math.pow(2,1-D))*F>=2&&(x++,F/=2),x+D>=P?(R=0,x=P):x+D>=1?(R=(a*F-1)*Math.pow(2,m),x+=D):(R=a*Math.pow(2,D-1)*Math.pow(2,m),x=0));m>=8;A[c+$]=255&R,$+=q,R/=256,m-=8);for(x=x<<m|R,N+=m;N>0;A[c+$]=255&x,$+=q,x/=256,N-=8);A[c+$-q]|=128*ae}),w2}function ab(){if(ib)return x2;ib=1,x2=a;var A=u7();function a(K){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(K)?K:new Uint8Array(K||0),this.pos=0,this.type=0,this.length=this.buf.length}a.Varint=0,a.Fixed64=1,a.Bytes=2,a.Fixed32=5;var c=4294967296,d=1/c,m=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function y(K){return K.type===a.Bytes?K.readVarint()+K.pos:K.pos+1}function x(K,de,Re){return Re?4294967296*de+(K>>>0):4294967296*(de>>>0)+(K>>>0)}function R(K,de,Re){var Je=de<=16383?1:de<=2097151?2:de<=268435455?3:Math.floor(Math.log(de)/(7*Math.LN2));Re.realloc(Je);for(var vt=Re.pos-1;vt>=K;vt--)Re.buf[vt+Je]=Re.buf[vt]}function F(K,de){for(var Re=0;Re<K.length;Re++)de.writeVarint(K[Re])}function N(K,de){for(var Re=0;Re<K.length;Re++)de.writeSVarint(K[Re])}function P(K,de){for(var Re=0;Re<K.length;Re++)de.writeFloat(K[Re])}function D(K,de){for(var Re=0;Re<K.length;Re++)de.writeDouble(K[Re])}function j(K,de){for(var Re=0;Re<K.length;Re++)de.writeBoolean(K[Re])}function $(K,de){for(var Re=0;Re<K.length;Re++)de.writeFixed32(K[Re])}function q(K,de){for(var Re=0;Re<K.length;Re++)de.writeSFixed32(K[Re])}function ae(K,de){for(var Re=0;Re<K.length;Re++)de.writeFixed64(K[Re])}function fe(K,de){for(var Re=0;Re<K.length;Re++)de.writeSFixed64(K[Re])}function ye(K,de){return(K[de]|K[de+1]<<8|K[de+2]<<16)+16777216*K[de+3]}function Le(K,de,Re){K[Re]=de,K[Re+1]=de>>>8,K[Re+2]=de>>>16,K[Re+3]=de>>>24}function Me(K,de){return(K[de]|K[de+1]<<8|K[de+2]<<16)+(K[de+3]<<24)}return a.prototype={destroy:function(){this.buf=null},readFields:function(K,de,Re){for(Re=Re||this.length;this.pos<Re;){var Je=this.readVarint(),vt=Je>>3,at=this.pos;this.type=7&Je,K(vt,de,this),this.pos===at&&this.skip(Je)}return de},readMessage:function(K,de){return this.readFields(K,de,this.readVarint()+this.pos)},readFixed32:function(){var K=ye(this.buf,this.pos);return this.pos+=4,K},readSFixed32:function(){var K=Me(this.buf,this.pos);return this.pos+=4,K},readFixed64:function(){var K=ye(this.buf,this.pos)+ye(this.buf,this.pos+4)*c;return this.pos+=8,K},readSFixed64:function(){var K=ye(this.buf,this.pos)+Me(this.buf,this.pos+4)*c;return this.pos+=8,K},readFloat:function(){var K=A.read(this.buf,this.pos,!0,23,4);return this.pos+=4,K},readDouble:function(){var K=A.read(this.buf,this.pos,!0,52,8);return this.pos+=8,K},readVarint:function(K){var de,Re,Je=this.buf;return de=127&(Re=Je[this.pos++]),Re<128?de:(de|=(127&(Re=Je[this.pos++]))<<7,Re<128?de:(de|=(127&(Re=Je[this.pos++]))<<14,Re<128?de:(de|=(127&(Re=Je[this.pos++]))<<21,Re<128?de:function(vt,at,At){var It,Bt,Tt=At.buf;if(It=(112&(Bt=Tt[At.pos++]))>>4,Bt<128||(It|=(127&(Bt=Tt[At.pos++]))<<3,Bt<128)||(It|=(127&(Bt=Tt[At.pos++]))<<10,Bt<128)||(It|=(127&(Bt=Tt[At.pos++]))<<17,Bt<128)||(It|=(127&(Bt=Tt[At.pos++]))<<24,Bt<128)||(It|=(1&(Bt=Tt[At.pos++]))<<31,Bt<128))return x(vt,It,at);throw new Error("Expected varint not more than 10 bytes")}(de|=(15&(Re=Je[this.pos]))<<28,K,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var K=this.readVarint();return K%2==1?(K+1)/-2:K/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var K=this.readVarint()+this.pos,de=this.pos;return this.pos=K,K-de>=12&&m?function(Re,Je,vt){return m.decode(Re.subarray(Je,vt))}(this.buf,de,K):function(Re,Je,vt){for(var at="",At=Je;At<vt;){var It,Bt,Tt,dt=Re[At],$t=null,br=dt>239?4:dt>223?3:dt>191?2:1;if(At+br>vt)break;br===1?dt<128&&($t=dt):br===2?(192&(It=Re[At+1]))==128&&($t=(31&dt)<<6|63&It)<=127&&($t=null):br===3?(Bt=Re[At+2],(192&(It=Re[At+1]))==128&&(192&Bt)==128&&(($t=(15&dt)<<12|(63&It)<<6|63&Bt)<=2047||$t>=55296&&$t<=57343)&&($t=null)):br===4&&(Bt=Re[At+2],Tt=Re[At+3],(192&(It=Re[At+1]))==128&&(192&Bt)==128&&(192&Tt)==128&&(($t=(15&dt)<<18|(63&It)<<12|(63&Bt)<<6|63&Tt)<=65535||$t>=1114112)&&($t=null)),$t===null?($t=65533,br=1):$t>65535&&($t-=65536,at+=String.fromCharCode($t>>>10&1023|55296),$t=56320|1023&$t),at+=String.fromCharCode($t),At+=br}return at}(this.buf,de,K)},readBytes:function(){var K=this.readVarint()+this.pos,de=this.buf.subarray(this.pos,K);return this.pos=K,de},readPackedVarint:function(K,de){if(this.type!==a.Bytes)return K.push(this.readVarint(de));var Re=y(this);for(K=K||[];this.pos<Re;)K.push(this.readVarint(de));return K},readPackedSVarint:function(K){if(this.type!==a.Bytes)return K.push(this.readSVarint());var de=y(this);for(K=K||[];this.pos<de;)K.push(this.readSVarint());return K},readPackedBoolean:function(K){if(this.type!==a.Bytes)return K.push(this.readBoolean());var de=y(this);for(K=K||[];this.pos<de;)K.push(this.readBoolean());return K},readPackedFloat:function(K){if(this.type!==a.Bytes)return K.push(this.readFloat());var de=y(this);for(K=K||[];this.pos<de;)K.push(this.readFloat());return K},readPackedDouble:function(K){if(this.type!==a.Bytes)return K.push(this.readDouble());var de=y(this);for(K=K||[];this.pos<de;)K.push(this.readDouble());return K},readPackedFixed32:function(K){if(this.type!==a.Bytes)return K.push(this.readFixed32());var de=y(this);for(K=K||[];this.pos<de;)K.push(this.readFixed32());return K},readPackedSFixed32:function(K){if(this.type!==a.Bytes)return K.push(this.readSFixed32());var de=y(this);for(K=K||[];this.pos<de;)K.push(this.readSFixed32());return K},readPackedFixed64:function(K){if(this.type!==a.Bytes)return K.push(this.readFixed64());var de=y(this);for(K=K||[];this.pos<de;)K.push(this.readFixed64());return K},readPackedSFixed64:function(K){if(this.type!==a.Bytes)return K.push(this.readSFixed64());var de=y(this);for(K=K||[];this.pos<de;)K.push(this.readSFixed64());return K},skip:function(K){var de=7&K;if(de===a.Varint)for(;this.buf[this.pos++]>127;);else if(de===a.Bytes)this.pos=this.readVarint()+this.pos;else if(de===a.Fixed32)this.pos+=4;else{if(de!==a.Fixed64)throw new Error("Unimplemented type: "+de);this.pos+=8}},writeTag:function(K,de){this.writeVarint(K<<3|de)},realloc:function(K){for(var de=this.length||16;de<this.pos+K;)de*=2;if(de!==this.length){var Re=new Uint8Array(de);Re.set(this.buf),this.buf=Re,this.length=de}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(K){this.realloc(4),Le(this.buf,K,this.pos),this.pos+=4},writeSFixed32:function(K){this.realloc(4),Le(this.buf,K,this.pos),this.pos+=4},writeFixed64:function(K){this.realloc(8),Le(this.buf,-1&K,this.pos),Le(this.buf,Math.floor(K*d),this.pos+4),this.pos+=8},writeSFixed64:function(K){this.realloc(8),Le(this.buf,-1&K,this.pos),Le(this.buf,Math.floor(K*d),this.pos+4),this.pos+=8},writeVarint:function(K){(K=+K||0)>268435455||K<0?function(de,Re){var Je,vt;if(de>=0?(Je=de%4294967296|0,vt=de/4294967296|0):(vt=~(-de/4294967296),4294967295^(Je=~(-de%4294967296))?Je=Je+1|0:(Je=0,vt=vt+1|0)),de>=18446744073709552e3||de<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Re.realloc(10),function(at,At,It){It.buf[It.pos++]=127&at|128,at>>>=7,It.buf[It.pos++]=127&at|128,at>>>=7,It.buf[It.pos++]=127&at|128,at>>>=7,It.buf[It.pos++]=127&at|128,It.buf[It.pos]=127&(at>>>=7)}(Je,0,Re),function(at,At){var It=(7&at)<<4;At.buf[At.pos++]|=It|((at>>>=3)?128:0),at&&(At.buf[At.pos++]=127&at|((at>>>=7)?128:0),at&&(At.buf[At.pos++]=127&at|((at>>>=7)?128:0),at&&(At.buf[At.pos++]=127&at|((at>>>=7)?128:0),at&&(At.buf[At.pos++]=127&at|((at>>>=7)?128:0),at&&(At.buf[At.pos++]=127&at)))))}(vt,Re)}(K,this):(this.realloc(4),this.buf[this.pos++]=127&K|(K>127?128:0),K<=127||(this.buf[this.pos++]=127&(K>>>=7)|(K>127?128:0),K<=127||(this.buf[this.pos++]=127&(K>>>=7)|(K>127?128:0),K<=127||(this.buf[this.pos++]=K>>>7&127))))},writeSVarint:function(K){this.writeVarint(K<0?2*-K-1:2*K)},writeBoolean:function(K){this.writeVarint(!!K)},writeString:function(K){K=String(K),this.realloc(4*K.length),this.pos++;var de=this.pos;this.pos=function(Je,vt,at){for(var At,It,Bt=0;Bt<vt.length;Bt++){if((At=vt.charCodeAt(Bt))>55295&&At<57344){if(!It){At>56319||Bt+1===vt.length?(Je[at++]=239,Je[at++]=191,Je[at++]=189):It=At;continue}if(At<56320){Je[at++]=239,Je[at++]=191,Je[at++]=189,It=At;continue}At=It-55296<<10|At-56320|65536,It=null}else It&&(Je[at++]=239,Je[at++]=191,Je[at++]=189,It=null);At<128?Je[at++]=At:(At<2048?Je[at++]=At>>6|192:(At<65536?Je[at++]=At>>12|224:(Je[at++]=At>>18|240,Je[at++]=At>>12&63|128),Je[at++]=At>>6&63|128),Je[at++]=63&At|128)}return at}(this.buf,K,this.pos);var Re=this.pos-de;Re>=128&&R(de,Re,this),this.pos=de-1,this.writeVarint(Re),this.pos+=Re},writeFloat:function(K){this.realloc(4),A.write(this.buf,K,this.pos,!0,23,4),this.pos+=4},writeDouble:function(K){this.realloc(8),A.write(this.buf,K,this.pos,!0,52,8),this.pos+=8},writeBytes:function(K){var de=K.length;this.writeVarint(de),this.realloc(de);for(var Re=0;Re<de;Re++)this.buf[this.pos++]=K[Re]},writeRawMessage:function(K,de){this.pos++;var Re=this.pos;K(de,this);var Je=this.pos-Re;Je>=128&&R(Re,Je,this),this.pos=Re-1,this.writeVarint(Je),this.pos+=Je},writeMessage:function(K,de,Re){this.writeTag(K,a.Bytes),this.writeRawMessage(de,Re)},writePackedVarint:function(K,de){de.length&&this.writeMessage(K,F,de)},writePackedSVarint:function(K,de){de.length&&this.writeMessage(K,N,de)},writePackedBoolean:function(K,de){de.length&&this.writeMessage(K,j,de)},writePackedFloat:function(K,de){de.length&&this.writeMessage(K,P,de)},writePackedDouble:function(K,de){de.length&&this.writeMessage(K,D,de)},writePackedFixed32:function(K,de){de.length&&this.writeMessage(K,$,de)},writePackedSFixed32:function(K,de){de.length&&this.writeMessage(K,q,de)},writePackedFixed64:function(K,de){de.length&&this.writeMessage(K,ae,de)},writePackedSFixed64:function(K,de){de.length&&this.writeMessage(K,fe,de)},writeBytesField:function(K,de){this.writeTag(K,a.Bytes),this.writeBytes(de)},writeFixed32Field:function(K,de){this.writeTag(K,a.Fixed32),this.writeFixed32(de)},writeSFixed32Field:function(K,de){this.writeTag(K,a.Fixed32),this.writeSFixed32(de)},writeFixed64Field:function(K,de){this.writeTag(K,a.Fixed64),this.writeFixed64(de)},writeSFixed64Field:function(K,de){this.writeTag(K,a.Fixed64),this.writeSFixed64(de)},writeVarintField:function(K,de){this.writeTag(K,a.Varint),this.writeVarint(de)},writeSVarintField:function(K,de){this.writeTag(K,a.Varint),this.writeSVarint(de)},writeStringField:function(K,de){this.writeTag(K,a.Bytes),this.writeString(de)},writeFloatField:function(K,de){this.writeTag(K,a.Fixed32),this.writeFloat(de)},writeDoubleField:function(K,de){this.writeTag(K,a.Fixed64),this.writeDouble(de)},writeBooleanField:function(K,de){this.writeVarintField(K,!!de)}},x2}var B2=v(ab());const C2=3;function h7(A,a,c){A===1&&c.readMessage(d7,a)}function d7(A,a,c){if(A===3){const{id:d,bitmap:m,width:y,height:x,left:R,top:F,advance:N}=c.readMessage(f7,{});a.push({id:d,bitmap:new od({width:y+2*C2,height:x+2*C2},m),metrics:{width:y,height:x,left:R,top:F,advance:N}})}}function f7(A,a,c){A===1?a.id=c.readVarint():A===2?a.bitmap=c.readBytes():A===3?a.width=c.readVarint():A===4?a.height=c.readVarint():A===5?a.left=c.readSVarint():A===6?a.top=c.readSVarint():A===7&&(a.advance=c.readVarint())}const g7=C2;function nb(A){let a=0,c=0;for(const x of A)a+=x.w*x.h,c=Math.max(c,x.w);A.sort((x,R)=>R.h-x.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),c),h:1/0}];let m=0,y=0;for(const x of A)for(let R=d.length-1;R>=0;R--){const F=d[R];if(!(x.w>F.w||x.h>F.h)){if(x.x=F.x,x.y=F.y,y=Math.max(y,x.y+x.h),m=Math.max(m,x.x+x.w),x.w===F.w&&x.h===F.h){const N=d.pop();R<d.length&&(d[R]=N)}else x.h===F.h?(F.x+=x.w,F.w-=x.w):x.w===F.w?(F.y+=x.h,F.h-=x.h):(d.push({x:F.x+x.w,y:F.y,w:F.w-x.w,h:x.h}),F.y+=x.h,F.h-=x.h);break}}return{w:m,h:y,fill:a/(m*y)||0}}const sn=1;class M2{constructor(a,{pixelRatio:c,version:d,stretchX:m,stretchY:y,content:x,textFitWidth:R,textFitHeight:F}){this.paddedRect=a,this.pixelRatio=c,this.stretchX=m,this.stretchY=y,this.content=x,this.version=d,this.textFitWidth=R,this.textFitHeight=F}get tl(){return[this.paddedRect.x+sn,this.paddedRect.y+sn]}get br(){return[this.paddedRect.x+this.paddedRect.w-sn,this.paddedRect.y+this.paddedRect.h-sn]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*sn)/this.pixelRatio,(this.paddedRect.h-2*sn)/this.pixelRatio]}}class sb{constructor(a,c){const d={},m={};this.haveRenderCallbacks=[];const y=[];this.addImages(a,d,y),this.addImages(c,m,y);const{w:x,h:R}=nb(y),F=new Yn({width:x||1,height:R||1});for(const N in a){const P=a[N],D=d[N].paddedRect;Yn.copy(P.data,F,{x:0,y:0},{x:D.x+sn,y:D.y+sn},P.data)}for(const N in c){const P=c[N],D=m[N].paddedRect,j=D.x+sn,$=D.y+sn,q=P.data.width,ae=P.data.height;Yn.copy(P.data,F,{x:0,y:0},{x:j,y:$},P.data),Yn.copy(P.data,F,{x:0,y:ae-1},{x:j,y:$-1},{width:q,height:1}),Yn.copy(P.data,F,{x:0,y:0},{x:j,y:$+ae},{width:q,height:1}),Yn.copy(P.data,F,{x:q-1,y:0},{x:j-1,y:$},{width:1,height:ae}),Yn.copy(P.data,F,{x:0,y:0},{x:j+q,y:$},{width:1,height:ae})}this.image=F,this.iconPositions=d,this.patternPositions=m}addImages(a,c,d){for(const m in a){const y=a[m],x={x:0,y:0,w:y.data.width+2*sn,h:y.data.height+2*sn};d.push(x),c[m]=new M2(x,y),y.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(a,c){a.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in a.updatedImages)this.patchUpdatedImage(this.iconPositions[d],a.getImage(d),c),this.patchUpdatedImage(this.patternPositions[d],a.getImage(d),c)}patchUpdatedImage(a,c,d){if(!a||!c||a.version===c.version)return;a.version=c.version;const[m,y]=a.tl;d.update(c.data,void 0,{x:m,y})}}var vl;Xt("ImagePosition",M2),Xt("ImageAtlas",sb),u.al=void 0,(vl=u.al||(u.al={}))[vl.none=0]="none",vl[vl.horizontal=1]="horizontal",vl[vl.vertical=2]="vertical",vl[vl.horizontalOnly=3]="horizontalOnly";const Gf=-17;class _d{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(a,c,d){const m=new _d;return m.scale=a||1,m.fontStack=c,m.verticalAlign=d||"bottom",m}static forImage(a,c){const d=new _d;return d.imageName=a,d.verticalAlign=c||"bottom",d}}class qc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(a,c){const d=new qc;for(let m=0;m<a.sections.length;m++){const y=a.sections[m];y.image?d.addImageSection(y):d.addTextSection(y,c)}return d}length(){return this.text.length}getSection(a){return this.sections[this.sectionIndex[a]]}getSectionIndex(a){return this.sectionIndex[a]}getCharCode(a){return this.text.charCodeAt(a)}verticalizePunctuation(){this.text=function(a){let c="";for(let d=0;d<a.length;d++){const m=a.charCodeAt(d+1)||null,y=a.charCodeAt(d-1)||null;c+=m&&Ff(m)&&!md[a[d+1]]||y&&Ff(y)&&!md[a[d-1]]||!md[a[d]]?a[d]:md[a[d]]}return c}(this.text)}trim(){let a=0;for(let d=0;d<this.text.length&&Kf[this.text.charCodeAt(d)];d++)a++;let c=this.text.length;for(let d=this.text.length-1;d>=0&&d>=a&&Kf[this.text.charCodeAt(d)];d--)c--;this.text=this.text.substring(a,c),this.sectionIndex=this.sectionIndex.slice(a,c)}substring(a,c){const d=new qc;return d.text=this.text.substring(a,c),d.sectionIndex=this.sectionIndex.slice(a,c),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((a,c)=>Math.max(a,this.sections[c].scale),0)}getMaxImageSize(a){let c=0,d=0;for(let m=0;m<this.length();m++){const y=this.getSection(m);if(y.imageName){const x=a[y.imageName];if(!x)continue;const R=x.displaySize;c=Math.max(c,R[0]),d=Math.max(d,R[1])}}return{maxImageWidth:c,maxImageHeight:d}}addTextSection(a,c){this.text+=a.text,this.sections.push(_d.forText(a.scale,a.fontStack||c,a.verticalAlign));const d=this.sections.length-1;for(let m=0;m<a.text.length;++m)this.sectionIndex.push(d)}addImageSection(a){const c=a.image?a.image.name:"";if(c.length===0)return void ur("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(_d.forImage(c,a.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):ur("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function jf(A,a,c,d,m,y,x,R,F,N,P,D,j,$,q){const ae=qc.fromFeature(A,m);let fe;D===u.al.vertical&&ae.verticalizePunctuation();const{processBidirectionalText:ye,processStyledBidirectionalText:Le}=Ws;if(ye&&ae.sections.length===1){fe=[];const de=ye(ae.toString(),R2(ae,N,y,a,d,$));for(const Re of de){const Je=new qc;Je.text=Re,Je.sections=ae.sections;for(let vt=0;vt<Re.length;vt++)Je.sectionIndex.push(0);fe.push(Je)}}else if(Le){fe=[];const de=Le(ae.text,ae.sectionIndex,R2(ae,N,y,a,d,$));for(const Re of de){const Je=new qc;Je.text=Re[0],Je.sectionIndex=Re[1],Je.sections=ae.sections,fe.push(Je)}}else fe=function(de,Re){const Je=[],vt=de.text;let at=0;for(const At of Re)Je.push(de.substring(at,At)),at=At;return at<vt.length&&Je.push(de.substring(at,vt.length)),Je}(ae,R2(ae,N,y,a,d,$));const Me=[],K={positionedLines:Me,text:ae.toString(),top:P[1],bottom:P[1],left:P[0],right:P[0],writingMode:D,iconsInText:!1,verticalizable:!1};return function(de,Re,Je,vt,at,At,It,Bt,Tt,dt,$t,br){let mr=0,nr=0,Dr=0,Di=0;const sa=Bt==="right"?1:Bt==="left"?0:.5,Ya=na/br;let Ln=0;for(const Ti of at){Ti.trim();const da=Ti.getMaxScale(),Ra={positionedGlyphs:[],lineOffset:0};de.positionedLines[Ln]=Ra;const Ia=Ra.positionedGlyphs;let $a=0;if(!Ti.length()){nr+=At,++Ln;continue}const kn=b7(vt,Ti,Ya);for(let ln=0;ln<Ti.length();ln++){const oa=Ti.getSection(ln),ga=Ti.getSectionIndex(ln),pa=Ti.getCharCode(ln),ea=y7(Tt,$t,pa);let vi;if(oa.imageName){if(de.iconsInText=!0,oa.scale=oa.scale*Ya,vi=x7(oa,ea,da,kn,vt),!vi)continue;$a=Math.max($a,vi.imageOffset)}else if(vi=v7(oa,pa,ea,kn,Re,Je),!vi)continue;const{rect:Rs,metrics:tu,baselineOffset:Is}=vi;Ia.push({glyph:pa,imageName:oa.imageName,x:mr,y:nr+Is+Gf,vertical:ea,scale:oa.scale,fontStack:oa.fontStack,sectionIndex:ga,metrics:tu,rect:Rs}),ea?(de.verticalizable=!0,mr+=(oa.imageName?tu.advance:na)*oa.scale+dt):mr+=tu.advance*oa.scale+dt}Ia.length!==0&&(Dr=Math.max(mr-dt,Dr),w7(Ia,0,Ia.length-1,sa)),mr=0,Ra.lineOffset=Math.max($a,(da-1)*na);const fa=At*da+$a;nr+=fa,Di=Math.max(fa,Di),++Ln}const{horizontalAlign:on,verticalAlign:Ma}=I2(It);(function(Ti,da,Ra,Ia,$a,kn,fa,ln,oa){const ga=(da-Ra)*$a;let pa=0;pa=kn!==fa?-ln*Ia-Gf:-Ia*oa*fa+.5*fa;for(const ea of Ti)for(const vi of ea.positionedGlyphs)vi.x+=ga,vi.y+=pa})(de.positionedLines,sa,on,Ma,Dr,Di,At,nr,at.length),de.top+=-Ma*nr,de.bottom=de.top+nr,de.left+=-on*Dr,de.right=de.left+Dr}(K,a,c,d,fe,x,R,F,D,N,j,q),!function(de){for(const Re of de)if(Re.positionedGlyphs.length!==0)return!1;return!0}(Me)&&K}const Kf={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},p7={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},m7={40:!0};function ob(A,a,c,d,m,y){if(a.imageName){const x=d[a.imageName];return x?x.displaySize[0]*a.scale*na/y+m:0}{const x=c[a.fontStack],R=x&&x[A];return R?R.metrics.advance*a.scale+m:0}}function lb(A,a,c,d){const m=Math.pow(A-a,2);return d?A<a?m/2:2*m:m+Math.abs(c)*c}function _7(A,a,c){let d=0;return A===10&&(d-=1e4),c&&(d+=150),A!==40&&A!==65288||(d+=50),a!==41&&a!==65289||(d+=50),d}function Ab(A,a,c,d,m,y){let x=null,R=lb(a,c,m,y);for(const F of d){const N=lb(a-F.x,c,m,y)+F.badness;N<=R&&(x=F,R=N)}return{index:A,x:a,priorBreak:x,badness:R}}function cb(A){return A?cb(A.priorBreak).concat(A.index):[]}function R2(A,a,c,d,m,y){if(!A)return[];const x=[],R=function(D,j,$,q,ae,fe){let ye=0;for(let Le=0;Le<D.length();Le++){const Me=D.getSection(Le);ye+=ob(D.getCharCode(Le),Me,q,ae,j,fe)}return ye/Math.max(1,Math.ceil(ye/$))}(A,a,c,d,m,y),F=A.text.indexOf("")>=0;let N=0;for(let D=0;D<A.length();D++){const j=A.getSection(D),$=A.getCharCode(D);if(Kf[$]||(N+=ob($,j,d,m,a,y)),D<A.length()-1){const q=!((P=$)<11904)&&(!!Lr["CJK Compatibility Forms"](P)||!!Lr["CJK Compatibility"](P)||!!Lr["CJK Strokes"](P)||!!Lr["CJK Symbols and Punctuation"](P)||!!Lr["Enclosed CJK Letters and Months"](P)||!!Lr["Halfwidth and Fullwidth Forms"](P)||!!Lr["Ideographic Description Characters"](P)||!!Lr["Vertical Forms"](P)||Ef.test(String.fromCodePoint(P)));(p7[$]||q||j.imageName||D!==A.length()-2&&m7[A.getCharCode(D+1)])&&x.push(Ab(D+1,N,R,x,_7($,A.getCharCode(D+1),q&&F),!1))}}var P;return cb(Ab(A.length(),N,R,x,0,!0))}function I2(A){let a=.5,c=.5;switch(A){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(A){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:a,verticalAlign:c}}function b7(A,a,c){const d=a.getMaxScale()*na,{maxImageWidth:m,maxImageHeight:y}=a.getMaxImageSize(A),x=Math.max(d,y*c);return{verticalLineContentWidth:Math.max(d,m*c),horizontalLineContentHeight:x}}function ub(A){switch(A){case"top":return 0;case"center":return .5;default:return 1}}function y7(A,a,c){return!(A===u.al.horizontal||!a&&!Dc(c)||a&&(Kf[c]||(d=c,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(d)))));var d}function v7(A,a,c,d,m,y){const x=y[A.fontStack],R=function(N,P,D,j){if(N&&N.rect)return N;const $=P[D.fontStack],q=$&&$[j];return q?{rect:null,metrics:q.metrics}:null}(x&&x[a],m,A,a);if(R===null)return null;let F;if(c)F=d.verticalLineContentWidth-A.scale*na;else{const N=ub(A.verticalAlign);F=(d.horizontalLineContentHeight-A.scale*na)*N}return{rect:R.rect,metrics:R.metrics,baselineOffset:F}}function x7(A,a,c,d,m){const y=m[A.imageName];if(!y)return null;const x=y.paddedRect,R=y.displaySize,F={width:R[0],height:R[1],left:sn,top:-3,advance:a?R[1]:R[0]};let N;if(a)N=d.verticalLineContentWidth-R[1]*A.scale;else{const P=ub(A.verticalAlign);N=(d.horizontalLineContentHeight-R[1]*A.scale)*P}return{rect:x,metrics:F,baselineOffset:N,imageOffset:(a?R[0]:R[1])*A.scale-na*c}}function w7(A,a,c,d){if(d===0)return;const m=A[c],y=(A[c].x+m.metrics.advance*m.scale)*d;for(let x=a;x<=c;x++)A[x].x-=y}function B7(A,a,c){const{horizontalAlign:d,verticalAlign:m}=I2(c),y=a[0]-A.displaySize[0]*d,x=a[1]-A.displaySize[1]*m;return{image:A,top:x,bottom:x+A.displaySize[1],left:y,right:y+A.displaySize[0]}}function hb(A){var a,c;let d=A.left,m=A.top,y=A.right-d,x=A.bottom-m;const R=(a=A.image.textFitWidth)!==null&&a!==void 0?a:"stretchOrShrink",F=(c=A.image.textFitHeight)!==null&&c!==void 0?c:"stretchOrShrink",N=(A.image.content[2]-A.image.content[0])/(A.image.content[3]-A.image.content[1]);if(F==="proportional"){if(R==="stretchOnly"&&y/x<N||R==="proportional"){const P=Math.ceil(x*N);d*=P/y,y=P}}else if(R==="proportional"&&F==="stretchOnly"&&N!==0&&y/x>N){const P=Math.ceil(y/N);m*=P/x,x=P}return{x1:d,y1:m,x2:d+y,y2:m+x}}function db(A,a,c,d,m,y){const x=A.image;let R;if(x.content){const fe=x.content,ye=x.pixelRatio||1;R=[fe[0]/ye,fe[1]/ye,x.displaySize[0]-fe[2]/ye,x.displaySize[1]-fe[3]/ye]}const F=a.left*y,N=a.right*y;let P,D,j,$;c==="width"||c==="both"?($=m[0]+F-d[3],D=m[0]+N+d[1]):($=m[0]+(F+N-x.displaySize[0])/2,D=$+x.displaySize[0]);const q=a.top*y,ae=a.bottom*y;return c==="height"||c==="both"?(P=m[1]+q-d[0],j=m[1]+ae+d[2]):(P=m[1]+(q+ae-x.displaySize[1])/2,j=P+x.displaySize[1]),{image:x,top:P,right:D,bottom:j,left:$,collisionPadding:R}}const bd=255,ro=128,xl=bd*ro;function fb(A,a){const{expression:c}=a;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new _i(A+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:m}=c;let y=0;for(;y<d.length&&d[y]<=A;)y++;y=Math.max(0,y-1);let x=y;for(;x<d.length&&d[x]<A+1;)x++;x=Math.min(d.length-1,x);const R=d[y],F=d[x];return c.kind==="composite"?{kind:"composite",minZoom:R,maxZoom:F,interpolationType:m}:{kind:"camera",minZoom:R,maxZoom:F,minSize:c.evaluate(new _i(R)),maxSize:c.evaluate(new _i(F)),interpolationType:m}}}function U2(A,a,c){let d="never";const m=A.get(a);return m?d=m:A.get(c)&&(d="always"),d}const C7=fd.VectorTileFeature.types,M7=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function $f(A,a,c,d,m,y,x,R,F,N,P,D,j){const $=R?Math.min(xl,Math.round(R[0])):0,q=R?Math.min(xl,Math.round(R[1])):0;A.emplaceBack(a,c,Math.round(32*d),Math.round(32*m),y,x,($<<1)+(F?1:0),q,16*N,16*P,256*D,256*j)}function E2(A,a,c){A.emplaceBack(a.x,a.y,c),A.emplaceBack(a.x,a.y,c),A.emplaceBack(a.x,a.y,c),A.emplaceBack(a.x,a.y,c)}function R7(A){for(const a of A.sections)if(a2(a.text))return!0;return!1}class F2{constructor(a){this.layoutVertexArray=new et,this.indexArray=new Ft,this.programConfigurations=a,this.segments=new wr,this.dynamicLayoutVertexArray=new ht,this.opacityVertexArray=new gt,this.hasVisibleVertices=!1,this.placedSymbolArray=new Y}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(a,c,d,m){this.isEmpty()||(d&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,s7.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,o7.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,M7,!0),this.opacityVertexBuffer.itemSize=1),(d||m)&&this.programConfigurations.upload(a))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Xt("SymbolBuffers",F2);class T2{constructor(a,c,d){this.layoutVertexArray=new a,this.layoutAttributes=c,this.indexArray=new d,this.segments=new wr,this.collisionVertexArray=new Dt}upload(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,l7.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Xt("CollisionBuffers",T2);class Wc{constructor(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(x=>x.id),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=fb(this.zoom,c["text-size"]),this.iconSizeData=fb(this.zoom,c["icon-size"]);const d=this.layers[0].layout,m=d.get("symbol-sort-key"),y=d.get("symbol-z-order");this.canOverlap=U2(d,"text-overlap","text-allow-overlap")!=="never"||U2(d,"icon-overlap","icon-allow-overlap")!=="never"||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=y!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(y==="viewport-y"||y==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(x=>u.al[x])),this.stateDependentLayerIds=this.layers.filter(x=>x.isStateDependent()).map(x=>x.id),this.sourceID=a.sourceID}createArrays(){this.text=new F2(new To(this.layers,this.zoom,a=>/^text/.test(a))),this.icon=new F2(new To(this.layers,this.zoom,a=>/^icon/.test(a))),this.glyphOffsetArray=new H,this.lineVertexArray=new ee,this.symbolInstances=new O,this.textAnchorOffsets=new me}calculateGlyphDependencies(a,c,d,m,y){for(let x=0;x<a.length;x++)if(c[a.charCodeAt(x)]=!0,(d||m)&&y){const R=md[a.charAt(x)];R&&(c[R.charCodeAt(0)]=!0)}}populate(a,c,d){const m=this.layers[0],y=m.layout,x=y.get("text-font"),R=y.get("text-field"),F=y.get("icon-image"),N=(R.value.kind!=="constant"||R.value.value instanceof Va&&!R.value.value.isEmpty()||R.value.value.toString().length>0)&&(x.value.kind!=="constant"||x.value.value.length>0),P=F.value.kind!=="constant"||!!F.value.value||Object.keys(F.parameters).length>0,D=y.get("symbol-sort-key");if(this.features=[],!N&&!P)return;const j=c.iconDependencies,$=c.glyphDependencies,q=c.availableImages,ae=new _i(this.zoom);for(const{feature:fe,id:ye,index:Le,sourceLayerIndex:Me}of a){const K=m._featureFilter.needGeometry,de=to(fe,K);if(!m._featureFilter.filter(ae,de,d))continue;let Re,Je;if(K||(de.geometry=nn(fe)),N){const at=m.getValueAndResolveTokens("text-field",de,d,q),At=Va.factory(at),It=this.hasRTLText=this.hasRTLText||R7(At);(!It||Ws.getRTLTextPluginStatus()==="unavailable"||It&&Ws.isParsed())&&(Re=c7(At,m,de))}if(P){const at=m.getValueAndResolveTokens("icon-image",de,d,q);Je=at instanceof rn?at:rn.fromString(at)}if(!Re&&!Je)continue;const vt=this.sortFeaturesByKey?D.evaluate(de,{},d):void 0;if(this.features.push({id:ye,text:Re,icon:Je,index:Le,sourceLayerIndex:Me,geometry:de.geometry,properties:fe.properties,type:C7[fe.type],sortKey:vt}),Je&&(j[Je.name]=!0),Re){const at=x.evaluate(de,{},d).join(","),At=y.get("text-rotation-alignment")!=="viewport"&&y.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(u.al.vertical)>=0;for(const It of Re.sections)if(It.image)j[It.image.name]=!0;else{const Bt=kc(Re.toString()),Tt=It.fontStack||at,dt=$[Tt]=$[Tt]||{};this.calculateGlyphDependencies(It.text,dt,At,this.allowVerticalPlacement,Bt)}}}y.get("symbol-placement")==="line"&&(this.features=function(fe){const ye={},Le={},Me=[];let K=0;function de(at){Me.push(fe[at]),K++}function Re(at,At,It){const Bt=Le[at];return delete Le[at],Le[At]=Bt,Me[Bt].geometry[0].pop(),Me[Bt].geometry[0]=Me[Bt].geometry[0].concat(It[0]),Bt}function Je(at,At,It){const Bt=ye[At];return delete ye[At],ye[at]=Bt,Me[Bt].geometry[0].shift(),Me[Bt].geometry[0]=It[0].concat(Me[Bt].geometry[0]),Bt}function vt(at,At,It){const Bt=It?At[0][At[0].length-1]:At[0][0];return`${at}:${Bt.x}:${Bt.y}`}for(let at=0;at<fe.length;at++){const At=fe[at],It=At.geometry,Bt=At.text?At.text.toString():null;if(!Bt){de(at);continue}const Tt=vt(Bt,It),dt=vt(Bt,It,!0);if(Tt in Le&&dt in ye&&Le[Tt]!==ye[dt]){const $t=Je(Tt,dt,It),br=Re(Tt,dt,Me[$t].geometry);delete ye[Tt],delete Le[dt],Le[vt(Bt,Me[br].geometry,!0)]=br,Me[$t].geometry=null}else Tt in Le?Re(Tt,dt,It):dt in ye?Je(Tt,dt,It):(de(at),ye[Tt]=K-1,Le[dt]=K-1)}return Me.filter(at=>at.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((fe,ye)=>fe.sortKey-ye.sortKey)}update(a,c,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(a,c,this.layers,d),this.icon.programConfigurations.updatePaintArrays(a,c,this.layers,d))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(a){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(a),this.iconCollisionBox.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(a,c){const d=this.lineVertexArray.length;if(a.segment!==void 0){let m=a.dist(c[a.segment+1]),y=a.dist(c[a.segment]);const x={};for(let R=a.segment+1;R<c.length;R++)x[R]={x:c[R].x,y:c[R].y,tileUnitDistanceFromAnchor:m},R<c.length-1&&(m+=c[R+1].dist(c[R]));for(let R=a.segment||0;R>=0;R--)x[R]={x:c[R].x,y:c[R].y,tileUnitDistanceFromAnchor:y},R>0&&(y+=c[R-1].dist(c[R]));for(let R=0;R<c.length;R++){const F=x[R];this.lineVertexArray.emplaceBack(F.x,F.y,F.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(a,c,d,m,y,x,R,F,N,P,D,j){const $=a.indexArray,q=a.layoutVertexArray,ae=a.segments.prepareSegment(4*c.length,q,$,this.canOverlap?x.sortKey:void 0),fe=this.glyphOffsetArray.length,ye=ae.vertexLength,Le=this.allowVerticalPlacement&&R===u.al.vertical?Math.PI/2:0,Me=x.text&&x.text.sections;for(let K=0;K<c.length;K++){const{tl:de,tr:Re,bl:Je,br:vt,tex:at,pixelOffsetTL:At,pixelOffsetBR:It,minFontScaleX:Bt,minFontScaleY:Tt,glyphOffset:dt,isSDF:$t,sectionIndex:br}=c[K],mr=ae.vertexLength,nr=dt[1];$f(q,F.x,F.y,de.x,nr+de.y,at.x,at.y,d,$t,At.x,At.y,Bt,Tt),$f(q,F.x,F.y,Re.x,nr+Re.y,at.x+at.w,at.y,d,$t,It.x,At.y,Bt,Tt),$f(q,F.x,F.y,Je.x,nr+Je.y,at.x,at.y+at.h,d,$t,At.x,It.y,Bt,Tt),$f(q,F.x,F.y,vt.x,nr+vt.y,at.x+at.w,at.y+at.h,d,$t,It.x,It.y,Bt,Tt),E2(a.dynamicLayoutVertexArray,F,Le),$.emplaceBack(mr,mr+2,mr+1),$.emplaceBack(mr+1,mr+2,mr+3),ae.vertexLength+=4,ae.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(dt[0]),K!==c.length-1&&br===c[K+1].sectionIndex||a.programConfigurations.populatePaintArrays(q.length,x,x.index,{},j,Me&&Me[br])}a.placedSymbolArray.emplaceBack(F.x,F.y,fe,this.glyphOffsetArray.length-fe,ye,N,P,F.segment,d?d[0]:0,d?d[1]:0,m[0],m[1],R,0,!1,0,D)}_addCollisionDebugVertex(a,c,d,m,y,x){return c.emplaceBack(0,0),a.emplaceBack(d.x,d.y,m,y,Math.round(x.x),Math.round(x.y))}addCollisionDebugVertices(a,c,d,m,y,x,R){const F=y.segments.prepareSegment(4,y.layoutVertexArray,y.indexArray),N=F.vertexLength,P=y.layoutVertexArray,D=y.collisionVertexArray,j=R.anchorX,$=R.anchorY;this._addCollisionDebugVertex(P,D,x,j,$,new S(a,c)),this._addCollisionDebugVertex(P,D,x,j,$,new S(d,c)),this._addCollisionDebugVertex(P,D,x,j,$,new S(d,m)),this._addCollisionDebugVertex(P,D,x,j,$,new S(a,m)),F.vertexLength+=4;const q=y.indexArray;q.emplaceBack(N,N+1),q.emplaceBack(N+1,N+2),q.emplaceBack(N+2,N+3),q.emplaceBack(N+3,N),F.primitiveLength+=4}addDebugCollisionBoxes(a,c,d,m){for(let y=a;y<c;y++){const x=this.collisionBoxArray.get(y);this.addCollisionDebugVertices(x.x1,x.y1,x.x2,x.y2,m?this.textCollisionBox:this.iconCollisionBox,x.anchorPoint,d)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new T2(ut,tb.members,yt),this.iconCollisionBox=new T2(ut,tb.members,yt);for(let a=0;a<this.symbolInstances.length;a++){const c=this.symbolInstances.get(a);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(a,c,d,m,y,x,R,F,N){const P={};for(let D=c;D<d;D++){const j=a.get(D);P.textBox={x1:j.x1,y1:j.y1,x2:j.x2,y2:j.y2,anchorPointX:j.anchorPointX,anchorPointY:j.anchorPointY},P.textFeatureIndex=j.featureIndex;break}for(let D=m;D<y;D++){const j=a.get(D);P.verticalTextBox={x1:j.x1,y1:j.y1,x2:j.x2,y2:j.y2,anchorPointX:j.anchorPointX,anchorPointY:j.anchorPointY},P.verticalTextFeatureIndex=j.featureIndex;break}for(let D=x;D<R;D++){const j=a.get(D);P.iconBox={x1:j.x1,y1:j.y1,x2:j.x2,y2:j.y2,anchorPointX:j.anchorPointX,anchorPointY:j.anchorPointY},P.iconFeatureIndex=j.featureIndex;break}for(let D=F;D<N;D++){const j=a.get(D);P.verticalIconBox={x1:j.x1,y1:j.y1,x2:j.x2,y2:j.y2,anchorPointX:j.anchorPointX,anchorPointY:j.anchorPointY},P.verticalIconFeatureIndex=j.featureIndex;break}return P}deserializeCollisionBoxes(a){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const d=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(a,c){const d=a.placedSymbolArray.get(c),m=d.vertexStartIndex+4*d.numGlyphs;for(let y=d.vertexStartIndex;y<m;y+=4)a.indexArray.emplaceBack(y,y+2,y+1),a.indexArray.emplaceBack(y+1,y+2,y+3)}getSortedSymbolIndexes(a){if(this.sortedAngle===a&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(a),d=Math.cos(a),m=[],y=[],x=[];for(let R=0;R<this.symbolInstances.length;++R){x.push(R);const F=this.symbolInstances.get(R);m.push(0|Math.round(c*F.anchorX+d*F.anchorY)),y.push(F.featureIndex)}return x.sort((R,F)=>m[R]-m[F]||y[F]-y[R]),x}addToSortKeyRanges(a,c){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===c?d.symbolInstanceEnd=a+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:a,symbolInstanceEnd:a+1})}sortFeatures(a){if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const d=this.symbolInstances.get(c);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((m,y,x)=>{m>=0&&x.indexOf(m)===y&&this.addIndicesForPlacedSymbol(this.text,m)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let gb,pb;Xt("SymbolBucket",Wc,{omit:["layers","collisionBoxArray","features","compareText"]}),Wc.MAX_GLYPHS=65535,Wc.addDynamicAttributes=E2;var S2={get paint(){return pb=pb||new Ka({"icon-opacity":new yr(ce.paint_symbol["icon-opacity"]),"icon-color":new yr(ce.paint_symbol["icon-color"]),"icon-halo-color":new yr(ce.paint_symbol["icon-halo-color"]),"icon-halo-width":new yr(ce.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yr(ce.paint_symbol["icon-halo-blur"]),"icon-translate":new cr(ce.paint_symbol["icon-translate"]),"icon-translate-anchor":new cr(ce.paint_symbol["icon-translate-anchor"]),"text-opacity":new yr(ce.paint_symbol["text-opacity"]),"text-color":new yr(ce.paint_symbol["text-color"],{runtimeType:ii,getOverride:A=>A.textColor,hasOverride:A=>!!A.textColor}),"text-halo-color":new yr(ce.paint_symbol["text-halo-color"]),"text-halo-width":new yr(ce.paint_symbol["text-halo-width"]),"text-halo-blur":new yr(ce.paint_symbol["text-halo-blur"]),"text-translate":new cr(ce.paint_symbol["text-translate"]),"text-translate-anchor":new cr(ce.paint_symbol["text-translate-anchor"])})},get layout(){return gb=gb||new Ka({"symbol-placement":new cr(ce.layout_symbol["symbol-placement"]),"symbol-spacing":new cr(ce.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new cr(ce.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yr(ce.layout_symbol["symbol-sort-key"]),"symbol-z-order":new cr(ce.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new cr(ce.layout_symbol["icon-allow-overlap"]),"icon-overlap":new cr(ce.layout_symbol["icon-overlap"]),"icon-ignore-placement":new cr(ce.layout_symbol["icon-ignore-placement"]),"icon-optional":new cr(ce.layout_symbol["icon-optional"]),"icon-rotation-alignment":new cr(ce.layout_symbol["icon-rotation-alignment"]),"icon-size":new yr(ce.layout_symbol["icon-size"]),"icon-text-fit":new cr(ce.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new cr(ce.layout_symbol["icon-text-fit-padding"]),"icon-image":new yr(ce.layout_symbol["icon-image"]),"icon-rotate":new yr(ce.layout_symbol["icon-rotate"]),"icon-padding":new yr(ce.layout_symbol["icon-padding"]),"icon-keep-upright":new cr(ce.layout_symbol["icon-keep-upright"]),"icon-offset":new yr(ce.layout_symbol["icon-offset"]),"icon-anchor":new yr(ce.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new cr(ce.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new cr(ce.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new cr(ce.layout_symbol["text-rotation-alignment"]),"text-field":new yr(ce.layout_symbol["text-field"]),"text-font":new yr(ce.layout_symbol["text-font"]),"text-size":new yr(ce.layout_symbol["text-size"]),"text-max-width":new yr(ce.layout_symbol["text-max-width"]),"text-line-height":new cr(ce.layout_symbol["text-line-height"]),"text-letter-spacing":new yr(ce.layout_symbol["text-letter-spacing"]),"text-justify":new yr(ce.layout_symbol["text-justify"]),"text-radial-offset":new yr(ce.layout_symbol["text-radial-offset"]),"text-variable-anchor":new cr(ce.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new yr(ce.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new yr(ce.layout_symbol["text-anchor"]),"text-max-angle":new cr(ce.layout_symbol["text-max-angle"]),"text-writing-mode":new cr(ce.layout_symbol["text-writing-mode"]),"text-rotate":new yr(ce.layout_symbol["text-rotate"]),"text-padding":new cr(ce.layout_symbol["text-padding"]),"text-keep-upright":new cr(ce.layout_symbol["text-keep-upright"]),"text-transform":new yr(ce.layout_symbol["text-transform"]),"text-offset":new yr(ce.layout_symbol["text-offset"]),"text-allow-overlap":new cr(ce.layout_symbol["text-allow-overlap"]),"text-overlap":new cr(ce.layout_symbol["text-overlap"]),"text-ignore-placement":new cr(ce.layout_symbol["text-ignore-placement"]),"text-optional":new cr(ce.layout_symbol["text-optional"])})}};class mb{constructor(a){if(a.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=a.property.overrides?a.property.overrides.runtimeType:lr,this.defaultValue=a}evaluate(a){if(a.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(a.formattedSection))return c.getOverride(a.formattedSection)}return a.feature&&a.featureState?this.defaultValue.evaluate(a.feature,a.featureState):this.defaultValue.property.specification.default}eachChild(a){this.defaultValue.isConstant()||a(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Xt("FormatSectionOverride",mb,{omit:["defaultValue"]});class qf extends rs{constructor(a){super(a,S2)}recalculate(a,c){if(super.recalculate(a,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const d=this.layout.get("text-writing-mode");if(d){const m=[];for(const y of d)m.indexOf(y)<0&&m.push(y);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(a,c,d,m){const y=this.layout.get(a).evaluate(c,{},d,m),x=this._unevaluatedLayout._values[a];return x.isDataDriven()||Bo(x.value)||!y?y:function(R,F){return F.replace(/{([^{}]+)}/g,(N,P)=>R&&P in R?String(R[P]):"")}(c.properties,y)}createBucket(a){return new Wc(a)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const a of S2.paint.overridableProperties){if(!qf.hasPaintOverride(this.layout,a))continue;const c=this.paint.get(a),d=new mb(c),m=new Ih(d,c.property.specification);let y=null;y=c.value.kind==="constant"||c.value.kind==="source"?new Uh("source",m):new Eh("composite",m,c.value.zoomStops),this.paint._values[a]=new ts(c.property,y,c.parameters)}}_handleOverridablePaintPropertyUpdate(a,c,d){return!(!this.layout||c.isDataDriven()||d.isDataDriven())&&qf.hasPaintOverride(this.layout,a)}static hasPaintOverride(a,c){const d=a.get("text-field"),m=S2.paint.properties[c];let y=!1;const x=R=>{for(const F of R)if(m.overrides&&m.overrides.hasOverride(F))return void(y=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Va)x(d.value.value.sections);else if(d.value.kind==="source"){const R=N=>{y||(N instanceof js&&ki(N.value)===Kt?x(N.value.sections):N instanceof _c?x(N.sections):N.eachChild(R))},F=d.value;F._styleExpression&&R(F._styleExpression.expression)}return y}}let _b;var I7={get paint(){return _b=_b||new Ka({"background-color":new cr(ce.paint_background["background-color"]),"background-pattern":new Kh(ce.paint_background["background-pattern"]),"background-opacity":new cr(ce.paint_background["background-opacity"])})}};class U7 extends rs{constructor(a){super(a,I7)}}let bb;var E7={get paint(){return bb=bb||new Ka({"raster-opacity":new cr(ce.paint_raster["raster-opacity"]),"raster-hue-rotate":new cr(ce.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new cr(ce.paint_raster["raster-brightness-min"]),"raster-brightness-max":new cr(ce.paint_raster["raster-brightness-max"]),"raster-saturation":new cr(ce.paint_raster["raster-saturation"]),"raster-contrast":new cr(ce.paint_raster["raster-contrast"]),"raster-resampling":new cr(ce.paint_raster["raster-resampling"]),"raster-fade-duration":new cr(ce.paint_raster["raster-fade-duration"])})}};class F7 extends rs{constructor(a){super(a,E7)}}class T7 extends rs{constructor(a){super(a,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=a}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class S7{constructor(a){this._methodToThrottle=a,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const N7={once:!0},N2=63710088e-1;class wl{constructor(a,c){if(isNaN(a)||isNaN(c))throw new Error(`Invalid LngLat object: (${a}, ${c})`);if(this.lng=+a,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new wl(xt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(a){const c=Math.PI/180,d=this.lat*c,m=a.lat*c,y=Math.sin(d)*Math.sin(m)+Math.cos(d)*Math.cos(m)*Math.cos((a.lng-this.lng)*c);return N2*Math.acos(Math.min(y,1))}static convert(a){if(a instanceof wl)return a;if(Array.isArray(a)&&(a.length===2||a.length===3))return new wl(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&typeof a=="object"&&a!==null)return new wl(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const yb=2*Math.PI*N2;function vb(A){return yb*Math.cos(A*Math.PI/180)}function xb(A){return(180+A)/360}function wb(A){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+A*Math.PI/360)))/360}function Bb(A,a){return A/vb(a)}function Y2(A){return 360/Math.PI*Math.atan(Math.exp((180-360*A)*Math.PI/180))-90}function Cb(A,a){return A*vb(Y2(a))}class yd{constructor(a,c,d=0){this.x=+a,this.y=+c,this.z=+d}static fromLngLat(a,c=0){const d=wl.convert(a);return new yd(xb(d.lng),wb(d.lat),Bb(c,d.lat))}toLngLat(){return new wl(360*this.x-180,Y2(this.y))}toAltitude(){return Cb(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/yb*(a=Y2(this.y),1/Math.cos(a*Math.PI/180));var a}}function Mb(A,a,c){var d=2*Math.PI*6378137/256/Math.pow(2,c);return[A*d-2*Math.PI*6378137/2,a*d-2*Math.PI*6378137/2]}class P2{constructor(a,c,d){if(!function(m,y,x){return!(m<0||m>25||x<0||x>=Math.pow(2,m)||y<0||y>=Math.pow(2,m))}(a,c,d))throw new Error(`x=${c}, y=${d}, z=${a} outside of bounds. 0<=x<${Math.pow(2,a)}, 0<=y<${Math.pow(2,a)} 0<=z<=25 `);this.z=a,this.x=c,this.y=d,this.key=Jc(0,a,a,c,d)}equals(a){return this.z===a.z&&this.x===a.x&&this.y===a.y}url(a,c,d){const m=(x=this.y,R=this.z,F=Mb(256*(y=this.x),256*(x=Math.pow(2,R)-x-1),R),N=Mb(256*(y+1),256*(x+1),R),F[0]+","+F[1]+","+N[0]+","+N[1]);var y,x,R,F,N;const P=function(D,j,$){let q,ae="";for(let fe=D;fe>0;fe--)q=1<<fe-1,ae+=(j&q?1:0)+($&q?2:0);return ae}(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(d==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,P).replace(/{bbox-epsg-3857}/g,m)}isChildOf(a){const c=this.z-a.z;return c>0&&a.x===this.x>>c&&a.y===this.y>>c}getTilePoint(a){const c=Math.pow(2,this.z);return new S((a.x*c-this.x)*it,(a.y*c-this.y)*it)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Rb{constructor(a,c){this.wrap=a,this.canonical=c,this.key=Jc(a,c.z,c.z,c.x,c.y)}}class Pn{constructor(a,c,d,m,y){if(this.terrainRttPosMatrix32f=null,a<d)throw new Error(`overscaledZ should be >= z; overscaledZ = ${a}; z = ${d}`);this.overscaledZ=a,this.wrap=c,this.canonical=new P2(d,+m,+y),this.key=Jc(c,a,d,m,y)}clone(){return new Pn(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)}scaledTo(a){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-a;return a>this.canonical.z?new Pn(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Pn(a,this.wrap,a,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(a,c){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-a;return a>this.canonical.z?Jc(this.wrap*+c,a,this.canonical.z,this.canonical.x,this.canonical.y):Jc(this.wrap*+c,a,a,this.canonical.x>>d,this.canonical.y>>d)}isChildOf(a){if(a.wrap!==this.wrap)return!1;const c=this.canonical.z-a.canonical.z;return a.overscaledZ===0||a.overscaledZ<this.overscaledZ&&a.canonical.x===this.canonical.x>>c&&a.canonical.y===this.canonical.y>>c}children(a){if(this.overscaledZ>=a)return[new Pn(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,d=2*this.canonical.x,m=2*this.canonical.y;return[new Pn(c,this.wrap,c,d,m),new Pn(c,this.wrap,c,d+1,m),new Pn(c,this.wrap,c,d,m+1),new Pn(c,this.wrap,c,d+1,m+1)]}isLessThan(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))}wrapped(){return new Pn(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(a){return new Pn(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Rb(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(a){return this.canonical.getTilePoint(new yd(a.x-this.wrap,a.y))}}function Jc(A,a,c,d,m){(A*=2)<0&&(A=-1*A-1);const y=1<<c;return(y*y*A+y*m+d).toString(36)+c.toString(36)+a.toString(36)}Xt("CanonicalTileID",P2),Xt("OverscaledTileID",Pn,{omit:["terrainRttPosMatrix32f"]});class Ib{constructor(a,c,d,m=1,y=1,x=1,R=0){if(this.uid=a,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(d&&!["mapbox","terrarium","custom"].includes(d))return void ur(`"${d}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;const F=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),d){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=m,this.greenFactor=y,this.blueFactor=x,this.baseShift=R;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let N=0;N<F;N++)this.data[this._idx(-1,N)]=this.data[this._idx(0,N)],this.data[this._idx(F,N)]=this.data[this._idx(F-1,N)],this.data[this._idx(N,-1)]=this.data[this._idx(N,0)],this.data[this._idx(N,F)]=this.data[this._idx(N,F-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(F,-1)]=this.data[this._idx(F-1,0)],this.data[this._idx(-1,F)]=this.data[this._idx(0,F-1)],this.data[this._idx(F,F)]=this.data[this._idx(F-1,F-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let N=0;N<F;N++)for(let P=0;P<F;P++){const D=this.get(N,P);D>this.max&&(this.max=D),D<this.min&&(this.min=D)}}get(a,c){const d=new Uint8Array(this.data.buffer),m=4*this._idx(a,c);return this.unpack(d[m],d[m+1],d[m+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(a,c){if(a<-1||a>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(a+1)}unpack(a,c,d){return a*this.redFactor+c*this.greenFactor+d*this.blueFactor-this.baseShift}getPixels(){return new Yn({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(a,c,d){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");let m=c*this.dim,y=c*this.dim+this.dim,x=d*this.dim,R=d*this.dim+this.dim;switch(c){case-1:m=y-1;break;case 1:y=m+1}switch(d){case-1:x=R-1;break;case 1:R=x+1}const F=-c*this.dim,N=-d*this.dim;for(let P=x;P<R;P++)for(let D=m;D<y;D++)this.data[this._idx(D,P)]=a.data[this._idx(D+F,P+N)]}}Xt("DEMData",Ib);class Ub{constructor(a){this._stringToNumber={},this._numberToString=[];for(let c=0;c<a.length;c++){const d=a[c];this._stringToNumber[d]=c,this._numberToString[c]=d}}encode(a){return this._stringToNumber[a]}decode(a){if(a>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${a} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[a]}}class Eb{constructor(a,c,d,m,y){this.type="Feature",this._vectorTileFeature=a,a._z=c,a._x=d,a._y=m,this.properties=a.properties,this.id=y}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(a){this._geometry=a}toJSON(){const a={geometry:this.geometry};for(const c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(a[c]=this[c]);return a}}class Fb{constructor(a,c){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=new ys(it,16,0),this.grid3D=new ys(it,16,0),this.featureIndexArray=new be,this.promoteId=c}insert(a,c,d,m,y,x){const R=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,m,y);const F=x?this.grid3D:this.grid;for(let N=0;N<c.length;N++){const P=c[N],D=[1/0,1/0,-1/0,-1/0];for(let j=0;j<P.length;j++){const $=P[j];D[0]=Math.min(D[0],$.x),D[1]=Math.min(D[1],$.y),D[2]=Math.max(D[2],$.x),D[3]=Math.max(D[3],$.y)}D[0]<it&&D[1]<it&&D[2]>=0&&D[3]>=0&&F.insert(R,D[0],D[1],D[2],D[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new fd.VectorTile(new B2(this.rawTileData)).layers,this.sourceLayerCoder=new Ub(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(a,c,d,m){this.loadVTLayers();const y=a.params,x=it/a.tileSize/a.scale,R=Fh(y.filter),F=a.queryGeometry,N=a.queryPadding*x,P=Sb(F),D=this.grid.query(P.minX-N,P.minY-N,P.maxX+N,P.maxY+N),j=Sb(a.cameraQueryGeometry),$=this.grid3D.query(j.minX-N,j.minY-N,j.maxX+N,j.maxY+N,(fe,ye,Le,Me)=>function(K,de,Re,Je,vt){for(const At of K)if(de<=At.x&&Re<=At.y&&Je>=At.x&&vt>=At.y)return!0;const at=[new S(de,Re),new S(de,vt),new S(Je,vt),new S(Je,Re)];if(K.length>2){for(const At of at)if(TA(K,At))return!0}for(let At=0;At<K.length-1;At++)if(x9(K[At],K[At+1],at))return!0;return!1}(a.cameraQueryGeometry,fe-N,ye-N,Le+N,Me+N));for(const fe of $)D.push(fe);D.sort(Y7);const q={};let ae;for(let fe=0;fe<D.length;fe++){const ye=D[fe];if(ye===ae)continue;ae=ye;const Le=this.featureIndexArray.get(ye);let Me=null;this.loadMatchingFeature(q,Le.bucketIndex,Le.sourceLayerIndex,Le.featureIndex,R,y.layers,y.availableImages,c,d,m,(K,de,Re)=>(Me||(Me=nn(K)),de.queryIntersectsFeature({queryGeometry:F,feature:K,featureState:Re,geometry:Me,zoom:this.z,transform:a.transform,pixelsToTileUnits:x,pixelPosMatrix:a.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:a.getElevation})))}return q}loadMatchingFeature(a,c,d,m,y,x,R,F,N,P,D){const j=this.bucketLayerIDs[c];if(x&&!j.some(fe=>x.has(fe)))return;const $=this.sourceLayerCoder.decode(d),q=this.vtLayers[$].feature(m);if(y.needGeometry){const fe=to(q,!0);if(!y.filter(new _i(this.tileID.overscaledZ),fe,this.tileID.canonical))return}else if(!y.filter(new _i(this.tileID.overscaledZ),q))return;const ae=this.getId(q,$);for(let fe=0;fe<j.length;fe++){const ye=j[fe];if(x&&!x.has(ye))continue;const Le=F[ye];if(!Le)continue;let Me={};ae&&P&&(Me=P.getState(Le.sourceLayer||"_geojsonTileLayer",ae));const K=Et({},N[ye]);K.paint=Tb(K.paint,Le.paint,q,Me,R),K.layout=Tb(K.layout,Le.layout,q,Me,R);const de=!D||D(q,Le,Me);if(!de)continue;const Re=new Eb(q,this.z,this.x,this.y,ae);Re.layer=K;let Je=a[ye];Je===void 0&&(Je=a[ye]=[]),Je.push({featureIndex:m,feature:Re,intersectionZ:de})}}lookupSymbolFeatures(a,c,d,m,y,x,R,F){const N={};this.loadVTLayers();const P=Fh(y);for(const D of a)this.loadMatchingFeature(N,d,m,D,P,x,R,F,c);return N}hasLayer(a){for(const c of this.bucketLayerIDs)for(const d of c)if(a===d)return!0;return!1}getId(a,c){var d;let m=a.id;return this.promoteId&&(m=a.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof m=="boolean"&&(m=Number(m)),m===void 0&&(!((d=a.properties)===null||d===void 0)&&d.cluster)&&this.promoteId&&(m=Number(a.properties.cluster_id))),m}}function Tb(A,a,c,d,m){return Zt(A,(y,x)=>{const R=a instanceof Zc?a.get(x):null;return R&&R.evaluate?R.evaluate(c,d,m):R})}function Sb(A){let a=1/0,c=1/0,d=-1/0,m=-1/0;for(const y of A)a=Math.min(a,y.x),c=Math.min(c,y.y),d=Math.max(d,y.x),m=Math.max(m,y.y);return{minX:a,minY:c,maxX:d,maxY:m}}function Y7(A,a){return a-A}function Nb(A,a,c,d,m){const y=[];for(let x=0;x<A.length;x++){const R=A[x];let F;for(let N=0;N<R.length-1;N++){let P=R[N],D=R[N+1];P.x<a&&D.x<a||(P.x<a?P=new S(a,P.y+(a-P.x)/(D.x-P.x)*(D.y-P.y))._round():D.x<a&&(D=new S(a,P.y+(a-P.x)/(D.x-P.x)*(D.y-P.y))._round()),P.y<c&&D.y<c||(P.y<c?P=new S(P.x+(c-P.y)/(D.y-P.y)*(D.x-P.x),c)._round():D.y<c&&(D=new S(P.x+(c-P.y)/(D.y-P.y)*(D.x-P.x),c)._round()),P.x>=d&&D.x>=d||(P.x>=d?P=new S(d,P.y+(d-P.x)/(D.x-P.x)*(D.y-P.y))._round():D.x>=d&&(D=new S(d,P.y+(d-P.x)/(D.x-P.x)*(D.y-P.y))._round()),P.y>=m&&D.y>=m||(P.y>=m?P=new S(P.x+(m-P.y)/(D.y-P.y)*(D.x-P.x),m)._round():D.y>=m&&(D=new S(P.x+(m-P.y)/(D.y-P.y)*(D.x-P.x),m)._round()),F&&P.equals(F[F.length-1])||(F=[P],y.push(F)),F.push(D)))))}}return y}Xt("FeatureIndex",Fb,{omit:["rawTileData","sourceLayerCoder"]});class Bl extends S{constructor(a,c,d,m){super(a,c),this.angle=d,m!==void 0&&(this.segment=m)}clone(){return new Bl(this.x,this.y,this.angle,this.segment)}}function Yb(A,a,c,d,m){if(a.segment===void 0||c===0)return!0;let y=a,x=a.segment+1,R=0;for(;R>-c/2;){if(x--,x<0)return!1;R-=A[x].dist(y),y=A[x]}R+=A[x].dist(A[x+1]),x++;const F=[];let N=0;for(;R<c/2;){const P=A[x],D=A[x+1];if(!D)return!1;let j=A[x-1].angleTo(P)-P.angleTo(D);for(j=Math.abs((j+3*Math.PI)%(2*Math.PI)-Math.PI),F.push({distance:R,angleDelta:j}),N+=j;R-F[0].distance>d;)N-=F.shift().angleDelta;if(N>m)return!1;x++,R+=P.dist(D)}return!0}function Pb(A){let a=0;for(let c=0;c<A.length-1;c++)a+=A[c].dist(A[c+1]);return a}function Lb(A,a,c){return A?.6*a*c:0}function kb(A,a){return Math.max(A?A.right-A.left:0,a?a.right-a.left:0)}function P7(A,a,c,d,m,y){const x=Lb(c,m,y),R=kb(c,d)*y;let F=0;const N=Pb(A)/2;for(let P=0;P<A.length-1;P++){const D=A[P],j=A[P+1],$=D.dist(j);if(F+$>N){const q=(N-F)/$,ae=gi.number(D.x,j.x,q),fe=gi.number(D.y,j.y,q),ye=new Bl(ae,fe,j.angleTo(D),P);return ye._round(),!x||Yb(A,ye,R,x,a)?ye:void 0}F+=$}}function L7(A,a,c,d,m,y,x,R,F){const N=Lb(d,y,x),P=kb(d,m),D=P*x,j=A[0].x===0||A[0].x===F||A[0].y===0||A[0].y===F;return a-D<a/4&&(a=D+a/4),Qb(A,j?a/2*R%a:(P/2+2*y)*x*R%a,a,N,c,D,j,!1,F)}function Qb(A,a,c,d,m,y,x,R,F){const N=y/2,P=Pb(A);let D=0,j=a-c,$=[];for(let q=0;q<A.length-1;q++){const ae=A[q],fe=A[q+1],ye=ae.dist(fe),Le=fe.angleTo(ae);for(;j+c<D+ye;){j+=c;const Me=(j-D)/ye,K=gi.number(ae.x,fe.x,Me),de=gi.number(ae.y,fe.y,Me);if(K>=0&&K<F&&de>=0&&de<F&&j-N>=0&&j+N<=P){const Re=new Bl(K,de,Le,q);Re._round(),d&&!Yb(A,Re,y,d,m)||$.push(Re)}}D+=ye}return R||$.length||x||($=Qb(A,D/2,c,d,m,y,x,!0,F)),$}Xt("Anchor",Bl);const vd=sn;function Db(A,a,c,d){const m=[],y=A.image,x=y.pixelRatio,R=y.paddedRect.w-2*vd,F=y.paddedRect.h-2*vd;let N={x1:A.left,y1:A.top,x2:A.right,y2:A.bottom};const P=y.stretchX||[[0,R]],D=y.stretchY||[[0,F]],j=(dt,$t)=>dt+$t[1]-$t[0],$=P.reduce(j,0),q=D.reduce(j,0),ae=R-$,fe=F-q;let ye=0,Le=$,Me=0,K=q,de=0,Re=ae,Je=0,vt=fe;if(y.content&&d){const dt=y.content,$t=dt[2]-dt[0],br=dt[3]-dt[1];(y.textFitWidth||y.textFitHeight)&&(N=hb(A)),ye=Wf(P,0,dt[0]),Me=Wf(D,0,dt[1]),Le=Wf(P,dt[0],dt[2]),K=Wf(D,dt[1],dt[3]),de=dt[0]-ye,Je=dt[1]-Me,Re=$t-Le,vt=br-K}const at=N.x1,At=N.y1,It=N.x2-at,Bt=N.y2-At,Tt=(dt,$t,br,mr)=>{const nr=Jf(dt.stretch-ye,Le,It,at),Dr=e1(dt.fixed-de,Re,dt.stretch,$),Di=Jf($t.stretch-Me,K,Bt,At),sa=e1($t.fixed-Je,vt,$t.stretch,q),Ya=Jf(br.stretch-ye,Le,It,at),Ln=e1(br.fixed-de,Re,br.stretch,$),on=Jf(mr.stretch-Me,K,Bt,At),Ma=e1(mr.fixed-Je,vt,mr.stretch,q),Ti=new S(nr,Di),da=new S(Ya,Di),Ra=new S(Ya,on),Ia=new S(nr,on),$a=new S(Dr/x,sa/x),kn=new S(Ln/x,Ma/x),fa=a*Math.PI/180;if(fa){const ga=Math.sin(fa),pa=Math.cos(fa),ea=[pa,-ga,ga,pa];Ti._matMult(ea),da._matMult(ea),Ia._matMult(ea),Ra._matMult(ea)}const ln=dt.stretch+dt.fixed,oa=$t.stretch+$t.fixed;return{tl:Ti,tr:da,bl:Ia,br:Ra,tex:{x:y.paddedRect.x+vd+ln,y:y.paddedRect.y+vd+oa,w:br.stretch+br.fixed-ln,h:mr.stretch+mr.fixed-oa},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:$a,pixelOffsetBR:kn,minFontScaleX:Re/x/It,minFontScaleY:vt/x/Bt,isSDF:c}};if(d&&(y.stretchX||y.stretchY)){const dt=zb(P,ae,$),$t=zb(D,fe,q);for(let br=0;br<dt.length-1;br++){const mr=dt[br],nr=dt[br+1];for(let Dr=0;Dr<$t.length-1;Dr++)m.push(Tt(mr,$t[Dr],nr,$t[Dr+1]))}}else m.push(Tt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:R+1},{fixed:0,stretch:F+1}));return m}function Wf(A,a,c){let d=0;for(const m of A)d+=Math.max(a,Math.min(c,m[1]))-Math.max(a,Math.min(c,m[0]));return d}function zb(A,a,c){const d=[{fixed:-1,stretch:0}];for(const[m,y]of A){const x=d[d.length-1];d.push({fixed:m-x.stretch,stretch:x.stretch}),d.push({fixed:m-x.stretch,stretch:x.stretch+(y-m)})}return d.push({fixed:a+vd,stretch:c}),d}function Jf(A,a,c,d){return A/a*c+d}function e1(A,a,c,d){return A-a*c/d}class t1{constructor(a,c,d,m,y,x,R,F,N,P){var D;if(this.boxStartIndex=a.length,N){let j=x.top,$=x.bottom;const q=x.collisionPadding;q&&(j-=q[1],$+=q[3]);let ae=$-j;ae>0&&(ae=Math.max(10,ae),this.circleDiameter=ae)}else{const j=!((D=x.image)===null||D===void 0)&&D.content&&(x.image.textFitWidth||x.image.textFitHeight)?hb(x):{x1:x.left,y1:x.top,x2:x.right,y2:x.bottom};j.y1=j.y1*R-F[0],j.y2=j.y2*R+F[2],j.x1=j.x1*R-F[3],j.x2=j.x2*R+F[1];const $=x.collisionPadding;if($&&(j.x1-=$[0]*R,j.y1-=$[1]*R,j.x2+=$[2]*R,j.y2+=$[3]*R),P){const q=new S(j.x1,j.y1),ae=new S(j.x2,j.y1),fe=new S(j.x1,j.y2),ye=new S(j.x2,j.y2),Le=P*Math.PI/180;q._rotate(Le),ae._rotate(Le),fe._rotate(Le),ye._rotate(Le),j.x1=Math.min(q.x,ae.x,fe.x,ye.x),j.x2=Math.max(q.x,ae.x,fe.x,ye.x),j.y1=Math.min(q.y,ae.y,fe.y,ye.y),j.y2=Math.max(q.y,ae.y,fe.y,ye.y)}a.emplaceBack(c.x,c.y,j.x1,j.y1,j.x2,j.y2,d,m,y)}this.boxEndIndex=a.length}}class k7{constructor(a=[],c=(d,m)=>d<m?-1:d>m?1:0){if(this.data=a,this.length=this.data.length,this.compare=c,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(a){this.data.push(a),this._up(this.length++)}pop(){if(this.length===0)return;const a=this.data[0],c=this.data.pop();return--this.length>0&&(this.data[0]=c,this._down(0)),a}peek(){return this.data[0]}_up(a){const{data:c,compare:d}=this,m=c[a];for(;a>0;){const y=a-1>>1,x=c[y];if(d(m,x)>=0)break;c[a]=x,a=y}c[a]=m}_down(a){const{data:c,compare:d}=this,m=this.length>>1,y=c[a];for(;a<m;){let x=1+(a<<1);const R=x+1;if(R<this.length&&d(c[R],c[x])<0&&(x=R),d(c[x],y)>=0)break;c[a]=c[x],a=x}c[a]=y}}function Q7(A,a=1,c=!1){let d=1/0,m=1/0,y=-1/0,x=-1/0;const R=A[0];for(let $=0;$<R.length;$++){const q=R[$];(!$||q.x<d)&&(d=q.x),(!$||q.y<m)&&(m=q.y),(!$||q.x>y)&&(y=q.x),(!$||q.y>x)&&(x=q.y)}const F=Math.min(y-d,x-m);let N=F/2;const P=new k7([],D7);if(F===0)return new S(d,m);for(let $=d;$<y;$+=F)for(let q=m;q<x;q+=F)P.push(new eu($+N,q+N,N,A));let D=function($){let q=0,ae=0,fe=0;const ye=$[0];for(let Le=0,Me=ye.length,K=Me-1;Le<Me;K=Le++){const de=ye[Le],Re=ye[K],Je=de.x*Re.y-Re.x*de.y;ae+=(de.x+Re.x)*Je,fe+=(de.y+Re.y)*Je,q+=3*Je}return new eu(ae/q,fe/q,0,$)}(A),j=P.length;for(;P.length;){const $=P.pop();($.d>D.d||!D.d)&&(D=$,c&&console.log("found best %d after %d probes",Math.round(1e4*$.d)/1e4,j)),$.max-D.d<=a||(N=$.h/2,P.push(new eu($.p.x-N,$.p.y-N,N,A)),P.push(new eu($.p.x+N,$.p.y-N,N,A)),P.push(new eu($.p.x-N,$.p.y+N,N,A)),P.push(new eu($.p.x+N,$.p.y+N,N,A)),j+=4)}return c&&(console.log(`num probes: ${j}`),console.log(`best distance: ${D.d}`)),D.p}function D7(A,a){return a.max-A.max}function eu(A,a,c,d){this.p=new S(A,a),this.h=c,this.d=function(m,y){let x=!1,R=1/0;for(let F=0;F<y.length;F++){const N=y[F];for(let P=0,D=N.length,j=D-1;P<D;j=P++){const $=N[P],q=N[j];$.y>m.y!=q.y>m.y&&m.x<(q.x-$.x)*(m.y-$.y)/(q.y-$.y)+$.x&&(x=!x),R=Math.min(R,v_(m,$,q))}}return(x?1:-1)*Math.sqrt(R)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}var Na;u.aB=void 0,(Na=u.aB||(u.aB={}))[Na.center=1]="center",Na[Na.left=2]="left",Na[Na.right=3]="right",Na[Na.top=4]="top",Na[Na.bottom=5]="bottom",Na[Na["top-left"]=6]="top-left",Na[Na["top-right"]=7]="top-right",Na[Na["bottom-left"]=8]="bottom-left",Na[Na["bottom-right"]=9]="bottom-right";const Cl=7,L2=Number.POSITIVE_INFINITY;function Zb(A,a){return a[1]!==L2?function(c,d,m){let y=0,x=0;switch(d=Math.abs(d),m=Math.abs(m),c){case"top-right":case"top-left":case"top":x=m-Cl;break;case"bottom-right":case"bottom-left":case"bottom":x=-m+Cl}switch(c){case"top-right":case"bottom-right":case"right":y=-d;break;case"top-left":case"bottom-left":case"left":y=d}return[y,x]}(A,a[0],a[1]):function(c,d){let m=0,y=0;d<0&&(d=0);const x=d/Math.SQRT2;switch(c){case"top-right":case"top-left":y=x-Cl;break;case"bottom-right":case"bottom-left":y=-x+Cl;break;case"bottom":y=-d+Cl;break;case"top":y=d-Cl}switch(c){case"top-right":case"bottom-right":m=-x;break;case"top-left":case"bottom-left":m=x;break;case"left":m=d;break;case"right":m=-d}return[m,y]}(A,a[0])}function Ob(A,a,c){var d;const m=A.layout,y=(d=m.get("text-variable-anchor-offset"))===null||d===void 0?void 0:d.evaluate(a,{},c);if(y){const R=y.values,F=[];for(let N=0;N<R.length;N+=2){const P=F[N]=R[N],D=R[N+1].map(j=>j*na);P.startsWith("top")?D[1]-=Cl:P.startsWith("bottom")&&(D[1]+=Cl),F[N+1]=D}return new Ba(F)}const x=m.get("text-variable-anchor");if(x){let R;R=A._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[m.get("text-radial-offset").evaluate(a,{},c)*na,L2]:m.get("text-offset").evaluate(a,{},c).map(N=>N*na);const F=[];for(const N of x)F.push(N,Zb(N,R));return new Ba(F)}return null}function k2(A){switch(A){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function z7(A,a,c,d,m,y,x,R,F,N,P,D){let j=y.textMaxSize.evaluate(a,{});j===void 0&&(j=x);const $=A.layers[0].layout,q=$.get("icon-offset").evaluate(a,{},P),ae=Xb(c.horizontal),fe=x/24,ye=A.tilePixelRatio*fe,Le=A.tilePixelRatio*j/24,Me=A.tilePixelRatio*R,K=A.tilePixelRatio*$.get("symbol-spacing"),de=$.get("text-padding")*A.tilePixelRatio,Re=function(br,mr,nr,Dr=1){const Di=br.get("icon-padding").evaluate(mr,{},nr),sa=Di&&Di.values;return[sa[0]*Dr,sa[1]*Dr,sa[2]*Dr,sa[3]*Dr]}($,a,P,A.tilePixelRatio),Je=$.get("text-max-angle")/180*Math.PI,vt=$.get("text-rotation-alignment")!=="viewport"&&$.get("symbol-placement")!=="point",at=$.get("icon-rotation-alignment")==="map"&&$.get("symbol-placement")!=="point",At=$.get("symbol-placement"),It=K/2,Bt=$.get("icon-text-fit");let Tt;d&&Bt!=="none"&&(A.allowVerticalPlacement&&c.vertical&&(Tt=db(d,c.vertical,Bt,$.get("icon-text-fit-padding"),q,fe)),ae&&(d=db(d,ae,Bt,$.get("icon-text-fit-padding"),q,fe)));const dt=P?D.line.getGranularityForZoomLevel(P.z):1,$t=(br,mr)=>{mr.x<0||mr.x>=it||mr.y<0||mr.y>=it||function(nr,Dr,Di,sa,Ya,Ln,on,Ma,Ti,da,Ra,Ia,$a,kn,fa,ln,oa,ga,pa,ea,vi,Rs,tu,Is,H7){const ru=nr.addToLineVertexArray(Dr,Di);let YA,iu,au,nu,Kb=0,$b=0,qb=0,Wb=0,V2=-1,G2=-1;const So={};let Jb=Sa("");if(nr.allowVerticalPlacement&&sa.vertical){const Za=Ma.layout.get("text-rotate").evaluate(vi,{},Is)+90;au=new t1(Ti,Dr,da,Ra,Ia,sa.vertical,$a,kn,fa,Za),on&&(nu=new t1(Ti,Dr,da,Ra,Ia,on,oa,ga,fa,Za))}if(Ya){const Za=Ma.layout.get("icon-rotate").evaluate(vi,{}),Qn=Ma.layout.get("icon-text-fit")!=="none",PA=Db(Ya,Za,tu,Qn),Es=on?Db(on,Za,tu,Qn):void 0;iu=new t1(Ti,Dr,da,Ra,Ia,Ya,oa,ga,!1,Za),Kb=4*PA.length;const LA=nr.iconSizeData;let io=null;LA.kind==="source"?(io=[ro*Ma.layout.get("icon-size").evaluate(vi,{})],io[0]>xl&&ur(`${nr.layerIds[0]}: Value for "icon-size" is >= ${bd}. Reduce your "icon-size".`)):LA.kind==="composite"&&(io=[ro*Rs.compositeIconSizes[0].evaluate(vi,{},Is),ro*Rs.compositeIconSizes[1].evaluate(vi,{},Is)],(io[0]>xl||io[1]>xl)&&ur(`${nr.layerIds[0]}: Value for "icon-size" is >= ${bd}. Reduce your "icon-size".`)),nr.addSymbols(nr.icon,PA,io,ea,pa,vi,u.al.none,Dr,ru.lineStartIndex,ru.lineLength,-1,Is),V2=nr.icon.placedSymbolArray.length-1,Es&&($b=4*Es.length,nr.addSymbols(nr.icon,Es,io,ea,pa,vi,u.al.vertical,Dr,ru.lineStartIndex,ru.lineLength,-1,Is),G2=nr.icon.placedSymbolArray.length-1)}const ey=Object.keys(sa.horizontal);for(const Za of ey){const Qn=sa.horizontal[Za];if(!YA){Jb=Sa(Qn.text);const Es=Ma.layout.get("text-rotate").evaluate(vi,{},Is);YA=new t1(Ti,Dr,da,Ra,Ia,Qn,$a,kn,fa,Es)}const PA=Qn.positionedLines.length===1;if(qb+=Hb(nr,Dr,Qn,Ln,Ma,fa,vi,ln,ru,sa.vertical?u.al.horizontal:u.al.horizontalOnly,PA?ey:[Za],So,V2,Rs,Is),PA)break}sa.vertical&&(Wb+=Hb(nr,Dr,sa.vertical,Ln,Ma,fa,vi,ln,ru,u.al.vertical,["vertical"],So,G2,Rs,Is));const X7=YA?YA.boxStartIndex:nr.collisionBoxArray.length,V7=YA?YA.boxEndIndex:nr.collisionBoxArray.length,G7=au?au.boxStartIndex:nr.collisionBoxArray.length,j7=au?au.boxEndIndex:nr.collisionBoxArray.length,K7=iu?iu.boxStartIndex:nr.collisionBoxArray.length,$7=iu?iu.boxEndIndex:nr.collisionBoxArray.length,q7=nu?nu.boxStartIndex:nr.collisionBoxArray.length,W7=nu?nu.boxEndIndex:nr.collisionBoxArray.length;let Us=-1;const i1=(Za,Qn)=>Za&&Za.circleDiameter?Math.max(Za.circleDiameter,Qn):Qn;Us=i1(YA,Us),Us=i1(au,Us),Us=i1(iu,Us),Us=i1(nu,Us);const ty=Us>-1?1:0;ty&&(Us*=H7/na),nr.glyphOffsetArray.length>=Wc.MAX_GLYPHS&&ur("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),vi.sortKey!==void 0&&nr.addToSortKeyRanges(nr.symbolInstances.length,vi.sortKey);const J7=Ob(Ma,vi,Is),[eB,tB]=function(Za,Qn){const PA=Za.length,Es=Qn==null?void 0:Qn.values;if((Es==null?void 0:Es.length)>0)for(let LA=0;LA<Es.length;LA+=2){const io=Es[LA+1];Za.emplaceBack(u.aB[Es[LA]],io[0],io[1])}return[PA,Za.length]}(nr.textAnchorOffsets,J7);nr.symbolInstances.emplaceBack(Dr.x,Dr.y,So.right>=0?So.right:-1,So.center>=0?So.center:-1,So.left>=0?So.left:-1,So.vertical||-1,V2,G2,Jb,X7,V7,G7,j7,K7,$7,q7,W7,da,qb,Wb,Kb,$b,ty,0,$a,Us,eB,tB)}(A,mr,br,c,d,m,Tt,A.layers[0],A.collisionBoxArray,a.index,a.sourceLayerIndex,A.index,ye,[de,de,de,de],vt,F,Me,Re,at,q,a,y,N,P,x)};if(At==="line")for(const br of Nb(a.geometry,0,0,it,it)){const mr=NA(br,dt),nr=L7(mr,K,Je,c.vertical||ae,d,24,Le,A.overscaling,it);for(const Dr of nr)ae&&Z7(A,ae.text,It,Dr)||$t(mr,Dr)}else if(At==="line-center"){for(const br of a.geometry)if(br.length>1){const mr=NA(br,dt),nr=P7(mr,Je,c.vertical||ae,d,24,Le);nr&&$t(mr,nr)}}else if(a.type==="Polygon")for(const br of yc(a.geometry,0)){const mr=Q7(br,16);$t(NA(br[0],dt,!0),new Bl(mr.x,mr.y,0))}else if(a.type==="LineString")for(const br of a.geometry){const mr=NA(br,dt);$t(mr,new Bl(mr[0].x,mr[0].y,0))}else if(a.type==="Point")for(const br of a.geometry)for(const mr of br)$t([mr],new Bl(mr.x,mr.y,0))}function Hb(A,a,c,d,m,y,x,R,F,N,P,D,j,$,q){const ae=function(Le,Me,K,de,Re,Je,vt,at){const At=de.layout.get("text-rotate").evaluate(Je,{})*Math.PI/180,It=[];for(const Bt of Me.positionedLines)for(const Tt of Bt.positionedGlyphs){if(!Tt.rect)continue;const dt=Tt.rect||{};let $t=g7+1,br=!0,mr=1,nr=0;const Dr=(Re||at)&&Tt.vertical,Di=Tt.metrics.advance*Tt.scale/2;if(at&&Me.verticalizable&&(nr=Bt.lineOffset/2-(Tt.imageName?-(na-Tt.metrics.width*Tt.scale)/2:(Tt.scale-1)*na)),Tt.imageName){const ga=vt[Tt.imageName];br=ga.sdf,mr=ga.pixelRatio,$t=sn/mr}const sa=Re?[Tt.x+Di,Tt.y]:[0,0];let Ya=Re?[0,0]:[Tt.x+Di+K[0],Tt.y+K[1]-nr],Ln=[0,0];Dr&&(Ln=Ya,Ya=[0,0]);const on=Tt.metrics.isDoubleResolution?2:1,Ma=(Tt.metrics.left-$t)*Tt.scale-Di+Ya[0],Ti=(-Tt.metrics.top-$t)*Tt.scale+Ya[1],da=Ma+dt.w/on*Tt.scale/mr,Ra=Ti+dt.h/on*Tt.scale/mr,Ia=new S(Ma,Ti),$a=new S(da,Ti),kn=new S(Ma,Ra),fa=new S(da,Ra);if(Dr){const ga=new S(-Di,Di-Gf),pa=-Math.PI/2,ea=na/2-Di,vi=new S(5-Gf-ea,-(Tt.imageName?ea:0)),Rs=new S(...Ln);Ia._rotateAround(pa,ga)._add(vi)._add(Rs),$a._rotateAround(pa,ga)._add(vi)._add(Rs),kn._rotateAround(pa,ga)._add(vi)._add(Rs),fa._rotateAround(pa,ga)._add(vi)._add(Rs)}if(At){const ga=Math.sin(At),pa=Math.cos(At),ea=[pa,-ga,ga,pa];Ia._matMult(ea),$a._matMult(ea),kn._matMult(ea),fa._matMult(ea)}const ln=new S(0,0),oa=new S(0,0);It.push({tl:Ia,tr:$a,bl:kn,br:fa,tex:dt,writingMode:Me.writingMode,glyphOffset:sa,sectionIndex:Tt.sectionIndex,isSDF:br,pixelOffsetTL:ln,pixelOffsetBR:oa,minFontScaleX:0,minFontScaleY:0})}return It}(0,c,R,m,y,x,d,A.allowVerticalPlacement),fe=A.textSizeData;let ye=null;fe.kind==="source"?(ye=[ro*m.layout.get("text-size").evaluate(x,{})],ye[0]>xl&&ur(`${A.layerIds[0]}: Value for "text-size" is >= ${bd}. Reduce your "text-size".`)):fe.kind==="composite"&&(ye=[ro*$.compositeTextSizes[0].evaluate(x,{},q),ro*$.compositeTextSizes[1].evaluate(x,{},q)],(ye[0]>xl||ye[1]>xl)&&ur(`${A.layerIds[0]}: Value for "text-size" is >= ${bd}. Reduce your "text-size".`)),A.addSymbols(A.text,ae,ye,R,y,x,N,a,F.lineStartIndex,F.lineLength,j,q);for(const Le of P)D[Le]=A.text.placedSymbolArray.length-1;return 4*ae.length}function Xb(A){for(const a in A)return A[a];return null}function Z7(A,a,c,d){const m=A.compareText;if(a in m){const y=m[a];for(let x=y.length-1;x>=0;x--)if(d.dist(y[x])<c)return!0}else m[a]=[];return m[a].push(d),!1}const Vb=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Q2{static from(a){if(!(a instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[c,d]=new Uint8Array(a,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");const m=d>>4;if(m!==1)throw new Error(`Got v${m} data when expected v1.`);const y=Vb[15&d];if(!y)throw new Error("Unrecognized array type.");const[x]=new Uint16Array(a,2,1),[R]=new Uint32Array(a,4,1);return new Q2(R,x,y,a)}constructor(a,c=64,d=Float64Array,m){if(isNaN(a)||a<0)throw new Error(`Unpexpected numItems value: ${a}.`);this.numItems=+a,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=d,this.IndexArrayType=a<65536?Uint16Array:Uint32Array;const y=Vb.indexOf(this.ArrayType),x=2*a*this.ArrayType.BYTES_PER_ELEMENT,R=a*this.IndexArrayType.BYTES_PER_ELEMENT,F=(8-R%8)%8;if(y<0)throw new Error(`Unexpected typed array class: ${d}.`);m&&m instanceof ArrayBuffer?(this.data=m,this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+R+F,2*a),this._pos=2*a,this._finished=!0):(this.data=new ArrayBuffer(8+x+R+F),this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+R+F,2*a),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+y]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=a)}add(a,c){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=a,this.coords[this._pos++]=c,d}finish(){const a=this._pos>>1;if(a!==this.numItems)throw new Error(`Added ${a} items when expected ${this.numItems}.`);return D2(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(a,c,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:y,coords:x,nodeSize:R}=this,F=[0,y.length-1,0],N=[];for(;F.length;){const P=F.pop()||0,D=F.pop()||0,j=F.pop()||0;if(D-j<=R){for(let fe=j;fe<=D;fe++){const ye=x[2*fe],Le=x[2*fe+1];ye>=a&&ye<=d&&Le>=c&&Le<=m&&N.push(y[fe])}continue}const $=j+D>>1,q=x[2*$],ae=x[2*$+1];q>=a&&q<=d&&ae>=c&&ae<=m&&N.push(y[$]),(P===0?a<=q:c<=ae)&&(F.push(j),F.push($-1),F.push(1-P)),(P===0?d>=q:m>=ae)&&(F.push($+1),F.push(D),F.push(1-P))}return N}within(a,c,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:m,coords:y,nodeSize:x}=this,R=[0,m.length-1,0],F=[],N=d*d;for(;R.length;){const P=R.pop()||0,D=R.pop()||0,j=R.pop()||0;if(D-j<=x){for(let fe=j;fe<=D;fe++)jb(y[2*fe],y[2*fe+1],a,c)<=N&&F.push(m[fe]);continue}const $=j+D>>1,q=y[2*$],ae=y[2*$+1];jb(q,ae,a,c)<=N&&F.push(m[$]),(P===0?a-d<=q:c-d<=ae)&&(R.push(j),R.push($-1),R.push(1-P)),(P===0?a+d>=q:c+d>=ae)&&(R.push($+1),R.push(D),R.push(1-P))}return F}}function D2(A,a,c,d,m,y){if(m-d<=c)return;const x=d+m>>1;Gb(A,a,x,d,m,y),D2(A,a,c,d,x-1,1-y),D2(A,a,c,x+1,m,1-y)}function Gb(A,a,c,d,m,y){for(;m>d;){if(m-d>600){const N=m-d+1,P=c-d+1,D=Math.log(N),j=.5*Math.exp(2*D/3),$=.5*Math.sqrt(D*j*(N-j)/N)*(P-N/2<0?-1:1);Gb(A,a,c,Math.max(d,Math.floor(c-P*j/N+$)),Math.min(m,Math.floor(c+(N-P)*j/N+$)),y)}const x=a[2*c+y];let R=d,F=m;for(xd(A,a,d,c),a[2*m+y]>x&&xd(A,a,d,m);R<F;){for(xd(A,a,R,F),R++,F--;a[2*R+y]<x;)R++;for(;a[2*F+y]>x;)F--}a[2*d+y]===x?xd(A,a,d,F):(F++,xd(A,a,F,m)),F<=c&&(d=F+1),c<=F&&(m=F-1)}}function xd(A,a,c,d){z2(A,c,d),z2(a,2*c,2*d),z2(a,2*c+1,2*d+1)}function z2(A,a,c){const d=A[a];A[a]=A[c],A[c]=d}function jb(A,a,c,d){const m=A-c,y=a-d;return m*m+y*y}var Z2;u.cm=void 0,(Z2=u.cm||(u.cm={})).create="create",Z2.load="load",Z2.fullLoad="fullLoad";let r1=null,wd=[];const O2=1e3/60,H2="loadTime",X2="fullLoadTime",O7={mark(A){performance.mark(A)},frame(A){const a=A;r1!=null&&wd.push(a-r1),r1=a},clearMetrics(){r1=null,wd=[],performance.clearMeasures(H2),performance.clearMeasures(X2);for(const A in u.cm)performance.clearMarks(u.cm[A])},getPerformanceMetrics(){performance.measure(H2,u.cm.create,u.cm.load),performance.measure(X2,u.cm.create,u.cm.fullLoad);const A=performance.getEntriesByName(H2)[0].duration,a=performance.getEntriesByName(X2)[0].duration,c=wd.length,d=1/(wd.reduce((y,x)=>y+x,0)/c/1e3),m=wd.filter(y=>y>O2).reduce((y,x)=>y+(x-O2)/O2,0);return{loadTime:A,fullLoadTime:a,fps:d,percentDroppedFrames:m/(c+m)*100,totalFrames:c}}};u.$=yd,u.A=J,u.B=gi,u.C=_i,u.D=cr,u.E=we,u.F=Zh,u.G=function(A){if(Jt==null){const a=A.navigator?A.navigator.userAgent:null;Jt=!!A.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return Jt},u.H=class{constructor(A,a){this.target=A,this.mapId=a,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new S7(()=>this.process()),this.subscription=Yr(this.target,"message",c=>this.receive(c),!1),this.globalScope=Ot(self)?A:window}registerMessageHandler(A,a){this.messageHandlers[A]=a}sendAsync(A,a){return new Promise((c,d)=>{const m=Math.round(1e18*Math.random()).toString(36).substring(0,10),y=a?Yr(a.signal,"abort",()=>{y==null||y.unsubscribe(),delete this.resolveRejects[m];const F={id:m,type:"<cancel>",origin:location.origin,targetMapId:A.targetMapId,sourceMapId:this.mapId};this.target.postMessage(F)},N7):null;this.resolveRejects[m]={resolve:F=>{y==null||y.unsubscribe(),c(F)},reject:F=>{y==null||y.unsubscribe(),d(F)}};const x=[],R=Object.assign(Object.assign({},A),{id:m,sourceMapId:this.mapId,origin:location.origin,data:xA(A.data,x)});this.target.postMessage(R,{transfer:x})})}receive(A){const a=A.data,c=a.id;if(!(a.origin!=="file://"&&location.origin!=="file://"&&a.origin!=="resource://android"&&location.origin!=="resource://android"&&a.origin!==location.origin||a.targetMapId&&this.mapId!==a.targetMapId)){if(a.type==="<cancel>"){delete this.tasks[c];const d=this.abortControllers[c];return delete this.abortControllers[c],void(d&&d.abort())}if(Ot(self)||a.mustQueue)return this.tasks[c]=a,this.taskQueue.push(c),void this.invoker.trigger();this.processTask(c,a)}}process(){if(this.taskQueue.length===0)return;const A=this.taskQueue.shift(),a=this.tasks[A];delete this.tasks[A],this.taskQueue.length>0&&this.invoker.trigger(),a&&this.processTask(A,a)}processTask(A,a){return s(this,void 0,void 0,function*(){if(a.type==="<response>"){const m=this.resolveRejects[A];return delete this.resolveRejects[A],m?void(a.error?m.reject(Ro(a.error)):m.resolve(Ro(a.data))):void 0}if(!this.messageHandlers[a.type])return void this.completeTask(A,new Error(`Could not find a registered handler for ${a.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const c=Ro(a.data),d=new AbortController;this.abortControllers[A]=d;try{const m=yield this.messageHandlers[a.type](a.sourceMapId,c,d);this.completeTask(A,null,m)}catch(m){this.completeTask(A,m)}})}completeTask(A,a,c){const d=[];delete this.abortControllers[A];const m={id:A,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:a?xA(a):null,data:xA(c,d)};this.target.postMessage(m,{transfer:d})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},u.I=M2,u.J=Yi,u.K=function(){var A=new J(16);return J!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=0,A[12]=0,A[13]=0,A[14]=0),A[0]=1,A[5]=1,A[10]=1,A[15]=1,A},u.L=function(A,a,c){var d,m,y,x,R,F,N,P,D,j,$,q,ae=c[0],fe=c[1],ye=c[2];return a===A?(A[12]=a[0]*ae+a[4]*fe+a[8]*ye+a[12],A[13]=a[1]*ae+a[5]*fe+a[9]*ye+a[13],A[14]=a[2]*ae+a[6]*fe+a[10]*ye+a[14],A[15]=a[3]*ae+a[7]*fe+a[11]*ye+a[15]):(m=a[1],y=a[2],x=a[3],R=a[4],F=a[5],N=a[6],P=a[7],D=a[8],j=a[9],$=a[10],q=a[11],A[0]=d=a[0],A[1]=m,A[2]=y,A[3]=x,A[4]=R,A[5]=F,A[6]=N,A[7]=P,A[8]=D,A[9]=j,A[10]=$,A[11]=q,A[12]=d*ae+R*fe+D*ye+a[12],A[13]=m*ae+F*fe+j*ye+a[13],A[14]=y*ae+N*fe+$*ye+a[14],A[15]=x*ae+P*fe+q*ye+a[15]),A},u.M=function(A,a,c){var d=c[0],m=c[1],y=c[2];return A[0]=a[0]*d,A[1]=a[1]*d,A[2]=a[2]*d,A[3]=a[3]*d,A[4]=a[4]*m,A[5]=a[5]*m,A[6]=a[6]*m,A[7]=a[7]*m,A[8]=a[8]*y,A[9]=a[9]*y,A[10]=a[10]*y,A[11]=a[11]*y,A[12]=a[12],A[13]=a[13],A[14]=a[14],A[15]=a[15],A},u.N=function(A,a,c){var d=a[0],m=a[1],y=a[2],x=a[3],R=a[4],F=a[5],N=a[6],P=a[7],D=a[8],j=a[9],$=a[10],q=a[11],ae=a[12],fe=a[13],ye=a[14],Le=a[15],Me=c[0],K=c[1],de=c[2],Re=c[3];return A[0]=Me*d+K*R+de*D+Re*ae,A[1]=Me*m+K*F+de*j+Re*fe,A[2]=Me*y+K*N+de*$+Re*ye,A[3]=Me*x+K*P+de*q+Re*Le,A[4]=(Me=c[4])*d+(K=c[5])*R+(de=c[6])*D+(Re=c[7])*ae,A[5]=Me*m+K*F+de*j+Re*fe,A[6]=Me*y+K*N+de*$+Re*ye,A[7]=Me*x+K*P+de*q+Re*Le,A[8]=(Me=c[8])*d+(K=c[9])*R+(de=c[10])*D+(Re=c[11])*ae,A[9]=Me*m+K*F+de*j+Re*fe,A[10]=Me*y+K*N+de*$+Re*ye,A[11]=Me*x+K*P+de*q+Re*Le,A[12]=(Me=c[12])*d+(K=c[13])*R+(de=c[14])*D+(Re=c[15])*ae,A[13]=Me*m+K*F+de*j+Re*fe,A[14]=Me*y+K*N+de*$+Re*ye,A[15]=Me*x+K*P+de*q+Re*Le,A},u.O=function(A,a){const c={};for(let d=0;d<a.length;d++){const m=a[d];m in A&&(c[m]=A[m])}return c},u.P=S,u.Q=wl,u.R=Yn,u.S=wb,u.T=Gh,u.U=xb,u.V=se,u.W=re,u.X=Br,u.Y=Pn,u.Z=it,u._=s,u.a=Ir,u.a$=function(A,a,c){var d=Math.sin(c),m=Math.cos(c),y=a[4],x=a[5],R=a[6],F=a[7],N=a[8],P=a[9],D=a[10],j=a[11];return a!==A&&(A[0]=a[0],A[1]=a[1],A[2]=a[2],A[3]=a[3],A[12]=a[12],A[13]=a[13],A[14]=a[14],A[15]=a[15]),A[4]=y*m+N*d,A[5]=x*m+P*d,A[6]=R*m+D*d,A[7]=F*m+j*d,A[8]=N*m-y*d,A[9]=P*m-x*d,A[10]=D*m-R*d,A[11]=j*m-F*d,A},u.a0=25,u.a1=P2,u.a2=A=>{const a=window.document.createElement("video");return a.muted=!0,new Promise(c=>{a.onloadstart=()=>{c(a)};for(const d of A){const m=window.document.createElement("source");Mi(d)||(a.crossOrigin="Anonymous"),m.src=d,a.appendChild(m)}})},u.a3=je,u.a4=function(){return lt++},u.a5=E,u.a6=Wc,u.a7=Fh,u.a8=to,u.a9=Eb,u.aA=function(A,a,c,d,m=!1){if(!c[0]&&!c[1])return[0,0];const y=m?d==="map"?-A.bearingInRadians:0:d==="viewport"?A.bearingInRadians:0;if(y){const x=Math.sin(y),R=Math.cos(y);c=[c[0]*R-c[1]*x,c[0]*x+c[1]*R]}return[m?c[0]:pt(a,c[0],A.zoom),m?c[1]:pt(a,c[1],A.zoom)]},u.aC=U2,u.aD=k2,u.aE=I2,u.aF=Q2,u.aG=ji,u.aH=Hf,u.aI=Be,u.aJ=wr,u.aK=Ft,u.aL=xt,u.aM=wt,u.aN=Cb,u.aO=function(A,a,c){return A[0]=a[0]*c,A[1]=a[1]*c,A[2]=a[2]*c,A},u.aP=function(A,a,c){return A[0]=a[0]+c[0],A[1]=a[1]+c[1],A[2]=a[2]+c[2],A},u.aQ=function(A){var a=new J(3);return a[0]=A[0],a[1]=A[1],a[2]=A[2],a},u.aR=function(A,a,c){return A[0]=a[0]*c[0],A[1]=a[1]*c[1],A[2]=a[2]*c[2],A[3]=a[3]*c[3],A},u.aS=function(A,a,c){return A[0]=a[0]-c[0],A[1]=a[1]-c[1],A[2]=a[2]-c[2],A},u.aT=function(A,a){var c=a[0],d=a[1],m=a[2],y=c*c+d*d+m*m;return y>0&&(y=1/Math.sqrt(y)),A[0]=a[0]*y,A[1]=a[1]*y,A[2]=a[2]*y,A},u.aU=function(A,a,c){var d=a[0],m=a[1],y=a[2],x=c[0],R=c[1],F=c[2];return A[0]=m*F-y*R,A[1]=y*x-d*F,A[2]=d*R-m*x,A},u.aV=function(A,a){return A[0]*a[0]+A[1]*a[1]+A[2]*a[2]},u.aW=Rb,u.aX=Jc,u.aY=function(A,a,c,d,m){var y,x=1/Math.tan(a/2);return A[0]=x/c,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=x,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=-1,A[12]=0,A[13]=0,A[15]=0,m!=null&&m!==1/0?(A[10]=(m+d)*(y=1/(d-m)),A[14]=2*m*d*y):(A[10]=-1,A[14]=-2*d),A},u.aZ=function(A){var a=new J(16);return a[0]=A[0],a[1]=A[1],a[2]=A[2],a[3]=A[3],a[4]=A[4],a[5]=A[5],a[6]=A[6],a[7]=A[7],a[8]=A[8],a[9]=A[9],a[10]=A[10],a[11]=A[11],a[12]=A[12],a[13]=A[13],a[14]=A[14],a[15]=A[15],a},u.a_=function(A,a,c){var d=Math.sin(c),m=Math.cos(c),y=a[0],x=a[1],R=a[2],F=a[3],N=a[4],P=a[5],D=a[6],j=a[7];return a!==A&&(A[8]=a[8],A[9]=a[9],A[10]=a[10],A[11]=a[11],A[12]=a[12],A[13]=a[13],A[14]=a[14],A[15]=a[15]),A[0]=y*m+N*d,A[1]=x*m+P*d,A[2]=R*m+D*d,A[3]=F*m+j*d,A[4]=N*m-y*d,A[5]=P*m-x*d,A[6]=D*m-R*d,A[7]=j*m-F*d,A},u.aa=function(A){const a={};if(A.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,d,m,y)=>{const x=m||y;return a[d]=!x||x.toLowerCase(),""}),a["max-age"]){const c=parseInt(a["max-age"],10);isNaN(c)?delete a["max-age"]:a["max-age"]=c}return a},u.ab=function(A){return A*Math.PI/180},u.ac=function(A){return Math.pow(2,A)},u.ad=X,u.ae=st,u.af=85.051129,u.ag=Bb,u.ah=function(A){return Math.log(A)/Math.LN2},u.ai=function(A){var a=A[0],c=A[1];return a*a+c*c},u.aj=function(A,a){const c=[];for(const d in A)d in a||c.push(d);return c},u.ak=function(A,a){let c=0,d=0;if(A.kind==="constant")d=A.layoutSize;else if(A.kind!=="source"){const{interpolationType:m,minZoom:y,maxZoom:x}=A,R=m?st(Ga.interpolationFactor(m,a,y,x),0,1):0;A.kind==="camera"?d=gi.number(A.minSize,A.maxSize,R):c=R}return{uSizeT:c,uSize:d}},u.am=function(A,{uSize:a,uSizeT:c},{lowerSize:d,upperSize:m}){return A.kind==="source"?d/ro:A.kind==="composite"?gi.number(d/ro,m/ro,c):a},u.an=function(A,a){var c=a[0],d=a[1],m=a[2],y=a[3],x=a[4],R=a[5],F=a[6],N=a[7],P=a[8],D=a[9],j=a[10],$=a[11],q=a[12],ae=a[13],fe=a[14],ye=a[15],Le=c*R-d*x,Me=c*F-m*x,K=c*N-y*x,de=d*F-m*R,Re=d*N-y*R,Je=m*N-y*F,vt=P*ae-D*q,at=P*fe-j*q,At=P*ye-$*q,It=D*fe-j*ae,Bt=D*ye-$*ae,Tt=j*ye-$*fe,dt=Le*Tt-Me*Bt+K*It+de*At-Re*at+Je*vt;return dt?(A[0]=(R*Tt-F*Bt+N*It)*(dt=1/dt),A[1]=(m*Bt-d*Tt-y*It)*dt,A[2]=(ae*Je-fe*Re+ye*de)*dt,A[3]=(j*Re-D*Je-$*de)*dt,A[4]=(F*At-x*Tt-N*at)*dt,A[5]=(c*Tt-m*At+y*at)*dt,A[6]=(fe*K-q*Je-ye*Me)*dt,A[7]=(P*Je-j*K+$*Me)*dt,A[8]=(x*Bt-R*At+N*vt)*dt,A[9]=(d*At-c*Bt-y*vt)*dt,A[10]=(q*Re-ae*K+ye*Le)*dt,A[11]=(D*K-P*Re-$*Le)*dt,A[12]=(R*at-x*It-F*vt)*dt,A[13]=(c*It-d*at+m*vt)*dt,A[14]=(ae*Me-q*de-fe*Le)*dt,A[15]=(P*de-D*Me+j*Le)*dt,A):null},u.ao=Ke,u.ap=function(A){return Math.hypot(A[0],A[1])},u.aq=function(A){return A[0]=0,A[1]=0,A},u.ar=function(A,a,c){return A[0]=a[0]*c,A[1]=a[1]*c,A},u.as=E2,u.at=He,u.au=function(A,a,c,d){const m=a.y-A.y,y=a.x-A.x,x=d.y-c.y,R=d.x-c.x,F=x*y-R*m;if(F===0)return null;const N=(R*(A.y-c.y)-x*(A.x-c.x))/F;return new S(A.x+N*y,A.y+N*m)},u.av=Nb,u.aw=ad,u.ax=function(A){let a=1/0,c=1/0,d=-1/0,m=-1/0;for(const y of A)a=Math.min(a,y.x),c=Math.min(c,y.y),d=Math.max(d,y.x),m=Math.max(m,y.y);return[a,c,d,m]},u.ay=na,u.az=pt,u.b=fr,u.b$=function(A,a){var c=A[0],d=A[1],m=A[2],y=A[3],x=A[4],R=A[5],F=A[6],N=A[7],P=A[8],D=A[9],j=A[10],$=A[11],q=A[12],ae=A[13],fe=A[14],ye=A[15],Le=a[0],Me=a[1],K=a[2],de=a[3],Re=a[4],Je=a[5],vt=a[6],at=a[7],At=a[8],It=a[9],Bt=a[10],Tt=a[11],dt=a[12],$t=a[13],br=a[14],mr=a[15];return Math.abs(c-Le)<=Ae*Math.max(1,Math.abs(c),Math.abs(Le))&&Math.abs(d-Me)<=Ae*Math.max(1,Math.abs(d),Math.abs(Me))&&Math.abs(m-K)<=Ae*Math.max(1,Math.abs(m),Math.abs(K))&&Math.abs(y-de)<=Ae*Math.max(1,Math.abs(y),Math.abs(de))&&Math.abs(x-Re)<=Ae*Math.max(1,Math.abs(x),Math.abs(Re))&&Math.abs(R-Je)<=Ae*Math.max(1,Math.abs(R),Math.abs(Je))&&Math.abs(F-vt)<=Ae*Math.max(1,Math.abs(F),Math.abs(vt))&&Math.abs(N-at)<=Ae*Math.max(1,Math.abs(N),Math.abs(at))&&Math.abs(P-At)<=Ae*Math.max(1,Math.abs(P),Math.abs(At))&&Math.abs(D-It)<=Ae*Math.max(1,Math.abs(D),Math.abs(It))&&Math.abs(j-Bt)<=Ae*Math.max(1,Math.abs(j),Math.abs(Bt))&&Math.abs($-Tt)<=Ae*Math.max(1,Math.abs($),Math.abs(Tt))&&Math.abs(q-dt)<=Ae*Math.max(1,Math.abs(q),Math.abs(dt))&&Math.abs(ae-$t)<=Ae*Math.max(1,Math.abs(ae),Math.abs($t))&&Math.abs(fe-br)<=Ae*Math.max(1,Math.abs(fe),Math.abs(br))&&Math.abs(ye-mr)<=Ae*Math.max(1,Math.abs(ye),Math.abs(mr))},u.b0=function(){const A=new Float32Array(16);return X(A),A},u.b1=function(){const A=new Float64Array(16);return X(A),A},u.b2=function(){return new Float64Array(16)},u.b3=function(A,a,c){const d=new Float64Array(4);return function(m,y,x,R){var F=.5*Math.PI/180;y*=F,x*=F,R*=F;var N=Math.sin(y),P=Math.cos(y),D=Math.sin(x),j=Math.cos(x),$=Math.sin(R),q=Math.cos(R);m[0]=N*j*q-P*D*$,m[1]=P*D*q+N*j*$,m[2]=P*j*$-N*D*q,m[3]=P*j*q+N*D*$}(d,A,a-90,c),d},u.b4=function(A,a,c,d){var m,y,x,R,F,N=a[0],P=a[1],D=a[2],j=a[3],$=c[0],q=c[1],ae=c[2],fe=c[3];return(y=N*$+P*q+D*ae+j*fe)<0&&(y=-y,$=-$,q=-q,ae=-ae,fe=-fe),1-y>Ae?(m=Math.acos(y),x=Math.sin(m),R=Math.sin((1-d)*m)/x,F=Math.sin(d*m)/x):(R=1-d,F=d),A[0]=R*N+F*$,A[1]=R*P+F*q,A[2]=R*D+F*ae,A[3]=R*j+F*fe,A},u.b5=function(A){const a=new Float64Array(9);var c,d,m,y,x,R,F,N,P,D,j,$,q,ae,fe,ye,Le,Me;D=(m=(d=A)[0])*(F=m+m),j=(y=d[1])*F,q=(x=d[2])*F,ae=x*(N=y+y),ye=(R=d[3])*F,Le=R*N,Me=R*(P=x+x),(c=a)[0]=1-($=y*N)-(fe=x*P),c[3]=j-Me,c[6]=q+Le,c[1]=j+Me,c[4]=1-D-fe,c[7]=ae-ye,c[2]=q-Le,c[5]=ae+ye,c[8]=1-D-$;const K=wt(-Math.asin(st(a[2],-1,1)));let de,Re;return Math.hypot(a[5],a[8])<.001?(de=0,Re=-wt(Math.atan2(a[3],a[4]))):(de=wt(a[5]===0&&a[8]===0?0:Math.atan2(a[5],a[8])),Re=wt(a[1]===0&&a[0]===0?0:Math.atan2(a[1],a[0]))),{roll:de,pitch:K+90,bearing:Re}},u.b6=function(A,a){return A.roll==a.roll&&A.pitch==a.pitch&&A.bearing==a.bearing},u.b7=Tr,u.b8=Eo,u.b9=$c,u.bA=function(A){if(A.type==="custom")return new T7(A);switch(A.type){case"background":return new U7(A);case"circle":return new B9(A);case"fill":return new O9(A);case"fill-extrusion":return new q9(A);case"heatmap":return new M9(A);case"hillshade":return new I9(A);case"line":return new n7(A);case"raster":return new F7(A);case"symbol":return new qf(A)}},u.bB=Mt,u.bC=function(A,a){if(!A)return[{command:"setStyle",args:[a]}];let c=[];try{if(!Fe(A.version,a.version))return[{command:"setStyle",args:[a]}];Fe(A.center,a.center)||c.push({command:"setCenter",args:[a.center]}),Fe(A.centerAltitude,a.centerAltitude)||c.push({command:"setCenterAltitude",args:[a.centerAltitude]}),Fe(A.zoom,a.zoom)||c.push({command:"setZoom",args:[a.zoom]}),Fe(A.bearing,a.bearing)||c.push({command:"setBearing",args:[a.bearing]}),Fe(A.pitch,a.pitch)||c.push({command:"setPitch",args:[a.pitch]}),Fe(A.roll,a.roll)||c.push({command:"setRoll",args:[a.roll]}),Fe(A.sprite,a.sprite)||c.push({command:"setSprite",args:[a.sprite]}),Fe(A.glyphs,a.glyphs)||c.push({command:"setGlyphs",args:[a.glyphs]}),Fe(A.transition,a.transition)||c.push({command:"setTransition",args:[a.transition]}),Fe(A.light,a.light)||c.push({command:"setLight",args:[a.light]}),Fe(A.terrain,a.terrain)||c.push({command:"setTerrain",args:[a.terrain]}),Fe(A.sky,a.sky)||c.push({command:"setSky",args:[a.sky]}),Fe(A.projection,a.projection)||c.push({command:"setProjection",args:[a.projection]});const d={},m=[];(function(x,R,F,N){let P;for(P in R=R||{},x=x||{})Object.prototype.hasOwnProperty.call(x,P)&&(Object.prototype.hasOwnProperty.call(R,P)||le(P,F,N));for(P in R)Object.prototype.hasOwnProperty.call(R,P)&&(Object.prototype.hasOwnProperty.call(x,P)?Fe(x[P],R[P])||(x[P].type==="geojson"&&R[P].type==="geojson"&&Te(x,R,P)?tt(F,{command:"setGeoJSONSourceData",args:[P,R[P].data]}):Ye(P,R,F,N)):Ne(P,R,F))})(A.sources,a.sources,m,d);const y=[];A.layers&&A.layers.forEach(x=>{"source"in x&&d[x.source]?c.push({command:"removeLayer",args:[x.id]}):y.push(x)}),c=c.concat(m),function(x,R,F){R=R||[];const N=(x=x||[]).map(ft),P=R.map(ft),D=x.reduce(Ct,{}),j=R.reduce(Ct,{}),$=N.slice(),q=Object.create(null);let ae,fe,ye,Le,Me;for(let K=0,de=0;K<N.length;K++)ae=N[K],Object.prototype.hasOwnProperty.call(j,ae)?de++:(tt(F,{command:"removeLayer",args:[ae]}),$.splice($.indexOf(ae,de),1));for(let K=0,de=0;K<P.length;K++)ae=P[P.length-1-K],$[$.length-1-K]!==ae&&(Object.prototype.hasOwnProperty.call(D,ae)?(tt(F,{command:"removeLayer",args:[ae]}),$.splice($.lastIndexOf(ae,$.length-de),1)):de++,Le=$[$.length-K],tt(F,{command:"addLayer",args:[j[ae],Le]}),$.splice($.length-K,0,ae),q[ae]=!0);for(let K=0;K<P.length;K++)if(ae=P[K],fe=D[ae],ye=j[ae],!q[ae]&&!Fe(fe,ye))if(Fe(fe.source,ye.source)&&Fe(fe["source-layer"],ye["source-layer"])&&Fe(fe.type,ye.type)){for(Me in Ge(fe.layout,ye.layout,F,ae,null,"setLayoutProperty"),Ge(fe.paint,ye.paint,F,ae,null,"setPaintProperty"),Fe(fe.filter,ye.filter)||tt(F,{command:"setFilter",args:[ae,ye.filter]}),Fe(fe.minzoom,ye.minzoom)&&Fe(fe.maxzoom,ye.maxzoom)||tt(F,{command:"setLayerZoomRange",args:[ae,ye.minzoom,ye.maxzoom]}),fe)Object.prototype.hasOwnProperty.call(fe,Me)&&Me!=="layout"&&Me!=="paint"&&Me!=="filter"&&Me!=="metadata"&&Me!=="minzoom"&&Me!=="maxzoom"&&(Me.indexOf("paint.")===0?Ge(fe[Me],ye[Me],F,ae,Me.slice(6),"setPaintProperty"):Fe(fe[Me],ye[Me])||tt(F,{command:"setLayerProperty",args:[ae,Me,ye[Me]]}));for(Me in ye)Object.prototype.hasOwnProperty.call(ye,Me)&&!Object.prototype.hasOwnProperty.call(fe,Me)&&Me!=="layout"&&Me!=="paint"&&Me!=="filter"&&Me!=="metadata"&&Me!=="minzoom"&&Me!=="maxzoom"&&(Me.indexOf("paint.")===0?Ge(fe[Me],ye[Me],F,ae,Me.slice(6),"setPaintProperty"):Fe(fe[Me],ye[Me])||tt(F,{command:"setLayerProperty",args:[ae,Me,ye[Me]]}))}else tt(F,{command:"removeLayer",args:[ae]}),Le=$[$.lastIndexOf(ae)+1],tt(F,{command:"addLayer",args:[ye,Le]})}(y,a.layers,c)}catch(d){console.warn("Unable to compute style diff:",d),c=[{command:"setStyle",args:[a]}]}return c},u.bD=function(A){const a=[],c=A.id;return c===void 0&&a.push({message:`layers.${c}: missing required property "id"`}),A.render===void 0&&a.push({message:`layers.${c}: missing required method "render"`}),A.renderingMode&&A.renderingMode!=="2d"&&A.renderingMode!=="3d"&&a.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),a},u.bE=function A(a,c){if(Array.isArray(a)){if(!Array.isArray(c)||a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!A(a[d],c[d]))return!1;return!0}if(typeof a=="object"&&a!==null&&c!==null){if(typeof c!="object"||Object.keys(a).length!==Object.keys(c).length)return!1;for(const d in a)if(!A(a[d],c[d]))return!1;return!0}return a===c},u.bF=Zt,u.bG=Rt,u.bH=class extends as{constructor(A,a){super(A,a),this.current=0}set(A){this.current!==A&&(this.current=A,this.gl.uniform1i(this.location,A))}},u.bI=an,u.bJ=class extends as{constructor(A,a){super(A,a),this.current=eo}set(A){if(A[12]!==this.current[12]||A[0]!==this.current[0])return this.current=A,void this.gl.uniformMatrix4fv(this.location,!1,A);for(let a=1;a<16;a++)if(A[a]!==this.current[a]){this.current=A,this.gl.uniformMatrix4fv(this.location,!1,A);break}}},u.bK=Fo,u.bL=class extends as{constructor(A,a){super(A,a),this.current=[0,0,0]}set(A){A[0]===this.current[0]&&A[1]===this.current[1]&&A[2]===this.current[2]||(this.current=A,this.gl.uniform3f(this.location,A[0],A[1],A[2]))}},u.bM=class extends as{constructor(A,a){super(A,a),this.current=[0,0]}set(A){A[0]===this.current[0]&&A[1]===this.current[1]||(this.current=A,this.gl.uniform2f(this.location,A[0],A[1]))}},u.bN=te,u.bO=function(A,a){var c=Math.sin(a),d=Math.cos(a);return A[0]=d,A[1]=c,A[2]=0,A[3]=-c,A[4]=d,A[5]=0,A[6]=0,A[7]=0,A[8]=1,A},u.bP=function(A,a,c){var d=a[0],m=a[1],y=a[2];return A[0]=d*c[0]+m*c[3]+y*c[6],A[1]=d*c[1]+m*c[4]+y*c[7],A[2]=d*c[2]+m*c[5]+y*c[8],A},u.bQ=function(A,a,c,d,m,y,x){var R=1/(a-c),F=1/(d-m),N=1/(y-x);return A[0]=-2*R,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=-2*F,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=2*N,A[11]=0,A[12]=(a+c)*R,A[13]=(m+d)*F,A[14]=(x+y)*N,A[15]=1,A},u.bR=class extends Uo{},u.bS=A7,u.bT=class extends Vc{},u.bU=c2,u.bV=function(A){return A<=1?1:Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))},u.bW=U_,u.bX=function(A,a,c){var d=a[0],m=a[1],y=a[2],x=c[3]*d+c[7]*m+c[11]*y+c[15];return A[0]=(c[0]*d+c[4]*m+c[8]*y+c[12])/(x=x||1),A[1]=(c[1]*d+c[5]*m+c[9]*y+c[13])/x,A[2]=(c[2]*d+c[6]*m+c[10]*y+c[14])/x,A},u.bY=class extends xs{},u.bZ=class extends p{},u.b_=function(A,a){return A[0]===a[0]&&A[1]===a[1]&&A[2]===a[2]&&A[3]===a[3]&&A[4]===a[4]&&A[5]===a[5]&&A[6]===a[6]&&A[7]===a[7]&&A[8]===a[8]&&A[9]===a[9]&&A[10]===a[10]&&A[11]===a[11]&&A[12]===a[12]&&A[13]===a[13]&&A[14]===a[14]&&A[15]===a[15]},u.ba=hd,u.bb=Kc,u.bc=ct,u.bd=mt,u.be=Da,u.bf=function(A,a,c,d,m){return ct(d,m,st((A-a)/(c-a),0,1))},u.bg=Ut,u.bh=function(){return new Float64Array(3)},u.bi=function(A,a,c,d){return A[0]=a[0]+c[0]*d,A[1]=a[1]+c[1]*d,A[2]=a[2]+c[2]*d,A},u.bj=xe,u.bk=function(){return new Float64Array(4)},u.bl=function(A,a,c,d){var m=[],y=[];return m[0]=a[0]-c[0],m[1]=a[1]-c[1],m[2]=a[2]-c[2],y[0]=m[0]*Math.cos(d)-m[1]*Math.sin(d),y[1]=m[0]*Math.sin(d)+m[1]*Math.cos(d),y[2]=m[2],A[0]=y[0]+c[0],A[1]=y[1]+c[1],A[2]=y[2]+c[2],A},u.bm=function(A,a,c,d){var m=[],y=[];return m[0]=a[0]-c[0],m[1]=a[1]-c[1],m[2]=a[2]-c[2],y[0]=m[0],y[1]=m[1]*Math.cos(d)-m[2]*Math.sin(d),y[2]=m[1]*Math.sin(d)+m[2]*Math.cos(d),A[0]=y[0]+c[0],A[1]=y[1]+c[1],A[2]=y[2]+c[2],A},u.bn=function(A,a,c,d){var m=[],y=[];return m[0]=a[0]-c[0],m[1]=a[1]-c[1],m[2]=a[2]-c[2],y[0]=m[2]*Math.sin(d)+m[0]*Math.cos(d),y[1]=m[1],y[2]=m[2]*Math.cos(d)-m[0]*Math.sin(d),A[0]=y[0]+c[0],A[1]=y[1]+c[1],A[2]=y[2]+c[2],A},u.bo=he,u.bp=function(A,a,c){var d=Math.sin(c),m=Math.cos(c),y=a[0],x=a[1],R=a[2],F=a[3],N=a[8],P=a[9],D=a[10],j=a[11];return a!==A&&(A[4]=a[4],A[5]=a[5],A[6]=a[6],A[7]=a[7],A[12]=a[12],A[13]=a[13],A[14]=a[14],A[15]=a[15]),A[0]=y*m-N*d,A[1]=x*m-P*d,A[2]=R*m-D*d,A[3]=F*m-j*d,A[8]=y*d+N*m,A[9]=x*d+P*m,A[10]=R*d+D*m,A[11]=F*d+j*m,A},u.bq=function(A,a){const c=Ut(A,360),d=Ut(a,360),m=d-c,y=d>c?m-360:m+360;return Math.abs(m)<Math.abs(y)?m:y},u.br=function(A){return A[0]=0,A[1]=0,A[2]=0,A},u.bs=function(A,a,c,d){const m=Math.sqrt(A*A+a*a),y=Math.sqrt(c*c+d*d);A/=m,a/=m,c/=y,d/=y;const x=Math.acos(A*c+a*d);return-a*c+A*d>0?x:-x},u.bt=function(A,a){return A[0]*a[0]+A[1]*a[1]+A[2]*a[2]+A[3]},u.bu=N2,u.bv=function(A,a){const c=Ut(A,2*Math.PI),d=Ut(a,2*Math.PI);return Math.min(Math.abs(c-d),Math.abs(c-d+2*Math.PI),Math.abs(c-d-2*Math.PI))},u.bw=function(){const A={},a=ce.$version;for(const c in ce.$root){const d=ce.$root[c];if(d.required){let m=null;m=c==="version"?a:d.type==="array"?[]:{},m!=null&&(A[c]=m)}}return A},u.bx=wA,u.by=Ai,u.bz=function(A){A=A.slice();const a=Object.create(null);for(let c=0;c<A.length;c++)a[A[c].id]=A[c];for(let c=0;c<A.length;c++)"ref"in A[c]&&(A[c]=qe(A[c],a[A[c].ref]));return A},u.c=Nr,u.c0=function(A,a){return A[0]=a[0],A[1]=a[1],A[2]=a[2],A[3]=a[3],A[4]=a[4],A[5]=a[5],A[6]=a[6],A[7]=a[7],A[8]=a[8],A[9]=a[9],A[10]=a[10],A[11]=a[11],A[12]=a[12],A[13]=a[13],A[14]=a[14],A[15]=a[15],A},u.c1=A=>A.type==="symbol",u.c2=A=>A.type==="circle",u.c3=A=>A.type==="heatmap",u.c4=A=>A.type==="line",u.c5=A=>A.type==="fill",u.c6=A=>A.type==="fill-extrusion",u.c7=A=>A.type==="hillshade",u.c8=A=>A.type==="raster",u.c9=A=>A.type==="background",u.cA=fd,u.cB=B2,u.cC=class{constructor(A){this._marks={start:[A.url,"start"].join("#"),end:[A.url,"end"].join("#"),measure:A.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let A=performance.getEntriesByName(this._marks.measure);return A.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),A=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),A}},u.cD=function(A,a,c,d,m){return s(this,void 0,void 0,function*(){if(re())try{return yield Br(A,a,c,d,m)}catch{}return function(y,x,R,F,N){const P=y.width,D=y.height;Hr&&ei||(Hr=new OffscreenCanvas(P,D),ei=Hr.getContext("2d",{willReadFrequently:!0})),Hr.width=P,Hr.height=D,ei.drawImage(y,0,0,P,D);const j=ei.getImageData(x,R,F,N);return ei.clearRect(0,0,P,D),j.data}(A,a,c,d,m)})},u.cE=Ib,u.cF=v,u.cG=M,u.cH=V_,u.cI=ab,u.cJ=_A,u.cK=Ws,u.ca=A=>A.type==="custom",u.cb=De,u.cc=function(A,a,c){const d=ot(a.x-c.x,a.y-c.y),m=ot(A.x-c.x,A.y-c.y);var y,x;return wt(Math.atan2(d[0]*m[1]-d[1]*m[0],(y=d)[0]*(x=m)[0]+y[1]*x[1]))},u.cd=$e,u.ce=function(A,a){return Gr[a]&&(A instanceof MouseEvent||A instanceof WheelEvent)},u.cf=function(A,a){return Ar[a]&&"touches"in A},u.cg=function(A){return Ar[A]||Gr[A]},u.ch=function(A,a,c){var d=a[0],m=a[1];return A[0]=c[0]*d+c[4]*m+c[12],A[1]=c[1]*d+c[5]*m+c[13],A},u.ci=function(A,a){const{x:c,y:d}=yd.fromLngLat(a);return!(A<0||A>25||d<0||d>=1||c<0||c>=1)},u.cj=function(A,a){return A[0]=a[0],A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=a[1],A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=a[2],A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A},u.ck=class extends Oc{},u.cl=O7,u.cn=function(A){return A.message===xr},u.co=Wi,u.cp=function(A,a){Ir.REGISTERED_PROTOCOLS[A]=a},u.cq=function(A){delete Ir.REGISTERED_PROTOCOLS[A]},u.cr=function(A,a){const c={};for(let m=0;m<A.length;m++){const y=a&&a[A[m].id]||Lc(A[m]);a&&(a[A[m].id]=y);let x=c[y];x||(x=c[y]=[]),x.push(A[m])}const d=[];for(const m in c)d.push(c[m]);return d},u.cs=Xt,u.ct=Ub,u.cu=Fb,u.cv=sb,u.cw=function(A){A.bucket.createArrays(),A.bucket.tilePixelRatio=it/(512*A.bucket.overscaling),A.bucket.compareText={},A.bucket.iconsNeedLinear=!1;const a=A.bucket.layers[0],c=a.layout,d=a._unevaluatedLayout._values,m={layoutIconSize:d["icon-size"].possiblyEvaluate(new _i(A.bucket.zoom+1),A.canonical),layoutTextSize:d["text-size"].possiblyEvaluate(new _i(A.bucket.zoom+1),A.canonical),textMaxSize:d["text-size"].possiblyEvaluate(new _i(18))};if(A.bucket.textSizeData.kind==="composite"){const{minZoom:N,maxZoom:P}=A.bucket.textSizeData;m.compositeTextSizes=[d["text-size"].possiblyEvaluate(new _i(N),A.canonical),d["text-size"].possiblyEvaluate(new _i(P),A.canonical)]}if(A.bucket.iconSizeData.kind==="composite"){const{minZoom:N,maxZoom:P}=A.bucket.iconSizeData;m.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new _i(N),A.canonical),d["icon-size"].possiblyEvaluate(new _i(P),A.canonical)]}const y=c.get("text-line-height")*na,x=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",R=c.get("text-keep-upright"),F=c.get("text-size");for(const N of A.bucket.features){const P=c.get("text-font").evaluate(N,{},A.canonical).join(","),D=F.evaluate(N,{},A.canonical),j=m.layoutTextSize.evaluate(N,{},A.canonical),$=m.layoutIconSize.evaluate(N,{},A.canonical),q={horizontal:{},vertical:void 0},ae=N.text;let fe,ye=[0,0];if(ae){const K=ae.toString(),de=c.get("text-letter-spacing").evaluate(N,{},A.canonical)*na,Re=If(K)?de:0,Je=c.get("text-anchor").evaluate(N,{},A.canonical),vt=Ob(a,N,A.canonical);if(!vt){const Bt=c.get("text-radial-offset").evaluate(N,{},A.canonical);ye=Bt?Zb(Je,[Bt*na,L2]):c.get("text-offset").evaluate(N,{},A.canonical).map(Tt=>Tt*na)}let at=x?"center":c.get("text-justify").evaluate(N,{},A.canonical);const At=c.get("symbol-placement")==="point"?c.get("text-max-width").evaluate(N,{},A.canonical)*na:1/0,It=()=>{A.bucket.allowVerticalPlacement&&kc(K)&&(q.vertical=jf(ae,A.glyphMap,A.glyphPositions,A.imagePositions,P,At,y,Je,"left",Re,ye,u.al.vertical,!0,j,D))};if(!x&&vt){const Bt=new Set;if(at==="auto")for(let dt=0;dt<vt.values.length;dt+=2)Bt.add(k2(vt.values[dt]));else Bt.add(at);let Tt=!1;for(const dt of Bt)if(!q.horizontal[dt])if(Tt)q.horizontal[dt]=q.horizontal[0];else{const $t=jf(ae,A.glyphMap,A.glyphPositions,A.imagePositions,P,At,y,"center",dt,Re,ye,u.al.horizontal,!1,j,D);$t&&(q.horizontal[dt]=$t,Tt=$t.positionedLines.length===1)}It()}else{at==="auto"&&(at=k2(Je));const Bt=jf(ae,A.glyphMap,A.glyphPositions,A.imagePositions,P,At,y,Je,at,Re,ye,u.al.horizontal,!1,j,D);Bt&&(q.horizontal[at]=Bt),It(),kc(K)&&x&&R&&(q.vertical=jf(ae,A.glyphMap,A.glyphPositions,A.imagePositions,P,At,y,Je,at,Re,ye,u.al.vertical,!1,j,D))}}let Le=!1;if(N.icon&&N.icon.name){const K=A.imageMap[N.icon.name];K&&(fe=B7(A.imagePositions[N.icon.name],c.get("icon-offset").evaluate(N,{},A.canonical),c.get("icon-anchor").evaluate(N,{},A.canonical)),Le=!!K.sdf,A.bucket.sdfIcons===void 0?A.bucket.sdfIcons=Le:A.bucket.sdfIcons!==Le&&ur("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(K.pixelRatio!==A.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(A.bucket.iconsNeedLinear=!0))}const Me=Xb(q.horizontal)||q.vertical;A.bucket.iconsInText=!!Me&&Me.iconsInText,(Me||fe)&&z7(A.bucket,N,q,fe,A.imageMap,m,j,$,ye,Le,A.canonical,A.subdivisionGranularity)}A.showCollisionBoxes&&A.bucket.generateCollisionDebugBuffers()},u.cx=v2,u.cy=g2,u.cz=y2,u.d=Mi,u.e=Et,u.f=A=>s(void 0,void 0,void 0,function*(){if(A.byteLength===0)return createImageBitmap(new ImageData(1,1));const a=new Blob([new Uint8Array(A)],{type:"image/png"});try{return createImageBitmap(a)}catch(c){throw new Error(`Could not load image because of ${c.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),u.g=Zi,u.h=A=>new Promise((a,c)=>{const d=new Image;d.onload=()=>{a(d),URL.revokeObjectURL(d.src),d.onload=null,window.requestAnimationFrame(()=>{d.src=jt})},d.onerror=()=>c(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(A)],{type:"image/png"});d.src=A.byteLength?URL.createObjectURL(m):jt}),u.i=Ot,u.j=(A,a)=>li(Et(A,{type:"json"}),a),u.k=ge,u.l=oe,u.m=li,u.n=(A,a)=>li(Et(A,{type:"arrayBuffer"}),a),u.o=function(A){return new B2(A).readFields(h7,[])},u.p=nb,u.q=od,u.r=Ka,u.s=Yr,u.t=Cf,u.u=Lr,u.v=ce,u.w=ur,u.x=Mf,u.y=es,u.z=function([A,a,c]){return a+=90,a*=Math.PI/180,c*=Math.PI/180,{x:A*Math.cos(a)*Math.sin(c),y:A*Math.sin(a)*Math.sin(c),z:A*Math.cos(c)}}}),l("worker",["./shared"],function(u){class s{constructor(ne){this.keyCache={},ne&&this.replace(ne)}replace(ne){this._layerConfigs={},this._layers={},this.update(ne,[])}update(ne,oe){for(const we of ne){this._layerConfigs[we.id]=we;const ce=this._layers[we.id]=u.bA(we);ce._featureFilter=u.a7(ce.filter),this.keyCache[we.id]&&delete this.keyCache[we.id]}for(const we of oe)delete this.keyCache[we],delete this._layerConfigs[we],delete this._layers[we];this.familiesBySource={};const ge=u.cr(Object.values(this._layerConfigs),this.keyCache);for(const we of ge){const ce=we.map(le=>this._layers[le.id]),ze=ce[0];if(ze.visibility==="none")continue;const qe=ze.source||"";let Fe=this.familiesBySource[qe];Fe||(Fe=this.familiesBySource[qe]={});const tt=ze.sourceLayer||"_geojsonTileLayer";let Ne=Fe[tt];Ne||(Ne=Fe[tt]=[]),Ne.push(ce)}}}class v{constructor(ne){const oe={},ge=[];for(const qe in ne){const Fe=ne[qe],tt=oe[qe]={};for(const Ne in Fe){const le=Fe[+Ne];if(!le||le.bitmap.width===0||le.bitmap.height===0)continue;const Ye={x:0,y:0,w:le.bitmap.width+2,h:le.bitmap.height+2};ge.push(Ye),tt[Ne]={rect:Ye,metrics:le.metrics}}}const{w:we,h:ce}=u.p(ge),ze=new u.q({width:we||1,height:ce||1});for(const qe in ne){const Fe=ne[qe];for(const tt in Fe){const Ne=Fe[+tt];if(!Ne||Ne.bitmap.width===0||Ne.bitmap.height===0)continue;const le=oe[qe][tt].rect;u.q.copy(Ne.bitmap,ze,{x:0,y:0},{x:le.x+1,y:le.y+1},Ne.bitmap)}}this.image=ze,this.positions=oe}}u.cs("GlyphAtlas",v);class w{constructor(ne){this.tileID=new u.Y(ne.tileID.overscaledZ,ne.tileID.wrap,ne.tileID.canonical.z,ne.tileID.canonical.x,ne.tileID.canonical.y),this.uid=ne.uid,this.zoom=ne.zoom,this.pixelRatio=ne.pixelRatio,this.tileSize=ne.tileSize,this.source=ne.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ne.showCollisionBoxes,this.collectResourceTiming=!!ne.collectResourceTiming,this.returnDependencies=!!ne.returnDependencies,this.promoteId=ne.promoteId,this.inFlightDependencies=[]}parse(ne,oe,ge,we,ce){return u._(this,void 0,void 0,function*(){this.status="parsing",this.data=ne,this.collisionBoxArray=new u.a5;const ze=new u.ct(Object.keys(ne.layers).sort()),qe=new u.cu(this.tileID,this.promoteId);qe.bucketLayerIDs=[];const Fe={},tt={featureIndex:qe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ge,subdivisionGranularity:ce},Ne=oe.familiesBySource[this.source];for(const rt in Ne){const Yt=ne.layers[rt];if(!Yt)continue;Yt.version===1&&u.w(`Vector tile source "${this.source}" layer "${rt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Vt=ze.encode(rt),ii=[];for(let ci=0;ci<Yt.length;ci++){const Cr=Yt.feature(ci),qt=qe.getId(Cr,rt);ii.push({feature:Cr,id:qt,index:ci,sourceLayerIndex:Vt})}for(const ci of Ne[rt]){const Cr=ci[0];Cr.source!==this.source&&u.w(`layer.source = ${Cr.source} does not equal this.source = ${this.source}`),Cr.minzoom&&this.zoom<Math.floor(Cr.minzoom)||Cr.maxzoom&&this.zoom>=Cr.maxzoom||Cr.visibility!=="none"&&(I(ci,this.zoom,ge),(Fe[Cr.id]=Cr.createBucket({index:qe.bucketLayerIDs.length,layers:ci,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Vt,sourceID:this.source})).populate(ii,tt,this.tileID.canonical),qe.bucketLayerIDs.push(ci.map(qt=>qt.id)))}}const le=u.bF(tt.glyphDependencies,rt=>Object.keys(rt).map(Number));this.inFlightDependencies.forEach(rt=>rt==null?void 0:rt.abort()),this.inFlightDependencies=[];let Ye=Promise.resolve({});if(Object.keys(le).length){const rt=new AbortController;this.inFlightDependencies.push(rt),Ye=we.sendAsync({type:"GG",data:{stacks:le,source:this.source,tileID:this.tileID,type:"glyphs"}},rt)}const Te=Object.keys(tt.iconDependencies);let Ge=Promise.resolve({});if(Te.length){const rt=new AbortController;this.inFlightDependencies.push(rt),Ge=we.sendAsync({type:"GI",data:{icons:Te,source:this.source,tileID:this.tileID,type:"icons"}},rt)}const ft=Object.keys(tt.patternDependencies);let Ct=Promise.resolve({});if(ft.length){const rt=new AbortController;this.inFlightDependencies.push(rt),Ct=we.sendAsync({type:"GI",data:{icons:ft,source:this.source,tileID:this.tileID,type:"patterns"}},rt)}const[je,bt,tr]=yield Promise.all([Ye,Ge,Ct]),ir=new v(je),lr=new u.cv(bt,tr);for(const rt in Fe){const Yt=Fe[rt];Yt instanceof u.a6?(I(Yt.layers,this.zoom,ge),u.cw({bucket:Yt,glyphMap:je,glyphPositions:ir.positions,imageMap:bt,imagePositions:lr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:tt.subdivisionGranularity})):Yt.hasPattern&&(Yt instanceof u.cx||Yt instanceof u.cy||Yt instanceof u.cz)&&(I(Yt.layers,this.zoom,ge),Yt.addFeatures(tt,this.tileID.canonical,lr.patternPositions))}return this.status="done",{buckets:Object.values(Fe).filter(rt=>!rt.isEmpty()),featureIndex:qe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ir.image,imageAtlas:lr,glyphMap:this.returnDependencies?je:null,iconMap:this.returnDependencies?bt:null,glyphPositions:this.returnDependencies?ir.positions:null}})}}function I(Oe,ne,oe){const ge=new u.C(ne);for(const we of Oe)we.recalculate(ge,oe)}class M{constructor(ne,oe,ge){this.actor=ne,this.layerIndex=oe,this.availableImages=ge,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(ne,oe){return u._(this,void 0,void 0,function*(){const ge=yield u.n(ne.request,oe);try{return{vectorTile:new u.cA.VectorTile(new u.cB(ge.data)),rawData:ge.data,cacheControl:ge.cacheControl,expires:ge.expires}}catch(we){const ce=new Uint8Array(ge.data);let ze=`Unable to parse the tile at ${ne.request.url}, `;throw ze+=ce[0]===31&&ce[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${we.message}`,new Error(ze)}})}loadTile(ne){return u._(this,void 0,void 0,function*(){const oe=ne.uid,ge=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new u.cC(ne.request),we=new w(ne);this.loading[oe]=we;const ce=new AbortController;we.abort=ce;try{const ze=yield this.loadVectorTile(ne,ce);if(delete this.loading[oe],!ze)return null;const qe=ze.rawData,Fe={};ze.expires&&(Fe.expires=ze.expires),ze.cacheControl&&(Fe.cacheControl=ze.cacheControl);const tt={};if(ge){const le=ge.finish();le&&(tt.resourceTiming=JSON.parse(JSON.stringify(le)))}we.vectorTile=ze.vectorTile;const Ne=we.parse(ze.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity);this.loaded[oe]=we,this.fetching[oe]={rawTileData:qe,cacheControl:Fe,resourceTiming:tt};try{const le=yield Ne;return u.e({rawTileData:qe.slice(0)},le,Fe,tt)}finally{delete this.fetching[oe]}}catch(ze){throw delete this.loading[oe],we.status="done",this.loaded[oe]=we,ze}})}reloadTile(ne){return u._(this,void 0,void 0,function*(){const oe=ne.uid;if(!this.loaded||!this.loaded[oe])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const ge=this.loaded[oe];if(ge.showCollisionBoxes=ne.showCollisionBoxes,ge.status==="parsing"){const we=yield ge.parse(ge.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity);let ce;if(this.fetching[oe]){const{rawTileData:ze,cacheControl:qe,resourceTiming:Fe}=this.fetching[oe];delete this.fetching[oe],ce=u.e({rawTileData:ze.slice(0)},we,qe,Fe)}else ce=we;return ce}if(ge.status==="done"&&ge.vectorTile)return ge.parse(ge.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity)})}abortTile(ne){return u._(this,void 0,void 0,function*(){const oe=this.loading,ge=ne.uid;oe&&oe[ge]&&oe[ge].abort&&(oe[ge].abort.abort(),delete oe[ge])})}removeTile(ne){return u._(this,void 0,void 0,function*(){this.loaded&&this.loaded[ne.uid]&&delete this.loaded[ne.uid]})}}class U{constructor(){this.loaded={}}loadTile(ne){return u._(this,void 0,void 0,function*(){const{uid:oe,encoding:ge,rawImageData:we,redFactor:ce,greenFactor:ze,blueFactor:qe,baseShift:Fe}=ne,tt=we.width+2,Ne=we.height+2,le=u.b(we)?new u.R({width:tt,height:Ne},yield u.cD(we,-1,-1,tt,Ne)):we,Ye=new u.cE(oe,le,ge,ce,ze,qe,Fe);return this.loaded=this.loaded||{},this.loaded[oe]=Ye,Ye})}removeTile(ne){const oe=this.loaded,ge=ne.uid;oe&&oe[ge]&&delete oe[ge]}}var C,S,k=function(){if(S)return C;function Oe(oe,ge){if(oe.length!==0){ne(oe[0],ge);for(var we=1;we<oe.length;we++)ne(oe[we],!ge)}}function ne(oe,ge){for(var we=0,ce=0,ze=0,qe=oe.length,Fe=qe-1;ze<qe;Fe=ze++){var tt=(oe[ze][0]-oe[Fe][0])*(oe[Fe][1]+oe[ze][1]),Ne=we+tt;ce+=Math.abs(we)>=Math.abs(tt)?we-Ne+tt:tt-Ne+we,we=Ne}we+ce>=0!=!!ge&&oe.reverse()}return S=1,C=function oe(ge,we){var ce,ze=ge&&ge.type;if(ze==="FeatureCollection")for(ce=0;ce<ge.features.length;ce++)oe(ge.features[ce],we);else if(ze==="GeometryCollection")for(ce=0;ce<ge.geometries.length;ce++)oe(ge.geometries[ce],we);else if(ze==="Feature")oe(ge.geometry,we);else if(ze==="Polygon")Oe(ge.coordinates,we);else if(ze==="MultiPolygon")for(ce=0;ce<ge.coordinates.length;ce++)Oe(ge.coordinates[ce],we);return ge}}(),z=u.cF(k);const Z=u.cA.VectorTileFeature.prototype.toGeoJSON;class G{constructor(ne){this._feature=ne,this.extent=u.Z,this.type=ne.type,this.properties=ne.tags,"id"in ne&&!isNaN(ne.id)&&(this.id=parseInt(ne.id,10))}loadGeometry(){if(this._feature.type===1){const ne=[];for(const oe of this._feature.geometry)ne.push([new u.P(oe[0],oe[1])]);return ne}{const ne=[];for(const oe of this._feature.geometry){const ge=[];for(const we of oe)ge.push(new u.P(we[0],we[1]));ne.push(ge)}return ne}}toGeoJSON(ne,oe,ge){return Z.call(this,ne,oe,ge)}}class se{constructor(ne){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u.Z,this.length=ne.length,this._features=ne}feature(ne){return new G(this._features[ne])}}var re,Ae,J,te={exports:{}},X=function(){if(J)return te.exports;J=1;var Oe=u.cI(),ne=function(){if(Ae)return re;Ae=1;var Ne=u.cG(),le=u.cH().VectorTileFeature;function Ye(Ge,ft){this.options=ft||{},this.features=Ge,this.length=Ge.length}function Te(Ge,ft){this.id=typeof Ge.id=="number"?Ge.id:void 0,this.type=Ge.type,this.rawGeometry=Ge.type===1?[Ge.geometry]:Ge.geometry,this.properties=Ge.tags,this.extent=ft||4096}return re=Ye,Ye.prototype.feature=function(Ge){return new Te(this.features[Ge],this.options.extent)},Te.prototype.loadGeometry=function(){var Ge=this.rawGeometry;this.geometry=[];for(var ft=0;ft<Ge.length;ft++){for(var Ct=Ge[ft],je=[],bt=0;bt<Ct.length;bt++)je.push(new Ne(Ct[bt][0],Ct[bt][1]));this.geometry.push(je)}return this.geometry},Te.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ge=this.geometry,ft=1/0,Ct=-1/0,je=1/0,bt=-1/0,tr=0;tr<Ge.length;tr++)for(var ir=Ge[tr],lr=0;lr<ir.length;lr++){var rt=ir[lr];ft=Math.min(ft,rt.x),Ct=Math.max(Ct,rt.x),je=Math.min(je,rt.y),bt=Math.max(bt,rt.y)}return[ft,je,Ct,bt]},Te.prototype.toGeoJSON=le.prototype.toGeoJSON,re}();function oe(Ne){var le=new Oe;return function(Ye,Te){for(var Ge in Ye.layers)Te.writeMessage(3,ge,Ye.layers[Ge])}(Ne,le),le.finish()}function ge(Ne,le){var Ye;le.writeVarintField(15,Ne.version||1),le.writeStringField(1,Ne.name||""),le.writeVarintField(5,Ne.extent||4096);var Te={keys:[],values:[],keycache:{},valuecache:{}};for(Ye=0;Ye<Ne.length;Ye++)Te.feature=Ne.feature(Ye),le.writeMessage(2,we,Te);var Ge=Te.keys;for(Ye=0;Ye<Ge.length;Ye++)le.writeStringField(3,Ge[Ye]);var ft=Te.values;for(Ye=0;Ye<ft.length;Ye++)le.writeMessage(4,tt,ft[Ye])}function we(Ne,le){var Ye=Ne.feature;Ye.id!==void 0&&le.writeVarintField(1,Ye.id),le.writeMessage(2,ce,Ne),le.writeVarintField(3,Ye.type),le.writeMessage(4,Fe,Ye)}function ce(Ne,le){var Ye=Ne.feature,Te=Ne.keys,Ge=Ne.values,ft=Ne.keycache,Ct=Ne.valuecache;for(var je in Ye.properties){var bt=Ye.properties[je],tr=ft[je];if(bt!==null){tr===void 0&&(Te.push(je),ft[je]=tr=Te.length-1),le.writeVarint(tr);var ir=typeof bt;ir!=="string"&&ir!=="boolean"&&ir!=="number"&&(bt=JSON.stringify(bt));var lr=ir+":"+bt,rt=Ct[lr];rt===void 0&&(Ge.push(bt),Ct[lr]=rt=Ge.length-1),le.writeVarint(rt)}}}function ze(Ne,le){return(le<<3)+(7&Ne)}function qe(Ne){return Ne<<1^Ne>>31}function Fe(Ne,le){for(var Ye=Ne.loadGeometry(),Te=Ne.type,Ge=0,ft=0,Ct=Ye.length,je=0;je<Ct;je++){var bt=Ye[je],tr=1;Te===1&&(tr=bt.length),le.writeVarint(ze(1,tr));for(var ir=Te===3?bt.length-1:bt.length,lr=0;lr<ir;lr++){lr===1&&Te!==1&&le.writeVarint(ze(2,ir-1));var rt=bt[lr].x-Ge,Yt=bt[lr].y-ft;le.writeVarint(qe(rt)),le.writeVarint(qe(Yt)),Ge+=rt,ft+=Yt}Te===3&&le.writeVarint(ze(7,1))}}function tt(Ne,le){var Ye=typeof Ne;Ye==="string"?le.writeStringField(1,Ne):Ye==="boolean"?le.writeBooleanField(7,Ne):Ye==="number"&&(Ne%1!=0?le.writeDoubleField(3,Ne):Ne<0?le.writeSVarintField(6,Ne):le.writeVarintField(5,Ne))}return te.exports=oe,te.exports.fromVectorTileJs=oe,te.exports.fromGeojsonVt=function(Ne,le){le=le||{};var Ye={};for(var Te in Ne)Ye[Te]=new ne(Ne[Te].features,le),Ye[Te].name=Te,Ye[Te].version=le.version,Ye[Te].extent=le.extent;return oe({layers:Ye})},te.exports.GeoJSONWrapper=ne,te.exports}(),W=u.cF(X);const he={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Oe=>Oe},ue=Math.fround||(_e=new Float32Array(1),Oe=>(_e[0]=+Oe,_e[0]));var _e;const xe=3,He=5,Ve=6;class Ke{constructor(ne){this.options=Object.assign(Object.create(he),ne),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ne){const{log:oe,minZoom:ge,maxZoom:we}=this.options;oe&&console.time("total time");const ce=`prepare ${ne.length} points`;oe&&console.time(ce),this.points=ne;const ze=[];for(let Fe=0;Fe<ne.length;Fe++){const tt=ne[Fe];if(!tt.geometry)continue;const[Ne,le]=tt.geometry.coordinates,Ye=ue(pt(Ne)),Te=ue(Ut(le));ze.push(Ye,Te,1/0,Fe,-1,1),this.options.reduce&&ze.push(0)}let qe=this.trees[we+1]=this._createTree(ze);oe&&console.timeEnd(ce);for(let Fe=we;Fe>=ge;Fe--){const tt=+Date.now();qe=this.trees[Fe]=this._createTree(this._cluster(qe,Fe)),oe&&console.log("z%d: %d clusters in %dms",Fe,qe.numItems,+Date.now()-tt)}return oe&&console.timeEnd("total time"),this}getClusters(ne,oe){let ge=((ne[0]+180)%360+360)%360-180;const we=Math.max(-90,Math.min(90,ne[1]));let ce=ne[2]===180?180:((ne[2]+180)%360+360)%360-180;const ze=Math.max(-90,Math.min(90,ne[3]));if(ne[2]-ne[0]>=360)ge=-180,ce=180;else if(ge>ce){const le=this.getClusters([ge,we,180,ze],oe),Ye=this.getClusters([-180,we,ce,ze],oe);return le.concat(Ye)}const qe=this.trees[this._limitZoom(oe)],Fe=qe.range(pt(ge),Ut(ze),pt(ce),Ut(we)),tt=qe.data,Ne=[];for(const le of Fe){const Ye=this.stride*le;Ne.push(tt[Ye+He]>1?ot(tt,Ye,this.clusterProps):this.points[tt[Ye+xe]])}return Ne}getChildren(ne){const oe=this._getOriginId(ne),ge=this._getOriginZoom(ne),we="No cluster with the specified id.",ce=this.trees[ge];if(!ce)throw new Error(we);const ze=ce.data;if(oe*this.stride>=ze.length)throw new Error(we);const qe=this.options.radius/(this.options.extent*Math.pow(2,ge-1)),Fe=ce.within(ze[oe*this.stride],ze[oe*this.stride+1],qe),tt=[];for(const Ne of Fe){const le=Ne*this.stride;ze[le+4]===ne&&tt.push(ze[le+He]>1?ot(ze,le,this.clusterProps):this.points[ze[le+xe]])}if(tt.length===0)throw new Error(we);return tt}getLeaves(ne,oe,ge){const we=[];return this._appendLeaves(we,ne,oe=oe||10,ge=ge||0,0),we}getTile(ne,oe,ge){const we=this.trees[this._limitZoom(ne)],ce=Math.pow(2,ne),{extent:ze,radius:qe}=this.options,Fe=qe/ze,tt=(ge-Fe)/ce,Ne=(ge+1+Fe)/ce,le={features:[]};return this._addTileFeatures(we.range((oe-Fe)/ce,tt,(oe+1+Fe)/ce,Ne),we.data,oe,ge,ce,le),oe===0&&this._addTileFeatures(we.range(1-Fe/ce,tt,1,Ne),we.data,ce,ge,ce,le),oe===ce-1&&this._addTileFeatures(we.range(0,tt,Fe/ce,Ne),we.data,-1,ge,ce,le),le.features.length?le:null}getClusterExpansionZoom(ne){let oe=this._getOriginZoom(ne)-1;for(;oe<=this.options.maxZoom;){const ge=this.getChildren(ne);if(oe++,ge.length!==1)break;ne=ge[0].properties.cluster_id}return oe}_appendLeaves(ne,oe,ge,we,ce){const ze=this.getChildren(oe);for(const qe of ze){const Fe=qe.properties;if(Fe&&Fe.cluster?ce+Fe.point_count<=we?ce+=Fe.point_count:ce=this._appendLeaves(ne,Fe.cluster_id,ge,we,ce):ce<we?ce++:ne.push(qe),ne.length===ge)break}return ce}_createTree(ne){const oe=new u.aF(ne.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ge=0;ge<ne.length;ge+=this.stride)oe.add(ne[ge],ne[ge+1]);return oe.finish(),oe.data=ne,oe}_addTileFeatures(ne,oe,ge,we,ce,ze){for(const qe of ne){const Fe=qe*this.stride,tt=oe[Fe+He]>1;let Ne,le,Ye;if(tt)Ne=it(oe,Fe,this.clusterProps),le=oe[Fe],Ye=oe[Fe+1];else{const ft=this.points[oe[Fe+xe]];Ne=ft.properties;const[Ct,je]=ft.geometry.coordinates;le=pt(Ct),Ye=Ut(je)}const Te={type:1,geometry:[[Math.round(this.options.extent*(le*ce-ge)),Math.round(this.options.extent*(Ye*ce-we))]],tags:Ne};let Ge;Ge=tt||this.options.generateId?oe[Fe+xe]:this.points[oe[Fe+xe]].id,Ge!==void 0&&(Te.id=Ge),ze.features.push(Te)}}_limitZoom(ne){return Math.max(this.options.minZoom,Math.min(Math.floor(+ne),this.options.maxZoom+1))}_cluster(ne,oe){const{radius:ge,extent:we,reduce:ce,minPoints:ze}=this.options,qe=ge/(we*Math.pow(2,oe)),Fe=ne.data,tt=[],Ne=this.stride;for(let le=0;le<Fe.length;le+=Ne){if(Fe[le+2]<=oe)continue;Fe[le+2]=oe;const Ye=Fe[le],Te=Fe[le+1],Ge=ne.within(Fe[le],Fe[le+1],qe),ft=Fe[le+He];let Ct=ft;for(const je of Ge){const bt=je*Ne;Fe[bt+2]>oe&&(Ct+=Fe[bt+He])}if(Ct>ft&&Ct>=ze){let je,bt=Ye*ft,tr=Te*ft,ir=-1;const lr=((le/Ne|0)<<5)+(oe+1)+this.points.length;for(const rt of Ge){const Yt=rt*Ne;if(Fe[Yt+2]<=oe)continue;Fe[Yt+2]=oe;const Vt=Fe[Yt+He];bt+=Fe[Yt]*Vt,tr+=Fe[Yt+1]*Vt,Fe[Yt+4]=lr,ce&&(je||(je=this._map(Fe,le,!0),ir=this.clusterProps.length,this.clusterProps.push(je)),ce(je,this._map(Fe,Yt)))}Fe[le+4]=lr,tt.push(bt/Ct,tr/Ct,1/0,lr,-1,Ct),ce&&tt.push(ir)}else{for(let je=0;je<Ne;je++)tt.push(Fe[le+je]);if(Ct>1)for(const je of Ge){const bt=je*Ne;if(!(Fe[bt+2]<=oe)){Fe[bt+2]=oe;for(let tr=0;tr<Ne;tr++)tt.push(Fe[bt+tr])}}}}return tt}_getOriginId(ne){return ne-this.points.length>>5}_getOriginZoom(ne){return(ne-this.points.length)%32}_map(ne,oe,ge){if(ne[oe+He]>1){const ze=this.clusterProps[ne[oe+Ve]];return ge?Object.assign({},ze):ze}const we=this.points[ne[oe+xe]].properties,ce=this.options.map(we);return ge&&ce===we?Object.assign({},ce):ce}}function ot(Oe,ne,oe){return{type:"Feature",id:Oe[ne+xe],properties:it(Oe,ne,oe),geometry:{type:"Point",coordinates:[(ge=Oe[ne],360*(ge-.5)),ct(Oe[ne+1])]}};var ge}function it(Oe,ne,oe){const ge=Oe[ne+He],we=ge>=1e4?`${Math.round(ge/1e3)}k`:ge>=1e3?Math.round(ge/100)/10+"k":ge,ce=Oe[ne+Ve],ze=ce===-1?{}:Object.assign({},oe[ce]);return Object.assign(ze,{cluster:!0,cluster_id:Oe[ne+xe],point_count:ge,point_count_abbreviated:we})}function pt(Oe){return Oe/360+.5}function Ut(Oe){const ne=Math.sin(Oe*Math.PI/180),oe=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return oe<0?0:oe>1?1:oe}function ct(Oe){const ne=(180-360*Oe)*Math.PI/180;return 360*Math.atan(Math.exp(ne))/Math.PI-90}function mt(Oe,ne,oe,ge){let we=ge;const ce=ne+(oe-ne>>1);let ze,qe=oe-ne;const Fe=Oe[ne],tt=Oe[ne+1],Ne=Oe[oe],le=Oe[oe+1];for(let Ye=ne+3;Ye<oe;Ye+=3){const Te=De(Oe[Ye],Oe[Ye+1],Fe,tt,Ne,le);if(Te>we)ze=Ye,we=Te;else if(Te===we){const Ge=Math.abs(Ye-ce);Ge<qe&&(ze=Ye,qe=Ge)}}we>ge&&(ze-ne>3&&mt(Oe,ne,ze,ge),Oe[ze+2]=we,oe-ze>3&&mt(Oe,ze,oe,ge))}function De(Oe,ne,oe,ge,we,ce){let ze=we-oe,qe=ce-ge;if(ze!==0||qe!==0){const Fe=((Oe-oe)*ze+(ne-ge)*qe)/(ze*ze+qe*qe);Fe>1?(oe=we,ge=ce):Fe>0&&(oe+=ze*Fe,ge+=qe*Fe)}return ze=Oe-oe,qe=ne-ge,ze*ze+qe*qe}function $e(Oe,ne,oe,ge){const we={id:Oe??null,type:ne,geometry:oe,tags:ge,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(ne==="Point"||ne==="MultiPoint"||ne==="LineString")st(we,oe);else if(ne==="Polygon")st(we,oe[0]);else if(ne==="MultiLineString")for(const ce of oe)st(we,ce);else if(ne==="MultiPolygon")for(const ce of oe)st(we,ce[0]);return we}function st(Oe,ne){for(let oe=0;oe<ne.length;oe+=3)Oe.minX=Math.min(Oe.minX,ne[oe]),Oe.minY=Math.min(Oe.minY,ne[oe+1]),Oe.maxX=Math.max(Oe.maxX,ne[oe]),Oe.maxY=Math.max(Oe.maxY,ne[oe+1])}function xt(Oe,ne,oe,ge){if(!ne.geometry)return;const we=ne.geometry.coordinates;if(we&&we.length===0)return;const ce=ne.geometry.type,ze=Math.pow(oe.tolerance/((1<<oe.maxZoom)*oe.extent),2);let qe=[],Fe=ne.id;if(oe.promoteId?Fe=ne.properties[oe.promoteId]:oe.generateId&&(Fe=ge||0),ce==="Point")Et(we,qe);else if(ce==="MultiPoint")for(const tt of we)Et(tt,qe);else if(ce==="LineString")lt(we,qe,ze,!1);else if(ce==="MultiLineString"){if(oe.lineMetrics){for(const tt of we)qe=[],lt(tt,qe,ze,!1),Oe.push($e(Fe,"LineString",qe,ne.properties));return}Zt(we,qe,ze,!1)}else if(ce==="Polygon")Zt(we,qe,ze,!0);else{if(ce!=="MultiPolygon"){if(ce==="GeometryCollection"){for(const tt of ne.geometry.geometries)xt(Oe,{id:Fe,geometry:tt,properties:ne.properties},oe,ge);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const tt of we){const Ne=[];Zt(tt,Ne,ze,!0),qe.push(Ne)}}Oe.push($e(Fe,ce,qe,ne.properties))}function Et(Oe,ne){ne.push(Rt(Oe[0]),Mt(Oe[1]),0)}function lt(Oe,ne,oe,ge){let we,ce,ze=0;for(let Fe=0;Fe<Oe.length;Fe++){const tt=Rt(Oe[Fe][0]),Ne=Mt(Oe[Fe][1]);ne.push(tt,Ne,0),Fe>0&&(ze+=ge?(we*Ne-tt*ce)/2:Math.sqrt(Math.pow(tt-we,2)+Math.pow(Ne-ce,2))),we=tt,ce=Ne}const qe=ne.length-3;ne[2]=1,mt(ne,0,qe,oe),ne[qe+2]=1,ne.size=Math.abs(ze),ne.start=0,ne.end=ne.size}function Zt(Oe,ne,oe,ge){for(let we=0;we<Oe.length;we++){const ce=[];lt(Oe[we],ce,oe,ge),ne.push(ce)}}function Rt(Oe){return Oe/360+.5}function Mt(Oe){const ne=Math.sin(Oe*Math.PI/180),oe=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return oe<0?0:oe>1?1:oe}function Ht(Oe,ne,oe,ge,we,ce,ze,qe){if(ge/=ne,ce>=(oe/=ne)&&ze<ge)return Oe;if(ze<oe||ce>=ge)return null;const Fe=[];for(const tt of Oe){const Ne=tt.geometry;let le=tt.type;const Ye=we===0?tt.minX:tt.minY,Te=we===0?tt.maxX:tt.maxY;if(Ye>=oe&&Te<ge){Fe.push(tt);continue}if(Te<oe||Ye>=ge)continue;let Ge=[];if(le==="Point"||le==="MultiPoint")ur(Ne,Ge,oe,ge,we);else if(le==="LineString")St(Ne,Ge,oe,ge,we,!1,qe.lineMetrics);else if(le==="MultiLineString")Jt(Ne,Ge,oe,ge,we,!1);else if(le==="Polygon")Jt(Ne,Ge,oe,ge,we,!0);else if(le==="MultiPolygon")for(const ft of Ne){const Ct=[];Jt(ft,Ct,oe,ge,we,!0),Ct.length&&Ge.push(Ct)}if(Ge.length){if(qe.lineMetrics&&le==="LineString"){for(const ft of Ge)Fe.push($e(tt.id,le,ft,tt.tags));continue}le!=="LineString"&&le!=="MultiLineString"||(Ge.length===1?(le="LineString",Ge=Ge[0]):le="MultiLineString"),le!=="Point"&&le!=="MultiPoint"||(le=Ge.length===3?"Point":"MultiPoint"),Fe.push($e(tt.id,le,Ge,tt.tags))}}return Fe.length?Fe:null}function ur(Oe,ne,oe,ge,we){for(let ce=0;ce<Oe.length;ce+=3){const ze=Oe[ce+we];ze>=oe&&ze<=ge&&fr(ne,Oe[ce],Oe[ce+1],Oe[ce+2])}}function St(Oe,ne,oe,ge,we,ce,ze){let qe=Ot(Oe);const Fe=we===0?jt:Br;let tt,Ne,le=Oe.start;for(let Ct=0;Ct<Oe.length-3;Ct+=3){const je=Oe[Ct],bt=Oe[Ct+1],tr=Oe[Ct+2],ir=Oe[Ct+3],lr=Oe[Ct+4],rt=we===0?je:bt,Yt=we===0?ir:lr;let Vt=!1;ze&&(tt=Math.sqrt(Math.pow(je-ir,2)+Math.pow(bt-lr,2))),rt<oe?Yt>oe&&(Ne=Fe(qe,je,bt,ir,lr,oe),ze&&(qe.start=le+tt*Ne)):rt>ge?Yt<ge&&(Ne=Fe(qe,je,bt,ir,lr,ge),ze&&(qe.start=le+tt*Ne)):fr(qe,je,bt,tr),Yt<oe&&rt>=oe&&(Ne=Fe(qe,je,bt,ir,lr,oe),Vt=!0),Yt>ge&&rt<=ge&&(Ne=Fe(qe,je,bt,ir,lr,ge),Vt=!0),!ce&&Vt&&(ze&&(qe.end=le+tt*Ne),ne.push(qe),qe=Ot(Oe)),ze&&(le+=tt)}let Ye=Oe.length-3;const Te=Oe[Ye],Ge=Oe[Ye+1],ft=we===0?Te:Ge;ft>=oe&&ft<=ge&&fr(qe,Te,Ge,Oe[Ye+2]),Ye=qe.length-3,ce&&Ye>=3&&(qe[Ye]!==qe[0]||qe[Ye+1]!==qe[1])&&fr(qe,qe[0],qe[1],qe[2]),qe.length&&ne.push(qe)}function Ot(Oe){const ne=[];return ne.size=Oe.size,ne.start=Oe.start,ne.end=Oe.end,ne}function Jt(Oe,ne,oe,ge,we,ce){for(const ze of Oe)St(ze,ne,oe,ge,we,ce,!1)}function fr(Oe,ne,oe,ge){Oe.push(ne,oe,ge)}function jt(Oe,ne,oe,ge,we,ce){const ze=(ce-ne)/(ge-ne);return fr(Oe,ce,oe+(we-oe)*ze,1),ze}function Br(Oe,ne,oe,ge,we,ce){const ze=(ce-oe)/(we-oe);return fr(Oe,ne+(ge-ne)*ze,ce,1),ze}function Hr(Oe,ne){const oe=[];for(let ge=0;ge<Oe.length;ge++){const we=Oe[ge],ce=we.type;let ze;if(ce==="Point"||ce==="MultiPoint"||ce==="LineString")ze=ei(we.geometry,ne);else if(ce==="MultiLineString"||ce==="Polygon"){ze=[];for(const qe of we.geometry)ze.push(ei(qe,ne))}else if(ce==="MultiPolygon"){ze=[];for(const qe of we.geometry){const Fe=[];for(const tt of qe)Fe.push(ei(tt,ne));ze.push(Fe)}}oe.push($e(we.id,ce,ze,we.tags))}return oe}function ei(Oe,ne){const oe=[];oe.size=Oe.size,Oe.start!==void 0&&(oe.start=Oe.start,oe.end=Oe.end);for(let ge=0;ge<Oe.length;ge+=3)oe.push(Oe[ge]+ne,Oe[ge+1],Oe[ge+2]);return oe}function Yr(Oe,ne){if(Oe.transformed)return Oe;const oe=1<<Oe.z,ge=Oe.x,we=Oe.y;for(const ce of Oe.features){const ze=ce.geometry,qe=ce.type;if(ce.geometry=[],qe===1)for(let Fe=0;Fe<ze.length;Fe+=2)ce.geometry.push(wt(ze[Fe],ze[Fe+1],ne,oe,ge,we));else for(let Fe=0;Fe<ze.length;Fe++){const tt=[];for(let Ne=0;Ne<ze[Fe].length;Ne+=2)tt.push(wt(ze[Fe][Ne],ze[Fe][Ne+1],ne,oe,ge,we));ce.geometry.push(tt)}}return Oe.transformed=!0,Oe}function wt(Oe,ne,oe,ge,we,ce){return[Math.round(oe*(Oe*ge-we)),Math.round(oe*(ne*ge-ce))]}function Ar(Oe,ne,oe,ge,we){const ce=ne===we.maxZoom?0:we.tolerance/((1<<ne)*we.extent),ze={features:[],numPoints:0,numSimplified:0,numFeatures:Oe.length,source:null,x:oe,y:ge,z:ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const qe of Oe)Gr(ze,qe,ce,we);return ze}function Gr(Oe,ne,oe,ge){const we=ne.geometry,ce=ne.type,ze=[];if(Oe.minX=Math.min(Oe.minX,ne.minX),Oe.minY=Math.min(Oe.minY,ne.minY),Oe.maxX=Math.max(Oe.maxX,ne.maxX),Oe.maxY=Math.max(Oe.maxY,ne.maxY),ce==="Point"||ce==="MultiPoint")for(let qe=0;qe<we.length;qe+=3)ze.push(we[qe],we[qe+1]),Oe.numPoints++,Oe.numSimplified++;else if(ce==="LineString")xr(ze,we,Oe,oe,!1,!1);else if(ce==="MultiLineString"||ce==="Polygon")for(let qe=0;qe<we.length;qe++)xr(ze,we[qe],Oe,oe,ce==="Polygon",qe===0);else if(ce==="MultiPolygon")for(let qe=0;qe<we.length;qe++){const Fe=we[qe];for(let tt=0;tt<Fe.length;tt++)xr(ze,Fe[tt],Oe,oe,!0,tt===0)}if(ze.length){let qe=ne.tags||null;if(ce==="LineString"&&ge.lineMetrics){qe={};for(const tt in ne.tags)qe[tt]=ne.tags[tt];qe.mapbox_clip_start=we.start/we.size,qe.mapbox_clip_end=we.end/we.size}const Fe={geometry:ze,type:ce==="Polygon"||ce==="MultiPolygon"?3:ce==="LineString"||ce==="MultiLineString"?2:1,tags:qe};ne.id!==null&&(Fe.id=ne.id),Oe.features.push(Fe)}}function xr(Oe,ne,oe,ge,we,ce){const ze=ge*ge;if(ge>0&&ne.size<(we?ze:ge))return void(oe.numPoints+=ne.length/3);const qe=[];for(let Fe=0;Fe<ne.length;Fe+=3)(ge===0||ne[Fe+2]>ze)&&(oe.numSimplified++,qe.push(ne[Fe],ne[Fe+1])),oe.numPoints++;we&&function(Fe,tt){let Ne=0;for(let le=0,Ye=Fe.length,Te=Ye-2;le<Ye;Te=le,le+=2)Ne+=(Fe[le]-Fe[Te])*(Fe[le+1]+Fe[Te+1]);if(Ne>0===tt)for(let le=0,Ye=Fe.length;le<Ye/2;le+=2){const Te=Fe[le],Ge=Fe[le+1];Fe[le]=Fe[Ye-2-le],Fe[le+1]=Fe[Ye-1-le],Fe[Ye-2-le]=Te,Fe[Ye-1-le]=Ge}}(qe,ce),Oe.push(qe)}const Nr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Ir{constructor(ne,oe){const ge=(oe=this.options=function(ce,ze){for(const qe in ze)ce[qe]=ze[qe];return ce}(Object.create(Nr),oe)).debug;if(ge&&console.time("preprocess data"),oe.maxZoom<0||oe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(oe.promoteId&&oe.generateId)throw new Error("promoteId and generateId cannot be used together.");let we=function(ce,ze){const qe=[];if(ce.type==="FeatureCollection")for(let Fe=0;Fe<ce.features.length;Fe++)xt(qe,ce.features[Fe],ze,Fe);else xt(qe,ce.type==="Feature"?ce:{geometry:ce},ze);return qe}(ne,oe);this.tiles={},this.tileCoords=[],ge&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",oe.indexMaxZoom,oe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),we=function(ce,ze){const qe=ze.buffer/ze.extent;let Fe=ce;const tt=Ht(ce,1,-1-qe,qe,0,-1,2,ze),Ne=Ht(ce,1,1-qe,2+qe,0,-1,2,ze);return(tt||Ne)&&(Fe=Ht(ce,1,-qe,1+qe,0,-1,2,ze)||[],tt&&(Fe=Hr(tt,1).concat(Fe)),Ne&&(Fe=Fe.concat(Hr(Ne,-1)))),Fe}(we,oe),we.length&&this.splitTile(we,0,0,0),ge&&(we.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(ne,oe,ge,we,ce,ze,qe){const Fe=[ne,oe,ge,we],tt=this.options,Ne=tt.debug;for(;Fe.length;){we=Fe.pop(),ge=Fe.pop(),oe=Fe.pop(),ne=Fe.pop();const le=1<<oe,Ye=Zi(oe,ge,we);let Te=this.tiles[Ye];if(!Te&&(Ne>1&&console.time("creation"),Te=this.tiles[Ye]=Ar(ne,oe,ge,we,tt),this.tileCoords.push({z:oe,x:ge,y:we}),Ne)){Ne>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",oe,ge,we,Te.numFeatures,Te.numPoints,Te.numSimplified),console.timeEnd("creation"));const Vt=`z${oe}`;this.stats[Vt]=(this.stats[Vt]||0)+1,this.total++}if(Te.source=ne,ce==null){if(oe===tt.indexMaxZoom||Te.numPoints<=tt.indexMaxPoints)continue}else{if(oe===tt.maxZoom||oe===ce)continue;if(ce!=null){const Vt=ce-oe;if(ge!==ze>>Vt||we!==qe>>Vt)continue}}if(Te.source=null,ne.length===0)continue;Ne>1&&console.time("clipping");const Ge=.5*tt.buffer/tt.extent,ft=.5-Ge,Ct=.5+Ge,je=1+Ge;let bt=null,tr=null,ir=null,lr=null,rt=Ht(ne,le,ge-Ge,ge+Ct,0,Te.minX,Te.maxX,tt),Yt=Ht(ne,le,ge+ft,ge+je,0,Te.minX,Te.maxX,tt);ne=null,rt&&(bt=Ht(rt,le,we-Ge,we+Ct,1,Te.minY,Te.maxY,tt),tr=Ht(rt,le,we+ft,we+je,1,Te.minY,Te.maxY,tt),rt=null),Yt&&(ir=Ht(Yt,le,we-Ge,we+Ct,1,Te.minY,Te.maxY,tt),lr=Ht(Yt,le,we+ft,we+je,1,Te.minY,Te.maxY,tt),Yt=null),Ne>1&&console.timeEnd("clipping"),Fe.push(bt||[],oe+1,2*ge,2*we),Fe.push(tr||[],oe+1,2*ge,2*we+1),Fe.push(ir||[],oe+1,2*ge+1,2*we),Fe.push(lr||[],oe+1,2*ge+1,2*we+1)}}getTile(ne,oe,ge){ne=+ne,oe=+oe,ge=+ge;const we=this.options,{extent:ce,debug:ze}=we;if(ne<0||ne>24)return null;const qe=1<<ne,Fe=Zi(ne,oe=oe+qe&qe-1,ge);if(this.tiles[Fe])return Yr(this.tiles[Fe],ce);ze>1&&console.log("drilling down to z%d-%d-%d",ne,oe,ge);let tt,Ne=ne,le=oe,Ye=ge;for(;!tt&&Ne>0;)Ne--,le>>=1,Ye>>=1,tt=this.tiles[Zi(Ne,le,Ye)];return tt&&tt.source?(ze>1&&(console.log("found parent tile z%d-%d-%d",Ne,le,Ye),console.time("drilling down")),this.splitTile(tt.source,Ne,le,Ye,ne,oe,ge),ze>1&&console.timeEnd("drilling down"),this.tiles[Fe]?Yr(this.tiles[Fe],ce):null):null}}function Zi(Oe,ne,oe){return 32*((1<<Oe)*oe+ne)+Oe}function Yi(Oe,ne){return ne?Oe.properties[ne]:Oe.id}function Wi(Oe,ne){if(Oe==null)return!0;if(Oe.type==="Feature")return Yi(Oe,ne)!=null;if(Oe.type==="FeatureCollection"){const oe=new Set;for(const ge of Oe.features){const we=Yi(ge,ne);if(we==null||oe.has(we))return!1;oe.add(we)}return!0}return!1}function Ai(Oe,ne){const oe=new Map;if(Oe!=null)if(Oe.type==="Feature")oe.set(Yi(Oe,ne),Oe);else for(const ge of Oe.features)oe.set(Yi(ge,ne),ge);return oe}class li extends M{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(ne,oe){return u._(this,void 0,void 0,function*(){const ge=ne.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const we=this._geoJSONIndex.getTile(ge.z,ge.x,ge.y);if(!we)return null;const ce=new se(we.features);let ze=W(ce);return ze.byteOffset===0&&ze.byteLength===ze.buffer.byteLength||(ze=new Uint8Array(ze)),{vectorTile:ce,rawData:ze.buffer}})}loadData(ne){return u._(this,void 0,void 0,function*(){var oe;(oe=this._pendingRequest)===null||oe===void 0||oe.abort();const ge=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new u.cC(ne.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(ne,this._pendingRequest),this._geoJSONIndex=ne.cluster?new Ke(function({superclusterOptions:ze,clusterProperties:qe}){if(!qe||!ze)return ze;const Fe={},tt={},Ne={accumulated:null,zoom:0},le={properties:null},Ye=Object.keys(qe);for(const Te of Ye){const[Ge,ft]=qe[Te],Ct=u.cJ(ft),je=u.cJ(typeof Ge=="string"?[Ge,["accumulated"],["get",Te]]:Ge);Fe[Te]=Ct.value,tt[Te]=je.value}return ze.map=Te=>{le.properties=Te;const Ge={};for(const ft of Ye)Ge[ft]=Fe[ft].evaluate(Ne,le);return Ge},ze.reduce=(Te,Ge)=>{le.properties=Ge;for(const ft of Ye)Ne.accumulated=Te[ft],Te[ft]=tt[ft].evaluate(Ne,le)},ze}(ne)).load((yield this._pendingData).features):(we=yield this._pendingData,new Ir(we,ne.geojsonVtOptions)),this.loaded={};const ce={};if(ge){const ze=ge.finish();ze&&(ce.resourceTiming={},ce.resourceTiming[ne.source]=JSON.parse(JSON.stringify(ze)))}return ce}catch(ce){if(delete this._pendingRequest,u.cn(ce))return{abandoned:!0};throw ce}var we})}getData(){return u._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(ne){const oe=this.loaded;return oe&&oe[ne.uid]?super.reloadTile(ne):this.loadTile(ne)}loadAndProcessGeoJSON(ne,oe){return u._(this,void 0,void 0,function*(){let ge=yield this.loadGeoJSON(ne,oe);if(delete this._pendingRequest,typeof ge!="object")throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`);if(z(ge,!0),ne.filter){const we=u.cJ(ne.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(we.result==="error")throw new Error(we.value.map(ze=>`${ze.key}: ${ze.message}`).join(", "));ge={type:"FeatureCollection",features:ge.features.filter(ze=>we.value.evaluate({zoom:0},ze))}}return ge})}loadGeoJSON(ne,oe){return u._(this,void 0,void 0,function*(){const{promoteId:ge}=ne;if(ne.request){const we=yield u.j(ne.request,oe);return this._dataUpdateable=Wi(we.data,ge)?Ai(we.data,ge):void 0,we.data}if(typeof ne.data=="string")try{const we=JSON.parse(ne.data);return this._dataUpdateable=Wi(we,ge)?Ai(we,ge):void 0,we}catch{throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`)}if(!ne.dataDiff)throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ne.source}`);return function(we,ce,ze){var qe,Fe,tt,Ne;if(ce.removeAll&&we.clear(),ce.remove)for(const le of ce.remove)we.delete(le);if(ce.add)for(const le of ce.add){const Ye=Yi(le,ze);Ye!=null&&we.set(Ye,le)}if(ce.update)for(const le of ce.update){let Ye=we.get(le.id);if(Ye==null)continue;const Te=!le.removeAllProperties&&(((qe=le.removeProperties)===null||qe===void 0?void 0:qe.length)>0||((Fe=le.addOrUpdateProperties)===null||Fe===void 0?void 0:Fe.length)>0);if((le.newGeometry||le.removeAllProperties||Te)&&(Ye=Object.assign({},Ye),we.set(le.id,Ye),Te&&(Ye.properties=Object.assign({},Ye.properties))),le.newGeometry&&(Ye.geometry=le.newGeometry),le.removeAllProperties)Ye.properties={};else if(((tt=le.removeProperties)===null||tt===void 0?void 0:tt.length)>0)for(const Ge of le.removeProperties)Object.prototype.hasOwnProperty.call(Ye.properties,Ge)&&delete Ye.properties[Ge];if(((Ne=le.addOrUpdateProperties)===null||Ne===void 0?void 0:Ne.length)>0)for(const{key:Ge,value:ft}of le.addOrUpdateProperties)Ye.properties[Ge]=ft}}(this._dataUpdateable,ne.dataDiff,ge),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(ne){return u._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(ne){return this._geoJSONIndex.getClusterExpansionZoom(ne.clusterId)}getClusterChildren(ne){return this._geoJSONIndex.getChildren(ne.clusterId)}getClusterLeaves(ne){return this._geoJSONIndex.getLeaves(ne.clusterId,ne.limit,ne.offset)}}class Mi{constructor(ne){this.self=ne,this.actor=new u.H(ne),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(oe,ge)=>{if(this.externalWorkerSourceTypes[oe])throw new Error(`Worker source with name "${oe}" already registered.`);this.externalWorkerSourceTypes[oe]=ge},this.self.addProtocol=u.cp,this.self.removeProtocol=u.cq,this.self.registerRTLTextPlugin=oe=>{u.cK.setMethods(oe)},this.actor.registerMessageHandler("LDT",(oe,ge)=>this._getDEMWorkerSource(oe,ge.source).loadTile(ge)),this.actor.registerMessageHandler("RDT",(oe,ge)=>u._(this,void 0,void 0,function*(){this._getDEMWorkerSource(oe,ge.source).removeTile(ge)})),this.actor.registerMessageHandler("GCEZ",(oe,ge)=>u._(this,void 0,void 0,function*(){return this._getWorkerSource(oe,ge.type,ge.source).getClusterExpansionZoom(ge)})),this.actor.registerMessageHandler("GCC",(oe,ge)=>u._(this,void 0,void 0,function*(){return this._getWorkerSource(oe,ge.type,ge.source).getClusterChildren(ge)})),this.actor.registerMessageHandler("GCL",(oe,ge)=>u._(this,void 0,void 0,function*(){return this._getWorkerSource(oe,ge.type,ge.source).getClusterLeaves(ge)})),this.actor.registerMessageHandler("LD",(oe,ge)=>this._getWorkerSource(oe,ge.type,ge.source).loadData(ge)),this.actor.registerMessageHandler("GD",(oe,ge)=>this._getWorkerSource(oe,ge.type,ge.source).getData()),this.actor.registerMessageHandler("LT",(oe,ge)=>this._getWorkerSource(oe,ge.type,ge.source).loadTile(ge)),this.actor.registerMessageHandler("RT",(oe,ge)=>this._getWorkerSource(oe,ge.type,ge.source).reloadTile(ge)),this.actor.registerMessageHandler("AT",(oe,ge)=>this._getWorkerSource(oe,ge.type,ge.source).abortTile(ge)),this.actor.registerMessageHandler("RMT",(oe,ge)=>this._getWorkerSource(oe,ge.type,ge.source).removeTile(ge)),this.actor.registerMessageHandler("RS",(oe,ge)=>u._(this,void 0,void 0,function*(){if(!this.workerSources[oe]||!this.workerSources[oe][ge.type]||!this.workerSources[oe][ge.type][ge.source])return;const we=this.workerSources[oe][ge.type][ge.source];delete this.workerSources[oe][ge.type][ge.source],we.removeSource!==void 0&&we.removeSource(ge)})),this.actor.registerMessageHandler("RM",oe=>u._(this,void 0,void 0,function*(){delete this.layerIndexes[oe],delete this.availableImages[oe],delete this.workerSources[oe],delete this.demWorkerSources[oe]})),this.actor.registerMessageHandler("SR",(oe,ge)=>u._(this,void 0,void 0,function*(){this.referrer=ge})),this.actor.registerMessageHandler("SRPS",(oe,ge)=>this._syncRTLPluginState(oe,ge)),this.actor.registerMessageHandler("IS",(oe,ge)=>u._(this,void 0,void 0,function*(){this.self.importScripts(ge)})),this.actor.registerMessageHandler("SI",(oe,ge)=>this._setImages(oe,ge)),this.actor.registerMessageHandler("UL",(oe,ge)=>u._(this,void 0,void 0,function*(){this._getLayerIndex(oe).update(ge.layers,ge.removedIds)})),this.actor.registerMessageHandler("SL",(oe,ge)=>u._(this,void 0,void 0,function*(){this._getLayerIndex(oe).replace(ge)}))}_setImages(ne,oe){return u._(this,void 0,void 0,function*(){this.availableImages[ne]=oe;for(const ge in this.workerSources[ne]){const we=this.workerSources[ne][ge];for(const ce in we)we[ce].availableImages=oe}})}_syncRTLPluginState(ne,oe){return u._(this,void 0,void 0,function*(){return yield u.cK.syncState(oe,this.self.importScripts)})}_getAvailableImages(ne){let oe=this.availableImages[ne];return oe||(oe=[]),oe}_getLayerIndex(ne){let oe=this.layerIndexes[ne];return oe||(oe=this.layerIndexes[ne]=new s),oe}_getWorkerSource(ne,oe,ge){if(this.workerSources[ne]||(this.workerSources[ne]={}),this.workerSources[ne][oe]||(this.workerSources[ne][oe]={}),!this.workerSources[ne][oe][ge]){const we={sendAsync:(ce,ze)=>(ce.targetMapId=ne,this.actor.sendAsync(ce,ze))};switch(oe){case"vector":this.workerSources[ne][oe][ge]=new M(we,this._getLayerIndex(ne),this._getAvailableImages(ne));break;case"geojson":this.workerSources[ne][oe][ge]=new li(we,this._getLayerIndex(ne),this._getAvailableImages(ne));break;default:this.workerSources[ne][oe][ge]=new this.externalWorkerSourceTypes[oe](we,this._getLayerIndex(ne),this._getAvailableImages(ne))}}return this.workerSources[ne][oe][ge]}_getDEMWorkerSource(ne,oe){return this.demWorkerSources[ne]||(this.demWorkerSources[ne]={}),this.demWorkerSources[ne][oe]||(this.demWorkerSources[ne][oe]=new U),this.demWorkerSources[ne][oe]}}return u.i(self)&&(self.worker=new Mi(self)),Mi}),l("index",["exports","./shared"],function(u,s){var v="5.4.0";function w(){var _=new s.A(4);return s.A!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_}let I,M;const U={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(_,i,o){const f=requestAnimationFrame(b=>{p(),i(b)}),{unsubscribe:p}=s.s(_.signal,"abort",()=>{p(),cancelAnimationFrame(f),o(s.c())},!1)},frameAsync(_){return new Promise((i,o)=>{this.frame(_,i,o)})},getImageData(_,i=0){return this.getImageCanvasContext(_).getImageData(-i,-i,_.width+2*i,_.height+2*i)},getImageCanvasContext(_){const i=window.document.createElement("canvas"),o=i.getContext("2d",{willReadFrequently:!0});if(!o)throw new Error("failed to create canvas 2d context");return i.width=_.width,i.height=_.height,o.drawImage(_,0,0,_.width,_.height),o},resolveURL:_=>(I||(I=document.createElement("a")),I.href=_,I.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(M==null&&(M=matchMedia("(prefers-reduced-motion: reduce)")),M.matches)}};class C{static testProp(i){if(!C.docStyle)return i[0];for(let o=0;o<i.length;o++)if(i[o]in C.docStyle)return i[o];return i[0]}static create(i,o,f){const p=window.document.createElement(i);return o!==void 0&&(p.className=o),f&&f.appendChild(p),p}static createNS(i,o){return window.document.createElementNS(i,o)}static disableDrag(){C.docStyle&&C.selectProp&&(C.userSelect=C.docStyle[C.selectProp],C.docStyle[C.selectProp]="none")}static enableDrag(){C.docStyle&&C.selectProp&&(C.docStyle[C.selectProp]=C.userSelect)}static setTransform(i,o){i.style[C.transformProp]=o}static addEventListener(i,o,f,p={}){i.addEventListener(o,f,"passive"in p?p:p.capture)}static removeEventListener(i,o,f,p={}){i.removeEventListener(o,f,"passive"in p?p:p.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",C.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",C.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",C.suppressClickInternal,!0)},0)}static getScale(i){const o=i.getBoundingClientRect();return{x:o.width/i.offsetWidth||1,y:o.height/i.offsetHeight||1,boundingClientRect:o}}static getPoint(i,o,f){const p=o.boundingClientRect;return new s.P((f.clientX-p.left)/o.x-i.clientLeft,(f.clientY-p.top)/o.y-i.clientTop)}static mousePos(i,o){const f=C.getScale(i);return C.getPoint(i,f,o)}static touchPos(i,o){const f=[],p=C.getScale(i);for(let b=0;b<o.length;b++)f.push(C.getPoint(i,p,o[b]));return f}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}static sanitize(i){const o=new DOMParser().parseFromString(i,"text/html").body||document.createElement("body"),f=o.querySelectorAll("script");for(const p of f)p.remove();return C.clean(o),o.innerHTML}static isPossiblyDangerous(i,o){const f=o.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(i)||!f.includes("javascript:")&&!f.includes("data:"))||!!i.startsWith("on")||void 0}static clean(i){const o=i.children;for(const f of o)C.removeAttributes(f),C.clean(f)}static removeAttributes(i){for(const{name:o,value:f}of i.attributes)C.isPossiblyDangerous(o,f)&&i.removeAttribute(o)}}C.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,C.selectProp=C.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),C.transformProp=C.testProp(["transform","WebkitTransform"]);const S={supported:!1,testSupport:function(_){!Z&&z&&(G?se(_):k=_)}};let k,z,Z=!1,G=!1;function se(_){const i=_.createTexture();_.bindTexture(_.TEXTURE_2D,i);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,z),_.isContextLost())return;S.supported=!0}catch{}_.deleteTexture(i),Z=!0}var re;typeof document<"u"&&(z=document.createElement("img"),z.onload=()=>{k&&se(k),k=null,G=!0},z.onerror=()=>{Z=!0,k=null},z.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(_){let i,o,f,p;_.resetRequestQueue=()=>{i=[],o=0,f=0,p={}},_.addThrottleControl=T=>{const Y=f++;return p[Y]=T,Y},_.removeThrottleControl=T=>{delete p[T],B()},_.getImage=(T,Y,Q=!0)=>new Promise((O,H)=>{S.supported&&(T.headers||(T.headers={}),T.headers.accept="image/webp,*/*"),s.e(T,{type:"image"}),i.push({abortController:Y,requestParameters:T,supportImageRefresh:Q,state:"queued",onError:ee=>{H(ee)},onSuccess:ee=>{O(ee)}}),B()});const b=T=>s._(this,void 0,void 0,function*(){T.state="running";const{requestParameters:Y,supportImageRefresh:Q,onError:O,onSuccess:H,abortController:ee}=T,ie=Q===!1&&!s.i(self)&&!s.g(Y.url)&&(!Y.headers||Object.keys(Y.headers).reduce((be,Be)=>be&&Be==="accept",!0));o++;const me=ie?E(Y,ee):s.m(Y,ee);try{const be=yield me;delete T.abortController,T.state="completed",be.data instanceof HTMLImageElement||s.b(be.data)?H(be):be.data&&H({data:yield(pe=be.data,typeof createImageBitmap=="function"?s.f(pe):s.h(pe)),cacheControl:be.cacheControl,expires:be.expires})}catch(be){delete T.abortController,O(be)}finally{o--,B()}var pe}),B=()=>{const T=(()=>{for(const Y of Object.keys(p))if(p[Y]())return!0;return!1})()?s.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:s.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let Y=o;Y<T&&i.length>0;Y++){const Q=i.shift();Q.abortController.signal.aborted?Y--:b(Q)}},E=(T,Y)=>new Promise((Q,O)=>{const H=new Image,ee=T.url,ie=T.credentials;ie&&ie==="include"?H.crossOrigin="use-credentials":(ie&&ie==="same-origin"||!s.d(ee))&&(H.crossOrigin="anonymous"),Y.signal.addEventListener("abort",()=>{H.src="",O(s.c())}),H.fetchPriority="high",H.onload=()=>{H.onerror=H.onload=null,Q({data:H})},H.onerror=()=>{H.onerror=H.onload=null,Y.signal.aborted||O(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},H.src=ee})}(re||(re={})),re.resetRequestQueue();class Ae{constructor(i){this._transformRequestFn=i}transformRequest(i,o){return this._transformRequestFn&&this._transformRequestFn(i,o)||{url:i}}setTransformRequest(i){this._transformRequestFn=i}}function J(_){const i=[];if(typeof _=="string")i.push({id:"default",url:_});else if(_&&_.length>0){const o=[];for(const{id:f,url:p}of _){const b=`${f}${p}`;o.indexOf(b)===-1&&(o.push(b),i.push({id:f,url:p}))}}return i}function te(_,i,o){try{const f=new URL(_);return f.pathname+=`${i}${o}`,f.toString()}catch{throw new Error(`Invalid sprite URL "${_}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}class X{constructor(i,o,f,p){this.context=i,this.format=f,this.texture=i.gl.createTexture(),this.update(o,p)}update(i,o,f){const{width:p,height:b}=i,B=!(this.size&&this.size[0]===p&&this.size[1]===b||f),{context:E}=this,{gl:T}=E;if(this.useMipmap=!!(o&&o.useMipmap),T.bindTexture(T.TEXTURE_2D,this.texture),E.pixelStoreUnpackFlipY.set(!1),E.pixelStoreUnpack.set(1),E.pixelStoreUnpackPremultiplyAlpha.set(this.format===T.RGBA&&(!o||o.premultiply!==!1)),B)this.size=[p,b],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||s.b(i)?T.texImage2D(T.TEXTURE_2D,0,this.format,this.format,T.UNSIGNED_BYTE,i):T.texImage2D(T.TEXTURE_2D,0,this.format,p,b,0,this.format,T.UNSIGNED_BYTE,i.data);else{const{x:Y,y:Q}=f||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||s.b(i)?T.texSubImage2D(T.TEXTURE_2D,0,Y,Q,T.RGBA,T.UNSIGNED_BYTE,i):T.texSubImage2D(T.TEXTURE_2D,0,Y,Q,p,b,T.RGBA,T.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&T.generateMipmap(T.TEXTURE_2D),E.pixelStoreUnpackFlipY.setDefault(),E.pixelStoreUnpack.setDefault(),E.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(i,o,f){const{context:p}=this,{gl:b}=p;b.bindTexture(b.TEXTURE_2D,this.texture),f!==b.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(f=b.LINEAR),i!==this.filter&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,i),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,f||i),this.filter=i),o!==this.wrap&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,o),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,o),this.wrap=o)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function W(_){const{userImage:i}=_;return!!(i&&i.render&&i.render())&&(_.data.replace(new Uint8Array(i.data.buffer)),!0)}class he extends s.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:o,promiseResolve:f}of this.requestors)f(this._getImagesForIds(o));this.requestors=[]}}getImage(i){const o=this.images[i];if(o&&!o.data&&o.spriteData){const f=o.spriteData;o.data=new s.R({width:f.width,height:f.height},f.context.getImageData(f.x,f.y,f.width,f.height).data),o.spriteData=null}return o}addImage(i,o){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,o)&&(this.images[i]=o)}_validate(i,o){let f=!0;const p=o.data||o.spriteData;return this._validateStretch(o.stretchX,p&&p.width)||(this.fire(new s.k(new Error(`Image "${i}" has invalid "stretchX" value`))),f=!1),this._validateStretch(o.stretchY,p&&p.height)||(this.fire(new s.k(new Error(`Image "${i}" has invalid "stretchY" value`))),f=!1),this._validateContent(o.content,o)||(this.fire(new s.k(new Error(`Image "${i}" has invalid "content" value`))),f=!1),f}_validateStretch(i,o){if(!i)return!0;let f=0;for(const p of i){if(p[0]<f||p[1]<p[0]||o<p[1])return!1;f=p[1]}return!0}_validateContent(i,o){if(!i)return!0;if(i.length!==4)return!1;const f=o.spriteData,p=f&&f.width||o.data.width,b=f&&f.height||o.data.height;return!(i[0]<0||p<i[0]||i[1]<0||b<i[1]||i[2]<0||p<i[2]||i[3]<0||b<i[3]||i[2]<i[0]||i[3]<i[1])}updateImage(i,o,f=!0){const p=this.getImage(i);if(f&&(p.data.width!==o.data.width||p.data.height!==o.data.height))throw new Error(`size mismatch between old image (${p.data.width}x${p.data.height}) and new image (${o.data.width}x${o.data.height}).`);o.version=p.version+1,this.images[i]=o,this.updatedImages[i]=!0}removeImage(i){const o=this.images[i];delete this.images[i],delete this.patterns[i],o.userImage&&o.userImage.onRemove&&o.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i){return new Promise((o,f)=>{let p=!0;if(!this.isLoaded())for(const b of i)this.images[b]||(p=!1);this.isLoaded()||p?o(this._getImagesForIds(i)):this.requestors.push({ids:i,promiseResolve:o})})}_getImagesForIds(i){const o={};for(const f of i){let p=this.getImage(f);p||(this.fire(new s.l("styleimagemissing",{id:f})),p=this.getImage(f)),p?o[f]={data:p.data.clone(),pixelRatio:p.pixelRatio,sdf:p.sdf,version:p.version,stretchX:p.stretchX,stretchY:p.stretchY,content:p.content,textFitWidth:p.textFitWidth,textFitHeight:p.textFitHeight,hasRenderCallback:!!(p.userImage&&p.userImage.render)}:s.w(`Image "${f}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return o}getPixelSize(){const{width:i,height:o}=this.atlasImage;return{width:i,height:o}}getPattern(i){const o=this.patterns[i],f=this.getImage(i);if(!f)return null;if(o&&o.position.version===f.version)return o.position;if(o)o.position.version=f.version;else{const p={w:f.data.width+2,h:f.data.height+2,x:0,y:0},b=new s.I(p,f);this.patterns[i]={bin:p,position:b}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const o=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new X(i,this.atlasImage,o.RGBA),this.atlasTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const b in this.patterns)i.push(this.patterns[b].bin);const{w:o,h:f}=s.p(i),p=this.atlasImage;p.resize({width:o||1,height:f||1});for(const b in this.patterns){const{bin:B}=this.patterns[b],E=B.x+1,T=B.y+1,Y=this.getImage(b).data,Q=Y.width,O=Y.height;s.R.copy(Y,p,{x:0,y:0},{x:E,y:T},{width:Q,height:O}),s.R.copy(Y,p,{x:0,y:O-1},{x:E,y:T-1},{width:Q,height:1}),s.R.copy(Y,p,{x:0,y:0},{x:E,y:T+O},{width:Q,height:1}),s.R.copy(Y,p,{x:Q-1,y:0},{x:E-1,y:T},{width:1,height:O}),s.R.copy(Y,p,{x:0,y:0},{x:E+Q,y:T},{width:1,height:O})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const o of i){if(this.callbackDispatchedThisFrame[o])continue;this.callbackDispatchedThisFrame[o]=!0;const f=this.getImage(o);f||s.w(`Image with ID: "${o}" was not found`),W(f)&&this.updateImage(o,f)}}}const ue=1e20;function _e(_,i,o,f,p,b,B,E,T){for(let Y=i;Y<i+f;Y++)xe(_,o*b+Y,b,p,B,E,T);for(let Y=o;Y<o+p;Y++)xe(_,Y*b+i,1,f,B,E,T)}function xe(_,i,o,f,p,b,B){b[0]=0,B[0]=-1e20,B[1]=ue,p[0]=_[i];for(let E=1,T=0,Y=0;E<f;E++){p[E]=_[i+E*o];const Q=E*E;do{const O=b[T];Y=(p[E]-p[O]+Q-O*O)/(E-O)/2}while(Y<=B[T]&&--T>-1);T++,b[T]=E,B[T]=Y,B[T+1]=ue}for(let E=0,T=0;E<f;E++){for(;B[T+1]<E;)T++;const Y=b[T],Q=E-Y;_[i+E*o]=p[Y]+Q*Q}}class He{constructor(i,o){this.requestManager=i,this.localIdeographFontFamily=o,this.entries={}}setURL(i){this.url=i}getGlyphs(i){return s._(this,void 0,void 0,function*(){const o=[];for(const b in i)for(const B of i[b])o.push(this._getAndCacheGlyphsPromise(b,B));const f=yield Promise.all(o),p={};for(const{stack:b,id:B,glyph:E}of f)p[b]||(p[b]={}),p[b][B]=E&&{id:E.id,bitmap:E.bitmap.clone(),metrics:E.metrics};return p})}_getAndCacheGlyphsPromise(i,o){return s._(this,void 0,void 0,function*(){let f=this.entries[i];f||(f=this.entries[i]={glyphs:{},requests:{},ranges:{}});let p=f.glyphs[o];if(p!==void 0)return{stack:i,id:o,glyph:p};if(p=this._tinySDF(f,i,o),p)return f.glyphs[o]=p,{stack:i,id:o,glyph:p};const b=Math.floor(o/256);if(256*b>65535)throw new Error("glyphs > 65535 not supported");if(f.ranges[b])return{stack:i,id:o,glyph:p};if(!this.url)throw new Error("glyphsUrl is not set");if(!f.requests[b]){const E=He.loadGlyphRange(i,b,this.url,this.requestManager);f.requests[b]=E}const B=yield f.requests[b];for(const E in B)this._doesCharSupportLocalGlyph(+E)||(f.glyphs[+E]=B[+E]);return f.ranges[b]=!0,{stack:i,id:o,glyph:B[o]||null}})}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(i))||s.u["CJK Unified Ideographs"](i)||s.u["Hangul Syllables"](i)||s.u.Hiragana(i)||s.u.Katakana(i)||s.u["CJK Symbols and Punctuation"](i)||s.u["Halfwidth and Fullwidth Forms"](i))}_tinySDF(i,o,f){const p=this.localIdeographFontFamily;if(!p||!this._doesCharSupportLocalGlyph(f))return;let b=i.tinySDF;if(!b){let E="400";/bold/i.test(o)?E="900":/medium/i.test(o)?E="500":/light/i.test(o)&&(E="200"),b=i.tinySDF=new He.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:p,fontWeight:E})}const B=b.draw(String.fromCharCode(f));return{id:f,bitmap:new s.q({width:B.width||60,height:B.height||60},B.data),metrics:{width:B.glyphWidth/2||24,height:B.glyphHeight/2||24,left:B.glyphLeft/2+.5||0,top:B.glyphTop/2-27.5||-8,advance:B.glyphAdvance/2||24,isDoubleResolution:!0}}}}He.loadGlyphRange=function(_,i,o,f){return s._(this,void 0,void 0,function*(){const p=256*i,b=p+255,B=f.transformRequest(o.replace("{fontstack}",_).replace("{range}",`${p}-${b}`),"Glyphs"),E=yield s.n(B,new AbortController);if(!E||!E.data)throw new Error(`Could not load glyph range. range: ${i}, ${p}-${b}`);const T={};for(const Y of s.o(E.data))T[Y.id]=Y;return T})},He.TinySDF=class{constructor({fontSize:_=24,buffer:i=3,radius:o=8,cutoff:f=.25,fontFamily:p="sans-serif",fontWeight:b="normal",fontStyle:B="normal"}={}){this.buffer=i,this.cutoff=f,this.radius=o;const E=this.size=_+4*i,T=this._createCanvas(E),Y=this.ctx=T.getContext("2d",{willReadFrequently:!0});Y.font=`${B} ${b} ${_}px ${p}`,Y.textBaseline="alphabetic",Y.textAlign="left",Y.fillStyle="black",this.gridOuter=new Float64Array(E*E),this.gridInner=new Float64Array(E*E),this.f=new Float64Array(E),this.z=new Float64Array(E+1),this.v=new Uint16Array(E)}_createCanvas(_){const i=document.createElement("canvas");return i.width=i.height=_,i}draw(_){const{width:i,actualBoundingBoxAscent:o,actualBoundingBoxDescent:f,actualBoundingBoxLeft:p,actualBoundingBoxRight:b}=this.ctx.measureText(_),B=Math.ceil(o),E=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-p))),T=Math.min(this.size-this.buffer,B+Math.ceil(f)),Y=E+2*this.buffer,Q=T+2*this.buffer,O=Math.max(Y*Q,0),H=new Uint8ClampedArray(O),ee={data:H,width:Y,height:Q,glyphWidth:E,glyphHeight:T,glyphTop:B,glyphLeft:0,glyphAdvance:i};if(E===0||T===0)return ee;const{ctx:ie,buffer:me,gridInner:pe,gridOuter:be}=this;ie.clearRect(me,me,E,T),ie.fillText(_,me,me+B);const Be=ie.getImageData(me,me,E,T);be.fill(ue,0,O),pe.fill(0,0,O);for(let Ie=0;Ie<T;Ie++)for(let Ee=0;Ee<E;Ee++){const Se=Be.data[4*(Ie*E+Ee)+3]/255;if(Se===0)continue;const ke=(Ie+me)*Y+Ee+me;if(Se===1)be[ke]=0,pe[ke]=ue;else{const Pe=.5-Se;be[ke]=Pe>0?Pe*Pe:0,pe[ke]=Pe<0?Pe*Pe:0}}_e(be,0,0,Y,Q,Y,this.f,this.v,this.z),_e(pe,me,me,E,T,Y,this.f,this.v,this.z);for(let Ie=0;Ie<O;Ie++){const Ee=Math.sqrt(be[Ie])-Math.sqrt(pe[Ie]);H[Ie]=Math.round(255-255*(Ee/this.radius+this.cutoff))}return ee}};class Ve{constructor(){this.specification=s.v.light.position}possiblyEvaluate(i,o){return s.z(i.expression.evaluate(o))}interpolate(i,o,f){return{x:s.B.number(i.x,o.x,f),y:s.B.number(i.y,o.y,f),z:s.B.number(i.z,o.z,f)}}}let Ke;class ot extends s.E{constructor(i){super(),Ke=Ke||new s.r({anchor:new s.D(s.v.light.anchor),position:new Ve,color:new s.D(s.v.light.color),intensity:new s.D(s.v.light.intensity)}),this._transitionable=new s.T(Ke),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,o={}){if(!this._validate(s.t,i,o))for(const f in i){const p=i[f];f.endsWith("-transition")?this._transitionable.setTransition(f.slice(0,-11),p):this._transitionable.setValue(f,p)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,o,f){return(!f||f.validate!==!1)&&s.x(this,i.call(s.y,{value:o,style:{glyphs:!0,sprite:!0},styleSpec:s.v}))}}const it=new s.r({"sky-color":new s.D(s.v.sky["sky-color"]),"horizon-color":new s.D(s.v.sky["horizon-color"]),"fog-color":new s.D(s.v.sky["fog-color"]),"fog-ground-blend":new s.D(s.v.sky["fog-ground-blend"]),"horizon-fog-blend":new s.D(s.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new s.D(s.v.sky["sky-horizon-blend"]),"atmosphere-blend":new s.D(s.v.sky["atmosphere-blend"])});class pt extends s.E{constructor(i){super(),this._transitionable=new s.T(it),this.setSky(i),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new s.C(0))}setSky(i,o={}){if(!this._validate(s.F,i,o)){i||(i={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const f in i){const p=i[f];f.endsWith("-transition")?this._transitionable.setTransition(f.slice(0,-11),p):this._transitionable.setValue(f,p)}}}getSky(){return this._transitionable.serialize()}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,o,f={}){return(f==null?void 0:f.validate)!==!1&&s.x(this,i.call(s.y,s.e({value:o,style:{glyphs:!0,sprite:!0},styleSpec:s.v})))}calculateFogBlendOpacity(i){return i<60?0:i<70?(i-60)/10:1}}class Ut{constructor(i,o){this.width=i,this.height=o,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,o){const f=i.join(",")+String(o);return this.dashEntry[f]||(this.dashEntry[f]=this.addDash(i,o)),this.dashEntry[f]}getDashRanges(i,o,f){const p=[];let b=i.length%2==1?-i[i.length-1]*f:0,B=i[0]*f,E=!0;p.push({left:b,right:B,isDash:E,zeroLength:i[0]===0});let T=i[0];for(let Y=1;Y<i.length;Y++){E=!E;const Q=i[Y];b=T*f,T+=Q,B=T*f,p.push({left:b,right:B,isDash:E,zeroLength:Q===0})}return p}addRoundDash(i,o,f){const p=o/2;for(let b=-f;b<=f;b++){const B=this.width*(this.nextRow+f+b);let E=0,T=i[E];for(let Y=0;Y<this.width;Y++){Y/T.right>1&&(T=i[++E]);const Q=Math.abs(Y-T.left),O=Math.abs(Y-T.right),H=Math.min(Q,O);let ee;const ie=b/f*(p+1);if(T.isDash){const me=p-Math.abs(ie);ee=Math.sqrt(H*H+me*me)}else ee=p-Math.sqrt(H*H+ie*ie);this.data[B+Y]=Math.max(0,Math.min(255,ee+128))}}}addRegularDash(i){for(let E=i.length-1;E>=0;--E){const T=i[E],Y=i[E+1];T.zeroLength?i.splice(E,1):Y&&Y.isDash===T.isDash&&(Y.left=T.left,i.splice(E,1))}const o=i[0],f=i[i.length-1];o.isDash===f.isDash&&(o.left=f.left-this.width,f.right=o.right+this.width);const p=this.width*this.nextRow;let b=0,B=i[b];for(let E=0;E<this.width;E++){E/B.right>1&&(B=i[++b]);const T=Math.abs(E-B.left),Y=Math.abs(E-B.right),Q=Math.min(T,Y);this.data[p+E]=Math.max(0,Math.min(255,(B.isDash?Q:-Q)+128))}}addDash(i,o){const f=o?7:0,p=2*f+1;if(this.nextRow+p>this.height)return s.w("LineAtlas out of space"),null;let b=0;for(let E=0;E<i.length;E++)b+=i[E];if(b!==0){const E=this.width/b,T=this.getDashRanges(i,this.width,E);o?this.addRoundDash(T,E,f):this.addRegularDash(T)}const B={y:(this.nextRow+f+.5)/this.height,height:2*f/this.height,width:b};return this.nextRow+=p,this.dirty=!0,B}bind(i){const o=i.gl;this.texture?(o.bindTexture(o.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,o.texSubImage2D(o.TEXTURE_2D,0,0,0,this.width,this.height,o.ALPHA,o.UNSIGNED_BYTE,this.data))):(this.texture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,this.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.REPEAT),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.REPEAT),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texImage2D(o.TEXTURE_2D,0,o.ALPHA,this.width,this.height,0,o.ALPHA,o.UNSIGNED_BYTE,this.data))}}const ct="maplibre_preloaded_worker_pool";class mt{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<mt.workerCount;)this.workers.push(new Worker(s.a.WORKER_URL));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],this.numActive()===0&&(this.workers.forEach(o=>{o.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ct]}numActive(){return Object.keys(this.active).length}}const De=Math.floor(U.hardwareConcurrency/2);let $e,st;function xt(){return $e||($e=new mt),$e}mt.workerCount=s.G(globalThis)?Math.max(Math.min(De,3),1):1;class Et{constructor(i,o){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=o;const f=this.workerPool.acquire(o);for(let p=0;p<f.length;p++){const b=new s.H(f[p],o);b.name=`Worker ${p}`,this.actors.push(b)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,o){const f=[];for(const p of this.actors)f.push(p.sendAsync({type:i,data:o}));return Promise.all(f)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(i=!0){this.actors.forEach(o=>{o.remove()}),this.actors=[],i&&this.workerPool.release(this.id)}registerMessageHandler(i,o){for(const f of this.actors)f.registerMessageHandler(i,o)}}function lt(){return st||(st=new Et(xt(),s.J),st.registerMessageHandler("GR",(_,i,o)=>s.m(i,o))),st}function Zt(_,i){const o=s.K();return s.L(o,o,[1,1,0]),s.M(o,o,[.5*_.width,.5*_.height,1]),_.calculatePosMatrix?s.N(o,o,_.calculatePosMatrix(i.toUnwrapped())):o}function Rt(_,i,o,f,p,b,B){var E;const T=function(H,ee,ie){if(H)for(const me of H){const pe=ee[me];if(pe&&pe.source===ie&&pe.type==="fill-extrusion")return!0}else for(const me in ee){const pe=ee[me];if(pe.source===ie&&pe.type==="fill-extrusion")return!0}return!1}((E=p==null?void 0:p.layers)!==null&&E!==void 0?E:null,i,_.id),Y=b.maxPitchScaleFactor(),Q=_.tilesIn(f,Y,T);Q.sort(Mt);const O=[];for(const H of Q)O.push({wrappedTileID:H.tileID.wrapped().key,queryResults:H.tile.queryRenderedFeatures(i,o,_._state,H.queryGeometry,H.cameraQueryGeometry,H.scale,p,b,Y,Zt(_.transform,H.tileID),B?(ee,ie)=>B(H.tileID,ee,ie):void 0)});return function(H,ee){for(const ie in H)for(const me of H[ie])Ht(me,ee);return H}(function(H){const ee={},ie={};for(const me of H){const pe=me.queryResults,be=me.wrappedTileID,Be=ie[be]=ie[be]||{};for(const Ie in pe){const Ee=pe[Ie],Se=Be[Ie]=Be[Ie]||{},ke=ee[Ie]=ee[Ie]||[];for(const Pe of Ee)Se[Pe.featureIndex]||(Se[Pe.featureIndex]=!0,ke.push(Pe))}}return ee}(O),_)}function Mt(_,i){const o=_.tileID,f=i.tileID;return o.overscaledZ-f.overscaledZ||o.canonical.y-f.canonical.y||o.wrap-f.wrap||o.canonical.x-f.canonical.x}function Ht(_,i){const o=_.feature,f=i.getFeatureState(o.layer["source-layer"],o.id);o.source=o.layer.source,o.layer["source-layer"]&&(o.sourceLayer=o.layer["source-layer"]),o.state=f}function ur(_,i,o){return s._(this,void 0,void 0,function*(){let f=_;if(_.url?f=(yield s.j(i.transformRequest(_.url,"Source"),o)).data:yield U.frameAsync(o),!f)return null;const p=s.O(s.e(f,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in f&&f.vector_layers&&(p.vectorLayerIds=f.vector_layers.map(b=>b.id)),p})}class St{constructor(i,o){i&&(o?this.setSouthWest(i).setNorthEast(o):Array.isArray(i)&&(i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1])))}setNorthEast(i){return this._ne=i instanceof s.Q?new s.Q(i.lng,i.lat):s.Q.convert(i),this}setSouthWest(i){return this._sw=i instanceof s.Q?new s.Q(i.lng,i.lat):s.Q.convert(i),this}extend(i){const o=this._sw,f=this._ne;let p,b;if(i instanceof s.Q)p=i,b=i;else{if(!(i instanceof St))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(St.convert(i)):this.extend(s.Q.convert(i)):i&&("lng"in i||"lon"in i)&&"lat"in i?this.extend(s.Q.convert(i)):this;if(p=i._sw,b=i._ne,!p||!b)return this}return o||f?(o.lng=Math.min(p.lng,o.lng),o.lat=Math.min(p.lat,o.lat),f.lng=Math.max(b.lng,f.lng),f.lat=Math.max(b.lat,f.lat)):(this._sw=new s.Q(p.lng,p.lat),this._ne=new s.Q(b.lng,b.lat)),this}getCenter(){return new s.Q((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new s.Q(this.getWest(),this.getNorth())}getSouthEast(){return new s.Q(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:o,lat:f}=s.Q.convert(i);let p=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=f&&f<=this._ne.lat&&p}static convert(i){return i instanceof St?i:i&&new St(i)}static fromLngLat(i,o=0){const f=360*o/40075017,p=f/Math.cos(Math.PI/180*i.lat);return new St(new s.Q(i.lng-p,i.lat-f),new s.Q(i.lng+p,i.lat+f))}adjustAntiMeridian(){const i=new s.Q(this._sw.lng,this._sw.lat),o=new s.Q(this._ne.lng,this._ne.lat);return new St(i,i.lng>o.lng?new s.Q(o.lng+360,o.lat):o)}}class Ot{constructor(i,o,f){this.bounds=St.convert(this.validateBounds(i)),this.minzoom=o||0,this.maxzoom=f||24}validateBounds(i){return Array.isArray(i)&&i.length===4?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const o=Math.pow(2,i.z),f=Math.floor(s.U(this.bounds.getWest())*o),p=Math.floor(s.S(this.bounds.getNorth())*o),b=Math.ceil(s.U(this.bounds.getEast())*o),B=Math.ceil(s.S(this.bounds.getSouth())*o);return i.x>=f&&i.x<b&&i.y>=p&&i.y<B}}class Jt extends s.E{constructor(i,o,f,p){if(super(),this.id=i,this.dispatcher=f,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.e(this,s.O(o,["url","scheme","tileSize","promoteId"])),this._options=s.e({type:"vector"},o),this._collectResourceTiming=o.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(p)}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield ur(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),i&&(s.e(this,i),i.bounds&&(this.tileBounds=new Ot(i.bounds,this.minzoom,this.maxzoom)),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.l("data",{dataType:"source",sourceDataType:"content"})))}catch(i){this._tileJSONRequest=null,this.fire(new s.k(i))}})}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.abort(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return s.e({},this._options)}loadTile(i){return s._(this,void 0,void 0,function*(){const o=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),f={request:this.map._requestManager.transformRequest(o,"Tile"),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};f.request.collectResourceTiming=this._collectResourceTiming;let p="RT";if(i.actor&&i.state!=="expired"){if(i.state==="loading")return new Promise((b,B)=>{i.reloadPromise={resolve:b,reject:B}})}else i.actor=this.dispatcher.getActor(),p="LT";i.abortController=new AbortController;try{const b=yield i.actor.sendAsync({type:p,data:f},i.abortController);if(delete i.abortController,i.aborted)return;this._afterTileLoadWorkerResponse(i,b)}catch(b){if(delete i.abortController,i.aborted)return;if(b&&b.status!==404)throw b;this._afterTileLoadWorkerResponse(i,null)}})}_afterTileLoadWorkerResponse(i,o){if(o&&o.resourceTiming&&(i.resourceTiming=o.resourceTiming),o&&this.map._refreshExpiredTiles&&i.setExpiryData(o),i.loadVectorData(o,this.map.painter),i.reloadPromise){const f=i.reloadPromise;i.reloadPromise=null,this.loadTile(i).then(f.resolve).catch(f.reject)}}abortTile(i){return s._(this,void 0,void 0,function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.actor&&(yield i.actor.sendAsync({type:"AT",data:{uid:i.uid,type:this.type,source:this.id}}))})}unloadTile(i){return s._(this,void 0,void 0,function*(){i.unloadVectorData(),i.actor&&(yield i.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class fr extends s.E{constructor(i,o,f,p){super(),this.id=i,this.dispatcher=f,this.setEventedParent(p),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.e({type:"raster"},o),s.e(this,s.O(o,["url","scheme","tileSize"]))}load(){return s._(this,arguments,void 0,function*(i=!1){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const o=yield ur(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,o&&(s.e(this,o),o.bounds&&(this.tileBounds=new Ot(o.bounds,this.minzoom,this.maxzoom)),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:i})))}catch(o){this._tileJSONRequest=null,this.fire(new s.k(o))}})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(i){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),i(),this.load(!0)}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}serialize(){return s.e({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i){return s._(this,void 0,void 0,function*(){const o=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.abortController=new AbortController;try{const f=yield re.getImage(this.map._requestManager.transformRequest(o,"Tile"),i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(f&&f.data){this.map._refreshExpiredTiles&&f.cacheControl&&f.expires&&i.setExpiryData({cacheControl:f.cacheControl,expires:f.expires});const p=this.map.painter.context,b=p.gl,B=f.data;i.texture=this.map.painter.getTileTexture(B.width),i.texture?i.texture.update(B,{useMipmap:!0}):(i.texture=new X(p,B,b.RGBA,{useMipmap:!0}),i.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE,b.LINEAR_MIPMAP_NEAREST)),i.state="loaded"}}catch(f){if(delete i.abortController,i.aborted)i.state="unloaded";else if(f)throw i.state="errored",f}})}abortTile(i){return s._(this,void 0,void 0,function*(){i.abortController&&(i.abortController.abort(),delete i.abortController)})}unloadTile(i){return s._(this,void 0,void 0,function*(){i.texture&&this.map.painter.saveTileTexture(i.texture)})}hasTransition(){return!1}}class jt extends fr{constructor(i,o,f,p){super(i,o,f,p),this.type="raster-dem",this.maxzoom=22,this._options=s.e({type:"raster-dem"},o),this.encoding=o.encoding||"mapbox",this.redFactor=o.redFactor,this.greenFactor=o.greenFactor,this.blueFactor=o.blueFactor,this.baseShift=o.baseShift}loadTile(i){return s._(this,void 0,void 0,function*(){const o=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),f=this.map._requestManager.transformRequest(o,"Tile");i.neighboringTiles=this._getNeighboringTiles(i.tileID),i.abortController=new AbortController;try{const p=yield re.getImage(f,i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(p&&p.data){const b=p.data;this.map._refreshExpiredTiles&&p.cacheControl&&p.expires&&i.setExpiryData({cacheControl:p.cacheControl,expires:p.expires});const B=s.b(b)&&s.V()?b:yield this.readImageNow(b),E={type:this.type,uid:i.uid,source:this.id,rawImageData:B,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!i.actor||i.state==="expired"){i.actor=this.dispatcher.getActor();const T=yield i.actor.sendAsync({type:"LDT",data:E});i.dem=T,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded"}}}catch(p){if(delete i.abortController,i.aborted)i.state="unloaded";else if(p)throw i.state="errored",p}})}readImageNow(i){return s._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&s.W()){const o=i.width+2,f=i.height+2;try{return new s.R({width:o,height:f},yield s.X(i,-1,-1,o,f))}catch{}}return U.getImageData(i,1)})}_getNeighboringTiles(i){const o=i.canonical,f=Math.pow(2,o.z),p=(o.x-1+f)%f,b=o.x===0?i.wrap-1:i.wrap,B=(o.x+1+f)%f,E=o.x+1===f?i.wrap+1:i.wrap,T={};return T[new s.Y(i.overscaledZ,b,o.z,p,o.y).key]={backfilled:!1},T[new s.Y(i.overscaledZ,E,o.z,B,o.y).key]={backfilled:!1},o.y>0&&(T[new s.Y(i.overscaledZ,b,o.z,p,o.y-1).key]={backfilled:!1},T[new s.Y(i.overscaledZ,i.wrap,o.z,o.x,o.y-1).key]={backfilled:!1},T[new s.Y(i.overscaledZ,E,o.z,B,o.y-1).key]={backfilled:!1}),o.y+1<f&&(T[new s.Y(i.overscaledZ,b,o.z,p,o.y+1).key]={backfilled:!1},T[new s.Y(i.overscaledZ,i.wrap,o.z,o.x,o.y+1).key]={backfilled:!1},T[new s.Y(i.overscaledZ,E,o.z,B,o.y+1).key]={backfilled:!1}),T}unloadTile(i){return s._(this,void 0,void 0,function*(){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&(yield i.actor.sendAsync({type:"RDT",data:{type:this.type,uid:i.uid,source:this.id}}))})}}class Br extends s.E{constructor(i,o,f,p){super(),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=f.getActor(),this.setEventedParent(p),this._data=o.data,this._options=s.e({},o),this._collectResourceTiming=o.collectResourceTiming,o.maxzoom!==void 0&&(this.maxzoom=o.maxzoom),o.type&&(this.type=o.type),o.attribution&&(this.attribution=o.attribution),this.promoteId=o.promoteId,o.clusterMaxZoom!==void 0&&this.maxzoom<=o.clusterMaxZoom&&s.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${o.clusterMaxZoom}".`),this.workerOptions=s.e({source:this.id,cluster:o.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(o.buffer!==void 0?o.buffer:128),tolerance:this._pixelsToTileUnits(o.tolerance!==void 0?o.tolerance:.375),extent:s.Z,maxZoom:this.maxzoom,lineMetrics:o.lineMetrics||!1,generateId:o.generateId||!1},superclusterOptions:{maxZoom:o.clusterMaxZoom!==void 0?o.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,o.clusterMinPoints||2),extent:s.Z,radius:this._pixelsToTileUnits(o.clusterRadius||50),log:!1,generateId:o.generateId||!1},clusterProperties:o.clusterProperties,filter:o.filter},o.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(i){return i*(s.Z/this.tileSize)}load(){return s._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData(),this}updateData(i){return this._updateWorkerData(i),this}getData(){return s._(this,void 0,void 0,function*(){const i=s.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:i})})}getCoordinatesFromGeometry(i){return i.type==="GeometryCollection"?i.geometries.map(o=>o.coordinates).flat(1/0):i.coordinates.flat(1/0)}getBounds(){return s._(this,void 0,void 0,function*(){const i=new St,o=yield this.getData();let f;switch(o.type){case"FeatureCollection":f=o.features.map(p=>this.getCoordinatesFromGeometry(p.geometry)).flat(1/0);break;case"Feature":f=this.getCoordinatesFromGeometry(o.geometry);break;default:f=this.getCoordinatesFromGeometry(o)}if(f.length==0)return i;for(let p=0;p<f.length-1;p+=2)i.extend([f[p],f[p+1]]);return i})}setClusterOptions(i){return this.workerOptions.cluster=i.cluster,i&&(i.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(i.clusterRadius)),i.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=i.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(i){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:i,source:this.id}})}getClusterChildren(i){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:i,source:this.id}})}getClusterLeaves(i,o,f){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:i,limit:o,offset:f}})}_updateWorkerData(i){return s._(this,void 0,void 0,function*(){const o=s.e({type:this.type},this.workerOptions);i?o.dataDiff=i:typeof this._data=="string"?(o.request=this.map._requestManager.transformRequest(U.resolveURL(this._data),"Source"),o.request.collectResourceTiming=this._collectResourceTiming):o.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new s.l("dataloading",{dataType:"source"}));try{const f=yield this.actor.sendAsync({type:"LD",data:o});if(this._pendingLoads--,this._removed||f.abandoned)return void this.fire(new s.l("dataabort",{dataType:"source"}));let p=null;f.resourceTiming&&f.resourceTiming[this.id]&&(p=f.resourceTiming[this.id].slice(0));const b={dataType:"source"};this._collectResourceTiming&&p&&p.length>0&&s.e(b,{resourceTiming:p}),this.fire(new s.l("data",Object.assign(Object.assign({},b),{sourceDataType:"metadata"}))),this.fire(new s.l("data",Object.assign(Object.assign({},b),{sourceDataType:"content"})))}catch(f){if(this._pendingLoads--,this._removed)return void this.fire(new s.l("dataabort",{dataType:"source"}));this.fire(new s.k(f))}})}loaded(){return this._pendingLoads===0}loadTile(i){return s._(this,void 0,void 0,function*(){const o=i.actor?"RT":"LT";i.actor=this.actor;const f={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};i.abortController=new AbortController;const p=yield this.actor.sendAsync({type:o,data:f},i.abortController);delete i.abortController,i.unloadVectorData(),i.aborted||i.loadVectorData(p,this.map.painter,o==="RT")})}abortTile(i){return s._(this,void 0,void 0,function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.aborted=!0})}unloadTile(i){return s._(this,void 0,void 0,function*(){i.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return s.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Hr extends s.E{constructor(i,o,f,p){super(),this.flippedWindingOrder=!1,this.id=i,this.dispatcher=f,this.coordinates=o.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(p),this.options=o}load(i){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const o=yield re.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,o&&o.data&&(this.image=o.data,i&&(this.coordinates=i),this._finishLoading())}catch(o){this._request=null,this._loaded=!0,this.fire(new s.k(o))}})}loaded(){return this._loaded}updateImage(i){return i.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=i.url,this.load(i.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(i){this.coordinates=i;const o=i.map(s.$.fromLngLat);var f;return this.tileID=function(p){let b=1/0,B=1/0,E=-1/0,T=-1/0;for(const H of p)b=Math.min(b,H.x),B=Math.min(B,H.y),E=Math.max(E,H.x),T=Math.max(T,H.y);const Y=Math.max(E-b,T-B),Q=Math.max(0,Math.floor(-Math.log(Y)/Math.LN2)),O=Math.pow(2,Q);return new s.a1(Q,Math.floor((b+E)/2*O),Math.floor((B+T)/2*O))}(o),this.terrainTileRanges=this._getOverlappingTileRanges(o),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=o.map(p=>this.tileID.getTilePoint(p)._round()),this.flippedWindingOrder=((f=this.tileCoords)[1].x-f[0].x)*(f[2].y-f[0].y)-(f[1].y-f[0].y)*(f[2].x-f[0].x)<0,this.fire(new s.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const i=this.map.painter.context,o=i.gl;this.texture||(this.texture=new X(i,this.image,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE));let f=!1;for(const p in this.tiles){const b=this.tiles[p];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,f=!0)}f&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(i){return s._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={}):i.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(i){let o=1/0,f=1/0,p=-1/0,b=-1/0;for(const E of i)o=Math.min(o,E.x),f=Math.min(f,E.y),p=Math.max(p,E.x),b=Math.max(b,E.y);const B={};for(let E=0;E<=s.a0;E++){const T=Math.pow(2,E),Y=Math.floor(o*T),Q=Math.floor(f*T),O=Math.floor(p*T),H=Math.floor(b*T);B[E]={minTileX:Y,minTileY:Q,maxTileX:O,maxTileY:H}}return B}}class ei extends Hr{constructor(i,o,f,p){super(i,o,f,p),this.roundZoom=!0,this.type="video",this.options=o}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1;const i=this.options;this.urls=[];for(const o of i.urls)this.urls.push(this.map._requestManager.transformRequest(o,"Source").url);try{const o=yield s.a2(this.urls);if(this._loaded=!0,!o)return;this.video=o,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(o){this.fire(new s.k(o))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const o=this.video.seekable;i<o.start(0)||i>o.end(0)?this.fire(new s.k(new s.a3(`sources.${this.id}`,null,`Playback for this video can be set only between the ${o.start(0)} and ${o.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const i=this.map.painter.context,o=i.gl;this.texture?this.video.paused||(this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,this.video)):(this.texture=new X(i,this.video,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE));let f=!1;for(const p in this.tiles){const b=this.tiles[p];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,f=!0)}f&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Yr extends Hr{constructor(i,o,f,p){super(i,o,f,p),o.coordinates?Array.isArray(o.coordinates)&&o.coordinates.length===4&&!o.coordinates.some(b=>!Array.isArray(b)||b.length!==2||b.some(B=>typeof B!="number"))||this.fire(new s.k(new s.a3(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.k(new s.a3(`sources.${i}`,null,'missing required property "coordinates"'))),o.animate&&typeof o.animate!="boolean"&&this.fire(new s.k(new s.a3(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),o.canvas?typeof o.canvas=="string"||o.canvas instanceof HTMLCanvasElement||this.fire(new s.k(new s.a3(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.k(new s.a3(`sources.${i}`,null,'missing required property "canvas"'))),this.options=o,this.animate=o.animate===void 0||o.animate}load(){return s._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let i=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,i=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,i=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const o=this.map.painter.context,f=o.gl;this.texture?(i||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new X(o,this.canvas,f.RGBA,{premultiply:!0});let p=!1;for(const b in this.tiles){const B=this.tiles[b];B.state!=="loaded"&&(B.state="loaded",B.texture=this.texture,p=!0)}p&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const wt={},Ar=_=>{switch(_){case"geojson":return Br;case"image":return Hr;case"raster":return fr;case"raster-dem":return jt;case"vector":return Jt;case"video":return ei;case"canvas":return Yr}return wt[_]},Gr="RTLPluginLoaded";class xr extends s.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=lt()}_syncState(i){return this.status=i,this.dispatcher.broadcast("SRPS",{pluginStatus:i,pluginURL:this.url}).catch(o=>{throw this.status="error",o})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(i){return s._(this,arguments,void 0,function*(o,f=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=U.resolveURL(o),!this.url)throw new Error(`requested url ${o} is invalid`);if(this.status==="unavailable"){if(!f)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return s._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new s.l(Gr))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Nr=null;function Ir(){return Nr||(Nr=new xr),Nr}class Zi{constructor(i,o){this.timeAdded=0,this.fadeEndTime=0,this.tileID=i,this.uid=s.a4(),this.uses=0,this.tileSize=o,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const o=i+this.timeAdded;o<this.fadeEndTime||(this.fadeEndTime=o)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(i,o,f){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(p,b){const B={};if(!b)return B;for(const E of p){const T=E.layerIds.map(Y=>b.getLayer(Y)).filter(Boolean);if(T.length!==0){E.layers=T,E.stateDependentLayerIds&&(E.stateDependentLayers=E.stateDependentLayerIds.map(Y=>T.filter(Q=>Q.id===Y)[0]));for(const Y of T)B[Y.id]=E}}return B}(i.buckets,o==null?void 0:o.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const b=this.buckets[p];if(b instanceof s.a6){if(this.hasSymbolBuckets=!0,!f)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const b=this.buckets[p];if(b instanceof s.a6&&b.hasRTLText){this.hasRTLText=!0,Ir().lazyLoad();break}}this.queryPadding=0;for(const p in this.buckets){const b=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(p).queryRadius(b))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new s.a5}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const f in this.buckets){const p=this.buckets[f];p.uploadPending()&&p.upload(i)}const o=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new X(i,this.imageAtlas.image,o.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new X(i,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,o,f,p,b,B,E,T,Y,Q,O){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:p,cameraQueryGeometry:b,scale:B,tileSize:this.tileSize,pixelPosMatrix:Q,transform:T,params:E,queryPadding:this.queryPadding*Y,getElevation:O},i,o,f):{}}querySourceFeatures(i,o){const f=this.latestFeatureIndex;if(!f||!f.rawTileData)return;const p=f.loadVTLayers(),b=o&&o.sourceLayer?o.sourceLayer:"",B=p._geojsonTileLayer||p[b];if(!B)return;const E=s.a7(o&&o.filter),{z:T,x:Y,y:Q}=this.tileID.canonical,O={z:T,x:Y,y:Q};for(let H=0;H<B.length;H++){const ee=B.feature(H);if(E.needGeometry){const pe=s.a8(ee,!0);if(!E.filter(new s.C(this.tileID.overscaledZ),pe,this.tileID.canonical))continue}else if(!E.filter(new s.C(this.tileID.overscaledZ),ee))continue;const ie=f.getId(ee,b),me=new s.a9(ee,T,Y,Q,ie);me.tile=O,i.push(me)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const o=this.expirationTime;if(i.cacheControl){const f=s.aa(i.cacheControl);f["max-age"]&&(this.expirationTime=Date.now()+1e3*f["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const f=Date.now();let p=!1;if(this.expirationTime>f)p=!1;else if(o)if(this.expirationTime<o)p=!0;else{const b=this.expirationTime-o;b?this.expirationTime=f+Math.max(b,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,o){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0)return;const f=this.latestFeatureIndex.loadVTLayers();for(const p in this.buckets){if(!o.style.hasLayer(p))continue;const b=this.buckets[p],B=b.layers[0].sourceLayer||"_geojsonTileLayer",E=f[B],T=i[B];if(!E||!T||Object.keys(T).length===0)continue;b.update(T,E,this.imageAtlas&&this.imageAtlas.patternPositions||{});const Y=o&&o.style&&o.style.getLayer(p);Y&&(this.queryPadding=Math.max(this.queryPadding,Y.queryRadius(b)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<U.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=U.now()+i}setDependencies(i,o){const f={};for(const p of o)f[p]=!0;this.dependencies[i]=f}hasDependency(i,o){for(const f of i){const p=this.dependencies[f];if(p){for(const b of o)if(p[b])return!0}}return!1}}class Yi{constructor(i,o){this.max=i,this.onRemove=o,this.reset()}reset(){for(const i in this.data)for(const o of this.data[i])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(i,o,f){const p=i.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);const b={value:o,timeout:void 0};if(f!==void 0&&(b.timeout=setTimeout(()=>{this.remove(i,b)},f)),this.data[p].push(b),this.order.push(p),this.order.length>this.max){const B=this._getAndRemoveByKey(this.order[0]);B&&this.onRemove(B)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const o=this.data[i].shift();return o.timeout&&clearTimeout(o.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),o.value}getByKey(i){const o=this.data[i];return o?o[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,o){if(!this.has(i))return this;const f=i.wrapped().key,p=o===void 0?0:this.data[f].indexOf(o),b=this.data[f][p];return this.data[f].splice(p,1),b.timeout&&clearTimeout(b.timeout),this.data[f].length===0&&delete this.data[f],this.onRemove(b.value),this.order.splice(this.order.indexOf(f),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(i){const o=[];for(const f in this.data)for(const p of this.data[f])i(p.value)||o.push(p);for(const f of o)this.remove(f.value.tileID,f)}}class Wi{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,o,f){const p=String(o);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][p]=this.stateChanges[i][p]||{},s.e(this.stateChanges[i][p],f),this.deletedStates[i]===null){this.deletedStates[i]={};for(const b in this.state[i])b!==p&&(this.deletedStates[i][b]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][p]===null){this.deletedStates[i][p]={};for(const b in this.state[i][p])f[b]||(this.deletedStates[i][p][b]=null)}else for(const b in f)this.deletedStates[i]&&this.deletedStates[i][p]&&this.deletedStates[i][p][b]===null&&delete this.deletedStates[i][p][b]}removeFeatureState(i,o,f){if(this.deletedStates[i]===null)return;const p=String(o);if(this.deletedStates[i]=this.deletedStates[i]||{},f&&o!==void 0)this.deletedStates[i][p]!==null&&(this.deletedStates[i][p]=this.deletedStates[i][p]||{},this.deletedStates[i][p][f]=null);else if(o!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][p])for(f in this.deletedStates[i][p]={},this.stateChanges[i][p])this.deletedStates[i][p][f]=null;else this.deletedStates[i][p]=null;else this.deletedStates[i]=null}getState(i,o){const f=String(o),p=s.e({},(this.state[i]||{})[f],(this.stateChanges[i]||{})[f]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const b=this.deletedStates[i][o];if(b===null)return{};for(const B in b)delete p[B]}return p}initializeTileState(i,o){i.setFeatureState(this.state,o)}coalesceChanges(i,o){const f={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const b={};for(const B in this.stateChanges[p])this.state[p][B]||(this.state[p][B]={}),s.e(this.state[p][B],this.stateChanges[p][B]),b[B]=this.state[p][B];f[p]=b}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const b={};if(this.deletedStates[p]===null)for(const B in this.state[p])b[B]={},this.state[p][B]={};else for(const B in this.deletedStates[p]){if(this.deletedStates[p][B]===null)this.state[p][B]={};else for(const E of Object.keys(this.deletedStates[p][B]))delete this.state[p][B][E];b[B]=this.state[p][B]}f[p]=f[p]||{},s.e(f[p],b)}if(this.stateChanges={},this.deletedStates={},Object.keys(f).length!==0)for(const p in i)i[p].setFeatureState(f,o)}}const Ai=89.25;function li(_,i){const o=s.ae(i.lat,-85.051129,s.af);return new s.P(s.U(i.lng)*_,s.S(o)*_)}function Mi(_,i){return new s.$(i.x/_,i.y/_).toLngLat()}function Oe(_){return _.cameraToCenterDistance*Math.min(.85*Math.tan(s.ab(90-_.pitch)),Math.tan(s.ab(Ai-_.pitch)))}function ne(_,i){const o=_.canonical,f=i/s.ac(o.z),p=o.x+Math.pow(2,o.z)*_.wrap,b=s.ad(new Float64Array(16));return s.L(b,b,[p*f,o.y*f,0]),s.M(b,b,[f/s.Z,f/s.Z,1]),b}function oe(_,i,o,f,p){const b=s.$.fromLngLat(_,i),B=p*s.ag(1,_.lat),E=B*Math.cos(s.ab(o)),T=Math.sqrt(B*B-E*E),Y=T*Math.sin(s.ab(-f)),Q=T*Math.cos(s.ab(-f));return new s.$(b.x+Y,b.y+Q,b.z+E)}function ge(_,i,o){const f=i.intersectsFrustum(_);if(!o)return f;const p=i.intersectsPlane(o);return f===0||p===0?0:f===2&&p===2?2:1}function we(_,i,o){let f=0;const p=(o-i)/10;for(let b=0;b<10;b++)f+=p*Math.pow(Math.cos(i+(b+.5)/10*(o-i)),_);return f}function ce(_,i){return function(o,f,p,b,B){const E=2*((_-1)/s.ah(Math.cos(s.ab(Ai-B))/Math.cos(s.ab(Ai)))-1),T=Math.acos(p/b),Y=2*we(E-1,0,s.ab(B/2)),Q=Math.min(s.ab(Ai),T+s.ab(B/2)),O=we(E-1,Math.min(Q,T-s.ab(B/2)),Q),H=Math.atan(f/p),ee=Math.hypot(f,p);let ie=o;return ie+=s.ah(b/ee/Math.max(.5,Math.cos(s.ab(B/2)))),ie+=E*s.ah(Math.cos(H))/2,ie-=s.ah(Math.max(1,O/Y/i))/2,ie}}const ze=ce(9.314,3);function qe(_,i){const o=(i.roundZoom?Math.round:Math.floor)(_.zoom+s.ah(_.tileSize/i.tileSize));return Math.max(0,o)}function Fe(_,i){const o=_.getCameraFrustum(),f=_.getClippingPlane(),p=_.screenPointToMercatorCoordinate(_.getCameraPoint()),b=s.$.fromLngLat(_.center,_.elevation);p.z=b.z+Math.cos(_.pitchInRadians)*_.cameraToCenterDistance/_.worldSize;const B=_.getCoveringTilesDetailsProvider(),E=B.allowVariableZoom(_,i),T=qe(_,i),Y=i.minzoom||0,Q=i.maxzoom!==void 0?i.maxzoom:_.maxZoom,O=Math.min(Math.max(0,T),Q),H=Math.pow(2,O),ee=[H*p.x,H*p.y,0],ie=[H*b.x,H*b.y,0],me=Math.hypot(b.x-p.x,b.y-p.y),pe=Math.abs(b.z-p.z),be=Math.hypot(me,pe),Be=Se=>({zoom:0,x:0,y:0,wrap:Se,fullyVisible:!1}),Ie=[],Ee=[];if(_.renderWorldCopies&&B.allowWorldCopies())for(let Se=1;Se<=3;Se++)Ie.push(Be(-Se)),Ie.push(Be(Se));for(Ie.push(Be(0));Ie.length>0;){const Se=Ie.pop(),ke=Se.x,Pe=Se.y;let We=Se.fullyVisible;const et={x:ke,y:Pe,z:Se.zoom},ht=B.getTileAABB(et,Se.wrap,_.elevation,i);if(!We){const Ft=ge(o,ht,f);if(Ft===0)continue;We=Ft===2}const gt=B.distanceToTile2d(p.x,p.y,et,ht);let ut=T;E&&(ut=(i.calculateTileZoom||ze)(_.zoom+s.ah(_.tileSize/i.tileSize),gt,pe,be,_.fov)),ut=(i.roundZoom?Math.round:Math.floor)(ut),ut=Math.max(0,ut);const Dt=Math.min(ut,Q);if(Se.wrap=B.getWrap(b,et,Se.wrap),Se.zoom>=Dt){if(Se.zoom<Y)continue;const Ft=O-Se.zoom,yt=ee[0]-.5-(ke<<Ft),ar=ee[1]-.5-(Pe<<Ft),Ur=i.reparseOverscaled?Math.max(Se.zoom,ut):Se.zoom;Ee.push({tileID:new s.Y(Se.zoom===Q?Ur:Se.zoom,Se.wrap,Se.zoom,ke,Pe),distanceSq:s.ai([ie[0]-.5-ke,ie[1]-.5-Pe]),tileDistanceToCamera:Math.sqrt(yt*yt+ar*ar)})}else for(let Ft=0;Ft<4;Ft++)Ie.push({zoom:Se.zoom+1,x:(ke<<1)+Ft%2,y:(Pe<<1)+(Ft>>1),wrap:Se.wrap,fullyVisible:We})}return Ee.sort((Se,ke)=>Se.distanceSq-ke.distanceSq).map(Se=>Se.tileID)}class tt extends s.E{constructor(i,o,f){super(),this.id=i,this.dispatcher=f,this.on("data",p=>this._dataHandler(p)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((p,b,B,E)=>{const T=new(Ar(b.type))(p,b,B,E);if(T.id!==p)throw new Error(`Expected Source id to be ${p} instead of ${T.id}`);return T})(i,o,f,this),this._tiles={},this._cache=new Yi(0,p=>this._unloadTile(p)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Wi,this._didEmitContent=!1,this._updated=!1}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._maxTileCacheZoomLevels=i?i._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const i in this._tiles){const o=this._tiles[i];if(o.state!=="loaded"&&o.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,o,f){return s._(this,void 0,void 0,function*(){try{yield this._source.loadTile(i),this._tileLoaded(i,o,f)}catch(p){i.state="errored",p.status!==404?this._source.fire(new s.k(p,{tile:i})):this.update(this.transform,this.terrain)}})}_unloadTile(i){this._source.unloadTile&&this._source.unloadTile(i)}_abortTile(i){this._source.abortTile&&this._source.abortTile(i),this._source.fire(new s.l("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const o in this._tiles){const f=this._tiles[o];f.upload(i),f.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(i=>i.tileID).sort(Ne).map(i=>i.key)}getRenderableIds(i){const o=[];for(const f in this._tiles)this._isIdRenderable(f,i)&&o.push(this._tiles[f]);return i?o.sort((f,p)=>{const b=f.tileID,B=p.tileID,E=new s.P(b.canonical.x,b.canonical.y)._rotate(-this.transform.bearingInRadians),T=new s.P(B.canonical.x,B.canonical.y)._rotate(-this.transform.bearingInRadians);return b.overscaledZ-B.overscaledZ||T.y-E.y||T.x-E.x}).map(f=>f.tileID.key):o.map(f=>f.tileID).sort(Ne).map(f=>f.key)}hasRenderableParent(i){const o=this.findLoadedParent(i,0);return!!o&&this._isIdRenderable(o.tileID.key)}_isIdRenderable(i,o){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(o||!this._tiles[i].holdingForFade())}reload(i){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const o in this._tiles)(i||this._tiles[o].state!=="errored")&&this._reloadTile(o,"reloading")}}_reloadTile(i,o){return s._(this,void 0,void 0,function*(){const f=this._tiles[i];f&&(f.state!=="loading"&&(f.state=o),yield this._loadTile(f,i,o))})}_tileLoaded(i,o,f){i.timeAdded=U.now(),f==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(o,i),this.getSource().type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new s.l("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const o=this.getRenderableIds();for(let p=0;p<o.length;p++){const b=o[p];if(i.neighboringTiles&&i.neighboringTiles[b]){const B=this.getTileByID(b);f(i,B),f(B,i)}}function f(p,b){p.needsHillshadePrepare=!0,p.needsTerrainPrepare=!0;let B=b.tileID.canonical.x-p.tileID.canonical.x;const E=b.tileID.canonical.y-p.tileID.canonical.y,T=Math.pow(2,p.tileID.canonical.z),Y=b.tileID.key;B===0&&E===0||Math.abs(E)>1||(Math.abs(B)>1&&(Math.abs(B+T)===1?B+=T:Math.abs(B-T)===1&&(B-=T)),b.dem&&p.dem&&(p.dem.backfillBorder(b.dem,B,E),p.neighboringTiles&&p.neighboringTiles[Y]&&(p.neighboringTiles[Y].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,o,f,p){for(const b in this._tiles){let B=this._tiles[b];if(p[b]||!B.hasData()||B.tileID.overscaledZ<=o||B.tileID.overscaledZ>f)continue;let E=B.tileID;for(;B&&B.tileID.overscaledZ>o+1;){const Y=B.tileID.scaledTo(B.tileID.overscaledZ-1);B=this._tiles[Y.key],B&&B.hasData()&&(E=Y)}let T=E;for(;T.overscaledZ>o;)if(T=T.scaledTo(T.overscaledZ-1),i[T.key]||i[T.canonical.key]){p[E.key]=E;break}}}findLoadedParent(i,o){if(i.key in this._loadedParentTiles){const f=this._loadedParentTiles[i.key];return f&&f.tileID.overscaledZ>=o?f:null}for(let f=i.overscaledZ-1;f>=o;f--){const p=i.scaledTo(f),b=this._getLoadedTile(p);if(b)return b}}findLoadedSibling(i){return this._getLoadedTile(i)}_getLoadedTile(i){const o=this._tiles[i.key];return o&&o.hasData()?o:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const o=Math.ceil(i.width/this._source.tileSize)+1,f=Math.ceil(i.height/this._source.tileSize)+1,p=Math.floor(o*f*(this._maxTileCacheZoomLevels===null?s.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),b=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,p):p;this._cache.setMaxSize(b)}handleWrapJump(i){const o=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,o){const f={};for(const p in this._tiles){const b=this._tiles[p];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+o),f[b.tileID.key]=b}this._tiles=f;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(p,this._tiles[p])}}_updateCoveredAndRetainedTiles(i,o,f,p,b,B){const E={},T={},Y=Object.keys(i),Q=U.now();for(const O of Y){const H=i[O],ee=this._tiles[O];if(!ee||ee.fadeEndTime!==0&&ee.fadeEndTime<=Q)continue;const ie=this.findLoadedParent(H,o),me=this.findLoadedSibling(H),pe=ie||me||null;pe&&(this._addTile(pe.tileID),E[pe.tileID.key]=pe.tileID),T[O]=H}this._retainLoadedChildren(T,p,f,i);for(const O in E)i[O]||(this._coveredTiles[O]=!0,i[O]=E[O]);if(B){const O={},H={};for(const ee of b)this._tiles[ee.key].hasData()?O[ee.key]=ee:H[ee.key]=ee;for(const ee in H){const ie=H[ee].children(this._source.maxzoom);this._tiles[ie[0].key]&&this._tiles[ie[1].key]&&this._tiles[ie[2].key]&&this._tiles[ie[3].key]&&(O[ie[0].key]=i[ie[0].key]=ie[0],O[ie[1].key]=i[ie[1].key]=ie[1],O[ie[2].key]=i[ie[2].key]=ie[2],O[ie[3].key]=i[ie[3].key]=ie[3],delete H[ee])}for(const ee in H){const ie=H[ee],me=this.findLoadedParent(ie,this._source.minzoom),pe=this.findLoadedSibling(ie),be=me||pe||null;if(be){O[be.tileID.key]=i[be.tileID.key]=be.tileID;for(const Be in O)O[Be].isChildOf(be.tileID)&&delete O[Be]}}for(const ee in this._tiles)O[ee]||(this._coveredTiles[ee]=!0)}}update(i,o){if(!this._sourceLoaded||this._paused)return;let f;this.transform=i,this.terrain=o,this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?f=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(Q=>new s.Y(Q.canonical.z,Q.wrap,Q.canonical.z,Q.canonical.x,Q.canonical.y)):(f=Fe(i,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:o,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(f=f.filter(Q=>this._source.hasTile(Q)))):f=[];const p=qe(i,this._source),b=Math.max(p-tt.maxOverzooming,this._source.minzoom),B=Math.max(p+tt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const Q={};for(const O of f)if(O.canonical.z>this._source.minzoom){const H=O.scaledTo(O.canonical.z-1);Q[H.key]=H;const ee=O.scaledTo(Math.max(this._source.minzoom,Math.min(O.canonical.z,5)));Q[ee.key]=ee}f=f.concat(Object.values(Q))}const E=f.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,E&&this.fire(new s.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const T=this._updateRetainedTiles(f,p);le(this._source.type)&&this._updateCoveredAndRetainedTiles(T,b,B,p,f,o);for(const Q in T)this._tiles[Q].clearFadeHold();const Y=s.aj(this._tiles,T);for(const Q of Y){const O=this._tiles[Q];O.hasSymbolBuckets&&!O.holdingForFade()?O.setHoldDuration(this.map._fadeDuration):O.hasSymbolBuckets&&!O.symbolFadeFinished()||this._removeTile(Q)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,o){var f;const p={},b={},B=Math.max(o-tt.maxOverzooming,this._source.minzoom),E=Math.max(o+tt.maxUnderzooming,this._source.minzoom),T={};for(const Y of i){const Q=this._addTile(Y);p[Y.key]=Y,Q.hasData()||o<this._source.maxzoom&&(T[Y.key]=Y)}this._retainLoadedChildren(T,o,E,p);for(const Y of i){let Q=this._tiles[Y.key];if(Q.hasData())continue;if(o+1>this._source.maxzoom){const H=Y.children(this._source.maxzoom)[0],ee=this.getTile(H);if(ee&&ee.hasData()){p[H.key]=H;continue}}else{const H=Y.children(this._source.maxzoom);if(p[H[0].key]&&p[H[1].key]&&p[H[2].key]&&p[H[3].key])continue}let O=Q.wasRequested();for(let H=Y.overscaledZ-1;H>=B;--H){const ee=Y.scaledTo(H);if(b[ee.key])break;if(b[ee.key]=!0,Q=this.getTile(ee),!Q&&O&&(Q=this._addTile(ee)),Q){const ie=Q.hasData();if((ie||!(!((f=this.map)===null||f===void 0)&&f.cancelPendingTileRequestsWhileZooming)||O)&&(p[ee.key]=ee),O=Q.wasRequested(),ie)break}}}return p}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const o=[];let f,p=this._tiles[i].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){f=this._loadedParentTiles[p.key];break}o.push(p.key);const b=p.scaledTo(p.overscaledZ-1);if(f=this._getLoadedTile(b),f)break;p=b}for(const b of o)this._loadedParentTiles[b]=f}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const i in this._tiles){const o=this._tiles[i].tileID,f=this._getLoadedTile(o);this._loadedSiblingTiles[o.key]=f}}_addTile(i){let o=this._tiles[i.key];if(o)return o;o=this._cache.getAndRemove(i),o&&(this._setTileReloadTimer(i.key,o),o.tileID=i,this._state.initializeTileState(o,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,o)));const f=o;return o||(o=new Zi(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(o,i.key,o.state)),o.uses++,this._tiles[i.key]=o,f||this._source.fire(new s.l("dataloading",{tile:o,coord:o.tileID,dataType:"source"})),o}_setTileReloadTimer(i,o){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const f=o.getExpiryTimeout();f&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},f))}_removeTile(i){const o=this._tiles[i];o&&(o.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),o.uses>0||(o.hasData()&&o.state!=="reloading"?this._cache.add(o.tileID,o,o.getExpiryTimeout()):(o.aborted=!0,this._abortTile(o),this._unloadTile(o))))}_dataHandler(i){const o=i.sourceDataType;i.dataType==="source"&&o==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&i.dataType==="source"&&o==="content"&&(this.reload(i.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,o,f){const p=[],b=this.transform;if(!b)return p;const B=f?b.getCameraQueryGeometry(i):i,E=i.map(ie=>b.screenPointToMercatorCoordinate(ie,this.terrain)),T=B.map(ie=>b.screenPointToMercatorCoordinate(ie,this.terrain)),Y=this.getIds();let Q=1/0,O=1/0,H=-1/0,ee=-1/0;for(const ie of T)Q=Math.min(Q,ie.x),O=Math.min(O,ie.y),H=Math.max(H,ie.x),ee=Math.max(ee,ie.y);for(let ie=0;ie<Y.length;ie++){const me=this._tiles[Y[ie]];if(me.holdingForFade())continue;const pe=b.getCoveringTilesDetailsProvider().allowWorldCopies()?me.tileID:me.tileID.unwrapTo(0),be=Math.pow(2,b.zoom-me.tileID.overscaledZ),Be=o*me.queryPadding*s.Z/me.tileSize/be,Ie=[pe.getTilePoint(new s.$(Q,O)),pe.getTilePoint(new s.$(H,ee))];if(Ie[0].x-Be<s.Z&&Ie[0].y-Be<s.Z&&Ie[1].x+Be>=0&&Ie[1].y+Be>=0){const Ee=E.map(ke=>pe.getTilePoint(ke)),Se=T.map(ke=>pe.getTilePoint(ke));p.push({tile:me,tileID:pe,queryGeometry:Ee,cameraQueryGeometry:Se,scale:be})}}return p}getVisibleCoordinates(i){const o=this.getRenderableIds(i).map(f=>this._tiles[f].tileID);return this.transform&&this.transform.populateCache(o),o}hasTransition(){if(this._source.hasTransition())return!0;if(le(this._source.type)){const i=U.now();for(const o in this._tiles)if(this._tiles[o].fadeEndTime>=i)return!0}return!1}setFeatureState(i,o,f){this._state.updateState(i=i||"_geojsonTileLayer",o,f)}removeFeatureState(i,o,f){this._state.removeFeatureState(i=i||"_geojsonTileLayer",o,f)}getFeatureState(i,o){return this._state.getState(i=i||"_geojsonTileLayer",o)}setDependencies(i,o,f){const p=this._tiles[i];p&&p.setDependencies(o,f)}reloadTilesForDependencies(i,o){for(const f in this._tiles)this._tiles[f].hasDependency(i,o)&&this._reloadTile(f,"reloading");this._cache.filter(f=>!f.hasDependency(i,o))}}function Ne(_,i){const o=Math.abs(2*_.wrap)-+(_.wrap<0),f=Math.abs(2*i.wrap)-+(i.wrap<0);return _.overscaledZ-i.overscaledZ||f-o||i.canonical.y-_.canonical.y||i.canonical.x-_.canonical.x}function le(_){return _==="raster"||_==="image"||_==="video"}tt.maxOverzooming=10,tt.maxUnderzooming=3;class Ye{constructor(i,o){this.reset(i,o)}reset(i,o){this.points=i||[],this._distances=[0];for(let f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(o||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(this.points.length===1)return this.points[0];i=s.ae(i,0,1);let o=1,f=this._distances[o];const p=i*this.paddedLength+this.padding;for(;f<p&&o<this._distances.length;)f=this._distances[++o];const b=o-1,B=this._distances[b],E=f-B,T=E>0?(p-B)/E:0;return this.points[b].mult(1-T).add(this.points[o].mult(T))}}function Te(_,i){let o=!0;return _==="always"||_!=="never"&&i!=="never"||(o=!1),o}class Ge{constructor(i,o,f){const p=this.boxCells=[],b=this.circleCells=[];this.xCellCount=Math.ceil(i/f),this.yCellCount=Math.ceil(o/f);for(let B=0;B<this.xCellCount*this.yCellCount;B++)p.push([]),b.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=o,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/o,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,o,f,p,b){this._forEachCell(o,f,p,b,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(o),this.bboxes.push(f),this.bboxes.push(p),this.bboxes.push(b)}insertCircle(i,o,f,p){this._forEachCell(o-p,f-p,o+p,f+p,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(o),this.circles.push(f),this.circles.push(p)}_insertBoxCell(i,o,f,p,b,B){this.boxCells[b].push(B)}_insertCircleCell(i,o,f,p,b,B){this.circleCells[b].push(B)}_query(i,o,f,p,b,B,E){if(f<0||i>this.width||p<0||o>this.height)return[];const T=[];if(i<=0&&o<=0&&this.width<=f&&this.height<=p){if(b)return[{key:null,x1:i,y1:o,x2:f,y2:p}];for(let Y=0;Y<this.boxKeys.length;Y++)T.push({key:this.boxKeys[Y],x1:this.bboxes[4*Y],y1:this.bboxes[4*Y+1],x2:this.bboxes[4*Y+2],y2:this.bboxes[4*Y+3]});for(let Y=0;Y<this.circleKeys.length;Y++){const Q=this.circles[3*Y],O=this.circles[3*Y+1],H=this.circles[3*Y+2];T.push({key:this.circleKeys[Y],x1:Q-H,y1:O-H,x2:Q+H,y2:O+H})}}else this._forEachCell(i,o,f,p,this._queryCell,T,{hitTest:b,overlapMode:B,seenUids:{box:{},circle:{}}},E);return T}query(i,o,f,p){return this._query(i,o,f,p,!1,null)}hitTest(i,o,f,p,b,B){return this._query(i,o,f,p,!0,b,B).length>0}hitTestCircle(i,o,f,p,b){const B=i-f,E=i+f,T=o-f,Y=o+f;if(E<0||B>this.width||Y<0||T>this.height)return!1;const Q=[];return this._forEachCell(B,T,E,Y,this._queryCellCircle,Q,{hitTest:!0,overlapMode:p,circle:{x:i,y:o,radius:f},seenUids:{box:{},circle:{}}},b),Q.length>0}_queryCell(i,o,f,p,b,B,E,T){const{seenUids:Y,hitTest:Q,overlapMode:O}=E,H=this.boxCells[b];if(H!==null){const ie=this.bboxes;for(const me of H)if(!Y.box[me]){Y.box[me]=!0;const pe=4*me,be=this.boxKeys[me];if(i<=ie[pe+2]&&o<=ie[pe+3]&&f>=ie[pe+0]&&p>=ie[pe+1]&&(!T||T(be))&&(!Q||!Te(O,be.overlapMode))&&(B.push({key:be,x1:ie[pe],y1:ie[pe+1],x2:ie[pe+2],y2:ie[pe+3]}),Q))return!0}}const ee=this.circleCells[b];if(ee!==null){const ie=this.circles;for(const me of ee)if(!Y.circle[me]){Y.circle[me]=!0;const pe=3*me,be=this.circleKeys[me];if(this._circleAndRectCollide(ie[pe],ie[pe+1],ie[pe+2],i,o,f,p)&&(!T||T(be))&&(!Q||!Te(O,be.overlapMode))){const Be=ie[pe],Ie=ie[pe+1],Ee=ie[pe+2];if(B.push({key:be,x1:Be-Ee,y1:Ie-Ee,x2:Be+Ee,y2:Ie+Ee}),Q)return!0}}}return!1}_queryCellCircle(i,o,f,p,b,B,E,T){const{circle:Y,seenUids:Q,overlapMode:O}=E,H=this.boxCells[b];if(H!==null){const ie=this.bboxes;for(const me of H)if(!Q.box[me]){Q.box[me]=!0;const pe=4*me,be=this.boxKeys[me];if(this._circleAndRectCollide(Y.x,Y.y,Y.radius,ie[pe+0],ie[pe+1],ie[pe+2],ie[pe+3])&&(!T||T(be))&&!Te(O,be.overlapMode))return B.push(!0),!0}}const ee=this.circleCells[b];if(ee!==null){const ie=this.circles;for(const me of ee)if(!Q.circle[me]){Q.circle[me]=!0;const pe=3*me,be=this.circleKeys[me];if(this._circlesCollide(ie[pe],ie[pe+1],ie[pe+2],Y.x,Y.y,Y.radius)&&(!T||T(be))&&!Te(O,be.overlapMode))return B.push(!0),!0}}}_forEachCell(i,o,f,p,b,B,E,T){const Y=this._convertToXCellCoord(i),Q=this._convertToYCellCoord(o),O=this._convertToXCellCoord(f),H=this._convertToYCellCoord(p);for(let ee=Y;ee<=O;ee++)for(let ie=Q;ie<=H;ie++)if(b.call(this,i,o,f,p,this.xCellCount*ie+ee,B,E,T))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,o,f,p,b,B){const E=p-i,T=b-o,Y=f+B;return Y*Y>E*E+T*T}_circleAndRectCollide(i,o,f,p,b,B,E){const T=(B-p)/2,Y=Math.abs(i-(p+T));if(Y>T+f)return!1;const Q=(E-b)/2,O=Math.abs(o-(b+Q));if(O>Q+f)return!1;if(Y<=T||O<=Q)return!0;const H=Y-T,ee=O-Q;return H*H+ee*ee<=f*f}}function ft(_,i,o){const f=s.K();if(!_){const{vecSouth:O,vecEast:H}=je(i),ee=w();ee[0]=H[0],ee[1]=H[1],ee[2]=O[0],ee[3]=O[1],p=ee,(Q=(B=(b=ee)[0])*(Y=b[3])-(T=b[2])*(E=b[1]))&&(p[0]=Y*(Q=1/Q),p[1]=-E*Q,p[2]=-T*Q,p[3]=B*Q),f[0]=ee[0],f[1]=ee[1],f[4]=ee[2],f[5]=ee[3]}var p,b,B,E,T,Y,Q;return s.M(f,f,[1/o,1/o,1]),f}function Ct(_,i,o,f){if(_){const p=s.K();if(!i){const{vecSouth:b,vecEast:B}=je(o);p[0]=B[0],p[1]=B[1],p[4]=b[0],p[5]=b[1]}return s.M(p,p,[f,f,1]),p}return o.pixelsToClipSpaceMatrix}function je(_){const i=Math.cos(_.rollInRadians),o=Math.sin(_.rollInRadians),f=Math.cos(_.pitchInRadians),p=Math.cos(_.bearingInRadians),b=Math.sin(_.bearingInRadians),B=s.ao();B[0]=-p*f*o-b*i,B[1]=-b*f*o+p*i;const E=s.ap(B);E<1e-9?s.aq(B):s.ar(B,B,1/E);const T=s.ao();T[0]=p*f*i-b*o,T[1]=b*f*i+p*o;const Y=s.ap(T);return Y<1e-9?s.aq(T):s.ar(T,T,1/Y),{vecEast:T,vecSouth:B}}function bt(_,i,o,f){let p;f?(p=[_,i,f(_,i),1],s.at(p,p,o)):(p=[_,i,0,1],Fr(p,p,o));const b=p[3];return{point:new s.P(p[0]/b,p[1]/b),signedDistanceFromCamera:b,isOccluded:!1}}function tr(_,i){return .5+_/i*.5}function ir(_,i){return _.x>=-i[0]&&_.x<=i[0]&&_.y>=-i[1]&&_.y<=i[1]}function lr(_,i,o,f,p,b,B,E,T,Y,Q,O,H){const ee=o?_.textSizeData:_.iconSizeData,ie=s.ak(ee,i.transform.zoom),me=[256/i.width*2+1,256/i.height*2+1],pe=o?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;pe.clear();const be=_.lineVertexArray,Be=o?_.text.placedSymbolArray:_.icon.placedSymbolArray,Ie=i.transform.width/i.transform.height;let Ee=!1;for(let Se=0;Se<Be.length;Se++){const ke=Be.get(Se);if(ke.hidden||ke.writingMode===s.al.vertical&&!Ee){Er(ke.numGlyphs,pe);continue}Ee=!1;const Pe=new s.P(ke.anchorX,ke.anchorY),We={getElevation:H,pitchedLabelPlaneMatrix:f,lineVertexArray:be,pitchWithMap:b,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:i.transform,tileAnchorPoint:Pe,unwrappedTileID:T,width:Y,height:Q,translation:O},et=En(ke.anchorX,ke.anchorY,We);if(!ir(et.point,me)){Er(ke.numGlyphs,pe);continue}const ht=tr(i.transform.cameraToCenterDistance,et.signedDistanceFromCamera),gt=s.am(ee,ie,ke),ut=b?gt*i.transform.getPitchedTextCorrection(ke.anchorX,ke.anchorY,T)/ht:gt*ht,Dt=Vt({projectionContext:We,pitchedLabelPlaneMatrixInverse:p,symbol:ke,fontSize:ut,flip:!1,keepUpright:B,glyphOffsetArray:_.glyphOffsetArray,dynamicLayoutVertexArray:pe,aspectRatio:Ie,rotateToLine:E});Ee=Dt.useVertical,(Dt.notEnoughRoom||Ee||Dt.needsFlipping&&Vt({projectionContext:We,pitchedLabelPlaneMatrixInverse:p,symbol:ke,fontSize:ut,flip:!0,keepUpright:B,glyphOffsetArray:_.glyphOffsetArray,dynamicLayoutVertexArray:pe,aspectRatio:Ie,rotateToLine:E}).notEnoughRoom)&&Er(ke.numGlyphs,pe)}o?_.text.dynamicLayoutVertexBuffer.updateData(pe):_.icon.dynamicLayoutVertexBuffer.updateData(pe)}function rt(_,i,o,f,p,b,B,E){const T=b.glyphStartIndex+b.numGlyphs,Y=b.lineStartIndex,Q=b.lineStartIndex+b.lineLength,O=i.getoffsetX(b.glyphStartIndex),H=i.getoffsetX(T-1),ee=Nt(_*O,o,f,p,b.segment,Y,Q,E,B);if(!ee)return null;const ie=Nt(_*H,o,f,p,b.segment,Y,Q,E,B);return ie?E.projectionCache.anyProjectionOccluded?null:{first:ee,last:ie}:null}function Yt(_,i,o,f){return _===s.al.horizontal&&Math.abs(o.y-i.y)>Math.abs(o.x-i.x)*f?{useVertical:!0}:(_===s.al.vertical?i.y<o.y:i.x>o.x)?{needsFlipping:!0}:null}function Vt(_){const{projectionContext:i,pitchedLabelPlaneMatrixInverse:o,symbol:f,fontSize:p,flip:b,keepUpright:B,glyphOffsetArray:E,dynamicLayoutVertexArray:T,aspectRatio:Y,rotateToLine:Q}=_,O=p/24,H=f.lineOffsetX*O,ee=f.lineOffsetY*O;let ie;if(f.numGlyphs>1){const me=f.glyphStartIndex+f.numGlyphs,pe=f.lineStartIndex,be=f.lineStartIndex+f.lineLength,Be=rt(O,E,H,ee,b,f,Q,i);if(!Be)return{notEnoughRoom:!0};const Ie=qt(Be.first.point.x,Be.first.point.y,i,o),Ee=qt(Be.last.point.x,Be.last.point.y,i,o);if(B&&!b){const Se=Yt(f.writingMode,Ie,Ee,Y);if(Se)return Se}ie=[Be.first];for(let Se=f.glyphStartIndex+1;Se<me-1;Se++)ie.push(Nt(O*E.getoffsetX(Se),H,ee,b,f.segment,pe,be,i,Q));ie.push(Be.last)}else{if(B&&!b){const pe=Cr(i.tileAnchorPoint.x,i.tileAnchorPoint.y,i).point,be=f.lineStartIndex+f.segment+1,Be=new s.P(i.lineVertexArray.getx(be),i.lineVertexArray.gety(be)),Ie=Cr(Be.x,Be.y,i),Ee=Ie.signedDistanceFromCamera>0?Ie.point:ii(i.tileAnchorPoint,Be,pe,1,i),Se=qt(pe.x,pe.y,i,o),ke=qt(Ee.x,Ee.y,i,o),Pe=Yt(f.writingMode,Se,ke,Y);if(Pe)return Pe}const me=Nt(O*E.getoffsetX(f.glyphStartIndex),H,ee,b,f.segment,f.lineStartIndex,f.lineStartIndex+f.lineLength,i,Q);if(!me||i.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ie=[me]}for(const me of ie)s.as(T,me.point,me.angle);return{}}function ii(_,i,o,f,p){const b=_.add(_.sub(i)._unit()),B=Cr(b.x,b.y,p).point,E=o.sub(B);return o.add(E._mult(f/E.mag()))}function ci(_,i,o){const f=i.projectionCache;if(f.projections[_])return f.projections[_];const p=new s.P(i.lineVertexArray.getx(_),i.lineVertexArray.gety(_)),b=Cr(p.x,p.y,i);if(b.signedDistanceFromCamera>0)return f.projections[_]=b.point,f.anyProjectionOccluded=f.anyProjectionOccluded||b.isOccluded,b.point;const B=_-o.direction;return ii(o.distanceFromAnchor===0?i.tileAnchorPoint:new s.P(i.lineVertexArray.getx(B),i.lineVertexArray.gety(B)),p,o.previousVertex,o.absOffsetX-o.distanceFromAnchor+1,i)}function Cr(_,i,o){const f=_+o.translation[0],p=i+o.translation[1];let b;return o.pitchWithMap?(b=bt(f,p,o.pitchedLabelPlaneMatrix,o.getElevation),b.isOccluded=!1):(b=o.transform.projectTileCoordinates(f,p,o.unwrappedTileID,o.getElevation),b.point.x=(.5*b.point.x+.5)*o.width,b.point.y=(.5*-b.point.y+.5)*o.height),b}function qt(_,i,o,f){if(o.pitchWithMap){const p=[_,i,0,1];return s.at(p,p,f),o.transform.projectTileCoordinates(p[0]/p[3],p[1]/p[3],o.unwrappedTileID,o.getElevation).point}return{x:_/o.width*2-1,y:i/o.height*2-1}}function En(_,i,o){return o.transform.projectTileCoordinates(_,i,o.unwrappedTileID,o.getElevation)}function Kt(_,i,o){return _._unit()._perp()._mult(i*o)}function Ze(_,i,o,f,p,b,B,E,T){if(E.projectionCache.offsets[_])return E.projectionCache.offsets[_];const Y=o.add(i);if(_+T.direction<f||_+T.direction>=p)return E.projectionCache.offsets[_]=Y,Y;const Q=ci(_+T.direction,E,T),O=Kt(Q.sub(o),B,T.direction),H=o.add(O),ee=Q.add(O);return E.projectionCache.offsets[_]=s.au(b,Y,H,ee)||Y,E.projectionCache.offsets[_]}function Nt(_,i,o,f,p,b,B,E,T){const Y=f?_-i:_+i;let Q=Y>0?1:-1,O=0;f&&(Q*=-1,O=Math.PI),Q<0&&(O+=Math.PI);let H,ee=Q>0?b+p:b+p+1;E.projectionCache.cachedAnchorPoint?H=E.projectionCache.cachedAnchorPoint:(H=Cr(E.tileAnchorPoint.x,E.tileAnchorPoint.y,E).point,E.projectionCache.cachedAnchorPoint=H);let ie,me,pe=H,be=H,Be=0,Ie=0;const Ee=Math.abs(Y),Se=[];let ke;for(;Be+Ie<=Ee;){if(ee+=Q,ee<b||ee>=B)return null;Be+=Ie,be=pe,me=ie;const et={absOffsetX:Ee,direction:Q,distanceFromAnchor:Be,previousVertex:be};if(pe=ci(ee,E,et),o===0)Se.push(be),ke=pe.sub(be);else{let ht;const gt=pe.sub(be);ht=gt.mag()===0?Kt(ci(ee+Q,E,et).sub(pe),o,Q):Kt(gt,o,Q),me||(me=be.add(ht)),ie=Ze(ee,ht,pe,b,B,me,o,E,et),Se.push(me),ke=ie.sub(me)}Ie=ke.mag()}const Pe=ke._mult((Ee-Be)/Ie)._add(me||be),We=O+Math.atan2(pe.y-be.y,pe.x-be.x);return Se.push(Pe),{point:Pe,angle:T?We:0,path:Se}}const hr=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Er(_,i){for(let o=0;o<_;o++){const f=i.length;i.resize(f+4),i.float32.set(hr,3*f)}}function Fr(_,i,o){const f=i[0],p=i[1];return _[0]=o[0]*f+o[4]*p+o[12],_[1]=o[1]*f+o[5]*p+o[13],_[3]=o[3]*f+o[7]*p+o[15],_}const Xr=100;class Ji{constructor(i,o=new Ge(i.width+200,i.height+200,25),f=new Ge(i.width+200,i.height+200,25)){this.transform=i,this.grid=o,this.ignoredGrid=f,this.pitchFactor=Math.cos(i.pitch*Math.PI/180)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+Xr,this.screenBottomBoundary=i.height+Xr,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,o,f,p,b,B,E,T,Y,Q,O,H){const ee=this.projectAndGetPerspectiveRatio(i.anchorPointX+T[0],i.anchorPointY+T[1],b,Q,H),ie=f*ee.perspectiveRatio;let me;if(B||E)me=this._projectCollisionBox(i,ie,p,b,B,E,T,ee,Q,O,H);else{const ke=ee.x+(O?O.x*ie:0),Pe=ee.y+(O?O.y*ie:0);me={allPointsOccluded:!1,box:[ke+i.x1*ie,Pe+i.y1*ie,ke+i.x2*ie,Pe+i.y2*ie]}}const[pe,be,Be,Ie]=me.box,Ee=B?me.allPointsOccluded:ee.isOccluded;let Se=Ee;return Se||(Se=ee.perspectiveRatio<this.perspectiveRatioCutoff),Se||(Se=!this.isInsideGrid(pe,be,Be,Ie)),Se||o!=="always"&&this.grid.hitTest(pe,be,Be,Ie,o,Y)?{box:[pe,be,Be,Ie],placeable:!1,offscreen:!1,occluded:Ee}:{box:[pe,be,Be,Ie],placeable:!0,offscreen:this.isOffscreen(pe,be,Be,Ie),occluded:Ee}}placeCollisionCircles(i,o,f,p,b,B,E,T,Y,Q,O,H,ee,ie){const me=[],pe=new s.P(o.anchorX,o.anchorY),be=this.getPerspectiveRatio(pe.x,pe.y,B,ie),Be=(Y?b*this.transform.getPitchedTextCorrection(o.anchorX,o.anchorY,B)/be:b*be)/s.ay,Ie={getElevation:ie,pitchedLabelPlaneMatrix:E,lineVertexArray:f,pitchWithMap:Y,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:pe,unwrappedTileID:B,width:this.transform.width,height:this.transform.height,translation:ee},Ee=rt(Be,p,o.lineOffsetX*Be,o.lineOffsetY*Be,!1,o,!1,Ie);let Se=!1,ke=!1,Pe=!0;if(Ee){const We=.5*O*be+H,et=new s.P(-100,-100),ht=new s.P(this.screenRightBoundary,this.screenBottomBoundary),gt=new Ye,ut=Ee.first,Dt=Ee.last;let Ft=[];for(let Ur=ut.path.length-1;Ur>=1;Ur--)Ft.push(ut.path[Ur]);for(let Ur=1;Ur<Dt.path.length;Ur++)Ft.push(Dt.path[Ur]);const yt=2.5*We;if(Y){const Ur=this.projectPathToScreenSpace(Ft,Ie);Ft=Ur.some(wr=>wr.signedDistanceFromCamera<=0)?[]:Ur.map(wr=>wr.point)}let ar=[];if(Ft.length>0){const Ur=Ft[0].clone(),wr=Ft[0].clone();for(let Ri=1;Ri<Ft.length;Ri++)Ur.x=Math.min(Ur.x,Ft[Ri].x),Ur.y=Math.min(Ur.y,Ft[Ri].y),wr.x=Math.max(wr.x,Ft[Ri].x),wr.y=Math.max(wr.y,Ft[Ri].y);ar=Ur.x>=et.x&&wr.x<=ht.x&&Ur.y>=et.y&&wr.y<=ht.y?[Ft]:wr.x<et.x||Ur.x>ht.x||wr.y<et.y||Ur.y>ht.y?[]:s.av([Ft],et.x,et.y,ht.x,ht.y)}for(const Ur of ar){gt.reset(Ur,.25*We);let wr=0;wr=gt.length<=.5*We?1:Math.ceil(gt.paddedLength/yt)+1;for(let Ri=0;Ri<wr;Ri++){const ai=Ri/Math.max(wr-1,1),Ii=gt.lerp(ai),bi=Ii.x+Xr,si=Ii.y+Xr;me.push(bi,si,We,0);const ri=bi-We,ha=si-We,aa=bi+We,Ca=si+We;if(Pe=Pe&&this.isOffscreen(ri,ha,aa,Ca),ke=ke||this.isInsideGrid(ri,ha,aa,Ca),i!=="always"&&this.grid.hitTestCircle(bi,si,We,i,Q)&&(Se=!0,!T))return{circles:[],offscreen:!1,collisionDetected:Se}}}}return{circles:!T&&Se||!ke||be<this.perspectiveRatioCutoff?[]:me,offscreen:Pe,collisionDetected:Se}}projectPathToScreenSpace(i,o){const f=function(p,b){const B=s.K();return s.an(B,b.pitchedLabelPlaneMatrix),p.map(E=>{const T=bt(E.x,E.y,B,b.getElevation),Y=b.transform.projectTileCoordinates(T.point.x,T.point.y,b.unwrappedTileID,b.getElevation);return Y.point.x=(.5*Y.point.x+.5)*b.width,Y.point.y=(.5*-Y.point.y+.5)*b.height,Y})}(i,o);return function(p){let b=0,B=0,E=0,T=0;for(let Y=0;Y<p.length;Y++)p[Y].isOccluded?(E=Y+1,T=0):(T++,T>B&&(B=T,b=E));return p.slice(b,b+B)}(f)}queryRenderedSymbols(i){if(i.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const o=[];let f=1/0,p=1/0,b=-1/0,B=-1/0;for(const Q of i){const O=new s.P(Q.x+Xr,Q.y+Xr);f=Math.min(f,O.x),p=Math.min(p,O.y),b=Math.max(b,O.x),B=Math.max(B,O.y),o.push(O)}const E=this.grid.query(f,p,b,B).concat(this.ignoredGrid.query(f,p,b,B)),T={},Y={};for(const Q of E){const O=Q.key;if(T[O.bucketInstanceId]===void 0&&(T[O.bucketInstanceId]={}),T[O.bucketInstanceId][O.featureIndex])continue;const H=[new s.P(Q.x1,Q.y1),new s.P(Q.x2,Q.y1),new s.P(Q.x2,Q.y2),new s.P(Q.x1,Q.y2)];s.aw(o,H)&&(T[O.bucketInstanceId][O.featureIndex]=!0,Y[O.bucketInstanceId]===void 0&&(Y[O.bucketInstanceId]=[]),Y[O.bucketInstanceId].push(O.featureIndex))}return Y}insertCollisionBox(i,o,f,p,b,B){(f?this.ignoredGrid:this.grid).insert({bucketInstanceId:p,featureIndex:b,collisionGroupID:B,overlapMode:o},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,o,f,p,b,B){const E=f?this.ignoredGrid:this.grid,T={bucketInstanceId:p,featureIndex:b,collisionGroupID:B,overlapMode:o};for(let Y=0;Y<i.length;Y+=4)E.insertCircle(T,i[Y],i[Y+1],i[Y+2])}projectAndGetPerspectiveRatio(i,o,f,p,b){if(b){let B;p?(B=[i,o,p(i,o),1],s.at(B,B,b)):(B=[i,o,0,1],Fr(B,B,b));const E=B[3];return{x:(B[0]/E+1)/2*this.transform.width+Xr,y:(-B[1]/E+1)/2*this.transform.height+Xr,perspectiveRatio:.5+this.transform.cameraToCenterDistance/E*.5,isOccluded:!1,signedDistanceFromCamera:E}}{const B=this.transform.projectTileCoordinates(i,o,f,p);return{x:(B.point.x+1)/2*this.transform.width+Xr,y:(1-B.point.y)/2*this.transform.height+Xr,perspectiveRatio:.5+this.transform.cameraToCenterDistance/B.signedDistanceFromCamera*.5,isOccluded:B.isOccluded,signedDistanceFromCamera:B.signedDistanceFromCamera}}}getPerspectiveRatio(i,o,f,p){const b=this.transform.projectTileCoordinates(i,o,f,p);return .5+this.transform.cameraToCenterDistance/b.signedDistanceFromCamera*.5}isOffscreen(i,o,f,p){return f<Xr||i>=this.screenRightBoundary||p<Xr||o>this.screenBottomBoundary}isInsideGrid(i,o,f,p){return f>=0&&i<this.gridRightBoundary&&p>=0&&o<this.gridBottomBoundary}getViewportMatrix(){const i=s.ad([]);return s.L(i,i,[-100,-100,0]),i}_projectCollisionBox(i,o,f,p,b,B,E,T,Y,Q,O){let H=1,ee=0,ie=0,me=1;const pe=i.anchorPointX+E[0],be=i.anchorPointY+E[1];if(B&&!b){const Ft=this.projectAndGetPerspectiveRatio(pe+1,be,p,Y,O),yt=Ft.x-T.x,ar=Math.atan((Ft.y-T.y)/yt)+(yt<0?Math.PI:0),Ur=Math.sin(ar),wr=Math.cos(ar);H=wr,ee=Ur,ie=-Ur,me=wr}else if(!B&&b){const Ft=je(this.transform);H=Ft.vecEast[0],ee=Ft.vecEast[1],ie=Ft.vecSouth[0],me=Ft.vecSouth[1]}let Be=T.x,Ie=T.y,Ee=o;b&&(Be=pe,Ie=be,Ee=Math.pow(2,-(this.transform.zoom-f.overscaledZ)),Ee*=this.transform.getPitchedTextCorrection(pe,be,p),Q||(Ee*=s.ae(.5+T.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),Q&&(Be+=H*Q.x*Ee+ie*Q.y*Ee,Ie+=ee*Q.x*Ee+me*Q.y*Ee);const Se=i.x1*Ee,ke=i.x2*Ee,Pe=(Se+ke)/2,We=i.y1*Ee,et=i.y2*Ee,ht=(We+et)/2,gt=[{offsetX:Se,offsetY:We},{offsetX:Pe,offsetY:We},{offsetX:ke,offsetY:We},{offsetX:ke,offsetY:ht},{offsetX:ke,offsetY:et},{offsetX:Pe,offsetY:et},{offsetX:Se,offsetY:et},{offsetX:Se,offsetY:ht}];let ut=[];for(const{offsetX:Ft,offsetY:yt}of gt)ut.push(new s.P(Be+H*Ft+ie*yt,Ie+ee*Ft+me*yt));let Dt=!1;if(b){const Ft=ut.map(yt=>this.projectAndGetPerspectiveRatio(yt.x,yt.y,p,Y,O));Dt=Ft.some(yt=>!yt.isOccluded),ut=Ft.map(yt=>new s.P(yt.x,yt.y))}else Dt=!0;return{box:s.ax(ut),allPointsOccluded:!Dt}}}class Qa{constructor(i,o,f,p){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?o:-o))):p&&f?1:0,this.placed=f}isHidden(){return this.opacity===0&&!this.placed}}class wa{constructor(i,o,f,p,b){this.text=new Qa(i?i.text:null,o,f,b),this.icon=new Qa(i?i.icon:null,o,p,b)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Pi{constructor(i,o,f){this.text=i,this.icon=o,this.skipFade=f}}class tA{constructor(i,o,f,p,b){this.bucketInstanceId=i,this.featureIndex=o,this.sourceLayerIndex=f,this.bucketIndex=p,this.tileID=b}}class rA{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const o=++this.maxGroupID;this.collisionGroups[i]={ID:o,predicate:f=>f.collisionGroupID===o}}return this.collisionGroups[i]}}function ah(_,i,o,f,p){const{horizontalAlign:b,verticalAlign:B}=s.aE(_);return new s.P(-(b-.5)*i+f[0]*p,-(B-.5)*o+f[1]*p)}class tl{constructor(i,o,f,p,b){this.transform=i.clone(),this.terrain=o,this.collisionIndex=new Ji(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=f,this.retainedQueryData={},this.collisionGroups=new rA(p),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=b,b&&(b.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(i){const o=this.terrain;return o?(f,p)=>o.getElevation(i,f,p):null}getBucketParts(i,o,f,p){const b=f.getBucket(o),B=f.latestFeatureIndex;if(!b||!B||o.id!==b.layerIds[0])return;const E=f.collisionBoxArray,T=b.layers[0].layout,Y=b.layers[0].paint,Q=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),O=f.tileSize/s.Z,H=f.tileID.toUnwrapped(),ee=T.get("text-rotation-alignment")==="map",ie=s.az(f,1,this.transform.zoom),me=s.aA(this.collisionIndex.transform,f,Y.get("text-translate"),Y.get("text-translate-anchor")),pe=s.aA(this.collisionIndex.transform,f,Y.get("icon-translate"),Y.get("icon-translate-anchor")),be=ft(ee,this.transform,ie);this.retainedQueryData[b.bucketInstanceId]=new tA(b.bucketInstanceId,B,b.sourceLayerIndex,b.index,f.tileID);const Be={bucket:b,layout:T,translationText:me,translationIcon:pe,unwrappedTileID:H,pitchedLabelPlaneMatrix:be,scale:Q,textPixelRatio:O,holdingForFade:f.holdingForFade(),collisionBoxArray:E,partiallyEvaluatedTextSize:s.ak(b.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(b.sourceID)};if(p)for(const Ie of b.sortKeyRanges){const{sortKey:Ee,symbolInstanceStart:Se,symbolInstanceEnd:ke}=Ie;i.push({sortKey:Ee,symbolInstanceStart:Se,symbolInstanceEnd:ke,parameters:Be})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:b.symbolInstances.length,parameters:Be})}attemptAnchorPlacement(i,o,f,p,b,B,E,T,Y,Q,O,H,ee,ie,me,pe,be,Be,Ie,Ee){const Se=s.aB[i.textAnchor],ke=[i.textOffset0,i.textOffset1],Pe=ah(Se,f,p,ke,b),We=this.collisionIndex.placeCollisionBox(o,H,T,Y,Q,E,B,pe,O.predicate,Ie,Pe,Ee);if((!Be||this.collisionIndex.placeCollisionBox(Be,H,T,Y,Q,E,B,be,O.predicate,Ie,Pe,Ee).placeable)&&We.placeable){let et;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID].text&&(et=this.prevPlacement.variableOffsets[ee.crossTileID].anchor),ee.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ee.crossTileID]={textOffset:ke,width:f,height:p,anchor:Se,textBoxScale:b,prevAnchor:et},this.markUsedJustification(ie,Se,ee,me),ie.allowVerticalPlacement&&(this.markUsedOrientation(ie,me,ee),this.placedOrientations[ee.crossTileID]=me),{shift:Pe,placedGlyphBoxes:We}}}placeLayerBucketPart(i,o,f){const{bucket:p,layout:b,translationText:B,translationIcon:E,unwrappedTileID:T,pitchedLabelPlaneMatrix:Y,textPixelRatio:Q,holdingForFade:O,collisionBoxArray:H,partiallyEvaluatedTextSize:ee,collisionGroup:ie}=i.parameters,me=b.get("text-optional"),pe=b.get("icon-optional"),be=s.aC(b,"text-overlap","text-allow-overlap"),Be=be==="always",Ie=s.aC(b,"icon-overlap","icon-allow-overlap"),Ee=Ie==="always",Se=b.get("text-rotation-alignment")==="map",ke=b.get("text-pitch-alignment")==="map",Pe=b.get("icon-text-fit")!=="none",We=b.get("symbol-z-order")==="viewport-y",et=Be&&(Ee||!p.hasIconData()||pe),ht=Ee&&(Be||!p.hasTextData()||me);!p.collisionArrays&&H&&p.deserializeCollisionBoxes(H);const gt=this.retainedQueryData[p.bucketInstanceId].tileID,ut=this._getTerrainElevationFunc(gt),Dt=this.transform.getFastPathSimpleProjectionMatrix(gt),Ft=(yt,ar,Ur)=>{var wr,Ri;if(o[yt.crossTileID])return;if(O)return void(this.placements[yt.crossTileID]=new Pi(!1,!1,!1));let ai=!1,Ii=!1,bi=!0,si=null,ri={box:null,placeable:!1,offscreen:null,occluded:!1},ha={placeable:!1},aa=null,Ca=null,Sa=null,is=0,Js=0,ws=0;ar.textFeatureIndex?is=ar.textFeatureIndex:yt.useRuntimeCollisionCircles&&(is=yt.featureIndex),ar.verticalTextFeatureIndex&&(Js=ar.verticalTextFeatureIndex);const Bs=ar.textBox;if(Bs){const an=Fi=>{let yi=s.al.horizontal;if(p.allowVerticalPlacement&&!Fi&&this.prevPlacement){const Hi=this.prevPlacement.placedOrientations[yt.crossTileID];Hi&&(this.placedOrientations[yt.crossTileID]=Hi,yi=Hi,this.markUsedOrientation(p,yi,yt))}return yi},eo=(Fi,yi)=>{if(p.allowVerticalPlacement&&yt.numVerticalGlyphVertices>0&&ar.verticalTextBox){for(const Hi of p.writingModes)if(Hi===s.al.vertical?(ri=yi(),ha=ri):ri=Fi(),ri&&ri.placeable)break}else ri=Fi()},Cs=yt.textAnchorOffsetStartIndex,Ms=yt.textAnchorOffsetEndIndex;if(Ms===Cs){const Fi=(yi,Hi)=>{const Ui=this.collisionIndex.placeCollisionBox(yi,be,Q,gt,T,ke,Se,B,ie.predicate,ut,void 0,Dt);return Ui&&Ui.placeable&&(this.markUsedOrientation(p,Hi,yt),this.placedOrientations[yt.crossTileID]=Hi),Ui};eo(()=>Fi(Bs,s.al.horizontal),()=>{const yi=ar.verticalTextBox;return p.allowVerticalPlacement&&yt.numVerticalGlyphVertices>0&&yi?Fi(yi,s.al.vertical):{box:null,offscreen:null}}),an(ri&&ri.placeable)}else{let Fi=s.aB[(Ri=(wr=this.prevPlacement)===null||wr===void 0?void 0:wr.variableOffsets[yt.crossTileID])===null||Ri===void 0?void 0:Ri.anchor];const yi=(Ui,Pf,To)=>{const n2=Ui.x2-Ui.x1,Lf=Ui.y2-Ui.y1,rd=yt.textBoxScale,kf=Pe&&Ie==="never"?Pf:null;let nn=null,to=be==="never"?1:2,id="never";Fi&&to++;for(let Qf=0;Qf<to;Qf++){for(let FA=Cs;FA<Ms;FA++){const ad=p.textAnchorOffsets.get(FA);if(Fi&&ad.textAnchor!==Fi)continue;const nd=this.attemptAnchorPlacement(ad,Ui,n2,Lf,rd,Se,ke,Q,gt,T,ie,id,yt,p,To,B,E,kf,ut);if(nd&&(nn=nd.placedGlyphBoxes,nn&&nn.placeable))return ai=!0,si=nd.shift,nn}Fi?Fi=null:id=be}return f&&!nn&&(nn={box:this.collisionIndex.placeCollisionBox(Bs,"always",Q,gt,T,ke,Se,B,ie.predicate,ut,void 0,Dt).box,offscreen:!1,placeable:!1,occluded:!1}),nn};eo(()=>yi(Bs,ar.iconBox,s.al.horizontal),()=>{const Ui=ar.verticalTextBox;return p.allowVerticalPlacement&&(!ri||!ri.placeable)&&yt.numVerticalGlyphVertices>0&&Ui?yi(Ui,ar.verticalIconBox,s.al.vertical):{box:null,occluded:!0,offscreen:null}}),ri&&(ai=ri.placeable,bi=ri.offscreen);const Hi=an(ri&&ri.placeable);if(!ai&&this.prevPlacement){const Ui=this.prevPlacement.variableOffsets[yt.crossTileID];Ui&&(this.variableOffsets[yt.crossTileID]=Ui,this.markUsedJustification(p,Ui.anchor,yt,Hi))}}}if(aa=ri,ai=aa&&aa.placeable,bi=aa&&aa.offscreen,yt.useRuntimeCollisionCircles){const an=p.text.placedSymbolArray.get(yt.centerJustifiedTextSymbolIndex),eo=s.am(p.textSizeData,ee,an),Cs=b.get("text-padding");Ca=this.collisionIndex.placeCollisionCircles(be,an,p.lineVertexArray,p.glyphOffsetArray,eo,T,Y,f,ke,ie.predicate,yt.collisionCircleDiameter,Cs,B,ut),Ca.circles.length&&Ca.collisionDetected&&!f&&s.w("Collisions detected, but collision boxes are not shown"),ai=Be||Ca.circles.length>0&&!Ca.collisionDetected,bi=bi&&Ca.offscreen}if(ar.iconFeatureIndex&&(ws=ar.iconFeatureIndex),ar.iconBox){const an=eo=>this.collisionIndex.placeCollisionBox(eo,Ie,Q,gt,T,ke,Se,E,ie.predicate,ut,Pe&&si?si:void 0,Dt);ha&&ha.placeable&&ar.verticalIconBox?(Sa=an(ar.verticalIconBox),Ii=Sa.placeable):(Sa=an(ar.iconBox),Ii=Sa.placeable),bi=bi&&Sa.offscreen}const as=me||yt.numHorizontalGlyphVertices===0&&yt.numVerticalGlyphVertices===0,Eo=pe||yt.numIconVertices===0;as||Eo?Eo?as||(Ii=Ii&&ai):ai=Ii&&ai:Ii=ai=Ii&&ai;const Fo=Ii&&Sa.placeable;if(ai&&aa.placeable&&this.collisionIndex.insertCollisionBox(aa.box,be,b.get("text-ignore-placement"),p.bucketInstanceId,ha&&ha.placeable&&Js?Js:is,ie.ID),Fo&&this.collisionIndex.insertCollisionBox(Sa.box,Ie,b.get("icon-ignore-placement"),p.bucketInstanceId,ws,ie.ID),Ca&&ai&&this.collisionIndex.insertCollisionCircles(Ca.circles,be,b.get("text-ignore-placement"),p.bucketInstanceId,is,ie.ID),f&&this.storeCollisionData(p.bucketInstanceId,Ur,ar,aa,Sa,Ca),yt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(p.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[yt.crossTileID]=new Pi((ai||et)&&!(aa!=null&&aa.occluded),(Ii||ht)&&!(Sa!=null&&Sa.occluded),bi||p.justReloaded),o[yt.crossTileID]=!0};if(We){if(i.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const yt=p.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let ar=yt.length-1;ar>=0;--ar){const Ur=yt[ar];Ft(p.symbolInstances.get(Ur),p.collisionArrays[Ur],Ur)}}else for(let yt=i.symbolInstanceStart;yt<i.symbolInstanceEnd;yt++)Ft(p.symbolInstances.get(yt),p.collisionArrays[yt],yt);p.justReloaded=!1}storeCollisionData(i,o,f,p,b,B){if(f.textBox||f.iconBox){let E,T;this.collisionBoxArrays.has(i)?E=this.collisionBoxArrays.get(i):(E=new Map,this.collisionBoxArrays.set(i,E)),E.has(o)?T=E.get(o):(T={text:null,icon:null},E.set(o,T)),f.textBox&&(T.text=p.box),f.iconBox&&(T.icon=b.box)}if(B){let E=this.collisionCircleArrays[i];E===void 0&&(E=this.collisionCircleArrays[i]=[]);for(let T=0;T<B.circles.length;T+=4)E.push(B.circles[T+0]-Xr),E.push(B.circles[T+1]-Xr),E.push(B.circles[T+2]),E.push(B.collisionDetected?1:0)}}markUsedJustification(i,o,f,p){let b;b=p===s.al.vertical?f.verticalPlacedTextSymbolIndex:{left:f.leftJustifiedTextSymbolIndex,center:f.centerJustifiedTextSymbolIndex,right:f.rightJustifiedTextSymbolIndex}[s.aD(o)];const B=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex,f.verticalPlacedTextSymbolIndex];for(const E of B)E>=0&&(i.text.placedSymbolArray.get(E).crossTileID=b>=0&&E!==b?0:f.crossTileID)}markUsedOrientation(i,o,f){const p=o===s.al.horizontal||o===s.al.horizontalOnly?o:0,b=o===s.al.vertical?o:0,B=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex];for(const E of B)i.text.placedSymbolArray.get(E).placedOrientation=p;f.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(f.verticalPlacedTextSymbolIndex).placedOrientation=b)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const o=this.prevPlacement;let f=!1;this.prevZoomAdjustment=o?o.zoomAdjustment(this.transform.zoom):0;const p=o?o.symbolFadeChange(i):1,b=o?o.opacities:{},B=o?o.variableOffsets:{},E=o?o.placedOrientations:{};for(const T in this.placements){const Y=this.placements[T],Q=b[T];Q?(this.opacities[T]=new wa(Q,p,Y.text,Y.icon),f=f||Y.text!==Q.text.placed||Y.icon!==Q.icon.placed):(this.opacities[T]=new wa(null,p,Y.text,Y.icon,Y.skipFade),f=f||Y.text||Y.icon)}for(const T in b){const Y=b[T];if(!this.opacities[T]){const Q=new wa(Y,p,!1,!1);Q.isHidden()||(this.opacities[T]=Q,f=f||Y.text.placed||Y.icon.placed)}}for(const T in B)this.variableOffsets[T]||!this.opacities[T]||this.opacities[T].isHidden()||(this.variableOffsets[T]=B[T]);for(const T in E)this.placedOrientations[T]||!this.opacities[T]||this.opacities[T].isHidden()||(this.placedOrientations[T]=E[T]);if(o&&o.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");f?this.lastPlacementChangeTime=i:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=o?o.lastPlacementChangeTime:i)}updateLayerOpacities(i,o){const f={};for(const p of o){const b=p.getBucket(i);b&&p.latestFeatureIndex&&i.id===b.layerIds[0]&&this.updateBucketOpacities(b,p.tileID,f,p.collisionBoxArray)}}updateBucketOpacities(i,o,f,p){i.hasTextData()&&(i.text.opacityVertexArray.clear(),i.text.hasVisibleVertices=!1),i.hasIconData()&&(i.icon.opacityVertexArray.clear(),i.icon.hasVisibleVertices=!1),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const b=i.layers[0],B=b.layout,E=new wa(null,0,!1,!1,!0),T=B.get("text-allow-overlap"),Y=B.get("icon-allow-overlap"),Q=b._unevaluatedLayout.hasValue("text-variable-anchor")||b._unevaluatedLayout.hasValue("text-variable-anchor-offset"),O=B.get("text-rotation-alignment")==="map",H=B.get("text-pitch-alignment")==="map",ee=B.get("icon-text-fit")!=="none",ie=new wa(null,0,T&&(Y||!i.hasIconData()||B.get("icon-optional")),Y&&(T||!i.hasTextData()||B.get("text-optional")),!0);!i.collisionArrays&&p&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(p);const me=(be,Be,Ie)=>{for(let Ee=0;Ee<Be/4;Ee++)be.opacityVertexArray.emplaceBack(Ie);be.hasVisibleVertices=be.hasVisibleVertices||Ie!==bo},pe=this.collisionBoxArrays.get(i.bucketInstanceId);for(let be=0;be<i.symbolInstances.length;be++){const Be=i.symbolInstances.get(be),{numHorizontalGlyphVertices:Ie,numVerticalGlyphVertices:Ee,crossTileID:Se}=Be;let ke=this.opacities[Se];f[Se]?ke=E:ke||(ke=ie,this.opacities[Se]=ke),f[Se]=!0;const Pe=Be.numIconVertices>0,We=this.placedOrientations[Be.crossTileID],et=We===s.al.vertical,ht=We===s.al.horizontal||We===s.al.horizontalOnly;if(Ie>0||Ee>0){const ut=lh(ke.text);me(i.text,Ie,et?bo:ut),me(i.text,Ee,ht?bo:ut);const Dt=ke.text.isHidden();[Be.rightJustifiedTextSymbolIndex,Be.centerJustifiedTextSymbolIndex,Be.leftJustifiedTextSymbolIndex].forEach(ar=>{ar>=0&&(i.text.placedSymbolArray.get(ar).hidden=Dt||et?1:0)}),Be.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(Be.verticalPlacedTextSymbolIndex).hidden=Dt||ht?1:0);const Ft=this.variableOffsets[Be.crossTileID];Ft&&this.markUsedJustification(i,Ft.anchor,Be,We);const yt=this.placedOrientations[Be.crossTileID];yt&&(this.markUsedJustification(i,"left",Be,yt),this.markUsedOrientation(i,yt,Be))}if(Pe){const ut=lh(ke.icon),Dt=!(ee&&Be.verticalPlacedIconSymbolIndex&&et);Be.placedIconSymbolIndex>=0&&(me(i.icon,Be.numIconVertices,Dt?ut:bo),i.icon.placedSymbolArray.get(Be.placedIconSymbolIndex).hidden=ke.icon.isHidden()),Be.verticalPlacedIconSymbolIndex>=0&&(me(i.icon,Be.numVerticalIconVertices,Dt?bo:ut),i.icon.placedSymbolArray.get(Be.verticalPlacedIconSymbolIndex).hidden=ke.icon.isHidden())}const gt=pe&&pe.has(be)?pe.get(be):{text:null,icon:null};if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const ut=i.collisionArrays[be];if(ut){let Dt=new s.P(0,0);if(ut.textBox||ut.verticalTextBox){let Ft=!0;if(Q){const yt=this.variableOffsets[Se];yt?(Dt=ah(yt.anchor,yt.width,yt.height,yt.textOffset,yt.textBoxScale),O&&Dt._rotate(H?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Ft=!1}if(ut.textBox||ut.verticalTextBox){let yt;ut.textBox&&(yt=et),ut.verticalTextBox&&(yt=ht),nh(i.textCollisionBox.collisionVertexArray,ke.text.placed,!Ft||yt,gt.text,Dt.x,Dt.y)}}if(ut.iconBox||ut.verticalIconBox){const Ft=!!(!ht&&ut.verticalIconBox);let yt;ut.iconBox&&(yt=Ft),ut.verticalIconBox&&(yt=!Ft),nh(i.iconCollisionBox.collisionVertexArray,ke.icon.placed,yt,gt.icon,ee?Dt.x:0,ee?Dt.y:0)}}}}if(i.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);i.bucketInstanceId in this.collisionCircleArrays&&(i.collisionCircleArray=this.collisionCircleArrays[i.bucketInstanceId],delete this.collisionCircleArrays[i.bucketInstanceId])}symbolFadeChange(i){return this.fadeDuration===0?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,o){const f=this.zoomAtLastRecencyCheck===o?1-this.zoomAdjustment(o):1;return this.zoomAtLastRecencyCheck=o,this.commitTime+this.fadeDuration*f>i}setStale(){this.stale=!0}}function nh(_,i,o,f,p,b){f&&f.length!==0||(f=[0,0,0,0]);const B=f[0]-Xr,E=f[1]-Xr,T=f[2]-Xr,Y=f[3]-Xr;_.emplaceBack(i?1:0,o?1:0,p||0,b||0,B,E),_.emplaceBack(i?1:0,o?1:0,p||0,b||0,T,E),_.emplaceBack(i?1:0,o?1:0,p||0,b||0,T,Y),_.emplaceBack(i?1:0,o?1:0,p||0,b||0,B,Y)}const Lp=Math.pow(2,25),kp=Math.pow(2,24),Qp=Math.pow(2,17),V0=Math.pow(2,16),G0=Math.pow(2,9),sh=Math.pow(2,8),oh=Math.pow(2,1);function lh(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const i=_.placed?1:0,o=Math.floor(127*_.opacity);return o*Lp+i*kp+o*Qp+i*V0+o*G0+i*sh+o*oh+i}const bo=0;class Ah{constructor(i){this._sortAcrossTiles=i.layout.get("symbol-z-order")!=="viewport-y"&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,o,f,p,b){const B=this._bucketParts;for(;this._currentTileIndex<i.length;)if(o.getBucketParts(B,p,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,b())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,B.sort((E,T)=>E.sortKey-T.sortKey));this._currentPartIndex<B.length;)if(o.placeLayerBucketPart(B[this._currentPartIndex],this._seenCrossTileIDs,f),this._currentPartIndex++,b())return!0;return!1}}class Ac{constructor(i,o,f,p,b,B,E,T){this.placement=new tl(i,o,B,E,T),this._currentPlacementIndex=f.length-1,this._forceFullPlacement=p,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(i,o,f){const p=U.now(),b=()=>!this._forceFullPlacement&&U.now()-p>2;for(;this._currentPlacementIndex>=0;){const B=o[i[this._currentPlacementIndex]],E=this.placement.collisionIndex.transform.zoom;if(B.type==="symbol"&&(!B.minzoom||B.minzoom<=E)&&(!B.maxzoom||B.maxzoom>E)){if(this._inProgressLayer||(this._inProgressLayer=new Ah(B)),this._inProgressLayer.continuePlacement(f[B.source],this.placement,this._showCollisionBoxes,B,b))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const rl=512/s.Z/2;class il{constructor(i,o,f){this.tileID=i,this.bucketInstanceId=f,this._symbolsByKey={};const p=new Map;for(let b=0;b<o.length;b++){const B=o.get(b),E=B.key,T=p.get(E);T?T.push(B):p.set(E,[B])}for(const[b,B]of p){const E={positions:B.map(T=>({x:Math.floor(T.anchorX*rl),y:Math.floor(T.anchorY*rl)})),crossTileIDs:B.map(T=>T.crossTileID)};if(E.positions.length>128){const T=new s.aF(E.positions.length,16,Uint16Array);for(const{x:Y,y:Q}of E.positions)T.add(Y,Q);T.finish(),delete E.positions,E.index=T}this._symbolsByKey[b]=E}}getScaledCoordinates(i,o){const{x:f,y:p,z:b}=this.tileID.canonical,{x:B,y:E,z:T}=o.canonical,Y=rl/Math.pow(2,T-b),Q=(E*s.Z+i.anchorY)*Y,O=p*s.Z*rl;return{x:Math.floor((B*s.Z+i.anchorX)*Y-f*s.Z*rl),y:Math.floor(Q-O)}}findMatches(i,o,f){const p=this.tileID.canonical.z<o.canonical.z?1:Math.pow(2,this.tileID.canonical.z-o.canonical.z);for(let b=0;b<i.length;b++){const B=i.get(b);if(B.crossTileID)continue;const E=this._symbolsByKey[B.key];if(!E)continue;const T=this.getScaledCoordinates(B,o);if(E.index){const Y=E.index.range(T.x-p,T.y-p,T.x+p,T.y+p).sort();for(const Q of Y){const O=E.crossTileIDs[Q];if(!f[O]){f[O]=!0,B.crossTileID=O;break}}}else if(E.positions)for(let Y=0;Y<E.positions.length;Y++){const Q=E.positions[Y],O=E.crossTileIDs[Y];if(Math.abs(Q.x-T.x)<=p&&Math.abs(Q.y-T.y)<=p&&!f[O]){f[O]=!0,B.crossTileID=O;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:i})=>i)}}class j0{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Dp{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const o=Math.round((i-this.lng)/360);if(o!==0)for(const f in this.indexes){const p=this.indexes[f],b={};for(const B in p){const E=p[B];E.tileID=E.tileID.unwrapTo(E.tileID.wrap+o),b[E.tileID.key]=E}this.indexes[f]=b}this.lng=i}addBucket(i,o,f){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===o.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let b=0;b<o.symbolInstances.length;b++)o.symbolInstances.get(b).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const p=this.usedCrossTileIDs[i.overscaledZ];for(const b in this.indexes){const B=this.indexes[b];if(Number(b)>i.overscaledZ)for(const E in B){const T=B[E];T.tileID.isChildOf(i)&&T.findMatches(o.symbolInstances,i,p)}else{const E=B[i.scaledTo(Number(b)).key];E&&E.findMatches(o.symbolInstances,i,p)}}for(let b=0;b<o.symbolInstances.length;b++){const B=o.symbolInstances.get(b);B.crossTileID||(B.crossTileID=f.generate(),p[B.crossTileID]=!0)}return this.indexes[i.overscaledZ]===void 0&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new il(i,o.symbolInstances,o.bucketInstanceId),!0}removeBucketCrossTileIDs(i,o){for(const f of o.getCrossTileIDsLists())for(const p of f)delete this.usedCrossTileIDs[i][p]}removeStaleBuckets(i){let o=!1;for(const f in this.indexes){const p=this.indexes[f];for(const b in p)i[p[b].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,p[b]),delete p[b],o=!0)}return o}}class _s{constructor(){this.layerIndexes={},this.crossTileIDs=new j0,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,o,f){let p=this.layerIndexes[i.id];p===void 0&&(p=this.layerIndexes[i.id]=new Dp);let b=!1;const B={};p.handleWrapJump(f);for(const E of o){const T=E.getBucket(i);T&&i.id===T.layerIds[0]&&(T.bucketInstanceId||(T.bucketInstanceId=++this.maxBucketInstanceId),p.addBucket(E.tileID,T,this.crossTileIDs)&&(b=!0),B[T.bucketInstanceId]=!0)}return p.removeStaleBuckets(B)&&(b=!0),b}pruneUnusedLayers(i){const o={};i.forEach(f=>{o[f]=!0});for(const f in this.layerIndexes)o[f]||delete this.layerIndexes[f]}}var al="void main() {fragColor=vec4(1.0);}";const Tr={prelude:Zr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:Zr("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:Zr("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:Zr(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:Zr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Zr(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Zr(al,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:Zr(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:Zr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Zr("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Zr("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Zr("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:Zr(al,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:Zr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:Zr(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:Zr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:Zr(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Zr(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Zr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Zr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));fragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Zr(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:Zr(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Zr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Zr(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Zr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Zr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:Zr(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Zr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Zr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Zr("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Zr("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Zr("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:Zr("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:Zr(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:Zr("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Zr(_,i){const o=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,f=i.match(/in ([\w]+) ([\w]+)/g),p=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),b=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),B=b?b.concat(p):p,E={};return{fragmentSource:_=_.replace(o,(T,Y,Q,O,H)=>(E[H]=!0,Y==="define"?`
#ifndef HAS_UNIFORM_u_${H}
in ${Q} ${O} ${H};
#else
uniform ${Q} ${O} u_${H};
#endif
`:`
#ifdef HAS_UNIFORM_u_${H}
    ${Q} ${O} ${H} = u_${H};
#endif
`)),vertexSource:i=i.replace(o,(T,Y,Q,O,H)=>{const ee=O==="float"?"vec2":"vec4",ie=H.match(/color/)?"color":ee;return E[H]?Y==="define"?`
#ifndef HAS_UNIFORM_u_${H}
uniform lowp float u_${H}_t;
in ${Q} ${ee} a_${H};
out ${Q} ${O} ${H};
#else
uniform ${Q} ${O} u_${H};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${H}
    ${H} = a_${H};
#else
    ${Q} ${O} ${H} = u_${H};
#endif
`:`
#ifndef HAS_UNIFORM_u_${H}
    ${H} = unpack_mix_${ie}(a_${H}, u_${H}_t);
#else
    ${Q} ${O} ${H} = u_${H};
#endif
`:Y==="define"?`
#ifndef HAS_UNIFORM_u_${H}
uniform lowp float u_${H}_t;
in ${Q} ${ee} a_${H};
#else
uniform ${Q} ${O} u_${H};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${H}
    ${Q} ${O} ${H} = a_${H};
#else
    ${Q} ${O} ${H} = u_${H};
#endif
`:`
#ifndef HAS_UNIFORM_u_${H}
    ${Q} ${O} ${H} = unpack_mix_${ie}(a_${H}, u_${H}_t);
#else
    ${Q} ${O} ${H} = u_${H};
#endif
`}),staticAttributes:f,staticUniforms:B}}class nl{constructor(i,o,f){this.vertexBuffer=i,this.indexBuffer=o,this.segments=f}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var $n=s.aG([{name:"a_pos",type:"Int16",components:2}]);const Va="#define PROJECTION_MERCATOR",Fa="mercator";class Li{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return Fa}get shaderDefine(){return Va}get shaderPreludeCode(){return Tr.projectionMercator}get vertexShaderPreludeCode(){return Tr.projectionMercator.vertexSource}get subdivisionGranularity(){return s.aH.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(i){}getMeshFromTileID(i,o,f,p,b){if(this._cachedMesh)return this._cachedMesh;const B=new s.aI;B.emplaceBack(0,0),B.emplaceBack(s.Z,0),B.emplaceBack(0,s.Z),B.emplaceBack(s.Z,s.Z);const E=i.createVertexBuffer(B,$n.members),T=s.aJ.simpleSegment(0,0,4,2),Y=new s.aK;Y.emplaceBack(1,0,2),Y.emplaceBack(1,2,3);const Q=i.createIndexBuffer(Y);return this._cachedMesh=new nl(E,Q,T),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(i){}}class iA{constructor(i=0,o=0,f=0,p=0){if(isNaN(i)||i<0||isNaN(o)||o<0||isNaN(f)||f<0||isNaN(p)||p<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=o,this.left=f,this.right=p}interpolate(i,o,f){return o.top!=null&&i.top!=null&&(this.top=s.B.number(i.top,o.top,f)),o.bottom!=null&&i.bottom!=null&&(this.bottom=s.B.number(i.bottom,o.bottom,f)),o.left!=null&&i.left!=null&&(this.left=s.B.number(i.left,o.left,f)),o.right!=null&&i.right!=null&&(this.right=s.B.number(i.right,o.right,f)),this}getCenter(i,o){const f=s.ae((this.left+i-this.right)/2,0,i),p=s.ae((this.top+o-this.bottom)/2,0,o);return new s.P(f,p)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new iA(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Ba(_,i){if(!_.renderWorldCopies||_.lngRange)return;const o=i.lng-_.center.lng;i.lng+=o>180?-360:o<-180?360:0}function rn(_){return Math.max(0,Math.floor(_))}class Da{constructor(i,o,f,p,b,B){this._callbacks=i,this._tileSize=512,this._renderWorldCopies=B===void 0||!!B,this._minZoom=o||0,this._maxZoom=f||22,this._minPitch=p??0,this._maxPitch=b??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new s.Q(0,0),this._elevation=0,this._zoom=0,this._tileZoom=rn(this._zoom),this._scale=s.ac(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new iA,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(i,o,f){this._latRange=i.latRange,this._lngRange=i.lngRange,this._width=i.width,this._height=i.height,this._center=i.center,this._elevation=i.elevation,this._minElevationForCurrentTile=i.minElevationForCurrentTile,this._zoom=i.zoom,this._tileZoom=rn(this._zoom),this._scale=s.ac(this._zoom),this._bearingInRadians=i.bearingInRadians,this._fovInRadians=i.fovInRadians,this._pitchInRadians=i.pitchInRadians,this._rollInRadians=i.rollInRadians,this._unmodified=i.unmodified,this._edgeInsets=new iA(i.padding.top,i.padding.bottom,i.padding.left,i.padding.right),this._minZoom=i.minZoom,this._maxZoom=i.maxZoom,this._minPitch=i.minPitch,this._maxPitch=i.maxPitch,this._renderWorldCopies=i.renderWorldCopies,this._cameraToCenterDistance=i.cameraToCenterDistance,this._nearZ=i.nearZ,this._farZ=i.farZ,this._autoCalculateNearFarZ=!f&&i.autoCalculateNearFarZ,o&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(i){this._minElevationForCurrentTile=i}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(i){this._minZoom!==i&&(this._minZoom=i,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(i){this._minPitch!==i&&(this._minPitch=i,this.setPitch(Math.max(this.pitch,i)))}get maxPitch(){return this._maxPitch}setMaxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.setPitch(Math.min(this.pitch,i)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(i){i===void 0?i=!0:i===null&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(i){const o=s.aL(i,-180,180)*Math.PI/180;var f,p,b,B,E,T,Y,Q,O;this._bearingInRadians!==o&&(this._unmodified=!1,this._bearingInRadians=o,this._calcMatrices(),this._rotationMatrix=w(),f=this._rotationMatrix,b=-this._bearingInRadians,B=(p=this._rotationMatrix)[0],E=p[1],T=p[2],Y=p[3],Q=Math.sin(b),O=Math.cos(b),f[0]=B*O+T*Q,f[1]=E*O+Y*Q,f[2]=B*-Q+T*O,f[3]=E*-Q+Y*O)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(i){const o=s.ae(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==o&&(this._unmodified=!1,this._pitchInRadians=o,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(i){const o=i/180*Math.PI;this._rollInRadians!==o&&(this._unmodified=!1,this._rollInRadians=o,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return s.aM(this._fovInRadians)}setFov(i){i=s.ae(i,.1,150),this.fov!==i&&(this._unmodified=!1,this._fovInRadians=s.ab(i),this._calcMatrices())}get zoom(){return this._zoom}setZoom(i){const o=this.getConstrained(this._center,i).zoom;this._zoom!==o&&(this._unmodified=!1,this._zoom=o,this._tileZoom=Math.max(0,Math.floor(o)),this._scale=s.ac(o),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(i,o){this._autoCalculateNearFarZ=!1,this._nearZ=i,this._farZ=o,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,o,f){this._unmodified=!1,this._edgeInsets.interpolate(i,o,f),this._constrain(),this._calcMatrices()}resize(i,o,f=!0){this._width=i,this._height=o,f&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new St([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(i){i?(this._lngRange=[i.getWest(),i.getEast()],this._latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,s.af])}getConstrained(i,o){return this._callbacks.getConstrained(i,o)}getCameraQueryGeometry(i,o){if(o.length===1)return[o[0],i];{let f=i.x,p=i.y,b=i.x,B=i.y;for(const E of o)f=Math.min(f,E.x),p=Math.min(p,E.y),b=Math.max(b,E.x),B=Math.max(B,E.y);return[new s.P(f,p),new s.P(b,p),new s.P(b,B),new s.P(f,B),new s.P(f,p)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const i=this._unmodified,{center:o,zoom:f}=this.getConstrained(this.center,this.zoom);this.setCenter(o),this.setZoom(f),this._unmodified=i,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let i=s.ad(new Float64Array(16));s.M(i,i,[this._width/2,-this._height/2,1]),s.L(i,i,[1,-1,0]),this._clipSpaceToPixelsMatrix=i,i=s.ad(new Float64Array(16)),s.M(i,i,[1,-1,1]),s.L(i,i,[-1,-1,0]),s.M(i,i,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=i,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(i,o,f,p){const b=f!==void 0?f:this.bearing,B=p=p!==void 0?p:this.pitch,E=s.$.fromLngLat(i,o),T=-Math.cos(s.ab(B)),Y=Math.sin(s.ab(B)),Q=Y*Math.sin(s.ab(b)),O=-Y*Math.cos(s.ab(b));let H=this.elevation;const ee=o-H;let ie;T*ee>=0||Math.abs(T)<.1?(ie=1e4,H=o+ie*T):ie=-ee/T;let me,pe,be=s.aN(1,E.y),Be=0;do{if(Be+=1,Be>10)break;pe=ie/be,me=new s.$(E.x+Q*pe,E.y+O*pe),be=1/me.meterInMercatorCoordinateUnits()}while(Math.abs(ie-pe*be)>1e-12);return{center:me.toLngLat(),elevation:H,zoom:s.ah(this.height/2/Math.tan(this.fovInRadians/2)/pe/this.tileSize)}}recalculateZoomAndCenter(i){if(this.elevation-i==0)return;const o=s.ag(1,this.center.lat)*this.worldSize,f=this.cameraToCenterDistance/o,p=s.$.fromLngLat(this.center,this.elevation),b=oe(this.center,this.elevation,this.pitch,this.bearing,f);this._elevation=i;const B=this.calculateCenterFromCameraLngLatAlt(b.toLngLat(),s.aN(b.z,p.y),this.bearing,this.pitch);this._elevation=B.elevation,this._center=B.center,this.setZoom(B.zoom)}getCameraPoint(){const i=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.P(i*Math.sin(this.rollInRadians),i*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const i=s.ag(1,this.center.lat)*this.worldSize;return oe(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/i).toLngLat()}getMercatorTileCoordinates(i){if(!i)return[0,0,1,1];const o=i.canonical.z>=0?1<<i.canonical.z:Math.pow(2,i.canonical.z);return[i.canonical.x/o,i.canonical.y/o,1/o/s.Z,1/o/s.Z]}}class Gs{constructor(i,o){this.min=i,this.max=o,this.center=s.aO([],s.aP([],this.min,this.max),.5)}quadrant(i){const o=[i%2==0,i<2],f=s.aQ(this.min),p=s.aQ(this.max);for(let b=0;b<o.length;b++)f[b]=o[b]?this.min[b]:this.center[b],p[b]=o[b]?this.center[b]:this.max[b];return p[2]=this.max[2],new Gs(f,p)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersectsFrustum(i){let o=!0;for(let f=0;f<i.planes.length;f++){const p=this.intersectsPlane(i.planes[f]);if(p===0)return 0;p===1&&(o=!1)}return o?2:i.aabb.min[0]>this.max[0]||i.aabb.min[1]>this.max[1]||i.aabb.min[2]>this.max[2]||i.aabb.max[0]<this.min[0]||i.aabb.max[1]<this.min[1]||i.aabb.max[2]<this.min[2]?0:1}intersectsPlane(i){let o=i[3],f=i[3];for(let p=0;p<3;p++)i[p]>0?(o+=i[p]*this.min[p],f+=i[p]*this.max[p]):(f+=i[p]*this.min[p],o+=i[p]*this.max[p]);return o>=0?2:f<0?0:1}}class aA{distanceToTile2d(i,o,f,p){const b=p.distanceX([i,o]),B=p.distanceY([i,o]);return Math.hypot(b,B)}getWrap(i,o,f){return f}getTileAABB(i,o,f,p){var b,B;let E=f,T=f;if(p.terrain){const Q=new s.Y(i.z,o,i.z,i.x,i.y),O=p.terrain.getMinMaxElevation(Q);E=(b=O.minElevation)!==null&&b!==void 0?b:f,T=(B=O.maxElevation)!==null&&B!==void 0?B:f}const Y=1<<i.z;return new Gs([o+i.x/Y,i.y/Y,E],[o+(i.x+1)/Y,(i.y+1)/Y,T])}allowVariableZoom(i,o){const f=i.fov*(Math.abs(Math.cos(i.rollInRadians))*i.height+Math.abs(Math.sin(i.rollInRadians))*i.width)/i.height,p=s.ae(78.5-f/2,0,60);return!!o.terrain||i.pitch>p}allowWorldCopies(){return!0}recalculateCache(){}}class ki{constructor(i,o,f){this.points=i,this.planes=o,this.aabb=f}static fromInvProjectionMatrix(i,o=1,f=0){const p=Math.pow(2,f),b=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(Y=>{const Q=1/(Y=s.at([],Y,i))[3]/o*p;return s.aR(Y,Y,[Q,Q,1/Y[3],Q])}),B=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(Y=>{const Q=s.aS([],b[Y[0]],b[Y[1]]),O=s.aS([],b[Y[2]],b[Y[1]]),H=s.aT([],s.aU([],Q,O)),ee=-s.aV(H,b[Y[1]]);return H.concat(ee)}),E=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],T=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const Y of b)for(let Q=0;Q<3;Q++)E[Q]=Math.min(E[Q],Y[Q]),T[Q]=Math.max(T[Q],Y[Q]);return new ki(b,B,new Gs(E,T))}}class qn{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(i){this._helper.setMinZoom(i)}setMaxZoom(i){this._helper.setMaxZoom(i)}setMinPitch(i){this._helper.setMinPitch(i)}setMaxPitch(i){this._helper.setMaxPitch(i)}setRenderWorldCopies(i){this._helper.setRenderWorldCopies(i)}setBearing(i){this._helper.setBearing(i)}setPitch(i){this._helper.setPitch(i)}setRoll(i){this._helper.setRoll(i)}setFov(i){this._helper.setFov(i)}setZoom(i){this._helper.setZoom(i)}setCenter(i){this._helper.setCenter(i)}setElevation(i){this._helper.setElevation(i)}setMinElevationForCurrentTile(i){this._helper.setMinElevationForCurrentTile(i)}setPadding(i){this._helper.setPadding(i)}interpolatePadding(i,o,f){return this._helper.interpolatePadding(i,o,f)}isPaddingEqual(i){return this._helper.isPaddingEqual(i)}resize(i,o,f=!0){this._helper.resize(i,o,f)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(i){this._helper.setMaxBounds(i)}overrideNearFarZ(i,o){this._helper.overrideNearFarZ(i,o)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(i){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),i)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(i,o){}constructor(i,o,f,p,b){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new Da({calcMatrices:()=>{this._calcMatrices()},getConstrained:(B,E)=>this.getConstrained(B,E)},i,o,f,p,b),this._coveringTilesDetailsProvider=new aA}clone(){const i=new qn;return i.apply(this),i}apply(i,o,f){this._helper.apply(i,o,f)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(i){const o=[new s.aW(0,i)];if(this._helper._renderWorldCopies){const f=this.screenPointToMercatorCoordinate(new s.P(0,0)),p=this.screenPointToMercatorCoordinate(new s.P(this._helper._width,0)),b=this.screenPointToMercatorCoordinate(new s.P(this._helper._width,this._helper._height)),B=this.screenPointToMercatorCoordinate(new s.P(0,this._helper._height)),E=Math.floor(Math.min(f.x,p.x,b.x,B.x)),T=Math.floor(Math.max(f.x,p.x,b.x,B.x)),Y=1;for(let Q=E-Y;Q<=T+Y;Q++)Q!==0&&o.push(new s.aW(Q,i))}return o}getCameraFrustum(){return ki.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(i){const o=this.screenPointToLocation(this.centerPoint,i),f=i?i.getElevationForLngLatZoom(o,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(f)}setLocationAtPoint(i,o){const f=s.ag(this.elevation,this.center.lat),p=this.screenPointToMercatorCoordinateAtZ(o,f),b=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,f),B=s.$.fromLngLat(i),E=new s.$(B.x-(p.x-b.x),B.y-(p.y-b.y));this.setCenter(E==null?void 0:E.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(i,o){return o?this.coordinatePoint(s.$.fromLngLat(i),o.getElevationForLngLatZoom(i,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(s.$.fromLngLat(i))}screenPointToLocation(i,o){var f;return(f=this.screenPointToMercatorCoordinate(i,o))===null||f===void 0?void 0:f.toLngLat()}screenPointToMercatorCoordinate(i,o){if(o){const f=o.pointCoordinate(i);if(f!=null)return f}return this.screenPointToMercatorCoordinateAtZ(i)}screenPointToMercatorCoordinateAtZ(i,o){const f=o||0,p=[i.x,i.y,0,1],b=[i.x,i.y,1,1];s.at(p,p,this._pixelMatrixInverse),s.at(b,b,this._pixelMatrixInverse);const B=p[3],E=b[3],T=p[1]/B,Y=b[1]/E,Q=p[2]/B,O=b[2]/E,H=Q===O?0:(f-Q)/(O-Q);return new s.$(s.B.number(p[0]/B,b[0]/E,H)/this.worldSize,s.B.number(T,Y,H)/this.worldSize,f)}coordinatePoint(i,o=0,f=this._pixelMatrix){const p=[i.x*this.worldSize,i.y*this.worldSize,o,1];return s.at(p,p,f),new s.P(p[0]/p[3],p[1]/p[3])}getBounds(){const i=Math.max(0,this._helper._height/2-Oe(this));return new St().extend(this.screenPointToLocation(new s.P(0,i))).extend(this.screenPointToLocation(new s.P(this._helper._width,i))).extend(this.screenPointToLocation(new s.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new s.P(0,this._helper._height)))}isPointOnMapSurface(i,o){return o?o.pointCoordinate(i)!=null:i.y>this.height/2-Oe(this)}calculatePosMatrix(i,o=!1,f){var p;const b=(p=i.key)!==null&&p!==void 0?p:s.aX(i.wrap,i.canonical.z,i.canonical.z,i.canonical.x,i.canonical.y),B=o?this._alignedPosMatrixCache:this._posMatrixCache;if(B.has(b)){const Y=B.get(b);return f?Y.f32:Y.f64}const E=ne(i,this.worldSize);s.N(E,o?this._alignedProjMatrix:this._viewProjMatrix,E);const T={f64:E,f32:new Float32Array(E)};return B.set(b,T),f?T.f32:T.f64}calculateFogMatrix(i){const o=i.key,f=this._fogMatrixCacheF32;if(f.has(o))return f.get(o);const p=ne(i,this.worldSize);return s.N(p,this._fogMatrix,p),f.set(o,new Float32Array(p)),f.get(o)}getConstrained(i,o){o=s.ae(+o,this.minZoom,this.maxZoom);const f={center:new s.Q(i.lng,i.lat),zoom:o};let p=this._helper._lngRange;this._helper._renderWorldCopies||p!==null||(p=[-179.9999999999,180-1e-10]);const b=this.tileSize*s.ac(f.zoom);let B=0,E=b,T=0,Y=b,Q=0,O=0;const{x:H,y:ee}=this.size;if(this._helper._latRange){const Ie=this._helper._latRange;B=s.S(Ie[1])*b,E=s.S(Ie[0])*b,E-B<ee&&(Q=ee/(E-B))}p&&(T=s.aL(s.U(p[0])*b,0,b),Y=s.aL(s.U(p[1])*b,0,b),Y<T&&(Y+=b),Y-T<H&&(O=H/(Y-T)));const{x:ie,y:me}=li(b,i);let pe,be;const Be=Math.max(O||0,Q||0);if(Be){const Ie=new s.P(O?(Y+T)/2:ie,Q?(E+B)/2:me);return f.center=Mi(b,Ie).wrap(),f.zoom+=s.ah(Be),f}if(this._helper._latRange){const Ie=ee/2;me-Ie<B&&(be=B+Ie),me+Ie>E&&(be=E-Ie)}if(p){const Ie=(T+Y)/2;let Ee=ie;this._helper._renderWorldCopies&&(Ee=s.aL(ie,Ie-b/2,Ie+b/2));const Se=H/2;Ee-Se<T&&(pe=T+Se),Ee+Se>Y&&(pe=Y-Se)}if(pe!==void 0||be!==void 0){const Ie=new s.P(pe??ie,be??me);f.center=Mi(b,Ie).wrap()}return f}calculateCenterFromCameraLngLatAlt(i,o,f,p){return this._helper.calculateCenterFromCameraLngLatAlt(i,o,f,p)}_calculateNearFarZIfNeeded(i,o,f){if(!this._helper.autoCalculateNearFarZ)return;const p=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),b=i-p*this._helper._pixelPerMeter/Math.cos(o),B=p<0?b:i,E=Math.PI/2+this.pitchInRadians,T=s.ab(this.fov)*(Math.abs(Math.cos(s.ab(this.roll)))*this.height+Math.abs(Math.sin(s.ab(this.roll)))*this.width)/this.height*(.5+f.y/this.height),Y=Math.sin(T)*B/Math.sin(s.ae(Math.PI-E-T,.01,Math.PI-.01)),Q=Oe(this),O=Math.atan(Q/this._helper.cameraToCenterDistance),H=s.ab(.75),ee=O>H?2*O*(.5+f.y/(2*Q)):H,ie=Math.sin(ee)*B/Math.sin(s.ae(Math.PI-E-ee,.01,Math.PI-.01)),me=Math.min(Y,ie);this._helper._farZ=1.01*(Math.cos(Math.PI/2-o)*me+B),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const i=this.centerOffset,o=li(this.worldSize,this.center),f=o.x,p=o.y;this._helper._pixelPerMeter=s.ag(1,this.center.lat)*this.worldSize;const b=s.ab(Math.min(this.pitch,Ai)),B=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(b));let E;this._calculateNearFarZIfNeeded(B,b,i),E=new Float64Array(16),s.aY(E,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),s.an(this._invProjMatrix,E),E[8]=2*-i.x/this._helper._width,E[9]=2*i.y/this._helper._height,this._projectionMatrix=s.aZ(E),s.M(E,E,[1,-1,1]),s.L(E,E,[0,0,-this._helper.cameraToCenterDistance]),s.a_(E,E,-this.rollInRadians),s.a$(E,E,this.pitchInRadians),s.a_(E,E,-this.bearingInRadians),s.L(E,E,[-f,-p,0]),this._mercatorMatrix=s.M([],E,[this.worldSize,this.worldSize,this.worldSize]),s.M(E,E,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=s.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,E),s.L(E,E,[0,0,-this.elevation]),this._viewProjMatrix=E,this._invViewProjMatrix=s.an([],E);const T=[0,0,-1,1];s.at(T,T,this._invViewProjMatrix),this._cameraPosition=[T[0]/T[3],T[1]/T[3],T[2]/T[3]],this._fogMatrix=new Float64Array(16),s.aY(this._fogMatrix,this.fovInRadians,this.width/this.height,B,this._helper._farZ),this._fogMatrix[8]=2*-i.x/this.width,this._fogMatrix[9]=2*i.y/this.height,s.M(this._fogMatrix,this._fogMatrix,[1,-1,1]),s.L(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),s.a_(this._fogMatrix,this._fogMatrix,-this.rollInRadians),s.a$(this._fogMatrix,this._fogMatrix,this.pitchInRadians),s.a_(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),s.L(this._fogMatrix,this._fogMatrix,[-f,-p,0]),s.M(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),s.L(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=s.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,E);const Y=this._helper._width%2/2,Q=this._helper._height%2/2,O=Math.cos(this.bearingInRadians),H=Math.sin(-this.bearingInRadians),ee=f-Math.round(f)+O*Y+H*Q,ie=p-Math.round(p)+O*Q+H*Y,me=new Float64Array(E);if(s.L(me,me,[ee>.5?ee-1:ee,ie>.5?ie-1:ie,0]),this._alignedProjMatrix=me,E=s.an(new Float64Array(16),this._pixelMatrix),!E)throw new Error("failed to invert matrix");this._pixelMatrixInverse=E,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const i=this.screenPointToMercatorCoordinate(new s.P(0,0)),o=[i.x*this.worldSize,i.y*this.worldSize,0,1];return s.at(o,o,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const i=s.ag(1,this.center.lat)*this.worldSize;return oe(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/i).toLngLat()}lngLatToCameraDepth(i,o){const f=s.$.fromLngLat(i),p=[f.x*this.worldSize,f.y*this.worldSize,o,1];return s.at(p,p,this._viewProjMatrix),p[2]/p[3]}getProjectionData(i){const{overscaledTileID:o,aligned:f,applyTerrainMatrix:p}=i,b=this._helper.getMercatorTileCoordinates(o),B=o?this.calculatePosMatrix(o,f,!0):null;let E;return E=o&&o.terrainRttPosMatrix32f&&p?o.terrainRttPosMatrix32f:B||s.b0(),{mainMatrix:E,tileMercatorCoords:b,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:E}}isLocationOccluded(i){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(i,o,f){return 1}transformLightDirection(i){return s.aQ(i)}getRayDirectionFromPixel(i){throw new Error("Not implemented.")}projectTileCoordinates(i,o,f,p){const b=this.calculatePosMatrix(f);let B;p?(B=[i,o,p(i,o),1],s.at(B,B,b)):(B=[i,o,0,1],Fr(B,B,b));const E=B[3];return{point:new s.P(B[0]/E,B[1]/E),signedDistanceFromCamera:E,isOccluded:!1}}populateCache(i){for(const o of i)this.calculatePosMatrix(o)}getMatrixForModel(i,o){const f=s.$.fromLngLat(i,o),p=f.meterInMercatorCoordinateUnits(),b=s.b1();return s.L(b,b,[f.x,f.y,f.z]),s.a_(b,b,Math.PI),s.a$(b,b,Math.PI/2),s.M(b,b,[-p,p,p]),b}getProjectionDataForCustomLayer(i=!0){const o=new s.Y(0,0,0,0,0),f=this.getProjectionData({overscaledTileID:o,applyGlobeMatrix:i}),p=ne(o,this.worldSize);s.N(p,this._viewProjMatrix,p),f.tileMercatorCoords=[0,0,1,1];const b=[s.Z,s.Z,this.worldSize/this._helper.pixelsPerMeter],B=s.b2();return s.M(B,p,b),f.fallbackMatrix=B,f.mainMatrix=B,f}getFastPathSimpleProjectionMatrix(i){return this.calculatePosMatrix(i)}}function js(){s.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function nA(_){if(_.useSlerp)if(_.k<1){const i=s.b3(_.startEulerAngles.roll,_.startEulerAngles.pitch,_.startEulerAngles.bearing),o=s.b3(_.endEulerAngles.roll,_.endEulerAngles.pitch,_.endEulerAngles.bearing),f=new Float64Array(4);s.b4(f,i,o,_.k);const p=s.b5(f);_.tr.setRoll(p.roll),_.tr.setPitch(p.pitch),_.tr.setBearing(p.bearing)}else _.tr.setRoll(_.endEulerAngles.roll),_.tr.setPitch(_.endEulerAngles.pitch),_.tr.setBearing(_.endEulerAngles.bearing);else _.tr.setRoll(s.B.number(_.startEulerAngles.roll,_.endEulerAngles.roll,_.k)),_.tr.setPitch(s.B.number(_.startEulerAngles.pitch,_.endEulerAngles.pitch,_.k)),_.tr.setBearing(s.B.number(_.startEulerAngles.bearing,_.endEulerAngles.bearing,_.k))}function _n(_,i,o,f,p){const b=p.padding,B=li(p.worldSize,o.getNorthWest()),E=li(p.worldSize,o.getNorthEast()),T=li(p.worldSize,o.getSouthEast()),Y=li(p.worldSize,o.getSouthWest()),Q=s.ab(-f),O=B.rotate(Q),H=E.rotate(Q),ee=T.rotate(Q),ie=Y.rotate(Q),me=new s.P(Math.max(O.x,H.x,ie.x,ee.x),Math.max(O.y,H.y,ie.y,ee.y)),pe=new s.P(Math.min(O.x,H.x,ie.x,ee.x),Math.min(O.y,H.y,ie.y,ee.y)),be=me.sub(pe),Be=(p.width-(b.left+b.right+i.left+i.right))/be.x,Ie=(p.height-(b.top+b.bottom+i.top+i.bottom))/be.y;if(Ie<0||Be<0)return void js();const Ee=Math.min(s.ah(p.scale*Math.min(Be,Ie)),_.maxZoom),Se=s.P.convert(_.offset),ke=new s.P((i.left-i.right)/2,(i.top-i.bottom)/2).rotate(s.ab(f)),Pe=Se.add(ke).mult(p.scale/s.ac(Ee));return{center:Mi(p.worldSize,B.add(T).div(2).sub(Pe)),zoom:Ee,bearing:f}}class sA{get useGlobeControls(){return!1}handlePanInertia(i,o){return{easingOffset:i,easingCenter:o.center}}handleMapControlsRollPitchBearingZoom(i,o){i.bearingDelta&&o.setBearing(o.bearing+i.bearingDelta),i.pitchDelta&&o.setPitch(o.pitch+i.pitchDelta),i.rollDelta&&o.setRoll(o.roll+i.rollDelta),i.zoomDelta&&o.setZoom(o.zoom+i.zoomDelta)}handleMapControlsPan(i,o,f){i.around.distSqr(o.centerPoint)<.01||o.setLocationAtPoint(f,i.around)}cameraForBoxAndBearing(i,o,f,p,b){return _n(i,o,f,p,b)}handleJumpToCenterZoom(i,o){i.zoom!==(o.zoom!==void 0?+o.zoom:i.zoom)&&i.setZoom(+o.zoom),o.center!==void 0&&i.setCenter(s.Q.convert(o.center))}handleEaseTo(i,o){const f=i.zoom,p=i.padding,b={roll:i.roll,pitch:i.pitch,bearing:i.bearing},B={roll:o.roll===void 0?i.roll:o.roll,pitch:o.pitch===void 0?i.pitch:o.pitch,bearing:o.bearing===void 0?i.bearing:o.bearing},E=o.zoom!==void 0,T=!i.isPaddingEqual(o.padding);let Y=!1;const Q=E?+o.zoom:i.zoom;let O=i.centerPoint.add(o.offsetAsPoint);const H=i.screenPointToLocation(O),{center:ee,zoom:ie}=i.getConstrained(s.Q.convert(o.center||H),Q??f);Ba(i,ee);const me=li(i.worldSize,H),pe=li(i.worldSize,ee).sub(me),be=s.ac(ie-f);return Y=ie!==f,{easeFunc:Be=>{if(Y&&i.setZoom(s.B.number(f,ie,Be)),s.b6(b,B)||nA({startEulerAngles:b,endEulerAngles:B,tr:i,k:Be,useSlerp:b.roll!=B.roll}),T&&(i.interpolatePadding(p,o.padding,Be),O=i.centerPoint.add(o.offsetAsPoint)),o.around)i.setLocationAtPoint(o.around,o.aroundPoint);else{const Ie=s.ac(i.zoom-f),Ee=ie>f?Math.min(2,be):Math.max(.5,be),Se=Math.pow(Ee,1-Be),ke=Mi(i.worldSize,me.add(pe.mult(Be*Se)).mult(Ie));i.setLocationAtPoint(i.renderWorldCopies?ke.wrap():ke,O)}},isZooming:Y,elevationCenter:ee}}handleFlyTo(i,o){const f=o.zoom!==void 0,p=i.zoom,b=i.getConstrained(s.Q.convert(o.center||o.locationAtOffset),f?+o.zoom:p),B=b.center,E=b.zoom;Ba(i,B);const T=li(i.worldSize,o.locationAtOffset),Y=li(i.worldSize,B).sub(T),Q=Y.mag(),O=s.ac(E-p);let H;if(o.minZoom!==void 0){const ee=Math.min(+o.minZoom,p,E),ie=i.getConstrained(B,ee).zoom;H=s.ac(ie-p)}return{easeFunc:(ee,ie,me,pe)=>{i.setZoom(ee===1?E:p+s.ah(ie));const be=ee===1?B:Mi(i.worldSize,T.add(Y.mult(me)).mult(ie));i.setLocationAtPoint(i.renderWorldCopies?be.wrap():be,pe)},scaleOfZoom:O,targetCenter:B,scaleOfMinZoom:H,pixelPathLength:Q}}}class ti{constructor(i,o,f){this.blendFunction=i,this.blendColor=o,this.mask=f}}ti.Replace=[1,0],ti.disabled=new ti(ti.Replace,s.b7.transparent,[!1,!1,!1,!1]),ti.unblended=new ti(ti.Replace,s.b7.transparent,[!0,!0,!0,!0]),ti.alphaBlended=new ti([1,771],s.b7.transparent,[!0,!0,!0,!0]);const ch=2305;class jr{constructor(i,o,f){this.enable=i,this.mode=o,this.frontFace=f}}jr.disabled=new jr(!1,1029,ch),jr.backCCW=new jr(!0,1029,ch),jr.frontCCW=new jr(!0,1028,ch);class Rr{constructor(i,o,f){this.func=i,this.mask=o,this.range=f}}Rr.ReadOnly=!1,Rr.ReadWrite=!0,Rr.disabled=new Rr(519,Rr.ReadOnly,[0,1]);const sl=7680;class Or{constructor(i,o,f,p,b,B){this.test=i,this.ref=o,this.mask=f,this.fail=p,this.depthFail=b,this.pass=B}}Or.disabled=new Or({func:519,mask:0},0,0,sl,sl,sl);const oA=new WeakMap;function Fn(_){var i;if(oA.has(_))return oA.get(_);{const o=(i=_.getParameter(_.VERSION))===null||i===void 0?void 0:i.startsWith("WebGL 2.0");return oA.set(_,o),o}}class ol{get awaitingQuery(){return!!this._readbackQueue}constructor(i){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=i;const o=i.context,f=o.gl;this._texFormat=f.RGBA,this._texType=f.UNSIGNED_BYTE;const p=new s.aI;p.emplaceBack(-1,-1),p.emplaceBack(2,-1),p.emplaceBack(-1,2);const b=new s.aK;b.emplaceBack(0,1,2),this._fullscreenTriangle=new nl(o.createVertexBuffer(p,$n.members),o.createIndexBuffer(b),s.aJ.simpleSegment(0,0,p.length,b.length)),this._resultBuffer=new Uint8Array(4),o.activeTexture.set(f.TEXTURE1);const B=f.createTexture();f.bindTexture(f.TEXTURE_2D,B),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texImage2D(f.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=o.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(B),Fn(f)&&(this._pbo=f.createBuffer(),f.bindBuffer(f.PIXEL_PACK_BUFFER,this._pbo),f.bufferData(f.PIXEL_PACK_BUFFER,4,f.STREAM_READ),f.bindBuffer(f.PIXEL_PACK_BUFFER,null))}destroy(){const i=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),i.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(i,o){const f=this._updateCount;return this._readbackQueue?f>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():f>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(i,o),this._updateCount++,this._measuredError}_bindFramebuffer(){const i=this._cachedRenderContext.context,o=i.gl;i.activeTexture.set(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,this._fbo.colorAttachment.get()),i.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(i,o){const f=this._cachedRenderContext.context,p=f.gl;if(this._bindFramebuffer(),f.viewport.set([0,0,this._texWidth,this._texHeight]),f.clear({color:s.b7.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(f,p.TRIANGLES,Rr.disabled,Or.disabled,ti.unblended,jr.disabled,((b,B)=>({u_input:b,u_output_expected:B}))(i,o),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&Fn(p)){p.bindBuffer(p.PIXEL_PACK_BUFFER,this._pbo),p.readBuffer(p.COLOR_ATTACHMENT0),p.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),p.bindBuffer(p.PIXEL_PACK_BUFFER,null);const b=p.fenceSync(p.SYNC_GPU_COMMANDS_COMPLETE,0);p.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:b}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const i=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&Fn(i)){const o=i.clientWaitSync(this._readbackQueue.sync,0,0);if(o===i.WAIT_FAILED)return s.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(o===i.TIMEOUT_EXPIRED)return;i.bindBuffer(i.PIXEL_PACK_BUFFER,this._pbo),i.getBufferSubData(i.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),i.bindBuffer(i.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),i.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=ol._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(i){let o=0;return o+=i[0]/256,o+=i[1]/65536,o+=i[2]/16777216,i[3]<127&&(o=-o),o/128}}const cc=s.Z/128;function uc(_,i){const o=_.granularity!==void 0?Math.max(_.granularity,1):1,f=o+(_.generateBorders?2:0),p=o+(_.extendToNorthPole||_.generateBorders?1:0)+(_.extendToSouthPole||_.generateBorders?1:0),b=f+1,B=p+1,E=_.generateBorders?-1:0,T=_.generateBorders||_.extendToNorthPole?-1:0,Y=o+(_.generateBorders?1:0),Q=o+(_.generateBorders||_.extendToSouthPole?1:0),O=b*B,H=f*p*6,ee=b*B>65536;if(ee&&i==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const ie=ee||i==="32bit",me=new Int16Array(2*O);let pe=0;for(let Ie=T;Ie<=Q;Ie++)for(let Ee=E;Ee<=Y;Ee++){let Se=Ee/o*s.Z;Ee===-1&&(Se=-64),Ee===o+1&&(Se=s.Z+cc);let ke=Ie/o*s.Z;Ie===-1&&(ke=_.extendToNorthPole?s.b9:-64),Ie===o+1&&(ke=_.extendToSouthPole?s.ba:s.Z+cc),me[pe++]=Se,me[pe++]=ke}const be=ie?new Uint32Array(H):new Uint16Array(H);let Be=0;for(let Ie=0;Ie<p;Ie++)for(let Ee=0;Ee<f;Ee++){const Se=Ee+1+Ie*b,ke=Ee+(Ie+1)*b,Pe=Ee+1+(Ie+1)*b;be[Be++]=Ee+Ie*b,be[Be++]=ke,be[Be++]=Se,be[Be++]=Se,be[Be++]=ke,be[Be++]=Pe}return{vertices:me.buffer.slice(0),indices:be.buffer.slice(0),uses32bitIndices:ie}}const ll=new s.aH({fill:new s.bb(128,2),line:new s.bb(512,0),tile:new s.bb(128,32),stencil:new s.bb(128,1),circle:3});class lA{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Tr.projectionGlobe}get vertexShaderPreludeCode(){return Tr.projectionMercator.vertexSource}get subdivisionGranularity(){return ll}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(i){this._errorMeasurement||(this._errorMeasurement=new ol(i));const o=s.S(this._errorQueryLatitudeDegrees),f=2*Math.atan(Math.exp(Math.PI-o*Math.PI*2))-.5*Math.PI,p=this._errorMeasurement.updateErrorLoop(o,f),b=U.now();p!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=p,this._errorMeasurementLastChangeTime=b);const B=Math.min(Math.max((b-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=s.bc(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,s.bd(B))}_getMeshKey(i){return`${i.granularity.toString(36)}_${i.generateBorders?"b":""}${i.extendToNorthPole?"n":""}${i.extendToSouthPole?"s":""}`}getMeshFromTileID(i,o,f,p,b){const B=(b==="stencil"?ll.stencil:ll.tile).getGranularityForZoomLevel(o.z);return this._getMesh(i,{granularity:B,generateBorders:f,extendToNorthPole:o.y===0&&p,extendToSouthPole:o.y===(1<<o.z)-1&&p})}_getMesh(i,o){const f=this._getMeshKey(o);if(f in this._tileMeshCache)return this._tileMeshCache[f];const p=function(b,B){const E=uc(B,"16bit"),T=s.aI.deserialize({arrayBuffer:E.vertices,length:E.vertices.byteLength/2/2}),Y=s.aK.deserialize({arrayBuffer:E.indices,length:E.indices.byteLength/2/3});return new nl(b.createVertexBuffer(T,$n.members),b.createIndexBuffer(Y),s.aJ.simpleSegment(0,0,T.length,Y.length))}(i,o);return this._tileMeshCache[f]=p,p}recalculate(i){}hasTransition(){const i=U.now();let o=!1;return o=o||(i-this._errorMeasurementLastChangeTime)/1e3<.7,o=o||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,o}setErrorQueryLatitudeDegrees(i){this._errorQueryLatitudeDegrees=i}}const AA=new s.r({type:new s.D(s.v.projection.type)});class K0 extends s.E{constructor(i){super(),this._transitionable=new s.T(AA),this.setProjection(i),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new s.C(0)),this._mercatorProjection=new Li,this._verticalPerspectiveProjection=new lA}get transitionState(){const i=this.properties.get("type");if(typeof i=="string"&&i==="mercator")return 0;if(typeof i=="string"&&i==="vertical-perspective")return 1;if(i instanceof s.be){if(i.from==="vertical-perspective"&&i.to==="mercator")return 1-i.transition;if(i.from==="mercator"&&i.to==="vertical-perspective")return i.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(i){this._mercatorProjection.updateGPUdependent(i),this._verticalPerspectiveProjection.updateGPUdependent(i)}getMeshFromTileID(i,o,f,p,b){return this.currentProjection.getMeshFromTileID(i,o,f,p,b)}setProjection(i){this._transitionable.setValue("type",(i==null?void 0:i.type)||"mercator")}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}setErrorQueryLatitudeDegrees(i){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(i),this._mercatorProjection.setErrorQueryLatitudeDegrees(i)}}function hc(_){const i=dc(_.worldSize,_.center.lat);return 2*Math.PI*i}function Al(_,i,o,f,p){const b=1/(1<<p),B=i/s.Z*b+f*b,E=s.bg((_/s.Z*b+o*b)*Math.PI*2+Math.PI,2*Math.PI),T=2*Math.atan(Math.exp(Math.PI-B*Math.PI*2))-.5*Math.PI,Y=Math.cos(T),Q=new Float64Array(3);return Q[0]=Math.sin(E)*Y,Q[1]=Math.sin(T),Q[2]=Math.cos(E)*Y,Q}function Ta(_){return function(i,o){const f=Math.cos(o),p=new Float64Array(3);return p[0]=Math.sin(i)*f,p[1]=Math.sin(o),p[2]=Math.cos(i)*f,p}(_.lng*Math.PI/180,_.lat*Math.PI/180)}function dc(_,i){return _/(2*Math.PI)/Math.cos(i*Math.PI/180)}function Ga(_){const i=Math.asin(_[1])/Math.PI*180,o=Math.sqrt(_[0]*_[0]+_[2]*_[2]);if(o>1e-6){const f=_[0]/o,p=Math.acos(_[2]/o),b=(f>0?p:-p)/Math.PI*180;return new s.Q(s.aL(b,-180,180),i)}return new s.Q(0,i)}function cl(_){return Math.cos(_*Math.PI/180)}function gi(_,i){const o=cl(_),f=cl(i);return s.ah(f/o)}function cA(_,i){const o=_.rotate(i.bearingInRadians),f=i.zoom+gi(i.center.lat,0),p=s.bc(1/cl(i.center.lat),1/cl(Math.min(Math.abs(i.center.lat),60)),s.bf(f,7,3,0,1)),b=360/hc({worldSize:i.worldSize,center:{lat:i.center.lat}});return new s.Q(i.center.lng-o.x*b*p,s.ae(i.center.lat+o.y*b,-85.051129,s.af))}function fc(_){const i=.5*_,o=Math.sin(i),f=Math.cos(i);return Math.log(o+f)-Math.log(f-o)}function uh(_,i,o,f){const p=_.lat+o*f;if(Math.abs(o)>1){const b=(Math.sign(_.lat+o)!==Math.sign(_.lat)?-Math.abs(_.lat):Math.abs(_.lat))*Math.PI/180,B=Math.abs(_.lat+o)*Math.PI/180,E=fc(b+f*(B-b)),T=fc(b),Y=fc(B);return new s.Q(_.lng+i*((E-T)/(Y-T)),p)}return new s.Q(_.lng+i*f,p)}class ul{constructor(i){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._aabbFactory=i}recalculateCache(){if(!this._hadAnyChanges)return;const i=this._cachePrevious;this._cachePrevious=this._cache,this._cache=i,this._cache.clear(),this._hadAnyChanges=!1}getTileAABB(i,o,f,p){const b=`${i.z}_${i.x}_${i.y}`,B=this._cache.get(b);if(B)return B;const E=this._cachePrevious.get(b);if(E)return this._cache.set(b,E),E;const T=this._aabbFactory(i,o,f,p);return this._cache.set(b,T),this._hadAnyChanges=!0,T}}function gc(_,i,o){const f=_-i;return f<0?-f:Math.max(0,f-o)}function hh(_,i,o,f,p){const b=_-o;let B;return B=b<0?Math.min(-b,1+b-p):b>1?Math.min(Math.max(b-p,0),1-b):0,Math.max(B,gc(i,f,p))}class zp{constructor(){this._aabbCache=new ul(this._computeTileAABB)}recalculateCache(){this._aabbCache.recalculateCache()}distanceToTile2d(i,o,f,p){const b=1<<f.z,B=1/b,E=f.x/b,T=f.y/b;let Y=2;return Y=Math.min(Y,hh(i,o,E,T,B)),Y=Math.min(Y,hh(i,o,E+.5,-T-B,B)),Y=Math.min(Y,hh(i,o,E+.5,2-T-B,B)),Y}getWrap(i,o,f){const p=1<<o.z,b=1/p,B=o.x/p,E=gc(i.x,B,b),T=gc(i.x,B-1,b),Y=gc(i.x,B+1,b),Q=Math.min(E,T,Y);return Q===Y?1:Q===T?-1:0}allowVariableZoom(i,o){return qe(i,o)>4}allowWorldCopies(){return!1}getTileAABB(i,o,f,p){return this._aabbCache.getTileAABB(i,o,f,p)}_computeTileAABB(i,o,f,p){if(i.z<=0)return new Gs([-1,-1,-1],[1,1,1]);if(i.z===1)return new Gs([i.x===0?-1:0,i.y===0?0:-1,-1],[i.x===0?0:1,i.y===0?1:0,1]);{const b=[Al(0,0,i.x,i.y,i.z),Al(s.Z,0,i.x,i.y,i.z),Al(s.Z,s.Z,i.x,i.y,i.z),Al(0,s.Z,i.x,i.y,i.z)],B=[1,1,1],E=[-1,-1,-1];for(const T of b)for(let Y=0;Y<3;Y++)B[Y]=Math.min(B[Y],T[Y]),E[Y]=Math.max(E[Y],T[Y]);if(i.y===0||i.y===(1<<i.z)-1){const T=[0,i.y===0?1:-1,0];for(let Y=0;Y<3;Y++)B[Y]=Math.min(B[Y],T[Y]),E[Y]=Math.max(E[Y],T[Y])}return new Gs(B,E)}}}class pc{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(i){this._helper.setMinZoom(i)}setMaxZoom(i){this._helper.setMaxZoom(i)}setMinPitch(i){this._helper.setMinPitch(i)}setMaxPitch(i){this._helper.setMaxPitch(i)}setRenderWorldCopies(i){this._helper.setRenderWorldCopies(i)}setBearing(i){this._helper.setBearing(i)}setPitch(i){this._helper.setPitch(i)}setRoll(i){this._helper.setRoll(i)}setFov(i){this._helper.setFov(i)}setZoom(i){this._helper.setZoom(i)}setCenter(i){this._helper.setCenter(i)}setElevation(i){this._helper.setElevation(i)}setMinElevationForCurrentTile(i){this._helper.setMinElevationForCurrentTile(i)}setPadding(i){this._helper.setPadding(i)}interpolatePadding(i,o,f){return this._helper.interpolatePadding(i,o,f)}isPaddingEqual(i){return this._helper.isPaddingEqual(i)}resize(i,o){this._helper.resize(i,o)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(i){this._helper.setMaxBounds(i)}overrideNearFarZ(i,o){this._helper.overrideNearFarZ(i,o)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(i){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),i)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(i){}constructor(){this._cachedClippingPlane=s.bk(),this._projectionMatrix=s.b1(),this._globeViewProjMatrix32f=s.b0(),this._globeViewProjMatrixNoCorrection=s.b1(),this._globeViewProjMatrixNoCorrectionInverted=s.b1(),this._globeProjMatrixInverted=s.b1(),this._cameraPosition=s.bh(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new Da({calcMatrices:()=>{this._calcMatrices()},getConstrained:(i,o)=>this.getConstrained(i,o)}),this._coveringTilesDetailsProvider=new zp}clone(){const i=new pc;return i.apply(this),i}apply(i,o){this._globeLatitudeErrorCorrectionRadians=o||0,this._helper.apply(i)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const i=s.bh();return i[0]=this._cameraPosition[0],i[1]=this._cameraPosition[1],i[2]=this._cameraPosition[2],i}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(i){const{overscaledTileID:o,applyGlobeMatrix:f}=i,p=this._helper.getMercatorTileCoordinates(o);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:p,clippingPlane:this._cachedClippingPlane,projectionTransition:f?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(i){const o=this.pitchInRadians,f=this.cameraToCenterDistance/i,p=Math.sin(o)*f,b=Math.cos(o)*f+1,B=1/Math.sqrt(p*p+b*b)*1;let E=-p,T=b;const Y=Math.sqrt(E*E+T*T);E/=Y,T/=Y;const Q=[0,E,T];s.bl(Q,Q,[0,0,0],-this.bearingInRadians),s.bm(Q,Q,[0,0,0],-1*this.center.lat*Math.PI/180),s.bn(Q,Q,[0,0,0],this.center.lng*Math.PI/180);const O=1/s.bo(Q);return s.aO(Q,Q,O),[...Q,-B*O]}isLocationOccluded(i){return!this.isSurfacePointVisible(Ta(i))}transformLightDirection(i){const o=this._helper._center.lng*Math.PI/180,f=this._helper._center.lat*Math.PI/180,p=Math.cos(f),b=[Math.sin(o)*p,Math.sin(f),Math.cos(o)*p],B=[b[2],0,-b[0]],E=[0,0,0];s.aU(E,B,b),s.aT(B,B),s.aT(E,E);const T=[0,0,0];return s.aT(T,[B[0]*i[0]+E[0]*i[1]+b[0]*i[2],B[1]*i[0]+E[1]*i[1]+b[1]*i[2],B[2]*i[0]+E[2]*i[1]+b[2]*i[2]]),T}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(i,o,f){const p=function(E,T,Y){const Q=1/(1<<Y.z);return new s.$(E/s.Z*Q+Y.x*Q,T/s.Z*Q+Y.y*Q)}(i,o,f.canonical),b=(B=p.y,[s.bg(p.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-B*Math.PI*2))-.5*Math.PI]);var B;return this.getCircleRadiusCorrection()/Math.cos(b[1])}projectTileCoordinates(i,o,f,p){const b=f.canonical,B=Al(i,o,b.x,b.y,b.z),E=1+(p?p(i,o):0)/s.bu,T=[B[0]*E,B[1]*E,B[2]*E,1];s.at(T,T,this._globeViewProjMatrixNoCorrection);const Y=this._cachedClippingPlane,Q=Y[0]*B[0]+Y[1]*B[1]+Y[2]*B[2]+Y[3]<0;return{point:new s.P(T[0]/T[3],T[1]/T[3]),signedDistanceFromCamera:T[3],isOccluded:Q}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const i=dc(this.worldSize,this.center.lat),o=s.b2(),f=s.b2();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*i),s.aY(o,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const p=this.centerOffset;o[8]=2*-p.x/this._helper._width,o[9]=2*p.y/this._helper._height,this._projectionMatrix=s.aZ(o),this._globeProjMatrixInverted=s.b2(),s.an(this._globeProjMatrixInverted,o),s.L(o,o,[0,0,-this.cameraToCenterDistance]),s.a_(o,o,this.rollInRadians),s.a$(o,o,-this.pitchInRadians),s.a_(o,o,this.bearingInRadians),s.L(o,o,[0,0,-i]);const b=s.bh();b[0]=i,b[1]=i,b[2]=i,s.a$(f,o,this.center.lat*Math.PI/180),s.bp(f,f,-this.center.lng*Math.PI/180),s.M(f,f,b),this._globeViewProjMatrixNoCorrection=f,s.a$(o,o,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),s.bp(o,o,-this.center.lng*Math.PI/180),s.M(o,o,b),this._globeViewProjMatrix32f=new Float32Array(o),this._globeViewProjMatrixNoCorrectionInverted=s.b2(),s.an(this._globeViewProjMatrixNoCorrectionInverted,f);const B=s.bh();this._cameraPosition=s.bh(),this._cameraPosition[2]=this.cameraToCenterDistance/i,s.bl(this._cameraPosition,this._cameraPosition,B,-this.rollInRadians),s.bm(this._cameraPosition,this._cameraPosition,B,this.pitchInRadians),s.bl(this._cameraPosition,this._cameraPosition,B,-this.bearingInRadians),s.aP(this._cameraPosition,this._cameraPosition,[0,0,1]),s.bm(this._cameraPosition,this._cameraPosition,B,-this.center.lat*Math.PI/180),s.bn(this._cameraPosition,this._cameraPosition,B,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(i);const E=s.aZ(this._globeViewProjMatrixNoCorrectionInverted);s.M(E,E,[1,1,-1]),this._cachedFrustum=ki.fromInvProjectionMatrix(E)}calculateFogMatrix(i){s.w("calculateFogMatrix is not supported on globe projection.");const o=s.b2();return s.ad(o),o}getVisibleUnwrappedCoordinates(i){return[new s.aW(0,i)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(i){i&&s.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(i,o){if(!this._globeViewProjMatrixNoCorrection)return 1;const f=Ta(i);s.aO(f,f,1+o/s.bu);const p=s.bk();return s.at(p,[f[0],f[1],f[2],1],this._globeViewProjMatrixNoCorrection),p[2]/p[3]}populateCache(i){}getBounds(){const i=.5*this.width,o=.5*this.height,f=[new s.P(0,0),new s.P(i,0),new s.P(this.width,0),new s.P(this.width,o),new s.P(this.width,this.height),new s.P(i,this.height),new s.P(0,this.height),new s.P(0,o)],p=[];for(const O of f)p.push(this.unprojectScreenPoint(O));let b=0,B=0,E=0,T=0;const Y=this.center;for(const O of p){const H=s.bq(Y.lng,O.lng),ee=s.bq(Y.lat,O.lat);H<B&&(B=H),H>b&&(b=H),ee<T&&(T=ee),ee>E&&(E=ee)}const Q=[Y.lng+B,Y.lat+T,Y.lng+b,Y.lat+E];return this.isSurfacePointOnScreen([0,1,0])&&(Q[3]=90,Q[0]=-180,Q[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(Q[1]=-90,Q[0]=-180,Q[2]=180),new St(Q)}getConstrained(i,o){const f=s.ae(i.lat,-85.051129,s.af),p=s.ae(+o,this.minZoom+gi(0,f),this.maxZoom);return{center:new s.Q(i.lng,f),zoom:p}}calculateCenterFromCameraLngLatAlt(i,o,f,p){return this._helper.calculateCenterFromCameraLngLatAlt(i,o,f,p)}setLocationAtPoint(i,o){const f=Ta(this.unprojectScreenPoint(o)),p=Ta(i),b=s.bh();s.br(b);const B=s.bh();s.bn(B,f,b,-this.center.lng*Math.PI/180),s.bm(B,B,b,this.center.lat*Math.PI/180);const E=p[0]*p[0]+p[2]*p[2],T=B[0]*B[0];if(E<T)return;const Y=Math.sqrt(E-T),Q=-Y,O=s.bs(p[0],p[2],B[0],Y),H=s.bs(p[0],p[2],B[0],Q),ee=s.bh();s.bn(ee,p,b,-O);const ie=s.bs(ee[1],ee[2],B[1],B[2]),me=s.bh();s.bn(me,p,b,-H);const pe=s.bs(me[1],me[2],B[1],B[2]),be=.5*Math.PI,Be=ie>=-be&&ie<=be,Ie=pe>=-be&&pe<=be;let Ee,Se;if(Be&&Ie){const et=this.center.lng*Math.PI/180,ht=this.center.lat*Math.PI/180;s.bv(O,et)+s.bv(ie,ht)<s.bv(H,et)+s.bv(pe,ht)?(Ee=O,Se=ie):(Ee=H,Se=pe)}else if(Be)Ee=O,Se=ie;else{if(!Ie)return;Ee=H,Se=pe}const ke=Ee/Math.PI*180,Pe=Se/Math.PI*180,We=this.center.lat;this.setCenter(new s.Q(ke,s.ae(Pe,-90,90))),this.setZoom(this.zoom+gi(We,this.center.lat))}locationToScreenPoint(i,o){const f=Ta(i);if(o){const p=o.getElevationForLngLatZoom(i,this._helper._tileZoom);s.aO(f,f,1+p/s.bu)}return this._projectSurfacePointToScreen(f)}_projectSurfacePointToScreen(i){const o=s.bk();return s.at(o,[...i,1],this._globeViewProjMatrixNoCorrection),o[0]/=o[3],o[1]/=o[3],new s.P((.5*o[0]+.5)*this.width,(.5*-o[1]+.5)*this.height)}screenPointToMercatorCoordinate(i,o){if(o){const f=o.pointCoordinate(i);if(f)return f}return s.$.fromLngLat(this.unprojectScreenPoint(i))}screenPointToLocation(i,o){var f;return(f=this.screenPointToMercatorCoordinate(i,o))===null||f===void 0?void 0:f.toLngLat()}isPointOnMapSurface(i,o){const f=this._cameraPosition,p=this.getRayDirectionFromPixel(i);return!!this.rayPlanetIntersection(f,p)}getRayDirectionFromPixel(i){const o=s.bk();o[0]=i.x/this.width*2-1,o[1]=-1*(i.y/this.height*2-1),o[2]=1,o[3]=1,s.at(o,o,this._globeViewProjMatrixNoCorrectionInverted),o[0]/=o[3],o[1]/=o[3],o[2]/=o[3];const f=s.bh();f[0]=o[0]-this._cameraPosition[0],f[1]=o[1]-this._cameraPosition[1],f[2]=o[2]-this._cameraPosition[2];const p=s.bh();return s.aT(p,f),p}isSurfacePointVisible(i){const o=this._cachedClippingPlane;return o[0]*i[0]+o[1]*i[1]+o[2]*i[2]+o[3]>=0}isSurfacePointOnScreen(i){if(!this.isSurfacePointVisible(i))return!1;const o=s.bk();return s.at(o,[...i,1],this._globeViewProjMatrixNoCorrection),o[0]/=o[3],o[1]/=o[3],o[2]/=o[3],o[0]>-1&&o[0]<1&&o[1]>-1&&o[1]<1&&o[2]>-1&&o[2]<1}rayPlanetIntersection(i,o){const f=s.aV(i,o),p=s.bh(),b=s.bh();s.aO(b,o,f),s.aS(p,i,b);const B=1-s.aV(p,p);if(B<0)return null;const E=s.aV(i,i)-1,T=-f+(f<0?1:-1)*Math.sqrt(B),Y=E/T,Q=T;return{tMin:Math.min(Y,Q),tMax:Math.max(Y,Q)}}unprojectScreenPoint(i){const o=this._cameraPosition,f=this.getRayDirectionFromPixel(i),p=this.rayPlanetIntersection(o,f);if(p){const Q=s.bh();s.aP(Q,o,[f[0]*p.tMin,f[1]*p.tMin,f[2]*p.tMin]);const O=s.bh();return s.aT(O,Q),Ga(O)}const b=this._cachedClippingPlane,B=b[0]*f[0]+b[1]*f[1]+b[2]*f[2],E=-s.bt(b,o)/B,T=s.bh();if(E>0)s.aP(T,o,[f[0]*E,f[1]*E,f[2]*E]);else{const Q=s.bh();s.aP(Q,o,[2*f[0],2*f[1],2*f[2]]);const O=s.bt(this._cachedClippingPlane,Q);s.aS(T,Q,[this._cachedClippingPlane[0]*O,this._cachedClippingPlane[1]*O,this._cachedClippingPlane[2]*O])}const Y=function(Q){const O=s.bh();return O[0]=Q[0]*-Q[3],O[1]=Q[1]*-Q[3],O[2]=Q[2]*-Q[3],{center:O,radius:Math.sqrt(1-Q[3]*Q[3])}}(b);return Ga(function(Q,O,H){const ee=s.bh();s.aS(ee,H,Q);const ie=s.bh();return s.bi(ie,Q,ee,O/s.bj(ee)),ie}(Y.center,Y.radius,T))}getMatrixForModel(i,o){const f=s.Q.convert(i),p=1/s.bu,b=s.b1();return s.bp(b,b,f.lng/180*Math.PI),s.a$(b,b,-f.lat/180*Math.PI),s.L(b,b,[0,0,1+o/s.bu]),s.a$(b,b,.5*Math.PI),s.M(b,b,[p,p,p]),b}getProjectionDataForCustomLayer(i=!0){const o=this.getProjectionData({overscaledTileID:new s.Y(0,0,0,0,0),applyGlobeMatrix:i});return o.tileMercatorCoords=[0,0,1,1],o}getFastPathSimpleProjectionMatrix(i){}}class mc{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(i){this._helper.setMinZoom(i)}setMaxZoom(i){this._helper.setMaxZoom(i)}setMinPitch(i){this._helper.setMinPitch(i)}setMaxPitch(i){this._helper.setMaxPitch(i)}setRenderWorldCopies(i){this._helper.setRenderWorldCopies(i)}setBearing(i){this._helper.setBearing(i)}setPitch(i){this._helper.setPitch(i)}setRoll(i){this._helper.setRoll(i)}setFov(i){this._helper.setFov(i)}setZoom(i){this._helper.setZoom(i)}setCenter(i){this._helper.setCenter(i)}setElevation(i){this._helper.setElevation(i)}setMinElevationForCurrentTile(i){this._helper.setMinElevationForCurrentTile(i)}setPadding(i){this._helper.setPadding(i)}interpolatePadding(i,o,f){return this._helper.interpolatePadding(i,o,f)}isPaddingEqual(i){return this._helper.isPaddingEqual(i)}resize(i,o,f=!0){this._helper.resize(i,o,f)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(i){this._helper.setMaxBounds(i)}overrideNearFarZ(i,o){this._helper.overrideNearFarZ(i,o)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(i){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),i)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(i,o){this._globeness=i,this._globeLatitudeErrorCorrectionRadians=o,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().recalculateCache(),this._mercatorTransform.getCoveringTilesDetailsProvider().recalculateCache()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new Da({calcMatrices:()=>{this._calcMatrices()},getConstrained:(i,o)=>this.getConstrained(i,o)}),this._globeness=1,this._mercatorTransform=new qn,this._verticalPerspectiveTransform=new pc}clone(){const i=new mc;return i._globeness=this._globeness,i._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,i.apply(this),i}apply(i){this._helper.apply(i),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(i){const o=this._mercatorTransform.getProjectionData(i),f=this._verticalPerspectiveTransform.getProjectionData(i);return{mainMatrix:this.isGlobeRendering?f.mainMatrix:o.mainMatrix,clippingPlane:f.clippingPlane,tileMercatorCoords:f.tileMercatorCoords,projectionTransition:i.applyGlobeMatrix?this._globeness:0,fallbackMatrix:o.fallbackMatrix}}isLocationOccluded(i){return this.currentTransform.isLocationOccluded(i)}transformLightDirection(i){return this.currentTransform.transformLightDirection(i)}getPixelScale(){return s.bc(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return s.bc(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(i,o,f){const p=this._mercatorTransform.getPitchedTextCorrection(i,o,f),b=this._verticalPerspectiveTransform.getPitchedTextCorrection(i,o,f);return s.bc(p,b,this._globeness)}projectTileCoordinates(i,o,f,p){return this.currentTransform.projectTileCoordinates(i,o,f,p)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(i){return this.currentTransform.calculateFogMatrix(i)}getVisibleUnwrappedCoordinates(i){return this.currentTransform.getVisibleUnwrappedCoordinates(i)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(i){this._mercatorTransform.recalculateZoomAndCenter(i),this._verticalPerspectiveTransform.recalculateZoomAndCenter(i)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(i,o){return this.currentTransform.lngLatToCameraDepth(i,o)}populateCache(i){this._mercatorTransform.populateCache(i),this._verticalPerspectiveTransform.populateCache(i)}getBounds(){return this.currentTransform.getBounds()}getConstrained(i,o){return this.currentTransform.getConstrained(i,o)}calculateCenterFromCameraLngLatAlt(i,o,f,p){return this._helper.calculateCenterFromCameraLngLatAlt(i,o,f,p)}setLocationAtPoint(i,o){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(i,o),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(i,o),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(i,o){return this.currentTransform.locationToScreenPoint(i,o)}screenPointToMercatorCoordinate(i,o){return this.currentTransform.screenPointToMercatorCoordinate(i,o)}screenPointToLocation(i,o){return this.currentTransform.screenPointToLocation(i,o)}isPointOnMapSurface(i,o){return this.currentTransform.isPointOnMapSurface(i,o)}getRayDirectionFromPixel(i){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(i)}getMatrixForModel(i,o){return this.currentTransform.getMatrixForModel(i,o)}getProjectionDataForCustomLayer(i=!0){const o=this._mercatorTransform.getProjectionDataForCustomLayer(i);if(!this.isGlobeRendering)return o;const f=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(i);return f.fallbackMatrix=o.mainMatrix,f}getFastPathSimpleProjectionMatrix(i){return this.currentTransform.getFastPathSimpleProjectionMatrix(i)}}class Tn{get useGlobeControls(){return!0}handlePanInertia(i,o){const f=cA(i,o);return Math.abs(f.lng-o.center.lng)>180&&(f.lng=o.center.lng+179.5*Math.sign(f.lng-o.center.lng)),{easingCenter:f,easingOffset:new s.P(0,0)}}handleMapControlsRollPitchBearingZoom(i,o){const f=i.around,p=o.screenPointToLocation(f);i.bearingDelta&&o.setBearing(o.bearing+i.bearingDelta),i.pitchDelta&&o.setPitch(o.pitch+i.pitchDelta),i.rollDelta&&o.setRoll(o.roll+i.rollDelta);const b=o.zoom;i.zoomDelta&&o.setZoom(o.zoom+i.zoomDelta);const B=o.zoom-b;if(B===0)return;const E=s.bq(o.center.lng,p.lng),T=E/(Math.abs(E/180)+1),Y=s.bq(o.center.lat,p.lat),Q=o.getRayDirectionFromPixel(f),O=o.cameraPosition,H=-1*s.aV(O,Q),ee=s.bh();s.aP(ee,O,[Q[0]*H,Q[1]*H,Q[2]*H]);const ie=s.bo(ee)-1,me=Math.exp(.5*-Math.max(ie-.3,0)),pe=dc(o.worldSize,o.center.lat)/Math.min(o.width,o.height),be=s.bf(pe,.9,.5,1,.25),Be=(1-s.ac(-B))*Math.min(me,be),Ie=o.center.lat,Ee=o.zoom,Se=new s.Q(o.center.lng+T*Be,s.ae(o.center.lat+Y*Be,-85.051129,s.af));o.setLocationAtPoint(p,f);const ke=o.center,Pe=s.bf(Math.abs(E),45,85,0,1),We=s.bf(pe,.75,.35,0,1),et=Math.pow(Math.max(Pe,We),.25),ht=s.bq(ke.lng,Se.lng),gt=s.bq(ke.lat,Se.lat);o.setCenter(new s.Q(ke.lng+ht*et,ke.lat+gt*et).wrap()),o.setZoom(Ee+gi(Ie,o.center.lat))}handleMapControlsPan(i,o,f){if(!i.panDelta)return;const p=o.center.lat,b=o.zoom;o.setCenter(cA(i.panDelta,o).wrap()),o.setZoom(b+gi(p,o.center.lat))}cameraForBoxAndBearing(i,o,f,p,b){const B=_n(i,o,f,p,b),E=o.left/b.width*2-1,T=(b.width-o.right)/b.width*2-1,Y=o.top/b.height*-2+1,Q=(b.height-o.bottom)/b.height*-2+1,O=s.bq(f.getWest(),f.getEast())<0,H=O?f.getEast():f.getWest(),ee=O?f.getWest():f.getEast(),ie=Math.max(f.getNorth(),f.getSouth()),me=Math.min(f.getNorth(),f.getSouth()),pe=H+.5*s.bq(H,ee),be=ie+.5*s.bq(ie,me),Be=b.clone();Be.setCenter(B.center),Be.setBearing(B.bearing),Be.setPitch(0),Be.setRoll(0),Be.setZoom(B.zoom);const Ie=Be.modelViewProjectionMatrix,Ee=[Ta(f.getNorthWest()),Ta(f.getNorthEast()),Ta(f.getSouthWest()),Ta(f.getSouthEast()),Ta(new s.Q(ee,be)),Ta(new s.Q(H,be)),Ta(new s.Q(pe,ie)),Ta(new s.Q(pe,me))],Se=Ta(B.center);let ke=Number.POSITIVE_INFINITY;for(const Pe of Ee)E<0&&(ke=Tn.getLesserNonNegativeNonNull(ke,Tn.solveVectorScale(Pe,Se,Ie,"x",E))),T>0&&(ke=Tn.getLesserNonNegativeNonNull(ke,Tn.solveVectorScale(Pe,Se,Ie,"x",T))),Y>0&&(ke=Tn.getLesserNonNegativeNonNull(ke,Tn.solveVectorScale(Pe,Se,Ie,"y",Y))),Q<0&&(ke=Tn.getLesserNonNegativeNonNull(ke,Tn.solveVectorScale(Pe,Se,Ie,"y",Q)));if(Number.isFinite(ke)&&ke!==0)return B.zoom=Be.zoom+s.ah(ke),B;js()}handleJumpToCenterZoom(i,o){const f=i.center.lat,p=i.getConstrained(o.center?s.Q.convert(o.center):i.center,i.zoom).center;i.setCenter(p.wrap());const b=o.zoom!==void 0?+o.zoom:i.zoom+gi(f,p.lat);i.zoom!==b&&i.setZoom(b)}handleEaseTo(i,o){const f=i.zoom,p=i.center,b=i.padding,B={roll:i.roll,pitch:i.pitch,bearing:i.bearing},E={roll:o.roll===void 0?i.roll:o.roll,pitch:o.pitch===void 0?i.pitch:o.pitch,bearing:o.bearing===void 0?i.bearing:o.bearing},T=o.zoom!==void 0,Y=!i.isPaddingEqual(o.padding);let Q=!1;const O=o.center?s.Q.convert(o.center):p,H=i.getConstrained(O,f).center;Ba(i,H);const ee=i.clone();ee.setCenter(H),ee.setZoom(T?+o.zoom:f+gi(p.lat,O.lat)),ee.setBearing(o.bearing);const ie=new s.P(s.ae(i.centerPoint.x+o.offsetAsPoint.x,0,i.width),s.ae(i.centerPoint.y+o.offsetAsPoint.y,0,i.height));ee.setLocationAtPoint(H,ie);const me=(o.offset&&o.offsetAsPoint.mag())>0?ee.center:H,pe=T?+o.zoom:f+gi(p.lat,me.lat),be=f+gi(p.lat,0),Be=pe+gi(me.lat,0),Ie=s.bq(p.lng,me.lng),Ee=s.bq(p.lat,me.lat),Se=s.ac(Be-be);return Q=pe!==f,{easeFunc:ke=>{if(s.b6(B,E)||nA({startEulerAngles:B,endEulerAngles:E,tr:i,k:ke,useSlerp:B.roll!=E.roll}),Y&&i.interpolatePadding(b,o.padding,ke),o.around)s.w("Easing around a point is not supported under globe projection."),i.setLocationAtPoint(o.around,o.aroundPoint);else{const Pe=Be>be?Math.min(2,Se):Math.max(.5,Se),We=Math.pow(Pe,1-ke),et=uh(p,Ie,Ee,ke*We);i.setCenter(et.wrap())}if(Q){const Pe=s.B.number(be,Be,ke)+gi(0,i.center.lat);i.setZoom(Pe)}},isZooming:Q,elevationCenter:me}}handleFlyTo(i,o){const f=o.zoom!==void 0,p=i.center,b=i.zoom,B=i.padding,E=!i.isPaddingEqual(o.padding),T=i.getConstrained(s.Q.convert(o.center||o.locationAtOffset),b).center,Y=f?+o.zoom:i.zoom+gi(i.center.lat,T.lat),Q=i.clone();Q.setCenter(T),Q.setZoom(Y),Q.setBearing(o.bearing);const O=new s.P(s.ae(i.centerPoint.x+o.offsetAsPoint.x,0,i.width),s.ae(i.centerPoint.y+o.offsetAsPoint.y,0,i.height));Q.setLocationAtPoint(T,O);const H=Q.center;Ba(i,H);const ee=function(Ee,Se,ke){const Pe=Ta(Se),We=Ta(ke),et=s.aV(Pe,We),ht=Math.acos(et),gt=hc(Ee);return ht/(2*Math.PI)*gt}(i,p,H),ie=b+gi(p.lat,0),me=Y+gi(H.lat,0),pe=s.ac(me-ie);let be;if(typeof o.minZoom=="number"){const Ee=+o.minZoom+gi(H.lat,0),Se=Math.min(Ee,ie,me)+gi(0,H.lat),ke=i.getConstrained(H,Se).zoom+gi(H.lat,0);be=s.ac(ke-ie)}const Be=s.bq(p.lng,H.lng),Ie=s.bq(p.lat,H.lat);return{easeFunc:(Ee,Se,ke,Pe)=>{const We=uh(p,Be,Ie,ke);E&&i.interpolatePadding(B,o.padding,Ee);const et=Ee===1?H:We;i.setCenter(et.wrap());const ht=ie+s.ah(Se);i.setZoom(Ee===1?Y:ht+gi(0,et.lat))},scaleOfZoom:pe,targetCenter:H,scaleOfMinZoom:be,pixelPathLength:ee}}static solveVectorScale(i,o,f,p,b){const B=p==="x"?[f[0],f[4],f[8],f[12]]:[f[1],f[5],f[9],f[13]],E=[f[3],f[7],f[11],f[15]],T=i[0]*B[0]+i[1]*B[1]+i[2]*B[2],Y=i[0]*E[0]+i[1]*E[1]+i[2]*E[2],Q=o[0]*B[0]+o[1]*B[1]+o[2]*B[2],O=o[0]*E[0]+o[1]*E[1]+o[2]*E[2];return Q+b*Y===T+b*O||E[3]*(T-Q)+B[3]*(O-Y)+T*O==Q*Y?null:(Q+B[3]-b*O-b*E[3])/(Q-T-b*O+b*Y)}static getLesserNonNegativeNonNull(i,o){return o!==null&&o>=0&&o<i?o:i}}class uA{constructor(i){this._globe=i,this._mercatorCameraHelper=new sA,this._verticalPerspectiveCameraHelper=new Tn}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(i,o){return this.currentHelper.handlePanInertia(i,o)}handleMapControlsRollPitchBearingZoom(i,o){return this.currentHelper.handleMapControlsRollPitchBearingZoom(i,o)}handleMapControlsPan(i,o,f){this.currentHelper.handleMapControlsPan(i,o,f)}cameraForBoxAndBearing(i,o,f,p,b){return this.currentHelper.cameraForBoxAndBearing(i,o,f,p,b)}handleJumpToCenterZoom(i,o){this.currentHelper.handleJumpToCenterZoom(i,o)}handleEaseTo(i,o){return this.currentHelper.handleEaseTo(i,o)}handleFlyTo(i,o){return this.currentHelper.handleFlyTo(i,o)}}const hl=(_,i)=>s.x(_,i&&i.filter(o=>o.identifier!=="source.canvas")),_c=s.bw();class hA extends s.E{constructor(i,o={}){super(),this._rtlPluginLoaded=()=>{for(const f in this.sourceCaches){const p=this.sourceCaches[f].getSource().type;p!=="vector"&&p!=="geojson"||this.sourceCaches[f].reload()}},this.map=i,this.dispatcher=new Et(xt(),i._getMapId()),this.dispatcher.registerMessageHandler("GG",(f,p)=>this.getGlyphs(f,p)),this.dispatcher.registerMessageHandler("GI",(f,p)=>this.getImages(f,p)),this.imageManager=new he,this.imageManager.setEventedParent(this),this.glyphManager=new He(i._requestManager,o.localIdeographFontFamily),this.lineAtlas=new Ut(256,512),this.crossTileSymbolIndex=new _s,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.bx,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",s.by()),Ir().on(Gr,this._rtlPluginLoaded),this.on("data",f=>{if(f.dataType!=="source"||f.sourceDataType!=="metadata")return;const p=this.sourceCaches[f.sourceId];if(!p)return;const b=p.getSource();if(b&&b.vectorLayerIds)for(const B in this._layers){const E=this._layers[B];E.source===b.id&&this._validateLayer(E)}})}loadURL(i,o={},f){this.fire(new s.l("dataloading",{dataType:"style"})),o.validate=typeof o.validate!="boolean"||o.validate;const p=this.map._requestManager.transformRequest(i,"Style");this._loadStyleRequest=new AbortController;const b=this._loadStyleRequest;s.j(p,this._loadStyleRequest).then(B=>{this._loadStyleRequest=null,this._load(B.data,o,f)}).catch(B=>{this._loadStyleRequest=null,B&&!b.signal.aborted&&this.fire(new s.k(B))})}loadJSON(i,o={},f){this.fire(new s.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,U.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,o.validate=o.validate!==!1,this._load(i,o,f)}).catch(()=>{})}loadEmpty(){this.fire(new s.l("dataloading",{dataType:"style"})),this._load(_c,{validate:!1})}_load(i,o,f){var p,b;const B=o.transformStyle?o.transformStyle(f,i):i;if(!o.validate||!hl(this,s.y(B))){this._loaded=!0,this.stylesheet=B;for(const E in B.sources)this.addSource(E,B.sources[E],{validate:!1});B.sprite?this._loadSprite(B.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(B.glyphs),this._createLayers(),this.light=new ot(this.stylesheet.light),this._setProjectionInternal(((p=this.stylesheet.projection)===null||p===void 0?void 0:p.type)||"mercator"),this.sky=new pt(this.stylesheet.sky),this.map.setTerrain((b=this.stylesheet.terrain)!==null&&b!==void 0?b:null),this.fire(new s.l("data",{dataType:"style"})),this.fire(new s.l("style.load"))}}_createLayers(){const i=s.bz(this.stylesheet.layers);this.dispatcher.broadcast("SL",i),this._order=i.map(o=>o.id),this._layers={},this._serializedLayers=null;for(const o of i){const f=s.bA(o);f.setEventedParent(this,{layer:{id:o.id}}),this._layers[o.id]=f}}_loadSprite(i,o=!1,f=void 0){let p;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(b,B,E,T){return s._(this,void 0,void 0,function*(){const Y=J(b),Q=E>1?"@2x":"",O={},H={};for(const{id:ee,url:ie}of Y){const me=B.transformRequest(te(ie,Q,".json"),"SpriteJSON");O[ee]=s.j(me,T);const pe=B.transformRequest(te(ie,Q,".png"),"SpriteImage");H[ee]=re.getImage(pe,T)}return yield Promise.all([...Object.values(O),...Object.values(H)]),function(ee,ie){return s._(this,void 0,void 0,function*(){const me={};for(const pe in ee){me[pe]={};const be=U.getImageCanvasContext((yield ie[pe]).data),Be=(yield ee[pe]).data;for(const Ie in Be){const{width:Ee,height:Se,x:ke,y:Pe,sdf:We,pixelRatio:et,stretchX:ht,stretchY:gt,content:ut,textFitWidth:Dt,textFitHeight:Ft}=Be[Ie];me[pe][Ie]={data:null,pixelRatio:et,sdf:We,stretchX:ht,stretchY:gt,content:ut,textFitWidth:Dt,textFitHeight:Ft,spriteData:{width:Ee,height:Se,x:ke,y:Pe,context:be}}}}return me})}(O,H)})}(i,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(b=>{if(this._spriteRequest=null,b)for(const B in b){this._spritesImagesIds[B]=[];const E=this._spritesImagesIds[B]?this._spritesImagesIds[B].filter(T=>!(T in b)):[];for(const T of E)this.imageManager.removeImage(T),this._changedImages[T]=!0;for(const T in b[B]){const Y=B==="default"?T:`${B}:${T}`;this._spritesImagesIds[B].push(Y),Y in this.imageManager.images?this.imageManager.updateImage(Y,b[B][T],!1):this.imageManager.addImage(Y,b[B][T]),o&&(this._changedImages[Y]=!0)}}}).catch(b=>{this._spriteRequest=null,p=b,this.fire(new s.k(p))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),o&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"})),f&&f(p)})}_unloadSprite(){for(const i of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(i),this._changedImages[i]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}_validateLayer(i){const o=this.sourceCaches[i.source];if(!o)return;const f=i.sourceLayer;if(!f)return;const p=o.getSource();(p.type==="geojson"||p.vectorLayerIds&&p.vectorLayerIds.indexOf(f)===-1)&&this.fire(new s.k(new Error(`Source layer "${f}" does not exist on source "${p.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(i,o=!1){const f=this._serializedAllLayers();if(!i||i.length===0)return Object.values(o?s.bB(f):f);const p=[];for(const b of i)if(f[b]){const B=o?s.bB(f[b]):f[b];p.push(B)}return p}_serializedAllLayers(){let i=this._serializedLayers;if(i)return i;i=this._serializedLayers={};const o=Object.keys(this._layers);for(const f of o){const p=this._layers[f];p.type!=="custom"&&(i[f]=p.serialize())}return i}hasTransitions(){var i,o,f;if(!((i=this.light)===null||i===void 0)&&i.hasTransition()||!((o=this.sky)===null||o===void 0)&&o.hasTransition()||!((f=this.projection)===null||f===void 0)&&f.hasTransition())return!0;for(const p in this.sourceCaches)if(this.sourceCaches[p].hasTransition())return!0;for(const p in this._layers)if(this._layers[p].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const o=this._changed;if(o){const p=Object.keys(this._updatedLayers),b=Object.keys(this._removedLayers);(p.length||b.length)&&this._updateWorkerLayers(p,b);for(const B in this._updatedSources){const E=this._updatedSources[B];if(E==="reload")this._reloadSource(B);else{if(E!=="clear")throw new Error(`Invalid action ${E}`);this._clearSource(B)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const B in this._updatedPaintProps)this._layers[B].updateTransitions(i);this.light.updateTransitions(i),this.sky.updateTransitions(i),this._resetUpdates()}const f={};for(const p in this.sourceCaches){const b=this.sourceCaches[p];f[p]=b.used,b.used=!1}for(const p of this._order){const b=this._layers[p];b.recalculate(i,this._availableImages),!b.isHidden(i.zoom)&&b.source&&(this.sourceCaches[b.source].used=!0)}for(const p in f){const b=this.sourceCaches[p];!!f[p]!=!!b.used&&b.fire(new s.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:p}))}this.light.recalculate(i),this.sky.recalculate(i),this.projection.recalculate(i),this.z=i.zoom,o&&this.fire(new s.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const o in this.sourceCaches)this.sourceCaches[o].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(i,o){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(i,!1),removedIds:o})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(i,o={}){var f;this._checkLoaded();const p=this.serialize();if(i=o.transformStyle?o.transformStyle(p,i):i,((f=o.validate)===null||f===void 0||f)&&hl(this,s.y(i)))return!1;(i=s.bB(i)).layers=s.bz(i.layers);const b=s.bC(p,i),B=this._getOperationsToPerform(b);if(B.unimplemented.length>0)throw new Error(`Unimplemented: ${B.unimplemented.join(", ")}.`);if(B.operations.length===0)return!1;for(const E of B.operations)E();return this.stylesheet=i,this._serializedLayers=null,!0}_getOperationsToPerform(i){const o=[],f=[];for(const p of i)switch(p.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":o.push(()=>this.addLayer.apply(this,p.args));break;case"removeLayer":o.push(()=>this.removeLayer.apply(this,p.args));break;case"setPaintProperty":o.push(()=>this.setPaintProperty.apply(this,p.args));break;case"setLayoutProperty":o.push(()=>this.setLayoutProperty.apply(this,p.args));break;case"setFilter":o.push(()=>this.setFilter.apply(this,p.args));break;case"addSource":o.push(()=>this.addSource.apply(this,p.args));break;case"removeSource":o.push(()=>this.removeSource.apply(this,p.args));break;case"setLayerZoomRange":o.push(()=>this.setLayerZoomRange.apply(this,p.args));break;case"setLight":o.push(()=>this.setLight.apply(this,p.args));break;case"setGeoJSONSourceData":o.push(()=>this.setGeoJSONSourceData.apply(this,p.args));break;case"setGlyphs":o.push(()=>this.setGlyphs.apply(this,p.args));break;case"setSprite":o.push(()=>this.setSprite.apply(this,p.args));break;case"setTerrain":o.push(()=>this.map.setTerrain.apply(this,p.args));break;case"setSky":o.push(()=>this.setSky.apply(this,p.args));break;case"setProjection":this.setProjection.apply(this,p.args);break;case"setTransition":o.push(()=>{});break;default:f.push(p.command)}return{operations:o,unimplemented:f}}addImage(i,o){if(this.getImage(i))return this.fire(new s.k(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,o),this._afterImageUpdated(i)}updateImage(i,o){this.imageManager.updateImage(i,o)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new s.k(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,o,f={}){if(this._checkLoaded(),this.sourceCaches[i]!==void 0)throw new Error(`Source "${i}" already exists.`);if(!o.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(o).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(o.type)>=0&&this._validate(s.y.source,`sources.${i}`,o,null,f))return;this.map&&this.map._collectResourceTiming&&(o.collectResourceTiming=!0);const p=this.sourceCaches[i]=new tt(i,o,this.dispatcher);p.style=this,p.setEventedParent(this,()=>({isSourceLoaded:p.loaded(),source:p.serialize(),sourceId:i})),p.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error("There is no source with this ID");for(const f in this._layers)if(this._layers[f].source===i)return this.fire(new s.k(new Error(`Source "${i}" cannot be removed while layer "${f}" is using it.`)));const o=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],o.fire(new s.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),o.setEventedParent(null),o.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,o){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error(`There is no source with this ID=${i}`);const f=this.sourceCaches[i].getSource();if(f.type!=="geojson")throw new Error(`geojsonSource.type is ${f.type}, which is !== 'geojson`);f.setData(o),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,o,f={}){this._checkLoaded();const p=i.id;if(this.getLayer(p))return void this.fire(new s.k(new Error(`Layer "${p}" already exists on this map.`)));let b;if(i.type==="custom"){if(hl(this,s.bD(i)))return;b=s.bA(i)}else{if("source"in i&&typeof i.source=="object"&&(this.addSource(p,i.source),i=s.bB(i),i=s.e(i,{source:p})),this._validate(s.y.layer,`layers.${p}`,i,{arrayIndex:-1},f))return;b=s.bA(i),this._validateLayer(b),b.setEventedParent(this,{layer:{id:p}})}const B=o?this._order.indexOf(o):this._order.length;if(o&&B===-1)this.fire(new s.k(new Error(`Cannot add layer "${p}" before non-existing layer "${o}".`)));else{if(this._order.splice(B,0,p),this._layerOrderChanged=!0,this._layers[p]=b,this._removedLayers[p]&&b.source&&b.type!=="custom"){const E=this._removedLayers[p];delete this._removedLayers[p],E.type!==b.type?this._updatedSources[b.source]="clear":(this._updatedSources[b.source]="reload",this.sourceCaches[b.source].pause())}this._updateLayer(b),b.onAdd&&b.onAdd(this.map)}}moveLayer(i,o){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new s.k(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===o)return;const f=this._order.indexOf(i);this._order.splice(f,1);const p=o?this._order.indexOf(o):this._order.length;o&&p===-1?this.fire(new s.k(new Error(`Cannot move layer "${i}" before non-existing layer "${o}".`))):(this._order.splice(p,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const o=this._layers[i];if(!o)return void this.fire(new s.k(new Error(`Cannot remove non-existing layer "${i}".`)));o.setEventedParent(null);const f=this._order.indexOf(i);this._order.splice(f,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=o,delete this._layers[i],this._serializedLayers&&delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],o.onRemove&&o.onRemove(this.map)}getLayer(i){return this._layers[i]}getLayersOrder(){return[...this._order]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,o,f){this._checkLoaded();const p=this.getLayer(i);p?p.minzoom===o&&p.maxzoom===f||(o!=null&&(p.minzoom=o),f!=null&&(p.maxzoom=f),this._updateLayer(p)):this.fire(new s.k(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,o,f={}){this._checkLoaded();const p=this.getLayer(i);if(p){if(!s.bE(p.filter,o))return o==null?(p.filter=void 0,void this._updateLayer(p)):void(this._validate(s.y.filter,`layers.${p.id}.filter`,o,null,f)||(p.filter=s.bB(o),this._updateLayer(p)))}else this.fire(new s.k(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return s.bB(this.getLayer(i).filter)}setLayoutProperty(i,o,f,p={}){this._checkLoaded();const b=this.getLayer(i);b?s.bE(b.getLayoutProperty(o),f)||(b.setLayoutProperty(o,f,p),this._updateLayer(b)):this.fire(new s.k(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,o){const f=this.getLayer(i);if(f)return f.getLayoutProperty(o);this.fire(new s.k(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,o,f,p={}){this._checkLoaded();const b=this.getLayer(i);b?s.bE(b.getPaintProperty(o),f)||(b.setPaintProperty(o,f,p)&&this._updateLayer(b),this._changed=!0,this._updatedPaintProps[i]=!0,this._serializedLayers=null):this.fire(new s.k(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,o){return this.getLayer(i).getPaintProperty(o)}setFeatureState(i,o){this._checkLoaded();const f=i.source,p=i.sourceLayer,b=this.sourceCaches[f];if(b===void 0)return void this.fire(new s.k(new Error(`The source '${f}' does not exist in the map's style.`)));const B=b.getSource().type;B==="geojson"&&p?this.fire(new s.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):B!=="vector"||p?(i.id===void 0&&this.fire(new s.k(new Error("The feature id parameter must be provided."))),b.setFeatureState(p,i.id,o)):this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,o){this._checkLoaded();const f=i.source,p=this.sourceCaches[f];if(p===void 0)return void this.fire(new s.k(new Error(`The source '${f}' does not exist in the map's style.`)));const b=p.getSource().type,B=b==="vector"?i.sourceLayer:void 0;b!=="vector"||B?o&&typeof i.id!="string"&&typeof i.id!="number"?this.fire(new s.k(new Error("A feature id is required to remove its specific state property."))):p.removeFeatureState(B,i.id,o):this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const o=i.source,f=i.sourceLayer,p=this.sourceCaches[o];if(p!==void 0)return p.getSource().type!=="vector"||f?(i.id===void 0&&this.fire(new s.k(new Error("The feature id parameter must be provided."))),p.getFeatureState(f,i.id)):void this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.k(new Error(`The source '${o}' does not exist in the map's style.`)))}getTransition(){return s.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const i=s.bF(this.sourceCaches,b=>b.serialize()),o=this._serializeByIds(this._order,!0),f=this.map.getTerrain()||void 0,p=this.stylesheet;return s.bG({version:p.version,name:p.name,metadata:p.metadata,light:p.light,sky:p.sky,center:p.center,zoom:p.zoom,bearing:p.bearing,pitch:p.pitch,sprite:p.sprite,glyphs:p.glyphs,transition:p.transition,projection:p.projection,sources:i,layers:o,terrain:f},b=>b!==void 0)}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&this.sourceCaches[i.source].getSource().type!=="raster"&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(i){const o=B=>this._layers[B].type==="fill-extrusion",f={},p=[];for(let B=this._order.length-1;B>=0;B--){const E=this._order[B];if(o(E)){f[E]=B;for(const T of i){const Y=T[E];if(Y)for(const Q of Y)p.push(Q)}}}p.sort((B,E)=>E.intersectionZ-B.intersectionZ);const b=[];for(let B=this._order.length-1;B>=0;B--){const E=this._order[B];if(o(E))for(let T=p.length-1;T>=0;T--){const Y=p[T].feature;if(f[Y.layer.id]<B)break;b.push(Y),p.pop()}else for(const T of i){const Y=T[E];if(Y)for(const Q of Y)b.push(Q.feature)}}return b}queryRenderedFeatures(i,o,f){o&&o.filter&&this._validate(s.y.filter,"queryRenderedFeatures.filter",o.filter,null,o);const p={};if(o&&o.layers){if(!(Array.isArray(o.layers)||o.layers instanceof Set))return this.fire(new s.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const Y of o.layers){const Q=this._layers[Y];if(!Q)return this.fire(new s.k(new Error(`The layer '${Y}' does not exist in the map's style and cannot be queried for features.`))),[];p[Q.source]=!0}}const b=[];o.availableImages=this._availableImages;const B=this._serializedAllLayers(),E=o.layers instanceof Set?o.layers:Array.isArray(o.layers)?new Set(o.layers):null,T=Object.assign(Object.assign({},o),{layers:E});for(const Y in this.sourceCaches)o.layers&&!p[Y]||b.push(Rt(this.sourceCaches[Y],this._layers,B,i,T,f,this.map.terrain?(Q,O,H)=>this.map.terrain.getElevation(Q,O,H):void 0));return this.placement&&b.push(function(Y,Q,O,H,ee,ie,me){const pe={},be=ie.queryRenderedSymbols(H),Be=[];for(const Ie of Object.keys(be).map(Number))Be.push(me[Ie]);Be.sort(Mt);for(const Ie of Be){const Ee=Ie.featureIndex.lookupSymbolFeatures(be[Ie.bucketInstanceId],Q,Ie.bucketIndex,Ie.sourceLayerIndex,ee.filter,ee.layers,ee.availableImages,Y);for(const Se in Ee){const ke=pe[Se]=pe[Se]||[],Pe=Ee[Se];Pe.sort((We,et)=>{const ht=Ie.featureSortOrder;if(ht){const gt=ht.indexOf(We.featureIndex);return ht.indexOf(et.featureIndex)-gt}return et.featureIndex-We.featureIndex});for(const We of Pe)ke.push(We)}}return function(Ie,Ee,Se){for(const ke in Ie)for(const Pe of Ie[ke])Ht(Pe,Se[Ee[ke].source]);return Ie}(pe,Y,O)}(this._layers,B,this.sourceCaches,i,T,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(b)}querySourceFeatures(i,o){o&&o.filter&&this._validate(s.y.filter,"querySourceFeatures.filter",o.filter,null,o);const f=this.sourceCaches[i];return f?function(p,b){const B=p.getRenderableIds().map(Y=>p.getTileByID(Y)),E=[],T={};for(let Y=0;Y<B.length;Y++){const Q=B[Y],O=Q.tileID.canonical.key;T[O]||(T[O]=!0,Q.querySourceFeatures(E,b))}return E}(f,o):[]}getLight(){return this.light.getLight()}setLight(i,o={}){this._checkLoaded();const f=this.light.getLight();let p=!1;for(const B in i)if(!s.bE(i[B],f[B])){p=!0;break}if(!p)return;const b={now:U.now(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,o),this.light.updateTransitions(b)}getProjection(){var i;return(i=this.stylesheet)===null||i===void 0?void 0:i.projection}setProjection(i){if(this._checkLoaded(),this.projection){if(this.projection.name===i.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=i,this._setProjectionInternal(i.type)}getSky(){var i;return(i=this.stylesheet)===null||i===void 0?void 0:i.sky}setSky(i,o={}){this._checkLoaded();const f=this.getSky();let p=!1;if(!i&&!f)return;if(i&&!f)p=!0;else if(!i&&f)p=!0;else for(const B in i)if(!s.bE(i[B],f[B])){p=!0;break}if(!p)return;const b={now:U.now(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=i,this.sky.setSky(i,o),this.sky.updateTransitions(b)}_setProjectionInternal(i){const o=function(f){if(Array.isArray(f)){const p=new K0({type:f});return{projection:p,transform:new mc,cameraHelper:new uA(p)}}switch(f){case"mercator":return{projection:new Li,transform:new qn,cameraHelper:new sA};case"globe":{const p=new K0({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:p,transform:new mc,cameraHelper:new uA(p)}}case"vertical-perspective":return{projection:new lA,transform:new pc,cameraHelper:new Tn};default:return s.w(`Unknown projection name: ${f}. Falling back to mercator projection.`),{projection:new Li,transform:new qn,cameraHelper:new sA}}}(i);this.projection=o.projection,this.map.migrateProjection(o.transform,o.cameraHelper);for(const f in this.sourceCaches)this.sourceCaches[f].reload()}_validate(i,o,f,p,b={}){return(!b||b.validate!==!1)&&hl(this,i.call(s.y,s.e({key:o,style:this.serialize(),value:f,styleSpec:s.v},p)))}_remove(i=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Ir().off(Gr,this._rtlPluginLoaded);for(const o in this._layers)this._layers[o].setEventedParent(null);for(const o in this.sourceCaches){const f=this.sourceCaches[o];f.setEventedParent(null),f.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),i&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(i)}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const o in this.sourceCaches)this.sourceCaches[o].update(i,this.map.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,o,f,p,b=!1){let B=!1,E=!1;const T={};for(const Y of this._order){const Q=this._layers[Y];if(Q.type!=="symbol")continue;if(!T[Q.source]){const H=this.sourceCaches[Q.source];T[Q.source]=H.getRenderableIds(!0).map(ee=>H.getTileByID(ee)).sort((ee,ie)=>ie.tileID.overscaledZ-ee.tileID.overscaledZ||(ee.tileID.isLessThan(ie.tileID)?-1:1))}const O=this.crossTileSymbolIndex.addLayer(Q,T[Q.source],i.center.lng);B=B||O}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((b=b||this._layerOrderChanged||f===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(U.now(),i.zoom))&&(this.pauseablePlacement=new Ac(i,this.map.terrain,this._order,b,o,f,p,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,T),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(U.now()),E=!0),B&&this.pauseablePlacement.placement.setStale()),E||B)for(const Y of this._order){const Q=this._layers[Y];Q.type==="symbol"&&this.placement.updateLayerOpacities(Q,T[Q.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(U.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,o){return s._(this,void 0,void 0,function*(){const f=yield this.imageManager.getImages(o.icons);this._updateTilesForChangedImages();const p=this.sourceCaches[o.source];return p&&p.setDependencies(o.tileID.key,o.type,o.icons),f})}getGlyphs(i,o){return s._(this,void 0,void 0,function*(){const f=yield this.glyphManager.getGlyphs(o.stacks),p=this.sourceCaches[o.source];return p&&p.setDependencies(o.tileID.key,o.type,[""]),f})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(i,o={}){this._checkLoaded(),i&&this._validate(s.y.glyphs,"glyphs",i,null,o)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=i,this.glyphManager.entries={},this.glyphManager.setURL(i))}addSprite(i,o,f={},p){this._checkLoaded();const b=[{id:i,url:o}],B=[...J(this.stylesheet.sprite),...b];this._validate(s.y.sprite,"sprite",B,null,f)||(this.stylesheet.sprite=B,this._loadSprite(b,!0,p))}removeSprite(i){this._checkLoaded();const o=J(this.stylesheet.sprite);if(o.find(f=>f.id===i)){if(this._spritesImagesIds[i])for(const f of this._spritesImagesIds[i])this.imageManager.removeImage(f),this._changedImages[f]=!0;o.splice(o.findIndex(f=>f.id===i),1),this.stylesheet.sprite=o.length>0?o:void 0,delete this._spritesImagesIds[i],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}else this.fire(new s.k(new Error(`Sprite "${i}" doesn't exists on this map.`)))}getSprite(){return J(this.stylesheet.sprite)}setSprite(i,o={},f){this._checkLoaded(),i&&this._validate(s.y.sprite,"sprite",i,null,o)||(this.stylesheet.sprite=i,i?this._loadSprite(i,!0,f):(this._unloadSprite(),f&&f(null)))}}var dh=s.aG([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Wn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,o,f,p,b,B,E,T,Y){this.context=i;let Q=this.boundPaintVertexBuffers.length!==p.length;for(let O=0;!Q&&O<p.length;O++)this.boundPaintVertexBuffers[O]!==p[O]&&(Q=!0);!this.vao||this.boundProgram!==o||this.boundLayoutVertexBuffer!==f||Q||this.boundIndexBuffer!==b||this.boundVertexOffset!==B||this.boundDynamicVertexBuffer!==E||this.boundDynamicVertexBuffer2!==T||this.boundDynamicVertexBuffer3!==Y?this.freshBind(o,f,p,b,B,E,T,Y):(i.bindVertexArray.set(this.vao),E&&E.bind(),b&&b.dynamicDraw&&b.bind(),T&&T.bind(),Y&&Y.bind())}freshBind(i,o,f,p,b,B,E,T){const Y=i.numAttributes,Q=this.context,O=Q.gl;this.vao&&this.destroy(),this.vao=Q.createVertexArray(),Q.bindVertexArray.set(this.vao),this.boundProgram=i,this.boundLayoutVertexBuffer=o,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=p,this.boundVertexOffset=b,this.boundDynamicVertexBuffer=B,this.boundDynamicVertexBuffer2=E,this.boundDynamicVertexBuffer3=T,o.enableAttributes(O,i);for(const H of f)H.enableAttributes(O,i);B&&B.enableAttributes(O,i),E&&E.enableAttributes(O,i),T&&T.enableAttributes(O,i),o.bind(),o.setVertexAttribPointers(O,i,b);for(const H of f)H.bind(),H.setVertexAttribPointers(O,i,b);B&&(B.bind(),B.setVertexAttribPointers(O,i,b)),p&&p.bind(),E&&(E.bind(),E.setVertexAttribPointers(O,i,b)),T&&(T.bind(),T.setVertexAttribPointers(O,i,b)),Q.currentNumAttributes=Y}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const Zp=(_,i,o,f,p)=>({u_texture:0,u_ele_delta:_,u_fog_matrix:i,u_fog_color:o?o.properties.get("fog-color"):s.b7.white,u_fog_ground_blend:o?o.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:p?0:o?o.calculateFogBlendOpacity(f):0,u_horizon_color:o?o.properties.get("horizon-color"):s.b7.white,u_horizon_fog_blend:o?o.properties.get("horizon-fog-blend"):1,u_is_globe_mode:p?1:0}),fh={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Ks(_){const i=[];for(let o=0;o<_.length;o++){if(_[o]===null)continue;const f=_[o].split(" ");i.push(f.pop())}return i}class dA{constructor(i,o,f,p,b,B,E,T){const Y=i.gl;this.program=Y.createProgram();const Q=Ks(o.staticAttributes),O=f?f.getBinderAttributes():[],H=Q.concat(O),ee=Tr.prelude.staticUniforms?Ks(Tr.prelude.staticUniforms):[],ie=E.staticUniforms?Ks(E.staticUniforms):[],me=o.staticUniforms?Ks(o.staticUniforms):[],pe=f?f.getBinderUniforms():[],be=ee.concat(ie).concat(me).concat(pe),Be=[];for(const et of be)Be.indexOf(et)<0&&Be.push(et);const Ie=f?f.defines():[];Fn(Y)&&Ie.unshift("#version 300 es"),b&&Ie.push("#define OVERDRAW_INSPECTOR;"),B&&Ie.push("#define TERRAIN3D;"),T&&Ie.push(T);let Ee=Ie.concat(Tr.prelude.fragmentSource,E.fragmentSource,o.fragmentSource).join(`
`),Se=Ie.concat(Tr.prelude.vertexSource,E.vertexSource,o.vertexSource).join(`
`);Fn(Y)||(Ee=function(et){return et.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Ee),Se=function(et){return et.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(Se));const ke=Y.createShader(Y.FRAGMENT_SHADER);if(Y.isContextLost())return void(this.failedToCreate=!0);if(Y.shaderSource(ke,Ee),Y.compileShader(ke),!Y.getShaderParameter(ke,Y.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${Y.getShaderInfoLog(ke)}`);Y.attachShader(this.program,ke);const Pe=Y.createShader(Y.VERTEX_SHADER);if(Y.isContextLost())return void(this.failedToCreate=!0);if(Y.shaderSource(Pe,Se),Y.compileShader(Pe),!Y.getShaderParameter(Pe,Y.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${Y.getShaderInfoLog(Pe)}`);Y.attachShader(this.program,Pe),this.attributes={};const We={};this.numAttributes=H.length;for(let et=0;et<this.numAttributes;et++)H[et]&&(Y.bindAttribLocation(this.program,et,H[et]),this.attributes[H[et]]=et);if(Y.linkProgram(this.program),!Y.getProgramParameter(this.program,Y.LINK_STATUS))throw new Error(`Program failed to link: ${Y.getProgramInfoLog(this.program)}`);Y.deleteShader(Pe),Y.deleteShader(ke);for(let et=0;et<Be.length;et++){const ht=Be[et];if(ht&&!We[ht]){const gt=Y.getUniformLocation(this.program,ht);gt&&(We[ht]=gt)}}this.fixedUniforms=p(i,We),this.terrainUniforms=((et,ht)=>({u_depth:new s.bH(et,ht.u_depth),u_terrain:new s.bH(et,ht.u_terrain),u_terrain_dim:new s.b8(et,ht.u_terrain_dim),u_terrain_matrix:new s.bJ(et,ht.u_terrain_matrix),u_terrain_unpack:new s.bK(et,ht.u_terrain_unpack),u_terrain_exaggeration:new s.b8(et,ht.u_terrain_exaggeration)}))(i,We),this.projectionUniforms=((et,ht)=>({u_projection_matrix:new s.bJ(et,ht.u_projection_matrix),u_projection_tile_mercator_coords:new s.bK(et,ht.u_projection_tile_mercator_coords),u_projection_clipping_plane:new s.bK(et,ht.u_projection_clipping_plane),u_projection_transition:new s.b8(et,ht.u_projection_transition),u_projection_fallback_matrix:new s.bJ(et,ht.u_projection_fallback_matrix)}))(i,We),this.binderUniforms=f?f.getUniforms(i,We):[]}draw(i,o,f,p,b,B,E,T,Y,Q,O,H,ee,ie,me,pe,be,Be,Ie){const Ee=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(f),i.setStencilMode(p),i.setColorMode(b),i.setCullFace(B),T){i.activeTexture.set(Ee.TEXTURE2),Ee.bindTexture(Ee.TEXTURE_2D,T.depthTexture),i.activeTexture.set(Ee.TEXTURE3),Ee.bindTexture(Ee.TEXTURE_2D,T.texture);for(const ke in this.terrainUniforms)this.terrainUniforms[ke].set(T[ke])}if(Y)for(const ke in Y)this.projectionUniforms[fh[ke]].set(Y[ke]);if(E)for(const ke in this.fixedUniforms)this.fixedUniforms[ke].set(E[ke]);pe&&pe.setUniforms(i,this.binderUniforms,ie,{zoom:me});let Se=0;switch(o){case Ee.LINES:Se=2;break;case Ee.TRIANGLES:Se=3;break;case Ee.LINE_STRIP:Se=1}for(const ke of ee.get()){const Pe=ke.vaos||(ke.vaos={});(Pe[Q]||(Pe[Q]=new Wn)).bind(i,this,O,pe?pe.getPaintVertexBuffers():[],H,ke.vertexOffset,be,Be,Ie),Ee.drawElements(o,ke.primitiveLength*Se,Ee.UNSIGNED_SHORT,ke.primitiveOffset*Se*2)}}}function $0(_,i,o){const f=1/s.az(o,1,i.transform.tileZoom),p=Math.pow(2,o.tileID.overscaledZ),b=o.tileSize*Math.pow(2,i.transform.tileZoom)/p,B=b*(o.tileID.canonical.x+o.tileID.wrap*p),E=b*o.tileID.canonical.y;return{u_image:0,u_texsize:o.imageAtlasTexture.size,u_scale:[f,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[B>>16,E>>16],u_pixel_coord_lower:[65535&B,65535&E]}}const fA=(_,i,o,f)=>{const p=_.style.light,b=p.properties.get("position"),B=[b.x,b.y,b.z],E=s.bN();p.properties.get("anchor")==="viewport"&&s.bO(E,_.transform.bearingInRadians),s.bP(B,B,E);const T=_.transform.transformLightDirection(B),Y=p.properties.get("color");return{u_lightpos:B,u_lightpos_globe:T,u_lightintensity:p.properties.get("intensity"),u_lightcolor:[Y.r,Y.g,Y.b],u_vertical_gradient:+i,u_opacity:o,u_fill_translate:f}},Op=(_,i,o,f,p,b,B)=>s.e(fA(_,i,o,f),$0(b,_,B),{u_height_factor:-Math.pow(2,p.overscaledZ)/B.tileSize/8}),yo=(_,i,o,f)=>s.e($0(i,_,o),{u_fill_translate:f}),Hp=(_,i)=>({u_world:_,u_fill_translate:i}),q0=(_,i,o,f,p)=>s.e(yo(_,i,o,p),{u_world:f}),Xp=(_,i,o,f,p)=>{const b=_.transform;let B,E,T=0;if(o.paint.get("circle-pitch-alignment")==="map"){const Y=s.az(i,1,b.zoom);B=!0,E=[Y,Y],T=Y/(s.Z*Math.pow(2,i.tileID.overscaledZ))*2*Math.PI*p}else B=!1,E=b.pixelsToGLUnits;return{u_camera_to_center_distance:b.cameraToCenterDistance,u_scale_with_map:+(o.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+B,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:E,u_globe_extrude_scale:T,u_translate:f}},W0=_=>({u_pixel_extrude_scale:[1/_.width,1/_.height]}),gh=_=>({u_viewport_size:[_.width,_.height]}),ph=(_,i=1)=>({u_color:_,u_overlay:0,u_overlay_scale:i}),mh=(_,i,o,f)=>{const p=s.az(_,1,i)/(s.Z*Math.pow(2,_.tileID.overscaledZ))*2*Math.PI*f;return{u_extrude_scale:s.az(_,1,i),u_intensity:o,u_globe_extrude_scale:p}},_h=(_,i,o,f)=>{const p=s.K();s.bQ(p,0,_.width,_.height,0,0,1);const b=_.context.gl;return{u_matrix:p,u_world:[b.drawingBufferWidth,b.drawingBufferHeight],u_image:o,u_color_ramp:f,u_opacity:i.paint.get("heatmap-opacity")}},J0=(_,i,o)=>{const f=o.paint.get("hillshade-shadow-color"),p=o.paint.get("hillshade-highlight-color"),b=o.paint.get("hillshade-accent-color");let B=o.paint.get("hillshade-illumination-direction")*(Math.PI/180);return o.paint.get("hillshade-illumination-anchor")==="viewport"&&(B+=_.transform.bearingInRadians),{u_image:0,u_latrange:ef(0,i.tileID),u_light:[o.paint.get("hillshade-exaggeration"),B],u_shadow:f,u_highlight:p,u_accent:b}},vo=(_,i)=>{const o=i.stride,f=s.K();return s.bQ(f,0,s.Z,-8192,0,0,1),s.L(f,f,[0,-8192,0]),{u_matrix:f,u_image:1,u_dimension:[o,o],u_zoom:_.overscaledZ,u_unpack:i.getUnpackVector()}};function ef(_,i){const o=Math.pow(2,i.canonical.z),f=i.canonical.y;return[new s.$(0,f/o).toLngLat().lat,new s.$(0,(f+1)/o).toLngLat().lat]}const bc=(_,i,o,f)=>{const p=_.transform;return{u_translation:rf(_,i,o),u_ratio:f/s.az(i,1,p.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/p.pixelsToGLUnits[0],1/p.pixelsToGLUnits[1]]}},gA=(_,i,o,f,p)=>s.e(bc(_,i,o,f),{u_image:0,u_image_height:p}),Vp=(_,i,o,f,p)=>{const b=_.transform,B=tf(i,b);return{u_translation:rf(_,i,o),u_texsize:i.imageAtlasTexture.size,u_ratio:f/s.az(i,1,b.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[B,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},yc=(_,i,o,f,p,b)=>{const B=_.lineAtlas,E=tf(i,_.transform),T=o.layout.get("line-cap")==="round",Y=B.getDash(p.from,T),Q=B.getDash(p.to,T),O=Y.width*b.fromScale,H=Q.width*b.toScale;return s.e(bc(_,i,o,f),{u_patternscale_a:[E/O,-Y.height/2],u_patternscale_b:[E/H,-Q.height/2],u_sdfgamma:B.width/(256*Math.min(O,H)*_.pixelRatio)/2,u_image:0,u_tex_y_a:Y.y,u_tex_y_b:Q.y,u_mix:b.t})};function tf(_,i){return 1/s.az(_,1,i.tileZoom)}function rf(_,i,o){return s.aA(_.transform,i,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"))}const af=(_,i,o,f,p)=>{return{u_tl_parent:_,u_scale_parent:i,u_buffer_scale:1,u_fade_t:o.mix,u_opacity:o.opacity*f.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:f.paint.get("raster-brightness-min"),u_brightness_high:f.paint.get("raster-brightness-max"),u_saturation_factor:(B=f.paint.get("raster-saturation"),B>0?1-1/(1.001-B):-B),u_contrast_factor:(b=f.paint.get("raster-contrast"),b>0?1/(1-b):1+b),u_spin_weights:nf(f.paint.get("raster-hue-rotate")),u_coords_top:[p[0].x,p[0].y,p[1].x,p[1].y],u_coords_bottom:[p[3].x,p[3].y,p[2].x,p[2].y]};var b,B};function nf(_){_*=Math.PI/180;const i=Math.sin(_),o=Math.cos(_);return[(2*o+1)/3,(-Math.sqrt(3)*i-o+1)/3,(Math.sqrt(3)*i-o+1)/3]}const bh=(_,i,o,f,p,b,B,E,T,Y,Q,O,H)=>{const ee=B.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:ee.cameraToCenterDistance,u_pitch:ee.pitch/360*2*Math.PI,u_rotate_symbol:+o,u_aspect_ratio:ee.width/ee.height,u_fade_change:B.options.fadeDuration?B.symbolFadeChange:1,u_label_plane_matrix:E,u_coord_matrix:T,u_is_text:+Q,u_pitch_with_map:+f,u_is_along_line:p,u_is_variable_anchor:b,u_texsize:O,u_texture:0,u_translation:Y,u_pitched_scale:H}},vc=(_,i,o,f,p,b,B,E,T,Y,Q,O,H,ee)=>{const ie=B.transform;return s.e(bh(_,i,o,f,p,b,B,E,T,Y,Q,O,ee),{u_gamma_scale:f?Math.cos(ie.pitch*Math.PI/180)*ie.cameraToCenterDistance:1,u_device_pixel_ratio:B.pixelRatio,u_is_halo:1})},sf=(_,i,o,f,p,b,B,E,T,Y,Q,O,H)=>s.e(vc(_,i,o,f,p,b,B,E,T,Y,!0,Q,0,H),{u_texsize_icon:O,u_texture_icon:1}),xc=(_,i)=>({u_opacity:_,u_color:i}),bs=(_,i,o,f,p)=>s.e(function(b,B,E,T){const Y=E.imageManager.getPattern(b.from.toString()),Q=E.imageManager.getPattern(b.to.toString()),{width:O,height:H}=E.imageManager.getPixelSize(),ee=Math.pow(2,T.tileID.overscaledZ),ie=T.tileSize*Math.pow(2,E.transform.tileZoom)/ee,me=ie*(T.tileID.canonical.x+T.tileID.wrap*ee),pe=ie*T.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Y.tl,u_pattern_br_a:Y.br,u_pattern_tl_b:Q.tl,u_pattern_br_b:Q.br,u_texsize:[O,H],u_mix:B.t,u_pattern_size_a:Y.displaySize,u_pattern_size_b:Q.displaySize,u_scale_a:B.fromScale,u_scale_b:B.toScale,u_tile_units_to_pixels:1/s.az(T,1,E.transform.tileZoom),u_pixel_coord_upper:[me>>16,pe>>16],u_pixel_coord_lower:[65535&me,65535&pe]}}(o,p,i,f),{u_opacity:_}),wc=(_,i)=>{},yh={fillExtrusion:(_,i)=>({u_lightpos:new s.bL(_,i.u_lightpos),u_lightpos_globe:new s.bL(_,i.u_lightpos_globe),u_lightintensity:new s.b8(_,i.u_lightintensity),u_lightcolor:new s.bL(_,i.u_lightcolor),u_vertical_gradient:new s.b8(_,i.u_vertical_gradient),u_opacity:new s.b8(_,i.u_opacity),u_fill_translate:new s.bM(_,i.u_fill_translate)}),fillExtrusionPattern:(_,i)=>({u_lightpos:new s.bL(_,i.u_lightpos),u_lightpos_globe:new s.bL(_,i.u_lightpos_globe),u_lightintensity:new s.b8(_,i.u_lightintensity),u_lightcolor:new s.bL(_,i.u_lightcolor),u_vertical_gradient:new s.b8(_,i.u_vertical_gradient),u_height_factor:new s.b8(_,i.u_height_factor),u_opacity:new s.b8(_,i.u_opacity),u_fill_translate:new s.bM(_,i.u_fill_translate),u_image:new s.bH(_,i.u_image),u_texsize:new s.bM(_,i.u_texsize),u_pixel_coord_upper:new s.bM(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new s.bM(_,i.u_pixel_coord_lower),u_scale:new s.bL(_,i.u_scale),u_fade:new s.b8(_,i.u_fade)}),fill:(_,i)=>({u_fill_translate:new s.bM(_,i.u_fill_translate)}),fillPattern:(_,i)=>({u_image:new s.bH(_,i.u_image),u_texsize:new s.bM(_,i.u_texsize),u_pixel_coord_upper:new s.bM(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new s.bM(_,i.u_pixel_coord_lower),u_scale:new s.bL(_,i.u_scale),u_fade:new s.b8(_,i.u_fade),u_fill_translate:new s.bM(_,i.u_fill_translate)}),fillOutline:(_,i)=>({u_world:new s.bM(_,i.u_world),u_fill_translate:new s.bM(_,i.u_fill_translate)}),fillOutlinePattern:(_,i)=>({u_world:new s.bM(_,i.u_world),u_image:new s.bH(_,i.u_image),u_texsize:new s.bM(_,i.u_texsize),u_pixel_coord_upper:new s.bM(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new s.bM(_,i.u_pixel_coord_lower),u_scale:new s.bL(_,i.u_scale),u_fade:new s.b8(_,i.u_fade),u_fill_translate:new s.bM(_,i.u_fill_translate)}),circle:(_,i)=>({u_camera_to_center_distance:new s.b8(_,i.u_camera_to_center_distance),u_scale_with_map:new s.bH(_,i.u_scale_with_map),u_pitch_with_map:new s.bH(_,i.u_pitch_with_map),u_extrude_scale:new s.bM(_,i.u_extrude_scale),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_globe_extrude_scale:new s.b8(_,i.u_globe_extrude_scale),u_translate:new s.bM(_,i.u_translate)}),collisionBox:(_,i)=>({u_pixel_extrude_scale:new s.bM(_,i.u_pixel_extrude_scale)}),collisionCircle:(_,i)=>({u_viewport_size:new s.bM(_,i.u_viewport_size)}),debug:(_,i)=>({u_color:new s.bI(_,i.u_color),u_overlay:new s.bH(_,i.u_overlay),u_overlay_scale:new s.b8(_,i.u_overlay_scale)}),depth:wc,clippingMask:wc,heatmap:(_,i)=>({u_extrude_scale:new s.b8(_,i.u_extrude_scale),u_intensity:new s.b8(_,i.u_intensity),u_globe_extrude_scale:new s.b8(_,i.u_globe_extrude_scale)}),heatmapTexture:(_,i)=>({u_matrix:new s.bJ(_,i.u_matrix),u_world:new s.bM(_,i.u_world),u_image:new s.bH(_,i.u_image),u_color_ramp:new s.bH(_,i.u_color_ramp),u_opacity:new s.b8(_,i.u_opacity)}),hillshade:(_,i)=>({u_image:new s.bH(_,i.u_image),u_latrange:new s.bM(_,i.u_latrange),u_light:new s.bM(_,i.u_light),u_shadow:new s.bI(_,i.u_shadow),u_highlight:new s.bI(_,i.u_highlight),u_accent:new s.bI(_,i.u_accent)}),hillshadePrepare:(_,i)=>({u_matrix:new s.bJ(_,i.u_matrix),u_image:new s.bH(_,i.u_image),u_dimension:new s.bM(_,i.u_dimension),u_zoom:new s.b8(_,i.u_zoom),u_unpack:new s.bK(_,i.u_unpack)}),line:(_,i)=>({u_translation:new s.bM(_,i.u_translation),u_ratio:new s.b8(_,i.u_ratio),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_units_to_pixels:new s.bM(_,i.u_units_to_pixels)}),lineGradient:(_,i)=>({u_translation:new s.bM(_,i.u_translation),u_ratio:new s.b8(_,i.u_ratio),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_units_to_pixels:new s.bM(_,i.u_units_to_pixels),u_image:new s.bH(_,i.u_image),u_image_height:new s.b8(_,i.u_image_height)}),linePattern:(_,i)=>({u_translation:new s.bM(_,i.u_translation),u_texsize:new s.bM(_,i.u_texsize),u_ratio:new s.b8(_,i.u_ratio),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_image:new s.bH(_,i.u_image),u_units_to_pixels:new s.bM(_,i.u_units_to_pixels),u_scale:new s.bL(_,i.u_scale),u_fade:new s.b8(_,i.u_fade)}),lineSDF:(_,i)=>({u_translation:new s.bM(_,i.u_translation),u_ratio:new s.b8(_,i.u_ratio),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_units_to_pixels:new s.bM(_,i.u_units_to_pixels),u_patternscale_a:new s.bM(_,i.u_patternscale_a),u_patternscale_b:new s.bM(_,i.u_patternscale_b),u_sdfgamma:new s.b8(_,i.u_sdfgamma),u_image:new s.bH(_,i.u_image),u_tex_y_a:new s.b8(_,i.u_tex_y_a),u_tex_y_b:new s.b8(_,i.u_tex_y_b),u_mix:new s.b8(_,i.u_mix)}),raster:(_,i)=>({u_tl_parent:new s.bM(_,i.u_tl_parent),u_scale_parent:new s.b8(_,i.u_scale_parent),u_buffer_scale:new s.b8(_,i.u_buffer_scale),u_fade_t:new s.b8(_,i.u_fade_t),u_opacity:new s.b8(_,i.u_opacity),u_image0:new s.bH(_,i.u_image0),u_image1:new s.bH(_,i.u_image1),u_brightness_low:new s.b8(_,i.u_brightness_low),u_brightness_high:new s.b8(_,i.u_brightness_high),u_saturation_factor:new s.b8(_,i.u_saturation_factor),u_contrast_factor:new s.b8(_,i.u_contrast_factor),u_spin_weights:new s.bL(_,i.u_spin_weights),u_coords_top:new s.bK(_,i.u_coords_top),u_coords_bottom:new s.bK(_,i.u_coords_bottom)}),symbolIcon:(_,i)=>({u_is_size_zoom_constant:new s.bH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new s.bH(_,i.u_is_size_feature_constant),u_size_t:new s.b8(_,i.u_size_t),u_size:new s.b8(_,i.u_size),u_camera_to_center_distance:new s.b8(_,i.u_camera_to_center_distance),u_pitch:new s.b8(_,i.u_pitch),u_rotate_symbol:new s.bH(_,i.u_rotate_symbol),u_aspect_ratio:new s.b8(_,i.u_aspect_ratio),u_fade_change:new s.b8(_,i.u_fade_change),u_label_plane_matrix:new s.bJ(_,i.u_label_plane_matrix),u_coord_matrix:new s.bJ(_,i.u_coord_matrix),u_is_text:new s.bH(_,i.u_is_text),u_pitch_with_map:new s.bH(_,i.u_pitch_with_map),u_is_along_line:new s.bH(_,i.u_is_along_line),u_is_variable_anchor:new s.bH(_,i.u_is_variable_anchor),u_texsize:new s.bM(_,i.u_texsize),u_texture:new s.bH(_,i.u_texture),u_translation:new s.bM(_,i.u_translation),u_pitched_scale:new s.b8(_,i.u_pitched_scale)}),symbolSDF:(_,i)=>({u_is_size_zoom_constant:new s.bH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new s.bH(_,i.u_is_size_feature_constant),u_size_t:new s.b8(_,i.u_size_t),u_size:new s.b8(_,i.u_size),u_camera_to_center_distance:new s.b8(_,i.u_camera_to_center_distance),u_pitch:new s.b8(_,i.u_pitch),u_rotate_symbol:new s.bH(_,i.u_rotate_symbol),u_aspect_ratio:new s.b8(_,i.u_aspect_ratio),u_fade_change:new s.b8(_,i.u_fade_change),u_label_plane_matrix:new s.bJ(_,i.u_label_plane_matrix),u_coord_matrix:new s.bJ(_,i.u_coord_matrix),u_is_text:new s.bH(_,i.u_is_text),u_pitch_with_map:new s.bH(_,i.u_pitch_with_map),u_is_along_line:new s.bH(_,i.u_is_along_line),u_is_variable_anchor:new s.bH(_,i.u_is_variable_anchor),u_texsize:new s.bM(_,i.u_texsize),u_texture:new s.bH(_,i.u_texture),u_gamma_scale:new s.b8(_,i.u_gamma_scale),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_is_halo:new s.bH(_,i.u_is_halo),u_translation:new s.bM(_,i.u_translation),u_pitched_scale:new s.b8(_,i.u_pitched_scale)}),symbolTextAndIcon:(_,i)=>({u_is_size_zoom_constant:new s.bH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new s.bH(_,i.u_is_size_feature_constant),u_size_t:new s.b8(_,i.u_size_t),u_size:new s.b8(_,i.u_size),u_camera_to_center_distance:new s.b8(_,i.u_camera_to_center_distance),u_pitch:new s.b8(_,i.u_pitch),u_rotate_symbol:new s.bH(_,i.u_rotate_symbol),u_aspect_ratio:new s.b8(_,i.u_aspect_ratio),u_fade_change:new s.b8(_,i.u_fade_change),u_label_plane_matrix:new s.bJ(_,i.u_label_plane_matrix),u_coord_matrix:new s.bJ(_,i.u_coord_matrix),u_is_text:new s.bH(_,i.u_is_text),u_pitch_with_map:new s.bH(_,i.u_pitch_with_map),u_is_along_line:new s.bH(_,i.u_is_along_line),u_is_variable_anchor:new s.bH(_,i.u_is_variable_anchor),u_texsize:new s.bM(_,i.u_texsize),u_texsize_icon:new s.bM(_,i.u_texsize_icon),u_texture:new s.bH(_,i.u_texture),u_texture_icon:new s.bH(_,i.u_texture_icon),u_gamma_scale:new s.b8(_,i.u_gamma_scale),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_is_halo:new s.bH(_,i.u_is_halo),u_translation:new s.bM(_,i.u_translation),u_pitched_scale:new s.b8(_,i.u_pitched_scale)}),background:(_,i)=>({u_opacity:new s.b8(_,i.u_opacity),u_color:new s.bI(_,i.u_color)}),backgroundPattern:(_,i)=>({u_opacity:new s.b8(_,i.u_opacity),u_image:new s.bH(_,i.u_image),u_pattern_tl_a:new s.bM(_,i.u_pattern_tl_a),u_pattern_br_a:new s.bM(_,i.u_pattern_br_a),u_pattern_tl_b:new s.bM(_,i.u_pattern_tl_b),u_pattern_br_b:new s.bM(_,i.u_pattern_br_b),u_texsize:new s.bM(_,i.u_texsize),u_mix:new s.b8(_,i.u_mix),u_pattern_size_a:new s.bM(_,i.u_pattern_size_a),u_pattern_size_b:new s.bM(_,i.u_pattern_size_b),u_scale_a:new s.b8(_,i.u_scale_a),u_scale_b:new s.b8(_,i.u_scale_b),u_pixel_coord_upper:new s.bM(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new s.bM(_,i.u_pixel_coord_lower),u_tile_units_to_pixels:new s.b8(_,i.u_tile_units_to_pixels)}),terrain:(_,i)=>({u_texture:new s.bH(_,i.u_texture),u_ele_delta:new s.b8(_,i.u_ele_delta),u_fog_matrix:new s.bJ(_,i.u_fog_matrix),u_fog_color:new s.bI(_,i.u_fog_color),u_fog_ground_blend:new s.b8(_,i.u_fog_ground_blend),u_fog_ground_blend_opacity:new s.b8(_,i.u_fog_ground_blend_opacity),u_horizon_color:new s.bI(_,i.u_horizon_color),u_horizon_fog_blend:new s.b8(_,i.u_horizon_fog_blend),u_is_globe_mode:new s.b8(_,i.u_is_globe_mode)}),terrainDepth:(_,i)=>({u_ele_delta:new s.b8(_,i.u_ele_delta)}),terrainCoords:(_,i)=>({u_texture:new s.bH(_,i.u_texture),u_terrain_coords_id:new s.b8(_,i.u_terrain_coords_id),u_ele_delta:new s.b8(_,i.u_ele_delta)}),projectionErrorMeasurement:(_,i)=>({u_input:new s.b8(_,i.u_input),u_output_expected:new s.b8(_,i.u_output_expected)}),atmosphere:(_,i)=>({u_sun_pos:new s.bL(_,i.u_sun_pos),u_atmosphere_blend:new s.b8(_,i.u_atmosphere_blend),u_globe_position:new s.bL(_,i.u_globe_position),u_globe_radius:new s.b8(_,i.u_globe_radius),u_inv_proj_matrix:new s.bJ(_,i.u_inv_proj_matrix)}),sky:(_,i)=>({u_sky_color:new s.bI(_,i.u_sky_color),u_horizon_color:new s.bI(_,i.u_horizon_color),u_horizon:new s.bM(_,i.u_horizon),u_horizon_normal:new s.bM(_,i.u_horizon_normal),u_sky_horizon_blend:new s.b8(_,i.u_sky_horizon_blend),u_sky_blend:new s.b8(_,i.u_sky_blend)})};class vh{constructor(i,o,f){this.context=i;const p=i.gl;this.buffer=p.createBuffer(),this.dynamicDraw=!!f,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),p.bufferData(p.ELEMENT_ARRAY_BUFFER,o.arrayBuffer,this.dynamicDraw?p.DYNAMIC_DRAW:p.STATIC_DRAW),this.dynamicDraw||delete o.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const o=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),o.bufferSubData(o.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const of={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class xh{constructor(i,o,f,p){this.length=o.length,this.attributes=f,this.itemSize=o.bytesPerElement,this.dynamicDraw=p,this.context=i;const b=i.gl;this.buffer=b.createBuffer(),i.bindVertexBuffer.set(this.buffer),b.bufferData(b.ARRAY_BUFFER,o.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete o.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const o=this.context.gl;this.bind(),o.bufferSubData(o.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,o){for(let f=0;f<this.attributes.length;f++){const p=o.attributes[this.attributes[f].name];p!==void 0&&i.enableVertexAttribArray(p)}}setVertexAttribPointers(i,o,f){for(let p=0;p<this.attributes.length;p++){const b=this.attributes[p],B=o.attributes[b.name];B!==void 0&&i.vertexAttribPointer(B,b.components,i[of[b.type]],!1,this.itemSize,b.offset+this.itemSize*(f||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class zr{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class wh extends zr{getDefault(){return s.b7.transparent}set(i){const o=this.current;(i.r!==o.r||i.g!==o.g||i.b!==o.b||i.a!==o.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class Gp extends zr{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class jp extends zr{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class Kp extends zr{getDefault(){return[!0,!0,!0,!0]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||i[3]!==o[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class $p extends zr{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class lf extends zr{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class qp extends zr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const o=this.current;(i.func!==o.func||i.ref!==o.ref||i.mask!==o.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class Af extends zr{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class Bc extends zr{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;i?o.enable(o.STENCIL_TEST):o.disable(o.STENCIL_TEST),this.current=i,this.dirty=!1}}class Cc extends zr{getDefault(){return[0,1]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class Mc extends zr{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;i?o.enable(o.DEPTH_TEST):o.disable(o.DEPTH_TEST),this.current=i,this.dirty=!1}}class Bh extends zr{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class xo extends zr{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;i?o.enable(o.BLEND):o.disable(o.BLEND),this.current=i,this.dirty=!1}}class dl extends zr{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class bn extends zr{getDefault(){return s.b7.transparent}set(i){const o=this.current;(i.r!==o.r||i.g!==o.g||i.b!==o.b||i.a!==o.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class cf extends zr{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class uf extends zr{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;i?o.enable(o.CULL_FACE):o.disable(o.CULL_FACE),this.current=i,this.dirty=!1}}class Ch extends zr{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class wo extends zr{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class Rc extends zr{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class Ic extends zr{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class pA extends zr{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||i[3]!==o[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class Uc extends zr{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.bindFramebuffer(o.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class hf extends zr{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.bindRenderbuffer(o.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class fl extends zr{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.bindTexture(o.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class gl extends zr{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.bindBuffer(o.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class df extends zr{getDefault(){return null}set(i){const o=this.gl;o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Mh extends zr{getDefault(){return null}set(i){var o;if(i===this.current&&!this.dirty)return;const f=this.gl;Fn(f)?f.bindVertexArray(i):(o=f.getExtension("OES_vertex_array_object"))===null||o===void 0||o.bindVertexArrayOES(i),this.current=i,this.dirty=!1}}class Kr extends zr{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.pixelStorei(o.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class Ec extends zr{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class Wp extends zr{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class Fc extends zr{constructor(i,o){super(i),this.context=i,this.parent=o}getDefault(){return null}}class mA extends Fc{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const o=this.gl;o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class Jp extends Fc{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const o=this.gl;o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class e2 extends Fc{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const o=this.gl;o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,i),this.current=i,this.dirty=!1}}const Rh="Framebuffer is not complete";class t2{constructor(i,o,f,p,b){this.context=i,this.width=o,this.height=f;const B=i.gl,E=this.framebuffer=B.createFramebuffer();if(this.colorAttachment=new mA(i,E),p)this.depthAttachment=b?new e2(i,E):new Jp(i,E);else if(b)throw new Error("Stencil cannot be set without depth");if(B.checkFramebufferStatus(B.FRAMEBUFFER)!==B.FRAMEBUFFER_COMPLETE)throw new Error(Rh)}destroy(){const i=this.context.gl,o=this.colorAttachment.get();if(o&&i.deleteTexture(o),this.depthAttachment){const f=this.depthAttachment.get();f&&i.deleteRenderbuffer(f)}i.deleteFramebuffer(this.framebuffer)}}class Ih{constructor(i){var o,f;if(this.gl=i,this.clearColor=new wh(this),this.clearDepth=new Gp(this),this.clearStencil=new jp(this),this.colorMask=new Kp(this),this.depthMask=new $p(this),this.stencilMask=new lf(this),this.stencilFunc=new qp(this),this.stencilOp=new Af(this),this.stencilTest=new Bc(this),this.depthRange=new Cc(this),this.depthTest=new Mc(this),this.depthFunc=new Bh(this),this.blend=new xo(this),this.blendFunc=new dl(this),this.blendColor=new bn(this),this.blendEquation=new cf(this),this.cullFace=new uf(this),this.cullFaceSide=new Ch(this),this.frontFace=new wo(this),this.program=new Rc(this),this.activeTexture=new Ic(this),this.viewport=new pA(this),this.bindFramebuffer=new Uc(this),this.bindRenderbuffer=new hf(this),this.bindTexture=new fl(this),this.bindVertexBuffer=new gl(this),this.bindElementBuffer=new df(this),this.bindVertexArray=new Mh(this),this.pixelStoreUnpack=new Kr(this),this.pixelStoreUnpackPremultiplyAlpha=new Ec(this),this.pixelStoreUnpackFlipY=new Wp(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),Fn(i)){this.HALF_FLOAT=i.HALF_FLOAT;const p=i.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(o=i.RGBA16F)!==null&&o!==void 0?o:p==null?void 0:p.RGBA16F_EXT,this.RGB16F=(f=i.RGB16F)!==null&&f!==void 0?f:p==null?void 0:p.RGB16F_EXT,i.getExtension("EXT_color_buffer_float")}else{i.getExtension("EXT_color_buffer_half_float"),i.getExtension("OES_texture_half_float_linear");const p=i.getExtension("OES_texture_half_float");this.HALF_FLOAT=p==null?void 0:p.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,o){return new vh(this,i,o)}createVertexBuffer(i,o,f){return new xh(this,i,o,f)}createRenderbuffer(i,o,f){const p=this.gl,b=p.createRenderbuffer();return this.bindRenderbuffer.set(b),p.renderbufferStorage(p.RENDERBUFFER,i,o,f),this.bindRenderbuffer.set(null),b}createFramebuffer(i,o,f,p){return new t2(this,i,o,f,p)}clear({color:i,depth:o,stencil:f}){const p=this.gl;let b=0;i&&(b|=p.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),o!==void 0&&(b|=p.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(o),this.depthMask.set(!0)),f!==void 0&&(b|=p.STENCIL_BUFFER_BIT,this.clearStencil.set(f),this.stencilMask.set(255)),p.clear(b)}setCullFace(i){i.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){s.bE(i.blendFunction,ti.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}createVertexArray(){var i;return Fn(this.gl)?this.gl.createVertexArray():(i=this.gl.getExtension("OES_vertex_array_object"))===null||i===void 0?void 0:i.createVertexArrayOES()}deleteVertexArray(i){var o;return Fn(this.gl)?this.gl.deleteVertexArray(i):(o=this.gl.getExtension("OES_vertex_array_object"))===null||o===void 0?void 0:o.deleteVertexArrayOES(i)}unbindVAO(){this.bindVertexArray.set(null)}}let Bo;function _A(_,i,o,f,p){const b=_.context,B=_.transform,E=b.gl,T=_.useProgram("collisionBox"),Y=[];let Q=0,O=0;for(let be=0;be<f.length;be++){const Be=f[be],Ie=i.getTile(Be).getBucket(o);if(!Ie)continue;const Ee=p?Ie.textCollisionBox:Ie.iconCollisionBox,Se=Ie.collisionCircleArray;Se.length>0&&(Y.push({circleArray:Se,circleOffset:O,coord:Be}),Q+=Se.length/4,O=Q),Ee&&T.draw(b,E.LINES,Rr.disabled,Or.disabled,_.colorModeForRenderPass(),jr.disabled,W0(_.transform),_.style.map.terrain&&_.style.map.terrain.getTerrainData(Be),B.getProjectionData({overscaledTileID:Be,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),o.id,Ee.layoutVertexBuffer,Ee.indexBuffer,Ee.segments,null,_.transform.zoom,null,null,Ee.collisionVertexBuffer)}if(!p||!Y.length)return;const H=_.useProgram("collisionCircle"),ee=new s.bR;ee.resize(4*Q),ee._trim();let ie=0;for(const be of Y)for(let Be=0;Be<be.circleArray.length/4;Be++){const Ie=4*Be,Ee=be.circleArray[Ie+0],Se=be.circleArray[Ie+1],ke=be.circleArray[Ie+2],Pe=be.circleArray[Ie+3];ee.emplace(ie++,Ee,Se,ke,Pe,0),ee.emplace(ie++,Ee,Se,ke,Pe,1),ee.emplace(ie++,Ee,Se,ke,Pe,2),ee.emplace(ie++,Ee,Se,ke,Pe,3)}(!Bo||Bo.length<2*Q)&&(Bo=function(be){const Be=2*be,Ie=new s.bT;Ie.resize(Be),Ie._trim();for(let Ee=0;Ee<Be;Ee++){const Se=6*Ee;Ie.uint16[Se+0]=4*Ee+0,Ie.uint16[Se+1]=4*Ee+1,Ie.uint16[Se+2]=4*Ee+2,Ie.uint16[Se+3]=4*Ee+2,Ie.uint16[Se+4]=4*Ee+3,Ie.uint16[Se+5]=4*Ee+0}return Ie}(Q));const me=b.createIndexBuffer(Bo,!0),pe=b.createVertexBuffer(ee,s.bS.members,!0);for(const be of Y){const Be=gh(_.transform);H.draw(b,E.TRIANGLES,Rr.disabled,Or.disabled,_.colorModeForRenderPass(),jr.disabled,Be,_.style.map.terrain&&_.style.map.terrain.getTerrainData(be.coord),null,o.id,pe,me,s.aJ.simpleSegment(0,2*be.circleOffset,be.circleArray.length,be.circleArray.length/2),null,_.transform.zoom,null,null,null)}pe.destroy(),me.destroy()}const Uh=s.ad(new Float32Array(16));function Eh(_,i,o,f,p,b){const{horizontalAlign:B,verticalAlign:E}=s.aE(_);return new s.P((-(B-.5)*i/p+f[0])*b,(-(E-.5)*o/p+f[1])*b)}function ff(_,i,o,f,p,b){const B=i.tileAnchorPoint.add(new s.P(i.translation[0],i.translation[1]));if(i.pitchWithMap){let E=f.mult(b);o||(E=E.rotate(-p));const T=B.add(E);return bt(T.x,T.y,i.pitchedLabelPlaneMatrix,i.getElevation).point}if(o){const E=Cr(i.tileAnchorPoint.x+1,i.tileAnchorPoint.y,i).point.sub(_),T=Math.atan(E.y/E.x)+(E.x<0?Math.PI:0);return _.add(f.rotate(T))}return _.add(f)}function Tc(_,i,o,f,p,b,B,E,T,Y,Q,O){const H=_.text.placedSymbolArray,ee=_.text.dynamicLayoutVertexArray,ie=_.icon.dynamicLayoutVertexArray,me={};ee.clear();for(let pe=0;pe<H.length;pe++){const be=H.get(pe),Be=be.hidden||!be.crossTileID||_.allowVerticalPlacement&&!be.placedOrientation?null:f[be.crossTileID];if(Be){const Ie=new s.P(be.anchorX,be.anchorY),Ee={getElevation:O,width:p.width,height:p.height,pitchedLabelPlaneMatrix:b,pitchWithMap:o,transform:p,tileAnchorPoint:Ie,translation:Y,unwrappedTileID:Q},Se=o?En(Ie.x,Ie.y,Ee):Cr(Ie.x,Ie.y,Ee),ke=tr(p.cameraToCenterDistance,Se.signedDistanceFromCamera);let Pe=s.am(_.textSizeData,E,be)*ke/s.ay;o&&(Pe*=_.tilePixelRatio/B);const{width:We,height:et,anchor:ht,textOffset:gt,textBoxScale:ut}=Be,Dt=Eh(ht,We,et,gt,ut,Pe),Ft=p.getPitchedTextCorrection(Ie.x+Y[0],Ie.y+Y[1],Q),yt=ff(Se.point,Ee,i,Dt,-p.bearingInRadians,Ft),ar=_.allowVerticalPlacement&&be.placedOrientation===s.al.vertical?Math.PI/2:0;for(let Ur=0;Ur<be.numGlyphs;Ur++)s.as(ee,yt,ar);T&&be.associatedIconIndex>=0&&(me[be.associatedIconIndex]={shiftedAnchor:yt,angle:ar})}else Er(be.numGlyphs,ee)}if(T){ie.clear();const pe=_.icon.placedSymbolArray;for(let be=0;be<pe.length;be++){const Be=pe.get(be);if(Be.hidden)Er(Be.numGlyphs,ie);else{const Ie=me[be];if(Ie)for(let Ee=0;Ee<Be.numGlyphs;Ee++)s.as(ie,Ie.shiftedAnchor,Ie.angle);else Er(Be.numGlyphs,ie)}}_.icon.dynamicLayoutVertexBuffer.updateData(ie)}_.text.dynamicLayoutVertexBuffer.updateData(ee)}function Sc(_,i,o){return o.iconsInText&&i?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function Nc(_,i,o,f,p,b,B,E,T,Y,Q,O,H){const ee=_.context,ie=ee.gl,me=_.transform,pe=E==="map",be=T==="map",Be=E!=="viewport"&&o.layout.get("symbol-placement")!=="point",Ie=pe&&!be&&!Be,Ee=!o.layout.get("symbol-sort-key").isConstant();let Se=!1;const ke=_.getDepthModeForSublayer(0,Rr.ReadOnly),Pe=o._unevaluatedLayout.hasValue("text-variable-anchor")||o._unevaluatedLayout.hasValue("text-variable-anchor-offset"),We=[],et=me.getCircleRadiusCorrection();for(const ht of f){const gt=i.getTile(ht),ut=gt.getBucket(o);if(!ut)continue;const Dt=p?ut.text:ut.icon;if(!Dt||!Dt.segments.get().length||!Dt.hasVisibleVertices)continue;const Ft=Dt.programConfigurations.get(o.id),yt=p||ut.sdfIcons,ar=p?ut.textSizeData:ut.iconSizeData,Ur=be||me.pitch!==0,wr=_.useProgram(Sc(yt,p,ut),Ft),Ri=s.ak(ar,me.zoom),ai=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ht);let Ii,bi,si,ri,ha=[0,0],aa=null;if(p)bi=gt.glyphAtlasTexture,si=ie.LINEAR,Ii=gt.glyphAtlasTexture.size,ut.iconsInText&&(ha=gt.imageAtlasTexture.size,aa=gt.imageAtlasTexture,ri=Ur||_.options.rotating||_.options.zooming||ar.kind==="composite"||ar.kind==="camera"?ie.LINEAR:ie.NEAREST);else{const Fi=o.layout.get("icon-size").constantOr(0)!==1||ut.iconsNeedLinear;bi=gt.imageAtlasTexture,si=yt||_.options.rotating||_.options.zooming||Fi||Ur?ie.LINEAR:ie.NEAREST,Ii=gt.imageAtlasTexture.size}const Ca=s.az(gt,1,_.transform.zoom),Sa=ft(pe,_.transform,Ca),is=s.K();s.an(is,Sa);const Js=Ct(be,pe,_.transform,Ca),ws=s.aA(me,gt,b,B),Bs=me.getProjectionData({overscaledTileID:ht,applyGlobeMatrix:!H,applyTerrainMatrix:!0}),as=Pe&&ut.hasTextData(),Eo=o.layout.get("icon-text-fit")!=="none"&&as&&ut.hasIconData();if(Be){const Fi=_.style.map.terrain?(Hi,Ui)=>_.style.map.terrain.getElevation(ht,Hi,Ui):null,yi=o.layout.get("text-rotation-alignment")==="map";lr(ut,_,p,Sa,is,be,Y,yi,ht.toUnwrapped(),me.width,me.height,ws,Fi)}const Fo=p&&Pe||Eo,an=Be||Fo?Uh:be?Sa:_.transform.clipSpaceToPixelsMatrix,eo=yt&&o.paint.get(p?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Cs;Cs=yt?ut.iconsInText?sf(ar.kind,Ri,Ie,be,Be,Fo,_,an,Js,ws,Ii,ha,et):vc(ar.kind,Ri,Ie,be,Be,Fo,_,an,Js,ws,p,Ii,0,et):bh(ar.kind,Ri,Ie,be,Be,Fo,_,an,Js,ws,p,Ii,et);const Ms={program:wr,buffers:Dt,uniformValues:Cs,projectionData:Bs,atlasTexture:bi,atlasTextureIcon:aa,atlasInterpolation:si,atlasInterpolationIcon:ri,isSDF:yt,hasHalo:eo};if(Ee&&ut.canOverlap){Se=!0;const Fi=Dt.segments.get();for(const yi of Fi)We.push({segments:new s.aJ([yi]),sortKey:yi.sortKey,state:Ms,terrainData:ai})}else We.push({segments:Dt.segments,sortKey:0,state:Ms,terrainData:ai})}Se&&We.sort((ht,gt)=>ht.sortKey-gt.sortKey);for(const ht of We){const gt=ht.state;if(ee.activeTexture.set(ie.TEXTURE0),gt.atlasTexture.bind(gt.atlasInterpolation,ie.CLAMP_TO_EDGE),gt.atlasTextureIcon&&(ee.activeTexture.set(ie.TEXTURE1),gt.atlasTextureIcon&&gt.atlasTextureIcon.bind(gt.atlasInterpolationIcon,ie.CLAMP_TO_EDGE)),gt.isSDF){const ut=gt.uniformValues;gt.hasHalo&&(ut.u_is_halo=1,gf(gt.buffers,ht.segments,o,_,gt.program,ke,Q,O,ut,gt.projectionData,ht.terrainData)),ut.u_is_halo=0}gf(gt.buffers,ht.segments,o,_,gt.program,ke,Q,O,gt.uniformValues,gt.projectionData,ht.terrainData)}}function gf(_,i,o,f,p,b,B,E,T,Y,Q){const O=f.context;p.draw(O,O.gl.TRIANGLES,b,B,E,jr.backCCW,T,Q,Y,o.id,_.layoutVertexBuffer,_.indexBuffer,i,o.paint,f.transform.zoom,_.programConfigurations.get(o.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function Fh(_,i,o,f,p){const b=_.context,B=b.gl,E=Or.disabled,T=new ti([B.ONE,B.ONE],s.b7.transparent,[!0,!0,!0,!0]),Y=i.getBucket(o);if(!Y)return;const Q=f.key;let O=o.heatmapFbos.get(Q);O||(O=Th(b,i.tileSize,i.tileSize),o.heatmapFbos.set(Q,O)),b.bindFramebuffer.set(O.framebuffer),b.viewport.set([0,0,i.tileSize,i.tileSize]),b.clear({color:s.b7.transparent});const H=Y.programConfigurations.get(o.id),ee=_.useProgram("heatmap",H,!p),ie=_.transform.getProjectionData({overscaledTileID:i.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),me=_.style.map.terrain.getTerrainData(f);ee.draw(b,B.TRIANGLES,Rr.disabled,E,T,jr.disabled,mh(i,_.transform.zoom,o.paint.get("heatmap-intensity"),1),me,ie,o.id,Y.layoutVertexBuffer,Y.indexBuffer,Y.segments,o.paint,_.transform.zoom,H)}function r2(_,i,o,f,p){const b=_.context,B=b.gl,E=_.transform;b.setColorMode(_.colorModeForRenderPass());const T=bA(b,i),Y=o.key,Q=i.heatmapFbos.get(Y);if(!Q)return;b.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,Q.colorAttachment.get()),b.activeTexture.set(B.TEXTURE1),T.bind(B.LINEAR,B.CLAMP_TO_EDGE);const O=E.getProjectionData({overscaledTileID:o,applyTerrainMatrix:p,applyGlobeMatrix:!f});_.useProgram("heatmapTexture").draw(b,B.TRIANGLES,Rr.disabled,Or.disabled,_.colorModeForRenderPass(),jr.disabled,_h(_,i,0,1),null,O,i.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments,i.paint,E.zoom),Q.destroy(),i.heatmapFbos.delete(Y)}function Th(_,i,o){var f,p;const b=_.gl,B=b.createTexture();b.bindTexture(b.TEXTURE_2D,B),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);const E=(f=_.HALF_FLOAT)!==null&&f!==void 0?f:b.UNSIGNED_BYTE,T=(p=_.RGBA16F)!==null&&p!==void 0?p:b.RGBA;b.texImage2D(b.TEXTURE_2D,0,T,i,o,0,b.RGBA,E,null);const Y=_.createFramebuffer(i,o,!1,!1);return Y.colorAttachment.set(B),Y}function bA(_,i){return i.colorRampTexture||(i.colorRampTexture=new X(_,i.colorRamp,_.gl.RGBA)),i.colorRampTexture}function Yc(_,i,o,f,p){if(!o||!f||!f.imageAtlas)return;const b=f.imageAtlas.patternPositions;let B=b[o.to.toString()],E=b[o.from.toString()];if(!B&&E&&(B=E),!E&&B&&(E=B),!B||!E){const T=p.getPaintProperty(i);B=b[T],E=b[T]}B&&E&&_.setConstantPatternPositions(B,E)}function Sh(_,i,o,f,p,b,B,E){const T=_.context.gl,Y="fill-pattern",Q=o.paint.get(Y),O=Q&&Q.constantOr(1),H=o.getCrossfadeParameters();let ee,ie,me,pe,be;const Be=_.transform,Ie=o.paint.get("fill-translate"),Ee=o.paint.get("fill-translate-anchor");B?(ie=O&&!o.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ee=T.LINES):(ie=O?"fillPattern":"fill",ee=T.TRIANGLES);const Se=Q.constantOr(null);for(const ke of f){const Pe=i.getTile(ke);if(O&&!Pe.patternsLoaded())continue;const We=Pe.getBucket(o);if(!We)continue;const et=We.programConfigurations.get(o.id),ht=_.useProgram(ie,et),gt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ke);O&&(_.context.activeTexture.set(T.TEXTURE0),Pe.imageAtlasTexture.bind(T.LINEAR,T.CLAMP_TO_EDGE),et.updatePaintBuffers(H)),Yc(et,Y,Se,Pe,o);const ut=Be.getProjectionData({overscaledTileID:ke,applyGlobeMatrix:!E,applyTerrainMatrix:!0}),Dt=s.aA(Be,Pe,Ie,Ee);if(B){pe=We.indexBuffer2,be=We.segments2;const yt=[T.drawingBufferWidth,T.drawingBufferHeight];me=ie==="fillOutlinePattern"&&O?q0(_,H,Pe,yt,Dt):Hp(yt,Dt)}else pe=We.indexBuffer,be=We.segments,me=O?yo(_,H,Pe,Dt):{u_fill_translate:Dt};let Ft;if(_.renderPass==="translucent"&&E){const[yt]=_.getStencilConfigForOverlapAndUpdateStencilID(f);Ft=yt[ke.overscaledZ]}else Ft=_.stencilModeForClipping(ke);ht.draw(_.context,ee,p,Ft,b,jr.backCCW,me,gt,ut,o.id,We.layoutVertexBuffer,pe,be,o.paint,_.transform.zoom,et)}}function Pc(_,i,o,f,p,b,B,E){const T=_.context,Y=T.gl,Q="fill-extrusion-pattern",O=o.paint.get(Q),H=O.constantOr(1),ee=o.getCrossfadeParameters(),ie=o.paint.get("fill-extrusion-opacity"),me=O.constantOr(null),pe=_.transform;for(const be of f){const Be=i.getTile(be),Ie=Be.getBucket(o);if(!Ie)continue;const Ee=_.style.map.terrain&&_.style.map.terrain.getTerrainData(be),Se=Ie.programConfigurations.get(o.id),ke=_.useProgram(H?"fillExtrusionPattern":"fillExtrusion",Se);H&&(_.context.activeTexture.set(Y.TEXTURE0),Be.imageAtlasTexture.bind(Y.LINEAR,Y.CLAMP_TO_EDGE),Se.updatePaintBuffers(ee));const Pe=pe.getProjectionData({overscaledTileID:be,applyGlobeMatrix:!E,applyTerrainMatrix:!0});Yc(Se,Q,me,Be,o);const We=s.aA(pe,Be,o.paint.get("fill-extrusion-translate"),o.paint.get("fill-extrusion-translate-anchor")),et=o.paint.get("fill-extrusion-vertical-gradient"),ht=H?Op(_,et,ie,We,be,ee,Be):fA(_,et,ie,We);ke.draw(T,T.gl.TRIANGLES,p,b,B,jr.backCCW,ht,Ee,Pe,o.id,Ie.layoutVertexBuffer,Ie.indexBuffer,Ie.segments,o.paint,_.transform.zoom,Se,_.style.map.terrain&&Ie.centroidVertexBuffer)}}function pl(_,i,o,f,p,b,B,E,T){var Y;const Q=_.style.projection,O=_.context,H=_.transform,ee=O.gl,ie=_.useProgram("hillshade"),me=!_.options.moving;for(const pe of f){const be=i.getTile(pe),Be=be.fbo;if(!Be)continue;const Ie=Q.getMeshFromTileID(O,pe.canonical,E,!0,"raster"),Ee=(Y=_.style.map.terrain)===null||Y===void 0?void 0:Y.getTerrainData(pe);O.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,Be.colorAttachment.get());const Se=H.getProjectionData({overscaledTileID:pe,aligned:me,applyGlobeMatrix:!T,applyTerrainMatrix:!0});ie.draw(O,ee.TRIANGLES,b,p[pe.overscaledZ],B,jr.backCCW,J0(_,be,o),Ee,Se,o.id,Ie.vertexBuffer,Ie.indexBuffer,Ie.segments)}}const yA=[new s.P(0,0),new s.P(s.Z,0),new s.P(s.Z,s.Z),new s.P(0,s.Z)];function Lc(_,i,o,f,p,b,B,E,T=!1,Y=!1){const Q=f[f.length-1].overscaledZ,O=_.context,H=O.gl,ee=_.useProgram("raster"),ie=_.transform,me=_.style.projection,pe=_.colorModeForRenderPass(),be=!_.options.moving;for(const Be of f){const Ie=_.getDepthModeForSublayer(Be.overscaledZ-Q,o.paint.get("raster-opacity")===1?Rr.ReadWrite:Rr.ReadOnly,H.LESS),Ee=i.getTile(Be);Ee.registerFadeDuration(o.paint.get("raster-fade-duration"));const Se=i.findLoadedParent(Be,0),ke=i.findLoadedSibling(Be),Pe=pf(Ee,Se||ke||null,i,o,_.transform,_.style.map.terrain);let We,et;const ht=o.paint.get("raster-resampling")==="nearest"?H.NEAREST:H.LINEAR;O.activeTexture.set(H.TEXTURE0),Ee.texture.bind(ht,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),O.activeTexture.set(H.TEXTURE1),Se?(Se.texture.bind(ht,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),We=Math.pow(2,Se.tileID.overscaledZ-Ee.tileID.overscaledZ),et=[Ee.tileID.canonical.x*We%1,Ee.tileID.canonical.y*We%1]):Ee.texture.bind(ht,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),Ee.texture.useMipmap&&O.extTextureFilterAnisotropic&&_.transform.pitch>20&&H.texParameterf(H.TEXTURE_2D,O.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,O.extTextureFilterAnisotropicMax);const gt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Be),ut=ie.getProjectionData({overscaledTileID:Be,aligned:be,applyGlobeMatrix:!Y,applyTerrainMatrix:!0}),Dt=af(et||[0,0],We||1,Pe,o,E),Ft=me.getMeshFromTileID(O,Be.canonical,b,B,"raster");ee.draw(O,H.TRIANGLES,Ie,p?p[Be.overscaledZ]:Or.disabled,pe,T?jr.frontCCW:jr.backCCW,Dt,gt,ut,o.id,Ft.vertexBuffer,Ft.indexBuffer,Ft.segments)}}function pf(_,i,o,f,p,b){const B=f.paint.get("raster-fade-duration");if(!b&&B>0){const E=U.now(),T=(E-_.timeAdded)/B,Y=i?(E-i.timeAdded)/B:-1,Q=o.getSource(),O=qe(p,{tileSize:Q.tileSize,roundZoom:Q.roundZoom}),H=!i||Math.abs(i.tileID.overscaledZ-O)>Math.abs(_.tileID.overscaledZ-O),ee=H&&_.refreshedUponExpiration?1:s.ae(H?T:1-Y,0,1);return _.refreshedUponExpiration&&T>=1&&(_.refreshedUponExpiration=!1),i?{opacity:1,mix:1-ee}:{opacity:ee,mix:0}}return{opacity:1,mix:0}}const Oi=new s.b7(1,0,0,1),Co=new s.b7(0,1,0,1),yn=new s.b7(0,0,1,1),Nh=new s.b7(1,0,1,1),Yh=new s.b7(0,1,1,1);function Ph(_,i,o,f){$s(_,0,i+o/2,_.transform.width,o,f)}function Mo(_,i,o,f){$s(_,i-o/2,0,o,_.transform.height,f)}function $s(_,i,o,f,p,b){const B=_.context,E=B.gl;E.enable(E.SCISSOR_TEST),E.scissor(i*_.pixelRatio,o*_.pixelRatio,f*_.pixelRatio,p*_.pixelRatio),B.clear({color:b}),E.disable(E.SCISSOR_TEST)}function Lh(_,i,o){const f=_.context,p=f.gl,b=_.useProgram("debug"),B=Rr.disabled,E=Or.disabled,T=_.colorModeForRenderPass(),Y="$debug",Q=_.style.map.terrain&&_.style.map.terrain.getTerrainData(o);f.activeTexture.set(p.TEXTURE0);const O=i.getTileByID(o.key).latestRawTileData,H=Math.floor((O&&O.byteLength||0)/1024),ee=i.getTile(o).tileSize,ie=512/Math.min(ee,512)*(o.overscaledZ/_.transform.zoom)*.5;let me=o.canonical.toString();o.overscaledZ!==o.canonical.z&&(me+=` => ${o.overscaledZ}`),function(be,Be){be.initDebugOverlayCanvas();const Ie=be.debugOverlayCanvas,Ee=be.context.gl,Se=be.debugOverlayCanvas.getContext("2d");Se.clearRect(0,0,Ie.width,Ie.height),Se.shadowColor="white",Se.shadowBlur=2,Se.lineWidth=1.5,Se.strokeStyle="white",Se.textBaseline="top",Se.font="bold 36px Open Sans, sans-serif",Se.fillText(Be,5,5),Se.strokeText(Be,5,5),be.debugOverlayTexture.update(Ie),be.debugOverlayTexture.bind(Ee.LINEAR,Ee.CLAMP_TO_EDGE)}(_,`${me} ${H}kB`);const pe=_.transform.getProjectionData({overscaledTileID:o,applyGlobeMatrix:!0,applyTerrainMatrix:!0});b.draw(f,p.TRIANGLES,B,E,ti.alphaBlended,jr.disabled,ph(s.b7.transparent,ie),null,pe,Y,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),b.draw(f,p.LINE_STRIP,B,E,T,jr.disabled,ph(s.b7.red),Q,pe,Y,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function kh(_,i,o,f){const{isRenderingGlobe:p}=f,b=_.context,B=b.gl,E=_.transform,T=_.colorModeForRenderPass(),Y=_.getDepthModeFor3D(),Q=_.useProgram("terrain");b.bindFramebuffer.set(null),b.viewport.set([0,0,_.width,_.height]);for(const O of o){const H=i.getTerrainMesh(O.tileID),ee=_.renderToTexture.getTexture(O),ie=i.getTerrainData(O.tileID);b.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,ee.texture);const me=i.getMeshFrameDelta(E.zoom),pe=E.calculateFogMatrix(O.tileID.toUnwrapped()),be=Zp(me,pe,_.style.sky,E.pitch,p),Be=E.getProjectionData({overscaledTileID:O.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});Q.draw(b,B.TRIANGLES,Y,Or.disabled,T,jr.backCCW,be,ie,Be,"terrain",H.vertexBuffer,H.indexBuffer,H.segments)}}function Qh(_,i){if(!i.mesh){const o=new s.aI;o.emplaceBack(-1,-1),o.emplaceBack(1,-1),o.emplaceBack(1,1),o.emplaceBack(-1,1);const f=new s.aK;f.emplaceBack(0,1,2),f.emplaceBack(0,2,3),i.mesh=new nl(_.createVertexBuffer(o,$n.members),_.createIndexBuffer(f),s.aJ.simpleSegment(0,0,o.length,f.length))}return i.mesh}class mf{constructor(i,o){this.context=new Ih(i),this.transform=o,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.ad(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=tt.maxUnderzooming+tt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new _s}resize(i,o,f){if(this.width=Math.floor(i*f),this.height=Math.floor(o*f),this.pixelRatio=f,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const p of this.style._order)this.style._layers[p].resize()}setup(){const i=this.context,o=new s.aI;o.emplaceBack(0,0),o.emplaceBack(s.Z,0),o.emplaceBack(0,s.Z),o.emplaceBack(s.Z,s.Z),this.tileExtentBuffer=i.createVertexBuffer(o,$n.members),this.tileExtentSegments=s.aJ.simpleSegment(0,0,4,2);const f=new s.aI;f.emplaceBack(0,0),f.emplaceBack(s.Z,0),f.emplaceBack(0,s.Z),f.emplaceBack(s.Z,s.Z),this.debugBuffer=i.createVertexBuffer(f,$n.members),this.debugSegments=s.aJ.simpleSegment(0,0,4,5);const p=new s.bY;p.emplaceBack(0,0,0,0),p.emplaceBack(s.Z,0,s.Z,0),p.emplaceBack(0,s.Z,0,s.Z),p.emplaceBack(s.Z,s.Z,s.Z,s.Z),this.rasterBoundsBuffer=i.createVertexBuffer(p,dh.members),this.rasterBoundsSegments=s.aJ.simpleSegment(0,0,4,2);const b=new s.aI;b.emplaceBack(0,0),b.emplaceBack(s.Z,0),b.emplaceBack(0,s.Z),b.emplaceBack(s.Z,s.Z),this.rasterBoundsBufferPosOnly=i.createVertexBuffer(b,$n.members),this.rasterBoundsSegmentsPosOnly=s.aJ.simpleSegment(0,0,4,5);const B=new s.aI;B.emplaceBack(0,0),B.emplaceBack(1,0),B.emplaceBack(0,1),B.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(B,$n.members),this.viewportSegments=s.aJ.simpleSegment(0,0,4,2);const E=new s.bZ;E.emplaceBack(0),E.emplaceBack(1),E.emplaceBack(3),E.emplaceBack(2),E.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(E);const T=new s.aK;T.emplaceBack(1,0,2),T.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(T);const Y=this.context.gl;this.stencilClearMode=new Or({func:Y.ALWAYS,mask:0},0,255,Y.ZERO,Y.ZERO,Y.ZERO),this.tileExtentMesh=new nl(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const i=this.context,o=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const f=s.K();s.bQ(f,0,this.width,this.height,0,0,1),s.M(f,f,[o.drawingBufferWidth,o.drawingBufferHeight,0]);const p={mainMatrix:f,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:f};this.useProgram("clippingMask",null,!0).draw(i,o.TRIANGLES,Rr.disabled,this.stencilClearMode,ti.disabled,jr.disabled,null,null,p,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,o,f){if(this.currentStencilSource===i.source||!i.isTileClipped()||!o||!o.length)return;this.currentStencilSource=i.source,this.nextStencilID+o.length>256&&this.clearStencil();const p=this.context;p.setColorMode(ti.disabled),p.setDepthMode(Rr.disabled);const b={};for(const B of o)b[B.key]=this.nextStencilID++;this._renderTileMasks(b,o,f,!0),this._renderTileMasks(b,o,f,!1),this._tileClippingMaskIDs=b}_renderTileMasks(i,o,f,p){const b=this.context,B=b.gl,E=this.style.projection,T=this.transform,Y=this.useProgram("clippingMask");for(const Q of o){const O=i[Q.key],H=this.style.map.terrain&&this.style.map.terrain.getTerrainData(Q),ee=E.getMeshFromTileID(this.context,Q.canonical,p,!0,"stencil"),ie=T.getProjectionData({overscaledTileID:Q,applyGlobeMatrix:!0,applyTerrainMatrix:!0});Y.draw(b,B.TRIANGLES,Rr.disabled,new Or({func:B.ALWAYS,mask:0},O,255,B.KEEP,B.KEEP,B.REPLACE),ti.disabled,f?jr.disabled:jr.backCCW,null,H,ie,"$clipping",ee.vertexBuffer,ee.indexBuffer,ee.segments)}}_renderTilesDepthBuffer(){const i=this.context,o=i.gl,f=this.style.projection,p=this.transform,b=this.useProgram("depth"),B=this.getDepthModeFor3D(),E=Fe(p,{tileSize:p.tileSize});for(const T of E){const Y=this.style.map.terrain&&this.style.map.terrain.getTerrainData(T),Q=f.getMeshFromTileID(this.context,T.canonical,!0,!0,"raster"),O=p.getProjectionData({overscaledTileID:T,applyGlobeMatrix:!0,applyTerrainMatrix:!0});b.draw(i,o.TRIANGLES,B,Or.disabled,ti.disabled,jr.backCCW,null,Y,O,"$clipping",Q.vertexBuffer,Q.indexBuffer,Q.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,o=this.context.gl;return new Or({func:o.NOTEQUAL,mask:255},i,255,o.KEEP,o.KEEP,o.REPLACE)}stencilModeForClipping(i){const o=this.context.gl;return new Or({func:o.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,o.KEEP,o.KEEP,o.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(i){const o=this.context.gl,f=i.sort((B,E)=>E.overscaledZ-B.overscaledZ),p=f[f.length-1].overscaledZ,b=f[0].overscaledZ-p+1;if(b>1){this.currentStencilSource=void 0,this.nextStencilID+b>256&&this.clearStencil();const B={};for(let E=0;E<b;E++)B[E+p]=new Or({func:o.GEQUAL,mask:255},E+this.nextStencilID,255,o.KEEP,o.KEEP,o.REPLACE);return this.nextStencilID+=b,[B,f]}return[{[p]:Or.disabled},f]}stencilConfigForOverlapTwoPass(i){const o=this.context.gl,f=i.sort((B,E)=>E.overscaledZ-B.overscaledZ),p=f[f.length-1].overscaledZ,b=f[0].overscaledZ-p+1;if(this.clearStencil(),b>1){const B={},E={};for(let T=0;T<b;T++)B[T+p]=new Or({func:o.GREATER,mask:255},b+1+T,255,o.KEEP,o.KEEP,o.REPLACE),E[T+p]=new Or({func:o.GREATER,mask:255},1+T,255,o.KEEP,o.KEEP,o.REPLACE);return this.nextStencilID=2*b+1,[B,E,f]}return this.nextStencilID=3,[{[p]:new Or({func:o.GREATER,mask:255},2,255,o.KEEP,o.KEEP,o.REPLACE)},{[p]:new Or({func:o.GREATER,mask:255},1,255,o.KEEP,o.KEEP,o.REPLACE)},f]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new ti([i.CONSTANT_COLOR,i.ONE],new s.b7(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ti.unblended:ti.alphaBlended}getDepthModeForSublayer(i,o,f){if(!this.opaquePassEnabledForLayer())return Rr.disabled;const p=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new Rr(f||this.context.gl.LEQUAL,o,[p,p])}getDepthModeFor3D(){return new Rr(this.context.gl.LEQUAL,Rr.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,o){var f,p;this.style=i,this.options=o,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(U.now()),this.imageManager.beginFrame();const b=this.style._order,B=this.style.sourceCaches,E={},T={},Y={},Q={isRenderingToTexture:!1,isRenderingGlobe:((f=i.projection)===null||f===void 0?void 0:f.transitionState)>0};for(const H in B){const ee=B[H];ee.used&&ee.prepare(this.context),E[H]=ee.getVisibleCoordinates(!1),T[H]=E[H].slice().reverse(),Y[H]=ee.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let H=0;H<b.length;H++)if(this.style._layers[b[H]].is3D()){this.opaquePassCutoff=H;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const H of b){const ee=this.style._layers[H];if(!ee.hasOffscreenPass()||ee.isHidden(this.transform.zoom))continue;const ie=T[ee.source];(ee.type==="custom"||ie.length)&&this.renderLayer(this,B[ee.source],ee,ie,Q)}if((p=this.style.projection)===null||p===void 0||p.updateGPUdependent({context:this.context,useProgram:H=>this.useProgram(H)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:o.showOverdrawInspector?s.b7.black:s.b7.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(H,ee){const ie=H.context,me=ie.gl,pe=((ke,Pe,We)=>{const et=Math.cos(Pe.rollInRadians),ht=Math.sin(Pe.rollInRadians),gt=Oe(Pe),ut=Pe.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:ke.properties.get("sky-color"),u_horizon_color:ke.properties.get("horizon-color"),u_horizon:[(Pe.width/2-gt*ht)*We,(Pe.height/2+gt*et)*We],u_horizon_normal:[-ht,et],u_sky_horizon_blend:ke.properties.get("sky-horizon-blend")*Pe.height/2*We,u_sky_blend:ut}})(ee,H.style.map.transform,H.pixelRatio),be=new Rr(me.LEQUAL,Rr.ReadWrite,[0,1]),Be=Or.disabled,Ie=H.colorModeForRenderPass(),Ee=H.useProgram("sky"),Se=Qh(ie,ee);Ee.draw(ie,me.TRIANGLES,be,Be,Ie,jr.disabled,pe,null,void 0,"sky",Se.vertexBuffer,Se.indexBuffer,Se.segments)}(this,this.style.sky),this._showOverdrawInspector=o.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=b.length-1;this.currentLayer>=0;this.currentLayer--){const H=this.style._layers[b[this.currentLayer]],ee=B[H.source],ie=E[H.source];this._renderTileClippingMasks(H,ie,!1),this.renderLayer(this,ee,H,ie,Q)}this.renderPass="translucent";let O=!1;for(this.currentLayer=0;this.currentLayer<b.length;this.currentLayer++){const H=this.style._layers[b[this.currentLayer]],ee=B[H.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(H,Q))continue;this.opaquePassEnabledForLayer()||O||(O=!0,Q.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const ie=(H.type==="symbol"?Y:T)[H.source];this._renderTileClippingMasks(H,E[H.source],!1),this.renderLayer(this,ee,H,ie,Q)}if(Q.isRenderingGlobe&&function(H,ee,ie){const me=H.context,pe=me.gl,be=H.useProgram("atmosphere"),Be=new Rr(pe.LEQUAL,Rr.ReadOnly,[0,1]),Ie=H.transform,Ee=function(ut,Dt){const Ft=ut.properties.get("position"),yt=[-Ft.x,-Ft.y,-Ft.z],ar=s.ad(new Float64Array(16));return ut.properties.get("anchor")==="map"&&(s.a_(ar,ar,Dt.rollInRadians),s.a$(ar,ar,-Dt.pitchInRadians),s.a_(ar,ar,Dt.bearingInRadians),s.a$(ar,ar,Dt.center.lat*Math.PI/180),s.bp(ar,ar,-Dt.center.lng*Math.PI/180)),s.bX(yt,yt,ar),yt}(ie,H.transform),Se=Ie.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),ke=ee.properties.get("atmosphere-blend")*Se.projectionTransition;if(ke===0)return;const Pe=dc(Ie.worldSize,Ie.center.lat),We=Ie.inverseProjectionMatrix,et=new Float64Array(4);et[3]=1,s.at(et,et,Ie.modelViewProjectionMatrix),et[0]/=et[3],et[1]/=et[3],et[2]/=et[3],et[3]=1,s.at(et,et,We),et[0]/=et[3],et[1]/=et[3],et[2]/=et[3],et[3]=1;const ht=((ut,Dt,Ft,yt,ar)=>({u_sun_pos:ut,u_atmosphere_blend:Dt,u_globe_position:Ft,u_globe_radius:yt,u_inv_proj_matrix:ar}))(Ee,ke,[et[0],et[1],et[2]],Pe,We),gt=Qh(me,ee);be.draw(me,pe.TRIANGLES,Be,Or.disabled,ti.alphaBlended,jr.disabled,ht,null,null,"atmosphere",gt.vertexBuffer,gt.indexBuffer,gt.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const H=function(ee,ie){let me=null;const pe=Object.values(ee._layers).flatMap(Ee=>Ee.source&&!Ee.isHidden(ie)?[ee.sourceCaches[Ee.source]]:[]),be=pe.filter(Ee=>Ee.getSource().type==="vector"),Be=pe.filter(Ee=>Ee.getSource().type!=="vector"),Ie=Ee=>{(!me||me.getSource().maxzoom<Ee.getSource().maxzoom)&&(me=Ee)};return be.forEach(Ee=>Ie(Ee)),me||Be.forEach(Ee=>Ie(Ee)),me}(this.style,this.transform.zoom);H&&function(ee,ie,me){for(let pe=0;pe<me.length;pe++)Lh(ee,ie,me[pe])}(this,H,H.getVisibleCoordinates())}this.options.showPadding&&function(H){const ee=H.transform.padding;Ph(H,H.transform.height-(ee.top||0),3,Oi),Ph(H,ee.bottom||0,3,Co),Mo(H,ee.left||0,3,yn),Mo(H,H.transform.width-(ee.right||0),3,Nh);const ie=H.transform.centerPoint;(function(me,pe,be,Be){$s(me,pe-1,be-10,2,20,Be),$s(me,pe-10,be-1,20,2,Be)})(H,ie.x,H.transform.height-ie.y,Yh)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(i){if(!this.style||!this.style.map||!this.style.map.terrain)return;const o=this.terrainFacilitator.matrix,f=this.transform.modelViewProjectionMatrix;let p=this.terrainFacilitator.dirty;p||(p=i?!s.b_(o,f):!s.b$(o,f)),p||(p=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),p&&(s.c0(o,f),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(b,B){const E=b.context,T=E.gl,Y=b.transform,Q=ti.unblended,O=new Rr(T.LEQUAL,Rr.ReadWrite,[0,1]),H=B.sourceCache.getRenderableTiles(),ee=b.useProgram("terrainDepth");E.bindFramebuffer.set(B.getFramebuffer("depth").framebuffer),E.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),E.clear({color:s.b7.transparent,depth:1});for(const ie of H){const me=B.getTerrainMesh(ie.tileID),pe=B.getTerrainData(ie.tileID),be=Y.getProjectionData({overscaledTileID:ie.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),Be={u_ele_delta:B.getMeshFrameDelta(Y.zoom)};ee.draw(E,T.TRIANGLES,O,Or.disabled,Q,jr.backCCW,Be,pe,be,"terrain",me.vertexBuffer,me.indexBuffer,me.segments)}E.bindFramebuffer.set(null),E.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain),function(b,B){const E=b.context,T=E.gl,Y=b.transform,Q=ti.unblended,O=new Rr(T.LEQUAL,Rr.ReadWrite,[0,1]),H=B.getCoordsTexture(),ee=B.sourceCache.getRenderableTiles(),ie=b.useProgram("terrainCoords");E.bindFramebuffer.set(B.getFramebuffer("coords").framebuffer),E.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),E.clear({color:s.b7.transparent,depth:1}),B.coordsIndex=[];for(const me of ee){const pe=B.getTerrainMesh(me.tileID),be=B.getTerrainData(me.tileID);E.activeTexture.set(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,H.texture);const Be={u_terrain_coords_id:(255-B.coordsIndex.length)/255,u_texture:0,u_ele_delta:B.getMeshFrameDelta(Y.zoom)},Ie=Y.getProjectionData({overscaledTileID:me.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ie.draw(E,T.TRIANGLES,O,Or.disabled,Q,jr.backCCW,Be,be,Ie,"terrain",pe.vertexBuffer,pe.indexBuffer,pe.segments),B.coordsIndex.push(me.tileID.key)}E.bindFramebuffer.set(null),E.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain))}renderLayer(i,o,f,p,b){f.isHidden(this.transform.zoom)||(f.type==="background"||f.type==="custom"||(p||[]).length)&&(this.id=f.id,s.c1(f)?function(B,E,T,Y,Q,O){if(B.renderPass!=="translucent")return;const{isRenderingToTexture:H}=O,ee=Or.disabled,ie=B.colorModeForRenderPass();(T._unevaluatedLayout.hasValue("text-variable-anchor")||T._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(me,pe,be,Be,Ie,Ee,Se,ke,Pe){const We=pe.transform,et=pe.style.map.terrain,ht=Ie==="map",gt=Ee==="map";for(const ut of me){const Dt=Be.getTile(ut),Ft=Dt.getBucket(be);if(!Ft||!Ft.text||!Ft.text.segments.get().length)continue;const yt=s.ak(Ft.textSizeData,We.zoom),ar=s.az(Dt,1,pe.transform.zoom),Ur=ft(ht,pe.transform,ar),wr=be.layout.get("icon-text-fit")!=="none"&&Ft.hasIconData();if(yt){const Ri=Math.pow(2,We.zoom-Dt.tileID.overscaledZ),ai=et?(Ii,bi)=>et.getElevation(ut,Ii,bi):null;Tc(Ft,ht,gt,Pe,We,Ur,Ri,yt,wr,s.aA(We,Dt,Se,ke),ut.toUnwrapped(),ai)}}}(Y,B,T,E,T.layout.get("text-rotation-alignment"),T.layout.get("text-pitch-alignment"),T.paint.get("text-translate"),T.paint.get("text-translate-anchor"),Q),T.paint.get("icon-opacity").constantOr(1)!==0&&Nc(B,E,T,Y,!1,T.paint.get("icon-translate"),T.paint.get("icon-translate-anchor"),T.layout.get("icon-rotation-alignment"),T.layout.get("icon-pitch-alignment"),T.layout.get("icon-keep-upright"),ee,ie,H),T.paint.get("text-opacity").constantOr(1)!==0&&Nc(B,E,T,Y,!0,T.paint.get("text-translate"),T.paint.get("text-translate-anchor"),T.layout.get("text-rotation-alignment"),T.layout.get("text-pitch-alignment"),T.layout.get("text-keep-upright"),ee,ie,H),E.map.showCollisionBoxes&&(_A(B,E,T,Y,!0),_A(B,E,T,Y,!1))}(i,o,f,p,this.style.placement.variableOffsets,b):s.c2(f)?function(B,E,T,Y,Q){if(B.renderPass!=="translucent")return;const{isRenderingToTexture:O}=Q,H=T.paint.get("circle-opacity"),ee=T.paint.get("circle-stroke-width"),ie=T.paint.get("circle-stroke-opacity"),me=!T.layout.get("circle-sort-key").isConstant();if(H.constantOr(1)===0&&(ee.constantOr(1)===0||ie.constantOr(1)===0))return;const pe=B.context,be=pe.gl,Be=B.transform,Ie=B.getDepthModeForSublayer(0,Rr.ReadOnly),Ee=Or.disabled,Se=B.colorModeForRenderPass(),ke=[],Pe=Be.getCircleRadiusCorrection();for(let We=0;We<Y.length;We++){const et=Y[We],ht=E.getTile(et),gt=ht.getBucket(T);if(!gt)continue;const ut=T.paint.get("circle-translate"),Dt=T.paint.get("circle-translate-anchor"),Ft=s.aA(Be,ht,ut,Dt),yt=gt.programConfigurations.get(T.id),ar=B.useProgram("circle",yt),Ur=gt.layoutVertexBuffer,wr=gt.indexBuffer,Ri=B.style.map.terrain&&B.style.map.terrain.getTerrainData(et),ai={programConfiguration:yt,program:ar,layoutVertexBuffer:Ur,indexBuffer:wr,uniformValues:Xp(B,ht,T,Ft,Pe),terrainData:Ri,projectionData:Be.getProjectionData({overscaledTileID:et,applyGlobeMatrix:!O,applyTerrainMatrix:!0})};if(me){const Ii=gt.segments.get();for(const bi of Ii)ke.push({segments:new s.aJ([bi]),sortKey:bi.sortKey,state:ai})}else ke.push({segments:gt.segments,sortKey:0,state:ai})}me&&ke.sort((We,et)=>We.sortKey-et.sortKey);for(const We of ke){const{programConfiguration:et,program:ht,layoutVertexBuffer:gt,indexBuffer:ut,uniformValues:Dt,terrainData:Ft,projectionData:yt}=We.state;ht.draw(pe,be.TRIANGLES,Ie,Ee,Se,jr.backCCW,Dt,Ft,yt,T.id,gt,ut,We.segments,T.paint,B.transform.zoom,et)}}(i,o,f,p,b):s.c3(f)?function(B,E,T,Y,Q){if(T.paint.get("heatmap-opacity")===0)return;const O=B.context,{isRenderingToTexture:H,isRenderingGlobe:ee}=Q;if(B.style.map.terrain){for(const ie of Y){const me=E.getTile(ie);E.hasRenderableParent(ie)||(B.renderPass==="offscreen"?Fh(B,me,T,ie,ee):B.renderPass==="translucent"&&r2(B,T,ie,H,ee))}O.viewport.set([0,0,B.width,B.height])}else B.renderPass==="offscreen"?function(ie,me,pe,be){const Be=ie.context,Ie=Be.gl,Ee=ie.transform,Se=Or.disabled,ke=new ti([Ie.ONE,Ie.ONE],s.b7.transparent,[!0,!0,!0,!0]);(function(Pe,We,et){const ht=Pe.gl;Pe.activeTexture.set(ht.TEXTURE1),Pe.viewport.set([0,0,We.width/4,We.height/4]);let gt=et.heatmapFbos.get(s.bU);gt?(ht.bindTexture(ht.TEXTURE_2D,gt.colorAttachment.get()),Pe.bindFramebuffer.set(gt.framebuffer)):(gt=Th(Pe,We.width/4,We.height/4),et.heatmapFbos.set(s.bU,gt))})(Be,ie,pe),Be.clear({color:s.b7.transparent});for(let Pe=0;Pe<be.length;Pe++){const We=be[Pe];if(me.hasRenderableParent(We))continue;const et=me.getTile(We),ht=et.getBucket(pe);if(!ht)continue;const gt=ht.programConfigurations.get(pe.id),ut=ie.useProgram("heatmap",gt),Dt=Ee.getProjectionData({overscaledTileID:We,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Ft=Ee.getCircleRadiusCorrection();ut.draw(Be,Ie.TRIANGLES,Rr.disabled,Se,ke,jr.backCCW,mh(et,Ee.zoom,pe.paint.get("heatmap-intensity"),Ft),null,Dt,pe.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,pe.paint,Ee.zoom,gt)}Be.viewport.set([0,0,ie.width,ie.height])}(B,E,T,Y):B.renderPass==="translucent"&&function(ie,me){const pe=ie.context,be=pe.gl;pe.setColorMode(ie.colorModeForRenderPass());const Be=me.heatmapFbos.get(s.bU);Be&&(pe.activeTexture.set(be.TEXTURE0),be.bindTexture(be.TEXTURE_2D,Be.colorAttachment.get()),pe.activeTexture.set(be.TEXTURE1),bA(pe,me).bind(be.LINEAR,be.CLAMP_TO_EDGE),ie.useProgram("heatmapTexture").draw(pe,be.TRIANGLES,Rr.disabled,Or.disabled,ie.colorModeForRenderPass(),jr.disabled,_h(ie,me,0,1),null,null,me.id,ie.viewportBuffer,ie.quadTriangleIndexBuffer,ie.viewportSegments,me.paint,ie.transform.zoom))}(B,T)}(i,o,f,p,b):s.c4(f)?function(B,E,T,Y,Q){if(B.renderPass!=="translucent")return;const{isRenderingToTexture:O}=Q,H=T.paint.get("line-opacity"),ee=T.paint.get("line-width");if(H.constantOr(1)===0||ee.constantOr(1)===0)return;const ie=B.getDepthModeForSublayer(0,Rr.ReadOnly),me=B.colorModeForRenderPass(),pe=T.paint.get("line-dasharray"),be=T.paint.get("line-pattern"),Be=be.constantOr(1),Ie=T.paint.get("line-gradient"),Ee=T.getCrossfadeParameters(),Se=Be?"linePattern":pe?"lineSDF":Ie?"lineGradient":"line",ke=B.context,Pe=ke.gl,We=B.transform;let et=!0;for(const ht of Y){const gt=E.getTile(ht);if(Be&&!gt.patternsLoaded())continue;const ut=gt.getBucket(T);if(!ut)continue;const Dt=ut.programConfigurations.get(T.id),Ft=B.context.program.get(),yt=B.useProgram(Se,Dt),ar=et||yt.program!==Ft,Ur=B.style.map.terrain&&B.style.map.terrain.getTerrainData(ht),wr=be.constantOr(null);if(wr&&gt.imageAtlas){const si=gt.imageAtlas,ri=si.patternPositions[wr.to.toString()],ha=si.patternPositions[wr.from.toString()];ri&&ha&&Dt.setConstantPatternPositions(ri,ha)}const Ri=We.getProjectionData({overscaledTileID:ht,applyGlobeMatrix:!O,applyTerrainMatrix:!0}),ai=We.getPixelScale(),Ii=Be?Vp(B,gt,T,ai,Ee):pe?yc(B,gt,T,ai,pe,Ee):Ie?gA(B,gt,T,ai,ut.lineClipsArray.length):bc(B,gt,T,ai);if(Be)ke.activeTexture.set(Pe.TEXTURE0),gt.imageAtlasTexture.bind(Pe.LINEAR,Pe.CLAMP_TO_EDGE),Dt.updatePaintBuffers(Ee);else if(pe&&(ar||B.lineAtlas.dirty))ke.activeTexture.set(Pe.TEXTURE0),B.lineAtlas.bind(ke);else if(Ie){const si=ut.gradients[T.id];let ri=si.texture;if(T.gradientVersion!==si.version){let ha=256;if(T.stepInterpolant){const aa=E.getSource().maxzoom,Ca=ht.canonical.z===aa?Math.ceil(1<<B.transform.maxZoom-ht.canonical.z):1;ha=s.ae(s.bV(ut.maxLineLength/s.Z*1024*Ca),256,ke.maxTextureSize)}si.gradient=s.bW({expression:T.gradientExpression(),evaluationKey:"lineProgress",resolution:ha,image:si.gradient||void 0,clips:ut.lineClipsArray}),si.texture?si.texture.update(si.gradient):si.texture=new X(ke,si.gradient,Pe.RGBA),si.version=T.gradientVersion,ri=si.texture}ke.activeTexture.set(Pe.TEXTURE0),ri.bind(T.stepInterpolant?Pe.NEAREST:Pe.LINEAR,Pe.CLAMP_TO_EDGE)}let bi;if(O){const[si]=B.getStencilConfigForOverlapAndUpdateStencilID(Y);bi=si[ht.overscaledZ]}else bi=B.stencilModeForClipping(ht);yt.draw(ke,Pe.TRIANGLES,ie,bi,me,jr.disabled,Ii,Ur,Ri,T.id,ut.layoutVertexBuffer,ut.indexBuffer,ut.segments,T.paint,B.transform.zoom,Dt,ut.layoutVertexBuffer2),et=!1}}(i,o,f,p,b):s.c5(f)?function(B,E,T,Y,Q){const O=T.paint.get("fill-color"),H=T.paint.get("fill-opacity");if(H.constantOr(1)===0)return;const{isRenderingToTexture:ee}=Q,ie=B.colorModeForRenderPass(),me=T.paint.get("fill-pattern"),pe=B.opaquePassEnabledForLayer()&&!me.constantOr(1)&&O.constantOr(s.b7.transparent).a===1&&H.constantOr(0)===1?"opaque":"translucent";if(B.renderPass===pe){const be=B.getDepthModeForSublayer(1,B.renderPass==="opaque"?Rr.ReadWrite:Rr.ReadOnly);Sh(B,E,T,Y,be,ie,!1,ee)}if(B.renderPass==="translucent"&&T.paint.get("fill-antialias")){const be=B.getDepthModeForSublayer(T.getPaintProperty("fill-outline-color")?2:0,Rr.ReadOnly);Sh(B,E,T,Y,be,ie,!0,ee)}}(i,o,f,p,b):s.c6(f)?function(B,E,T,Y,Q){const O=T.paint.get("fill-extrusion-opacity");if(O===0)return;const{isRenderingToTexture:H}=Q;if(B.renderPass==="translucent"){const ee=new Rr(B.context.gl.LEQUAL,Rr.ReadWrite,B.depthRangeFor3D);if(O!==1||T.paint.get("fill-extrusion-pattern").constantOr(1))Pc(B,E,T,Y,ee,Or.disabled,ti.disabled,H),Pc(B,E,T,Y,ee,B.stencilModeFor3D(),B.colorModeForRenderPass(),H);else{const ie=B.colorModeForRenderPass();Pc(B,E,T,Y,ee,Or.disabled,ie,H)}}}(i,o,f,p,b):s.c7(f)?function(B,E,T,Y,Q){if(B.renderPass!=="offscreen"&&B.renderPass!=="translucent")return;const{isRenderingToTexture:O}=Q,H=B.context,ee=B.style.projection.useSubdivision,ie=B.getDepthModeForSublayer(0,Rr.ReadOnly),me=B.colorModeForRenderPass();if(B.renderPass==="offscreen")(function(pe,be,Be,Ie,Ee,Se,ke){const Pe=pe.context,We=Pe.gl;for(const et of Be){const ht=be.getTile(et),gt=ht.dem;if(!gt||!gt.data||!ht.needsHillshadePrepare)continue;const ut=gt.dim,Dt=gt.stride,Ft=gt.getPixels();if(Pe.activeTexture.set(We.TEXTURE1),Pe.pixelStoreUnpackPremultiplyAlpha.set(!1),ht.demTexture=ht.demTexture||pe.getTileTexture(Dt),ht.demTexture){const ar=ht.demTexture;ar.update(Ft,{premultiply:!1}),ar.bind(We.NEAREST,We.CLAMP_TO_EDGE)}else ht.demTexture=new X(Pe,Ft,We.RGBA,{premultiply:!1}),ht.demTexture.bind(We.NEAREST,We.CLAMP_TO_EDGE);Pe.activeTexture.set(We.TEXTURE0);let yt=ht.fbo;if(!yt){const ar=new X(Pe,{width:ut,height:ut,data:null},We.RGBA);ar.bind(We.LINEAR,We.CLAMP_TO_EDGE),yt=ht.fbo=Pe.createFramebuffer(ut,ut,!0,!1),yt.colorAttachment.set(ar.texture)}Pe.bindFramebuffer.set(yt.framebuffer),Pe.viewport.set([0,0,ut,ut]),pe.useProgram("hillshadePrepare").draw(Pe,We.TRIANGLES,Ee,Se,ke,jr.disabled,vo(ht.tileID,gt),null,null,Ie.id,pe.rasterBoundsBuffer,pe.quadTriangleIndexBuffer,pe.rasterBoundsSegments),ht.needsHillshadePrepare=!1}})(B,E,Y,T,ie,Or.disabled,me),H.viewport.set([0,0,B.width,B.height]);else if(B.renderPass==="translucent")if(ee){const[pe,be,Be]=B.stencilConfigForOverlapTwoPass(Y);pl(B,E,T,Be,pe,ie,me,!1,O),pl(B,E,T,Be,be,ie,me,!0,O)}else{const[pe,be]=B.getStencilConfigForOverlapAndUpdateStencilID(Y);pl(B,E,T,be,pe,ie,me,!1,O)}}(i,o,f,p,b):s.c8(f)?function(B,E,T,Y,Q){if(B.renderPass!=="translucent"||T.paint.get("raster-opacity")===0||!Y.length)return;const{isRenderingToTexture:O}=Q,H=E.getSource(),ee=B.style.projection.useSubdivision;if(H instanceof Hr)Lc(B,E,T,Y,null,!1,!1,H.tileCoords,H.flippedWindingOrder,O);else if(ee){const[ie,me,pe]=B.stencilConfigForOverlapTwoPass(Y);Lc(B,E,T,pe,ie,!1,!0,yA,!1,O),Lc(B,E,T,pe,me,!0,!0,yA,!1,O)}else{const[ie,me]=B.getStencilConfigForOverlapAndUpdateStencilID(Y);Lc(B,E,T,me,ie,!1,!0,yA,!1,O)}}(i,o,f,p,b):s.c9(f)?function(B,E,T,Y,Q){const O=T.paint.get("background-color"),H=T.paint.get("background-opacity");if(H===0)return;const{isRenderingToTexture:ee}=Q,ie=B.context,me=ie.gl,pe=B.style.projection,be=B.transform,Be=be.tileSize,Ie=T.paint.get("background-pattern");if(B.isPatternMissing(Ie))return;const Ee=!Ie&&O.a===1&&H===1&&B.opaquePassEnabledForLayer()?"opaque":"translucent";if(B.renderPass!==Ee)return;const Se=Or.disabled,ke=B.getDepthModeForSublayer(0,Ee==="opaque"?Rr.ReadWrite:Rr.ReadOnly),Pe=B.colorModeForRenderPass(),We=B.useProgram(Ie?"backgroundPattern":"background"),et=Y||Fe(be,{tileSize:Be,terrain:B.style.map.terrain});Ie&&(ie.activeTexture.set(me.TEXTURE0),B.imageManager.bind(B.context));const ht=T.getCrossfadeParameters();for(const gt of et){const ut=be.getProjectionData({overscaledTileID:gt,applyGlobeMatrix:!ee,applyTerrainMatrix:!0}),Dt=Ie?bs(H,B,Ie,{tileID:gt,tileSize:Be},ht):xc(H,O),Ft=B.style.map.terrain&&B.style.map.terrain.getTerrainData(gt),yt=pe.getMeshFromTileID(ie,gt.canonical,!1,!0,"raster");We.draw(ie,me.TRIANGLES,ke,Se,Pe,jr.backCCW,Dt,Ft,ut,T.id,yt.vertexBuffer,yt.indexBuffer,yt.segments)}}(i,0,f,p,b):s.ca(f)&&function(B,E,T,Y){const{isRenderingGlobe:Q}=Y,O=B.context,H=T.implementation,ee=B.style.projection,ie=B.transform,me=ie.getProjectionDataForCustomLayer(Q),pe={farZ:ie.farZ,nearZ:ie.nearZ,fov:ie.fov*Math.PI/180,modelViewProjectionMatrix:ie.modelViewProjectionMatrix,projectionMatrix:ie.projectionMatrix,shaderData:{variantName:ee.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${ee.shaderPreludeCode.vertexSource}`,define:ee.shaderDefine},defaultProjectionData:me},be=H.renderingMode?H.renderingMode:"2d";if(B.renderPass==="offscreen"){const Be=H.prerender;Be&&(B.setCustomLayerDefaults(),O.setColorMode(B.colorModeForRenderPass()),Be.call(H,O.gl,pe),O.setDirty(),B.setBaseState())}else if(B.renderPass==="translucent"){B.setCustomLayerDefaults(),O.setColorMode(B.colorModeForRenderPass()),O.setStencilMode(Or.disabled);const Be=be==="3d"?B.getDepthModeFor3D():B.getDepthModeForSublayer(0,Rr.ReadOnly);O.setDepthMode(Be),H.render(O.gl,pe),O.setDirty(),B.setBaseState(),O.bindFramebuffer.set(null)}}(i,0,f,b))}saveTileTexture(i){const o=this._tileTextures[i.size[0]];o?o.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const o=this._tileTextures[i];return o&&o.length>0?o.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const o=this.imageManager.getPattern(i.from.toString()),f=this.imageManager.getPattern(i.to.toString());return!o||!f}useProgram(i,o,f=!1){this.cache=this.cache||{};const p=!!this.style.map.terrain,b=this.style.projection,B=i+(o?o.cacheKey:"")+`/${f?Fa:b.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(p?"/terrain":"");return this.cache[B]||(this.cache[B]=new dA(this.context,Tr[i],o,yh[i],this._showOverdrawInspector,p,f?Tr.projectionMercator:b.shaderPreludeCode,f?Va:b.shaderDefine)),this.cache[B]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new X(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:i,drawingBufferHeight:o}=this.context.gl;return this.width!==i||this.height!==o}}function Dh(_,i){let o,f=!1,p=null,b=null;const B=()=>{p=null,f&&(_.apply(b,o),p=setTimeout(B,i),f=!1)};return(...E)=>(f=!0,b=this,o=E,p||B(),p)}class zh{constructor(i){this._getCurrentHash=()=>{const o=window.location.hash.replace("#","");if(this._hashName){let f;return o.split("&").map(p=>p.split("=")).forEach(p=>{p[0]===this._hashName&&(f=p)}),(f&&f[1]||"").split("/")}return o.split("/")},this._onHashChange=()=>{const o=this._getCurrentHash();if(!this._isValidHash(o))return!1;const f=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(o[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+o[2],+o[1]],zoom:+o[0],bearing:f,pitch:+(o[4]||0)}),!0},this._updateHashUnthrottled=()=>{const o=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,o)},this._removeHash=()=>{const o=this._getCurrentHash();if(o.length===0)return;const f=o.join("/");let p=f;p.split("&").length>0&&(p=p.split("&")[0]),this._hashName&&(p=`${this._hashName}=${f}`);let b=window.location.hash.replace(p,"");b.startsWith("#&")?b=b.slice(0,1)+b.slice(2):b==="#"&&(b="");let B=window.location.href.replace(/(#.+)?$/,b);B=B.replace("&&","&"),window.history.replaceState(window.history.state,null,B)},this._updateHash=Dh(this._updateHashUnthrottled,300),this._hashName=i&&encodeURIComponent(i)}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(i){const o=this._map.getCenter(),f=Math.round(100*this._map.getZoom())/100,p=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),b=Math.pow(10,p),B=Math.round(o.lng*b)/b,E=Math.round(o.lat*b)/b,T=this._map.getBearing(),Y=this._map.getPitch();let Q="";if(Q+=i?`/${B}/${E}/${f}`:`${f}/${E}/${B}`,(T||Y)&&(Q+="/"+Math.round(10*T)/10),Y&&(Q+=`/${Math.round(Y)}`),this._hashName){const O=this._hashName;let H=!1;const ee=window.location.hash.slice(1).split("&").map(ie=>{const me=ie.split("=")[0];return me===O?(H=!0,`${me}=${Q}`):ie}).filter(ie=>ie);return H||ee.push(`${O}=${Q}`),`#${ee.join("&")}`}return`#${Q}`}_isValidHash(i){if(i.length<3||i.some(isNaN))return!1;try{new s.Q(+i[2],+i[1])}catch{return!1}const o=+i[0],f=+(i[3]||0),p=+(i[4]||0);return o>=this._map.getMinZoom()&&o<=this._map.getMaxZoom()&&f>=-180&&f<=180&&p>=this._map.getMinPitch()&&p<=this._map.getMaxPitch()}}const Sn={linearity:.3,easing:s.cb(0,0,.3,1)},_f=s.e({deceleration:2500,maxSpeed:1400},Sn),bf=s.e({deceleration:20,maxSpeed:1400},Sn),yf=s.e({deceleration:1e3,maxSpeed:360},Sn),vf=s.e({deceleration:1e3,maxSpeed:90},Sn),xf=s.e({deceleration:1e3,maxSpeed:360},Sn);class wf{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:U.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,o=U.now();for(;i.length>0&&o-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const o={zoom:0,bearing:0,pitch:0,roll:0,pan:new s.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:b}of this._inertiaBuffer)o.zoom+=b.zoomDelta||0,o.bearing+=b.bearingDelta||0,o.pitch+=b.pitchDelta||0,o.roll+=b.rollDelta||0,b.panDelta&&o.pan._add(b.panDelta),b.around&&(o.around=b.around),b.pinchAround&&(o.pinchAround=b.pinchAround);const f=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,p={};if(o.pan.mag()){const b=qs(o.pan.mag(),f,s.e({},_f,i||{})),B=o.pan.mult(b.amount/o.pan.mag()),E=this._map.cameraHelper.handlePanInertia(B,this._map.transform);p.center=E.easingCenter,p.offset=E.easingOffset,ml(p,b)}if(o.zoom){const b=qs(o.zoom,f,bf);p.zoom=this._map.transform.zoom+b.amount,ml(p,b)}if(o.bearing){const b=qs(o.bearing,f,yf);p.bearing=this._map.transform.bearing+s.ae(b.amount,-179,179),ml(p,b)}if(o.pitch){const b=qs(o.pitch,f,vf);p.pitch=this._map.transform.pitch+b.amount,ml(p,b)}if(o.roll){const b=qs(o.roll,f,xf);p.roll=this._map.transform.roll+s.ae(b.amount,-179,179),ml(p,b)}if(p.zoom||p.bearing){const b=o.pinchAround===void 0?o.around:o.pinchAround;p.around=b?this._map.unproject(b):this._map.getCenter()}return this.clear(),s.e(p,{noMoveStart:!0})}}function ml(_,i){(!_.duration||_.duration<i.duration)&&(_.duration=i.duration,_.easing=i.easing)}function qs(_,i,o){const{maxSpeed:f,linearity:p,deceleration:b}=o,B=s.ae(_*p/(i/1e3),-f,f),E=Math.abs(B)/(b*p);return{easing:o.easing,duration:1e3*E,amount:B*(E/2)}}class ja extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,o,f,p={}){f=f instanceof MouseEvent?f:new MouseEvent(i,f);const b=C.mousePos(o.getCanvas(),f),B=o.unproject(b);super(i,s.e({point:b,lngLat:B,originalEvent:f},p)),this._defaultPrevented=!1,this.target=o}}class za extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,o,f){const p=i==="touchend"?f.changedTouches:f.touches,b=C.touchPos(o.getCanvasContainer(),p),B=b.map(T=>o.unproject(T)),E=b.reduce((T,Y,Q,O)=>T.add(Y.div(O.length)),new s.P(0,0));super(i,{points:b,point:E,lngLats:B,lngLat:o.unproject(E),originalEvent:f}),this._defaultPrevented=!1}}class Nn extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,o,f){super(i,{originalEvent:f}),this._defaultPrevented=!1}}class Bf{constructor(i,o){this._map=i,this._clickTolerance=o.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new Nn(i.type,this._map,i))}mousedown(i,o){return this._mousedownPos=o,this._firePreventable(new ja(i.type,this._map,i))}mouseup(i){this._map.fire(new ja(i.type,this._map,i))}click(i,o){this._mousedownPos&&this._mousedownPos.dist(o)>=this._clickTolerance||this._map.fire(new ja(i.type,this._map,i))}dblclick(i){return this._firePreventable(new ja(i.type,this._map,i))}mouseover(i){this._map.fire(new ja(i.type,this._map,i))}mouseout(i){this._map.fire(new ja(i.type,this._map,i))}touchstart(i){return this._firePreventable(new za(i.type,this._map,i))}touchmove(i){this._map.fire(new za(i.type,this._map,i))}touchend(i){this._map.fire(new za(i.type,this._map,i))}touchcancel(i){this._map.fire(new za(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Jn{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new ja(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ja("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new ja(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class es{constructor(i){this._map=i}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(i){return this.transform.screenPointToLocation(s.P.convert(i),this._map.terrain)}}class Cf{constructor(i,o){this._map=i,this._tr=new es(i),this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=o.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,o){this.isEnabled()&&i.shiftKey&&i.button===0&&(C.disableDrag(),this._startPos=this._lastPos=o,this._active=!0)}mousemoveWindow(i,o){if(!this._active)return;const f=o;if(this._lastPos.equals(f)||!this._box&&f.dist(this._startPos)<this._clickTolerance)return;const p=this._startPos;this._lastPos=f,this._box||(this._box=C.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",i));const b=Math.min(p.x,f.x),B=Math.max(p.x,f.x),E=Math.min(p.y,f.y),T=Math.max(p.y,f.y);C.setTransform(this._box,`translate(${b}px,${E}px)`),this._box.style.width=B-b+"px",this._box.style.height=T-E+"px"}mouseupWindow(i,o){if(!this._active||i.button!==0)return;const f=this._startPos,p=o;if(this.reset(),C.suppressClick(),f.x!==p.x||f.y!==p.y)return this._map.fire(new s.l("boxzoomend",{originalEvent:i})),{cameraAnimation:b=>b.fitScreenCoordinates(f,p,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&i.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(C.remove(this._box),this._box=null),C.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,o){return this._map.fire(new s.l(i,{originalEvent:o}))}}function Zh(_,i){if(_.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${i.length}`);const o={};for(let f=0;f<_.length;f++)o[_[f].identifier]=i[f];return o}class i2{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,o,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=i.timeStamp),f.length===this.numTouches&&(this.centroid=function(p){const b=new s.P(0,0);for(const B of p)b._add(B);return b.div(p.length)}(o),this.touches=Zh(f,o)))}touchmove(i,o,f){if(this.aborted||!this.centroid)return;const p=Zh(f,o);for(const b in this.touches){const B=p[b];(!B||B.dist(this.touches[b])>30)&&(this.aborted=!0)}}touchend(i,o,f){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),f.length===0){const p=!this.aborted&&this.centroid;if(this.reset(),p)return p}}}class Oh{constructor(i){this.singleTap=new i2(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,o,f){this.singleTap.touchstart(i,o,f)}touchmove(i,o,f){this.singleTap.touchmove(i,o,f)}touchend(i,o,f){const p=this.singleTap.touchend(i,o,f);if(p){const b=i.timeStamp-this.lastTime<500,B=!this.lastTap||this.lastTap.dist(p)<30;if(b&&B||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=p,this.count===this.numTaps)return this.reset(),p}}}class Mf{constructor(i){this._tr=new es(i),this._zoomIn=new Oh({numTouches:1,numTaps:2}),this._zoomOut=new Oh({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,o,f){this._zoomIn.touchstart(i,o,f),this._zoomOut.touchstart(i,o,f)}touchmove(i,o,f){this._zoomIn.touchmove(i,o,f),this._zoomOut.touchmove(i,o,f)}touchend(i,o,f){const p=this._zoomIn.touchend(i,o,f),b=this._zoomOut.touchend(i,o,f),B=this._tr;return p?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:B.zoom+1,around:B.unproject(p)},{originalEvent:i})}):b?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:B.zoom-1,around:B.unproject(b)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ys{constructor(i){this._enabled=!!i.enable,this._moveStateManager=i.moveStateManager,this._clickTolerance=i.clickTolerance||1,this._moveFunction=i.move,this._activateOnStart=!!i.activateOnStart,i.assignEvents(this),this.reset()}reset(i){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(i)}_move(...i){const o=this._moveFunction(...i);if(o.bearingDelta||o.pitchDelta||o.rollDelta||o.around||o.panDelta)return this._active=!0,o}dragStart(i,o){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(i)&&(this._moveStateManager.startMove(i),this._lastPoint=Array.isArray(o)?o[0]:o,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(i,o){if(!this.isEnabled())return;const f=this._lastPoint;if(!f)return;if(i.preventDefault(),!this._moveStateManager.isValidMoveEvent(i))return void this.reset(i);const p=Array.isArray(o)?o[0]:o;return!this._moved&&p.dist(f)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=p,this._move(f,p))}dragEnd(i){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(i)&&(this._moved&&C.suppressClick(),this.reset(i))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const vs={0:1,2:2};class Xt{constructor(i){this._correctEvent=i.checkCorrectEvent}startMove(i){const o=C.mouseButton(i);this._eventButton=o}endMove(i){delete this._eventButton}isValidStartEvent(i){return this._correctEvent(i)}isValidMoveEvent(i){return!function(o,f){const p=vs[f];return o.buttons===void 0||(o.buttons&p)!==p}(i,this._eventButton)}isValidEndEvent(i){return C.mouseButton(i)===this._eventButton}}class Rf{constructor(){this._firstTouch=void 0}_isOneFingerTouch(i){return i.targetTouches.length===1}_isSameTouchEvent(i){return i.targetTouches[0].identifier===this._firstTouch}startMove(i){this._firstTouch=i.targetTouches[0].identifier}endMove(i){delete this._firstTouch}isValidStartEvent(i){return this._isOneFingerTouch(i)}isValidMoveEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}isValidEndEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}}class Hh{constructor(i=new Xt({checkCorrectEvent:()=>!0}),o=new Rf){this.mouseMoveStateManager=i,this.oneFingerTouchMoveStateManager=o}_executeRelevantHandler(i,o,f){return i instanceof MouseEvent?o(i):typeof TouchEvent<"u"&&i instanceof TouchEvent?f(i):void 0}startMove(i){this._executeRelevantHandler(i,o=>this.mouseMoveStateManager.startMove(o),o=>this.oneFingerTouchMoveStateManager.startMove(o))}endMove(i){this._executeRelevantHandler(i,o=>this.mouseMoveStateManager.endMove(o),o=>this.oneFingerTouchMoveStateManager.endMove(o))}isValidStartEvent(i){return this._executeRelevantHandler(i,o=>this.mouseMoveStateManager.isValidStartEvent(o),o=>this.oneFingerTouchMoveStateManager.isValidStartEvent(o))}isValidMoveEvent(i){return this._executeRelevantHandler(i,o=>this.mouseMoveStateManager.isValidMoveEvent(o),o=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(o))}isValidEndEvent(i){return this._executeRelevantHandler(i,o=>this.mouseMoveStateManager.isValidEndEvent(o),o=>this.oneFingerTouchMoveStateManager.isValidEndEvent(o))}}const vA=_=>{_.mousedown=_.dragStart,_.mousemoveWindow=_.dragMove,_.mouseup=_.dragEnd,_.contextmenu=i=>{i.preventDefault()}};class xA{constructor(i,o){this._clickTolerance=i.clickTolerance||1,this._map=o,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.P(0,0)}_shouldBePrevented(i){return i<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(i,o,f){return this._calculateTransform(i,o,f)}touchmove(i,o,f){if(this._active){if(!this._shouldBePrevented(f.length))return i.preventDefault(),this._calculateTransform(i,o,f);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",i)}}touchend(i,o,f){this._calculateTransform(i,o,f),this._active&&this._shouldBePrevented(f.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,o,f){f.length>0&&(this._active=!0);const p=Zh(f,o),b=new s.P(0,0),B=new s.P(0,0);let E=0;for(const Y in p){const Q=p[Y],O=this._touches[Y];O&&(b._add(Q),B._add(Q.sub(O)),E++,p[Y]=Q)}if(this._touches=p,this._shouldBePrevented(E)||!B.mag())return;const T=B.div(E);return this._sum._add(T),this._sum.mag()<this._clickTolerance?void 0:{around:b.div(E),panDelta:T}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ro{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(i,o,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([o[0],o[1]]))}touchmove(i,o,f){if(!this._firstTwoTouches)return;i.preventDefault();const[p,b]=this._firstTwoTouches,B=wA(f,o,p),E=wA(f,o,b);if(!B||!E)return;const T=this._aroundCenter?null:B.add(E).div(2);return this._move([B,E],T,i)}touchend(i,o,f){if(!this._firstTwoTouches)return;const[p,b]=this._firstTwoTouches,B=wA(f,o,p),E=wA(f,o,b);B&&E||(this._active&&C.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&i.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function wA(_,i,o){for(let f=0;f<_.length;f++)if(_[f].identifier===o)return i[f]}function Lr(_,i){return Math.log(_/i)/Math.LN2}class kc extends Ro{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,o){const f=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(Lr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Lr(this._distance,f),pinchAround:o}}}function If(_,i){return 180*_.angleWith(i)/Math.PI}class Qc extends Ro{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,o,f){const p=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:If(this._vector,p),pinchAround:o}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const o=25/(Math.PI*this._minDiameter)*360,f=If(i,this._startVector);return Math.abs(f)<o}}function Xh(_){return Math.abs(_.y)>Math.abs(_.x)}class Uf extends Ro{constructor(i){super(),this._currentTouchCount=0,this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,o,f){super.touchstart(i,o,f),this._currentTouchCount=f.length}_start(i){this._lastPoints=i,Xh(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,o,f){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const p=i[0].sub(this._lastPoints[0]),b=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(p,b,f.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(p.y+b.y)/2*-.5}):void 0}gestureBeginsVertically(i,o,f){if(this._valid!==void 0)return this._valid;const p=i.mag()>=2,b=o.mag()>=2;if(!p&&!b)return;if(!p||!b)return this._firstMove===void 0&&(this._firstMove=f),f-this._firstMove<100&&void 0;const B=i.y>0==o.y>0;return Xh(i)&&Xh(o)&&B}}const Ef={panStep:100,bearingStep:15,pitchStep:10};class Dc{constructor(i){this._tr=new es(i);const o=Ef;this._panStep=o.panStep,this._bearingStep=o.bearingStep,this._pitchStep=o.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let o=0,f=0,p=0,b=0,B=0;switch(i.keyCode){case 61:case 107:case 171:case 187:o=1;break;case 189:case 109:case 173:o=-1;break;case 37:i.shiftKey?f=-1:(i.preventDefault(),b=-1);break;case 39:i.shiftKey?f=1:(i.preventDefault(),b=1);break;case 38:i.shiftKey?p=1:(i.preventDefault(),B=-1);break;case 40:i.shiftKey?p=-1:(i.preventDefault(),B=1);break;default:return}return this._rotationDisabled&&(f=0,p=0),{cameraAnimation:E=>{const T=this._tr;E.easeTo({duration:300,easeId:"keyboardHandler",easing:Ff,zoom:o?Math.round(T.zoom)+o*(i.shiftKey?2:1):T.zoom,bearing:T.bearing+f*this._bearingStep,pitch:T.pitch+p*this._pitchStep,offset:[-b*this._panStep,-B*this._panStep],center:T.center},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ff(_){return _*(2-_)}const Tf=4.000244140625;class Vh{constructor(i,o){this._onTimeout=f=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(f)},this._map=i,this._tr=new es(i),this._triggerRenderFrame=o,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&i.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(i){return!!this._map.cooperativeGestures.isEnabled()&&!(i.ctrlKey||this._map.cooperativeGestures.isBypassed(i))}wheel(i){if(!this.isEnabled())return;if(this._shouldBePrevented(i))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",i);let o=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const f=U.now(),p=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,o!==0&&o%Tf==0?this._type="wheel":o!==0&&Math.abs(o)<4?this._type="trackpad":p>400?(this._type=null,this._lastValue=o,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(p*o)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,o+=this._lastValue)),i.shiftKey&&o&&(o/=4),this._type&&(this._lastWheelEvent=i,this._delta-=o,this._active||this._start(i)),i.preventDefault()}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const o=C.mousePos(this._map.getCanvas(),i),f=this._tr;this._aroundPoint=this._aroundCenter?f.transform.locationToScreenPoint(s.Q.convert(f.center)):o,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const E=i.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=E),typeof this._targetZoom=="number"&&(this._targetZoom+=E)}if(this._delta!==0){const E=this._type==="wheel"&&Math.abs(this._delta)>Tf?this._wheelZoomRate:this._defaultZoomRate;let T=2/(1+Math.exp(-Math.abs(this._delta*E)));this._delta<0&&T!==0&&(T=1/T);const Y=typeof this._targetZoom!="number"?i.scale:s.ac(this._targetZoom);this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,s.ah(Y*T))),this._type==="wheel"&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const o=typeof this._targetZoom!="number"?i.zoom:this._targetZoom,f=this._startZoom,p=this._easing;let b,B=!1;if(this._type==="wheel"&&f&&p){const E=U.now()-this._lastWheelEventTime,T=Math.min((E+5)/200,1),Y=p(T);b=s.B.number(f,o,Y),T<1?this._frameId||(this._frameId=!0):B=!0}else b=o,B=!0;return this._active=!0,B&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=b,{noInertia:!0,needsRenderFrame:!B,zoomDelta:b-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let o=s.cd;if(this._prevEase){const f=this._prevEase,p=(U.now()-f.start)/f.duration,b=f.easing(p+.01)-f.easing(p),B=.27/Math.sqrt(b*b+1e-4)*.01,E=Math.sqrt(.0729-B*B);o=s.cb(B,E,.25,1)}return this._prevEase={start:U.now(),duration:i,easing:o},o}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Sf{constructor(i,o){this._clickZoom=i,this._tapZoom=o}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class a2{constructor(i){this._tr=new es(i),this.reset()}reset(){this._active=!1}dblclick(i,o){return i.preventDefault(),{cameraAnimation:f=>{f.easeTo({duration:300,zoom:this._tr.zoom+(i.shiftKey?-1:1),around:this._tr.unproject(o)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ws{constructor(){this._tap=new Oh({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(i,o,f){if(!this._swipePoint)if(this._tapTime){const p=o[0],b=i.timeStamp-this._tapTime<500,B=this._tapPoint.dist(p)<30;b&&B?f.length>0&&(this._swipePoint=p,this._swipeTouch=f[0].identifier):this.reset()}else this._tap.touchstart(i,o,f)}touchmove(i,o,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;const p=o[0],b=p.y-this._swipePoint.y;return this._swipePoint=p,i.preventDefault(),this._active=!0,{zoomDelta:b/128}}}else this._tap.touchmove(i,o,f)}touchend(i,o,f){if(this._tapTime)this._swipePoint&&f.length===0&&this.reset();else{const p=this._tap.touchend(i,o,f);p&&(this._tapTime=i.timeStamp,this._tapPoint=p)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class _i{constructor(i,o,f){this._el=i,this._mousePan=o,this._touchPan=f}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class BA{constructor(i,o,f,p){this._pitchWithRotate=i.pitchWithRotate,this._rollEnabled=i.rollEnabled,this._mouseRotate=o,this._mousePitch=f,this._mouseRoll=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class zc{constructor(i,o,f,p){this._el=i,this._touchZoom=o,this._touchRotate=f,this._tapDragZoom=p,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Gh{constructor(i,o){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=i,this._options=o,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const i=this._map.getCanvasContainer();i.classList.add("maplibregl-cooperative-gestures"),this._container=C.create("div","maplibregl-cooperative-gesture-screen",i);let o=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(o=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const f=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),p=document.createElement("div");p.className="maplibregl-desktop-message",p.textContent=o,this._container.appendChild(p);const b=document.createElement("div");b.className="maplibregl-mobile-message",b.textContent=f,this._container.appendChild(b),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(C.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(i){return i[this._bypassKey]}notifyGestureBlocked(i,o){this._enabled&&(this._map.fire(new s.l("cooperativegestureprevented",{gestureType:i,originalEvent:o})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const CA=_=>_.zoom||_.drag||_.roll||_.pitch||_.rotate;class Nf extends s.l{}function jh(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta||_.rollDelta}class ts{constructor(i,o){this.handleWindowEvent=p=>{this.handleEvent(p,`${p.type}Window`)},this.handleEvent=(p,b)=>{if(p.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const B=p.type==="renderFrame"?void 0:p,E={needsRenderFrame:!1},T={},Y={};for(const{handlerName:H,handler:ee,allowed:ie}of this._handlers){if(!ee.isEnabled())continue;let me;if(this._blockedByActive(Y,ie,H))ee.reset();else if(ee[b||p.type]){if(s.ce(p,b||p.type)){const pe=C.mousePos(this._map.getCanvas(),p);me=ee[b||p.type](p,pe)}else if(s.cf(p,b||p.type)){const pe=this._getMapTouches(p.touches),be=C.touchPos(this._map.getCanvas(),pe);me=ee[b||p.type](p,be,pe)}else s.cg(b||p.type)||(me=ee[b||p.type](p));this.mergeHandlerResult(E,T,me,H,B),me&&me.needsRenderFrame&&this._triggerRenderFrame()}(me||ee.isActive())&&(Y[H]=ee)}const Q={};for(const H in this._previousActiveHandlers)Y[H]||(Q[H]=B);this._previousActiveHandlers=Y,(Object.keys(Q).length||jh(E))&&(this._changes.push([E,T,Q]),this._triggerRenderFrame()),(Object.keys(Y).length||jh(E))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:O}=E;O&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],O(this._map))},this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new wf(i),this._bearingSnap=o.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(o);const f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[window,"blur",void 0]];for(const[p,b,B]of this._listeners)C.addEventListener(p,b,p===document?this.handleWindowEvent:this.handleEvent,B)}destroy(){for(const[i,o,f]of this._listeners)C.removeEventListener(i,o,i===document?this.handleWindowEvent:this.handleEvent,f)}_addDefaultHandlers(i){const o=this._map,f=o.getCanvasContainer();this._add("mapEvent",new Bf(o,i));const p=o.boxZoom=new Cf(o,i);this._add("boxZoom",p),i.interactive&&i.boxZoom&&p.enable();const b=o.cooperativeGestures=new Gh(o,i.cooperativeGestures);this._add("cooperativeGestures",b),i.cooperativeGestures&&b.enable();const B=new Mf(o),E=new a2(o);o.doubleClickZoom=new Sf(E,B),this._add("tapZoom",B),this._add("clickZoom",E),i.interactive&&i.doubleClickZoom&&o.doubleClickZoom.enable();const T=new Ws;this._add("tapDragZoom",T);const Y=o.touchPitch=new Uf(o);this._add("touchPitch",Y),i.interactive&&i.touchPitch&&o.touchPitch.enable(i.touchPitch);const Q=()=>o.project(o.getCenter()),O=function({enable:Ee,clickTolerance:Se,aroundCenter:ke=!0,minPixelCenterThreshold:Pe=100,rotateDegreesPerPixelMoved:We=.8},et){const ht=new Xt({checkCorrectEvent:gt=>C.mouseButton(gt)===0&&gt.ctrlKey||C.mouseButton(gt)===2&&!gt.ctrlKey});return new ys({clickTolerance:Se,move:(gt,ut)=>{const Dt=et();if(ke&&Math.abs(Dt.y-gt.y)>Pe)return{bearingDelta:s.cc(new s.P(gt.x,ut.y),ut,Dt)};let Ft=(ut.x-gt.x)*We;return ke&&ut.y<Dt.y&&(Ft=-Ft),{bearingDelta:Ft}},moveStateManager:ht,enable:Ee,assignEvents:vA})}(i,Q),H=function({enable:Ee,clickTolerance:Se,pitchDegreesPerPixelMoved:ke=-.5}){const Pe=new Xt({checkCorrectEvent:We=>C.mouseButton(We)===0&&We.ctrlKey||C.mouseButton(We)===2});return new ys({clickTolerance:Se,move:(We,et)=>({pitchDelta:(et.y-We.y)*ke}),moveStateManager:Pe,enable:Ee,assignEvents:vA})}(i),ee=function({enable:Ee,clickTolerance:Se,rollDegreesPerPixelMoved:ke=.3},Pe){const We=new Xt({checkCorrectEvent:et=>C.mouseButton(et)===2&&et.ctrlKey});return new ys({clickTolerance:Se,move:(et,ht)=>{const gt=Pe();let ut=(ht.x-et.x)*ke;return ht.y<gt.y&&(ut=-ut),{rollDelta:ut}},moveStateManager:We,enable:Ee,assignEvents:vA})}(i,Q);o.dragRotate=new BA(i,O,H,ee),this._add("mouseRotate",O,["mousePitch"]),this._add("mousePitch",H,["mouseRotate","mouseRoll"]),this._add("mouseRoll",ee,["mousePitch"]),i.interactive&&i.dragRotate&&o.dragRotate.enable();const ie=function({enable:Ee,clickTolerance:Se}){const ke=new Xt({checkCorrectEvent:Pe=>C.mouseButton(Pe)===0&&!Pe.ctrlKey});return new ys({clickTolerance:Se,move:(Pe,We)=>({around:We,panDelta:We.sub(Pe)}),activateOnStart:!0,moveStateManager:ke,enable:Ee,assignEvents:vA})}(i),me=new xA(i,o);o.dragPan=new _i(f,ie,me),this._add("mousePan",ie),this._add("touchPan",me,["touchZoom","touchRotate"]),i.interactive&&i.dragPan&&o.dragPan.enable(i.dragPan);const pe=new Qc,be=new kc;o.touchZoomRotate=new zc(f,be,pe,T),this._add("touchRotate",pe,["touchPan","touchZoom"]),this._add("touchZoom",be,["touchPan","touchRotate"]),i.interactive&&i.touchZoomRotate&&o.touchZoomRotate.enable(i.touchZoomRotate);const Be=o.scrollZoom=new Vh(o,()=>this._triggerRenderFrame());this._add("scrollZoom",Be,["mousePan"]),i.interactive&&i.scrollZoom&&o.scrollZoom.enable(i.scrollZoom);const Ie=o.keyboard=new Dc(o);this._add("keyboard",Ie),i.interactive&&i.keyboard&&o.keyboard.enable(),this._add("blockableMapEvent",new Jn(o))}_add(i,o,f){this._handlers.push({handlerName:i,handler:o,allowed:f}),this._handlersById[i]=o}stop(i){if(!this._updatingCamera){for(const{handler:o}of this._handlers)o.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!CA(this._eventsInProgress)||this.isZooming()}_blockedByActive(i,o,f){for(const p in i)if(p!==f&&(!o||o.indexOf(p)<0))return!0;return!1}_getMapTouches(i){const o=[];for(const f of i)this._el.contains(f.target)&&o.push(f);return o}mergeHandlerResult(i,o,f,p,b){if(!f)return;s.e(i,f);const B={handlerName:p,originalEvent:f.originalEvent||b};f.zoomDelta!==void 0&&(o.zoom=B),f.panDelta!==void 0&&(o.drag=B),f.rollDelta!==void 0&&(o.roll=B),f.pitchDelta!==void 0&&(o.pitch=B),f.bearingDelta!==void 0&&(o.rotate=B)}_applyChanges(){const i={},o={},f={};for(const[p,b,B]of this._changes)p.panDelta&&(i.panDelta=(i.panDelta||new s.P(0,0))._add(p.panDelta)),p.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+p.zoomDelta),p.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+p.bearingDelta),p.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+p.pitchDelta),p.rollDelta&&(i.rollDelta=(i.rollDelta||0)+p.rollDelta),p.around!==void 0&&(i.around=p.around),p.pinchAround!==void 0&&(i.pinchAround=p.pinchAround),p.noInertia&&(i.noInertia=p.noInertia),s.e(o,b),s.e(f,B);this._updateMapTransform(i,o,f),this._changes=[]}_updateMapTransform(i,o,f){const p=this._map,b=p._getTransformForUpdate(),B=p.terrain;if(!(jh(i)||B&&this._terrainMovement))return this._fireEvents(o,f,!0);p._stop(!0);let{panDelta:E,zoomDelta:T,bearingDelta:Y,pitchDelta:Q,rollDelta:O,around:H,pinchAround:ee}=i;ee!==void 0&&(H=ee),H=H||p.transform.centerPoint,B&&!b.isPointOnMapSurface(H)&&(H=b.centerPoint);const ie={panDelta:E,zoomDelta:T,rollDelta:O,pitchDelta:Q,bearingDelta:Y,around:H};this._map.cameraHelper.useGlobeControls&&!b.isPointOnMapSurface(H)&&(H=b.centerPoint);const me=H.distSqr(b.centerPoint)<.01?b.center:b.screenPointToLocation(E?H.sub(E):H);B?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ie,b),this._terrainMovement||!o.drag&&!o.zoom?o.drag&&this._terrainMovement?b.setCenter(b.screenPointToLocation(b.centerPoint.sub(E))):this._map.cameraHelper.handleMapControlsPan(ie,b,me):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(ie,b,me))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ie,b),this._map.cameraHelper.handleMapControlsPan(ie,b,me)),p._applyUpdatedTransform(b),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(o,f,!0)}_fireEvents(i,o,f){const p=CA(this._eventsInProgress),b=CA(i),B={};for(const O in i){const{originalEvent:H}=i[O];this._eventsInProgress[O]||(B[`${O}start`]=H),this._eventsInProgress[O]=i[O]}!p&&b&&this._fireEvent("movestart",b.originalEvent);for(const O in B)this._fireEvent(O,B[O]);b&&this._fireEvent("move",b.originalEvent);for(const O in i){const{originalEvent:H}=i[O];this._fireEvent(O,H)}const E={};let T;for(const O in this._eventsInProgress){const{handlerName:H,originalEvent:ee}=this._eventsInProgress[O];this._handlersById[H].isActive()||(delete this._eventsInProgress[O],T=o[H]||ee,E[`${O}end`]=T)}for(const O in E)this._fireEvent(O,E[O]);const Y=CA(this._eventsInProgress),Q=(p||b)&&!Y;if(Q&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const O=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&O.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(O)}if(f&&Q){this._updatingCamera=!0;const O=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),H=ee=>ee!==0&&-this._bearingSnap<ee&&ee<this._bearingSnap;!O||!O.essential&&U.prefersReducedMotion?(this._map.fire(new s.l("moveend",{originalEvent:T})),H(this._map.getBearing())&&this._map.resetNorth()):(H(O.bearing||this._map.getBearing())&&(O.bearing=0),O.freezeElevation=!0,this._map.easeTo(O,{originalEvent:T})),this._updatingCamera=!1}}_fireEvent(i,o){this._map.fire(new s.l(i,o?{originalEvent:o}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{delete this._frameId,this.handleEvent(new Nf("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Zc extends s.E{constructor(i,o,f){super(),this._renderFrameCallback=()=>{const p=Math.min((U.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(p)),p<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=f.bearingSnap,this.cameraHelper=o,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(i,o){i.apply(this.transform),this.transform=i,this.cameraHelper=o}getCenter(){return new s.Q(this.transform.center.lng,this.transform.center.lat)}setCenter(i,o){return this.jumpTo({center:i},o)}getCenterElevation(){return this.transform.elevation}setCenterElevation(i,o){return this.jumpTo({elevation:i},o),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(i){this._centerClampedToGround=i}panBy(i,o,f){return i=s.P.convert(i).mult(-1),this.panTo(this.transform.center,s.e({offset:i},o),f)}panTo(i,o,f){return this.easeTo(s.e({center:i},o),f)}getZoom(){return this.transform.zoom}setZoom(i,o){return this.jumpTo({zoom:i},o),this}zoomTo(i,o,f){return this.easeTo(s.e({zoom:i},o),f)}zoomIn(i,o){return this.zoomTo(this.getZoom()+1,i,o),this}zoomOut(i,o){return this.zoomTo(this.getZoom()-1,i,o),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(i,o){return i!=this.transform.fov&&(this.transform.setFov(i),this.fire(new s.l("movestart",o)).fire(new s.l("move",o)).fire(new s.l("moveend",o))),this}getBearing(){return this.transform.bearing}setBearing(i,o){return this.jumpTo({bearing:i},o),this}getPadding(){return this.transform.padding}setPadding(i,o){return this.jumpTo({padding:i},o),this}rotateTo(i,o,f){return this.easeTo(s.e({bearing:i},o),f)}resetNorth(i,o){return this.rotateTo(0,s.e({duration:1e3},i),o),this}resetNorthPitch(i,o){return this.easeTo(s.e({bearing:0,pitch:0,roll:0,duration:1e3},i),o),this}snapToNorth(i,o){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,o):this}getPitch(){return this.transform.pitch}setPitch(i,o){return this.jumpTo({pitch:i},o),this}getRoll(){return this.transform.roll}setRoll(i,o){return this.jumpTo({roll:i},o),this}cameraForBounds(i,o){i=St.convert(i).adjustAntiMeridian();const f=o&&o.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),f,o)}_cameraForBoxAndBearing(i,o,f,p){const b={top:0,bottom:0,right:0,left:0};if(typeof(p=s.e({padding:b,offset:[0,0],maxZoom:this.transform.maxZoom},p)).padding=="number"){const Y=p.padding;p.padding={top:Y,bottom:Y,right:Y,left:Y}}const B=s.e(b,p.padding);p.padding=B;const E=this.transform,T=new St(i,o);return this.cameraHelper.cameraForBoxAndBearing(p,B,T,f,E)}fitBounds(i,o,f){return this._fitInternal(this.cameraForBounds(i,o),o,f)}fitScreenCoordinates(i,o,f,p,b){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(s.P.convert(i)),this.transform.screenPointToLocation(s.P.convert(o)),f,p),p,b)}_fitInternal(i,o,f){return i?(delete(o=s.e(i,o)).padding,o.linear?this.easeTo(o,f):this.flyTo(o,f)):this}jumpTo(i,o){this.stop();const f=this._getTransformForUpdate();let p=!1,b=!1,B=!1;const E=f.zoom;this.cameraHelper.handleJumpToCenterZoom(f,i);const T=f.zoom!==E;return"elevation"in i&&f.elevation!==+i.elevation&&f.setElevation(+i.elevation),"bearing"in i&&f.bearing!==+i.bearing&&(p=!0,f.setBearing(+i.bearing)),"pitch"in i&&f.pitch!==+i.pitch&&(b=!0,f.setPitch(+i.pitch)),"roll"in i&&f.roll!==+i.roll&&(B=!0,f.setRoll(+i.roll)),i.padding==null||f.isPaddingEqual(i.padding)||f.setPadding(i.padding),this._applyUpdatedTransform(f),this.fire(new s.l("movestart",o)).fire(new s.l("move",o)),T&&this.fire(new s.l("zoomstart",o)).fire(new s.l("zoom",o)).fire(new s.l("zoomend",o)),p&&this.fire(new s.l("rotatestart",o)).fire(new s.l("rotate",o)).fire(new s.l("rotateend",o)),b&&this.fire(new s.l("pitchstart",o)).fire(new s.l("pitch",o)).fire(new s.l("pitchend",o)),B&&this.fire(new s.l("rollstart",o)).fire(new s.l("roll",o)).fire(new s.l("rollend",o)),this.fire(new s.l("moveend",o))}calculateCameraOptionsFromTo(i,o,f,p=0){const b=s.$.fromLngLat(i,o),B=s.$.fromLngLat(f,p),E=B.x-b.x,T=B.y-b.y,Y=B.z-b.z,Q=Math.hypot(E,T,Y);if(Q===0)throw new Error("Can't calculate camera options with same From and To");const O=Math.hypot(E,T),H=s.ah(this.transform.cameraToCenterDistance/Q/this.transform.tileSize),ee=180*Math.atan2(E,-T)/Math.PI;let ie=180*Math.acos(O/Q)/Math.PI;return ie=Y<0?90-ie:90+ie,{center:B.toLngLat(),elevation:p,zoom:H,pitch:ie,bearing:ee}}calculateCameraOptionsFromCameraLngLatAltRotation(i,o,f,p,b){const B=this.transform.calculateCenterFromCameraLngLatAlt(i,o,f,p);return{center:B.center,elevation:B.elevation,zoom:B.zoom,bearing:f,pitch:p,roll:b}}easeTo(i,o){this._stop(!1,i.easeId),((i=s.e({offset:[0,0],duration:500,easing:s.cd},i)).animate===!1||!i.essential&&U.prefersReducedMotion)&&(i.duration=0);const f=this._getTransformForUpdate(),p=this.getBearing(),b=f.pitch,B=f.roll,E="bearing"in i?this._normalizeBearing(i.bearing,p):p,T="pitch"in i?+i.pitch:b,Y="roll"in i?this._normalizeBearing(i.roll,B):B,Q="padding"in i?i.padding:f.padding,O=s.P.convert(i.offset);let H,ee;i.around&&(H=s.Q.convert(i.around),ee=f.locationToScreenPoint(H));const ie={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},me=this.cameraHelper.handleEaseTo(f,{bearing:E,pitch:T,roll:Y,padding:Q,around:H,aroundPoint:ee,offsetAsPoint:O,offset:i.offset,zoom:i.zoom,center:i.center});return this._rotating=this._rotating||p!==E,this._pitching=this._pitching||T!==b,this._rolling=this._rolling||Y!==B,this._padding=!f.isPaddingEqual(Q),this._zooming=this._zooming||me.isZooming,this._easeId=i.easeId,this._prepareEase(o,i.noMoveStart,ie),this.terrain&&this._prepareElevation(me.elevationCenter),this._ease(pe=>{me.easeFunc(pe),this.terrain&&!i.freezeElevation&&this._updateElevation(pe),this._applyUpdatedTransform(f),this._fireMoveEvents(o)},pe=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(o,pe)},i),this}_prepareEase(i,o,f={}){this._moving=!0,o||f.moving||this.fire(new s.l("movestart",i)),this._zooming&&!f.zooming&&this.fire(new s.l("zoomstart",i)),this._rotating&&!f.rotating&&this.fire(new s.l("rotatestart",i)),this._pitching&&!f.pitching&&this.fire(new s.l("pitchstart",i)),this._rolling&&!f.rolling&&this.fire(new s.l("rollstart",i))}_prepareElevation(i){this._elevationCenter=i,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(i){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const o=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(i<1&&o!==this._elevationTarget){const f=this._elevationTarget-this._elevationStart;this._elevationStart+=i*(f-(o-(f*i+this._elevationStart))/(1-i)),this._elevationTarget=o}this.transform.setElevation(s.B.number(this._elevationStart,this._elevationTarget,i))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(i){if(!this.terrain&&i.elevation>=0&&i.pitch<=90)return{};const o=i.getCameraLngLat(),f=i.getCameraAltitude(),p=this.terrain?this.terrain.getElevationForLngLatZoom(o,i.zoom):0;if(f<p){const b=this.calculateCameraOptionsFromTo(o,p,i.center,i.elevation);return{pitch:b.pitch,zoom:b.zoom}}return{}}_applyUpdatedTransform(i){const o=[];if(o.push(p=>this._elevateCameraIfInsideTerrain(p)),this.transformCameraUpdate&&o.push(p=>this.transformCameraUpdate(p)),!o.length)return;const f=i.clone();for(const p of o){const b=f.clone(),{center:B,zoom:E,roll:T,pitch:Y,bearing:Q,elevation:O}=p(b);B&&b.setCenter(B),O!==void 0&&b.setElevation(O),E!==void 0&&b.setZoom(E),T!==void 0&&b.setRoll(T),Y!==void 0&&b.setPitch(Y),Q!==void 0&&b.setBearing(Q),f.apply(b)}this.transform.apply(f)}_fireMoveEvents(i){this.fire(new s.l("move",i)),this._zooming&&this.fire(new s.l("zoom",i)),this._rotating&&this.fire(new s.l("rotate",i)),this._pitching&&this.fire(new s.l("pitch",i)),this._rolling&&this.fire(new s.l("roll",i))}_afterEase(i,o){if(this._easeId&&o&&this._easeId===o)return;delete this._easeId;const f=this._zooming,p=this._rotating,b=this._pitching,B=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,f&&this.fire(new s.l("zoomend",i)),p&&this.fire(new s.l("rotateend",i)),b&&this.fire(new s.l("pitchend",i)),B&&this.fire(new s.l("rollend",i)),this.fire(new s.l("moveend",i))}flyTo(i,o){if(!i.essential&&U.prefersReducedMotion){const ut=s.O(i,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(ut,o)}this.stop(),i=s.e({offset:[0,0],speed:1.2,curve:1.42,easing:s.cd},i);const f=this._getTransformForUpdate(),p=f.bearing,b=f.pitch,B=f.roll,E=f.padding,T="bearing"in i?this._normalizeBearing(i.bearing,p):p,Y="pitch"in i?+i.pitch:b,Q="roll"in i?this._normalizeBearing(i.roll,B):B,O="padding"in i?i.padding:f.padding,H=s.P.convert(i.offset);let ee=f.centerPoint.add(H);const ie=f.screenPointToLocation(ee),me=this.cameraHelper.handleFlyTo(f,{bearing:T,pitch:Y,roll:Q,padding:O,locationAtOffset:ie,offsetAsPoint:H,center:i.center,minZoom:i.minZoom,zoom:i.zoom});let pe=i.curve;const be=Math.max(f.width,f.height),Be=be/me.scaleOfZoom,Ie=me.pixelPathLength;typeof me.scaleOfMinZoom=="number"&&(pe=Math.sqrt(be/me.scaleOfMinZoom/Ie*2));const Ee=pe*pe;function Se(ut){const Dt=(Be*Be-be*be+(ut?-1:1)*Ee*Ee*Ie*Ie)/(2*(ut?Be:be)*Ee*Ie);return Math.log(Math.sqrt(Dt*Dt+1)-Dt)}function ke(ut){return(Math.exp(ut)-Math.exp(-ut))/2}function Pe(ut){return(Math.exp(ut)+Math.exp(-ut))/2}const We=Se(!1);let et=function(ut){return Pe(We)/Pe(We+pe*ut)},ht=function(ut){return be*((Pe(We)*(ke(Dt=We+pe*ut)/Pe(Dt))-ke(We))/Ee)/Ie;var Dt},gt=(Se(!0)-We)/pe;if(Math.abs(Ie)<2e-6||!isFinite(gt)){if(Math.abs(be-Be)<1e-6)return this.easeTo(i,o);const ut=Be<be?-1:1;gt=Math.abs(Math.log(Be/be))/pe,ht=()=>0,et=Dt=>Math.exp(ut*pe*Dt)}return i.duration="duration"in i?+i.duration:1e3*gt/("screenSpeed"in i?+i.screenSpeed/pe:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=p!==T,this._pitching=Y!==b,this._rolling=Q!==B,this._padding=!f.isPaddingEqual(O),this._prepareEase(o,!1),this.terrain&&this._prepareElevation(me.targetCenter),this._ease(ut=>{const Dt=ut*gt,Ft=1/et(Dt),yt=ht(Dt);this._rotating&&f.setBearing(s.B.number(p,T,ut)),this._pitching&&f.setPitch(s.B.number(b,Y,ut)),this._rolling&&f.setRoll(s.B.number(B,Q,ut)),this._padding&&(f.interpolatePadding(E,O,ut),ee=f.centerPoint.add(H)),me.easeFunc(ut,Ft,yt,ee),this.terrain&&!i.freezeElevation&&this._updateElevation(ut),this._applyUpdatedTransform(f),this._fireMoveEvents(o)},()=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(o)},i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,o){var f;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const p=this._onEaseEnd;delete this._onEaseEnd,p.call(this,o)}return i||(f=this.handlers)===null||f===void 0||f.stop(!1),this}_ease(i,o,f){f.animate===!1||f.duration===0?(i(1),o()):(this._easeStart=U.now(),this._easeOptions=f,this._onEaseFrame=i,this._onEaseEnd=o,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(i,o){i=s.aL(i,-180,180);const f=Math.abs(i-o);return Math.abs(i-360-o)<f&&(i-=360),Math.abs(i+360-o)<f&&(i+=360),i}queryTerrainElevation(i){return this.terrain?this.terrain.getElevationForLngLatZoom(s.Q.convert(i),this.transform.tileZoom):null}}const cr={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class yr{constructor(i=cr){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=o=>{!o||o.sourceDataType!=="metadata"&&o.sourceDataType!=="visibility"&&o.dataType!=="style"&&o.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=i}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options.compact,this._container=C.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=C.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=C.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){C.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,o){const f=this._map._getUIString(`AttributionControl.${o}`);i.title=f,i.setAttribute("aria-label",f)}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map(p=>typeof p!="string"?"":p)):typeof this.options.customAttribution=="string"&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const p=this._map.style.stylesheet;this.styleOwner=p.owner,this.styleId=p.id}const o=this._map.style.sourceCaches;for(const p in o){const b=o[p];if(b.used||b.usedForTerrain){const B=b.getSource();B.attribution&&i.indexOf(B.attribution)<0&&i.push(B.attribution)}}i=i.filter(p=>String(p).trim()),i.sort((p,b)=>p.length-b.length),i=i.filter((p,b)=>{for(let B=b+1;B<i.length;B++)if(i[B].indexOf(p)>=0)return!1;return!0});const f=i.join(" | ");f!==this._attribHTML&&(this._attribHTML=f,i.length?(this._innerContainer.innerHTML=C.sanitize(f),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class MA{constructor(i={}){this._updateCompact=()=>{const o=this._container.children;if(o.length){const f=o[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&f.classList.add("maplibregl-compact"):f.classList.remove("maplibregl-compact")}},this.options=i}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=C.create("div","maplibregl-ctrl");const o=C.create("a","maplibregl-ctrl-logo");return o.target="_blank",o.rel="noopener nofollow",o.href="https://maplibre.org/",o.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),o.setAttribute("rel","noopener nofollow"),this._container.appendChild(o),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){C.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Kh{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const o=++this._id;return this._queue.push({callback:i,id:o,cancelled:!1}),o}remove(i){const o=this._currentlyRunning,f=o?this._queue.concat(o):this._queue;for(const p of f)if(p.id===i)return void(p.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const o=this._currentlyRunning=this._queue;this._queue=[];for(const f of o)if(!f.cancelled&&(f.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var $h=s.aG([{name:"a_pos3d",type:"Int16",components:3}]);class Ka extends s.E{constructor(i){super(),this._lastTilesetChange=U.now(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=i._source.tileSize*2**this.deltaZoom,i.usedForTerrain=!0,i.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(i,o){this.sourceCache.update(i,o),this._renderableTilesKeys=[];const f={};for(const p of Fe(i,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:o,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))f[p.key]=!0,this._renderableTilesKeys.push(p.key),this._tiles[p.key]||(p.terrainRttPosMatrix32f=new Float64Array(16),s.bQ(p.terrainRttPosMatrix32f,0,s.Z,s.Z,0,0,1),this._tiles[p.key]=new Zi(p,this.tileSize),this._lastTilesetChange=U.now());for(const p in this._tiles)f[p]||delete this._tiles[p]}freeRtt(i){for(const o in this._tiles){const f=this._tiles[o];(!i||f.tileID.equals(i)||f.tileID.isChildOf(i)||i.isChildOf(f.tileID))&&(f.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(i=>this.getTileByID(i))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i,o){return o?this._getTerrainCoordsForTileRanges(i,o):this._getTerrainCoordsForRegularTile(i)}_getTerrainCoordsForRegularTile(i){const o={};for(const f of this._renderableTilesKeys){const p=this._tiles[f].tileID,b=i.clone(),B=s.b2();if(p.canonical.equals(i.canonical))s.bQ(B,0,s.Z,s.Z,0,0,1);else if(p.canonical.isChildOf(i.canonical)){const E=p.canonical.z-i.canonical.z,T=p.canonical.x-(p.canonical.x>>E<<E),Y=p.canonical.y-(p.canonical.y>>E<<E),Q=s.Z>>E;s.bQ(B,0,Q,Q,0,0,1),s.L(B,B,[-T*Q,-Y*Q,0])}else{if(!i.canonical.isChildOf(p.canonical))continue;{const E=i.canonical.z-p.canonical.z,T=i.canonical.x-(i.canonical.x>>E<<E),Y=i.canonical.y-(i.canonical.y>>E<<E),Q=s.Z>>E;s.bQ(B,0,s.Z,s.Z,0,0,1),s.L(B,B,[T*Q,Y*Q,0]),s.M(B,B,[1/2**E,1/2**E,0])}}b.terrainRttPosMatrix32f=new Float32Array(B),o[f]=b}return o}_getTerrainCoordsForTileRanges(i,o){const f={};for(const p of this._renderableTilesKeys){const b=this._tiles[p].tileID;if(!this._isWithinTileRanges(b,o))continue;const B=i.clone(),E=s.b2();if(b.canonical.z===i.canonical.z){const T=i.canonical.x-b.canonical.x,Y=i.canonical.y-b.canonical.y;s.bQ(E,0,s.Z,s.Z,0,0,1),s.L(E,E,[T*s.Z,Y*s.Z,0])}else if(b.canonical.z>i.canonical.z){const T=b.canonical.z-i.canonical.z,Y=b.canonical.x-(b.canonical.x>>T<<T),Q=b.canonical.y-(b.canonical.y>>T<<T),O=i.canonical.x-(b.canonical.x>>T),H=i.canonical.y-(b.canonical.y>>T),ee=s.Z>>T;s.bQ(E,0,ee,ee,0,0,1),s.L(E,E,[-Y*ee+O*s.Z,-Q*ee+H*s.Z,0])}else{const T=i.canonical.z-b.canonical.z,Y=i.canonical.x-(i.canonical.x>>T<<T),Q=i.canonical.y-(i.canonical.y>>T<<T),O=(i.canonical.x>>T)-b.canonical.x,H=(i.canonical.y>>T)-b.canonical.y,ee=s.Z<<T;s.bQ(E,0,ee,ee,0,0,1),s.L(E,E,[Y*s.Z+O*ee,Q*s.Z+H*ee,0])}B.terrainRttPosMatrix32f=new Float32Array(E),f[p]=B}return f}getSourceTile(i,o){const f=this.sourceCache._source;let p=i.overscaledZ-this.deltaZoom;if(p>f.maxzoom&&(p=f.maxzoom),p<f.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(p).key);let b=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!b||!b.dem)&&o)for(;p>=f.minzoom&&(!b||!b.dem);)b=this.sourceCache.getTileByID(i.scaledTo(p--).key);return b}anyTilesAfterTime(i=Date.now()){return this._lastTilesetChange>=i}_isWithinTileRanges(i,o){return o[i.canonical.z]&&i.canonical.x>=o[i.canonical.z].minTileX&&i.canonical.x<=o[i.canonical.z].maxTileX&&i.canonical.y>=o[i.canonical.z].minTileY&&i.canonical.y<=o[i.canonical.z].maxTileY}}class Yf{constructor(i,o,f){this._meshCache={},this.painter=i,this.sourceCache=new Ka(o),this.options=f,this.exaggeration=typeof f.exaggeration=="number"?f.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(i,o,f,p=s.Z){var b;if(!(o>=0&&o<p&&f>=0&&f<p))return 0;const B=this.getTerrainData(i),E=(b=B.tile)===null||b===void 0?void 0:b.dem;if(!E)return 0;const T=s.ch([],[o/p*s.Z,f/p*s.Z],B.u_terrain_matrix),Y=[T[0]*E.dim,T[1]*E.dim],Q=Math.floor(Y[0]),O=Math.floor(Y[1]),H=Y[0]-Q,ee=Y[1]-O;return E.get(Q,O)*(1-H)*(1-ee)+E.get(Q+1,O)*H*(1-ee)+E.get(Q,O+1)*(1-H)*ee+E.get(Q+1,O+1)*H*ee}getElevationForLngLatZoom(i,o){if(!s.ci(o,i.wrap()))return 0;const{tileID:f,mercatorX:p,mercatorY:b}=this._getOverscaledTileIDFromLngLatZoom(i,o);return this.getElevation(f,p%s.Z,b%s.Z,s.Z)}getElevation(i,o,f,p=s.Z){return this.getDEMElevation(i,o,f,p)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const p=this.painter.context,b=new s.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new X(p,b,p.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new X(p,new s.R({width:1,height:1}),p.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(p.gl.NEAREST,p.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.ad([])}const o=this.sourceCache.getSourceTile(i,!0);if(o&&o.dem&&(!o.demTexture||o.needsTerrainPrepare)){const p=this.painter.context;o.demTexture=this.painter.getTileTexture(o.dem.stride),o.demTexture?o.demTexture.update(o.dem.getPixels(),{premultiply:!1}):o.demTexture=new X(p,o.dem.getPixels(),p.gl.RGBA,{premultiply:!1}),o.demTexture.bind(p.gl.NEAREST,p.gl.CLAMP_TO_EDGE),o.needsTerrainPrepare=!1}const f=o&&o+o.tileID.key+i.key;if(f&&!this._demMatrixCache[f]){const p=this.sourceCache.sourceCache._source.maxzoom;let b=i.canonical.z-o.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=p?b=i.canonical.z-p:s.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const B=i.canonical.x-(i.canonical.x>>b<<b),E=i.canonical.y-(i.canonical.y>>b<<b),T=s.cj(new Float64Array(16),[1/(s.Z<<b),1/(s.Z<<b),0]);s.L(T,T,[B*s.Z,E*s.Z,0]),this._demMatrixCache[i.key]={matrix:T,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:o&&o.dem&&o.dem.dim||1,u_terrain_matrix:f?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:o&&o.dem&&o.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(o&&o.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:o}}getFramebuffer(i){const o=this.painter,f=o.width/devicePixelRatio,p=o.height/devicePixelRatio;return!this._fbo||this._fbo.width===f&&this._fbo.height===p||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new X(o.context,{width:f,height:p,data:null},o.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(o.context.gl.NEAREST,o.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new X(o.context,{width:f,height:p,data:null},o.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(o.context.gl.NEAREST,o.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=o.context.createFramebuffer(f,p,!0,!1),this._fbo.depthAttachment.set(o.context.createRenderbuffer(o.context.gl.DEPTH_COMPONENT16,f,p))),this._fbo.colorAttachment.set(i==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const o=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let b=0,B=0;b<this._coordsTextureSize;b++)for(let E=0;E<this._coordsTextureSize;E++,B+=4)o[B+0]=255&E,o[B+1]=255&b,o[B+2]=E>>8<<4|b>>8,o[B+3]=0;const f=new s.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(o.buffer)),p=new X(i,f,i.gl.RGBA,{premultiply:!1});return p.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=p,p}pointCoordinate(i){this.painter.maybeDrawDepthAndCoords(!0);const o=new Uint8Array(4),f=this.painter.context,p=f.gl,b=Math.round(i.x*this.painter.pixelRatio/devicePixelRatio),B=Math.round(i.y*this.painter.pixelRatio/devicePixelRatio),E=Math.round(this.painter.height/devicePixelRatio);f.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),p.readPixels(b,E-B-1,1,1,p.RGBA,p.UNSIGNED_BYTE,o),f.bindFramebuffer.set(null);const T=o[0]+(o[2]>>4<<8),Y=o[1]+((15&o[2])<<8),Q=this.coordsIndex[255-o[3]],O=Q&&this.sourceCache.getTileByID(Q);if(!O)return null;const H=this._coordsTextureSize,ee=(1<<O.tileID.canonical.z)*H;return new s.$((O.tileID.canonical.x*H+T)/ee+O.tileID.wrap,(O.tileID.canonical.y*H+Y)/ee,this.getElevation(O.tileID,T,Y,H))}depthAtPoint(i){const o=new Uint8Array(4),f=this.painter.context,p=f.gl;return f.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),p.readPixels(i.x,this.painter.height/devicePixelRatio-i.y-1,1,1,p.RGBA,p.UNSIGNED_BYTE,o),f.bindFramebuffer.set(null),(o[0]/16777216+o[1]/65536+o[2]/256+o[3])/256}getTerrainMesh(i){var o;const f=((o=this.painter.style.projection)===null||o===void 0?void 0:o.transitionState)>0,p=f&&i.canonical.y===0,b=f&&i.canonical.y===(1<<i.canonical.z)-1,B=`m_${p?"n":""}_${b?"s":""}`;if(this._meshCache[B])return this._meshCache[B];const E=this.painter.context,T=new s.ck,Y=new s.aK,Q=this.meshSize,O=s.Z/Q,H=Q*Q;for(let Pe=0;Pe<=Q;Pe++)for(let We=0;We<=Q;We++)T.emplaceBack(We*O,Pe*O,0);for(let Pe=0;Pe<H;Pe+=Q+1)for(let We=0;We<Q;We++)Y.emplaceBack(We+Pe,Q+We+Pe+1,Q+We+Pe+2),Y.emplaceBack(We+Pe,Q+We+Pe+2,We+Pe+1);const ee=T.length,ie=ee+(Q+1),me=(Q+1)*Q,pe=p?s.b9:0,be=p?0:1,Be=b?s.ba:s.Z,Ie=b?0:1;for(let Pe=0;Pe<=Q;Pe++)T.emplaceBack(Pe*O,pe,be);for(let Pe=0;Pe<=Q;Pe++)T.emplaceBack(Pe*O,Be,Ie);for(let Pe=0;Pe<Q;Pe++)Y.emplaceBack(me+Pe,ie+Pe,ie+Pe+1),Y.emplaceBack(me+Pe,ie+Pe+1,me+Pe+1),Y.emplaceBack(0+Pe,ee+Pe+1,ee+Pe),Y.emplaceBack(0+Pe,0+Pe+1,ee+Pe+1);const Ee=T.length,Se=Ee+2*(Q+1);for(const Pe of[0,1])for(let We=0;We<=Q;We++)for(const et of[0,1])T.emplaceBack(Pe*s.Z,We*O,et);for(let Pe=0;Pe<2*Q;Pe+=2)Y.emplaceBack(Ee+Pe,Ee+Pe+1,Ee+Pe+3),Y.emplaceBack(Ee+Pe,Ee+Pe+3,Ee+Pe+2),Y.emplaceBack(Se+Pe,Se+Pe+3,Se+Pe+1),Y.emplaceBack(Se+Pe,Se+Pe+2,Se+Pe+3);const ke=new nl(E.createVertexBuffer(T,$h.members),E.createIndexBuffer(Y),s.aJ.simpleSegment(0,0,T.length,Y.length));return this._meshCache[B]=ke,ke}getMeshFrameDelta(i){return 2*Math.PI*s.bu/Math.pow(2,Math.max(i,0))/5}getMinTileElevationForLngLatZoom(i,o){var f;const{tileID:p}=this._getOverscaledTileIDFromLngLatZoom(i,o);return(f=this.getMinMaxElevation(p).minElevation)!==null&&f!==void 0?f:0}getMinMaxElevation(i){const o=this.getTerrainData(i).tile,f={minElevation:null,maxElevation:null};return o&&o.dem&&(f.minElevation=o.dem.min*this.exaggeration,f.maxElevation=o.dem.max*this.exaggeration),f}_getOverscaledTileIDFromLngLatZoom(i,o){const f=s.$.fromLngLat(i.wrap()),p=(1<<o)*s.Z,b=f.x*p,B=f.y*p,E=Math.floor(b/s.Z),T=Math.floor(B/s.Z);return{tileID:new s.Y(o,0,o,E,T),mercatorX:b,mercatorY:B}}}class rs{constructor(i,o,f){this._context=i,this._size=o,this._tileSize=f,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const i of this._objects)i.texture.destroy(),i.fbo.destroy()}_createObject(i){const o=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),f=new X(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return f.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),o.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),o.colorAttachment.set(f.texture),{id:i,fbo:o,texture:f,stamp:-1,inUse:!1}}getObjectForId(i){return this._objects[i]}useObject(i){i.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(o=>i.id!==o),this._recentlyUsed.push(i.id)}stampObject(i){i.stamp=++this._stamp}getOrCreateFreeObject(){for(const o of this._recentlyUsed)if(!this._objects[o].inUse)return this._objects[o];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const i=this._createObject(this._objects.length);return this._objects.push(i),i}freeObject(i){i.inUse=!1}freeAllObjects(){for(const i of this._objects)this.freeObject(i)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(i=>!i.inUse)===!1}}const _l={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class RA{constructor(i,o){this.painter=i,this.terrain=o,this.pool=new rs(i.context,30,o.sourceCache.tileSize*o.qualityFactor)}destruct(){this.pool.destruct()}getTexture(i){return this.pool.getObjectForId(i.rtt[this._stacks.length-1].id).texture}prepareForRender(i,o){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=i._order.filter(f=>!i._layers[f].isHidden(o)),this._coordsAscending={};for(const f in i.sourceCaches){this._coordsAscending[f]={};const p=i.sourceCaches[f].getVisibleCoordinates(),b=i.sourceCaches[f].getSource(),B=b instanceof Hr?b.terrainTileRanges:null;for(const E of p){const T=this.terrain.sourceCache.getTerrainCoords(E,B);for(const Y in T)this._coordsAscending[f][Y]||(this._coordsAscending[f][Y]=[]),this._coordsAscending[f][Y].push(T[Y])}}this._coordsAscendingStr={};for(const f of i._order){const p=i._layers[f],b=p.source;if(_l[p.type]&&!this._coordsAscendingStr[b]){this._coordsAscendingStr[b]={};for(const B in this._coordsAscending[b])this._coordsAscendingStr[b][B]=this._coordsAscending[b][B].map(E=>E.key).sort().join()}}for(const f of this._renderableTiles)for(const p in this._coordsAscendingStr){const b=this._coordsAscendingStr[p][f.tileID.key];b&&b!==f.rttCoords[p]&&(f.rtt=[])}}renderLayer(i,o){if(i.isHidden(this.painter.transform.zoom))return!1;const f=Object.assign(Object.assign({},o),{isRenderingToTexture:!0}),p=i.type,b=this.painter,B=this._renderableLayerIds[this._renderableLayerIds.length-1]===i.id;if(_l[p]&&(this._prevType&&_l[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(i.id),!B))return!0;if(_l[this._prevType]||_l[p]&&B){this._prevType=p;const E=this._stacks.length-1,T=this._stacks[E]||[];for(const Y of this._renderableTiles){if(this.pool.isFull()&&(kh(this.painter,this.terrain,this._rttTiles,f),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(Y),Y.rtt[E]){const O=this.pool.getObjectForId(Y.rtt[E].id);if(O.stamp===Y.rtt[E].stamp){this.pool.useObject(O);continue}}const Q=this.pool.getOrCreateFreeObject();this.pool.useObject(Q),this.pool.stampObject(Q),Y.rtt[E]={id:Q.id,stamp:Q.stamp},b.context.bindFramebuffer.set(Q.fbo.framebuffer),b.context.clear({color:s.b7.transparent,stencil:0}),b.currentStencilSource=void 0;for(let O=0;O<T.length;O++){const H=b.style._layers[T[O]],ee=H.source?this._coordsAscending[H.source][Y.tileID.key]:[Y.tileID];b.context.viewport.set([0,0,Q.fbo.width,Q.fbo.height]),b._renderTileClippingMasks(H,ee,!0),b.renderLayer(b,b.style.sourceCaches[H.source],H,ee,f),H.source&&(Y.rttCoords[H.source]=this._coordsAscendingStr[H.source][Y.tileID.key])}}return kh(this.painter,this.terrain,this._rttTiles,f),this._rttTiles=[],this.pool.freeAllObjects(),_l[p]}return!1}}const Qi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},ji=v,qh={hash:!1,interactive:!0,bearingSnap:7,attributionControl:cr,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:s.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},IA={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Oc{constructor(i,o,f=!1){this.mousedown=b=>{this.startMove(b,C.mousePos(this.element,b)),C.addEventListener(window,"mousemove",this.mousemove),C.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=b=>{this.move(b,C.mousePos(this.element,b))},this.mouseup=b=>{this._rotatePitchHanlder.dragEnd(b),this.offTemp()},this.touchstart=b=>{b.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=C.touchPos(this.element,b.targetTouches)[0],this.startMove(b,this._startPos),C.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.addEventListener(window,"touchend",this.touchend))},this.touchmove=b=>{b.targetTouches.length!==1?this.reset():(this._lastPos=C.touchPos(this.element,b.targetTouches)[0],this.move(b,this._lastPos))},this.touchend=b=>{b.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=o;const p=new Hh;this._rotatePitchHanlder=new ys({clickTolerance:3,move:(b,B)=>{const E=o.getBoundingClientRect(),T=new s.P((E.bottom-E.top)/2,(E.right-E.left)/2);return{bearingDelta:s.cc(new s.P(b.x,B.y),B,T),pitchDelta:f?-.5*(B.y-b.y):void 0}},moveStateManager:p,enable:!0,assignEvents:()=>{}}),this.map=i,C.addEventListener(o,"mousedown",this.mousedown),C.addEventListener(o,"touchstart",this.touchstart,{passive:!1}),C.addEventListener(o,"touchcancel",this.reset)}startMove(i,o){this._rotatePitchHanlder.dragStart(i,o),C.disableDrag()}move(i,o){const f=this.map,{bearingDelta:p,pitchDelta:b}=this._rotatePitchHanlder.dragMove(i,o)||{};p&&f.setBearing(f.getBearing()+p),b&&f.setPitch(f.getPitch()+b)}off(){const i=this.element;C.removeEventListener(i,"mousedown",this.mousedown),C.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),C.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.removeEventListener(window,"touchend",this.touchend),C.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){C.enableDrag(),C.removeEventListener(window,"mousemove",this.mousemove),C.removeEventListener(window,"mouseup",this.mouseup),C.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.removeEventListener(window,"touchend",this.touchend)}}let xs;function Hc(_,i,o,f=!1){if(f||!o.getCoveringTilesDetailsProvider().allowWorldCopies())return _==null?void 0:_.wrap();const p=new s.Q(_.lng,_.lat);if(_=new s.Q(_.lng,_.lat),i){const b=new s.Q(_.lng-360,_.lat),B=new s.Q(_.lng+360,_.lat),E=o.locationToScreenPoint(_).distSqr(i);o.locationToScreenPoint(b).distSqr(i)<E?_=b:o.locationToScreenPoint(B).distSqr(i)<E&&(_=B)}for(;Math.abs(_.lng-o.center.lng)>180;){const b=o.locationToScreenPoint(_);if(b.x>=0&&b.y>=0&&b.x<=o.width&&b.y<=o.height)break;_.lng>o.center.lng?_.lng-=360:_.lng+=360}return _.lng!==p.lng&&o.isPointOnMapSurface(o.locationToScreenPoint(_))?_:p}const UA={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function bl(_,i,o){const f=_.classList;for(const p in UA)f.remove(`maplibregl-${o}-anchor-${p}`);f.add(`maplibregl-${o}-anchor-${i}`)}class EA extends s.E{constructor(i){if(super(),this._onKeyPress=o=>{const f=o.code,p=o.charCode||o.keyCode;f!=="Space"&&f!=="Enter"&&p!==32&&p!==13||this.togglePopup()},this._onMapClick=o=>{const f=o.originalEvent.target,p=this._element;this._popup&&(f===p||p.contains(f))&&this.togglePopup()},this._update=o=>{if(!this._map)return;const f=this._map.loaded()&&!this._map.isMoving();((o==null?void 0:o.type)==="terrain"||(o==null?void 0:o.type)==="render"&&!f)&&this._map.once("render",this._update),this._lngLat=Hc(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let p="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?p=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(p=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let b="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?b="rotateX(0deg)":this._pitchAlignment==="map"&&(b=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||o&&o.type!=="moveend"||(this._pos=this._pos.round()),C.setTransform(this._element,`${UA[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${b} ${p}`),U.frameAsync(new AbortController).then(()=>{this._updateOpacity(o&&o.type==="moveend")}).catch(()=>{})},this._onMove=o=>{if(!this._isDragging){const f=this._clickTolerance||this._map._clickTolerance;this._isDragging=o.point.dist(this._pointerdownPos)>=f}this._isDragging&&(this._pos=o.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.l("dragstart"))),this.fire(new s.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.l("dragend")),this._state="inactive"},this._addDragHandler=o=>{this._element.contains(o.originalEvent.target)&&(o.preventDefault(),this._positionDelta=o.point.sub(this._pos).add(this._offset),this._pointerdownPos=o.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._subpixelPositioning=i&&i.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&i.pitchAlignment!=="auto"?i.pitchAlignment:this._rotationAlignment,this.setOpacity(i==null?void 0:i.opacity,i==null?void 0:i.opacityWhenCovered),i&&i.element)this._element=i.element,this._offset=s.P.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=C.create("div");const o=C.createNS("http://www.w3.org/2000/svg","svg"),f=41,p=27;o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height",`${f}px`),o.setAttributeNS(null,"width",`${p}px`),o.setAttributeNS(null,"viewBox",`0 0 ${p} ${f}`);const b=C.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"stroke","none"),b.setAttributeNS(null,"stroke-width","1"),b.setAttributeNS(null,"fill","none"),b.setAttributeNS(null,"fill-rule","evenodd");const B=C.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"fill-rule","nonzero");const E=C.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"transform","translate(3.0, 29.0)"),E.setAttributeNS(null,"fill","#000000");const T=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const be of T){const Be=C.createNS("http://www.w3.org/2000/svg","ellipse");Be.setAttributeNS(null,"opacity","0.04"),Be.setAttributeNS(null,"cx","10.5"),Be.setAttributeNS(null,"cy","5.80029008"),Be.setAttributeNS(null,"rx",be.rx),Be.setAttributeNS(null,"ry",be.ry),E.appendChild(Be)}const Y=C.createNS("http://www.w3.org/2000/svg","g");Y.setAttributeNS(null,"fill",this._color);const Q=C.createNS("http://www.w3.org/2000/svg","path");Q.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Y.appendChild(Q);const O=C.createNS("http://www.w3.org/2000/svg","g");O.setAttributeNS(null,"opacity","0.25"),O.setAttributeNS(null,"fill","#000000");const H=C.createNS("http://www.w3.org/2000/svg","path");H.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),O.appendChild(H);const ee=C.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ee.setAttributeNS(null,"fill","#FFFFFF");const ie=C.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"transform","translate(8.0, 8.0)");const me=C.createNS("http://www.w3.org/2000/svg","circle");me.setAttributeNS(null,"fill","#000000"),me.setAttributeNS(null,"opacity","0.25"),me.setAttributeNS(null,"cx","5.5"),me.setAttributeNS(null,"cy","5.5"),me.setAttributeNS(null,"r","5.4999962");const pe=C.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#FFFFFF"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962"),ie.appendChild(me),ie.appendChild(pe),B.appendChild(E),B.appendChild(Y),B.appendChild(O),B.appendChild(ee),B.appendChild(ie),o.appendChild(B),o.setAttributeNS(null,"height",f*this._scale+"px"),o.setAttributeNS(null,"width",p*this._scale+"px"),this._element.appendChild(o),this._offset=s.P.convert(i&&i.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",o=>{o.preventDefault()}),this._element.addEventListener("mousedown",o=>{o.preventDefault()}),bl(this._element,this._anchor,"marker"),i&&i.className)for(const o of i.className.split(" "))this._element.classList.add(o);this._popup=null}addTo(i){return this.remove(),this._map=i,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",i._getUIString("Marker.Title")),i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),i.on("terrain",this._update),i.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),C.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=s.Q.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const p=Math.abs(13.5)/Math.SQRT2;i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[p,-1*(38.1-13.5+p)],"bottom-right":[-p,-1*(38.1-13.5+p)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=i,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(i){return this._subpixelPositioning=i,this}getPopup(){return this._popup}togglePopup(){const i=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:i?(i.isOpen()?i.remove():(i.setLngLat(this._lngLat),i.addTo(this._map)),this):this}_updateOpacity(i=!1){var o,f;if(!(!((o=this._map)===null||o===void 0)&&o.terrain)){const O=this._map.transform.isLocationOccluded(this._lngLat)?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==O&&(this._element.style.opacity=O))}if(i)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const p=this._map,b=p.terrain.depthAtPoint(this._pos),B=p.terrain.getElevationForLngLatZoom(this._lngLat,p.transform.tileZoom);if(p.transform.lngLatToCameraDepth(this._lngLat,B)-b<.006)return void(this._element.style.opacity=this._opacity);const E=-this._offset.y/p.transform.pixelsPerMeter,T=Math.sin(p.getPitch()*Math.PI/180)*E,Y=p.terrain.depthAtPoint(new s.P(this._pos.x,this._pos.y-this._offset.y)),Q=p.transform.lngLatToCameraDepth(this._lngLat,B+T)-Y>.006;!((f=this._popup)===null||f===void 0)&&f.isOpen()&&Q&&this._popup.remove(),this._element.style.opacity=Q?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(i){return this._offset=s.P.convert(i),this._update(),this}addClassName(i){this._element.classList.add(i)}removeClassName(i){this._element.classList.remove(i)}toggleClassName(i){return this._element.classList.toggle(i)}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&i!=="auto"?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(i,o){return(this._opacity===void 0||i===void 0&&o===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),i!==void 0&&(this._opacity=i),o!==void 0&&(this._opacityWhenCovered=o),this._map&&this._updateOpacity(!0),this}}const Wh={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let yl=0,Io=!1;const Jh={maxWidth:100,unit:"metric"};function Xc(_,i,o){const f=o&&o.maxWidth||100,p=_._container.clientHeight/2,b=_._container.clientWidth/2,B=_.unproject([b-f/2,p]),E=_.unproject([b+f/2,p]),T=Math.round(_.project(E).x-_.project(B).x),Y=Math.min(f,T,_._container.clientWidth),Q=B.distanceTo(E);if(o&&o.unit==="imperial"){const O=3.2808*Q;O>5280?Uo(i,Y,O/5280,_._getUIString("ScaleControl.Miles")):Uo(i,Y,O,_._getUIString("ScaleControl.Feet"))}else o&&o.unit==="nautical"?Uo(i,Y,Q/1852,_._getUIString("ScaleControl.NauticalMiles")):Q>=1e3?Uo(i,Y,Q/1e3,_._getUIString("ScaleControl.Kilometers")):Uo(i,Y,Q,_._getUIString("ScaleControl.Meters"))}function Uo(_,i,o,f){const p=function(b){const B=Math.pow(10,`${Math.floor(b)}`.length-1);let E=b/B;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:E>=1?1:function(T){const Y=Math.pow(10,Math.ceil(-Math.log(T)/Math.LN10));return Math.round(T*Y)/Y}(E),B*E}(o);_.style.width=i*(p/o)+"px",_.innerHTML=`${p}&nbsp;${f}`}const ed={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Vc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Gc(_){if(_){if(typeof _=="number"){const i=Math.round(Math.abs(_)/Math.SQRT2);return{center:new s.P(0,0),top:new s.P(0,_),"top-left":new s.P(i,i),"top-right":new s.P(-i,i),bottom:new s.P(0,-_),"bottom-left":new s.P(i,-i),"bottom-right":new s.P(-i,-i),left:new s.P(_,0),right:new s.P(-_,0)}}if(_ instanceof s.P||Array.isArray(_)){const i=s.P.convert(_);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:s.P.convert(_.center||[0,0]),top:s.P.convert(_.top||[0,0]),"top-left":s.P.convert(_["top-left"]||[0,0]),"top-right":s.P.convert(_["top-right"]||[0,0]),bottom:s.P.convert(_.bottom||[0,0]),"bottom-left":s.P.convert(_["bottom-left"]||[0,0]),"bottom-right":s.P.convert(_["bottom-right"]||[0,0]),left:s.P.convert(_.left||[0,0]),right:s.P.convert(_.right||[0,0])}}return Gc(new s.P(0,0))}const td=v;u.AJAXError=s.co,u.Event=s.l,u.Evented=s.E,u.LngLat=s.Q,u.MercatorCoordinate=s.$,u.Point=s.P,u.addProtocol=s.cp,u.config=s.a,u.removeProtocol=s.cq,u.AttributionControl=yr,u.BoxZoomHandler=Cf,u.CanvasSource=Yr,u.CooperativeGesturesHandler=Gh,u.DoubleClickZoomHandler=Sf,u.DragPanHandler=_i,u.DragRotateHandler=BA,u.EdgeInsets=iA,u.FullscreenControl=class extends s.E{constructor(_={}){super(),this._onFullscreenChange=()=>{var i;let o=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((i=o==null?void 0:o.shadowRoot)===null||i===void 0)&&i.fullscreenElement;)o=o.shadowRoot.fullscreenElement;o===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:s.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){C.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const _=this._fullscreenButton=C.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);C.create("span","maplibregl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new s.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new s.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},u.GeoJSONSource=Br,u.GeolocateControl=class extends s.E{constructor(_){super(),this._onSuccess=i=>{if(this._map){if(this._isOutOfMapMaxBounds(i))return this._setErrorState(),this.fire(new s.l("outofmaxbounds",i)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=i,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(i),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(i),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new s.l("geolocate",i)),this._finish()}},this._updateCamera=i=>{const o=new s.Q(i.coords.longitude,i.coords.latitude),f=i.coords.accuracy,p=this._map.getBearing(),b=s.e({bearing:p},this.options.fitBoundsOptions),B=St.fromLngLat(o,f);this._map.fitBounds(B,b,{geolocateSource:!0})},this._updateMarker=i=>{if(i){const o=new s.Q(i.coords.longitude,i.coords.latitude);this._accuracyCircleMarker.setLngLat(o).addTo(this._map),this._userLocationDotMarker.setLngLat(o).addTo(this._map),this._accuracy=i.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=i=>{if(this._map){if(this.options.trackUserLocation)if(i.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const o=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(i.code===3&&Io)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new s.l("error",i)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",i=>i.preventDefault()),this._geolocateButton=C.create("button","maplibregl-ctrl-geolocate",this._container),C.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=i=>{if(this._map){if(i===!1){s.w("Geolocation support is not available so the GeolocateControl will be disabled.");const o=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}else{const o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=C.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new EA({element:this._dotElement}),this._circleElement=C.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new EA({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",o=>{o.geolocateSource||this._watchState!=="ACTIVE_LOCK"||o.originalEvent&&o.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new s.l("trackuserlocationend")),this.fire(new s.l("userlocationlostfocus")))})}},this.options=s.e({},Wh,_)}onAdd(_){return this._map=_,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return s._(this,arguments,void 0,function*(i=!1){if(xs!==void 0&&!i)return xs;if(window.navigator.permissions===void 0)return xs=!!window.navigator.geolocation,xs;try{xs=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{xs=!!window.navigator.geolocation}return xs})}().then(i=>this._finishSetupUI(i)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),C.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,yl=0,Io=!1}_isOutOfMapMaxBounds(_){const i=this._map.getMaxBounds(),o=_.coords;return i&&(o.longitude<i.getWest()||o.longitude>i.getEast()||o.latitude<i.getSouth()||o.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const _=this._map.getBounds(),i=_.getSouthEast(),o=_.getNorthEast(),f=i.distanceTo(o),p=Math.ceil(this._accuracy/(f/this._map._container.clientHeight)*2);this._circleElement.style.width=`${p}px`,this._circleElement.style.height=`${p}px`}trigger(){if(!this._setup)return s.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":yl--,Io=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new s.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.l("trackuserlocationstart")),this.fire(new s.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),yl++,yl>1?(_={maximumAge:6e5,timeout:0},Io=!0):(_=this.options.positionOptions,Io=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},u.GlobeControl=class{constructor(){this._toggleProjection=()=>{var _;const i=(_=this._map.getProjection())===null||_===void 0?void 0:_.type;this._map.setProjection(i!=="mercator"&&i?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var _;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((_=this._map.getProjection())===null||_===void 0?void 0:_.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(_){return this._map=_,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=C.create("button","maplibregl-ctrl-globe",this._container),C.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){C.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},u.Hash=zh,u.ImageSource=Hr,u.KeyboardHandler=Dc,u.LngLatBounds=St,u.LogoControl=MA,u.Map=class extends Zc{constructor(_){var i,o;s.cl.mark(s.cm.create);const f=Object.assign(Object.assign(Object.assign({},qh),_),{canvasContextAttributes:Object.assign(Object.assign({},qh.canvasContextAttributes),_.canvasContextAttributes)});if(f.minZoom!=null&&f.maxZoom!=null&&f.minZoom>f.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(f.minPitch!=null&&f.maxPitch!=null&&f.minPitch>f.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(f.minPitch!=null&&f.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(f.maxPitch!=null&&f.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const p=new qn,b=new sA;if(f.minZoom!==void 0&&p.setMinZoom(f.minZoom),f.maxZoom!==void 0&&p.setMaxZoom(f.maxZoom),f.minPitch!==void 0&&p.setMinPitch(f.minPitch),f.maxPitch!==void 0&&p.setMaxPitch(f.maxPitch),f.renderWorldCopies!==void 0&&p.setRenderWorldCopies(f.renderWorldCopies),super(p,b,{bearingSnap:f.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Kh,this._controls=[],this._mapId=s.a4(),this._contextLost=E=>{E.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new s.l("webglcontextlost",{originalEvent:E}))},this._contextRestored=E=>{this._setupPainter(),this.resize(),this._update(),this.fire(new s.l("webglcontextrestored",{originalEvent:E}))},this._onMapScroll=E=>{if(E.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=f.interactive,this._maxTileCacheSize=f.maxTileCacheSize,this._maxTileCacheZoomLevels=f.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},f.canvasContextAttributes),this._trackResize=f.trackResize===!0,this._bearingSnap=f.bearingSnap,this._centerClampedToGround=f.centerClampedToGround,this._refreshExpiredTiles=f.refreshExpiredTiles===!0,this._fadeDuration=f.fadeDuration,this._crossSourceCollisions=f.crossSourceCollisions===!0,this._collectResourceTiming=f.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},Qi),f.locale),this._clickTolerance=f.clickTolerance,this._overridePixelRatio=f.pixelRatio,this._maxCanvasSize=f.maxCanvasSize,this.transformCameraUpdate=f.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=f.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=re.addThrottleControl(()=>this.isMoving()),this._requestManager=new Ae(f.transformRequest),typeof f.container=="string"){if(this._container=document.getElementById(f.container),!this._container)throw new Error(`Container '${f.container}' not found.`)}else{if(!(f.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=f.container}if(f.maxBounds&&this.setMaxBounds(f.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let E=!1;const T=Dh(Y=>{this._trackResize&&!this._removed&&(this.resize(Y),this.redraw())},50);this._resizeObserver=new ResizeObserver(Y=>{E?T(Y):E=!0}),this._resizeObserver.observe(this._container)}this.handlers=new ts(this,f),this._hash=f.hash&&new zh(typeof f.hash=="string"&&f.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:f.center,elevation:f.elevation,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch,roll:f.roll}),f.bounds&&(this.resize(),this.fitBounds(f.bounds,s.e({},f.fitBoundsOptions,{duration:0}))));const B=typeof f.style=="string"||((o=(i=f.style)===null||i===void 0?void 0:i.projection)===null||o===void 0?void 0:o.type)!=="globe";this.resize(null,B),this._localIdeographFontFamily=f.localIdeographFontFamily,this._validateStyle=f.validateStyle,f.style&&this.setStyle(f.style,{localIdeographFontFamily:f.localIdeographFontFamily}),f.attributionControl&&this.addControl(new yr(typeof f.attributionControl=="boolean"?void 0:f.attributionControl)),f.maplibreLogo&&this.addControl(new MA,f.logoPosition),this.on("style.load",()=>{if(B||this._resizeTransform(),this.transform.unmodified){const E=s.O(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(E)}}),this.on("data",E=>{this._update(E.dataType==="style"),this.fire(new s.l(`${E.dataType}data`,E))}),this.on("dataloading",E=>{this.fire(new s.l(`${E.dataType}dataloading`,E))}),this.on("dataabort",E=>{this.fire(new s.l("sourcedataabort",E))})}_getMapId(){return this._mapId}addControl(_,i){if(i===void 0&&(i=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new s.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const o=_.onAdd(this);this._controls.push(_);const f=this._controlPositions[i];return i.indexOf("bottom")!==-1?f.insertBefore(o,f.firstChild):f.appendChild(o),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new s.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(_);return i>-1&&this._controls.splice(i,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}calculateCameraOptionsFromTo(_,i,o,f){return f==null&&this.terrain&&(f=this.terrain.getElevationForLngLatZoom(o,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(_,i,o,f)}resize(_,i=!0){const[o,f]=this._containerDimensions(),p=this._getClampedPixelRatio(o,f);if(this._resizeCanvas(o,f,p),this.painter.resize(o,f,p),this.painter.overLimit()){const B=this.painter.context.gl;this._maxCanvasSize=[B.drawingBufferWidth,B.drawingBufferHeight];const E=this._getClampedPixelRatio(o,f);this._resizeCanvas(o,f,E),this.painter.resize(o,f,E)}this._resizeTransform(i);const b=!this._moving;return b&&(this.stop(),this.fire(new s.l("movestart",_)).fire(new s.l("move",_))),this.fire(new s.l("resize",_)),b&&this.fire(new s.l("moveend",_)),this}_resizeTransform(_=!0){var i;const[o,f]=this._containerDimensions();this.transform.resize(o,f,_),(i=this._requestedCameraState)===null||i===void 0||i.resize(o,f,_)}_getClampedPixelRatio(_,i){const{0:o,1:f}=this._maxCanvasSize,p=this.getPixelRatio(),b=_*p,B=i*p;return Math.min(b>o?o/b:1,B>f?f/B:1)*p}getPixelRatio(){var _;return(_=this._overridePixelRatio)!==null&&_!==void 0?_:devicePixelRatio}setPixelRatio(_){this._overridePixelRatio=_,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(St.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.setMinZoom(_),this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.setMaxZoom(_),this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.setMinPitch(_),this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(_>=this.transform.minPitch)return this.transform.setMaxPitch(_),this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.setRenderWorldCopies(_),this._update()}project(_){return this.transform.locationToScreenPoint(s.Q.convert(_),this.style&&this.terrain)}unproject(_){return this.transform.screenPointToLocation(s.P.convert(_),this.terrain)}isMoving(){var _;return this._moving||((_=this.handlers)===null||_===void 0?void 0:_.isMoving())}isZooming(){var _;return this._zooming||((_=this.handlers)===null||_===void 0?void 0:_.isZooming())}isRotating(){var _;return this._rotating||((_=this.handlers)===null||_===void 0?void 0:_.isRotating())}_createDelegatedListener(_,i,o){if(_==="mouseenter"||_==="mouseover"){let f=!1;return{layers:i,listener:o,delegates:{mousemove:b=>{const B=i.filter(T=>this.getLayer(T)),E=B.length!==0?this.queryRenderedFeatures(b.point,{layers:B}):[];E.length?f||(f=!0,o.call(this,new ja(_,this,b.originalEvent,{features:E}))):f=!1},mouseout:()=>{f=!1}}}}if(_==="mouseleave"||_==="mouseout"){let f=!1;return{layers:i,listener:o,delegates:{mousemove:B=>{const E=i.filter(T=>this.getLayer(T));(E.length!==0?this.queryRenderedFeatures(B.point,{layers:E}):[]).length?f=!0:f&&(f=!1,o.call(this,new ja(_,this,B.originalEvent)))},mouseout:B=>{f&&(f=!1,o.call(this,new ja(_,this,B.originalEvent)))}}}}{const f=p=>{const b=i.filter(E=>this.getLayer(E)),B=b.length!==0?this.queryRenderedFeatures(p.point,{layers:b}):[];B.length&&(p.features=B,o.call(this,p),delete p.features)};return{layers:i,listener:o,delegates:{[_]:f}}}}_saveDelegatedListener(_,i){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(i)}_removeDelegatedListener(_,i,o){if(!this._delegatedListeners||!this._delegatedListeners[_])return;const f=this._delegatedListeners[_];for(let p=0;p<f.length;p++){const b=f[p];if(b.listener===o&&b.layers.length===i.length&&b.layers.every(B=>i.includes(B))){for(const B in b.delegates)this.off(B,b.delegates[B]);return void f.splice(p,1)}}}on(_,i,o){if(o===void 0)return super.on(_,i);const f=typeof i=="string"?[i]:i,p=this._createDelegatedListener(_,f,o);this._saveDelegatedListener(_,p);for(const b in p.delegates)this.on(b,p.delegates[b]);return{unsubscribe:()=>{this._removeDelegatedListener(_,f,o)}}}once(_,i,o){if(o===void 0)return super.once(_,i);const f=typeof i=="string"?[i]:i,p=this._createDelegatedListener(_,f,o);for(const b in p.delegates){const B=p.delegates[b];p.delegates[b]=(...E)=>{this._removeDelegatedListener(_,f,o),B(...E)}}this._saveDelegatedListener(_,p);for(const b in p.delegates)this.once(b,p.delegates[b]);return this}off(_,i,o){return o===void 0?super.off(_,i):(this._removeDelegatedListener(_,typeof i=="string"?[i]:i,o),this)}queryRenderedFeatures(_,i){if(!this.style)return[];let o;const f=_ instanceof s.P||Array.isArray(_),p=f?_:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(f?{}:_)||{},p instanceof s.P||typeof p[0]=="number")o=[s.P.convert(p)];else{const b=s.P.convert(p[0]),B=s.P.convert(p[1]);o=[b,new s.P(B.x,b.y),B,new s.P(b.x,B.y),b]}return this.style.queryRenderedFeatures(o,i,this.transform)}querySourceFeatures(_,i){return this.style.querySourceFeatures(_,i)}setStyle(_,i){return(i=s.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff!==!1&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(_,i))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){const i=this._locale[_];if(i==null)throw new Error(`Missing UI string '${_}'`);return i}_updateStyle(_,i){var o,f;if(i.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(_,i));const p=this.style&&i.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!_)),_?(this.style=new hA(this,i||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_,i,p):this.style.loadJSON(_,i,p),this):((f=(o=this.style)===null||o===void 0?void 0:o.projection)===null||f===void 0||f.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new hA(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,i){if(typeof _=="string"){const o=this._requestManager.transformRequest(_,"Style");s.j(o,new AbortController).then(f=>{this._updateDiff(f.data,i)}).catch(f=>{f&&this.fire(new s.k(f))})}else typeof _=="object"&&this._updateDiff(_,i)}_updateDiff(_,i){try{this.style.setState(_,i)&&this._update(!0)}catch(o){s.w(`Unable to perform style diff: ${o.message||o.error||o}.  Rebuilding the style from scratch.`),this._updateStyle(_,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():s.w("There is no style added to the map.")}addSource(_,i){return this._lazyInitEmptyStyle(),this.style.addSource(_,i),this._update(!0)}isSourceLoaded(_){const i=this.style&&this.style.sourceCaches[_];if(i!==void 0)return i.loaded();this.fire(new s.k(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),_){const i=this.style.sourceCaches[_.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${_.source}`);this.terrain===null&&i.reload();for(const o in this.style._layers){const f=this.style._layers[o];f.type==="hillshade"&&f.source===_.source&&s.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Yf(this.painter,i,_),this.painter.renderToTexture=new RA(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=o=>{var f;o.dataType==="style"?this.terrain.sourceCache.freeRtt():o.dataType==="source"&&o.tile&&(o.sourceId!==_.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((f=o.source)===null||f===void 0?void 0:f.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(o.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new s.l("terrain",{terrain:_})),this}getTerrain(){var _,i;return(i=(_=this.terrain)===null||_===void 0?void 0:_.options)!==null&&i!==void 0?i:null}areTilesLoaded(){const _=this.style&&this.style.sourceCaches;for(const i in _){const o=_[i]._tiles;for(const f in o){const p=o[f];if(p.state!=="loaded"&&p.state!=="errored")return!1}}return!0}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}setSourceTileLodParams(_,i,o){if(o){const f=this.getSource(o);if(!f)throw new Error(`There is no source with ID "${o}", cannot set LOD parameters`);f.calculateTileZoom=ce(Math.max(1,_),Math.max(1,i))}else for(const f in this.style.sourceCaches)this.style.sourceCaches[f].getSource().calculateTileZoom=ce(Math.max(1,_),Math.max(1,i));return this._update(!0),this}addImage(_,i,o={}){const{pixelRatio:f=1,sdf:p=!1,stretchX:b,stretchY:B,content:E,textFitWidth:T,textFitHeight:Y}=o;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||s.b(i))){if(i.width===void 0||i.height===void 0)return this.fire(new s.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:Q,height:O,data:H}=i,ee=i;return this.style.addImage(_,{data:new s.R({width:Q,height:O},new Uint8Array(H)),pixelRatio:f,stretchX:b,stretchY:B,content:E,textFitWidth:T,textFitHeight:Y,sdf:p,version:0,userImage:ee}),ee.onAdd&&ee.onAdd(this,_),this}}{const{width:Q,height:O,data:H}=U.getImageData(i);this.style.addImage(_,{data:new s.R({width:Q,height:O},H),pixelRatio:f,stretchX:b,stretchY:B,content:E,textFitWidth:T,textFitHeight:Y,sdf:p,version:0})}}updateImage(_,i){const o=this.style.getImage(_);if(!o)return this.fire(new s.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const f=i instanceof HTMLImageElement||s.b(i)?U.getImageData(i):i,{width:p,height:b,data:B}=f;if(p===void 0||b===void 0)return this.fire(new s.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(p!==o.data.width||b!==o.data.height)return this.fire(new s.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const E=!(i instanceof HTMLImageElement||s.b(i));return o.data.replace(B,E),this.style.updateImage(_,o),this}getImage(_){return this.style.getImage(_)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new s.k(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_){return re.getImage(this._requestManager.transformRequest(_,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(_,i){return this._lazyInitEmptyStyle(),this.style.addLayer(_,i),this._update(!0)}moveLayer(_,i){return this.style.moveLayer(_,i),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(_,i,o){return this.style.setLayerZoomRange(_,i,o),this._update(!0)}setFilter(_,i,o={}){return this.style.setFilter(_,i,o),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,i,o,f={}){return this.style.setPaintProperty(_,i,o,f),this._update(!0)}getPaintProperty(_,i){return this.style.getPaintProperty(_,i)}setLayoutProperty(_,i,o,f={}){return this.style.setLayoutProperty(_,i,o,f),this._update(!0)}getLayoutProperty(_,i){return this.style.getLayoutProperty(_,i)}setGlyphs(_,i={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(_,i),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(_,i,o={}){return this._lazyInitEmptyStyle(),this.style.addSprite(_,i,o,f=>{f||this._update(!0)}),this}removeSprite(_){return this._lazyInitEmptyStyle(),this.style.removeSprite(_),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(_,i={}){return this._lazyInitEmptyStyle(),this.style.setSprite(_,i,o=>{o||this._update(!0)}),this}setLight(_,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,i),this._update(!0)}getLight(){return this.style.getLight()}setSky(_,i={}){return this._lazyInitEmptyStyle(),this.style.setSky(_,i),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(_,i){return this.style.setFeatureState(_,i),this._update()}removeFeatureState(_,i){return this.style.removeFeatureState(_,i),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,i=0;return this._container&&(_=this._container.clientWidth||400,i=this._container.clientHeight||300),[_,i]}_setupContainer(){const _=this._container;_.classList.add("maplibregl-map");const i=this._canvasContainer=C.create("div","maplibregl-canvas-container",_);this._interactive&&i.classList.add("maplibregl-interactive"),this._canvas=C.create("canvas","maplibregl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const o=this._containerDimensions(),f=this._getClampedPixelRatio(o[0],o[1]);this._resizeCanvas(o[0],o[1],f);const p=this._controlContainer=C.create("div","maplibregl-control-container",_),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(B=>{b[B]=C.create("div",`maplibregl-ctrl-${B} `,p)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,i,o){this._canvas.width=Math.floor(o*_),this._canvas.height=Math.floor(o*i),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const _=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let i=null;this._canvas.addEventListener("webglcontextcreationerror",f=>{i={requestedAttributes:_},f&&(i.statusMessage=f.statusMessage,i.type=f.type)},{once:!0});let o=null;if(o=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,_):this._canvas.getContext("webgl2",_)||this._canvas.getContext("webgl",_),!o){const f="Failed to initialize WebGL";throw i?(i.message=f,new Error(JSON.stringify(i))):new Error(f)}this.painter=new mf(o,this.transform),S.testSupport(o)}migrateProjection(_,i){super.migrateProjection(_,i),this.painter.transform=_,this.fire(new s.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){var i,o,f,p,b;const B=this._idleTriggered?this._fadeDuration:0,E=((i=this.style.projection)===null||i===void 0?void 0:i.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let T=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const O=this.transform.zoom,H=U.now();this.style.zoomHistory.update(O,H);const ee=new s.C(O,{now:H,fadeDuration:B,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ie=ee.crossFadingFactor();ie===1&&ie===this._crossFadingFactor||(T=!0,this._crossFadingFactor=ie),this.style.update(ee)}const Y=((o=this.style.projection)===null||o===void 0?void 0:o.transitionState)>0!==E;(f=this.style.projection)===null||f===void 0||f.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((p=this.style.projection)===null||p===void 0?void 0:p.transitionState,(b=this.style.projection)===null||b===void 0?void 0:b.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||Y)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,B,this._crossSourceCollisions,Y),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:B,showPadding:this.showPadding}),this.fire(new s.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.cl.mark(s.cm.load),this.fire(new s.l("load"))),this.style&&(this.style.hasTransitions()||T)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const Q=this._sourcesDirty||this._styleDirty||this._placementDirty;return Q||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.l("idle")),!this._loaded||this._fullyLoaded||Q||(this._fullyLoaded=!0,s.cl.mark(s.cm.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var _;this._hash&&this._hash.remove();for(const o of this._controls)o.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),re.removeThrottleControl(this._imageQueueHandle),(_=this._resizeObserver)===null||_===void 0||_.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i!=null&&i.loseContext&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),C.remove(this._canvasContainer),C.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),s.cl.clearMetrics(),this._removed=!0,this.fire(new s.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,U.frame(this._frameRequest,_=>{s.cl.frame(_),this._frameRequest=null;try{this._render(_)}catch(i){if(!s.cn(i)&&!function(o){return o.message===Rh}(i))throw i}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get version(){return ji}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(_){return this._lazyInitEmptyStyle(),this.style.setProjection(_),this._update(!0)}},u.MapMouseEvent=ja,u.MapTouchEvent=za,u.MapWheelEvent=Nn,u.Marker=EA,u.NavigationControl=class{constructor(_){this._updateZoomButtons=()=>{const i=this._map.getZoom(),o=i===this._map.getMaxZoom(),f=i===this._map.getMinZoom();this._zoomInButton.disabled=o,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",o.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(i,o)=>{const f=this._map._getUIString(`NavigationControl.${o}`);i.title=f,i.setAttribute("aria-label",f)},this.options=s.e({},IA,_),this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",i=>this._map.zoomIn({},{originalEvent:i})),C.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",i=>this._map.zoomOut({},{originalEvent:i})),C.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})}),this._compassIcon=C.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Oc(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){C.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,i){const o=C.create("button",_,this._container);return o.type="button",o.addEventListener("click",i),o}},u.Popup=class extends s.E{constructor(_){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:void 0)},this.remove=()=>(this._content&&C.remove(this._content),this._container&&(C.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new s.l("close"))),this),this._onMouseUp=i=>{this._update(i.point)},this._onMouseMove=i=>{this._update(i.point)},this._onDrag=i=>{this._update(i.point)},this._update=i=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=C.create("div","maplibregl-popup",this._map.getContainer()),this._tip=C.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const B of this.options.className.split(" "))this._container.classList.add(B);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Hc(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!i)return;const o=this._flatPos=this._pos=this._trackPointer&&i?i:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&i?i:this._map.transform.locationToScreenPoint(this._lngLat));let f=this.options.anchor;const p=Gc(this.options.offset);if(!f){const B=this._container.offsetWidth,E=this._container.offsetHeight;let T;T=o.y+p.bottom.y<E?["top"]:o.y>this._map.transform.height-E?["bottom"]:[],o.x<B/2?T.push("left"):o.x>this._map.transform.width-B/2&&T.push("right"),f=T.length===0?"bottom":T.join("-")}let b=o.add(p[f]);this.options.subpixelPositioning||(b=b.round()),C.setTransform(this._container,`${UA[f]} translate(${b.x}px,${b.y}px)`),bl(this._container,f,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=s.e(Object.create(ed),_)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new s.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=s.Q.convert(_),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const i=document.createDocumentFragment(),o=document.createElement("body");let f;for(o.innerHTML=_;f=o.firstChild,f;)i.appendChild(f);return this.setDOMContent(i)}getMaxWidth(){var _;return(_=this._container)===null||_===void 0?void 0:_.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=C.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){return this._container&&this._container.classList.add(_),this}removeClassName(_){return this._container&&this._container.classList.remove(_),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}setSubpixelPositioning(_){this.options.subpixelPositioning=_}_createCloseButton(){this.options.closeButton&&(this._closeButton=C.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(Vc);_&&_.focus()}},u.RasterDEMTileSource=jt,u.RasterTileSource=fr,u.ScaleControl=class{constructor(_){this._onMove=()=>{Xc(this._map,this._container,this.options)},this.setUnit=i=>{this.options.unit=i,Xc(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Jh),_)}getDefaultPosition(){return"bottom-left"}onAdd(_){return this._map=_,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){C.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},u.ScrollZoomHandler=Vh,u.Style=hA,u.TerrainControl=class{constructor(_){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=_}onAdd(_){return this._map=_,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=C.create("button","maplibregl-ctrl-terrain",this._container),C.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){C.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},u.TwoFingersTouchPitchHandler=Uf,u.TwoFingersTouchRotateHandler=Qc,u.TwoFingersTouchZoomHandler=kc,u.TwoFingersTouchZoomRotateHandler=zc,u.VectorTileSource=Jt,u.VideoSource=ei,u.addSourceType=(_,i)=>s._(void 0,void 0,void 0,function*(){if(Ar(_))throw new Error(`A source type called "${_}" already exists.`);((o,f)=>{wt[o]=f})(_,i)}),u.clearPrewarmedResources=function(){const _=$e;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(ct),$e=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},u.createTileMesh=uc,u.getMaxParallelImageRequests=function(){return s.a.MAX_PARALLEL_IMAGE_REQUESTS},u.getRTLTextPluginStatus=function(){return Ir().getRTLTextPluginStatus()},u.getVersion=function(){return td},u.getWorkerCount=function(){return mt.workerCount},u.getWorkerUrl=function(){return s.a.WORKER_URL},u.importScriptInWorkers=function(_){return lt().broadcast("IS",_)},u.prewarm=function(){xt().acquire(ct)},u.setMaxParallelImageRequests=function(_){s.a.MAX_PARALLEL_IMAGE_REQUESTS=_},u.setRTLTextPlugin=function(_,i){return Ir().setRTLTextPlugin(_,i)},u.setWorkerCount=function(_){mt.workerCount=_},u.setWorkerUrl=function(_){s.a.WORKER_URL=_}});var h=r;return h})})(k5);var fp=k5.exports;const Os=dp(fp),ZC=t=>t;function B4(t){const e=t-1;return e*e*e+1}function By(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function Rn(t,{delay:e=0,duration:r=400,easing:n=ZC}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:n,css:h=>`opacity: ${h*l}`}}function In(t,{delay:e=0,duration:r=400,easing:n=B4,x:l=0,y:h=0,opacity:u=0}={}){const s=getComputedStyle(t),v=+s.opacity,w=s.transform==="none"?"":s.transform,I=v*(1-u),[M,U]=By(l),[C,S]=By(h);return{delay:e,duration:r,easing:n,css:(k,z)=>`
			transform: ${w} translate(${(1-k)*M}${U}, ${(1-k)*C}${S});
			opacity: ${v-I*z}`}}function C4(t,{delay:e=0,duration:r=400,easing:n=B4,axis:l="y"}={}){const h=getComputedStyle(t),u=+h.opacity,s=l==="y"?"height":"width",v=parseFloat(h[s]),w=l==="y"?["top","bottom"]:["left","right"],I=w.map(Z=>`${Z[0].toUpperCase()}${Z.slice(1)}`),M=parseFloat(h[`padding${I[0]}`]),U=parseFloat(h[`padding${I[1]}`]),C=parseFloat(h[`margin${I[0]}`]),S=parseFloat(h[`margin${I[1]}`]),k=parseFloat(h[`border${I[0]}Width`]),z=parseFloat(h[`border${I[1]}Width`]);return{delay:e,duration:r,easing:n,css:Z=>`overflow: hidden;opacity: ${Math.min(Z*20,1)*u};${s}: ${Z*v}px;padding-${w[0]}: ${Z*M}px;padding-${w[1]}: ${Z*U}px;margin-${w[0]}: ${Z*C}px;margin-${w[1]}: ${Z*S}px;border-${w[0]}-width: ${Z*k}px;border-${w[1]}-width: ${Z*z}px;min-${s}: 0`}}function D5(t,{delay:e=0,duration:r=400,easing:n=B4,start:l=0,opacity:h=0}={}){const u=getComputedStyle(t),s=+u.opacity,v=u.transform==="none"?"":u.transform,w=1-l,I=s*(1-h);return{delay:e,duration:r,easing:n,css:(M,U)=>`
			transform: ${v} scale(${1-w*U});
			opacity: ${s-I*U}
		`}}const z5=/^[a-z0-9]+(-[a-z0-9]+)*$/,gp=(t,e,r,n="")=>{const l=t.split(":");if(t.slice(0,1)==="@"){if(l.length<2||l.length>3)return null;n=l.shift().slice(1)}if(l.length>3||!l.length)return null;if(l.length>1){const s=l.pop(),v=l.pop(),w={provider:l.length>0?l[0]:n,prefix:v,name:s};return e&&!ag(w)?null:w}const h=l[0],u=h.split("-");if(u.length>1){const s={provider:n,prefix:u.shift(),name:u.join("-")};return e&&!ag(s)?null:s}if(r&&n===""){const s={provider:n,prefix:"",name:h};return e&&!ag(s,r)?null:s}return null},ag=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,Z5=Object.freeze({left:0,top:0,width:16,height:16}),Sg=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),pp=Object.freeze({...Z5,...Sg}),_m=Object.freeze({...pp,body:"",hidden:!1});function OC(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function Cy(t,e){const r=OC(t,e);for(const n in _m)n in Sg?n in t&&!(n in r)&&(r[n]=Sg[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function HC(t,e){const r=t.icons,n=t.aliases||Object.create(null),l=Object.create(null);function h(u){if(r[u])return l[u]=[];if(!(u in l)){l[u]=null;const s=n[u]&&n[u].parent,v=s&&h(s);v&&(l[u]=[s].concat(v))}return l[u]}return Object.keys(r).concat(Object.keys(n)).forEach(h),l}function XC(t,e,r){const n=t.icons,l=t.aliases||Object.create(null);let h={};function u(s){h=Cy(n[s]||l[s],h)}return u(e),r.forEach(u),Cy(t,h)}function O5(t,e){const r=[];if(typeof t!="object"||typeof t.icons!="object")return r;t.not_found instanceof Array&&t.not_found.forEach(l=>{e(l,null),r.push(l)});const n=HC(t);for(const l in n){const h=n[l];h&&(e(l,XC(t,l,h)),r.push(l))}return r}const VC={provider:"",aliases:{},not_found:{},...Z5};function a3(t,e){for(const r in e)if(r in t&&typeof t[r]!=typeof e[r])return!1;return!0}function H5(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!a3(t,VC))return null;const r=e.icons;for(const l in r){const h=r[l];if(!l||typeof h.body!="string"||!a3(h,_m))return null}const n=e.aliases||Object.create(null);for(const l in n){const h=n[l],u=h.parent;if(!l||typeof u!="string"||!r[u]&&!n[u]||!a3(h,_m))return null}return e}const My=Object.create(null);function GC(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Zu(t,e){const r=My[t]||(My[t]=Object.create(null));return r[e]||(r[e]=GC(t,e))}function X5(t,e){return H5(e)?O5(e,(r,n)=>{n?t.icons[r]=n:t.missing.add(r)}):[]}function jC(t,e,r){try{if(typeof r.body=="string")return t.icons[e]={...r},!0}catch{}return!1}let B0=!1;function V5(t){return typeof t=="boolean"&&(B0=t),B0}function KC(t){const e=typeof t=="string"?gp(t,!0,B0):t;if(e){const r=Zu(e.provider,e.prefix),n=e.name;return r.icons[n]||(r.missing.has(n)?null:void 0)}}function $C(t,e){const r=gp(t,!0,B0);if(!r)return!1;const n=Zu(r.provider,r.prefix);return e?jC(n,r.name,e):(n.missing.add(r.name),!0)}function qC(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),B0&&!e&&!t.prefix){let l=!1;return H5(t)&&(t.prefix="",O5(t,(h,u)=>{$C(h,u)&&(l=!0)})),l}const r=t.prefix;if(!ag({prefix:r,name:"a"}))return!1;const n=Zu(e,r);return!!X5(n,t)}const G5=Object.freeze({width:null,height:null}),j5=Object.freeze({...G5,...Sg}),WC=/(-?[0-9.]*[0-9]+[0-9.]*)/g,JC=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Ry(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(WC);if(n===null||!n.length)return t;const l=[];let h=n.shift(),u=JC.test(h);for(;;){if(u){const s=parseFloat(h);isNaN(s)?l.push(h):l.push(Math.ceil(s*e*r)/r)}else l.push(h);if(h=n.shift(),h===void 0)return l.join("");u=!u}}function eM(t,e="defs"){let r="";const n=t.indexOf("<"+e);for(;n>=0;){const l=t.indexOf(">",n),h=t.indexOf("</"+e);if(l===-1||h===-1)break;const u=t.indexOf(">",h);if(u===-1)break;r+=t.slice(l+1,h).trim(),t=t.slice(0,n).trim()+t.slice(u+1)}return{defs:r,content:t}}function tM(t,e){return t?"<defs>"+t+"</defs>"+e:e}function rM(t,e,r){const n=eM(t);return tM(n.defs,e+n.content+r)}const iM=t=>t==="unset"||t==="undefined"||t==="none";function aM(t,e){const r={...pp,...t},n={...j5,...e},l={left:r.left,top:r.top,width:r.width,height:r.height};let h=r.body;[r,n].forEach(k=>{const z=[],Z=k.hFlip,G=k.vFlip;let se=k.rotate;Z?G?se+=2:(z.push("translate("+(l.width+l.left).toString()+" "+(0-l.top).toString()+")"),z.push("scale(-1 1)"),l.top=l.left=0):G&&(z.push("translate("+(0-l.left).toString()+" "+(l.height+l.top).toString()+")"),z.push("scale(1 -1)"),l.top=l.left=0);let re;switch(se<0&&(se-=Math.floor(se/4)*4),se=se%4,se){case 1:re=l.height/2+l.top,z.unshift("rotate(90 "+re.toString()+" "+re.toString()+")");break;case 2:z.unshift("rotate(180 "+(l.width/2+l.left).toString()+" "+(l.height/2+l.top).toString()+")");break;case 3:re=l.width/2+l.left,z.unshift("rotate(-90 "+re.toString()+" "+re.toString()+")");break}se%2===1&&(l.left!==l.top&&(re=l.left,l.left=l.top,l.top=re),l.width!==l.height&&(re=l.width,l.width=l.height,l.height=re)),z.length&&(h=rM(h,'<g transform="'+z.join(" ")+'">',"</g>"))});const u=n.width,s=n.height,v=l.width,w=l.height;let I,M;u===null?(M=s===null?"1em":s==="auto"?w:s,I=Ry(M,v/w)):(I=u==="auto"?v:u,M=s===null?Ry(I,w/v):s==="auto"?w:s);const U={},C=(k,z)=>{iM(z)||(U[k]=z.toString())};C("width",I),C("height",M);const S=[l.left,l.top,v,w];return U.viewBox=S.join(" "),{attributes:U,viewBox:S,body:h}}const nM=/\sid="(\S+)"/g,sM="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let oM=0;function lM(t,e=sM){const r=[];let n;for(;n=nM.exec(t);)r.push(n[1]);if(!r.length)return t;const l="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(h=>{const u=typeof e=="function"?e(h):e+(oM++).toString(),s=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+s+')([")]|\\.[a-z])',"g"),"$1"+u+l+"$3")}),t=t.replace(new RegExp(l,"g"),""),t}const bm=Object.create(null);function AM(t,e){bm[t]=e}function ym(t){return bm[t]||bm[""]}function M4(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const R4=Object.create(null),Md=["https://api.simplesvg.com","https://api.unisvg.com"],ng=[];for(;Md.length>0;)Md.length===1||Math.random()>.5?ng.push(Md.shift()):ng.push(Md.pop());R4[""]=M4({resources:["https://api.iconify.design"].concat(ng)});function cM(t,e){const r=M4(e);return r===null?!1:(R4[t]=r,!0)}function I4(t){return R4[t]}const uM=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let Iy=uM();function hM(t,e){const r=I4(t);if(!r)return 0;let n;if(!r.maxURL)n=0;else{let l=0;r.resources.forEach(u=>{l=Math.max(l,u.length)});const h=e+".json?icons=";n=r.maxURL-l-r.path.length-h.length}return n}function dM(t){return t===404}const fM=(t,e,r)=>{const n=[],l=hM(t,e),h="icons";let u={type:h,provider:t,prefix:e,icons:[]},s=0;return r.forEach((v,w)=>{s+=v.length+1,s>=l&&w>0&&(n.push(u),u={type:h,provider:t,prefix:e,icons:[]},s=v.length),u.icons.push(v)}),n.push(u),n};function gM(t){if(typeof t=="string"){const e=I4(t);if(e)return e.path}return"/"}const pM=(t,e,r)=>{if(!Iy){r("abort",424);return}let n=gM(e.provider);switch(e.type){case"icons":{const h=e.prefix,s=e.icons.join(","),v=new URLSearchParams({icons:s});n+=h+".json?"+v.toString();break}case"custom":{const h=e.uri;n+=h.slice(0,1)==="/"?h.slice(1):h;break}default:r("abort",400);return}let l=503;Iy(t+n).then(h=>{const u=h.status;if(u!==200){setTimeout(()=>{r(dM(u)?"abort":"next",u)});return}return l=501,h.json()}).then(h=>{if(typeof h!="object"||h===null){setTimeout(()=>{h===404?r("abort",h):r("next",l)});return}setTimeout(()=>{r("success",h)})}).catch(()=>{r("next",l)})},mM={prepare:fM,send:pM};function _M(t){const e={loaded:[],missing:[],pending:[]},r=Object.create(null);t.sort((l,h)=>l.provider!==h.provider?l.provider.localeCompare(h.provider):l.prefix!==h.prefix?l.prefix.localeCompare(h.prefix):l.name.localeCompare(h.name));let n={provider:"",prefix:"",name:""};return t.forEach(l=>{if(n.name===l.name&&n.prefix===l.prefix&&n.provider===l.provider)return;n=l;const h=l.provider,u=l.prefix,s=l.name,v=r[h]||(r[h]=Object.create(null)),w=v[u]||(v[u]=Zu(h,u));let I;s in w.icons?I=e.loaded:u===""||w.missing.has(s)?I=e.missing:I=e.pending;const M={provider:h,prefix:u,name:s};I.push(M)}),e}function K5(t,e){t.forEach(r=>{const n=r.loaderCallbacks;n&&(r.loaderCallbacks=n.filter(l=>l.id!==e))})}function bM(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let r=!1;const n=t.provider,l=t.prefix;e.forEach(h=>{const u=h.icons,s=u.pending.length;u.pending=u.pending.filter(v=>{if(v.prefix!==l)return!0;const w=v.name;if(t.icons[w])u.loaded.push({provider:n,prefix:l,name:w});else if(t.missing.has(w))u.missing.push({provider:n,prefix:l,name:w});else return r=!0,!0;return!1}),u.pending.length!==s&&(r||K5([t],h.id),h.callback(u.loaded.slice(0),u.missing.slice(0),u.pending.slice(0),h.abort))})}))}let yM=0;function vM(t,e,r){const n=yM++,l=K5.bind(null,r,n);if(!e.pending.length)return l;const h={id:n,icons:e,callback:t,abort:l};return r.forEach(u=>{(u.loaderCallbacks||(u.loaderCallbacks=[])).push(h)}),l}function xM(t,e=!0,r=!1){const n=[];return t.forEach(l=>{const h=typeof l=="string"?gp(l,e,r):l;h&&n.push(h)}),n}var wM={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function BM(t,e,r,n){const l=t.resources.length,h=t.random?Math.floor(Math.random()*l):t.index;let u;if(t.random){let J=t.resources.slice(0);for(u=[];J.length>1;){const te=Math.floor(Math.random()*J.length);u.push(J[te]),J=J.slice(0,te).concat(J.slice(te+1))}u=u.concat(J)}else u=t.resources.slice(h).concat(t.resources.slice(0,h));const s=Date.now();let v="pending",w=0,I,M=null,U=[],C=[];typeof n=="function"&&C.push(n);function S(){M&&(clearTimeout(M),M=null)}function k(){v==="pending"&&(v="aborted"),S(),U.forEach(J=>{J.status==="pending"&&(J.status="aborted")}),U=[]}function z(J,te){te&&(C=[]),typeof J=="function"&&C.push(J)}function Z(){return{startTime:s,payload:e,status:v,queriesSent:w,queriesPending:U.length,subscribe:z,abort:k}}function G(){v="failed",C.forEach(J=>{J(void 0,I)})}function se(){U.forEach(J=>{J.status==="pending"&&(J.status="aborted")}),U=[]}function re(J,te,X){const W=te!=="success";switch(U=U.filter(he=>he!==J),v){case"pending":break;case"failed":if(W||!t.dataAfterTimeout)return;break;default:return}if(te==="abort"){I=X,G();return}if(W){I=X,U.length||(u.length?Ae():G());return}if(S(),se(),!t.random){const he=t.resources.indexOf(J.resource);he!==-1&&he!==t.index&&(t.index=he)}v="completed",C.forEach(he=>{he(X)})}function Ae(){if(v!=="pending")return;S();const J=u.shift();if(J===void 0){if(U.length){M=setTimeout(()=>{S(),v==="pending"&&(se(),G())},t.timeout);return}G();return}const te={status:"pending",resource:J,callback:(X,W)=>{re(te,X,W)}};U.push(te),w++,M=setTimeout(Ae,t.rotate),r(J,e,te.callback)}return setTimeout(Ae),Z}function $5(t){const e={...wM,...t};let r=[];function n(){r=r.filter(s=>s().status==="pending")}function l(s,v,w){const I=BM(e,s,v,(M,U)=>{n(),w&&w(M,U)});return r.push(I),I}function h(s){return r.find(v=>s(v))||null}return{query:l,find:h,setIndex:s=>{e.index=s},getIndex:()=>e.index,cleanup:n}}function Uy(){}const n3=Object.create(null);function CM(t){if(!n3[t]){const e=I4(t);if(!e)return;const r=$5(e),n={config:e,redundancy:r};n3[t]=n}return n3[t]}function MM(t,e,r){let n,l;if(typeof t=="string"){const h=ym(t);if(!h)return r(void 0,424),Uy;l=h.send;const u=CM(t);u&&(n=u.redundancy)}else{const h=M4(t);if(h){n=$5(h);const u=t.resources?t.resources[0]:"",s=ym(u);s&&(l=s.send)}}return!n||!l?(r(void 0,424),Uy):n.query(e,l,r)().abort}function Ey(){}function RM(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,bM(t)}))}function IM(t){const e=[],r=[];return t.forEach(n=>{(n.match(z5)?e:r).push(n)}),{valid:e,invalid:r}}function Rd(t,e,r){function n(){const l=t.pendingIcons;e.forEach(h=>{l&&l.delete(h),t.icons[h]||t.missing.add(h)})}if(r&&typeof r=="object")try{if(!X5(t,r).length){n();return}}catch(l){console.error(l)}n(),RM(t)}function Fy(t,e){t instanceof Promise?t.then(r=>{e(r)}).catch(()=>{e(null)}):e(t)}function UM(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:r,prefix:n}=t,l=t.iconsToLoad;if(delete t.iconsToLoad,!l||!l.length)return;const h=t.loadIcon;if(t.loadIcons&&(l.length>1||!h)){Fy(t.loadIcons(l,n,r),I=>{Rd(t,l,I)});return}if(h){l.forEach(I=>{const M=h(I,n,r);Fy(M,U=>{const C=U?{prefix:n,icons:{[I]:U}}:null;Rd(t,[I],C)})});return}const{valid:u,invalid:s}=IM(l);if(s.length&&Rd(t,s,null),!u.length)return;const v=n.match(z5)?ym(r):null;if(!v){Rd(t,u,null);return}v.prepare(r,n,u).forEach(I=>{MM(r,I,M=>{Rd(t,I.icons,M)})})}))}const EM=(t,e)=>{const r=xM(t,!0,V5()),n=_M(r);if(!n.pending.length){let v=!0;return e&&setTimeout(()=>{v&&e(n.loaded,n.missing,n.pending,Ey)}),()=>{v=!1}}const l=Object.create(null),h=[];let u,s;return n.pending.forEach(v=>{const{provider:w,prefix:I}=v;if(I===s&&w===u)return;u=w,s=I,h.push(Zu(w,I));const M=l[w]||(l[w]=Object.create(null));M[I]||(M[I]=[])}),n.pending.forEach(v=>{const{provider:w,prefix:I,name:M}=v,U=Zu(w,I),C=U.pendingIcons||(U.pendingIcons=new Set);C.has(M)||(C.add(M),l[w][I].push(M))}),h.forEach(v=>{const w=l[v.provider][v.prefix];w.length&&UM(v,w)}),e?vM(e,n,h):Ey};function FM(t,e){const r={...t};for(const n in e){const l=e[n],h=typeof l;n in G5?(l===null||l&&(h==="string"||h==="number"))&&(r[n]=l):h===typeof r[n]&&(r[n]=n==="rotate"?l%4:l)}return r}const TM=/[\s,]+/;function SM(t,e){e.split(TM).forEach(r=>{switch(r.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function NM(t,e=0){const r=t.replace(/^-?[0-9.]*/,"");function n(l){for(;l<0;)l+=4;return l%4}if(r===""){const l=parseInt(t);return isNaN(l)?0:n(l)}else if(r!==t){let l=0;switch(r){case"%":l=25;break;case"deg":l=90}if(l){let h=parseFloat(t.slice(0,t.length-r.length));return isNaN(h)?0:(h=h/l,h%1===0?n(h):0)}}return e}function YM(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}function PM(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function LM(t){return"data:image/svg+xml,"+PM(t)}function kM(t){return'url("'+LM(t)+'")'}const Ty={...j5,inline:!1},QM={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},DM={display:"inline-block"},vm={"background-color":"currentColor"},q5={"background-color":"transparent"},Sy={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Ny={"-webkit-mask":vm,mask:vm,background:q5};for(const t in Ny){const e=Ny[t];for(const r in Sy)e[t+"-"+r]=Sy[r]}function zM(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}function ZM(t,e){const r=FM(Ty,e),n=e.mode||"svg",l=n==="svg"?{...QM}:{};t.body.indexOf("xlink:")===-1&&delete l["xmlns:xlink"];let h=typeof e.style=="string"?e.style:"";for(let Z in e){const G=e[Z];if(G!==void 0)switch(Z){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":r[Z]=G===!0||G==="true"||G===1;break;case"flip":typeof G=="string"&&SM(r,G);break;case"color":h=h+(h.length>0&&h.trim().slice(-1)!==";"?";":"")+"color: "+G+"; ";break;case"rotate":typeof G=="string"?r[Z]=NM(G):typeof G=="number"&&(r[Z]=G);break;case"ariaHidden":case"aria-hidden":G!==!0&&G!=="true"&&delete l["aria-hidden"];break;default:if(Z.slice(0,3)==="on:")break;Ty[Z]===void 0&&(l[Z]=G)}}const u=aM(t,r),s=u.attributes;if(r.inline&&(h="vertical-align: -0.125em; "+h),n==="svg"){Object.assign(l,s),h!==""&&(l.style=h);let Z=0,G=e.id;return typeof G=="string"&&(G=G.replace(/-/g,"_")),{svg:!0,attributes:l,body:lM(u.body,G?()=>G+"ID"+Z++:"iconifySvelte")}}const{body:v,width:w,height:I}=t,M=n==="mask"||(n==="bg"?!1:v.indexOf("currentColor")!==-1),U=YM(v,{...s,width:w+"",height:I+""}),S={"--svg":kM(U)},k=Z=>{const G=s[Z];G&&(S[Z]=zM(G))};k("width"),k("height"),Object.assign(S,DM,M?vm:q5);let z="";for(const Z in S)z+=Z+": "+S[Z]+";";return l.style=z+h,{svg:!1,attributes:l}}V5(!0);AM("",mM);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,r="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!qC(n))&&console.error(r)}catch{console.error(r)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let r in e){const n="IconifyProviders["+r+"] is invalid.";try{const l=e[r];if(typeof l!="object"||!l||l.resources===void 0)continue;cM(r,l)||console.error(n)}catch{console.error(n)}}}}function OM(t,e,r,n,l){function h(){e.loading&&(e.loading.abort(),e.loading=null)}if(typeof t=="object"&&t!==null&&typeof t.body=="string")return e.name="",h(),{data:{...pp,...t}};let u;if(typeof t!="string"||(u=gp(t,!1,!0))===null)return h(),null;const s=KC(u);if(!s)return r&&(!e.loading||e.loading.name!==t)&&(h(),e.name="",e.loading={name:t,abort:EM([u],n)}),null;h(),e.name!==t&&(e.name=t,l&&!e.destroyed&&l(t));const v=["iconify"];return u.prefix!==""&&v.push("iconify--"+u.prefix),u.provider!==""&&v.push("iconify--"+u.provider),{data:s,classes:v}}function Yy(t,e){return t?ZM({...pp,...t},e):null}var HM=sB("<svg><!></svg>"),XM=nt("<span></span>");function _r(t,e){const r=LB(e,["children","$$slots","$$events","$$legacy"]);sr(e,!1);const n=Ja({name:"",loading:null,destroyed:!1});let l=Ja(!1),h=Ja(0),u=Ja();const s=U=>{typeof r.onLoad=="function"&&r.onLoad(U),m5()("load",{icon:U})};function v(){SB(h)}ua(()=>{Xe(l,!0)}),sc(()=>{W1(n,V(n).destroyed=!0),V(n).loading&&(V(n).loading.abort(),W1(n,V(n).loading=null))}),q1(()=>(V(h),so(r),V(l),V(n),V(u),Yy),()=>{V(h);const U=!!r.ssr||V(l),C=OM(r.icon,V(n),U,v,s);Xe(u,C?Yy(C.data,r):null),V(u)&&C.classes&&W1(u,V(u).attributes.class=(typeof r.class=="string"?r.class+" ":"")+C.classes.join(" "))}),p5(),Jo();var w=vr(),I=kt(w);{var M=U=>{var C=vr(),S=kt(C);{var k=Z=>{var G=HM();let se;var re=Ce(G);U5(re,()=>V(u).body,!0,!1),ve(G),Gt(()=>se=ly(G,se,{...V(u).attributes})),Qe(Z,G)},z=Z=>{var G=XM();let se;Gt(()=>se=ly(G,se,{...V(u).attributes})),Qe(Z,G)};_t(S,Z=>{V(u).svg?Z(k):Z(z,!1)})}Qe(U,C)};_t(I,U=>{V(u)&&U(M)})}Qe(t,w),or()}const o1={START:"start",CENTER:"center",END:"end"},Ho={HORIZONTAL:"horizontal",VERTICAL:"vertical"},Id={OBSERVED:0,REQUESTED:1},VM={[Ho.VERTICAL]:"top",[Ho.HORIZONTAL]:"left"},Py={[Ho.VERTICAL]:"scrollTop",[Ho.HORIZONTAL]:"scrollLeft"};class GM{constructor({itemSize:e,itemCount:r,estimatedItemSize:n}){this.itemSize=e,this.itemCount=r,this.estimatedItemSize=n,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:r,estimatedItemSize:n}){r!=null&&(this.itemCount=r),n!=null&&(this.estimatedItemSize=n),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:r}=this;return typeof r=="function"?r(e):Array.isArray(r)?r[e]:r}computeTotalSizeAndPositionData(){let e=0;for(let r=0;r<this.itemCount;r++){const n=this.getSize(r),l=e;e+=n,this.itemSizeAndPositionData[r]={offset:l,size:n}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const r=this.getSizeAndPositionOfLastMeasuredItem();let n=r.offset+r.size;for(let l=this.lastMeasuredIndex+1;l<=e;l++){const h=this.getSize(l);if(h==null||isNaN(h))throw Error(`Invalid size returned for index ${l} of value ${h}`);this.itemSizeAndPositionData[l]={offset:n,size:h},n+=h}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=o1.START,containerSize:r,currentOffset:n,targetIndex:l}){if(r<=0)return 0;const h=this.getSizeAndPositionForIndex(l),u=h.offset,s=u-r+h.size;let v;switch(e){case o1.END:v=s;break;case o1.CENTER:v=u-(r-h.size)/2;break;case o1.START:v=u;break;default:v=Math.max(s,Math.min(u,n))}const w=this.getTotalSize();return Math.max(0,Math.min(w-r,v))}getVisibleRange({containerSize:e=0,offset:r,overscanCount:n}){if(this.getTotalSize()===0)return{};const h=r+e;let u=this.findNearestItem(r);if(u===void 0)throw Error(`Invalid offset ${r} specified`);const s=this.getSizeAndPositionForIndex(u);r=s.offset+s.size;let v=u;for(;r<h&&v<this.itemCount-1;)v++,r+=this.getSizeAndPositionForIndex(v).size;return n&&(u=Math.max(0,u-n),v=Math.min(v+n,this.itemCount-1)),{start:u,stop:v}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const r=this.getSizeAndPositionOfLastMeasuredItem(),n=Math.max(0,this.lastMeasuredIndex);return r.offset>=e?this.binarySearch({high:n,low:0,offset:e}):this.exponentialSearch({index:n,offset:e})}binarySearch({low:e,high:r,offset:n}){let l=0,h=0;for(;e<=r;){if(l=e+Math.floor((r-e)/2),h=this.getSizeAndPositionForIndex(l).offset,h===n)return l;h<n?e=l+1:h>n&&(r=l-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:r}){let n=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<r;)e+=n,n*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:r})}}const jM=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();var KM=nt('<div class="virtual-list-wrapper svelte-dwpad5"><!> <div class="virtual-list-inner svelte-dwpad5"></div> <!></div>');function $M(t,e){sr(e,!1);let r=Qt(e,"height",12),n=Qt(e,"width",12,"100%"),l=Qt(e,"itemCount",12),h=Qt(e,"itemSize",12),u=Qt(e,"estimatedItemSize",12,null),s=Qt(e,"stickyIndices",12,null),v=Qt(e,"getKey",12,null),w=Qt(e,"scrollDirection",28,()=>Ho.VERTICAL),I=Qt(e,"scrollOffset",12,null),M=Qt(e,"scrollToIndex",12,null),U=Qt(e,"scrollToAlignment",12,null),C=Qt(e,"scrollToBehaviour",12,"instant"),S=Qt(e,"overscanCount",12,3);const k=m5(),z=new GM({itemCount:l(),itemSize:h(),estimatedItemSize:it()});let Z=Ja(!1),G=Ja(),se=Ja([]),re=Ja({offset:I()||M()!=null&&V(se).length&&Ve(M())||0,scrollChangeReason:Id.REQUESTED}),Ae=V(re),J={scrollToIndex:M(),scrollToAlignment:U(),scrollOffset:I(),itemCount:l(),itemSize:h(),estimatedItemSize:u()},te={},X=Ja(""),W=Ja("");_e(),ua(()=>{Xe(Z,!0),V(G).addEventListener("scroll",Ke,jM),I()!=null?xe(I()):M()!=null&&xe(Ve(M()))}),sc(()=>{V(Z)&&V(G).removeEventListener("scroll",Ke)});function he(){if(!V(Z))return;const $e=J.scrollToIndex!==M()||J.scrollToAlignment!==U(),st=J.itemCount!==l()||J.itemSize!==h()||J.estimatedItemSize!==u();st&&(z.updateConfig({itemSize:h(),itemCount:l(),estimatedItemSize:it()}),He()),J.scrollOffset!==I()?Xe(re,{offset:I()||0,scrollChangeReason:Id.REQUESTED}):typeof M()=="number"&&($e||st)&&Xe(re,{offset:Ve(M(),U(),l()),scrollChangeReason:Id.REQUESTED}),J={scrollToIndex:M(),scrollToAlignment:U(),scrollOffset:I(),itemCount:l(),itemSize:h(),estimatedItemSize:u()}}function ue(){if(!V(Z))return;const{offset:$e,scrollChangeReason:st}=V(re);(Ae.offset!==$e||Ae.scrollChangeReason!==st)&&_e(),Ae.offset!==$e&&st===Id.REQUESTED&&xe($e),Ae=V(re)}function _e(){const{offset:$e}=V(re),{start:st,stop:xt}=z.getVisibleRange({containerSize:w()===Ho.VERTICAL?r():n(),offset:$e,overscanCount:S()});let Et=[];const lt=z.getTotalSize();if(w()===Ho.VERTICAL){const Rt=typeof r()=="number"?"px":"";Xe(X,`height:${r()}${Rt};width:${n()};`),Xe(W,`flex-direction:column;height:${lt}px;`)}else{const Rt=typeof n()=="number"?"px":"";Xe(X,`height:${r()};width:${n()}${Rt}`),Xe(W,`min-height:100%;width:${lt}px;`)}const Zt=s()!=null&&s().length!==0;if(Zt)for(let Rt=0;Rt<s().length;Rt++){const Mt=s()[Rt];Et.push({index:Mt,style:pt(Mt,!0)})}if(st!==void 0&&xt!==void 0){for(let Rt=st;Rt<=xt;Rt++)Zt&&s().includes(Rt)||Et.push({index:Rt,style:pt(Rt,!1)});k("itemsUpdated",{start:st,end:xt})}Xe(se,Et)}function xe($e){"scroll"in V(G)?V(G).scroll({[VM[w()]]:$e,behavior:C()}):W1(G,V(G)[Py[w()]]=$e)}function He($e=0){te={},z.resetItem($e),_e()}function Ve($e,st=U(),xt=l()){return($e<0||$e>=xt)&&($e=0),z.getUpdatedOffsetForIndex({align:st,containerSize:w()===Ho.VERTICAL?r():n(),currentOffset:V(re).offset||0,targetIndex:$e})}function Ke($e){const st=ot();st<0||V(re).offset===st||$e.target!==V(G)||(Xe(re,{offset:st,scrollChangeReason:Id.OBSERVED}),k("afterScroll",{offset:st,event:$e}))}function ot(){return V(G)[Py[w()]]}function it(){return u()||typeof h()=="number"&&h()||50}function pt($e,st){if(te[$e])return te[$e];const{size:xt,offset:Et}=z.getSizeAndPositionForIndex($e);let lt;return w()===Ho.VERTICAL?(lt=`left:0;width:100%;height:${xt}px;`,st?lt+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${Et}px;margin-bottom:${-(Et+xt)}px;`:lt+=`position:absolute;top:${Et}px;`):(lt=`top:0;width:${xt}px;`,st?lt+=`position:sticky;z-index:1;left:0;margin-left:${Et}px;margin-right:${-(Et+xt)}px;`:lt+=`position:absolute;height:100%;left:${Et}px;`),te[$e]=lt}q1(()=>(so(M()),so(U()),so(I()),so(l()),so(h()),so(u())),()=>{M(),U(),I(),l(),h(),u(),he()}),q1(()=>V(re),()=>{V(re),ue()}),q1(()=>(so(r()),so(n()),so(s()),V(Z)),()=>{r(),n(),s(),V(Z)&&He(0)}),p5(),Jo();var Ut=KM(),ct=Ce(Ut);e3(ct,e,"header",{});var mt=Ue(ct,2);mi(mt,5,()=>V(se),$e=>v()?v()($e.index):$e.index,($e,st)=>{var xt=vr(),Et=kt(xt);e3(Et,e,"item",{get style(){return V(st).style},get index(){return V(st).index}}),Qe($e,xt)}),ve(mt);var De=Ue(mt,2);return e3(De,e,"footer",{}),ve(Ut),gn(Ut,$e=>Xe(G,$e),()=>V(G)),Gt(()=>{dn(Ut,V(X)),dn(mt,V(W))}),Qe(t,Ut),xC(e,"recomputeSizes",He),or({recomputeSizes:He,get height(){return r()},set height($e){r($e),vn()},get width(){return n()},set width($e){n($e),vn()},get itemCount(){return l()},set itemCount($e){l($e),vn()},get itemSize(){return h()},set itemSize($e){h($e),vn()},get estimatedItemSize(){return u()},set estimatedItemSize($e){u($e),vn()},get stickyIndices(){return s()},set stickyIndices($e){s($e),vn()},get getKey(){return v()},set getKey($e){v($e),vn()},get scrollDirection(){return w()},set scrollDirection($e){w($e),vn()},get scrollOffset(){return I()},set scrollOffset($e){I($e),vn()},get scrollToIndex(){return M()},set scrollToIndex($e){M($e),vn()},get scrollToAlignment(){return U()},set scrollToAlignment($e){U($e),vn()},get scrollToBehaviour(){return C()},set scrollToBehaviour($e){C($e),vn()},get overscanCount(){return S()},set overscanCount($e){S($e),vn()}})}var qM=nt('<div class="flex select-none items-center gap-2 text-base"><span> </span></div>'),WM=nt('<label class="z-10 flex w-full cursor-pointer items-center justify-center p-2 text-white"><input type="radio" class="hidden"> <span class="select-none"> </span></label>'),JM=nt('<div class="relative flex w-full overflow-hidden rounded-full bg-gray-400"><div></div> <!></div>'),eR=nt('<label class="z-10 flex w-full cursor-pointer items-center justify-center p-2 text-white"><input type="radio" class="hidden"> <span class="select-none"> </span></label>'),tR=nt('<div class="relative flex w-full overflow-hidden rounded-full bg-gray-400"><div></div> <!></div>'),rR=nt('<div class="flex flex-col gap-2"><!> <!> <!></div>');function qu(t,e){sr(e,!0);const r=[];let n=Qt(e,"group",15);var l=rR(),h=Ce(l);{var u=M=>{var U=qM(),C=Ce(U),S=Ce(C,!0);ve(C),ve(U),Gt(()=>dr(S,e.label)),Qe(M,U)};_t(h,M=>{e.label&&M(u)})}var s=Ue(h,2);{var v=M=>{var U=JM(),C=Ce(U),S=Ue(C,2);mi(S,17,()=>e.options,k=>k.key,(k,z)=>{var Z=WM(),G=Ce(Z);tn(G);var se,re=Ue(G,2),Ae=Ce(re,!0);ve(re),ve(Z),Gt(()=>{xi(Z,"for",V(z).key),xi(G,"id",V(z).key),se!==(se=V(z).key)&&(G.value=(G.__value=V(z).key)==null?"":V(z).key),dr(Ae,V(z).name)}),tc(r,[],G,()=>(V(z).key,n()),n),Qe(k,Z)}),ve(U),Gt(()=>Bi(C,1,`bg-accent absolute h-full w-1/2 rounded-full transition-transform duration-200 ${(e.options[0].key===n()?"":"translate-x-full")??""}`)),Qe(M,U)};_t(s,M=>{e.options.length===2&&M(v)})}var w=Ue(s,2);{var I=M=>{var U=tR(),C=Ce(U),S=Ue(C,2);mi(S,17,()=>e.options,k=>k.key,(k,z)=>{var Z=eR(),G=Ce(Z);tn(G);var se,re=Ue(G,2),Ae=Ce(re,!0);ve(re),ve(Z),Gt(()=>{xi(Z,"for",V(z).key),xi(G,"id",V(z).key),se!==(se=V(z).key)&&(G.value=(G.__value=V(z).key)==null?"":V(z).key),dr(Ae,V(z).name)}),tc(r,[],G,()=>(V(z).key,n()),n),Qe(k,Z)}),ve(U),Gt(()=>Bi(C,1,`bg-accent absolute h-full w-1/3 rounded-full transition-transform duration-200 ${(e.options[0].key===n()?"":e.options[1].key===n()?"translate-x-full":"translate-x-[200%]")??""}`)),Qe(M,U)};_t(w,M=>{e.options.length===3&&M(I)})}ve(l),Qe(t,l),or()}const sg=un(null),hs=(t,e,r=!1)=>{sg.set({message:t,type:e,persistent:r})};var Gn=Uint8Array,Bu=Uint16Array,iR=Int32Array,W5=new Gn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),J5=new Gn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),aR=new Gn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ex=function(t,e){for(var r=new Bu(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var l=new iR(r[30]),n=1;n<30;++n)for(var h=r[n];h<r[n+1];++h)l[h]=h-r[n]<<5|n;return{b:r,r:l}},tx=ex(W5,2),rx=tx.b,nR=tx.r;rx[28]=258,nR[258]=28;var sR=ex(J5,0),oR=sR.b,xm=new Bu(32768);for(var zi=0;zi<32768;++zi){var Ml=(zi&43690)>>1|(zi&21845)<<1;Ml=(Ml&52428)>>2|(Ml&13107)<<2,Ml=(Ml&61680)>>4|(Ml&3855)<<4,xm[zi]=((Ml&65280)>>8|(Ml&255)<<8)>>1}var n0=function(t,e,r){for(var n=t.length,l=0,h=new Bu(e);l<n;++l)t[l]&&++h[t[l]-1];var u=new Bu(e);for(l=1;l<e;++l)u[l]=u[l-1]+h[l-1]<<1;var s;if(r){s=new Bu(1<<e);var v=15-e;for(l=0;l<n;++l)if(t[l])for(var w=l<<4|t[l],I=e-t[l],M=u[t[l]-1]++<<I,U=M|(1<<I)-1;M<=U;++M)s[xm[M]>>v]=w}else for(s=new Bu(n),l=0;l<n;++l)t[l]&&(s[l]=xm[u[t[l]-1]++]>>15-t[l]);return s},k0=new Gn(288);for(var zi=0;zi<144;++zi)k0[zi]=8;for(var zi=144;zi<256;++zi)k0[zi]=9;for(var zi=256;zi<280;++zi)k0[zi]=7;for(var zi=280;zi<288;++zi)k0[zi]=8;var ix=new Gn(32);for(var zi=0;zi<32;++zi)ix[zi]=5;var lR=n0(k0,9,1),AR=n0(ix,5,1),s3=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Fs=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},o3=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},cR=function(t){return(t+7)/8|0},uR=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Gn(t.subarray(e,r))},hR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Xn=function(t,e,r){var n=new Error(e||hR[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Xn),!r)throw n;return n},U4=function(t,e,r,n){var l=t.length,h=0;if(!l||e.f&&!e.l)return r||new Gn(0);var u=!r,s=u||e.i!=2,v=e.i;u&&(r=new Gn(l*3));var w=function(Mt){var Ht=r.length;if(Mt>Ht){var ur=new Gn(Math.max(Ht*2,Mt));ur.set(r),r=ur}},I=e.f||0,M=e.p||0,U=e.b||0,C=e.l,S=e.d,k=e.m,z=e.n,Z=l*8;do{if(!C){I=Fs(t,M,1);var G=Fs(t,M+1,3);if(M+=3,G)if(G==1)C=lR,S=AR,k=9,z=5;else if(G==2){var J=Fs(t,M,31)+257,te=Fs(t,M+10,15)+4,X=J+Fs(t,M+5,31)+1;M+=14;for(var W=new Gn(X),he=new Gn(19),ue=0;ue<te;++ue)he[aR[ue]]=Fs(t,M+ue*3,7);M+=te*3;for(var _e=s3(he),xe=(1<<_e)-1,He=n0(he,_e,1),ue=0;ue<X;){var Ve=He[Fs(t,M,xe)];M+=Ve&15;var se=Ve>>4;if(se<16)W[ue++]=se;else{var Ke=0,ot=0;for(se==16?(ot=3+Fs(t,M,3),M+=2,Ke=W[ue-1]):se==17?(ot=3+Fs(t,M,7),M+=3):se==18&&(ot=11+Fs(t,M,127),M+=7);ot--;)W[ue++]=Ke}}var it=W.subarray(0,J),pt=W.subarray(J);k=s3(it),z=s3(pt),C=n0(it,k,1),S=n0(pt,z,1)}else Xn(1);else{var se=cR(M)+4,re=t[se-4]|t[se-3]<<8,Ae=se+re;if(Ae>l){v&&Xn(0);break}s&&w(U+re),r.set(t.subarray(se,Ae),U),e.b=U+=re,e.p=M=Ae*8,e.f=I;continue}if(M>Z){v&&Xn(0);break}}s&&w(U+131072);for(var Ut=(1<<k)-1,ct=(1<<z)-1,mt=M;;mt=M){var Ke=C[o3(t,M)&Ut],De=Ke>>4;if(M+=Ke&15,M>Z){v&&Xn(0);break}if(Ke||Xn(2),De<256)r[U++]=De;else if(De==256){mt=M,C=null;break}else{var $e=De-254;if(De>264){var ue=De-257,st=W5[ue];$e=Fs(t,M,(1<<st)-1)+rx[ue],M+=st}var xt=S[o3(t,M)&ct],Et=xt>>4;xt||Xn(3),M+=xt&15;var pt=oR[Et];if(Et>3){var st=J5[Et];pt+=o3(t,M)&(1<<st)-1,M+=st}if(M>Z){v&&Xn(0);break}s&&w(U+131072);var lt=U+$e;if(U<pt){var Zt=h-pt,Rt=Math.min(pt,lt);for(Zt+U<0&&Xn(3);U<Rt;++U)r[U]=n[Zt+U]}for(;U<lt;++U)r[U]=r[U-pt]}}e.l=C,e.p=mt,e.b=U,e.f=I,C&&(I=1,e.m=k,e.d=S,e.n=z)}while(!I);return U!=r.length&&u?uR(r,0,U):r.subarray(0,U)},dR=new Gn(0),fR=function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&Xn(6,"invalid gzip data");var e=t[3],r=10;e&4&&(r+=(t[10]|t[11]<<8)+2);for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!t[r++]);return r+(e&2)},gR=function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},pR=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Xn(6,"invalid zlib data"),(t[1]>>5&1)==1&&Xn(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function mR(t,e){return U4(t,{i:2},e,e)}function _R(t,e){var r=fR(t);return r+8>t.length&&Xn(6,"invalid gzip data"),U4(t.subarray(r,-8),{i:2},new Gn(gR(t)),e)}function bR(t,e){return U4(t.subarray(pR(t),-4),{i:2},e,e)}function yR(t,e){return t[0]==31&&t[1]==139&&t[2]==8?_R(t,e):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?mR(t,e):bR(t,e)}var vR=typeof TextDecoder<"u"&&new TextDecoder,xR=0;try{vR.decode(dR,{stream:!0}),xR=1}catch{}var wR=Object.defineProperty,s0=Math.pow,Ci=(t,e)=>wR(t,"name",{value:e,configurable:!0}),ka=(t,e,r)=>new Promise((n,l)=>{var h=v=>{try{s(r.next(v))}catch(w){l(w)}},u=v=>{try{s(r.throw(v))}catch(w){l(w)}},s=v=>v.done?n(v.value):Promise.resolve(v.value).then(h,u);s((r=r.apply(t,e)).next())});Ci((t,e)=>{let r=!1,n="",l=L.GridLayer.extend({createTile:Ci((h,u)=>{let s=document.createElement("img"),v=new AbortController,w=v.signal;return s.cancel=()=>{v.abort()},r||(t.getHeader().then(I=>{I.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):I.tileType===2?n="image/png":I.tileType===3?n="image/jpeg":I.tileType===4?n="image/webp":I.tileType===5&&(n="image/avif")}),r=!0),t.getZxy(h.z,h.x,h.y,w).then(I=>{if(I){let M=new Blob([I.data],{type:n}),U=window.URL.createObjectURL(M);s.src=U,s.cancel=void 0,u(void 0,s)}}).catch(I=>{if(I.name!=="AbortError")throw I}),s},"createTile"),_removeTile:Ci(function(h){let u=this._tiles[h];u&&(u.el.cancel&&u.el.cancel(),u.el.width=0,u.el.height=0,u.el.deleted=!0,L.DomUtil.remove(u.el),delete this._tiles[h],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(h)}))},"_removeTile")});return new l(e)},"leafletRasterLayer");var BR=Ci(t=>(e,r)=>{if(r instanceof AbortController)return t(e,r);let n=new AbortController;return t(e,n).then(l=>r(void 0,l.data,l.cacheControl||"",l.expires||""),l=>r(l)).catch(l=>r(l)),{cancel:Ci(()=>n.abort(),"cancel")}},"v3compat"),ax=class{constructor(e){this.tilev4=Ci((r,n)=>ka(this,null,function*(){if(r.type==="json"){let C=r.url.substr(10),S=this.tiles.get(C);if(S||(S=new Ng(C),this.tiles.set(C,S)),this.metadata)return{data:yield S.getTileJson(r.url)};let k=yield S.getHeader();return(k.minLon>=k.maxLon||k.minLat>=k.maxLat)&&console.error(`Bounds of PMTiles archive ${k.minLon},${k.minLat},${k.maxLon},${k.maxLat} are not valid.`),{data:{tiles:[`${r.url}/{z}/{x}/{y}`],minzoom:k.minZoom,maxzoom:k.maxZoom,bounds:[k.minLon,k.minLat,k.maxLon,k.maxLat]}}}let l=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),h=r.url.match(l);if(!h)throw new Error("Invalid PMTiles protocol URL");let u=h[1],s=this.tiles.get(u);s||(s=new Ng(u),this.tiles.set(u,s));let v=h[2],w=h[3],I=h[4],M=yield s.getHeader(),U=yield s==null?void 0:s.getZxy(+v,+w,+I,n.signal);if(U)return{data:new Uint8Array(U.data),cacheControl:U.cacheControl,expires:U.expires};if(M.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4"),this.tile=BR(this.tilev4),this.tiles=new Map,this.metadata=(e==null?void 0:e.metadata)||!1,this.errorOnMissingTile=(e==null?void 0:e.errorOnMissingTile)||!1}add(e){this.tiles.set(e.source.getKey(),e)}get(e){return this.tiles.get(e)}};Ci(ax,"Protocol");var CR=ax;function nx(t,e){return(e>>>0)*4294967296+(t>>>0)}Ci(nx,"toNum");function sx(t,e){let r=e.buf,n=r[e.pos++],l=(n&112)>>4;if(n<128||(n=r[e.pos++],l|=(n&127)<<3,n<128)||(n=r[e.pos++],l|=(n&127)<<10,n<128)||(n=r[e.pos++],l|=(n&127)<<17,n<128)||(n=r[e.pos++],l|=(n&127)<<24,n<128)||(n=r[e.pos++],l|=(n&1)<<31,n<128))return nx(t,l);throw new Error("Expected varint not more than 10 bytes")}Ci(sx,"readVarintRemainder");function yu(t){let e=t.buf,r=e[t.pos++],n=r&127;return r<128||(r=e[t.pos++],n|=(r&127)<<7,r<128)||(r=e[t.pos++],n|=(r&127)<<14,r<128)||(r=e[t.pos++],n|=(r&127)<<21,r<128)?n:(r=e[t.pos],n|=(r&15)<<28,sx(n,t))}Ci(yu,"readVarint");function E4(t,e,r,n){if(n===0){r===1&&(e[0]=t-1-e[0],e[1]=t-1-e[1]);let l=e[0];e[0]=e[1],e[1]=l}}Ci(E4,"rotate");function ox(t,e){let r=s0(2,t),n=e,l=e,h=e,u=[0,0],s=1;for(;s<r;)n=1&h/2,l=1&(h^n),E4(s,u,n,l),u[0]+=s*n,u[1]+=s*l,h=h/4,s*=2;return[t,u[0],u[1]]}Ci(ox,"idOnLevel");var MR=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function lx(t,e,r){if(t>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(e>s0(2,t)-1||r>s0(2,t)-1)throw new Error("tile x/y outside zoom level bounds");let n=MR[t],l=s0(2,t),h=0,u=0,s=0,v=[e,r],w=l/2;for(;w>0;)h=(v[0]&w)>0?1:0,u=(v[1]&w)>0?1:0,s+=w*w*(3*h^u),E4(w,v,h,u),w=w/2;return n+s}Ci(lx,"zxyToTileId");function RR(t){let e=0;for(let r=0;r<27;r++){let n=(1<<r)*(1<<r);if(e+n>t)return ox(r,t-e);e+=n}throw new Error("Tile zoom level exceeds max safe number limit (26)")}Ci(RR,"tileIdToZxy");var IR=(t=>(t[t.Unknown=0]="Unknown",t[t.None=1]="None",t[t.Gzip=2]="Gzip",t[t.Brotli=3]="Brotli",t[t.Zstd=4]="Zstd",t))(IR||{});function mp(t,e){return ka(this,null,function*(){if(e===1||e===0)return t;if(e===2){if(typeof globalThis.DecompressionStream>"u")return yR(new Uint8Array(t));let r=new Response(t).body;if(!r)throw new Error("Failed to read response stream");let n=r.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(n).arrayBuffer()}throw new Error("Compression method not supported")})}Ci(mp,"defaultDecompress");var UR=(t=>(t[t.Unknown=0]="Unknown",t[t.Mvt=1]="Mvt",t[t.Png=2]="Png",t[t.Jpeg=3]="Jpeg",t[t.Webp=4]="Webp",t[t.Avif=5]="Avif",t))(UR||{});function Ax(t){return t===1?".mvt":t===2?".png":t===3?".jpg":t===4?".webp":t===5?".avif":""}Ci(Ax,"tileTypeExt");var ER=127;function cx(t,e){let r=0,n=t.length-1;for(;r<=n;){let l=n+r>>1,h=e-t[l].tileId;if(h>0)r=l+1;else if(h<0)n=l-1;else return t[l]}return n>=0&&(t[n].runLength===0||e-t[n].tileId<t[n].runLength)?t[n]:null}Ci(cx,"findTile");var FR=class{constructor(e){this.file=e}getKey(){return this.file.name}getBytes(e,r){return ka(this,null,function*(){return{data:yield this.file.slice(e,e+r).arrayBuffer()}})}};Ci(FR,"FileSource");var ux=class{constructor(e,r=new Headers){this.url=e,this.customHeaders=r,this.mustReload=!1;let n="";"navigator"in globalThis&&(n=globalThis.navigator.userAgent||"");let l=n.indexOf("Windows")>-1,h=/Chrome|Chromium|Edg|OPR|Brave/.test(n);this.chromeWindowsNoCache=!1,l&&h&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(e){this.customHeaders=e}getBytes(e,r,n,l){return ka(this,null,function*(){let h,u;n?u=n:(h=new AbortController,u=h.signal);let s=new Headers(this.customHeaders);s.set("range",`bytes=${e}-${e+r-1}`);let v;this.mustReload?v="reload":this.chromeWindowsNoCache&&(v="no-store");let w=yield fetch(this.url,{signal:u,cache:v,headers:s});if(e===0&&w.status===416){let U=w.headers.get("Content-Range");if(!U||!U.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let C=+U.substr(8);w=yield fetch(this.url,{signal:u,cache:"reload",headers:{range:`bytes=0-${C-1}`}})}let I=w.headers.get("Etag");if(I!=null&&I.startsWith("W/")&&(I=null),w.status===416||l&&I&&I!==l)throw this.mustReload=!0,new wm(`Server returned non-matching ETag ${l} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(w.status>=300)throw new Error(`Bad response code: ${w.status}`);let M=w.headers.get("Content-Length");if(w.status===200&&(!M||+M>r))throw h&&h.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield w.arrayBuffer(),etag:I||void 0,cacheControl:w.headers.get("Cache-Control")||void 0,expires:w.headers.get("Expires")||void 0}})}};Ci(ux,"FetchSource");var TR=ux;function os(t,e){let r=t.getUint32(e+4,!0),n=t.getUint32(e+0,!0);return r*s0(2,32)+n}Ci(os,"getUint64");function hx(t,e){let r=new DataView(t),n=r.getUint8(7);if(n>3)throw new Error(`Archive is spec version ${n} but this library supports up to spec version 3`);return{specVersion:n,rootDirectoryOffset:os(r,8),rootDirectoryLength:os(r,16),jsonMetadataOffset:os(r,24),jsonMetadataLength:os(r,32),leafDirectoryOffset:os(r,40),leafDirectoryLength:os(r,48),tileDataOffset:os(r,56),tileDataLength:os(r,64),numAddressedTiles:os(r,72),numTileEntries:os(r,80),numTileContents:os(r,88),clustered:r.getUint8(96)===1,internalCompression:r.getUint8(97),tileCompression:r.getUint8(98),tileType:r.getUint8(99),minZoom:r.getUint8(100),maxZoom:r.getUint8(101),minLon:r.getInt32(102,!0)/1e7,minLat:r.getInt32(106,!0)/1e7,maxLon:r.getInt32(110,!0)/1e7,maxLat:r.getInt32(114,!0)/1e7,centerZoom:r.getUint8(118),centerLon:r.getInt32(119,!0)/1e7,centerLat:r.getInt32(123,!0)/1e7,etag:e}}Ci(hx,"bytesToHeader");function F4(t){let e={buf:new Uint8Array(t),pos:0},r=yu(e),n=[],l=0;for(let h=0;h<r;h++){let u=yu(e);n.push({tileId:l+u,offset:0,length:0,runLength:1}),l+=u}for(let h=0;h<r;h++)n[h].runLength=yu(e);for(let h=0;h<r;h++)n[h].length=yu(e);for(let h=0;h<r;h++){let u=yu(e);u===0&&h>0?n[h].offset=n[h-1].offset+n[h-1].length:n[h].offset=u-1}return n}Ci(F4,"deserializeIndex");var dx=class extends Error{};Ci(dx,"EtagMismatch");var wm=dx;function T4(t,e){return ka(this,null,function*(){let r=yield t.getBytes(0,16384);if(new DataView(r.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let n=r.data.slice(0,ER),l=hx(n,r.etag),h=r.data.slice(l.rootDirectoryOffset,l.rootDirectoryOffset+l.rootDirectoryLength),u=`${t.getKey()}|${l.etag||""}|${l.rootDirectoryOffset}|${l.rootDirectoryLength}`,s=F4(yield e(h,l.internalCompression));return[l,[u,s.length,s]]})}Ci(T4,"getHeaderAndRoot");function S4(t,e,r,n,l){return ka(this,null,function*(){let h=yield t.getBytes(r,n,void 0,l.etag),u=yield e(h.data,l.internalCompression),s=F4(u);if(s.length===0)throw new Error("Empty directory is invalid");return s})}Ci(S4,"getDirectory");var SR=class{constructor(e=100,r=!0,n=mp){this.cache=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=n}getHeader(e){return ka(this,null,function*(){let r=e.getKey(),n=this.cache.get(r);if(n)return n.lastUsed=this.counter++,n.data;let l=yield T4(e,this.decompress);return l[1]&&this.cache.set(l[1][0],{lastUsed:this.counter++,data:l[1][2]}),this.cache.set(r,{lastUsed:this.counter++,data:l[0]}),this.prune(),l[0]})}getDirectory(e,r,n,l){return ka(this,null,function*(){let h=`${e.getKey()}|${l.etag||""}|${r}|${n}`,u=this.cache.get(h);if(u)return u.lastUsed=this.counter++,u.data;let s=yield S4(e,this.decompress,r,n,l);return this.cache.set(h,{lastUsed:this.counter++,data:s}),this.prune(),s})}prune(){if(this.cache.size>this.maxCacheEntries){let e=1/0,r;this.cache.forEach((n,l)=>{n.lastUsed<e&&(e=n.lastUsed,r=l)}),r&&this.cache.delete(r)}}invalidate(e){return ka(this,null,function*(){this.cache.delete(e.getKey())})}};Ci(SR,"ResolvedValueCache");var fx=class{constructor(e=100,r=!0,n=mp){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=n}getHeader(e){return ka(this,null,function*(){let r=e.getKey(),n=this.cache.get(r);if(n)return n.lastUsed=this.counter++,yield n.data;let l=new Promise((h,u)=>{T4(e,this.decompress).then(s=>{s[1]&&this.cache.set(s[1][0],{lastUsed:this.counter++,data:Promise.resolve(s[1][2])}),h(s[0]),this.prune()}).catch(s=>{u(s)})});return this.cache.set(r,{lastUsed:this.counter++,data:l}),l})}getDirectory(e,r,n,l){return ka(this,null,function*(){let h=`${e.getKey()}|${l.etag||""}|${r}|${n}`,u=this.cache.get(h);if(u)return u.lastUsed=this.counter++,yield u.data;let s=new Promise((v,w)=>{S4(e,this.decompress,r,n,l).then(I=>{v(I),this.prune()}).catch(I=>{w(I)})});return this.cache.set(h,{lastUsed:this.counter++,data:s}),s})}prune(){if(this.cache.size>=this.maxCacheEntries){let e=1/0,r;this.cache.forEach((n,l)=>{n.lastUsed<e&&(e=n.lastUsed,r=l)}),r&&this.cache.delete(r)}}invalidate(e){return ka(this,null,function*(){let r=e.getKey();if(this.invalidations.get(r))return yield this.invalidations.get(r);this.cache.delete(e.getKey());let n=new Promise((l,h)=>{this.getHeader(e).then(u=>{l(),this.invalidations.delete(r)}).catch(u=>{h(u)})});this.invalidations.set(r,n)})}};Ci(fx,"SharedPromiseCache");var NR=fx,gx=class{constructor(e,r,n){typeof e=="string"?this.source=new TR(e):this.source=e,n?this.decompress=n:this.decompress=mp,r?this.cache=r:this.cache=new NR}getHeader(){return ka(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(e,r,n,l){return ka(this,null,function*(){let h=lx(e,r,n),u=yield this.cache.getHeader(this.source);if(e<u.minZoom||e>u.maxZoom)return;let s=u.rootDirectoryOffset,v=u.rootDirectoryLength;for(let w=0;w<=3;w++){let I=yield this.cache.getDirectory(this.source,s,v,u),M=cx(I,h);if(M){if(M.runLength>0){let U=yield this.source.getBytes(u.tileDataOffset+M.offset,M.length,l,u.etag);return{data:yield this.decompress(U.data,u.tileCompression),cacheControl:U.cacheControl,expires:U.expires}}s=u.leafDirectoryOffset+M.offset,v=M.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(e,r,n,l){return ka(this,null,function*(){try{return yield this.getZxyAttempt(e,r,n,l)}catch(h){if(h instanceof wm)return this.cache.invalidate(this.source),yield this.getZxyAttempt(e,r,n,l);throw h}})}getMetadataAttempt(){return ka(this,null,function*(){let e=yield this.cache.getHeader(this.source),r=yield this.source.getBytes(e.jsonMetadataOffset,e.jsonMetadataLength,void 0,e.etag),n=yield this.decompress(r.data,e.internalCompression),l=new TextDecoder("utf-8");return JSON.parse(l.decode(n))})}getMetadata(){return ka(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(e){if(e instanceof wm)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw e}})}getTileJson(e){return ka(this,null,function*(){let r=yield this.getHeader(),n=yield this.getMetadata(),l=Ax(r.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${e}/{z}/{x}/{y}${l}`],vector_layers:n.vector_layers,attribution:n.attribution,description:n.description,name:n.name,version:n.version,bounds:[r.minLon,r.minLat,r.maxLon,r.maxLat],center:[r.centerLon,r.centerLat,r.centerZoom],minzoom:r.minZoom,maxzoom:r.maxZoom}})}};Ci(gx,"PMTiles");var Ng=gx;const YR=180/Math.PI;function Ly(t,e){return t/Math.pow(2,e)*360-180}function ky(t,e){const r=Math.PI-2*Math.PI*t/Math.pow(2,e);return YR*Math.atan(.5*(Math.exp(r)-Math.exp(-r)))}function Qy(t){const e=Ly(t[0]+1,t[2]),r=Ly(t[0],t[2]),n=ky(t[1]+1,t[2]),l=ky(t[1],t[2]);return[r,n,e,l]}function PR(t){return[[t[0]*2,t[1]*2,t[2]+1],[t[0]*2+1,t[1]*2,t[2]+1],[t[0]*2+1,t[1]*2+1,t[2]+1],[t[0]*2,t[1]*2+1,t[2]+1]]}function LR(t){return[t[0]>>1,t[1]>>1,t[2]-1]}function kR(t){return PR(LR(t))}const{min:QR,max:DR}=Math,KA=(t,e=0,r=1)=>QR(DR(e,t),r),N4=t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=KA(t[e],0,255)):e===3&&(t[e]=KA(t[e],0,1));return t},px={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])px[`[object ${t}]`]=t.toLowerCase();function Vr(t){return px[Object.prototype.toString.call(t)]||"object"}const Qr=(t,e=null)=>t.length>=3?Array.prototype.slice.call(t):Vr(t[0])=="object"&&e?e.split("").filter(r=>t[0][r]!==void 0).map(r=>t[0][r]):t[0].slice(0),Wu=t=>{if(t.length<2)return null;const e=t.length-1;return Vr(t[e])=="string"?t[e].toLowerCase():null},{PI:_p,min:mx,max:_x}=Math,gs=t=>Math.round(t*100)/100,Bm=t=>Math.round(t*100)/100,Do=_p*2,l3=_p/3,zR=_p/180,ZR=180/_p;function bx(t){return[...t.slice(0,3).reverse(),...t.slice(3)]}const Pr={format:{},autodetect:[]};class zt{constructor(...e){const r=this;if(Vr(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let n=Wu(e),l=!1;if(!n){l=!0,Pr.sorted||(Pr.autodetect=Pr.autodetect.sort((h,u)=>u.p-h.p),Pr.sorted=!0);for(let h of Pr.autodetect)if(n=h.test(...e),n)break}if(Pr.format[n]){const h=Pr.format[n].apply(null,l?e:e.slice(0,-1));r._rgb=N4(h)}else throw new Error("unknown format: "+e);r._rgb.length===3&&r._rgb.push(1)}toString(){return Vr(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const OR="3.1.2",Jr=(...t)=>new zt(...t);Jr.version=OR;const Ou={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},HR=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,XR=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,yx=t=>{if(t.match(HR)){(t.length===4||t.length===7)&&(t=t.substr(1)),t.length===3&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const e=parseInt(t,16),r=e>>16,n=e>>8&255,l=e&255;return[r,n,l,1]}if(t.match(XR)){(t.length===5||t.length===9)&&(t=t.substr(1)),t.length===4&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16),r=e>>24&255,n=e>>16&255,l=e>>8&255,h=Math.round((e&255)/255*100)/100;return[r,n,l,h]}throw new Error(`unknown hex color: ${t}`)},{round:l1}=Math,vx=(...t)=>{let[e,r,n,l]=Qr(t,"rgba"),h=Wu(t)||"auto";l===void 0&&(l=1),h==="auto"&&(h=l<1?"rgba":"rgb"),e=l1(e),r=l1(r),n=l1(n);let s="000000"+(e<<16|r<<8|n).toString(16);s=s.substr(s.length-6);let v="0"+l1(l*255).toString(16);switch(v=v.substr(v.length-2),h.toLowerCase()){case"rgba":return`#${s}${v}`;case"argb":return`#${v}${s}`;default:return`#${s}`}};zt.prototype.name=function(){const t=vx(this._rgb,"rgb");for(let e of Object.keys(Ou))if(Ou[e]===t)return e.toLowerCase();return t};Pr.format.named=t=>{if(t=t.toLowerCase(),Ou[t])return yx(Ou[t]);throw new Error("unknown color name: "+t)};Pr.autodetect.push({p:5,test:(t,...e)=>{if(!e.length&&Vr(t)==="string"&&Ou[t.toLowerCase()])return"named"}});zt.prototype.alpha=function(t,e=!1){return t!==void 0&&Vr(t)==="number"?e?(this._rgb[3]=t,this):new zt([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]};zt.prototype.clipped=function(){return this._rgb._clipped||!1};const ho={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},VR=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Vo(t){const e=VR.get(String(t).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+t);ho.labWhitePoint=t,ho.Xn=e[0],ho.Zn=e[1]}function C0(){return ho.labWhitePoint}const Y4=(...t)=>{t=Qr(t,"lab");const[e,r,n]=t,[l,h,u]=GR(e,r,n),[s,v,w]=xx(l,h,u);return[s,v,w,t.length>3?t[3]:1]},GR=(t,e,r)=>{const{kE:n,kK:l,kKE:h,Xn:u,Yn:s,Zn:v}=ho,w=(t+16)/116,I=.002*e+w,M=w-.005*r,U=I*I*I,C=M*M*M,S=U>n?U:(116*I-16)/l,k=t>h?Math.pow((t+16)/116,3):t/l,z=C>n?C:(116*M-16)/l,Z=S*u,G=k*s,se=z*v;return[Z,G,se]},A3=t=>{const e=Math.sign(t);return t=Math.abs(t),(t<=.0031308?t*12.92:1.055*Math.pow(t,1/2.4)-.055)*e},xx=(t,e,r)=>{const{MtxAdaptMa:n,MtxAdaptMaI:l,MtxXYZ2RGB:h,RefWhiteRGB:u,Xn:s,Yn:v,Zn:w}=ho,I=s*n.m00+v*n.m10+w*n.m20,M=s*n.m01+v*n.m11+w*n.m21,U=s*n.m02+v*n.m12+w*n.m22,C=u.X*n.m00+u.Y*n.m10+u.Z*n.m20,S=u.X*n.m01+u.Y*n.m11+u.Z*n.m21,k=u.X*n.m02+u.Y*n.m12+u.Z*n.m22,z=(t*n.m00+e*n.m10+r*n.m20)*(C/I),Z=(t*n.m01+e*n.m11+r*n.m21)*(S/M),G=(t*n.m02+e*n.m12+r*n.m22)*(k/U),se=z*l.m00+Z*l.m10+G*l.m20,re=z*l.m01+Z*l.m11+G*l.m21,Ae=z*l.m02+Z*l.m12+G*l.m22,J=A3(se*h.m00+re*h.m10+Ae*h.m20),te=A3(se*h.m01+re*h.m11+Ae*h.m21),X=A3(se*h.m02+re*h.m12+Ae*h.m22);return[J*255,te*255,X*255]},P4=(...t)=>{const[e,r,n,...l]=Qr(t,"rgb"),[h,u,s]=wx(e,r,n),[v,w,I]=jR(h,u,s);return[v,w,I,...l.length>0&&l[0]<1?[l[0]]:[]]};function jR(t,e,r){const{Xn:n,Yn:l,Zn:h,kE:u,kK:s}=ho,v=t/n,w=e/l,I=r/h,M=v>u?Math.pow(v,1/3):(s*v+16)/116,U=w>u?Math.pow(w,1/3):(s*w+16)/116,C=I>u?Math.pow(I,1/3):(s*I+16)/116;return[116*U-16,500*(M-U),200*(U-C)]}function c3(t){const e=Math.sign(t);return t=Math.abs(t),(t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4))*e}const wx=(t,e,r)=>{t=c3(t/255),e=c3(e/255),r=c3(r/255);const{MtxRGB2XYZ:n,MtxAdaptMa:l,MtxAdaptMaI:h,Xn:u,Yn:s,Zn:v,As:w,Bs:I,Cs:M}=ho;let U=t*n.m00+e*n.m10+r*n.m20,C=t*n.m01+e*n.m11+r*n.m21,S=t*n.m02+e*n.m12+r*n.m22;const k=u*l.m00+s*l.m10+v*l.m20,z=u*l.m01+s*l.m11+v*l.m21,Z=u*l.m02+s*l.m12+v*l.m22;let G=U*l.m00+C*l.m10+S*l.m20,se=U*l.m01+C*l.m11+S*l.m21,re=U*l.m02+C*l.m12+S*l.m22;return G*=k/w,se*=z/I,re*=Z/M,U=G*h.m00+se*h.m10+re*h.m20,C=G*h.m01+se*h.m11+re*h.m21,S=G*h.m02+se*h.m12+re*h.m22,[U,C,S]};zt.prototype.lab=function(){return P4(this._rgb)};const KR=(...t)=>new zt(...t,"lab");Object.assign(Jr,{lab:KR,getLabWhitePoint:C0,setLabWhitePoint:Vo});Pr.format.lab=Y4;Pr.autodetect.push({p:2,test:(...t)=>{if(t=Qr(t,"lab"),Vr(t)==="array"&&t.length===3)return"lab"}});zt.prototype.darken=function(t=1){const e=this,r=e.lab();return r[0]-=ho.Kn*t,new zt(r,"lab").alpha(e.alpha(),!0)};zt.prototype.brighten=function(t=1){return this.darken(-t)};zt.prototype.darker=zt.prototype.darken;zt.prototype.brighter=zt.prototype.brighten;zt.prototype.get=function(t){const[e,r]=t.split("."),n=this[e]();if(r){const l=e.indexOf(r)-(e.substr(0,2)==="ok"?2:0);if(l>-1)return n[l];throw new Error(`unknown channel ${r} in mode ${e}`)}else return n};const{pow:$R}=Math,qR=1e-7,WR=20;zt.prototype.luminance=function(t,e="rgb"){if(t!==void 0&&Vr(t)==="number"){if(t===0)return new zt([0,0,0,this._rgb[3]],"rgb");if(t===1)return new zt([255,255,255,this._rgb[3]],"rgb");let r=this.luminance(),n=WR;const l=(u,s)=>{const v=u.interpolate(s,.5,e),w=v.luminance();return Math.abs(t-w)<qR||!n--?v:w>t?l(u,v):l(v,s)},h=(r>t?l(new zt([0,0,0]),this):l(this,new zt([255,255,255]))).rgb();return new zt([...h,this._rgb[3]])}return JR(...this._rgb.slice(0,3))};const JR=(t,e,r)=>(t=u3(t),e=u3(e),r=u3(r),.2126*t+.7152*e+.0722*r),u3=t=>(t/=255,t<=.03928?t/12.92:$R((t+.055)/1.055,2.4)),en={},Hu=(t,e,r=.5,...n)=>{let l=n[0]||"lrgb";if(!en[l]&&!n.length&&(l=Object.keys(en)[0]),!en[l])throw new Error(`interpolation mode ${l} is not defined`);return Vr(t)!=="object"&&(t=new zt(t)),Vr(e)!=="object"&&(e=new zt(e)),en[l](t,e,r).alpha(t.alpha()+r*(e.alpha()-t.alpha()))};zt.prototype.mix=zt.prototype.interpolate=function(t,e=.5,...r){return Hu(this,t,e,...r)};zt.prototype.premultiply=function(t=!1){const e=this._rgb,r=e[3];return t?(this._rgb=[e[0]*r,e[1]*r,e[2]*r,r],this):new zt([e[0]*r,e[1]*r,e[2]*r,r],"rgb")};const{sin:eI,cos:tI}=Math,Bx=(...t)=>{let[e,r,n]=Qr(t,"lch");return isNaN(n)&&(n=0),n=n*zR,[e,tI(n)*r,eI(n)*r]},L4=(...t)=>{t=Qr(t,"lch");const[e,r,n]=t,[l,h,u]=Bx(e,r,n),[s,v,w]=Y4(l,h,u);return[s,v,w,t.length>3?t[3]:1]},rI=(...t)=>{const e=bx(Qr(t,"hcl"));return L4(...e)},{sqrt:iI,atan2:aI,round:nI}=Math,Cx=(...t)=>{const[e,r,n]=Qr(t,"lab"),l=iI(r*r+n*n);let h=(aI(n,r)*ZR+360)%360;return nI(l*1e4)===0&&(h=Number.NaN),[e,l,h]},k4=(...t)=>{const[e,r,n,...l]=Qr(t,"rgb"),[h,u,s]=P4(e,r,n),[v,w,I]=Cx(h,u,s);return[v,w,I,...l.length>0&&l[0]<1?[l[0]]:[]]};zt.prototype.lch=function(){return k4(this._rgb)};zt.prototype.hcl=function(){return bx(k4(this._rgb))};const sI=(...t)=>new zt(...t,"lch"),oI=(...t)=>new zt(...t,"hcl");Object.assign(Jr,{lch:sI,hcl:oI});Pr.format.lch=L4;Pr.format.hcl=rI;["lch","hcl"].forEach(t=>Pr.autodetect.push({p:2,test:(...e)=>{if(e=Qr(e,t),Vr(e)==="array"&&e.length===3)return t}}));zt.prototype.saturate=function(t=1){const e=this,r=e.lch();return r[1]+=ho.Kn*t,r[1]<0&&(r[1]=0),new zt(r,"lch").alpha(e.alpha(),!0)};zt.prototype.desaturate=function(t=1){return this.saturate(-t)};zt.prototype.set=function(t,e,r=!1){const[n,l]=t.split("."),h=this[n]();if(l){const u=n.indexOf(l)-(n.substr(0,2)==="ok"?2:0);if(u>-1){if(Vr(e)=="string")switch(e.charAt(0)){case"+":h[u]+=+e;break;case"-":h[u]+=+e;break;case"*":h[u]*=+e.substr(1);break;case"/":h[u]/=+e.substr(1);break;default:h[u]=+e}else if(Vr(e)==="number")h[u]=e;else throw new Error("unsupported value for Color.set");const s=new zt(h,n);return r?(this._rgb=s._rgb,this):s}throw new Error(`unknown channel ${l} in mode ${n}`)}else return h};zt.prototype.tint=function(t=.5,...e){return Hu(this,"white",t,...e)};zt.prototype.shade=function(t=.5,...e){return Hu(this,"black",t,...e)};const lI=(t,e,r)=>{const n=t._rgb,l=e._rgb;return new zt(n[0]+r*(l[0]-n[0]),n[1]+r*(l[1]-n[1]),n[2]+r*(l[2]-n[2]),"rgb")};en.rgb=lI;const{sqrt:h3,pow:su}=Math,AI=(t,e,r)=>{const[n,l,h]=t._rgb,[u,s,v]=e._rgb;return new zt(h3(su(n,2)*(1-r)+su(u,2)*r),h3(su(l,2)*(1-r)+su(s,2)*r),h3(su(h,2)*(1-r)+su(v,2)*r),"rgb")};en.lrgb=AI;const cI=(t,e,r)=>{const n=t.lab(),l=e.lab();return new zt(n[0]+r*(l[0]-n[0]),n[1]+r*(l[1]-n[1]),n[2]+r*(l[2]-n[2]),"lab")};en.lab=cI;const Ju=(t,e,r,n)=>{let l,h;n==="hsl"?(l=t.hsl(),h=e.hsl()):n==="hsv"?(l=t.hsv(),h=e.hsv()):n==="hcg"?(l=t.hcg(),h=e.hcg()):n==="hsi"?(l=t.hsi(),h=e.hsi()):n==="lch"||n==="hcl"?(n="hcl",l=t.hcl(),h=e.hcl()):n==="oklch"&&(l=t.oklch().reverse(),h=e.oklch().reverse());let u,s,v,w,I,M;(n.substr(0,1)==="h"||n==="oklch")&&([u,v,I]=l,[s,w,M]=h);let U,C,S,k;return!isNaN(u)&&!isNaN(s)?(s>u&&s-u>180?k=s-(u+360):s<u&&u-s>180?k=s+360-u:k=s-u,C=u+r*k):isNaN(u)?isNaN(s)?C=Number.NaN:(C=s,(I==1||I==0)&&n!="hsv"&&(U=w)):(C=u,(M==1||M==0)&&n!="hsv"&&(U=v)),U===void 0&&(U=v+r*(w-v)),S=I+r*(M-I),n==="oklch"?new zt([S,U,C],n):new zt([C,U,S],n)},Mx=(t,e,r)=>Ju(t,e,r,"lch");en.lch=Mx;en.hcl=Mx;const uI=t=>{if(Vr(t)=="number"&&t>=0&&t<=16777215){const e=t>>16,r=t>>8&255,n=t&255;return[e,r,n,1]}throw new Error("unknown num color: "+t)},hI=(...t)=>{const[e,r,n]=Qr(t,"rgb");return(e<<16)+(r<<8)+n};zt.prototype.num=function(){return hI(this._rgb)};const dI=(...t)=>new zt(...t,"num");Object.assign(Jr,{num:dI});Pr.format.num=uI;Pr.autodetect.push({p:5,test:(...t)=>{if(t.length===1&&Vr(t[0])==="number"&&t[0]>=0&&t[0]<=16777215)return"num"}});const fI=(t,e,r)=>{const n=t.num(),l=e.num();return new zt(n+r*(l-n),"num")};en.num=fI;const{floor:gI}=Math,pI=(...t)=>{t=Qr(t,"hcg");let[e,r,n]=t,l,h,u;n=n*255;const s=r*255;if(r===0)l=h=u=n;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const v=gI(e),w=e-v,I=n*(1-r),M=I+s*(1-w),U=I+s*w,C=I+s;switch(v){case 0:[l,h,u]=[C,U,I];break;case 1:[l,h,u]=[M,C,I];break;case 2:[l,h,u]=[I,C,U];break;case 3:[l,h,u]=[I,M,C];break;case 4:[l,h,u]=[U,I,C];break;case 5:[l,h,u]=[C,I,M];break}}return[l,h,u,t.length>3?t[3]:1]},mI=(...t)=>{const[e,r,n]=Qr(t,"rgb"),l=mx(e,r,n),h=_x(e,r,n),u=h-l,s=u*100/255,v=l/(255-u)*100;let w;return u===0?w=Number.NaN:(e===h&&(w=(r-n)/u),r===h&&(w=2+(n-e)/u),n===h&&(w=4+(e-r)/u),w*=60,w<0&&(w+=360)),[w,s,v]};zt.prototype.hcg=function(){return mI(this._rgb)};const _I=(...t)=>new zt(...t,"hcg");Jr.hcg=_I;Pr.format.hcg=pI;Pr.autodetect.push({p:1,test:(...t)=>{if(t=Qr(t,"hcg"),Vr(t)==="array"&&t.length===3)return"hcg"}});const bI=(t,e,r)=>Ju(t,e,r,"hcg");en.hcg=bI;const{cos:ou}=Math,yI=(...t)=>{t=Qr(t,"hsi");let[e,r,n]=t,l,h,u;return isNaN(e)&&(e=0),isNaN(r)&&(r=0),e>360&&(e-=360),e<0&&(e+=360),e/=360,e<1/3?(u=(1-r)/3,l=(1+r*ou(Do*e)/ou(l3-Do*e))/3,h=1-(u+l)):e<2/3?(e-=1/3,l=(1-r)/3,h=(1+r*ou(Do*e)/ou(l3-Do*e))/3,u=1-(l+h)):(e-=2/3,h=(1-r)/3,u=(1+r*ou(Do*e)/ou(l3-Do*e))/3,l=1-(h+u)),l=KA(n*l*3),h=KA(n*h*3),u=KA(n*u*3),[l*255,h*255,u*255,t.length>3?t[3]:1]},{min:vI,sqrt:xI,acos:wI}=Math,BI=(...t)=>{let[e,r,n]=Qr(t,"rgb");e/=255,r/=255,n/=255;let l;const h=vI(e,r,n),u=(e+r+n)/3,s=u>0?1-h/u:0;return s===0?l=NaN:(l=(e-r+(e-n))/2,l/=xI((e-r)*(e-r)+(e-n)*(r-n)),l=wI(l),n>r&&(l=Do-l),l/=Do),[l*360,s,u]};zt.prototype.hsi=function(){return BI(this._rgb)};const CI=(...t)=>new zt(...t,"hsi");Jr.hsi=CI;Pr.format.hsi=yI;Pr.autodetect.push({p:2,test:(...t)=>{if(t=Qr(t,"hsi"),Vr(t)==="array"&&t.length===3)return"hsi"}});const MI=(t,e,r)=>Ju(t,e,r,"hsi");en.hsi=MI;const Cm=(...t)=>{t=Qr(t,"hsl");const[e,r,n]=t;let l,h,u;if(r===0)l=h=u=n*255;else{const s=[0,0,0],v=[0,0,0],w=n<.5?n*(1+r):n+r-n*r,I=2*n-w,M=e/360;s[0]=M+1/3,s[1]=M,s[2]=M-1/3;for(let U=0;U<3;U++)s[U]<0&&(s[U]+=1),s[U]>1&&(s[U]-=1),6*s[U]<1?v[U]=I+(w-I)*6*s[U]:2*s[U]<1?v[U]=w:3*s[U]<2?v[U]=I+(w-I)*(2/3-s[U])*6:v[U]=I;[l,h,u]=[v[0]*255,v[1]*255,v[2]*255]}return t.length>3?[l,h,u,t[3]]:[l,h,u,1]},Rx=(...t)=>{t=Qr(t,"rgba");let[e,r,n]=t;e/=255,r/=255,n/=255;const l=mx(e,r,n),h=_x(e,r,n),u=(h+l)/2;let s,v;return h===l?(s=0,v=Number.NaN):s=u<.5?(h-l)/(h+l):(h-l)/(2-h-l),e==h?v=(r-n)/(h-l):r==h?v=2+(n-e)/(h-l):n==h&&(v=4+(e-r)/(h-l)),v*=60,v<0&&(v+=360),t.length>3&&t[3]!==void 0?[v,s,u,t[3]]:[v,s,u]};zt.prototype.hsl=function(){return Rx(this._rgb)};const RI=(...t)=>new zt(...t,"hsl");Jr.hsl=RI;Pr.format.hsl=Cm;Pr.autodetect.push({p:2,test:(...t)=>{if(t=Qr(t,"hsl"),Vr(t)==="array"&&t.length===3)return"hsl"}});const II=(t,e,r)=>Ju(t,e,r,"hsl");en.hsl=II;const{floor:UI}=Math,EI=(...t)=>{t=Qr(t,"hsv");let[e,r,n]=t,l,h,u;if(n*=255,r===0)l=h=u=n;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const s=UI(e),v=e-s,w=n*(1-r),I=n*(1-r*v),M=n*(1-r*(1-v));switch(s){case 0:[l,h,u]=[n,M,w];break;case 1:[l,h,u]=[I,n,w];break;case 2:[l,h,u]=[w,n,M];break;case 3:[l,h,u]=[w,I,n];break;case 4:[l,h,u]=[M,w,n];break;case 5:[l,h,u]=[n,w,I];break}}return[l,h,u,t.length>3?t[3]:1]},{min:FI,max:TI}=Math,SI=(...t)=>{t=Qr(t,"rgb");let[e,r,n]=t;const l=FI(e,r,n),h=TI(e,r,n),u=h-l;let s,v,w;return w=h/255,h===0?(s=Number.NaN,v=0):(v=u/h,e===h&&(s=(r-n)/u),r===h&&(s=2+(n-e)/u),n===h&&(s=4+(e-r)/u),s*=60,s<0&&(s+=360)),[s,v,w]};zt.prototype.hsv=function(){return SI(this._rgb)};const NI=(...t)=>new zt(...t,"hsv");Jr.hsv=NI;Pr.format.hsv=EI;Pr.autodetect.push({p:2,test:(...t)=>{if(t=Qr(t,"hsv"),Vr(t)==="array"&&t.length===3)return"hsv"}});const YI=(t,e,r)=>Ju(t,e,r,"hsv");en.hsv=YI;function Yg(t,e){let r=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(u=>[u]));let n=e[0].length,l=e[0].map((u,s)=>e.map(v=>v[s])),h=t.map(u=>l.map(s=>Array.isArray(u)?u.reduce((v,w,I)=>v+w*(s[I]||0),0):s.reduce((v,w)=>v+w*u,0)));return r===1&&(h=h[0]),n===1?h.map(u=>u[0]):h}const Q4=(...t)=>{t=Qr(t,"lab");const[e,r,n,...l]=t,[h,u,s]=PI([e,r,n]),[v,w,I]=xx(h,u,s);return[v,w,I,...l.length>0&&l[0]<1?[l[0]]:[]]};function PI(t){var e=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],r=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=Yg(r,t);return Yg(e,n.map(l=>l**3))}const D4=(...t)=>{const[e,r,n,...l]=Qr(t,"rgb"),h=wx(e,r,n);return[...LI(h),...l.length>0&&l[0]<1?[l[0]]:[]]};function LI(t){const e=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],r=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=Yg(e,t);return Yg(r,n.map(l=>Math.cbrt(l)))}zt.prototype.oklab=function(){return D4(this._rgb)};const kI=(...t)=>new zt(...t,"oklab");Object.assign(Jr,{oklab:kI});Pr.format.oklab=Q4;Pr.autodetect.push({p:2,test:(...t)=>{if(t=Qr(t,"oklab"),Vr(t)==="array"&&t.length===3)return"oklab"}});const QI=(t,e,r)=>{const n=t.oklab(),l=e.oklab();return new zt(n[0]+r*(l[0]-n[0]),n[1]+r*(l[1]-n[1]),n[2]+r*(l[2]-n[2]),"oklab")};en.oklab=QI;const DI=(t,e,r)=>Ju(t,e,r,"oklch");en.oklch=DI;const{pow:d3,sqrt:f3,PI:g3,cos:Dy,sin:zy,atan2:zI}=Math,ZI=(t,e="lrgb",r=null)=>{const n=t.length;r||(r=Array.from(new Array(n)).map(()=>1));const l=n/r.reduce(function(M,U){return M+U});if(r.forEach((M,U)=>{r[U]*=l}),t=t.map(M=>new zt(M)),e==="lrgb")return OI(t,r);const h=t.shift(),u=h.get(e),s=[];let v=0,w=0;for(let M=0;M<u.length;M++)if(u[M]=(u[M]||0)*r[0],s.push(isNaN(u[M])?0:r[0]),e.charAt(M)==="h"&&!isNaN(u[M])){const U=u[M]/180*g3;v+=Dy(U)*r[0],w+=zy(U)*r[0]}let I=h.alpha()*r[0];t.forEach((M,U)=>{const C=M.get(e);I+=M.alpha()*r[U+1];for(let S=0;S<u.length;S++)if(!isNaN(C[S]))if(s[S]+=r[U+1],e.charAt(S)==="h"){const k=C[S]/180*g3;v+=Dy(k)*r[U+1],w+=zy(k)*r[U+1]}else u[S]+=C[S]*r[U+1]});for(let M=0;M<u.length;M++)if(e.charAt(M)==="h"){let U=zI(w/s[M],v/s[M])/g3*180;for(;U<0;)U+=360;for(;U>=360;)U-=360;u[M]=U}else u[M]=u[M]/s[M];return I/=n,new zt(u,e).alpha(I>.99999?1:I,!0)},OI=(t,e)=>{const r=t.length,n=[0,0,0,0];for(let l=0;l<t.length;l++){const h=t[l],u=e[l]/r,s=h._rgb;n[0]+=d3(s[0],2)*u,n[1]+=d3(s[1],2)*u,n[2]+=d3(s[2],2)*u,n[3]+=s[3]*u}return n[0]=f3(n[0]),n[1]=f3(n[1]),n[2]=f3(n[2]),n[3]>.9999999&&(n[3]=1),new zt(N4(n))},{pow:HI}=Math;function Pg(t){let e="rgb",r=Jr("#ccc"),n=0,l=[0,1],h=[],u=[0,0],s=!1,v=[],w=!1,I=0,M=1,U=!1,C={},S=!0,k=1;const z=function(te){if(te=te||["#fff","#000"],te&&Vr(te)==="string"&&Jr.brewer&&Jr.brewer[te.toLowerCase()]&&(te=Jr.brewer[te.toLowerCase()]),Vr(te)==="array"){te.length===1&&(te=[te[0],te[0]]),te=te.slice(0);for(let X=0;X<te.length;X++)te[X]=Jr(te[X]);h.length=0;for(let X=0;X<te.length;X++)h.push(X/(te.length-1))}return Ae(),v=te},Z=function(te){if(s!=null){const X=s.length-1;let W=0;for(;W<X&&te>=s[W];)W++;return W-1}return 0};let G=te=>te,se=te=>te;const re=function(te,X){let W,he;if(X==null&&(X=!1),isNaN(te)||te===null)return r;X?he=te:s&&s.length>2?he=Z(te)/(s.length-2):M!==I?he=(te-I)/(M-I):he=1,he=se(he),X||(he=G(he)),k!==1&&(he=HI(he,k)),he=u[0]+he*(1-u[0]-u[1]),he=KA(he,0,1);const ue=Math.floor(he*1e4);if(S&&C[ue])W=C[ue];else{if(Vr(v)==="array")for(let _e=0;_e<h.length;_e++){const xe=h[_e];if(he<=xe){W=v[_e];break}if(he>=xe&&_e===h.length-1){W=v[_e];break}if(he>xe&&he<h[_e+1]){he=(he-xe)/(h[_e+1]-xe),W=Jr.interpolate(v[_e],v[_e+1],he,e);break}}else Vr(v)==="function"&&(W=v(he));S&&(C[ue]=W)}return W};var Ae=()=>C={};z(t);const J=function(te){const X=Jr(re(te));return w&&X[w]?X[w]():X};return J.classes=function(te){if(te!=null){if(Vr(te)==="array")s=te,l=[te[0],te[te.length-1]];else{const X=Jr.analyze(l);te===0?s=[X.min,X.max]:s=Jr.limits(X,"e",te)}return J}return s},J.domain=function(te){if(!arguments.length)return l;I=te[0],M=te[te.length-1],h=[];const X=v.length;if(te.length===X&&I!==M)for(let W of Array.from(te))h.push((W-I)/(M-I));else{for(let W=0;W<X;W++)h.push(W/(X-1));if(te.length>2){const W=te.map((ue,_e)=>_e/(te.length-1)),he=te.map(ue=>(ue-I)/(M-I));he.every((ue,_e)=>W[_e]===ue)||(se=ue=>{if(ue<=0||ue>=1)return ue;let _e=0;for(;ue>=he[_e+1];)_e++;const xe=(ue-he[_e])/(he[_e+1]-he[_e]);return W[_e]+xe*(W[_e+1]-W[_e])})}}return l=[I,M],J},J.mode=function(te){return arguments.length?(e=te,Ae(),J):e},J.range=function(te,X){return z(te),J},J.out=function(te){return w=te,J},J.spread=function(te){return arguments.length?(n=te,J):n},J.correctLightness=function(te){return te==null&&(te=!0),U=te,Ae(),U?G=function(X){const W=re(0,!0).lab()[0],he=re(1,!0).lab()[0],ue=W>he;let _e=re(X,!0).lab()[0];const xe=W+(he-W)*X;let He=_e-xe,Ve=0,Ke=1,ot=20;for(;Math.abs(He)>.01&&ot-- >0;)(function(){return ue&&(He*=-1),He<0?(Ve=X,X+=(Ke-X)*.5):(Ke=X,X+=(Ve-X)*.5),_e=re(X,!0).lab()[0],He=_e-xe})();return X}:G=X=>X,J},J.padding=function(te){return te!=null?(Vr(te)==="number"&&(te=[te,te]),u=te,J):u},J.colors=function(te,X){arguments.length<2&&(X="hex");let W=[];if(arguments.length===0)W=v.slice(0);else if(te===1)W=[J(.5)];else if(te>1){const he=l[0],ue=l[1]-he;W=XI(0,te).map(_e=>J(he+_e/(te-1)*ue))}else{t=[];let he=[];if(s&&s.length>2)for(let ue=1,_e=s.length,xe=1<=_e;xe?ue<_e:ue>_e;xe?ue++:ue--)he.push((s[ue-1]+s[ue])*.5);else he=l;W=he.map(ue=>J(ue))}return Jr[X]&&(W=W.map(he=>he[X]())),W},J.cache=function(te){return te!=null?(S=te,J):S},J.gamma=function(te){return te!=null?(k=te,J):k},J.nodata=function(te){return te!=null?(r=Jr(te),J):r},J}function XI(t,e,r){let n=[],l=t<e,h=e;for(let u=t;l?u<h:u>h;l?u++:u--)n.push(u);return n}const VI=function(t){let e=[1,1];for(let r=1;r<t;r++){let n=[1];for(let l=1;l<=e.length;l++)n[l]=(e[l]||0)+e[l-1];e=n}return e},GI=function(t){let e,r,n,l;if(t=t.map(h=>new zt(h)),t.length===2)[r,n]=t.map(h=>h.lab()),e=function(h){const u=[0,1,2].map(s=>r[s]+h*(n[s]-r[s]));return new zt(u,"lab")};else if(t.length===3)[r,n,l]=t.map(h=>h.lab()),e=function(h){const u=[0,1,2].map(s=>(1-h)*(1-h)*r[s]+2*(1-h)*h*n[s]+h*h*l[s]);return new zt(u,"lab")};else if(t.length===4){let h;[r,n,l,h]=t.map(u=>u.lab()),e=function(u){const s=[0,1,2].map(v=>(1-u)*(1-u)*(1-u)*r[v]+3*(1-u)*(1-u)*u*n[v]+3*(1-u)*u*u*l[v]+u*u*u*h[v]);return new zt(s,"lab")}}else if(t.length>=5){let h,u,s;h=t.map(v=>v.lab()),s=t.length-1,u=VI(s),e=function(v){const w=1-v,I=[0,1,2].map(M=>h.reduce((U,C,S)=>U+u[S]*w**(s-S)*v**S*C[M],0));return new zt(I,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return e},jI=t=>{const e=GI(t);return e.scale=()=>Pg(e),e},{round:Ix}=Math;zt.prototype.rgb=function(t=!0){return t===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ix)};zt.prototype.rgba=function(t=!0){return this._rgb.slice(0,4).map((e,r)=>r<3?t===!1?e:Ix(e):e)};const KI=(...t)=>new zt(...t,"rgb");Object.assign(Jr,{rgb:KI});Pr.format.rgb=(...t)=>{const e=Qr(t,"rgba");return e[3]===void 0&&(e[3]=1),e};Pr.autodetect.push({p:3,test:(...t)=>{if(t=Qr(t,"rgba"),Vr(t)==="array"&&(t.length===3||t.length===4&&Vr(t[3])=="number"&&t[3]>=0&&t[3]<=1))return"rgb"}});const Hs=(t,e,r)=>{if(!Hs[r])throw new Error("unknown blend mode "+r);return Hs[r](t,e)},ql=t=>(e,r)=>{const n=Jr(r).rgb(),l=Jr(e).rgb();return Jr.rgb(t(n,l))},Wl=t=>(e,r)=>{const n=[];return n[0]=t(e[0],r[0]),n[1]=t(e[1],r[1]),n[2]=t(e[2],r[2]),n},$I=t=>t,qI=(t,e)=>t*e/255,WI=(t,e)=>t>e?e:t,JI=(t,e)=>t>e?t:e,eU=(t,e)=>255*(1-(1-t/255)*(1-e/255)),tU=(t,e)=>e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255)),rU=(t,e)=>255*(1-(1-e/255)/(t/255)),iU=(t,e)=>t===255?255:(t=255*(e/255)/(1-t/255),t>255?255:t);Hs.normal=ql(Wl($I));Hs.multiply=ql(Wl(qI));Hs.screen=ql(Wl(eU));Hs.overlay=ql(Wl(tU));Hs.darken=ql(Wl(WI));Hs.lighten=ql(Wl(JI));Hs.dodge=ql(Wl(iU));Hs.burn=ql(Wl(rU));const{pow:aU,sin:nU,cos:sU}=Math;function oU(t=300,e=-1.5,r=1,n=1,l=[0,1]){let h=0,u;Vr(l)==="array"?u=l[1]-l[0]:(u=0,l=[l,l]);const s=function(v){const w=Do*((t+120)/360+e*v),I=aU(l[0]+u*v,n),U=(h!==0?r[0]+v*h:r)*I*(1-I)/2,C=sU(w),S=nU(w),k=I+U*(-.14861*C+1.78277*S),z=I+U*(-.29227*C-.90649*S),Z=I+U*(1.97294*C);return Jr(N4([k*255,z*255,Z*255,1]))};return s.start=function(v){return v==null?t:(t=v,s)},s.rotations=function(v){return v==null?e:(e=v,s)},s.gamma=function(v){return v==null?n:(n=v,s)},s.hue=function(v){return v==null?r:(r=v,Vr(r)==="array"?(h=r[1]-r[0],h===0&&(r=r[1])):h=0,s)},s.lightness=function(v){return v==null?l:(Vr(v)==="array"?(l=v,u=v[1]-v[0]):(l=[v,v],u=0),s)},s.scale=()=>Jr.scale(s),s.hue(r),s}const lU="0123456789abcdef",{floor:AU,random:cU}=Math,uU=()=>{let t="#";for(let e=0;e<6;e++)t+=lU.charAt(AU(cU()*16));return new zt(t,"hex")},{log:Zy,pow:hU,floor:dU,abs:fU}=Math;function Ux(t,e=null){const r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Vr(t)==="object"&&(t=Object.values(t)),t.forEach(n=>{e&&Vr(n)==="object"&&(n=n[e]),n!=null&&!isNaN(n)&&(r.values.push(n),r.sum+=n,n<r.min&&(r.min=n),n>r.max&&(r.max=n),r.count+=1)}),r.domain=[r.min,r.max],r.limits=(n,l)=>Ex(r,n,l),r}function Ex(t,e="equal",r=7){Vr(t)=="array"&&(t=Ux(t));const{min:n,max:l}=t,h=t.values.sort((s,v)=>s-v);if(r===1)return[n,l];const u=[];if(e.substr(0,1)==="c"&&(u.push(n),u.push(l)),e.substr(0,1)==="e"){u.push(n);for(let s=1;s<r;s++)u.push(n+s/r*(l-n));u.push(l)}else if(e.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");const s=Math.LOG10E*Zy(n),v=Math.LOG10E*Zy(l);u.push(n);for(let w=1;w<r;w++)u.push(hU(10,s+w/r*(v-s)));u.push(l)}else if(e.substr(0,1)==="q"){u.push(n);for(let s=1;s<r;s++){const v=(h.length-1)*s/r,w=dU(v);if(w===v)u.push(h[w]);else{const I=v-w;u.push(h[w]*(1-I)+h[w+1]*I)}}u.push(l)}else if(e.substr(0,1)==="k"){let s;const v=h.length,w=new Array(v),I=new Array(r);let M=!0,U=0,C=null;C=[],C.push(n);for(let z=1;z<r;z++)C.push(n+z/r*(l-n));for(C.push(l);M;){for(let Z=0;Z<r;Z++)I[Z]=0;for(let Z=0;Z<v;Z++){const G=h[Z];let se=Number.MAX_VALUE,re;for(let Ae=0;Ae<r;Ae++){const J=fU(C[Ae]-G);J<se&&(se=J,re=Ae),I[re]++,w[Z]=re}}const z=new Array(r);for(let Z=0;Z<r;Z++)z[Z]=null;for(let Z=0;Z<v;Z++)s=w[Z],z[s]===null?z[s]=h[Z]:z[s]+=h[Z];for(let Z=0;Z<r;Z++)z[Z]*=1/I[Z];M=!1;for(let Z=0;Z<r;Z++)if(z[Z]!==C[Z]){M=!0;break}C=z,U++,U>200&&(M=!1)}const S={};for(let z=0;z<r;z++)S[z]=[];for(let z=0;z<v;z++)s=w[z],S[s].push(h[z]);let k=[];for(let z=0;z<r;z++)k.push(S[z][0]),k.push(S[z][S[z].length-1]);k=k.sort((z,Z)=>z-Z),u.push(k[0]);for(let z=1;z<k.length;z+=2){const Z=k[z];!isNaN(Z)&&u.indexOf(Z)===-1&&u.push(Z)}}return u}const gU=(t,e)=>{t=new zt(t),e=new zt(e);const r=t.luminance(),n=e.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const Oy=.027,pU=5e-4,mU=.1,Hy=1.14,A1=.022,Xy=1.414,_U=(t,e)=>{t=new zt(t),e=new zt(e),t.alpha()<1&&(t=Hu(e,t,t.alpha(),"rgb"));const r=Vy(...t.rgb()),n=Vy(...e.rgb()),l=r>=A1?r:r+Math.pow(A1-r,Xy),h=n>=A1?n:n+Math.pow(A1-n,Xy),u=Math.pow(h,.56)-Math.pow(l,.57),s=Math.pow(h,.65)-Math.pow(l,.62),v=Math.abs(h-l)<pU?0:l<h?u*Hy:s*Hy;return(Math.abs(v)<mU?0:v>0?v-Oy:v+Oy)*100};function Vy(t,e,r){return .2126729*Math.pow(t/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(r/255,2.4)}const{sqrt:Yo,pow:ma,min:bU,max:yU,atan2:Gy,abs:jy,cos:c1,sin:Ky,exp:vU,PI:$y}=Math;function xU(t,e,r=1,n=1,l=1){var h=function(De){return 360*De/(2*$y)},u=function(De){return 2*$y*De/360};t=new zt(t),e=new zt(e);const[s,v,w]=Array.from(t.lab()),[I,M,U]=Array.from(e.lab()),C=(s+I)/2,S=Yo(ma(v,2)+ma(w,2)),k=Yo(ma(M,2)+ma(U,2)),z=(S+k)/2,Z=.5*(1-Yo(ma(z,7)/(ma(z,7)+ma(25,7)))),G=v*(1+Z),se=M*(1+Z),re=Yo(ma(G,2)+ma(w,2)),Ae=Yo(ma(se,2)+ma(U,2)),J=(re+Ae)/2,te=h(Gy(w,G)),X=h(Gy(U,se)),W=te>=0?te:te+360,he=X>=0?X:X+360,ue=jy(W-he)>180?(W+he+360)/2:(W+he)/2,_e=1-.17*c1(u(ue-30))+.24*c1(u(2*ue))+.32*c1(u(3*ue+6))-.2*c1(u(4*ue-63));let xe=he-W;xe=jy(xe)<=180?xe:he<=W?xe+360:xe-360,xe=2*Yo(re*Ae)*Ky(u(xe)/2);const He=I-s,Ve=Ae-re,Ke=1+.015*ma(C-50,2)/Yo(20+ma(C-50,2)),ot=1+.045*J,it=1+.015*J*_e,pt=30*vU(-ma((ue-275)/25,2)),ct=-(2*Yo(ma(J,7)/(ma(J,7)+ma(25,7))))*Ky(2*u(pt)),mt=Yo(ma(He/(r*Ke),2)+ma(Ve/(n*ot),2)+ma(xe/(l*it),2)+ct*(Ve/(n*ot))*(xe/(l*it)));return yU(0,bU(100,mt))}function wU(t,e,r="lab"){t=new zt(t),e=new zt(e);const n=t.get(r),l=e.get(r);let h=0;for(let u in n){const s=(n[u]||0)-(l[u]||0);h+=s*s}return Math.sqrt(h)}const BU=(...t)=>{try{return new zt(...t),!0}catch{return!1}},CU={cool(){return Pg([Jr.hsl(180,1,.9),Jr.hsl(250,.7,.4)])},hot(){return Pg(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Mm={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Fx=Object.keys(Mm),qy=new Map(Fx.map(t=>[t.toLowerCase(),t])),MU=typeof Proxy=="function"?new Proxy(Mm,{get(t,e){const r=e.toLowerCase();if(qy.has(r))return t[qy.get(r)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(Fx)}}):Mm,RU=(...t)=>{t=Qr(t,"cmyk");const[e,r,n,l]=t,h=t.length>4?t[4]:1;return l===1?[0,0,0,h]:[e>=1?0:255*(1-e)*(1-l),r>=1?0:255*(1-r)*(1-l),n>=1?0:255*(1-n)*(1-l),h]},{max:Wy}=Math,IU=(...t)=>{let[e,r,n]=Qr(t,"rgb");e=e/255,r=r/255,n=n/255;const l=1-Wy(e,Wy(r,n)),h=l<1?1/(1-l):0,u=(1-e-l)*h,s=(1-r-l)*h,v=(1-n-l)*h;return[u,s,v,l]};zt.prototype.cmyk=function(){return IU(this._rgb)};const UU=(...t)=>new zt(...t,"cmyk");Object.assign(Jr,{cmyk:UU});Pr.format.cmyk=RU;Pr.autodetect.push({p:2,test:(...t)=>{if(t=Qr(t,"cmyk"),Vr(t)==="array"&&t.length===4)return"cmyk"}});const EU=(...t)=>{const e=Qr(t,"hsla");let r=Wu(t)||"lsa";return e[0]=gs(e[0]||0)+"deg",e[1]=gs(e[1]*100)+"%",e[2]=gs(e[2]*100)+"%",r==="hsla"||e.length>3&&e[3]<1?(e[3]="/ "+(e.length>3?e[3]:1),r="hsla"):e.length=3,`${r.substr(0,3)}(${e.join(" ")})`},FU=(...t)=>{const e=Qr(t,"lab");let r=Wu(t)||"lab";return e[0]=gs(e[0])+"%",e[1]=gs(e[1]),e[2]=gs(e[2]),r==="laba"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lab(${e.join(" ")})`},TU=(...t)=>{const e=Qr(t,"lch");let r=Wu(t)||"lab";return e[0]=gs(e[0])+"%",e[1]=gs(e[1]),e[2]=isNaN(e[2])?"none":gs(e[2])+"deg",r==="lcha"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lch(${e.join(" ")})`},SU=(...t)=>{const e=Qr(t,"lab");return e[0]=gs(e[0]*100)+"%",e[1]=Bm(e[1]),e[2]=Bm(e[2]),e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklab(${e.join(" ")})`},Tx=(...t)=>{const[e,r,n,...l]=Qr(t,"rgb"),[h,u,s]=D4(e,r,n),[v,w,I]=Cx(h,u,s);return[v,w,I,...l.length>0&&l[0]<1?[l[0]]:[]]},NU=(...t)=>{const e=Qr(t,"lch");return e[0]=gs(e[0]*100)+"%",e[1]=Bm(e[1]),e[2]=isNaN(e[2])?"none":gs(e[2])+"deg",e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklch(${e.join(" ")})`},{round:p3}=Math,YU=(...t)=>{const e=Qr(t,"rgba");let r=Wu(t)||"rgb";if(r.substr(0,3)==="hsl")return EU(Rx(e),r);if(r.substr(0,3)==="lab"){const n=C0();Vo("d50");const l=FU(P4(e),r);return Vo(n),l}if(r.substr(0,3)==="lch"){const n=C0();Vo("d50");const l=TU(k4(e),r);return Vo(n),l}return r.substr(0,5)==="oklab"?SU(D4(e)):r.substr(0,5)==="oklch"?NU(Tx(e)):(e[0]=p3(e[0]),e[1]=p3(e[1]),e[2]=p3(e[2]),(r==="rgba"||e.length>3&&e[3]<1)&&(e[3]="/ "+(e.length>3?e[3]:1),r="rgba"),`${r.substr(0,3)}(${e.slice(0,r==="rgb"?3:4).join(" ")})`)},Sx=(...t)=>{t=Qr(t,"lch");const[e,r,n,...l]=t,[h,u,s]=Bx(e,r,n),[v,w,I]=Q4(h,u,s);return[v,w,I,...l.length>0&&l[0]<1?[l[0]]:[]]},$o=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Ds=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Lg=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,ps=/\s*/.source,eh=/\s+/.source,z4=/\s*,\s*/.source,bp=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,th=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Nx=new RegExp("^rgba?\\("+ps+[$o,$o,$o].join(eh)+th+"\\)$"),Yx=new RegExp("^rgb\\("+ps+[$o,$o,$o].join(z4)+ps+"\\)$"),Px=new RegExp("^rgba\\("+ps+[$o,$o,$o,Ds].join(z4)+ps+"\\)$"),Lx=new RegExp("^hsla?\\("+ps+[bp,Lg,Lg].join(eh)+th+"\\)$"),kx=new RegExp("^hsl?\\("+ps+[bp,Lg,Lg].join(z4)+ps+"\\)$"),Qx=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Dx=new RegExp("^lab\\("+ps+[Ds,Ds,Ds].join(eh)+th+"\\)$"),zx=new RegExp("^lch\\("+ps+[Ds,Ds,bp].join(eh)+th+"\\)$"),Zx=new RegExp("^oklab\\("+ps+[Ds,Ds,Ds].join(eh)+th+"\\)$"),Ox=new RegExp("^oklch\\("+ps+[Ds,Ds,bp].join(eh)+th+"\\)$"),{round:Hx}=Math,lu=t=>t.map((e,r)=>r<=2?KA(Hx(e),0,255):e),_a=(t,e=0,r=100,n=!1)=>(typeof t=="string"&&t.endsWith("%")&&(t=parseFloat(t.substring(0,t.length-1))/100,n?t=e+(t+1)*.5*(r-e):t=e+t*(r-e)),+t),An=(t,e)=>t==="none"?e:t,Z4=t=>{if(t=t.toLowerCase().trim(),t==="transparent")return[0,0,0,0];let e;if(Pr.format.named)try{return Pr.format.named(t)}catch{}if((e=t.match(Nx))||(e=t.match(Yx))){let r=e.slice(1,4);for(let l=0;l<3;l++)r[l]=+_a(An(r[l],0),0,255);r=lu(r);const n=e[4]!==void 0?+_a(e[4],0,1):1;return r[3]=n,r}if(e=t.match(Px)){const r=e.slice(1,5);for(let n=0;n<4;n++)r[n]=+_a(r[n],0,255);return r}if((e=t.match(Lx))||(e=t.match(kx))){const r=e.slice(1,4);r[0]=+An(r[0].replace("deg",""),0),r[1]=+_a(An(r[1],0),0,100)*.01,r[2]=+_a(An(r[2],0),0,100)*.01;const n=lu(Cm(r)),l=e[4]!==void 0?+_a(e[4],0,1):1;return n[3]=l,n}if(e=t.match(Qx)){const r=e.slice(1,4);r[1]*=.01,r[2]*=.01;const n=Cm(r);for(let l=0;l<3;l++)n[l]=Hx(n[l]);return n[3]=+e[4],n}if(e=t.match(Dx)){const r=e.slice(1,4);r[0]=_a(An(r[0],0),0,100),r[1]=_a(An(r[1],0),-125,125,!0),r[2]=_a(An(r[2],0),-125,125,!0);const n=C0();Vo("d50");const l=lu(Y4(r));Vo(n);const h=e[4]!==void 0?+_a(e[4],0,1):1;return l[3]=h,l}if(e=t.match(zx)){const r=e.slice(1,4);r[0]=_a(r[0],0,100),r[1]=_a(An(r[1],0),0,150,!1),r[2]=+An(r[2].replace("deg",""),0);const n=C0();Vo("d50");const l=lu(L4(r));Vo(n);const h=e[4]!==void 0?+_a(e[4],0,1):1;return l[3]=h,l}if(e=t.match(Zx)){const r=e.slice(1,4);r[0]=_a(An(r[0],0),0,1),r[1]=_a(An(r[1],0),-.4,.4,!0),r[2]=_a(An(r[2],0),-.4,.4,!0);const n=lu(Q4(r)),l=e[4]!==void 0?+_a(e[4],0,1):1;return n[3]=l,n}if(e=t.match(Ox)){const r=e.slice(1,4);r[0]=_a(An(r[0],0),0,1),r[1]=_a(An(r[1],0),0,.4,!1),r[2]=+An(r[2].replace("deg",""),0);const n=lu(Sx(r)),l=e[4]!==void 0?+_a(e[4],0,1):1;return n[3]=l,n}};Z4.test=t=>Nx.test(t)||Lx.test(t)||Dx.test(t)||zx.test(t)||Zx.test(t)||Ox.test(t)||Yx.test(t)||Px.test(t)||kx.test(t)||Qx.test(t)||t==="transparent";zt.prototype.css=function(t){return YU(this._rgb,t)};const PU=(...t)=>new zt(...t,"css");Jr.css=PU;Pr.format.css=Z4;Pr.autodetect.push({p:5,test:(t,...e)=>{if(!e.length&&Vr(t)==="string"&&Z4.test(t))return"css"}});Pr.format.gl=(...t)=>{const e=Qr(t,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e};const LU=(...t)=>new zt(...t,"gl");Jr.gl=LU;zt.prototype.gl=function(){const t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};zt.prototype.hex=function(t){return vx(this._rgb,t)};const kU=(...t)=>new zt(...t,"hex");Jr.hex=kU;Pr.format.hex=yx;Pr.autodetect.push({p:4,test:(t,...e)=>{if(!e.length&&Vr(t)==="string"&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});const{log:u1}=Math,Xx=t=>{const e=t/100;let r,n,l;return e<66?(r=255,n=e<6?0:-155.25485562709179-.44596950469579133*(n=e-2)+104.49216199393888*u1(n),l=e<20?0:-254.76935184120902+.8274096064007395*(l=e-10)+115.67994401066147*u1(l)):(r=351.97690566805693+.114206453784165*(r=e-55)-40.25366309332127*u1(r),n=325.4494125711974+.07943456536662342*(n=e-50)-28.0852963507957*u1(n),l=255),[r,n,l,1]},{round:QU}=Math,DU=(...t)=>{const e=Qr(t,"rgb"),r=e[0],n=e[2];let l=1e3,h=4e4;const u=.4;let s;for(;h-l>u;){s=(h+l)*.5;const v=Xx(s);v[2]/v[0]>=n/r?h=s:l=s}return QU(s)};zt.prototype.temp=zt.prototype.kelvin=zt.prototype.temperature=function(){return DU(this._rgb)};const m3=(...t)=>new zt(...t,"temp");Object.assign(Jr,{temp:m3,kelvin:m3,temperature:m3});Pr.format.temp=Pr.format.kelvin=Pr.format.temperature=Xx;zt.prototype.oklch=function(){return Tx(this._rgb)};const zU=(...t)=>new zt(...t,"oklch");Object.assign(Jr,{oklch:zU});Pr.format.oklch=Sx;Pr.autodetect.push({p:2,test:(...t)=>{if(t=Qr(t,"oklch"),Vr(t)==="array"&&t.length===3)return"oklch"}});Object.assign(Jr,{analyze:Ux,average:ZI,bezier:jI,blend:Hs,brewer:MU,Color:zt,colors:Ou,contrast:gU,contrastAPCA:_U,cubehelix:oU,deltaE:xU,distance:wU,input:Pr,interpolate:Hu,limits:Ex,mix:Hu,random:uU,scale:Pg,scales:CU,valid:BU});const Vx=async(t,e)=>{const n=await new Ng(t).getZxy(e.z,e.x,e.y);if(!n||!n.data)throw new Error("Tile data not found");const l=new Blob([n.data],{type:"image/png"});return new Promise((h,u)=>{const s=new FileReader;s.onloadend=()=>{s.result?h(s.result.toString()):u(new Error("Failed to convert blob to Base64"))},s.onerror=v=>u(v),s.readAsDataURL(l)})};var ZU=(t,e,r)=>e(r.dataEntry),OU=nt('<img loading="lazy"> <div><span class="text-lg text-white"> </span></div> <span class="absolute bottom-1 right-0 rounded-l-full bg-black/40 p-2 pl-4 text-xs text-white"> </span>',1),HU=(t,e,r)=>e(r.dataEntry.id),XU=nt('<button class="c-btn-cancel flex items-center gap-2 px-4"><!> <div></div></button>'),VU=(t,e,r)=>e(r.dataEntry.id),GU=nt('<button class="c-btn-confirm flex shrink-0 grow items-center gap-2 px-4"><!> <div></div></button>'),jU=nt('<div class="relative mb-4 flex shrink-0 grow flex-col items-center justify-center overflow-hidden rounded-lg bg-gray-300 p-2"><button class="group relative flex aspect-video w-full shrink-0 cursor-pointer overflow-hidden"><!></button> <div class="flex w-full flex-col gap-1 py-2"><div> </div> <div class="flex items-center gap-1 text-sm text-gray-600"><!><span> </span></div></div> <div class=" shrink-0"><!></div></div>');function KU(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(Cg,"$orderedLayerIds",r);let h=Qt(e,"showDataEntry",15),u=Qt(e,"itemHeight",15),s=Pt(wi(l())),v=oi(()=>V(s)?V(s).includes(e.dataEntry.id):!1),w=Pt(null);const I=Ve=>{u(Ve+20)};ua(()=>{if(V(w)&&e.index===0){const Ve=V(w).clientHeight;I(Ve),window==null||window.addEventListener("resize",()=>{if(V(w)){const Ke=V(w).clientHeight;I(Ke)}})}});let M=oi(()=>{if(e.dataEntry)return b5(e.dataEntry)});Cg.subscribe(Ve=>{Xe(s,Ve,!0)});const U=async Ve=>{if(Ve.type!=="raster")return Promise.resolve(void 0);const Ke=Ve.metaData.xyzImageTile?Ve.metaData.xyzImageTile:Mg;return Promise.resolve(Ve.format.url.replace("{z}",Ke.z.toString()).replace("{x}",Ke.x.toString()).replace("{y}",Ke.y.toString()))},C=async Ve=>{try{if(Ve.type!=="raster"||Ve.format.type!=="pmtiles")return;const Ke=Ve.metaData.xyzImageTile?Ve.metaData.xyzImageTile:Mg;return await Vx(Ve.format.url,Ke)}catch(Ke){console.error("Error fetching tile image:",Ke)}},S=async Ve=>{if(Ve.type==="raster"){if(Ve.format.type==="image")return U(Ve);if(Ve.format.type==="pmtiles")return C(Ve)}else if(Ve.type==="vector")return Ve.metaData.coverImage??QB},k=Ve=>{V(M)&&(zu.add(Ve,V(M)),hs(`${e.dataEntry.metaData.name}`,"success"))},z=Ve=>{zu.remove(Ve)};var Z=jU(),G=Ce(Z);G.__click=[ZU,h,e];var se=Ce(G);tg(se,()=>S(e.dataEntry),null,(Ve,Ke)=>{var ot=OU(),it=kt(ot),pt=Ue(it,2),Ut=Ce(pt),ct=Ce(Ut,!0);ve(Ut),ve(pt);var mt=Ue(pt,2),De=Ce(mt,!0);ve(mt),Gt(()=>{xi(it,"src",V(Ke)),Bi(it,1,`c-no-drag-icon h-full w-full rounded-md object-cover transition-transform duration-150 ${(V(v)?"":"hover:scale-110")??""}`),xi(it,"alt",e.dataEntry.metaData.name),Bi(pt,1,`pointer-events-none absolute grid h-full w-full place-items-center bg-black/50 ${(V(v)?"":"opacity-0 transition-opacity duration-150  group-hover:opacity-100")??""}`),dr(ct,V(v)?"":""),dr(De,e.dataEntry.metaData.attribution)}),Qe(Ve,ot)}),ve(G);var re=Ue(G,2),Ae=Ce(re),J=Ce(Ae,!0);ve(Ae);var te=Ue(Ae,2),X=Ce(te);_r(X,{icon:"lucide:map-pin",class:"h-5 w-5"});var W=Ue(X),he=Ce(W,!0);ve(W),ve(te),ve(re);var ue=Ue(re,2),_e=Ce(ue);{var xe=Ve=>{var Ke=XU();Ke.__click=[HU,z,e];var ot=Ce(Ke);_r(ot,{icon:"ic:round-minus",class:" h-8 w-8"}),Vi(2),ve(Ke),Qe(Ve,Ke)},He=Ve=>{var Ke=GU();Ke.__click=[VU,k,e];var ot=Ce(Ke);_r(ot,{icon:"material-symbols:add",class:" h-8 w-8"}),Vi(2),ve(Ke),Qe(Ve,Ke)};_t(_e,Ve=>{V(v)?Ve(xe):Ve(He,!1)})}ve(ue),ve(Z),gn(Z,Ve=>Xe(w,Ve),()=>V(w)),Gt(()=>{G.disabled=V(v),dr(J,e.dataEntry.metaData.name),dr(he,e.dataEntry.metaData.location)}),Qe(t,Z),or(),n()}fi(["click"]);var $U=(t,e)=>e("raster"),qU=(t,e)=>e("vector"),WU=(t,e)=>e(t),JU=nt('<div class="flex h-full flex-col gap-4 p-4 text-white"><button class="bg-sub grid w-full max-w-[300px] cursor-pointer place-items-center rounded-full p-4"></button> <button class="bg-sub grid w-full max-w-[300px] cursor-pointer place-items-center rounded-full p-4"></button> <label class="bg-sub flex w-full max-w-[300px] cursor-pointer flex-col items-center gap-2 rounded-full p-4"><span></span><span class="text-sm">.geojson .fgb .gpx .shp .dbf .shx .prj</span> <input type="file" accept=".geojson,.fgb,.gpx,.shp,.dbf,.shx,.prj" class="hidden"></label></div>');function eE(t,e){sr(e,!0);let r=Qt(e,"dropFile",15),n=Qt(e,"showDialogType",15);const l=M=>{var C;const U=(C=M.target.files)==null?void 0:C[0];U&&r(U)},h=M=>{n(M)};var u=JU(),s=Ce(u);s.__click=[$U,h];var v=Ue(s,2);v.__click=[qU,h];var w=Ue(v,2),I=Ue(Ce(w),3);I.__change=[WU,l],ve(w),ve(u),Qe(t,u),or()}fi(["click","change"]);var tE=(t,e)=>Xe(e,""),rE=nt('<div slot="item"><div class="row svelte-1cjdm0y"></div></div>'),iE=nt('<div class="absolute left-1/2 top-1/2 flex h-full w-full -translate-x-1/2 -translate-y-1/2 items-center justify-center"><span class="text-gray-500"></span></div>'),aE=nt('<div class="c-list h-full svelte-1cjdm0y"><!></div> <!>',1),nE=nt('<div><div><div class="flex grow items-center justify-between gap-4 p-2"><span class="shrink-0 text-base text-lg"></span> <div class="bg-base flex w-full max-w-[400px] rounded-full border-[1px] px-4"><input class="c-search-form tex grid w-full text-left text-gray-500 svelte-1cjdm0y" type="text" placeholder=""> <button class="grid cursor-pointer place-items-center"><!></button></div> <div class="w-[300px] shrink-0"><!></div> <button class="bg-base cursor-pointer rounded-full p-2"><!></button></div> <!> <!></div></div>');function sE(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(Qs,"$showDataMenu",r);let h=Qt(e,"showDataEntry",15),u=Qt(e,"dropFile",15),s=Qt(e,"showDialogType",15),v=wi([...L0]),w=Pt(wi([])),I=Pt("");Gi(()=>{V(I)?Xe(w,v.filter(it=>it.metaData.name.toLowerCase().includes(V(I).toLowerCase())),!0):Xe(w,v,!0)});const M=()=>{Qs.set(!Qs)};let U=Pt(0),C=Pt(0),S=Pt(2),k=Pt(370),z=310;Gi(()=>{V(C)>z*2?(Xe(S,Math.floor(V(C)/z),!0),V(S)<2&&Xe(S,2)):Xe(S,2)});let Z=Pt(wi([{key:"system",name:""},{key:"user",name:""}])),G=Pt("system");var se=nE(),re=Ce(se),Ae=Ce(re),J=Ue(Ce(Ae),2),te=Ce(J);tn(te);var X=Ue(te,2);X.__click=[tE,I];var W=Ce(X);_r(W,{icon:"material-symbols:close-rounded",class:"h-8 w-8 text-gray-400"}),ve(X),ve(J);var he=Ue(J,2),ue=Ce(he);qu(ue,{get group(){return V(G)},set group(it){Xe(G,it,!0)},get options(){return V(Z)},set options(it){Xe(Z,it,!0)}}),ve(he);var _e=Ue(he,2);_e.__click=M;var xe=Ce(_e);_r(xe,{icon:"material-symbols:close-rounded",class:"text-main h-4 w-4"}),ve(_e),ve(Ae);var He=Ue(Ae,2);{var Ve=it=>{var pt=aE(),Ut=kt(pt),ct=Ce(Ut);const mt=oi(()=>V(w).length/V(S)+1);$M(ct,{width:"100%",height:"100%",get itemCount(){return V(mt)},get itemSize(){return V(k)},$$slots:{item:(st,xt)=>{var Et=rE();const lt=oi(()=>xt.index),Zt=oi(()=>xt.style);var Rt=Ce(Et);mi(Rt,21,()=>Array(V(S)),xa,(Mt,Ht,ur)=>{var St=vr(),Ot=kt(St);{var Jt=fr=>{const jt=oi(()=>V(lt)*V(S)+ur);KU(fr,{get dataEntry(){return V(w)[V(lt)*V(S)+ur]},get index(){return V(jt)},get showDataEntry(){return h()},set showDataEntry(Br){h(Br)},get itemHeight(){return V(k)},set itemHeight(Br){Xe(k,Br,!0)}})};_t(Ot,fr=>{V(w)[V(lt)*V(S)+ur]&&fr(Jt)})}Qe(Mt,St)}),ve(Rt),ve(Et),Gt(()=>{dn(Et,V(Zt)),dn(Rt,`--grid-columns: ${V(S)??""};`)}),Qe(st,Et)}}}),ve(Ut);var De=Ue(Ut,2);{var $e=st=>{var xt=iE();Qe(st,xt)};_t(De,st=>{V(w).length===0&&st($e)})}_y(Ut,"clientHeight",st=>Xe(U,st)),_y(Ut,"clientWidth",st=>Xe(C,st)),Qe(it,pt)};_t(He,it=>{V(G)==="system"&&it(Ve)})}var Ke=Ue(He,2);{var ot=it=>{eE(it,{get showDataEntry(){return h()},set showDataEntry(pt){h(pt)},get dropFile(){return u()},set dropFile(pt){u(pt)},get showDialogType(){return s()},set showDialogType(pt){s(pt)}})};_t(Ke,it=>{V(G)==="user"&&it(ot)})}ve(re),ve(se),Gt(()=>{Bi(se,1,`pointer-events-none absolute bottom-0 z-10 h-dvh w-full p-8 pl-[120px] pt-[60px] transition-all duration-150 ${(l()?"opacity-100":"opacity-0")??""}`),Bi(re,1,`bg-main pointer-events-auto relative flex h-full w-full flex-col overflow-hidden rounded-lg p-2 ${(l()?"pointer-events-auto":"pointer-events-none")??""}`),te.disabled=V(G)==="user",X.disabled=!V(I)}),$u(te,()=>V(I),it=>Xe(I,it)),Qe(t,se),or(),n()}fi(["click"]);var oE=nt(`<div class="absolute bottom-0 z-30 flex h-full w-full items-center justify-center bg-black/50"><div class="bg-opacity-8 bg-main flex max-h-[600px] max-w-[900px] grow flex-col rounded-md p-4 text-base"><div class="flex shrink-0 items-center justify-between pb-4"><span class="text-2xl font-bold">morivis </span> <button class="bg-base rounded-full p-2"><!></button></div> <div class="flex-flex-col c-scroll overflow-y-auto overflow-x-hidden p-2"><div class="pb-4"><div class="pb-2 text-lg font-bold"></div> <div>20WebGIS
						WebGIS<a class="text-accent" href="https://github.com/forestacdev/enshurin-viewer/issues" target="_blank" rel="noopener noreferrer">GitHub</a></div></div> <div class="pb-4"><div class="pb-2 text-lg font-bold">Contributors / </div> <div class="flex max-w-[300px] flex-col gap-2"><a class="lg:hover:bg-accent flex cursor-pointer items-center justify-start gap-2 rounded-full border-2 border-gray-300 p-2 transition-colors lg:hover:text-white" href="https://github.com/satoshi7190" target="_blank" rel="noopener noreferrer"><div class="relative grid h-[50px] w-[50px] place-items-center overflow-hidden rounded-full bg-gray-500"><img class="absolute block h-full w-full rounded-full object-cover" src="https://github.com/satoshi7190.png" alt="satoshi7190's Avatar"></div> <div class="flex flex-col"><span>Satoshi Komatsu</span><span>(@satoshi7190)</span></div></a> <a class="lg:hover:bg-accent flex cursor-pointer items-center justify-start gap-2 rounded-full border-2 border-gray-300 p-2 transition-colors lg:hover:text-white" href="https://www.forest.ac.jp/" target="_blank" rel="noopener noreferrer"><div class="relative grid h-[50px] w-[50px] cursor-pointer place-items-center overflow-hidden rounded-full bg-gray-500"><img class="pointer-events-none absolute block h-full w-full rounded-full object-cover" src="https://pbs.twimg.com/profile_images/1349232244909510656/US-2oTws_400x400.jpg" alt=""></div> <div class="flex flex-col"><span></span> <span></span></div></a></div></div></div></div></div>`);function lE(t,e){sr(e,!1);const[r,n]=qi(),l=()=>kr(Rg,"$showInfoDialog",r);Jo();var h=vr(),u=kt(h);{var s=v=>{var w=oE(),I=Ce(w),M=Ce(I),U=Ue(Ce(M),2);U.__click=()=>Rg.set(!1);var C=Ce(U);_r(C,{icon:"material-symbols:close-rounded",class:"text-main h-4 w-4"}),ve(U),ve(M),Vi(2),ve(I),ve(w),ni(3,w,()=>Rn,()=>({duration:100})),Qe(v,w)};_t(u,v=>{l()&&v(s)})}Qe(t,h),or(),n()}fi(["click"]);var AE=nt(`<div class="absolute bottom-0 z-30 flex h-full w-full items-center justify-center bg-black/50"><div class="bg-opacity-8 bg-main flex max-h-[600px] max-w-[900px] grow flex-col rounded-md p-4 text-base"><div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold"></span></div> <div class="c-scroll flex h-full grow flex-col overflow-y-auto overflow-x-hidden pb-4"><div class="pb-4"></div> <div class="pb-4"><div class="text-lg font-bold">  </div> </div> <div class="pb-4"><div class="text-lg font-bold"></div>   <div class="pl-2"><div>1. </div> <div>2. </div> <div>3. </div> <div>4. </div></div></div> <div class="pb-4"><div class="text-lg font-bold"></div> <div></div></div> <div class="pb-4"><div class="text-lg font-bold"></div> <div></div></div> <div class="pb-4"><div class="text-lg font-bold"></div> <div>
						</div></div> <div class="pb-4"><div class="text-lg font-bold"></div> <div></div></div> <div class="pb-4"><div class="text-lg font-bold">Google </div> <div>Google
						Google
						 Cookie
						Google
						<a class="text-accent underline" target="_blank" href="https://policies.google.com/privacy" rel="noopener noreferrer">Google </a></div></div> <div class="pb-4"><div class="text-lg font-bold"></div> <div></div></div></div> <div class="flex shrink-0 justify-center overflow-auto pt-2"><button class="c-btn-confirm px-12 py-6 text-lg"></button></div></div></div>`);function cE(t,e){sr(e,!1);const[r,n]=qi(),l=()=>kr(Ig,"$showTermsDialog",r);Jo();var h=vr(),u=kt(h);{var s=v=>{var w=AE(),I=Ce(w),M=Ue(Ce(I),4),U=Ce(M);U.__click=()=>{Ig.set(!1),DB("userData")},ve(M),ve(I),ve(w),ni(3,I,()=>D5,()=>({duration:300})),ni(3,w,()=>Rn,()=>({duration:200})),Qe(v,w)};_t(u,v=>{l()&&v(s)})}Qe(t,h),or(),n()}fi(["click"]);var uE=(t,e,r)=>e(r.value),hE=(t,e)=>Xe(e,!0),dE=nt('<div class="grid place-items-center"><!></div>'),fE=nt('<div class="flex flex-col items-start justify-center"><span class="text-base font-semibold"> </span> <button class="text-accent flex w-full cursor-pointer items-center justify-between rounded-md p-2 pl-4 text-left transition-colors duration-150 lg:hover:bg-gray-700"><span> </span> <!></button></div>');function gE(t,e){sr(e,!0);let r=Pt(!1);const n=U=>{navigator.clipboard.writeText(U),hs(` ${U} `,"info")};var l=fE(),h=Ce(l),u=Ce(h,!0);ve(h);var s=Ue(h,2);s.__click=[uE,n,e],s.__mouseover=[hE,r];var v=Ce(s),w=Ce(v,!0);ve(v);var I=Ue(v,2);{var M=U=>{var C=dE(),S=Ce(C);_r(S,{icon:"majesticons:clipboard-line",class:"mr-2 h-6 w-6 shrink-0 text-base"}),ve(C),ni(3,C,()=>Rn,()=>({duration:100})),Qe(U,C)};_t(I,U=>{V(r)&&U(M)})}ve(s),ve(l),Gt(()=>{dr(u,e.key),dr(w,e.value)}),ra("mouseleave",s,()=>Xe(r,!1)),ra("focus",s,()=>Xe(r,!0)),ra("blur",s,()=>Xe(r,!1)),Qe(t,l),or()}fi(["click","mouseover"]);const kg={pole_1:{image:`${gr}/pole_1.webp`,description:"",url:null},pole_2:{image:`${gr}/pole_2.webp`,description:"",url:null},pole_3:{image:`${gr}/pole_3.webp`,description:"",url:null},pole_4:{image:`${gr}/pole_4.webp`,description:"",url:null},pole_5:{image:`${gr}/pole_5.webp`,description:"",url:null},pole_6:{image:`${gr}/pole_6.webp`,description:"",url:null},pole_a:{image:`${gr}/pole_a.webp`,description:"",url:null},fac_center:{image:`${gr}/fac_center.webp`,description:`
                        `,url:"https://www.forest.ac.jp/facilities/centerzone/"},fac_cottage:{image:`${gr}/fac_cottage.webp`,description:`1530
                        `,url:"https://www.forest.ac.jp/facilities/stay/"},fac_forest_labo:{image:`${gr}/fac_forest_labo.webp`,description:`
                `,url:"https://www.forest.ac.jp/facilities/centerzone/"},fac_kakoutou:{image:`${gr}/fac_kakoutou.webp`,description:"",url:null},fac_kensyutou:{image:`${gr}/fac_kensyutou.webp`,description:"",url:null},fac_koubou:{image:`${gr}/fac_koubou.webp`,description:"",url:"https://www.forest.ac.jp/facilities/testroom/"},fac_morinos:{image:`${gr}/fac_morinos.webp`,description:"",url:"https://morinos.net/"},fac_open_labo:{image:`${gr}/fac_open_labo.webp`,description:"",url:"https://www.forest.ac.jp/facilities/testroom/"},fac_ringyoukikaitou:{image:`${gr}/fac_ringyoukikaitou.webp`,description:"",url:"https://www.forest.ac.jp/facilities/fmeb/"},fac_seizaitou:{image:`${gr}/fac_seizaitou.webp`,description:"",url:"https://www.forest.ac.jp/facilities/testroom/"},fac_syako:{image:`${gr}/fac_syako.webp`,description:"",url:null},fac_wood_labo:{image:`${gr}/fac_wood_labo.webp`,description:"",url:"https://www.forest.ac.jp/facilities/centerzone/"},fac_tech_a:{image:`${gr}/fac_tech_a.webp`,description:"",url:"https://www.forest.ac.jp/facilities/technicalzone/"},fac_tech_b:{image:`${gr}/fac_tech_b.webp`,description:"",url:"https://www.forest.ac.jp/facilities/technicalzone/"},fac_information:{image:`${gr}/fac_information.webp`,description:"",url:"https://www.forest.ac.jp/facilities/forest/"},ziriki_01:{image:`${gr}/ziriki_01.webp`,description:"(120mm)",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_02:{image:`${gr}/ziriki_02.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_03:{image:`${gr}/ziriki_03.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_04:{image:`${gr}/ziriki_04.webp`,description:"10",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_05:{image:`${gr}/ziriki_05.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_06:{image:`${gr}/ziriki_06.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_07:{image:`${gr}/ziriki_07.webp`,description:" ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_08:{image:`${gr}/ziriki_08.webp`,description:"  RCS",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_09:{image:`${gr}/ziriki_09.webp`,description:"20 ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_10:{image:`${gr}/ziriki_10.webp`,description:"2002   ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_11:{image:`${gr}/ziriki_11.webp`,description:" ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_12:{image:`${gr}/ziriki_12.webp`,description:"   ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_13:{image:`${gr}/ziriki_13.webp`,description:"  ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_14:{image:`${gr}/ziriki_14.webp`,description:"10     ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_15:{image:`${gr}/ziriki_15.webp`,description:" hut()hat()  ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_16:{image:`${gr}/ziriki_16.webp`,description:"  ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_17:{image:`${gr}/ziriki_17.webp`,description:"   ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_18:{image:`${gr}/ziriki_18.webp`,description:"2006  ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_19:{image:`${gr}/ziriki_19.webp`,description:" Cobiki   ",url:"https://www.forest.ac.jp/facilities/self/midori-archi/"},ziriki_20:{image:`${gr}/ziriki_20.webp`,description:"2008",url:"https://www.forest.ac.jp/facilities/self/midori-archi/"},ziriki_21:{image:`${gr}/ziriki_21.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/jiriki-kodachi/"},ziriki_22:{image:`${gr}/ziriki_22.webp`,description:`2007
            
            
            `,url:"https://www.forest.ac.jp/facilities/self/jiriki-decchi/"},ziriki_23:{image:`${gr}/ziriki_23.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/jiriki-hotori/"},ziriki_24:{image:`${gr}/ziriki_24.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/shiori-jiriki2024/"},sinrinken:{image:`${gr}/no_image.webp`,description:"",url:"https://www.forest.rd.pref.gifu.lg.jp/"},gate_ensyurin:{image:`${gr}/gate_ensyurin.webp`,description:"",url:null},aozyutaki:{image:`${gr}/aozyutaki.webp`,description:"",url:null},azumaya_1:{image:`${gr}/azumaya_1.webp`,description:"",url:null},azumaya_kezikabora:{image:`${gr}/azumaya_kezikabora.webp`,description:"",url:null},gate_kokuyurin:{image:`${gr}/gate_kokuyurin.webp`,description:"",url:null},hebiotaki:{image:`${gr}/hebiotaki.webp`,description:"",url:null},heihuuiwa:{image:`${gr}/heihuuiwa.webp`,description:"",url:null},hirumesiiwa:{image:`${gr}/hirumesiiwa.webp`,description:"",url:null},kezikaboraike:{image:`${gr}/kezikaboraike.webp`,description:"",url:null},miharasiiwa:{image:`${gr}/miharasiiwa.webp`,description:"",url:null},mokudou:{image:`${gr}/mokudou.webp`,description:"",url:null},morinoiriguti:{image:`${gr}/morinoiriguti.webp`,description:"",url:null},nagamenoiwa:{image:`${gr}/nagamenoiwa.webp`,description:"",url:null},oosugi:{image:`${gr}/oosugi.webp`,description:"",url:null},sumiyakigoya:{image:`${gr}/sumiyakigoya.webp`,description:"",url:null},toilet:{image:`${gr}/toilet.webp`,description:"",url:null},umanoseiwa:{image:`${gr}/umanoseiwa.webp`,description:"",url:null},yamanokami:{image:`${gr}/yamanokami.webp`,description:"1004",url:"https://www.forest.ac.jp/academy-archives/jimu0423/"},kozyo_kanritou:{image:null,description:"",url:"https://mori-gakko.net/gifu/"}},pE=[{name:"",bbox:[139.334302,41.35211,148.894833,45.556277]},{name:"",bbox:[139.860725,40.218604,141.68324,41.555998]},{name:"",bbox:[140.653166,38.747651,142.072461,40.449927]},{name:"",bbox:[140.274764,37.773252,141.675431,39.002776]},{name:"",bbox:[139.694597,38.874522,140.995425,40.511122]},{name:"",bbox:[139.539712,37.73383,140.646377,39.208476]},{name:"",bbox:[139.164746,36.791324,141.042336,37.976555]},{name:"",bbox:[139.687691,35.739138,140.851966,36.945225]},{name:"",bbox:[139.326731,36.199924,140.291983,37.155039]},{name:"",bbox:[138.397022,35.985419,139.668249,37.058627]},{name:"",bbox:[138.711401,35.753442,139.90032,36.281751]},{name:"",bbox:[139.739525,34.899595,140.870652,36.104157]},{name:"",bbox:[138.942865,24.224731,153.986895,35.898404]},{name:"",bbox:[138.915784,35.128768,139.798226,35.675618]},{name:"",bbox:[137.635121,36.736544,139.900012,38.553524]},{name:"",bbox:[136.768684,36.274308,137.763276,36.979692]},{name:"",bbox:[136.244148,36.067618,137.360649,37.855068]},{name:"",bbox:[135.449342,35.344187,136.832362,36.295361]},{name:"",bbox:[138.180108,35.168403,139.13438,35.971564]},{name:"",bbox:[137.325027,35.198461,138.739196,37.030423]},{name:"",bbox:[136.276225,35.133729,137.651936,36.465031]},{name:"",bbox:[137.474177,34.594644,139.176371,35.646621]},{name:"",bbox:[136.671033,34.578195,137.838064,35.424789]},{name:"",bbox:[135.853192,33.722879,136.987749,35.257953]},{name:"",bbox:[135.763805,34.79126,136.454846,35.70372]},{name:"",bbox:[134.853727,34.705754,136.054372,35.779277]},{name:"",bbox:[135.093449,34.271827,135.746596,35.051282]},{name:"",bbox:[134.252809,34.156129,135.468591,35.674667]},{name:"",bbox:[135.539726,33.858956,136.22982,34.781294]},{name:"",bbox:[134.999059,33.433595,136.013461,34.38446]},{name:"",bbox:[133.136116,35.057691,134.514725,35.614221]},{name:"",bbox:[131.667965,34.302497,133.385926,37.244272]},{name:"",bbox:[133.266987,34.2984,134.412698,35.352889]},{name:"",bbox:[132.036485,34.034954,133.470397,35.106602]},{name:"",bbox:[130.775059,33.712909,132.492149,34.798657]},{name:"",bbox:[133.660905,33.539632,134.820436,34.252034]},{name:"",bbox:[133.446605,34.012302,134.440441,34.564615]},{name:"",bbox:[132.017257,32.901919,133.692787,34.299619]},{name:"",bbox:[132.479888,32.702505,134.31367,33.882997]},{name:"",bbox:[130.032703,33.000004,131.190597,34.249456]},{name:"",bbox:[129.740621,32.950517,130.542127,33.618923]},{name:"",bbox:[128.34462,31.988773,130.380232,34.707891]},{name:"",bbox:[129.963357,32.094995,131.328424,33.195128]},{name:"",bbox:[130.823676,32.714503,132.085332,33.740236]},{name:"",bbox:[130.703426,31.360721,131.882746,32.837348]},{name:"",bbox:[128.395452,27.01874,131.205448,32.307013]},{name:"",bbox:[122.933755,24.045713,131.332068,27.885401]},{name:"",bbox:[139.164746,36.791324,142.072461,41.555998]},{name:"",bbox:[136.83845019821013,35.5104054980036,136.97907453990035,35.65244055693736]},{name:"",bbox:[122.933755,24.045713,153.986895,45.556277]},{name:"",bbox:[136.91278,35.543576,136.92986,35.556704]}],mE=new Map(pE.map(t=>[t.name,t.bbox])),Gx=t=>{const e=mE.get(t);return e||(console.warn("getLocationBbox: not found",t),null)},_E=()=>{const t=uC;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},bE={subscribe(t){return _E().page.subscribe(t)}};let h1=String.fromCharCode,jx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",d1={};function yE(t,e){if(!d1[t]){d1[t]={};for(let r=0;r<t.length;r++)d1[t][t.charAt(r)]=r}return d1[t][e]}function vE(t){return t==null?"":wE(t,6,function(e){return jx.charAt(e)})}function xE(t){return t==null?"":t==""?null:BE((t=t.replace(/ /g,"+")).length,32,function(e){return yE(jx,t.charAt(e))})}function wE(t,e,r){if(t==null)return"";let n,l,h={},u={},s="",v="",w="",I=2,M=3,U=2,C=[],S=0,k=0,z;for(z=0;z<t.length;z+=1)if(s=t.charAt(z),Object.prototype.hasOwnProperty.call(h,s)||(h[s]=M++,u[s]=!0),v=w+s,Object.prototype.hasOwnProperty.call(h,v))w=v;else{if(Object.prototype.hasOwnProperty.call(u,w)){if(256>w.charCodeAt(0)){for(n=0;n<U;n++)S<<=1,k==e-1?(k=0,C.push(r(S)),S=0):k++;for(n=0,l=w.charCodeAt(0);n<8;n++)S=S<<1|1&l,k==e-1?(k=0,C.push(r(S)),S=0):k++,l>>=1}else{for(n=0,l=1;n<U;n++)S=S<<1|l,k==e-1?(k=0,C.push(r(S)),S=0):k++,l=0;for(n=0,l=w.charCodeAt(0);n<16;n++)S=S<<1|1&l,k==e-1?(k=0,C.push(r(S)),S=0):k++,l>>=1}--I==0&&(I=Math.pow(2,U),U++),delete u[w]}else for(n=0,l=h[w];n<U;n++)S=S<<1|1&l,k==e-1?(k=0,C.push(r(S)),S=0):k++,l>>=1;--I==0&&(I=Math.pow(2,U),U++),h[v]=M++,w=String(s)}if(w!==""){if(Object.prototype.hasOwnProperty.call(u,w)){if(256>w.charCodeAt(0)){for(n=0;n<U;n++)S<<=1,k==e-1?(k=0,C.push(r(S)),S=0):k++;for(n=0,l=w.charCodeAt(0);n<8;n++)S=S<<1|1&l,k==e-1?(k=0,C.push(r(S)),S=0):k++,l>>=1}else{for(n=0,l=1;n<U;n++)S=S<<1|l,k==e-1?(k=0,C.push(r(S)),S=0):k++,l=0;for(n=0,l=w.charCodeAt(0);n<16;n++)S=S<<1|1&l,k==e-1?(k=0,C.push(r(S)),S=0):k++,l>>=1}--I==0&&(I=Math.pow(2,U),U++),delete u[w]}else for(n=0,l=h[w];n<U;n++)S=S<<1|1&l,k==e-1?(k=0,C.push(r(S)),S=0):k++,l>>=1;--I==0&&(I=Math.pow(2,U),U++)}for(n=0,l=2;n<U;n++)S=S<<1|1&l,k==e-1?(k=0,C.push(r(S)),S=0):k++,l>>=1;for(;;){if(S<<=1,k==e-1){C.push(r(S));break}k++}return C.join("")}function BE(t,e,r){let n=[],l=4,h=4,u=3,s="",v=[],w,I,M,U,C,S,k,z={val:r(0),position:e,index:1};for(w=0;w<3;w+=1)n[w]=w;for(M=0,C=4,S=1;S!=C;)U=z.val&z.position,z.position>>=1,z.position==0&&(z.position=e,z.val=r(z.index++)),M|=(U>0?1:0)*S,S<<=1;switch(M){case 0:for(M=0,C=256,S=1;S!=C;)U=z.val&z.position,z.position>>=1,z.position==0&&(z.position=e,z.val=r(z.index++)),M|=(U>0?1:0)*S,S<<=1;k=h1(M);break;case 1:for(M=0,C=65536,S=1;S!=C;)U=z.val&z.position,z.position>>=1,z.position==0&&(z.position=e,z.val=r(z.index++)),M|=(U>0?1:0)*S,S<<=1;k=h1(M);break;case 2:return""}for(n[3]=k,I=k,v.push(k);;){if(z.index>t)return"";for(M=0,C=Math.pow(2,u),S=1;S!=C;)U=z.val&z.position,z.position>>=1,z.position==0&&(z.position=e,z.val=r(z.index++)),M|=(U>0?1:0)*S,S<<=1;switch(k=M){case 0:for(M=0,C=256,S=1;S!=C;)U=z.val&z.position,z.position>>=1,z.position==0&&(z.position=e,z.val=r(z.index++)),M|=(U>0?1:0)*S,S<<=1;n[h++]=h1(M),k=h-1,l--;break;case 1:for(M=0,C=65536,S=1;S!=C;)U=z.val&z.position,z.position>>=1,z.position==0&&(z.position=e,z.val=r(z.index++)),M|=(U>0?1:0)*S,S<<=1;n[h++]=h1(M),k=h-1,l--;break;case 2:return v.join("")}if(l==0&&(l=Math.pow(2,u),u++),n[k])s=n[k];else{if(k!==h)return null;s=I+I.charAt(0)}v.push(s),n[h++]=I+s.charAt(0),l--,I=s,l==0&&(l=Math.pow(2,u),u++)}}let Kx;Kx=bE;const CE={keepFocus:!0,noScroll:!0,replaceState:!0},ME={keepFocus:!0,noScroll:!0,replaceState:!1};function RE(t,e,r){var h;const n=Array.from(new Set(Array.from(((h=t==null?void 0:t.keys)==null?void 0:h.call(t))||[]).concat(Object.keys(r??{}))));let l=!1;return[Object.fromEntries(n.map(u=>{if(e[u]!=null)return[u,e[u]];let s=M=>M;const v=r==null?void 0:r[u];typeof v!="boolean"&&typeof(v==null?void 0:v.decode)=="function"&&(s=v.decode);const w=t==null?void 0:t.get(u);let I;return w==null&&(v==null?void 0:v.defaultValue)!=null?(I=v.defaultValue,l=!0):I=s(w),[u,I]})),l]}function IE(t,e,r=(n,l)=>JSON.stringify(n)===JSON.stringify(l)){return typeof t=="object"&&typeof e=="object"&&r(t,e)}function _3({encode:t,decode:e}){function r(n){return{encode:t,decode:e,defaultValue:n}}return r}function UE(t){return{encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}}function EE(t){return{encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}}function FE(t){return{encode:e=>vE(JSON.stringify(e)),decode:e=>{if(!e)return null;try{return JSON.parse(xE(e)??"")}catch{return null}},defaultValue:t}}const f1={number:_3({encode:t=>t.toString(),decode:t=>t?parseFloat(t):null}),boolean:_3({encode:t=>t+"",decode:t=>t!==null&&t!=="false"}),string:_3({encode:t=>t??"",decode:t=>t}),object:UE,array:EE,lz:FE},b3=new Set;let Jy;const ev=new Map;function Xu(t,{debounceHistory:e=0,pushHistory:r=!0,sort:n=!0,showDefaults:l=!0,equalityFn:h}={}){const u=un({});let s,v=!0;function w(M,U){v=!1;const C=window.location.hash,S=new URLSearchParams(window.location.search),k=z=>{for(const Z of Object.keys(M)){if(M[Z]==null){z.delete(Z);continue}let G=Ae=>Ae.toString();const se=t==null?void 0:t[Z];typeof se!="boolean"&&typeof(se==null?void 0:se.encode)=="function"&&(G=se.encode);const re=G(M[Z]);re==null?z.delete(Z):z.set(Z,re)}};b3.add(k),clearTimeout(Jy),Jy=setTimeout(async()=>{b3.forEach(z=>{z(S)}),clearTimeout(ev.get("queryParameters"));{u.set(M);async function z(){n&&S.sort(),await hC(`?${S}${C}`,r?ME:CE),u.set({})}U||e===0?z():ev.set("queryParameters",setTimeout(z,e))}b3.clear()})}const{subscribe:I}=NB([Kx,u],([M,U],C)=>{var z;const[S,k]=RE((z=M==null?void 0:M.url)==null?void 0:z.searchParams,U,t);if(k&&l&&w(structuredClone(S),v),!IE(s,S,h))return s=structuredClone(S),C(structuredClone(S))});return{set(M){w(M)},subscribe:I,update:M=>{const U=qo({subscribe:I}),C=M(U);w(C)}}}const TE=t=>{const e=t.slice(1).split("&"),r={};return e.forEach(n=>{r[n.split("=")[0]]=n.split("=")[1]}),r},SE=()=>{const t=qo(Xu({c:f1.string(),z:f1.number(),p:f1.number(),b:f1.number()},{pushHistory:!1}));if(t.c===null||t.c===void 0||t.z===null||t.z===void 0||t.p===null||t.p===void 0||t.b===null||t.b===void 0)return zB;const e=t.c.split(",").map(Number),r=Number(t.z),n=Number(t.p),l=Number(t.b);return{center:e,zoom:r,pitch:n,bearing:l}},NE=t=>{const e=qo(Xu({},{pushHistory:!1})),r=t.center.map(n=>n.toFixed(6));e.c=r,e.z=t.zoom.toFixed(1),e.p=t.pitch.toFixed(0),e.b=t.bearing.toFixed(0),Xu({},{pushHistory:!1}).set(e)},YE=t=>{const e=qo(Xu({}));e.imageId=t,Xu({},{pushHistory:!1}).set(e)},PE=()=>qo(Xu({},{pushHistory:!1})).imageId,LE=t=>{const e=new URLSearchParams;for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];Array.isArray(n)?n.forEach(l=>{e.append(r,l)}):n!=null&&e.append(r,String(n))}return e.toString()};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rm=function(t,e){return Rm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r[l]=n[l])},Rm(t,e)};function Vs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function ls(t,e,r,n){function l(h){return h instanceof r?h:new r(function(u){u(h)})}return new(r||(r=Promise))(function(h,u){function s(I){try{w(n.next(I))}catch(M){u(M)}}function v(I){try{w(n.throw(I))}catch(M){u(M)}}function w(I){I.done?h(I.value):l(I.value).then(s,v)}w((n=n.apply(t,[])).next())})}function zn(t,e){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},n,l,h,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(w){return function(I){return v([w,I])}}function v(w){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,l&&(h=w[0]&2?l.return:w[0]?l.throw||((h=l.return)&&h.call(l),0):l.next)&&!(h=h.call(l,w[1])).done)return h;switch(l=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,l=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){r.label=w[1];break}if(w[0]===6&&r.label<h[1]){r.label=h[1],h=w;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(w);break}h[2]&&r.ops.pop(),r.trys.pop();continue}w=e.call(t,r)}catch(I){w=[6,I],l=0}finally{n=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}}var rc=function(){function t(e,r,n,l){this.left=e,this.top=r,this.width=n,this.height=l}return t.prototype.add=function(e,r,n,l){return new t(this.left+e,this.top+r,this.width+n,this.height+l)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(l){return l.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),O4=function(t,e){return rc.fromClientRect(t,e.getBoundingClientRect())},yp=function(t){for(var e=[],r=0,n=t.length;r<n;){var l=t.charCodeAt(r++);if(l>=55296&&l<=56319&&r<n){var h=t.charCodeAt(r++);(h&64512)===56320?e.push(((l&1023)<<10)+(h&1023)+65536):(e.push(l),r--)}else e.push(l)}return e},ca=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],l=-1,h="";++l<r;){var u=t[l];u<=65535?n.push(u):(u-=65536,n.push((u>>10)+55296,u%1024+56320)),(l+1===r||n.length>16384)&&(h+=String.fromCharCode.apply(String,n),n.length=0)}return h},tv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kE=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var g1=0;g1<tv.length;g1++)kE[tv.charCodeAt(g1)]=g1;var rv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var p1=0;p1<rv.length;p1++)Zd[rv.charCodeAt(p1)]=p1;var QE=function(t){var e=t.length*.75,r=t.length,n,l=0,h,u,s,v;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var w=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),I=Array.isArray(w)?w:new Uint8Array(w);for(n=0;n<r;n+=4)h=Zd[t.charCodeAt(n)],u=Zd[t.charCodeAt(n+1)],s=Zd[t.charCodeAt(n+2)],v=Zd[t.charCodeAt(n+3)],I[l++]=h<<2|u>>4,I[l++]=(u&15)<<4|s>>2,I[l++]=(s&3)<<6|v&63;return w},DE=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},zE=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},$A=5,H4=11,y3=2,ZE=H4-$A,$x=65536>>$A,OE=1<<$A,v3=OE-1,HE=1024>>$A,XE=$x+HE,VE=XE,GE=32,jE=VE+GE,KE=65536>>H4,$E=1<<ZE,qE=$E-1,iv=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},WE=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},JE=function(t,e){var r=QE(t),n=Array.isArray(r)?zE(r):new Uint32Array(r),l=Array.isArray(r)?DE(r):new Uint16Array(r),h=24,u=iv(l,h/2,n[4]/2),s=n[5]===2?iv(l,(h+n[4])/2):WE(n,Math.ceil((h+n[4])/4));return new eF(n[0],n[1],n[2],n[3],u,s)},eF=function(){function t(e,r,n,l,h,u){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=l,this.index=h,this.data=u}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>$A],r=(r<<y3)+(e&v3),this.data[r];if(e<=65535)return r=this.index[$x+(e-55296>>$A)],r=(r<<y3)+(e&v3),this.data[r];if(e<this.highStart)return r=jE-KE+(e>>H4),r=this.index[r],r+=e>>$A&qE,r=this.index[r],r=(r<<y3)+(e&v3),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),av="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tF=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var m1=0;m1<av.length;m1++)tF[av.charCodeAt(m1)]=m1;var rF="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",nv=50,iF=1,qx=2,Wx=3,aF=4,nF=5,sv=7,Jx=8,ov=9,Pl=10,Im=11,lv=12,Um=13,sF=14,Od=15,Em=16,_1=17,Ud=18,oF=19,Av=20,Fm=21,Ed=22,x3=23,Au=24,Zn=25,Hd=26,Xd=27,cu=28,lF=29,zA=30,AF=31,b1=32,y1=33,Tm=34,Sm=35,Nm=36,M0=37,Ym=38,og=39,lg=40,w3=41,e8=42,cF=43,uF=[9001,65288],t8="!",qr="",v1="",Pm=JE(rF),Po=[zA,Nm],Lm=[iF,qx,Wx,nF],r8=[Pl,Jx],cv=[Xd,Hd],hF=Lm.concat(r8),uv=[Ym,og,lg,Tm,Sm],dF=[Od,Um],fF=function(t,e){e===void 0&&(e="strict");var r=[],n=[],l=[];return t.forEach(function(h,u){var s=Pm.get(h);if(s>nv?(l.push(!0),s-=nv):l.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(h)!==-1)return n.push(u),r.push(Em);if(s===aF||s===Im){if(u===0)return n.push(u),r.push(zA);var v=r[u-1];return hF.indexOf(v)===-1?(n.push(n[u-1]),r.push(v)):(n.push(u),r.push(zA))}if(n.push(u),s===AF)return r.push(e==="strict"?Fm:M0);if(s===e8||s===lF)return r.push(zA);if(s===cF)return h>=131072&&h<=196605||h>=196608&&h<=262141?r.push(M0):r.push(zA);r.push(s)}),[n,r,l]},B3=function(t,e,r,n){var l=n[r];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var h=r;h<=n.length;){h++;var u=n[h];if(u===e)return!0;if(u!==Pl)break}if(l===Pl)for(var h=r;h>0;){h--;var s=n[h];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var v=r;v<=n.length;){v++;var u=n[v];if(u===e)return!0;if(u!==Pl)break}if(s!==Pl)break}return!1},hv=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Pl)r--;else return n}return 0},gF=function(t,e,r,n,l){if(r[n]===0)return qr;var h=n-1;if(Array.isArray(l)&&l[h]===!0)return qr;var u=h-1,s=h+1,v=e[h],w=u>=0?e[u]:0,I=e[s];if(v===qx&&I===Wx)return qr;if(Lm.indexOf(v)!==-1)return t8;if(Lm.indexOf(I)!==-1||r8.indexOf(I)!==-1)return qr;if(hv(h,e)===Jx)return v1;if(Pm.get(t[h])===Im||(v===b1||v===y1)&&Pm.get(t[s])===Im||v===sv||I===sv||v===ov||[Pl,Um,Od].indexOf(v)===-1&&I===ov||[_1,Ud,oF,Au,cu].indexOf(I)!==-1||hv(h,e)===Ed||B3(x3,Ed,h,e)||B3([_1,Ud],Fm,h,e)||B3(lv,lv,h,e))return qr;if(v===Pl)return v1;if(v===x3||I===x3)return qr;if(I===Em||v===Em)return v1;if([Um,Od,Fm].indexOf(I)!==-1||v===sF||w===Nm&&dF.indexOf(v)!==-1||v===cu&&I===Nm||I===Av||Po.indexOf(I)!==-1&&v===Zn||Po.indexOf(v)!==-1&&I===Zn||v===Xd&&[M0,b1,y1].indexOf(I)!==-1||[M0,b1,y1].indexOf(v)!==-1&&I===Hd||Po.indexOf(v)!==-1&&cv.indexOf(I)!==-1||cv.indexOf(v)!==-1&&Po.indexOf(I)!==-1||[Xd,Hd].indexOf(v)!==-1&&(I===Zn||[Ed,Od].indexOf(I)!==-1&&e[s+1]===Zn)||[Ed,Od].indexOf(v)!==-1&&I===Zn||v===Zn&&[Zn,cu,Au].indexOf(I)!==-1)return qr;if([Zn,cu,Au,_1,Ud].indexOf(I)!==-1)for(var M=h;M>=0;){var U=e[M];if(U===Zn)return qr;if([cu,Au].indexOf(U)!==-1)M--;else break}if([Xd,Hd].indexOf(I)!==-1)for(var M=[_1,Ud].indexOf(v)!==-1?u:h;M>=0;){var U=e[M];if(U===Zn)return qr;if([cu,Au].indexOf(U)!==-1)M--;else break}if(Ym===v&&[Ym,og,Tm,Sm].indexOf(I)!==-1||[og,Tm].indexOf(v)!==-1&&[og,lg].indexOf(I)!==-1||[lg,Sm].indexOf(v)!==-1&&I===lg||uv.indexOf(v)!==-1&&[Av,Hd].indexOf(I)!==-1||uv.indexOf(I)!==-1&&v===Xd||Po.indexOf(v)!==-1&&Po.indexOf(I)!==-1||v===Au&&Po.indexOf(I)!==-1||Po.concat(Zn).indexOf(v)!==-1&&I===Ed&&uF.indexOf(t[s])===-1||Po.concat(Zn).indexOf(I)!==-1&&v===Ud)return qr;if(v===w3&&I===w3){for(var C=r[h],S=1;C>0&&(C--,e[C]===w3);)S++;if(S%2!==0)return qr}return v===b1&&I===y1?qr:v1},pF=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=fF(t,e.lineBreak),n=r[0],l=r[1],h=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(l=l.map(function(s){return[Zn,zA,e8].indexOf(s)!==-1?M0:s}));var u=e.wordBreak==="keep-all"?h.map(function(s,v){return s&&t[v]>=19968&&t[v]<=40959}):void 0;return[n,l,u]},mF=function(){function t(e,r,n,l){this.codePoints=e,this.required=r===t8,this.start=n,this.end=l}return t.prototype.slice=function(){return ca.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),_F=function(t,e){var r=yp(t),n=pF(r,e),l=n[0],h=n[1],u=n[2],s=r.length,v=0,w=0;return{next:function(){if(w>=s)return{done:!0,value:null};for(var I=qr;w<s&&(I=gF(r,h,l,++w,u))===qr;);if(I!==qr||w===s){var M=new mF(r,I,v,w);return v=w,{value:M,done:!1}}return{done:!0,value:null}}}},bF=1,yF=2,Q0=4,dv=8,Qg=10,fv=47,o0=92,vF=9,xF=32,x1=34,Fd=61,wF=35,BF=36,CF=37,w1=39,B1=40,Td=41,MF=95,Bn=45,RF=33,IF=60,UF=62,EF=64,FF=91,TF=93,SF=61,NF=123,C1=63,YF=125,gv=124,PF=126,LF=128,pv=65533,C3=42,XA=43,kF=44,QF=58,DF=59,R0=46,zF=0,ZF=8,OF=11,HF=14,XF=31,VF=127,ao=-1,i8=48,a8=97,n8=101,GF=102,jF=117,KF=122,s8=65,o8=69,l8=70,$F=85,qF=90,Wa=function(t){return t>=i8&&t<=57},WF=function(t){return t>=55296&&t<=57343},uu=function(t){return Wa(t)||t>=s8&&t<=l8||t>=a8&&t<=GF},JF=function(t){return t>=a8&&t<=KF},eT=function(t){return t>=s8&&t<=qF},tT=function(t){return JF(t)||eT(t)},rT=function(t){return t>=LF},M1=function(t){return t===Qg||t===vF||t===xF},Dg=function(t){return tT(t)||rT(t)||t===MF},mv=function(t){return Dg(t)||Wa(t)||t===Bn},iT=function(t){return t>=zF&&t<=ZF||t===OF||t>=HF&&t<=XF||t===VF},Tl=function(t,e){return t!==o0?!1:e!==Qg},R1=function(t,e,r){return t===Bn?Dg(e)||Tl(e,r):Dg(t)?!0:!!(t===o0&&Tl(t,e))},M3=function(t,e,r){return t===XA||t===Bn?Wa(e)?!0:e===R0&&Wa(r):Wa(t===R0?e:t)},aT=function(t){var e=0,r=1;(t[e]===XA||t[e]===Bn)&&(t[e]===Bn&&(r=-1),e++);for(var n=[];Wa(t[e]);)n.push(t[e++]);var l=n.length?parseInt(ca.apply(void 0,n),10):0;t[e]===R0&&e++;for(var h=[];Wa(t[e]);)h.push(t[e++]);var u=h.length,s=u?parseInt(ca.apply(void 0,h),10):0;(t[e]===o8||t[e]===n8)&&e++;var v=1;(t[e]===XA||t[e]===Bn)&&(t[e]===Bn&&(v=-1),e++);for(var w=[];Wa(t[e]);)w.push(t[e++]);var I=w.length?parseInt(ca.apply(void 0,w),10):0;return r*(l+s*Math.pow(10,-u))*Math.pow(10,v*I)},nT={type:2},sT={type:3},oT={type:4},lT={type:13},AT={type:8},cT={type:21},uT={type:9},hT={type:10},dT={type:11},fT={type:12},gT={type:14},I1={type:23},pT={type:1},mT={type:25},_T={type:24},bT={type:26},yT={type:27},vT={type:28},xT={type:29},wT={type:31},km={type:32},A8=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(yp(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==km;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case x1:return this.consumeStringToken(x1);case wF:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),l=this.peekCodePoint(2);if(mv(r)||Tl(n,l)){var h=R1(r,n,l)?yF:bF,u=this.consumeName();return{type:5,value:u,flags:h}}break;case BF:if(this.peekCodePoint(0)===Fd)return this.consumeCodePoint(),lT;break;case w1:return this.consumeStringToken(w1);case B1:return nT;case Td:return sT;case C3:if(this.peekCodePoint(0)===Fd)return this.consumeCodePoint(),gT;break;case XA:if(M3(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case kF:return oT;case Bn:var s=e,v=this.peekCodePoint(0),w=this.peekCodePoint(1);if(M3(s,v,w))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(R1(s,v,w))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(v===Bn&&w===UF)return this.consumeCodePoint(),this.consumeCodePoint(),_T;break;case R0:if(M3(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case fv:if(this.peekCodePoint(0)===C3)for(this.consumeCodePoint();;){var I=this.consumeCodePoint();if(I===C3&&(I=this.consumeCodePoint(),I===fv))return this.consumeToken();if(I===ao)return this.consumeToken()}break;case QF:return bT;case DF:return yT;case IF:if(this.peekCodePoint(0)===RF&&this.peekCodePoint(1)===Bn&&this.peekCodePoint(2)===Bn)return this.consumeCodePoint(),this.consumeCodePoint(),mT;break;case EF:var M=this.peekCodePoint(0),U=this.peekCodePoint(1),C=this.peekCodePoint(2);if(R1(M,U,C)){var u=this.consumeName();return{type:7,value:u}}break;case FF:return vT;case o0:if(Tl(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case TF:return xT;case SF:if(this.peekCodePoint(0)===Fd)return this.consumeCodePoint(),AT;break;case NF:return dT;case YF:return fT;case jF:case $F:var S=this.peekCodePoint(0),k=this.peekCodePoint(1);return S===XA&&(uu(k)||k===C1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case gv:if(this.peekCodePoint(0)===Fd)return this.consumeCodePoint(),uT;if(this.peekCodePoint(0)===gv)return this.consumeCodePoint(),cT;break;case PF:if(this.peekCodePoint(0)===Fd)return this.consumeCodePoint(),hT;break;case ao:return km}return M1(e)?(this.consumeWhiteSpace(),wT):Wa(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Dg(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ca(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();uu(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===C1&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var l=parseInt(ca.apply(void 0,e.map(function(v){return v===C1?i8:v})),16),h=parseInt(ca.apply(void 0,e.map(function(v){return v===C1?l8:v})),16);return{type:30,start:l,end:h}}var u=parseInt(ca.apply(void 0,e),16);if(this.peekCodePoint(0)===Bn&&uu(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var s=[];uu(r)&&s.length<6;)s.push(r),r=this.consumeCodePoint();var h=parseInt(ca.apply(void 0,s),16);return{type:30,start:u,end:h}}else return{type:30,start:u,end:u}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===B1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===B1?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ao)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===w1||r===x1){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ao||this.peekCodePoint(0)===Td)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),I1)}for(;;){var l=this.consumeCodePoint();if(l===ao||l===Td)return{type:22,value:ca.apply(void 0,e)};if(M1(l))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ao||this.peekCodePoint(0)===Td?(this.consumeCodePoint(),{type:22,value:ca.apply(void 0,e)}):(this.consumeBadUrlRemnants(),I1);if(l===x1||l===w1||l===B1||iT(l))return this.consumeBadUrlRemnants(),I1;if(l===o0)if(Tl(l,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),I1;else e.push(l)}},t.prototype.consumeWhiteSpace=function(){for(;M1(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Td||e===ao)return;Tl(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var l=Math.min(r,e);n+=ca.apply(void 0,this._value.splice(0,l)),e-=l}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var l=this._value[n];if(l===ao||l===void 0||l===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(l===Qg)return this._value.splice(0,n),pT;if(l===o0){var h=this._value[n+1];h!==ao&&h!==void 0&&(h===Qg?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Tl(l,h)&&(r+=this.consumeStringSlice(n),r+=ca(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Q0,n=this.peekCodePoint(0);for((n===XA||n===Bn)&&e.push(this.consumeCodePoint());Wa(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var l=this.peekCodePoint(1);if(n===R0&&Wa(l))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=dv;Wa(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),l=this.peekCodePoint(1);var h=this.peekCodePoint(2);if((n===o8||n===n8)&&((l===XA||l===Bn)&&Wa(h)||Wa(l)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=dv;Wa(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[aT(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],l=this.peekCodePoint(0),h=this.peekCodePoint(1),u=this.peekCodePoint(2);if(R1(l,h,u)){var s=this.consumeName();return{type:15,number:r,flags:n,unit:s}}return l===CF?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(uu(e)){for(var r=ca(e);uu(this.peekCodePoint(0))&&r.length<6;)r+=ca(this.consumeCodePoint());M1(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||WF(n)||n>1114111?pv:n}return e===ao?pv:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(mv(r))e+=ca(r);else if(Tl(r,this.peekCodePoint(0)))e+=ca(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),c8=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new A8;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||BT(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?km:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),D0=function(t){return t.type===15},vp=function(t){return t.type===17},ia=function(t){return t.type===20},Qm=function(t,e){return ia(t)&&t.value===e},xp=function(t){return t.type!==31&&t.type!==4},mo=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},BT=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Vl=function(t){return t.type===17||t.type===15},va=function(t){return t.type===16||Vl(t)},u8=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Xa={type:17,number:0,flags:Q0},X4={type:16,number:50,flags:Q0},Ll={type:16,number:100,flags:Q0},Vd=function(t,e,r){var n=t[0],l=t[1];return[Ni(n,e),Ni(typeof l<"u"?l:n,r)]},Ni=function(t,e){if(t.type===16)return t.number/100*e;if(D0(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},h8="deg",d8="grad",f8="rad",g8="turn",wp={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case h8:return Math.PI*e.number/180;case d8:return Math.PI/200*e.number;case f8:return e.number;case g8:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},p8=function(t){return t.type===15&&(t.unit===h8||t.unit===d8||t.unit===f8||t.unit===g8)},m8=function(t){var e=t.filter(ia).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Xa,Xa];case"to top":case"bottom":return ds(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Xa,Ll];case"to right":case"left":return ds(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ll,Ll];case"to bottom":case"top":return ds(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ll,Xa];case"to left":case"right":return ds(270)}return 0},ds=function(t){return Math.PI*t/180},Zl={name:"color",parse:function(t,e){if(e.type===18){var r=CT[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),l=e.value.substring(1,2),h=e.value.substring(2,3);return kl(parseInt(n+n,16),parseInt(l+l,16),parseInt(h+h,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),l=e.value.substring(1,2),h=e.value.substring(2,3),u=e.value.substring(3,4);return kl(parseInt(n+n,16),parseInt(l+l,16),parseInt(h+h,16),parseInt(u+u,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),l=e.value.substring(2,4),h=e.value.substring(4,6);return kl(parseInt(n,16),parseInt(l,16),parseInt(h,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),l=e.value.substring(2,4),h=e.value.substring(4,6),u=e.value.substring(6,8);return kl(parseInt(n,16),parseInt(l,16),parseInt(h,16),parseInt(u,16)/255)}}if(e.type===20){var s=I0[e.value.toUpperCase()];if(typeof s<"u")return s}return I0.TRANSPARENT}},Eu=function(t){return(255&t)===0},Pa=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,l=255&t>>24;return e<255?"rgba("+l+","+n+","+r+","+e/255+")":"rgb("+l+","+n+","+r+")"},kl=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},_v=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},bv=function(t,e){var r=e.filter(xp);if(r.length===3){var n=r.map(_v),l=n[0],h=n[1],u=n[2];return kl(l,h,u,1)}if(r.length===4){var s=r.map(_v),l=s[0],h=s[1],u=s[2],v=s[3];return kl(l,h,u,v)}return 0};function R3(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var yv=function(t,e){var r=e.filter(xp),n=r[0],l=r[1],h=r[2],u=r[3],s=(n.type===17?ds(n.number):wp.parse(t,n))/(Math.PI*2),v=va(l)?l.number/100:0,w=va(h)?h.number/100:0,I=typeof u<"u"&&va(u)?Ni(u,1):1;if(v===0)return kl(w*255,w*255,w*255,1);var M=w<=.5?w*(v+1):w+v-w*v,U=w*2-M,C=R3(U,M,s+1/3),S=R3(U,M,s),k=R3(U,M,s-1/3);return kl(C*255,S*255,k*255,I)},CT={hsl:yv,hsla:yv,rgb:bv,rgba:bv},vv=function(t,e){return Zl.parse(t,c8.create(e).parseComponentValue())},I0={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},MT={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ia(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},RT={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Bp=function(t,e){var r=Zl.parse(t,e[0]),n=e[1];return n&&va(n)?{color:r,stop:n}:{color:r,stop:null}},xv=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Xa),n.stop===null&&(n.stop=Ll);for(var l=[],h=0,u=0;u<t.length;u++){var s=t[u].stop;if(s!==null){var v=Ni(s,e);v>h?l.push(v):l.push(h),h=v}else l.push(null)}for(var w=null,u=0;u<l.length;u++){var I=l[u];if(I===null)w===null&&(w=u);else if(w!==null){for(var M=u-w,U=l[w-1],C=(I-U)/(M+1),S=1;S<=M;S++)l[w+S-1]=C*S;w=null}}return t.map(function(k,z){var Z=k.color;return{color:Z,stop:Math.max(Math.min(1,l[z]/e),0)}})},IT=function(t,e,r){var n=e/2,l=r/2,h=Ni(t[0],e)-n,u=l-Ni(t[1],r);return(Math.atan2(u,h)+Math.PI*2)%(Math.PI*2)},UT=function(t,e,r){var n=typeof t=="number"?t:IT(t,e,r),l=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),h=e/2,u=r/2,s=l/2,v=Math.sin(n-Math.PI/2)*s,w=Math.cos(n-Math.PI/2)*s;return[l,h-w,h+w,u-v,u+v]},Ts=function(t,e){return Math.sqrt(t*t+e*e)},wv=function(t,e,r,n,l){var h=[[0,0],[0,e],[t,0],[t,e]];return h.reduce(function(u,s){var v=s[0],w=s[1],I=Ts(r-v,n-w);return(l?I<u.optimumDistance:I>u.optimumDistance)?{optimumCorner:s,optimumDistance:I}:u},{optimumDistance:l?1/0:-1/0,optimumCorner:null}).optimumCorner},ET=function(t,e,r,n,l){var h=0,u=0;switch(t.size){case 0:t.shape===0?h=u=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-l)):t.shape===1&&(h=Math.min(Math.abs(e),Math.abs(e-n)),u=Math.min(Math.abs(r),Math.abs(r-l)));break;case 2:if(t.shape===0)h=u=Math.min(Ts(e,r),Ts(e,r-l),Ts(e-n,r),Ts(e-n,r-l));else if(t.shape===1){var s=Math.min(Math.abs(r),Math.abs(r-l))/Math.min(Math.abs(e),Math.abs(e-n)),v=wv(n,l,e,r,!0),w=v[0],I=v[1];h=Ts(w-e,(I-r)/s),u=s*h}break;case 1:t.shape===0?h=u=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-l)):t.shape===1&&(h=Math.max(Math.abs(e),Math.abs(e-n)),u=Math.max(Math.abs(r),Math.abs(r-l)));break;case 3:if(t.shape===0)h=u=Math.max(Ts(e,r),Ts(e,r-l),Ts(e-n,r),Ts(e-n,r-l));else if(t.shape===1){var s=Math.max(Math.abs(r),Math.abs(r-l))/Math.max(Math.abs(e),Math.abs(e-n)),M=wv(n,l,e,r,!1),w=M[0],I=M[1];h=Ts(w-e,(I-r)/s),u=s*h}break}return Array.isArray(t.size)&&(h=Ni(t.size[0],n),u=t.size.length===2?Ni(t.size[1],l):h),[h,u]},FT=function(t,e){var r=ds(180),n=[];return mo(e).forEach(function(l,h){if(h===0){var u=l[0];if(u.type===20&&u.value==="to"){r=m8(l);return}else if(p8(u)){r=wp.parse(t,u);return}}var s=Bp(t,l);n.push(s)}),{angle:r,stops:n,type:1}},U1=function(t,e){var r=ds(180),n=[];return mo(e).forEach(function(l,h){if(h===0){var u=l[0];if(u.type===20&&["top","left","right","bottom"].indexOf(u.value)!==-1){r=m8(l);return}else if(p8(u)){r=(wp.parse(t,u)+ds(270))%ds(360);return}}var s=Bp(t,l);n.push(s)}),{angle:r,stops:n,type:1}},TT=function(t,e){var r=ds(180),n=[],l=1,h=0,u=3,s=[];return mo(e).forEach(function(v,w){var I=v[0];if(w===0){if(ia(I)&&I.value==="linear"){l=1;return}else if(ia(I)&&I.value==="radial"){l=2;return}}if(I.type===18){if(I.name==="from"){var M=Zl.parse(t,I.values[0]);n.push({stop:Xa,color:M})}else if(I.name==="to"){var M=Zl.parse(t,I.values[0]);n.push({stop:Ll,color:M})}else if(I.name==="color-stop"){var U=I.values.filter(xp);if(U.length===2){var M=Zl.parse(t,U[1]),C=U[0];vp(C)&&n.push({stop:{type:16,number:C.number*100,flags:C.flags},color:M})}}}}),l===1?{angle:(r+ds(180))%ds(360),stops:n,type:l}:{size:u,shape:h,stops:n,position:s,type:l}},_8="closest-side",b8="farthest-side",y8="closest-corner",v8="farthest-corner",x8="circle",w8="ellipse",B8="cover",C8="contain",ST=function(t,e){var r=0,n=3,l=[],h=[];return mo(e).forEach(function(u,s){var v=!0;if(s===0){var w=!1;v=u.reduce(function(M,U){if(w)if(ia(U))switch(U.value){case"center":return h.push(X4),M;case"top":case"left":return h.push(Xa),M;case"right":case"bottom":return h.push(Ll),M}else(va(U)||Vl(U))&&h.push(U);else if(ia(U))switch(U.value){case x8:return r=0,!1;case w8:return r=1,!1;case"at":return w=!0,!1;case _8:return n=0,!1;case B8:case b8:return n=1,!1;case C8:case y8:return n=2,!1;case v8:return n=3,!1}else if(Vl(U)||va(U))return Array.isArray(n)||(n=[]),n.push(U),!1;return M},v)}if(v){var I=Bp(t,u);l.push(I)}}),{size:n,shape:r,stops:l,position:h,type:2}},E1=function(t,e){var r=0,n=3,l=[],h=[];return mo(e).forEach(function(u,s){var v=!0;if(s===0?v=u.reduce(function(I,M){if(ia(M))switch(M.value){case"center":return h.push(X4),!1;case"top":case"left":return h.push(Xa),!1;case"right":case"bottom":return h.push(Ll),!1}else if(va(M)||Vl(M))return h.push(M),!1;return I},v):s===1&&(v=u.reduce(function(I,M){if(ia(M))switch(M.value){case x8:return r=0,!1;case w8:return r=1,!1;case C8:case _8:return n=0,!1;case b8:return n=1,!1;case y8:return n=2,!1;case B8:case v8:return n=3,!1}else if(Vl(M)||va(M))return Array.isArray(n)||(n=[]),n.push(M),!1;return I},v)),v){var w=Bp(t,u);l.push(w)}}),{size:n,shape:r,stops:l,position:h,type:2}},NT=function(t){return t.type===1},YT=function(t){return t.type===2},V4={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=M8[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function PT(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!M8[t.name])}var M8={"linear-gradient":FT,"-moz-linear-gradient":U1,"-ms-linear-gradient":U1,"-o-linear-gradient":U1,"-webkit-linear-gradient":U1,"radial-gradient":ST,"-moz-radial-gradient":E1,"-ms-radial-gradient":E1,"-o-radial-gradient":E1,"-webkit-radial-gradient":E1,"-webkit-gradient":TT},LT={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return xp(n)&&PT(n)}).map(function(n){return V4.parse(t,n)})}},kT={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ia(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},QT={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return mo(e).map(function(r){return r.filter(va)}).map(u8)}},DT={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return mo(e).map(function(r){return r.filter(ia).map(function(n){return n.value}).join(" ")}).map(zT)}},zT=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Fu;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Fu||(Fu={}));var ZT={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return mo(e).map(function(r){return r.filter(OT)})}},OT=function(t){return ia(t)||va(t)},Cp=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},HT=Cp("top"),XT=Cp("right"),VT=Cp("bottom"),GT=Cp("left"),Mp=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return u8(r.filter(va))}}},jT=Mp("top-left"),KT=Mp("top-right"),$T=Mp("bottom-right"),qT=Mp("bottom-left"),Rp=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},WT=Rp("top"),JT=Rp("right"),eS=Rp("bottom"),tS=Rp("left"),Ip=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return D0(r)?r.number:0}}},rS=Ip("top"),iS=Ip("right"),aS=Ip("bottom"),nS=Ip("left"),sS={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},oS={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},lS={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(ia).reduce(function(r,n){return r|AS(n.value)},0)}},AS=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},cS={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},uS={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},zg;(function(t){t.NORMAL="normal",t.STRICT="strict"})(zg||(zg={}));var hS={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return zg.STRICT;case"normal":default:return zg.NORMAL}}},dS={name:"line-height",initialValue:"normal",prefix:!1,type:4},Bv=function(t,e){return ia(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:va(t)?Ni(t,e):e},fS={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:V4.parse(t,e)}},gS={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},pS={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Up=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},mS=Up("top"),_S=Up("right"),bS=Up("bottom"),yS=Up("left"),vS={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(ia).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},xS={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ep=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},wS=Ep("top"),BS=Ep("right"),CS=Ep("bottom"),MS=Ep("left"),RS={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},IS={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},US={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Qm(e[0],"none")?[]:mo(e).map(function(r){for(var n={color:I0.TRANSPARENT,offsetX:Xa,offsetY:Xa,blur:Xa},l=0,h=0;h<r.length;h++){var u=r[h];Vl(u)?(l===0?n.offsetX=u:l===1?n.offsetY=u:n.blur=u,l++):n.color=Zl.parse(t,u)}return n})}},ES={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},FS={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=NS[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},TS=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},SS=function(t){var e=t.filter(function(v){return v.type===17}).map(function(v){return v.number}),r=e[0],n=e[1];e[2],e[3];var l=e[4],h=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var u=e[12],s=e[13];return e[14],e[15],e.length===16?[r,n,l,h,u,s]:null},NS={matrix:TS,matrix3d:SS},Cv={type:16,number:50,flags:Q0},YS=[Cv,Cv],PS={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(va);return r.length!==2?YS:[r[0],r[1]]}},LS={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},l0;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(l0||(l0={}));var kS={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return l0.BREAK_ALL;case"keep-all":return l0.KEEP_ALL;case"normal":default:return l0.NORMAL}}},QS={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(vp(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},R8={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},DS={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return vp(e)?e.number:1}},zS={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ZS={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(ia).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},OS={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(l){switch(l.type){case 20:case 0:r.push(l.value);break;case 17:r.push(l.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(l){return l.indexOf(" ")===-1?l:"'"+l+"'"})}},HS={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},XS={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(vp(e))return e.number;if(ia(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},VS={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(ia).map(function(r){return r.value})}},GS={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ea=function(t,e){return(t&e)!==0},jS={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(D0).map(function(r){return R8.parse(t,r)})}},KS={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Qm(e[0],"none")?[]:mo(e).map(function(r){for(var n={color:255,offsetX:Xa,offsetY:Xa,blur:Xa,spread:Xa,inset:!1},l=0,h=0;h<r.length;h++){var u=r[h];Qm(u,"inset")?n.inset=!0:Vl(u)?(l===0?n.offsetX=u:l===1?n.offsetY=u:l===2?n.blur=u:n.spread=u,l++):n.color=Zl.parse(t,u)}return n})}},$S={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(ia).forEach(function(l){switch(l.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(l){n.indexOf(l)===-1&&n.push(l)}),n}},qS={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},WS={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return D0(e)?e.number:0}},JS=function(){function t(e,r){var n,l;this.animationDuration=pr(e,jS,r.animationDuration),this.backgroundClip=pr(e,MT,r.backgroundClip),this.backgroundColor=pr(e,RT,r.backgroundColor),this.backgroundImage=pr(e,LT,r.backgroundImage),this.backgroundOrigin=pr(e,kT,r.backgroundOrigin),this.backgroundPosition=pr(e,QT,r.backgroundPosition),this.backgroundRepeat=pr(e,DT,r.backgroundRepeat),this.backgroundSize=pr(e,ZT,r.backgroundSize),this.borderTopColor=pr(e,HT,r.borderTopColor),this.borderRightColor=pr(e,XT,r.borderRightColor),this.borderBottomColor=pr(e,VT,r.borderBottomColor),this.borderLeftColor=pr(e,GT,r.borderLeftColor),this.borderTopLeftRadius=pr(e,jT,r.borderTopLeftRadius),this.borderTopRightRadius=pr(e,KT,r.borderTopRightRadius),this.borderBottomRightRadius=pr(e,$T,r.borderBottomRightRadius),this.borderBottomLeftRadius=pr(e,qT,r.borderBottomLeftRadius),this.borderTopStyle=pr(e,WT,r.borderTopStyle),this.borderRightStyle=pr(e,JT,r.borderRightStyle),this.borderBottomStyle=pr(e,eS,r.borderBottomStyle),this.borderLeftStyle=pr(e,tS,r.borderLeftStyle),this.borderTopWidth=pr(e,rS,r.borderTopWidth),this.borderRightWidth=pr(e,iS,r.borderRightWidth),this.borderBottomWidth=pr(e,aS,r.borderBottomWidth),this.borderLeftWidth=pr(e,nS,r.borderLeftWidth),this.boxShadow=pr(e,KS,r.boxShadow),this.color=pr(e,sS,r.color),this.direction=pr(e,oS,r.direction),this.display=pr(e,lS,r.display),this.float=pr(e,cS,r.cssFloat),this.fontFamily=pr(e,OS,r.fontFamily),this.fontSize=pr(e,HS,r.fontSize),this.fontStyle=pr(e,GS,r.fontStyle),this.fontVariant=pr(e,VS,r.fontVariant),this.fontWeight=pr(e,XS,r.fontWeight),this.letterSpacing=pr(e,uS,r.letterSpacing),this.lineBreak=pr(e,hS,r.lineBreak),this.lineHeight=pr(e,dS,r.lineHeight),this.listStyleImage=pr(e,fS,r.listStyleImage),this.listStylePosition=pr(e,gS,r.listStylePosition),this.listStyleType=pr(e,pS,r.listStyleType),this.marginTop=pr(e,mS,r.marginTop),this.marginRight=pr(e,_S,r.marginRight),this.marginBottom=pr(e,bS,r.marginBottom),this.marginLeft=pr(e,yS,r.marginLeft),this.opacity=pr(e,DS,r.opacity);var h=pr(e,vS,r.overflow);this.overflowX=h[0],this.overflowY=h[h.length>1?1:0],this.overflowWrap=pr(e,xS,r.overflowWrap),this.paddingTop=pr(e,wS,r.paddingTop),this.paddingRight=pr(e,BS,r.paddingRight),this.paddingBottom=pr(e,CS,r.paddingBottom),this.paddingLeft=pr(e,MS,r.paddingLeft),this.paintOrder=pr(e,$S,r.paintOrder),this.position=pr(e,IS,r.position),this.textAlign=pr(e,RS,r.textAlign),this.textDecorationColor=pr(e,zS,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=pr(e,ZS,(l=r.textDecorationLine)!==null&&l!==void 0?l:r.textDecoration),this.textShadow=pr(e,US,r.textShadow),this.textTransform=pr(e,ES,r.textTransform),this.transform=pr(e,FS,r.transform),this.transformOrigin=pr(e,PS,r.transformOrigin),this.visibility=pr(e,LS,r.visibility),this.webkitTextStrokeColor=pr(e,qS,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=pr(e,WS,r.webkitTextStrokeWidth),this.wordBreak=pr(e,kS,r.wordBreak),this.zIndex=pr(e,QS,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Eu(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Ea(this.display,4)||Ea(this.display,33554432)||Ea(this.display,268435456)||Ea(this.display,536870912)||Ea(this.display,67108864)||Ea(this.display,134217728)},t}(),pr=function(t,e,r){var n=new A8,l=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(l);var h=new c8(n.read());switch(e.type){case 2:var u=h.parseComponentValue();return e.parse(t,ia(u)?u.value:e.initialValue);case 0:return e.parse(t,h.parseComponentValue());case 1:return e.parse(t,h.parseComponentValues());case 4:return h.parseComponentValue();case 3:switch(e.format){case"angle":return wp.parse(t,h.parseComponentValue());case"color":return Zl.parse(t,h.parseComponentValue());case"image":return V4.parse(t,h.parseComponentValue());case"length":var s=h.parseComponentValue();return Vl(s)?s:Xa;case"length-percentage":var v=h.parseComponentValue();return va(v)?v:Xa;case"time":return R8.parse(t,h.parseComponentValue())}break}},eN="data-html2canvas-debug",tN=function(t){var e=t.getAttribute(eN);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Mv=function(t,e){var r=tN(t);return r===1||e===r},_o=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Mv(r,3))debugger;this.styles=new JS(e,window.getComputedStyle(r,null)),tY(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=O4(this.context,r),Mv(r,4)&&(this.flags|=16)}return t}(),rN="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Rv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var F1=0;F1<Rv.length;F1++)Gd[Rv.charCodeAt(F1)]=F1;var iN=function(t){var e=t.length*.75,r=t.length,n,l=0,h,u,s,v;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var w=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),I=Array.isArray(w)?w:new Uint8Array(w);for(n=0;n<r;n+=4)h=Gd[t.charCodeAt(n)],u=Gd[t.charCodeAt(n+1)],s=Gd[t.charCodeAt(n+2)],v=Gd[t.charCodeAt(n+3)],I[l++]=h<<2|u>>4,I[l++]=(u&15)<<4|s>>2,I[l++]=(s&3)<<6|v&63;return w},aN=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},nN=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},qA=5,G4=11,I3=2,sN=G4-qA,I8=65536>>qA,oN=1<<qA,U3=oN-1,lN=1024>>qA,AN=I8+lN,cN=AN,uN=32,hN=cN+uN,dN=65536>>G4,fN=1<<sN,gN=fN-1,Iv=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},pN=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},mN=function(t,e){var r=iN(t),n=Array.isArray(r)?nN(r):new Uint32Array(r),l=Array.isArray(r)?aN(r):new Uint16Array(r),h=24,u=Iv(l,h/2,n[4]/2),s=n[5]===2?Iv(l,(h+n[4])/2):pN(n,Math.ceil((h+n[4])/4));return new _N(n[0],n[1],n[2],n[3],u,s)},_N=function(){function t(e,r,n,l,h,u){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=l,this.index=h,this.data=u}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>qA],r=(r<<I3)+(e&U3),this.data[r];if(e<=65535)return r=this.index[I8+(e-55296>>qA)],r=(r<<I3)+(e&U3),this.data[r];if(e<this.highStart)return r=hN-dN+(e>>G4),r=this.index[r],r+=e>>qA&gN,r=this.index[r],r=(r<<I3)+(e&U3),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Uv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bN=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var T1=0;T1<Uv.length;T1++)bN[Uv.charCodeAt(T1)]=T1;var yN=1,E3=2,F3=3,Ev=4,Fv=5,vN=7,Tv=8,T3=9,S3=10,Sv=11,Nv=12,Yv=13,Pv=14,N3=15,xN=function(t){for(var e=[],r=0,n=t.length;r<n;){var l=t.charCodeAt(r++);if(l>=55296&&l<=56319&&r<n){var h=t.charCodeAt(r++);(h&64512)===56320?e.push(((l&1023)<<10)+(h&1023)+65536):(e.push(l),r--)}else e.push(l)}return e},wN=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],l=-1,h="";++l<r;){var u=t[l];u<=65535?n.push(u):(u-=65536,n.push((u>>10)+55296,u%1024+56320)),(l+1===r||n.length>16384)&&(h+=String.fromCharCode.apply(String,n),n.length=0)}return h},BN=mN(rN),cs="",Y3="",CN=function(t){return BN.get(t)},MN=function(t,e,r){var n=r-2,l=e[n],h=e[r-1],u=e[r];if(h===E3&&u===F3)return cs;if(h===E3||h===F3||h===Ev||u===E3||u===F3||u===Ev)return Y3;if(h===Tv&&[Tv,T3,Sv,Nv].indexOf(u)!==-1||(h===Sv||h===T3)&&(u===T3||u===S3)||(h===Nv||h===S3)&&u===S3||u===Yv||u===Fv||u===vN||h===yN)return cs;if(h===Yv&&u===Pv){for(;l===Fv;)l=e[--n];if(l===Pv)return cs}if(h===N3&&u===N3){for(var s=0;l===N3;)s++,l=e[--n];if(s%2===0)return cs}return Y3},RN=function(t){var e=xN(t),r=e.length,n=0,l=0,h=e.map(CN);return{next:function(){if(n>=r)return{done:!0,value:null};for(var u=cs;n<r&&(u=MN(e,h,++n))===cs;);if(u!==cs||n===r){var s=wN.apply(null,e.slice(l,n));return l=n,{value:s,done:!1}}return{done:!0,value:null}}}},IN=function(t){for(var e=RN(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},UN=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var l=r.getBoundingClientRect(),h=Math.round(l.height);if(t.body.removeChild(n),h===e)return!0}}return!1},EN=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,l=yp(n.data).map(function(v){return ca(v)}),h=0,u={},s=l.every(function(v,w){r.setStart(n,h),r.setEnd(n,h+v.length);var I=r.getBoundingClientRect();h+=v.length;var M=I.x>u.x||I.y>u.y;return u=I,w===0?!0:M});return t.body.removeChild(e),s},FN=function(){return typeof new Image().crossOrigin<"u"},TN=function(){return typeof new XMLHttpRequest().responseType=="string"},SN=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},Lv=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},NN=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var l=new Image,h=e.toDataURL();l.src=h;var u=Dm(r,r,0,0,l);return n.fillStyle="red",n.fillRect(0,0,r,r),kv(u).then(function(s){n.drawImage(s,0,0);var v=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var w=t.createElement("div");return w.style.backgroundImage="url("+h+")",w.style.height=r+"px",Lv(v)?kv(Dm(r,r,0,0,w)):Promise.reject(!1)}).then(function(s){return n.drawImage(s,0,0),Lv(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Dm=function(t,e,r,n,l){var h="http://www.w3.org/2000/svg",u=document.createElementNS(h,"svg"),s=document.createElementNS(h,"foreignObject");return u.setAttributeNS(null,"width",t.toString()),u.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",r.toString()),s.setAttributeNS(null,"y",n.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),u.appendChild(s),s.appendChild(l),u},kv=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Hn={get SUPPORT_RANGE_BOUNDS(){var t=UN(document);return Object.defineProperty(Hn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Hn.SUPPORT_RANGE_BOUNDS&&EN(document);return Object.defineProperty(Hn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=SN(document);return Object.defineProperty(Hn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?NN(document):Promise.resolve(!1);return Object.defineProperty(Hn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=FN();return Object.defineProperty(Hn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=TN();return Object.defineProperty(Hn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Hn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Hn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},A0=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),YN=function(t,e,r,n){var l=kN(e,r),h=[],u=0;return l.forEach(function(s){if(r.textDecorationLine.length||s.trim().length>0)if(Hn.SUPPORT_RANGE_BOUNDS){var v=Qv(n,u,s.length).getClientRects();if(v.length>1){var w=j4(s),I=0;w.forEach(function(U){h.push(new A0(U,rc.fromDOMRectList(t,Qv(n,I+u,U.length).getClientRects()))),I+=U.length})}else h.push(new A0(s,rc.fromDOMRectList(t,v)))}else{var M=n.splitText(s.length);h.push(new A0(s,PN(t,n))),n=M}else Hn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(s.length));u+=s.length}),h},PN=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var l=e.parentNode;if(l){l.replaceChild(n,e);var h=O4(t,n);return n.firstChild&&l.replaceChild(n.firstChild,n),h}}return rc.EMPTY},Qv=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var l=n.createRange();return l.setStart(t,e),l.setEnd(t,e+r),l},j4=function(t){if(Hn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return IN(t)},LN=function(t,e){if(Hn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return DN(t,e)},kN=function(t,e){return e.letterSpacing!==0?j4(t):LN(t,e)},QN=[32,160,4961,65792,65793,4153,4241],DN=function(t,e){for(var r=_F(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],l,h=function(){if(l.value){var u=l.value.slice(),s=yp(u),v="";s.forEach(function(w){QN.indexOf(w)===-1?v+=ca(w):(v.length&&n.push(v),n.push(ca(w)),v="")}),v.length&&n.push(v)}};!(l=r.next()).done;)h();return n},zN=function(){function t(e,r,n){this.text=ZN(r.data,n.textTransform),this.textBounds=YN(e,this.text,n,r)}return t}(),ZN=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(ON,HN);case 2:return t.toUpperCase();default:return t}},ON=/(^|\s|:|-|\(|\))([a-z])/g,HN=function(t,e,r){return t.length>0?e+r.toUpperCase():t},U8=function(t){Vs(e,t);function e(r,n){var l=t.call(this,r,n)||this;return l.src=n.currentSrc||n.src,l.intrinsicWidth=n.naturalWidth,l.intrinsicHeight=n.naturalHeight,l.context.cache.addImage(l.src),l}return e}(_o),E8=function(t){Vs(e,t);function e(r,n){var l=t.call(this,r,n)||this;return l.canvas=n,l.intrinsicWidth=n.width,l.intrinsicHeight=n.height,l}return e}(_o),F8=function(t){Vs(e,t);function e(r,n){var l=t.call(this,r,n)||this,h=new XMLSerializer,u=O4(r,n);return n.setAttribute("width",u.width+"px"),n.setAttribute("height",u.height+"px"),l.svg="data:image/svg+xml,"+encodeURIComponent(h.serializeToString(n)),l.intrinsicWidth=n.width.baseVal.value,l.intrinsicHeight=n.height.baseVal.value,l.context.cache.addImage(l.svg),l}return e}(_o),T8=function(t){Vs(e,t);function e(r,n){var l=t.call(this,r,n)||this;return l.value=n.value,l}return e}(_o),zm=function(t){Vs(e,t);function e(r,n){var l=t.call(this,r,n)||this;return l.start=n.start,l.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,l}return e}(_o),XN=[{type:15,flags:0,unit:"px",number:3}],VN=[{type:16,flags:0,number:50}],GN=function(t){return t.width>t.height?new rc(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new rc(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},jN=function(t){var e=t.type===KN?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Zg="checkbox",Og="radio",KN="password",Dv=707406591,K4=function(t){Vs(e,t);function e(r,n){var l=t.call(this,r,n)||this;switch(l.type=n.type.toLowerCase(),l.checked=n.checked,l.value=jN(n),(l.type===Zg||l.type===Og)&&(l.styles.backgroundColor=3739148031,l.styles.borderTopColor=l.styles.borderRightColor=l.styles.borderBottomColor=l.styles.borderLeftColor=2779096575,l.styles.borderTopWidth=l.styles.borderRightWidth=l.styles.borderBottomWidth=l.styles.borderLeftWidth=1,l.styles.borderTopStyle=l.styles.borderRightStyle=l.styles.borderBottomStyle=l.styles.borderLeftStyle=1,l.styles.backgroundClip=[0],l.styles.backgroundOrigin=[0],l.bounds=GN(l.bounds)),l.type){case Zg:l.styles.borderTopRightRadius=l.styles.borderTopLeftRadius=l.styles.borderBottomRightRadius=l.styles.borderBottomLeftRadius=XN;break;case Og:l.styles.borderTopRightRadius=l.styles.borderTopLeftRadius=l.styles.borderBottomRightRadius=l.styles.borderBottomLeftRadius=VN;break}return l}return e}(_o),S8=function(t){Vs(e,t);function e(r,n){var l=t.call(this,r,n)||this,h=n.options[n.selectedIndex||0];return l.value=h&&h.text||"",l}return e}(_o),N8=function(t){Vs(e,t);function e(r,n){var l=t.call(this,r,n)||this;return l.value=n.value,l}return e}(_o),Y8=function(t){Vs(e,t);function e(r,n){var l=t.call(this,r,n)||this;l.src=n.src,l.width=parseInt(n.width,10)||0,l.height=parseInt(n.height,10)||0,l.backgroundColor=l.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){l.tree=qN(r,n.contentWindow.document.documentElement);var h=n.contentWindow.document.documentElement?vv(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):I0.TRANSPARENT,u=n.contentWindow.document.body?vv(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):I0.TRANSPARENT;l.backgroundColor=Eu(h)?Eu(u)?l.styles.backgroundColor:u:h}}catch{}return l}return e}(_o),$N=["OL","UL","MENU"],Ag=function(t,e,r,n){for(var l=e.firstChild,h=void 0;l;l=h)if(h=l.nextSibling,eY(l)&&l.data.trim().length>0)r.textNodes.push(new zN(t,l,r.styles));else if(L8(l))if(cY(l)&&l.assignedNodes)l.assignedNodes().forEach(function(s){return Ag(t,s,r,n)});else{var u=P8(t,l);u.styles.isVisible()&&(WN(l,u,n)?u.flags|=4:JN(u.styles)&&(u.flags|=2),$N.indexOf(l.tagName)!==-1&&(u.flags|=8),r.elements.push(u),l.slot,l.shadowRoot?Ag(t,l.shadowRoot,u,n):!Q8(l)&&!k8(l)&&!D8(l)&&Ag(t,l,u,n))}},P8=function(t,e){return lY(e)?new U8(t,e):oY(e)?new E8(t,e):k8(e)?new F8(t,e):iY(e)?new T8(t,e):aY(e)?new zm(t,e):nY(e)?new K4(t,e):D8(e)?new S8(t,e):Q8(e)?new N8(t,e):AY(e)?new Y8(t,e):new _o(t,e)},qN=function(t,e){var r=P8(t,e);return r.flags|=4,Ag(t,e,r,r),r},WN=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||sY(t)&&r.styles.isTransparent()},JN=function(t){return t.isPositioned()||t.isFloating()},eY=function(t){return t.nodeType===Node.TEXT_NODE},L8=function(t){return t.nodeType===Node.ELEMENT_NODE},tY=function(t){return L8(t)&&typeof t.style<"u"&&!rY(t)},rY=function(t){return typeof t.className=="object"},iY=function(t){return t.tagName==="LI"},aY=function(t){return t.tagName==="OL"},nY=function(t){return t.tagName==="INPUT"},k8=function(t){return t.tagName==="svg"},sY=function(t){return t.tagName==="BODY"},oY=function(t){return t.tagName==="CANVAS"},lY=function(t){return t.tagName==="IMG"},AY=function(t){return t.tagName==="IFRAME"},Q8=function(t){return t.tagName==="TEXTAREA"},D8=function(t){return t.tagName==="SELECT"},cY=function(t){return t.tagName==="SLOT"},zv={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Zv={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},uY={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},hY={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},hu=function(t,e,r,n,l,h){return t<e||t>r?$4(t,l,h.length>0):n.integers.reduce(function(u,s,v){for(;t>=s;)t-=s,u+=n.values[v];return u},"")+h},z8=function(t,e,r,n){var l="";do r||t--,l=n(t)+l,t/=e;while(t*e>=e);return l},la=function(t,e,r,n,l){var h=r-e+1;return(t<0?"-":"")+(z8(Math.abs(t),h,n,function(u){return ca(Math.floor(u%h)+e)})+l)},kA=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return z8(Math.abs(t),n,!1,function(l){return e[Math.floor(l%n)]})+r},vu=1,Ul=2,El=4,jd=8,Lo=function(t,e,r,n,l,h){if(t<-9999||t>9999)return $4(t,4,l.length>0);var u=Math.abs(t),s=l;if(u===0)return e[0]+s;for(var v=0;u>0&&v<=4;v++){var w=u%10;w===0&&Ea(h,vu)&&s!==""?s=e[w]+s:w>1||w===1&&v===0||w===1&&v===1&&Ea(h,Ul)||w===1&&v===1&&Ea(h,El)&&t>100||w===1&&v>1&&Ea(h,jd)?s=e[w]+(v>0?r[v-1]:"")+s:w===1&&v>0&&(s=r[v-1]+s),u=Math.floor(u/10)}return(t<0?n:"")+s},Ov="",Hv="",Xv="",P3="",$4=function(t,e,r){var n=r?". ":"",l=r?"":"",h=r?", ":"",u=r?" ":"";switch(e){case 0:return""+u;case 1:return""+u;case 2:return""+u;case 5:var s=la(t,48,57,!0,n);return s.length<4?"0"+s:s;case 4:return kA(t,"",l);case 6:return hu(t,1,3999,zv,3,n).toLowerCase();case 7:return hu(t,1,3999,zv,3,n);case 8:return la(t,945,969,!1,n);case 9:return la(t,97,122,!1,n);case 10:return la(t,65,90,!1,n);case 11:return la(t,1632,1641,!0,n);case 12:case 49:return hu(t,1,9999,Zv,3,n);case 35:return hu(t,1,9999,Zv,3,n).toLowerCase();case 13:return la(t,2534,2543,!0,n);case 14:case 30:return la(t,6112,6121,!0,n);case 15:return kA(t,"",l);case 16:return kA(t,"",l);case 17:case 48:return Lo(t,"",Ov,"",l,Ul|El|jd);case 47:return Lo(t,"",Hv,"",l,vu|Ul|El|jd);case 42:return Lo(t,"",Ov,"",l,Ul|El|jd);case 41:return Lo(t,"",Hv,"",l,vu|Ul|El|jd);case 26:return Lo(t,"","",Xv,l,0);case 25:return Lo(t,"","",Xv,l,vu|Ul|El);case 31:return Lo(t,"","",P3,h,vu|Ul|El);case 33:return Lo(t,"","",P3,h,0);case 32:return Lo(t,"","",P3,h,vu|Ul|El);case 18:return la(t,2406,2415,!0,n);case 20:return hu(t,1,19999,hY,3,n);case 21:return la(t,2790,2799,!0,n);case 22:return la(t,2662,2671,!0,n);case 22:return hu(t,1,10999,uY,3,n);case 23:return kA(t,"");case 24:return kA(t,"");case 27:return la(t,3302,3311,!0,n);case 28:return kA(t,"",l);case 29:return kA(t,"",l);case 34:return la(t,3792,3801,!0,n);case 37:return la(t,6160,6169,!0,n);case 38:return la(t,4160,4169,!0,n);case 39:return la(t,2918,2927,!0,n);case 40:return la(t,1776,1785,!0,n);case 43:return la(t,3046,3055,!0,n);case 44:return la(t,3174,3183,!0,n);case 45:return la(t,3664,3673,!0,n);case 46:return la(t,3872,3881,!0,n);case 3:default:return la(t,48,57,!0,n)}},Vv;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Vv||(Vv={}));var dY=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),rr=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),du=function(t,e,r){return new rr(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},S1=function(){function t(e,r,n,l){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=l}return t.prototype.subdivide=function(e,r){var n=du(this.start,this.startControl,e),l=du(this.startControl,this.endControl,e),h=du(this.endControl,this.end,e),u=du(n,l,e),s=du(l,h,e),v=du(u,s,e);return r?new t(this.start,n,u,v):new t(v,s,h,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),us=function(t){return t.type===1},fY=function(){function t(e){var r=e.styles,n=e.bounds,l=Vd(r.borderTopLeftRadius,n.width,n.height),h=l[0],u=l[1],s=Vd(r.borderTopRightRadius,n.width,n.height),v=s[0],w=s[1],I=Vd(r.borderBottomRightRadius,n.width,n.height),M=I[0],U=I[1],C=Vd(r.borderBottomLeftRadius,n.width,n.height),S=C[0],k=C[1],z=[];z.push((h+v)/n.width),z.push((S+M)/n.width),z.push((u+k)/n.height),z.push((w+U)/n.height);var Z=Math.max.apply(Math,z);Z>1&&(h/=Z,u/=Z,v/=Z,w/=Z,M/=Z,U/=Z,S/=Z,k/=Z);var G=n.width-v,se=n.height-U,re=n.width-M,Ae=n.height-k,J=r.borderTopWidth,te=r.borderRightWidth,X=r.borderBottomWidth,W=r.borderLeftWidth,he=Ni(r.paddingTop,e.bounds.width),ue=Ni(r.paddingRight,e.bounds.width),_e=Ni(r.paddingBottom,e.bounds.width),xe=Ni(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=h>0||u>0?Xi(n.left+W/3,n.top+J/3,h-W/3,u-J/3,ui.TOP_LEFT):new rr(n.left+W/3,n.top+J/3),this.topRightBorderDoubleOuterBox=h>0||u>0?Xi(n.left+G,n.top+J/3,v-te/3,w-J/3,ui.TOP_RIGHT):new rr(n.left+n.width-te/3,n.top+J/3),this.bottomRightBorderDoubleOuterBox=M>0||U>0?Xi(n.left+re,n.top+se,M-te/3,U-X/3,ui.BOTTOM_RIGHT):new rr(n.left+n.width-te/3,n.top+n.height-X/3),this.bottomLeftBorderDoubleOuterBox=S>0||k>0?Xi(n.left+W/3,n.top+Ae,S-W/3,k-X/3,ui.BOTTOM_LEFT):new rr(n.left+W/3,n.top+n.height-X/3),this.topLeftBorderDoubleInnerBox=h>0||u>0?Xi(n.left+W*2/3,n.top+J*2/3,h-W*2/3,u-J*2/3,ui.TOP_LEFT):new rr(n.left+W*2/3,n.top+J*2/3),this.topRightBorderDoubleInnerBox=h>0||u>0?Xi(n.left+G,n.top+J*2/3,v-te*2/3,w-J*2/3,ui.TOP_RIGHT):new rr(n.left+n.width-te*2/3,n.top+J*2/3),this.bottomRightBorderDoubleInnerBox=M>0||U>0?Xi(n.left+re,n.top+se,M-te*2/3,U-X*2/3,ui.BOTTOM_RIGHT):new rr(n.left+n.width-te*2/3,n.top+n.height-X*2/3),this.bottomLeftBorderDoubleInnerBox=S>0||k>0?Xi(n.left+W*2/3,n.top+Ae,S-W*2/3,k-X*2/3,ui.BOTTOM_LEFT):new rr(n.left+W*2/3,n.top+n.height-X*2/3),this.topLeftBorderStroke=h>0||u>0?Xi(n.left+W/2,n.top+J/2,h-W/2,u-J/2,ui.TOP_LEFT):new rr(n.left+W/2,n.top+J/2),this.topRightBorderStroke=h>0||u>0?Xi(n.left+G,n.top+J/2,v-te/2,w-J/2,ui.TOP_RIGHT):new rr(n.left+n.width-te/2,n.top+J/2),this.bottomRightBorderStroke=M>0||U>0?Xi(n.left+re,n.top+se,M-te/2,U-X/2,ui.BOTTOM_RIGHT):new rr(n.left+n.width-te/2,n.top+n.height-X/2),this.bottomLeftBorderStroke=S>0||k>0?Xi(n.left+W/2,n.top+Ae,S-W/2,k-X/2,ui.BOTTOM_LEFT):new rr(n.left+W/2,n.top+n.height-X/2),this.topLeftBorderBox=h>0||u>0?Xi(n.left,n.top,h,u,ui.TOP_LEFT):new rr(n.left,n.top),this.topRightBorderBox=v>0||w>0?Xi(n.left+G,n.top,v,w,ui.TOP_RIGHT):new rr(n.left+n.width,n.top),this.bottomRightBorderBox=M>0||U>0?Xi(n.left+re,n.top+se,M,U,ui.BOTTOM_RIGHT):new rr(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=S>0||k>0?Xi(n.left,n.top+Ae,S,k,ui.BOTTOM_LEFT):new rr(n.left,n.top+n.height),this.topLeftPaddingBox=h>0||u>0?Xi(n.left+W,n.top+J,Math.max(0,h-W),Math.max(0,u-J),ui.TOP_LEFT):new rr(n.left+W,n.top+J),this.topRightPaddingBox=v>0||w>0?Xi(n.left+Math.min(G,n.width-te),n.top+J,G>n.width+te?0:Math.max(0,v-te),Math.max(0,w-J),ui.TOP_RIGHT):new rr(n.left+n.width-te,n.top+J),this.bottomRightPaddingBox=M>0||U>0?Xi(n.left+Math.min(re,n.width-W),n.top+Math.min(se,n.height-X),Math.max(0,M-te),Math.max(0,U-X),ui.BOTTOM_RIGHT):new rr(n.left+n.width-te,n.top+n.height-X),this.bottomLeftPaddingBox=S>0||k>0?Xi(n.left+W,n.top+Math.min(Ae,n.height-X),Math.max(0,S-W),Math.max(0,k-X),ui.BOTTOM_LEFT):new rr(n.left+W,n.top+n.height-X),this.topLeftContentBox=h>0||u>0?Xi(n.left+W+xe,n.top+J+he,Math.max(0,h-(W+xe)),Math.max(0,u-(J+he)),ui.TOP_LEFT):new rr(n.left+W+xe,n.top+J+he),this.topRightContentBox=v>0||w>0?Xi(n.left+Math.min(G,n.width+W+xe),n.top+J+he,G>n.width+W+xe?0:v-W+xe,w-(J+he),ui.TOP_RIGHT):new rr(n.left+n.width-(te+ue),n.top+J+he),this.bottomRightContentBox=M>0||U>0?Xi(n.left+Math.min(re,n.width-(W+xe)),n.top+Math.min(se,n.height+J+he),Math.max(0,M-(te+ue)),U-(X+_e),ui.BOTTOM_RIGHT):new rr(n.left+n.width-(te+ue),n.top+n.height-(X+_e)),this.bottomLeftContentBox=S>0||k>0?Xi(n.left+W+xe,n.top+Ae,Math.max(0,S-(W+xe)),k-(X+_e),ui.BOTTOM_LEFT):new rr(n.left+W+xe,n.top+n.height-(X+_e))}return t}(),ui;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ui||(ui={}));var Xi=function(t,e,r,n,l){var h=4*((Math.sqrt(2)-1)/3),u=r*h,s=n*h,v=t+r,w=e+n;switch(l){case ui.TOP_LEFT:return new S1(new rr(t,w),new rr(t,w-s),new rr(v-u,e),new rr(v,e));case ui.TOP_RIGHT:return new S1(new rr(t,e),new rr(t+u,e),new rr(v,w-s),new rr(v,w));case ui.BOTTOM_RIGHT:return new S1(new rr(v,e),new rr(v,e+s),new rr(t+u,w),new rr(t,w));case ui.BOTTOM_LEFT:default:return new S1(new rr(v,w),new rr(v-u,w),new rr(t,e+s),new rr(t,e))}},Hg=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},gY=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Xg=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},pY=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),N1=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),mY=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),_Y=function(t){return t.type===0},Z8=function(t){return t.type===1},bY=function(t){return t.type===2},Gv=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},yY=function(t,e,r,n,l){return t.map(function(h,u){switch(u){case 0:return h.add(e,r);case 1:return h.add(e+n,r);case 2:return h.add(e+n,r+l);case 3:return h.add(e,r+l)}return h})},O8=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),H8=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new fY(this.container),this.container.styles.opacity<1&&this.effects.push(new mY(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,l=this.container.bounds.top+this.container.styles.transformOrigin[1].number,h=this.container.styles.transform;this.effects.push(new pY(n,l,h))}if(this.container.styles.overflowX!==0){var u=Hg(this.curves),s=Xg(this.curves);Gv(u,s)?this.effects.push(new N1(u,6)):(this.effects.push(new N1(u,2)),this.effects.push(new N1(s,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,l=this.effects.slice(0);n;){var h=n.effects.filter(function(v){return!Z8(v)});if(r||n.container.styles.position!==0||!n.parent){if(l.unshift.apply(l,h),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var u=Hg(n.curves),s=Xg(n.curves);Gv(u,s)||l.unshift(new N1(s,6))}}else l.unshift.apply(l,h);n=n.parent}return l.filter(function(v){return Ea(v.target,e)})},t}(),Zm=function(t,e,r,n){t.container.elements.forEach(function(l){var h=Ea(l.flags,4),u=Ea(l.flags,2),s=new H8(l,t);Ea(l.styles.display,2048)&&n.push(s);var v=Ea(l.flags,8)?[]:n;if(h||u){var w=h||l.styles.isPositioned()?r:e,I=new O8(s);if(l.styles.isPositioned()||l.styles.opacity<1||l.styles.isTransformed()){var M=l.styles.zIndex.order;if(M<0){var U=0;w.negativeZIndex.some(function(S,k){return M>S.element.container.styles.zIndex.order?(U=k,!1):U>0}),w.negativeZIndex.splice(U,0,I)}else if(M>0){var C=0;w.positiveZIndex.some(function(S,k){return M>=S.element.container.styles.zIndex.order?(C=k+1,!1):C>0}),w.positiveZIndex.splice(C,0,I)}else w.zeroOrAutoZIndexOrTransformedOrOpacity.push(I)}else l.styles.isFloating()?w.nonPositionedFloats.push(I):w.nonPositionedInlineLevel.push(I);Zm(s,I,h?I:r,v)}else l.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),Zm(s,e,r,v);Ea(l.flags,8)&&X8(l,v)})},X8=function(t,e){for(var r=t instanceof zm?t.start:1,n=t instanceof zm?t.reversed:!1,l=0;l<e.length;l++){var h=e[l];h.container instanceof T8&&typeof h.container.value=="number"&&h.container.value!==0&&(r=h.container.value),h.listValue=$4(r,h.container.styles.listStyleType,!0),r+=n?-1:1}},vY=function(t){var e=new H8(t,null),r=new O8(e),n=[];return Zm(e,r,r,n),X8(e.container,n),r},jv=function(t,e){switch(e){case 0:return fs(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return fs(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return fs(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return fs(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},xY=function(t,e){switch(e){case 0:return fs(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return fs(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return fs(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return fs(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},wY=function(t,e){switch(e){case 0:return fs(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return fs(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return fs(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return fs(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},BY=function(t,e){switch(e){case 0:return Y1(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Y1(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Y1(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Y1(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Y1=function(t,e){var r=[];return us(t)?r.push(t.subdivide(.5,!1)):r.push(t),us(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},fs=function(t,e,r,n){var l=[];return us(t)?l.push(t.subdivide(.5,!1)):l.push(t),us(r)?l.push(r.subdivide(.5,!0)):l.push(r),us(n)?l.push(n.subdivide(.5,!0).reverse()):l.push(n),us(e)?l.push(e.subdivide(.5,!1).reverse()):l.push(e),l},V8=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Vg=function(t){var e=t.styles,r=t.bounds,n=Ni(e.paddingLeft,r.width),l=Ni(e.paddingRight,r.width),h=Ni(e.paddingTop,r.width),u=Ni(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,h+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+l),-(e.borderTopWidth+e.borderBottomWidth+h+u))},CY=function(t,e){return t===0?e.bounds:t===2?Vg(e):V8(e)},MY=function(t,e){return t===0?e.bounds:t===2?Vg(e):V8(e)},L3=function(t,e,r){var n=CY(xu(t.styles.backgroundOrigin,e),t),l=MY(xu(t.styles.backgroundClip,e),t),h=RY(xu(t.styles.backgroundSize,e),r,n),u=h[0],s=h[1],v=Vd(xu(t.styles.backgroundPosition,e),n.width-u,n.height-s),w=IY(xu(t.styles.backgroundRepeat,e),v,h,n,l),I=Math.round(n.left+v[0]),M=Math.round(n.top+v[1]);return[w,I,M,u,s]},fu=function(t){return ia(t)&&t.value===Fu.AUTO},P1=function(t){return typeof t=="number"},RY=function(t,e,r){var n=e[0],l=e[1],h=e[2],u=t[0],s=t[1];if(!u)return[0,0];if(va(u)&&s&&va(s))return[Ni(u,r.width),Ni(s,r.height)];var v=P1(h);if(ia(u)&&(u.value===Fu.CONTAIN||u.value===Fu.COVER)){if(P1(h)){var w=r.width/r.height;return w<h!=(u.value===Fu.COVER)?[r.width,r.width/h]:[r.height*h,r.height]}return[r.width,r.height]}var I=P1(n),M=P1(l),U=I||M;if(fu(u)&&(!s||fu(s))){if(I&&M)return[n,l];if(!v&&!U)return[r.width,r.height];if(U&&v){var C=I?n:l*h,S=M?l:n/h;return[C,S]}var k=I?n:r.width,z=M?l:r.height;return[k,z]}if(v){var Z=0,G=0;return va(u)?Z=Ni(u,r.width):va(s)&&(G=Ni(s,r.height)),fu(u)?Z=G*h:(!s||fu(s))&&(G=Z/h),[Z,G]}var se=null,re=null;if(va(u)?se=Ni(u,r.width):s&&va(s)&&(re=Ni(s,r.height)),se!==null&&(!s||fu(s))&&(re=I&&M?se/n*l:r.height),re!==null&&fu(u)&&(se=I&&M?re/l*n:r.width),se!==null&&re!==null)return[se,re];throw new Error("Unable to calculate background-size for element")},xu=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},IY=function(t,e,r,n,l){var h=e[0],u=e[1],s=r[0],v=r[1];switch(t){case 2:return[new rr(Math.round(n.left),Math.round(n.top+u)),new rr(Math.round(n.left+n.width),Math.round(n.top+u)),new rr(Math.round(n.left+n.width),Math.round(v+n.top+u)),new rr(Math.round(n.left),Math.round(v+n.top+u))];case 3:return[new rr(Math.round(n.left+h),Math.round(n.top)),new rr(Math.round(n.left+h+s),Math.round(n.top)),new rr(Math.round(n.left+h+s),Math.round(n.height+n.top)),new rr(Math.round(n.left+h),Math.round(n.height+n.top))];case 1:return[new rr(Math.round(n.left+h),Math.round(n.top+u)),new rr(Math.round(n.left+h+s),Math.round(n.top+u)),new rr(Math.round(n.left+h+s),Math.round(n.top+u+v)),new rr(Math.round(n.left+h),Math.round(n.top+u+v))];default:return[new rr(Math.round(l.left),Math.round(l.top)),new rr(Math.round(l.left+l.width),Math.round(l.top)),new rr(Math.round(l.left+l.width),Math.round(l.height+l.top)),new rr(Math.round(l.left),Math.round(l.height+l.top))]}},UY="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Kv="Hidden Text",EY=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),l=this._document.createElement("img"),h=this._document.createElement("span"),u=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",u.appendChild(n),l.src=UY,l.width=1,l.height=1,l.style.margin="0",l.style.padding="0",l.style.verticalAlign="baseline",h.style.fontFamily=e,h.style.fontSize=r,h.style.margin="0",h.style.padding="0",h.appendChild(this._document.createTextNode(Kv)),n.appendChild(h),n.appendChild(l);var s=l.offsetTop-h.offsetTop+2;n.removeChild(h),n.appendChild(this._document.createTextNode(Kv)),n.style.lineHeight="normal",l.style.verticalAlign="super";var v=l.offsetTop-n.offsetTop+2;return u.removeChild(n),{baseline:s,middle:v}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),G8=function(){function t(e,r){this.context=e,this.options=r}return t}(),FY=1e4;(function(t){Vs(e,t);function e(r,n){var l=t.call(this,r,n)||this;return l._activeEffects=[],l.canvas=n.canvas?n.canvas:document.createElement("canvas"),l.ctx=l.canvas.getContext("2d"),n.canvas||(l.canvas.width=Math.floor(n.width*n.scale),l.canvas.height=Math.floor(n.height*n.scale),l.canvas.style.width=n.width+"px",l.canvas.style.height=n.height+"px"),l.fontMetrics=new EY(document),l.ctx.scale(l.options.scale,l.options.scale),l.ctx.translate(-n.x,-n.y),l.ctx.textBaseline="bottom",l._activeEffects=[],l.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),l}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(l){return n.applyEffect(l)})},e.prototype.applyEffect=function(r){this.ctx.save(),bY(r)&&(this.ctx.globalAlpha=r.opacity),_Y(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),Z8(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ls(this,void 0,void 0,function(){var n;return zn(this,function(l){switch(l.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ls(this,void 0,void 0,function(){return zn(this,function(n){switch(n.label){case 0:if(Ea(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,l){var h=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+l);else{var u=j4(r.text);u.reduce(function(s,v){return h.ctx.fillText(v,s,r.bounds.top+l),s+h.ctx.measureText(v).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(u){return u==="normal"||u==="small-caps"}).join(""),l=PY(r.fontFamily).join(", "),h=D0(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,h,l].join(" "),l,h]},e.prototype.renderTextNode=function(r,n){return ls(this,void 0,void 0,function(){var l,h,u,s,v,w,I,M,U=this;return zn(this,function(C){return l=this.createFontStyle(n),h=l[0],u=l[1],s=l[2],this.ctx.font=h,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",v=this.fontMetrics.getMetrics(u,s),w=v.baseline,I=v.middle,M=n.paintOrder,r.textBounds.forEach(function(S){M.forEach(function(k){switch(k){case 0:U.ctx.fillStyle=Pa(n.color),U.renderTextWithLetterSpacing(S,n.letterSpacing,w);var z=n.textShadow;z.length&&S.text.trim().length&&(z.slice(0).reverse().forEach(function(Z){U.ctx.shadowColor=Pa(Z.color),U.ctx.shadowOffsetX=Z.offsetX.number*U.options.scale,U.ctx.shadowOffsetY=Z.offsetY.number*U.options.scale,U.ctx.shadowBlur=Z.blur.number,U.renderTextWithLetterSpacing(S,n.letterSpacing,w)}),U.ctx.shadowColor="",U.ctx.shadowOffsetX=0,U.ctx.shadowOffsetY=0,U.ctx.shadowBlur=0),n.textDecorationLine.length&&(U.ctx.fillStyle=Pa(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(Z){switch(Z){case 1:U.ctx.fillRect(S.bounds.left,Math.round(S.bounds.top+w),S.bounds.width,1);break;case 2:U.ctx.fillRect(S.bounds.left,Math.round(S.bounds.top),S.bounds.width,1);break;case 3:U.ctx.fillRect(S.bounds.left,Math.ceil(S.bounds.top+I),S.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&S.text.trim().length&&(U.ctx.strokeStyle=Pa(n.webkitTextStrokeColor),U.ctx.lineWidth=n.webkitTextStrokeWidth,U.ctx.lineJoin=window.chrome?"miter":"round",U.ctx.strokeText(S.text,S.bounds.left,S.bounds.top+w)),U.ctx.strokeStyle="",U.ctx.lineWidth=0,U.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,l){if(l&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var h=Vg(r),u=Xg(n);this.path(u),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(l,0,0,r.intrinsicWidth,r.intrinsicHeight,h.left,h.top,h.width,h.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ls(this,void 0,void 0,function(){var n,l,h,u,s,v,G,G,w,I,M,U,re,C,S,Ae,k,z,Z,G,se,re,Ae;return zn(this,function(J){switch(J.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,l=r.curves,h=n.styles,u=0,s=n.textNodes,J.label=1;case 1:return u<s.length?(v=s[u],[4,this.renderTextNode(v,h)]):[3,4];case 2:J.sent(),J.label=3;case 3:return u++,[3,1];case 4:if(!(n instanceof U8))return[3,8];J.label=5;case 5:return J.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return G=J.sent(),this.renderReplacedElement(n,l,G),[3,8];case 7:return J.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof E8&&this.renderReplacedElement(n,l,n.canvas),!(n instanceof F8))return[3,12];J.label=9;case 9:return J.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return G=J.sent(),this.renderReplacedElement(n,l,G),[3,12];case 11:return J.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Y8&&n.tree?(w=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,w.render(n.tree)]):[3,14];case 13:I=J.sent(),n.width&&n.height&&this.ctx.drawImage(I,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),J.label=14;case 14:if(n instanceof K4&&(M=Math.min(n.bounds.width,n.bounds.height),n.type===Zg?n.checked&&(this.ctx.save(),this.path([new rr(n.bounds.left+M*.39363,n.bounds.top+M*.79),new rr(n.bounds.left+M*.16,n.bounds.top+M*.5549),new rr(n.bounds.left+M*.27347,n.bounds.top+M*.44071),new rr(n.bounds.left+M*.39694,n.bounds.top+M*.5649),new rr(n.bounds.left+M*.72983,n.bounds.top+M*.23),new rr(n.bounds.left+M*.84,n.bounds.top+M*.34085),new rr(n.bounds.left+M*.39363,n.bounds.top+M*.79)]),this.ctx.fillStyle=Pa(Dv),this.ctx.fill(),this.ctx.restore()):n.type===Og&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+M/2,n.bounds.top+M/2,M/4,0,Math.PI*2,!0),this.ctx.fillStyle=Pa(Dv),this.ctx.fill(),this.ctx.restore())),TY(n)&&n.value.length){switch(U=this.createFontStyle(h),re=U[0],C=U[1],S=this.fontMetrics.getMetrics(re,C).baseline,this.ctx.font=re,this.ctx.fillStyle=Pa(h.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=NY(n.styles.textAlign),Ae=Vg(n),k=0,n.styles.textAlign){case 1:k+=Ae.width/2;break;case 2:k+=Ae.width;break}z=Ae.add(k,0,0,-Ae.height/2+1),this.ctx.save(),this.path([new rr(Ae.left,Ae.top),new rr(Ae.left+Ae.width,Ae.top),new rr(Ae.left+Ae.width,Ae.top+Ae.height),new rr(Ae.left,Ae.top+Ae.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new A0(n.value,z),h.letterSpacing,S),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ea(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(Z=n.styles.listStyleImage,Z.type!==0)return[3,18];G=void 0,se=Z.url,J.label=15;case 15:return J.trys.push([15,17,,18]),[4,this.context.cache.match(se)];case 16:return G=J.sent(),this.ctx.drawImage(G,n.bounds.left-(G.width+10),n.bounds.top),[3,18];case 17:return J.sent(),this.context.logger.error("Error loading list-style-image "+se),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(re=this.createFontStyle(h)[0],this.ctx.font=re,this.ctx.fillStyle=Pa(h.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Ae=new rc(n.bounds.left,n.bounds.top+Ni(n.styles.paddingTop,n.bounds.width),n.bounds.width,Bv(h.lineHeight,h.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new A0(r.listValue,Ae),h.letterSpacing,Bv(h.lineHeight,h.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),J.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ls(this,void 0,void 0,function(){var n,l,Z,h,u,Z,s,v,Z,w,I,Z,M,U,Z,C,S,Z,k,z,Z;return zn(this,function(G){switch(G.label){case 0:if(Ea(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:G.sent(),n=0,l=r.negativeZIndex,G.label=2;case 2:return n<l.length?(Z=l[n],[4,this.renderStack(Z)]):[3,5];case 3:G.sent(),G.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:G.sent(),h=0,u=r.nonInlineLevel,G.label=7;case 7:return h<u.length?(Z=u[h],[4,this.renderNode(Z)]):[3,10];case 8:G.sent(),G.label=9;case 9:return h++,[3,7];case 10:s=0,v=r.nonPositionedFloats,G.label=11;case 11:return s<v.length?(Z=v[s],[4,this.renderStack(Z)]):[3,14];case 12:G.sent(),G.label=13;case 13:return s++,[3,11];case 14:w=0,I=r.nonPositionedInlineLevel,G.label=15;case 15:return w<I.length?(Z=I[w],[4,this.renderStack(Z)]):[3,18];case 16:G.sent(),G.label=17;case 17:return w++,[3,15];case 18:M=0,U=r.inlineLevel,G.label=19;case 19:return M<U.length?(Z=U[M],[4,this.renderNode(Z)]):[3,22];case 20:G.sent(),G.label=21;case 21:return M++,[3,19];case 22:C=0,S=r.zeroOrAutoZIndexOrTransformedOrOpacity,G.label=23;case 23:return C<S.length?(Z=S[C],[4,this.renderStack(Z)]):[3,26];case 24:G.sent(),G.label=25;case 25:return C++,[3,23];case 26:k=0,z=r.positiveZIndex,G.label=27;case 27:return k<z.length?(Z=z[k],[4,this.renderStack(Z)]):[3,30];case 28:G.sent(),G.label=29;case 29:return k++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(l,h){var u=us(l)?l.start:l;h===0?n.ctx.moveTo(u.x,u.y):n.ctx.lineTo(u.x,u.y),us(l)&&n.ctx.bezierCurveTo(l.startControl.x,l.startControl.y,l.endControl.x,l.endControl.y,l.end.x,l.end.y)})},e.prototype.renderRepeat=function(r,n,l,h){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(l,h),this.ctx.fill(),this.ctx.translate(-l,-h)},e.prototype.resizeImage=function(r,n,l){var h;if(r.width===n&&r.height===l)return r;var u=(h=this.canvas.ownerDocument)!==null&&h!==void 0?h:document,s=u.createElement("canvas");s.width=Math.max(1,n),s.height=Math.max(1,l);var v=s.getContext("2d");return v.drawImage(r,0,0,r.width,r.height,0,0,n,l),s},e.prototype.renderBackgroundImage=function(r){return ls(this,void 0,void 0,function(){var n,l,h,u,s,v;return zn(this,function(w){switch(w.label){case 0:n=r.styles.backgroundImage.length-1,l=function(I){var M,U,C,he,Ke,ot,xe,He,X,S,he,Ke,ot,xe,He,k,z,Z,G,se,re,Ae,J,te,X,W,he,ue,_e,xe,He,Ve,Ke,ot,it,pt,Ut,ct,mt,De,$e,st;return zn(this,function(xt){switch(xt.label){case 0:if(I.type!==0)return[3,5];M=void 0,U=I.url,xt.label=1;case 1:return xt.trys.push([1,3,,4]),[4,h.context.cache.match(U)];case 2:return M=xt.sent(),[3,4];case 3:return xt.sent(),h.context.logger.error("Error loading background-image "+U),[3,4];case 4:return M&&(C=L3(r,n,[M.width,M.height,M.width/M.height]),he=C[0],Ke=C[1],ot=C[2],xe=C[3],He=C[4],X=h.ctx.createPattern(h.resizeImage(M,xe,He),"repeat"),h.renderRepeat(he,X,Ke,ot)),[3,6];case 5:NT(I)?(S=L3(r,n,[null,null,null]),he=S[0],Ke=S[1],ot=S[2],xe=S[3],He=S[4],k=UT(I.angle,xe,He),z=k[0],Z=k[1],G=k[2],se=k[3],re=k[4],Ae=document.createElement("canvas"),Ae.width=xe,Ae.height=He,J=Ae.getContext("2d"),te=J.createLinearGradient(Z,se,G,re),xv(I.stops,z).forEach(function(Et){return te.addColorStop(Et.stop,Pa(Et.color))}),J.fillStyle=te,J.fillRect(0,0,xe,He),xe>0&&He>0&&(X=h.ctx.createPattern(Ae,"repeat"),h.renderRepeat(he,X,Ke,ot))):YT(I)&&(W=L3(r,n,[null,null,null]),he=W[0],ue=W[1],_e=W[2],xe=W[3],He=W[4],Ve=I.position.length===0?[X4]:I.position,Ke=Ni(Ve[0],xe),ot=Ni(Ve[Ve.length-1],He),it=ET(I,Ke,ot,xe,He),pt=it[0],Ut=it[1],pt>0&&Ut>0&&(ct=h.ctx.createRadialGradient(ue+Ke,_e+ot,0,ue+Ke,_e+ot,pt),xv(I.stops,pt*2).forEach(function(Et){return ct.addColorStop(Et.stop,Pa(Et.color))}),h.path(he),h.ctx.fillStyle=ct,pt!==Ut?(mt=r.bounds.left+.5*r.bounds.width,De=r.bounds.top+.5*r.bounds.height,$e=Ut/pt,st=1/$e,h.ctx.save(),h.ctx.translate(mt,De),h.ctx.transform(1,0,0,$e,0,0),h.ctx.translate(-mt,-De),h.ctx.fillRect(ue,st*(_e-De)+De,xe,He*st),h.ctx.restore()):h.ctx.fill())),xt.label=6;case 6:return n--,[2]}})},h=this,u=0,s=r.styles.backgroundImage.slice(0).reverse(),w.label=1;case 1:return u<s.length?(v=s[u],[5,l(v)]):[3,4];case 2:w.sent(),w.label=3;case 3:return u++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,l){return ls(this,void 0,void 0,function(){return zn(this,function(h){return this.path(jv(l,n)),this.ctx.fillStyle=Pa(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,l,h){return ls(this,void 0,void 0,function(){var u,s;return zn(this,function(v){switch(v.label){case 0:return n<3?[4,this.renderSolidBorder(r,l,h)]:[3,2];case 1:return v.sent(),[2];case 2:return u=xY(h,l),this.path(u),this.ctx.fillStyle=Pa(r),this.ctx.fill(),s=wY(h,l),this.path(s),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ls(this,void 0,void 0,function(){var n,l,h,u,s,v,w,I,M=this;return zn(this,function(U){switch(U.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,l=!Eu(n.backgroundColor)||n.backgroundImage.length,h=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],u=SY(xu(n.backgroundClip,0),r.curves),l||n.boxShadow.length?(this.ctx.save(),this.path(u),this.ctx.clip(),Eu(n.backgroundColor)||(this.ctx.fillStyle=Pa(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:U.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(C){M.ctx.save();var S=Hg(r.curves),k=C.inset?0:FY,z=yY(S,-k+(C.inset?1:-1)*C.spread.number,(C.inset?1:-1)*C.spread.number,C.spread.number*(C.inset?-2:2),C.spread.number*(C.inset?-2:2));C.inset?(M.path(S),M.ctx.clip(),M.mask(z)):(M.mask(S),M.ctx.clip(),M.path(z)),M.ctx.shadowOffsetX=C.offsetX.number+k,M.ctx.shadowOffsetY=C.offsetY.number,M.ctx.shadowColor=Pa(C.color),M.ctx.shadowBlur=C.blur.number,M.ctx.fillStyle=C.inset?Pa(C.color):"rgba(0,0,0,1)",M.ctx.fill(),M.ctx.restore()}),U.label=2;case 2:s=0,v=0,w=h,U.label=3;case 3:return v<w.length?(I=w[v],I.style!==0&&!Eu(I.color)&&I.width>0?I.style!==2?[3,5]:[4,this.renderDashedDottedBorder(I.color,I.width,s,r.curves,2)]:[3,11]):[3,13];case 4:return U.sent(),[3,11];case 5:return I.style!==3?[3,7]:[4,this.renderDashedDottedBorder(I.color,I.width,s,r.curves,3)];case 6:return U.sent(),[3,11];case 7:return I.style!==4?[3,9]:[4,this.renderDoubleBorder(I.color,I.width,s,r.curves)];case 8:return U.sent(),[3,11];case 9:return[4,this.renderSolidBorder(I.color,s,r.curves)];case 10:U.sent(),U.label=11;case 11:s++,U.label=12;case 12:return v++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,l,h,u){return ls(this,void 0,void 0,function(){var s,v,w,I,M,U,C,S,k,z,Z,G,se,re,Ae,J,Ae,J;return zn(this,function(te){return this.ctx.save(),s=BY(h,l),v=jv(h,l),u===2&&(this.path(v),this.ctx.clip()),us(v[0])?(w=v[0].start.x,I=v[0].start.y):(w=v[0].x,I=v[0].y),us(v[1])?(M=v[1].end.x,U=v[1].end.y):(M=v[1].x,U=v[1].y),l===0||l===2?C=Math.abs(w-M):C=Math.abs(I-U),this.ctx.beginPath(),u===3?this.formatPath(s):this.formatPath(v.slice(0,2)),S=n<3?n*3:n*2,k=n<3?n*2:n,u===3&&(S=n,k=n),z=!0,C<=S*2?z=!1:C<=S*2+k?(Z=C/(2*S+k),S*=Z,k*=Z):(G=Math.floor((C+k)/(S+k)),se=(C-G*S)/(G-1),re=(C-(G+1)*S)/G,k=re<=0||Math.abs(k-se)<Math.abs(k-re)?se:re),z&&(u===3?this.ctx.setLineDash([0,S+k]):this.ctx.setLineDash([S,k])),u===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Pa(r),this.ctx.stroke(),this.ctx.setLineDash([]),u===2&&(us(v[0])&&(Ae=v[3],J=v[0],this.ctx.beginPath(),this.formatPath([new rr(Ae.end.x,Ae.end.y),new rr(J.start.x,J.start.y)]),this.ctx.stroke()),us(v[1])&&(Ae=v[1],J=v[2],this.ctx.beginPath(),this.formatPath([new rr(Ae.end.x,Ae.end.y),new rr(J.start.x,J.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ls(this,void 0,void 0,function(){var n;return zn(this,function(l){switch(l.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Pa(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=vY(r),[4,this.renderStack(n)];case 1:return l.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(G8);var TY=function(t){return t instanceof N8||t instanceof S8?!0:t instanceof K4&&t.type!==Og&&t.type!==Zg},SY=function(t,e){switch(t){case 0:return Hg(e);case 2:return gY(e);case 1:default:return Xg(e)}},NY=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},YY=["-apple-system","system-ui"],PY=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return YY.indexOf(e)===-1}):t};(function(t){Vs(e,t);function e(r,n){var l=t.call(this,r,n)||this;return l.canvas=n.canvas?n.canvas:document.createElement("canvas"),l.ctx=l.canvas.getContext("2d"),l.options=n,l.canvas.width=Math.floor(n.width*n.scale),l.canvas.height=Math.floor(n.height*n.scale),l.canvas.style.width=n.width+"px",l.canvas.style.height=n.height+"px",l.ctx.scale(l.options.scale,l.options.scale),l.ctx.translate(-n.x,-n.y),l.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),l}return e.prototype.render=function(r){return ls(this,void 0,void 0,function(){var n,l;return zn(this,function(h){switch(h.label){case 0:return n=Dm(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,LY(n)];case 1:return l=h.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Pa(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(l,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(G8);var LY=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})};typeof window<"u"&&dY.setContext(window);const kY=(t,e)=>{const[r,n,l,h]=e,u=t.lng,s=t.lat;return u>=r&&u<=l&&s>=n&&s<=h},j8=(t,e)=>{const[r,n,l,h]=t,[u,s,v,w]=e;return r<v&&l>u&&n<w&&h>s},K8={mapbox:0,gsi:1,terrarium:2},oo=[{id:"dem_10b",name:" DEM10B",tiles:["https://cyberjapandata.gsi.go.jp/xyz/dem_png/{z}/{x}/{y}.png"],tileSize:256,minzoom:1,maxzoom:14,attribution:"",bbox:[122.935,20.425,153.986,45.551],demType:"gsi"},{id:"dem_5a",name:" DEM5A",tiles:["https://cyberjapandata.gsi.go.jp/xyz/dem5a_png/{z}/{x}/{y}.png"],tileSize:256,minzoom:1,maxzoom:15,attribution:"",bbox:[122.935,20.425,153.986,45.551],demType:"gsi"},{id:"dem_5b",name:" DEM5B",tiles:["https://cyberjapandata.gsi.go.jp/xyz/dem5b_png/{z}/{x}/{y}.png"],tileSize:256,minzoom:1,maxzoom:15,attribution:"",bbox:[122.935,20.425,153.986,45.551],demType:"gsi"},{id:"dem_5c",name:" DEM5C",tiles:["https://cyberjapandata.gsi.go.jp/xyz/dem5c_png/{z}/{x}/{y}.png"],tileSize:256,minzoom:1,maxzoom:15,attribution:"",bbox:[122.935,20.425,153.986,45.551],demType:"gsi"},{id:"tochigi_dem",name:" (DEM)0.5m",tiles:["https://rinya-tochigi.geospatial.jp/2023/rinya/tile/terrainRGB/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[139.326731,36.199924,140.291983,37.155039],attribution:"",demType:"mapbox"},{id:"kochi_dem",name:" (DEM)0.5m",tiles:["https://rinya-kochi.geospatial.jp/2023/rinya/tile/terrainRGB/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[132.479888,32.702505,134.31367,33.882997],attribution:"",demType:"mapbox"},{id:"hyougo_dem",name:" DEM 1m",tiles:["https://tiles.gsj.jp/tiles/elev/hyogodem/{z}/{y}/{x}.png"],tileSize:256,minzoom:2,maxzoom:17,bbox:[134.252809,34.156129,135.468591,35.674667],attribution:"",demType:"gsi"},{id:"hyougo_dsm",name:" DSM 1m",tiles:["https://tiles.gsj.jp/tiles/elev/hyogodsm/{z}/{y}/{x}.png"],tileSize:256,minzoom:2,maxzoom:17,bbox:[134.252809,34.156129,135.468591,35.674667],attribution:"",demType:"gsi"},{id:"tokyo",name:"",tiles:["https://tiles.gsj.jp/tiles/elev/tokyo/{z}/{y}/{x}.png"],tileSize:256,minzoom:2,maxzoom:19,bbox:[138.942922,32.440258,139.861054,35.898368],attribution:"",demType:"gsi"},{id:"kanagawa",name:"",tiles:["https://tiles.gsj.jp/tiles/elev/kanagawa/{z}/{y}/{x}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[138.9401382,35.1277755,139.7471238,35.6730819],attribution:"",demType:"gsi"},{id:"rinya_toyama_dem",name:" DEM",tiles:["https://forestgeo.info/opendata/16_toyama/dem_terrainRGB_2021/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[136.75028275928693,36.24106589467564,137.80860073361887,37.01815476882866],attribution:"",demType:"mapbox"},{id:"rinya_toyama_dchm",name:" dchm",tiles:["https://forestgeo.info/opendata/16_toyama/dchm_terrainRGB_2021/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[136.75028275928693,36.24106589467564,137.80860073361887,37.01815476882866],attribution:"",demType:"mapbox"},{id:"rinya_nagaoka_dem",name:" DEM 0.5m2024",tiles:["https://cf192141.cloudfree.jp/nagaoka/dem_terrainRGB_15_2024/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[138.4714917,37.145854,139.2533006,37.744387],attribution:"",demType:"mapbox"},{id:"rinya_nagaoka_dsm",name:" DCHM 0.5m2024",tiles:["https://cf192141.cloudfree.jp/nagaoka/dchm_terrainRGB_15_2024/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[138.4714917,37.145854,139.2533006,37.744387],attribution:"",demType:"mapbox"},{id:"astergdemv3",name:"ASTER3",tiles:["https://tiles.gsj.jp/tiles/elev/astergdemv3/{z}/{y}/{x}.png"],tileSize:256,minzoom:1,maxzoom:12,attribution:"",bbox:[-180,-85.051129,180,85.051129],demType:"gsi"},{id:"gebco",name:"GEBCO Grid",tiles:["https://tiles.gsj.jp/tiles/elev/gebco/{z}/{y}/{x}.png"],tileSize:256,minzoom:0,maxzoom:9,attribution:"",bbox:[-180,-85.051129,180,85.051129],demType:"gsi"},{id:"tilezen",name:"Tilezen Joerd",tiles:["https://s3.amazonaws.com/elevation-tiles-prod/terrarium/{z}/{x}/{y}.png"],tileSize:256,minzoom:0,maxzoom:15,attribution:'<a href="https://github.com/tilezen/joerd/blob/master/docs/attribution.md">Tilezen Joerd: Attribution</a>',bbox:[-180,-85.051129,180,85.051129],demType:"terrarium"},{id:"lakedepth",name:"",tiles:["https://cyberjapandata.gsi.go.jp/xyz/lakedepth/{z}/{x}/{y}.png"],tileSize:256,minzoom:1,maxzoom:14,attribution:"",bbox:[122.935,20.425,153.986,45.551],demType:"gsi"},{id:"gsigeoid",name:"2011",tiles:["https://tiles.gsj.jp/tiles/elev/gsigeoid/{z}/{y}/{x}.png"],tileSize:256,minzoom:0,maxzoom:8,attribution:"",bbox:[120,20,150,50],demType:"gsi"}],ya={name:oo[0].name,demType:oo[0].demType,url:oo[0].tiles[0],sourceMaxZoom:oo[0].maxzoom,sourceMinZoom:oo[0].minzoom,attribution:oo[0].attribution,bbox:oo[0].bbox};var QY={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]};function DY(t,e,r){return t*(1-r)+e*r}var zY=DY,$v=QY,L1=zY,ZY=OY;function OY(t){var e,r,n,l,h,u,s,v,U,w,I;if(t||(t={}),v=(t.nshades||72)-1,s=t.format||"hex",u=t.colormap,u||(u="jet"),typeof u=="string"){if(u=u.toLowerCase(),!$v[u])throw Error(u+" not a supported colorscale");h=$v[u]}else if(Array.isArray(u))h=u.slice();else throw Error("unsupported colormap option",u);if(h.length>v+1)throw new Error(u+" map requires nshades to be at least size "+h.length);Array.isArray(t.alpha)?t.alpha.length!==2?w=[1,1]:w=t.alpha.slice():typeof t.alpha=="number"?w=[t.alpha,t.alpha]:w=[1,1],e=h.map(function(k){return Math.round(k.index*v)}),w[0]=Math.min(Math.max(w[0],0),1),w[1]=Math.min(Math.max(w[1],0),1);var M=h.map(function(k,z){var Z=h[z].index,G=h[z].rgb.slice();return G.length===4&&G[3]>=0&&G[3]<=1||(G[3]=w[0]+(w[1]-w[0])*Z),G}),U=[];for(I=0;I<e.length-1;++I){l=e[I+1]-e[I],r=M[I],n=M[I+1];for(var C=0;C<l;C++){var S=C/l;U.push([Math.round(L1(r[0],n[0],S)),Math.round(L1(r[1],n[1],S)),Math.round(L1(r[2],n[2],S)),L1(r[3],n[3],S)])}}return U.push(h[h.length-1].rgb.concat(w[1])),s==="hex"?U=U.map(XY):s==="rgbaString"?U=U.map(VY):s==="float"&&(U=U.map(HY)),U}function HY(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function XY(t){for(var e,r="#",n=0;n<3;++n)e=t[n],e=e.toString(16),r+=("00"+e).substr(e.length);return r}function VY(t){return"rgba("+t.join(",")+")"}const GY=dp(ZY),HA=class HA{constructor(e=500){Si(this,"cache");Si(this,"cacheSizeLimit");Si(this,"cacheOrder");this.cache=new Map,this.cacheSizeLimit=e,this.cacheOrder=[]}static getInstance(e=500){return HA.instance||(HA.instance=new HA(e)),HA.instance}async loadImage(e,r){try{const n=await fetch(e,{signal:r});if(!n.ok)throw new Error("Failed to fetch image");return await createImageBitmap(await n.blob())}catch(n){if(n instanceof Error&&n.name==="AbortError")throw n;return await createImageBitmap(new ImageData(1,1))}}async getSingleTileImage(e,r,n,l,h){const u=l.replace("{x}",e.toString()).replace("{y}",r.toString()).replace("{z}",n.toString());if(this.cache.has(u)){const s=this.cache.get(u);return this.add(u,s),s}try{const s=await this.loadImage(u,h.signal);return this.add(u,s),s}catch(s){if(s instanceof Error&&s.name==="AbortError")throw s;return console.error(`Error in getSingleTileImage for ${u}:`,s),await createImageBitmap(new ImageData(1,1))}}async getAdjacentTilesWithImages(e,r,n,l,h){const u=[{position:"center",dx:0,dy:0},{position:"left",dx:-1,dy:0},{position:"right",dx:1,dy:0},{position:"top",dx:0,dy:-1},{position:"bottom",dx:0,dy:1}],s={};return await Promise.all(u.map(async({position:v,dx:w,dy:I})=>{const M=e+w,U=r+I,C=l.replace("{x}",M.toString()).replace("{y}",U.toString()).replace("{z}",n.toString()),S=this.cache.has(C)?this.cache.get(C):await this.loadImage(C,h.signal);S&&(this.add(C,S),s[v]={tileId:C,image:S})})),s}add(e,r){if(this.cacheOrder.length>=this.cacheSizeLimit){const l=this.cacheOrder.shift();l&&this.cache.delete(l)}this.cache.set(e,r);const n=this.cacheOrder.indexOf(e);n>-1&&this.cacheOrder.splice(n,1),this.cacheOrder.push(e)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}clear(){this.cache.clear(),this.cacheOrder=[]}};Si(HA,"instance");let Gg=HA;class jY{constructor(){Si(this,"cache");this.cache=new Map}createColorArray(e){const r=`${e}`;if(this.has(r))return this.get(r);const n=256,l=new Uint8Array(n*3);let u=GY({colormap:e,nshades:n,format:"rgb",alpha:1}),s=0;for(let v=0;v<n;v++){const w=u[v];l[s++]=w[0],l[s++]=w[1],l[s++]=w[2]}return this.cache.set(r,l),l}add(e,r){this.cache.set(e,r)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}}let KY=class{constructor(e){Si(this,"worker");Si(this,"pendingRequests");Si(this,"tileCache");Si(this,"colorMapCache");Si(this,"handleMessage",e=>{const{id:r,buffer:n,error:l}=e.data,h=this.pendingRequests.get(r);l?(console.error(`Error processing tile ${r}:`,l),h&&(h.reject(new Error(l)),this.pendingRequests.delete(r))):h&&(h.resolve({data:n}),this.pendingRequests.delete(r))});this.worker=e,this.pendingRequests=new Map,this.tileCache=Gg.getInstance(),this.colorMapCache=new jY,this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,r){const n=parseInt(e.searchParams.get("x")||"0",10),l=parseInt(e.searchParams.get("y")||"0",10),h=parseInt(e.searchParams.get("z")||"0",10),u=e.searchParams.get("entryId")||"",s=e.origin+e.pathname,v=`${s}_${u}`,w=e.searchParams.get("demType"),I=K8[w],M=e.searchParams.get("mode");let U;if(M==="evolution"){U=await this.tileCache.getSingleTileImage(n,l,h,s,r);const C=this.colorMapCache.createColorArray(e.searchParams.get("colorMap")||"bone"),S=parseFloat(e.searchParams.get("max")||"10000"),k=parseFloat(e.searchParams.get("min")||"0");return new Promise((z,Z)=>{this.pendingRequests.set(v,{resolve:z,reject:Z,controller:r}),this.worker.postMessage({tileId:v,center:U,demTypeNumber:I,mode:M,elevationColorArray:C,max:S,min:k})})}else return U=await this.tileCache.getSingleTileImage(n,l,h,s,r),new Promise((C,S)=>{this.pendingRequests.set(v,{resolve:C,reject:S,controller:r}),this.worker.postMessage({tileId:v,center:U,z:h,demTypeNumber:I})})}handleError(e){console.error("Worker error:",e),this.pendingRequests.forEach(r=>{r.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()}cancelAllRequests(){this.pendingRequests.size>0&&this.pendingRequests.forEach(({reject:e,controller:r})=>{r.abort(),e(new Error("Request cancelled"))}),console.info("All requests have been cancelled."),this.pendingRequests.clear()}clearCache(){this.tileCache.clear()}};class $Y{constructor(e){Si(this,"workers",[]);Si(this,"workerIndex",0);Si(this,"poolSize");this.poolSize=e;for(let r=0;r<e;r++){const n=new Worker(new URL(""+new URL("../workers/worker-B8Dz8v_7.js",import.meta.url).href,import.meta.url),{type:"module"});this.workers.push(new KY(n))}}getNextWorker(){const e=this.workers[this.workerIndex];return this.workerIndex=(this.workerIndex+1)%this.poolSize,e}async request(e,r){return this.getNextWorker().request(e,r)}cancelAllRequests(){this.workers.forEach(e=>e.cancelAllRequests())}clearCache(){this.workers.forEach(e=>e.clearCache())}}const k3=new $Y(2),qY=t=>({protocolName:t,request:(e,r)=>{const n=e.url.replace(`${t}://`,""),l=new URL(n);return k3.request(l,r)},cancelAllRequests:()=>k3.cancelAllRequests(),clearCache:()=>k3.clearCache()});function WY(t,e={}){const r=Number(t[0]),n=Number(t[1]),l=Number(t[2]),h=Number(t[3]);if(t.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");const u=[r,n];return MC([[u,[l,n],[l,h],[r,h],u]],e.properties,{bbox:t,id:e.id})}var Om=WY;let JY=class{constructor(e){Si(this,"worker");Si(this,"pendingRequests");Si(this,"handleMessage",e=>{const{id:r,buffer:n,error:l}=e.data;if(l){const h=this.pendingRequests.get(r);h&&(h.resolve({data:new Uint8Array}),this.pendingRequests.delete(r))}else{const h=this.pendingRequests.get(r);h&&(h.resolve({data:n}),this.pendingRequests.delete(r))}});Si(this,"handleError",e=>{console.error("Worker error:",e),this.pendingRequests.forEach(r=>{r.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()});this.worker=e,this.pendingRequests=new Map,this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,r){try{const n=parseInt(e.searchParams.get("x")||"0",10),l=parseInt(e.searchParams.get("y")||"0",10),h=parseInt(e.searchParams.get("z")||"0",10),u=Qy([n,l,h]),s=Om(u),w={type:"FeatureCollection",features:kR([n,l,h]).map(U=>{const[C,S,k]=U,z=Qy([C,S,k]);return{...Om(z),properties:{x:n,y:l,z:h,index:`${k}/${C}/${S}`}}})};console.log(w);const{signal:I}=r,M=`${h}/${n}/${l}_tile_index`;return new Promise((U,C)=>{this.pendingRequests.set(M,{resolve:U,reject:C}),I.addEventListener("abort",()=>{this.pendingRequests.delete(M),C(new Error("Request aborted"))}),this.worker.postMessage({id:M,z:h,x:n,y:l,geojson:w})})}catch(n){return Promise.reject(n)}}};const eP=new Worker(new URL(""+new URL("../workers/worker-DfC3PjOV.js",import.meta.url).href,import.meta.url),{type:"module"}),tP=new JY(eP),rP=t=>({protocolName:t,request:(e,r)=>{const n=e.url.replace(`${t}://`,"");console.log("urlWithoutProtocol",n);const l=new URL(n);return tP.request(l,r)}});class iP{constructor(e){Si(this,"worker");Si(this,"pendingRequests");Si(this,"tileCache");Si(this,"handleMessage",e=>{const{id:r,buffer:n,error:l}=e.data,h=this.pendingRequests.get(r);l?(console.error(`Error processing tile ${r}:`,l),h&&(h.reject(new Error(l)),this.pendingRequests.delete(r))):h?(h.resolve({data:n}),this.pendingRequests.delete(r)):console.warn(`No pending request found for tile ${r}`)});Si(this,"handleError",e=>{console.error("Worker error:",e),this.pendingRequests.forEach(r=>{r.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()});Si(this,"cancelAllRequests",()=>{this.pendingRequests.size>0&&this.pendingRequests.forEach(({reject:e,controller:r})=>{r.abort(),e(new Error("Request cancelled"))}),this.pendingRequests.clear()});this.worker=e,this.pendingRequests=new Map,this.tileCache=Gg.getInstance(),this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,r){try{const n=ya.demType;let l;return this.tileCache.has(e)?l=this.tileCache.get(e):(l=await this.tileCache.loadImage(e,r.signal),this.tileCache.add(e,l)),new Promise((h,u)=>{const s=K8[n];this.pendingRequests.set(e,{resolve:h,reject:u,controller:r}),this.worker.postMessage({image:l,demTypeNumber:s,id:e}),r.signal.addEventListener("abort",()=>{this.pendingRequests.delete(e),u(new Error("Request aborted"))})})}catch(n){return Promise.reject(n)}}clearCache(){this.tileCache.clear()}}const aP=new Worker(new URL(""+new URL("../workers/worker-qG8lXCev.js",import.meta.url).href,import.meta.url),{type:"module"}),Q3=new iP(aP),nP=t=>({protocolName:t,request:(e,r)=>{const n=e.url.replace(`${t}://`,"");return Q3.request(n,r)},cancelAllRequests:()=>Q3.cancelAllRequests(),clearCache:()=>Q3.clearCache()}),q4=document.createElement("canvas");q4.width=512;q4.height=512;const sP=q4.getContext("webgl");sP||console.error("WebGL not supported");let c0=null;const W4=new Worker(new URL(""+new URL("../workers/worker-Re_ZkM3K.js",import.meta.url).href,import.meta.url),{type:"module"});W4.onmessage=async t=>{const{imageBitmap:e,id:r}=t.data;c0&&!c0.hasImage(r)&&c0.addImage(r,e,{pixelRatio:2})};W4.onerror=t=>{console.error("Worker error:",t)};const oP=async t=>{const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch image");const r=await e.blob();return await createImageBitmap(r)},lP=async(t,e)=>{if(!e)return;c0=e;const r=t.id;if(!c0.hasImage(r))try{const n=kg[r].image;if(!n)return;const l=await oP(n);W4.postMessage({id:r,image:l})}catch(n){console.error(`Error processing image for id ${r}:`,n)}},AP=new CR;Os.addProtocol("pmtiles",AP.tile);const qv=qY("webgl");Os.addProtocol(qv.protocolName,qv.request);const jg=nP("terrain");Os.addProtocol(jg.protocolName,jg.request);const Wv=rP("tile_index");Os.addProtocol(Wv.protocolName,Wv.request);const cP=()=>{let t=null,e=null;const{subscribe:r,set:n}=un(null),l=un(null),h=un(null),u=un(null),s=un(null),v=un(null),w=un(null),I=un(!0),M=un(null),U=un(null),C=(_e,xe)=>{const He=TE(location.search);He&&He.debug&&He.debug==="1"&&Ug.set(!0);const Ve=SE();e=new Os.Map({...Ve,container:_e,style:xe,fadeDuration:50,attributionControl:!1,localIdeographFontFamily:!1,maxPitch:85}),qo(Ug)&&(e.showTileBoundaries=!0),w.set(xe),e&&(e.on("click",Ke=>{l.set(Ke)}),e.on("data",function(Ke){I.set(!0)}),e.on("idle",function(Ke){I.set(!1)}),e.on("rotate",Ke=>{if(!e)return;const ot=e.getBearing();s.set(ot)}),e.on("mousedown",Ke=>{}),e.on("mouseup",Ke=>{}),e.on("mouseover",Ke=>{h.set(Ke)}),e.on("mouseout",Ke=>{u.set(Ke)}),e.on("moveend",Ke=>{if(!e)return;const ot=e.getCenter();NE({center:[ot.lng,ot.lat],zoom:e.getZoom(),pitch:e.getPitch(),bearing:e.getBearing()}),M.set(Ke)}),e.on("zoom",Ke=>{if(!e)return;const ot=e.getZoom();v.set(ot)}),e.on("styleimagemissing",Ke=>lP(Ke,e)),U.set(e))},S=_e=>{e&&(w.set(_e),e.setStyle(_e))},k=(_e,xe)=>{e&&(t=new Os.Marker({element:_e}).setLngLat(xe).addTo(e))},z=async()=>{if(!e)return;const _e=e.getCanvasContainer(),xe=_e.clientWidth,He=_e.clientHeight;return{canvas:_e,witdh:xe,height:He}},Z=()=>{!e||!t||t.remove()},G=()=>{!e||!e.getTerrain()||setTimeout(()=>{e&&e.terrain.sourceCache.sourceCache.reload()},200)},se=(_e,xe)=>e==null?void 0:e.queryRenderedFeatures(_e,xe),re=(_e,xe)=>{e&&e.panTo(_e,xe)},Ae=_e=>{e&&e.easeTo(_e)},J=async _e=>{if(e)if(_e.format.type==="fgb")try{const xe=Xo.get(_e.id);if(!xe)return;const He=fm(xe);e.fitBounds(He,{bearing:e.getBearing(),padding:100,duration:500})}catch(xe){console.error(xe)}else if(_e.metaData.bounds)e.fitBounds(_e.metaData.bounds,{bearing:e.getBearing(),padding:100,duration:500});else if(_e.metaData.location){const xe=Gx(_e.metaData.location);xe&&e.fitBounds(xe,{bearing:e.getBearing(),padding:100,duration:500})}else console.warn("",_e.id)},te=async _e=>{if(!e)return;const xe=fm(_e.geometry);e.fitBounds(xe)},X=_e=>{if(!e)return;const xe="search_source",He={};He[xe]={type:"geojson",data:{type:"FeatureCollection",features:[_e]}},e.getSource(xe)&&e.removeSource(xe),e.addSource(xe,He[xe]);const Ve="search_layer",Ke=[],ot={id:Ve,source:xe};switch(_e.geometry.type){case"Point":Ke.push({...ot,type:"circle",paint:{"circle-radius":10,"circle-color":"#ff0000"}});break;case"LineString":case"MultiLineString":Ke.push({...ot,type:"line",paint:{"line-width":5,"line-color":"#ff0000"}});break;case"Polygon":case"MultiPolygon":Ke.push({...ot,type:"fill",paint:{"fill-color":"#ff0000","fill-opacity":.5}});break}e.addLayer(Ke[0])},W=()=>{if(!e)return console.warn("Map is not ready yet."),[0,0,0,0];const{_sw:_e,_ne:xe}=e.getBounds();return[_e.lng,_e.lat,xe.lng,xe.lat]},he=()=>{if(!e){console.warn("Map is not ready yet.");return}const _e=e.getStyle(),xe={..._e.sources},He=[..._e.layers];for(const Ve of He)e.getLayer(Ve.id)&&e.removeLayer(Ve.id);for(const Ve in xe)e.getSource(Ve)&&e.removeSource(Ve);for(const[Ve,Ke]of Object.entries(xe))e.addSource(Ve,Ke);for(const Ve of He)e.addLayer(Ve);qo(zl)&&e.setTerrain({source:"terrain",exaggeration:1})},ue=()=>{if(!e)return;e.setTerrain(null),e.removeSource("terrain"),jg.cancelAllRequests(),e.addSource("terrain",{type:"raster-dem",tiles:[`${jg.protocolName}://${ya.url}?demType=${ya.demType}`],tileSize:256,minzoom:ya.sourceMinZoom,maxzoom:ya.sourceMaxZoom,attribution:ya.attribution,bounds:ya.bbox}),e.setTerrain({source:"terrain",exaggeration:1});const _e=ya.bbox;if(!_e)return;const xe=e.getBounds().toArray();e.getZoom(),j8(ya.bbox,[...xe[0],...xe[1]])||e.fitBounds(_e,{padding:100,duration:300,bearing:e.getBearing()}),he(),G()};return{subscribe:r,init:C,setStyle:S,addLockonMarker:k,removeLockonMarker:Z,getLockonMarker:()=>t,getMap:()=>e,queryRenderedFeatures:se,getZoom:()=>e==null?void 0:e.getZoom(),getCenter:()=>e==null?void 0:e.getCenter(),getPitch:()=>e==null?void 0:e.getPitch(),getBearing:()=>e==null?void 0:e.getBearing(),setBearing:_e=>e==null?void 0:e.setBearing(_e),fitBounds:(_e,xe)=>e==null?void 0:e.fitBounds(_e,xe),panTo:re,easeTo:_e=>Ae(_e),addSearchFeature:X,focusLayer:J,focusFeature:te,onSetStyle:w.subscribe,getTerrain:()=>e==null?void 0:e.getTerrain(),getMapBbox:W,onClick:l.subscribe,onMouseover:h.subscribe,onMouseout:u.subscribe,onRotate:s.subscribe,onZoom:v.subscribe,onMooveEnd:M.subscribe,onLoading:I.subscribe,onInitialized:U.subscribe,terrainReload:G,resetDem:ue,resetAllSourcesAndLayers:he,getMapContainer:z}},pi=cP();var uP=(t,e)=>e(null),hP=nt('<div class="relative aspect-video w-full shrink-0 overflow-hidden rounded-md"><img class="block h-full w-full object-cover" crossOrigin="anonymous" alt=""></div>'),dP=nt('<a class="flex w-full items-center justify-start gap-2" target="_blank" rel="noopener noreferrer"><!> <span class="text-accent"> </span></a>'),fP=nt('<span class="my-2 text-base"> </span> <div class="w-hull bg-base h-[1px] rounded-full"></div>',1),gP=nt('<div class="bg-main w-side-menu absolute left-0 top-0 z-20 flex h-full flex-col gap-2 overflow-hidden px-2 pt-4"><div class="flex w-full cursor-pointer justify-between pb-2"><button class="bg-base mr-auto cursor-pointer rounded-full p-2"><!></button></div> <!> <div class="flex h-full flex-col gap-2"><div class="flex shrink-0 grow flex-col gap-1 text-base"><span class="text-[22px] font-bold"> </span> <span class="text-[14px] text-gray-300"> </span></div>  <div class="c-scroll flex h-full w-full grow flex-col overflow-y-auto overflow-x-hidden"><div class="flex h-full w-full flex-col gap-2"><div class="flex w-full items-center justify-start gap-2"><!> <span class="text-accent"> </span></div> <!> <div class="w-hull bg-base h-[1px] rounded-full"></div> <!></div> <div class="flex h-full w-full flex-col gap-2"><div class="my-4 text-base text-lg"></div> <!></div></div></div></div>');function pP(t,e){sr(e,!0);let r=Qt(e,"featureMenuData",15),n=Pt("metadata"),l=oi(()=>r()?e.layerEntries.find(M=>r()&&M.id===r().layerId):null),h=oi(()=>r()&&r().properties?kg[r().properties._prop_id]:null),u=oi(()=>{if(r()){const I=e.layerEntries.find(M=>r()&&M.id===r().layerId);if(I&&I.type==="vector"&&V(h)&&V(h).image)return V(h).image}return null});Gi(()=>{if(r()){const I=pi.getMap();if(!I)return;const M=I.getLayer(r().layerId);if(!M)return;M.type==="raster"||!r().properties||!r().properties._prop_id?Xe(n,"metadata"):Xe(n,"attributes")}}),Gi(()=>{r()&&r().properties&&r().properties._prop_id?Xe(n,"metadata"):Xe(n,"attributes")});var s=vr(),v=kt(s);{var w=I=>{var M=gP(),U=Ce(M),C=Ce(U);C.__click=[uP,r];var S=Ce(C);_r(S,{icon:"ep:back",class:"text-main h-4 w-4"}),ve(C),ve(U);var k=Ue(U,2);{var z=Ut=>{var ct=hP(),mt=Ce(ct);ve(ct),Gt(()=>xi(mt,"src",V(u))),ni(3,mt,()=>Rn),Qe(Ut,ct)};_t(k,Ut=>{V(u)&&Ut(z)})}var Z=Ue(k,2),G=Ce(Z),se=Ce(G),re=Ce(se,!0);ve(se);var Ae=Ue(se,2),J=Ce(Ae,!0);ve(Ae),ve(G);var te=Ue(G,2),X=Ce(te),W=Ce(X),he=Ce(W);_r(he,{icon:"lucide:map-pin",class:"h-6 w-6 text-base"});var ue=Ue(he,2),_e=Ce(ue);ve(ue),ve(W);var xe=Ue(W,2);{var He=Ut=>{var ct=vr(),mt=kt(ct);{var De=$e=>{var st=dP(),xt=Ce(st);_r(xt,{icon:"mdi:web",class:"h-6 w-6 text-base"});var Et=Ue(xt,2),lt=Ce(Et,!0);ve(Et),ve(st),Gt(()=>{xi(st,"href",V(h).url),dr(lt,V(h).url)}),Qe($e,st)};_t(mt,$e=>{V(h).url&&$e(De)})}Qe(Ut,ct)};_t(xe,Ut=>{V(h)&&Ut(He)})}var Ve=Ue(xe,4);{var Ke=Ut=>{var ct=vr(),mt=kt(ct);{var De=$e=>{var st=fP(),xt=kt(st),Et=Ce(xt,!0);ve(xt),Vi(2),Gt(()=>dr(Et,V(h).description)),Qe($e,st)};_t(mt,$e=>{V(h).description&&$e(De)})}Qe(Ut,ct)};_t(Ve,Ut=>{V(h)&&Ut(Ke)})}ve(X);var ot=Ue(X,2),it=Ue(Ce(ot),2);{var pt=Ut=>{var ct=vr(),mt=kt(ct);mi(mt,17,()=>Object.entries(r().properties),xa,(De,$e)=>{let st=()=>V($e)[0],xt=()=>V($e)[1];var Et=vr(),lt=kt(Et);{var Zt=Rt=>{gE(Rt,{get key(){return st()},get value(){return xt()}})};_t(lt,Rt=>{st()!=="_prop_id"&&xt()&&Rt(Zt)})}Qe(De,Et)}),Qe(Ut,ct)};_t(it,Ut=>{r().properties&&Ut(pt)})}ve(ot),ve(te),ve(Z),ve(M),Gt((Ut,ct,mt)=>{dr(re,Ut),dr(J,V(l)&&V(l).metaData.name?V(l).metaData.name:""),dr(_e,`${ct??""}, ${mt??""}`)},[()=>{var Ut;return V(l)&&V(l).type==="vector"&&V(l).properties.titles.length&&r().properties?y5(r().properties,V(l).properties.titles):(Ut=V(l))==null?void 0:Ut.metaData.name},()=>r().point[0].toFixed(6),()=>r().point[1].toFixed(6)]),ni(3,M,()=>In,()=>({duration:300,x:-100,opacity:0})),Qe(I,M)};_t(v,I=>{r()&&I(w)})}Qe(t,s),or()}fi(["click"]);const mP=[{key:"",name:"",url:"https://www.forest.ac.jp/"},{key:"",name:"",url:"https://maps.gsi.go.jp/development/ichiran.html"},{key:"",name:"",url:"https://www.forest.rd.pref.gifu.lg.jp/index.html"},{key:"",name:"",url:"https://map.ecoris.info/#contents"},{key:"",name:"",url:"https://gbank.gsj.jp/seamless/index.html?lang=ja&"},{key:"Q",name:"Q",url:"https://info.qchizu.xyz/qchizu/reprint/"},{key:"OSM",name:"&copy; OpenStreetMap contributors",url:"http://osm.org/copyright"},{key:"Esri",name:"Sources: Esri, HERE, Garmin, USGS, Intermap, INCREMENT P, NRCan, Esri Japan, METI, Esri China (Hong Kong), Esri Korea, Esri (Thailand), NGCC,  OpenStreetMap contributors, and the GIS User Community",url:""},{key:"",name:"",url:"https://www.owl-sys.com/"},{key:"",name:"",url:"https://www.rinya.maff.go.jp/index.html"},{key:"",name:"",url:"https://portal.data.metro.tokyo.lg.jp/"},{key:"",name:"",url:"https://www.biodic.go.jp"}],_P=new Map(mP.map(t=>[t.key,t]));var bP=nt('<a class="pointer-events-auto grid grow cursor-pointer select-none place-items-center rounded-full text-xs svelte-1vk0djk" target="_blank" rel="noopener noreferrer"><span> </span></a>'),yP=nt('<div class="pointer-events-none absolute bottom-[4px] right-0 z-10 flex w-full shrink-0 justify-end gap-2 text-nowrap px-2 text-white"><div class="flex gap-2"></div> <span class="grid place-items-center rounded-full"><!></span></div>');function vP(t,e){sr(e,!0);let r=Pt(wi([]));v5.subscribe(u=>{const s=u.map(v=>{const w=_P.get(v);if(w)return w}).filter(v=>v!==void 0);s.length>0&&Xe(r,s,!0)});var n=vr(),l=kt(n);{var h=u=>{var s=yP(),v=Ce(s);mi(v,21,()=>V(r),xa,(M,U)=>{var C=bP(),S=Ce(C),k=Ce(S,!0);ve(S),ve(C),Gt(()=>{xi(C,"href",V(U).url),dr(k,V(U).name)}),Qe(M,C)}),ve(v);var w=Ue(v,2),I=Ce(w);_r(I,{icon:"lets-icons:info-alt-fill",class:"h-6 w-6"}),ve(w),ve(s),Qe(u,s)};_t(l,u=>{V(r)&&u(h)})}Qe(t,n),or()}var xP=nt('<div class="c-fog pointer-events-none absolute bottom-0 left-0 h-[90px] w-full svelte-1687nq9"><!></div>');function wP(t,e){var r=xP(),n=Ce(r);vP(n,{}),ve(r),Qe(t,r)}var BP=nt('<div class="pointer-events-auto relative grid h-[50px] w-[50px] shrink-0 place-items-center overflow-hidden"><!></div>');function CP(t,e){sr(e,!1);let r=Ja(),n,l=Ja("");const h=w=>{const I=w[0];if(I.attributeName==="class"){const M=I.target;if(M.classList.contains("maplibregl-ctrl-geolocate-waiting")){Xe(l,"waiting");return}else if(M.classList.contains("maplibregl-ctrl-geolocate-active")||M.classList.contains("maplibregl-ctrl-geolocate-background")){Xe(l,"active");return}else if(M.classList.contains("maplibregl-ctrl-geolocate-error")||M.classList.contains("maplibregl-ctrl-geolocate-background-error")){Xe(l,"error");return}else Xe(l,"")}};ua(()=>{pi.onInitialized(w=>{if(w){const I=new fp.GeolocateControl({positionOptions:{enableHighAccuracy:!0},fitBoundsOptions:{maxZoom:12},trackUserLocation:!0,showUserLocation:!0});V(r).appendChild(I.onAdd(w)),V(r)&&(n=new MutationObserver(h),n.observe(I._container.children[0],{attributes:!0,attributeFilter:["class"]}))}})}),Jo();var u=BP(),s=Ce(u);const v=A5(()=>V(l)==="waiting"?"css-rotate text-accent":V(l)==="active"?"text-accent":V(l)==="error"?"text-red-500":"text-base");_r(s,{icon:"streamline:location-target-1-solid",get class(){return`absolute h-6 w-6 ${V(v)??""}`}}),ve(u),gn(u,w=>Xe(r,w),()=>V(r)),Qe(t,u),or()}var MP=nt('<button class="grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center p-2"><!></button>');function RP(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(gm,"$showStreetViewLayer",r),h=()=>{gm.set(!l())};let u=Pt(null);ua(()=>{V(u)});var s=MP();s.__click=h;var v=Ce(s);const w=oi(()=>l()?"text-accent":"text-base");_r(v,{icon:"fluent:video-360-20-regular",get class(){return`h-8 w-8 ${V(w)??""}`}}),ve(s),gn(s,I=>Xe(u,I),()=>V(u)),Qe(t,s),or(),n()}fi(["click"]);/*!
 * matrix 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Go,WA,J4,Fp,Kd,cg,Kg,u0,ks="transform",Hm=ks+"Origin",$8,q8=function(e){var r=e.ownerDocument||e;for(!(ks in e.style)&&("msTransform"in e.style)&&(ks="msTransform",Hm=ks+"Origin");r.parentNode&&(r=r.parentNode););if(WA=window,Kg=new ic,r){Go=r,J4=r.documentElement,Fp=r.body,u0=Go.createElementNS("http://www.w3.org/2000/svg","g"),u0.style.transform="none";var n=r.createElement("div"),l=r.createElement("div"),h=r&&(r.body||r.firstElementChild);h&&h.appendChild&&(h.appendChild(n),n.appendChild(l),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),$8=l.offsetParent!==n,h.removeChild(n))}return r},IP=function(e){for(var r,n;e&&e!==Fp;)n=e._gsap,n&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),r?r.push(n):r=[n]),e=e.parentNode;return r},W8=[],J8=[],UP=function(){return WA.pageYOffset||Go.scrollTop||J4.scrollTop||Fp.scrollTop||0},EP=function(){return WA.pageXOffset||Go.scrollLeft||J4.scrollLeft||Fp.scrollLeft||0},e_=function(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},FP=function t(e){if(WA.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return t(e)},D3=function t(e,r){if(e.parentNode&&(Go||q8(e))){var n=e_(e),l=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",h=n?r?"rect":"g":"div",u=r!==2?0:100,s=r===3?100:0,v="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",w=Go.createElementNS?Go.createElementNS(l.replace(/^https/,"http"),h):Go.createElement(h);return r&&(n?(cg||(cg=t(e)),w.setAttribute("width",.01),w.setAttribute("height",.01),w.setAttribute("transform","translate("+u+","+s+")"),cg.appendChild(w)):(Kd||(Kd=t(e),Kd.style.cssText=v),w.style.cssText=v+"width:0.1px;height:0.1px;top:"+s+"px;left:"+u+"px",Kd.appendChild(w))),w}throw"Need document and parent."},TP=function(e){for(var r=new ic,n=0;n<e.numberOfItems;n++)r.multiply(e.getItem(n).matrix);return r},SP=function(e){var r=e.getCTM(),n;return r||(n=e.style[ks],e.style[ks]="none",e.appendChild(u0),r=u0.getCTM(),e.removeChild(u0),n?e.style[ks]=n:e.style.removeProperty(ks.replace(/([A-Z])/g,"-$1").toLowerCase())),r||Kg.clone()},NP=function(e,r){var n=e_(e),l=e===n,h=n?W8:J8,u=e.parentNode,s,v,w,I,M,U;if(e===WA)return e;if(h.length||h.push(D3(e,1),D3(e,2),D3(e,3)),s=n?cg:Kd,n)l?(w=SP(e),I=-w.e/w.a,M=-w.f/w.d,v=Kg):e.getBBox?(w=e.getBBox(),v=e.transform?e.transform.baseVal:{},v=v.numberOfItems?v.numberOfItems>1?TP(v):v.getItem(0).matrix:Kg,I=v.a*w.x+v.c*w.y,M=v.b*w.x+v.d*w.y):(v=new ic,I=M=0),(l?n:u).appendChild(s),s.setAttribute("transform","matrix("+v.a+","+v.b+","+v.c+","+v.d+","+(v.e+I)+","+(v.f+M)+")");else{if(I=M=0,$8)for(v=e.offsetParent,w=e;w&&(w=w.parentNode)&&w!==v&&w.parentNode;)(WA.getComputedStyle(w)[ks]+"").length>4&&(I=w.offsetLeft,M=w.offsetTop,w=0);if(U=WA.getComputedStyle(e),U.position!=="absolute"&&U.position!=="fixed")for(v=e.offsetParent;u&&u!==v;)I+=u.scrollLeft||0,M+=u.scrollTop||0,u=u.parentNode;w=s.style,w.top=e.offsetTop-M+"px",w.left=e.offsetLeft-I+"px",w[ks]=U[ks],w[Hm]=U[Hm],w.position=U.position==="fixed"?"fixed":"absolute",e.parentNode.appendChild(s)}return s},z3=function(e,r,n,l,h,u,s){return e.a=r,e.b=n,e.c=l,e.d=h,e.e=u,e.f=s,e},ic=function(){function t(r,n,l,h,u,s){r===void 0&&(r=1),n===void 0&&(n=0),l===void 0&&(l=0),h===void 0&&(h=1),u===void 0&&(u=0),s===void 0&&(s=0),z3(this,r,n,l,h,u,s)}var e=t.prototype;return e.inverse=function(){var n=this.a,l=this.b,h=this.c,u=this.d,s=this.e,v=this.f,w=n*u-l*h||1e-10;return z3(this,u/w,-l/w,-h/w,n/w,(h*v-u*s)/w,-(n*v-l*s)/w)},e.multiply=function(n){var l=this.a,h=this.b,u=this.c,s=this.d,v=this.e,w=this.f,I=n.a,M=n.c,U=n.b,C=n.d,S=n.e,k=n.f;return z3(this,I*l+U*u,I*h+U*s,M*l+C*u,M*h+C*s,v+S*l+k*u,w+S*h+k*s)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(n){var l=this.a,h=this.b,u=this.c,s=this.d,v=this.e,w=this.f;return l===n.a&&h===n.b&&u===n.c&&s===n.d&&v===n.e&&w===n.f},e.apply=function(n,l){l===void 0&&(l={});var h=n.x,u=n.y,s=this.a,v=this.b,w=this.c,I=this.d,M=this.e,U=this.f;return l.x=h*s+u*w+M||0,l.y=h*v+u*I+U||0,l},t}();function ZA(t,e,r,n){if(!t||!t.parentNode||(Go||q8(t)).documentElement===t)return new ic;var l=IP(t),h=e_(t),u=h?W8:J8,s=NP(t),v=u[0].getBoundingClientRect(),w=u[1].getBoundingClientRect(),I=u[2].getBoundingClientRect(),M=s.parentNode,U=FP(t),C=new ic((w.left-v.left)/100,(w.top-v.top)/100,(I.left-v.left)/100,(I.top-v.top)/100,v.left+(U?0:EP()),v.top+(U?0:UP()));if(M.removeChild(s),l)for(v=l.length;v--;)w=l[v],w.scaleX=w.scaleY=0,w.renderTransform(1,w);return e?C.inverse():C}function Jv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Wr,Ei,jn,zs,jo,Z3,zo,Xm,$d,Ql,ew,Vm,U0,t_,qd,Ss,Wd,ug,tw,Gm,$g=0,rw=function(){return typeof window<"u"},iw=function(){return Wr||rw()&&(Wr=window.gsap)&&Wr.registerPlugin&&Wr},Sl=function(e){return typeof e=="function"},h0=function(e){return typeof e=="object"},Ls=function(e){return typeof e>"u"},hg=function(){return!1},d0="transform",jm="transformOrigin",Rl=function(e){return Math.round(e*1e4)/1e4},Sd=Array.isArray,k1=function(e,r){var n=jn.createElementNS?jn.createElementNS("http://www.w3.org/1999/xhtml".replace(/^https/,"http"),e):jn.createElement(e);return n.style?n:jn.createElement(e)},e6=180/Math.PI,gu=1e20,PP=new ic,Il=Date.now||function(){return new Date().getTime()},JA=[],Tu={},LP=0,kP=/^(?:a|input|textarea|button|select)$/i,t6=0,pu={},Qo={},aw=function(e,r){var n={},l;for(l in e)n[l]=r?e[l]*r:e[l];return n},QP=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},r6=function t(e,r){for(var n=e.length,l;n--;)r?e[n].style.touchAction=r:e[n].style.removeProperty("touch-action"),l=e[n].children,l&&l.length&&t(l,r)},nw=function(){return JA.forEach(function(e){return e()})},DP=function(e){JA.push(e),JA.length===1&&Wr.ticker.add(nw)},i6=function(){return!JA.length&&Wr.ticker.remove(nw)},a6=function(e){for(var r=JA.length;r--;)JA[r]===e&&JA.splice(r,1);Wr.to(i6,{overwrite:!0,delay:15,duration:0,onComplete:i6,data:"_draggable"})},zP=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},Ua=function(e,r,n,l){if(e.addEventListener){var h=U0[r];l=l||(ew?{passive:!1}:null),e.addEventListener(h||r,n,l),h&&r!==h&&e.addEventListener(r,n,l)}},ba=function(e,r,n,l){if(e.removeEventListener){var h=U0[r];e.removeEventListener(h||r,n,l),h&&r!==h&&e.removeEventListener(r,n,l)}},ns=function(e){e.preventDefault&&e.preventDefault(),e.preventManipulation&&e.preventManipulation()},ZP=function(e,r){for(var n=e.length;n--;)if(e[n].identifier===r)return!0},OP=function t(e){t_=e.touches&&$g<e.touches.length,ba(e.target,"touchend",t)},n6=function(e){t_=e.touches&&$g<e.touches.length,Ua(e.target,"touchend",OP)},Su=function(e){return Ei.pageYOffset||e.scrollTop||e.documentElement.scrollTop||e.body.scrollTop||0},Nu=function(e){return Ei.pageXOffset||e.scrollLeft||e.documentElement.scrollLeft||e.body.scrollLeft||0},s6=function t(e,r){Ua(e,"scroll",r),Vu(e.parentNode)||t(e.parentNode,r)},o6=function t(e,r){ba(e,"scroll",r),Vu(e.parentNode)||t(e.parentNode,r)},Vu=function(e){return!e||e===zs||e.nodeType===9||e===jn.body||e===Ei||!e.nodeType||!e.parentNode},l6=function(e,r){var n=r==="x"?"Width":"Height",l="scroll"+n,h="client"+n;return Math.max(0,Vu(e)?Math.max(zs[l],jo[l])-(Ei["inner"+n]||zs[h]||jo[h]):e[l]-e[h])},O3=function t(e,r){var n=l6(e,"x"),l=l6(e,"y");Vu(e)?e=Qo:t(e.parentNode,r),e._gsMaxScrollX=n,e._gsMaxScrollY=l,r||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},H3=function(e,r,n){var l=e.style;l&&(Ls(l[r])&&(r=$d(r,e)||r),n==null?l.removeProperty&&l.removeProperty(r.replace(/([A-Z])/g,"-$1").toLowerCase()):l[r]=n)},E0=function(e){return Ei.getComputedStyle(e instanceof Element?e:e.host||(e.parentNode||{}).host||e)},QA={},mu=function(e){if(e===Ei)return QA.left=QA.top=0,QA.width=QA.right=zs.clientWidth||e.innerWidth||jo.clientWidth||0,QA.height=QA.bottom=(e.innerHeight||0)-20<zs.clientHeight?zs.clientHeight:e.innerHeight||jo.clientHeight||0,QA;var r=e.ownerDocument||jn,n=Ls(e.pageX)?!e.nodeType&&!Ls(e.left)&&!Ls(e.top)?e:Ql(e)[0].getBoundingClientRect():{left:e.pageX-Nu(r),top:e.pageY-Su(r),right:e.pageX-Nu(r)+1,bottom:e.pageY-Su(r)+1};return Ls(n.right)&&!Ls(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):Ls(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n},Aa=function(e,r,n){var l=e.vars,h=l[n],u=e._listeners[r],s;return Sl(h)&&(s=h.apply(l.callbackScope||e,l[n+"Params"]||[e.pointerEvent])),u&&e.dispatchEvent(r)===!1&&(s=!1),s},A6=function(e,r){var n=Ql(e)[0],l,h,u;return!n.nodeType&&n!==Ei?Ls(e.left)?(h=e.min||e.minX||e.minRotation||0,l=e.min||e.minY||0,{left:h,top:l,width:(e.max||e.maxX||e.maxRotation||0)-h,height:(e.max||e.maxY||0)-l}):(u={x:0,y:0},{left:e.left-u.x,top:e.top-u.y,width:e.width,height:e.height}):HP(n,r)},ss={},HP=function(e,r){r=Ql(r)[0];var n=e.getBBox&&e.ownerSVGElement,l=e.ownerDocument||jn,h,u,s,v,w,I,M,U,C,S,k,z,Z;if(e===Ei)s=Su(l),h=Nu(l),u=h+(l.documentElement.clientWidth||e.innerWidth||l.body.clientWidth||0),v=s+((e.innerHeight||0)-20<l.documentElement.clientHeight?l.documentElement.clientHeight:e.innerHeight||l.body.clientHeight||0);else{if(r===Ei||Ls(r))return e.getBoundingClientRect();h=s=0,n?(S=e.getBBox(),k=S.width,z=S.height):(e.viewBox&&(S=e.viewBox.baseVal)&&(h=S.x||0,s=S.y||0,k=S.width,z=S.height),k||(Z=E0(e),S=Z.boxSizing==="border-box",k=(parseFloat(Z.width)||e.clientWidth||0)+(S?0:parseFloat(Z.borderLeftWidth)+parseFloat(Z.borderRightWidth)),z=(parseFloat(Z.height)||e.clientHeight||0)+(S?0:parseFloat(Z.borderTopWidth)+parseFloat(Z.borderBottomWidth)))),u=k,v=z}return e===r?{left:h,top:s,width:u-h,height:v-s}:(w=ZA(r,!0).multiply(ZA(e)),I=w.apply({x:h,y:s}),M=w.apply({x:u,y:s}),U=w.apply({x:u,y:v}),C=w.apply({x:h,y:v}),h=Math.min(I.x,M.x,U.x,C.x),s=Math.min(I.y,M.y,U.y,C.y),{left:h,top:s,width:Math.max(I.x,M.x,U.x,C.x)-h,height:Math.max(I.y,M.y,U.y,C.y)-s})},X3=function(e,r,n,l,h,u){var s={},v,w,I;if(r)if(h!==1&&r instanceof Array){if(s.end=v=[],I=r.length,h0(r[0]))for(w=0;w<I;w++)v[w]=aw(r[w],h);else for(w=0;w<I;w++)v[w]=r[w]*h;n+=1.1,l-=1.1}else Sl(r)?s.end=function(M){var U=r.call(e,M),C,S;if(h!==1)if(h0(U)){C={};for(S in U)C[S]=U[S]*h;U=C}else U*=h;return U}:s.end=r;return(n||n===0)&&(s.max=n),(l||l===0)&&(s.min=l),u&&(s.velocity=0),s},XP=function t(e){var r;return!e||!e.getAttribute||e===jo?!1:(r=e.getAttribute("data-clickable"))==="true"||r!=="false"&&(kP.test(e.nodeName+"")||e.getAttribute("contentEditable")==="true")?!0:t(e.parentNode)},Q1=function(e,r){for(var n=e.length,l;n--;)l=e[n],l.ondragstart=l.onselectstart=r?null:hg,Wr.set(l,{lazy:!0,userSelect:r?"text":"none"})},VP=function t(e){if(E0(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return t(e)},sw,Km,GP=function(e,r){e=Wr.utils.toArray(e)[0],r=r||{};var n=document.createElement("div"),l=n.style,h=e.firstChild,u=0,s=0,v=e.scrollTop,w=e.scrollLeft,I=e.scrollWidth,M=e.scrollHeight,U=0,C=0,S=0,k,z,Z,G,se,re;sw&&r.force3D!==!1?(se="translate3d(",re="px,0px)"):d0&&(se="translate(",re="px)"),this.scrollTop=function(Ae,J){if(!arguments.length)return-this.top();this.top(-Ae,J)},this.scrollLeft=function(Ae,J){if(!arguments.length)return-this.left();this.left(-Ae,J)},this.left=function(Ae,J){if(!arguments.length)return-(e.scrollLeft+s);var te=e.scrollLeft-w,X=s;if((te>2||te<-2)&&!J){w=e.scrollLeft,Wr.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-w),r.onKill&&r.onKill();return}Ae=-Ae,Ae<0?(s=Ae-.5|0,Ae=0):Ae>C?(s=Ae-C|0,Ae=C):s=0,(s||X)&&(this._skip||(l[d0]=se+-s+"px,"+-u+re),s+U>=0&&(l.paddingRight=s+U+"px")),e.scrollLeft=Ae|0,w=e.scrollLeft},this.top=function(Ae,J){if(!arguments.length)return-(e.scrollTop+u);var te=e.scrollTop-v,X=u;if((te>2||te<-2)&&!J){v=e.scrollTop,Wr.killTweensOf(this,{top:1,scrollTop:1}),this.top(-v),r.onKill&&r.onKill();return}Ae=-Ae,Ae<0?(u=Ae-.5|0,Ae=0):Ae>S?(u=Ae-S|0,Ae=S):u=0,(u||X)&&(this._skip||(l[d0]=se+-s+"px,"+-u+re)),e.scrollTop=Ae|0,v=e.scrollTop},this.maxScrollTop=function(){return S},this.maxScrollLeft=function(){return C},this.disable=function(){for(h=n.firstChild;h;)G=h.nextSibling,e.appendChild(h),h=G;e===n.parentNode&&e.removeChild(n)},this.enable=function(){if(h=e.firstChild,h!==n){for(;h;)G=h.nextSibling,n.appendChild(h),h=G;e.appendChild(n),this.calibrate()}},this.calibrate=function(Ae){var J=e.clientWidth===k,te,X,W;v=e.scrollTop,w=e.scrollLeft,!(J&&e.clientHeight===z&&n.offsetHeight===Z&&I===e.scrollWidth&&M===e.scrollHeight&&!Ae)&&((u||s)&&(X=this.left(),W=this.top(),this.left(-e.scrollLeft),this.top(-e.scrollTop)),te=E0(e),(!J||Ae)&&(l.display="block",l.width="auto",l.paddingRight="0px",U=Math.max(0,e.scrollWidth-e.clientWidth),U&&(U+=parseFloat(te.paddingLeft)+(Km?parseFloat(te.paddingRight):0))),l.display="inline-block",l.position="relative",l.overflow="visible",l.verticalAlign="top",l.boxSizing="content-box",l.width="100%",l.paddingRight=U+"px",Km&&(l.paddingBottom=te.paddingBottom),k=e.clientWidth,z=e.clientHeight,I=e.scrollWidth,M=e.scrollHeight,C=e.scrollWidth-k,S=e.scrollHeight-z,Z=n.offsetHeight,l.display="block",(X||W)&&(this.left(X),this.top(W)))},this.content=n,this.element=e,this._skip=!1,this.enable()},V3=function(e){if(rw()&&document.body){var r=window&&window.navigator;Ei=window,jn=document,zs=jn.documentElement,jo=jn.body,Z3=k1("div"),ug=!!window.PointerEvent,zo=k1("div"),zo.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",Wd=zo.style.cursor==="grab"?"grab":"move",qd=r&&r.userAgent.toLowerCase().indexOf("android")!==-1,Vm="ontouchstart"in zs&&"orientation"in Ei||r&&(r.MaxTouchPoints>0||r.msMaxTouchPoints>0),Km=function(){var n=k1("div"),l=k1("div"),h=l.style,u=jo,s;return h.display="inline-block",h.position="relative",n.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",n.appendChild(l),u.appendChild(n),s=l.offsetHeight+18>n.scrollHeight,u.removeChild(n),s}(),U0=function(n){for(var l=n.split(","),h=("onpointerdown"in Z3?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in Z3?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":n).split(","),u={},s=4;--s>-1;)u[l[s]]=h[s],u[h[s]]=l[s];try{zs.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){ew=1}}))}catch{}return u}("touchstart,touchmove,touchend,touchcancel"),Ua(jn,"touchcancel",hg),Ua(Ei,"touchmove",hg),jo&&jo.addEventListener("touchstart",hg),Ua(jn,"contextmenu",function(){for(var n in Tu)Tu[n].isPressed&&Tu[n].endDrag()}),Wr=Xm=iw()}Wr?(Ss=Wr.plugins.inertia,tw=Wr.core.context||function(){},$d=Wr.utils.checkPrefix,d0=$d(d0),jm=$d(jm),Ql=Wr.utils.toArray,Gm=Wr.core.getStyleSaver,sw=!!$d("perspective")):e&&console.warn("Please gsap.registerPlugin(Draggable)")},jP=function(){function t(r){this._listeners={},this.target=r||this}var e=t.prototype;return e.addEventListener=function(n,l){var h=this._listeners[n]||(this._listeners[n]=[]);~h.indexOf(l)||h.push(l)},e.removeEventListener=function(n,l){var h=this._listeners[n],u=h&&h.indexOf(l);u>=0&&h.splice(u,1)},e.dispatchEvent=function(n){var l=this,h;return(this._listeners[n]||[]).forEach(function(u){return u.call(l,{type:n,target:l.target})===!1&&(h=!1)}),h},t}(),Gu=function(t){YP(e,t);function e(r,n){var l;l=t.call(this)||this,Xm||V3(1),r=Ql(r)[0],l.styles=Gm&&Gm(r,"transform,left,top"),Ss||(Ss=Wr.plugins.inertia),l.vars=n=aw(n||{}),l.target=r,l.x=l.y=l.rotation=0,l.dragResistance=parseFloat(n.dragResistance)||0,l.edgeResistance=isNaN(n.edgeResistance)?1:parseFloat(n.edgeResistance)||0,l.lockAxis=n.lockAxis,l.autoScroll=n.autoScroll||0,l.lockedAxis=null,l.allowEventDefault=!!n.allowEventDefault,Wr.getProperty(r,"x");var h=(n.type||"x,y").toLowerCase(),u=~h.indexOf("x")||~h.indexOf("y"),s=h.indexOf("rotation")!==-1,v=s?"rotation":u?"x":"left",w=u?"y":"top",I=!!(~h.indexOf("x")||~h.indexOf("left")||h==="scroll"),M=!!(~h.indexOf("y")||~h.indexOf("top")||h==="scroll"),U=n.minimumMovement||2,C=Jv(l),S=Ql(n.trigger||n.handle||r),k={},z=0,Z=!1,G=n.autoScrollMarginTop||40,se=n.autoScrollMarginRight||40,re=n.autoScrollMarginBottom||40,Ae=n.autoScrollMarginLeft||40,J=n.clickableTest||XP,te=0,X=r._gsap||Wr.core.getCache(r),W=VP(r),he=function(le,Ye){return parseFloat(X.get(r,le,Ye))},ue=r.ownerDocument||jn,_e,xe,He,Ve,Ke,ot,it,pt,Ut,ct,mt,De,$e,st,xt,Et,lt,Zt,Rt,Mt,Ht,ur,St,Ot,Jt,fr,jt,Br,Hr,ei,Yr,wt,Ar,Gr=function(le){return ns(le),le.stopImmediatePropagation&&le.stopImmediatePropagation(),!1},xr=function Ne(le){if(C.autoScroll&&C.isDragging&&(Z||lt)){var Ye=r,Te=C.autoScroll*15,Ge,ft,Ct,je,bt,tr,ir,lr;for(Z=!1,Qo.scrollTop=Ei.pageYOffset!=null?Ei.pageYOffset:ue.documentElement.scrollTop!=null?ue.documentElement.scrollTop:ue.body.scrollTop,Qo.scrollLeft=Ei.pageXOffset!=null?Ei.pageXOffset:ue.documentElement.scrollLeft!=null?ue.documentElement.scrollLeft:ue.body.scrollLeft,je=C.pointerX-Qo.scrollLeft,bt=C.pointerY-Qo.scrollTop;Ye&&!ft;)ft=Vu(Ye.parentNode),Ge=ft?Qo:Ye.parentNode,Ct=ft?{bottom:Math.max(zs.clientHeight,Ei.innerHeight||0),right:Math.max(zs.clientWidth,Ei.innerWidth||0),left:0,top:0}:Ge.getBoundingClientRect(),tr=ir=0,M&&(lr=Ge._gsMaxScrollY-Ge.scrollTop,lr<0?ir=lr:bt>Ct.bottom-re&&lr?(Z=!0,ir=Math.min(lr,Te*(1-Math.max(0,Ct.bottom-bt)/re)|0)):bt<Ct.top+G&&Ge.scrollTop&&(Z=!0,ir=-Math.min(Ge.scrollTop,Te*(1-Math.max(0,bt-Ct.top)/G)|0)),ir&&(Ge.scrollTop+=ir)),I&&(lr=Ge._gsMaxScrollX-Ge.scrollLeft,lr<0?tr=lr:je>Ct.right-se&&lr?(Z=!0,tr=Math.min(lr,Te*(1-Math.max(0,Ct.right-je)/se)|0)):je<Ct.left+Ae&&Ge.scrollLeft&&(Z=!0,tr=-Math.min(Ge.scrollLeft,Te*(1-Math.max(0,je-Ct.left)/Ae)|0)),tr&&(Ge.scrollLeft+=tr)),ft&&(tr||ir)&&(Ei.scrollTo(Ge.scrollLeft,Ge.scrollTop),ce(C.pointerX+tr,C.pointerY+ir)),Ye=Ge}if(lt){var rt=C.x,Yt=C.y;s?(C.deltaX=rt-parseFloat(X.rotation),C.rotation=rt,X.rotation=rt+"deg",X.renderTransform(1,X)):xe?(M&&(C.deltaY=Yt-xe.top(),xe.top(Yt)),I&&(C.deltaX=rt-xe.left(),xe.left(rt))):u?(M&&(C.deltaY=Yt-parseFloat(X.y),X.y=Yt+"px"),I&&(C.deltaX=rt-parseFloat(X.x),X.x=rt+"px"),X.renderTransform(1,X)):(M&&(C.deltaY=Yt-parseFloat(r.style.top||0),r.style.top=Yt+"px"),I&&(C.deltaX=rt-parseFloat(r.style.left||0),r.style.left=rt+"px")),pt&&!le&&!Br&&(Br=!0,Aa(C,"drag","onDrag")===!1&&(I&&(C.x-=C.deltaX),M&&(C.y-=C.deltaY),Ne(!0)),Br=!1)}lt=!1},Nr=function(le,Ye){var Te=C.x,Ge=C.y,ft,Ct;r._gsap||(X=Wr.core.getCache(r)),X.uncache&&Wr.getProperty(r,"x"),u?(C.x=parseFloat(X.x),C.y=parseFloat(X.y)):s?C.x=C.rotation=parseFloat(X.rotation):xe?(C.y=xe.top(),C.x=xe.left()):(C.y=parseFloat(r.style.top||(Ct=E0(r))&&Ct.top)||0,C.x=parseFloat(r.style.left||(Ct||{}).left)||0),(Rt||Mt||Ht)&&!Ye&&(C.isDragging||C.isThrowing)&&(Ht&&(pu.x=C.x,pu.y=C.y,ft=Ht(pu),ft.x!==C.x&&(C.x=ft.x,lt=!0),ft.y!==C.y&&(C.y=ft.y,lt=!0)),Rt&&(ft=Rt(C.x),ft!==C.x&&(C.x=ft,s&&(C.rotation=ft),lt=!0)),Mt&&(ft=Mt(C.y),ft!==C.y&&(C.y=ft),lt=!0)),lt&&xr(!0),le||(C.deltaX=C.x-Te,C.deltaY=C.y-Ge,Aa(C,"throwupdate","onThrowUpdate"))},Ir=function(le,Ye,Te,Ge){return Ye==null&&(Ye=-1e20),Te==null&&(Te=gu),Sl(le)?function(ft){var Ct=C.isPressed?1-C.edgeResistance:1;return le.call(C,(ft>Te?Te+(ft-Te)*Ct:ft<Ye?Ye+(ft-Ye)*Ct:ft)*Ge)*Ge}:Sd(le)?function(ft){for(var Ct=le.length,je=0,bt=gu,tr,ir;--Ct>-1;)tr=le[Ct],ir=tr-ft,ir<0&&(ir=-ir),ir<bt&&tr>=Ye&&tr<=Te&&(je=Ct,bt=ir);return le[je]}:isNaN(le)?function(ft){return ft}:function(){return le*Ge}},Zi=function(le,Ye,Te,Ge,ft,Ct,je){return Ct=Ct&&Ct<gu?Ct*Ct:gu,Sl(le)?function(bt){var tr=C.isPressed?1-C.edgeResistance:1,ir=bt.x,lr=bt.y,rt,Yt,Vt;return bt.x=ir=ir>Te?Te+(ir-Te)*tr:ir<Ye?Ye+(ir-Ye)*tr:ir,bt.y=lr=lr>ft?ft+(lr-ft)*tr:lr<Ge?Ge+(lr-Ge)*tr:lr,rt=le.call(C,bt),rt!==bt&&(bt.x=rt.x,bt.y=rt.y),je!==1&&(bt.x*=je,bt.y*=je),Ct<gu&&(Yt=bt.x-ir,Vt=bt.y-lr,Yt*Yt+Vt*Vt>Ct&&(bt.x=ir,bt.y=lr)),bt}:Sd(le)?function(bt){for(var tr=le.length,ir=0,lr=gu,rt,Yt,Vt,ii;--tr>-1;)Vt=le[tr],rt=Vt.x-bt.x,Yt=Vt.y-bt.y,ii=rt*rt+Yt*Yt,ii<lr&&(ir=tr,lr=ii);return lr<=Ct?le[ir]:bt}:function(bt){return bt}},Yi=function(){var le,Ye,Te,Ge;it=!1,xe?(xe.calibrate(),C.minX=mt=-xe.maxScrollLeft(),C.minY=$e=-xe.maxScrollTop(),C.maxX=ct=C.maxY=De=0,it=!0):n.bounds&&(le=A6(n.bounds,r.parentNode),s?(C.minX=mt=le.left,C.maxX=ct=le.left+le.width,C.minY=$e=C.maxY=De=0):!Ls(n.bounds.maxX)||!Ls(n.bounds.maxY)?(le=n.bounds,C.minX=mt=le.minX,C.minY=$e=le.minY,C.maxX=ct=le.maxX,C.maxY=De=le.maxY):(Ye=A6(r,r.parentNode),C.minX=mt=Math.round(he(v,"px")+le.left-Ye.left),C.minY=$e=Math.round(he(w,"px")+le.top-Ye.top),C.maxX=ct=Math.round(mt+(le.width-Ye.width)),C.maxY=De=Math.round($e+(le.height-Ye.height))),mt>ct&&(C.minX=ct,C.maxX=ct=mt,mt=C.minX),$e>De&&(C.minY=De,C.maxY=De=$e,$e=C.minY),s&&(C.minRotation=mt,C.maxRotation=ct),it=!0),n.liveSnap&&(Te=n.liveSnap===!0?n.snap||{}:n.liveSnap,Ge=Sd(Te)||Sl(Te),s?(Rt=Ir(Ge?Te:Te.rotation,mt,ct,1),Mt=null):Te.points?Ht=Zi(Ge?Te:Te.points,mt,ct,$e,De,Te.radius,xe?-1:1):(I&&(Rt=Ir(Ge?Te:Te.x||Te.left||Te.scrollLeft,mt,ct,xe?-1:1)),M&&(Mt=Ir(Ge?Te:Te.y||Te.top||Te.scrollTop,$e,De,xe?-1:1))))},Wi=function(){C.isThrowing=!1,Aa(C,"throwcomplete","onThrowComplete")},Ai=function(){C.isThrowing=!1},li=function(le,Ye){var Te,Ge,ft,Ct;le&&Ss?(le===!0&&(Te=n.snap||n.liveSnap||{},Ge=Sd(Te)||Sl(Te),le={resistance:(n.throwResistance||n.resistance||1e3)/(s?10:1)},s?le.rotation=X3(C,Ge?Te:Te.rotation,ct,mt,1,Ye):(I&&(le[v]=X3(C,Ge?Te:Te.points||Te.x||Te.left,ct,mt,xe?-1:1,Ye||C.lockedAxis==="x")),M&&(le[w]=X3(C,Ge?Te:Te.points||Te.y||Te.top,De,$e,xe?-1:1,Ye||C.lockedAxis==="y")),(Te.points||Sd(Te)&&h0(Te[0]))&&(le.linkedProps=v+","+w,le.radius=Te.radius))),C.isThrowing=!0,Ct=isNaN(n.overshootTolerance)?n.edgeResistance===1?0:1-C.edgeResistance+.2:n.overshootTolerance,le.duration||(le.duration={max:Math.max(n.minDuration||0,"maxDuration"in n?n.maxDuration:2),min:isNaN(n.minDuration)?Ct===0||h0(le)&&le.resistance>1e3?0:.5:n.minDuration,overshoot:Ct}),C.tween=ft=Wr.to(xe||r,{inertia:le,data:"_draggable",inherit:!1,onComplete:Wi,onInterrupt:Ai,onUpdate:n.fastMode?Aa:Nr,onUpdateParams:n.fastMode?[C,"onthrowupdate","onThrowUpdate"]:Te&&Te.radius?[!1,!0]:[]}),n.fastMode||(xe&&(xe._skip=!0),ft.render(1e9,!0,!0),Nr(!0,!0),C.endX=C.x,C.endY=C.y,s&&(C.endRotation=C.x),ft.play(0),Nr(!0,!0),xe&&(xe._skip=!1))):it&&C.applyBounds()},Mi=function(le){var Ye=Ot,Te;Ot=ZA(r.parentNode,!0),le&&C.isPressed&&!Ot.equals(Ye||new ic)&&(Te=Ye.inverse().apply({x:He,y:Ve}),Ot.apply(Te,Te),He=Te.x,Ve=Te.y),Ot.equals(PP)&&(Ot=null)},Oe=function(){var le=1-C.edgeResistance,Ye=W?Nu(ue):0,Te=W?Su(ue):0,Ge,ft,Ct;u&&(X.x=he(v,"px")+"px",X.y=he(w,"px")+"px",X.renderTransform()),Mi(!1),ss.x=C.pointerX-Ye,ss.y=C.pointerY-Te,Ot&&Ot.apply(ss,ss),He=ss.x,Ve=ss.y,lt&&(ce(C.pointerX,C.pointerY),xr(!0)),wt=ZA(r),xe?(Yi(),ot=xe.top(),Ke=xe.left()):(ne()?(Nr(!0,!0),Yi()):C.applyBounds(),s?(Ge=r.ownerSVGElement?[X.xOrigin-r.getBBox().x,X.yOrigin-r.getBBox().y]:(E0(r)[jm]||"0 0").split(" "),Et=C.rotationOrigin=ZA(r).apply({x:parseFloat(Ge[0])||0,y:parseFloat(Ge[1])||0}),Nr(!0,!0),ft=C.pointerX-Et.x-Ye,Ct=Et.y-C.pointerY+Te,Ke=C.x,ot=C.y=Math.atan2(Ct,ft)*e6):(ot=he(w,"px"),Ke=he(v,"px"))),it&&le&&(Ke>ct?Ke=ct+(Ke-ct)/le:Ke<mt&&(Ke=mt-(mt-Ke)/le),s||(ot>De?ot=De+(ot-De)/le:ot<$e&&(ot=$e-($e-ot)/le))),C.startX=Ke=Rl(Ke),C.startY=ot=Rl(ot)},ne=function(){return C.tween&&C.tween.isActive()},oe=function(){zo.parentNode&&!ne()&&!C.isDragging&&zo.parentNode.removeChild(zo)},ge=function(le,Ye){var Te;if(!_e||C.isPressed||!le||(le.type==="mousedown"||le.type==="pointerdown")&&!Ye&&Il()-te<30&&U0[C.pointerEvent.type]){Yr&&le&&_e&&ns(le);return}if(Jt=ne(),Ar=!1,C.pointerEvent=le,U0[le.type]?(St=~le.type.indexOf("touch")?le.currentTarget||le.target:ue,Ua(St,"touchend",ze),Ua(St,"touchmove",we),Ua(St,"touchcancel",ze),Ua(ue,"touchstart",n6)):(St=null,Ua(ue,"mousemove",we)),jt=null,(!ug||!St)&&(Ua(ue,"mouseup",ze),le&&le.target&&Ua(le.target,"mouseup",ze)),ur=J.call(C,le.target)&&n.dragClickables===!1&&!Ye,ur){Ua(le.target,"change",ze),Aa(C,"pressInit","onPressInit"),Aa(C,"press","onPress"),Q1(S,!0),Yr=!1;return}if(fr=!St||I===M||C.vars.allowNativeTouchScrolling===!1||C.vars.allowContextMenu&&le&&(le.ctrlKey||le.which>2)?!1:I?"y":"x",Yr=!fr&&!C.allowEventDefault,Yr&&(ns(le),Ua(Ei,"touchforcechange",ns)),le.changedTouches?(le=st=le.changedTouches[0],xt=le.identifier):le.pointerId?xt=le.pointerId:st=xt=null,$g++,DP(xr),Ve=C.pointerY=le.pageY,He=C.pointerX=le.pageX,Aa(C,"pressInit","onPressInit"),(fr||C.autoScroll)&&O3(r.parentNode),r.parentNode&&C.autoScroll&&!xe&&!s&&r.parentNode._gsMaxScrollX&&!zo.parentNode&&!r.getBBox&&(zo.style.width=r.parentNode.scrollWidth+"px",r.parentNode.appendChild(zo)),Oe(),C.tween&&C.tween.kill(),C.isThrowing=!1,Wr.killTweensOf(xe||r,k,!0),xe&&Wr.killTweensOf(r,{scrollTo:1},!0),C.tween=C.lockedAxis=null,(n.zIndexBoost||!s&&!xe&&n.zIndexBoost!==!1)&&(r.style.zIndex=e.zIndex++),C.isPressed=!0,pt=!!(n.onDrag||C._listeners.drag),Ut=!!(n.onMove||C._listeners.move),n.cursor!==!1||n.activeCursor)for(Te=S.length;--Te>-1;)Wr.set(S[Te],{cursor:n.activeCursor||n.cursor||(Wd==="grab"?"grabbing":Wd)});Aa(C,"press","onPress")},we=function(le){var Ye=le,Te,Ge,ft,Ct,je,bt;if(!_e||t_||!C.isPressed||!le){Yr&&le&&_e&&ns(le);return}if(C.pointerEvent=le,Te=le.changedTouches,Te){if(le=Te[0],le!==st&&le.identifier!==xt){for(Ct=Te.length;--Ct>-1&&(le=Te[Ct]).identifier!==xt&&le.target!==r;);if(Ct<0)return}}else if(le.pointerId&&xt&&le.pointerId!==xt)return;if(St&&fr&&!jt&&(ss.x=le.pageX-(W?Nu(ue):0),ss.y=le.pageY-(W?Su(ue):0),Ot&&Ot.apply(ss,ss),Ge=ss.x,ft=ss.y,je=Math.abs(Ge-He),bt=Math.abs(ft-Ve),(je!==bt&&(je>U||bt>U)||qd&&fr===jt)&&(jt=je>bt&&I?"x":"y",fr&&jt!==fr&&Ua(Ei,"touchforcechange",ns),C.vars.lockAxisOnTouchScroll!==!1&&I&&M&&(C.lockedAxis=jt==="x"?"y":"x",Sl(C.vars.onLockAxis)&&C.vars.onLockAxis.call(C,Ye)),qd&&fr===jt))){ze(Ye);return}!C.allowEventDefault&&(!fr||jt&&fr!==jt)&&Ye.cancelable!==!1?(ns(Ye),Yr=!0):Yr&&(Yr=!1),C.autoScroll&&(Z=!0),ce(le.pageX,le.pageY,Ut)},ce=function(le,Ye,Te){var Ge=1-C.dragResistance,ft=1-C.edgeResistance,Ct=C.pointerX,je=C.pointerY,bt=ot,tr=C.x,ir=C.y,lr=C.endX,rt=C.endY,Yt=C.endRotation,Vt=lt,ii,ci,Cr,qt,En,Kt;C.pointerX=le,C.pointerY=Ye,W&&(le-=Nu(ue),Ye-=Su(ue)),s?(qt=Math.atan2(Et.y-Ye,le-Et.x)*e6,En=C.y-qt,En>180?(ot-=360,C.y=qt):En<-180&&(ot+=360,C.y=qt),C.x!==Ke||Math.max(Math.abs(He-le),Math.abs(Ve-Ye))>U?(C.y=qt,Cr=Ke+(ot-qt)*Ge):Cr=Ke):(Ot&&(Kt=le*Ot.a+Ye*Ot.c+Ot.e,Ye=le*Ot.b+Ye*Ot.d+Ot.f,le=Kt),ci=Ye-Ve,ii=le-He,ci<U&&ci>-U&&(ci=0),ii<U&&ii>-U&&(ii=0),(C.lockAxis||C.lockedAxis)&&(ii||ci)&&(Kt=C.lockedAxis,Kt||(C.lockedAxis=Kt=I&&Math.abs(ii)>Math.abs(ci)?"y":M?"x":null,Kt&&Sl(C.vars.onLockAxis)&&C.vars.onLockAxis.call(C,C.pointerEvent)),Kt==="y"?ci=0:Kt==="x"&&(ii=0)),Cr=Rl(Ke+ii*Ge),qt=Rl(ot+ci*Ge)),(Rt||Mt||Ht)&&(C.x!==Cr||C.y!==qt&&!s)&&(Ht&&(pu.x=Cr,pu.y=qt,Kt=Ht(pu),Cr=Rl(Kt.x),qt=Rl(Kt.y)),Rt&&(Cr=Rl(Rt(Cr))),Mt&&(qt=Rl(Mt(qt)))),it&&(Cr>ct?Cr=ct+Math.round((Cr-ct)*ft):Cr<mt&&(Cr=mt+Math.round((Cr-mt)*ft)),s||(qt>De?qt=Math.round(De+(qt-De)*ft):qt<$e&&(qt=Math.round($e+(qt-$e)*ft)))),(C.x!==Cr||C.y!==qt&&!s)&&(s?(C.endRotation=C.x=C.endX=Cr,lt=!0):(M&&(C.y=C.endY=qt,lt=!0),I&&(C.x=C.endX=Cr,lt=!0)),!Te||Aa(C,"move","onMove")!==!1?!C.isDragging&&C.isPressed&&(C.isDragging=Ar=!0,Aa(C,"dragstart","onDragStart")):(C.pointerX=Ct,C.pointerY=je,ot=bt,C.x=tr,C.y=ir,C.endX=lr,C.endY=rt,C.endRotation=Yt,lt=Vt))},ze=function Ne(le,Ye){if(!_e||!C.isPressed||le&&xt!=null&&!Ye&&(le.pointerId&&le.pointerId!==xt&&le.target!==r||le.changedTouches&&!ZP(le.changedTouches,xt))){Yr&&le&&_e&&ns(le);return}C.isPressed=!1;var Te=le,Ge=C.isDragging,ft=C.vars.allowContextMenu&&le&&(le.ctrlKey||le.which>2),Ct=Wr.delayedCall(.001,oe),je,bt,tr,ir,lr;if(St?(ba(St,"touchend",Ne),ba(St,"touchmove",we),ba(St,"touchcancel",Ne),ba(ue,"touchstart",n6)):ba(ue,"mousemove",we),ba(Ei,"touchforcechange",ns),(!ug||!St)&&(ba(ue,"mouseup",Ne),le&&le.target&&ba(le.target,"mouseup",Ne)),lt=!1,Ge&&(z=t6=Il(),C.isDragging=!1),a6(xr),ur&&!ft){le&&(ba(le.target,"change",Ne),C.pointerEvent=Te),Q1(S,!1),Aa(C,"release","onRelease"),Aa(C,"click","onClick"),ur=!1;return}for(bt=S.length;--bt>-1;)H3(S[bt],"cursor",n.cursor||(n.cursor!==!1?Wd:null));if($g--,le){if(je=le.changedTouches,je&&(le=je[0],le!==st&&le.identifier!==xt)){for(bt=je.length;--bt>-1&&(le=je[bt]).identifier!==xt&&le.target!==r;);if(bt<0&&!Ye)return}C.pointerEvent=Te,C.pointerX=le.pageX,C.pointerY=le.pageY}return ft&&Te?(ns(Te),Yr=!0,Aa(C,"release","onRelease")):Te&&!Ge?(Yr=!1,Jt&&(n.snap||n.bounds)&&li(n.inertia||n.throwProps),Aa(C,"release","onRelease"),(!qd||Te.type!=="touchmove")&&Te.type.indexOf("cancel")===-1&&(Aa(C,"click","onClick"),Il()-te<300&&Aa(C,"doubleclick","onDoubleClick"),ir=Te.target||r,te=Il(),lr=function(){te!==Hr&&C.enabled()&&!C.isPressed&&!Te.defaultPrevented&&(ir.click?ir.click():ue.createEvent&&(tr=ue.createEvent("MouseEvents"),tr.initMouseEvent("click",!0,!0,Ei,1,C.pointerEvent.screenX,C.pointerEvent.screenY,C.pointerX,C.pointerY,!1,!1,!1,!1,0,null),ir.dispatchEvent(tr)))},!qd&&!Te.defaultPrevented&&Wr.delayedCall(.05,lr))):(li(n.inertia||n.throwProps),!C.allowEventDefault&&Te&&(n.dragClickables!==!1||!J.call(C,Te.target))&&Ge&&(!fr||jt&&fr===jt)&&Te.cancelable!==!1?(Yr=!0,ns(Te)):Yr=!1,Aa(C,"release","onRelease")),ne()&&Ct.duration(C.tween.duration()),Ge&&Aa(C,"dragend","onDragEnd"),!0},qe=function(le){if(le&&C.isDragging&&!xe){var Ye=le.target||r.parentNode,Te=Ye.scrollLeft-Ye._gsScrollX,Ge=Ye.scrollTop-Ye._gsScrollY;(Te||Ge)&&(Ot?(He-=Te*Ot.a+Ge*Ot.c,Ve-=Ge*Ot.d+Te*Ot.b):(He-=Te,Ve-=Ge),Ye._gsScrollX+=Te,Ye._gsScrollY+=Ge,ce(C.pointerX,C.pointerY))}},Fe=function(le){var Ye=Il(),Te=Ye-te<100,Ge=Ye-z<50,ft=Te&&Hr===te,Ct=C.pointerEvent&&C.pointerEvent.defaultPrevented,je=Te&&ei===te,bt=le.isTrusted||le.isTrusted==null&&Te&&ft;if((ft||Ge&&C.vars.suppressClickOnDrag!==!1)&&le.stopImmediatePropagation&&le.stopImmediatePropagation(),Te&&!(C.pointerEvent&&C.pointerEvent.defaultPrevented)&&(!ft||bt&&!je)){bt&&ft&&(ei=te),Hr=te;return}(C.isPressed||Ge||Te)&&(!bt||!le.detail||!Te||Ct)&&ns(le),!Te&&!Ge&&!Ar&&(le&&le.target&&(C.pointerEvent=le),Aa(C,"click","onClick"))},tt=function(le){return Ot?{x:le.x*Ot.a+le.y*Ot.c+Ot.e,y:le.x*Ot.b+le.y*Ot.d+Ot.f}:{x:le.x,y:le.y}};return Zt=e.get(r),Zt&&Zt.kill(),l.startDrag=function(Ne,le){var Ye,Te,Ge,ft;ge(Ne||C.pointerEvent,!0),le&&!C.hitTest(Ne||C.pointerEvent)&&(Ye=mu(Ne||C.pointerEvent),Te=mu(r),Ge=tt({x:Ye.left+Ye.width/2,y:Ye.top+Ye.height/2}),ft=tt({x:Te.left+Te.width/2,y:Te.top+Te.height/2}),He-=Ge.x-ft.x,Ve-=Ge.y-ft.y),C.isDragging||(C.isDragging=Ar=!0,Aa(C,"dragstart","onDragStart"))},l.drag=we,l.endDrag=function(Ne){return ze(Ne||C.pointerEvent,!0)},l.timeSinceDrag=function(){return C.isDragging?0:(Il()-z)/1e3},l.timeSinceClick=function(){return(Il()-te)/1e3},l.hitTest=function(Ne,le){return e.hitTest(C.target,Ne,le)},l.getDirection=function(Ne,le){var Ye=Ne==="velocity"&&Ss?Ne:h0(Ne)&&!s?"element":"start",Te,Ge,ft,Ct,je,bt;return Ye==="element"&&(je=mu(C.target),bt=mu(Ne)),Te=Ye==="start"?C.x-Ke:Ye==="velocity"?Ss.getVelocity(r,v):je.left+je.width/2-(bt.left+bt.width/2),s?Te<0?"counter-clockwise":"clockwise":(le=le||2,Ge=Ye==="start"?C.y-ot:Ye==="velocity"?Ss.getVelocity(r,w):je.top+je.height/2-(bt.top+bt.height/2),ft=Math.abs(Te/Ge),Ct=ft<1/le?"":Te<0?"left":"right",ft<le&&(Ct!==""&&(Ct+="-"),Ct+=Ge<0?"up":"down"),Ct)},l.applyBounds=function(Ne,le){var Ye,Te,Ge,ft,Ct,je;if(Ne&&n.bounds!==Ne)return n.bounds=Ne,C.update(!0,le);if(Nr(!0),Yi(),it&&!ne()){if(Ye=C.x,Te=C.y,Ye>ct?Ye=ct:Ye<mt&&(Ye=mt),Te>De?Te=De:Te<$e&&(Te=$e),(C.x!==Ye||C.y!==Te)&&(Ge=!0,C.x=C.endX=Ye,s?C.endRotation=Ye:C.y=C.endY=Te,lt=!0,xr(!0),C.autoScroll&&!C.isDragging))for(O3(r.parentNode),ft=r,Qo.scrollTop=Ei.pageYOffset!=null?Ei.pageYOffset:ue.documentElement.scrollTop!=null?ue.documentElement.scrollTop:ue.body.scrollTop,Qo.scrollLeft=Ei.pageXOffset!=null?Ei.pageXOffset:ue.documentElement.scrollLeft!=null?ue.documentElement.scrollLeft:ue.body.scrollLeft;ft&&!je;)je=Vu(ft.parentNode),Ct=je?Qo:ft.parentNode,M&&Ct.scrollTop>Ct._gsMaxScrollY&&(Ct.scrollTop=Ct._gsMaxScrollY),I&&Ct.scrollLeft>Ct._gsMaxScrollX&&(Ct.scrollLeft=Ct._gsMaxScrollX),ft=Ct;C.isThrowing&&(Ge||C.endX>ct||C.endX<mt||C.endY>De||C.endY<$e)&&li(n.inertia||n.throwProps,Ge)}return C},l.update=function(Ne,le,Ye){if(le&&C.isPressed){var Te=ZA(r),Ge=wt.apply({x:C.x-Ke,y:C.y-ot}),ft=ZA(r.parentNode,!0);ft.apply({x:Te.e-Ge.x,y:Te.f-Ge.y},Ge),C.x-=Ge.x-ft.e,C.y-=Ge.y-ft.f,xr(!0),Oe()}var Ct=C.x,je=C.y;return Mi(!le),Ne?C.applyBounds():(lt&&Ye&&xr(!0),Nr(!0)),le&&(ce(C.pointerX,C.pointerY),lt&&xr(!0)),C.isPressed&&!le&&(I&&Math.abs(Ct-C.x)>.01||M&&Math.abs(je-C.y)>.01&&!s)&&Oe(),C.autoScroll&&(O3(r.parentNode,C.isDragging),Z=C.isDragging,xr(!0),o6(r,qe),s6(r,qe)),C},l.enable=function(Ne){var le={lazy:!0},Ye,Te,Ge;if(n.cursor!==!1&&(le.cursor=n.cursor||Wd),Wr.utils.checkPrefix("touchCallout")&&(le.touchCallout="none"),Ne!=="soft"){for(r6(S,I===M?"none":n.allowNativeTouchScrolling&&r.scrollHeight===r.clientHeight==(r.scrollWidth===r.clientHeight)||n.allowEventDefault?"manipulation":I?"pan-y":"pan-x"),Te=S.length;--Te>-1;)Ge=S[Te],ug||Ua(Ge,"mousedown",ge),Ua(Ge,"touchstart",ge),Ua(Ge,"click",Fe,!0),Wr.set(Ge,le),Ge.getBBox&&Ge.ownerSVGElement&&I!==M&&Wr.set(Ge.ownerSVGElement,{touchAction:n.allowNativeTouchScrolling||n.allowEventDefault?"manipulation":I?"pan-y":"pan-x"}),n.allowContextMenu||Ua(Ge,"contextmenu",Gr);Q1(S,!1)}return s6(r,qe),_e=!0,Ss&&Ne!=="soft"&&Ss.track(xe||r,u?"x,y":s?"rotation":"top,left"),r._gsDragID=Ye=r._gsDragID||"d"+LP++,Tu[Ye]=C,xe&&(xe.enable(),xe.element._gsDragID=Ye),(n.bounds||s)&&Oe(),n.bounds&&C.applyBounds(),C},l.disable=function(Ne){for(var le=C.isDragging,Ye=S.length,Te;--Ye>-1;)H3(S[Ye],"cursor",null);if(Ne!=="soft"){for(r6(S,null),Ye=S.length;--Ye>-1;)Te=S[Ye],H3(Te,"touchCallout",null),ba(Te,"mousedown",ge),ba(Te,"touchstart",ge),ba(Te,"click",Fe,!0),ba(Te,"contextmenu",Gr);Q1(S,!0),St&&(ba(St,"touchcancel",ze),ba(St,"touchend",ze),ba(St,"touchmove",we)),ba(ue,"mouseup",ze),ba(ue,"mousemove",we)}return o6(r,qe),_e=!1,Ss&&Ne!=="soft"&&(Ss.untrack(xe||r,u?"x,y":s?"rotation":"top,left"),C.tween&&C.tween.kill()),xe&&xe.disable(),a6(xr),C.isDragging=C.isPressed=ur=!1,le&&Aa(C,"dragend","onDragEnd"),C},l.enabled=function(Ne,le){return arguments.length?Ne?C.enable(le):C.disable(le):_e},l.kill=function(){return C.isThrowing=!1,C.tween&&C.tween.kill(),C.disable(),Wr.set(S,{clearProps:"userSelect"}),delete Tu[r._gsDragID],C},l.revert=function(){this.kill(),this.styles&&this.styles.revert()},~h.indexOf("scroll")&&(xe=l.scrollProxy=new GP(r,QP({onKill:function(){C.isPressed&&ze(null)}},n)),r.style.overflowY=M&&!Vm?"auto":"hidden",r.style.overflowX=I&&!Vm?"auto":"hidden",r=xe.content),s?k.rotation=1:(I&&(k[v]=1),M&&(k[w]=1)),X.force3D="force3D"in n?n.force3D:!0,tw(Jv(l)),l.enable(),l}return e.register=function(n){Wr=n,V3()},e.create=function(n,l){return Xm||V3(!0),Ql(n).map(function(h){return new e(h,l)})},e.get=function(n){return Tu[(Ql(n)[0]||{})._gsDragID]},e.timeSinceDrag=function(){return(Il()-t6)/1e3},e.hitTest=function(n,l,h){if(n===l)return!1;var u=mu(n),s=mu(l),v=u.top,w=u.left,I=u.right,M=u.bottom,U=u.width,C=u.height,S=s.left>I||s.right<w||s.top>M||s.bottom<v,k,z,Z;return S||!h?!S:(Z=(h+"").indexOf("%")!==-1,h=parseFloat(h)||0,k={left:Math.max(w,s.left),top:Math.max(v,s.top)},k.width=Math.min(I,s.right)-k.left,k.height=Math.min(M,s.bottom)-k.top,k.width<0||k.height<0?!1:Z?(h*=.01,z=k.width*k.height,z>=U*C*h||z>=s.width*s.height*h):k.width>h&&k.height>h)},e}(jP);zP(Gu.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1});Gu.zIndex=1e3;Gu.version="3.12.7";iw()&&Wr.registerPlugin(Gu);var KP=nt('<button class="grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center p-2"><!></button>');function $P(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(zl,"$isTerrain3d",r),h=I=>{zl.set(!l())};zl.subscribe(I=>{const M=pi.getMap();M&&(I?(M.setTerrain({source:"terrain",exaggeration:1}),M.easeTo({pitch:60})):(M.setTerrain(null),M.easeTo({pitch:0})))});let u=Pt(null);ua(()=>{V(u)});var s=KP();s.__click=h;var v=Ce(s);const w=oi(()=>l()?"mdi:video-2d":"mdi:video-3d");_r(v,{get icon(){return V(w)},class:"h-8 w-8 text-base"}),ve(s),gn(s,I=>Xe(u,I),()=>V(u)),Qe(t,s),or(),n()}fi(["click"]);var qP=nt('<div class="css-svg-container svelte-cbomfq"><svg width="271" height="60" viewBox="0 0 271 40" id="forestlogotitle" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-cbomfq"><path d="M115.45 8.13H114.394V13.815H115.45V8.13Z" fill="white" class="svelte-cbomfq"></path><path d="M112.444 11.054V12.847C111.58 12.933 110.591 12.49 110.591 10.972C110.591 9.84498 111.256 9.091 112.224 9.091C113.017 9.091 113.365 9.291 113.5 9.427V8.40201C113.5 8.40201 113.051 8.13101 112.227 8.13101C110.994 8.13101 109.534 8.88499 109.534 10.994C109.534 13.089 110.995 13.815 112.144 13.815C112.707 13.815 113.104 13.815 113.501 13.642V11.054H112.444Z" fill="white" class="svelte-cbomfq"></path><path d="M119.327 9.091V8.13H116.321V13.814H117.378V11.206H119.327V10.246H117.378V9.091H119.327Z" fill="white" class="svelte-cbomfq"></path><path d="M167.536 9.073V8.112H164.53V13.796H165.587V11.188H167.536V10.228H165.587V9.073H167.536Z" fill="white" class="svelte-cbomfq"></path><path d="M121.96 13.814C123.009 13.814 123.859 13.141 123.859 12.083V8.13H122.802V12.083C122.802 12.515 122.44 12.854 121.959 12.854C121.479 12.854 121.116 12.514 121.116 12.083V8.13H120.06V12.083C120.062 13.142 120.912 13.814 121.96 13.814Z" fill="white" class="svelte-cbomfq"></path><path d="M134.163 8.349C134.046 8.261 133.669 8.129 133.158 8.129C131.903 8.129 130.765 8.99901 130.765 10.971C130.765 12.91 131.898 13.814 133.157 13.814C133.655 13.814 133.897 13.72 134.136 13.564V12.664C133.85 12.813 133.655 12.853 133.157 12.853C132.323 12.853 131.821 12.019 131.821 10.971C131.821 9.89001 132.323 9.09201 133.157 9.09201C133.655 9.09201 133.851 9.13801 134.163 9.26901V8.349Z" fill="white" class="svelte-cbomfq"></path><path d="M140.901 8.129C140.437 8.129 139.357 8.129 139.357 8.129V13.815H140.899C142.68 13.815 143.371 12.411 143.371 10.918C143.372 9.362 142.668 8.129 140.901 8.129ZM140.9 12.853C140.692 12.853 140.414 12.853 140.414 12.853V9.09201H140.9C141.881 9.09201 142.315 9.94498 142.315 10.972C142.314 11.963 141.881 12.853 140.9 12.853Z" fill="white" class="svelte-cbomfq"></path><path d="M150.948 8.134L149.895 9.60901L148.839 8.13199H147.775V13.813H148.831V10.104L149.897 11.521L150.948 10.12V13.813H152.005V8.134H150.948Z" fill="white" class="svelte-cbomfq"></path><path d="M147.083 9.09V8.129H144.035V13.817H147.083V12.856H145.091V11.332H147.041V10.372H145.091V9.09H147.083Z" fill="white" class="svelte-cbomfq"></path><path d="M156.749 8.11401H155.569L154.583 10.166L153.596 8.11401H152.417L154.059 11.536V13.798H155.116V11.536L156.749 8.11401Z" fill="white" class="svelte-cbomfq"></path><path d="M161.473 8.112C162.72 8.112 163.787 8.85201 163.787 10.954C163.787 12.506 163.2 13.796 161.473 13.796C159.951 13.796 159.16 12.575 159.16 10.954C159.159 9.00501 160.242 8.112 161.473 8.112ZM160.216 10.958C160.216 11.759 160.547 12.874 161.473 12.874C162.161 12.874 162.73 12.2 162.73 10.954C162.73 9.85401 162.156 9.07199 161.473 9.07199C160.596 9.07199 160.216 10.081 160.216 10.958Z" fill="white" class="svelte-cbomfq"></path><path d="M129.73 13.813H130.832L129.207 8.12799H127.955L126.33 13.813H127.432L127.907 12.151H129.254L129.73 13.813ZM128.183 11.19L128.582 9.79401L128.981 11.19H128.183Z" fill="white" class="svelte-cbomfq"></path><path d="M137.802 13.813H138.904L137.279 8.12799H136.027L134.402 13.813H135.504L135.979 12.151H137.327L137.802 13.813ZM136.254 11.19L136.653 9.79401L137.052 11.19H136.254Z" fill="white" class="svelte-cbomfq"></path><path d="M252.396 12.782V8.06H251.339V13.743H254.572V12.782H252.396Z" fill="white" class="svelte-cbomfq"></path><path d="M248.668 13.743C249.718 13.743 250.567 13.069 250.567 12.012V8.06H249.51V12.012C249.51 12.444 249.148 12.783 248.667 12.783C248.188 12.783 247.824 12.444 247.824 12.012V8.06H246.767V12.012C246.769 13.069 247.619 13.743 248.668 13.743Z" fill="white" class="svelte-cbomfq"></path><path d="M260.204 13.743C261.253 13.743 262.102 13.069 262.102 12.012V8.06H261.045V12.012C261.045 12.444 260.683 12.783 260.203 12.783C259.723 12.783 259.359 12.444 259.359 12.012V8.06H258.302V12.012C258.304 13.069 259.154 13.743 260.204 13.743Z" fill="white" class="svelte-cbomfq"></path><path d="M237.241 8.05801C236.776 8.05801 235.696 8.05801 235.696 8.05801V13.744H237.239C239.02 13.744 239.71 12.34 239.71 10.848C239.71 9.28999 239.007 8.05801 237.241 8.05801ZM237.239 12.781C237.03 12.781 236.753 12.781 236.753 12.781V9.01999H237.239C238.219 9.01999 238.653 9.873 238.653 10.901C238.653 11.892 238.22 12.781 237.239 12.781Z" fill="white" class="svelte-cbomfq"></path><path d="M270.235 9.01801V8.05701H267.188V13.745H270.235V12.784H268.243V11.261H270.193V10.3H268.243V9.01801H270.235Z" fill="white" class="svelte-cbomfq"></path><path d="M229.713 13.743H230.816L229.191 8.05701H227.939L226.314 13.743H227.416L227.892 12.081H229.24L229.713 13.743ZM228.165 11.12L228.564 9.724L228.963 11.12H228.165Z" fill="white" class="svelte-cbomfq"></path><path d="M233.966 8.06V11.3L232.303 8.06H231.246V13.743H232.303V10.508L233.966 13.743H235.022V8.06H233.966Z" fill="white" class="svelte-cbomfq"></path><path d="M265.946 11.921C265.77 11.362 265.563 11.148 265.436 11.065C265.829 10.796 266.137 10.308 266.137 9.67099C266.137 8.79399 265.469 8.06 264.739 8.06H262.864V13.744H263.921V11.26H264.238C264.539 11.26 264.743 11.561 264.827 11.86C264.864 11.994 265.438 13.745 265.438 13.745H266.754C266.451 13.175 266.165 12.621 265.946 11.921ZM263.886 9.01999H264.517C264.903 9.01999 265.046 9.46799 265.046 9.67099C265.046 9.91099 264.902 10.299 264.517 10.299H263.886V9.01999Z" fill="white" class="svelte-cbomfq"></path><path d="M257.713 8.06H254.165V9.01901H255.411V13.743H256.467V9.01901H257.713V8.06Z" fill="white" class="svelte-cbomfq"></path><path d="M246.019 8.27802C245.902 8.19002 245.526 8.05899 245.014 8.05899C243.759 8.05899 242.621 8.928 242.621 10.901C242.621 12.84 243.755 13.743 245.013 13.743C245.511 13.743 245.753 13.649 245.993 13.493V12.594C245.707 12.743 245.511 12.782 245.013 12.782C244.18 12.782 243.677 11.949 243.677 10.901C243.677 9.819 244.18 9.022 245.013 9.022C245.511 9.022 245.707 9.067 246.019 9.198V8.27802Z" fill="white" class="svelte-cbomfq"></path><path d="M214.083 8.112V11.353L212.421 8.112H211.364V13.796H212.421V10.562L214.083 13.796H215.14V8.112H214.083Z" fill="white" class="svelte-cbomfq"></path><path d="M182.747 11.974C182.572 11.415 182.364 11.201 182.238 11.119C182.63 10.849 182.939 10.361 182.939 9.724C182.939 8.847 182.271 8.11301 181.54 8.11301H179.665V13.797H180.722V11.313H181.04C181.341 11.313 181.544 11.614 181.628 11.913C181.666 12.047 182.24 13.798 182.24 13.798H183.555C183.253 13.228 182.967 12.674 182.747 11.974ZM180.687 9.073H181.318C181.705 9.073 181.848 9.51999 181.848 9.72299C181.848 9.96299 181.704 10.352 181.318 10.352H180.687V9.073Z" fill="white" class="svelte-cbomfq"></path><path d="M194.741 8.112H191.193V9.07101H192.438V13.796H193.495V9.07101H194.741V8.112Z" fill="white" class="svelte-cbomfq"></path><path d="M187.678 13.438C187.949 13.638 188.435 13.796 188.902 13.796C189.807 13.796 190.956 13.505 190.956 12.044C190.956 11.376 190.713 10.791 189.707 10.304C189.175 10.046 188.77 9.93101 188.77 9.53601C188.77 9.14901 189.064 9.01001 189.55 9.01001C189.923 9.01001 190.434 9.29901 190.489 9.36801V8.409C190.489 8.409 189.945 8.112 189.36 8.112C188.678 8.112 187.713 8.48101 187.713 9.53601C187.713 10.482 188.556 10.879 188.985 11.034C189.465 11.207 189.891 11.556 189.891 12.044C189.891 12.507 189.528 12.835 188.901 12.835C188.463 12.835 187.858 12.614 187.677 12.478V13.438H187.678Z" fill="white" class="svelte-cbomfq"></path><path d="M197.911 13.438C198.182 13.638 198.669 13.796 199.136 13.796C200.04 13.796 201.189 13.505 201.189 12.044C201.189 11.376 200.947 10.791 199.941 10.304C199.408 10.046 199.003 9.93101 199.003 9.53601C199.003 9.14901 199.297 9.01001 199.784 9.01001C200.156 9.01001 200.667 9.29901 200.723 9.36801V8.409C200.723 8.409 200.178 8.112 199.594 8.112C198.912 8.112 197.946 8.48101 197.946 9.53601C197.946 10.482 198.789 10.879 199.219 11.034C199.699 11.207 200.125 11.556 200.125 12.044C200.125 12.507 199.761 12.835 199.135 12.835C198.697 12.835 198.092 12.614 197.91 12.478V13.438H197.911Z" fill="white" class="svelte-cbomfq"></path><path d="M206.816 8.078H205.759V13.763H206.816V8.078Z" fill="white" class="svelte-cbomfq"></path><path d="M187.073 9.073V8.112H184.026V13.8H187.073V12.84H185.083V11.315H187.032V10.354H185.083V9.073H187.073Z" fill="white" class="svelte-cbomfq"></path><path d="M210.637 9.073V8.112H207.589V13.8H210.637V12.84H208.646V11.315H210.595V10.354H208.646V9.073H210.637Z" fill="white" class="svelte-cbomfq"></path><path d="M222.885 9.073V8.112H219.837V13.8H222.885V12.84H220.894V11.315H222.843V10.354H220.894V9.073H222.885Z" fill="white" class="svelte-cbomfq"></path><path d="M176.739 8.112C177.987 8.112 179.053 8.85201 179.053 10.954C179.053 12.506 178.467 13.796 176.739 13.796C175.218 13.796 174.426 12.575 174.426 10.954C174.426 9.00501 175.509 8.112 176.739 8.112ZM175.483 10.958C175.483 11.759 175.813 12.874 176.739 12.874C177.428 12.874 177.996 12.2 177.996 10.954C177.996 9.85401 177.422 9.07199 176.739 9.07199C175.862 9.07199 175.483 10.081 175.483 10.958Z" fill="white" class="svelte-cbomfq"></path><path d="M205.095 8.33099C204.978 8.24399 204.601 8.112 204.089 8.112C202.834 8.112 201.696 8.98101 201.696 10.954C201.696 12.893 202.829 13.796 204.088 13.796C204.587 13.796 204.827 13.703 205.067 13.546V12.647C204.782 12.796 204.587 12.835 204.088 12.835C203.255 12.835 202.753 12.003 202.753 10.954C202.753 9.87201 203.255 9.07501 204.088 9.07501C204.587 9.07501 204.782 9.12101 205.095 9.25201V8.33099Z" fill="white" class="svelte-cbomfq"></path><path d="M219.234 8.33099C219.117 8.24399 218.74 8.112 218.229 8.112C216.973 8.112 215.836 8.98101 215.836 10.954C215.836 12.893 216.969 13.796 218.227 13.796C218.726 13.796 218.967 13.703 219.207 13.546V12.647C218.921 12.796 218.726 12.835 218.227 12.835C217.394 12.835 216.892 12.003 216.892 10.954C216.892 9.87201 217.394 9.07501 218.227 9.07501C218.726 9.07501 218.921 9.12101 219.234 9.25201V8.33099Z" fill="white" class="svelte-cbomfq"></path><path d="M45.19 32.12C47.463 29.464 48.708 26.324 48.942 24.245L48.976 23.224H45.072V20.756H50.041V19.735L45.072 19.733V17.424H44.051V19.732L38.036 19.729V33.054H36.15V17.424H35.129V33.054H33.241V19.764H32.22V36.473H33.241V34.075H39.057V20.757H44.051V23.225H40.14L40.178 24.246C40.391 26.307 41.618 29.449 43.877 32.119C42.466 33.625 40.801 34.816 39.054 35.384V36.405C41.246 35.656 43.07 34.362 44.532 32.846C46.005 34.39 47.849 35.712 50.074 36.472V35.451C48.303 34.874 46.614 33.657 45.19 32.12ZM41.214 24.245H47.908C47.57 26.616 46.306 29.231 44.536 31.37C42.781 29.224 41.534 26.608 41.214 24.245Z" fill="white" class="svelte-cbomfq"></path><path d="M69.11 32.951H60.693V30.69H67.787V25.919H53.625V23.94H67.788V19.21H60.689V17.425H59.668V19.21H52.605V30.69H59.674V32.951H51.257V33.972H59.674V36.48H60.695V33.972H69.112V32.951H69.11ZM53.625 20.231H66.767V22.92H53.625V20.231ZM53.625 26.94H66.768V29.67H53.625V26.94Z" fill="white" class="svelte-cbomfq"></path><path d="M71.312 29.308V17.425H70.292V30.328H78.708V36.479H79.729V30.328H88.146V29.308H71.312Z" fill="white" class="svelte-cbomfq"></path><path d="M70.417 35.458V36.479C72.783 36.135 75.464 33.856 75.733 30.985H74.712C74.414 33.218 72.146 35.161 70.417 35.458Z" fill="white" class="svelte-cbomfq"></path><path d="M87.944 35.458V36.479C85.578 36.135 82.897 33.856 82.629 30.985H83.65C83.947 33.218 86.216 35.161 87.944 35.458Z" fill="white" class="svelte-cbomfq"></path><path d="M85.875 27.835H86.896V17.425H73.353V27.833L85.875 27.835ZM74.374 26.813V24.542H85.876V26.813H74.374ZM74.374 23.522V21.481H85.876V23.522H74.374ZM85.875 18.444V20.46H74.374V18.444H85.875Z" fill="white" class="svelte-cbomfq"></path><path d="M107.181 20.485V19.465H98.764V17.424H97.743V19.465H89.326V20.485H93.277V35.458H89.326V36.479H107.18V35.458H103.224V20.485H107.181ZM102.205 35.458H94.299V20.485H102.205V35.458Z" fill="white" class="svelte-cbomfq"></path><path d="M127.759 19.158H119.542V17.612H118.113V19.158H109.9V20.587H115.874C114.86 22.971 111.606 24.739 109.9 24.856V26.285C112.247 26.055 116.44 23.957 117.411 20.588H118.113V26.788H119.542V20.588H120.244C121.216 23.957 125.408 26.055 127.755 26.285V24.856C126.049 24.74 122.795 22.971 121.781 20.587H127.76V19.158H127.759Z" fill="white" class="svelte-cbomfq"></path><path d="M117.213 29.17H118.632V27.741H115.692V26.216H114.263V27.741H109.908V29.17H112.779C112.381 32.037 110.963 33.603 109.56 34.347V36.031C111.658 35.154 113.802 32.938 114.226 29.171H114.264V36.748H115.693V29.171H115.742C116.118 30.736 117.171 32.205 118.892 32.844V31.159C117.876 30.623 117.442 30.049 117.213 29.17Z" fill="white" class="svelte-cbomfq"></path><path d="M124.954 29.17H127.76V27.741H123.391V26.208H121.962V27.741H118.969V29.17H120.41C120.012 32.037 118.594 33.603 117.191 34.347V36.031C119.289 35.154 121.433 32.938 121.857 29.171H121.962V36.748H123.391V29.171H123.507C123.931 32.939 126.075 35.154 128.173 36.031V34.347C126.77 33.603 125.352 32.037 124.954 29.17Z" fill="white" class="svelte-cbomfq"></path><path d="M173.946 17.618H172.516C172.346 21.136 170.096 25.097 166.563 27.489V29.173C168.09 28.36 169.44 27.242 170.557 25.935V36.748H171.986V23.693C173.071 21.891 173.765 19.628 173.946 17.618Z" fill="white" class="svelte-cbomfq"></path><path d="M138.237 21.517H136.539C136.829 24.367 137.575 25.259 138.492 26.484V28.422C137.062 27.183 135.596 25.13 135.191 21.517H135.181V36.747H133.752V21.517H133.704C133.491 27.401 131.853 31.244 128.813 33.343V31.659C131.666 28.786 132.107 25.583 132.357 21.516H129.469V20.086H133.752V17.611H135.181V20.086H138.238V21.517H138.237Z" fill="white" class="svelte-cbomfq"></path><path d="M138.528 21.517H140.21C139.929 25.527 139.34 28.595 136.676 31.603V33.287C139.706 31.194 141.342 27.369 141.564 21.517H141.616V36.747H143.045V21.517H143.112C143.326 27.401 144.964 31.244 148.004 33.343V31.659C145.183 28.653 144.716 25.557 144.462 21.516H147.329V20.086H143.046V17.611H141.617V20.086H138.529V21.517H138.528Z" fill="white" class="svelte-cbomfq"></path><path d="M166.641 21.511V20.082H158.401V17.612H156.972V20.082H148.782V21.511H151.863C152.643 24.902 154.418 28.214 156.705 30.882C154.436 33.242 151.686 34.98 148.782 35.316V36.744C151.873 36.524 155.057 34.685 157.709 31.979C160.361 34.685 163.546 36.524 166.636 36.744V35.316C163.733 34.98 160.982 33.243 158.713 30.882C161.001 28.214 162.775 24.902 163.556 21.511H166.641ZM157.709 29.761C155.618 27.256 154.052 24.256 153.328 21.511H162.09C161.366 24.256 159.8 27.256 157.709 29.761Z" fill="white" class="svelte-cbomfq"></path><path d="M231.128 17.692H220.547V19.121H231.128V17.692Z" fill="white" class="svelte-cbomfq"></path><path d="M270.198 25.397H255.146V26.825H270.198V25.397Z" fill="white" class="svelte-cbomfq"></path><path d="M201.714 17.692H185.897V19.121H200.228C199.828 23.985 197.343 26.192 194.061 26.442V20.938H192.632V27.868C192.632 31.243 189.767 35.318 185.897 35.318V36.747C190.38 36.747 194.057 32.508 194.061 27.876C197.789 27.644 201.214 25.346 201.665 19.121H201.715V17.692H201.714Z" fill="white" class="svelte-cbomfq"></path><path d="M210.825 20.167V17.692H209.395V20.167H203.094V21.596H209.395V24.649C209.395 30.5 206.413 33.736 203.094 35.319V36.748C206.938 35.687 210.824 31.129 210.824 24.662V21.597H217.482C217.482 24.854 217.482 33.143 217.482 33.448C217.482 34.528 216.781 35.323 215.791 35.323C215.449 35.323 213.016 35.323 213.016 35.323V36.752C213.016 36.752 215.236 36.752 215.702 36.752C217.412 36.752 218.912 35.538 218.912 33.539C218.912 33.048 218.912 20.245 218.912 20.245V20.169H210.825V20.167Z" fill="white" class="svelte-cbomfq"></path><path d="M236.364 22.718H220.547V24.148H228.124V28.814C228.124 32.683 224.912 35.322 220.547 35.322V36.751C225.032 36.751 229.553 34.125 229.553 28.814V24.148H236.365V22.718H236.364Z" fill="white" class="svelte-cbomfq"></path><path d="M236.365 17.692H234.937V19.215H236.365V17.692Z" fill="white" class="svelte-cbomfq"></path><path d="M233.742 17.692H232.389V19.215H233.742V17.692Z" fill="white" class="svelte-cbomfq"></path><path d="M184.418 22.456V20.772C182.231 22.418 179.548 23.842 177.043 24.252C177.043 20.762 177.043 17.611 177.043 17.611H175.614C175.614 17.611 175.614 32.912 175.614 33.529C175.614 35.734 177.114 36.742 178.825 36.742C179.29 36.742 184.415 36.742 184.415 36.742V35.314C184.415 35.314 179.076 35.314 178.735 35.314C177.745 35.314 177.043 34.519 177.043 33.439C177.043 33.252 177.043 29.483 177.043 25.669C179.828 25.187 182.833 23.603 184.418 22.456Z" fill="white" class="svelte-cbomfq"></path><path d="M253.829 17.61H238.087V19.039H253.829V17.61Z" fill="white" class="svelte-cbomfq"></path><path d="M253.829 22.739H238.087V24.169H253.829V22.739Z" fill="white" class="svelte-cbomfq"></path><path d="M253.829 35.235C253.829 35.235 244.28 35.235 243.897 35.235C240.807 35.235 239.516 33.286 239.516 31.86C239.516 31.519 239.516 30.004 239.516 30.004H238.086C238.086 30.004 238.086 31.245 238.086 31.711C238.086 34.187 239.757 36.665 243.807 36.665C244.425 36.665 253.828 36.665 253.828 36.665V35.235H253.829Z" fill="white" class="svelte-cbomfq"></path><path d="M173.979 9.073V8.10599H170.957V13.748H172.02V9.073H173.979Z" fill="white" class="svelte-cbomfq"></path><path d="M174.136 10.325C174.115 10.745 172.991 11.847 172.152 11.227C171.983 10.294 173.706 9.95802 174.136 10.325Z" fill="white" class="svelte-cbomfq"></path><path d="M3.077 30.092C3.077 29.092 2.578 24.436 10.745 21.269C18.911 18.102 27.328 13.936 27.328 5.85199C27.328 4.99699 27.328 1.522 27.328 1.397C27.328 1.147 27.394 1.069 27.749 1.069C27.749 1.069 31.546 1.069 32.255 1.069V0.429993C32.255 0.429993 21.999 0.429993 21.745 0.429993C7.245 0.429993 2.953 12.414 2.953 19.644C2.953 23.477 2.929 30.092 2.929 30.092" fill="white" class="svelte-cbomfq"></path><path d="M3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 36.185 5.997 36.348 5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.665 39.023 6.011 37.679 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 36.185 5.997 36.348 5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.665 39.023 6.011 37.679 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 1.312 36.019 2.953 36.019C4.612 36.019 5.981 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 1.312 36.019 2.953 36.019C4.612 36.019 5.981 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 1.312 36.019 2.953 36.019C4.612 36.019 5.981 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.375 36.019 0.976 36.019C1.601 36.155 1.899 36.092 2.244 36.019C2.471 36.019 2.709 36.019 2.954 36.019C4.613 36.019 5.982 36.019 6.012 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.25 36.019 0.667 36.019C1.512 36.394 2.344 36.084 2.502 36.019C2.649 36.019 2.8 36.019 2.953 36.019C4.612 36.019 5.981 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.179 36.019 0.487 36.019C0.848 36.287 1.531 36.503 2.725 36.019C2.8 36.019 2.876 36.019 2.953 36.019C4.612 36.019 5.981 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.128 36.019 0.353 36.019C0.994 36.746 2.361 36.332 2.923 36.019C2.933 36.019 2.943 36.019 2.953 36.019C4.612 36.019 5.981 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.089 36.019 0.248 36.019C0.534 36.383 0.728 36.462 1.248 36.544C1.354 36.544 1.466 36.544 1.582 36.544C2.061 36.476 2.377 36.431 3.118 36.019C4.702 36.019 5.982 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.06 36.019 0.168 36.019C0.699 36.992 2.216 36.776 3.317 36.019C4.808 36.019 5.983 36.019 6.01 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.036 36.019 0.104 36.019C0.572 37.053 2.039 37.053 3.515 36.019C4.911 36.019 5.984 36.019 6.01 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.02 36.019 0.057 36.019C0.464 37.341 2.392 37.1 3.718 36.019C5.014 36.019 5.986 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0.007 36.019 0.017 36.019 0.023 36.019C0.327 37.407 2.255 37.407 3.918 36.019C5.112 36.019 5.987 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0.001 36.019 0.003 36.019 0.004 36.019C0.189 37.578 2.461 37.578 4.125 36.019C5.212 36.019 5.988 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.017 36.369 0.004 36.232 0 36.091C0.144 37.779 2.611 37.737 4.329 36.017C5.308 36.017 5.989 36.017 6.01 36.017C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.988999 38.252 0.879999 38.143C0.770999 38.034 0.670999 37.917 0.578999 37.793C0.487999 37.668 0.405999 37.537 0.334999 37.398C0.263999 37.26 0.201999 37.117 0.151999 36.967C0.102999 36.818 0.0639988 36.663 0.0389988 36.505C0.0289988 36.446 0.0209988 36.387 0.0159988 36.327C0.290999 37.994 2.921 37.813 4.555 36.016C5.411 36.016 5.991 36.016 6.01 36.016C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.113 36.849 0.0809998 36.728 0.0559998 36.605C0.494 38.26 3.193 37.925 4.792 36.017C5.516 36.017 5.991 36.017 6.009 36.017C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989004 38.252 0.880004 38.143C0.771004 38.034 0.671004 37.917 0.579004 37.793C0.488004 37.668 0.406004 37.537 0.335004 37.398C0.264004 37.26 0.202004 37.117 0.152004 36.967C0.151004 36.962 0.148004 36.955 0.146004 36.949C0.730004 38.427 3.426 38.188 5.076 36.016C5.639 36.016 5.994 36.016 6.01 36.016C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C1.312 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C1.312 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C1.311 36.019 0 36.019 0 36.019C0 33.019 3.006 31.644 3.006 29.519C3.001 30.452 2.5 31.152 1.684 32.216C1.049 33.044 0.091 34.294 0.472 35.284C0.75 36.009 2.16 36.381 2.949 35.506C3.126 35.31 3.595 34.789 3.605 33.733C3.619 32.298 3.004 30.953 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 33.019 3.006 31.644 3.006 29.519C2.997 30.455 2.495 31.154 1.677 32.216C-0.421 34.944 0.337 35.769 0.976 36.019C0.375 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C2.708 36.019 2.47 36.019 2.243 36.019C2.266 36.015 2.299 36.009 2.323 36.005C3.318 35.533 3.601 34.731 3.663 34.14C3.831 32.544 3.004 31.091 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 33.019 3.006 31.644 3.006 29.519C2.987 30.421 2.586 31.034 1.675 32.216C1.132 32.922 -0.523 35.07 0.667 36.019C0.25 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C2.8 36.019 2.649 36.019 2.502 36.019C2.572 35.987 2.666 35.945 2.736 35.913C3.215 35.434 3.757 34.892 3.805 33.733C3.833 33.052 3.678 32.579 3.481 31.979C3.086 30.779 3.004 30.53 3.005 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M2.995 29.741C2.935 30.345 2.659 30.802 2.437 31.169C2.773 30.643 3.005 30.109 3.005 29.519C3.004 29.586 3.002 29.675 2.995 29.741Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 34.975 0.364 34.127 0.84 33.376H0.839C0.535 33.887 -0.178 35.081 0.487 36.019C0.179 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C2.877 36.019 2.801 36.019 2.725 36.019C3.095 35.698 3.866 35.03 3.921 33.733C3.948 33.1 3.72 32.478 3.537 31.979C3.096 30.778 3.004 30.527 3.005 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M3.004 29.599C2.983 30.132 2.805 30.492 2.649 30.809C2.867 30.398 3.006 29.976 3.006 29.519C3.005 29.543 3.005 29.575 3.004 29.599Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.193 0.229 34.489 0.56 33.86C0.247 34.506 -0.028 35.205 0.353 36.019C0.128 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C3.011 35.96 3.087 35.882 3.144 35.824C4.5 34.222 3.998 32.978 3.593 31.979C3.118 30.805 3.006 30.527 3.005 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M2.993 29.757C2.954 30.121 2.843 30.386 2.776 30.544C2.92 30.216 3.005 29.878 3.005 29.519C3.003 29.59 3.001 29.686 2.993 29.757Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.355 0.147 34.771 0.377 34.241C0.242 34.59 -0.036 35.316 0.248 36.019C0.089 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.983 36.019 4.702 36.019 3.118 36.019C3.133 36.005 3.153 35.988 3.168 35.974C4.322 34.554 4.421 33.733 3.648 31.979C3.157 30.865 3.008 30.529 3.005 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M3.004 29.604C2.994 29.824 2.967 30.014 2.858 30.336C2.952 30.073 3.005 29.803 3.005 29.519C3.005 29.544 3.005 29.578 3.004 29.604Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.494 0.093 35.017 0.245 34.579C0.131 34.965 0.001 35.402 0.168 36.019C0.06 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.984 36.019 4.809 36.019 3.318 36.019C3.378 35.945 3.457 35.846 3.515 35.772C4.764 34.197 4.176 32.967 3.703 31.979C3.186 30.897 3.012 30.532 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M2.989 29.794C2.971 29.936 2.93 30.101 2.918 30.148C2.975 29.945 3.006 29.736 3.006 29.519C3.003 29.602 2.999 29.712 2.989 29.794Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.61 0.057 35.231 0.152 34.876C0.105 35.068 -0.005 35.518 0.104 36.019C0.036 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.985 36.019 4.911 36.019 3.516 36.019C3.537 35.993 3.565 35.956 3.585 35.93C4.811 34.178 4.449 33.304 3.584 31.647C3.093 30.707 3.006 30.211 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M3.003 29.627C2.994 29.782 2.983 29.844 2.961 29.966C2.99 29.82 3.006 29.671 3.006 29.519C3.005 29.551 3.005 29.595 3.003 29.627Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.721 0.03 35.44 0.083 35.171C0.035 35.504 0.011 35.671 0.057 36.019C0.02 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.986 36.019 5.014 36.019 3.718 36.019C4.741 34.497 4.76 33.704 3.811 31.979C3.259 30.976 3.007 30.518 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M2.989 29.786C3 29.698 3.006 29.609 3.006 29.518C3.002 29.599 2.998 29.706 2.989 29.786Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.831 0.012 35.65 0.034 35.475C0.011 35.674 0.013 35.74 0.023 36.019C0.008 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.988 36.019 5.113 36.019 3.918 36.019C3.938 35.99 3.964 35.951 3.983 35.92C5.054 34.146 4.661 33.328 3.669 31.648C3.11 30.703 3.007 30.189 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M3.004 29.596C3.005 29.571 3.006 29.544 3.006 29.519L3.004 29.596Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.943 0.002 35.868 0.006 35.793L0.004 36.019C0.002 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.989 36.019 5.212 36.019 4.125 36.019C4.174 35.934 4.238 35.822 4.286 35.737C5.214 34.048 4.648 33.145 3.711 31.65C3.061 30.612 3.007 30.071 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.99 36.019 5.309 36.019 4.33 36.019C5.277 34.327 4.929 33.449 3.968 31.979C3.369 31.063 3.008 30.509 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.991 36.019 5.412 36.019 4.556 36.019C4.598 35.931 4.654 35.814 4.697 35.726C5.451 34.046 4.863 33.196 3.797 31.651C3.082 30.616 3.017 30.093 3.007 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.993 36.019 5.518 36.019 4.794 36.019C4.832 35.928 4.882 35.808 4.92 35.717C5.55 34.022 5.014 33.279 3.838 31.653C3.079 30.603 3.012 30.045 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.995 36.019 5.64 36.019 5.077 36.019C5.673 34.397 5.393 33.663 4.124 31.98C3.36 30.967 3.023 30.428 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M3.429 32.615C3.909 35.739 2.083 36.326 0.929001 35.604C-0.297999 34.838 1.116 32.978 1.874 31.978C2.628 30.986 2.989 30.372 3.005 29.564C3.005 29.816 3.003 30.285 3.072 30.785C3.157 31.402 3.335 32.001 3.429 32.615Z" fill="white" class="svelte-cbomfq"></path><path d="M3.345 32.615C3.581 34.542 3.391 34.763 2.759 35.498C2.117 36.245 1.135 35.555 0.944996 35.409C-0.0930036 34.614 1.052 33.091 1.888 31.978C2.632 30.988 2.99 30.376 3.005 29.582C3.004 29.832 3.004 29.832 3.345 32.615Z" fill="white" class="svelte-cbomfq"></path><path d="M3.267 32.615C3.41 33.924 3.468 34.466 3.107 35.023C2.762 35.554 2.183 36.071 1.383 35.519C0.322001 34.788 0.256001 34.204 1.904 31.978C2.61 31.025 2.974 30.403 3.004 29.65C3.006 30.224 3.006 30.224 3.267 32.615Z" fill="white" class="svelte-cbomfq"></path><path d="M3.322 34.14C3.295 34.51 2.649 36.781 1.001 35.024C0.275999 34.252 1.115 33.096 1.927 31.979C2.636 31.002 2.979 30.406 3.004 29.658C3 30.638 3.209 32.835 3.264 33.288C3.297 33.567 3.339 33.917 3.322 34.14Z" fill="white" class="svelte-cbomfq"></path><path d="M3.27 34.14C3.193 35.192 2.23 36.148 1.418 35.238C0.678997 34.408 0.428997 34.129 1.953 31.979C2.653 30.992 2.971 30.428 3.003 29.695C3.003 30.022 3.003 30.022 3.011 30.242C3.043 31.127 3.087 32.209 3.087 32.218C3.114 32.86 3.316 33.488 3.27 34.14Z" fill="white" class="svelte-cbomfq"></path><path d="M3.152 34.467C2.953 35.81 1.677 35.714 1.341 35.024C0.811002 33.936 0.742002 33.796 1.988 31.979C2.86 30.706 2.97 30.298 3.001 29.732C3.004 30.464 3.034 31.196 3.022 31.928C3.009 32.777 3.279 33.611 3.152 34.467Z" fill="white" class="svelte-cbomfq"></path><path d="M3.147 34.218C2.863 36.115 1.62 35.426 1.422 35.024C1.382 34.942 1.371 34.816 1.351 34.727C1.349 34.715 1.346 34.701 1.344 34.689C1.271 34.371 1.055 34.085 1.125 33.733C1.233 33.195 1.604 32.631 2.031 31.979C2.832 30.761 2.963 30.395 3 29.769C3.018 31.411 3.018 31.411 2.975 31.871C2.959 32.041 2.93 32.487 3.006 32.975C3.173 34.047 3.173 34.047 3.147 34.218Z" fill="white" class="svelte-cbomfq"></path><path d="M3.079 34.569C2.807 35.564 1.869 35.707 1.507 35.023C1.441 34.899 1.401 34.709 1.39 34.569C1.386 34.529 1.398 34.475 1.398 34.435C1.397 34.363 1.352 34.273 1.333 34.204C1.332 34.201 1.238 33.811 1.375 33.345C1.639 32.441 2.292 31.749 2.703 30.925C2.84 30.652 2.956 30.379 3 29.805C3.006 30.066 3.013 30.326 3.017 30.587C3.029 31.247 2.884 31.899 2.892 32.559C2.897 33.234 3.271 33.875 3.079 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M3.048 34.569C2.816 35.372 2.009 35.749 1.592 35.023C1.323 34.555 1.486 33.693 1.568 33.344C1.673 32.898 1.77 32.724 2.399 31.592C2.698 31.054 2.934 30.629 2.998 29.841C3.004 29.939 3.014 30.58 3.014 30.586C3.022 31.249 2.787 31.886 2.798 32.55C2.809 33.232 3.254 33.86 3.048 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M3.017 34.569C2.789 35.316 2.031 35.683 1.652 35.023C1.34 34.48 1.553 33.805 2.086 32.672C2.094 32.654 2.899 30.932 2.996 29.886C3.006 30.109 3.011 30.582 3.011 30.586C3.015 31.257 2.706 31.878 2.695 32.547C2.692 32.688 2.786 32.971 2.787 32.973C2.843 33.068 3.188 34.01 3.017 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.985 34.569C2.809 35.127 2.34 35.306 2.337 35.307C2.228 35.346 2.058 35.32 1.952 35.273C1.854 35.23 1.754 35.115 1.701 35.023C1.698 35.019 1.464 34.581 1.596 34.139C1.88 33.19 2.398 32.685 2.402 32.684C2.463 32.66 2.569 32.674 2.618 32.718C2.676 32.772 2.656 32.899 2.683 32.973C2.704 33.034 2.756 33.104 2.791 33.159C2.862 33.27 2.978 33.728 2.978 33.732C3.069 34.191 3.021 34.453 2.985 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.998 30.925C2.956 31.441 2.794 31.701 2.792 31.702C2.762 31.732 2.691 31.773 2.657 31.748C2.647 31.741 2.652 31.533 2.7 31.271C2.759 30.953 2.863 30.646 2.931 30.33C2.961 30.188 2.957 30.041 2.995 29.9C3.011 30.776 3.011 30.776 2.998 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.954 34.569C2.815 35.005 2.427 35.235 2.338 35.268C2.23 35.309 2.062 35.269 1.955 35.225C1.876 35.192 1.794 35.097 1.751 35.023L1.616 34.569C1.628 34.208 1.628 34.208 1.789 33.805C1.816 33.737 1.971 33.377 2.319 33.002L2.577 32.958C2.585 32.963 3.183 33.847 2.954 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.922 34.569C2.806 34.936 2.449 35.184 2.34 35.229C2.233 35.272 2.067 35.218 1.958 35.177C1.896 35.154 1.835 35.079 1.802 35.023C1.691 34.837 1.644 34.334 1.72 34.139C1.85 33.805 1.928 33.603 2.132 33.344C2.176 33.289 2.22 33.199 2.279 33.162C2.353 33.115 2.477 33.043 2.558 33.075C2.606 33.095 2.862 33.577 2.899 33.731C2.936 33.885 3.024 34.247 2.922 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.991 30.925C2.949 31.361 2.823 31.52 2.822 31.521C2.794 31.533 2.743 31.511 2.725 31.485C2.688 31.428 2.723 31.327 2.735 31.26C2.749 31.183 2.766 31.08 2.781 31.004C2.825 30.777 2.89 30.556 2.935 30.329C2.962 30.193 2.967 30.054 2.997 29.918C2.995 30.254 3.022 30.59 2.991 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.891 34.569C2.8 34.853 2.432 35.168 2.341 35.19C2.23 35.217 2.071 35.167 1.962 35.129C1.919 35.114 1.886 35.055 1.853 35.023C1.751 34.922 1.748 34.707 1.709 34.569C1.699 34.532 1.753 34.055 1.937 33.732L2.242 33.325C2.316 33.259 2.448 33.158 2.543 33.187C2.595 33.204 2.606 33.297 2.634 33.344C2.667 33.401 2.727 33.466 2.769 33.516C2.815 33.57 2.844 33.663 2.862 33.732C2.919 33.964 2.991 34.252 2.891 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.983 30.925C2.967 31.08 2.967 31.08 2.84 31.407C2.761 31.32 2.761 31.32 2.768 31.26C2.779 31.159 2.791 31.025 2.809 30.925L2.996 29.944C2.991 30.855 2.991 30.855 2.983 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.859 34.569C2.78 34.816 2.39 35.14 2.342 35.151C2.23 35.177 2.047 35.163 1.965 35.083C1.881 35.002 1.806 34.829 1.74 34.569C1.739 34.566 1.734 34.155 1.985 33.732C2.045 33.633 2.128 33.498 2.217 33.425L2.523 33.299C2.525 33.3 2.808 33.688 2.82 33.732C2.898 34.024 2.96 34.256 2.859 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.977 30.925C2.967 31.01 2.967 31.01 2.859 31.294C2.839 31.264 2.8 31.249 2.793 31.21C2.783 31.156 2.803 31.082 2.808 31.027C2.828 30.845 2.995 29.976 2.996 29.968C2.99 30.8 2.99 30.8 2.977 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.828 34.569C2.772 34.744 2.378 35.106 2.345 35.113C2.233 35.137 2.053 35.115 1.97 35.036C1.931 35 1.775 34.572 1.774 34.569C1.773 34.566 1.732 34.23 2.038 33.732C2.08 33.664 2.135 33.566 2.199 33.518C2.282 33.457 2.415 33.356 2.513 33.384C2.515 33.384 2.788 33.745 2.793 33.764C2.876 34.076 2.926 34.264 2.828 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.969 30.925C2.963 30.98 2.919 31.091 2.869 31.22C2.807 31.135 2.807 31.135 2.826 30.949C2.831 30.903 2.993 30.001 2.994 29.994C2.989 30.75 2.989 30.75 2.969 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.797 34.569C2.764 34.673 2.388 35.066 2.347 35.075C2.304 35.084 2.005 35.004 1.975 34.975C1.879 34.883 1.822 34.7 1.806 34.569C1.79 34.439 1.831 34.262 1.874 34.139C1.875 34.136 2.046 33.756 2.179 33.612C2.252 33.532 2.398 33.424 2.503 33.45C2.509 33.451 3.007 33.915 2.797 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.972 30.848C2.966 30.899 2.952 30.969 2.877 31.166C2.825 31.059 2.825 31.059 2.839 30.925C2.844 30.872 2.991 30.026 2.993 30.019C2.989 30.718 2.989 30.718 2.972 30.848Z" fill="white" class="svelte-cbomfq"></path><path d="M2.766 34.569C2.755 34.604 2.352 35.036 2.349 35.036C2.329 35.041 1.999 34.928 1.981 34.91C1.978 34.908 1.726 34.635 1.909 34.139C1.91 34.136 2.135 33.734 2.16 33.707C2.239 33.622 2.382 33.491 2.495 33.516C2.5 33.518 2.969 33.941 2.766 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.977 30.759C2.956 30.923 2.934 30.982 2.885 31.111C2.835 30.965 2.822 30.924 2.991 30.045C2.989 30.652 2.989 30.652 2.977 30.759Z" fill="white" class="svelte-cbomfq"></path><path d="M2.771 34.248C2.758 34.345 2.775 34.484 2.727 34.569C2.643 34.716 2.515 34.952 2.35 34.991C2.236 35.018 2.07 34.928 1.986 34.845C1.768 34.629 1.94 34.144 1.942 34.139C1.986 34.029 2.058 33.881 2.141 33.795C2.168 33.767 2.471 33.579 2.485 33.582C2.526 33.59 2.654 33.82 2.777 34.105C2.794 34.146 2.777 34.206 2.771 34.248Z" fill="white" class="svelte-cbomfq"></path><path d="M2.98 30.669C2.958 30.859 2.949 30.885 2.892 31.055C2.854 30.909 2.837 30.849 2.99 30.07C2.99 30.349 2.989 30.59 2.98 30.669Z" fill="white" class="svelte-cbomfq"></path><path d="M2.688 34.569C2.625 34.705 2.501 34.91 2.354 34.942C2.239 34.967 2.084 34.857 1.994 34.782C1.941 34.737 1.92 34.636 1.905 34.569C1.904 34.565 1.906 34.125 2.126 33.882C2.16 33.843 2.459 33.646 2.478 33.65C2.5 33.655 2.731 34.076 2.746 34.139C2.773 34.267 2.741 34.451 2.688 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.925 30.925C2.919 30.947 2.907 30.978 2.901 30.999C2.869 30.867 2.851 30.795 2.99 30.094C2.989 30.594 2.989 30.684 2.925 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.647 34.569C2.593 34.688 2.485 34.868 2.356 34.893C2.24 34.916 2.094 34.791 2 34.718C1.962 34.688 1.95 34.615 1.937 34.569C1.936 34.566 1.948 34.147 2.109 33.969C2.118 33.959 2.463 33.716 2.467 33.717C2.471 33.718 2.697 34.128 2.699 34.139C2.727 34.267 2.701 34.451 2.647 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.914 30.925C2.912 30.931 2.909 30.939 2.907 30.945C2.881 30.838 2.86 30.754 2.987 30.12C2.988 30.551 2.989 30.653 2.914 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.607 34.569C2.562 34.671 2.469 34.826 2.359 34.845C2.241 34.866 2.105 34.725 2.006 34.655C1.984 34.639 1.979 34.595 1.97 34.569C1.969 34.566 2.003 34.16 2.093 34.058C2.184 33.954 2.324 33.752 2.458 33.782C2.578 33.808 2.633 34.019 2.655 34.139C2.68 34.268 2.66 34.451 2.607 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.914 30.893C2.893 30.708 2.885 30.64 2.986 30.145C2.986 30.575 2.986 30.583 2.914 30.893Z" fill="white" class="svelte-cbomfq"></path><path d="M2.568 34.569C2.531 34.653 2.454 34.782 2.362 34.798C2.36 34.798 2.032 34.636 2.005 34.569C1.954 34.448 2.016 34.251 2.086 34.139C2.161 34.021 2.314 33.818 2.451 33.846C2.55 33.866 2.597 34.04 2.612 34.139C2.633 34.268 2.62 34.45 2.568 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.92 30.843C2.904 30.648 2.899 30.581 2.984 30.169C2.984 30.566 2.976 30.604 2.92 30.843Z" fill="white" class="svelte-cbomfq"></path><path d="M2.528 34.569C2.5 34.635 2.438 34.739 2.366 34.75C2.262 34.766 2.107 34.666 2.066 34.569C2.014 34.448 2.092 34.254 2.158 34.139C2.213 34.044 2.337 33.889 2.444 33.91C2.52 33.926 2.558 34.061 2.568 34.139C2.585 34.269 2.58 34.45 2.528 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.927 30.793C2.923 30.731 2.913 30.648 2.919 30.587C2.919 30.585 2.974 30.233 2.982 30.194C2.982 30.55 2.967 30.616 2.927 30.793Z" fill="white" class="svelte-cbomfq"></path><path d="M2.489 34.569C2.468 34.618 2.423 34.694 2.369 34.702C2.292 34.714 2.178 34.64 2.146 34.569C2.093 34.449 2.174 34.257 2.232 34.139C2.266 34.069 2.359 33.96 2.436 33.975C2.601 34.009 2.492 34.563 2.489 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.933 30.744C2.93 30.696 2.922 30.634 2.927 30.587C2.927 30.584 2.977 30.238 2.982 30.219C2.98 30.491 2.968 30.561 2.933 30.744Z" fill="white" class="svelte-cbomfq"></path><path d="M2.373 34.655C2.322 34.663 2.248 34.615 2.227 34.569C2.172 34.45 2.259 34.261 2.306 34.139C2.323 34.095 2.382 34.032 2.428 34.04C2.497 34.055 2.493 34.093 2.45 34.568C2.447 34.604 2.407 34.65 2.373 34.655Z" fill="white" class="svelte-cbomfq"></path><path d="M2.938 30.694C2.937 30.662 2.931 30.619 2.934 30.587C2.943 30.486 2.968 30.355 2.979 30.255C2.958 30.587 2.958 30.587 2.938 30.694Z" fill="white" class="svelte-cbomfq"></path><path d="M2.376 34.608C2.354 34.612 2.319 34.589 2.31 34.569C2.254 34.451 2.351 34.266 2.382 34.139C2.386 34.124 2.407 34.104 2.422 34.107C2.438 34.11 2.453 34.114 2.412 34.569C2.41 34.585 2.392 34.606 2.376 34.608Z" fill="white" class="svelte-cbomfq"></path><path d="M2.943 30.645C2.94 30.574 2.956 30.48 2.965 30.411C2.961 30.48 2.956 30.575 2.943 30.645Z" fill="white" class="svelte-cbomfq"></path><path d="M2.948 30.594C2.948 30.585 2.95 30.573 2.951 30.564C2.951 30.573 2.95 30.585 2.948 30.594Z" fill="white" class="svelte-cbomfq"></path><path d="M3.328 25.519C3.953 18.581 8.646 10.35 15.516 6.95599C20.704 4.39299 22.516 4.14299 25.954 0.955994" stroke="white" stroke-width="0.3118" stroke-linecap="round" class="svelte-cbomfq"></path></svg></div>');function WP(t){var e=qP();Qe(t,e)}const JP=()=>{const{subscribe:t,set:e,update:r}=un({text:"",x:0,y:0,visible:!1});return{subscribe:t,show(n,l){e({text:l,x:n.clientX,y:n.clientY,visible:!0})},hide(){r(n=>({...n,visible:!1}))}}},eL=JP();var tL=nt('<button class="hover:text-accent pointer-events-auto cursor-pointer p-2 text-left text-base duration-150"><!></button>'),rL=()=>On.set(!0),iL=nt('<button class="hover:text-accent pointer-events-auto cursor-pointer p-2 text-left text-base duration-150"><!></button>'),aL=nt('<div class="bg-main/60 absolute left-0 top-0 z-10 flex w-full gap-2 p-1 pl-4 pr-4 text-base"><ui><!></ui> <div class="h-hull w-[1px] rounded-full bg-gray-400"></div> <ui class="flex w-full justify-between"><li class="flex"><button><!></button> <button><!></button></li> <li class="flex"><button><!></button> <!> <!> <!></li></ui></div>');function nL(t,e){sr(e,!1);const[r,n]=qi(),l=()=>kr(Qs,"$showDataMenu",r),h=()=>kr(Ps,"$isSideMenuType",r),u=()=>{On.set(!1),Qs.set(!l())};GA.subscribe(he=>{On.set(!1)});const s=()=>{h()==="search"?Ps.set(null):Ps.set("search")},v=()=>{h()==="layer"?Ps.set(null):Ps.set("layer")};Jo();var w=aL(),I=Ce(w),M=Ce(I);{var U=he=>{var ue=tL();ue.__click=()=>Ps.set(null);var _e=Ce(ue);_r(_e,{icon:"ep:back",class:"h-8 w-8"}),ve(ue),Qe(he,ue)},C=he=>{var ue=iL();ue.__click=[rL];var _e=Ce(ue);_r(_e,{icon:"ic:round-menu",class:"h-8 w-8"}),ve(ue),Qe(he,ue)};_t(M,he=>{h()?he(U):he(C,!1)})}ve(I);var S=Ue(I,4),k=Ce(S),z=Ce(k);z.__click=s;var Z=Ce(z);_r(Z,{icon:"stash:search-solid",class:"h-8 w-8"}),ve(z);var G=Ue(z,2);G.__click=v;var se=Ce(G);_r(se,{icon:"ic:round-layers",class:"h-8 w-8"}),ve(G),ve(k);var re=Ue(k,2),Ae=Ce(re);Ae.__click=u;var J=Ce(Ae);_r(J,{icon:"material-symbols:data-saver-on-rounded",class:"h-8 w-8"}),ve(Ae);var te=Ue(Ae,2);RP(te,{});var X=Ue(te,2);$P(X,{});var W=Ue(X,2);CP(W,{}),ve(re),ve(S),ve(w),Gt(()=>{Bi(z,1,`hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150 ${(h()==="search"?"text-accent":"")??""}`),Bi(G,1,`hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150 ${(h()==="layer"?"text-accent":"")??""}`),Bi(Ae,1,`hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150 ${(l()?"text-accent":"")??""}`)}),Qe(t,w),or(),n()}fi(["click"]);function sL(t){const e=t-1;return e*e*e+1}function ow(t,{from:e,to:r},n={}){var{delay:l=0,duration:h=J=>Math.sqrt(J)*120,easing:u=sL}=n,s=getComputedStyle(t),v=s.transform==="none"?"":s.transform,[w,I]=s.transformOrigin.split(" ").map(parseFloat);w/=t.clientWidth,I/=t.clientHeight;var M=oL(t),U=t.clientWidth/r.width/M,C=t.clientHeight/r.height/M,S=e.left+e.width*w,k=e.top+e.height*I,z=r.left+r.width*w,Z=r.top+r.height*I,G=(S-z)*U,se=(k-Z)*C,re=e.width/r.width,Ae=e.height/r.height;return{delay:l,duration:typeof h=="function"?h(Math.sqrt(G*G+se*se)):h,easing:u,css:(J,te)=>{var X=te*G,W=te*se,he=J+te*re,ue=J+te*Ae;return`transform: ${v} translate(${X}px, ${W}px) scale(${he}, ${ue});`}}}function oL(t){if("currentCSSZoom"in t)return t.currentCSSZoom;for(var e=t,r=1;e!==null;)r*=+getComputedStyle(e).zoom,e=e.parentElement;return r}var lL=nt('<label class="hover:text-accent flex grow cursor-pointer items-start justify-between gap-2 py-2 transition-colors duration-100"><span class="select-none text-base font-bold"> </span> <input type="checkbox" class="hidden"> <div><div></div></div></label>');function Gl(t,e){sr(e,!0);let r=Qt(e,"value",15);var n=lL(),l=Ce(n),h=Ce(l,!0);ve(l);var u=Ue(l,2);tn(u);var s=Ue(u,2),v=Ce(s);ve(s),ve(n),Gt(()=>{dr(h,e.label),Bi(s,1,`relative flex h-[30px] w-[60px] items-center rounded-full ${(r()?"bg-accent":"bg-gray-400")??""}`),Bi(v,1,`ml-[5px] h-[22px] w-[22px] rounded-full bg-white transition-transform duration-200 ${(r()?"translate-x-[28px]":"")??""}`)}),x4(u,r),Qe(t,n),or()}var AL=nt('<li style="display: flex; align-items: center; margin-bottom: 5px;"><span></span> <span> </span></li>'),cL=nt('<h2 class="text-gray-100"> </h2> <ul class="text-gray-100"></ul>',1),uL=nt("<span> </span>"),hL=nt('<h2 class="text-gray-100"> </h2> <div class="flex w-full flex-col gap-2 text-gray-100"><div class="w-full"><div class="h-[25px] w-full rounded-md"></div></div> <div class="flex w-full justify-between"></div></div>',1),dL=nt("<!> <!>",1),fL=nt('<div class="flex-between flex w-full select-none gap-2 text-gray-100"><div class="h-[20px] w-[20px] flex-none rounded-full"></div> <div class="w-full"></div></div>'),gL=nt('<div class="flex-between flex w-full select-none gap-2 text-gray-100"><div class="h-[20px] w-[20px] flex-none rounded-full"></div> <div class="w-full"> </div></div>'),pL=nt('<div class="flex w-full select-none items-center justify-center gap-2 text-gray-100"><div class="h-[20px] w-[20px] flex-none rounded-full"></div> <div class="w-full"> </div></div>'),mL=nt("<!> <!>",1);function _L(t,e){sr(e,!0);let r=oi(()=>e.layerEntry.style),n=oi(()=>e.layerEntry.type),l=oi(()=>{if(!(!e.layerEntry||e.layerEntry.type!=="vector"))return e.layerEntry.style.colors.expressions.find(M=>M.key===e.layerEntry.style.colors.key)}),h=oi(()=>{if(V(l)&&V(l).type==="step")return hp(V(l).mapping)});var u=mL(),s=kt(u);{var v=M=>{var U=dL(),C=kt(U);{var S=Z=>{var G=cL(),se=kt(G),re=Ce(se,!0);ve(se);var Ae=Ue(se,2);mi(Ae,21,()=>V(r).legend.colors,xa,(J,te,X)=>{var W=AL(),he=Ce(W),ue=Ue(he,2),_e=Ce(ue,!0);ve(ue),ve(W),Gt(()=>{dn(he,`width: 20px; height: 20px; background-color: ${V(te)??""}; margin-right: 10px; display: inline-block;`),dr(_e,V(r).legend.labels[X])}),Qe(J,W)}),ve(Ae),Gt(()=>dr(re,V(r).legend.name)),Qe(Z,G)};_t(C,Z=>{V(r).legend.type==="category"&&Z(S)})}var k=Ue(C,2);{var z=Z=>{var G=hL(),se=kt(G),re=Ce(se,!0);ve(se);var Ae=Ue(se,2),J=Ce(Ae),te=Ce(J);ve(J);var X=Ue(J,2);mi(X,21,()=>V(r).legend.range.slice(),xa,(W,he)=>{var ue=uL(),_e=Ce(ue);ve(ue),Gt(()=>dr(_e,`${V(he)??""} ${V(r).legend.unit??""}`)),Qe(W,ue)}),ve(X),ve(Ae),Gt(()=>{dr(re,V(r).legend.name),dn(te,`background: linear-gradient(90deg, ${V(r).legend.colors[0]??""} 0%, ${V(r).legend.colors[1]??""} 100%);`)}),Qe(Z,G)};_t(k,Z=>{V(r).legend.type==="gradient"&&Z(z)})}Qe(M,U)};_t(s,M=>{V(n)==="raster"&&V(r).type==="categorical"&&M(v)})}var w=Ue(s,2);{var I=M=>{var U=vr(),C=kt(U);{var S=k=>{var z=vr(),Z=kt(z);{var G=re=>{var Ae=fL(),J=Ce(Ae);Vi(2),ve(Ae),Gt(()=>dn(J,`background-color: ${V(l).mapping.value??""};`)),Qe(re,Ae)},se=(re,Ae)=>{{var J=X=>{var W=vr(),he=kt(W);mi(he,17,()=>V(l).mapping.categories,xa,(ue,_e,xe)=>{var He=gL(),Ve=Ce(He),Ke=Ue(Ve,2),ot=Ce(Ke,!0);ve(Ke),ve(He),Gt(()=>{dn(Ve,`background-color: ${V(l).mapping.values[xe]??""};`),dr(ot,V(l).mapping.categories[xe])}),Qe(ue,He)}),Qe(X,W)},te=(X,W)=>{{var he=ue=>{var _e=vr(),xe=kt(_e);{var He=Ve=>{var Ke=vr(),ot=kt(Ke);mi(ot,17,()=>V(h).categories,xa,(it,pt,Ut)=>{var ct=pL(),mt=Ce(ct),De=Ue(mt,2),$e=Ce(De,!0);ve(De),ve(ct),Gt(()=>{dn(mt,`background-color: ${V(h).values[Ut]??""};`),dr($e,V(h).categories[Ut])}),Qe(it,ct)}),Qe(Ve,Ke)};_t(xe,Ve=>{V(h)&&Ve(He)})}Qe(ue,_e)};_t(X,ue=>{V(l).type==="step"&&ue(he)},W)}};_t(re,X=>{V(l).type==="match"?X(J):X(te,!1)},Ae)}};_t(Z,re=>{V(l).type==="single"?re(G):re(se,!1)})}Qe(k,z)};_t(C,k=>{V(n)==="vector"&&k(S)})}Qe(M,U)};_t(w,M=>{V(l)&&M(I)})}Qe(t,u),or()}var bL=nt('<img class="pointer-events-none absolute block h-full w-full rounded-full object-cover" crossOrigin="anonymous">'),yL=nt('<img crossOrigin="anonymous" class="pointer-events-none absolute block h-full w-full rounded-full object-cover">'),vL=nt('<img crossOrigin="anonymous" class="pointer-events-none absolute block h-full w-full rounded-full object-cover">');function lw(t,e){sr(e,!0);const r=async M=>{if(M.type!=="raster")return Promise.resolve(void 0);const U=M.metaData.xyzImageTile?M.metaData.xyzImageTile:Mg;return Promise.resolve(M.format.url.replace("{z}",U.z.toString()).replace("{x}",U.x.toString()).replace("{y}",U.y.toString()))},n=async M=>{try{if(M.type!=="raster"||M.format.type!=="pmtiles")return;const U=M.metaData.xyzImageTile?M.metaData.xyzImageTile:Mg;return await Vx(M.format.url,U)}catch(U){console.error("Error fetching tile image:",U)}},l=async M=>await Promise.resolve(M.metaData.coverImage),h=(()=>{try{if(e.layerEntry.type==="raster"){if(e.layerEntry.format.type==="image")return r(e.layerEntry);if(e.layerEntry.format.type==="pmtiles")return n(e.layerEntry)}else if(e.layerEntry.type==="vector")return l(e.layerEntry)}catch(M){Xe(u,!0),console.error("Error generating icon image:",M)}})();let u=Pt(!1);var s=vr(),v=kt(s);{var w=M=>{var U=vr(),C=kt(U);{var S=z=>{var Z=vr(),G=kt(Z);{var se=Ae=>{var J=vr(),te=kt(J);tg(te,()=>h,null,(X,W)=>{var he=bL();Gt(()=>{xi(he,"alt",e.layerEntry.metaData.name),xi(he,"src",V(W))}),ra("error",he,()=>{Xe(u,!0)}),ny(he),ni(3,he,()=>Rn),Qe(X,he)},X=>{_r(X,{icon:"mdi:raster",class:"pointer-events-none",width:30})}),Qe(Ae,J)},re=(Ae,J)=>{{var te=X=>{var W=vr(),he=kt(W);tg(he,()=>h,null,(ue,_e)=>{var xe=yL();Gt(()=>{xi(xe,"alt",e.layerEntry.metaData.name),xi(xe,"src",V(_e))}),ra("error",xe,()=>{Xe(u,!0)}),ny(xe),ni(3,xe,()=>Rn),Qe(ue,xe)},ue=>{_r(ue,{icon:"mdi:raster",class:"pointer-events-none",width:30})}),Qe(X,W)};_t(Ae,X=>{e.layerEntry.format.type==="pmtiles"&&X(te)},J)}};_t(G,Ae=>{e.layerEntry.format.type==="image"?Ae(se):Ae(re,!1)})}Qe(z,Z)},k=z=>{_r(z,{icon:"mdi:raster",class:"pointer-events-none",width:30})};_t(C,z=>{V(u)?z(k,!1):z(S)})}Qe(M,U)},I=(M,U)=>{{var C=S=>{var k=vr(),z=kt(k);{var Z=se=>{var re=vr(),Ae=kt(re);tg(Ae,()=>h,null,(J,te)=>{var X=vL();Gt(()=>{xi(X,"alt",e.layerEntry.metaData.name),xi(X,"src",V(te))}),ni(3,X,()=>Rn),Qe(J,X)}),Qe(se,re)},G=(se,re)=>{{var Ae=te=>{_r(te,{icon:"ic:baseline-mode-standby",class:"pointer-events-none",width:30})},J=(te,X)=>{{var W=ue=>{_r(ue,{icon:"ic:baseline-polymer",class:"pointer-events-none",width:30})},he=(ue,_e)=>{{var xe=Ve=>{_r(Ve,{icon:"ic:baseline-pentagon",class:"pointer-events-none",width:30})},He=(Ve,Ke)=>{{var ot=it=>{_r(it,{icon:"mynaui:label-solid",class:"pointer-events-none",width:30})};_t(Ve,it=>{e.layerEntry.format.geometryType==="Label"&&it(ot)},Ke)}};_t(ue,Ve=>{e.layerEntry.format.geometryType==="Polygon"?Ve(xe):Ve(He,!1)},_e)}};_t(te,ue=>{e.layerEntry.format.geometryType==="LineString"?ue(W):ue(he,!1)},X)}};_t(se,te=>{e.layerEntry.format.geometryType==="Point"?te(Ae):te(J,!1)},re)}};_t(z,se=>{e.layerEntry.metaData.coverImage?se(Z):se(G,!1)})}Qe(S,k)};_t(M,S=>{e.layerEntry.type==="vector"&&S(C)},U)}};_t(v,M=>{e.layerEntry.type==="raster"?M(w):M(I,!1)})}Qe(t,s),or()}var xL=nt('<div class="flex flex-col gap-2 pb-4 text-base"><input class="css-range svelte-vulzog" type="range"></div>');function wL(t,e){sr(e,!0);let r=Qt(e,"value",15),n=Qt(e,"min",3,0),l=Qt(e,"max",3,1),h=Qt(e,"step",3,.01);var u=xL(),s=Ce(u);tn(s),ve(u),Gt(()=>{xi(s,"min",n()),xi(s,"max",l()),xi(s,"step",h())}),$u(s,r),Qe(t,u),or()}const BL=(t,e)=>{e()&&pi.focusLayer(e())};var CL=(t,e,r)=>e(t,r().id),ML=nt('<div class="pointer-events-none absolute grid h-full w-full place-items-center bg-black/50"></div> <div><!></div>',1),RL=(t,e,r)=>{e(r().id)},IL=nt('<button class="cursor-pointer"><!></button>'),UL=(t,e)=>Xe(e,!1),EL=(t,e)=>Xe(e,!0),FL=nt('<div class="flex pl-[33px]"><div class="w-[2px] items-stretch bg-gray-500"></div> <div class="flex w-full flex-col gap-4 px-2 pt-2"><div class="flex gap-4 text-gray-100"><!> <button class="cursor-pointer"><!></button> <button class="cursor-pointer"><!></button></div> <div class="w-full" role="button" tabindex="0"><!></div> <!></div></div>'),TL=nt('<div role="button" tabindex="0" aria-label=""><button><div class="flex items-center justify-start gap-2"><label class="relative grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center overflow-hidden rounded-full bg-gray-600 text-base"><input type="checkbox" class="hidden"> <!> <!></label> <div class="flex flex-col items-start gap-[2px] overflow-hidden"><span> </span> <span class="text-nowrap text-xs text-gray-400"> </span></div> <label class="relative ml-auto mr-2 grid shrink-0 cursor-pointer place-items-center overflow-hidden rounded-full text-base"><input type="checkbox" class="hidden"> <!></label></div></button> <!></div>');function SL(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(jA,"$isStyleEdit",r),h=()=>kr(Ys,"$selectedLayerId",r);let u=Qt(e,"layerEntry",15),s=Qt(e,"enableFlip",15),v=Qt(e,"dragEnterType",15),w=Pt(!1),I=Pt(!1),M=Pt(!0),U=Pt(!1),C=oi(()=>{if(u()){if(u().type==="raster")return"raster";if(u().type==="vector"){if(u().format.geometryType==="Label")return"label";if(u().format.geometryType==="Point")return"point";if(u().format.geometryType==="LineString")return"line";if(u().format.geometryType==="Polygon")return"polygon"}}});const S=()=>{V(U)||l()||(h()===u().id?Ys.set(""):Ys.set(u().id))},k=lt=>{Xe(w,!V(w)),V(w)&&Ys.set(lt)};Qs.subscribe(lt=>{lt&&Ko(Ys,"")});const z=()=>{Ko(jA,!1),u()&&(zu.remove(u().id),Ys.set(""))},Z=()=>{u()&&(Ys.set(u().id),Ko(jA,!l()))};let G=0,se=0;const re=(lt,Zt)=>{const Rt=document.getElementById(Zt);if(!Rt)return;const Mt=Rt.getBoundingClientRect();G=lt.clientX-Mt.left,se=lt.clientY-Mt.top},Ae=(lt,Zt)=>{if(!lt.dataTransfer)return;lt.dataTransfer.effectAllowed="move";const Rt=document.getElementById(Zt);lt.dataTransfer.setDragImage(Rt,G,se),Xe(I,!0),s(!1),Xe(w,!1),v(V(C)),Ys.set(Zt)},J=lt=>{lt&&h()!==lt&&zu.reorderWithinTypeById(V(C),h(),lt)},te=()=>{Xe(I,!1),s(!0),v(null),ZB.set("idle")};var X=TL();X.__mousedown=[CL,re,u];var W=Ce(X);W.__click=S;var he=Ce(W),ue=Ce(he),_e=Ce(ue);tn(_e);var xe=Ue(_e,2);{var He=lt=>{lw(lt,{get layerEntry(){return u()}})};_t(xe,lt=>{u().style.visible&&lt(He)})}var Ve=Ue(xe,2);{var Ke=lt=>{var Zt=ML(),Rt=kt(Zt),Mt=Ue(Rt,2),Ht=Ce(Mt);_r(Ht,{icon:"akar-icons:eye-slashed",width:30}),ve(Mt),Gt(()=>Bi(Mt,1,`pointer-events-none absolute ${(u().style.visible?"text-red-500":"text-neutral-200")??""}`)),ni(3,Rt,()=>Rn,()=>({duration:100})),ni(3,Mt,()=>Rn,()=>({duration:100})),Qe(lt,Zt)};_t(Ve,lt=>{(V(U)||!u().style.visible)&&lt(Ke)})}ve(ue);var ot=Ue(ue,2),it=Ce(ot),pt=Ce(it,!0);ve(it);var Ut=Ue(it,2),ct=Ce(Ut,!0);ve(Ut),ve(ot);var mt=Ue(ot,2),De=Ce(mt);De.__input=[RL,k,u];var $e=Ue(De,2);const st=oi(()=>V(w)?"-rotate-90":"rotate-90");_r($e,{icon:"weui:arrow-filled",get class(){return`h-8 w-8 text-base transition-transform duration-150 ${V(st)??""}`}}),ve(mt),ve(he),ve(W);var xt=Ue(W,2);{var Et=lt=>{var Zt=FL(),Rt=Ue(Ce(Zt),2),Mt=Ce(Rt),Ht=Ce(Mt);{var ur=ei=>{var Yr=IL();Yr.__click=[BL,u];var wt=Ce(Yr);_r(wt,{icon:"hugeicons:target-03",class:"h-8 w-8"}),ve(Yr),Qe(ei,Yr)};_t(Ht,ei=>{u().metaData.location!==""&&u().metaData.location!==""&&ei(ur)})}var St=Ue(Ht,2);St.__click=Z;var Ot=Ce(St);_r(Ot,{icon:"mdi:mixer-settings",class:"ml-4 h-8 w-8"}),ve(St);var Jt=Ue(St,2);Jt.__click=z;var fr=Ce(Jt);_r(fr,{icon:"bx:trash",class:"h-8 w-8"}),ve(Jt),ve(Mt);var jt=Ue(Mt,2);jt.__mousedown=[UL,M],jt.__mouseup=[EL,M];var Br=Ce(jt);wL(Br,{min:0,max:1,step:.01,get value(){return u().style.opacity},set value(ei){u(u().style.opacity=ei,!0)}}),ve(jt);var Hr=Ue(jt,2);_L(Hr,{get layerEntry(){return u()}}),ve(Rt),ve(Zt),ni(3,Zt,()=>C4,()=>({duration:200})),Qe(lt,Zt)};_t(xt,lt=>{V(w)&&lt(Et)})}ve(X),Gt(()=>{Bi(X,1,`relative flex flex-col transition-opacity ${(v()!==null&&v()!==V(C)?"opacity-50":"")??""} ${(V(I)?"c-dragging-style":"")??""}`),xi(X,"draggable",V(M)),xi(W,"id",u().id),Bi(W,1,`bg-sub c-dragging-style c-rounded border-base relative z-10 cursor-move select-none flex-col overflow-clip text-clip text-nowrap border-2 p-2 text-left transition-colors duration-100 ${(h()===u().id?"css-gradient":" hover:border-accent")??""}`,"svelte-cwcrkw"),Bi(it,1,`text-nowrap text-base ${h()===u().id,""}`),dr(pt,u().metaData.name),dr(ct,u().metaData.location??"---")}),ra("dragstart",X,lt=>Ae(lt,u().id)),ra("dragenter",X,()=>J(u().id)),ra("dragover",X,lt=>lt.preventDefault()),ra("dragend",X,te),ra("mouseenter",ue,()=>Xe(U,!0)),ra("mouseleave",ue,()=>Xe(U,!1)),x4(_e,()=>u().style.visible,lt=>u(u().style.visible=lt,!0)),Qe(t,X),or(),n()}fi(["mousedown","click","input","mouseup"]);var NL=nt('<div class="mb-1 mt-4 flex items-center gap-2 border-t p-2 text-base"><!> <span> </span></div>'),YL=nt("<div><!> <!></div>"),PL=nt('<button class="c-btn-confirm pointer-events-auto flex shrink items-center justify-center gap-2"><!><span></span></button>'),LL=nt('<div class="c-fog pointer-events-none absolute bottom-0 z-10 flex h-[100px] w-full items-end justify-center pb-4 svelte-acdvpo"><!></div>'),kL=nt('<div class="bg-main w-side-menu absolute z-10 flex h-full flex-col gap-2 pt-[70px]"><div class="c-scroll-hidden flex grow flex-col gap-2 overflow-y-auto overflow-x-hidden px-2 pb-4"><!> <!> <div class="h-[200px] w-full shrink-0"></div></div> <!></div>');function QL(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(Ps,"$isSideMenuType",r),h=()=>kr(w0,"$showLabelLayer",r),u=()=>kr(OB,"$typeBreakIndices",r),s=()=>kr(jA,"$isStyleEdit",r),v=()=>kr(Qs,"$showDataMenu",r);let w=Qt(e,"layerEntries",15),I=Qt(e,"tempLayerEntries",15),M=Pt(void 0),U=Pt(!0),C=Pt(null);const S={label:"",point:"",line:"",polygon:"",raster:""},k={label:"mynaui:label-solid",point:"ic:baseline-mode-standby",line:"ic:baseline-polymer",polygon:"ic:baseline-pentagon",raster:"mdi:raster"};Ys.subscribe(se=>{if(se)Xe(M,w().find(re=>re.id===se),!0);else{Xe(M,void 0);return}}),ua(()=>{});var z=vr(),Z=kt(z);{var G=se=>{var re=kL(),Ae=Ce(re),J=Ce(Ae);Gl(J,{label:"",get value(){return _5(),h()},set value(he){Ko(w0,he)}});var te=Ue(J,2);mi(te,27,w,he=>he.id,(he,ue,_e,xe)=>{var He=YL(),Ve=Ce(He);{var Ke=it=>{var pt=NL(),Ut=Ce(pt);_r(Ut,{get icon(){return k[u()[V(_e)]]},class:"pointer-events-none",width:20});var ct=Ue(Ut,2),mt=Ce(ct,!0);ve(ct),ve(pt),Gt(()=>dr(mt,S[u()[V(_e)]])),Qe(it,pt)};_t(Ve,it=>{u()[V(_e)]&&it(Ke)})}var ot=Ue(Ve,2);SL(ot,{get layerEntry(){return w()[V(_e)]},set layerEntry(it){w(w()[V(_e)]=it,!0)},get tempLayerEntries(){return I()},set tempLayerEntries(it){I(it)},get enableFlip(){return V(U)},set enableFlip(it){Xe(U,it,!0)},get dragEnterType(){return V(C)},set dragEnterType(it){Xe(C,it,!0)}}),ve(He),F5(He,()=>ow,()=>({duration:V(U)?200:0})),Qe(he,He)}),Vi(2),ve(Ae);var X=Ue(Ae,2);{var W=he=>{var ue=LL(),_e=Ce(ue);{var xe=He=>{var Ve=PL();Ve.__click=()=>Qs.set(!0);var Ke=Ce(Ve);_r(Ke,{icon:"material-symbols:data-saver-on-rounded",class:"h-8 w-8"}),Vi(),ve(Ve),Qe(He,Ve)};_t(_e,He=>{!V(C)&&!v()&&He(xe)})}ve(ue),Qe(he,ue)};_t(X,he=>{s()||he(W)})}ve(re),ni(3,re,()=>In,()=>({duration:300,x:-100,opacity:0})),Qe(se,re)};_t(Z,se=>{l()==="layer"&&se(G)})}Qe(t,z),or(),n()}fi(["click"]);var DL=nt('<div class="flex flex-col gap-2 pb-4 text-base"><span class="select-none"> </span> <input class="css-range svelte-vulzog" type="range"></div>');function ta(t,e){sr(e,!0);let r=Qt(e,"value",15),n=Qt(e,"min",3,0),l=Qt(e,"max",3,1),h=Qt(e,"step",3,.01);var u=DL(),s=Ce(u),v=Ce(s);ve(s);var w=Ue(s,2);tn(w),ve(u),Gt(I=>{dr(v,`${(e.label?`${e.label}: `:"")??""}${I??""}`),xi(w,"min",n()),xi(w,"max",l()),xi(w,"step",h())},[()=>r().toFixed(2)]),$u(w,r),Qe(t,u),or()}const zL=["jet","hsv","hot","spring","summer","autumn","winter","bone","copper","greys","yignbu","greens","yiorrd","bluered","rdbu","picnic","rainbow","portland","blackbody","earth","electric","viridis","inferno","magma","plasma","warm","cool","rainbow-soft","bathymetry","cdom","chlorophyll","density","freesurface-blue","freesurface-red","oxygen","par","phase","salinity","temperature","turbidity","velocity-blue","velocity-green","cubehelix"];var ZL=(t,e)=>Xe(e,!V(e)),OL=(t,e)=>Xe(e,!1),HL=nt('<label><input type="radio" class="hidden"> <div class="flex items-center gap-2"><!> <span class="select-none"> </span></div></label>'),XL=nt('<div class="absolute left-0 top-[60px] z-10 w-full divide-y divide-gray-300 overflow-hidden rounded-lg bg-white shadow-md"></div>'),VL=nt('<h2 class="text-base"></h2> <div class="relative py-2"><button class="c-select flex w-full justify-between"><div class="flex items-center gap-2"><!> <span> </span></div> <!></button> <!></div>',1);function GL(t,e){sr(e,!0);const r=[];let n=Qt(e,"isColorMap",15),l=wi([...zL]),h=Pt(!1);var u=VL(),s=Ue(kt(u),2),v=Ce(s);v.__click=[ZL,h];var w=Ce(v),I=Ce(w);_r(I,{icon:"bxs:color-fill",width:20});var M=Ue(I,2),U=Ce(M,!0);ve(M),ve(w);var C=Ue(w,2);_r(C,{icon:"bi:chevron-down",class:"h-6 w-6"}),ve(v);var S=Ue(v,2);{var k=z=>{var Z=XL();mi(Z,20,()=>l,G=>G,(G,se)=>{var re=HL(),Ae=Ce(re);tn(Ae);var J;Ae.__change=[OL,h];var te=Ue(Ae,2),X=Ce(te);_r(X,{icon:"bxs:color-fill",width:20});var W=Ue(X,2),he=Ce(W,!0);ve(W),ve(te),ve(re),Gt(()=>{Bi(re,1,`hover:text-accent bg-sub z-20 flex w-full cursor-pointer items-center justify-between gap-2 p-2 text-white transition-colors duration-100 ${(n()===se?"bg-accent":"")??""}`),J!==(J=se)&&(Ae.value=(Ae.__value=se)==null?"":se),dr(he,se)}),tc(r,[],Ae,()=>n(),n),Qe(G,re)}),ve(Z),ni(3,Z,()=>In,()=>({duration:200,y:-20})),Qe(z,Z)};_t(S,z=>{V(h)&&z(k)})}ve(s),Gt(()=>dr(U,n())),Qe(t,u),or()}fi(["click","change"]);var jL=(t,e)=>Xe(e,!V(e)),KL=(t,e)=>Xe(e,!1),$L=nt('<label><input type="radio" class="hidden"> <div class="flex items-center gap-2"><!> <span class="select-none"> </span></div></label>'),qL=nt('<div class="absolute left-0 top-[60px] z-10 w-full divide-y divide-gray-300 overflow-hidden rounded-lg bg-white shadow-md"></div>'),WL=nt('<h2 class="text-base"></h2> <div class="relative py-2"><button class="c-select flex w-full justify-between"><div class="flex items-center gap-2"><!> <span> </span></div> <!></button> <!></div>',1);function JL(t,e){sr(e,!0);const r=[];let n=Qt(e,"isMode",15),l=wi([{key:"evolution",name:""},{key:"default",name:""}]),h=Pt(!1);var u=WL(),s=Ue(kt(u),2),v=Ce(s);v.__click=[jL,h];var w=Ce(v),I=Ce(w);_r(I,{icon:"ic:round-terrain",width:20});var M=Ue(I,2),U=Ce(M,!0);ve(M),ve(w);var C=Ue(w,2);_r(C,{icon:"bi:chevron-down",class:"h-6 w-6"}),ve(v);var S=Ue(v,2);{var k=z=>{var Z=qL();mi(Z,21,()=>l,({key:G,name:se})=>G,(G,se)=>{let re=()=>V(se).key,Ae=()=>V(se).name;var J=$L(),te=Ce(J);tn(te);var X;te.__change=[KL,h];var W=Ue(te,2),he=Ce(W);_r(he,{icon:"ic:round-terrain",width:20});var ue=Ue(he,2),_e=Ce(ue,!0);ve(ue),ve(W),ve(J),Gt(()=>{Bi(J,1,`hover:text-accent bg-sub z-20 flex w-full cursor-pointer items-center justify-between gap-2 p-2 text-white transition-colors duration-100 ${(n()===re()?"bg-accent":"")??""}`),X!==(X=re())&&(te.value=(te.__value=re())==null?"":re()),dr(_e,Ae())}),tc(r,[],te,()=>(re(),n()),n),Qe(G,J)}),ve(Z),ni(3,Z,()=>In,()=>({duration:200,y:-20})),Qe(z,Z)};_t(S,z=>{V(h)&&z(k)})}ve(s),Gt(z=>dr(U,z),[()=>{var z;return(z=l.find(Z=>Z.key===n()))==null?void 0:z.name}]),Qe(t,u),or()}fi(["click","change"]);var ek=nt("<!> <!> <!>",1),tk=nt("<!> <!> <!>",1);function rk(t,e){sr(e,!0);let r=Qt(e,"style",15);var n=tk(),l=kt(n);ta(l,{label:"",min:0,max:1,step:.01,get value(){return r().opacity},set value(v){r(r().opacity=v,!0)}});var h=Ue(l,2);JL(h,{get isMode(){return r().visualization.mode},set isMode(v){r(r().visualization.mode=v,!0)}});var u=Ue(h,2);{var s=v=>{var w=ek(),I=kt(w);GL(I,{get isColorMap(){return r().visualization.uniformsData.evolution.colorMap},set isColorMap(C){r(r().visualization.uniformsData.evolution.colorMap=C,!0)}});var M=Ue(I,2);ta(M,{label:"",max:5e3,min:0,step:.01,get value(){return r().visualization.uniformsData.evolution.max},set value(C){r(r().visualization.uniformsData.evolution.max=C,!0)}});var U=Ue(M,2);ta(U,{label:"",max:5e3,min:0,step:.01,get value(){return r().visualization.uniformsData.evolution.min},set value(C){r(r().visualization.uniformsData.evolution.min=C,!0)}}),Qe(v,w)};_t(u,v=>{r().visualization.mode==="evolution"&&v(s)})}Qe(t,n),or()}var ik=nt("<!> <!> <!> <!> <!> <!>",1),ak=nt('<li style="display: flex; align-items: center; margin-bottom: 5px;"><span></span> <span> </span></li>'),nk=nt('<h2 class="text-base"> </h2> <ul class="text-base"></ul>',1),sk=nt("<span> </span>"),ok=nt('<h2 class="text-base"> </h2> <div class="flex h-[200px] gap-2 text-base"><div class="h-full py-[10px]"><div class="h-full w-[30px]"></div></div> <div class="flex flex-col justify-between text-base"></div></div>',1),lk=nt('<!> <h1 class="text-base"></h1> <!>',1);function Ak(t,e){sr(e,!0);let r=oi(()=>e.layerEntry.style);ua(()=>{});var n=vr(),l=kt(n);{var h=u=>{var s=vr(),v=kt(s);{var w=M=>{var U=ik(),C=kt(U);ta(C,{label:"",min:0,max:1,step:.01,get value(){return V(r).opacity},set value(se){V(r).opacity=se}});var S=Ue(C,2);ta(S,{label:"-",min:0,max:1,step:.01,get value(){return V(r).brightnessMin},set value(se){V(r).brightnessMin=se}});var k=Ue(S,2);ta(k,{label:"-",min:0,max:1,step:.01,get value(){return V(r).brightnessMax},set value(se){V(r).brightnessMax=se}});var z=Ue(k,2);ta(z,{label:"",min:-1,max:1,step:.01,get value(){return V(r).contrast},set value(se){V(r).contrast=se}});var Z=Ue(z,2);ta(Z,{label:"",min:-360,max:360,step:.1,get value(){return V(r).hueRotate},set value(se){V(r).hueRotate=se}});var G=Ue(Z,2);ta(G,{label:"",min:-1,max:1,step:.01,get value(){return V(r).saturation},set value(se){V(r).saturation=se}}),Qe(M,U)},I=(M,U)=>{{var C=k=>{var z=lk(),Z=kt(z);ta(Z,{label:"",min:0,max:1,step:.01,get value(){return V(r).opacity},set value(Ae){V(r).opacity=Ae}});var G=Ue(Z,4);{var se=Ae=>{var J=nk(),te=kt(J),X=Ce(te,!0);ve(te);var W=Ue(te,2);mi(W,21,()=>V(r).legend.colors,xa,(he,ue,_e)=>{var xe=ak(),He=Ce(xe),Ve=Ue(He,2),Ke=Ce(Ve,!0);ve(Ve),ve(xe),Gt(()=>{dn(He,`width: 20px; height: 20px; background-color: ${V(ue)??""}; margin-right: 10px; display: inline-block;`),dr(Ke,V(r).legend.labels[_e])}),Qe(he,xe)}),ve(W),Gt(()=>dr(X,V(r).legend.name)),Qe(Ae,J)},re=(Ae,J)=>{{var te=X=>{var W=ok(),he=kt(W),ue=Ce(he,!0);ve(he);var _e=Ue(he,2),xe=Ce(_e),He=Ce(xe);ve(xe);var Ve=Ue(xe,2);mi(Ve,21,()=>V(r).legend.range.slice().reverse(),xa,(Ke,ot)=>{var it=sk(),pt=Ce(it);ve(it),Gt(()=>dr(pt,`${V(ot)??""} ${V(r).legend.unit??""}`)),Qe(Ke,it)}),ve(Ve),ve(_e),Gt(()=>{dr(ue,V(r).legend.name),dn(He,`background: linear-gradient(0deg, ${V(r).legend.colors[0]??""} 0%, ${V(r).legend.colors[1]??""} 100%);`)}),Qe(X,W)};_t(Ae,X=>{V(r).legend.type==="gradient"&&X(te)},J)}};_t(G,Ae=>{V(r).legend.type==="category"?Ae(se):Ae(re,!1)})}Qe(k,z)},S=(k,z)=>{{var Z=G=>{rk(G,{get style(){return V(r)},set style(se){Xe(r,se,!0)}})};_t(k,G=>{V(r).type==="dem"&&G(Z)},z)}};_t(M,k=>{V(r).type==="categorical"?k(C):k(S,!1)},U)}};_t(v,M=>{V(r).type==="basemap"?M(w):M(I,!1)})}Qe(u,s)};_t(l,u=>{e.layerEntry&&e.layerEntry.type==="raster"&&V(r)&&u(h)})}Qe(t,n),or()}var ck=nt("<div><!></div>"),uk=nt('<label class="hover:text-accent flex grow cursor-pointer items-center justify-start gap-2 pb-2 pt-4 transition-colors duration-100"><!> <span class="select-none text-base font-bold"> </span> <input type="checkbox" class="hidden"></label> <!> <div class="mt-2 h-[1px] w-full bg-gray-500"></div>',1);function jl(t,e){sr(e,!0);let r=Qt(e,"value",15);var n=uk(),l=kt(n),h=Ce(l);const u=oi(()=>r()?"rotate-90":"rotate-0");_r(h,{icon:"weui:arrow-filled",get class(){return`h-6 w-6 text-base transition-transform duration-150 ${V(u)??""}`}});var s=Ue(h,2),v=Ce(s,!0);ve(s);var w=Ue(s,2);tn(w),ve(l);var I=Ue(l,2);{var M=U=>{var C=ck(),S=Ce(C);HB(S,()=>e.children),ve(C),ni(3,C,()=>C4,()=>({duration:250})),Qe(U,C)};_t(I,U=>{r()&&U(M)})}Vi(2),Gt(()=>dr(v,e.label)),x4(w,r),Qe(t,n),or()}var hk=nt('<span class="select-none text-base"> </span>'),dk=nt('<label class="hover:text-accent flex cursor-pointer items-center justify-between transition-colors duration-100"><!> <div class="grid h-[30px] w-[30px] place-items-center rounded-full"><input type="color" class="custom-color invisible"></div></label>');function f0(t,e){let r=Qt(e,"label",8,null),n=Qt(e,"value",12);var l=dk(),h=Ce(l);{var u=w=>{var I=hk(),M=Ce(I,!0);ve(I),Gt(()=>dr(M,r())),Qe(w,I)};_t(h,w=>{r()&&w(u)})}var s=Ue(h,2),v=Ce(s);tn(v),ve(s),ve(l),Gt(()=>dn(s,`background-color: ${n()??""}`)),$u(v,n),Qe(t,l)}var fk=(t,e)=>Xe(e,!V(e)),gk=(t,e)=>Xe(e,!1),pk=nt('<label><input type="radio" class="hidden"> <div class="flex items-center gap-2"><!> <span class="select-none"> </span></div></label>'),mk=nt('<div class="absolute left-0 top-[60px] z-10 w-full divide-y divide-gray-300 overflow-hidden rounded-lg bg-white shadow-md"></div>'),_k=nt('<div class="relative py-2"><button class="c-select flex w-full justify-between"><div class="flex items-center gap-2"><!> <span> </span></div> <!></button> <!></div>');function Aw(t,e){sr(e,!0);const r=[];let n=Qt(e,"labels",15),l=Pt(!1),h=oi(()=>{const I=n().expressions.find(M=>M.key===n().key);if(I)return I}),u=oi(()=>n().expressions);var s=vr(),v=kt(s);{var w=I=>{var M=_k(),U=Ce(M);U.__click=[fk,l];var C=Ce(U),S=Ce(C);_r(S,{icon:"ci:font",width:20});var k=Ue(S,2),z=Ce(k,!0);ve(k),ve(C);var Z=Ue(C,2);_r(Z,{icon:"bi:chevron-down",class:"h-6 w-6"}),ve(U);var G=Ue(U,2);{var se=re=>{var Ae=mk();mi(Ae,21,()=>V(u),J=>J.key,(J,te)=>{var X=pk(),W=Ce(X);tn(W);var he;W.__change=[gk,l];var ue=Ue(W,2),_e=Ce(ue);_r(_e,{icon:"ci:font",width:20});var xe=Ue(_e,2),He=Ce(xe,!0);ve(xe),ve(ue),ve(X),Gt(()=>{Bi(X,1,`hover:text-accent bg-sub z-20 flex w-full cursor-pointer items-center justify-between gap-2 p-2 text-white transition-colors duration-100 ${(V(te).key===n().key?"bg-accent":"")??""}`),he!==(he=V(te).key)&&(W.value=(W.__value=V(te).key)==null?"":V(te).key),dr(He,V(te).name)}),tc(r,[],W,()=>(V(te).key,n().key),Ve=>n(n().key=Ve,!0)),Qe(J,X)}),ve(Ae),ni(3,Ae,()=>In,()=>({duration:200,y:-20})),Qe(re,Ae)};_t(G,re=>{V(l)&&re(se)})}ve(M),Gt(re=>dr(z,re),[()=>{var re;return(re=V(u).find(Ae=>Ae.key===V(h).key))==null?void 0:re.name}]),Qe(I,M)};_t(v,I=>{V(h)&&I(w)})}Qe(t,s),or()}fi(["click","change"]);var bk=nt("<span></span> <!>",1),yk=nt('<div class="flex-between flex w-full select-none gap-2"><div class="w-full"> </div> <div class="p-2"></div></div>'),vk=nt('<div class="flex-between flex w-full gap-2"></div> <!> <!>',1);function xk(t,e){sr(e,!0);let r=Qt(e,"setExpression",15),n=oi(()=>{if(r()&&r().type==="step")return hp(r().mapping)});var l=vr(),h=kt(l);{var u=v=>{f0(v,{label:"",get value(){return r().mapping.value},set value(w){r(r().mapping.value=w,!0)}})},s=(v,w)=>{{var I=U=>{var C=vr(),S=kt(C);mi(S,17,()=>r().mapping.categories,xa,(k,z,Z)=>{f0(k,{get label(){return r().mapping.categories[Z]},get value(){return r().mapping.values[Z]},set value(G){r(r().mapping.values[Z]=G,!0)}})}),Qe(U,C)},M=(U,C)=>{{var S=k=>{var z=vk(),Z=kt(z);mi(Z,21,()=>r().mapping.values,xa,(Ae,J,te)=>{var X=bk(),W=kt(X);W.textContent=te===0?"":"";var he=Ue(W,2);f0(he,{get value(){return r().mapping.values[te]},set value(ue){r(r().mapping.values[te]=ue,!0)}}),Qe(Ae,X)}),ve(Z);var G=Ue(Z,2);ta(G,{label:"",min:2,max:10,step:1,get value(){return r().mapping.divisions},set value(Ae){r(r().mapping.divisions=Ae,!0)}});var se=Ue(G,2);{var re=Ae=>{var J=vr(),te=kt(J);mi(te,17,()=>V(n).categories,xa,(X,W,he)=>{var ue=yk(),_e=Ce(ue),xe=Ce(_e,!0);ve(_e);var He=Ue(_e,2);ve(ue),Gt(()=>{dr(xe,V(n).categories[he]),dn(He,`background-color: ${V(n).values[he]??""};`)}),Qe(X,ue)}),Qe(Ae,J)};_t(se,Ae=>{V(n)&&Ae(re)})}Qe(k,z)};_t(U,k=>{r().type==="step"&&k(S)},C)}};_t(v,U=>{r().type==="match"?U(I):U(M,!1)},w)}};_t(h,v=>{r().type==="single"?v(u):v(s,!1)})}Qe(t,l),or()}const wk=t=>{const{range:e,divisions:r,values:n}=t;if(console.log(e,r,n),r<=0)throw new Error("divisions must be greater than 0");const[l,h]=e,u=(h-l)/r;return{categories:Array.from({length:r},(v,w)=>l+u*w),values:n}};var Bk=nt('<div class="flex w-full select-none flex-col gap-2"><div><span> </span></div> <!></div>'),Ck=nt("<span></span> <!>",1),Mk=nt('<div class="flex-between flex w-full select-none gap-2"><div class="w-full"> </div> <div class="p-2"> </div></div>'),Rk=nt('<div class="flex-between flex w-full gap-2"></div> <!> <!> ',1),Ik=nt("<!> <!> <!> <!>",1);function Uk(t,e){sr(e,!0);let r=Qt(e,"setExpression",15),n=oi(()=>{if(r()&&r().type==="step")return wk(r().mapping)});var l=vr(),h=kt(l);{var u=s=>{var v=Ik(),w=kt(v);{var I=Z=>{ta(Z,{label:"",min:1,max:30,step:.01,get value(){return r().mapping.value},set value(G){r(r().mapping.value=G,!0)}})};_t(w,Z=>{r().type==="single"&&Z(I)})}var M=Ue(w,2);{var U=Z=>{var G=vr(),se=kt(G);mi(se,17,()=>r().mapping.categories,xa,(re,Ae,J)=>{ta(re,{label:"",min:2,max:10,step:1,get value(){return r().mapping.values[J]},set value(te){r(r().mapping.values[J]=te,!0)}})}),Qe(Z,G)};_t(M,Z=>{r().type==="match"&&Z(U)})}var C=Ue(M,2);{var S=Z=>{var G=vr(),se=kt(G);mi(se,17,()=>r().mapping.range,xa,(re,Ae,J)=>{var te=Bk(),X=Ce(te),W=Ce(X),he=Ce(W);ve(W),ve(X);var ue=Ue(X,2);ta(ue,{label:"",min:0,max:30,step:.01,get value(){return r().mapping.values[J]},set value(_e){r(r().mapping.values[J]=_e,!0)}}),ve(te),Gt(()=>dr(he,`${(J===0?"":"")??""}: ${r().mapping.range[J]??""}`)),Qe(re,te)}),Qe(Z,G)};_t(C,Z=>{r().type==="linear"&&Z(S)})}var k=Ue(C,2);{var z=Z=>{var G=Rk(),se=kt(G);mi(se,21,()=>r().mapping.values,xa,(X,W,he)=>{var ue=Ck(),_e=kt(ue);_e.textContent=he===0?"":"";var xe=Ue(_e,2);ta(xe,{label:"",min:0,max:30,step:.01,get value(){return r().mapping.values[he]},set value(He){r(r().mapping.values[he]=He,!0)}}),Qe(X,ue)}),ve(se);var re=Ue(se,2);ta(re,{label:"",min:2,max:10,step:1,get value(){return r().mapping.divisions},set value(X){r(r().mapping.divisions=X,!0)}});var Ae=Ue(re,2);{var J=X=>{var W=vr(),he=kt(W);mi(he,17,()=>V(n).categories,xa,(ue,_e,xe)=>{var He=Mk(),Ve=Ce(He),Ke=Ce(Ve,!0);ve(Ve);var ot=Ue(Ve,2),it=Ce(ot,!0);ve(ot),ve(He),Gt(()=>{dr(Ke,V(n).categories[xe]),dr(it,V(n).values[xe])}),Qe(ue,He)}),Qe(X,W)};_t(Ae,X=>{V(n)&&X(J)})}var te=Ue(Ae);Gt(X=>dr(te,` ${X??""}`),[()=>JSON.stringify(V(n))]),Qe(Z,G)};_t(k,Z=>{r().type==="step"&&Z(z)})}Qe(s,v)};_t(h,s=>{r()&&s(u)})}Qe(t,l),or()}var Ek=(t,e)=>Xe(e,!V(e)),Fk=(t,e)=>Xe(e,!1),Tk=nt('<label><input type="radio" class="hidden"> <div class="flex items-center gap-2"><!> <span class="select-none"> </span></div></label>'),Sk=nt('<div class="absolute left-0 top-[60px] z-10 w-full divide-y divide-gray-300 overflow-hidden rounded-lg bg-white shadow-md"></div>'),Nk=nt('<div class="relative py-2"><button class="c-select flex w-full justify-between"><div class="flex items-center gap-2"><!> <span> </span></div> <!></button> <!></div> <div class="flex grow flex-col gap-2 overflow-y-auto overflow-x-hidden pt-2"><!> <!></div>',1);function cw(t,e){sr(e,!0);const r=[];let n=Qt(e,"style",15),l=Pt(!1),h=oi(()=>{const I=n().expressions.find(M=>M.key===n().key);if(I)return I}),u=oi(()=>n().expressions);var s=vr(),v=kt(s);{var w=I=>{var M=Nk(),U=kt(M),C=Ce(U);C.__click=[Ek,l];var S=Ce(C),k=Ce(S);const z=oi(()=>Ay(V(h).type,e.expressionType));_r(k,{get icon(){return V(z)},width:20});var Z=Ue(k,2),G=Ce(Z,!0);ve(Z),ve(S);var se=Ue(S,2);_r(se,{icon:"bi:chevron-down",class:"h-6 w-6"}),ve(C);var re=Ue(C,2);{var Ae=ue=>{var _e=Sk();mi(_e,21,()=>V(u),xe=>xe.key,(xe,He)=>{var Ve=Tk(),Ke=Ce(Ve);tn(Ke);var ot;Ke.__change=[Fk,l];var it=Ue(Ke,2),pt=Ce(it);const Ut=oi(()=>Ay(V(He).type,e.expressionType));_r(pt,{get icon(){return V(Ut)},width:20});var ct=Ue(pt,2),mt=Ce(ct,!0);ve(ct),ve(it),ve(Ve),Gt(()=>{Bi(Ve,1,`hover:text-accent bg-sub z-20 flex w-full cursor-pointer items-center justify-between gap-2 p-2 text-white transition-colors duration-100 ${(V(He).key===n().key?"bg-accent":"")??""}`),ot!==(ot=V(He).key)&&(Ke.value=(Ke.__value=V(He).key)==null?"":V(He).key),dr(mt,V(He).name)}),tc(r,[],Ke,()=>(V(He).key,n().key),De=>n(n().key=De,!0)),Qe(xe,Ve)}),ve(_e),ni(3,_e,()=>In,()=>({duration:200,y:-20})),Qe(ue,_e)};_t(re,ue=>{V(l)&&ue(Ae)})}ve(U);var J=Ue(U,2),te=Ce(J);{var X=ue=>{xk(ue,{get setExpression(){return V(h)}})};_t(te,ue=>{e.expressionType==="color"&&ue(X)})}var W=Ue(te,2);{var he=ue=>{Uk(ue,{get setExpression(){return V(h)}})};_t(W,ue=>{e.expressionType==="number"&&ue(he)})}ve(J),Gt(ue=>dr(G,ue),[()=>{var ue;return(ue=V(u).find(_e=>_e.key===n().key))==null?void 0:ue.name}]),Qe(I,M)};_t(v,I=>{V(h)&&I(w)})}Qe(t,s),or()}fi(["click","change"]);var Yk=nt("<!> <!>",1);function r_(t,e){sr(e,!0);let r=Qt(e,"colorStyle",15),n=Pt(!1);jl(t,{label:"",get value(){return V(n)},set value(l){Xe(n,l,!0)},children:(l,h)=>{var u=Yk(),s=kt(u);Gl(s,{label:"",get value(){return r().show},set value(w){r(r().show=w,!0)}});var v=Ue(s,2);cw(v,{expressionType:"color",get style(){return r()},set style(w){r(w)}}),Qe(l,u)},$$slots:{default:!0}}),or()}var Pk=nt("<!> <!>",1);function Lk(t,e){sr(e,!0);let r=Qt(e,"layerEntry",15),n=Pt(!1);jl(t,{label:"",get value(){return V(n)},set value(l){Xe(n,l,!0)},children:(l,h)=>{var u=Pk(),s=kt(u);Gl(s,{label:"",get value(){return r().style.labels.show},set value(w){r(r().style.labels.show=w,!0)}});var v=Ue(s,2);Aw(v,{get labels(){return r().style.labels},set labels(w){r(r().style.labels=w,!0)}}),Qe(l,u)},$$slots:{default:!0}}),or()}function uw(t,e){sr(e,!0);let r=Qt(e,"numberStyle",15),n=Pt(!1);jl(t,{get label(){return e.label},get value(){return V(n)},set value(l){Xe(n,l,!0)},children:(l,h)=>{cw(l,{expressionType:"number",get style(){return r()},set style(u){r(u)}})},$$slots:{default:!0}}),or()}var kk=nt("<!> <!> <!> <!>",1);function Qk(t,e){sr(e,!0);let r=Qt(e,"layerEntry",15),n=Pt(!1);var l=kk(),h=kt(l);ta(h,{label:"",min:0,max:1,step:.01,get value(){return r().style.opacity},set value(w){r(r().style.opacity=w,!0)}});var u=Ue(h,2);r_(u,{get colorStyle(){return r().style.colors},set colorStyle(w){r(r().style.colors=w,!0)}});var s=Ue(u,2);uw(s,{label:"",get numberStyle(){return r().style.width},set numberStyle(w){r(r().style.width=w,!0)}});var v=Ue(s,2);jl(v,{label:"",get value(){return V(n)},set value(w){Xe(n,w,!0)},children:(w,I)=>{qu(w,{label:"",options:[{name:"",key:"solid"},{name:"",key:"dashed"}],get group(){return r().style.lineStyle},set group(M){r(r().style.lineStyle=M,!0)}})},$$slots:{default:!0}}),Qe(t,l),or()}var Dk=nt("<!> <!>",1);function hw(t,e){sr(e,!0);let r=Qt(e,"labels",15),n=Pt(!1);jl(t,{label:"",get value(){return V(n)},set value(l){Xe(n,l,!0)},children:(l,h)=>{var u=Dk(),s=kt(u);Gl(s,{label:"",get value(){return r().show},set value(w){r(r().show=w,!0)}});var v=Ue(s,2);Aw(v,{get labels(){return r()},set labels(w){r(w)}}),Qe(l,u)},$$slots:{default:!0}}),or()}var zk=nt('<!> <!> <div class="flex flex-col gap-2 pb-2"><!></div>',1),Zk=nt("<!> <!> <!>",1),Ok=nt("<!> <!>",1),Hk=nt("<!> <!> <!> <!> <!>",1);function Xk(t,e){sr(e,!0);let r=Qt(e,"layerEntry",15),n=Pt(!1),l=Pt(!1);var h=Hk(),u=kt(h);ta(u,{label:"",min:0,max:1,step:.01,get value(){return r().style.opacity},set value(S){r(r().style.opacity=S,!0)}});var s=Ue(u,2);{var v=S=>{qu(S,{label:"",options:[{name:"",key:"circle"},{name:"",key:"icon"}],get group(){return r().style.markerType},set group(k){r(r().style.markerType=k,!0)}})};_t(s,S=>{r().style.icon&&S(v)})}var w=Ue(s,2);{var I=S=>{var k=Zk(),z=kt(k);r_(z,{get colorStyle(){return r().style.colors},set colorStyle(se){r(r().style.colors=se,!0)}});var Z=Ue(z,2);uw(Z,{label:"",get numberStyle(){return r().style.radius},set numberStyle(se){r(r().style.radius=se,!0)}});var G=Ue(Z,2);jl(G,{label:"",get value(){return V(n)},set value(se){Xe(n,se,!0)},children:(se,re)=>{var Ae=zk(),J=kt(Ae);Gl(J,{label:"",get value(){return r().style.outline.show},set value(he){r(r().style.outline.show=he,!0)}});var te=Ue(J,2);ta(te,{label:"",min:0,max:10,step:.01,get value(){return r().style.outline.width},set value(he){r(r().style.outline.width=he,!0)}});var X=Ue(te,2),W=Ce(X);f0(W,{label:"",get value(){return r().style.outline.color},set value(he){r(r().style.outline.color=he,!0)}}),ve(X),Qe(se,Ae)},$$slots:{default:!0}}),Qe(S,k)};_t(w,S=>{r().style.markerType==="circle"&&S(I)})}var M=Ue(w,2);{var U=S=>{jl(S,{label:"",get value(){return V(l)},set value(k){Xe(l,k,!0)},children:(k,z)=>{var Z=Ok(),G=kt(Z);Gl(G,{label:"",get value(){return r().style.icon.show},set value(re){r(r().style.icon.show=re,!0)}});var se=Ue(G,2);ta(se,{label:"",min:0,max:.5,step:.01,get value(){return r().style.icon.size},set value(re){r(r().style.icon.size=re,!0)}}),Qe(k,Z)},$$slots:{default:!0}})};_t(M,S=>{r().style.markerType==="icon"&&r().style.icon&&S(U)})}var C=Ue(M,2);hw(C,{get labels(){return r().style.labels},set labels(S){r(r().style.labels=S,!0)}}),Qe(t,h),or()}var Vk=nt('<!> <!> <div class="flex flex-col gap-2 pb-2"><!></div> <!>',1),Gk=nt('<div class="py-2"><!> <!> <!> <!></div>');function jk(t,e){sr(e,!0);let r=Qt(e,"layerEntry",15),n=Pt(!1);var l=Gk(),h=Ce(l);ta(h,{label:"",min:0,max:1,step:.01,get value(){return r().style.opacity},set value(w){r(r().style.opacity=w,!0)}});var u=Ue(h,2);r_(u,{get colorStyle(){return r().style.colors},set colorStyle(w){r(r().style.colors=w,!0)}});var s=Ue(u,2);jl(s,{label:"",get value(){return V(n)},set value(w){Xe(n,w,!0)},children:(w,I)=>{var M=Vk(),U=kt(M);Gl(U,{label:"",get value(){return r().style.outline.show},set value(Z){r(r().style.outline.show=Z,!0)}});var C=Ue(U,2);ta(C,{label:"",min:0,max:10,step:.01,get value(){return r().style.outline.width},set value(Z){r(r().style.outline.width=Z,!0)}});var S=Ue(C,2),k=Ce(S);f0(k,{label:"",get value(){return r().style.outline.color},set value(Z){r(r().style.outline.color=Z,!0)}}),ve(S);var z=Ue(S,2);qu(z,{label:"",options:[{name:"",key:"solid"},{name:"",key:"dashed"}],get group(){return r().style.outline.lineStyle},set group(Z){r(r().style.outline.lineStyle=Z,!0)}}),Qe(w,M)},$$slots:{default:!0}});var v=Ue(s,2);hw(v,{get labels(){return r().style.labels},set labels(w){r(r().style.labels=w,!0)}}),ve(l),Qe(t,l),or()}var Kk=nt("<!> <!> <!> <!>",1);function $k(t,e){sr(e,!0);let r=Qt(e,"layerEntry",15);var n=vr(),l=kt(n);{var h=u=>{var s=Kk(),v=kt(s);{var w=z=>{Xk(z,{get layerEntry(){return r()},set layerEntry(Z){r(Z)}})};_t(v,z=>{r().format.geometryType==="Point"&&z(w)})}var I=Ue(v,2);{var M=z=>{Qk(z,{get layerEntry(){return r()},set layerEntry(Z){r(Z)}})};_t(I,z=>{r().format.geometryType==="LineString"&&z(M)})}var U=Ue(I,2);{var C=z=>{jk(z,{get layerEntry(){return r()},set layerEntry(Z){r(Z)}})};_t(U,z=>{r().format.geometryType==="Polygon"&&z(C)})}var S=Ue(U,2);{var k=z=>{Lk(z,{get layerEntry(){return r()},set layerEntry(Z){r(Z)}})};_t(S,z=>{r().format.geometryType==="Label"&&z(k)})}Qe(u,s)};_t(l,u=>{r()&&r().type==="vector"&&u(h)})}Qe(t,n),or()}var qk=(t,e)=>Ko(jA,!1),Wk=nt('<div class="bg-main w-side-menu absolute left-0 top-0 z-20 flex h-full flex-col gap-2 overflow-hidden px-2 pt-4"><div class="flex w-full cursor-pointer items-center gap-4 pb-2"><button class="bg-base cursor-pointer rounded-full p-2"><!></button> <span class="text-base"></span></div> <div class="flex h-full flex-col gap-2 overflow-auto"><div class="text-2xl text-base"> </div> <div class="flex items-center gap-2 border-t p-2 text-base"></div> <div class="c-scroll h-full grow overflow-x-hidden"><!> <!></div></div></div>');function Jk(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(jA,"$isStyleEdit",r);let h=Qt(e,"layerEntry",15);const u=I=>{I.key==="Escape"&&h(null)};var s=vr();ra("keydown",b4,u);var v=kt(s);{var w=I=>{var M=Wk(),U=Ce(M),C=Ce(U);C.__click=[qk,l];var S=Ce(C);_r(S,{icon:"ep:back",class:"text-main h-4 w-4"}),ve(C),Vi(2),ve(U);var k=Ue(U,2),z=Ce(k),Z=Ce(z,!0);ve(z);var G=Ue(z,4),se=Ce(G);{var re=te=>{$k(te,{get layerEntry(){return h()},set layerEntry(X){h(X)}})};_t(se,te=>{h().type==="vector"&&te(re)})}var Ae=Ue(se,2);{var J=te=>{Ak(te,{get layerEntry(){return h()},set layerEntry(X){h(X)}})};_t(Ae,te=>{h().type==="raster"&&te(J)})}ve(G),ve(k),ve(M),Gt(()=>dr(Z,h().metaData.name)),ni(3,M,()=>In,()=>({duration:300,x:-100,opacity:0})),Qe(I,M)};_t(v,I=>{h()&&I(w)})}Qe(t,s),or(),n()}fi(["click"]);const eQ=un(!1);var tQ=nt('<div class="absolute bottom-0 z-30 flex h-full w-full items-center justify-center bg-black/50 pointer-events-none"><div class="c-circle svelte-18jkeg5"><div class="c-circle-child"></div></div></div>');function rQ(t){const[e,r]=qi(),n=()=>kr(eQ,"$showLockOnScreen",e);var l=vr(),h=kt(l);{var u=s=>{var v=tQ();ni(3,v,()=>Rn,()=>({duration:100})),Qe(s,v)};_t(h,s=>{n()&&s(u)})}Qe(t,l),r()}var iQ=nt('<div class="absolute bottom-2 left-2 z-20"></div>');function aQ(t,e){sr(e,!1);let r=Ja();ua(()=>{pi.onInitialized(l=>{if(l){const h=new fp.ScaleControl({maxWidth:100,unit:"metric"});V(r).appendChild(h.onAdd(l))}})}),Jo();var n=iQ();gn(n,l=>Xe(r,l),()=>V(r)),Qe(t,n),or()}function nQ(t){aQ(t,{})}var sQ=nt('<div class="grid h-[50px] w-[50px] shrink-0 cursor-grab place-items-center overflow-hidden rounded-full border-2"><svg class="h-full w-full scale-50" xmlns="http://www.w3.org/2000/svg" width="132" height="132" viewBox="0 0 132 132"><g transform="translate(47,0)"><path fill="000" d="m19 0 16.455 66H2.545L19 0Z"></path><path fill="#D9D9D9" d="M19 132 2.546 66h32.909L19 132Z"></path></g></svg></div>');function oQ(t,e){sr(e,!0),pm.registerPlugin(Gu);let r=Pt(null);const n=h=>(h+180)%360-180;pi.onRotate(h=>{!V(r)||h==null||V(r)&&pm.set(V(r),{rotation:h*-1})}),ua(()=>{V(r)&&Gu.create(V(r),{type:"rotation",inertia:!0,dragResistance:.5,onDrag(){const h=n(this.rotation);pi.setBearing(h*-1)},onClick(){pi.easeTo({bearing:0}),V(r)&&(V(r).style.transform="rotate(0deg)"),this.rotation=0,this.update()},onDragEnd(){const h=pi.getBearing();h&&h>=-7&&h<=7&&pi.easeTo({bearing:0})}})});var l=sQ();gn(l,h=>Xe(r,h),()=>V(r)),Qe(t,l),or()}var lQ=nt('<div role="button" tabindex="0"><!> <div class="flex flex-col gap-2"><div class="text-base font-bold"> </div></div></div>');function AQ(t,e){sr(e,!0);let r=Pt(0),n=Pt(!1);pi.onZoom(w=>{w&&Xe(r,w,!0)}),pi.onInitialized(w=>{w&&Xe(r,w.getZoom(),!0)});var l=lQ(),h=Ce(l);oQ(h,{get isHover(){return V(n)},set isHover(w){Xe(n,w,!0)}});var u=Ue(h,2),s=Ce(u),v=Ce(s,!0);ve(s),ve(u),ve(l),Gt(w=>{Bi(l,1,`bg-main absolute bottom-12 right-0 flex h-auto w-[150px] gap-2 rounded-l-full p-2 text-sm text-white transition-opacity duration-200 ${(V(n)?"opacity-100":"opacity-80")??""}`),dr(v,w)},[()=>V(r).toFixed(1)]),ra("mouseenter",l,()=>Xe(n,!0)),ra("mouseleave",l,()=>Xe(n,!1)),Qe(t,l),or()}const cQ={street_view_sources:{type:"vector",url:`pmtiles://${J1}/THETA360.pmtiles`}},uQ={id:"@street_view_line_layer",type:"line",source:"street_view_sources","source-layer":"THETA360_line",paint:{"line-color":"#08fa00","line-width":10,"line-opacity":.5,"line-blur":.5},layout:{visibility:"none","line-cap":"round","line-join":"round"}},hQ={id:"@street_view_circle_layer",type:"circle",source:"street_view_sources","source-layer":"THETA360",minzoom:15,layout:{visibility:"none"},paint:{"circle-color":["case",["boolean",["feature-state","hover"],!1],"#00fad0","#08fa00"],"circle-radius":["case",["boolean",["feature-state","hover"],!1],20,12],"circle-opacity":["case",["boolean",["feature-state","hover"],!1],.8,.6],"circle-stroke-width":2,"circle-stroke-color":"#ffffff","circle-stroke-opacity":.5,"circle-blur":.3}};var dQ=nt("<div></div>");function fQ(t,e){sr(e,!0),pi.onInitialized(u=>{});let r=null;const n=u=>{!u.features||u.features.length===0||(r!==null&&e.map.setFeatureState({source:"street_view_sources",sourceLayer:"THETA360",id:r},{hover:!1}),r=u.features[0].id,e.map.setFeatureState({source:"street_view_sources",sourceLayer:"THETA360",id:r},{hover:!0}),e.map.getCanvas().style.cursor="pointer")},l=()=>{r!==null&&(e.map.setFeatureState({source:"street_view_sources",sourceLayer:"THETA360",id:r},{hover:!1}),r=null),e.map.getCanvas().style.cursor=""};gm.subscribe(u=>{!e.map.getLayer("@street_view_line_layer")||!e.map.getLayer("@street_view_circle_layer")||(u?(e.map.setLayoutProperty("@street_view_line_layer","visibility","visible"),e.map.setLayoutProperty("@street_view_circle_layer","visibility","visible"),e.map.on("mousemove","@street_view_circle_layer",n),e.map.on("mouseleave","@street_view_circle_layer",l)):(e.map.setLayoutProperty("@street_view_line_layer","visibility","none"),e.map.setLayoutProperty("@street_view_circle_layer","visibility","none"),e.map.off("mousemove","@street_view_circle_layer",n),e.map.off("mouseleave","@street_view_circle_layer",l)))}),sc(()=>{pi.getMap()});var h=dQ();Qe(t,h),or()}var gQ=nt('<div class="pointer-events-none relative z-50 grid h-[100px] w-[100px] place-items-center svelte-17wdhqb"><div class="css-ripple-effect svelte-17wdhqb"></div> <div class="border-main absolute h-[12px] w-[12px] rounded-full border-[2px] bg-white svelte-17wdhqb"></div> <div class="border-main absolute h-[24px] w-[24px] rounded-full border-2 svelte-17wdhqb"></div> <div class="border-base absolute h-[20px] w-[20px] rounded-full border-2 svelte-17wdhqb"></div></div>');function pQ(t,e){sr(e,!0);let r=Pt(null),n=Pt(null);ua(()=>{V(r)&&e.show&&Xe(n,new Os.Marker({element:V(r),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map))}),Gi(()=>{e.show?V(n)?V(n).setLngLat(e.lngLat):Xe(n,new Os.Marker({element:V(r),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map)):V(n)&&(V(n).remove(),Xe(n,null))}),sc(()=>{var s;(s=V(n))==null||s.remove()});var l=vr(),h=kt(l);{var u=s=>{var v=gQ();gn(v,w=>Xe(r,w),()=>V(r)),Qe(s,v)};_t(h,s=>{e.show&&s(u)})}Qe(t,l),or()}class g0{static set(e,r){this.cache.set(e,r)}static get(e){return this.cache.get(e)}static remove(e){this.cache.delete(e)}static clear(){this.cache.clear()}static has(e){return this.cache.has(e)}static keys(){return this.cache.keys()}}Si(g0,"cache",new Map);var mQ=nt("<div></div>");function _Q(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(x5,"$clickableVectorIds",r),h=()=>kr(GA,"$mapMode",r),u=()=>kr(Ug,"$DEBUG_MODE",r);let s=Qt(e,"markerLngLat",15),v=Qt(e,"featureMenuData",15),w=Qt(e,"showMarker",15),I=Qt(e,"clickedLayerIds",15),M=null,U=null;e.map.on("click",S=>{if(e.showDataEntry)return;const k=["@street_view_circle_layer",...l()],z=e.map.queryRenderedFeatures(S.point,{layers:k});if(!z.length){M!==null&&U!==null&&(e.map.setFeatureState({...U,id:M},{selected:!1}),M=null),v(null),I([]),s()?(s(null),w(!1)):(w(!0),s(S.lngLat));return}if(h()==="edit"){const te=z[0].layer.id,X=e.layerEntries.find(W=>W.id===te);X&&Ys.set(X.id)}const Z=z.map(te=>te.layer.id),G=e.layerEntries.filter(te=>{if(te.type==="raster"&&te.interaction.clickable&&te.style.visible){if(te.metaData.location==="")return!0;if(te.metaData.bounds&&kY(S.lngLat,te.metaData.bounds))return!0}}).map(te=>te.id);if(Z.includes("@street_view_circle_layer")){Xl.set(!0);return}const se=[...Z,...G];if(I(se.length>0?se:[]),z.length>0){const te=z[0],X=te.geometry.type==="Point"?te.geometry.coordinates:[S.lngLat.lng,S.lngLat.lat],W=XB(te,X);v(W)}u()&&console.warn(z);const re=z[0],Ae=re.id,J=g0.get(re.layer.id);s(S.lngLat),w(!0),U&&M!==null&&e.map.setFeatureState({...U,id:M},{selected:!1}),J&&(M=Ae,U=J,e.map.setFeatureState({...U,id:Ae},{selected:!0}))}),e.map.on("load",()=>{e.map.on("mousemove",S=>{const k=[...l()],z=e.map.queryRenderedFeatures(S.point,{layers:k});z.length>0?(e.map.getCanvas().style.cursor="pointer",e.toggleTooltip(S,z[0])):(e.map.getCanvas().style.cursor="default",e.toggleTooltip())})}),Gi(()=>{v()||M!==null&&U!==null&&(e.map.setFeatureState({...U,id:M},{selected:!1}),M=null)}),sc(()=>{pi.getMap()});var C=mQ();Qe(t,C),or(),n()}const g={};g.MUNI_ARRAY={};g.MUNI_ARRAY[1100]="1,,1100,";g.MUNI_ARRAY[1101]="1,,1101,";g.MUNI_ARRAY[1102]="1,,1102,";g.MUNI_ARRAY[1103]="1,,1103,";g.MUNI_ARRAY[1104]="1,,1104,";g.MUNI_ARRAY[1105]="1,,1105,";g.MUNI_ARRAY[1106]="1,,1106,";g.MUNI_ARRAY[1107]="1,,1107,";g.MUNI_ARRAY[1108]="1,,1108,";g.MUNI_ARRAY[1109]="1,,1109,";g.MUNI_ARRAY[1110]="1,,1110,";g.MUNI_ARRAY[1202]="1,,1202,";g.MUNI_ARRAY[1203]="1,,1203,";g.MUNI_ARRAY[1204]="1,,1204,";g.MUNI_ARRAY[1205]="1,,1205,";g.MUNI_ARRAY[1206]="1,,1206,";g.MUNI_ARRAY[1207]="1,,1207,";g.MUNI_ARRAY[1208]="1,,1208,";g.MUNI_ARRAY[1209]="1,,1209,";g.MUNI_ARRAY[1210]="1,,1210,";g.MUNI_ARRAY[1211]="1,,1211,";g.MUNI_ARRAY[1212]="1,,1212,";g.MUNI_ARRAY[1213]="1,,1213,";g.MUNI_ARRAY[1214]="1,,1214,";g.MUNI_ARRAY[1215]="1,,1215,";g.MUNI_ARRAY[1216]="1,,1216,";g.MUNI_ARRAY[1217]="1,,1217,";g.MUNI_ARRAY[1218]="1,,1218,";g.MUNI_ARRAY[1219]="1,,1219,";g.MUNI_ARRAY[1220]="1,,1220,";g.MUNI_ARRAY[1221]="1,,1221,";g.MUNI_ARRAY[1222]="1,,1222,";g.MUNI_ARRAY[1223]="1,,1223,";g.MUNI_ARRAY[1224]="1,,1224,";g.MUNI_ARRAY[1225]="1,,1225,";g.MUNI_ARRAY[1226]="1,,1226,";g.MUNI_ARRAY[1227]="1,,1227,";g.MUNI_ARRAY[1228]="1,,1228,";g.MUNI_ARRAY[1229]="1,,1229,";g.MUNI_ARRAY[1230]="1,,1230,";g.MUNI_ARRAY[1231]="1,,1231,";g.MUNI_ARRAY[1233]="1,,1233,";g.MUNI_ARRAY[1234]="1,,1234,";g.MUNI_ARRAY[1235]="1,,1235,";g.MUNI_ARRAY[1236]="1,,1236,";g.MUNI_ARRAY[1303]="1,,1303,";g.MUNI_ARRAY[1304]="1,,1304,";g.MUNI_ARRAY[1331]="1,,1331,";g.MUNI_ARRAY[1332]="1,,1332,";g.MUNI_ARRAY[1333]="1,,1333,";g.MUNI_ARRAY[1334]="1,,1334,";g.MUNI_ARRAY[1337]="1,,1337,";g.MUNI_ARRAY[1343]="1,,1343,";g.MUNI_ARRAY[1345]="1,,1345,";g.MUNI_ARRAY[1346]="1,,1346,";g.MUNI_ARRAY[1347]="1,,1347,";g.MUNI_ARRAY[1361]="1,,1361,";g.MUNI_ARRAY[1362]="1,,1362,";g.MUNI_ARRAY[1363]="1,,1363,";g.MUNI_ARRAY[1364]="1,,1364,";g.MUNI_ARRAY[1367]="1,,1367,";g.MUNI_ARRAY[1370]="1,,1370,";g.MUNI_ARRAY[1371]="1,,1371,";g.MUNI_ARRAY[1391]="1,,1391,";g.MUNI_ARRAY[1392]="1,,1392,";g.MUNI_ARRAY[1393]="1,,1393,";g.MUNI_ARRAY[1394]="1,,1394,";g.MUNI_ARRAY[1395]="1,,1395,";g.MUNI_ARRAY[1396]="1,,1396,";g.MUNI_ARRAY[1397]="1,,1397,";g.MUNI_ARRAY[1398]="1,,1398,";g.MUNI_ARRAY[1399]="1,,1399,";g.MUNI_ARRAY[1400]="1,,1400,";g.MUNI_ARRAY[1401]="1,,1401,";g.MUNI_ARRAY[1402]="1,,1402,";g.MUNI_ARRAY[1403]="1,,1403,";g.MUNI_ARRAY[1404]="1,,1404,";g.MUNI_ARRAY[1405]="1,,1405,";g.MUNI_ARRAY[1406]="1,,1406,";g.MUNI_ARRAY[1407]="1,,1407,";g.MUNI_ARRAY[1408]="1,,1408,";g.MUNI_ARRAY[1409]="1,,1409,";g.MUNI_ARRAY[1423]="1,,1423,";g.MUNI_ARRAY[1424]="1,,1424,";g.MUNI_ARRAY[1425]="1,,1425,";g.MUNI_ARRAY[1427]="1,,1427,";g.MUNI_ARRAY[1428]="1,,1428,";g.MUNI_ARRAY[1429]="1,,1429,";g.MUNI_ARRAY[1430]="1,,1430,";g.MUNI_ARRAY[1431]="1,,1431,";g.MUNI_ARRAY[1432]="1,,1432,";g.MUNI_ARRAY[1433]="1,,1433,";g.MUNI_ARRAY[1434]="1,,1434,";g.MUNI_ARRAY[1436]="1,,1436,";g.MUNI_ARRAY[1437]="1,,1437,";g.MUNI_ARRAY[1438]="1,,1438,";g.MUNI_ARRAY[1452]="1,,1452,";g.MUNI_ARRAY[1453]="1,,1453,";g.MUNI_ARRAY[1454]="1,,1454,";g.MUNI_ARRAY[1455]="1,,1455,";g.MUNI_ARRAY[1456]="1,,1456,";g.MUNI_ARRAY[1457]="1,,1457,";g.MUNI_ARRAY[1458]="1,,1458,";g.MUNI_ARRAY[1459]="1,,1459,";g.MUNI_ARRAY[1460]="1,,1460,";g.MUNI_ARRAY[1461]="1,,1461,";g.MUNI_ARRAY[1462]="1,,1462,";g.MUNI_ARRAY[1463]="1,,1463,";g.MUNI_ARRAY[1464]="1,,1464,";g.MUNI_ARRAY[1465]="1,,1465,";g.MUNI_ARRAY[1468]="1,,1468,";g.MUNI_ARRAY[1469]="1,,1469,";g.MUNI_ARRAY[1470]="1,,1470,";g.MUNI_ARRAY[1471]="1,,1471,";g.MUNI_ARRAY[1472]="1,,1472,";g.MUNI_ARRAY[1481]="1,,1481,";g.MUNI_ARRAY[1482]="1,,1482,";g.MUNI_ARRAY[1483]="1,,1483,";g.MUNI_ARRAY[1484]="1,,1484,";g.MUNI_ARRAY[1485]="1,,1485,";g.MUNI_ARRAY[1486]="1,,1486,";g.MUNI_ARRAY[1487]="1,,1487,";g.MUNI_ARRAY[1511]="1,,1511,";g.MUNI_ARRAY[1512]="1,,1512,";g.MUNI_ARRAY[1513]="1,,1513,";g.MUNI_ARRAY[1514]="1,,1514,";g.MUNI_ARRAY[1516]="1,,1516,";g.MUNI_ARRAY[1517]="1,,1517,";g.MUNI_ARRAY[1518]="1,,1518,";g.MUNI_ARRAY[1519]="1,,1519,";g.MUNI_ARRAY[1520]="1,,1520,";g.MUNI_ARRAY[1543]="1,,1543,";g.MUNI_ARRAY[1544]="1,,1544,";g.MUNI_ARRAY[1545]="1,,1545,";g.MUNI_ARRAY[1546]="1,,1546,";g.MUNI_ARRAY[1547]="1,,1547,";g.MUNI_ARRAY[1549]="1,,1549,";g.MUNI_ARRAY[1550]="1,,1550,";g.MUNI_ARRAY[1552]="1,,1552,";g.MUNI_ARRAY[1555]="1,,1555,";g.MUNI_ARRAY[1559]="1,,1559,";g.MUNI_ARRAY[1560]="1,,1560,";g.MUNI_ARRAY[1561]="1,,1561,";g.MUNI_ARRAY[1562]="1,,1562,";g.MUNI_ARRAY[1563]="1,,1563,";g.MUNI_ARRAY[1564]="1,,1564,";g.MUNI_ARRAY[1571]="1,,1571,";g.MUNI_ARRAY[1575]="1,,1575,";g.MUNI_ARRAY[1578]="1,,1578,";g.MUNI_ARRAY[1581]="1,,1581,";g.MUNI_ARRAY[1584]="1,,1584,";g.MUNI_ARRAY[1585]="1,,1585,";g.MUNI_ARRAY[1586]="1,,1586,";g.MUNI_ARRAY[1601]="1,,1601,";g.MUNI_ARRAY[1602]="1,,1602,";g.MUNI_ARRAY[1604]="1,,1604,";g.MUNI_ARRAY[1607]="1,,1607,";g.MUNI_ARRAY[1608]="1,,1608,";g.MUNI_ARRAY[1609]="1,,1609,";g.MUNI_ARRAY[1610]="1,,1610,";g.MUNI_ARRAY[1631]="1,,1631,";g.MUNI_ARRAY[1632]="1,,1632,";g.MUNI_ARRAY[1633]="1,,1633,";g.MUNI_ARRAY[1634]="1,,1634,";g.MUNI_ARRAY[1635]="1,,1635,";g.MUNI_ARRAY[1636]="1,,1636,";g.MUNI_ARRAY[1637]="1,,1637,";g.MUNI_ARRAY[1638]="1,,1638,";g.MUNI_ARRAY[1639]="1,,1639,";g.MUNI_ARRAY[1641]="1,,1641,";g.MUNI_ARRAY[1642]="1,,1642,";g.MUNI_ARRAY[1643]="1,,1643,";g.MUNI_ARRAY[1644]="1,,1644,";g.MUNI_ARRAY[1645]="1,,1645,";g.MUNI_ARRAY[1646]="1,,1646,";g.MUNI_ARRAY[1647]="1,,1647,";g.MUNI_ARRAY[1648]="1,,1648,";g.MUNI_ARRAY[1649]="1,,1649,";g.MUNI_ARRAY[1661]="1,,1661,";g.MUNI_ARRAY[1662]="1,,1662,";g.MUNI_ARRAY[1663]="1,,1663,";g.MUNI_ARRAY[1664]="1,,1664,";g.MUNI_ARRAY[1665]="1,,1665,";g.MUNI_ARRAY[1667]="1,,1667,";g.MUNI_ARRAY[1668]="1,,1668,";g.MUNI_ARRAY[1691]="1,,1691,";g.MUNI_ARRAY[1692]="1,,1692,";g.MUNI_ARRAY[1693]="1,,1693,";g.MUNI_ARRAY[1694]="1,,1694,";g.MUNI_ARRAY[1695]="1,,1695,";g.MUNI_ARRAY[1696]="1,,1696,";g.MUNI_ARRAY[1697]="1,,1697,";g.MUNI_ARRAY[1698]="1,,1698,";g.MUNI_ARRAY[1699]="1,,1699,";g.MUNI_ARRAY[1700]="1,,1700,";g.MUNI_ARRAY[2201]="2,,2201,";g.MUNI_ARRAY[2202]="2,,2202,";g.MUNI_ARRAY[2203]="2,,2203,";g.MUNI_ARRAY[2204]="2,,2204,";g.MUNI_ARRAY[2205]="2,,2205,";g.MUNI_ARRAY[2206]="2,,2206,";g.MUNI_ARRAY[2207]="2,,2207,";g.MUNI_ARRAY[2208]="2,,2208,";g.MUNI_ARRAY[2209]="2,,2209,";g.MUNI_ARRAY[2210]="2,,2210,";g.MUNI_ARRAY[2301]="2,,2301,";g.MUNI_ARRAY[2303]="2,,2303,";g.MUNI_ARRAY[2304]="2,,2304,";g.MUNI_ARRAY[2307]="2,,2307,";g.MUNI_ARRAY[2321]="2,,2321,";g.MUNI_ARRAY[2323]="2,,2323,";g.MUNI_ARRAY[2343]="2,,2343,";g.MUNI_ARRAY[2361]="2,,2361,";g.MUNI_ARRAY[2362]="2,,2362,";g.MUNI_ARRAY[2367]="2,,2367,";g.MUNI_ARRAY[2381]="2,,2381,";g.MUNI_ARRAY[2384]="2,,2384,";g.MUNI_ARRAY[2387]="2,,2387,";g.MUNI_ARRAY[2401]="2,,2401,";g.MUNI_ARRAY[2402]="2,,2402,";g.MUNI_ARRAY[2405]="2,,2405,";g.MUNI_ARRAY[2406]="2,,2406,";g.MUNI_ARRAY[2408]="2,,2408,";g.MUNI_ARRAY[2411]="2,,2411,";g.MUNI_ARRAY[2412]="2,,2412,";g.MUNI_ARRAY[2423]="2,,2423,";g.MUNI_ARRAY[2424]="2,,2424,";g.MUNI_ARRAY[2425]="2,,2425,";g.MUNI_ARRAY[2426]="2,,2426,";g.MUNI_ARRAY[2441]="2,,2441,";g.MUNI_ARRAY[2442]="2,,2442,";g.MUNI_ARRAY[2443]="2,,2443,";g.MUNI_ARRAY[2445]="2,,2445,";g.MUNI_ARRAY[2446]="2,,2446,";g.MUNI_ARRAY[2450]="2,,2450,";g.MUNI_ARRAY[3201]="3,,3201,";g.MUNI_ARRAY[3202]="3,,3202,";g.MUNI_ARRAY[3203]="3,,3203,";g.MUNI_ARRAY[3205]="3,,3205,";g.MUNI_ARRAY[3206]="3,,3206,";g.MUNI_ARRAY[3207]="3,,3207,";g.MUNI_ARRAY[3208]="3,,3208,";g.MUNI_ARRAY[3209]="3,,3209,";g.MUNI_ARRAY[3210]="3,,3210,";g.MUNI_ARRAY[3211]="3,,3211,";g.MUNI_ARRAY[3213]="3,,3213,";g.MUNI_ARRAY[3214]="3,,3214,";g.MUNI_ARRAY[3215]="3,,3215,";g.MUNI_ARRAY[3216]="3,,3216,";g.MUNI_ARRAY[3301]="3,,3301,";g.MUNI_ARRAY[3302]="3,,3302,";g.MUNI_ARRAY[3303]="3,,3303,";g.MUNI_ARRAY[3321]="3,,3321,";g.MUNI_ARRAY[3322]="3,,3322,";g.MUNI_ARRAY[3366]="3,,3366,";g.MUNI_ARRAY[3381]="3,,3381,";g.MUNI_ARRAY[3402]="3,,3402,";g.MUNI_ARRAY[3441]="3,,3441,";g.MUNI_ARRAY[3461]="3,,3461,";g.MUNI_ARRAY[3482]="3,,3482,";g.MUNI_ARRAY[3483]="3,,3483,";g.MUNI_ARRAY[3484]="3,,3484,";g.MUNI_ARRAY[3485]="3,,3485,";g.MUNI_ARRAY[3501]="3,,3501,";g.MUNI_ARRAY[3503]="3,,3503,";g.MUNI_ARRAY[3506]="3,,3506,";g.MUNI_ARRAY[3507]="3,,3507,";g.MUNI_ARRAY[3524]="3,,3524,";g.MUNI_ARRAY[4100]="4,,4100,";g.MUNI_ARRAY[4101]="4,,4101,";g.MUNI_ARRAY[4102]="4,,4102,";g.MUNI_ARRAY[4103]="4,,4103,";g.MUNI_ARRAY[4104]="4,,4104,";g.MUNI_ARRAY[4105]="4,,4105,";g.MUNI_ARRAY[4202]="4,,4202,";g.MUNI_ARRAY[4203]="4,,4203,";g.MUNI_ARRAY[4205]="4,,4205,";g.MUNI_ARRAY[4206]="4,,4206,";g.MUNI_ARRAY[4207]="4,,4207,";g.MUNI_ARRAY[4208]="4,,4208,";g.MUNI_ARRAY[4209]="4,,4209,";g.MUNI_ARRAY[4211]="4,,4211,";g.MUNI_ARRAY[4212]="4,,4212,";g.MUNI_ARRAY[4213]="4,,4213,";g.MUNI_ARRAY[4214]="4,,4214,";g.MUNI_ARRAY[4215]="4,,4215,";g.MUNI_ARRAY[4216]="4,,4216,";g.MUNI_ARRAY[4301]="4,,4301,";g.MUNI_ARRAY[4302]="4,,4302,";g.MUNI_ARRAY[4321]="4,,4321,";g.MUNI_ARRAY[4322]="4,,4322,";g.MUNI_ARRAY[4323]="4,,4323,";g.MUNI_ARRAY[4324]="4,,4324,";g.MUNI_ARRAY[4341]="4,,4341,";g.MUNI_ARRAY[4361]="4,,4361,";g.MUNI_ARRAY[4362]="4,,4362,";g.MUNI_ARRAY[4401]="4,,4401,";g.MUNI_ARRAY[4404]="4,,4404,";g.MUNI_ARRAY[4406]="4,,4406,";g.MUNI_ARRAY[4421]="4,,4421,";g.MUNI_ARRAY[4422]="4,,4422,";g.MUNI_ARRAY[4423]="4,,4423,";g.MUNI_ARRAY[4424]="4,,4424,";g.MUNI_ARRAY[4444]="4,,4444,";g.MUNI_ARRAY[4445]="4,,4445,";g.MUNI_ARRAY[4501]="4,,4501,";g.MUNI_ARRAY[4505]="4,,4505,";g.MUNI_ARRAY[4581]="4,,4581,";g.MUNI_ARRAY[4606]="4,,4606,";g.MUNI_ARRAY[5201]="5,,5201,";g.MUNI_ARRAY[5202]="5,,5202,";g.MUNI_ARRAY[5203]="5,,5203,";g.MUNI_ARRAY[5204]="5,,5204,";g.MUNI_ARRAY[5206]="5,,5206,";g.MUNI_ARRAY[5207]="5,,5207,";g.MUNI_ARRAY[5209]="5,,5209,";g.MUNI_ARRAY[5210]="5,,5210,";g.MUNI_ARRAY[5211]="5,,5211,";g.MUNI_ARRAY[5212]="5,,5212,";g.MUNI_ARRAY[5213]="5,,5213,";g.MUNI_ARRAY[5214]="5,,5214,";g.MUNI_ARRAY[5215]="5,,5215,";g.MUNI_ARRAY[5303]="5,,5303,";g.MUNI_ARRAY[5327]="5,,5327,";g.MUNI_ARRAY[5346]="5,,5346,";g.MUNI_ARRAY[5348]="5,,5348,";g.MUNI_ARRAY[5349]="5,,5349,";g.MUNI_ARRAY[5361]="5,,5361,";g.MUNI_ARRAY[5363]="5,,5363,";g.MUNI_ARRAY[5366]="5,,5366,";g.MUNI_ARRAY[5368]="5,,5368,";g.MUNI_ARRAY[5434]="5,,5434,";g.MUNI_ARRAY[5463]="5,,5463,";g.MUNI_ARRAY[5464]="5,,5464,";g.MUNI_ARRAY[6201]="6,,6201,";g.MUNI_ARRAY[6202]="6,,6202,";g.MUNI_ARRAY[6203]="6,,6203,";g.MUNI_ARRAY[6204]="6,,6204,";g.MUNI_ARRAY[6205]="6,,6205,";g.MUNI_ARRAY[6206]="6,,6206,";g.MUNI_ARRAY[6207]="6,,6207,";g.MUNI_ARRAY[6208]="6,,6208,";g.MUNI_ARRAY[6209]="6,,6209,";g.MUNI_ARRAY[6210]="6,,6210,";g.MUNI_ARRAY[6211]="6,,6211,";g.MUNI_ARRAY[6212]="6,,6212,";g.MUNI_ARRAY[6213]="6,,6213,";g.MUNI_ARRAY[6301]="6,,6301,";g.MUNI_ARRAY[6302]="6,,6302,";g.MUNI_ARRAY[6321]="6,,6321,";g.MUNI_ARRAY[6322]="6,,6322,";g.MUNI_ARRAY[6323]="6,,6323,";g.MUNI_ARRAY[6324]="6,,6324,";g.MUNI_ARRAY[6341]="6,,6341,";g.MUNI_ARRAY[6361]="6,,6361,";g.MUNI_ARRAY[6362]="6,,6362,";g.MUNI_ARRAY[6363]="6,,6363,";g.MUNI_ARRAY[6364]="6,,6364,";g.MUNI_ARRAY[6365]="6,,6365,";g.MUNI_ARRAY[6366]="6,,6366,";g.MUNI_ARRAY[6367]="6,,6367,";g.MUNI_ARRAY[6381]="6,,6381,";g.MUNI_ARRAY[6382]="6,,6382,";g.MUNI_ARRAY[6401]="6,,6401,";g.MUNI_ARRAY[6402]="6,,6402,";g.MUNI_ARRAY[6403]="6,,6403,";g.MUNI_ARRAY[6426]="6,,6426,";g.MUNI_ARRAY[6428]="6,,6428,";g.MUNI_ARRAY[6461]="6,,6461,";g.MUNI_ARRAY[7201]="7,,7201,";g.MUNI_ARRAY[7202]="7,,7202,";g.MUNI_ARRAY[7203]="7,,7203,";g.MUNI_ARRAY[7204]="7,,7204,";g.MUNI_ARRAY[7205]="7,,7205,";g.MUNI_ARRAY[7207]="7,,7207,";g.MUNI_ARRAY[7208]="7,,7208,";g.MUNI_ARRAY[7209]="7,,7209,";g.MUNI_ARRAY[7210]="7,,7210,";g.MUNI_ARRAY[7211]="7,,7211,";g.MUNI_ARRAY[7212]="7,,7212,";g.MUNI_ARRAY[7213]="7,,7213,";g.MUNI_ARRAY[7214]="7,,7214,";g.MUNI_ARRAY[7301]="7,,7301,";g.MUNI_ARRAY[7303]="7,,7303,";g.MUNI_ARRAY[7308]="7,,7308,";g.MUNI_ARRAY[7322]="7,,7322,";g.MUNI_ARRAY[7342]="7,,7342,";g.MUNI_ARRAY[7344]="7,,7344,";g.MUNI_ARRAY[7362]="7,,7362,";g.MUNI_ARRAY[7364]="7,,7364,";g.MUNI_ARRAY[7367]="7,,7367,";g.MUNI_ARRAY[7368]="7,,7368,";g.MUNI_ARRAY[7402]="7,,7402,";g.MUNI_ARRAY[7405]="7,,7405,";g.MUNI_ARRAY[7407]="7,,7407,";g.MUNI_ARRAY[7408]="7,,7408,";g.MUNI_ARRAY[7421]="7,,7421,";g.MUNI_ARRAY[7422]="7,,7422,";g.MUNI_ARRAY[7423]="7,,7423,";g.MUNI_ARRAY[7444]="7,,7444,";g.MUNI_ARRAY[7445]="7,,7445,";g.MUNI_ARRAY[7446]="7,,7446,";g.MUNI_ARRAY[7447]="7,,7447,";g.MUNI_ARRAY[7461]="7,,7461,";g.MUNI_ARRAY[7464]="7,,7464,";g.MUNI_ARRAY[7465]="7,,7465,";g.MUNI_ARRAY[7466]="7,,7466,";g.MUNI_ARRAY[7481]="7,,7481,";g.MUNI_ARRAY[7482]="7,,7482,";g.MUNI_ARRAY[7483]="7,,7483,";g.MUNI_ARRAY[7484]="7,,7484,";g.MUNI_ARRAY[7501]="7,,7501,";g.MUNI_ARRAY[7502]="7,,7502,";g.MUNI_ARRAY[7503]="7,,7503,";g.MUNI_ARRAY[7504]="7,,7504,";g.MUNI_ARRAY[7505]="7,,7505,";g.MUNI_ARRAY[7521]="7,,7521,";g.MUNI_ARRAY[7522]="7,,7522,";g.MUNI_ARRAY[7541]="7,,7541,";g.MUNI_ARRAY[7542]="7,,7542,";g.MUNI_ARRAY[7543]="7,,7543,";g.MUNI_ARRAY[7544]="7,,7544,";g.MUNI_ARRAY[7545]="7,,7545,";g.MUNI_ARRAY[7546]="7,,7546,";g.MUNI_ARRAY[7547]="7,,7547,";g.MUNI_ARRAY[7548]="7,,7548,";g.MUNI_ARRAY[7561]="7,,7561,";g.MUNI_ARRAY[7564]="7,,7564,";g.MUNI_ARRAY[8201]="8,,8201,";g.MUNI_ARRAY[8202]="8,,8202,";g.MUNI_ARRAY[8203]="8,,8203,";g.MUNI_ARRAY[8204]="8,,8204,";g.MUNI_ARRAY[8205]="8,,8205,";g.MUNI_ARRAY[8207]="8,,8207,";g.MUNI_ARRAY[8208]="8,,8208,";g.MUNI_ARRAY[8210]="8,,8210,";g.MUNI_ARRAY[8211]="8,,8211,";g.MUNI_ARRAY[8212]="8,,8212,";g.MUNI_ARRAY[8214]="8,,8214,";g.MUNI_ARRAY[8215]="8,,8215,";g.MUNI_ARRAY[8216]="8,,8216,";g.MUNI_ARRAY[8217]="8,,8217,";g.MUNI_ARRAY[8219]="8,,8219,";g.MUNI_ARRAY[8220]="8,,8220,";g.MUNI_ARRAY[8221]="8,,8221,";g.MUNI_ARRAY[8222]="8,,8222,";g.MUNI_ARRAY[8223]="8,,8223,";g.MUNI_ARRAY[8224]="8,,8224,";g.MUNI_ARRAY[8225]="8,,8225,";g.MUNI_ARRAY[8226]="8,,8226,";g.MUNI_ARRAY[8227]="8,,8227,";g.MUNI_ARRAY[8228]="8,,8228,";g.MUNI_ARRAY[8229]="8,,8229,";g.MUNI_ARRAY[8230]="8,,8230,";g.MUNI_ARRAY[8231]="8,,8231,";g.MUNI_ARRAY[8232]="8,,8232,";g.MUNI_ARRAY[8233]="8,,8233,";g.MUNI_ARRAY[8234]="8,,8234,";g.MUNI_ARRAY[8235]="8,,8235,";g.MUNI_ARRAY[8236]="8,,8236,";g.MUNI_ARRAY[8302]="8,,8302,";g.MUNI_ARRAY[8309]="8,,8309,";g.MUNI_ARRAY[8310]="8,,8310,";g.MUNI_ARRAY[8341]="8,,8341,";g.MUNI_ARRAY[8364]="8,,8364,";g.MUNI_ARRAY[8442]="8,,8442,";g.MUNI_ARRAY[8443]="8,,8443,";g.MUNI_ARRAY[8447]="8,,8447,";g.MUNI_ARRAY[8521]="8,,8521,";g.MUNI_ARRAY[8542]="8,,8542,";g.MUNI_ARRAY[8546]="8,,8546,";g.MUNI_ARRAY[8564]="8,,8564,";g.MUNI_ARRAY[9201]="9,,9201,";g.MUNI_ARRAY[9202]="9,,9202,";g.MUNI_ARRAY[9203]="9,,9203,";g.MUNI_ARRAY[9204]="9,,9204,";g.MUNI_ARRAY[9205]="9,,9205,";g.MUNI_ARRAY[9206]="9,,9206,";g.MUNI_ARRAY[9208]="9,,9208,";g.MUNI_ARRAY[9209]="9,,9209,";g.MUNI_ARRAY[9210]="9,,9210,";g.MUNI_ARRAY[9211]="9,,9211,";g.MUNI_ARRAY[9213]="9,,9213,";g.MUNI_ARRAY[9214]="9,,9214,";g.MUNI_ARRAY[9215]="9,,9215,";g.MUNI_ARRAY[9216]="9,,9216,";g.MUNI_ARRAY[9301]="9,,9301,";g.MUNI_ARRAY[9342]="9,,9342,";g.MUNI_ARRAY[9343]="9,,9343,";g.MUNI_ARRAY[9344]="9,,9344,";g.MUNI_ARRAY[9345]="9,,9345,";g.MUNI_ARRAY[9361]="9,,9361,";g.MUNI_ARRAY[9364]="9,,9364,";g.MUNI_ARRAY[9384]="9,,9384,";g.MUNI_ARRAY[9386]="9,,9386,";g.MUNI_ARRAY[9407]="9,,9407,";g.MUNI_ARRAY[9411]="9,,9411,";g.MUNI_ARRAY[10201]="10,,10201,";g.MUNI_ARRAY[10202]="10,,10202,";g.MUNI_ARRAY[10203]="10,,10203,";g.MUNI_ARRAY[10204]="10,,10204,";g.MUNI_ARRAY[10205]="10,,10205,";g.MUNI_ARRAY[10206]="10,,10206,";g.MUNI_ARRAY[10207]="10,,10207,";g.MUNI_ARRAY[10208]="10,,10208,";g.MUNI_ARRAY[10209]="10,,10209,";g.MUNI_ARRAY[10210]="10,,10210,";g.MUNI_ARRAY[10211]="10,,10211,";g.MUNI_ARRAY[10212]="10,,10212,";g.MUNI_ARRAY[10344]="10,,10344,";g.MUNI_ARRAY[10345]="10,,10345,";g.MUNI_ARRAY[10366]="10,,10366,";g.MUNI_ARRAY[10367]="10,,10367,";g.MUNI_ARRAY[10382]="10,,10382,";g.MUNI_ARRAY[10383]="10,,10383,";g.MUNI_ARRAY[10384]="10,,10384,";g.MUNI_ARRAY[10421]="10,,10421,";g.MUNI_ARRAY[10424]="10,,10424,";g.MUNI_ARRAY[10425]="10,,10425,";g.MUNI_ARRAY[10426]="10,,10426,";g.MUNI_ARRAY[10428]="10,,10428,";g.MUNI_ARRAY[10429]="10,,10429,";g.MUNI_ARRAY[10443]="10,,10443,";g.MUNI_ARRAY[10444]="10,,10444,";g.MUNI_ARRAY[10448]="10,,10448,";g.MUNI_ARRAY[10449]="10,,10449,";g.MUNI_ARRAY[10464]="10,,10464,";g.MUNI_ARRAY[10521]="10,,10521,";g.MUNI_ARRAY[10522]="10,,10522,";g.MUNI_ARRAY[10523]="10,,10523,";g.MUNI_ARRAY[10524]="10,,10524,";g.MUNI_ARRAY[10525]="10,,10525,";g.MUNI_ARRAY[11100]="11,,11100,";g.MUNI_ARRAY[11101]="11,,11101,";g.MUNI_ARRAY[11102]="11,,11102,";g.MUNI_ARRAY[11103]="11,,11103,";g.MUNI_ARRAY[11104]="11,,11104,";g.MUNI_ARRAY[11105]="11,,11105,";g.MUNI_ARRAY[11106]="11,,11106,";g.MUNI_ARRAY[11107]="11,,11107,";g.MUNI_ARRAY[11108]="11,,11108,";g.MUNI_ARRAY[11109]="11,,11109,";g.MUNI_ARRAY[11110]="11,,11110,";g.MUNI_ARRAY[11201]="11,,11201,";g.MUNI_ARRAY[11202]="11,,11202,";g.MUNI_ARRAY[11203]="11,,11203,";g.MUNI_ARRAY[11206]="11,,11206,";g.MUNI_ARRAY[11207]="11,,11207,";g.MUNI_ARRAY[11208]="11,,11208,";g.MUNI_ARRAY[11209]="11,,11209,";g.MUNI_ARRAY[11210]="11,,11210,";g.MUNI_ARRAY[11211]="11,,11211,";g.MUNI_ARRAY[11212]="11,,11212,";g.MUNI_ARRAY[11214]="11,,11214,";g.MUNI_ARRAY[11215]="11,,11215,";g.MUNI_ARRAY[11216]="11,,11216,";g.MUNI_ARRAY[11217]="11,,11217,";g.MUNI_ARRAY[11218]="11,,11218,";g.MUNI_ARRAY[11219]="11,,11219,";g.MUNI_ARRAY[11221]="11,,11221,";g.MUNI_ARRAY[11222]="11,,11222,";g.MUNI_ARRAY[11223]="11,,11223,";g.MUNI_ARRAY[11224]="11,,11224,";g.MUNI_ARRAY[11225]="11,,11225,";g.MUNI_ARRAY[11227]="11,,11227,";g.MUNI_ARRAY[11228]="11,,11228,";g.MUNI_ARRAY[11229]="11,,11229,";g.MUNI_ARRAY[11230]="11,,11230,";g.MUNI_ARRAY[11231]="11,,11231,";g.MUNI_ARRAY[11232]="11,,11232,";g.MUNI_ARRAY[11233]="11,,11233,";g.MUNI_ARRAY[11234]="11,,11234,";g.MUNI_ARRAY[11235]="11,,11235,";g.MUNI_ARRAY[11237]="11,,11237,";g.MUNI_ARRAY[11238]="11,,11238,";g.MUNI_ARRAY[11239]="11,,11239,";g.MUNI_ARRAY[11240]="11,,11240,";g.MUNI_ARRAY[11241]="11,,11241,";g.MUNI_ARRAY[11242]="11,,11242,";g.MUNI_ARRAY[11243]="11,,11243,";g.MUNI_ARRAY[11245]="11,,11245,";g.MUNI_ARRAY[11301]="11,,11301,";g.MUNI_ARRAY[11324]="11,,11324,";g.MUNI_ARRAY[11326]="11,,11326,";g.MUNI_ARRAY[11327]="11,,11327,";g.MUNI_ARRAY[11341]="11,,11341,";g.MUNI_ARRAY[11342]="11,,11342,";g.MUNI_ARRAY[11343]="11,,11343,";g.MUNI_ARRAY[11346]="11,,11346,";g.MUNI_ARRAY[11347]="11,,11347,";g.MUNI_ARRAY[11348]="11,,11348,";g.MUNI_ARRAY[11349]="11,,11349,";g.MUNI_ARRAY[11361]="11,,11361,";g.MUNI_ARRAY[11362]="11,,11362,";g.MUNI_ARRAY[11363]="11,,11363,";g.MUNI_ARRAY[11365]="11,,11365,";g.MUNI_ARRAY[11369]="11,,11369,";g.MUNI_ARRAY[11381]="11,,11381,";g.MUNI_ARRAY[11383]="11,,11383,";g.MUNI_ARRAY[11385]="11,,11385,";g.MUNI_ARRAY[11408]="11,,11408,";g.MUNI_ARRAY[11442]="11,,11442,";g.MUNI_ARRAY[11246]="11,,11246,";g.MUNI_ARRAY[11464]="11,,11464,";g.MUNI_ARRAY[11465]="11,,11465,";g.MUNI_ARRAY[12100]="12,,12100,";g.MUNI_ARRAY[12101]="12,,12101,";g.MUNI_ARRAY[12102]="12,,12102,";g.MUNI_ARRAY[12103]="12,,12103,";g.MUNI_ARRAY[12104]="12,,12104,";g.MUNI_ARRAY[12105]="12,,12105,";g.MUNI_ARRAY[12106]="12,,12106,";g.MUNI_ARRAY[12202]="12,,12202,";g.MUNI_ARRAY[12203]="12,,12203,";g.MUNI_ARRAY[12204]="12,,12204,";g.MUNI_ARRAY[12205]="12,,12205,";g.MUNI_ARRAY[12206]="12,,12206,";g.MUNI_ARRAY[12207]="12,,12207,";g.MUNI_ARRAY[12208]="12,,12208,";g.MUNI_ARRAY[12210]="12,,12210,";g.MUNI_ARRAY[12211]="12,,12211,";g.MUNI_ARRAY[12212]="12,,12212,";g.MUNI_ARRAY[12213]="12,,12213,";g.MUNI_ARRAY[12215]="12,,12215,";g.MUNI_ARRAY[12216]="12,,12216,";g.MUNI_ARRAY[12217]="12,,12217,";g.MUNI_ARRAY[12218]="12,,12218,";g.MUNI_ARRAY[12219]="12,,12219,";g.MUNI_ARRAY[12220]="12,,12220,";g.MUNI_ARRAY[12221]="12,,12221,";g.MUNI_ARRAY[12222]="12,,12222,";g.MUNI_ARRAY[12223]="12,,12223,";g.MUNI_ARRAY[12224]="12,,12224,";g.MUNI_ARRAY[12225]="12,,12225,";g.MUNI_ARRAY[12226]="12,,12226,";g.MUNI_ARRAY[12227]="12,,12227,";g.MUNI_ARRAY[12228]="12,,12228,";g.MUNI_ARRAY[12229]="12,,12229,";g.MUNI_ARRAY[12230]="12,,12230,";g.MUNI_ARRAY[12231]="12,,12231,";g.MUNI_ARRAY[12232]="12,,12232,";g.MUNI_ARRAY[12233]="12,,12233,";g.MUNI_ARRAY[12234]="12,,12234,";g.MUNI_ARRAY[12235]="12,,12235,";g.MUNI_ARRAY[12236]="12,,12236,";g.MUNI_ARRAY[12237]="12,,12237,";g.MUNI_ARRAY[12238]="12,,12238,";g.MUNI_ARRAY[12322]="12,,12322,";g.MUNI_ARRAY[12329]="12,,12329,";g.MUNI_ARRAY[12342]="12,,12342,";g.MUNI_ARRAY[12347]="12,,12347,";g.MUNI_ARRAY[12349]="12,,12349,";g.MUNI_ARRAY[12239]="12,,12239,";g.MUNI_ARRAY[12403]="12,,12403,";g.MUNI_ARRAY[12409]="12,,12409,";g.MUNI_ARRAY[12410]="12,,12410,";g.MUNI_ARRAY[12421]="12,,12421,";g.MUNI_ARRAY[12422]="12,,12422,";g.MUNI_ARRAY[12423]="12,,12423,";g.MUNI_ARRAY[12424]="12,,12424,";g.MUNI_ARRAY[12426]="12,,12426,";g.MUNI_ARRAY[12427]="12,,12427,";g.MUNI_ARRAY[12441]="12,,12441,";g.MUNI_ARRAY[12443]="12,,12443,";g.MUNI_ARRAY[12463]="12,,12463,";g.MUNI_ARRAY[13101]="13,,13101,";g.MUNI_ARRAY[13102]="13,,13102,";g.MUNI_ARRAY[13103]="13,,13103,";g.MUNI_ARRAY[13104]="13,,13104,";g.MUNI_ARRAY[13105]="13,,13105,";g.MUNI_ARRAY[13106]="13,,13106,";g.MUNI_ARRAY[13107]="13,,13107,";g.MUNI_ARRAY[13108]="13,,13108,";g.MUNI_ARRAY[13109]="13,,13109,";g.MUNI_ARRAY[13110]="13,,13110,";g.MUNI_ARRAY[13111]="13,,13111,";g.MUNI_ARRAY[13112]="13,,13112,";g.MUNI_ARRAY[13113]="13,,13113,";g.MUNI_ARRAY[13114]="13,,13114,";g.MUNI_ARRAY[13115]="13,,13115,";g.MUNI_ARRAY[13116]="13,,13116,";g.MUNI_ARRAY[13117]="13,,13117,";g.MUNI_ARRAY[13118]="13,,13118,";g.MUNI_ARRAY[13119]="13,,13119,";g.MUNI_ARRAY[13120]="13,,13120,";g.MUNI_ARRAY[13121]="13,,13121,";g.MUNI_ARRAY[13122]="13,,13122,";g.MUNI_ARRAY[13123]="13,,13123,";g.MUNI_ARRAY[13201]="13,,13201,";g.MUNI_ARRAY[13202]="13,,13202,";g.MUNI_ARRAY[13203]="13,,13203,";g.MUNI_ARRAY[13204]="13,,13204,";g.MUNI_ARRAY[13205]="13,,13205,";g.MUNI_ARRAY[13206]="13,,13206,";g.MUNI_ARRAY[13207]="13,,13207,";g.MUNI_ARRAY[13208]="13,,13208,";g.MUNI_ARRAY[13209]="13,,13209,";g.MUNI_ARRAY[13210]="13,,13210,";g.MUNI_ARRAY[13211]="13,,13211,";g.MUNI_ARRAY[13212]="13,,13212,";g.MUNI_ARRAY[13213]="13,,13213,";g.MUNI_ARRAY[13214]="13,,13214,";g.MUNI_ARRAY[13215]="13,,13215,";g.MUNI_ARRAY[13218]="13,,13218,";g.MUNI_ARRAY[13219]="13,,13219,";g.MUNI_ARRAY[13220]="13,,13220,";g.MUNI_ARRAY[13221]="13,,13221,";g.MUNI_ARRAY[13222]="13,,13222,";g.MUNI_ARRAY[13223]="13,,13223,";g.MUNI_ARRAY[13224]="13,,13224,";g.MUNI_ARRAY[13225]="13,,13225,";g.MUNI_ARRAY[13227]="13,,13227,";g.MUNI_ARRAY[13228]="13,,13228,";g.MUNI_ARRAY[13229]="13,,13229,";g.MUNI_ARRAY[13303]="13,,13303,";g.MUNI_ARRAY[13305]="13,,13305,";g.MUNI_ARRAY[13307]="13,,13307,";g.MUNI_ARRAY[13308]="13,,13308,";g.MUNI_ARRAY[13361]="13,,13361,";g.MUNI_ARRAY[13362]="13,,13362,";g.MUNI_ARRAY[13363]="13,,13363,";g.MUNI_ARRAY[13364]="13,,13364,";g.MUNI_ARRAY[13381]="13,,13381,";g.MUNI_ARRAY[13382]="13,,13382,";g.MUNI_ARRAY[13401]="13,,13401,";g.MUNI_ARRAY[13402]="13,,13402,";g.MUNI_ARRAY[13421]="13,,13421,";g.MUNI_ARRAY[14100]="14,,14100,";g.MUNI_ARRAY[14101]="14,,14101,";g.MUNI_ARRAY[14102]="14,,14102,";g.MUNI_ARRAY[14103]="14,,14103,";g.MUNI_ARRAY[14104]="14,,14104,";g.MUNI_ARRAY[14105]="14,,14105,";g.MUNI_ARRAY[14106]="14,,14106,";g.MUNI_ARRAY[14107]="14,,14107,";g.MUNI_ARRAY[14108]="14,,14108,";g.MUNI_ARRAY[14109]="14,,14109,";g.MUNI_ARRAY[14110]="14,,14110,";g.MUNI_ARRAY[14111]="14,,14111,";g.MUNI_ARRAY[14112]="14,,14112,";g.MUNI_ARRAY[14113]="14,,14113,";g.MUNI_ARRAY[14114]="14,,14114,";g.MUNI_ARRAY[14115]="14,,14115,";g.MUNI_ARRAY[14116]="14,,14116,";g.MUNI_ARRAY[14117]="14,,14117,";g.MUNI_ARRAY[14118]="14,,14118,";g.MUNI_ARRAY[14130]="14,,14130,";g.MUNI_ARRAY[14131]="14,,14131,";g.MUNI_ARRAY[14132]="14,,14132,";g.MUNI_ARRAY[14133]="14,,14133,";g.MUNI_ARRAY[14134]="14,,14134,";g.MUNI_ARRAY[14135]="14,,14135,";g.MUNI_ARRAY[14136]="14,,14136,";g.MUNI_ARRAY[14137]="14,,14137,";g.MUNI_ARRAY[14150]="14,,14150,";g.MUNI_ARRAY[14151]="14,,14151,";g.MUNI_ARRAY[14152]="14,,14152,";g.MUNI_ARRAY[14153]="14,,14153,";g.MUNI_ARRAY[14201]="14,,14201,";g.MUNI_ARRAY[14203]="14,,14203,";g.MUNI_ARRAY[14204]="14,,14204,";g.MUNI_ARRAY[14205]="14,,14205,";g.MUNI_ARRAY[14206]="14,,14206,";g.MUNI_ARRAY[14207]="14,,14207,";g.MUNI_ARRAY[14208]="14,,14208,";g.MUNI_ARRAY[14210]="14,,14210,";g.MUNI_ARRAY[14211]="14,,14211,";g.MUNI_ARRAY[14212]="14,,14212,";g.MUNI_ARRAY[14213]="14,,14213,";g.MUNI_ARRAY[14214]="14,,14214,";g.MUNI_ARRAY[14215]="14,,14215,";g.MUNI_ARRAY[14216]="14,,14216,";g.MUNI_ARRAY[14217]="14,,14217,";g.MUNI_ARRAY[14218]="14,,14218,";g.MUNI_ARRAY[14301]="14,,14301,";g.MUNI_ARRAY[14321]="14,,14321,";g.MUNI_ARRAY[14341]="14,,14341,";g.MUNI_ARRAY[14342]="14,,14342,";g.MUNI_ARRAY[14361]="14,,14361,";g.MUNI_ARRAY[14362]="14,,14362,";g.MUNI_ARRAY[14363]="14,,14363,";g.MUNI_ARRAY[14364]="14,,14364,";g.MUNI_ARRAY[14366]="14,,14366,";g.MUNI_ARRAY[14382]="14,,14382,";g.MUNI_ARRAY[14383]="14,,14383,";g.MUNI_ARRAY[14384]="14,,14384,";g.MUNI_ARRAY[14401]="14,,14401,";g.MUNI_ARRAY[14402]="14,,14402,";g.MUNI_ARRAY[15100]="15,,15100,";g.MUNI_ARRAY[15101]="15,,15101,";g.MUNI_ARRAY[15102]="15,,15102,";g.MUNI_ARRAY[15103]="15,,15103,";g.MUNI_ARRAY[15104]="15,,15104,";g.MUNI_ARRAY[15105]="15,,15105,";g.MUNI_ARRAY[15106]="15,,15106,";g.MUNI_ARRAY[15107]="15,,15107,";g.MUNI_ARRAY[15108]="15,,15108,";g.MUNI_ARRAY[15202]="15,,15202,";g.MUNI_ARRAY[15204]="15,,15204,";g.MUNI_ARRAY[15205]="15,,15205,";g.MUNI_ARRAY[15206]="15,,15206,";g.MUNI_ARRAY[15208]="15,,15208,";g.MUNI_ARRAY[15209]="15,,15209,";g.MUNI_ARRAY[15210]="15,,15210,";g.MUNI_ARRAY[15211]="15,,15211,";g.MUNI_ARRAY[15212]="15,,15212,";g.MUNI_ARRAY[15213]="15,,15213,";g.MUNI_ARRAY[15216]="15,,15216,";g.MUNI_ARRAY[15217]="15,,15217,";g.MUNI_ARRAY[15218]="15,,15218,";g.MUNI_ARRAY[15222]="15,,15222,";g.MUNI_ARRAY[15223]="15,,15223,";g.MUNI_ARRAY[15224]="15,,15224,";g.MUNI_ARRAY[15225]="15,,15225,";g.MUNI_ARRAY[15226]="15,,15226,";g.MUNI_ARRAY[15227]="15,,15227,";g.MUNI_ARRAY[15307]="15,,15307,";g.MUNI_ARRAY[15342]="15,,15342,";g.MUNI_ARRAY[15361]="15,,15361,";g.MUNI_ARRAY[15385]="15,,15385,";g.MUNI_ARRAY[15405]="15,,15405,";g.MUNI_ARRAY[15461]="15,,15461,";g.MUNI_ARRAY[15482]="15,,15482,";g.MUNI_ARRAY[15504]="15,,15504,";g.MUNI_ARRAY[15581]="15,,15581,";g.MUNI_ARRAY[15586]="15,,15586,";g.MUNI_ARRAY[16201]="16,,16201,";g.MUNI_ARRAY[16202]="16,,16202,";g.MUNI_ARRAY[16204]="16,,16204,";g.MUNI_ARRAY[16205]="16,,16205,";g.MUNI_ARRAY[16206]="16,,16206,";g.MUNI_ARRAY[16207]="16,,16207,";g.MUNI_ARRAY[16208]="16,,16208,";g.MUNI_ARRAY[16209]="16,,16209,";g.MUNI_ARRAY[16210]="16,,16210,";g.MUNI_ARRAY[16211]="16,,16211,";g.MUNI_ARRAY[16321]="16,,16321,";g.MUNI_ARRAY[16322]="16,,16322,";g.MUNI_ARRAY[16323]="16,,16323,";g.MUNI_ARRAY[16342]="16,,16342,";g.MUNI_ARRAY[16343]="16,,16343,";g.MUNI_ARRAY[17201]="17,,17201,";g.MUNI_ARRAY[17202]="17,,17202,";g.MUNI_ARRAY[17203]="17,,17203,";g.MUNI_ARRAY[17204]="17,,17204,";g.MUNI_ARRAY[17205]="17,,17205,";g.MUNI_ARRAY[17206]="17,,17206,";g.MUNI_ARRAY[17207]="17,,17207,";g.MUNI_ARRAY[17209]="17,,17209,";g.MUNI_ARRAY[17210]="17,,17210,";g.MUNI_ARRAY[17211]="17,,17211,";g.MUNI_ARRAY[17212]="17,,17212,";g.MUNI_ARRAY[17324]="17,,17324,";g.MUNI_ARRAY[17361]="17,,17361,";g.MUNI_ARRAY[17365]="17,,17365,";g.MUNI_ARRAY[17384]="17,,17384,";g.MUNI_ARRAY[17386]="17,,17386,";g.MUNI_ARRAY[17407]="17,,17407,";g.MUNI_ARRAY[17461]="17,,17461,";g.MUNI_ARRAY[17463]="17,,17463,";g.MUNI_ARRAY[18201]="18,,18201,";g.MUNI_ARRAY[18202]="18,,18202,";g.MUNI_ARRAY[18204]="18,,18204,";g.MUNI_ARRAY[18205]="18,,18205,";g.MUNI_ARRAY[18206]="18,,18206,";g.MUNI_ARRAY[18207]="18,,18207,";g.MUNI_ARRAY[18208]="18,,18208,";g.MUNI_ARRAY[18209]="18,,18209,";g.MUNI_ARRAY[18210]="18,,18210,";g.MUNI_ARRAY[18322]="18,,18322,";g.MUNI_ARRAY[18382]="18,,18382,";g.MUNI_ARRAY[18404]="18,,18404,";g.MUNI_ARRAY[18423]="18,,18423,";g.MUNI_ARRAY[18442]="18,,18442,";g.MUNI_ARRAY[18481]="18,,18481,";g.MUNI_ARRAY[18483]="18,,18483,";g.MUNI_ARRAY[18501]="18,,18501,";g.MUNI_ARRAY[19201]="19,,19201,";g.MUNI_ARRAY[19202]="19,,19202,";g.MUNI_ARRAY[19204]="19,,19204,";g.MUNI_ARRAY[19205]="19,,19205,";g.MUNI_ARRAY[19206]="19,,19206,";g.MUNI_ARRAY[19207]="19,,19207,";g.MUNI_ARRAY[19208]="19,,19208,";g.MUNI_ARRAY[19209]="19,,19209,";g.MUNI_ARRAY[19210]="19,,19210,";g.MUNI_ARRAY[19211]="19,,19211,";g.MUNI_ARRAY[19212]="19,,19212,";g.MUNI_ARRAY[19213]="19,,19213,";g.MUNI_ARRAY[19214]="19,,19214,";g.MUNI_ARRAY[19346]="19,,19346,";g.MUNI_ARRAY[19364]="19,,19364,";g.MUNI_ARRAY[19365]="19,,19365,";g.MUNI_ARRAY[19366]="19,,19366,";g.MUNI_ARRAY[19368]="19,,19368,";g.MUNI_ARRAY[19384]="19,,19384,";g.MUNI_ARRAY[19422]="19,,19422,";g.MUNI_ARRAY[19423]="19,,19423,";g.MUNI_ARRAY[19424]="19,,19424,";g.MUNI_ARRAY[19425]="19,,19425,";g.MUNI_ARRAY[19429]="19,,19429,";g.MUNI_ARRAY[19430]="19,,19430,";g.MUNI_ARRAY[19442]="19,,19442,";g.MUNI_ARRAY[19443]="19,,19443,";g.MUNI_ARRAY[20201]="20,,20201,";g.MUNI_ARRAY[20202]="20,,20202,";g.MUNI_ARRAY[20203]="20,,20203,";g.MUNI_ARRAY[20204]="20,,20204,";g.MUNI_ARRAY[20205]="20,,20205,";g.MUNI_ARRAY[20206]="20,,20206,";g.MUNI_ARRAY[20207]="20,,20207,";g.MUNI_ARRAY[20208]="20,,20208,";g.MUNI_ARRAY[20209]="20,,20209,";g.MUNI_ARRAY[20210]="20,,20210,";g.MUNI_ARRAY[20211]="20,,20211,";g.MUNI_ARRAY[20212]="20,,20212,";g.MUNI_ARRAY[20213]="20,,20213,";g.MUNI_ARRAY[20214]="20,,20214,";g.MUNI_ARRAY[20215]="20,,20215,";g.MUNI_ARRAY[20217]="20,,20217,";g.MUNI_ARRAY[20218]="20,,20218,";g.MUNI_ARRAY[20219]="20,,20219,";g.MUNI_ARRAY[20220]="20,,20220,";g.MUNI_ARRAY[20303]="20,,20303,";g.MUNI_ARRAY[20304]="20,,20304,";g.MUNI_ARRAY[20305]="20,,20305,";g.MUNI_ARRAY[20306]="20,,20306,";g.MUNI_ARRAY[20307]="20,,20307,";g.MUNI_ARRAY[20309]="20,,20309,";g.MUNI_ARRAY[20321]="20,,20321,";g.MUNI_ARRAY[20323]="20,,20323,";g.MUNI_ARRAY[20324]="20,,20324,";g.MUNI_ARRAY[20349]="20,,20349,";g.MUNI_ARRAY[20350]="20,,20350,";g.MUNI_ARRAY[20361]="20,,20361,";g.MUNI_ARRAY[20362]="20,,20362,";g.MUNI_ARRAY[20363]="20,,20363,";g.MUNI_ARRAY[20382]="20,,20382,";g.MUNI_ARRAY[20383]="20,,20383,";g.MUNI_ARRAY[20384]="20,,20384,";g.MUNI_ARRAY[20385]="20,,20385,";g.MUNI_ARRAY[20386]="20,,20386,";g.MUNI_ARRAY[20388]="20,,20388,";g.MUNI_ARRAY[20402]="20,,20402,";g.MUNI_ARRAY[20403]="20,,20403,";g.MUNI_ARRAY[20404]="20,,20404,";g.MUNI_ARRAY[20407]="20,,20407,";g.MUNI_ARRAY[20409]="20,,20409,";g.MUNI_ARRAY[20410]="20,,20410,";g.MUNI_ARRAY[20411]="20,,20411,";g.MUNI_ARRAY[20412]="20,,20412,";g.MUNI_ARRAY[20413]="20,,20413,";g.MUNI_ARRAY[20414]="20,,20414,";g.MUNI_ARRAY[20415]="20,,20415,";g.MUNI_ARRAY[20416]="20,,20416,";g.MUNI_ARRAY[20417]="20,,20417,";g.MUNI_ARRAY[20422]="20,,20422,";g.MUNI_ARRAY[20423]="20,,20423,";g.MUNI_ARRAY[20425]="20,,20425,";g.MUNI_ARRAY[20429]="20,,20429,";g.MUNI_ARRAY[20430]="20,,20430,";g.MUNI_ARRAY[20432]="20,,20432,";g.MUNI_ARRAY[20446]="20,,20446,";g.MUNI_ARRAY[20448]="20,,20448,";g.MUNI_ARRAY[20450]="20,,20450,";g.MUNI_ARRAY[20451]="20,,20451,";g.MUNI_ARRAY[20452]="20,,20452,";g.MUNI_ARRAY[20481]="20,,20481,";g.MUNI_ARRAY[20482]="20,,20482,";g.MUNI_ARRAY[20485]="20,,20485,";g.MUNI_ARRAY[20486]="20,,20486,";g.MUNI_ARRAY[20521]="20,,20521,";g.MUNI_ARRAY[20541]="20,,20541,";g.MUNI_ARRAY[20543]="20,,20543,";g.MUNI_ARRAY[20561]="20,,20561,";g.MUNI_ARRAY[20562]="20,,20562,";g.MUNI_ARRAY[20563]="20,,20563,";g.MUNI_ARRAY[20583]="20,,20583,";g.MUNI_ARRAY[20588]="20,,20588,";g.MUNI_ARRAY[20590]="20,,20590,";g.MUNI_ARRAY[20602]="20,,20602,";g.MUNI_ARRAY[21201]="21,,21201,";g.MUNI_ARRAY[21202]="21,,21202,";g.MUNI_ARRAY[21203]="21,,21203,";g.MUNI_ARRAY[21204]="21,,21204,";g.MUNI_ARRAY[21205]="21,,21205,";g.MUNI_ARRAY[21206]="21,,21206,";g.MUNI_ARRAY[21207]="21,,21207,";g.MUNI_ARRAY[21208]="21,,21208,";g.MUNI_ARRAY[21209]="21,,21209,";g.MUNI_ARRAY[21210]="21,,21210,";g.MUNI_ARRAY[21211]="21,,21211,";g.MUNI_ARRAY[21212]="21,,21212,";g.MUNI_ARRAY[21213]="21,,21213,";g.MUNI_ARRAY[21214]="21,,21214,";g.MUNI_ARRAY[21215]="21,,21215,";g.MUNI_ARRAY[21216]="21,,21216,";g.MUNI_ARRAY[21217]="21,,21217,";g.MUNI_ARRAY[21218]="21,,21218,";g.MUNI_ARRAY[21219]="21,,21219,";g.MUNI_ARRAY[21220]="21,,21220,";g.MUNI_ARRAY[21221]="21,,21221,";g.MUNI_ARRAY[21302]="21,,21302,";g.MUNI_ARRAY[21303]="21,,21303,";g.MUNI_ARRAY[21341]="21,,21341,";g.MUNI_ARRAY[21361]="21,,21361,";g.MUNI_ARRAY[21362]="21,,21362,";g.MUNI_ARRAY[21381]="21,,21381,";g.MUNI_ARRAY[21382]="21,,21382,";g.MUNI_ARRAY[21383]="21,,21383,";g.MUNI_ARRAY[21401]="21,,21401,";g.MUNI_ARRAY[21403]="21,,21403,";g.MUNI_ARRAY[21404]="21,,21404,";g.MUNI_ARRAY[21421]="21,,21421,";g.MUNI_ARRAY[21501]="21,,21501,";g.MUNI_ARRAY[21502]="21,,21502,";g.MUNI_ARRAY[21503]="21,,21503,";g.MUNI_ARRAY[21504]="21,,21504,";g.MUNI_ARRAY[21505]="21,,21505,";g.MUNI_ARRAY[21506]="21,,21506,";g.MUNI_ARRAY[21507]="21,,21507,";g.MUNI_ARRAY[21521]="21,,21521,";g.MUNI_ARRAY[21604]="21,,21604,";g.MUNI_ARRAY[22100]="22,,22100,";g.MUNI_ARRAY[22101]="22,,22101,";g.MUNI_ARRAY[22102]="22,,22102,";g.MUNI_ARRAY[22103]="22,,22103,";g.MUNI_ARRAY[22130]="22,,22130,";g.MUNI_ARRAY[22138]="22,,22138,";g.MUNI_ARRAY[22139]="22,,22139,";g.MUNI_ARRAY[22140]="22,,22140,";g.MUNI_ARRAY[22203]="22,,22203,";g.MUNI_ARRAY[22205]="22,,22205,";g.MUNI_ARRAY[22206]="22,,22206,";g.MUNI_ARRAY[22207]="22,,22207,";g.MUNI_ARRAY[22208]="22,,22208,";g.MUNI_ARRAY[22209]="22,,22209,";g.MUNI_ARRAY[22210]="22,,22210,";g.MUNI_ARRAY[22211]="22,,22211,";g.MUNI_ARRAY[22212]="22,,22212,";g.MUNI_ARRAY[22213]="22,,22213,";g.MUNI_ARRAY[22214]="22,,22214,";g.MUNI_ARRAY[22215]="22,,22215,";g.MUNI_ARRAY[22216]="22,,22216,";g.MUNI_ARRAY[22219]="22,,22219,";g.MUNI_ARRAY[22220]="22,,22220,";g.MUNI_ARRAY[22221]="22,,22221,";g.MUNI_ARRAY[22222]="22,,22222,";g.MUNI_ARRAY[22223]="22,,22223,";g.MUNI_ARRAY[22224]="22,,22224,";g.MUNI_ARRAY[22225]="22,,22225,";g.MUNI_ARRAY[22226]="22,,22226,";g.MUNI_ARRAY[22301]="22,,22301,";g.MUNI_ARRAY[22302]="22,,22302,";g.MUNI_ARRAY[22304]="22,,22304,";g.MUNI_ARRAY[22305]="22,,22305,";g.MUNI_ARRAY[22306]="22,,22306,";g.MUNI_ARRAY[22325]="22,,22325,";g.MUNI_ARRAY[22341]="22,,22341,";g.MUNI_ARRAY[22342]="22,,22342,";g.MUNI_ARRAY[22344]="22,,22344,";g.MUNI_ARRAY[22424]="22,,22424,";g.MUNI_ARRAY[22429]="22,,22429,";g.MUNI_ARRAY[22461]="22,,22461,";g.MUNI_ARRAY[23100]="23,,23100,";g.MUNI_ARRAY[23101]="23,,23101,";g.MUNI_ARRAY[23102]="23,,23102,";g.MUNI_ARRAY[23103]="23,,23103,";g.MUNI_ARRAY[23104]="23,,23104,";g.MUNI_ARRAY[23105]="23,,23105,";g.MUNI_ARRAY[23106]="23,,23106,";g.MUNI_ARRAY[23107]="23,,23107,";g.MUNI_ARRAY[23108]="23,,23108,";g.MUNI_ARRAY[23109]="23,,23109,";g.MUNI_ARRAY[23110]="23,,23110,";g.MUNI_ARRAY[23111]="23,,23111,";g.MUNI_ARRAY[23112]="23,,23112,";g.MUNI_ARRAY[23113]="23,,23113,";g.MUNI_ARRAY[23114]="23,,23114,";g.MUNI_ARRAY[23115]="23,,23115,";g.MUNI_ARRAY[23116]="23,,23116,";g.MUNI_ARRAY[23201]="23,,23201,";g.MUNI_ARRAY[23202]="23,,23202,";g.MUNI_ARRAY[23203]="23,,23203,";g.MUNI_ARRAY[23204]="23,,23204,";g.MUNI_ARRAY[23205]="23,,23205,";g.MUNI_ARRAY[23206]="23,,23206,";g.MUNI_ARRAY[23207]="23,,23207,";g.MUNI_ARRAY[23208]="23,,23208,";g.MUNI_ARRAY[23209]="23,,23209,";g.MUNI_ARRAY[23210]="23,,23210,";g.MUNI_ARRAY[23211]="23,,23211,";g.MUNI_ARRAY[23212]="23,,23212,";g.MUNI_ARRAY[23213]="23,,23213,";g.MUNI_ARRAY[23214]="23,,23214,";g.MUNI_ARRAY[23215]="23,,23215,";g.MUNI_ARRAY[23216]="23,,23216,";g.MUNI_ARRAY[23217]="23,,23217,";g.MUNI_ARRAY[23219]="23,,23219,";g.MUNI_ARRAY[23220]="23,,23220,";g.MUNI_ARRAY[23221]="23,,23221,";g.MUNI_ARRAY[23222]="23,,23222,";g.MUNI_ARRAY[23223]="23,,23223,";g.MUNI_ARRAY[23224]="23,,23224,";g.MUNI_ARRAY[23225]="23,,23225,";g.MUNI_ARRAY[23226]="23,,23226,";g.MUNI_ARRAY[23227]="23,,23227,";g.MUNI_ARRAY[23228]="23,,23228,";g.MUNI_ARRAY[23229]="23,,23229,";g.MUNI_ARRAY[23230]="23,,23230,";g.MUNI_ARRAY[23231]="23,,23231,";g.MUNI_ARRAY[23232]="23,,23232,";g.MUNI_ARRAY[23233]="23,,23233,";g.MUNI_ARRAY[23234]="23,,23234,";g.MUNI_ARRAY[23235]="23,,23235,";g.MUNI_ARRAY[23236]="23,,23236,";g.MUNI_ARRAY[23237]="23,,23237,";g.MUNI_ARRAY[23238]="23,,23238,";g.MUNI_ARRAY[23302]="23,,23302,";g.MUNI_ARRAY[23342]="23,,23342,";g.MUNI_ARRAY[23361]="23,,23361,";g.MUNI_ARRAY[23362]="23,,23362,";g.MUNI_ARRAY[23424]="23,,23424,";g.MUNI_ARRAY[23425]="23,,23425,";g.MUNI_ARRAY[23427]="23,,23427,";g.MUNI_ARRAY[23441]="23,,23441,";g.MUNI_ARRAY[23442]="23,,23442,";g.MUNI_ARRAY[23445]="23,,23445,";g.MUNI_ARRAY[23446]="23,,23446,";g.MUNI_ARRAY[23447]="23,,23447,";g.MUNI_ARRAY[23501]="23,,23501,";g.MUNI_ARRAY[23561]="23,,23561,";g.MUNI_ARRAY[23562]="23,,23562,";g.MUNI_ARRAY[23563]="23,,23563,";g.MUNI_ARRAY[24201]="24,,24201,";g.MUNI_ARRAY[24202]="24,,24202,";g.MUNI_ARRAY[24203]="24,,24203,";g.MUNI_ARRAY[24204]="24,,24204,";g.MUNI_ARRAY[24205]="24,,24205,";g.MUNI_ARRAY[24207]="24,,24207,";g.MUNI_ARRAY[24208]="24,,24208,";g.MUNI_ARRAY[24209]="24,,24209,";g.MUNI_ARRAY[24210]="24,,24210,";g.MUNI_ARRAY[24211]="24,,24211,";g.MUNI_ARRAY[24212]="24,,24212,";g.MUNI_ARRAY[24214]="24,,24214,";g.MUNI_ARRAY[24215]="24,,24215,";g.MUNI_ARRAY[24216]="24,,24216,";g.MUNI_ARRAY[24303]="24,,24303,";g.MUNI_ARRAY[24324]="24,,24324,";g.MUNI_ARRAY[24341]="24,,24341,";g.MUNI_ARRAY[24343]="24,,24343,";g.MUNI_ARRAY[24344]="24,,24344,";g.MUNI_ARRAY[24441]="24,,24441,";g.MUNI_ARRAY[24442]="24,,24442,";g.MUNI_ARRAY[24443]="24,,24443,";g.MUNI_ARRAY[24461]="24,,24461,";g.MUNI_ARRAY[24470]="24,,24470,";g.MUNI_ARRAY[24471]="24,,24471,";g.MUNI_ARRAY[24472]="24,,24472,";g.MUNI_ARRAY[24543]="24,,24543,";g.MUNI_ARRAY[24561]="24,,24561,";g.MUNI_ARRAY[24562]="24,,24562,";g.MUNI_ARRAY[25201]="25,,25201,";g.MUNI_ARRAY[25202]="25,,25202,";g.MUNI_ARRAY[25203]="25,,25203,";g.MUNI_ARRAY[25204]="25,,25204,";g.MUNI_ARRAY[25206]="25,,25206,";g.MUNI_ARRAY[25207]="25,,25207,";g.MUNI_ARRAY[25208]="25,,25208,";g.MUNI_ARRAY[25209]="25,,25209,";g.MUNI_ARRAY[25210]="25,,25210,";g.MUNI_ARRAY[25211]="25,,25211,";g.MUNI_ARRAY[25212]="25,,25212,";g.MUNI_ARRAY[25213]="25,,25213,";g.MUNI_ARRAY[25214]="25,,25214,";g.MUNI_ARRAY[25383]="25,,25383,";g.MUNI_ARRAY[25384]="25,,25384,";g.MUNI_ARRAY[25425]="25,,25425,";g.MUNI_ARRAY[25441]="25,,25441,";g.MUNI_ARRAY[25442]="25,,25442,";g.MUNI_ARRAY[25443]="25,,25443,";g.MUNI_ARRAY[26100]="26,,26100,";g.MUNI_ARRAY[26101]="26,,26101,";g.MUNI_ARRAY[26102]="26,,26102,";g.MUNI_ARRAY[26103]="26,,26103,";g.MUNI_ARRAY[26104]="26,,26104,";g.MUNI_ARRAY[26105]="26,,26105,";g.MUNI_ARRAY[26106]="26,,26106,";g.MUNI_ARRAY[26107]="26,,26107,";g.MUNI_ARRAY[26108]="26,,26108,";g.MUNI_ARRAY[26109]="26,,26109,";g.MUNI_ARRAY[26110]="26,,26110,";g.MUNI_ARRAY[26111]="26,,26111,";g.MUNI_ARRAY[26201]="26,,26201,";g.MUNI_ARRAY[26202]="26,,26202,";g.MUNI_ARRAY[26203]="26,,26203,";g.MUNI_ARRAY[26204]="26,,26204,";g.MUNI_ARRAY[26205]="26,,26205,";g.MUNI_ARRAY[26206]="26,,26206,";g.MUNI_ARRAY[26207]="26,,26207,";g.MUNI_ARRAY[26208]="26,,26208,";g.MUNI_ARRAY[26209]="26,,26209,";g.MUNI_ARRAY[26210]="26,,26210,";g.MUNI_ARRAY[26211]="26,,26211,";g.MUNI_ARRAY[26212]="26,,26212,";g.MUNI_ARRAY[26213]="26,,26213,";g.MUNI_ARRAY[26214]="26,,26214,";g.MUNI_ARRAY[26303]="26,,26303,";g.MUNI_ARRAY[26322]="26,,26322,";g.MUNI_ARRAY[26343]="26,,26343,";g.MUNI_ARRAY[26344]="26,,26344,";g.MUNI_ARRAY[26364]="26,,26364,";g.MUNI_ARRAY[26365]="26,,26365,";g.MUNI_ARRAY[26366]="26,,26366,";g.MUNI_ARRAY[26367]="26,,26367,";g.MUNI_ARRAY[26407]="26,,26407,";g.MUNI_ARRAY[26463]="26,,26463,";g.MUNI_ARRAY[26465]="26,,26465,";g.MUNI_ARRAY[27100]="27,,27100,";g.MUNI_ARRAY[27102]="27,,27102,";g.MUNI_ARRAY[27103]="27,,27103,";g.MUNI_ARRAY[27104]="27,,27104,";g.MUNI_ARRAY[27106]="27,,27106,";g.MUNI_ARRAY[27107]="27,,27107,";g.MUNI_ARRAY[27108]="27,,27108,";g.MUNI_ARRAY[27109]="27,,27109,";g.MUNI_ARRAY[27111]="27,,27111,";g.MUNI_ARRAY[27113]="27,,27113,";g.MUNI_ARRAY[27114]="27,,27114,";g.MUNI_ARRAY[27115]="27,,27115,";g.MUNI_ARRAY[27116]="27,,27116,";g.MUNI_ARRAY[27117]="27,,27117,";g.MUNI_ARRAY[27118]="27,,27118,";g.MUNI_ARRAY[27119]="27,,27119,";g.MUNI_ARRAY[27120]="27,,27120,";g.MUNI_ARRAY[27121]="27,,27121,";g.MUNI_ARRAY[27122]="27,,27122,";g.MUNI_ARRAY[27123]="27,,27123,";g.MUNI_ARRAY[27124]="27,,27124,";g.MUNI_ARRAY[27125]="27,,27125,";g.MUNI_ARRAY[27126]="27,,27126,";g.MUNI_ARRAY[27127]="27,,27127,";g.MUNI_ARRAY[27128]="27,,27128,";g.MUNI_ARRAY[27140]="27,,27140,";g.MUNI_ARRAY[27141]="27,,27141,";g.MUNI_ARRAY[27142]="27,,27142,";g.MUNI_ARRAY[27143]="27,,27143,";g.MUNI_ARRAY[27144]="27,,27144,";g.MUNI_ARRAY[27145]="27,,27145,";g.MUNI_ARRAY[27146]="27,,27146,";g.MUNI_ARRAY[27147]="27,,27147,";g.MUNI_ARRAY[27202]="27,,27202,";g.MUNI_ARRAY[27203]="27,,27203,";g.MUNI_ARRAY[27204]="27,,27204,";g.MUNI_ARRAY[27205]="27,,27205,";g.MUNI_ARRAY[27206]="27,,27206,";g.MUNI_ARRAY[27207]="27,,27207,";g.MUNI_ARRAY[27208]="27,,27208,";g.MUNI_ARRAY[27209]="27,,27209,";g.MUNI_ARRAY[27210]="27,,27210,";g.MUNI_ARRAY[27211]="27,,27211,";g.MUNI_ARRAY[27212]="27,,27212,";g.MUNI_ARRAY[27213]="27,,27213,";g.MUNI_ARRAY[27214]="27,,27214,";g.MUNI_ARRAY[27215]="27,,27215,";g.MUNI_ARRAY[27216]="27,,27216,";g.MUNI_ARRAY[27217]="27,,27217,";g.MUNI_ARRAY[27218]="27,,27218,";g.MUNI_ARRAY[27219]="27,,27219,";g.MUNI_ARRAY[27220]="27,,27220,";g.MUNI_ARRAY[27221]="27,,27221,";g.MUNI_ARRAY[27222]="27,,27222,";g.MUNI_ARRAY[27223]="27,,27223,";g.MUNI_ARRAY[27224]="27,,27224,";g.MUNI_ARRAY[27225]="27,,27225,";g.MUNI_ARRAY[27226]="27,,27226,";g.MUNI_ARRAY[27227]="27,,27227,";g.MUNI_ARRAY[27228]="27,,27228,";g.MUNI_ARRAY[27229]="27,,27229,";g.MUNI_ARRAY[27230]="27,,27230,";g.MUNI_ARRAY[27231]="27,,27231,";g.MUNI_ARRAY[27232]="27,,27232,";g.MUNI_ARRAY[27301]="27,,27301,";g.MUNI_ARRAY[27321]="27,,27321,";g.MUNI_ARRAY[27322]="27,,27322,";g.MUNI_ARRAY[27341]="27,,27341,";g.MUNI_ARRAY[27361]="27,,27361,";g.MUNI_ARRAY[27362]="27,,27362,";g.MUNI_ARRAY[27366]="27,,27366,";g.MUNI_ARRAY[27381]="27,,27381,";g.MUNI_ARRAY[27382]="27,,27382,";g.MUNI_ARRAY[27383]="27,,27383,";g.MUNI_ARRAY[28100]="28,,28100,";g.MUNI_ARRAY[28101]="28,,28101,";g.MUNI_ARRAY[28102]="28,,28102,";g.MUNI_ARRAY[28105]="28,,28105,";g.MUNI_ARRAY[28106]="28,,28106,";g.MUNI_ARRAY[28107]="28,,28107,";g.MUNI_ARRAY[28108]="28,,28108,";g.MUNI_ARRAY[28109]="28,,28109,";g.MUNI_ARRAY[28110]="28,,28110,";g.MUNI_ARRAY[28111]="28,,28111,";g.MUNI_ARRAY[28201]="28,,28201,";g.MUNI_ARRAY[28202]="28,,28202,";g.MUNI_ARRAY[28203]="28,,28203,";g.MUNI_ARRAY[28204]="28,,28204,";g.MUNI_ARRAY[28205]="28,,28205,";g.MUNI_ARRAY[28206]="28,,28206,";g.MUNI_ARRAY[28207]="28,,28207,";g.MUNI_ARRAY[28208]="28,,28208,";g.MUNI_ARRAY[28209]="28,,28209,";g.MUNI_ARRAY[28210]="28,,28210,";g.MUNI_ARRAY[28212]="28,,28212,";g.MUNI_ARRAY[28213]="28,,28213,";g.MUNI_ARRAY[28214]="28,,28214,";g.MUNI_ARRAY[28215]="28,,28215,";g.MUNI_ARRAY[28216]="28,,28216,";g.MUNI_ARRAY[28217]="28,,28217,";g.MUNI_ARRAY[28218]="28,,28218,";g.MUNI_ARRAY[28219]="28,,28219,";g.MUNI_ARRAY[28220]="28,,28220,";g.MUNI_ARRAY[28221]="28,,28221,";g.MUNI_ARRAY[28222]="28,,28222,";g.MUNI_ARRAY[28223]="28,,28223,";g.MUNI_ARRAY[28224]="28,,28224,";g.MUNI_ARRAY[28225]="28,,28225,";g.MUNI_ARRAY[28226]="28,,28226,";g.MUNI_ARRAY[28227]="28,,28227,";g.MUNI_ARRAY[28228]="28,,28228,";g.MUNI_ARRAY[28229]="28,,28229,";g.MUNI_ARRAY[28301]="28,,28301,";g.MUNI_ARRAY[28365]="28,,28365,";g.MUNI_ARRAY[28381]="28,,28381,";g.MUNI_ARRAY[28382]="28,,28382,";g.MUNI_ARRAY[28442]="28,,28442,";g.MUNI_ARRAY[28443]="28,,28443,";g.MUNI_ARRAY[28446]="28,,28446,";g.MUNI_ARRAY[28464]="28,,28464,";g.MUNI_ARRAY[28481]="28,,28481,";g.MUNI_ARRAY[28501]="28,,28501,";g.MUNI_ARRAY[28585]="28,,28585,";g.MUNI_ARRAY[28586]="28,,28586,";g.MUNI_ARRAY[29201]="29,,29201,";g.MUNI_ARRAY[29202]="29,,29202,";g.MUNI_ARRAY[29203]="29,,29203,";g.MUNI_ARRAY[29204]="29,,29204,";g.MUNI_ARRAY[29205]="29,,29205,";g.MUNI_ARRAY[29206]="29,,29206,";g.MUNI_ARRAY[29207]="29,,29207,";g.MUNI_ARRAY[29208]="29,,29208,";g.MUNI_ARRAY[29209]="29,,29209,";g.MUNI_ARRAY[29210]="29,,29210,";g.MUNI_ARRAY[29211]="29,,29211,";g.MUNI_ARRAY[29212]="29,,29212,";g.MUNI_ARRAY[29322]="29,,29322,";g.MUNI_ARRAY[29342]="29,,29342,";g.MUNI_ARRAY[29343]="29,,29343,";g.MUNI_ARRAY[29344]="29,,29344,";g.MUNI_ARRAY[29345]="29,,29345,";g.MUNI_ARRAY[29361]="29,,29361,";g.MUNI_ARRAY[29362]="29,,29362,";g.MUNI_ARRAY[29363]="29,,29363,";g.MUNI_ARRAY[29385]="29,,29385,";g.MUNI_ARRAY[29386]="29,,29386,";g.MUNI_ARRAY[29401]="29,,29401,";g.MUNI_ARRAY[29402]="29,,29402,";g.MUNI_ARRAY[29424]="29,,29424,";g.MUNI_ARRAY[29425]="29,,29425,";g.MUNI_ARRAY[29426]="29,,29426,";g.MUNI_ARRAY[29427]="29,,29427,";g.MUNI_ARRAY[29441]="29,,29441,";g.MUNI_ARRAY[29442]="29,,29442,";g.MUNI_ARRAY[29443]="29,,29443,";g.MUNI_ARRAY[29444]="29,,29444,";g.MUNI_ARRAY[29446]="29,,29446,";g.MUNI_ARRAY[29447]="29,,29447,";g.MUNI_ARRAY[29449]="29,,29449,";g.MUNI_ARRAY[29450]="29,,29450,";g.MUNI_ARRAY[29451]="29,,29451,";g.MUNI_ARRAY[29452]="29,,29452,";g.MUNI_ARRAY[29453]="29,,29453,";g.MUNI_ARRAY[30201]="30,,30201,";g.MUNI_ARRAY[30202]="30,,30202,";g.MUNI_ARRAY[30203]="30,,30203,";g.MUNI_ARRAY[30204]="30,,30204,";g.MUNI_ARRAY[30205]="30,,30205,";g.MUNI_ARRAY[30206]="30,,30206,";g.MUNI_ARRAY[30207]="30,,30207,";g.MUNI_ARRAY[30208]="30,,30208,";g.MUNI_ARRAY[30209]="30,,30209,";g.MUNI_ARRAY[30304]="30,,30304,";g.MUNI_ARRAY[30341]="30,,30341,";g.MUNI_ARRAY[30343]="30,,30343,";g.MUNI_ARRAY[30344]="30,,30344,";g.MUNI_ARRAY[30361]="30,,30361,";g.MUNI_ARRAY[30362]="30,,30362,";g.MUNI_ARRAY[30366]="30,,30366,";g.MUNI_ARRAY[30381]="30,,30381,";g.MUNI_ARRAY[30382]="30,,30382,";g.MUNI_ARRAY[30383]="30,,30383,";g.MUNI_ARRAY[30390]="30,,30390,";g.MUNI_ARRAY[30391]="30,,30391,";g.MUNI_ARRAY[30392]="30,,30392,";g.MUNI_ARRAY[30401]="30,,30401,";g.MUNI_ARRAY[30404]="30,,30404,";g.MUNI_ARRAY[30406]="30,,30406,";g.MUNI_ARRAY[30421]="30,,30421,";g.MUNI_ARRAY[30422]="30,,30422,";g.MUNI_ARRAY[30424]="30,,30424,";g.MUNI_ARRAY[30427]="30,,30427,";g.MUNI_ARRAY[30428]="30,,30428,";g.MUNI_ARRAY[31201]="31,,31201,";g.MUNI_ARRAY[31202]="31,,31202,";g.MUNI_ARRAY[31203]="31,,31203,";g.MUNI_ARRAY[31204]="31,,31204,";g.MUNI_ARRAY[31302]="31,,31302,";g.MUNI_ARRAY[31325]="31,,31325,";g.MUNI_ARRAY[31328]="31,,31328,";g.MUNI_ARRAY[31329]="31,,31329,";g.MUNI_ARRAY[31364]="31,,31364,";g.MUNI_ARRAY[31370]="31,,31370,";g.MUNI_ARRAY[31371]="31,,31371,";g.MUNI_ARRAY[31372]="31,,31372,";g.MUNI_ARRAY[31384]="31,,31384,";g.MUNI_ARRAY[31386]="31,,31386,";g.MUNI_ARRAY[31389]="31,,31389,";g.MUNI_ARRAY[31390]="31,,31390,";g.MUNI_ARRAY[31401]="31,,31401,";g.MUNI_ARRAY[31402]="31,,31402,";g.MUNI_ARRAY[31403]="31,,31403,";g.MUNI_ARRAY[32201]="32,,32201,";g.MUNI_ARRAY[32202]="32,,32202,";g.MUNI_ARRAY[32203]="32,,32203,";g.MUNI_ARRAY[32204]="32,,32204,";g.MUNI_ARRAY[32205]="32,,32205,";g.MUNI_ARRAY[32206]="32,,32206,";g.MUNI_ARRAY[32207]="32,,32207,";g.MUNI_ARRAY[32209]="32,,32209,";g.MUNI_ARRAY[32343]="32,,32343,";g.MUNI_ARRAY[32386]="32,,32386,";g.MUNI_ARRAY[32441]="32,,32441,";g.MUNI_ARRAY[32448]="32,,32448,";g.MUNI_ARRAY[32449]="32,,32449,";g.MUNI_ARRAY[32501]="32,,32501,";g.MUNI_ARRAY[32505]="32,,32505,";g.MUNI_ARRAY[32525]="32,,32525,";g.MUNI_ARRAY[32526]="32,,32526,";g.MUNI_ARRAY[32527]="32,,32527,";g.MUNI_ARRAY[32528]="32,,32528,";g.MUNI_ARRAY[33100]="33,,33100,";g.MUNI_ARRAY[33101]="33,,33101,";g.MUNI_ARRAY[33102]="33,,33102,";g.MUNI_ARRAY[33103]="33,,33103,";g.MUNI_ARRAY[33104]="33,,33104,";g.MUNI_ARRAY[33202]="33,,33202,";g.MUNI_ARRAY[33203]="33,,33203,";g.MUNI_ARRAY[33204]="33,,33204,";g.MUNI_ARRAY[33205]="33,,33205,";g.MUNI_ARRAY[33207]="33,,33207,";g.MUNI_ARRAY[33208]="33,,33208,";g.MUNI_ARRAY[33209]="33,,33209,";g.MUNI_ARRAY[33210]="33,,33210,";g.MUNI_ARRAY[33211]="33,,33211,";g.MUNI_ARRAY[33212]="33,,33212,";g.MUNI_ARRAY[33213]="33,,33213,";g.MUNI_ARRAY[33214]="33,,33214,";g.MUNI_ARRAY[33215]="33,,33215,";g.MUNI_ARRAY[33216]="33,,33216,";g.MUNI_ARRAY[33346]="33,,33346,";g.MUNI_ARRAY[33423]="33,,33423,";g.MUNI_ARRAY[33445]="33,,33445,";g.MUNI_ARRAY[33461]="33,,33461,";g.MUNI_ARRAY[33586]="33,,33586,";g.MUNI_ARRAY[33606]="33,,33606,";g.MUNI_ARRAY[33622]="33,,33622,";g.MUNI_ARRAY[33623]="33,,33623,";g.MUNI_ARRAY[33643]="33,,33643,";g.MUNI_ARRAY[33663]="33,,33663,";g.MUNI_ARRAY[33666]="33,,33666,";g.MUNI_ARRAY[33681]="33,,33681,";g.MUNI_ARRAY[34100]="34,,34100,";g.MUNI_ARRAY[34101]="34,,34101,";g.MUNI_ARRAY[34102]="34,,34102,";g.MUNI_ARRAY[34103]="34,,34103,";g.MUNI_ARRAY[34104]="34,,34104,";g.MUNI_ARRAY[34105]="34,,34105,";g.MUNI_ARRAY[34106]="34,,34106,";g.MUNI_ARRAY[34107]="34,,34107,";g.MUNI_ARRAY[34108]="34,,34108,";g.MUNI_ARRAY[34202]="34,,34202,";g.MUNI_ARRAY[34203]="34,,34203,";g.MUNI_ARRAY[34204]="34,,34204,";g.MUNI_ARRAY[34205]="34,,34205,";g.MUNI_ARRAY[34207]="34,,34207,";g.MUNI_ARRAY[34208]="34,,34208,";g.MUNI_ARRAY[34209]="34,,34209,";g.MUNI_ARRAY[34210]="34,,34210,";g.MUNI_ARRAY[34211]="34,,34211,";g.MUNI_ARRAY[34212]="34,,34212,";g.MUNI_ARRAY[34213]="34,,34213,";g.MUNI_ARRAY[34214]="34,,34214,";g.MUNI_ARRAY[34215]="34,,34215,";g.MUNI_ARRAY[34302]="34,,34302,";g.MUNI_ARRAY[34304]="34,,34304,";g.MUNI_ARRAY[34307]="34,,34307,";g.MUNI_ARRAY[34309]="34,,34309,";g.MUNI_ARRAY[34368]="34,,34368,";g.MUNI_ARRAY[34369]="34,,34369,";g.MUNI_ARRAY[34431]="34,,34431,";g.MUNI_ARRAY[34462]="34,,34462,";g.MUNI_ARRAY[34545]="34,,34545,";g.MUNI_ARRAY[35201]="35,,35201,";g.MUNI_ARRAY[35202]="35,,35202,";g.MUNI_ARRAY[35203]="35,,35203,";g.MUNI_ARRAY[35204]="35,,35204,";g.MUNI_ARRAY[35206]="35,,35206,";g.MUNI_ARRAY[35207]="35,,35207,";g.MUNI_ARRAY[35208]="35,,35208,";g.MUNI_ARRAY[35210]="35,,35210,";g.MUNI_ARRAY[35211]="35,,35211,";g.MUNI_ARRAY[35212]="35,,35212,";g.MUNI_ARRAY[35213]="35,,35213,";g.MUNI_ARRAY[35215]="35,,35215,";g.MUNI_ARRAY[35216]="35,,35216,";g.MUNI_ARRAY[35305]="35,,35305,";g.MUNI_ARRAY[35321]="35,,35321,";g.MUNI_ARRAY[35341]="35,,35341,";g.MUNI_ARRAY[35343]="35,,35343,";g.MUNI_ARRAY[35344]="35,,35344,";g.MUNI_ARRAY[35502]="35,,35502,";g.MUNI_ARRAY[36201]="36,,36201,";g.MUNI_ARRAY[36202]="36,,36202,";g.MUNI_ARRAY[36203]="36,,36203,";g.MUNI_ARRAY[36204]="36,,36204,";g.MUNI_ARRAY[36205]="36,,36205,";g.MUNI_ARRAY[36206]="36,,36206,";g.MUNI_ARRAY[36207]="36,,36207,";g.MUNI_ARRAY[36208]="36,,36208,";g.MUNI_ARRAY[36301]="36,,36301,";g.MUNI_ARRAY[36302]="36,,36302,";g.MUNI_ARRAY[36321]="36,,36321,";g.MUNI_ARRAY[36341]="36,,36341,";g.MUNI_ARRAY[36342]="36,,36342,";g.MUNI_ARRAY[36368]="36,,36368,";g.MUNI_ARRAY[36383]="36,,36383,";g.MUNI_ARRAY[36387]="36,,36387,";g.MUNI_ARRAY[36388]="36,,36388,";g.MUNI_ARRAY[36401]="36,,36401,";g.MUNI_ARRAY[36402]="36,,36402,";g.MUNI_ARRAY[36403]="36,,36403,";g.MUNI_ARRAY[36404]="36,,36404,";g.MUNI_ARRAY[36405]="36,,36405,";g.MUNI_ARRAY[36468]="36,,36468,";g.MUNI_ARRAY[36489]="36,,36489,";g.MUNI_ARRAY[37201]="37,,37201,";g.MUNI_ARRAY[37202]="37,,37202,";g.MUNI_ARRAY[37203]="37,,37203,";g.MUNI_ARRAY[37204]="37,,37204,";g.MUNI_ARRAY[37205]="37,,37205,";g.MUNI_ARRAY[37206]="37,,37206,";g.MUNI_ARRAY[37207]="37,,37207,";g.MUNI_ARRAY[37208]="37,,37208,";g.MUNI_ARRAY[37322]="37,,37322,";g.MUNI_ARRAY[37324]="37,,37324,";g.MUNI_ARRAY[37341]="37,,37341,";g.MUNI_ARRAY[37364]="37,,37364,";g.MUNI_ARRAY[37386]="37,,37386,";g.MUNI_ARRAY[37387]="37,,37387,";g.MUNI_ARRAY[37403]="37,,37403,";g.MUNI_ARRAY[37404]="37,,37404,";g.MUNI_ARRAY[37406]="37,,37406,";g.MUNI_ARRAY[38201]="38,,38201,";g.MUNI_ARRAY[38202]="38,,38202,";g.MUNI_ARRAY[38203]="38,,38203,";g.MUNI_ARRAY[38204]="38,,38204,";g.MUNI_ARRAY[38205]="38,,38205,";g.MUNI_ARRAY[38206]="38,,38206,";g.MUNI_ARRAY[38207]="38,,38207,";g.MUNI_ARRAY[38210]="38,,38210,";g.MUNI_ARRAY[38213]="38,,38213,";g.MUNI_ARRAY[38214]="38,,38214,";g.MUNI_ARRAY[38215]="38,,38215,";g.MUNI_ARRAY[38356]="38,,38356,";g.MUNI_ARRAY[38386]="38,,38386,";g.MUNI_ARRAY[38401]="38,,38401,";g.MUNI_ARRAY[38402]="38,,38402,";g.MUNI_ARRAY[38422]="38,,38422,";g.MUNI_ARRAY[38442]="38,,38442,";g.MUNI_ARRAY[38484]="38,,38484,";g.MUNI_ARRAY[38488]="38,,38488,";g.MUNI_ARRAY[38506]="38,,38506,";g.MUNI_ARRAY[39201]="39,,39201,";g.MUNI_ARRAY[39202]="39,,39202,";g.MUNI_ARRAY[39203]="39,,39203,";g.MUNI_ARRAY[39204]="39,,39204,";g.MUNI_ARRAY[39205]="39,,39205,";g.MUNI_ARRAY[39206]="39,,39206,";g.MUNI_ARRAY[39208]="39,,39208,";g.MUNI_ARRAY[39209]="39,,39209,";g.MUNI_ARRAY[39210]="39,,39210,";g.MUNI_ARRAY[39211]="39,,39211,";g.MUNI_ARRAY[39212]="39,,39212,";g.MUNI_ARRAY[39301]="39,,39301,";g.MUNI_ARRAY[39302]="39,,39302,";g.MUNI_ARRAY[39303]="39,,39303,";g.MUNI_ARRAY[39304]="39,,39304,";g.MUNI_ARRAY[39305]="39,,39305,";g.MUNI_ARRAY[39306]="39,,39306,";g.MUNI_ARRAY[39307]="39,,39307,";g.MUNI_ARRAY[39341]="39,,39341,";g.MUNI_ARRAY[39344]="39,,39344,";g.MUNI_ARRAY[39363]="39,,39363,";g.MUNI_ARRAY[39364]="39,,39364,";g.MUNI_ARRAY[39386]="39,,39386,";g.MUNI_ARRAY[39387]="39,,39387,";g.MUNI_ARRAY[39401]="39,,39401,";g.MUNI_ARRAY[39402]="39,,39402,";g.MUNI_ARRAY[39403]="39,,39403,";g.MUNI_ARRAY[39405]="39,,39405,";g.MUNI_ARRAY[39410]="39,,39410,";g.MUNI_ARRAY[39411]="39,,39411,";g.MUNI_ARRAY[39412]="39,,39412,";g.MUNI_ARRAY[39424]="39,,39424,";g.MUNI_ARRAY[39427]="39,,39427,";g.MUNI_ARRAY[39428]="39,,39428,";g.MUNI_ARRAY[40100]="40,,40100,";g.MUNI_ARRAY[40101]="40,,40101,";g.MUNI_ARRAY[40103]="40,,40103,";g.MUNI_ARRAY[40105]="40,,40105,";g.MUNI_ARRAY[40106]="40,,40106,";g.MUNI_ARRAY[40107]="40,,40107,";g.MUNI_ARRAY[40108]="40,,40108,";g.MUNI_ARRAY[40109]="40,,40109,";g.MUNI_ARRAY[40130]="40,,40130,";g.MUNI_ARRAY[40131]="40,,40131,";g.MUNI_ARRAY[40132]="40,,40132,";g.MUNI_ARRAY[40133]="40,,40133,";g.MUNI_ARRAY[40134]="40,,40134,";g.MUNI_ARRAY[40135]="40,,40135,";g.MUNI_ARRAY[40136]="40,,40136,";g.MUNI_ARRAY[40137]="40,,40137,";g.MUNI_ARRAY[40202]="40,,40202,";g.MUNI_ARRAY[40203]="40,,40203,";g.MUNI_ARRAY[40204]="40,,40204,";g.MUNI_ARRAY[40205]="40,,40205,";g.MUNI_ARRAY[40206]="40,,40206,";g.MUNI_ARRAY[40207]="40,,40207,";g.MUNI_ARRAY[40210]="40,,40210,";g.MUNI_ARRAY[40211]="40,,40211,";g.MUNI_ARRAY[40212]="40,,40212,";g.MUNI_ARRAY[40213]="40,,40213,";g.MUNI_ARRAY[40214]="40,,40214,";g.MUNI_ARRAY[40215]="40,,40215,";g.MUNI_ARRAY[40216]="40,,40216,";g.MUNI_ARRAY[40217]="40,,40217,";g.MUNI_ARRAY[40218]="40,,40218,";g.MUNI_ARRAY[40219]="40,,40219,";g.MUNI_ARRAY[40220]="40,,40220,";g.MUNI_ARRAY[40221]="40,,40221,";g.MUNI_ARRAY[40223]="40,,40223,";g.MUNI_ARRAY[40224]="40,,40224,";g.MUNI_ARRAY[40225]="40,,40225,";g.MUNI_ARRAY[40226]="40,,40226,";g.MUNI_ARRAY[40227]="40,,40227,";g.MUNI_ARRAY[40228]="40,,40228,";g.MUNI_ARRAY[40229]="40,,40229,";g.MUNI_ARRAY[40230]="40,,40230,";g.MUNI_ARRAY[40231]="40,,40231,";g.MUNI_ARRAY[40341]="40,,40341,";g.MUNI_ARRAY[40342]="40,,40342,";g.MUNI_ARRAY[40343]="40,,40343,";g.MUNI_ARRAY[40344]="40,,40344,";g.MUNI_ARRAY[40345]="40,,40345,";g.MUNI_ARRAY[40348]="40,,40348,";g.MUNI_ARRAY[40349]="40,,40349,";g.MUNI_ARRAY[40381]="40,,40381,";g.MUNI_ARRAY[40382]="40,,40382,";g.MUNI_ARRAY[40383]="40,,40383,";g.MUNI_ARRAY[40384]="40,,40384,";g.MUNI_ARRAY[40401]="40,,40401,";g.MUNI_ARRAY[40402]="40,,40402,";g.MUNI_ARRAY[40421]="40,,40421,";g.MUNI_ARRAY[40447]="40,,40447,";g.MUNI_ARRAY[40448]="40,,40448,";g.MUNI_ARRAY[40503]="40,,40503,";g.MUNI_ARRAY[40522]="40,,40522,";g.MUNI_ARRAY[40544]="40,,40544,";g.MUNI_ARRAY[40601]="40,,40601,";g.MUNI_ARRAY[40602]="40,,40602,";g.MUNI_ARRAY[40604]="40,,40604,";g.MUNI_ARRAY[40605]="40,,40605,";g.MUNI_ARRAY[40608]="40,,40608,";g.MUNI_ARRAY[40609]="40,,40609,";g.MUNI_ARRAY[40610]="40,,40610,";g.MUNI_ARRAY[40621]="40,,40621,";g.MUNI_ARRAY[40625]="40,,40625,";g.MUNI_ARRAY[40642]="40,,40642,";g.MUNI_ARRAY[40646]="40,,40646,";g.MUNI_ARRAY[40647]="40,,40647,";g.MUNI_ARRAY[41201]="41,,41201,";g.MUNI_ARRAY[41202]="41,,41202,";g.MUNI_ARRAY[41203]="41,,41203,";g.MUNI_ARRAY[41204]="41,,41204,";g.MUNI_ARRAY[41205]="41,,41205,";g.MUNI_ARRAY[41206]="41,,41206,";g.MUNI_ARRAY[41207]="41,,41207,";g.MUNI_ARRAY[41208]="41,,41208,";g.MUNI_ARRAY[41209]="41,,41209,";g.MUNI_ARRAY[41210]="41,,41210,";g.MUNI_ARRAY[41327]="41,,41327,";g.MUNI_ARRAY[41341]="41,,41341,";g.MUNI_ARRAY[41345]="41,,41345,";g.MUNI_ARRAY[41346]="41,,41346,";g.MUNI_ARRAY[41387]="41,,41387,";g.MUNI_ARRAY[41401]="41,,41401,";g.MUNI_ARRAY[41423]="41,,41423,";g.MUNI_ARRAY[41424]="41,,41424,";g.MUNI_ARRAY[41425]="41,,41425,";g.MUNI_ARRAY[41441]="41,,41441,";g.MUNI_ARRAY[42201]="42,,42201,";g.MUNI_ARRAY[42202]="42,,42202,";g.MUNI_ARRAY[42203]="42,,42203,";g.MUNI_ARRAY[42204]="42,,42204,";g.MUNI_ARRAY[42205]="42,,42205,";g.MUNI_ARRAY[42207]="42,,42207,";g.MUNI_ARRAY[42208]="42,,42208,";g.MUNI_ARRAY[42209]="42,,42209,";g.MUNI_ARRAY[42210]="42,,42210,";g.MUNI_ARRAY[42211]="42,,42211,";g.MUNI_ARRAY[42212]="42,,42212,";g.MUNI_ARRAY[42213]="42,,42213,";g.MUNI_ARRAY[42214]="42,,42214,";g.MUNI_ARRAY[42307]="42,,42307,";g.MUNI_ARRAY[42308]="42,,42308,";g.MUNI_ARRAY[42321]="42,,42321,";g.MUNI_ARRAY[42322]="42,,42322,";g.MUNI_ARRAY[42323]="42,,42323,";g.MUNI_ARRAY[42383]="42,,42383,";g.MUNI_ARRAY[42391]="42,,42391,";g.MUNI_ARRAY[42411]="42,,42411,";g.MUNI_ARRAY[43100]="43,,43100,";g.MUNI_ARRAY[43101]="43,,43101,";g.MUNI_ARRAY[43102]="43,,43102,";g.MUNI_ARRAY[43103]="43,,43103,";g.MUNI_ARRAY[43104]="43,,43104,";g.MUNI_ARRAY[43105]="43,,43105,";g.MUNI_ARRAY[43202]="43,,43202,";g.MUNI_ARRAY[43203]="43,,43203,";g.MUNI_ARRAY[43204]="43,,43204,";g.MUNI_ARRAY[43205]="43,,43205,";g.MUNI_ARRAY[43206]="43,,43206,";g.MUNI_ARRAY[43208]="43,,43208,";g.MUNI_ARRAY[43210]="43,,43210,";g.MUNI_ARRAY[43211]="43,,43211,";g.MUNI_ARRAY[43212]="43,,43212,";g.MUNI_ARRAY[43213]="43,,43213,";g.MUNI_ARRAY[43214]="43,,43214,";g.MUNI_ARRAY[43215]="43,,43215,";g.MUNI_ARRAY[43216]="43,,43216,";g.MUNI_ARRAY[43348]="43,,43348,";g.MUNI_ARRAY[43364]="43,,43364,";g.MUNI_ARRAY[43367]="43,,43367,";g.MUNI_ARRAY[43368]="43,,43368,";g.MUNI_ARRAY[43369]="43,,43369,";g.MUNI_ARRAY[43403]="43,,43403,";g.MUNI_ARRAY[43404]="43,,43404,";g.MUNI_ARRAY[43423]="43,,43423,";g.MUNI_ARRAY[43424]="43,,43424,";g.MUNI_ARRAY[43425]="43,,43425,";g.MUNI_ARRAY[43428]="43,,43428,";g.MUNI_ARRAY[43432]="43,,43432,";g.MUNI_ARRAY[43433]="43,,43433,";g.MUNI_ARRAY[43441]="43,,43441,";g.MUNI_ARRAY[43442]="43,,43442,";g.MUNI_ARRAY[43443]="43,,43443,";g.MUNI_ARRAY[43444]="43,,43444,";g.MUNI_ARRAY[43447]="43,,43447,";g.MUNI_ARRAY[43468]="43,,43468,";g.MUNI_ARRAY[43482]="43,,43482,";g.MUNI_ARRAY[43484]="43,,43484,";g.MUNI_ARRAY[43501]="43,,43501,";g.MUNI_ARRAY[43505]="43,,43505,";g.MUNI_ARRAY[43506]="43,,43506,";g.MUNI_ARRAY[43507]="43,,43507,";g.MUNI_ARRAY[43510]="43,,43510,";g.MUNI_ARRAY[43511]="43,,43511,";g.MUNI_ARRAY[43512]="43,,43512,";g.MUNI_ARRAY[43513]="43,,43513,";g.MUNI_ARRAY[43514]="43,,43514,";g.MUNI_ARRAY[43531]="43,,43531,";g.MUNI_ARRAY[44201]="44,,44201,";g.MUNI_ARRAY[44202]="44,,44202,";g.MUNI_ARRAY[44203]="44,,44203,";g.MUNI_ARRAY[44204]="44,,44204,";g.MUNI_ARRAY[44205]="44,,44205,";g.MUNI_ARRAY[44206]="44,,44206,";g.MUNI_ARRAY[44207]="44,,44207,";g.MUNI_ARRAY[44208]="44,,44208,";g.MUNI_ARRAY[44209]="44,,44209,";g.MUNI_ARRAY[44210]="44,,44210,";g.MUNI_ARRAY[44211]="44,,44211,";g.MUNI_ARRAY[44212]="44,,44212,";g.MUNI_ARRAY[44213]="44,,44213,";g.MUNI_ARRAY[44214]="44,,44214,";g.MUNI_ARRAY[44322]="44,,44322,";g.MUNI_ARRAY[44341]="44,,44341,";g.MUNI_ARRAY[44461]="44,,44461,";g.MUNI_ARRAY[44462]="44,,44462,";g.MUNI_ARRAY[45201]="45,,45201,";g.MUNI_ARRAY[45202]="45,,45202,";g.MUNI_ARRAY[45203]="45,,45203,";g.MUNI_ARRAY[45204]="45,,45204,";g.MUNI_ARRAY[45205]="45,,45205,";g.MUNI_ARRAY[45206]="45,,45206,";g.MUNI_ARRAY[45207]="45,,45207,";g.MUNI_ARRAY[45208]="45,,45208,";g.MUNI_ARRAY[45209]="45,,45209,";g.MUNI_ARRAY[45341]="45,,45341,";g.MUNI_ARRAY[45361]="45,,45361,";g.MUNI_ARRAY[45382]="45,,45382,";g.MUNI_ARRAY[45383]="45,,45383,";g.MUNI_ARRAY[45401]="45,,45401,";g.MUNI_ARRAY[45402]="45,,45402,";g.MUNI_ARRAY[45403]="45,,45403,";g.MUNI_ARRAY[45404]="45,,45404,";g.MUNI_ARRAY[45405]="45,,45405,";g.MUNI_ARRAY[45406]="45,,45406,";g.MUNI_ARRAY[45421]="45,,45421,";g.MUNI_ARRAY[45429]="45,,45429,";g.MUNI_ARRAY[45430]="45,,45430,";g.MUNI_ARRAY[45431]="45,,45431,";g.MUNI_ARRAY[45441]="45,,45441,";g.MUNI_ARRAY[45442]="45,,45442,";g.MUNI_ARRAY[45443]="45,,45443,";g.MUNI_ARRAY[46201]="46,,46201,";g.MUNI_ARRAY[46203]="46,,46203,";g.MUNI_ARRAY[46204]="46,,46204,";g.MUNI_ARRAY[46206]="46,,46206,";g.MUNI_ARRAY[46208]="46,,46208,";g.MUNI_ARRAY[46210]="46,,46210,";g.MUNI_ARRAY[46213]="46,,46213,";g.MUNI_ARRAY[46214]="46,,46214,";g.MUNI_ARRAY[46215]="46,,46215,";g.MUNI_ARRAY[46216]="46,,46216,";g.MUNI_ARRAY[46217]="46,,46217,";g.MUNI_ARRAY[46218]="46,,46218,";g.MUNI_ARRAY[46219]="46,,46219,";g.MUNI_ARRAY[46220]="46,,46220,";g.MUNI_ARRAY[46221]="46,,46221,";g.MUNI_ARRAY[46222]="46,,46222,";g.MUNI_ARRAY[46223]="46,,46223,";g.MUNI_ARRAY[46224]="46,,46224,";g.MUNI_ARRAY[46225]="46,,46225,";g.MUNI_ARRAY[46303]="46,,46303,";g.MUNI_ARRAY[46304]="46,,46304,";g.MUNI_ARRAY[46392]="46,,46392,";g.MUNI_ARRAY[46404]="46,,46404,";g.MUNI_ARRAY[46452]="46,,46452,";g.MUNI_ARRAY[46468]="46,,46468,";g.MUNI_ARRAY[46482]="46,,46482,";g.MUNI_ARRAY[46490]="46,,46490,";g.MUNI_ARRAY[46491]="46,,46491,";g.MUNI_ARRAY[46492]="46,,46492,";g.MUNI_ARRAY[46501]="46,,46501,";g.MUNI_ARRAY[46502]="46,,46502,";g.MUNI_ARRAY[46505]="46,,46505,";g.MUNI_ARRAY[46523]="46,,46523,";g.MUNI_ARRAY[46524]="46,,46524,";g.MUNI_ARRAY[46525]="46,,46525,";g.MUNI_ARRAY[46527]="46,,46527,";g.MUNI_ARRAY[46529]="46,,46529,";g.MUNI_ARRAY[46530]="46,,46530,";g.MUNI_ARRAY[46531]="46,,46531,";g.MUNI_ARRAY[46532]="46,,46532,";g.MUNI_ARRAY[46533]="46,,46533,";g.MUNI_ARRAY[46534]="46,,46534,";g.MUNI_ARRAY[46535]="46,,46535,";g.MUNI_ARRAY[47201]="47,,47201,";g.MUNI_ARRAY[47205]="47,,47205,";g.MUNI_ARRAY[47207]="47,,47207,";g.MUNI_ARRAY[47208]="47,,47208,";g.MUNI_ARRAY[47209]="47,,47209,";g.MUNI_ARRAY[47210]="47,,47210,";g.MUNI_ARRAY[47211]="47,,47211,";g.MUNI_ARRAY[47212]="47,,47212,";g.MUNI_ARRAY[47213]="47,,47213,";g.MUNI_ARRAY[47214]="47,,47214,";g.MUNI_ARRAY[47215]="47,,47215,";g.MUNI_ARRAY[47301]="47,,47301,";g.MUNI_ARRAY[47302]="47,,47302,";g.MUNI_ARRAY[47303]="47,,47303,";g.MUNI_ARRAY[47306]="47,,47306,";g.MUNI_ARRAY[47308]="47,,47308,";g.MUNI_ARRAY[47311]="47,,47311,";g.MUNI_ARRAY[47313]="47,,47313,";g.MUNI_ARRAY[47314]="47,,47314,";g.MUNI_ARRAY[47315]="47,,47315,";g.MUNI_ARRAY[47324]="47,,47324,";g.MUNI_ARRAY[47325]="47,,47325,";g.MUNI_ARRAY[47326]="47,,47326,";g.MUNI_ARRAY[47327]="47,,47327,";g.MUNI_ARRAY[47328]="47,,47328,";g.MUNI_ARRAY[47329]="47,,47329,";g.MUNI_ARRAY[47348]="47,,47348,";g.MUNI_ARRAY[47350]="47,,47350,";g.MUNI_ARRAY[47353]="47,,47353,";g.MUNI_ARRAY[47354]="47,,47354,";g.MUNI_ARRAY[47355]="47,,47355,";g.MUNI_ARRAY[47356]="47,,47356,";g.MUNI_ARRAY[47357]="47,,47357,";g.MUNI_ARRAY[47358]="47,,47358,";g.MUNI_ARRAY[47359]="47,,47359,";g.MUNI_ARRAY[47360]="47,,47360,";g.MUNI_ARRAY[47361]="47,,47361,";g.MUNI_ARRAY[47362]="47,,47362,";g.MUNI_ARRAY[47375]="47,,47375,";g.MUNI_ARRAY[47381]="47,,47381,";g.MUNI_ARRAY[47382]="47,,47382,";const dw=t=>{const e=g.MUNI_ARRAY[t];if(!e)return"";const r=e.split(",");return`${r[1]}${r[3]}`},bQ=async(t,e)=>{const r=`https://mreversegeocoder.gsi.go.jp/reverse-geocoder/LonLatToAddress?lat=${e}&lon=${t}`;try{const n=await fetch(r);if(n.ok){const l=await n.json();return`${dw(l.results.muniCd)}${l.results.lv01Nm===""?"":l.results.lv01Nm}`}else throw new Error("Failed to fetch")}catch(n){throw n instanceof Error?new Error(n.message):new Error("Unknown error occurred")}},yQ=async t=>{const e=`https://msearch.gsi.go.jp/address-search/AddressSearch?q=${t}`;try{const r=await fetch(e,{method:"GET"});if(r.ok)return r.json()}catch(r){throw r instanceof Error?new Error(r.message):new Error("Unknown error occurred")}};var vQ=(t,e,r)=>{e(null),r([])},xQ=(t,e,r)=>e(V(r).id),wQ=(t,e,r)=>Xe(e,{layerId:V(r).id,bool:!0},!0),BQ=nt('<button class="duration-scale-100 relative grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center overflow-hidden rounded-full bg-gray-500 transition-all hover:scale-110"><!></button>'),CQ=nt('<div class="pointer-events-none absolute bottom-2 grid w-full place-items-center rounded-md"><div class="pointer-events-auto relative flex max-w-[calc(100vw-2rem)] gap-2 rounded-md bg-white p-4 px-6 transition-all duration-100"><button class="absolute right-0 top-0 rounded-full p-2"><!></button> <div class="flex grow flex-col gap-2"><div class="flex gap-2"></div> <div class="flex w-full flex-col items-center justify-center"><span class="text-accent text-xs"> </span> <span class="text-xs"> </span></div></div></div></div>');function MQ(t,e){sr(e,!0);let r=Qt(e,"clickedLayerIds",15),n=Qt(e,"clickedLayerFeaturesData",15),l=Pt(void 0),h=Pt(void 0),u=oi(()=>r()?e.layerEntries.filter(U=>r().includes(U.id)):[]);Gi(()=>{(async()=>e.clickedLngLat&&(Xe(l,await void 0,!0),Xe(h,await void 0,!0),Xe(l,await bQ(e.clickedLngLat.lng,e.clickedLngLat.lat),!0)))()});let s=Pt(wi({layerId:"",bool:!1}));const v=U=>{var S;!n()||!((S=n().find(k=>k.layerEntry.id===U))!=null&&S.feature)||(n(null),r([]))};Gi(()=>{if(V(s).layerId&&r().length>0){const U=pi.getMap();if(!U)return;const C=U.getLayer(V(s).layerId);if(!C)return;let S=C.type;S==="symbol"&&(S="text"),U.setPaintProperty(`@highlight_${V(s).layerId}`,`${S}-color`,V(s).bool?"#00d5ff":w5),U.moveLayer(`@highlight_${V(s).layerId}`)}});var w=vr(),I=kt(w);{var M=U=>{var C=CQ(),S=Ce(C),k=Ce(S);k.__click=[vQ,n,r];var z=Ce(k);_r(z,{icon:"material-symbols:close-rounded",class:"h-4 w-4 text-black"}),ve(k);var Z=Ue(k,2),G=Ce(Z);mi(G,29,()=>V(u),X=>X.id,(X,W)=>{var he=BQ();he.__click=[xQ,v,W],he.__mousemove=[wQ,s,W];var ue=Ce(he);lw(ue,{get layerEntry(){return V(W)}}),ve(he),ra("mouseleave",he,()=>Xe(s,{layerId:V(W).id,bool:!1},!0)),F5(he,()=>ow,()=>({duration:200})),Qe(X,he)}),ve(G);var se=Ue(G,2),re=Ce(se),Ae=Ce(re);ve(re);var J=Ue(re,2),te=Ce(J,!0);ve(J),ve(se),ve(Z),ve(S),ve(C),Gt((X,W)=>{dr(Ae,`${X??""}, ${W??""}`),dr(te,V(l)??"-----")},[()=>e.clickedLngLat.lng.toFixed(6),()=>e.clickedLngLat.lat.toFixed(6)]),ni(3,C,()=>In,()=>({duration:200,y:100,opacity:0})),Qe(U,C)};_t(I,U=>{r().length>1&&e.clickedLngLat&&U(M)})}Qe(t,w),or()}fi(["click","mousemove"]);var RQ=nt('<div class="absolute translate-y-10 text-base font-bold svelte-1jmlcwl"> </div>'),IQ=nt('<div class="pointer-events-none relative z-50 grid h-[100px] w-[100px] place-items-center svelte-1jmlcwl"><!> <div class="css-rotate-effect absolute h-[30px] w-[30px] rotate-45 border-2 border-white svelte-1jmlcwl"></div></div>');function UQ(t,e){sr(e,!0);let r=Pt(null),n=Pt(null);ua(()=>{V(r)&&e.show&&e.lngLat&&Xe(n,new Os.Marker({element:V(r),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map))}),Gi(()=>{e.show?V(n)?V(n).setLngLat(e.lngLat):Xe(n,new Os.Marker({element:V(r),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map)):V(n)&&(V(n).remove(),Xe(n,null))}),sc(()=>{V(r)&&pm.to(V(r),{scale:0,duration:.15,onComplete:()=>{var s;(s=V(n))==null||s.remove()}})});var l=vr(),h=kt(l);{var u=s=>{var v=IQ(),w=Ce(v);{var I=M=>{var U=RQ(),C=Ce(U,!0);ve(U),Gt(S=>dr(C,S),[()=>e.feature.layer.metadata.titles?y5(e.feature.properties,e.feature.layer.metadata.titles):e.feature.layer.metadata.name]),Qe(M,U)};_t(w,M=>{e.feature.layer.metadata&&M(I)})}Vi(2),ve(v),gn(v,M=>Xe(r,M),()=>V(r)),Qe(s,v)};_t(h,s=>{e.show&&e.feature&&s(u)})}Qe(t,l),or()}var EQ={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(R5,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},l,h=!n.document&&!!n.postMessage,u=n.IS_PAPA_WORKER||!1,s={},v=0,w={};function I(X){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(W){var he=Ae(W);he.chunkSize=parseInt(he.chunkSize),W.step||W.chunk||(he.chunkSize=null),this._handle=new k(he),(this._handle.streamer=this)._config=he}).call(this,X),this.parseChunk=function(W,he){var ue=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<ue){let xe=this._config.newline;xe||(_e=this._config.quoteChar||'"',xe=this._handle.guessLineEndings(W,_e)),W=[...W.split(xe).slice(ue)].join(xe)}this.isFirstChunk&&te(this._config.beforeFirstChunk)&&(_e=this._config.beforeFirstChunk(W))!==void 0&&(W=_e),this.isFirstChunk=!1,this._halted=!1;var ue=this._partialLine+W,_e=(this._partialLine="",this._handle.parse(ue,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(W=_e.meta.cursor,ue=(this._finished||(this._partialLine=ue.substring(W-this._baseIndex),this._baseIndex=W),_e&&_e.data&&(this._rowCount+=_e.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)n.postMessage({results:_e,workerId:w.WORKER_ID,finished:ue});else if(te(this._config.chunk)&&!he){if(this._config.chunk(_e,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=_e=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(_e.data),this._completeResults.errors=this._completeResults.errors.concat(_e.errors),this._completeResults.meta=_e.meta),this._completed||!ue||!te(this._config.complete)||_e&&_e.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ue||_e&&_e.meta.paused||this._nextChunk(),_e}this._halted=!0},this._sendError=function(W){te(this._config.error)?this._config.error(W):u&&this._config.error&&n.postMessage({workerId:w.WORKER_ID,error:W,finished:!1})}}function M(X){var W;(X=X||{}).chunkSize||(X.chunkSize=w.RemoteChunkSize),I.call(this,X),this._nextChunk=h?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(he){this._input=he,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(W=new XMLHttpRequest,this._config.withCredentials&&(W.withCredentials=this._config.withCredentials),h||(W.onload=J(this._chunkLoaded,this),W.onerror=J(this._chunkError,this)),W.open(this._config.downloadRequestBody?"POST":"GET",this._input,!h),this._config.downloadRequestHeaders){var he,ue=this._config.downloadRequestHeaders;for(he in ue)W.setRequestHeader(he,ue[he])}var _e;this._config.chunkSize&&(_e=this._start+this._config.chunkSize-1,W.setRequestHeader("Range","bytes="+this._start+"-"+_e));try{W.send(this._config.downloadRequestBody)}catch(xe){this._chunkError(xe.message)}h&&W.status===0&&this._chunkError()}},this._chunkLoaded=function(){W.readyState===4&&(W.status<200||400<=W.status?this._chunkError():(this._start+=this._config.chunkSize||W.responseText.length,this._finished=!this._config.chunkSize||this._start>=(he=>(he=he.getResponseHeader("Content-Range"))!==null?parseInt(he.substring(he.lastIndexOf("/")+1)):-1)(W),this.parseChunk(W.responseText)))},this._chunkError=function(he){he=W.statusText||he,this._sendError(new Error(he))}}function U(X){(X=X||{}).chunkSize||(X.chunkSize=w.LocalChunkSize),I.call(this,X);var W,he,ue=typeof FileReader<"u";this.stream=function(_e){this._input=_e,he=_e.slice||_e.webkitSlice||_e.mozSlice,ue?((W=new FileReader).onload=J(this._chunkLoaded,this),W.onerror=J(this._chunkError,this)):W=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var _e=this._input,xe=(this._config.chunkSize&&(xe=Math.min(this._start+this._config.chunkSize,this._input.size),_e=he.call(_e,this._start,xe)),W.readAsText(_e,this._config.encoding));ue||this._chunkLoaded({target:{result:xe}})},this._chunkLoaded=function(_e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(_e.target.result)},this._chunkError=function(){this._sendError(W.error)}}function C(X){var W;I.call(this,X=X||{}),this.stream=function(he){return W=he,this._nextChunk()},this._nextChunk=function(){var he,ue;if(!this._finished)return he=this._config.chunkSize,W=he?(ue=W.substring(0,he),W.substring(he)):(ue=W,""),this._finished=!W,this.parseChunk(ue)}}function S(X){I.call(this,X=X||{});var W=[],he=!0,ue=!1;this.pause=function(){I.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){I.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(_e){this._input=_e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ue&&W.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),W.length?this.parseChunk(W.shift()):he=!0},this._streamData=J(function(_e){try{W.push(typeof _e=="string"?_e:_e.toString(this._config.encoding)),he&&(he=!1,this._checkIsFinished(),this.parseChunk(W.shift()))}catch(xe){this._streamError(xe)}},this),this._streamError=J(function(_e){this._streamCleanUp(),this._sendError(_e)},this),this._streamEnd=J(function(){this._streamCleanUp(),ue=!0,this._streamData("")},this),this._streamCleanUp=J(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function k(X){var W,he,ue,_e,xe=Math.pow(2,53),He=-xe,Ve=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ke=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ot=this,it=0,pt=0,Ut=!1,ct=!1,mt=[],De={data:[],errors:[],meta:{}};function $e(lt){return X.skipEmptyLines==="greedy"?lt.join("").trim()==="":lt.length===1&&lt[0].length===0}function st(){if(De&&ue&&(Et("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+w.DefaultDelimiter+"'"),ue=!1),X.skipEmptyLines&&(De.data=De.data.filter(function(Mt){return!$e(Mt)})),xt()){let Mt=function(Ht,ur){te(X.transformHeader)&&(Ht=X.transformHeader(Ht,ur)),mt.push(Ht)};if(De)if(Array.isArray(De.data[0])){for(var lt=0;xt()&&lt<De.data.length;lt++)De.data[lt].forEach(Mt);De.data.splice(0,1)}else De.data.forEach(Mt)}function Zt(Mt,Ht){for(var ur=X.header?{}:[],St=0;St<Mt.length;St++){var Ot=St,Jt=Mt[St],Jt=((fr,jt)=>(Br=>(X.dynamicTypingFunction&&X.dynamicTyping[Br]===void 0&&(X.dynamicTyping[Br]=X.dynamicTypingFunction(Br)),(X.dynamicTyping[Br]||X.dynamicTyping)===!0))(fr)?jt==="true"||jt==="TRUE"||jt!=="false"&&jt!=="FALSE"&&((Br=>{if(Ve.test(Br)&&(Br=parseFloat(Br),He<Br&&Br<xe))return 1})(jt)?parseFloat(jt):Ke.test(jt)?new Date(jt):jt===""?null:jt):jt)(Ot=X.header?St>=mt.length?"__parsed_extra":mt[St]:Ot,Jt=X.transform?X.transform(Jt,Ot):Jt);Ot==="__parsed_extra"?(ur[Ot]=ur[Ot]||[],ur[Ot].push(Jt)):ur[Ot]=Jt}return X.header&&(St>mt.length?Et("FieldMismatch","TooManyFields","Too many fields: expected "+mt.length+" fields but parsed "+St,pt+Ht):St<mt.length&&Et("FieldMismatch","TooFewFields","Too few fields: expected "+mt.length+" fields but parsed "+St,pt+Ht)),ur}var Rt;De&&(X.header||X.dynamicTyping||X.transform)&&(Rt=1,!De.data.length||Array.isArray(De.data[0])?(De.data=De.data.map(Zt),Rt=De.data.length):De.data=Zt(De.data,0),X.header&&De.meta&&(De.meta.fields=mt),pt+=Rt)}function xt(){return X.header&&mt.length===0}function Et(lt,Zt,Rt,Mt){lt={type:lt,code:Zt,message:Rt},Mt!==void 0&&(lt.row=Mt),De.errors.push(lt)}te(X.step)&&(_e=X.step,X.step=function(lt){De=lt,xt()?st():(st(),De.data.length!==0&&(it+=lt.data.length,X.preview&&it>X.preview?he.abort():(De.data=De.data[0],_e(De,ot))))}),this.parse=function(lt,Zt,Rt){var Mt=X.quoteChar||'"',Mt=(X.newline||(X.newline=this.guessLineEndings(lt,Mt)),ue=!1,X.delimiter?te(X.delimiter)&&(X.delimiter=X.delimiter(lt),De.meta.delimiter=X.delimiter):((Mt=((Ht,ur,St,Ot,Jt)=>{var fr,jt,Br,Hr;Jt=Jt||[",","	","|",";",w.RECORD_SEP,w.UNIT_SEP];for(var ei=0;ei<Jt.length;ei++){for(var Yr,wt=Jt[ei],Ar=0,Gr=0,xr=0,Nr=(Br=void 0,new Z({comments:Ot,delimiter:wt,newline:ur,preview:10}).parse(Ht)),Ir=0;Ir<Nr.data.length;Ir++)St&&$e(Nr.data[Ir])?xr++:(Yr=Nr.data[Ir].length,Gr+=Yr,Br===void 0?Br=Yr:0<Yr&&(Ar+=Math.abs(Yr-Br),Br=Yr));0<Nr.data.length&&(Gr/=Nr.data.length-xr),(jt===void 0||Ar<=jt)&&(Hr===void 0||Hr<Gr)&&1.99<Gr&&(jt=Ar,fr=wt,Hr=Gr)}return{successful:!!(X.delimiter=fr),bestDelimiter:fr}})(lt,X.newline,X.skipEmptyLines,X.comments,X.delimitersToGuess)).successful?X.delimiter=Mt.bestDelimiter:(ue=!0,X.delimiter=w.DefaultDelimiter),De.meta.delimiter=X.delimiter),Ae(X));return X.preview&&X.header&&Mt.preview++,W=lt,he=new Z(Mt),De=he.parse(W,Zt,Rt),st(),Ut?{meta:{paused:!0}}:De||{meta:{paused:!1}}},this.paused=function(){return Ut},this.pause=function(){Ut=!0,he.abort(),W=te(X.chunk)?"":W.substring(he.getCharIndex())},this.resume=function(){ot.streamer._halted?(Ut=!1,ot.streamer.parseChunk(W,!0)):setTimeout(ot.resume,3)},this.aborted=function(){return ct},this.abort=function(){ct=!0,he.abort(),De.meta.aborted=!0,te(X.complete)&&X.complete(De),W=""},this.guessLineEndings=function(Ht,Mt){Ht=Ht.substring(0,1048576);var Mt=new RegExp(z(Mt)+"([^]*?)"+z(Mt),"gm"),Rt=(Ht=Ht.replace(Mt,"")).split("\r"),Mt=Ht.split(`
`),Ht=1<Mt.length&&Mt[0].length<Rt[0].length;if(Rt.length===1||Ht)return`
`;for(var ur=0,St=0;St<Rt.length;St++)Rt[St][0]===`
`&&ur++;return ur>=Rt.length/2?`\r
`:"\r"}}function z(X){return X.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Z(X){var W=(X=X||{}).delimiter,he=X.newline,ue=X.comments,_e=X.step,xe=X.preview,He=X.fastMode,Ve=null,Ke=!1,ot=X.quoteChar==null?'"':X.quoteChar,it=ot;if(X.escapeChar!==void 0&&(it=X.escapeChar),(typeof W!="string"||-1<w.BAD_DELIMITERS.indexOf(W))&&(W=","),ue===W)throw new Error("Comment character same as delimiter");ue===!0?ue="#":(typeof ue!="string"||-1<w.BAD_DELIMITERS.indexOf(ue))&&(ue=!1),he!==`
`&&he!=="\r"&&he!==`\r
`&&(he=`
`);var pt=0,Ut=!1;this.parse=function(ct,mt,De){if(typeof ct!="string")throw new Error("Input must be a string");var $e=ct.length,st=W.length,xt=he.length,Et=ue.length,lt=te(_e),Zt=[],Rt=[],Mt=[],Ht=pt=0;if(!ct)return Ar();if(He||He!==!1&&ct.indexOf(ot)===-1){for(var ur=ct.split(he),St=0;St<ur.length;St++){if(Mt=ur[St],pt+=Mt.length,St!==ur.length-1)pt+=he.length;else if(De)return Ar();if(!ue||Mt.substring(0,Et)!==ue){if(lt){if(Zt=[],Hr(Mt.split(W)),Gr(),Ut)return Ar()}else Hr(Mt.split(W));if(xe&&xe<=St)return Zt=Zt.slice(0,xe),Ar(!0)}}return Ar()}for(var Ot=ct.indexOf(W,pt),Jt=ct.indexOf(he,pt),fr=new RegExp(z(it)+z(ot),"g"),jt=ct.indexOf(ot,pt);;)if(ct[pt]===ot)for(jt=pt,pt++;;){if((jt=ct.indexOf(ot,jt+1))===-1)return De||Rt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Zt.length,index:pt}),Yr();if(jt===$e-1)return Yr(ct.substring(pt,jt).replace(fr,ot));if(ot===it&&ct[jt+1]===it)jt++;else if(ot===it||jt===0||ct[jt-1]!==it){Ot!==-1&&Ot<jt+1&&(Ot=ct.indexOf(W,jt+1));var Br=ei((Jt=Jt!==-1&&Jt<jt+1?ct.indexOf(he,jt+1):Jt)===-1?Ot:Math.min(Ot,Jt));if(ct.substr(jt+1+Br,st)===W){Mt.push(ct.substring(pt,jt).replace(fr,ot)),ct[pt=jt+1+Br+st]!==ot&&(jt=ct.indexOf(ot,pt)),Ot=ct.indexOf(W,pt),Jt=ct.indexOf(he,pt);break}if(Br=ei(Jt),ct.substring(jt+1+Br,jt+1+Br+xt)===he){if(Mt.push(ct.substring(pt,jt).replace(fr,ot)),wt(jt+1+Br+xt),Ot=ct.indexOf(W,pt),jt=ct.indexOf(ot,pt),lt&&(Gr(),Ut))return Ar();if(xe&&Zt.length>=xe)return Ar(!0);break}Rt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Zt.length,index:pt}),jt++}}else if(ue&&Mt.length===0&&ct.substring(pt,pt+Et)===ue){if(Jt===-1)return Ar();pt=Jt+xt,Jt=ct.indexOf(he,pt),Ot=ct.indexOf(W,pt)}else if(Ot!==-1&&(Ot<Jt||Jt===-1))Mt.push(ct.substring(pt,Ot)),pt=Ot+st,Ot=ct.indexOf(W,pt);else{if(Jt===-1)break;if(Mt.push(ct.substring(pt,Jt)),wt(Jt+xt),lt&&(Gr(),Ut))return Ar();if(xe&&Zt.length>=xe)return Ar(!0)}return Yr();function Hr(xr){Zt.push(xr),Ht=pt}function ei(xr){var Nr=0;return Nr=xr!==-1&&(xr=ct.substring(jt+1,xr))&&xr.trim()===""?xr.length:Nr}function Yr(xr){return De||(xr===void 0&&(xr=ct.substring(pt)),Mt.push(xr),pt=$e,Hr(Mt),lt&&Gr()),Ar()}function wt(xr){pt=xr,Hr(Mt),Mt=[],Jt=ct.indexOf(he,pt)}function Ar(xr){if(X.header&&!mt&&Zt.length&&!Ke){var Nr=Zt[0],Ir={},Zi=new Set(Nr);let Yi=!1;for(let Wi=0;Wi<Nr.length;Wi++){let Ai=Nr[Wi];if(Ir[Ai=te(X.transformHeader)?X.transformHeader(Ai,Wi):Ai]){let li,Mi=Ir[Ai];for(;li=Ai+"_"+Mi,Mi++,Zi.has(li););Zi.add(li),Nr[Wi]=li,Ir[Ai]++,Yi=!0,(Ve=Ve===null?{}:Ve)[li]=Ai}else Ir[Ai]=1,Nr[Wi]=Ai;Zi.add(Ai)}Yi&&console.warn("Duplicate headers found and renamed."),Ke=!0}return{data:Zt,errors:Rt,meta:{delimiter:W,linebreak:he,aborted:Ut,truncated:!!xr,cursor:Ht+(mt||0),renamedHeaders:Ve}}}function Gr(){_e(Ar()),Zt=[],Rt=[]}},this.abort=function(){Ut=!0},this.getCharIndex=function(){return pt}}function G(X){var W=X.data,he=s[W.workerId],ue=!1;if(W.error)he.userError(W.error,W.file);else if(W.results&&W.results.data){var _e={abort:function(){ue=!0,se(W.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:re,resume:re};if(te(he.userStep)){for(var xe=0;xe<W.results.data.length&&(he.userStep({data:W.results.data[xe],errors:W.results.errors,meta:W.results.meta},_e),!ue);xe++);delete W.results}else te(he.userChunk)&&(he.userChunk(W.results,_e,W.file),delete W.results)}W.finished&&!ue&&se(W.workerId,W.results)}function se(X,W){var he=s[X];te(he.userComplete)&&he.userComplete(W),he.terminate(),delete s[X]}function re(){throw new Error("Not implemented.")}function Ae(X){if(typeof X!="object"||X===null)return X;var W,he=Array.isArray(X)?[]:{};for(W in X)he[W]=Ae(X[W]);return he}function J(X,W){return function(){X.apply(W,arguments)}}function te(X){return typeof X=="function"}return w.parse=function(X,W){var he=(W=W||{}).dynamicTyping||!1;if(te(he)&&(W.dynamicTypingFunction=he,he={}),W.dynamicTyping=he,W.transform=!!te(W.transform)&&W.transform,!W.worker||!w.WORKERS_SUPPORTED)return he=null,w.NODE_STREAM_INPUT,typeof X=="string"?(X=(ue=>ue.charCodeAt(0)!==65279?ue:ue.slice(1))(X),he=new(W.download?M:C)(W)):X.readable===!0&&te(X.read)&&te(X.on)?he=new S(W):(n.File&&X instanceof File||X instanceof Object)&&(he=new U(W)),he.stream(X);(he=(()=>{var ue;return!!w.WORKERS_SUPPORTED&&(ue=(()=>{var _e=n.URL||n.webkitURL||null,xe=r.toString();return w.BLOB_URL||(w.BLOB_URL=_e.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",xe,")();"],{type:"text/javascript"})))})(),(ue=new n.Worker(ue)).onmessage=G,ue.id=v++,s[ue.id]=ue)})()).userStep=W.step,he.userChunk=W.chunk,he.userComplete=W.complete,he.userError=W.error,W.step=te(W.step),W.chunk=te(W.chunk),W.complete=te(W.complete),W.error=te(W.error),delete W.worker,he.postMessage({input:X,config:W,workerId:he.id})},w.unparse=function(X,W){var he=!1,ue=!0,_e=",",xe=`\r
`,He='"',Ve=He+He,Ke=!1,ot=null,it=!1,pt=((()=>{if(typeof W=="object"){if(typeof W.delimiter!="string"||w.BAD_DELIMITERS.filter(function(mt){return W.delimiter.indexOf(mt)!==-1}).length||(_e=W.delimiter),typeof W.quotes!="boolean"&&typeof W.quotes!="function"&&!Array.isArray(W.quotes)||(he=W.quotes),typeof W.skipEmptyLines!="boolean"&&typeof W.skipEmptyLines!="string"||(Ke=W.skipEmptyLines),typeof W.newline=="string"&&(xe=W.newline),typeof W.quoteChar=="string"&&(He=W.quoteChar),typeof W.header=="boolean"&&(ue=W.header),Array.isArray(W.columns)){if(W.columns.length===0)throw new Error("Option columns is empty");ot=W.columns}W.escapeChar!==void 0&&(Ve=W.escapeChar+He),W.escapeFormulae instanceof RegExp?it=W.escapeFormulae:typeof W.escapeFormulae=="boolean"&&W.escapeFormulae&&(it=/^[=+\-@\t\r].*$/)}})(),new RegExp(z(He),"g"));if(typeof X=="string"&&(X=JSON.parse(X)),Array.isArray(X)){if(!X.length||Array.isArray(X[0]))return Ut(null,X,Ke);if(typeof X[0]=="object")return Ut(ot||Object.keys(X[0]),X,Ke)}else if(typeof X=="object")return typeof X.data=="string"&&(X.data=JSON.parse(X.data)),Array.isArray(X.data)&&(X.fields||(X.fields=X.meta&&X.meta.fields||ot),X.fields||(X.fields=Array.isArray(X.data[0])?X.fields:typeof X.data[0]=="object"?Object.keys(X.data[0]):[]),Array.isArray(X.data[0])||typeof X.data[0]=="object"||(X.data=[X.data])),Ut(X.fields||[],X.data||[],Ke);throw new Error("Unable to serialize unrecognized input");function Ut(mt,De,$e){var st="",xt=(typeof mt=="string"&&(mt=JSON.parse(mt)),typeof De=="string"&&(De=JSON.parse(De)),Array.isArray(mt)&&0<mt.length),Et=!Array.isArray(De[0]);if(xt&&ue){for(var lt=0;lt<mt.length;lt++)0<lt&&(st+=_e),st+=ct(mt[lt],lt);0<De.length&&(st+=xe)}for(var Zt=0;Zt<De.length;Zt++){var Rt=(xt?mt:De[Zt]).length,Mt=!1,Ht=xt?Object.keys(De[Zt]).length===0:De[Zt].length===0;if($e&&!xt&&(Mt=$e==="greedy"?De[Zt].join("").trim()==="":De[Zt].length===1&&De[Zt][0].length===0),$e==="greedy"&&xt){for(var ur=[],St=0;St<Rt;St++){var Ot=Et?mt[St]:St;ur.push(De[Zt][Ot])}Mt=ur.join("").trim()===""}if(!Mt){for(var Jt=0;Jt<Rt;Jt++){0<Jt&&!Ht&&(st+=_e);var fr=xt&&Et?mt[Jt]:Jt;st+=ct(De[Zt][fr],Jt)}Zt<De.length-1&&(!$e||0<Rt&&!Ht)&&(st+=xe)}}return st}function ct(mt,De){var $e,st;return mt==null?"":mt.constructor===Date?JSON.stringify(mt).slice(1,25):(st=!1,it&&typeof mt=="string"&&it.test(mt)&&(mt="'"+mt,st=!0),$e=mt.toString().replace(pt,Ve),(st=st||he===!0||typeof he=="function"&&he(mt,De)||Array.isArray(he)&&he[De]||((xt,Et)=>{for(var lt=0;lt<Et.length;lt++)if(-1<xt.indexOf(Et[lt]))return!0;return!1})($e,w.BAD_DELIMITERS)||-1<$e.indexOf(_e)||$e.charAt(0)===" "||$e.charAt($e.length-1)===" ")?He+$e+He:$e)}},w.RECORD_SEP="",w.UNIT_SEP="",w.BYTE_ORDER_MARK="\uFEFF",w.BAD_DELIMITERS=["\r",`
`,'"',w.BYTE_ORDER_MARK],w.WORKERS_SUPPORTED=!h&&!!n.Worker,w.NODE_STREAM_INPUT=1,w.LocalChunkSize=10485760,w.RemoteChunkSize=5242880,w.DefaultDelimiter=",",w.Parser=Z,w.ParserHandle=k,w.NetworkStreamer=M,w.FileStreamer=U,w.StringStreamer=C,w.ReadableStreamStreamer=S,n.jQuery&&((l=n.jQuery).fn.parse=function(X){var W=X.config||{},he=[];return this.each(function(xe){if(!(l(this).prop("tagName").toUpperCase()==="INPUT"&&l(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var He=0;He<this.files.length;He++)he.push({file:this.files[He],inputElem:this,instanceConfig:l.extend({},W)})}),ue(),this;function ue(){if(he.length===0)te(X.complete)&&X.complete();else{var xe,He,Ve,Ke,ot=he[0];if(te(X.before)){var it=X.before(ot.file,ot.inputElem);if(typeof it=="object"){if(it.action==="abort")return xe="AbortError",He=ot.file,Ve=ot.inputElem,Ke=it.reason,void(te(X.error)&&X.error({name:xe},He,Ve,Ke));if(it.action==="skip")return void _e();typeof it.config=="object"&&(ot.instanceConfig=l.extend(ot.instanceConfig,it.config))}else if(it==="skip")return void _e()}var pt=ot.instanceConfig.complete;ot.instanceConfig.complete=function(Ut){te(pt)&&pt(Ut,ot.file,ot.inputElem),_e()},w.parse(ot.file,ot.instanceConfig)}}function _e(){he.splice(0,1),ue()}}),u&&(n.onmessage=function(X){X=X.data,w.WORKER_ID===void 0&&X&&(w.WORKER_ID=X.workerId),typeof X.input=="string"?n.postMessage({workerId:w.WORKER_ID,results:w.parse(X.input,X.config),finished:!0}):(n.File&&X.input instanceof File||X.input instanceof Object)&&(X=w.parse(X.input,X.config))&&n.postMessage({workerId:w.WORKER_ID,results:X,finished:!0})}),(M.prototype=Object.create(I.prototype)).constructor=M,(U.prototype=Object.create(I.prototype)).constructor=U,(C.prototype=Object.create(C.prototype)).constructor=C,(S.prototype=Object.create(I.prototype)).constructor=S,w})})(EQ);const FQ=async(t,e)=>{try{const r=await t.arrayBuffer(),n=new Response(r).body;if(!n)throw new Error("ReadableStream");const l=VB(n),h={type:"FeatureCollection",features:[]};if(e===void 0)for await(const u of l)h.features.push(u);return h}catch(r){throw console.error(r),new Error("Failed to parse FGB file")}};function TQ(){return this._array=null,Promise.resolve()}function SQ(){var t=this._array;return this._array=null,Promise.resolve(t?{done:!1,value:t}:{done:!0,value:void 0})}function qg(t){return new i_(t instanceof Uint8Array?t:new Uint8Array(t))}function i_(t){this._array=t}i_.prototype.read=SQ;i_.prototype.cancel=TQ;function NQ(t){return fetch(t).then(function(e){return e.body&&e.body.getReader?e.body.getReader():e.arrayBuffer().then(qg)})}function YQ(t){return new Promise(function(e,r){var n=new XMLHttpRequest;n.responseType="arraybuffer",n.onload=function(){e(qg(n.response))},n.onerror=r,n.ontimeout=r,n.open("GET",t,!0),n.send()})}function G3(t){return(typeof fetch=="function"?NQ:YQ)(t)}function c6(t){return typeof t.read=="function"?t:t.getReader()}function PQ(){return this._source.cancel()}function LQ(t){return/^[nf]$/i.test(t)?!1:/^[yt]$/i.test(t)?!0:null}function kQ(t){return new Date(+t.substring(0,4),t.substring(4,6)-1,+t.substring(6,8))}function D1(t){return!(t=t.trim())||isNaN(t=+t)?null:t}function QQ(t){return t.trim()||null}var DQ={B:D1,C:QQ,D:kQ,F:D1,L:LQ,M:D1,N:D1};function zQ(){var t=this,e=1;return t._source.slice(t._recordLength).then(function(r){return r&&r[0]!==26?{done:!1,value:t._fields.reduce(function(n,l){return n[l.name]=DQ[l.type](t._decode(r.subarray(e,e+=l.length))),n},{})}:{done:!0,value:void 0}})}function Yu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ZQ(t,e){return t=B5(t),t.slice(32).then(function(r){var n=Yu(r);return t.slice(n.getUint16(8,!0)-32).then(function(l){return new fw(t,e,n,Yu(l))})})}function fw(t,e,r,n){this._source=t,this._decode=e.decode.bind(e),this._recordLength=r.getUint16(10,!0),this._fields=[];for(var l=0;n.getUint8(l)!==13;l+=32){for(var h=0;h<11&&n.getUint8(l+h)!==0;++h);this._fields.push({name:this._decode(new Uint8Array(n.buffer,n.byteOffset+l,h)),type:String.fromCharCode(n.getUint8(l+11)),length:n.getUint8(l+16)})}}var gw=fw.prototype;gw.read=zQ;gw.cancel=PQ;function OQ(){return this._source.cancel()}function j3(t){var e=40,r,n=t.getInt32(36,!0),l=new Array(n);for(r=0;r<n;++r,e+=16)l[r]=[t.getFloat64(e,!0),t.getFloat64(e+8,!0)];return{type:"MultiPoint",coordinates:l}}function HQ(){return null}function K3(t){return{type:"Point",coordinates:[t.getFloat64(4,!0),t.getFloat64(12,!0)]}}function $3(t){var e=44,r,n=t.getInt32(36,!0),l=t.getInt32(40,!0),h=new Array(n),u=new Array(l),s=[],v=[];for(r=0;r<n;++r,e+=4)h[r]=t.getInt32(e,!0);for(r=0;r<l;++r,e+=16)u[r]=[t.getFloat64(e,!0),t.getFloat64(e+8,!0)];return h.forEach(function(w,I){var M=u.slice(w,h[I+1]);XQ(M)?s.push([M]):v.push(M)}),v.forEach(function(w){s.some(function(I){if(VQ(I[0],w))return I.push(w),!0})||s.push([w])}),s.length===1?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}function XQ(t){if((r=t.length)<4)return!1;for(var e=0,r,n=t[r-1][1]*t[0][0]-t[r-1][0]*t[0][1];++e<r;)n+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return n>=0}function VQ(t,e){for(var r=-1,n=e.length,l;++r<n;)if(l=GQ(t,e[r]))return l>0;return!1}function GQ(t,e){for(var r=e[0],n=e[1],l=-1,h=0,u=t.length,s=u-1;h<u;s=h++){var v=t[h],w=v[0],I=v[1],M=t[s],U=M[0],C=M[1];if(jQ(v,M,e))return 0;I>n!=C>n&&r<(U-w)*(n-I)/(C-I)+w&&(l=-l)}return l}function jQ(t,e,r){var n=r[0]-t[0],l=r[1]-t[1];if(n===0&&l===0)return!0;var h=e[0]-t[0],u=e[1]-t[1];if(h===0&&u===0)return!1;var s=(n*h+l*u)/(h*h+u*u);return s<0||s>1?!1:s===0||s===1?!0:s*h===n&&s*u===l}function q3(t){var e=44,r,n=t.getInt32(36,!0),l=t.getInt32(40,!0),h=new Array(n),u=new Array(l);for(r=0;r<n;++r,e+=4)h[r]=t.getInt32(e,!0);for(r=0;r<l;++r,e+=16)u[r]=[t.getFloat64(e,!0),t.getFloat64(e+8,!0)];return n===1?{type:"LineString",coordinates:u}:{type:"MultiLineString",coordinates:h.map(function(s,v){return u.slice(s,h[v+1])})}}function u6(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t,0),r.set(e,t.length),r}function KQ(){var t=this;return++t._index,t._source.slice(12).then(function(e){if(e==null)return{done:!0,value:void 0};var r=Yu(e);function n(){return t._source.slice(4).then(function(h){return h==null?{done:!0,value:void 0}:(r=Yu(e=u6(e.slice(4),h)),r.getInt32(0,!1)!==t._index?n():l())})}function l(){var h=r.getInt32(4,!1)*2-4,u=r.getInt32(8,!0);return h<0||u&&u!==t._type?n():t._source.slice(h).then(function(s){return{done:!1,value:u?t._parse(Yu(u6(e.slice(8),s))):null}})}return l()})}var h6={0:HQ,1:K3,3:q3,5:$3,8:j3,11:K3,13:q3,15:$3,18:j3,21:K3,23:q3,25:$3,28:j3};function $Q(t){return t=B5(t),t.slice(100).then(function(e){return new pw(t,Yu(e))})}function pw(t,e){var r=e.getInt32(32,!0);if(!(r in h6))throw new Error("unsupported shape type: "+r);this._source=t,this._type=r,this._index=0,this._parse=h6[r],this.bbox=[e.getFloat64(36,!0),e.getFloat64(44,!0),e.getFloat64(52,!0),e.getFloat64(60,!0)]}var mw=pw.prototype;mw.read=KQ;mw.cancel=OQ;function qQ(){}function WQ(){return Promise.all([this._dbf&&this._dbf.cancel(),this._shp.cancel()]).then(qQ)}function JQ(){var t=this;return Promise.all([t._dbf?t._dbf.read():{value:{}},t._shp.read()]).then(function(e){var r=e[0],n=e[1];return n.done?n:{done:!1,value:{type:"Feature",properties:r.value,geometry:n.value}}})}function eD(t,e,r){return Promise.all([$Q(t),e&&ZQ(e,r)]).then(function(n){return new _w(n[0],n[1])})}function _w(t,e){this._shp=t,this._dbf=e,this.bbox=t.bbox}var bw=_w.prototype;bw.read=JQ;bw.cancel=WQ;function tD(t,e,r){return typeof e=="string"?(/\.dbf$/.test(e)||(e+=".dbf"),e=G3(e)):e instanceof ArrayBuffer||e instanceof Uint8Array?e=qg(e):e!=null&&(e=c6(e)),typeof t=="string"?(/\.shp$/.test(t)||(t+=".shp"),e===void 0&&(e=G3(t.substring(0,t.length-4)+".dbf").catch(function(){})),t=G3(t)):t instanceof ArrayBuffer||t instanceof Uint8Array?t=qg(t):t=c6(t),Promise.all([t,e]).then(function(n){var l=n[0],h=n[1],u="windows-1252";return r&&r.encoding!=null&&(u=r.encoding),eD(l,h,h&&new TextDecoder(u))})}function rD(t,e,r){return tD(t,e,r).then(function(n){var l=[],h={type:"FeatureCollection",features:l,bbox:n.bbox};return n.read().then(function u(s){return s.done?h:(l.push(s.value),n.read().then(u))})})}const iD=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=l=>{var u;const h=(u=l.target)==null?void 0:u.result;h==null||typeof h!="string"||e(h.trim())},n.onerror=l=>{r(l)},n.readAsText(t)}),aD=async t=>{const e=await iD(t);if(typeof e!="string")throw new Error("Invalid PRJ file content");return e},nD=t=>{if(!t)return!1;const e=t.toUpperCase();return!!(e.includes("GCS_WGS_1984")&&e.includes("D_WGS_1984")&&e.includes("WGS_1984")&&e.includes('PRIMEM["GREENWICH"')&&e.includes('UNIT["DEGREE"')||e.includes("+PROJ=LONGLAT")&&e.includes("+DATUM=WGS84"))},d6=4,sD=(t,e)=>new Promise((r,n)=>{const l=t.features,h=l.length,u=[];let s=0,v=0;if(h===0){r({type:"FeatureCollection",features:[]});return}const w=[],I=[],M=C=>{const{type:S,transformedFeature:k,featureIndex:z,error:Z}=C.data;S==="TRANSFORMED_FEATURE"?u.push(k):S==="ERROR"&&console.error(`Error processing feature (original index ${z}): ${Z}`),s++;const G=C.target;if(I.push(G),v<h&&I.length>0){const se=I.shift();if(!se){console.error("No available worker found.");return}se.postMessage({feature:l[v],prjContent:e,featureIndex:v}),v++}s===h&&(w.forEach(se=>se.terminate()),r({type:"FeatureCollection",features:u}))},U=C=>{console.error("Main: Worker error caught by onerror:"),console.error(`  Message: ${C.message}`),console.error(`  Filename: ${C.filename}`),console.error(`  Lineno: ${C.lineno}`),console.error(`  Colno: ${C.colno}`),C.error&&console.error("  Error object:",C.error),w.forEach(k=>k.terminate());const S=C.error instanceof Error?C.error.message:C.message;n(new Error(`Worker failed: ${S}`))};for(let C=0;C<d6;C++){const S=new Worker(new URL(""+new URL("../workers/transformer.worker-Cl2PEnFu.js",import.meta.url).href,import.meta.url),{type:"module"});S.onmessage=M,S.onerror=U,w.push(S),I.push(S)}for(let C=0;C<Math.min(d6,h);C++)if(I.length>0){const S=I.shift();if(!S){console.error("No available worker found.");return}S.postMessage({feature:l[v],prjContent:e,featureIndex:v}),v++}}),f6=t=>new Promise(e=>{const r=new FileReader;r.onload=n=>{var h;const l=(h=n.target)==null?void 0:h.result;l!=null&&e(l)},r.readAsArrayBuffer(t)}),yw=async(t,e,r)=>{const[n,l,h]=await Promise.all([f6(t),f6(e),aD(r)]),u=await rD(n,l,{encoding:"shift-jis"});if(!h)return hs(".prj ","info"),u;if(!h||nD(h))return u;const s=await sD(u,h);return s||(hs("","error"),u)};var oD=nt('<div class="pointer-events-none absolute h-full w-full bg-slate-500 opacity-50"></div>');function lD(t,e){sr(e,!0);let r=Qt(e,"showDataEntry",15),n=Qt(e,"showDialogType",15),l=Pt("");const h=async w=>{var C;let I=null;if(w instanceof File){const S=(C=w.name.split(".").pop())==null?void 0:C.toLowerCase();switch(Xe(l,w.name,!0),S){case"geojson":I=await GB(w);break;case"fgb":I=await FQ(w);break;case"gpx":n("gpx");return;case"shp":case"dbf":case"shx":case"prj":n("shp");return;default:hs("","error");return}}else if(w instanceof FileList){let S,k,z;for(let Z=0;Z<w.length;Z++){const G=w[Z];G.name.endsWith(".shp")?S=G:G.name.endsWith(".dbf")?k=G:G.name.endsWith(".prj")&&(z=G)}if(S&&k&&z)I=await yw(S,k,z),Xe(l,S.name,!0);else if(S||k||z){n("shp");return}else{h(w[0]);return}}const M=y4(I);if(!M){hs("","error");return}const U=v4(I,M,V(l));if(!U){hs("","error");return}r(U),hs("","success")};Gi(()=>{e.dropFile&&h(e.dropFile)});var u=vr(),s=kt(u);{var v=w=>{var I=oD();Qe(w,I)};_t(s,w=>{e.isDragover&&w(v)})}Qe(t,u),or()}const AD={v:{type:"vector",minzoom:4,maxzoom:16,tiles:["https://cyberjapandata.gsi.go.jp/xyz/optimal_bvmap-v1/{z}/{x}/{y}.pbf"],attribution:""}},cD=[{id:"25000",minzoom:11,type:"line",source:"v","source-layer":"AdmBdry",filter:["==",["get","vt_code"],1221],layout:{"line-cap":"square"},paint:{"line-color":"rgba(68,0,128,1)","line-dasharray":[4,1,1,5],"line-opacity":["interpolate",["linear"],["zoom"],5,0,6,1],"line-width":1.5}},{id:"25000",minzoom:11,type:"line",source:"v","source-layer":"AdmBdry",filter:["==",["get","vt_code"],1212],layout:{"line-cap":"square"},paint:{"line-color":"rgba(68,0,128,1)","line-dasharray":[6,2,1,2,1,2],"line-opacity":["interpolate",["linear"],["zoom"],5,0,6,1],"line-width":1.5}},{id:"25000",type:"line",source:"v","source-layer":"AdmBdry",filter:["==",["get","vt_code"],1211],layout:{"line-cap":"round"},paint:{"line-color":"rgba(68,0,128,1)","line-dasharray":[7,5,.1,5],"line-opacity":["interpolate",["linear"],["zoom"],5,0,6,1],"line-width":["interpolate",["linear"],["zoom"],8,1,9,2.5]}},{id:"",maxzoom:8,type:"line",source:"v","source-layer":"AdmBdry",filter:["==",["get","vt_code"],1212],layout:{"line-cap":"square"},paint:{"line-color":"rgba(68,0,128,1)","line-dasharray":[7,5,.1,5],"line-opacity":["interpolate",["linear"],["zoom"],5,0,6,1],"line-width":1}},{id:"",maxzoom:8,type:"line",source:"v","source-layer":"AdmBdry",filter:["==",["get","vt_code"],1221],layout:{"line-cap":"square"},paint:{"line-color":"rgba(34,24,21,1)","line-width":1}},{id:"point",type:"symbol",source:"v","source-layer":"WRltLine",filter:["==",["geometry-type"],"Point"],layout:{"icon-allow-overlap":!0,"icon-image":"","icon-size":1.2,"icon-rotate":["get","vt_angle"],"icon-rotation-alignment":"map"}},{id:"",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["==",["geometry-type"],"Point"],["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]],16,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[0,1]]],["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]],17,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[1,2]]],["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]]],layout:{"icon-allow-overlap":!0,"icon-image":["match",["get","vt_code"],2901,"-20",2903,"-20",2904,"-20",7701,"-20",""],"icon-size":["let","size",["match",["get","vt_code"],7701,.7,.5],["interpolate",["linear"],["zoom"],15,["var","size"],17,["*",2,["var","size"]]]],"symbol-sort-key":["match",["get","vt_code"],2901,88,2903,50,2904,49,7701,111,0],"text-allow-overlap":!1,"text-font":["Noto Sans JP Light"],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],2901,10,7701,12,8],["interpolate",["linear"],["zoom"],15,["var","size"],17,["*",2,["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100},paint:{"text-color":["match",["get","vt_code"],7701,"rgba(0,0,0,1)","rgba(255,255,255,1)"]}},{id:"100",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["==",["geometry-type"],"Point"],["in",["get","vt_code"],["literal",[313,353,361,413,423,522,523,533,534,611,612,613,615,671,673,681,720,860,870,882,883,884,886,887,888,890,899,7104]]],["==",["get","vt_arrng"],2]],16,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[0,1]]],["in",["get","vt_code"],["literal",[313,353,361,413,423,522,523,533,534,611,612,613,615,671,673,681,720,860,870,882,883,884,886,887,888,890,899,7104]]],["==",["get","vt_arrng"],2]],17,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[1,2]]],["in",["get","vt_code"],["literal",[313,353,361,413,423,522,523,533,534,611,612,613,615,671,673,681,720,860,870,882,883,884,886,887,888,890,899,7104]]],["==",["get","vt_arrng"],2]]],layout:{"symbol-sort-key":["match",["get","vt_code"],110,17,120,31,130,19,140,8,150,176,210,37,212,182,220,72,311,11,312,20,313,148,314,15,315,21,316,30,321,23,322,22,323,52,331,50,332,51,333,10,334,42,341,28,342,41,343,49,344,12,345,48,346,38,347,47,348,14,351,9,352,["match",["get","vt_text"],"",6,40],353,147,361,175,411,32,412,86,413,145,421,33,422,74,423,146,431,64,432,84,441,63,511,85,521,76,522,130,523,108,531,95,532,80,533,106,534,115,611,100,612,131,613,101,614,183,615,104,621,36,623,184,631,69,632,70,633,71,634,93,641,185,642,186,651,94,652,187,653,127,654,188,661,128,662,129,671,118,672,189,673,137,681,119,710,190,720,155,730,191,800,35,810,29,820,24,822,78,830,55,831,57,832,77,833,192,840,44,841,43,842,58,843,59,850,39,860,117,870,116,880,98,881,99,882,123,883,134,884,125,885,68,886,121,887,132,888,138,889,97,890,158,899,160,999,193,1301,["match",["get","vt_text"],"",1,["","",""],2,3],1302,["match",["get","vt_text"],"",4,5],1303,["match",["get","vt_text"],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],6,7],1401,16,1402,25,1403,26,2901,92,2902,177,2903,54,2904,53,2941,34,2942,91,2943,87,2944,88,2945,46,3200,178,3201,107,3202,102,3203,103,3204,157,3205,18,3206,27,3211,135,3212,79,3213,89,3214,90,3215,159,3216,139,3217,136,3218,133,3221,75,3231,153,3232,154,3241,96,3242,124,3243,120,3244,122,3261,126,4101,143,4102,141,4103,142,4104,149,4105,151,5801,60,6301,144,6311,161,6312,162,6313,163,6314,164,6321,165,6322,166,6323,167,6324,168,6325,169,6326,170,6327,171,6331,56,6332,150,6341,81,6342,140,6351,109,6361,67,6362,105,6367,65,6368,66,6371,62,6373,83,6375,61,6376,73,6381,82,7101,112,7102,110,7103,113,7104,172,7105,179,7106,180,7107,194,7108,195,7111,196,7121,197,7122,198,7131,199,7188,181,7201,45,7202,200,7211,201,7212,202,7221,13,7288,203,7299,204,7601,173,7621,174,7711,114,8103,152,8105,156,0],"text-allow-overlap":!1,"text-anchor":["match",["get","vt_code"],[431,532,533,720],"top-left",[2941,2942,2943,2944,2945],"left",["case",["==",["get","arrng"],2],["case",["==",["get","vt_dsppos"],"LT"],"top-right",["==",["get","vt_dsppos"],"CT"],"right",["==",["get","vt_dsppos"],"RT"],"bottom-right",["==",["get","vt_dsppos"],"LC"],"top",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"bottom",["==",["get","vt_dsppos"],"LB"],"top-left",["==",["get","vt_dsppos"],"CB"],"left",["==",["get","vt_dsppos"],"RB"],"bottom-left","center"],["case",["==",["get","vt_dsppos"],"LT"],"top-left",["==",["get","vt_dsppos"],"CT"],"top",["==",["get","vt_dsppos"],"RT"],"top-right",["==",["get","vt_dsppos"],"LC"],"left",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"right",["==",["get","vt_dsppos"],"LB"],"bottom-left",["==",["get","vt_dsppos"],"CB"],"bottom",["==",["get","vt_dsppos"],"RB"],"bottom-right","center"]]],"text-font":["match",["get","vt_code"],[321,322,341,342,344,345,347,820,840,841,842],["literal",["Noto Sans JP Light"]],["literal",["Noto Sans JP Light"]]],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],[361,1403,7101,7102,7103,7201,7221],10,[334,730],11,[312,313,314,315,316,322,323,332,342,353,412,533,621,631,632,633,634,653,654,720,999,2941,2942,2943,2944,2945],12,[343,1402,7711],13,[311,346,347,413,422,1303],14,[210,220,321,331,352,411,421,423,431,432,441,511,521,522,523,531,532,534,611,612,613,615,651,661,662,671,672,673,681,1302],15,[130,1301,1401],16,[140,333,351],18,[110,120,341,344,345],20,[348,800,810,820,822,830,831,832,833,840,841,842,843,850,860,870,880,881,882,883,884,885,886,887,888,889,890,899],24,10],["interpolate",["linear"],["zoom"],4,["*",.6,["var","size"]],8,["var","size"],11,["match",["get","vt_code"],[1401,1402,1403],20,422,["*",.7,["var","size"]],["var","size"]],12,["var","size"],14,["var","size"],17,["match",["get","vt_code"],[412,422],["*",2,["var","size"]],["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100,"text-writing-mode":["vertical"]},paint:{"text-color":["match",["get","vt_code"],521,"rgba(0,0,255,1)",348,"rgba(175,74,24,1)",[411,412,413,421,422,423,431,432,441,860,2941,2942,2943,2944,2945],"rgba(19,97,69,1)",[7372,7711],"rgba(20,90,255,1)",7352,"rgba(200, 160, 60,1)",[2901,2903,2904],"rgba(255,255,255,1)",[321,322,341,344,345,820,840,841],"rgba(60,50,181,1)",220,"rgba(80,80,80,1)",312,"rgba(81,29,10,1)",[333,346],"rgba(96,25,134,1)",[511,522,523,531,532,534,611,612,613,614,615,621,623,631,632,633,634,641,642,651,652,653,654,661,662,671,672,673,681,720,730,870,880,881,882,883,884,885,886,887,888,889,890,899,999,3201,3202,3203,3204,3205,3206,3211,3212,3213,3214,3215,3216,3217,3218,3221,3231,3232,3241,3242,3243,3244],"rgba(50,50,50,1)","rgba(0,0,0,1)"],"text-halo-color":"rgba(255,255,255,1)","text-halo-width":1}},{id:"100",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["==",["geometry-type"],"Point"],["in",["get","vt_code"],["literal",[313,353,361,413,423,522,523,533,534,611,612,613,615,671,673,681,720,860,870,882,883,884,886,887,888,890,899,7104]]],["any",["==",["get","vt_arrng"],1],["!",["has","vt_arrng"]]]],16,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[0,1]]],["in",["get","vt_code"],["literal",[313,353,361,413,423,522,523,533,534,611,612,613,615,671,673,681,720,860,870,882,883,884,886,887,888,890,899,7104]]],["any",["==",["get","vt_arrng"],1],["!",["has","vt_arrng"]]]],17,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[1,2]]],["in",["get","vt_code"],["literal",[313,353,361,413,423,522,523,533,534,611,612,613,615,671,673,681,720,860,870,882,883,884,886,887,888,890,899,7104]]],["any",["==",["get","vt_arrng"],1],["!",["has","vt_arrng"]]]]],layout:{"symbol-sort-key":["match",["get","vt_code"],110,17,120,31,130,19,140,8,150,176,210,37,212,182,220,72,311,11,312,20,313,148,314,15,315,21,316,30,321,23,322,22,323,52,331,50,332,51,333,10,334,42,341,28,342,41,343,49,344,12,345,48,346,38,347,47,348,14,351,9,352,["match",["get","vt_text"],"",6,40],353,147,361,175,411,32,412,86,413,145,421,33,422,74,423,146,431,64,432,84,441,63,511,85,521,76,522,130,523,108,531,95,532,80,533,106,534,115,611,100,612,131,613,101,614,183,615,104,621,36,623,184,631,69,632,70,633,71,634,93,641,185,642,186,651,94,652,187,653,127,654,188,661,128,662,129,671,118,672,189,673,137,681,119,710,190,720,155,730,191,800,35,810,29,820,24,822,78,830,55,831,57,832,77,833,192,840,44,841,43,842,58,843,59,850,39,860,117,870,116,880,98,881,99,882,123,883,134,884,125,885,68,886,121,887,132,888,138,889,97,890,158,899,160,999,193,1301,["match",["get","vt_text"],"",1,["","",""],2,3],1302,["match",["get","vt_text"],"",4,5],1303,["match",["get","vt_text"],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],6,7],1401,16,1402,25,1403,26,2901,92,2902,177,2903,54,2904,53,2941,34,2942,91,2943,87,2944,88,2945,46,3200,178,3201,107,3202,102,3203,103,3204,157,3205,18,3206,27,3211,135,3212,79,3213,89,3214,90,3215,159,3216,139,3217,136,3218,133,3221,75,3231,153,3232,154,3241,96,3242,124,3243,120,3244,122,3261,126,4101,143,4102,141,4103,142,4104,149,4105,151,5801,60,6301,144,6311,161,6312,162,6313,163,6314,164,6321,165,6322,166,6323,167,6324,168,6325,169,6326,170,6327,171,6331,56,6332,150,6341,81,6342,140,6351,109,6361,67,6362,105,6367,65,6368,66,6371,62,6373,83,6375,61,6376,73,6381,82,7101,112,7102,110,7103,113,7104,172,7105,179,7106,180,7107,194,7108,195,7111,196,7121,197,7122,198,7131,199,7188,181,7201,45,7202,200,7211,201,7212,202,7221,13,7288,203,7299,204,7601,173,7621,174,7711,114,8103,152,8105,156,0],"text-allow-overlap":!1,"text-anchor":["match",["get","vt_code"],[431,532,533,720],"top-left",[2941,2942,2943,2944,2945],"left",["case",["==",["get","arrng"],2],["case",["==",["get","vt_dsppos"],"LT"],"top-right",["==",["get","vt_dsppos"],"CT"],"right",["==",["get","vt_dsppos"],"RT"],"bottom-right",["==",["get","vt_dsppos"],"LC"],"top",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"bottom",["==",["get","vt_dsppos"],"LB"],"top-left",["==",["get","vt_dsppos"],"CB"],"left",["==",["get","vt_dsppos"],"RB"],"bottom-left","center"],["case",["==",["get","vt_dsppos"],"LT"],"top-left",["==",["get","vt_dsppos"],"CT"],"top",["==",["get","vt_dsppos"],"RT"],"top-right",["==",["get","vt_dsppos"],"LC"],"left",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"right",["==",["get","vt_dsppos"],"LB"],"bottom-left",["==",["get","vt_dsppos"],"CB"],"bottom",["==",["get","vt_dsppos"],"RB"],"bottom-right","center"]]],"text-font":["match",["get","vt_code"],[321,322,341,342,344,345,347,820,840,841,842],["literal",["Noto Sans JP Light"]],["literal",["Noto Sans JP Light"]]],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],[361,1403,7101,7102,7103,7201,7221],10,[334,730],11,[312,313,314,315,316,322,323,332,342,353,412,533,621,631,632,633,634,653,654,720,999,2941,2942,2943,2944,2945],12,[343,1402,7711],13,[311,346,347,413,422,1303],14,[210,220,321,331,352,411,421,423,431,432,441,511,521,522,523,531,532,534,611,612,613,615,651,661,662,671,672,673,681,1302],15,[130,1301,1401],16,[140,333,351],18,[110,120,341,344,345],20,[348,800,810,820,822,830,831,832,833,840,841,842,843,850,860,870,880,881,882,883,884,885,886,887,888,889,890,899],24,10],["interpolate",["linear"],["zoom"],4,["*",.6,["var","size"]],8,["var","size"],11,["match",["get","vt_code"],[1401,1402,1403],20,422,["*",.7,["var","size"]],["var","size"]],12,["var","size"],14,["var","size"],17,["match",["get","vt_code"],[412,422],["*",2,["var","size"]],["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100,"text-writing-mode":["horizontal"]},paint:{"text-color":["match",["get","vt_code"],521,"rgba(0,0,255,1)",348,"rgba(175,74,24,1)",[411,412,413,421,422,423,431,432,441,860,2941,2942,2943,2944,2945],"rgba(19,97,69,1)",[7372,7711],"rgba(20,90,255,1)",7352,"rgba(200, 160, 60,1)",[2901,2903,2904],"rgba(255,255,255,1)",[321,322,341,344,345,820,840,841],"rgba(60,50,181,1)",220,"rgba(80,80,80,1)",312,"rgba(81,29,10,1)",[333,346],"rgba(96,25,134,1)",[511,522,523,531,532,534,611,612,613,614,615,621,623,631,632,633,634,641,642,651,652,653,654,661,662,671,672,673,681,720,730,870,880,881,882,883,884,885,886,887,888,889,890,899,999,3201,3202,3203,3204,3205,3206,3211,3212,3213,3214,3215,3216,3217,3218,3221,3231,3232,3241,3242,3243,3244],"rgba(50,50,50,1)","rgba(0,0,0,1)"],"text-halo-color":"rgba(255,255,255,1)","text-halo-width":1}},{id:"",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["==",["geometry-type"],"LineString"],["!",["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]]],16,["all",["==",["geometry-type"],"LineString"],["in",["get","vt_flag17"],["literal",[0,1]]],["!",["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]]],17,["all",["==",["geometry-type"],"LineString"],["in",["get","vt_flag17"],["literal",[1,2]]],["!",["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]]]],layout:{"icon-allow-overlap":!1,"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-rotation-alignment":"map","symbol-sort-key":["match",["get","vt_code"],110,17,120,31,130,19,140,8,150,176,210,37,212,182,220,72,311,11,312,20,313,148,314,15,315,21,316,30,321,23,322,22,323,52,331,50,332,51,333,10,334,42,341,28,342,41,343,49,344,12,345,48,346,38,347,47,348,14,351,9,352,["match",["get","vt_text"],"",6,40],353,147,361,175,411,32,412,86,413,145,421,33,422,74,423,146,431,64,432,84,441,63,511,85,521,76,522,130,523,108,531,95,532,80,533,106,534,115,611,100,612,131,613,101,614,183,615,104,621,36,623,184,631,69,632,70,633,71,634,93,641,185,642,186,651,94,652,187,653,127,654,188,661,128,662,129,671,118,672,189,673,137,681,119,710,190,720,155,730,191,800,35,810,29,820,24,822,78,830,55,831,57,832,77,833,192,840,44,841,43,842,58,843,59,850,39,860,117,870,116,880,98,881,99,882,123,883,134,884,125,885,68,886,121,887,132,888,138,889,97,890,158,899,160,999,193,1301,["match",["get","vt_text"],"",1,["","",""],2,3],1302,["match",["get","vt_text"],"",4,5],1303,["match",["get","vt_text"],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],6,7],1401,16,1402,25,1403,26,2901,92,2902,177,2903,54,2904,53,2941,34,2942,91,2943,87,2944,88,2945,46,3200,178,3201,107,3202,102,3203,103,3204,157,3205,18,3206,27,3211,135,3212,79,3213,89,3214,90,3215,159,3216,139,3217,136,3218,133,3221,75,3231,153,3232,154,3241,96,3242,124,3243,120,3244,122,3261,126,4101,143,4102,141,4103,142,4104,149,4105,151,5801,60,6301,144,6311,161,6312,162,6313,163,6314,164,6321,165,6322,166,6323,167,6324,168,6325,169,6326,170,6327,171,6331,56,6332,150,6341,81,6342,140,6351,109,6361,67,6362,105,6367,65,6368,66,6371,62,6373,83,6375,61,6376,73,6381,82,7101,112,7102,110,7103,113,7104,172,7105,179,7106,180,7107,194,7108,195,7111,196,7121,197,7122,198,7131,199,7188,181,7201,45,7202,200,7211,201,7212,202,7221,13,7288,203,7299,204,7601,173,7621,174,7711,114,8103,152,8105,156,0],"text-allow-overlap":!1,"text-font":["match",["get","vt_code"],[321,322,341,342,344,345,347,820,840,841,842],["literal",["Noto Sans JP Light"]],["literal",["Noto Sans JP Light"]]],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],[361,1403,7101,7102,7103,7201,7221],10,[334,730],11,[312,313,314,315,316,322,323,332,342,353,412,521,533,621,631,632,633,634,653,654,720,999,2941,2942,2943,2944,2945],12,[343,1402,7711],13,[311,346,347,413,422,1303],14,[210,220,321,331,352,411,421,423,431,432,441,511,522,523,531,532,534,611,612,613,615,651,661,662,671,672,673,681,1302],15,[130,1301,1401],16,[140,333,351],18,[110,120,341,344,345],20,[348,800,810,820,822,830,831,832,833,840,841,842,843,850,860,870,880,881,882,883,884,885,886,887,888,889,890,899],24,10],["interpolate",["linear"],["zoom"],4,["*",.6,["var","size"]],8,["var","size"],11,["match",["get","vt_code"],[1401,1402,1403],20,[422,531],["*",.7,["var","size"]],["var","size"]],12,["var","size"],14,["var","size"],17,["match",["get","vt_code"],[412,422],["*",2,["var","size"]],["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100,"text-radial-offset":.5,"text-variable-anchor":["center"],"text-writing-mode":["horizontal","vertical"]},paint:{"text-color":["match",["get","vt_code"],521,"rgba(0,0,255,1)",348,"rgba(175,74,24,1)",[411,412,413,421,422,423,431,432,441,860,2941,2942,2943,2944,2945],"rgba(19,97,69,1)",[7372,7711],"rgba(20,90,255,1)",7352,"rgba(200, 160, 60,1)",[2901,2903,2904],"rgba(255,255,255,1)",[321,322,341,344,345,820,840,841],"rgba(60,50,181,1)",220,"rgba(80,80,80,1)",312,"rgba(81,29,10,1)",[333,346],"rgba(96,25,134,1)",[511,522,523,531,532,534,611,612,613,614,615,621,623,631,632,633,634,641,642,651,652,653,654,661,662,671,672,673,681,720,730,870,880,881,882,883,884,885,886,887,888,889,890,899,999,3201,3202,3203,3204,3205,3206,3211,3212,3213,3214,3215,3216,3217,3218,3221,3231,3232,3241,3242,3243,3244],"rgba(50,50,50,1)","rgba(0,0,0,1)"],"text-halo-color":"rgba(255,255,255,1)","text-halo-width":1}},{id:"100",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["!=",["get","vt_text"],""],["==",["geometry-type"],"Point"],["in",["get","vt_code"],["literal",[110,120,130,140,210,220,311,312,314,315,316,321,322,323,331,332,333,334,341,342,343,344,345,346,347,348,351,352,411,412,421,422,431,432,441,511,521,531,532,634,651,800,810,820,822,830,831,832,840,841,842,843,850,880,881,885,889,2943,2944]]],["==",["get","vt_arrng"],2]],16,["all",["!=",["get","vt_text"],""],["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[0,1]]],["in",["get","vt_code"],["literal",[110,120,130,140,210,220,311,312,314,315,316,321,322,323,331,332,333,334,341,342,343,344,345,346,347,348,351,352,411,412,421,422,431,432,441,511,521,531,532,634,651,800,810,820,822,830,831,832,840,841,842,843,850,880,881,885,889,2943,2944]]],["==",["get","vt_arrng"],2]],17,["all",["!=",["get","vt_text"],""],["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[1,2]]],["in",["get","vt_code"],["literal",[110,120,130,140,210,220,311,312,314,315,316,321,322,323,331,332,333,334,341,342,343,344,345,346,347,348,351,352,411,412,421,422,431,432,441,511,521,531,532,634,651,800,810,820,822,830,831,832,840,841,842,843,850,880,881,885,889,2943,2944]]],["==",["get","vt_arrng"],2]]],layout:{"symbol-sort-key":["match",["get","vt_code"],110,17,120,31,130,19,140,8,150,176,210,37,212,182,220,72,311,11,312,20,313,148,314,15,315,21,316,30,321,23,322,22,323,52,331,50,332,51,333,10,334,42,341,28,342,41,343,49,344,12,345,48,346,38,347,47,348,14,351,9,352,["match",["get","vt_text"],"",6,40],353,147,361,175,411,32,412,86,413,145,421,33,422,74,423,146,431,64,432,84,441,63,511,85,521,76,522,130,523,108,531,95,532,80,533,106,534,115,611,100,612,131,613,101,614,183,615,104,621,36,623,184,631,69,632,70,633,71,634,93,641,185,642,186,651,94,652,187,653,127,654,188,661,128,662,129,671,118,672,189,673,137,681,119,710,190,720,155,730,191,800,35,810,29,820,24,822,78,830,55,831,57,832,77,833,192,840,44,841,43,842,58,843,59,850,39,860,117,870,116,880,98,881,99,882,123,883,134,884,125,885,68,886,121,887,132,888,138,889,97,890,158,899,160,999,193,1301,["match",["get","vt_text"],"",1,["","",""],2,3],1302,["match",["get","vt_text"],"",4,5],1303,["match",["get","vt_text"],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],6,7],1401,16,1402,25,1403,26,2901,92,2902,177,2903,54,2904,53,2941,34,2942,91,2943,87,2944,88,2945,46,3200,178,3201,107,3202,102,3203,103,3204,157,3205,18,3206,27,3211,135,3212,79,3213,89,3214,90,3215,159,3216,139,3217,136,3218,133,3221,75,3231,153,3232,154,3241,96,3242,124,3243,120,3244,122,3261,126,4101,143,4102,141,4103,142,4104,149,4105,151,5801,60,6301,144,6311,161,6312,162,6313,163,6314,164,6321,165,6322,166,6323,167,6324,168,6325,169,6326,170,6327,171,6331,56,6332,150,6341,81,6342,140,6351,109,6361,67,6362,105,6367,65,6368,66,6371,62,6373,83,6375,61,6376,73,6381,82,7101,112,7102,110,7103,113,7104,172,7105,179,7106,180,7107,194,7108,195,7111,196,7121,197,7122,198,7131,199,7188,181,7201,45,7202,200,7211,201,7212,202,7221,13,7288,203,7299,204,7601,173,7621,174,7711,114,8103,152,8105,156,0],"text-allow-overlap":!1,"text-anchor":["match",["get","vt_code"],[431,532,533,720],"top-left",[2941,2942,2943,2944,2945],"left",["case",["==",["get","arrng"],2],["case",["==",["get","vt_dsppos"],"LT"],"top-right",["==",["get","vt_dsppos"],"CT"],"right",["==",["get","vt_dsppos"],"RT"],"bottom-right",["==",["get","vt_dsppos"],"LC"],"top",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"bottom",["==",["get","vt_dsppos"],"LB"],"top-left",["==",["get","vt_dsppos"],"CB"],"left",["==",["get","vt_dsppos"],"RB"],"bottom-left","center"],["case",["==",["get","vt_dsppos"],"LT"],"top-left",["==",["get","vt_dsppos"],"CT"],"top",["==",["get","vt_dsppos"],"RT"],"top-right",["==",["get","vt_dsppos"],"LC"],"left",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"right",["==",["get","vt_dsppos"],"LB"],"bottom-left",["==",["get","vt_dsppos"],"CB"],"bottom",["==",["get","vt_dsppos"],"RB"],"bottom-right","center"]]],"text-font":["match",["get","vt_code"],[321,322,341,342,344,345,347,820,840,841,842],["literal",["Noto Sans JP Light"]],["literal",["Noto Sans JP Light"]]],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],[361,1403,7101,7102,7103,7201,7221],10,[334,730],11,[312,313,314,315,316,322,323,332,342,353,412,521,533,621,631,632,633,634,653,654,720,999,2941,2942,2943,2944,2945],12,[343,1402,7711],13,[311,346,347,413,422,1303],14,[210,220,321,331,352,411,421,423,431,432,441,511,522,523,531,532,534,611,612,613,615,651,661,662,671,672,673,681,1302],15,[130,1301,1401],16,[140,333,351],18,[110,120,341,344,345],20,[348,800,810,820,822,830,831,832,833,840,841,842,843,850,860,870,880,881,882,883,884,885,886,887,888,889,890,899],24,10],["interpolate",["linear"],["zoom"],4,["*",.6,["var","size"]],8,["match",["get","vt_code"],[343,352],["*",.9,["var","size"]],["var","size"]],11,["match",["get","vt_code"],[1401,1402,1403],20,[422,531],["*",.7,["var","size"]],["var","size"]],12,["var","size"],14,["match",["get","vt_code"],[412],["*",1.3,["var","size"]],["var","size"]],17,["match",["get","vt_code"],[412,422],["*",2,["var","size"]],["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100,"text-writing-mode":["vertical"]},paint:{"text-color":["match",["get","vt_code"],521,"rgba(0,0,255,1)",348,"rgba(175,74,24,1)",[411,412,413,421,422,423,431,432,441,860,2941,2942,2943,2944,2945],"rgba(19,97,69,1)",[7372,7711],"rgba(20,90,255,1)",7352,"rgba(200, 160, 60,1)",[2901,2903,2904],"rgba(255,255,255,1)",[321,322,341,344,345,820,840,841],"rgba(60,50,181,1)",220,"rgba(80,80,80,1)",312,"rgba(81,29,10,1)",[333,346],"rgba(96,25,134,1)",[511,522,523,531,532,534,611,612,613,614,615,621,623,631,632,633,634,641,642,651,652,653,654,661,662,671,672,673,681,720,730,870,880,881,882,883,884,885,886,887,888,889,890,899,999,3201,3202,3203,3204,3205,3206,3211,3212,3213,3214,3215,3216,3217,3218,3221,3231,3232,3241,3242,3243,3244],"rgba(50,50,50,1)","rgba(0,0,0,1)"],"text-halo-color":"rgba(255,255,255,1)","text-halo-width":1}},{id:"100",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["==",["geometry-type"],"Point"],["in",["get","vt_code"],["literal",[110,120,130,140,210,220,311,312,314,315,316,321,322,323,331,332,333,334,341,342,343,344,345,346,347,348,351,352,411,412,421,422,431,432,441,511,521,531,532,634,651,800,810,820,822,830,831,832,840,841,842,843,850,880,881,885,889,2943,2944]]],["any",["==",["get","vt_arrng"],1],["!",["has","vt_arrng"]]]],16,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[0,1]]],["in",["get","vt_code"],["literal",[110,120,130,140,210,220,311,312,314,315,316,321,322,323,331,332,333,334,341,342,343,344,345,346,347,348,351,352,411,412,421,422,431,432,441,511,521,531,532,634,651,800,810,820,822,830,831,832,840,841,842,843,850,880,881,885,889,2943,2944]]],["any",["==",["get","vt_arrng"],1],["!",["has","vt_arrng"]]]],17,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[1,2]]],["in",["get","vt_code"],["literal",[110,120,130,140,210,220,311,312,314,315,316,321,322,323,331,332,333,334,341,342,343,344,345,346,347,348,351,352,411,412,421,422,431,432,441,511,521,531,532,634,651,800,810,820,822,830,831,832,840,841,842,843,850,880,881,885,889,2943,2944]]],["any",["==",["get","vt_arrng"],1],["!",["has","vt_arrng"]]]]],layout:{"symbol-sort-key":["match",["get","vt_code"],110,17,120,31,130,19,140,8,150,176,210,37,212,182,220,72,311,11,312,20,313,148,314,15,315,21,316,30,321,23,322,22,323,52,331,50,332,51,333,10,334,42,341,28,342,41,343,49,344,12,345,48,346,38,347,47,348,14,351,9,352,["match",["get","vt_text"],"",6,40],353,147,361,175,411,32,412,86,413,145,421,33,422,74,423,146,431,64,432,84,441,63,511,85,521,76,522,130,523,108,531,95,532,80,533,106,534,115,611,100,612,131,613,101,614,183,615,104,621,36,623,184,631,69,632,70,633,71,634,93,641,185,642,186,651,94,652,187,653,127,654,188,661,128,662,129,671,118,672,189,673,137,681,119,710,190,720,155,730,191,800,35,810,29,820,24,822,78,830,55,831,57,832,77,833,192,840,44,841,43,842,58,843,59,850,39,860,117,870,116,880,98,881,99,882,123,883,134,884,125,885,68,886,121,887,132,888,138,889,97,890,158,899,160,999,193,1301,["match",["get","vt_text"],"",1,["","",""],2,3],1302,["match",["get","vt_text"],"",4,5],1303,["match",["get","vt_text"],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],6,7],1401,16,1402,25,1403,26,2901,92,2902,177,2903,54,2904,53,2941,34,2942,91,2943,87,2944,88,2945,46,3200,178,3201,107,3202,102,3203,103,3204,157,3205,18,3206,27,3211,135,3212,79,3213,89,3214,90,3215,159,3216,139,3217,136,3218,133,3221,75,3231,153,3232,154,3241,96,3242,124,3243,120,3244,122,3261,126,4101,143,4102,141,4103,142,4104,149,4105,151,5801,60,6301,144,6311,161,6312,162,6313,163,6314,164,6321,165,6322,166,6323,167,6324,168,6325,169,6326,170,6327,171,6331,56,6332,150,6341,81,6342,140,6351,109,6361,67,6362,105,6367,65,6368,66,6371,62,6373,83,6375,61,6376,73,6381,82,7101,112,7102,110,7103,113,7104,172,7105,179,7106,180,7107,194,7108,195,7111,196,7121,197,7122,198,7131,199,7188,181,7201,45,7202,200,7211,201,7212,202,7221,13,7288,203,7299,204,7601,173,7621,174,7711,114,8103,152,8105,156,0],"text-allow-overlap":!1,"text-anchor":["match",["get","vt_code"],[431,532,533,720],"top-left",[2941,2942,2943,2944,2945],"left",["case",["==",["get","arrng"],2],["case",["==",["get","vt_dsppos"],"LT"],"top-right",["==",["get","vt_dsppos"],"CT"],"right",["==",["get","vt_dsppos"],"RT"],"bottom-right",["==",["get","vt_dsppos"],"LC"],"top",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"bottom",["==",["get","vt_dsppos"],"LB"],"top-left",["==",["get","vt_dsppos"],"CB"],"left",["==",["get","vt_dsppos"],"RB"],"bottom-left","center"],["case",["==",["get","vt_dsppos"],"LT"],"top-left",["==",["get","vt_dsppos"],"CT"],"top",["==",["get","vt_dsppos"],"RT"],"top-right",["==",["get","vt_dsppos"],"LC"],"left",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"right",["==",["get","vt_dsppos"],"LB"],"bottom-left",["==",["get","vt_dsppos"],"CB"],"bottom",["==",["get","vt_dsppos"],"RB"],"bottom-right","center"]]],"text-font":["match",["get","vt_code"],[321,322,341,342,344,345,347,820,840,841,842],["literal",["Noto Sans JP Light"]],["literal",["Noto Sans JP Light"]]],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],[361,1403,7101,7102,7103,7201,7221],10,[334,730],11,[312,313,314,315,316,322,323,332,342,353,412,521,533,621,631,632,633,634,653,654,720,999,2941,2942,2943,2944,2945],12,[343,1402,7711],13,[311,346,347,413,422,1303],14,[210,220,321,331,352,411,421,423,431,432,441,511,522,523,531,532,534,611,612,613,615,651,661,662,671,672,673,681,1302],15,[130,1301,1401],16,[140,333,351],18,[110,120,341,344,345],20,[348,800,810,820,822,830,831,832,833,840,841,842,843,850,860,870,880,881,882,883,884,885,886,887,888,889,890,899],24,10],["interpolate",["linear"],["zoom"],4,["*",.6,["var","size"]],8,["match",["get","vt_code"],[343,352],["*",.9,["var","size"]],["var","size"]],11,["match",["get","vt_code"],[1401,1402,1403],20,[422,531],["*",.7,["var","size"]],["var","size"]],12,["var","size"],14,["match",["get","vt_code"],[412],["*",1.3,["var","size"]],["var","size"]],17,["match",["get","vt_code"],[412,422],["*",2,["var","size"]],["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100,"text-writing-mode":["horizontal"]},paint:{"text-color":["match",["get","vt_code"],521,"rgba(0,0,255,1)",348,"rgba(175,74,24,1)",[411,412,413,421,422,423,431,432,441,860,2941,2942,2943,2944,2945],"rgba(19,97,69,1)",[7372,7711],"rgba(20,90,255,1)",7352,"rgba(200, 160, 60,1)",[2901,2903,2904],"rgba(255,255,255,1)",[321,322,341,344,345,820,840,841],"rgba(60,50,181,1)",220,"rgba(80,80,80,1)",312,"rgba(81,29,10,1)",[333,346],"rgba(96,25,134,1)",[511,522,523,531,532,534,611,612,613,614,615,621,623,631,632,633,634,641,642,651,652,653,654,661,662,671,672,673,681,720,730,870,880,881,882,883,884,885,886,887,888,889,890,899,999,3201,3202,3203,3204,3205,3206,3211,3212,3213,3214,3215,3216,3217,3218,3221,3231,3232,3241,3242,3243,3244],"rgba(50,50,50,1)","rgba(0,0,0,1)"],"text-halo-color":"rgba(255,255,255,1)","text-halo-width":1}}],vw={sources:AD,layers:cD},uD=()=>vw.sources,hD=()=>vw.layers.filter(t=>t.type==="symbol"),xw=L0.map(t=>t.id),dD=t=>{if(!xw.includes(t))throw new Error(`Invalid ID: ${t}`)};jB.forEach(t=>{try{dD(t)}catch(e){e instanceof Error&&(console.warn(`id: ${t}`),console.warn("id: ",xw.join(", ")),console.error(e.message))}});const fD=t=>{const r=["match",["get",t.key]],{categories:n,values:l}=t.mapping;if(n.length!==l.length)return console.warn(""),"#ff0000";for(let h=0;h<n.length;h++)r.push(n[h],l[h]);return r.push("#00000000"),r},gD=t=>{const e=t.key,r=["step",["case",["==",["get",e],null],-9999,["!=",["to-number",["get",e],-9999],-9999],["to-number",["get",e],-9999],-9999]],{categories:n,values:l}=hp(t.mapping);return n.length!==l.length?(console.warn(""),"#ff0000"):(r.push("#00000000"),n.forEach((h,u)=>{r.push(h,l[u])}),r)},Tp=t=>{const e=t.key,r=t.expressions.find(n=>n.key===e);if(!r)return console.warn(`: ${e}`),"#ff0000";switch(r.type){case"single":return r.mapping.value;case"match":return fD(r);case"step":return gD(r);default:return console.warn(`: ${e}`),"#ff0000"}},pD=t=>{const r=["match",["get",t.key]],{categories:n,values:l}=t.mapping;if(n.length!==l.length)return console.warn(""),0;for(let h=0;h<n.length;h++)r.push(n[h],l[h]);return r.push(0),r},mD=t=>{const e=t.key,r=["step",["case",["==",["get",e],null],-9999,["!=",["to-number",["get",e],-9999],-9999],["to-number",["get",e],-9999],-9999]],{categories:n,values:l}=hp(t.mapping);return n.length!==l.length?(console.warn(""),0):(r.push(0),n.forEach((h,u)=>{r.push(h,l[u])}),r)},_D=t=>{const{key:e,mapping:r}=t,[n,l]=r.range,[h,u]=r.values;return["interpolate",["linear"],["get",e],n,h,l,u]},ww=t=>{const e=t.key,r=t.expressions.find(n=>n.key===e);if(!r)return console.warn(`: ${e}`),0;switch(r.type){case"single":return r.mapping.value;case"match":return pD(r);case"linear":return _D(r);case"step":return mD(r);default:return console.warn(`: ${e}`),0}},a_=t=>["case",["boolean",["feature-state","selected"],!1],w5,t],bD=t=>["case",["boolean",["feature-state","selected"],!1],.8,t],yD=(t,e)=>{const r=e.default,n=Tp(e.colors),l=a_(n),h=bD(e.opacity);return{...t,type:"fill",paint:{"fill-opacity":h,"fill-outline-color":"#00000000","fill-color":e.colors.show?l:"#00000000",...r&&r.fill?r.fill.paint:{}},layout:{...r&&r.fill?r.fill.layout:{}}}},vD=(t,e)=>{const r=e.default,n=Tp(e.colors),l=a_(n),h=ww(e.width);return{...t,type:"line",paint:{"line-opacity":e.colors.show?e.opacity:0,"line-color":e.colors.show?l:"#00000000","line-width":h,...e.lineStyle==="dashed"&&{"line-dasharray":[2,2]},...r&&r.line?r.line.paint:{}},layout:{...r&&r.line?r.line.layout:{}}}},xD=(t,e,r)=>({...t,id:`${t.id}_outline`,type:"line",paint:{"line-color":e.color,"line-width":e.width,"line-opacity":r,...e.lineStyle==="dashed"&&{"line-dasharray":[2,2]}}}),wD=(t,e)=>{const r=e.outline,n=e.default,l=Tp(e.colors),h=a_(l),u=ww(e.radius);return{...t,type:"circle",paint:{"circle-opacity":e.colors.show?e.opacity:0,"circle-stroke-opacity":e.opacity,"circle-color":e.colors.show?h:"#00000000","circle-radius":u,"circle-stroke-color":r.show?e.outline.color:"#00000000","circle-stroke-width":r.show?e.outline.width:0,...n&&n.circle?n.circle.paint:{}},layout:{...n&&n.circle?n.circle.layout:{}}}},BD=(t,e)=>{var u;const r=e.default,n=Tp(e.colors),l=e.labels.key;return{...t,id:`${t.id}`,type:"symbol",paint:{"text-opacity":e.opacity,"icon-opacity":e.opacity,"text-color":n,"text-halo-color":"#FFFFFF","text-halo-width":2,...r&&r.symbol?r.symbol.paint:{}},layout:{"text-field":((u=e.labels.expressions.find(s=>s.key===l))==null?void 0:u.value)??"","text-size":12,"text-max-width":12,"text-font":["Noto Sans JP Light"],...r&&r.symbol?r.symbol.layout:{}}}},CD=(t,e)=>{var w,I;const r=e.default,n=e.labels.key,l=e.labels.show,h=((w=e.labels.expressions.find(M=>M.key===n))==null?void 0:w.value)??"",u={"text-opacity":1,"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":2},s={"text-field":h,"text-size":12,"text-max-width":12,"text-font":["Noto Sans JP Light"]};return{...t,id:`${t.id}`,type:"symbol",paint:{...l?u:{},...l&&r&&r.symbol?r.symbol.paint:{},"icon-opacity":e.opacity},layout:{...l?s:{},...l&&r&&r.symbol?r.symbol.layout:{},"icon-image":["get","_prop_id"],"icon-size":((I=e.icon)==null?void 0:I.size)??.1,"icon-anchor":"bottom"}}},MD=(t,e)=>{var h;const r=e.default,n=e.labels.key;return{...t,id:`${t.id}_label`,type:"symbol",paint:{"text-opacity":1,"icon-opacity":1,"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":2,...r?r.symbol.paint:{}},layout:{"text-field":((h=e.labels.expressions.find(u=>u.key===n))==null?void 0:h.value)??"","text-size":12,"text-max-width":12,"text-font":["Noto Sans JP Light"],...r?r.symbol.layout:{}}}},RD=(t,e)=>{var r;switch(e.type){case"fill":return yD(t,e);case"line":return vD(t,e);case"circle":switch(e.markerType){case"icon":return(r=e.icon)!=null&&r.show?CD(t,e):void 0;case"circle":return wD(t,e);default:console.warn(` style.markerType: ${e.markerType} layer.id: ${t.id}`);return}case"symbol":return BD(t,e);default:console.warn(`style.type: ${t.id}`);return}},g6=(t,e="main")=>{const r=[],n=[],l=[],h=[];g0.clear(),t.filter(s=>s.style.visible).reverse().forEach(s=>{var z;const v=`${s.id}`,w=`${s.id}_source`,{format:I,style:M,metaData:U,interaction:C,type:S}=s,k={id:v,source:w,maxzoom:24,minzoom:0,metadata:{name:U.name,location:U.location,titles:s.type==="vector"?s.properties.titles:null}};switch(S){case"raster":{C.clickable&&h.push(v),M.type==="basemap"?r.push({...k,type:"raster",paint:{"raster-opacity":M.opacity,"raster-hue-rotate":M.hueRotate,"raster-brightness-max":M.brightnessMax,"raster-brightness-min":M.brightnessMin,"raster-saturation":M.saturation,"raster-contrast":M.contrast}}):M.type==="categorical"?r.push({...k,type:"raster",paint:{"raster-opacity":M.opacity}}):M.type==="dem"&&r.push({...k,type:"raster",paint:{"raster-opacity":M.opacity}});break}case"vector":{C.clickable&&(l.push(v),"sourceLayer"in U?g0.set(v,{source:w,sourceLayer:U.sourceLayer}):g0.set(v,{source:w})),(I.type==="mvt"||I.type==="pmtiles")&&"sourceLayer"in U&&(k["source-layer"]=U.sourceLayer);const Z=RD(k,M);if(Z&&r.push(Z),M.type==="fill"&&M.outline.show){const G=xD(k,M.outline,M.opacity);r.push(G)}if(M.labels.show&&!(M.type==="circle"&&M.markerType==="icon"&&((z=M.icon)!=null&&z.show))){const G=MD(k,M);n.push(G)}break}default:console.warn(`type: ${v}`);break}}),x5.set(l),KB.set(h);const u=qo(w0)&&e==="main"?hD():[];return[...r,...u,...n]},ID=t=>t.includes("{-y}")?"tms":"xyz",p6=async(t,e="main")=>{const r=await Promise.all(t.map(async(s,v)=>{const w={},I=`${s.id}_source`,{metaData:M,format:U,type:C,style:S}=s;switch(C){case"raster":{if(U.type==="image")if(S.type==="dem"){const k=S.visualization,z=k.mode;if(z!=="default"){const Z=k.demType,G=LE(k.uniformsData[z]);w[I]={type:"raster",tiles:[`webgl://${U.url}?entryId=${s.id}&demType=${Z}&mode=${z}&${G}&x={x}&y={y}&z={z}`],maxzoom:M.maxZoom,minzoom:M.minZoom,tileSize:M.tileSize,attribution:M.attribution,bounds:M.bounds??[-180,-85.051129,180,85.051129]}}else w[I]={type:"raster",tiles:[U.url],maxzoom:M.maxZoom,minzoom:M.minZoom,tileSize:M.tileSize,attribution:M.attribution,bounds:M.bounds??[-180,-85.051129,180,85.051129]}}else w[I]={type:"raster",tiles:[U.url],maxzoom:M.maxZoom,minzoom:M.minZoom,scheme:ID(U.url),tileSize:M.tileSize,attribution:M.attribution,bounds:M.bounds??[-180,-85.051129,180,85.051129]};else U.type==="pmtiles"&&(w[I]={type:"raster",url:`pmtiles://${U.url}`,maxzoom:M.maxZoom,minzoom:"minZoom"in M?M.minZoom:void 0,tileSize:M.tileSize,attribution:M.attribution,bounds:M.bounds??[-180,-85.051129,180,85.051129]});break}case"vector":{if(U.type==="geojson"||U.type==="fgb"){let k="";Xo.has(s.id)?k=Xo.get(s.id):U.type==="fgb"?(k=await Eg(U.url),Xo.set(s.id,k)):U.type==="geojson"&&(k=await C5(U.url),Xo.set(s.id,k)),w[I]={type:"geojson",data:k,generateId:!0,maxzoom:M.maxZoom,attribution:M.attribution}}else U.type==="mvt"?w[I]={type:"vector",tiles:[U.url],maxzoom:M.maxZoom,minzoom:"minZoom"in M?M.minZoom:void 0,promoteId:"promoteId"in M?M.promoteId:void 0,attribution:M.attribution,bounds:M.bounds??[-180,-85.051129,180,85.051129]}:U.type==="pmtiles"&&(w[I]={type:"vector",url:`pmtiles://${U.url}`,maxzoom:M.maxZoom,minzoom:"minZoom"in M?M.minZoom:void 0,promoteId:"promoteId"in M?M.promoteId:void 0,attribution:M.attribution,bounds:M.bounds??[-180,-85.051129,180,85.051129]});break}default:console.warn(`Unknown layer: ${I}`);break}return{index:v,items:w}})),n=new Set,l=r.sort((s,v)=>s.index-v.index).map(s=>{const v=Object.keys(s.items)[0],I=s.items[v].attribution;return n.add(I),s.items}),h=Object.assign({},...l);n.size>0&&v5.set(Array.from(n));const u=qo(w0)?uD():{};return{...h,...u}};var UD=nt("<!> <!> <!> <!> <!>",1),ED=nt('<div role="region" class="relative h-full w-full"><div></div> <!> <!> <!> <!></div> <!>',1);function FD(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(zl,"$isTerrain3d",r),h=()=>kr(GA,"$mapMode",r),u=()=>kr(Xl,"$isStreetView",r);let s=Qt(e,"tempLayerEntries",15),v=Qt(e,"showDataEntry",15),w=Qt(e,"featureMenuData",15),I=Qt(e,"showSelectionMarker",15),M=Qt(e,"selectionMarkerLngLat",15),U=Qt(e,"dropFile",15),C=Qt(e,"showDialogType",15),S=Pt(null),k=Pt(null),z=Pt(wi([])),Z=null,G=Pt(!1),se=Pt(null),re=Pt(null),Ae=Pt(!1),J=Pt(wi([]));const te=[136.91278,35.543576,136.92986,35.556704];wi({type:"canvas",canvas:"canvas-layer",coordinates:[[te[0],te[3]],[te[2],te[3]],[te[2],te[1]],[te[0],te[1]]]});const X=async De=>{const $e=await p6(De),st=await g6(De);let xt=v()?await p6([v()],"preview"):{};v()&&(xt={...xt,tile_grid:{type:"raster",tiles:["./tile_grid.png"],tileSize:256}});let Et=v()?await g6([v()],"preview"):[];v()&&(Et=[{id:"tile_grid",type:"raster",source:"tile_grid",paint:{"raster-opacity":.5}},...Et]);const lt={source:"terrain",exaggeration:1};return{version:8,glyphs:M5,sprite:"https://gsi-cyberjapan.github.io/optimal_bvmap/sprite/std",sources:{terrain:{type:"raster-dem",tiles:[`terrain://${ya.url}?x={x}&y={y}&z={z}`],tileSize:256,minzoom:ya.sourceMinZoom,maxzoom:ya.sourceMaxZoom,attribution:ya.attribution,bounds:ya.bbox},...cQ,...$e,tile_index:{type:"vector",maxzoom:22,tiles:["tile_index://http://{z}/{x}/{y}.png?x={x}&y={y}&z={z}"]},...xt},layers:[...st,{id:"@overlay_layer",type:"background",paint:{"background-color":"#000000","background-opacity":v()?.7:0}},...Et,uQ,hQ],sky:{"sky-color":"#2baeff","sky-horizon-blend":.5,"horizon-color":"#ffffff","horizon-fog-blend":.5,"fog-color":"#2222ff","fog-ground-blend":.5,"atmosphere-blend":["interpolate",["linear"],["zoom"],0,1,10,1,12,0]},terrain:l()?lt:void 0}};ua(async()=>{if(!e.layerEntries)return;const De=await X(e.layerEntries);!De||!V(S)||pi.init(V(S),De)});const W=zC(async De=>{const $e=await X(De);pi.setStyle($e),pi.terrainReload()},100);Gi(()=>{const De=fC(e.layerEntries);W(De)}),Gi(()=>{v()&&W(e.layerEntries)}),w0.subscribe(()=>{W(e.layerEntries)});const he=(De,$e)=>{if(V(k)){if(!De||!$e){Xe(G,!1);return}De&&(Xe(se,De.lngLat,!0),Xe(re,$e,!0),Xe(G,!0))}};Gi(()=>{w()||I(!1)}),pi.onInitialized(De=>{Xe(k,De,!0)});const ue=De=>{De.preventDefault(),Xe(Ae,!0)},_e=De=>{De.preventDefault(),Xe(Ae,!1)},xe=async De=>{De.preventDefault(),Xe(Ae,!1);const $e=De.dataTransfer;if(!$e)return;const st=$e.files;!st||st.length===0||U(st)};var He=ED(),Ve=kt(He),Ke=Ce(Ve);gn(Ke,De=>Xe(S,De),()=>V(S));var ot=Ue(Ke,2);nQ(ot);var it=Ue(ot,2);AQ(it,{});var pt=Ue(it,2);MQ(pt,{get layerEntries(){return e.layerEntries},get clickedLngLat(){return Z},get clickedLayerIds(){return V(z)},set clickedLayerIds(De){Xe(z,De,!0)},get featureMenuData(){return w()},set featureMenuData(De){w(De)},get clickedLayerFeaturesData(){return V(J)},set clickedLayerFeaturesData(De){Xe(J,De,!0)}});var Ut=Ue(pt,2);rQ(Ut),ve(Ve);var ct=Ue(Ve,2);{var mt=De=>{var $e=UD(),st=kt($e);lD(st,{get map(){return V(k)},get isDragover(){return V(Ae)},set isDragover(Rt){Xe(Ae,Rt,!0)},get dropFile(){return U()},set dropFile(Rt){U(Rt)},get tempLayerEntries(){return s()},set tempLayerEntries(Rt){s(Rt)},get showDataEntry(){return v()},set showDataEntry(Rt){v(Rt)},get showDialogType(){return C()},set showDialogType(Rt){C(Rt)}});var xt=Ue(st,2);fQ(xt,{get map(){return V(k)}});var Et=Ue(xt,2);_Q(Et,{get map(){return V(k)},get showDataEntry(){return v()},get layerEntries(){return e.layerEntries},toggleTooltip:he,get markerLngLat(){return M()},set markerLngLat(Rt){M(Rt)},get featureMenuData(){return w()},set featureMenuData(Rt){w(Rt)},get showMarker(){return I()},set showMarker(Rt){I(Rt)},get clickedLayerIds(){return V(z)},set clickedLayerIds(Rt){Xe(z,Rt,!0)}});var lt=Ue(Et,2);fy(lt,M,Rt=>{pQ(Rt,{get map(){return V(k)},get show(){return I()},set show(Mt){I(Mt)},get lngLat(){return M()},set lngLat(Mt){M(Mt)}})});var Zt=Ue(lt,2);fy(Zt,()=>V(G),Rt=>{UQ(Rt,{get map(){return V(k)},get feature(){return V(re)},get show(){return V(G)},set show(Mt){Xe(G,Mt,!0)},get lngLat(){return V(se)},set lngLat(Mt){Xe(se,Mt,!0)}})}),Qe(De,$e)};_t(ct,De=>{V(k)&&De(mt)})}Gt(()=>Bi(Ke,1,`c-map-satellite absolute grow bg-black transition-opacity duration-500 ${(!e.showMapCanvas&&h()==="view"?"pointer-events-none bottom-0 left-0 h-full w-full opacity-0":u()&&h()==="small"?"bottom-2 left-2 z-20 h-[200px] w-[300px] overflow-hidden rounded-md border-4 border-white bg-white":"bottom-0 left-0 h-full w-full opacity-100")??""}`,"svelte-1rq0kpq")),ra("drop",Ve,xe),ra("dragover",Ve,ue),ra("dragleave",Ve,_e),Qe(t,He),or(),n()}var TD=nt("<div> </div>");function SD(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(sg,"$notificationMessage",r);let h,u=Pt("");sg.subscribe(I=>{I&&!I.persistent&&(clearTimeout(h),h=setTimeout(()=>{sg.set(null)},3e3)),Xe(u,(I==null?void 0:I.type)==="error"?"bg-red-500 text-base":(I==null?void 0:I.type)==="success"?"bg-accent text-base":(I==null?void 0:I.type)==="info"?"bg-main text-base":(I==null?void 0:I.type)==="warning"?"bg-yellow-500 text-base":"bg-main text-base",!0)}),ua(()=>()=>{clearTimeout(h)});var s=vr(),v=kt(s);{var w=I=>{var M=TD(),U=Ce(M,!0);ve(M),Gt(()=>{Bi(M,1,`pointer-events-none absolute right-0 top-[90px] z-30 grid place-items-center rounded-l-full px-6 py-2 shadow-md ${V(u)??""}`),dr(U,l().message)}),ni(3,M,()=>In,()=>({duration:300,x:200})),Qe(I,M)};_t(v,I=>{l()&&I(w)})}Qe(t,s),or(),n()}const ND=(t,e,r)=>{if(e()){const n={...e()};e(null),L0.some(h=>h.id===n.id)||r([...r(),n]);const l=b5(n);zu.add(n.id,l),hs(`${n.metaData.name}`,"success"),Qs.set(!1)}},YD=(t,e)=>{e()&&(zu.remove(e().id),e(null))};var PD=nt('<button class="c-btn-confirm pointer-events-auto px-6 text-lg"></button>'),LD=nt('<div class="pointer-events-none absolute bottom-4 z-10 flex w-full items-center justify-center gap-4 p-4"><button class="c-btn-cancel pointer-events-auto px-4 text-lg"></button> <!></div>');function kD(t,e){sr(e,!0);const[r,n]=qi();let h=wi(kr(Cg,"$orderedLayerIds",r)),u=Qt(e,"showDataEntry",15),s=Qt(e,"tempLayerEntries",15);const v=C=>{C.key==="Escape"&&u(null)};var w=LD();ra("keydown",b4,v);var I=Ce(w);I.__click=[YD,u];var M=Ue(I,2);{var U=C=>{var S=PD();S.__click=[ND,u,s],Qe(C,S)};_t(M,C=>{u()&&!h.includes(u().id)&&C(U)})}ve(w),ni(3,w,()=>In,()=>({duration:200,y:100,opacity:0})),Qe(t,w),or(),n()}fi(["click"]);/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:Bw,setPrototypeOf:m6,isFrozen:QD,getPrototypeOf:DD,getOwnPropertyDescriptor:zD}=Object;let{freeze:pn,seal:ms,create:Cw}=Object,{apply:$m,construct:qm}=typeof Reflect<"u"&&Reflect;pn||(pn=function(e){return e});ms||(ms=function(e){return e});$m||($m=function(e,r,n){return e.apply(r,n)});qm||(qm=function(e,r){return new e(...r)});const z1=mn(Array.prototype.forEach),ZD=mn(Array.prototype.lastIndexOf),_6=mn(Array.prototype.pop),Nd=mn(Array.prototype.push),OD=mn(Array.prototype.splice),dg=mn(String.prototype.toLowerCase),W3=mn(String.prototype.toString),b6=mn(String.prototype.match),Yd=mn(String.prototype.replace),HD=mn(String.prototype.indexOf),XD=mn(String.prototype.trim),Ns=mn(Object.prototype.hasOwnProperty),cn=mn(RegExp.prototype.test),Pd=VD(TypeError);function mn(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),l=1;l<r;l++)n[l-1]=arguments[l];return $m(t,e,n)}}function VD(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return qm(t,r)}}function $r(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dg;m6&&m6(t,null);let n=e.length;for(;n--;){let l=e[n];if(typeof l=="string"){const h=r(l);h!==l&&(QD(e)||(e[n]=h),l=h)}t[l]=!0}return t}function GD(t){for(let e=0;e<t.length;e++)Ns(t,e)||(t[e]=null);return t}function DA(t){const e=Cw(null);for(const[r,n]of Bw(t))Ns(t,r)&&(Array.isArray(n)?e[r]=GD(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=DA(n):e[r]=n);return e}function Ld(t,e){for(;t!==null;){const n=zD(t,e);if(n){if(n.get)return mn(n.get);if(typeof n.value=="function")return mn(n.value)}t=DD(t)}function r(){return null}return r}const y6=pn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),J3=pn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),em=pn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),jD=pn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),tm=pn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),KD=pn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),v6=pn(["#text"]),x6=pn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),rm=pn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),w6=pn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Z1=pn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$D=ms(/\{\{[\w\W]*|[\w\W]*\}\}/gm),qD=ms(/<%[\w\W]*|[\w\W]*%>/gm),WD=ms(/\$\{[\w\W]*/gm),JD=ms(/^data-[\-\w.\u00B7-\uFFFF]+$/),ez=ms(/^aria-[\-\w]+$/),Mw=ms(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tz=ms(/^(?:\w+script|data):/i),rz=ms(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Rw=ms(/^html$/i),iz=ms(/^[a-z][.\w]*(-[.\w]+)+$/i);var B6=Object.freeze({__proto__:null,ARIA_ATTR:ez,ATTR_WHITESPACE:rz,CUSTOM_ELEMENT:iz,DATA_ATTR:JD,DOCTYPE_NAME:Rw,ERB_EXPR:qD,IS_ALLOWED_URI:Mw,IS_SCRIPT_OR_DATA:tz,MUSTACHE_EXPR:$D,TMPLIT_EXPR:WD});const kd={element:1,text:3,progressingInstruction:7,comment:8,document:9},az=function(){return typeof window>"u"?null:window},nz=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const l="data-tt-policy-suffix";r&&r.hasAttribute(l)&&(n=r.getAttribute(l));const h="dompurify"+(n?"#"+n:"");try{return e.createPolicy(h,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}},C6=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Iw(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:az();const e=Kt=>Iw(Kt);if(e.version="3.2.5",e.removed=[],!t||!t.document||t.document.nodeType!==kd.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,l=n.currentScript,{DocumentFragment:h,HTMLTemplateElement:u,Node:s,Element:v,NodeFilter:w,NamedNodeMap:I=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:M,DOMParser:U,trustedTypes:C}=t,S=v.prototype,k=Ld(S,"cloneNode"),z=Ld(S,"remove"),Z=Ld(S,"nextSibling"),G=Ld(S,"childNodes"),se=Ld(S,"parentNode");if(typeof u=="function"){const Kt=r.createElement("template");Kt.content&&Kt.content.ownerDocument&&(r=Kt.content.ownerDocument)}let re,Ae="";const{implementation:J,createNodeIterator:te,createDocumentFragment:X,getElementsByTagName:W}=r,{importNode:he}=n;let ue=C6();e.isSupported=typeof Bw=="function"&&typeof se=="function"&&J&&J.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:_e,ERB_EXPR:xe,TMPLIT_EXPR:He,DATA_ATTR:Ve,ARIA_ATTR:Ke,IS_SCRIPT_OR_DATA:ot,ATTR_WHITESPACE:it,CUSTOM_ELEMENT:pt}=B6;let{IS_ALLOWED_URI:Ut}=B6,ct=null;const mt=$r({},[...y6,...J3,...em,...tm,...v6]);let De=null;const $e=$r({},[...x6,...rm,...w6,...Z1]);let st=Object.seal(Cw(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xt=null,Et=null,lt=!0,Zt=!0,Rt=!1,Mt=!0,Ht=!1,ur=!0,St=!1,Ot=!1,Jt=!1,fr=!1,jt=!1,Br=!1,Hr=!0,ei=!1;const Yr="user-content-";let wt=!0,Ar=!1,Gr={},xr=null;const Nr=$r({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ir=null;const Zi=$r({},["audio","video","img","source","image","track"]);let Yi=null;const Wi=$r({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ai="http://www.w3.org/1998/Math/MathML",li="http://www.w3.org/2000/svg",Mi="http://www.w3.org/1999/xhtml";let Oe=Mi,ne=!1,oe=null;const ge=$r({},[Ai,li,Mi],W3);let we=$r({},["mi","mo","mn","ms","mtext"]),ce=$r({},["annotation-xml"]);const ze=$r({},["title","style","font","a","script"]);let qe=null;const Fe=["application/xhtml+xml","text/html"],tt="text/html";let Ne=null,le=null;const Ye=r.createElement("form"),Te=function(Ze){return Ze instanceof RegExp||Ze instanceof Function},Ge=function(){let Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(le&&le===Ze)){if((!Ze||typeof Ze!="object")&&(Ze={}),Ze=DA(Ze),qe=Fe.indexOf(Ze.PARSER_MEDIA_TYPE)===-1?tt:Ze.PARSER_MEDIA_TYPE,Ne=qe==="application/xhtml+xml"?W3:dg,ct=Ns(Ze,"ALLOWED_TAGS")?$r({},Ze.ALLOWED_TAGS,Ne):mt,De=Ns(Ze,"ALLOWED_ATTR")?$r({},Ze.ALLOWED_ATTR,Ne):$e,oe=Ns(Ze,"ALLOWED_NAMESPACES")?$r({},Ze.ALLOWED_NAMESPACES,W3):ge,Yi=Ns(Ze,"ADD_URI_SAFE_ATTR")?$r(DA(Wi),Ze.ADD_URI_SAFE_ATTR,Ne):Wi,Ir=Ns(Ze,"ADD_DATA_URI_TAGS")?$r(DA(Zi),Ze.ADD_DATA_URI_TAGS,Ne):Zi,xr=Ns(Ze,"FORBID_CONTENTS")?$r({},Ze.FORBID_CONTENTS,Ne):Nr,xt=Ns(Ze,"FORBID_TAGS")?$r({},Ze.FORBID_TAGS,Ne):{},Et=Ns(Ze,"FORBID_ATTR")?$r({},Ze.FORBID_ATTR,Ne):{},Gr=Ns(Ze,"USE_PROFILES")?Ze.USE_PROFILES:!1,lt=Ze.ALLOW_ARIA_ATTR!==!1,Zt=Ze.ALLOW_DATA_ATTR!==!1,Rt=Ze.ALLOW_UNKNOWN_PROTOCOLS||!1,Mt=Ze.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ht=Ze.SAFE_FOR_TEMPLATES||!1,ur=Ze.SAFE_FOR_XML!==!1,St=Ze.WHOLE_DOCUMENT||!1,fr=Ze.RETURN_DOM||!1,jt=Ze.RETURN_DOM_FRAGMENT||!1,Br=Ze.RETURN_TRUSTED_TYPE||!1,Jt=Ze.FORCE_BODY||!1,Hr=Ze.SANITIZE_DOM!==!1,ei=Ze.SANITIZE_NAMED_PROPS||!1,wt=Ze.KEEP_CONTENT!==!1,Ar=Ze.IN_PLACE||!1,Ut=Ze.ALLOWED_URI_REGEXP||Mw,Oe=Ze.NAMESPACE||Mi,we=Ze.MATHML_TEXT_INTEGRATION_POINTS||we,ce=Ze.HTML_INTEGRATION_POINTS||ce,st=Ze.CUSTOM_ELEMENT_HANDLING||{},Ze.CUSTOM_ELEMENT_HANDLING&&Te(Ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(st.tagNameCheck=Ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ze.CUSTOM_ELEMENT_HANDLING&&Te(Ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(st.attributeNameCheck=Ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ze.CUSTOM_ELEMENT_HANDLING&&typeof Ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(st.allowCustomizedBuiltInElements=Ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ht&&(Zt=!1),jt&&(fr=!0),Gr&&(ct=$r({},v6),De=[],Gr.html===!0&&($r(ct,y6),$r(De,x6)),Gr.svg===!0&&($r(ct,J3),$r(De,rm),$r(De,Z1)),Gr.svgFilters===!0&&($r(ct,em),$r(De,rm),$r(De,Z1)),Gr.mathMl===!0&&($r(ct,tm),$r(De,w6),$r(De,Z1))),Ze.ADD_TAGS&&(ct===mt&&(ct=DA(ct)),$r(ct,Ze.ADD_TAGS,Ne)),Ze.ADD_ATTR&&(De===$e&&(De=DA(De)),$r(De,Ze.ADD_ATTR,Ne)),Ze.ADD_URI_SAFE_ATTR&&$r(Yi,Ze.ADD_URI_SAFE_ATTR,Ne),Ze.FORBID_CONTENTS&&(xr===Nr&&(xr=DA(xr)),$r(xr,Ze.FORBID_CONTENTS,Ne)),wt&&(ct["#text"]=!0),St&&$r(ct,["html","head","body"]),ct.table&&($r(ct,["tbody"]),delete xt.tbody),Ze.TRUSTED_TYPES_POLICY){if(typeof Ze.TRUSTED_TYPES_POLICY.createHTML!="function")throw Pd('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ze.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Pd('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');re=Ze.TRUSTED_TYPES_POLICY,Ae=re.createHTML("")}else re===void 0&&(re=nz(C,l)),re!==null&&typeof Ae=="string"&&(Ae=re.createHTML(""));pn&&pn(Ze),le=Ze}},ft=$r({},[...J3,...em,...jD]),Ct=$r({},[...tm,...KD]),je=function(Ze){let Nt=se(Ze);(!Nt||!Nt.tagName)&&(Nt={namespaceURI:Oe,tagName:"template"});const hr=dg(Ze.tagName),Er=dg(Nt.tagName);return oe[Ze.namespaceURI]?Ze.namespaceURI===li?Nt.namespaceURI===Mi?hr==="svg":Nt.namespaceURI===Ai?hr==="svg"&&(Er==="annotation-xml"||we[Er]):!!ft[hr]:Ze.namespaceURI===Ai?Nt.namespaceURI===Mi?hr==="math":Nt.namespaceURI===li?hr==="math"&&ce[Er]:!!Ct[hr]:Ze.namespaceURI===Mi?Nt.namespaceURI===li&&!ce[Er]||Nt.namespaceURI===Ai&&!we[Er]?!1:!Ct[hr]&&(ze[hr]||!ft[hr]):!!(qe==="application/xhtml+xml"&&oe[Ze.namespaceURI]):!1},bt=function(Ze){Nd(e.removed,{element:Ze});try{se(Ze).removeChild(Ze)}catch{z(Ze)}},tr=function(Ze,Nt){try{Nd(e.removed,{attribute:Nt.getAttributeNode(Ze),from:Nt})}catch{Nd(e.removed,{attribute:null,from:Nt})}if(Nt.removeAttribute(Ze),Ze==="is")if(fr||jt)try{bt(Nt)}catch{}else try{Nt.setAttribute(Ze,"")}catch{}},ir=function(Ze){let Nt=null,hr=null;if(Jt)Ze="<remove></remove>"+Ze;else{const Xr=b6(Ze,/^[\r\n\t ]+/);hr=Xr&&Xr[0]}qe==="application/xhtml+xml"&&Oe===Mi&&(Ze='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ze+"</body></html>");const Er=re?re.createHTML(Ze):Ze;if(Oe===Mi)try{Nt=new U().parseFromString(Er,qe)}catch{}if(!Nt||!Nt.documentElement){Nt=J.createDocument(Oe,"template",null);try{Nt.documentElement.innerHTML=ne?Ae:Er}catch{}}const Fr=Nt.body||Nt.documentElement;return Ze&&hr&&Fr.insertBefore(r.createTextNode(hr),Fr.childNodes[0]||null),Oe===Mi?W.call(Nt,St?"html":"body")[0]:St?Nt.documentElement:Fr},lr=function(Ze){return te.call(Ze.ownerDocument||Ze,Ze,w.SHOW_ELEMENT|w.SHOW_COMMENT|w.SHOW_TEXT|w.SHOW_PROCESSING_INSTRUCTION|w.SHOW_CDATA_SECTION,null)},rt=function(Ze){return Ze instanceof M&&(typeof Ze.nodeName!="string"||typeof Ze.textContent!="string"||typeof Ze.removeChild!="function"||!(Ze.attributes instanceof I)||typeof Ze.removeAttribute!="function"||typeof Ze.setAttribute!="function"||typeof Ze.namespaceURI!="string"||typeof Ze.insertBefore!="function"||typeof Ze.hasChildNodes!="function")},Yt=function(Ze){return typeof s=="function"&&Ze instanceof s};function Vt(Kt,Ze,Nt){z1(Kt,hr=>{hr.call(e,Ze,Nt,le)})}const ii=function(Ze){let Nt=null;if(Vt(ue.beforeSanitizeElements,Ze,null),rt(Ze))return bt(Ze),!0;const hr=Ne(Ze.nodeName);if(Vt(ue.uponSanitizeElement,Ze,{tagName:hr,allowedTags:ct}),Ze.hasChildNodes()&&!Yt(Ze.firstElementChild)&&cn(/<[/\w!]/g,Ze.innerHTML)&&cn(/<[/\w!]/g,Ze.textContent)||Ze.nodeType===kd.progressingInstruction||ur&&Ze.nodeType===kd.comment&&cn(/<[/\w]/g,Ze.data))return bt(Ze),!0;if(!ct[hr]||xt[hr]){if(!xt[hr]&&Cr(hr)&&(st.tagNameCheck instanceof RegExp&&cn(st.tagNameCheck,hr)||st.tagNameCheck instanceof Function&&st.tagNameCheck(hr)))return!1;if(wt&&!xr[hr]){const Er=se(Ze)||Ze.parentNode,Fr=G(Ze)||Ze.childNodes;if(Fr&&Er){const Xr=Fr.length;for(let Ji=Xr-1;Ji>=0;--Ji){const Qa=k(Fr[Ji],!0);Qa.__removalCount=(Ze.__removalCount||0)+1,Er.insertBefore(Qa,Z(Ze))}}}return bt(Ze),!0}return Ze instanceof v&&!je(Ze)||(hr==="noscript"||hr==="noembed"||hr==="noframes")&&cn(/<\/no(script|embed|frames)/i,Ze.innerHTML)?(bt(Ze),!0):(Ht&&Ze.nodeType===kd.text&&(Nt=Ze.textContent,z1([_e,xe,He],Er=>{Nt=Yd(Nt,Er," ")}),Ze.textContent!==Nt&&(Nd(e.removed,{element:Ze.cloneNode()}),Ze.textContent=Nt)),Vt(ue.afterSanitizeElements,Ze,null),!1)},ci=function(Ze,Nt,hr){if(Hr&&(Nt==="id"||Nt==="name")&&(hr in r||hr in Ye))return!1;if(!(Zt&&!Et[Nt]&&cn(Ve,Nt))){if(!(lt&&cn(Ke,Nt))){if(!De[Nt]||Et[Nt]){if(!(Cr(Ze)&&(st.tagNameCheck instanceof RegExp&&cn(st.tagNameCheck,Ze)||st.tagNameCheck instanceof Function&&st.tagNameCheck(Ze))&&(st.attributeNameCheck instanceof RegExp&&cn(st.attributeNameCheck,Nt)||st.attributeNameCheck instanceof Function&&st.attributeNameCheck(Nt))||Nt==="is"&&st.allowCustomizedBuiltInElements&&(st.tagNameCheck instanceof RegExp&&cn(st.tagNameCheck,hr)||st.tagNameCheck instanceof Function&&st.tagNameCheck(hr))))return!1}else if(!Yi[Nt]){if(!cn(Ut,Yd(hr,it,""))){if(!((Nt==="src"||Nt==="xlink:href"||Nt==="href")&&Ze!=="script"&&HD(hr,"data:")===0&&Ir[Ze])){if(!(Rt&&!cn(ot,Yd(hr,it,"")))){if(hr)return!1}}}}}}return!0},Cr=function(Ze){return Ze!=="annotation-xml"&&b6(Ze,pt)},qt=function(Ze){Vt(ue.beforeSanitizeAttributes,Ze,null);const{attributes:Nt}=Ze;if(!Nt||rt(Ze))return;const hr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:De,forceKeepAttr:void 0};let Er=Nt.length;for(;Er--;){const Fr=Nt[Er],{name:Xr,namespaceURI:Ji,value:Qa}=Fr,wa=Ne(Xr);let Pi=Xr==="value"?Qa:XD(Qa);if(hr.attrName=wa,hr.attrValue=Pi,hr.keepAttr=!0,hr.forceKeepAttr=void 0,Vt(ue.uponSanitizeAttribute,Ze,hr),Pi=hr.attrValue,ei&&(wa==="id"||wa==="name")&&(tr(Xr,Ze),Pi=Yr+Pi),ur&&cn(/((--!?|])>)|<\/(style|title)/i,Pi)){tr(Xr,Ze);continue}if(hr.forceKeepAttr||(tr(Xr,Ze),!hr.keepAttr))continue;if(!Mt&&cn(/\/>/i,Pi)){tr(Xr,Ze);continue}Ht&&z1([_e,xe,He],rA=>{Pi=Yd(Pi,rA," ")});const tA=Ne(Ze.nodeName);if(ci(tA,wa,Pi)){if(re&&typeof C=="object"&&typeof C.getAttributeType=="function"&&!Ji)switch(C.getAttributeType(tA,wa)){case"TrustedHTML":{Pi=re.createHTML(Pi);break}case"TrustedScriptURL":{Pi=re.createScriptURL(Pi);break}}try{Ji?Ze.setAttributeNS(Ji,Xr,Pi):Ze.setAttribute(Xr,Pi),rt(Ze)?bt(Ze):_6(e.removed)}catch{}}}Vt(ue.afterSanitizeAttributes,Ze,null)},En=function Kt(Ze){let Nt=null;const hr=lr(Ze);for(Vt(ue.beforeSanitizeShadowDOM,Ze,null);Nt=hr.nextNode();)Vt(ue.uponSanitizeShadowNode,Nt,null),ii(Nt),qt(Nt),Nt.content instanceof h&&Kt(Nt.content);Vt(ue.afterSanitizeShadowDOM,Ze,null)};return e.sanitize=function(Kt){let Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Nt=null,hr=null,Er=null,Fr=null;if(ne=!Kt,ne&&(Kt="<!-->"),typeof Kt!="string"&&!Yt(Kt))if(typeof Kt.toString=="function"){if(Kt=Kt.toString(),typeof Kt!="string")throw Pd("dirty is not a string, aborting")}else throw Pd("toString is not a function");if(!e.isSupported)return Kt;if(Ot||Ge(Ze),e.removed=[],typeof Kt=="string"&&(Ar=!1),Ar){if(Kt.nodeName){const Qa=Ne(Kt.nodeName);if(!ct[Qa]||xt[Qa])throw Pd("root node is forbidden and cannot be sanitized in-place")}}else if(Kt instanceof s)Nt=ir("<!---->"),hr=Nt.ownerDocument.importNode(Kt,!0),hr.nodeType===kd.element&&hr.nodeName==="BODY"||hr.nodeName==="HTML"?Nt=hr:Nt.appendChild(hr);else{if(!fr&&!Ht&&!St&&Kt.indexOf("<")===-1)return re&&Br?re.createHTML(Kt):Kt;if(Nt=ir(Kt),!Nt)return fr?null:Br?Ae:""}Nt&&Jt&&bt(Nt.firstChild);const Xr=lr(Ar?Kt:Nt);for(;Er=Xr.nextNode();)ii(Er),qt(Er),Er.content instanceof h&&En(Er.content);if(Ar)return Kt;if(fr){if(jt)for(Fr=X.call(Nt.ownerDocument);Nt.firstChild;)Fr.appendChild(Nt.firstChild);else Fr=Nt;return(De.shadowroot||De.shadowrootmode)&&(Fr=he.call(n,Fr,!0)),Fr}let Ji=St?Nt.outerHTML:Nt.innerHTML;return St&&ct["!doctype"]&&Nt.ownerDocument&&Nt.ownerDocument.doctype&&Nt.ownerDocument.doctype.name&&cn(Rw,Nt.ownerDocument.doctype.name)&&(Ji="<!DOCTYPE "+Nt.ownerDocument.doctype.name+`>
`+Ji),Ht&&z1([_e,xe,He],Qa=>{Ji=Yd(Ji,Qa," ")}),re&&Br?re.createHTML(Ji):Ji},e.setConfig=function(){let Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ge(Kt),Ot=!0},e.clearConfig=function(){le=null,Ot=!1},e.isValidAttribute=function(Kt,Ze,Nt){le||Ge({});const hr=Ne(Kt),Er=Ne(Ze);return ci(hr,Er,Nt)},e.addHook=function(Kt,Ze){typeof Ze=="function"&&Nd(ue[Kt],Ze)},e.removeHook=function(Kt,Ze){if(Ze!==void 0){const Nt=ZD(ue[Kt],Ze);return Nt===-1?void 0:OD(ue[Kt],Nt,1)[0]}return _6(ue[Kt])},e.removeHooks=function(Kt){ue[Kt]=[]},e.removeAllHooks=function(){ue=C6()},e}var sz=Iw(),oz=nt('<div class="aspect-video w-full rounded-lg"></div>');function lz(t,e){sr(e,!0);let r=Pt(null),n=Pt(!0);const l=async w=>{let I=null;if(w.metaData.bounds)I=w.metaData.bounds;else if(w.format.type==="fgb"||w.format.type==="geojson")try{let C;if(Xo.has(w.id)?C=Xo.get(w.id):w.format.type==="fgb"?(C=await Eg(w.format.url),Xo.set(w.id,C)):(C=await C5(w.format.url),Xo.set(w.id,C)),!C)throw new Error("GeoJSON not found in cache");I=fm(C)}catch(C){console.error(C)}else w.metaData.location?I=Gx(w.metaData.location):console.warn("",w.id);const M=I?Om(I):{type:"FeatureCollection",features:[]};return{style:{version:8,glyphs:M5,sources:{mierune_mono:{type:"raster",tiles:["https://tile.mierune.co.jp/mierune_mono/{z}/{x}/{y}.png"],tileSize:256,minzoom:0,maxzoom:18,attribution:'<a href="https://mierune.co.jp">MIERUNE Inc.</a> <a href="https://www.openmaptiles.org/" target="_blank">&copy; OpenMapTiles</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'},bbox:{type:"geojson",data:M}},layers:[{id:"mierune_mono_layer",source:"mierune_mono",type:"raster"},{id:"bbox_layer",source:"bbox",type:"fill",paint:{"fill-color":"#007508","fill-opacity":.5}},{id:"bbox_outline_layer",source:"bbox",type:"line",paint:{"line-color":"#FFFFFF","line-width":2}}]},bbox:I}};let h=null;ua(()=>{Gi(()=>{e.showDataEntry&&(async()=>{const w=await l(e.showDataEntry);if(w.bbox){h=new fp.Map({container:V(r),style:w.style,pitch:0,bearing:0}),h.fitBounds(w.bbox,{bearing:0,padding:30,duration:0});const I=pi.getMapBbox();j8(w.bbox,I)||pi.fitBounds(w.bbox,{bearing:0,padding:20,duration:1e3})}else Xe(n,!1)})()})}),sc(()=>{h&&(h.remove(),h=null)});var u=vr(),s=kt(u);{var v=w=>{var I=oz();gn(I,M=>Xe(r,M),()=>V(r)),Qe(w,I)};_t(s,w=>{V(n)&&w(v)})}Qe(t,u),or()}var Az=(t,e)=>e(null),cz=nt('<a class="hover:text-accent transition-text flex w-full items-center justify-start gap-2 p-2 duration-150" target="_blank" rel="noopener noreferrer"><!> <span></span></a>'),uz=nt("<div><!></div>"),hz=nt('<div class="bg-main w-side-menu absolute left-0 top-0 z-20 flex h-full flex-col gap-2 overflow-hidden px-2 pt-4"><div class="flex w-full cursor-pointer justify-between pb-2"><button class="bg-base mr-auto cursor-pointer rounded-full p-2"><!></button></div> <div class="flex h-full flex-col gap-2 overflow-auto"><div class="flex shrink-0 grow flex-col gap-1 text-base"><div class="text-lg"> </div> <div> </div> <span> </span> <div class="font-bold"></div> <!> <div class="font-bold"></div> <div> </div> <!> <div class="font-bold"></div> <!></div>  <div class="c-scroll flex h-full w-full grow flex-col overflow-y-auto"></div></div></div>');function dz(t,e){sr(e,!0);let r=Qt(e,"showDataEntry",15);const n=v=>{v.key==="Escape"&&r(null)},l=v=>{const w=/(https?:\/\/[^\s\]>,]+)/g,M=v.replace(w,U=>`<a href="${U}" target="_blank" rel="noopener noreferrer">${U}</a>`).replace(/\n/g,"<br>");return sz.sanitize(M,{ALLOWED_TAGS:["a","br"],ALLOWED_ATTR:["href","target","rel"]})};var h=vr();ra("keydown",b4,n);var u=kt(h);{var s=v=>{var w=hz(),I=Ce(w),M=Ce(I);M.__click=[Az,r];var U=Ce(M);_r(U,{icon:"ep:back",class:"text-main h-4 w-4"}),ve(M),ve(I);var C=Ue(I,2),S=Ce(C),k=Ce(S),z=Ce(k,!0);ve(k);var Z=Ue(k,2),G=Ce(Z,!0);ve(Z);var se=Ue(Z,2),re=Ce(se);ve(se);var Ae=Ue(se,4);{var J=xe=>{lz(xe,{get showDataEntry(){return r()},set showDataEntry(He){r(He)}})};_t(Ae,xe=>{r()&&xe(J)})}var te=Ue(Ae,4),X=Ce(te,!0);ve(te);var W=Ue(te,2);{var he=xe=>{var He=cz(),Ve=Ce(He);_r(Ve,{icon:"el:download",class:"h-8 w-8"}),Vi(2),ve(He),Gt(()=>{var Ke;return xi(He,"href",(Ke=r())==null?void 0:Ke.metaData.downloadUrl)}),Qe(xe,He)};_t(W,xe=>{var He;(He=r())!=null&&He.metaData.downloadUrl&&xe(he)})}var ue=Ue(W,4);{var _e=xe=>{var He=uz(),Ve=Ce(He);U5(Ve,()=>{var Ke;return l((Ke=r())==null?void 0:Ke.metaData.description)},!1,!1),ve(He),Qe(xe,He)};_t(ue,xe=>{r()&&xe(_e)})}ve(S),Vi(2),ve(C),ve(w),Gt(()=>{var xe,He,Ve,Ke;dr(z,(xe=r())==null?void 0:xe.metaData.name),dr(G,(He=r())==null?void 0:He.metaData.location),dr(re,`${((Ve=r())==null?void 0:Ve.metaData.maxZoom)??""}`),dr(X,(Ke=r())==null?void 0:Ke.metaData.attribution)}),ni(3,w,()=>In,()=>({duration:300,x:-100,opacity:0})),Qe(v,w)};_t(u,v=>{r()&&v(s)})}Qe(t,h),or()}fi(["click"]);function Wo(t){return Array.isArray?Array.isArray(t):Fw(t)==="[object Array]"}function fz(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function gz(t){return t==null?"":fz(t)}function Ao(t){return typeof t=="string"}function Uw(t){return typeof t=="number"}function pz(t){return t===!0||t===!1||mz(t)&&Fw(t)=="[object Boolean]"}function Ew(t){return typeof t=="object"}function mz(t){return Ew(t)&&t!==null}function Vn(t){return t!=null}function im(t){return!t.trim().length}function Fw(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const _z="Incorrect 'index' type",bz=t=>`Invalid value for key ${t}`,yz=t=>`Pattern length exceeds max of ${t}.`,vz=t=>`Missing ${t} property in key`,xz=t=>`Property 'weight' in key '${t}' must be a positive integer`,M6=Object.prototype.hasOwnProperty;class wz{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(n=>{let l=Tw(n);this._keys.push(l),this._keyMap[l.id]=l,r+=l.weight}),this._keys.forEach(n=>{n.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Tw(t){let e=null,r=null,n=null,l=1,h=null;if(Ao(t)||Wo(t))n=t,e=R6(t),r=Wm(t);else{if(!M6.call(t,"name"))throw new Error(vz("name"));const u=t.name;if(n=u,M6.call(t,"weight")&&(l=t.weight,l<=0))throw new Error(xz(u));e=R6(u),r=Wm(u),h=t.getFn}return{path:e,id:r,weight:l,src:n,getFn:h}}function R6(t){return Wo(t)?t:t.split(".")}function Wm(t){return Wo(t)?t.join("."):t}function Bz(t,e){let r=[],n=!1;const l=(h,u,s)=>{if(Vn(h))if(!u[s])r.push(h);else{let v=u[s];const w=h[v];if(!Vn(w))return;if(s===u.length-1&&(Ao(w)||Uw(w)||pz(w)))r.push(gz(w));else if(Wo(w)){n=!0;for(let I=0,M=w.length;I<M;I+=1)l(w[I],u,s+1)}else u.length&&l(w,u,s+1)}};return l(t,Ao(e)?e.split("."):e,0),n?r:r[0]}const Cz={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Mz={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},Rz={location:0,threshold:.6,distance:100},Iz={useExtendedSearch:!1,getFn:Bz,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Mr={...Mz,...Cz,...Rz,...Iz};const Uz=/[^ ]+/g;function Ez(t=1,e=3){const r=new Map,n=Math.pow(10,e);return{get(l){const h=l.match(Uz).length;if(r.has(h))return r.get(h);const u=1/Math.pow(h,.5*t),s=parseFloat(Math.round(u*n)/n);return r.set(h,s),s},clear(){r.clear()}}}class n_{constructor({getFn:e=Mr.getFn,fieldNormWeight:r=Mr.fieldNormWeight}={}){this.norm=Ez(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ao(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){const r=this.size();Ao(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!Vn(e)||im(e))return;let n={v:e,i:r,n:this.norm.get(e)};this.records.push(n)}_addObject(e,r){let n={i:r,$:{}};this.keys.forEach((l,h)=>{let u=l.getFn?l.getFn(e):this.getFn(e,l.path);if(Vn(u)){if(Wo(u)){let s=[];const v=[{nestedArrIndex:-1,value:u}];for(;v.length;){const{nestedArrIndex:w,value:I}=v.pop();if(Vn(I))if(Ao(I)&&!im(I)){let M={v:I,i:w,n:this.norm.get(I)};s.push(M)}else Wo(I)&&I.forEach((M,U)=>{v.push({nestedArrIndex:U,value:M})})}n.$[h]=s}else if(Ao(u)&&!im(u)){let s={v:u,n:this.norm.get(u)};n.$[h]=s}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Sw(t,e,{getFn:r=Mr.getFn,fieldNormWeight:n=Mr.fieldNormWeight}={}){const l=new n_({getFn:r,fieldNormWeight:n});return l.setKeys(t.map(Tw)),l.setSources(e),l.create(),l}function Fz(t,{getFn:e=Mr.getFn,fieldNormWeight:r=Mr.fieldNormWeight}={}){const{keys:n,records:l}=t,h=new n_({getFn:e,fieldNormWeight:r});return h.setKeys(n),h.setIndexRecords(l),h}function O1(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:l=Mr.distance,ignoreLocation:h=Mr.ignoreLocation}={}){const u=e/t.length;if(h)return u;const s=Math.abs(n-r);return l?u+s/l:s?1:u}function Tz(t=[],e=Mr.minMatchCharLength){let r=[],n=-1,l=-1,h=0;for(let u=t.length;h<u;h+=1){let s=t[h];s&&n===-1?n=h:!s&&n!==-1&&(l=h-1,l-n+1>=e&&r.push([n,l]),n=-1)}return t[h-1]&&h-n>=e&&r.push([n,h-1]),r}const OA=32;function Sz(t,e,r,{location:n=Mr.location,distance:l=Mr.distance,threshold:h=Mr.threshold,findAllMatches:u=Mr.findAllMatches,minMatchCharLength:s=Mr.minMatchCharLength,includeMatches:v=Mr.includeMatches,ignoreLocation:w=Mr.ignoreLocation}={}){if(e.length>OA)throw new Error(yz(OA));const I=e.length,M=t.length,U=Math.max(0,Math.min(n,M));let C=h,S=U;const k=s>1||v,z=k?Array(M):[];let Z;for(;(Z=t.indexOf(e,S))>-1;){let te=O1(e,{currentLocation:Z,expectedLocation:U,distance:l,ignoreLocation:w});if(C=Math.min(te,C),S=Z+I,k){let X=0;for(;X<I;)z[Z+X]=1,X+=1}}S=-1;let G=[],se=1,re=I+M;const Ae=1<<I-1;for(let te=0;te<I;te+=1){let X=0,W=re;for(;X<W;)O1(e,{errors:te,currentLocation:U+W,expectedLocation:U,distance:l,ignoreLocation:w})<=C?X=W:re=W,W=Math.floor((re-X)/2+X);re=W;let he=Math.max(1,U-W+1),ue=u?M:Math.min(U+W,M)+I,_e=Array(ue+2);_e[ue+1]=(1<<te)-1;for(let He=ue;He>=he;He-=1){let Ve=He-1,Ke=r[t.charAt(Ve)];if(k&&(z[Ve]=+!!Ke),_e[He]=(_e[He+1]<<1|1)&Ke,te&&(_e[He]|=(G[He+1]|G[He])<<1|1|G[He+1]),_e[He]&Ae&&(se=O1(e,{errors:te,currentLocation:Ve,expectedLocation:U,distance:l,ignoreLocation:w}),se<=C)){if(C=se,S=Ve,S<=U)break;he=Math.max(1,2*U-S)}}if(O1(e,{errors:te+1,currentLocation:U,expectedLocation:U,distance:l,ignoreLocation:w})>C)break;G=_e}const J={isMatch:S>=0,score:Math.max(.001,se)};if(k){const te=Tz(z,s);te.length?v&&(J.indices=te):J.isMatch=!1}return J}function Nz(t){let e={};for(let r=0,n=t.length;r<n;r+=1){const l=t.charAt(r);e[l]=(e[l]||0)|1<<n-r-1}return e}const Wg=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class Nw{constructor(e,{location:r=Mr.location,threshold:n=Mr.threshold,distance:l=Mr.distance,includeMatches:h=Mr.includeMatches,findAllMatches:u=Mr.findAllMatches,minMatchCharLength:s=Mr.minMatchCharLength,isCaseSensitive:v=Mr.isCaseSensitive,ignoreDiacritics:w=Mr.ignoreDiacritics,ignoreLocation:I=Mr.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:l,includeMatches:h,findAllMatches:u,minMatchCharLength:s,isCaseSensitive:v,ignoreDiacritics:w,ignoreLocation:I},e=v?e:e.toLowerCase(),e=w?Wg(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const M=(C,S)=>{this.chunks.push({pattern:C,alphabet:Nz(C),startIndex:S})},U=this.pattern.length;if(U>OA){let C=0;const S=U%OA,k=U-S;for(;C<k;)M(this.pattern.substr(C,OA),C),C+=OA;if(S){const z=U-OA;M(this.pattern.substr(z),z)}}else M(this.pattern,0)}searchIn(e){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:l}=this.options;if(e=r?e:e.toLowerCase(),e=n?Wg(e):e,this.pattern===e){let k={isMatch:!0,score:0};return l&&(k.indices=[[0,e.length-1]]),k}const{location:h,distance:u,threshold:s,findAllMatches:v,minMatchCharLength:w,ignoreLocation:I}=this.options;let M=[],U=0,C=!1;this.chunks.forEach(({pattern:k,alphabet:z,startIndex:Z})=>{const{isMatch:G,score:se,indices:re}=Sz(e,k,z,{location:h+Z,distance:u,threshold:s,findAllMatches:v,minMatchCharLength:w,includeMatches:l,ignoreLocation:I});G&&(C=!0),U+=se,G&&re&&(M=[...M,...re])});let S={isMatch:C,score:C?U/this.chunks.length:1};return C&&l&&(S.indices=M),S}}class Jl{constructor(e){this.pattern=e}static isMultiMatch(e){return I6(e,this.multiRegex)}static isSingleMatch(e){return I6(e,this.singleRegex)}search(){}}function I6(t,e){const r=t.match(e);return r?r[1]:null}class Yz extends Jl{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class Pz extends Jl{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Lz extends Jl{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class kz extends Jl{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Qz extends Jl{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Dz extends Jl{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Yw extends Jl{constructor(e,{location:r=Mr.location,threshold:n=Mr.threshold,distance:l=Mr.distance,includeMatches:h=Mr.includeMatches,findAllMatches:u=Mr.findAllMatches,minMatchCharLength:s=Mr.minMatchCharLength,isCaseSensitive:v=Mr.isCaseSensitive,ignoreDiacritics:w=Mr.ignoreDiacritics,ignoreLocation:I=Mr.ignoreLocation}={}){super(e),this._bitapSearch=new Nw(e,{location:r,threshold:n,distance:l,includeMatches:h,findAllMatches:u,minMatchCharLength:s,isCaseSensitive:v,ignoreDiacritics:w,ignoreLocation:I})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Pw extends Jl{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,n;const l=[],h=this.pattern.length;for(;(n=e.indexOf(this.pattern,r))>-1;)r=n+h,l.push([n,r-1]);const u=!!l.length;return{isMatch:u,score:u?0:1,indices:l}}}const Jm=[Yz,Pw,Lz,kz,Dz,Qz,Pz,Yw],U6=Jm.length,zz=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Zz="|";function Oz(t,e={}){return t.split(Zz).map(r=>{let n=r.trim().split(zz).filter(h=>h&&!!h.trim()),l=[];for(let h=0,u=n.length;h<u;h+=1){const s=n[h];let v=!1,w=-1;for(;!v&&++w<U6;){const I=Jm[w];let M=I.isMultiMatch(s);M&&(l.push(new I(M,e)),v=!0)}if(!v)for(w=-1;++w<U6;){const I=Jm[w];let M=I.isSingleMatch(s);if(M){l.push(new I(M,e));break}}}return l})}const Hz=new Set([Yw.type,Pw.type]);class Xz{constructor(e,{isCaseSensitive:r=Mr.isCaseSensitive,ignoreDiacritics:n=Mr.ignoreDiacritics,includeMatches:l=Mr.includeMatches,minMatchCharLength:h=Mr.minMatchCharLength,ignoreLocation:u=Mr.ignoreLocation,findAllMatches:s=Mr.findAllMatches,location:v=Mr.location,threshold:w=Mr.threshold,distance:I=Mr.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:l,minMatchCharLength:h,findAllMatches:s,ignoreLocation:u,location:v,threshold:w,distance:I},e=r?e:e.toLowerCase(),e=n?Wg(e):e,this.pattern=e,this.query=Oz(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:l,ignoreDiacritics:h}=this.options;e=l?e:e.toLowerCase(),e=h?Wg(e):e;let u=0,s=[],v=0;for(let w=0,I=r.length;w<I;w+=1){const M=r[w];s.length=0,u=0;for(let U=0,C=M.length;U<C;U+=1){const S=M[U],{isMatch:k,indices:z,score:Z}=S.search(e);if(k){if(u+=1,v+=Z,n){const G=S.constructor.type;Hz.has(G)?s=[...s,...z]:s.push(z)}}else{v=0,u=0,s.length=0;break}}if(u){let U={isMatch:!0,score:v/u};return n&&(U.indices=s),U}}return{isMatch:!1,score:1}}}const e4=[];function Vz(...t){e4.push(...t)}function t4(t,e){for(let r=0,n=e4.length;r<n;r+=1){let l=e4[r];if(l.condition(t,e))return new l(t,e)}return new Nw(t,e)}const Jg={AND:"$and",OR:"$or"},r4={PATH:"$path",PATTERN:"$val"},i4=t=>!!(t[Jg.AND]||t[Jg.OR]),Gz=t=>!!t[r4.PATH],jz=t=>!Wo(t)&&Ew(t)&&!i4(t),E6=t=>({[Jg.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Lw(t,e,{auto:r=!0}={}){const n=l=>{let h=Object.keys(l);const u=Gz(l);if(!u&&h.length>1&&!i4(l))return n(E6(l));if(jz(l)){const v=u?l[r4.PATH]:h[0],w=u?l[r4.PATTERN]:l[v];if(!Ao(w))throw new Error(bz(v));const I={keyId:Wm(v),pattern:w};return r&&(I.searcher=t4(w,e)),I}let s={children:[],operator:h[0]};return h.forEach(v=>{const w=l[v];Wo(w)&&w.forEach(I=>{s.children.push(n(I))})}),s};return i4(t)||(t=E6(t)),n(t)}function Kz(t,{ignoreFieldNorm:e=Mr.ignoreFieldNorm}){t.forEach(r=>{let n=1;r.matches.forEach(({key:l,norm:h,score:u})=>{const s=l?l.weight:null;n*=Math.pow(u===0&&s?Number.EPSILON:u,(s||1)*(e?1:h))}),r.score=n})}function $z(t,e){const r=t.matches;e.matches=[],Vn(r)&&r.forEach(n=>{if(!Vn(n.indices)||!n.indices.length)return;const{indices:l,value:h}=n;let u={indices:l,value:h};n.key&&(u.key=n.key.src),n.idx>-1&&(u.refIndex=n.idx),e.matches.push(u)})}function qz(t,e){e.score=t.score}function Wz(t,e,{includeMatches:r=Mr.includeMatches,includeScore:n=Mr.includeScore}={}){const l=[];return r&&l.push($z),n&&l.push(qz),t.map(h=>{const{idx:u}=h,s={item:e[u],refIndex:u};return l.length&&l.forEach(v=>{v(h,s)}),s})}class rh{constructor(e,r={},n){this.options={...Mr,...r},this.options.useExtendedSearch,this._keyStore=new wz(this.options.keys),this.setCollection(e,n)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof n_))throw new Error(_z);this._myIndex=r||Sw(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Vn(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const r=[];for(let n=0,l=this._docs.length;n<l;n+=1){const h=this._docs[n];e(h,n)&&(this.removeAt(n),n-=1,l-=1,r.push(h))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){const{includeMatches:n,includeScore:l,shouldSort:h,sortFn:u,ignoreFieldNorm:s}=this.options;let v=Ao(e)?Ao(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Kz(v,{ignoreFieldNorm:s}),h&&v.sort(u),Uw(r)&&r>-1&&(v=v.slice(0,r)),Wz(v,this._docs,{includeMatches:n,includeScore:l})}_searchStringList(e){const r=t4(e,this.options),{records:n}=this._myIndex,l=[];return n.forEach(({v:h,i:u,n:s})=>{if(!Vn(h))return;const{isMatch:v,score:w,indices:I}=r.searchIn(h);v&&l.push({item:h,idx:u,matches:[{score:w,value:h,norm:s,indices:I}]})}),l}_searchLogical(e){const r=Lw(e,this.options),n=(s,v,w)=>{if(!s.children){const{keyId:M,searcher:U}=s,C=this._findMatches({key:this._keyStore.get(M),value:this._myIndex.getValueForItemAtKeyId(v,M),searcher:U});return C&&C.length?[{idx:w,item:v,matches:C}]:[]}const I=[];for(let M=0,U=s.children.length;M<U;M+=1){const C=s.children[M],S=n(C,v,w);if(S.length)I.push(...S);else if(s.operator===Jg.AND)return[]}return I},l=this._myIndex.records,h={},u=[];return l.forEach(({$:s,i:v})=>{if(Vn(s)){let w=n(r,s,v);w.length&&(h[v]||(h[v]={idx:v,item:s,matches:[]},u.push(h[v])),w.forEach(({matches:I})=>{h[v].matches.push(...I)}))}}),u}_searchObjectList(e){const r=t4(e,this.options),{keys:n,records:l}=this._myIndex,h=[];return l.forEach(({$:u,i:s})=>{if(!Vn(u))return;let v=[];n.forEach((w,I)=>{v.push(...this._findMatches({key:w,value:u[I],searcher:r}))}),v.length&&h.push({idx:s,item:u,matches:v})}),h}_findMatches({key:e,value:r,searcher:n}){if(!Vn(r))return[];let l=[];if(Wo(r))r.forEach(({v:h,i:u,n:s})=>{if(!Vn(h))return;const{isMatch:v,score:w,indices:I}=n.searchIn(h);v&&l.push({score:w,key:e,value:h,idx:u,norm:s,indices:I})});else{const{v:h,n:u}=r,{isMatch:s,score:v,indices:w}=n.searchIn(h);s&&l.push({score:v,key:e,value:h,norm:u,indices:w})}return l}}rh.version="7.1.0";rh.createIndex=Sw;rh.parseIndex=Fz;rh.config=Mr;rh.parseQuery=Lw;Vz(Xz);var Jz=(t,e,r,n)=>{t.key==="Enter"&&!V(e)&&r(n())},eZ=(t,e)=>e(""),tZ=nt('<button class="absolute right-[60px] grid h-full cursor-pointer place-items-center"><!></button>'),rZ=(t,e,r)=>e(r()),iZ=nt('<div class="duration-15 pointer-events-auto relative flex w-full overflow-hidden rounded-full transition-all"><input type="text" class="bg-base focus:outline-hidden w-full px-4 py-2" placeholder="/"> <!> <button class="bg-accent pointer-events-auto grid h-full shrink-0 cursor-pointer place-items-center px-4 py-2"><!></button></div>');function aZ(t,e){sr(e,!0);let r=Qt(e,"results",15),n=Qt(e,"inputSearchWord",15),l=Pt(!1),h=Pt(!1);const u=async C=>{if(C=C.trim(),!!C){Xe(l,!0);try{await e.searchFeature(C)}catch(S){console.error(S)}finally{Xe(l,!1)}}};Gi(()=>{n()||r(null)});var s=iZ(),v=Ce(s);tn(v),v.__keydown=[Jz,h,u,n];var w=Ue(v,2);{var I=C=>{var S=tZ();S.__click=[eZ,n];var k=Ce(S);_r(k,{icon:"material-symbols:close-rounded",class:"h-7 w-7 text-gray-400"}),ve(S),Gt(()=>S.disabled=!n()),Qe(C,S)};_t(w,C=>{n()&&C(I)})}var M=Ue(w,2);M.__click=[rZ,u,n];var U=Ce(M);_r(U,{icon:"stash:search-solid",class:"h-6 w-6  text-white"}),ve(M),ve(s),Gt(C=>M.disabled=C,[()=>n().trim().length<2]),ra("compositionstart",v,()=>Xe(h,!0)),ra("compositionend",v,()=>Xe(h,!1)),$u(v,n),Qe(t,s),or()}fi(["keydown","click"]);const a4=65536*65536,F6=1/a4,nZ=12,T6=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),am=0,H1=1,Qd=2,X1=5;class sZ{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,r,n=this.length){for(;this.pos<n;){const l=this.readVarint(),h=l>>3,u=this.pos;this.type=l&7,e(h,r,this),this.pos===u&&this.skip(l)}return r}readMessage(e,r){return this.readFields(e,r,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*a4;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*a4;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const r=this.buf;let n,l;return l=r[this.pos++],n=l&127,l<128||(l=r[this.pos++],n|=(l&127)<<7,l<128)||(l=r[this.pos++],n|=(l&127)<<14,l<128)||(l=r[this.pos++],n|=(l&127)<<21,l<128)?n:(l=r[this.pos],n|=(l&15)<<28,oZ(n,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,r=this.pos;return this.pos=e,e-r>=nZ&&T6?T6.decode(this.buf.subarray(r,e)):yZ(this.buf,r,e)}readBytes(){const e=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,e);return this.pos=e,r}readPackedVarint(e=[],r){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readVarint(r));return e}readPackedSVarint(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const r=this.readPackedEnd();for(;this.pos<r;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===Qd?this.readVarint()+this.pos:this.pos+1}skip(e){const r=e&7;if(r===am)for(;this.buf[this.pos++]>127;);else if(r===Qd)this.pos=this.readVarint()+this.pos;else if(r===X1)this.pos+=4;else if(r===H1)this.pos+=8;else throw new Error(`Unimplemented type: ${r}`)}writeTag(e,r){this.writeVarint(e<<3|r)}realloc(e){let r=this.length||16;for(;r<this.pos+e;)r*=2;if(r!==this.length){const n=new Uint8Array(r);n.set(this.buf),this.buf=n,this.dataView=new DataView(n.buffer),this.length=r}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*F6),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*F6),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){lZ(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const r=this.pos;this.pos=vZ(this.buf,e,this.pos);const n=this.pos-r;n>=128&&S6(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const r=e.length;this.writeVarint(r),this.realloc(r);for(let n=0;n<r;n++)this.buf[this.pos++]=e[n]}writeRawMessage(e,r){this.pos++;const n=this.pos;e(r,this);const l=this.pos-n;l>=128&&S6(n,l,this),this.pos=n-1,this.writeVarint(l),this.pos+=l}writeMessage(e,r,n){this.writeTag(e,Qd),this.writeRawMessage(r,n)}writePackedVarint(e,r){r.length&&this.writeMessage(e,uZ,r)}writePackedSVarint(e,r){r.length&&this.writeMessage(e,hZ,r)}writePackedBoolean(e,r){r.length&&this.writeMessage(e,gZ,r)}writePackedFloat(e,r){r.length&&this.writeMessage(e,dZ,r)}writePackedDouble(e,r){r.length&&this.writeMessage(e,fZ,r)}writePackedFixed32(e,r){r.length&&this.writeMessage(e,pZ,r)}writePackedSFixed32(e,r){r.length&&this.writeMessage(e,mZ,r)}writePackedFixed64(e,r){r.length&&this.writeMessage(e,_Z,r)}writePackedSFixed64(e,r){r.length&&this.writeMessage(e,bZ,r)}writeBytesField(e,r){this.writeTag(e,Qd),this.writeBytes(r)}writeFixed32Field(e,r){this.writeTag(e,X1),this.writeFixed32(r)}writeSFixed32Field(e,r){this.writeTag(e,X1),this.writeSFixed32(r)}writeFixed64Field(e,r){this.writeTag(e,H1),this.writeFixed64(r)}writeSFixed64Field(e,r){this.writeTag(e,H1),this.writeSFixed64(r)}writeVarintField(e,r){this.writeTag(e,am),this.writeVarint(r)}writeSVarintField(e,r){this.writeTag(e,am),this.writeSVarint(r)}writeStringField(e,r){this.writeTag(e,Qd),this.writeString(r)}writeFloatField(e,r){this.writeTag(e,X1),this.writeFloat(r)}writeDoubleField(e,r){this.writeTag(e,H1),this.writeDouble(r)}writeBooleanField(e,r){this.writeVarintField(e,+r)}}function oZ(t,e,r){const n=r.buf;let l,h;if(h=n[r.pos++],l=(h&112)>>4,h<128||(h=n[r.pos++],l|=(h&127)<<3,h<128)||(h=n[r.pos++],l|=(h&127)<<10,h<128)||(h=n[r.pos++],l|=(h&127)<<17,h<128)||(h=n[r.pos++],l|=(h&127)<<24,h<128)||(h=n[r.pos++],l|=(h&1)<<31,h<128))return _u(t,l,e);throw new Error("Expected varint not more than 10 bytes")}function _u(t,e,r){return r?e*4294967296+(t>>>0):(e>>>0)*4294967296+(t>>>0)}function lZ(t,e){let r,n;if(t>=0?(r=t%4294967296|0,n=t/4294967296|0):(r=~(-t%4294967296),n=~(-t/4294967296),r^4294967295?r=r+1|0:(r=0,n=n+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),AZ(r,n,e),cZ(n,e)}function AZ(t,e,r){r.buf[r.pos++]=t&127|128,t>>>=7,r.buf[r.pos++]=t&127|128,t>>>=7,r.buf[r.pos++]=t&127|128,t>>>=7,r.buf[r.pos++]=t&127|128,t>>>=7,r.buf[r.pos]=t&127}function cZ(t,e){const r=(t&7)<<4;e.buf[e.pos++]|=r|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127)))))}function S6(t,e,r){const n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));r.realloc(n);for(let l=r.pos-1;l>=t;l--)r.buf[l+n]=r.buf[l]}function uZ(t,e){for(let r=0;r<t.length;r++)e.writeVarint(t[r])}function hZ(t,e){for(let r=0;r<t.length;r++)e.writeSVarint(t[r])}function dZ(t,e){for(let r=0;r<t.length;r++)e.writeFloat(t[r])}function fZ(t,e){for(let r=0;r<t.length;r++)e.writeDouble(t[r])}function gZ(t,e){for(let r=0;r<t.length;r++)e.writeBoolean(t[r])}function pZ(t,e){for(let r=0;r<t.length;r++)e.writeFixed32(t[r])}function mZ(t,e){for(let r=0;r<t.length;r++)e.writeSFixed32(t[r])}function _Z(t,e){for(let r=0;r<t.length;r++)e.writeFixed64(t[r])}function bZ(t,e){for(let r=0;r<t.length;r++)e.writeSFixed64(t[r])}function yZ(t,e,r){let n="",l=e;for(;l<r;){const h=t[l];let u=null,s=h>239?4:h>223?3:h>191?2:1;if(l+s>r)break;let v,w,I;s===1?h<128&&(u=h):s===2?(v=t[l+1],(v&192)===128&&(u=(h&31)<<6|v&63,u<=127&&(u=null))):s===3?(v=t[l+1],w=t[l+2],(v&192)===128&&(w&192)===128&&(u=(h&15)<<12|(v&63)<<6|w&63,(u<=2047||u>=55296&&u<=57343)&&(u=null))):s===4&&(v=t[l+1],w=t[l+2],I=t[l+3],(v&192)===128&&(w&192)===128&&(I&192)===128&&(u=(h&15)<<18|(v&63)<<12|(w&63)<<6|I&63,(u<=65535||u>=1114112)&&(u=null))),u===null?(u=65533,s=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|u&1023),n+=String.fromCharCode(u),l+=s}return n}function vZ(t,e,r){for(let n=0,l,h;n<e.length;n++){if(l=e.charCodeAt(n),l>55295&&l<57344)if(h)if(l<56320){t[r++]=239,t[r++]=191,t[r++]=189,h=l;continue}else l=h-55296<<10|l-56320|65536,h=null;else{l>56319||n+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):h=l;continue}else h&&(t[r++]=239,t[r++]=191,t[r++]=189,h=null);l<128?t[r++]=l:(l<2048?t[r++]=l>>6|192:(l<65536?t[r++]=l>>12|224:(t[r++]=l>>18|240,t[r++]=l>>12&63|128),t[r++]=l>>6&63|128),t[r++]=l&63|128)}return r}function Dl(t,e){this.x=t,this.y=e}Dl.prototype={clone(){return new Dl(this.x,this.y)},add(t){return this.clone()._add(t)},sub(t){return this.clone()._sub(t)},multByPoint(t){return this.clone()._multByPoint(t)},divByPoint(t){return this.clone()._divByPoint(t)},mult(t){return this.clone()._mult(t)},div(t){return this.clone()._div(t)},rotate(t){return this.clone()._rotate(t)},rotateAround(t,e){return this.clone()._rotateAround(t,e)},matMult(t){return this.clone()._matMult(t)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(t){return this.x===t.x&&this.y===t.y},dist(t){return Math.sqrt(this.distSqr(t))},distSqr(t){const e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle(){return Math.atan2(this.y,this.x)},angleTo(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith(t){return this.angleWithSep(t.x,t.y)},angleWithSep(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult(t){const e=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=r,this},_add(t){return this.x+=t.x,this.y+=t.y,this},_sub(t){return this.x-=t.x,this.y-=t.y,this},_mult(t){return this.x*=t,this.y*=t,this},_div(t){return this.x/=t,this.y/=t,this},_multByPoint(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint(t){return this.x/=t.x,this.y/=t.y,this},_unit(){return this._div(this.mag()),this},_perp(){const t=this.y;return this.y=this.x,this.x=-t,this},_rotate(t){const e=Math.cos(t),r=Math.sin(t),n=e*this.x-r*this.y,l=r*this.x+e*this.y;return this.x=n,this.y=l,this},_rotateAround(t,e){const r=Math.cos(t),n=Math.sin(t),l=e.x+r*(this.x-e.x)-n*(this.y-e.y),h=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=l,this.y=h,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:Dl};Dl.convert=function(t){if(t instanceof Dl)return t;if(Array.isArray(t))return new Dl(+t[0],+t[1]);if(t.x!==void 0&&t.y!==void 0)return new Dl(+t.x,+t.y);throw new Error("Expected [x, y] or {x, y} point format")};class kw{constructor(e,r,n,l,h){this.properties={},this.extent=n,this.type=0,this.id=void 0,this._pbf=e,this._geometry=-1,this._keys=l,this._values=h,e.readFields(xZ,this,r)}loadGeometry(){const e=this._pbf;e.pos=this._geometry;const r=e.readVarint()+e.pos,n=[];let l,h=1,u=0,s=0,v=0;for(;e.pos<r;){if(u<=0){const w=e.readVarint();h=w&7,u=w>>3}if(u--,h===1||h===2)s+=e.readSVarint(),v+=e.readSVarint(),h===1&&(l&&n.push(l),l=[]),l&&l.push(new Dl(s,v));else if(h===7)l&&l.push(l[0].clone());else throw new Error(`unknown command ${h}`)}return l&&n.push(l),n}bbox(){const e=this._pbf;e.pos=this._geometry;const r=e.readVarint()+e.pos;let n=1,l=0,h=0,u=0,s=1/0,v=-1/0,w=1/0,I=-1/0;for(;e.pos<r;){if(l<=0){const M=e.readVarint();n=M&7,l=M>>3}if(l--,n===1||n===2)h+=e.readSVarint(),u+=e.readSVarint(),h<s&&(s=h),h>v&&(v=h),u<w&&(w=u),u>I&&(I=u);else if(n!==7)throw new Error(`unknown command ${n}`)}return[s,w,v,I]}toGeoJSON(e,r,n){const l=this.extent*Math.pow(2,n),h=this.extent*e,u=this.extent*r,s=this.loadGeometry();function v(U){return[(U.x+h)*360/l-180,360/Math.PI*Math.atan(Math.exp((1-(U.y+u)*2/l)*Math.PI))-90]}function w(U){return U.map(v)}let I;if(this.type===1){const U=[];for(const S of s)U.push(S[0]);const C=w(U);I=U.length===1?{type:"Point",coordinates:C[0]}:{type:"MultiPoint",coordinates:C}}else if(this.type===2){const U=s.map(w);I=U.length===1?{type:"LineString",coordinates:U[0]}:{type:"MultiLineString",coordinates:U}}else if(this.type===3){const U=BZ(s),C=[];for(const S of U)C.push(S.map(w));I=C.length===1?{type:"Polygon",coordinates:C[0]}:{type:"MultiPolygon",coordinates:C}}else throw new Error("unknown feature type");const M={type:"Feature",geometry:I,properties:this.properties};return this.id!=null&&(M.id=this.id),M}}kw.types=["Unknown","Point","LineString","Polygon"];function xZ(t,e,r){t===1?e.id=r.readVarint():t===2?wZ(r,e):t===3?e.type=r.readVarint():t===4&&(e._geometry=r.pos)}function wZ(t,e){const r=t.readVarint()+t.pos;for(;t.pos<r;){const n=e._keys[t.readVarint()],l=e._values[t.readVarint()];e.properties[n]=l}}function BZ(t){const e=t.length;if(e<=1)return[t];const r=[];let n,l;for(let h=0;h<e;h++){const u=CZ(t[h]);u!==0&&(l===void 0&&(l=u<0),l===u<0?(n&&r.push(n),n=[t[h]]):n&&n.push(t[h]))}return n&&r.push(n),r}function CZ(t){let e=0;for(let r=0,n=t.length,l=n-1,h,u;r<n;l=r++)h=t[r],u=t[l],e+=(u.x-h.x)*(h.y+u.y);return e}class MZ{constructor(e,r){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(RZ,this,r),this.length=this._features.length}feature(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];const r=this._pbf.readVarint()+this._pbf.pos;return new kw(this._pbf,r,this.extent,this._keys,this._values)}}function RZ(t,e,r){t===15?e.version=r.readVarint():t===1?e.name=r.readString():t===5?e.extent=r.readVarint():t===2?e._features.push(r.pos):t===3?e._keys.push(r.readString()):t===4&&e._values.push(IZ(r))}function IZ(t){let e=null;const r=t.readVarint()+t.pos;for(;t.pos<r;){const n=t.readVarint()>>3;e=n===1?t.readString():n===2?t.readFloat():n===3?t.readDouble():n===4?t.readVarint64():n===5?t.readVarint():n===6?t.readSVarint():n===7?t.readBoolean():null}return e}class UZ{constructor(e,r){this.layers=e.readFields(EZ,{},r)}}function EZ(t,e,r){if(t===3){const n=new MZ(r,r.readVarint()+r.pos);n.length&&(e[n.name]=n)}}const FZ=async(t,{z:e,x:r,y:n},l,h)=>{const s=await new Ng(t).getZxy(e,r,n);if(!s||!s.data)throw new Error("");const w=new UZ(new sZ(s.data)).layers[l];if(!w)throw new Error("");for(let I=0;I<w.length;I++){const M=w.feature(I);if(M.id===h)return M.properties}return console.warn("  feature_id "),null};var TZ=nt('<div class="flex w-full items-center justify-center"><div class="h-16 w-16 animate-spin cursor-pointer rounded-full border-4 border-white border-t-transparent"></div></div>'),SZ=(t,e,r,n)=>{e(V(r)),n(e())},NZ=nt('<button class="bg-sub flex w-full cursor-pointer items-center justify-center gap-2 rounded-full p-2 text-left text-white"> </button>'),YZ=nt('<div class="c-scroll-hidden flex grow flex-col gap-4 overflow-y-auto overflow-x-hidden px-2 pb-4"></div>'),PZ=nt('<div class="flex w-full items-center justify-center"><span class="text-white"></span></div>'),LZ=(t,e,r)=>e(V(r)),kZ=nt('<img alt="Icon" class="h-8 w-8 rounded-full object-cover">'),QZ=nt('<button class="flex w-full cursor-pointer items-center justify-center gap-2 p-2 text-left text-base"><div class="grid shrink-0 place-items-center"><!></div> <div class="flex w-full flex-col justify-center gap-[1px]"><span> </span> <span class="text-xs"> </span></div></button>'),DZ=nt('<div class="c-scroll-hidden flex grow flex-col divide-y-2 divide-gray-600 overflow-y-auto overflow-x-hidden px-2 pb-4"><!> <div class="h-[200px] w-full shrink-0"></div></div>'),zZ=nt('<div class="bg-main w-side-menu absolute z-10 flex h-full flex-col gap-2 pt-[70px]"><div class="flex items-center justify-between p-2"><!></div> <!> <div class="c-fog pointer-events-none absolute bottom-0 z-10 flex h-[100px] w-full items-end justify-center pb-4 svelte-acdvpo"></div></div>');function ZZ(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(Ps,"$isSideMenuType",r);let h=Qt(e,"featureMenuData",15),u=Qt(e,"inputSearchWord",15),s=Qt(e,"showSelectionMarker",15),v=Qt(e,"selectionMarkerLngLat",15),w=null;const I=100,M={};ua(async()=>{w=await fetch(`${$B}/search_data.json`).then(re=>re.json()).then(re=>re).catch(re=>{console.error("Error fetching search data:",re)}),w.forEach(re=>{const Ae=re.layer_id,J=L0.find(X=>X.id===Ae),te=J?J.metaData.location:null;te&&(M[Ae]=te)})});let U=Pt(wi([])),C=Pt(!1);const S=async re=>{if(re.propId){const Ae=await FZ(`${qB}/fac_search.pmtiles`,re.tile,re.layerId,re.featureId),J={layerId:re.layerId,properties:Ae,point:re.point,featureId:re.featureId};h(J)}pi.easeTo({center:re.point,zoom:17}),v(re.point),s(!0)},k=async re=>{Xe(C,!0);try{if(!w){console.error("Search data is not loaded yet.");return}const J=new rh(w,{keys:["search_values"],threshold:.1}).search(re,{limit:I}),te=J.map(W=>{const he=W.item;return{name:he.name,location:M[he.layer_id]||null,tile:he.tile_coords,point:he.point,layerId:he.layer_id,featureId:he.feature_id,propId:he.prop_id}});let X=[];re.length>1&&(X=(await yQ(re)).slice(0,I-J.length).map(({geometry:{coordinates:he},properties:ue})=>{const _e=ue.addressCode?dw(ue.addressCode):null;return{point:he,name:ue.title,location:_e}})),Xe(U,[...te,...X],!0)}catch(Ae){console.error("Error searching features:",Ae)}finally{Xe(C,!1)}},z=["","",""];var Z=vr(),G=kt(Z);{var se=re=>{var Ae=zZ(),J=Ce(Ae),te=Ce(J);aZ(te,{get layerEntries(){return e.layerEntries},searchFeature:ue=>k(ue),get results(){return V(U)},set results(ue){Xe(U,ue,!0)},get inputSearchWord(){return u()},set inputSearchWord(ue){u(ue)}}),ve(J);var X=Ue(J,2);{var W=ue=>{var _e=TZ();Qe(ue,_e)},he=(ue,_e)=>{{var xe=Ve=>{var Ke=YZ();mi(Ke,21,()=>z,xa,(ot,it)=>{var pt=NZ();pt.__click=[SZ,u,it,k];var Ut=Ce(pt,!0);ve(pt),Gt(()=>dr(Ut,V(it))),Qe(ot,pt)}),ve(Ke),Qe(Ve,Ke)},He=(Ve,Ke)=>{{var ot=pt=>{var Ut=PZ();Qe(pt,Ut)},it=(pt,Ut)=>{{var ct=mt=>{var De=DZ(),$e=Ce(De);mi($e,17,()=>V(U),xa,(st,xt)=>{var Et=QZ();Et.__click=[LZ,S,xt];var lt=Ce(Et),Zt=Ce(lt);{var Rt=Jt=>{var fr=kZ();Gt(()=>xi(fr,"src",kg[V(xt).propId].image)),Qe(Jt,fr)};_t(Zt,Jt=>{V(xt).propId&&kg[V(xt).propId]&&Jt(Rt)})}ve(lt);var Mt=Ue(lt,2),Ht=Ce(Mt),ur=Ce(Ht,!0);ve(Ht);var St=Ue(Ht,2),Ot=Ce(St,!0);ve(St),ve(Mt),ve(Et),Gt(()=>{dr(ur,V(xt).name),dr(Ot,V(xt).location??"---")}),Qe(st,Et)}),Vi(2),ve(De),Qe(mt,De)};_t(pt,mt=>{V(U)&&mt(ct)},Ut)}};_t(Ve,pt=>{V(U)&&V(U).length===0?pt(ot):pt(it,!1)},Ke)}};_t(ue,Ve=>{V(U)?Ve(He,!1):Ve(xe)},_e)}};_t(X,ue=>{V(C)?ue(W):ue(he,!1)})}Vi(2),ve(Ae),ni(3,Ae,()=>In,()=>({duration:300,x:-100,opacity:0})),Qe(re,Ae)};_t(G,re=>{l()==="search"&&re(se)})}Qe(t,Z),or(),n()}fi(["click"]);var OZ=nt('<div class="absolute left-0 top-0 z-30 h-full w-full bg-black/50" role="button" tabindex="0"></div> <div class="bg-main absolute left-0 top-0 z-30 flex h-full w-[400px] flex-col gap-2 p-2 text-base"><div class="flex items-center justify-between"><!> <button class="bg-base cursor-pointer rounded-full p-2"><!></button></div> <ui><button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span class="select-none"></span></button> <button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span class="select-none"></span></button> <button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span class="select-none"></span></button></ui> <div class="w-hull bg-base h-[1px] rounded-full"></div> <ui><button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span class="select-none"></span></button> <button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span class="select-none"></span></button> <a class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150" href="https://github.com/forestacdev/enshurin-viewer" target="_blank" rel="noopener noreferrer"><!> <span>GitHub</span></a> <a class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150" href="https://www.forest.ac.jp/" target="_blank" rel="noopener noreferrer"><!> <span>HP</span></a></ui> <ui class="mt-auto">Ver. 0.1.0 beta</ui></div>',1);function HZ(t,e){sr(e,!1);const[r,n]=qi(),l=()=>kr(Qs,"$showDataMenu",r),h=()=>kr(Rg,"$showInfoDialog",r),u=()=>kr(Ig,"$showTermsDialog",r),s=()=>kr(On,"$showSideMenu",r),v=()=>{On.set(!1),Ps.set("layer")},w=()=>{On.set(!1),Ps.set("search")},I=()=>{On.set(!1),Qs.set(!l())},M=()=>{On.set(!1),Rg.set(!h())},U=()=>{On.set(!1),Ig.set(!u())};GA.subscribe(z=>{On.set(!1)}),Jo();var C=vr(),S=kt(C);{var k=z=>{var Z=OZ(),G=kt(Z);G.__click=()=>On.set(!1),G.__keydown=$e=>{($e.key==="Enter"||$e.key===" ")&&On.set(!1)};var se=Ue(G,2),re=Ce(se),Ae=Ce(re);WP(Ae);var J=Ue(Ae,2);J.__click=()=>On.set(!1);var te=Ce(J);_r(te,{icon:"material-symbols:close-rounded",class:"text-main h-4 w-4"}),ve(J),ve(re);var X=Ue(re,2),W=Ce(X);W.__click=w;var he=Ce(W);_r(he,{icon:"stash:search-solid",class:"h-8 w-8"}),Vi(2),ve(W);var ue=Ue(W,2);ue.__click=v;var _e=Ce(ue);_r(_e,{icon:"ic:round-layers",class:"h-8 w-8"}),Vi(2),ve(ue);var xe=Ue(ue,2);xe.__click=I;var He=Ce(xe);_r(He,{icon:"material-symbols:data-saver-on-rounded",class:"h-8 w-8"}),Vi(2),ve(xe),ve(X);var Ve=Ue(X,4),Ke=Ce(Ve);Ke.__click=U;var ot=Ce(Ke);_r(ot,{icon:"majesticons:note-text",class:"h-8 w-8"}),Vi(2),ve(Ke);var it=Ue(Ke,2);it.__click=M;var pt=Ce(it);_r(pt,{icon:"akar-icons:info-fill",class:"h-8 w-8"}),Vi(2),ve(it);var Ut=Ue(it,2),ct=Ce(Ut);_r(ct,{icon:"mdi:github",class:"h-8 w-8"}),Vi(2),ve(Ut);var mt=Ue(Ut,2),De=Ce(mt);_r(De,{icon:"mdi:web",class:"h-8 w-8"}),Vi(2),ve(mt),ve(Ve),Vi(2),ve(se),ni(3,G,()=>Rn,()=>({duration:200})),ni(3,se,()=>In,()=>({duration:200,x:-100,opacity:0})),Qe(z,Z)};_t(S,z=>{s()&&z(k)})}Qe(t,C),or(),n()}fi(["click","keydown"]);var XZ=nt('<div class="c-player-marker z-50 grid scale-75 place-items-center svelte-8jzl6m"><svg xmlns="http://www.w3.org/2000/svg" width="73" height="73" fill="none" class="svelte-8jzl6m"><path fill="#333" d="M36.5 2 59 64 36.5 50.5 14 64 36.5 2Z" class="svelte-8jzl6m"></path><path stroke="#333" d="M36.5 2 59 64 36.5 50.5 14 64 36.5 2Z" class="svelte-8jzl6m"></path></svg></div>');function VZ(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(Xl,"$isStreetView",r);ua(()=>{});var h=vr(),u=kt(h);{var s=v=>{var w=XZ();Qe(v,w)};_t(u,v=>{l()&&v(s)})}Qe(t,h),or(),n()}/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.20.0
 * @author George Michael Brower
 * @license MIT
 */class fo{constructor(e,r,n,l,h="div"){this.parent=e,this.object=r,this.property=n,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement(h),this.domElement.classList.add("controller"),this.domElement.classList.add(l),this.$name=document.createElement("div"),this.$name.classList.add("name"),fo.nextNameID=fo.nextNameID||0,this.$name.id=`lil-gui-name-${++fo.nextNameID}`,this.$widget=document.createElement("div"),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.domElement.addEventListener("keydown",u=>u.stopPropagation()),this.domElement.addEventListener("keyup",u=>u.stopPropagation()),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(n)}name(e){return this._name=e,this.$name.textContent=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled?this:(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e),this)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(e){const r=this.parent.add(this.object,this.property,e);return r.name(this._name),this.destroy(),r}min(e){return this}max(e){return this}step(e){return this}decimals(e){return this}listen(e=!0){return this._listening=e,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const e=this.save();e!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=e}getValue(){return this.object[this.property]}setValue(e){return this.getValue()!==e&&(this.object[this.property]=e,this._callOnChange(),this.updateDisplay()),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class GZ extends fo{constructor(e,r,n){super(e,r,n,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function n4(t){let e,r;return(e=t.match(/(#|0x)?([a-f0-9]{6})/i))?r=e[2]:(e=t.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?r=parseInt(e[1]).toString(16).padStart(2,0)+parseInt(e[2]).toString(16).padStart(2,0)+parseInt(e[3]).toString(16).padStart(2,0):(e=t.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(r=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),r?"#"+r:!1}const jZ={isPrimitive:!0,match:t=>typeof t=="string",fromHexString:n4,toHexString:n4},F0={isPrimitive:!0,match:t=>typeof t=="number",fromHexString:t=>parseInt(t.substring(1),16),toHexString:t=>"#"+t.toString(16).padStart(6,0)},KZ={isPrimitive:!1,match:t=>Array.isArray(t),fromHexString(t,e,r=1){const n=F0.fromHexString(t);e[0]=(n>>16&255)/255*r,e[1]=(n>>8&255)/255*r,e[2]=(n&255)/255*r},toHexString([t,e,r],n=1){n=255/n;const l=t*n<<16^e*n<<8^r*n<<0;return F0.toHexString(l)}},$Z={isPrimitive:!1,match:t=>Object(t)===t,fromHexString(t,e,r=1){const n=F0.fromHexString(t);e.r=(n>>16&255)/255*r,e.g=(n>>8&255)/255*r,e.b=(n&255)/255*r},toHexString({r:t,g:e,b:r},n=1){n=255/n;const l=t*n<<16^e*n<<8^r*n<<0;return F0.toHexString(l)}},qZ=[jZ,F0,KZ,$Z];function WZ(t){return qZ.find(e=>e.match(t))}class JZ extends fo{constructor(e,r,n,l){super(e,r,n,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=WZ(this.initialValue),this._rgbScale=l,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const h=n4(this.$text.value);h&&this._setValueFromHexString(h)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){const r=this._format.fromHexString(e);this.setValue(r)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class nm extends fo{constructor(e,r,n){super(e,r,n,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",l=>{l.preventDefault(),this.getValue().call(this.object),this._callOnChange()}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class eO extends fo{constructor(e,r,n,l,h,u){super(e,r,n,"number"),this._initInput(),this.min(l),this.max(h);const s=u!==void 0;this.step(s?u:this._getImplicitStep(),s),this.updateDisplay()}decimals(e){return this._decimals=e,this.updateDisplay(),this}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,r=!0){return this._step=e,this._stepExplicit=r,this}updateDisplay(){const e=this.getValue();if(this._hasSlider){let r=(e-this._min)/(this._max-this._min);r=Math.max(0,Math.min(r,1)),this.$fill.style.width=r*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?e:e.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;const r=()=>{let G=parseFloat(this.$input.value);isNaN(G)||(this._stepExplicit&&(G=this._snap(G)),this.setValue(this._clamp(G)))},n=G=>{const se=parseFloat(this.$input.value);isNaN(se)||(this._snapClampSetValue(se+G),this.$input.value=this.getValue())},l=G=>{G.key==="Enter"&&this.$input.blur(),G.code==="ArrowUp"&&(G.preventDefault(),n(this._step*this._arrowKeyMultiplier(G))),G.code==="ArrowDown"&&(G.preventDefault(),n(this._step*this._arrowKeyMultiplier(G)*-1))},h=G=>{this._inputFocused&&(G.preventDefault(),n(this._step*this._normalizeMouseWheel(G)))};let u=!1,s,v,w,I,M;const U=5,C=G=>{s=G.clientX,v=w=G.clientY,u=!0,I=this.getValue(),M=0,window.addEventListener("mousemove",S),window.addEventListener("mouseup",k)},S=G=>{if(u){const se=G.clientX-s,re=G.clientY-v;Math.abs(re)>U?(G.preventDefault(),this.$input.blur(),u=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(se)>U&&k()}if(!u){const se=G.clientY-w;M-=se*this._step*this._arrowKeyMultiplier(G),I+M>this._max?M=this._max-I:I+M<this._min&&(M=this._min-I),this._snapClampSetValue(I+M)}w=G.clientY},k=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",k)},z=()=>{this._inputFocused=!0},Z=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",r),this.$input.addEventListener("keydown",l),this.$input.addEventListener("wheel",h,{passive:!1}),this.$input.addEventListener("mousedown",C),this.$input.addEventListener("focus",z),this.$input.addEventListener("blur",Z)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const e=(Z,G,se,re,Ae)=>(Z-G)/(se-G)*(Ae-re)+re,r=Z=>{const G=this.$slider.getBoundingClientRect();let se=e(Z,G.left,G.right,this._min,this._max);this._snapClampSetValue(se)},n=Z=>{this._setDraggingStyle(!0),r(Z.clientX),window.addEventListener("mousemove",l),window.addEventListener("mouseup",h)},l=Z=>{r(Z.clientX)},h=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",h)};let u=!1,s,v;const w=Z=>{Z.preventDefault(),this._setDraggingStyle(!0),r(Z.touches[0].clientX),u=!1},I=Z=>{Z.touches.length>1||(this._hasScrollBar?(s=Z.touches[0].clientX,v=Z.touches[0].clientY,u=!0):w(Z),window.addEventListener("touchmove",M,{passive:!1}),window.addEventListener("touchend",U))},M=Z=>{if(u){const G=Z.touches[0].clientX-s,se=Z.touches[0].clientY-v;Math.abs(G)>Math.abs(se)?w(Z):(window.removeEventListener("touchmove",M),window.removeEventListener("touchend",U))}else Z.preventDefault(),r(Z.touches[0].clientX)},U=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",U)},C=this._callOnFinishChange.bind(this),S=400;let k;const z=Z=>{if(Math.abs(Z.deltaX)<Math.abs(Z.deltaY)&&this._hasScrollBar)return;Z.preventDefault();const se=this._normalizeMouseWheel(Z)*this._step;this._snapClampSetValue(this.getValue()+se),this.$input.value=this.getValue(),clearTimeout(k),k=setTimeout(C,S)};this.$slider.addEventListener("mousedown",n),this.$slider.addEventListener("touchstart",I,{passive:!1}),this.$slider.addEventListener("wheel",z,{passive:!1})}_setDraggingStyle(e,r="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle(`lil-gui-${r}`,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:r,deltaY:n}=e;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(r=0,n=-e.wheelDelta/120,n*=this._stepExplicit?1:10),r+-n}_arrowKeyMultiplier(e){let r=this._stepExplicit?1:10;return e.shiftKey?r*=10:e.altKey&&(r/=10),r}_snap(e){let r=0;return this._hasMin?r=this._min:this._hasMax&&(r=this._max),e-=r,e=Math.round(e/this._step)*this._step,e+=r,e=parseFloat(e.toPrecision(15)),e}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){const e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class tO extends fo{constructor(e,r,n,l){super(e,r,n,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.options(l)}options(e){return this._values=Array.isArray(e)?e:Object.values(e),this._names=Array.isArray(e)?e:Object.keys(e),this.$select.replaceChildren(),this._names.forEach(r=>{const n=document.createElement("option");n.textContent=r,this.$select.appendChild(n)}),this.updateDisplay(),this}updateDisplay(){const e=this.getValue(),r=this._values.indexOf(e);return this.$select.selectedIndex=r,this.$display.textContent=r===-1?e:this._names[r],this}}class rO extends fo{constructor(e,r,n){super(e,r,n,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("spellcheck","false"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",l=>{l.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}var iO=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
  background: var(--background-color);
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  height: var(--title-height);
  font-weight: 600;
  padding: 0 var(--padding);
  width: 100%;
  text-align: left;
  background: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui label, .lil-gui input, .lil-gui button {
  -webkit-tap-highlight-color: transparent;
}
.lil-gui input {
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
  -moz-appearance: textfield;
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input[type=checkbox] {
  appearance: none;
  width: var(--checkbox-size);
  height: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  border: none;
}
.lil-gui .controller button {
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
}
@media (hover: hover) {
  .lil-gui .controller button:hover {
    background: var(--hover-color);
  }
  .lil-gui .controller button:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui .controller button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function aO(t){const e=document.createElement("style");e.innerHTML=t;const r=document.querySelector("head link[rel=stylesheet], head style");r?document.head.insertBefore(e,r):document.head.appendChild(e)}let N6=!1;class s_{constructor({parent:e,autoPlace:r=e===void 0,container:n,width:l,title:h="Controls",closeFolders:u=!1,injectStyles:s=!0,touchStyles:v=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("button"),this.$title.classList.add("title"),this.$title.setAttribute("aria-expanded",!0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(h),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),v&&this.domElement.classList.add("allow-touch-styles"),!N6&&s&&(aO(iO),N6=!0),n?n.appendChild(this.domElement):r&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),l&&this.domElement.style.setProperty("--width",l+"px"),this._closeFolders=u}add(e,r,n,l,h){if(Object(n)===n)return new tO(this,e,r,n);const u=e[r];switch(typeof u){case"number":return new eO(this,e,r,n,l,h);case"boolean":return new GZ(this,e,r);case"string":return new rO(this,e,r);case"function":return new nm(this,e,r)}console.error(`gui.add failed
	property:`,r,`
	object:`,e,`
	value:`,u)}addColor(e,r,n=1){return new JZ(this,e,r,n)}addFolder(e){const r=new s_({parent:this,title:e});return this.root._closeFolders&&r.close(),r}load(e,r=!0){return e.controllers&&this.controllers.forEach(n=>{n instanceof nm||n._name in e.controllers&&n.load(e.controllers[n._name])}),r&&e.folders&&this.folders.forEach(n=>{n._title in e.folders&&n.load(e.folders[n._title])}),this}save(e=!0){const r={controllers:{},folders:{}};return this.controllers.forEach(n=>{if(!(n instanceof nm)){if(n._name in r.controllers)throw new Error(`Cannot save GUI with duplicate property "${n._name}"`);r.controllers[n._name]=n.save()}}),e&&this.folders.forEach(n=>{if(n._title in r.folders)throw new Error(`Cannot save GUI with duplicate folder "${n._title}"`);r.folders[n._title]=n.save()}),r}open(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(e){this._closed!==e&&(this._closed=e,this._callOnOpenClose(this))}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const r=this.$children.clientHeight;this.$children.style.height=r+"px",this.domElement.classList.add("transition");const n=h=>{h.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",n))};this.$children.addEventListener("transitionend",n);const l=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=l+"px"})}),this}title(e){return this._title=e,this.$title.textContent=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(n=>n.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),this._onChange!==void 0&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onOpenClose(e){return this._onOpenClose=e,this}_callOnOpenClose(e){this.parent&&this.parent._callOnOpenClose(e),this._onOpenClose!==void 0&&this._onOpenClose.call(this,e)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach(r=>{e=e.concat(r.controllersRecursive())}),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach(r=>{e=e.concat(r.foldersRecursive())}),e}}const nO=[{id:"2d095ab2-c2c6-477e-ba12-daed8b8585be",angleX:345.6,angleY:33.12,angleZ:0},{id:"806d8a3d-5293-453e-9582-80004d2d06c6",angleX:0,angleY:180,angleZ:0},{id:"a4548c3b-a0b7-4ede-a138-c5dc6b875933",angleX:0,angleY:169.92,angleZ:0},{id:"7f74c57d-c9ef-42fc-9fb7-a27d06be2f84",angleX:0,angleY:195.48,angleZ:0},{id:"63fef656-419e-4d3a-9e54-bd3a7a87c682",angleX:0,angleY:22.68,angleZ:0},{id:"f0c9820f-5b58-48ee-99e5-7955e6158884",angleX:0,angleY:185.04,angleZ:0},{id:"bc9bbd19-91ef-4851-8182-3db226e0368d",angleX:0,angleY:190.08,angleZ:0},{id:"dcddcc93-94eb-4ef4-86b9-c02c3cf50bd9",angleX:0,angleY:331.56,angleZ:0},{id:"d3f205e4-2f37-44e5-a2df-04d5d312ed4d",angleX:0,angleY:0,angleZ:0},{id:"18720b37-aea0-46b7-a26e-3f517fab2963",angleX:0,angleY:178.92,angleZ:0},{id:"8eab0199-39e9-43f0-a6ff-b209c86c1190",angleX:6.48,angleY:174.24,angleZ:352.44},{id:"54bbbad1-16d6-41d3-9e02-a69b18a68818",angleX:0,angleY:169.56,angleZ:0},{id:"195b0c47-9ab8-4ef0-92ec-6dae7c45bf4d",angleX:0,angleY:121.32,angleZ:0},{id:"4e9ae76e-1cd1-40d8-842d-c73ea77d31c3",angleX:0,angleY:0,angleZ:0},{id:"5fbb39cc-da39-4993-aac1-da8fffa277b7",angleX:0,angleY:105.12,angleZ:345.96},{id:"c07bdcc3-4f9f-44b0-b3e8-3062d76c1755",angleX:10.44,angleY:149.76,angleZ:343.44},{id:"e48ce9ff-a7af-4303-82e4-907b63ae1f15",angleX:0,angleY:312.12,angleZ:0},{id:"fe8ce83a-1deb-4746-ad57-d065869542db",angleX:0,angleY:0,angleZ:0},{id:"92edfca3-f2cf-4712-947a-fd9ce9bd2443",angleX:351,angleY:24.84,angleZ:0},{id:"fb9da0b1-94b7-4d70-8311-a1b3815a6bf8",angleX:0,angleY:242.64,angleZ:0},{id:"784ffbf9-d075-4590-9f4d-88da92332743",angleX:0,angleY:160.92,angleZ:0},{id:"7d6c4174-0c20-43bf-bc33-1d1f8de0c67c",angleX:0,angleY:63.36,angleZ:0},{id:"f46fa0c6-29bf-4515-b3a8-625f3caf8915",angleX:0,angleY:210.24,angleZ:0},{id:"c4143759-f84c-4d16-b348-2db5c4586ef8",angleX:0,angleY:236.52,angleZ:0},{id:"68669c1b-3c4b-4648-af9b-2b06bbadb69e",angleX:0,angleY:339.12,angleZ:0},{id:"f0446006-4b3c-484d-a60f-89c1a35d440b",angleX:349.2,angleY:340.92,angleZ:357.12},{id:"ccb8bd2f-23d5-4110-8ccb-7896d1192715",angleX:0,angleY:202.32,angleZ:0},{id:"c5d29148-d5f9-4335-98cc-7ace506b0822",angleX:0,angleY:60.12,angleZ:0},{id:"5ceb5e76-be1a-4646-9169-c2621e61d1e1",angleX:0,angleY:309.24,angleZ:0},{id:"ebe9aeea-f131-459d-87e2-04d8567d642f",angleX:0,angleY:0,angleZ:0},{id:"72f6af4d-d44e-420c-b329-05ede39a7c04",angleX:0,angleY:338.04,angleZ:0},{id:"6cc0ab91-1a88-4215-9871-17ab4561a8c0",angleX:0,angleY:157.68,angleZ:0},{id:"820923e2-c0ca-43fd-b328-23c5524169ce",angleX:0,angleY:206.28,angleZ:0},{id:"954c4373-7a88-4b4b-89d4-22aa8ed866c1",angleX:12.6,angleY:243.36,angleZ:0},{id:"e6bdea15-6779-4521-b45e-63045ed19114",angleX:0,angleY:77.04,angleZ:0},{id:"5fd6f5be-c0b1-4bf7-9614-45b124600bad",angleX:0,angleY:159.84,angleZ:0},{id:"fafb18e7-fe8a-4dd8-9f29-7cb74f61803f",angleX:0,angleY:271.44,angleZ:0},{id:"6b1ccdb8-789d-4ae5-9115-d205b029913b",angleX:0,angleY:284.76,angleZ:14.76},{id:"99df69ad-ffe5-4b50-98f5-a8c8e904b322",angleX:0,angleY:22.68,angleZ:0},{id:"52f84182-eeb8-48ea-ab9e-59cc0c7b8f09",angleX:0,angleY:45.72,angleZ:0},{id:"d2c14319-9692-4c9a-bc20-cc115228ddc1",angleX:0,angleY:0,angleZ:0},{id:"24cb17a8-1535-41d6-b8c8-afe22460a5ce",angleX:0,angleY:54.72,angleZ:0},{id:"b993ed6d-ff21-4ed6-9e45-b3d43f918951",angleX:0,angleY:324.72,angleZ:0},{id:"3a1f6bbd-11ba-4350-a16d-7618f0ed6de1",angleX:0,angleY:0,angleZ:0},{id:"a27b8577-698c-4239-88db-f9f026c91fbb",angleX:0,angleY:329.04,angleZ:0},{id:"2f1d27bb-2011-4988-8def-272f2fc27a42",angleX:0,angleY:324.72,angleZ:0},{id:"eb3a85b9-38b7-4d54-aa0d-c478cb98f901",angleX:337.68,angleY:0,angleZ:0},{id:"642d6c4d-4733-4422-bfe8-2960f12caef7",angleX:0,angleY:32.4,angleZ:0},{id:"cf19f20d-94b7-4ae8-91c3-744f8dfa5aba",angleX:0,angleY:76.68,angleZ:0},{id:"2b3776ff-7665-4024-907b-72af43004e60",angleX:0,angleY:231.84,angleZ:0},{id:"81dd6481-87d4-46a7-9759-2cdbe8c32dbf",angleX:0,angleY:338.04,angleZ:0},{id:"644a68f5-b574-4cf6-818e-95b7c18e2c02",angleX:0,angleY:54.36,angleZ:0},{id:"bb6cab72-30a0-45cf-a8c2-ca1761381d4e",angleX:0,angleY:72.72,angleZ:0},{id:"266eed65-5752-44fc-95d8-0107a4124bc0",angleX:0,angleY:165.96,angleZ:0},{id:"00cff6a2-caeb-43c3-a967-b5c8cc2f386b",angleX:0,angleY:182.16,angleZ:0},{id:"18ef3957-8def-4643-9762-d56ac06ee276",angleX:8.28,angleY:235.08,angleZ:0},{id:"33494c1f-9292-4f10-ae1f-4598ba176230",angleX:0,angleY:0,angleZ:0},{id:"8e8da934-5ef1-4c9e-a4dc-742e0b0c68f3",angleX:0,angleY:0,angleZ:0},{id:"ff70f739-ecc3-4c95-8560-2cd9f0a7238e",angleX:0,angleY:226.08,angleZ:0},{id:"24d7e470-d984-476d-9cf3-e5531b7b413b",angleX:0,angleY:309.24,angleZ:0},{id:"16c58973-2bd5-4965-96e2-e0a98b807a9c",angleX:0,angleY:62.28,angleZ:0},{id:"82d238e7-2645-4664-b8ad-8011e91be5a5",angleX:10.08,angleY:180,angleZ:341.64},{id:"dca135b2-149d-426c-ac4e-1ca528788d14",angleX:0,angleY:347.76,angleZ:360},{id:"5581ce61-2ab5-4501-9b82-c8e7b7bcecc7",angleX:0,angleY:238.68,angleZ:0},{id:"9bb88468-a55e-4fb5-8a95-1d4a6b80de39",angleX:0,angleY:81.36,angleZ:0},{id:"b49e3c58-807e-4459-845a-6acec3e01c54",angleX:0,angleY:101.16,angleZ:0},{id:"81d26a76-c4a4-4a41-a4ac-40bae55cd83a",angleX:0,angleY:326.52,angleZ:0},{id:"e05a4426-a94c-4675-895d-837440e3f12e",angleX:18.36,angleY:306,angleZ:7.92},{id:"4966444b-f798-4492-88e7-59c9794d3a74",angleX:0,angleY:195.48,angleZ:0},{id:"785a861c-f536-471b-90db-9fb3fdd5414d",angleX:0,angleY:155.52,angleZ:0},{id:"4169e804-e082-46d5-8286-f170c4c6a6b6",angleX:0,angleY:40.32,angleZ:0},{id:"1068e5d1-c464-4506-89eb-153a71fa0dc0",angleX:0,angleY:351,angleZ:0},{id:"b25c999a-4d12-48ea-bdb7-00c6b9eb7e1e",angleX:0,angleY:271.08,angleZ:0},{id:"f8399f26-4b05-40db-b0d2-27564bdcd5eb",angleX:0,angleY:307.8,angleZ:0},{id:"e79d2113-b714-4743-98fa-db97f9efd9d8",angleX:0,angleY:313.56,angleZ:0},{id:"cde292ce-d6c5-42bb-88d4-2055c3498818",angleX:345.96,angleY:86.76,angleZ:345.96},{id:"51fc8a9c-4884-484c-ade7-aaf400f4b672",angleX:0,angleY:95.4,angleZ:0},{id:"75d09c4a-01a4-4ecc-8540-7856a9a87a64",angleX:0,angleY:169.56,angleZ:0},{id:"443b5e4a-cdd0-416f-ae3e-72b4807146eb",angleX:0,angleY:14.04,angleZ:0},{id:"c1a0e780-39fb-4b53-86d8-5c7027275f13",angleX:0,angleY:201.96,angleZ:0},{id:"7a0b51c3-20d1-4f83-9ccc-828db3e54b00",angleX:0,angleY:191.52,angleZ:0},{id:"31ae9696-1480-428e-8a95-1e5e39f02d94",angleX:0,angleY:323.64,angleZ:0},{id:"c175fcf3-baf9-4b8a-a5a6-f2cae26a2d70",angleX:0,angleY:202.32,angleZ:0},{id:"9ebe4076-473a-4896-9bb7-6ed2441b7637",angleX:0,angleY:180.36,angleZ:0},{id:"65236f73-de4a-4b11-9d79-1d99fe3bc60e",angleX:351.72,angleY:74.88,angleZ:0},{id:"494f8ad9-f560-4df8-b684-5eb2a993aaed",angleX:0,angleY:262.8,angleZ:0},{id:"f692e86a-2276-4ea7-bc91-87cd6ef3f93a",angleX:357.84,angleY:60.12,angleZ:0},{id:"e27f0531-fb28-4e32-b389-bf9beda7b936",angleX:0,angleY:157.68,angleZ:0},{id:"e9fa81f3-8e30-4c98-bbee-c43da9bee234",angleX:0,angleY:29.16,angleZ:0},{id:"089db877-2e33-4f84-b33d-b50fd80be429",angleX:0,angleY:0,angleZ:0},{id:"97e48621-d378-4a21-8705-cb76ca6a5dc8",angleX:0,angleY:230.04,angleZ:0},{id:"b8ad9125-4f3b-47cf-91d1-018dda7e3345",angleX:351.72,angleY:85.32,angleZ:0},{id:"9facc575-a168-4054-8259-14c7b17eb50e",angleX:0,angleY:162.36,angleZ:0},{id:"a2ca91d8-7d5c-4b43-ac8f-bd85c3f35f4b",angleX:345.6,angleY:106.2,angleZ:0},{id:"6b491c73-0a6b-4ab1-a70f-03aeeb0ab151",angleX:0,angleY:7.92,angleZ:0},{id:"00c21f02-7750-4f0c-928e-88ca235e9b67",angleX:0,angleY:244.8,angleZ:0},{id:"464fdb88-ae7c-40e2-a833-7a8aa93eb938",angleX:0,angleY:114.48,angleZ:0},{id:"c68adabc-1bbc-47ba-b17f-a92c9314fdee",angleX:0,angleY:137.52,angleZ:0},{id:"fdbfaac8-9ada-4d5e-ad8f-f19f94de7945",angleX:0,angleY:7.92,angleZ:0},{id:"2f877e3c-02d6-4cb0-b432-35a2db82a33b",angleX:0,angleY:156.6,angleZ:0},{id:"b98098a0-a39e-47e2-9ca6-ce2c918a80f1",angleX:0,angleY:186.12,angleZ:0},{id:"70603dac-68ec-451c-aa7d-4f7ae3ea60eb",angleX:0,angleY:335.16,angleZ:0},{id:"54f1a5ef-52f4-47fc-9143-6f5f47261e1e",angleX:0,angleY:122.76,angleZ:0},{id:"cbec785b-641f-4eb2-ade1-79e57b224973",angleX:0,angleY:151.92,angleZ:0},{id:"827c817d-0923-4613-a769-76d952e396ca",angleX:6.12,angleY:319.68,angleZ:6.12},{id:"266dc671-314c-4a04-b997-333cf4896954",angleX:0,angleY:345.96,angleZ:0},{id:"e6c26e1f-f9a3-4f3f-9d99-0e846e280a94",angleX:0,angleY:135.36,angleZ:0},{id:"b8f6bf36-930c-4825-91ef-c448ae0e39dc",angleX:0,angleY:10.44,angleZ:0},{id:"07e8d184-9438-42cb-a60f-2bbad92682bf",angleX:0,angleY:327.6,angleZ:0},{id:"57a943b7-7c43-435a-9986-855e58befdd0",angleX:347.76,angleY:119.16,angleZ:0},{id:"2f6d9aeb-0e31-4d9b-9cd9-d296be901ff3",angleX:0,angleY:198,angleZ:0},{id:"c3e1acad-e60c-4466-8969-ab3bcd17c88b",angleX:0,angleY:303.48,angleZ:0},{id:"1fa63746-5020-4965-bb7e-76f65702efca",angleX:0,angleY:349.92,angleZ:0},{id:"eea6f2b6-b4f0-4988-ba59-252f4128d6c2",angleX:0,angleY:311.4,angleZ:0},{id:"fbe68c4c-71d7-4a49-ad69-964cb9776db4",angleX:0,angleY:333.36,angleZ:10.44},{id:"3c1d1946-f830-40fb-92a4-c07ba33529aa",angleX:0,angleY:204.12,angleZ:0},{id:"127321ca-f0bf-4d7c-aae3-5daf4f2f8b9a",angleX:0,angleY:29.16,angleZ:0},{id:"c086e123-d912-4012-9fb9-843be0944551",angleX:0,angleY:74.88,angleZ:0},{id:"23345942-6797-4005-8427-440be93a2dcf",angleX:0,angleY:192.24,angleZ:0},{id:"521b00fd-916b-4b8f-a201-3494f4e24bc8",angleX:0,angleY:0,angleZ:0},{id:"0af2b4ad-9a68-4c25-accb-722d369ddbeb",angleX:0,angleY:159.84,angleZ:0},{id:"706fe51b-2ee6-4918-ab11-4311894ff7b8",angleX:0,angleY:203.4,angleZ:0},{id:"0640ba69-2e08-46fa-aba7-28434bd39191",angleX:0,angleY:0,angleZ:0},{id:"26e1f54b-a336-49e4-b1bc-9858a750edca",angleX:0,angleY:141.48,angleZ:0},{id:"13314772-fe08-4088-b84f-9c15282ae495",angleX:0,angleY:213.84,angleZ:0},{id:"b0397178-5992-4daf-8f35-2d052b0aa5cf",angleX:0,angleY:107.28,angleZ:0},{id:"1241a9d6-d02d-43ab-8ef7-db2659bb36b5",angleX:7.56,angleY:244.8,angleZ:357.12},{id:"a058fb1d-afae-4725-984e-7934b778356a",angleX:351.36,angleY:156.96,angleZ:0},{id:"de03328d-71af-4365-8764-84d8cc5089f3",angleX:0,angleY:249.48,angleZ:0},{id:"f9b52d3b-d30e-4182-8c5a-15abbc8ddaed",angleX:0,angleY:10.44,angleZ:0},{id:"568ad1ef-0e4c-4f03-b004-622f7bf8e006",angleX:0,angleY:329.04,angleZ:0},{id:"0262703d-7834-4cb1-9cfc-8be6243342f4",angleX:0,angleY:60.48,angleZ:0},{id:"c814cf7a-f863-4ac2-b526-9c38f91e08bf",angleX:0,angleY:23.76,angleZ:0},{id:"427e1816-3562-4b7c-8eca-cb70131701ef",angleX:0,angleY:262.8,angleZ:0},{id:"5c22abfd-3644-4edd-a1b9-7c32b259fd8e",angleX:0,angleY:54.72,angleZ:0},{id:"7f3d289a-1f2c-429e-bef4-c57f730585ef",angleX:0,angleY:19.44,angleZ:0},{id:"0afc7f0a-0f3e-4888-9ef0-d300085cfade",angleX:0,angleY:0,angleZ:0},{id:"4cd83911-d237-4c24-9ed1-006092ab130b",angleX:0,angleY:329.04,angleZ:0},{id:"16db3bc9-6993-4792-ba52-5b39c93be075",angleX:0,angleY:222.84,angleZ:0},{id:"8a56337d-cd4d-44ab-b528-796f8ea7696e",angleX:0,angleY:92.88,angleZ:0},{id:"79daf39d-f056-4789-a9de-0a307d0d807e",angleX:0,angleY:60.12,angleZ:0},{id:"eec3ff06-c48d-4f4b-83a4-4a860b9038f4",angleX:5.4,angleY:231.84,angleZ:0},{id:"05e29ea3-f816-4d65-9bf4-09d743346025",angleX:0,angleY:153.72,angleZ:0},{id:"8cfb95c6-ffa3-415c-961a-01d2186b5f3d",angleX:0,angleY:227.16,angleZ:0},{id:"055e5fdd-41d7-4a6a-b6e4-68651a9cef61",angleX:0,angleY:236.52,angleZ:0},{id:"b326084b-7beb-4a0e-abf6-cbf4ff93d7b5",angleX:0,angleY:0,angleZ:0},{id:"f4374c5c-1d71-44ba-a3d0-806b09f987a2",angleX:0,angleY:180,angleZ:0},{id:"1c7a4117-5cb8-45d6-95cb-ff3743f11e1b",angleX:0,angleY:159.84,angleZ:0},{id:"139b3d14-371a-41f1-bf72-13005c34146a",angleX:0,angleY:0,angleZ:0},{id:"eff8984a-a037-44a9-a6d3-b67271dca211",angleX:0,angleY:186.12,angleZ:0},{id:"7466df8e-abf4-4f95-9a7e-2687c83cc113",angleX:0,angleY:37.44,angleZ:0},{id:"64576b90-1086-48bf-b906-ec2c3e1bda83",angleX:0,angleY:208.44,angleZ:0},{id:"f8c23b76-cc99-4bc8-92de-e0b9c9375a63",angleX:0,angleY:284.76,angleZ:7.56},{id:"ff9bdda5-96a0-4e9b-b9df-d0c128331fc8",angleX:0,angleY:220.32,angleZ:0},{id:"1bb2789c-badb-4268-b009-2ea4e5b8faf9",angleX:0,angleY:309.6,angleZ:0},{id:"b5cc45cd-42b1-4a9c-b19d-37b2abb7d0f0",angleX:0,angleY:216.36,angleZ:0},{id:"cd12638a-9cca-482d-98ae-391beb963efa",angleX:0,angleY:0,angleZ:0},{id:"ef0c8a1d-58e0-48f8-9d3d-e7b6e67ee0b7",angleX:0,angleY:242.64,angleZ:0},{id:"81226ed7-6310-4831-bd7b-636532f7613c",angleX:0,angleY:28.08,angleZ:0},{id:"13da355c-334e-4d93-8345-87353b9afea0",angleX:352.44,angleY:0,angleZ:8.64},{id:"fb367185-f72c-4db1-94b5-64ae54218cff",angleX:0,angleY:291.24,angleZ:0},{id:"8a2df9a4-1d55-4822-a592-5d8c9321ff01",angleX:0,angleY:190.08,angleZ:0},{id:"2deaba17-ae58-40a8-ae7d-4860ffdbe26a",angleX:0,angleY:20.16,angleZ:0},{id:"6df1449f-fdcd-4b1b-9ad7-1cf143a3d7ed",angleX:0,angleY:360,angleZ:0},{id:"ccf7dfcc-20d0-445f-bfb4-decb932ddf1d",angleX:0,angleY:307.44,angleZ:0},{id:"6424ca53-dde9-42ba-97b1-ad1dd30dbac7",angleX:0,angleY:165.24,angleZ:0},{id:"5aee96c3-4935-4640-9fe8-5e98f4bbc5b5",angleX:341.28,angleY:64.44,angleZ:0},{id:"94af7119-caa8-4ce5-af26-b9957589fb4b",angleX:0,angleY:186.12,angleZ:0},{id:"01fe1f15-5bdd-4bad-bdad-60c5de5eda07",angleX:0,angleY:138.6,angleZ:0},{id:"3fbbb9ba-1375-401b-835e-37387f97edca",angleX:0,angleY:28.44,angleZ:0},{id:"adf966f7-68fc-46fd-ba46-7535aba56e22",angleX:0,angleY:163.8,angleZ:0},{id:"67efccb5-8f40-497b-9b79-044fddda80dc",angleX:0,angleY:323.64,angleZ:0},{id:"b4a9a9e2-de86-4d41-a537-3e58489a7191",angleX:0,angleY:224.64,angleZ:0},{id:"e4efc3ac-f20b-409f-8cf6-dab3aeca894d",angleX:345.6,angleY:116.64,angleZ:0},{id:"e97b4a79-0978-4964-84e5-d0ca6ce7c3ad",angleX:0,angleY:197.64,angleZ:0},{id:"461c6238-9b6e-4d2c-9f31-42bcd78603de",angleX:0,angleY:3.96,angleZ:0},{id:"6ce11aeb-6745-49bc-a714-3f7b0a1559f9",angleX:0,angleY:132.84,angleZ:0},{id:"7bb2a421-711c-47a1-b7e8-5c8c1c6b4bfe",angleX:339.12,angleY:97.56,angleZ:0},{id:"135c0d0c-c1bd-4cfa-8d2d-1d616bfed880",angleX:0,angleY:0,angleZ:0},{id:"58b858ee-0a42-4010-9209-f526403d093a",angleX:0,angleY:226.44,angleZ:0},{id:"45e39230-5f77-4846-bfed-c6f4a362ab1f",angleX:0,angleY:351.72,angleZ:0},{id:"1303c9e1-2989-4ee5-9299-26b696279400",angleX:0,angleY:172.8,angleZ:0},{id:"fe465e59-3a83-4d25-a01a-f532bd65a5c3",angleX:0,angleY:187.2,angleZ:0},{id:"616dd84d-0025-48cc-b52d-cac7a4a709f8",angleX:0,angleY:0,angleZ:0},{id:"a30042b7-0ccc-4250-bed1-3d4e1ec4623c",angleX:0,angleY:60.48,angleZ:0},{id:"f9b7e69e-7157-4363-8a6a-8a2559e63743",angleX:355.32,angleY:159.12,angleZ:345.24},{id:"f9d0c404-369b-4f24-beec-0aa0d485b123",angleX:349.56,angleY:70.56,angleZ:0},{id:"496180f0-b156-4aa9-ad0c-d27bbe140d43",angleX:0,angleY:72.72,angleZ:360},{id:"b69e4150-06e5-4d1e-a7e2-254f33f957bb",angleX:0,angleY:303.48,angleZ:0},{id:"ec9ebeb3-11d9-41d6-aa02-2baa52053d3f",angleX:0,angleY:109.8,angleZ:0},{id:"81ebd549-40bc-4c04-b74e-08cface71827",angleX:11.88,angleY:206.64,angleZ:0},{id:"2f762319-22bc-4b89-9bba-97449334362a",angleX:0,angleY:86.76,angleZ:0},{id:"71f48cf3-ac2d-4d82-b28e-e4cda20d7270",angleX:0,angleY:321.48,angleZ:0},{id:"bff7692f-d52a-4b7e-8c24-2b2d1ed6e507",angleX:0,angleY:7.92,angleZ:0},{id:"3388376e-f176-4b35-8b15-4f8540f6da3f",angleX:0,angleY:312.12,angleZ:0},{id:"bba56b57-83fa-4d64-8167-93c34d6d8c9e",angleX:0,angleY:326.88,angleZ:0},{id:"f79249c3-1aab-45f9-b9dd-47073e325e53",angleX:8.28,angleY:247.68,angleZ:0},{id:"57fa2dba-7969-499e-a643-bf842e0eb588",angleX:0,angleY:335.16,angleZ:0},{id:"b7d87fb6-f438-48fa-bc65-b147ac220a1a",angleX:0,angleY:299.16,angleZ:0},{id:"c905e285-74b5-4082-bea4-33dd5745d2fe",angleX:2.16,angleY:309.96,angleZ:0},{id:"e0fe4510-f608-4c2e-b0d7-3e03f4770db2",angleX:0,angleY:351,angleZ:0},{id:"59b13f27-ab1f-45b1-85b3-0b8319be1784",angleX:0,angleY:267.12,angleZ:0},{id:"24cfb458-cc7c-4e07-82d0-983b70a1d232",angleX:0,angleY:309.24,angleZ:0},{id:"b4535254-6c77-4314-b1d9-305ee4759c3e",angleX:0,angleY:314.28,angleZ:16.56},{id:"8df86ef1-3146-4b3a-bdb3-df139e1e8f8c",angleX:0,angleY:327.6,angleZ:0},{id:"932aa6cc-7d93-4d41-be02-62d3c1c1439d",angleX:6.12,angleY:212.4,angleZ:0},{id:"88dcee97-eab5-4a11-911f-c179a23ec6c5",angleX:0,angleY:111.24,angleZ:0},{id:"f05ddc85-486e-4202-aaa3-506cc0abd09c",angleX:0,angleY:285.12,angleZ:0},{id:"9194fe8f-b0d3-41e9-8973-323ddfa38bd3",angleX:0,angleY:70.56,angleZ:0},{id:"21c11e67-1420-4604-b83d-acbef8c086c6",angleX:0,angleY:0,angleZ:0},{id:"931205df-5fdb-43e3-92e4-2abd37476508",angleX:0,angleY:50.4,angleZ:0},{id:"fe110639-84f5-4e7c-959d-449dcdebe987",angleX:0,angleY:68.76,angleZ:0},{id:"80273d5e-62f3-470b-bea4-3f62172a8b54",angleX:0,angleY:72.72,angleZ:0},{id:"f476affe-ba2d-437d-8a86-30924d2799c5",angleX:0,angleY:147.6,angleZ:0},{id:"17c380bf-b136-4633-b553-ff814b6ad735",angleX:0,angleY:131.4,angleZ:0},{id:"8568780f-01a4-4fac-9849-cafc08adb69e",angleX:0,angleY:293.4,angleZ:0},{id:"fdd56e3b-43f5-4a42-a47b-28856757a6e3",angleX:6.12,angleY:262.08,angleZ:0},{id:"b8ebf798-5d71-4af8-9522-0a36affc9d4a",angleX:0,angleY:10.44,angleZ:0},{id:"30a2a136-ef7c-4eaa-83ee-9a7c1d868c1a",angleX:0,angleY:208.44,angleZ:0},{id:"472756ff-c3c8-42e0-b66c-ece0b95c3690",angleX:0,angleY:351,angleZ:0},{id:"8dc89cf0-1c20-446d-855b-c4bd26f9958e",angleX:0,angleY:23.76,angleZ:0},{id:"d194c8cc-563c-40f9-a26c-1c5647fab509",angleX:0,angleY:28.08,angleZ:0},{id:"dbc39770-ca89-4fe2-8244-45dae960414b",angleX:0,angleY:56.52,angleZ:0},{id:"d6912bbe-9517-461f-b8a4-1a38d8f0f7a9",angleX:0,angleY:284.4,angleZ:0},{id:"e92928ec-3225-4c37-97ff-9f7e55f574ce",angleX:0,angleY:27.72,angleZ:0},{id:"a10afb7e-3035-42c8-983c-d67e79b1dc2d",angleX:0,angleY:23.76,angleZ:0},{id:"82573989-b50c-4134-bf31-236b260ff200",angleX:0,angleY:50.4,angleZ:0},{id:"7667102b-b839-43bc-8c57-631ba3dead76",angleX:0,angleY:329.04,angleZ:0},{id:"cf8f6370-0d97-4f2f-9847-bd046105406e",angleX:0,angleY:50.4,angleZ:0},{id:"0a8f8d58-0a78-474a-bb2b-bb2b30063173",angleX:0,angleY:0,angleZ:0},{id:"694193c7-c04c-42cc-a808-a2518360477f",angleX:0,angleY:202.32,angleZ:0},{id:"a564eea2-6a66-45ed-862c-16ea7f4f7cae",angleX:0,angleY:0,angleZ:0},{id:"0bd7732c-d114-4d2a-b03a-577c3c9fef2d",angleX:0,angleY:186.12,angleZ:0},{id:"8b7ffc70-25d4-47d8-9603-92d7726da83b",angleX:353.88,angleY:0,angleZ:8.28},{id:"d8ebc819-f558-4bac-b7b6-0aac66a99889",angleX:0,angleY:89.28,angleZ:0},{id:"42e3e904-cf13-4f4c-8b2d-3c814d6e1800",angleX:0,angleY:114.12,angleZ:0},{id:"23f0d37b-ba5b-48ce-889f-2dcfc5040879",angleX:0,angleY:0,angleZ:0},{id:"ee517e53-1a1b-4f2b-b31d-6c95d2b377b7",angleX:0,angleY:30.96,angleZ:0},{id:"5c321f14-8758-4964-aa42-f9e7c99fd751",angleX:0,angleY:307.44,angleZ:0},{id:"e2ba912e-a4f6-474f-bfb2-1e766ca84d22",angleX:0,angleY:0,angleZ:0},{id:"4f82ab87-e97c-4dfc-aa78-4857ae45608b",angleX:0,angleY:222.48,angleZ:0},{id:"7d5560a2-3ac1-489e-a40c-c2a6039e2f2a",angleX:339.12,angleY:68.76,angleZ:0},{id:"5ee52673-2a57-489b-91f3-466389349890",angleX:0,angleY:307.44,angleZ:0},{id:"a5212668-5d65-4e52-8159-d63a3db3732f",angleX:0,angleY:224.64,angleZ:0},{id:"c57141a6-65a6-4af2-af39-a0b970410f43",angleX:0,angleY:307.44,angleZ:24.12},{id:"3a675c17-b2c2-401a-b539-b2086206f5ab",angleX:0,angleY:331.56,angleZ:0},{id:"da658994-fcef-4dbe-9a2b-a5381114945d",angleX:0,angleY:0,angleZ:0},{id:"b5841a24-ac4f-4919-b4af-9e4146fa1e92",angleX:0,angleY:275.76,angleZ:0},{id:"89705ef8-9552-4efa-9fb2-14353ef1bf2b",angleX:9.72,angleY:266.76,angleZ:10.44},{id:"05e35ec3-1de6-4a2b-8e88-7a063eedd6b4",angleX:0,angleY:295.2,angleZ:0},{id:"327657c4-eeec-4340-af76-31601379ea5f",angleX:0,angleY:6.12,angleZ:0},{id:"0adbba9c-1bc2-4724-af47-4b7d7817797f",angleX:6.12,angleY:270.36,angleZ:0},{id:"8db18b71-fb3f-434d-8274-9018ae63b1a6",angleX:0,angleY:253.8,angleZ:347.4},{id:"20f1cb19-cacc-458d-9a09-0f054f7bb572",angleX:0,angleY:297.72,angleZ:0},{id:"6ca30412-a8b3-4063-9253-bc070e799b65",angleX:0,angleY:292.68,angleZ:0},{id:"9c01f6dd-330e-4790-8def-2aa1a8f98e32",angleX:0,angleY:6.12,angleZ:0},{id:"5c1c2d16-043d-4426-b8ae-6ed7abe6a5f0",angleX:0,angleY:307.8,angleZ:0},{id:"365fc2ab-6d94-4e3a-b3cc-3682f655f723",angleX:0,angleY:0,angleZ:0},{id:"3fb80330-df57-4136-bde0-e58c52694b0d",angleX:7.56,angleY:122.76,angleZ:0},{id:"53dfc28b-360c-4bd8-9475-c75463fb72c7",angleX:13.32,angleY:209.52,angleZ:0},{id:"ba8a41c5-10f2-4d02-8e6a-3c41dfb76c6c",angleX:0,angleY:78.84,angleZ:0},{id:"2c14f116-9e57-48b8-877e-a0e6afa1af3d",angleX:0,angleY:32.4,angleZ:0},{id:"94635419-73c1-41a4-b538-41404ec0f8de",angleX:0,angleY:182.16,angleZ:0},{id:"f9d647ac-b302-4d4d-bba5-09ae63072e09",angleX:15.84,angleY:194.4,angleZ:0},{id:"2707d75f-a817-432c-ad2f-1898254b96d1",angleX:0,angleY:30.96,angleZ:0},{id:"074a24a3-1dc3-4665-a60b-16844dcb631d",angleX:0,angleY:0,angleZ:0},{id:"03fc32c8-ce1d-4baf-b9f7-a0bf75368f7f",angleX:0,angleY:214.2,angleZ:0},{id:"5fad5b80-2430-46e4-855d-3a6f8cf52a60",angleX:0,angleY:37.08,angleZ:0},{id:"22b39111-10bc-4225-b921-900c49ff0227",angleX:0,angleY:347.76,angleZ:0},{id:"10a31dda-7c52-471e-a3ff-7cb98549e323",angleX:0,angleY:202.32,angleZ:0},{id:"706ca097-5443-44ac-982a-38e62c94b9b4",angleX:0,angleY:14.04,angleZ:0},{id:"a92b4801-e484-4b07-9239-5f273a1de51e",angleX:0,angleY:178.92,angleZ:0},{id:"35481545-a12f-4266-b478-098ced1aa55d",angleX:0,angleY:199.8,angleZ:0},{id:"1793a433-4548-4c75-9f82-f471e93b00f2",angleX:0,angleY:325.44,angleZ:0},{id:"5c9ec8a7-8ed4-4a08-b275-9df589605138",angleX:0,angleY:3.96,angleZ:0},{id:"b69cf6a6-2f48-40bd-b4ad-0bcd12dbc4dd",angleX:0,angleY:200.16,angleZ:0},{id:"317dfec8-7d0d-401c-b89a-17c0f5cf1aab",angleX:0,angleY:202.32,angleZ:0},{id:"c1276f28-9463-43ba-977c-482990cdc03c",angleX:0,angleY:32.4,angleZ:0},{id:"cb883bc2-4ac9-4789-9bc1-a6b3c2defec1",angleX:0,angleY:0,angleZ:0},{id:"33e62202-dc05-4bb0-9c44-67fcc9d7a0ce",angleX:0,angleY:186.12,angleZ:0},{id:"2083b59c-46fd-44f7-bafe-3fb758d17dfd",angleX:0,angleY:78.84,angleZ:0},{id:"8c73d5a3-1327-4d66-85e6-29409ee23e87",angleX:0,angleY:89.28,angleZ:0},{id:"9f73ea95-33d8-4fde-89ba-a4733d147f52",angleX:0,angleY:47.88,angleZ:0},{id:"94c1cb2a-d7ff-4857-a8bc-4c6a5b5b535d",angleX:0,angleY:296.64,angleZ:0},{id:"446ef0fc-d1d0-45d7-b060-24ab6f01c50c",angleX:0,angleY:115.2,angleZ:0},{id:"ba20286d-17d3-474a-a228-2a5b3d58dfc9",angleX:4.32,angleY:307.8,angleZ:0},{id:"bd67aec1-68e1-4378-b343-934c8fd9d710",angleX:0,angleY:325.44,angleZ:0},{id:"7bbbf293-b395-4b87-b724-fec4408714db",angleX:0,angleY:333,angleZ:0},{id:"bdab5079-224d-48d7-bde6-e4d10164f5a2",angleX:20.88,angleY:155.88,angleZ:341.28},{id:"0d114500-bdb8-4663-ab70-6fe98b2732bb",angleX:0,angleY:204.12,angleZ:0},{id:"efc34cd3-9c24-4197-a58c-50c918aff8f4",angleX:0,angleY:275.76,angleZ:7.56},{id:"b7b3d4cf-c4ff-4978-bafe-7aecfa03b179",angleX:0,angleY:337.68,angleZ:0},{id:"c4ef8c64-8224-4997-b1d8-b6fdf4a0b1c8",angleX:20.16,angleY:226.44,angleZ:0},{id:"fb2cbc26-deb9-4b01-9cf2-34b3f52e6e5b",angleX:0,angleY:195.12,angleZ:0},{id:"f426ccfc-48b5-4a73-8454-6a5fa46542a5",angleX:0,angleY:0,angleZ:0},{id:"19ff8574-e1c3-4d3e-a16d-cac9bd29aded",angleX:10.08,angleY:238.68,angleZ:0},{id:"6f828589-123f-4d59-8154-69d8e8668d5d",angleX:351,angleY:333.36,angleZ:7.56},{id:"dbb7545a-b2ec-4c6e-bcd2-4b8988b25c10",angleX:0,angleY:186.12,angleZ:0},{id:"caf3c783-bb45-4c34-b3f8-32c00ca344a6",angleX:0,angleY:161.64,angleZ:0},{id:"f5c61239-6413-4819-8494-fea41c08e7a1",angleX:10.44,angleY:160.92,angleZ:0},{id:"92bc69d3-2d62-43b0-9572-650ff3bc80b3",angleX:0,angleY:88.92,angleZ:0},{id:"087aae56-999d-4a30-9d65-cd819e082cea",angleX:0,angleY:0,angleZ:0},{id:"4fd677ea-2f7d-4169-9354-033f54fa586c",angleX:0,angleY:271.44,angleZ:0},{id:"6df4c0b2-9db1-4a70-a532-485b4f65bc7d",angleX:0,angleY:208.44,angleZ:0},{id:"a242d955-9749-463b-8648-50ce9cb0ccad",angleX:0,angleY:0,angleZ:0},{id:"a1975f69-1e2f-4af8-8378-8f579b709f5e",angleX:0,angleY:347.76,angleZ:0},{id:"2da9a6d7-b6c7-4d16-820b-8b19c469824a",angleX:0,angleY:338.04,angleZ:0},{id:"ca799b01-f12e-427b-811b-621e202bff57",angleX:0,angleY:133.56,angleZ:0},{id:"25a95402-c89a-4a93-96c8-e437bab489e1",angleX:0,angleY:66.6,angleZ:0},{id:"9e1ef4f9-d7b5-4c71-808e-31c0fa3c7f00",angleX:0,angleY:28.08,angleZ:0},{id:"669166d1-1074-496d-8fb3-480f9891d533",angleX:0,angleY:0,angleZ:0},{id:"0d74dc48-0d79-4ed3-886e-4fbcc110069a",angleX:349.56,angleY:62.28,angleZ:0},{id:"cfa203fb-30d0-403e-8c15-5193730b497b",angleX:0,angleY:23.76,angleZ:0},{id:"b72fe2a1-f7f1-43da-9ed4-757410bdb6c2",angleX:349.56,angleY:81,angleZ:0},{id:"917fb0bf-bc0f-4f3d-b1ca-198ee49d9b5b",angleX:0,angleY:329.04,angleZ:0},{id:"3c232da5-3ffe-424b-9d19-4a4cedd6cfb3",angleX:0,angleY:37.08,angleZ:0},{id:"cb07ca41-65a8-4be9-b18f-e4bbe07572a7",angleX:0,angleY:74.88,angleZ:0},{id:"de9611da-d3df-42c8-84d9-a6c7980e3110",angleX:0,angleY:19.44,angleZ:0},{id:"1c4237a9-4e4d-4e91-ad89-99c6dd00871b",angleX:0,angleY:333.36,angleZ:0},{id:"fc09be2e-7c0e-497f-8ea0-ea1cb409fe86",angleX:351.72,angleY:0,angleZ:8.28},{id:"29744b53-07c0-4421-beb6-5dec80f3472f",angleX:0,angleY:125.28,angleZ:0},{id:"07b28994-daeb-43f2-98fc-f247f8910096",angleX:0,angleY:207.36,angleZ:0},{id:"3be778aa-0a96-4ec6-af1b-e8a485bbd219",angleX:0,angleY:224.28,angleZ:0},{id:"17aabe00-ae1a-45b2-a097-3bcaffe79727",angleX:0,angleY:320.04,angleZ:0},{id:"2eeef48d-7544-4e68-9318-d322fe459550",angleX:6.12,angleY:165.24,angleZ:0},{id:"8ded9c6e-e798-4d4f-aa09-99f79c5ed896",angleX:0,angleY:147.24,angleZ:0},{id:"7174be35-d269-4cc2-9916-3d590a8d6bf6",angleX:0,angleY:99.72,angleZ:0},{id:"10b2d859-7381-452d-8bbe-cd2eb18008f9",angleX:0,angleY:202.32,angleZ:0},{id:"03c3716f-ea72-4c03-8dc3-a110c5e7f434",angleX:0,angleY:311.4,angleZ:5.4},{id:"4268001f-1b49-4991-ac65-38f83131274b",angleX:0,angleY:40.32,angleZ:0},{id:"894193c6-1dfc-4b55-b90f-c6cae1de7740",angleX:0,angleY:234.72,angleZ:0},{id:"679337fd-22a1-4ba2-97d8-1329ebd8a2a2",angleX:0,angleY:226.44,angleZ:0},{id:"cc7f68db-6d56-43f1-9cae-32346925edc9",angleX:0,angleY:181.8,angleZ:0},{id:"1dc40771-453a-4f6e-827a-5148c6ce0709",angleX:0,angleY:48.6,angleZ:0},{id:"d74d78e4-8441-43f4-bea7-e4aa8d0254fe",angleX:0,angleY:258.12,angleZ:10.44},{id:"8c227b3d-b649-4d09-8a65-350bdd6eef62",angleX:0,angleY:232.56,angleZ:0},{id:"a8d7c849-6b45-457c-83d5-98fcaa376017",angleX:0,angleY:295.56,angleZ:0},{id:"d825c44d-7702-4803-8956-4637f36224d5",angleX:12.6,angleY:212.04,angleZ:351.72},{id:"a4d1e36b-896a-4ac0-8297-444a87db9a2a",angleX:0,angleY:311.4,angleZ:3.96},{id:"b7671365-2de5-4bac-8108-d6d20033e99d",angleX:0,angleY:299.16,angleZ:0},{id:"8eec979c-341e-45d5-ade7-d01f8a562d8a",angleX:0,angleY:94.68,angleZ:0},{id:"1962c76b-fff7-4cfa-9ceb-e45ed3b9bec0",angleX:0,angleY:304.56,angleZ:0},{id:"a121230b-121e-4c8f-8891-862bf463409d",angleX:0,angleY:41.4,angleZ:0},{id:"458b7055-3f1f-4990-b5d1-97a61ada9dac",angleX:0,angleY:267.12,angleZ:0},{id:"dc2cfdc3-dd1c-4884-81e5-79a497b900d1",angleX:0,angleY:343.8,angleZ:0},{id:"f34bf230-05fe-406c-8f73-ca1cbb31ef1d",angleX:0,angleY:54.72,angleZ:0},{id:"a5c6a3ee-5c9e-421e-a0c7-09595539adcf",angleX:345.6,angleY:41.4,angleZ:0},{id:"6a427e73-4f4b-4c62-a90e-42df3cb7ab77",angleX:0,angleY:157.68,angleZ:0},{id:"60e496aa-83ab-4b33-95d8-40ed966a067f",angleX:0,angleY:266.76,angleZ:0},{id:"23c336f1-547e-4545-90a0-879afeb8e6b4",angleX:0,angleY:34.2,angleZ:0},{id:"7b9a7c8e-99d2-48b3-98dc-cb085991380f",angleX:0,angleY:0,angleZ:0},{id:"855d2309-65d9-4450-96c7-a9678b97e5ad",angleX:0,angleY:203.76,angleZ:0},{id:"6a768950-e8b9-4010-99c2-4d3fec970c8b",angleX:358.56,angleY:116.64,angleZ:354.24},{id:"b8432c5e-9d98-4020-a648-dffce4c22506",angleX:0,angleY:14.04,angleZ:0},{id:"ea25a2c5-2a9a-4996-93f7-9b3678f48e0b",angleX:0,angleY:239.76,angleZ:0},{id:"27f210e9-d92c-41a7-8457-8db8e31f2aec",angleX:0,angleY:228.6,angleZ:0},{id:"df250a25-08e1-4387-b8d9-3374c5ca420b",angleX:0,angleY:226.8,angleZ:0},{id:"78182aab-0630-4fce-8984-248dd02fa580",angleX:0,angleY:12.24,angleZ:0},{id:"5ba44018-fffb-4100-8388-05958f6ae071",angleX:0,angleY:0,angleZ:0},{id:"1d7595fa-cfda-4e44-8ce0-0cff4d474577",angleX:13.32,angleY:185.4,angleZ:343.08},{id:"d96bff50-43e0-452a-b9e7-27bd2fce7bb1",angleX:0,angleY:22.68,angleZ:0},{id:"37239315-a051-40f4-af02-3c3c5817c5e4",angleX:348.48,angleY:95.4,angleZ:350.64},{id:"efe0f634-4911-4e5e-ae64-991185ef85a0",angleX:0,angleY:0,angleZ:0},{id:"3f274290-615a-41ee-a79f-4dbbe0c3211c",angleX:0,angleY:66.6,angleZ:0},{id:"a97b6488-d714-402e-a187-22a364703662",angleX:0,angleY:271.08,angleZ:0},{id:"dd154e89-a94f-410c-b7c4-59d150cb5000",angleX:0,angleY:0,angleZ:0},{id:"320e12c8-bf94-4618-9336-d0d2cd44404a",angleX:0,angleY:149.76,angleZ:0},{id:"4fc8744d-f079-4684-899c-cacb4e968f31",angleX:0,angleY:324.72,angleZ:0},{id:"a5e166dd-8ffe-481d-ad2c-08a89ab31b37",angleX:10.44,angleY:213.84,angleZ:342.36},{id:"39587c55-516c-4083-8289-14324d155078",angleX:0,angleY:41.4,angleZ:0},{id:"670f9e5e-6bad-4a71-90a0-7721ee0070f6",angleX:0,angleY:45.72,angleZ:0},{id:"ce356f46-e4d4-4e27-8cbc-dd8a486bacc3",angleX:0,angleY:0,angleZ:0},{id:"193f9f44-1c38-403b-ac33-b3e1bf985fd8",angleX:0,angleY:151.92,angleZ:0},{id:"82303ce9-c44f-485c-8a47-f2ee89602ff3",angleX:0,angleY:209.52,angleZ:0},{id:"8f379d46-1c3c-454e-a35f-0ba2a4d574c0",angleX:0,angleY:289.08,angleZ:0},{id:"236e48d9-35f6-4301-90a9-6622a0eea679",angleX:0,angleY:200.88,angleZ:0},{id:"60c76fda-3f94-4486-a4b9-3b336bc43387",angleX:0,angleY:103.32,angleZ:0},{id:"5085a435-966c-4be8-97cf-4ae1528e5814",angleX:0,angleY:19.44,angleZ:0},{id:"d06f0b4c-b988-4052-a5e0-1c39b5c2184a",angleX:0,angleY:0,angleZ:0},{id:"364dab4c-2e29-45b4-89a6-5045aebfdb65",angleX:5.4,angleY:258.12,angleZ:0},{id:"df6e9628-82de-4780-bd64-f43588856c64",angleX:18.36,angleY:256.68,angleZ:0},{id:"644f3ee8-9d12-4ea2-99e2-b25dfb10550d",angleX:0,angleY:24.84,angleZ:0},{id:"67b194b8-8d7a-4b47-a79c-7733997d9352",angleX:0,angleY:352.08,angleZ:0},{id:"44d5228f-c1f9-4219-996e-09a30657fcac",angleX:349.92,angleY:143.64,angleZ:0},{id:"ea3fa92d-44d2-441e-8f7a-cd86cba77edc",angleX:189.36,angleY:209.52,angleZ:171.36},{id:"a5513b66-9f5a-4ad3-a5f3-23ff7bd06837",angleX:0,angleY:46.44,angleZ:0},{id:"f677ec46-73e3-4b5a-8c26-9e93226637db",angleX:0,angleY:315.72,angleZ:0},{id:"9d1bc9b3-928b-42e0-9b60-fa966dd2c0dd",angleX:0,angleY:72.36,angleZ:0},{id:"f2336eb2-47a1-4a19-a0f3-b0630e46abe0",angleX:0,angleY:50.4,angleZ:0},{id:"7638d688-4c60-46dd-82b5-5d7239d43587",angleX:0,angleY:258.12,angleZ:0},{id:"517b05ee-1499-4591-b526-bcc34708f2ad",angleX:0,angleY:57.96,angleZ:0},{id:"4cf4ce3d-f946-4b29-90bd-4cff2ec7d38c",angleX:0,angleY:37.08,angleZ:0},{id:"95f8d47e-6b40-4de2-95f3-131cb66e054d",angleX:0,angleY:168.48,angleZ:0},{id:"b3e00b58-88db-46f2-bb5c-8abeb7fb013d",angleX:0,angleY:49.68,angleZ:0},{id:"56f35585-53b4-4bd0-bdb4-1951dddd6490",angleX:0,angleY:232.2,angleZ:0},{id:"2d241ebb-253b-491f-85af-c83e93c40c91",angleX:0,angleY:262.8,angleZ:0},{id:"d033d1c5-ffe3-4c47-a480-e8ac931458f3",angleX:0,angleY:232.56,angleZ:0},{id:"e1ba8326-93ef-49c8-83a9-219c066e01ca",angleX:0,angleY:309.24,angleZ:0},{id:"c77ad40e-ef62-4207-93d7-6dd2d239e8a0",angleX:0,angleY:76.68,angleZ:0},{id:"945ec9a9-13c9-48c2-8cdd-3bdd2705f776",angleX:0,angleY:62.64,angleZ:0},{id:"d51e0367-40fc-435c-8362-b7df137b4976",angleX:0,angleY:0,angleZ:0},{id:"e490d365-e5a6-434b-8321-810725115636",angleX:0,angleY:0,angleZ:0},{id:"02478e04-7660-482e-a4e7-6d2c97abdf83",angleX:0,angleY:0,angleZ:0},{id:"de722777-f747-4a24-a937-eadeac7360ae",angleX:0,angleY:266.76,angleZ:0},{id:"65eef926-db50-4964-a534-37c8241aa1be",angleX:0,angleY:20.16,angleZ:0},{id:"e15dba5b-eaa6-404b-9998-b8a234843c67",angleX:0,angleY:35.28,angleZ:0},{id:"8e1d21ba-a66c-42f3-8d96-b5064ad6a542",angleX:0,angleY:227.16,angleZ:0},{id:"8dc76222-a100-495c-a918-bbfe44981859",angleX:0,angleY:169.92,angleZ:0},{id:"21c62e27-ffb1-4230-9923-0d107f3325f9",angleX:0,angleY:34.2,angleZ:0},{id:"1ed62d31-bbdd-4001-967b-f90068148aef",angleX:0,angleY:50.4,angleZ:0},{id:"5e9d584a-38b0-470a-95c5-e065a1ee2c7e",angleX:0,angleY:172.8,angleZ:0},{id:"719e1ae5-59d3-4bf7-a4af-c859d6715fd5",angleX:0,angleY:37.08,angleZ:0},{id:"ac9a1dd3-29fe-4a58-b2bd-6097888e52ee",angleX:0,angleY:45.72,angleZ:0},{id:"ad497a45-7c06-45ed-b185-da9aad0c137b",angleX:0,angleY:19.44,angleZ:0},{id:"6a8bdc52-a134-485a-8b53-7fd06e47b2e1",angleX:0,angleY:43.56,angleZ:0},{id:"b087ba6e-86b3-45d0-b2c4-bb0bf7f6ffb4",angleX:0,angleY:280.44,angleZ:0},{id:"e64067a6-d27d-4fe9-98bc-c9eb439f179f",angleX:195.48,angleY:195.48,angleZ:173.16},{id:"71c4a3b6-1510-4f11-894a-a6e36ef7a514",angleX:0,angleY:0,angleZ:0},{id:"941a122f-3e22-4347-8fc0-c89fa468e3ca",angleX:18.36,angleY:218.52,angleZ:0},{id:"0c8e39b1-9554-4e66-93a2-3e5cfd972fc9",angleX:10.08,angleY:272.88,angleZ:0},{id:"a1761792-8f3f-4168-a266-5567b511757c",angleX:360,angleY:289.08,angleZ:11.52},{id:"de89e664-d968-4831-9b49-612c18c3fa98",angleX:0,angleY:360,angleZ:0},{id:"2f51b59b-a244-4be2-a47b-fee97eb656ac",angleX:0,angleY:0,angleZ:0},{id:"8ec6de53-fb02-405a-a416-8c182336bb03",angleX:355.32,angleY:32.4,angleZ:351.36},{id:"9b9343c2-b578-4891-9c13-0b00fd4ad4d4",angleX:0,angleY:129.96,angleZ:0},{id:"a97f9be5-c46c-441c-9771-e86abe742e6b",angleX:0,angleY:196.2,angleZ:0},{id:"0d798a6d-9274-4798-9c2f-4f4d4ec0dab7",angleX:0,angleY:207.36,angleZ:0},{id:"e9674cfb-dede-43e4-b01b-1bacd0437dc6",angleX:0,angleY:303.84,angleZ:0},{id:"6465d252-a339-4796-bd58-a844e63624c5",angleX:0,angleY:63.36,angleZ:0},{id:"26df64a9-0e67-4dfa-a278-6f4575b710ee",angleX:0,angleY:120.96,angleZ:0},{id:"26d2a316-286a-4c8e-b427-63d802cc1645",angleX:0,angleY:28.08,angleZ:0},{id:"f2c53bf0-6e5c-47e9-92d6-6c365a97df34",angleX:8.28,angleY:213.84,angleZ:345.6},{id:"4beaf9ec-b02d-4966-9e4c-a561946da0d7",angleX:0,angleY:37.08,angleZ:0},{id:"9866463a-57f2-47bf-b11f-2e5065f6f1a2",angleX:0,angleY:141.48,angleZ:0},{id:"727a4b43-9b11-4fa2-9b31-037d1ad91401",angleX:0,angleY:178.56,angleZ:0},{id:"b53f3879-6aaa-46f4-9dfb-66db3e2aeb9a",angleX:0,angleY:277.2,angleZ:0},{id:"0ba9a2dc-ff82-4706-afce-6d26e0c63412",angleX:0,angleY:0,angleZ:0},{id:"b217d1ab-256c-4568-b932-6bbfd78ff9b4",angleX:0,angleY:159.84,angleZ:0},{id:"e933fbf0-eb98-4003-b310-8b7d24d30e64",angleX:0,angleY:0,angleZ:0},{id:"4039a946-26d4-4548-b807-2c9ac30b634f",angleX:0,angleY:293.4,angleZ:0},{id:"3149a51f-6247-423f-9f80-a2a936cf9c6c",angleX:0,angleY:200.16,angleZ:0},{id:"9b19d4ea-15cf-4aa4-9498-33effa7566fc",angleX:7.56,angleY:193.32,angleZ:351.36},{id:"463b95cf-6228-4328-91fa-ae73a41fd7c9",angleX:0,angleY:16.56,angleZ:0},{id:"749b900e-6d84-4b39-9c7a-4c1ed8b03ade",angleX:0,angleY:72.72,angleZ:0},{id:"094e7771-463c-43ee-8041-27c10784117f",angleX:0,angleY:0,angleZ:0},{id:"519c8fa6-b59c-476e-bd0c-f3505df0db2a",angleX:0,angleY:68.76,angleZ:0},{id:"d1a4fbe7-3892-4a3c-93d7-69b634c31059",angleX:9.36,angleY:183.24,angleZ:340.92},{id:"0ee40bb3-c511-4921-93b1-6f8116e30a80",angleX:0,angleY:159.84,angleZ:343.08},{id:"18ba8de7-559b-448b-afbc-43b1f772a032",angleX:0,angleY:33.12,angleZ:0},{id:"08a0bdf0-92b7-404e-824b-4c095014d3d4",angleX:0,angleY:245.52,angleZ:0},{id:"85be33d8-dce9-4908-ae28-9664e356d90f",angleX:0,angleY:208.08,angleZ:0},{id:"6e67ba20-70e5-4bc9-b945-defd3d533e02",angleX:0,angleY:230.76,angleZ:0},{id:"134960b8-d860-4a6e-97d8-d44ab3ead114",angleX:0,angleY:178.56,angleZ:0},{id:"66facd05-aa77-40a0-81d4-56a3cf98bc3e",angleX:11.88,angleY:233.64,angleZ:0},{id:"d28ca4ff-9069-49ef-9f82-35c5c36a1645",angleX:0,angleY:74.88,angleZ:0},{id:"a1b1dc46-32c7-4d59-8507-d574aad93da7",angleX:0,angleY:0,angleZ:0},{id:"58f64df6-2619-4e54-9c75-3c28928a9ade",angleX:0,angleY:190.08,angleZ:0},{id:"b51031d9-070c-43dd-a18c-86bea63f3294",angleX:0,angleY:0,angleZ:0},{id:"cc16a40a-9cf4-4002-8e40-be3c24291b51",angleX:0,angleY:63.36,angleZ:0},{id:"8b0a9e1f-56fd-419b-832e-f870a15f2d09",angleX:0,angleY:312.84,angleZ:0},{id:"f3bf3352-baaf-4d6d-abf1-6112283e6c5d",angleX:0,angleY:147.6,angleZ:0},{id:"509ec8eb-af3e-4eea-9ad9-63c09520e0ca",angleX:10.44,angleY:195.48,angleZ:347.4},{id:"cea5569e-3e28-4617-8501-31d0a084c429",angleX:0,angleY:191.52,angleZ:335.16},{id:"c0e51d0b-0bda-473c-ad2c-e93545f12e99",angleX:0,angleY:182.88,angleZ:0},{id:"b8151278-cb6b-4cb9-98d7-a89d2736f6ac",angleX:0,angleY:209.52,angleZ:0},{id:"a91ac185-db81-46b7-bb73-82b32d160f8f",angleX:0,angleY:14.76,angleZ:0},{id:"f6999525-e1f5-404a-af19-f240cbbf3b0a",angleX:357.12,angleY:76.68,angleZ:0},{id:"ccd28872-8d1b-4cc0-9ef3-64b605433537",angleX:20.88,angleY:221.76,angleZ:0},{id:"1e62896d-26a7-441e-92e0-188507bbf6fa",angleX:0,angleY:324.72,angleZ:0},{id:"a93a22e6-2e1b-48ae-a101-de9b2d1dccdc",angleX:0,angleY:43.56,angleZ:0},{id:"d210c5e1-a262-4b91-93d4-6aab83cfbd32",angleX:16.2,angleY:242.64,angleZ:0},{id:"b2acda1c-1847-481e-825a-e0faaa5d1e54",angleX:0,angleY:329.04,angleZ:0},{id:"45375db3-cef9-4eb9-bedc-0c58e45b7401",angleX:181.44,angleY:262.08,angleZ:175.32},{id:"4a957cdd-aa62-4329-8df1-7bcfb303a4ce",angleX:0,angleY:183.96,angleZ:347.76},{id:"e5b4b2c2-85c9-4d81-8b3b-c28ffd720584",angleX:0,angleY:104.04,angleZ:351.72},{id:"15b77360-4bc1-4629-b1b4-faa2d98aa503",angleX:0,angleY:32.4,angleZ:0},{id:"88c082ad-1a8d-4c43-9d9f-0d47b1dafdfe",angleX:0,angleY:15.48,angleZ:0},{id:"e8da5890-0124-4611-bc7e-82a4f4acdb7c",angleX:0,angleY:320.04,angleZ:0},{id:"8e415b6d-4bb4-4483-b82d-4fceaa8d4d3d",angleX:0,angleY:244.8,angleZ:0},{id:"bf88a7d0-8d76-49ae-9fad-f1b94a76f586",angleX:343.8,angleY:54.72,angleZ:347.76},{id:"1d8d5060-0d6d-4236-af28-04508a87f241",angleX:0,angleY:35.28,angleZ:0},{id:"b95bca6e-e48b-4a74-ae3b-cd2d25930421",angleX:0,angleY:201.96,angleZ:0},{id:"3417255c-3fc0-407c-8c60-090b5ceae742",angleX:0,angleY:173.16,angleZ:0},{id:"e8851ee9-3850-4060-b471-e2c5d3d88450",angleX:0,angleY:24.12,angleZ:0},{id:"1fdceb48-0ea2-4a2e-9420-186cce851c6c",angleX:0,angleY:0,angleZ:0},{id:"424d4c7a-6ffb-406c-a684-e1c8a7c6996f",angleX:0,angleY:52.56,angleZ:0},{id:"84ec1edc-7833-4b58-9650-7526bd28480d",angleX:0,angleY:58.68,angleZ:0},{id:"3ac92678-2fd6-4d96-84e9-f54014077120",angleX:0,angleY:141.12,angleZ:0},{id:"fba8f184-81cc-44b7-b15e-ba35e10ebd77",angleX:0,angleY:178.92,angleZ:0},{id:"81ab1448-5193-4915-872a-d1ed701e46f7",angleX:0,angleY:38.52,angleZ:0},{id:"ca7fcfbb-24c4-4d89-8e59-58b92bb0d8ac",angleX:0,angleY:258.12,angleZ:347.04},{id:"12920ffc-cc51-42d9-a557-db6e40fb88fc",angleX:0,angleY:59.04,angleZ:0},{id:"a5c37d0f-c02e-42b1-a929-212ed237f22a",angleX:0,angleY:284.76,angleZ:0},{id:"ddacbaca-efd6-4d88-8d57-57be12b1020b",angleX:0,angleY:178.56,angleZ:0},{id:"9ff704c0-4583-45a0-bc66-6c8da9fc8d1e",angleX:0,angleY:39.6,angleZ:0},{id:"476085c8-ed40-48eb-8d40-47a054736110",angleX:0,angleY:22.32,angleZ:0},{id:"5f79e85e-2470-49c2-813b-6485bc3399c3",angleX:0,angleY:307.08,angleZ:0},{id:"b87fa39b-f6a8-4c34-b731-d9b790c43473",angleX:0,angleY:353.88,angleZ:0},{id:"fa1212a6-9370-4bd6-a982-0fd6fd0b1006",angleX:18.36,angleY:208.44,angleZ:0},{id:"78a4ffdc-9007-4c4c-800b-7bbabc0999ca",angleX:0,angleY:59.04,angleZ:355.32},{id:"3a341dec-229c-4afe-94ef-cf3f3b4b3a5a",angleX:0,angleY:320.04,angleZ:0},{id:"9349c037-143e-4240-9b2f-c4ef747fe8ef",angleX:356.4,angleY:99,angleZ:350.28},{id:"dbcbbebe-6d03-4a55-ad19-9ca7cf47417c",angleX:0,angleY:29.16,angleZ:0},{id:"19ae547c-4e29-44da-8868-b4fc838e4839",angleX:12.24,angleY:262.8,angleZ:0},{id:"9fa9957f-d302-4d81-bb82-db15dce6e2ff",angleX:20.16,angleY:224.28,angleZ:0},{id:"6ca2b11b-2e53-4c54-9204-a99e961a3929",angleX:0,angleY:297.72,angleZ:0},{id:"4cbdc906-c0a4-44f7-ab00-4785d777b5ff",angleX:351.36,angleY:28.08,angleZ:0},{id:"a71f4e63-9e0f-46b2-8426-1f69920d6326",angleX:0,angleY:19.44,angleZ:0},{id:"d7d33f9e-e9fa-440c-a8e1-b785c421877f",angleX:0,angleY:209.52,angleZ:0},{id:"3e967e87-673e-4f24-a454-89cedb3e333c",angleX:0,angleY:196.2,angleZ:0},{id:"3c89657d-27f5-4a9b-a9bf-638d4e09dc71",angleX:0,angleY:168.48,angleZ:0},{id:"b6ee4aff-0ccd-4765-b758-d170bc8ba161",angleX:0,angleY:165.24,angleZ:0},{id:"f11c10a4-adff-4521-8e87-319c60b0643d",angleX:8.28,angleY:214.2,angleZ:341.28},{id:"32981b18-835f-42ef-b964-5cdcf87b4532",angleX:0,angleY:0,angleZ:0},{id:"8149051c-97f8-44e4-a2d2-aae5a3f9c710",angleX:0,angleY:50.4,angleZ:0},{id:"e350ed05-21d1-47d0-8b72-168b96204748",angleX:0,angleY:0,angleZ:0},{id:"a021e503-b7b0-4750-8898-98157960490d",angleX:0,angleY:281.16,angleZ:0},{id:"5c845efc-a7e6-42cb-a94e-e5a0f9dba7b1",angleX:0,angleY:134.28,angleZ:0},{id:"1ac0608c-a91f-40de-aac4-3512f2b784a1",angleX:0,angleY:52.56,angleZ:0},{id:"9b9f6b0c-1479-409a-8980-d01aa8a339da",angleX:13.32,angleY:197.64,angleZ:347.04},{id:"0f16ce6c-6669-4c64-a19b-ab45653d42e9",angleX:0,angleY:81,angleZ:0},{id:"adb94e3c-8d9d-4886-b4e7-697d0790837d",angleX:0,angleY:230.76,angleZ:0},{id:"d39b8810-8ad8-49e4-b9c5-af7e730d3f95",angleX:0,angleY:287.28,angleZ:0},{id:"691efdc4-f708-4236-9c98-cfb01c23b585",angleX:345.24,angleY:78.12,angleZ:0},{id:"1fa9aab0-a50b-4c33-9c26-ef0b2b1338b1",angleX:0,angleY:101.88,angleZ:0},{id:"801d501e-e8b0-4a11-b7d6-c3a0313d7025",angleX:0,angleY:35.28,angleZ:0},{id:"ea66ea9b-15de-4bf4-acba-47f20931776b",angleX:353.16,angleY:183.24,angleZ:343.08},{id:"4968807f-2e15-4e4e-b467-2f1251c6e18e",angleX:0,angleY:0,angleZ:0},{id:"2a653b44-f364-48c3-9973-b859600e5fab",angleX:0,angleY:214.2,angleZ:0},{id:"ab50241e-9a34-49fc-89e5-195981460155",angleX:0,angleY:86.76,angleZ:0},{id:"bb37637e-63cb-4110-b17d-eaefc19b44f2",angleX:0,angleY:190.08,angleZ:353.88},{id:"c948ab91-a332-49db-a19b-069a442261e0",angleX:0,angleY:172.8,angleZ:0},{id:"dcabcb1b-6e32-4f2e-b912-2cb65cc71bd6",angleX:0,angleY:40.32,angleZ:0},{id:"95179f3c-f494-4b41-b06f-382e0f1f392c",angleX:0,angleY:0,angleZ:0},{id:"1c1760ca-4b99-43f4-8863-b54e0406c7c5",angleX:347.04,angleY:90.36,angleZ:0},{id:"448f5f27-4a71-4403-9cb3-020bc600e841",angleX:0,angleY:99,angleZ:0},{id:"b10ea466-d8a4-4963-91fa-91b775287eef",angleX:0,angleY:14.76,angleZ:0},{id:"300bdcfb-34e5-4138-89c4-2a35826ccb95",angleX:0,angleY:313.2,angleZ:0},{id:"65fced3c-43c5-4c48-b21c-1bfbfcf274b0",angleX:16.2,angleY:236.52,angleZ:0},{id:"d5551e25-17b0-41d4-8448-90b6a018f27e",angleX:0,angleY:311.4,angleZ:0},{id:"def021e9-dd7b-4135-9807-9f87014862bd",angleX:0,angleY:213.84,angleZ:0},{id:"ad54b9bd-ed72-484c-a412-06ecd74b9b8b",angleX:10.44,angleY:178.92,angleZ:336.96},{id:"64da752b-3aa5-4ac6-9661-381ecd331958",angleX:0,angleY:99,angleZ:0},{id:"c194f42e-7172-4a51-bf7c-3d6f7038e66b",angleX:0,angleY:72.36,angleZ:0},{id:"5e9ba957-4a3f-4e39-b998-d12ad75b80df",angleX:0,angleY:26.28,angleZ:0},{id:"5846bcba-ae9e-4d72-a07b-880da64ed856",angleX:0,angleY:342.36,angleZ:0},{id:"aaa1bb1f-0b12-40dd-8ac3-02e808a124fa",angleX:0,angleY:54.72,angleZ:0},{id:"98c848c4-a820-410f-857d-ed32a2f0cbbe",angleX:0,angleY:307.08,angleZ:0},{id:"4e89f410-240e-4c52-bd25-6e2cde156904",angleX:0,angleY:103.32,angleZ:0},{id:"f89db03c-45ad-4487-aa0a-077d332fbc3c",angleX:0,angleY:320.04,angleZ:0},{id:"4ecd8357-b544-47b6-ba5d-02778164f7c1",angleX:0,angleY:14.76,angleZ:11.52},{id:"8fd5ac3a-f31d-4ee0-becf-0c45fba523c0",angleX:0,angleY:329.04,angleZ:0},{id:"d9ccb49e-b01b-4203-ab6f-5212680d5c1f",angleX:0,angleY:32.4,angleZ:0},{id:"80f6ddd2-ebf1-4a81-afc0-440bd72b3ea6",angleX:0,angleY:133.56,angleZ:0},{id:"2835f9e9-14ba-45c4-87d4-2c8e8ce8a2cb",angleX:10.08,angleY:204.12,angleZ:0},{id:"30f72353-a57a-44b1-9855-f7f71c3e5946",angleX:0,angleY:314.28,angleZ:0},{id:"51950dc5-d1a6-48a4-aab9-ee6f31bede24",angleX:0,angleY:341.64,angleZ:0},{id:"47ad1f1c-3d30-409b-bf10-dca85548627c",angleX:0,angleY:58.68,angleZ:0},{id:"b8642a6c-c45a-48cd-a939-b6506d325bbd",angleX:0,angleY:227.88,angleZ:0},{id:"ce1da565-79e2-4fe2-9655-797defb45c07",angleX:0,angleY:167.76,angleZ:0},{id:"39d50ab3-2272-4278-a43e-e6b06424cfc4",angleX:0,angleY:10.08,angleZ:0},{id:"3cf00d95-8fdb-4be0-a23d-e8b6e3a5a996",angleX:0,angleY:45,angleZ:0},{id:"3ca4e5d5-0f35-4450-a913-d51f17be5dbf",angleX:0,angleY:37.08,angleZ:0},{id:"06722496-3521-4674-bb52-fc37324c2657",angleX:0,angleY:224.64,angleZ:0},{id:"cb10b8d3-63a4-49da-abaf-44ffe4a55006",angleX:0,angleY:27,angleZ:0},{id:"ff47fef4-a73f-4c97-b591-58341087c8ce",angleX:0,angleY:68.04,angleZ:0},{id:"f12f1612-cb80-4fb8-a126-3e74d3d75edb",angleX:0,angleY:147.6,angleZ:0},{id:"c7e6ce9e-b969-424c-9897-e69d4e53cb69",angleX:0,angleY:18,angleZ:0},{id:"3ea20ec5-ac62-46a3-95c7-fec11787dd3e",angleX:0,angleY:39.24,angleZ:0},{id:"9ee3649f-d170-4d77-8e35-b90ce6b96316",angleX:0,angleY:76.68,angleZ:0},{id:"fe926695-3085-49ff-be8a-ccb844a4856b",angleX:0,angleY:22.32,angleZ:0},{id:"49581320-ee5e-499a-97a2-484f44126322",angleX:0,angleY:41.4,angleZ:0},{id:"53684558-cf1a-4f49-96ba-43b463ae4d03",angleX:0,angleY:14.4,angleZ:0},{id:"9b20efd0-10be-4a6a-b3f4-ab938ea97103",angleX:0,angleY:59.04,angleZ:0},{id:"72cd96f6-7272-4b7f-bc9a-ffa96dd4b863",angleX:0,angleY:45.72,angleZ:0},{id:"8fcd5bfa-413f-4ba0-9f22-a7f7d60795ac",angleX:0,angleY:168.12,angleZ:0},{id:"c6c81ae5-d2c2-4ad7-9612-bb67161e5a07",angleX:0,angleY:22.32,angleZ:0},{id:"60d96844-6883-407a-9ad9-36921374ce73",angleX:0,angleY:222.84,angleZ:0},{id:"2d7faa3f-1cef-4cd3-8fa7-7d9d62800885",angleX:0,angleY:58.68,angleZ:0},{id:"b8fda886-166d-4709-93e3-80b4c3dbef1e",angleX:0,angleY:157.68,angleZ:0},{id:"54a89291-95d3-4d2a-94f0-7fbd5c2e45eb",angleX:0,angleY:244.8,angleZ:0},{id:"040c4c38-3793-447e-8925-4565b866d6b0",angleX:0,angleY:343.8,angleZ:0},{id:"b6ff807a-b8bc-46bc-b954-c53b9504090a",angleX:216.36,angleY:135.36,angleZ:208.44},{id:"1cd7f488-6785-4466-8225-bc1cc50a670a",angleX:0,angleY:326.52,angleZ:0},{id:"2393e56c-1bde-40b4-9a8e-d065f217cc39",angleX:0,angleY:30.24,angleZ:0},{id:"e71f4590-b5c1-4008-9c48-d504d4bb6cde",angleX:0,angleY:153.72,angleZ:349.92},{id:"42a3f7cd-4dbc-4145-8888-59f06a65e0e8",angleX:0,angleY:63.36,angleZ:0},{id:"967cfaa6-638b-45dc-89f6-f611ba2831c9",angleX:353.16,angleY:32.4,angleZ:3.24},{id:"a9b0e099-d983-4b54-82ec-17bc99adaec8",angleX:0,angleY:333.36,angleZ:0},{id:"3e2e9999-9dd2-454a-ad82-f95ccaf7b3ae",angleX:353.16,angleY:28.08,angleZ:0},{id:"220c4ff2-0036-434b-b44e-21831a61b087",angleX:355.32,angleY:23.76,angleZ:0},{id:"5434a8df-7f6f-4781-abb2-a221b37f3ef3",angleX:0,angleY:45.72,angleZ:0},{id:"033502e7-8d0a-4664-8840-ea65d8ee0d5b",angleX:0,angleY:329.04,angleZ:0},{id:"766c867b-515d-4857-bdca-7a4c1e919109",angleX:0,angleY:10.08,angleZ:0},{id:"41b095c3-2aaf-4981-b17e-4a8af9986a54",angleX:0,angleY:96.48,angleZ:0},{id:"259ba94e-229f-4840-926a-7f61a6a0e80d",angleX:8.28,angleY:199.8,angleZ:0},{id:"e695e7ac-f7ce-4561-b6b5-e39d9be2ca06",angleX:0,angleY:236.16,angleZ:0},{id:"47f2a7ef-d8d2-4016-a87a-488c0d6a19e9",angleX:0,angleY:0,angleZ:0},{id:"910aea77-e369-42e4-b9f6-1bf364c1c2b2",angleX:0,angleY:351,angleZ:0},{id:"bafecf6a-1ef9-4b9e-b863-a33b299e4ca3",angleX:16.2,angleY:236.52,angleZ:0},{id:"bef71fad-ae91-497d-9969-95597424551a",angleX:0,angleY:123.48,angleZ:0},{id:"7deca03d-bf24-4dcd-a916-d0adefc4f8ab",angleX:0,angleY:10.44,angleZ:0},{id:"e8e111a4-26e4-4708-bc1c-9a8e2d5ca334",angleX:0,angleY:68.76,angleZ:0},{id:"a522db07-460e-4fe5-a8a8-46be19ad25f3",angleX:349.2,angleY:88.2,angleZ:0},{id:"74445a2b-1ec2-4ee1-85e8-f7e796a436ab",angleX:0,angleY:0,angleZ:0},{id:"eb35b15d-df5b-4b47-86c5-7928794d280d",angleX:0,angleY:183.24,angleZ:349.2},{id:"6522c347-9ddf-43c1-8a0c-e803531dc626",angleX:0,angleY:29.16,angleZ:0},{id:"d0f4478e-72eb-4038-ab2b-7e4c11d194d6",angleX:0,angleY:87.12,angleZ:0},{id:"e8bdc348-f894-4be1-b369-041fdf782e19",angleX:0,angleY:68.76,angleZ:0},{id:"e479e06c-2008-484a-b4a7-e26ee3ce170c",angleX:0,angleY:224.64,angleZ:0},{id:"85e5f0c6-b4c1-4880-a338-167f31a62dd2",angleX:0,angleY:81,angleZ:0},{id:"0169db12-7b9f-4837-be47-92a4b1ca022c",angleX:0,angleY:0,angleZ:0},{id:"d134b448-477c-486e-a37a-7e3568d89a9e",angleX:0,angleY:333.72,angleZ:0},{id:"d595e049-58ca-40db-ac05-2ca68410b58b",angleX:345.24,angleY:90.36,angleZ:0},{id:"d135211f-6225-485d-b07b-02d43e4f92ce",angleX:0,angleY:336.96,angleZ:0},{id:"a79214de-8015-4a88-9687-6067b44d0454",angleX:0,angleY:170.64,angleZ:0},{id:"7e39156b-8340-4ccc-ac8f-db79f431167a",angleX:351.36,angleY:114.48,angleZ:349.2},{id:"b9def3bb-babb-47a4-8a21-23b1c6671928",angleX:0,angleY:302.4,angleZ:0},{id:"e35abee1-5e40-42ce-bb44-ba62aeb9aab3",angleX:0,angleY:293.4,angleZ:0},{id:"e687ee38-5263-47dc-91e8-50fdb9ec6ccd",angleX:0,angleY:37.08,angleZ:0},{id:"2836193e-7ee1-42ff-87df-78a938821d98",angleX:0,angleY:117.36,angleZ:0},{id:"223b753b-72ed-423b-a4c2-b69b6c7f2552",angleX:0,angleY:244.8,angleZ:0},{id:"ac782da0-e31e-475d-8045-1ca5b3d99eb3",angleX:0,angleY:120.96,angleZ:0},{id:"7a722d03-9277-4ab3-a9f0-96cb416e61a6",angleX:0,angleY:205.2,angleZ:0},{id:"326d0d41-9848-4628-9dab-5ea2b7823f1b",angleX:0,angleY:7.92,angleZ:0},{id:"a0ce5f4e-f0e2-4461-a0e9-29833bb65f5c",angleX:0,angleY:54.72,angleZ:0},{id:"4d73daff-75bb-42b8-be1a-e081561719d4",angleX:4.68,angleY:191.88,angleZ:0},{id:"a1cc3942-f584-419c-a2e9-d55496c370df",angleX:0,angleY:46.44,angleZ:0},{id:"1d09b7bd-e3d3-43f9-b8ef-fe0f26287879",angleX:0,angleY:342.36,angleZ:0},{id:"4c705ddb-cde8-4453-b066-9d078feb6365",angleX:0,angleY:311.4,angleZ:5.4},{id:"78a98b0e-c44d-4cba-ac8b-7427287f1565",angleX:0,angleY:0,angleZ:0},{id:"3a9ddf7f-73b4-48d1-bc0b-ac3eab562da2",angleX:351.36,angleY:14.76,angleZ:3.24},{id:"85d9257e-07c3-43a5-9b3e-0488404e1815",angleX:0,angleY:50.4,angleZ:0},{id:"31222481-5997-4f1e-9120-b417336352a0",angleX:0,angleY:19.44,angleZ:0},{id:"fe8a04b3-c467-4d28-8166-42de1b8ba3a9",angleX:0,angleY:315.36,angleZ:0},{id:"edc8e738-9733-42d5-9213-5fb93e913ff7",angleX:0,angleY:333.36,angleZ:0},{id:"d2382ee0-2975-4bf9-8820-bd742c1d9d99",angleX:0,angleY:346.68,angleZ:0},{id:"0689098e-f506-4966-8956-30534c424335",angleX:0,angleY:22.68,angleZ:0},{id:"594595a0-cec9-4d15-9411-e5f122e51f4f",angleX:0,angleY:226.44,angleZ:0},{id:"31512da1-7d0d-4bda-8a96-a5ca2aa240cd",angleX:0,angleY:147.6,angleZ:0},{id:"8cb91acf-fc4c-44c0-89c6-99929170135c",angleX:0,angleY:11.88,angleZ:0},{id:"ce3a25b4-2707-442f-a4ab-00cf788c06a7",angleX:0,angleY:247.68,angleZ:0},{id:"ea8f2bae-2a4a-4c40-8984-a19874608a13",angleX:0,angleY:7.92,angleZ:0},{id:"6e06943c-dde7-4cd0-bb91-9d999a394dac",angleX:0,angleY:90,angleZ:0},{id:"1136a825-2a6b-4ad8-820f-322ca7ee15fc",angleX:0,angleY:0,angleZ:0},{id:"b20c67e1-db2e-471b-bbcc-e30aeaa6ccdc",angleX:0,angleY:171.72,angleZ:0},{id:"da8976f0-526f-4628-b1e2-a3fcc869ec47",angleX:0,angleY:50.4,angleZ:0},{id:"7fa12fa9-8ea7-4a5e-bd59-e2429cb8ffc9",angleX:0,angleY:44.28,angleZ:0},{id:"f9144b1d-7b78-461e-a060-c468a55d88cf",angleX:0,angleY:94.68,angleZ:0},{id:"53b0f7da-5877-4411-9ff1-15dd78b23b3a",angleX:0,angleY:28.08,angleZ:0},{id:"e5435b9d-37a0-487c-b2bd-b6d1ff3dc958",angleX:0,angleY:160.92,angleZ:0},{id:"975fcd65-7f28-42d8-80c3-98852827d13e",angleX:0,angleY:28.44,angleZ:0},{id:"e8940989-07c6-4d41-bc07-c3e4ff6ccd3f",angleX:0,angleY:50.4,angleZ:0},{id:"1475c4fb-5988-4d8e-9722-5efeb59cdbec",angleX:0,angleY:222.84,angleZ:0},{id:"f036380d-5938-4aa7-8d4e-227cafe1a46f",angleX:0,angleY:236.16,angleZ:0},{id:"1c1d76af-ab6c-4f9a-ab5f-adc54f17edb4",angleX:0,angleY:0,angleZ:0},{id:"9b46b9b2-f339-45c8-9388-cbd5c63b0634",angleX:0,angleY:20.16,angleZ:0},{id:"ed4f8a25-33f9-4fbf-b885-e2f88b9ac632",angleX:0,angleY:178.56,angleZ:0},{id:"ef2965bc-be4c-4b60-acbb-e7c8082a1c30",angleX:0,angleY:19.44,angleZ:0},{id:"683b9e01-0c7d-4c18-aead-afba5ed9be41",angleX:0,angleY:76.68,angleZ:0},{id:"31968008-d7df-4065-9c7e-7725ba971c94",angleX:0,angleY:145.44,angleZ:0},{id:"7336a149-de77-471f-b21b-2f0239022886",angleX:0,angleY:37.08,angleZ:0},{id:"5ff11ab1-4c28-43b0-b886-29a7e1548b8d",angleX:0,angleY:64.8,angleZ:0},{id:"99fd4c96-10e6-49af-95fd-6f973f72681b",angleX:0,angleY:32.4,angleZ:0},{id:"06d7caca-9189-469f-9c7f-f37f39fa8f51",angleX:0,angleY:205.92,angleZ:0},{id:"a3927682-951f-4a44-8e61-d2eab672d59d",angleX:0,angleY:28.44,angleZ:0},{id:"ace8972d-1d68-4216-a4e2-ba673f6d5587",angleX:12.24,angleY:157.68,angleZ:0},{id:"1edd1b86-95f0-45cc-91f7-f1fa2d8380d0",angleX:0,angleY:346.68,angleZ:0},{id:"01271345-58bd-473f-b23b-be9d27c43932",angleX:0,angleY:14.04,angleZ:0},{id:"a087c253-319c-42a9-8e23-70383a0d3bf8",angleX:0,angleY:0,angleZ:0},{id:"67b25f87-61fd-40ee-a613-980ce7fb78f0",angleX:16.2,angleY:224.28,angleZ:0},{id:"ac8c9f39-29d1-4a1a-8ee5-b698fb61fbac",angleX:0,angleY:333.36,angleZ:0},{id:"24b39b48-0725-4048-b5bb-1911800c5865",angleX:0,angleY:0,angleZ:0},{id:"e4dc65a2-3b81-46bc-8dd2-9ec7797a3895",angleX:0,angleY:0,angleZ:0},{id:"63e5a4a1-0e19-4312-b449-c2706e65315b",angleX:341.64,angleY:19.44,angleZ:349.92},{id:"dc16d298-7da1-4357-95de-64c68178d65b",angleX:0,angleY:50.4,angleZ:0},{id:"d7acd25b-4b46-4fad-9863-41c70f62c9cc",angleX:353.16,angleY:28.08,angleZ:0},{id:"61ac4a60-ffc2-458a-9641-c4bee7dffbcb",angleX:0,angleY:0,angleZ:0},{id:"12ed5b78-44b8-4021-9beb-6f6b6beb4bc3",angleX:0,angleY:315.72,angleZ:0},{id:"da2803b7-828e-4302-9ed0-e0e235c28f0f",angleX:0,angleY:54.72,angleZ:0},{id:"856ef524-c08b-4fae-969e-e39528bd133a",angleX:0,angleY:0,angleZ:0},{id:"51f6faa5-800f-44e0-ad4b-61888aa3c122",angleX:0,angleY:58.68,angleZ:0},{id:"622a48cf-a1c2-4b09-94e5-ef1e14ca558f",angleX:0,angleY:196.2,angleZ:0},{id:"1a73bf99-9eb2-4b6d-a5c3-228e618239e2",angleX:0,angleY:324.72,angleZ:0},{id:"8a668232-6c14-4d7b-90b1-0c834b1629b3",angleX:0,angleY:99,angleZ:0},{id:"91cfba49-43e4-4c49-b859-a84b4c283cd2",angleX:0,angleY:206.28,angleZ:0},{id:"e51ef9f0-b844-4795-8376-bab6e57b477a",angleX:0,angleY:0,angleZ:0},{id:"12c3feed-d255-4aa9-bd9b-b305ed4248e1",angleX:0,angleY:32.4,angleZ:0},{id:"231e4f7d-1aae-47f2-9d82-7e8a873a3df4",angleX:0,angleY:41.4,angleZ:0},{id:"44a67a24-a31d-43b4-b5a0-c9d98f291965",angleX:0,angleY:279,angleZ:0},{id:"c4bd0c8a-6e96-4e37-9db8-b1fe65b51d2c",angleX:0,angleY:208.08,angleZ:0},{id:"b36f09c7-5648-42ec-86a5-a62de7bea673",angleX:349.2,angleY:114.48,angleZ:345.24},{id:"715dba68-9788-4f8c-8a9f-bdeb56c96bb1",angleX:349.2,angleY:98.28,angleZ:0},{id:"bda6aa3f-c55a-4fab-8b01-90a3fa497fb5",angleX:0,angleY:0,angleZ:0},{id:"64a8ca70-c167-453b-bb42-43774422538b",angleX:0,angleY:303.48,angleZ:0},{id:"f1a0215a-ddca-4bc0-af7c-77cc7fc3a9b8",angleX:0,angleY:0,angleZ:0},{id:"78471a59-4c3b-4a24-add0-dd2207e43952",angleX:0,angleY:74.88,angleZ:0},{id:"fa7bcc77-090c-4ac6-9044-c704f45d3fc4",angleX:0,angleY:0,angleZ:0},{id:"583798e3-aed0-4591-9696-7019284c3789",angleX:0,angleY:228.6,angleZ:0},{id:"cbfa771c-efc0-4dac-bd95-dd44645da9a6",angleX:0,angleY:0,angleZ:0},{id:"a0fa708b-29d6-408b-b05d-d2cc836eb01d",angleX:0,angleY:0,angleZ:0},{id:"9ac9a748-ea80-438e-8519-cfd395cf451d",angleX:0,angleY:222.48,angleZ:0},{id:"9ee50019-6791-419d-95a2-8bcdd99e8d3d",angleX:0,angleY:0,angleZ:0},{id:"71eed1ac-15b7-4ec2-95de-e7ad1e454bfd",angleX:349.2,angleY:78.12,angleZ:0},{id:"d88ec09a-fc64-4397-9c1f-1ceb9550c6f8",angleX:360,angleY:144.72,angleZ:345.24},{id:"faa6dfa7-0ece-4627-9cef-28bbae6b2a4f",angleX:18.36,angleY:244.8,angleZ:0},{id:"01361d02-745c-4e9a-a047-8730dc82a5be",angleX:0,angleY:36.36,angleZ:0},{id:"2050c1d9-7ba2-4e28-9aef-482a71e44f42",angleX:0,angleY:32.4,angleZ:0},{id:"3d3799f0-c7b9-4c26-9352-7cd92136f4eb",angleX:0,angleY:151.92,angleZ:0},{id:"c70b3407-8d39-4b04-b82d-517819cfd6e0",angleX:0,angleY:194.04,angleZ:0},{id:"c4b6997e-2e51-430c-8d3b-c3d0f21b3235",angleX:0,angleY:216.36,angleZ:0},{id:"fc829010-9584-4ae6-974c-82504709cccd",angleX:0,angleY:0,angleZ:0},{id:"41bcdc24-11f5-43a3-ba4a-0a8284e06376",angleX:0,angleY:0,angleZ:0},{id:"588f0755-6068-40d2-b895-39f3aae93a88",angleX:6.12,angleY:176.04,angleZ:343.8},{id:"70a6a957-bc0c-4c11-9819-4425fadb9791",angleX:0,angleY:81.36,angleZ:0},{id:"8ca98519-82b3-4ed1-87f2-4f10ca551a16",angleX:0,angleY:129.96,angleZ:0},{id:"c5c5fcaf-59a9-4ff6-bffb-7065ebca3148",angleX:0,angleY:0,angleZ:0},{id:"97586e39-037f-4fc8-ab00-77c0162c6ccb",angleX:173.88,angleY:121.32,angleZ:186.12},{id:"195f040b-77f0-439e-8048-f6f0cdf39036",angleX:0,angleY:90,angleZ:0},{id:"d0a13f8d-4abc-449f-b531-f1b65d7ed240",angleX:0,angleY:32.4,angleZ:0},{id:"fac1230b-390a-43fa-893b-780b07b79ed5",angleX:0,angleY:50.4,angleZ:0},{id:"c6f0f40f-d8a9-466d-a4c3-9c961debf457",angleX:0,angleY:338.04,angleZ:0},{id:"fb12c993-7ccb-403d-b688-265253e0b36a",angleX:0,angleY:28.08,angleZ:11.52},{id:"62deb07b-42d0-419a-8789-00136ea65f9c",angleX:0,angleY:240.48,angleZ:0},{id:"b4f1d2b9-b789-4681-8277-e56e1ced0a8f",angleX:0,angleY:0,angleZ:0},{id:"1942ca48-022f-4dc2-8387-3ce45c6ab5e9",angleX:12.24,angleY:236.52,angleZ:0},{id:"c3baa3f8-b39c-49de-a7b3-e140796477e7",angleX:353.16,angleY:45.72,angleZ:349.2},{id:"1f8b12b6-4345-4a9d-b9ff-7220aecfeea3",angleX:0,angleY:328.68,angleZ:0},{id:"b68270a6-0838-4452-b80c-df9571b999af",angleX:347.04,angleY:45.72,angleZ:353.16},{id:"a1298a00-f0a9-499f-a3f3-5fc7b7eb81da",angleX:0,angleY:302.4,angleZ:0},{id:"b3850a2b-81bd-412e-a0ca-7d0c5f46472e",angleX:0,angleY:3.96,angleZ:0},{id:"a9f5b418-ac6b-4991-bf30-aa9199844b97",angleX:0,angleY:351,angleZ:0},{id:"1ae51f92-3bbc-4633-944a-ba0b0a92fda3",angleX:355.68,angleY:28.08,angleZ:14.76},{id:"b4254232-91b6-475b-a62b-ec4826beefca",angleX:0,angleY:50.4,angleZ:0},{id:"f2e782ef-1e48-4869-9ca5-84c9ef90a83f",angleX:0,angleY:18.72,angleZ:0},{id:"e89486c7-2b5c-4818-ba19-8c6e1f440e16",angleX:0,angleY:226.44,angleZ:0},{id:"d09f0e9a-e4f8-4b94-b52e-36315da41f61",angleX:0,angleY:151.92,angleZ:0},{id:"fc0c6d77-2e00-416d-b0ae-b0fc5bdeb152",angleX:0,angleY:30.24,angleZ:0},{id:"068f7e8f-5f93-492f-b56a-3df3f34699b6",angleX:0,angleY:147.6,angleZ:0},{id:"962bc41e-8c73-4e48-bcb2-ef9017989360",angleX:349.2,angleY:25.56,angleZ:0},{id:"c82c4026-97bd-4d8a-8046-e12b6105ee01",angleX:0,angleY:324.72,angleZ:0},{id:"7d5dd334-7289-4558-b6d9-a06000266ca9",angleX:0,angleY:70.2,angleZ:0},{id:"d0c36669-654f-47c0-8328-1ba59e355ddc",angleX:0,angleY:288.36,angleZ:0},{id:"51d0b70f-c129-49f5-af5b-235a8361e485",angleX:0,angleY:165.24,angleZ:0},{id:"63f7ddea-2d54-4f29-85c5-559e5f666271",angleX:0,angleY:34.2,angleZ:0},{id:"43b155b2-c61d-45bc-9bc3-ea4abcbf02a6",angleX:0,angleY:174.24,angleZ:0},{id:"5dfc44b6-151e-495b-bf7b-9f4a9e46c3e4",angleX:0,angleY:202.32,angleZ:0},{id:"563cef06-c793-4536-8ec6-2e115b47fca1",angleX:0,angleY:20.88,angleZ:0},{id:"9529b440-0715-41fb-bb72-3c4bdd515447",angleX:0,angleY:54.72,angleZ:0},{id:"712bef4b-4914-4865-9c00-ae0694e51a0c",angleX:0,angleY:76.68,angleZ:0},{id:"0dd45b56-d274-45b6-9645-7ef09649d82d",angleX:0,angleY:338.04,angleZ:0},{id:"a0a2b1ad-79e6-4f48-853d-a7d238f8910e",angleX:0,angleY:32.4,angleZ:0},{id:"f411cb6d-0047-4947-bfc7-ccc9b67b40a0",angleX:0,angleY:14.04,angleZ:0},{id:"8f996a2a-bfce-4890-8319-98d0f575e181",angleX:0,angleY:338.04,angleZ:0},{id:"a380b961-ada7-446a-9ac3-4a6c50575f37",angleX:0,angleY:299.52,angleZ:0},{id:"032d41c6-b547-4e36-9be5-ebe73afd6c08",angleX:0,angleY:59.04,angleZ:0},{id:"3fee900b-4aed-49b8-aabb-a2c7bbc1a682",angleX:0,angleY:249.48,angleZ:0},{id:"ce82837f-c800-417b-a9d3-0a7dc8a54a58",angleX:0,angleY:341.64,angleZ:0},{id:"db5b590b-610e-4cee-ad40-30c237c69162",angleX:10.08,angleY:246.6,angleZ:0},{id:"99379a26-5e4f-4aa8-9091-e4b9bb2321bf",angleX:342.36,angleY:45.72,angleZ:0},{id:"c6aff4d5-cb14-4972-a278-51148ac01b3c",angleX:0,angleY:333.36,angleZ:0},{id:"f4ee80ef-1e60-4d9b-8ffb-8132bab84f60",angleX:0,angleY:335.16,angleZ:0},{id:"1eff1d82-5293-4d7f-bf64-b92c9190c214",angleX:0,angleY:32.4,angleZ:0},{id:"0aaa6e9f-d526-441f-8c84-d782c21ef7b5",angleX:0,angleY:0,angleZ:0},{id:"69f80a6e-a01e-49e8-b876-337ebef78b4d",angleX:0,angleY:35.64,angleZ:0},{id:"c445d9ef-460b-4a15-b519-d1480e76e5fd",angleX:0,angleY:138.6,angleZ:0},{id:"e4cce027-b9d5-4715-9455-c583fadb2c63",angleX:0,angleY:32.4,angleZ:0},{id:"d4329668-d86e-4bac-9d8e-413bc20c2b37",angleX:0,angleY:22.68,angleZ:0},{id:"34f20d32-b315-421c-88dc-3072b836dfe3",angleX:0,angleY:94.68,angleZ:0},{id:"0c9b4b83-8a1c-4938-91d3-23c94cdb9487",angleX:10.44,angleY:197.64,angleZ:341.28},{id:"06e4e24c-60d0-417e-b2ff-7f703836d0ac",angleX:0,angleY:238.68,angleZ:0},{id:"8b28fd1d-ac25-485a-b570-e1273dd451d8",angleX:0,angleY:0,angleZ:0},{id:"c03314ec-8e70-4b44-a459-17a9fff7d5ee",angleX:0,angleY:214.2,angleZ:0},{id:"973446b0-b2ee-46d7-9619-75f8c3d8b87e",angleX:0,angleY:120.96,angleZ:0},{id:"db6310f4-be11-4b24-a72a-5d0519a8b4bd",angleX:353.88,angleY:57.96,angleZ:0},{id:"85918fec-a579-4f06-9847-9f18a7db7775",angleX:18.36,angleY:234.72,angleZ:0},{id:"cbbd571b-a81d-4989-a5ed-54580847d302",angleX:0,angleY:50.4,angleZ:0},{id:"405c9f14-1ae5-415f-936b-ff063c47b518",angleX:351.36,angleY:130.68,angleZ:347.04},{id:"7b0105c4-0009-4037-9616-55e933c66a7b",angleX:353.16,angleY:88.2,angleZ:0},{id:"db5b5cdb-b71b-4a1a-8b44-8ce1869516dd",angleX:0,angleY:0,angleZ:0},{id:"76232003-917d-4ca0-9f22-a11a7a90121e",angleX:0,angleY:0,angleZ:0},{id:"294fa545-49bb-41ff-b26f-d30717588771",angleX:0,angleY:213.12,angleZ:0},{id:"e726ff05-2df8-48e7-8ceb-e24ab2d053ab",angleX:0,angleY:181.08,angleZ:0},{id:"356378ec-da9b-41ab-bd5f-cf64a07265d0",angleX:0,angleY:0,angleZ:0},{id:"55a34cc2-3172-4d25-8dbe-85b9c0886d96",angleX:0,angleY:238.68,angleZ:0},{id:"93e8a299-8d20-4309-ae8a-08de47d82225",angleX:0,angleY:84.96,angleZ:0},{id:"6ddc822d-13d1-4d2c-81ef-7d40c692a96e",angleX:0,angleY:0,angleZ:0},{id:"10362f0a-24ef-445d-85df-89dd4bbef96b",angleX:0,angleY:0,angleZ:0},{id:"0cff9dd4-2732-4a5c-ab8f-d73239959f21",angleX:0,angleY:119.16,angleZ:0},{id:"d392268c-9dfa-4bad-bd1c-dc5fd7dc66bf",angleX:0,angleY:0,angleZ:0},{id:"1f9567ed-cf5f-45d6-8436-ddb6d4df01fe",angleX:0,angleY:190.08,angleZ:0},{id:"b41b2e99-c591-42a0-a6fe-8d5a1a3997c5",angleX:14.04,angleY:252.72,angleZ:0},{id:"8a133f62-f50c-491e-a4f2-8236e1b843d3",angleX:353.16,angleY:128.88,angleZ:345.24},{id:"727d3d36-bfe2-4e06-9ce9-c10cea33ab67",angleX:0,angleY:198,angleZ:0},{id:"cf138767-03b4-4850-a59c-48b79fdc1e9e",angleX:0,angleY:151.92,angleZ:0},{id:"09598874-1f95-45a7-b5cb-58b4a4a2e977",angleX:6.12,angleY:186.12,angleZ:343.8},{id:"2f248dc8-ef52-4b1a-bccf-60c6fd2c2d56",angleX:0,angleY:326.52,angleZ:0},{id:"df54d410-c813-40a9-a92b-0f648c889502",angleX:0,angleY:319.68,angleZ:0},{id:"ebf45388-b5ea-42db-8a97-e066f113fa64",angleX:0,angleY:189.36,angleZ:0},{id:"0aa24c92-ac2e-4c93-9654-9f04152ca2d1",angleX:0,angleY:20.16,angleZ:0},{id:"598a3219-5b81-4de7-8966-6717ea360883",angleX:0,angleY:346.68,angleZ:0},{id:"01f39cd6-73ed-4682-b897-95ef88ca6fe1",angleX:0,angleY:116.64,angleZ:0},{id:"92540fda-4a4b-4a2d-aefa-833a5003975c",angleX:0,angleY:23.76,angleZ:0},{id:"2b374b5f-db9e-4c62-a814-e8c3bf802a0b",angleX:0,angleY:54.72,angleZ:0},{id:"da8766c4-9ba2-4802-8a01-4ae9ce8cd2d3",angleX:0,angleY:28.08,angleZ:0},{id:"e5c249ba-eb05-47b1-ab82-2618c3be256c",angleX:18.36,angleY:234.72,angleZ:0},{id:"24efbcaf-8c1f-41e4-865a-6c28f33a01d3",angleX:0,angleY:325.44,angleZ:0},{id:"871c4279-3526-4344-8a61-404ac2555490",angleX:0,angleY:279,angleZ:0},{id:"488af31c-5114-485c-94c8-5ea98eca3b82",angleX:346.68,angleY:23.76,angleZ:7.56},{id:"4a8299a5-6aab-43a4-b5bc-94cf225128aa",angleX:0,angleY:72.36,angleZ:0},{id:"d3ec7a23-6aa1-4156-b430-7bfa0de3648d",angleX:16.2,angleY:226.44,angleZ:0},{id:"f4607ee2-3261-4205-bad0-1a25887c0b71",angleX:0,angleY:297.36,angleZ:0},{id:"f99e35d3-48f7-4cfe-b322-2a91dbe8b0f3",angleX:0,angleY:353.88,angleZ:0},{id:"2aecb14b-f79a-4db0-9e68-9e414cd2470a",angleX:0,angleY:178.56,angleZ:0},{id:"f3a5ad8b-bc49-496a-9568-459423936e6e",angleX:0,angleY:32.4,angleZ:0},{id:"404deb90-80e9-41ce-856c-0555abad1956",angleX:0,angleY:35.28,angleZ:0},{id:"9deb4cf3-26fa-4f4d-9386-3d06a7a11c8a",angleX:349.2,angleY:244.8,angleZ:355.32},{id:"b6392cb0-f41e-413e-9e31-8db26983c6c2",angleX:0,angleY:112.32,angleZ:0},{id:"7b7e482f-b2db-4019-971e-092a6cb81068",angleX:353.88,angleY:62.28,angleZ:4.32},{id:"f8dd09a1-64c2-4188-b94c-32371da0a415",angleX:0,angleY:39.6,angleZ:0},{id:"6131c81d-91ff-412b-baec-8db09d924095",angleX:0,angleY:151.92,angleZ:0},{id:"19957077-2d7b-4547-a16c-26ec6860b2bb",angleX:0,angleY:125.64,angleZ:0},{id:"f08cacef-a65d-440a-aa9d-5f9ca7ec382f",angleX:0,angleY:315.36,angleZ:0},{id:"28e34c1a-a0c3-462a-adb9-31fc629eb43b",angleX:0,angleY:342.36,angleZ:0},{id:"a697322e-0504-4fd7-960c-2a62c9912ace",angleX:0,angleY:249.48,angleZ:0},{id:"79905f23-17a7-4014-a9c2-2b2891c9f539",angleX:0,angleY:290.52,angleZ:0},{id:"8ecef742-ad5b-41dd-a3a0-22b72e92640d",angleX:0,angleY:143.28,angleZ:0},{id:"bdcc3a3b-8810-48f9-b474-697ff2a4f840",angleX:0,angleY:182.88,angleZ:0},{id:"15449e18-6813-4d5c-b3c5-f891d460f2da",angleX:0,angleY:39.6,angleZ:0},{id:"7015f3db-75e6-497f-8207-41e0e314bdb3",angleX:0,angleY:156.6,angleZ:0},{id:"5ab40743-c5fc-4d21-b884-dcc9d5fbd1ed",angleX:0,angleY:78.84,angleZ:0},{id:"1ba02941-19ae-4a27-b5e1-ebdb53118d63",angleX:0,angleY:102.96,angleZ:0},{id:"e9aefd75-d134-43aa-a9be-b0e45c9500fa",angleX:0,angleY:23.76,angleZ:0},{id:"eb2eaba6-87b7-46bb-9b91-de7dd61f42a3",angleX:0,angleY:37.08,angleZ:0},{id:"490d89b8-88f8-4c79-94c2-b65f64e38be0",angleX:0,angleY:59.04,angleZ:0},{id:"ae69474f-f078-4316-8dae-088668b5b58d",angleX:0,angleY:187.56,angleZ:0},{id:"cc8d2f40-3316-40e0-ab18-a0ece7b31635",angleX:0,angleY:341.64,angleZ:0},{id:"790a4448-bc92-4bf4-8924-cfd8cd6fd59a",angleX:0,angleY:297.36,angleZ:0},{id:"9646e4cd-b143-442f-8448-8b61b093d2d3",angleX:16.2,angleY:176.04,angleZ:0},{id:"8ee31e23-5e40-4a77-a63c-fcf8431f092e",angleX:5.4,angleY:249.48,angleZ:355.32},{id:"a9ef9d47-9616-4982-9fc2-65520c2cf31b",angleX:0,angleY:63.36,angleZ:0},{id:"8045a611-dbb0-4d9d-af87-57eeb3e18e00",angleX:0,angleY:314.28,angleZ:0},{id:"985daecb-9aba-4375-8171-1de7324cbf3f",angleX:0,angleY:0,angleZ:0},{id:"2c770943-a210-4562-83df-0970055c2191",angleX:12.6,angleY:242.64,angleZ:0},{id:"40e284e9-ad5b-4fd4-9946-5976f9e8d28b",angleX:0,angleY:337.68,angleZ:0},{id:"160b0e27-fdd1-4634-84a6-d8f0d4d85db8",angleX:0,angleY:0,angleZ:0},{id:"454524a9-a7ca-487f-90ea-b843398ddbba",angleX:0,angleY:68.04,angleZ:0},{id:"c442cfc6-efce-4d2d-bf61-33ea041e0131",angleX:351.36,angleY:35.64,angleZ:0},{id:"f70e4db3-d3e7-4fc2-9803-bab72bf227ec",angleX:0,angleY:143.28,angleZ:0},{id:"3eda3dfe-cd97-4999-9d32-8a95b6800f3b",angleX:0,angleY:336.96,angleZ:0},{id:"6ecad57f-6553-4d86-9397-899b66334ce3",angleX:0,angleY:48.6,angleZ:0},{id:"2af5a053-3c57-4f09-b7f6-fc821685b83d",angleX:0,angleY:335.88,angleZ:0},{id:"02ec175d-e0d2-466c-8966-62f639dfceb2",angleX:0,angleY:108,angleZ:0},{id:"95e79626-e8c9-4926-80b6-5278d6d99b55",angleX:18.36,angleY:194.04,angleZ:356.04},{id:"3eb6481b-4b12-4fb1-a1ad-5e8c51535636",angleX:0,angleY:18.72,angleZ:0},{id:"b3cfe487-e614-4780-8aaa-60315e29a8da",angleX:10.44,angleY:72.36,angleZ:0},{id:"064e98b6-d554-45cc-ae93-55161a2c4ec9",angleX:0,angleY:194.04,angleZ:0},{id:"2c270ffa-0b58-474e-923b-7fc9454e85bd",angleX:353.16,angleY:118.44,angleZ:351.36},{id:"eaade75f-5546-4bdc-a9a6-b6d045629b6f",angleX:10.08,angleY:222.48,angleZ:0},{id:"03a875aa-66bb-4662-843b-ca4c1e0d56f1",angleX:0,angleY:193.32,angleZ:0},{id:"570572c3-6ce8-43ae-9c21-7b3a8a50d09e",angleX:0,angleY:94.68,angleZ:0},{id:"abfd0b5e-7755-40a1-be63-9999d4bf9902",angleX:0,angleY:0,angleZ:0},{id:"e19ed42a-285a-4b21-8f69-ce8c726878a0",angleX:0,angleY:119.16,angleZ:0},{id:"d2702623-c013-4fcc-8422-f93acf9b03dd",angleX:0,angleY:237.24,angleZ:0},{id:"086daa65-ce28-4d21-9229-561d5ee1f209",angleX:0,angleY:0,angleZ:0},{id:"250067b0-8ba7-40ad-848c-97116efe1611",angleX:0,angleY:86.76,angleZ:0},{id:"96148705-da01-4cd7-8f74-b0f758104a9e",angleX:0,angleY:76.68,angleZ:0},{id:"add4c811-60b6-4efc-b518-dea10d230419",angleX:0,angleY:64.44,angleZ:0},{id:"479137ed-bac4-4d0e-ad5c-5b4dee9add7d",angleX:0,angleY:0,angleZ:0},{id:"01ae8d6d-815c-4b47-92f5-2a59606008f4",angleX:0,angleY:208.8,angleZ:0},{id:"16fef51d-6254-4a9a-ac89-6129240bbd8d",angleX:0,angleY:186.12,angleZ:0},{id:"c8ffb6ca-4939-4a92-8332-827d859f3218",angleX:0,angleY:0,angleZ:0},{id:"e7cdba12-1f38-4cf7-adb7-04c0869ccd10",angleX:0,angleY:165.24,angleZ:0},{id:"90bea81b-96ec-46cf-a2c3-5f17b2080d11",angleX:0,angleY:7.92,angleZ:0},{id:"25384263-ba3d-449b-99eb-bf1267721af1",angleX:14.4,angleY:244.8,angleZ:0},{id:"4ceac926-7c78-44af-841c-b5eeb300a10c",angleX:19.44,angleY:264.24,angleZ:360},{id:"079e080a-b68b-4091-8d42-d547a4831123",angleX:0,angleY:103.32,angleZ:0},{id:"d9d07f77-b496-4332-8ea7-8f46e86cc60e",angleX:0,angleY:0,angleZ:0},{id:"eea058b4-250e-45ef-987c-2f5c52a9b27c",angleX:0,angleY:94.68,angleZ:0},{id:"97d910bb-d8a9-4069-b672-01efda751675",angleX:0,angleY:0,angleZ:0},{id:"ea70e8fd-d0ea-4540-ba5b-4a6914ed48e7",angleX:0,angleY:127.44,angleZ:0},{id:"900bfa65-5a78-4a72-acbe-972d52265c88",angleX:0,angleY:196.2,angleZ:0},{id:"b65c35b0-1c4d-45eb-af69-7f8dd532addb",angleX:0,angleY:333.36,angleZ:0},{id:"89cf4c5b-5def-4519-af5c-0edc8f0dc718",angleX:0,angleY:45.72,angleZ:0},{id:"0957ddd1-c390-46c4-9c62-700a0f0a2594",angleX:355.68,angleY:28.08,angleZ:0},{id:"581f103b-d48a-44fa-bc20-c2ca56edfad2",angleX:0,angleY:0,angleZ:0},{id:"19f651ba-f22c-4b23-985f-fd3a613d0f45",angleX:353.16,angleY:50.4,angleZ:347.04},{id:"75d13f51-2991-4073-8be1-1984b8ff8ffa",angleX:12.24,angleY:244.8,angleZ:0},{id:"46538cfb-2674-49a6-a7ef-d19e75bbce68",angleX:1.44,angleY:253.8,angleZ:10.44},{id:"0936f9d4-44a5-4023-bfd2-baabef3058b4",angleX:0,angleY:261,angleZ:0},{id:"cb769bd5-4972-45bb-97c1-989bedd259f3",angleX:10.08,angleY:258.84,angleZ:0},{id:"e564e77f-e329-4442-8ad0-f9551df4327a",angleX:6.12,angleY:242.64,angleZ:4.32},{id:"9d58b5be-8cf8-4169-8192-fc69ed4b111a",angleX:0,angleY:309.6,angleZ:0},{id:"ba44a2c4-7d17-4dac-bd4b-616e836cbf38",angleX:0,angleY:301.68,angleZ:0},{id:"f357a9ef-1bb4-4a28-a8df-50f59933f049",angleX:0,angleY:268.92,angleZ:0},{id:"5d8c8566-a9ee-4023-9e0c-cb5ecf0f6955",angleX:0,angleY:216.36,angleZ:0},{id:"1678d4a3-4f2c-45ba-88e7-bdc2243a0c73",angleX:0,angleY:68.04,angleZ:0},{id:"e7898d33-7209-4faf-9798-3bc4f056e648",angleX:0,angleY:30.24,angleZ:0},{id:"1d4de285-7442-42c7-bfaa-75fa448490b2",angleX:346.68,angleY:37.08,angleZ:10.44},{id:"ea7d9e53-a78d-40d0-a9b2-cef68498ca83",angleX:0,angleY:164.52,angleZ:0},{id:"52b33d61-e205-4adf-9378-6ed1371ca164",angleX:0,angleY:95.4,angleZ:0},{id:"64d00d9a-1c24-45f0-8a93-40bd14a3a111",angleX:0,angleY:213.84,angleZ:0},{id:"fc3c4cd9-c4db-4943-beea-4e6e76e7b1b7",angleX:0,angleY:329.04,angleZ:0},{id:"0d7601b4-0854-41a9-97fe-415c507c8895",angleX:0,angleY:10.44,angleZ:12.24},{id:"0dcc47f3-00ca-4ef0-9288-624aa91655cd",angleX:0,angleY:319.68,angleZ:0},{id:"13084852-6d40-44db-a7f2-d5a664b0499a",angleX:0,angleY:0,angleZ:0},{id:"7f76b592-4b04-45b3-a948-75ff5c5684ff",angleX:0,angleY:134.28,angleZ:0},{id:"d6bfca4d-6a23-42c1-b870-76e36788ac17",angleX:0,angleY:85.68,angleZ:0},{id:"0caae85e-22d3-4855-9ee4-a7843d1ad3a8",angleX:0,angleY:94.68,angleZ:0},{id:"b3c97ccc-1d3c-410d-8e9f-3a2c1861e5c6",angleX:0,angleY:120.96,angleZ:0},{id:"d849782a-52b5-4790-b764-e2da3bf1d1db",angleX:0,angleY:26.28,angleZ:0},{id:"c24891f1-1a4a-4f69-8497-4a61e1dde0dd",angleX:0,angleY:311.4,angleZ:0},{id:"37e33026-02f2-4291-9471-0be244492b30",angleX:0,angleY:10.44,angleZ:0},{id:"28d2c83f-9aba-41c8-85e4-5abe6c55a17d",angleX:0,angleY:28.08,angleZ:0},{id:"3fd52295-9e73-474b-a00d-562e2185be65",angleX:0,angleY:143.64,angleZ:0},{id:"de57865b-6555-4767-a507-59d0be717da6",angleX:0,angleY:28.08,angleZ:0},{id:"440d1594-91d6-4bd4-8ff0-0f9131b3b689",angleX:0,angleY:200.88,angleZ:0},{id:"e250192d-4adf-4cf0-92a7-0c4f74554058",angleX:0,angleY:41.4,angleZ:0},{id:"d9842ef8-5215-4383-9f0d-a41cc4c901c2",angleX:0,angleY:0,angleZ:0},{id:"73039ff0-0b29-4935-958b-ab24f8f15575",angleX:0,angleY:30.24,angleZ:0},{id:"1b04f135-abe6-4ca4-b1ba-747d01375428",angleX:0,angleY:189.36,angleZ:0},{id:"fd2f949a-e2b9-4aae-9178-ae7ef971710c",angleX:0,angleY:279,angleZ:0},{id:"59d88a82-0325-48fe-8866-35110448d632",angleX:0,angleY:301.68,angleZ:0},{id:"09d099c6-5a2b-4be2-a11e-81e95f427811",angleX:10.08,angleY:267.48,angleZ:356.04},{id:"326d8ce8-8235-4058-b61d-5a34b3cd6ddb",angleX:0,angleY:7.92,angleZ:0},{id:"d3e7e2b7-a928-4db8-bdab-fcaee3d6f11c",angleX:0,angleY:0,angleZ:0},{id:"a632d569-06e4-4fc1-8b5d-030e6a078090",angleX:10.08,angleY:242.64,angleZ:0},{id:"7ac02166-ba9a-4db5-b6fd-0ca3658ab68e",angleX:6.12,angleY:227.16,angleZ:14.76},{id:"91f325d3-8f3c-4944-8c71-a6c03e1172b9",angleX:14.4,angleY:255.24,angleZ:0},{id:"5bdb47c1-8ee0-4929-b3e4-82ef8761c0e0",angleX:0,angleY:346.68,angleZ:0},{id:"1fafdf37-dcfa-4a83-a4a3-5b36cbde5950",angleX:0,angleY:41.4,angleZ:0},{id:"e3e39c8a-0dd9-4c78-904b-c500ec33e66e",angleX:349.2,angleY:19.44,angleZ:0},{id:"3e5c37e4-1475-4235-bea9-73c51f70fdfd",angleX:0,angleY:14.76,angleZ:0},{id:"9b17acd8-c770-41c2-968c-8f14614683bb",angleX:0,angleY:212.4,angleZ:0},{id:"e3fd14ea-b1af-4b98-89ce-303adacd9297",angleX:0,angleY:315.72,angleZ:0},{id:"ac6970eb-3c1c-4622-8268-b51786696700",angleX:0,angleY:322.56,angleZ:0},{id:"0fffc947-5b57-4166-8b50-0640cee93698",angleX:32.4,angleY:190.08,angleZ:0},{id:"31c3415f-f53f-400a-9a4f-c09f3be88838",angleX:0,angleY:116.64,angleZ:0},{id:"fdc0a9e6-c5b4-47f2-995e-49c4bf097e65",angleX:0,angleY:0,angleZ:0},{id:"95b29f80-cad2-4bcc-a2c9-40091e2154c5",angleX:0,angleY:103.32,angleZ:0},{id:"6492acb3-b9b9-41bb-bee4-a027ef89acdf",angleX:355.32,angleY:163.08,angleZ:340.92},{id:"ec36de4e-c36e-4a8d-8a0b-01fa1de04e15",angleX:9.72,angleY:196.2,angleZ:352.08},{id:"8718c06a-c2b8-48a2-b4bc-078f5c8a7adb",angleX:0,angleY:30.24,angleZ:0},{id:"7c0d3cb7-4b9b-45e4-8889-6a6d92ec46db",angleX:0,angleY:178.56,angleZ:0},{id:"1eed5111-9456-4508-8c8f-d58613a851c3",angleX:0,angleY:187.92,angleZ:0},{id:"1c3d4fb2-00fe-4b44-9a44-11de47fbd620",angleX:0,angleY:0,angleZ:0},{id:"3c1d3e71-1b1b-4210-a37a-11ce6770a32b",angleX:0,angleY:0,angleZ:0},{id:"6d041cdb-7116-49d0-94cd-86af6eb3551c",angleX:0,angleY:204.12,angleZ:0},{id:"0da0c6d3-b8b3-45bf-8995-ff81e60584ba",angleX:0,angleY:68.04,angleZ:0},{id:"62d9361d-5a31-4400-9f7a-dba0e3d96999",angleX:0,angleY:0,angleZ:0},{id:"2ac67b62-4e68-4518-afa9-43db5759575f",angleX:355.32,angleY:130.68,angleZ:351.36},{id:"ec92c206-e93f-4d46-a6fa-433b814a46e3",angleX:0,angleY:85.68,angleZ:0},{id:"beaacaf9-5b07-431c-855b-35b6750e8a7b",angleX:0,angleY:0,angleZ:0},{id:"ce635c73-de94-4cc5-819c-a2309b99d979",angleX:0,angleY:234.72,angleZ:0},{id:"9e14059d-6e21-46a4-9b5c-fb8a519695d9",angleX:0,angleY:230.76,angleZ:0},{id:"c1821505-60da-4729-a48b-f2d57e9184c8",angleX:0,angleY:0,angleZ:0},{id:"e05a0215-0025-4c34-9576-7fd1add32e78",angleX:0,angleY:40.32,angleZ:0},{id:"66ad565f-3706-43fc-a992-f0c3c4afe8e2",angleX:0,angleY:191.88,angleZ:0},{id:"e13e652b-74e7-49f7-83b4-6529bf209e0c",angleX:13.32,angleY:270.36,angleZ:0},{id:"17dcb546-a93e-4d1b-abfe-d3d3dab1898a",angleX:0,angleY:74.88,angleZ:0},{id:"cbedb471-5d14-4efb-881b-57e839913302",angleX:0,angleY:182.88,angleZ:0},{id:"36119856-baba-42a1-a6e7-9421bb12fe7d",angleX:0,angleY:317.52,angleZ:0},{id:"4d710085-c3e9-4fc8-a3a5-a33b814dc342",angleX:0,angleY:81.36,angleZ:0},{id:"248f4eb5-0b95-4a62-91d2-651aae0507c0",angleX:0,angleY:147.6,angleZ:0},{id:"552910d4-2ac8-401b-b75f-2d2226a23281",angleX:0,angleY:90,angleZ:0},{id:"6c02d004-3b86-4ab8-807f-528b4cad2966",angleX:0,angleY:0,angleZ:0},{id:"27961c34-d642-4568-9637-b7d28cc2fdc4",angleX:16.2,angleY:218.52,angleZ:0},{id:"2a4a6362-daae-4ccf-ad2c-6c10ab96c749",angleX:0,angleY:169.56,angleZ:0},{id:"d344be2c-1ab9-4c32-9495-e89f92253b6b",angleX:352.08,angleY:165.96,angleZ:339.84},{id:"3c9ca04c-3102-4849-a2ac-817675643440",angleX:0,angleY:0,angleZ:0},{id:"409c928d-5dc2-44f2-b6ce-6813f443852a",angleX:0,angleY:6.12,angleZ:0},{id:"f0d9a181-dd63-46a0-9efb-709d1f540727",angleX:0,angleY:10.44,angleZ:0},{id:"c47ea933-7680-4f85-8881-09e2e6c935b6",angleX:0,angleY:307.44,angleZ:0},{id:"aa88708a-7623-4bb2-9807-bb2667dd4838",angleX:0,angleY:262.8,angleZ:6.12},{id:"d95d7167-97ed-42e1-bd17-265697a85cf4",angleX:360,angleY:72.36,angleZ:351.36},{id:"5475123a-4688-4516-9a72-1f8cf0cd6d90",angleX:0,angleY:327.6,angleZ:0},{id:"c6392bf8-be5d-4cd8-b77c-94cd23934a7e",angleX:0,angleY:0,angleZ:0},{id:"0da8e4ee-1147-4142-b3af-d4f6ff8884ae",angleX:349.2,angleY:37.08,angleZ:345.24},{id:"a2a22118-c554-46b5-b12b-6e02c6ec60c7",angleX:10.08,angleY:206.28,angleZ:0},{id:"88a4ccdd-ec23-4b79-81cf-621acdbd3ad2",angleX:0,angleY:216.36,angleZ:0},{id:"aa2bbf5a-2485-4912-a053-af9aedda62df",angleX:0,angleY:272.88,angleZ:0},{id:"f21606f7-0079-4656-a32b-89a91b0d9b94",angleX:0,angleY:257.4,angleZ:0},{id:"ea7c5f14-b812-4a92-bcbb-a38c54194c1a",angleX:0,angleY:30.24,angleZ:0},{id:"dd102186-5c5c-4a83-8ddf-00620baa4c9b",angleX:0,angleY:19.44,angleZ:0},{id:"77dbcf3a-01e9-4c27-adf5-085759ff211f",angleX:0,angleY:14.76,angleZ:0},{id:"98136e5b-bd0a-4646-a637-e3b6f713b2e6",angleX:0,angleY:125.64,angleZ:0},{id:"e367a09f-02ef-4313-a581-73cf61671e27",angleX:0,angleY:191.88,angleZ:0},{id:"1114ce7d-edf3-486e-b8c0-e1f5bc53f83d",angleX:0,angleY:0,angleZ:0},{id:"dcafa112-7cfd-4c88-bc74-9702042131cd",angleX:0,angleY:12.24,angleZ:0},{id:"32003666-c74a-4055-b80a-89ae01551511",angleX:0,angleY:125.64,angleZ:0},{id:"1bf23852-c1e4-49c8-a452-a7f892dce048",angleX:0,angleY:76.68,angleZ:0},{id:"4ad84cd1-0d99-4f77-84ff-4d866fbbf995",angleX:0,angleY:62.64,angleZ:0},{id:"db112114-e2b9-440a-a052-df6c3957c8e9",angleX:0,angleY:68.76,angleZ:0},{id:"58fe7c62-a785-4d02-87a7-517cda89ae6b",angleX:0,angleY:103.32,angleZ:0},{id:"7a6bfaf2-4cb3-4122-ba5c-555d1c55d109",angleX:0,angleY:129.96,angleZ:0},{id:"8dfcf3eb-f10f-44c6-be20-ecb2267b9e2a",angleX:0,angleY:275.04,angleZ:0},{id:"9c7a29f0-3d6f-403e-98d3-2cbf14a9aeb5",angleX:0,angleY:22.32,angleZ:0},{id:"6864ad80-dbfd-4e20-b5c8-0ee0b5ecdd6a",angleX:0,angleY:200.88,angleZ:0},{id:"d186d50e-e703-4473-924c-89165e8fa613",angleX:0,angleY:23.76,angleZ:0},{id:"36865d32-6f56-422b-8950-1663a396f6ef",angleX:0,angleY:0,angleZ:0},{id:"772fed6e-5fec-4ed9-b2d9-2e08132db144",angleX:0,angleY:0,angleZ:0},{id:"edcfb9a5-5d21-4d93-883a-d4214cb4b5f3",angleX:0,angleY:174.6,angleZ:0},{id:"e233f6c9-bcdb-4794-915d-2ed83b54ab89",angleX:0,angleY:26.28,angleZ:0},{id:"d37894a2-2891-44f2-8316-dd2780e1c963",angleX:0,angleY:257.4,angleZ:0},{id:"22095270-fe96-4e39-ba9a-93419c7158a7",angleX:0,angleY:317.52,angleZ:0},{id:"05a79888-459a-42cb-ab52-062611670bbe",angleX:14.04,angleY:228.6,angleZ:357.84},{id:"b13c6e6c-a24d-40c1-9ebd-cfb15c489a18",angleX:357.84,angleY:50.4,angleZ:349.2},{id:"9e6559ae-eae4-4970-81ae-f6cb875b6152",angleX:0,angleY:287.28,angleZ:0},{id:"ffbc46a4-c9a6-4bad-b507-a093e64c70f9",angleX:0,angleY:291.24,angleZ:0},{id:"312239f5-2dcc-47e1-b179-cab8e8de49a6",angleX:355.68,angleY:289.08,angleZ:0},{id:"0a3d4cee-1403-4294-bbb3-1c0e308b9ef6",angleX:355.32,angleY:50.4,angleZ:355.32},{id:"80d47a3d-bfb8-4485-afb2-d43ec208324e",angleX:0,angleY:291.24,angleZ:0},{id:"e827e651-ca3a-43b7-b96d-78ed947ce2a5",angleX:0,angleY:271.44,angleZ:0},{id:"9c00ac00-79ea-4fe0-9600-3b3db5e5beb3",angleX:0,angleY:50.4,angleZ:0},{id:"21c392c4-703e-484d-b7d5-6c3f9a100df6",angleX:0,angleY:28.08,angleZ:0},{id:"cf79be0b-79ae-4dba-bdfa-f64df3660b1c",angleX:14.04,angleY:169.92,angleZ:345.96},{id:"3a4c6d82-ef56-48ee-9617-41b013ce4156",angleX:0,angleY:345.6,angleZ:0},{id:"9c54b945-8869-4263-96aa-3496f0efa2a5",angleX:0,angleY:0,angleZ:0},{id:"574aadc2-cedf-4459-8c02-40ed033d2d9b",angleX:0,angleY:187.56,angleZ:0},{id:"bf2875fd-7f89-4649-9233-d045eced8c74",angleX:0,angleY:212.4,angleZ:0},{id:"36710822-b529-4bd0-b484-a74c779a21a7",angleX:0,angleY:151.92,angleZ:0},{id:"b829673b-655e-4904-a292-8671195ad0e9",angleX:0,angleY:63.36,angleZ:0},{id:"985e23d4-6714-4e32-a87f-ffc51c6ad20e",angleX:0,angleY:94.68,angleZ:0},{id:"f3750530-cc75-4ccf-ab52-02927e7ae23a",angleX:0,angleY:311.4,angleZ:0},{id:"3b817fc0-68b2-4d4e-9672-a742ab59634d",angleX:0,angleY:81,angleZ:0},{id:"9186108b-2ae9-48e5-b6ca-33be70f86b6e",angleX:19.44,angleY:252,angleZ:0},{id:"7876dc42-fc9a-487d-a422-455fd9a06395",angleX:0,angleY:174.24,angleZ:0},{id:"5416d3a3-48c2-44be-b3ea-34f23c466bea",angleX:0,angleY:182.88,angleZ:0},{id:"b5de7082-e92f-4da4-ad87-d96696b6201d",angleX:0,angleY:22.32,angleZ:0},{id:"dfd89ab7-2149-4943-ac5f-006865c0a70c",angleX:0,angleY:226.44,angleZ:0},{id:"b99fd132-ea80-4022-a78e-c8fba46e02de",angleX:0,angleY:0,angleZ:0},{id:"0a5e6996-755e-4ba9-8f29-07dc74c9e8e0",angleX:0,angleY:0,angleZ:0},{id:"ff62cd40-dec9-46f4-97b7-1addf333d5e9",angleX:0,angleY:167.76,angleZ:0},{id:"0ea00b0e-cc23-4929-8fa2-ae8b3b382f98",angleX:0,angleY:236.16,angleZ:0},{id:"3ace23b2-0302-413a-a3df-93bb6d241f06",angleX:360,angleY:153,angleZ:347.04},{id:"8fc553b0-3615-41db-a66a-7c43e60f37bd",angleX:7.92,angleY:96.84,angleZ:345.96},{id:"6be2f0d7-ce2d-456f-adf6-efb5f07b79e7",angleX:0,angleY:213.12,angleZ:0},{id:"bc2ca797-c824-4e56-8c0d-970e5157c91f",angleX:0,angleY:291.24,angleZ:0},{id:"3a6afc01-e883-46fb-848a-7d5d6dfa8f2e",angleX:0,angleY:0,angleZ:0},{id:"a2359f57-2380-48ab-a42f-224ad3d3f342",angleX:0,angleY:172.8,angleZ:0},{id:"cd62f21b-12ca-4327-a055-c152fb94f6cf",angleX:0,angleY:131.4,angleZ:345.6},{id:"1e8d9247-d495-457c-847f-9dcec39bb48f",angleX:0,angleY:173.16,angleZ:0},{id:"09122e6d-9667-4ba1-a9b7-2af5329b31c6",angleX:0,angleY:142.92,angleZ:349.2},{id:"3ae83907-2493-44da-8d4b-4f6759215c7a",angleX:0,angleY:251.64,angleZ:0},{id:"9887ef09-fbb7-4e00-a6c6-ef4bfd5d95d4",angleX:13.32,angleY:189.36,angleZ:0},{id:"be7556b7-ffd9-4d48-bcac-815ce309e087",angleX:0,angleY:0,angleZ:0},{id:"76963b5b-e9fd-4b97-ac2a-5d3a73ab141b",angleX:0,angleY:135.36,angleZ:0},{id:"412a3ee7-4923-4c09-8401-aa4af7384d63",angleX:0,angleY:262.8,angleZ:0},{id:"7f6fd20d-700d-4e59-ba88-3028f324e570",angleX:0,angleY:314.28,angleZ:0},{id:"8e5f6dc9-240c-4716-9a01-52f08337990d",angleX:0,angleY:115.2,angleZ:0},{id:"6319af2a-058b-46eb-a80c-fa63be0817f4",angleX:0,angleY:24.12,angleZ:0},{id:"312e87cd-36f0-4355-8f00-4e0f07d99381",angleX:0,angleY:314.28,angleZ:0},{id:"ff9cce5d-7330-40f2-8987-3b3937f9c5c6",angleX:0,angleY:342.36,angleZ:0},{id:"4be51075-7b71-446e-8507-b0f2f779b24e",angleX:27,angleY:208.08,angleZ:0},{id:"7108245b-9cba-4eab-a248-95014d0ec3f4",angleX:0,angleY:342.36,angleZ:0},{id:"bbec76b7-d04c-4f21-80f8-d08ef1a34e16",angleX:0,angleY:198,angleZ:0},{id:"dc44b3c8-f3e5-47e0-900b-f2ea4b4bf6e2",angleX:0,angleY:245.52,angleZ:0},{id:"da62b7ba-d3e0-4ba1-9070-357ff449a1e0",angleX:0,angleY:280.44,angleZ:0},{id:"ee4b6fae-1782-48ae-8452-f786392a6dbd",angleX:350.64,angleY:66.6,angleZ:0},{id:"8c129a4e-aa45-4f55-a5b3-15965306e8d8",angleX:0,angleY:333.36,angleZ:9.36},{id:"2b227179-667b-4cdc-88a1-33e62f95d861",angleX:0,angleY:173.88,angleZ:0},{id:"ae0e309e-2681-4547-9a8b-af877fbca3a4",angleX:0,angleY:307.44,angleZ:0},{id:"afac4c9a-dc69-42f6-884b-c9ec09474a3a",angleX:0,angleY:256.68,angleZ:0},{id:"315fcfdb-621a-4080-804b-3b162b32a846",angleX:355.68,angleY:324.72,angleZ:0},{id:"6377cfaf-a318-4a03-8290-50698407294c",angleX:352.08,angleY:1.8,angleZ:2.16},{id:"8449a526-efee-4ff3-8469-aeb9d29385e9",angleX:351,angleY:351,angleZ:0},{id:"6466187f-9f85-44ff-9af2-6c16f80d821d",angleX:0,angleY:0,angleZ:0},{id:"130419eb-ece7-43f3-9cd5-2b27c6dff44e",angleX:351.36,angleY:50.4,angleZ:0},{id:"1ead2685-c45e-4f68-b778-b3e12ec9de67",angleX:0,angleY:160.2,angleZ:0},{id:"c065dd74-53a9-4d38-9663-eea0014b5279",angleX:0,angleY:165.24,angleZ:0},{id:"7c7270be-4dc4-44cf-a1ab-b968be9690cb",angleX:10.44,angleY:178.56,angleZ:0},{id:"ca790cc3-7933-43cd-b1ce-d35543113afe",angleX:11.52,angleY:249.48,angleZ:0},{id:"085dd680-2e33-43c5-88fb-630e5d1d114c",angleX:0,angleY:50.4,angleZ:0},{id:"7f98e697-cd4b-4560-bce3-f749528741c4",angleX:0,angleY:23.76,angleZ:0},{id:"f3bc2075-a2d2-4156-b7a7-fc1e70723453",angleX:0,angleY:14.76,angleZ:0},{id:"6e48b15d-e4a6-4e94-a0ac-1ab7568dcc07",angleX:0,angleY:194.04,angleZ:0},{id:"8048e6d5-7db7-44b3-8629-536d3135f982",angleX:0,angleY:0,angleZ:0},{id:"58f7a229-ca31-4b78-898f-91d200bdb2f0",angleX:347.76,angleY:0,angleZ:0},{id:"2156d5ba-e23b-4b6f-989e-0bea69a5e8bf",angleX:0,angleY:289.08,angleZ:0},{id:"c07658b2-d564-4518-9440-ca7abf59f9b3",angleX:0,angleY:258.12,angleZ:0},{id:"b2ac6351-8eb0-4889-8c50-3b596f0e7d5a",angleX:0,angleY:0,angleZ:0},{id:"bdf48149-5364-4ae6-ba34-d6c5fe4546f5",angleX:0,angleY:0,angleZ:0},{id:"aadf9e11-9d16-427b-984a-b913762913fd",angleX:0,angleY:63.36,angleZ:0},{id:"730e925a-a009-42cd-9616-cadea21bc9e0",angleX:0,angleY:12.24,angleZ:0},{id:"f7405dac-3ae2-4753-b24b-04847f9916c6",angleX:0,angleY:20.16,angleZ:7.92},{id:"d39c18aa-df98-42ac-b525-f5682bcac076",angleX:0,angleY:190.08,angleZ:0},{id:"e03f1069-e1d6-4aa9-b719-1e7bf8b167d1",angleX:0,angleY:10.44,angleZ:0},{id:"031844db-aba2-4d45-8335-5d2198cfb63d",angleX:0,angleY:342.36,angleZ:0},{id:"ee336479-6d71-49e2-afbe-7294a79eba8b",angleX:0,angleY:68.04,angleZ:0},{id:"888951c8-de04-47b2-ba28-d35a69a560e6",angleX:0,angleY:0,angleZ:0},{id:"96ef3591-6146-46b1-a856-021320c1ba0a",angleX:10.44,angleY:178.56,angleZ:0},{id:"bc5d00b1-c8db-4351-ae7c-d9feeb6809e3",angleX:5.4,angleY:289.08,angleZ:0},{id:"3ed00d2b-dfbf-4fc3-a8cb-190ace6b6ab5",angleX:0,angleY:30.96,angleZ:0},{id:"7e524fee-a436-4391-9661-81af7cc4ed80",angleX:173.52,angleY:36.72,angleZ:175.68},{id:"65313b3e-e484-4ad4-98bb-cc78f0a47d99",angleX:0,angleY:165.24,angleZ:0},{id:"424fd014-1be7-4199-89b7-2020ed0e3fc6",angleX:0,angleY:0,angleZ:0},{id:"623ce13c-e497-4729-bb13-aa3a1ae676d3",angleX:351.36,angleY:338.04,angleZ:3.24},{id:"96155043-5669-4d00-aff7-2f3936853123",angleX:343.44,angleY:52.56,angleZ:0},{id:"728e9459-896b-4024-b261-738632bd795c",angleX:355.32,angleY:339.12,angleZ:0},{id:"39ca4fab-3670-4b56-9bf9-e625d13c65d8",angleX:12.24,angleY:267.12,angleZ:0},{id:"ea1875e8-2725-4857-8889-07034bb7ba36",angleX:0,angleY:299.16,angleZ:0},{id:"7aff8d49-8dd4-4ea3-a5ea-269d9b1dab46",angleX:0,angleY:333.36,angleZ:17.64},{id:"ea250fe7-499e-45cb-88ce-4ea2ea113d5c",angleX:0,angleY:187.92,angleZ:0},{id:"c1329cdc-0206-41fa-a33d-cb68b7c5acfc",angleX:0,angleY:271.44,angleZ:0},{id:"f8e83ff4-aad9-4cb4-8705-29588b331dce",angleX:2.16,angleY:107.64,angleZ:350.64},{id:"22bbc751-547c-4d67-ba57-a73c47255a54",angleX:0,angleY:235.08,angleZ:0},{id:"e2c81025-ce17-416d-bc6b-a6deb462fe0b",angleX:0,angleY:222.48,angleZ:0},{id:"a0d45386-200b-49bc-a7f8-61d6162ae671",angleX:0,angleY:333.36,angleZ:0},{id:"45d88fd5-117a-4da2-aa3a-c29fb8a87245",angleX:8.28,angleY:274.68,angleZ:0},{id:"e0d7b0c0-b21c-4809-af9e-2bcf161bd0e6",angleX:0,angleY:329.04,angleZ:0},{id:"ac8ce9c2-fac2-49c7-a22a-e414464cce4f",angleX:0,angleY:3.96,angleZ:0},{id:"026e4fa7-037c-4706-aef3-9154dd24116f",angleX:0,angleY:320.4,angleZ:0},{id:"57843219-294b-4b07-999b-04efd218c60a",angleX:0,angleY:311.4,angleZ:0},{id:"ca43997d-83ee-4ebf-aaa7-b9d90d9da820",angleX:0,angleY:113.04,angleZ:0},{id:"986ccf7d-3633-4260-a505-c5952024d833",angleX:0,angleY:0,angleZ:0},{id:"549a1928-7d28-4cc1-a733-bda34ed3f12f",angleX:0,angleY:131.4,angleZ:0},{id:"0dd20d70-c15a-4d44-b2a4-02dc60715c73",angleX:0,angleY:223.92,angleZ:0},{id:"396c43f0-6483-434a-9c85-0c18b7c86936",angleX:13.32,angleY:195.48,angleZ:0},{id:"afdac192-efe0-46b2-b132-d536428590f9",angleX:0,angleY:170.64,angleZ:0},{id:"6fd3623e-d278-4813-916d-d972f573976d",angleX:0,angleY:169.92,angleZ:0},{id:"1fb8b935-f66d-4567-8727-3b898657991e",angleX:15.84,angleY:183.96,angleZ:0},{id:"65277fbc-d690-4c78-9b32-7bb34a2aaf2a",angleX:0,angleY:20.52,angleZ:0},{id:"2d7a2457-887f-4912-83cd-17091bde93a2",angleX:0,angleY:343.8,angleZ:0},{id:"b57acf57-1e47-4f22-87bb-30cb180b5fcb",angleX:0,angleY:162.36,angleZ:0},{id:"db1a36c5-7f72-4eea-a13a-6bbc441e5f40",angleX:0,angleY:174.6,angleZ:0},{id:"ed714c7f-2f30-4467-b5c6-e39bc34149d6",angleX:0,angleY:26.28,angleZ:18.36},{id:"c2f09a85-d670-4e56-aafe-712d2c9cc22d",angleX:0,angleY:226.44,angleZ:0},{id:"ed8c88e6-d6b8-470e-920d-f585d8103f88",angleX:8.28,angleY:181.08,angleZ:345.6},{id:"427903f5-cdec-44d8-8377-a8079d60c3a8",angleX:0,angleY:277.2,angleZ:0},{id:"5e41f0a9-fa0b-485a-bcac-fa4b1a5e4290",angleX:0,angleY:217.44,angleZ:0},{id:"52be2af9-3eb2-460f-bdd5-13eb3f2b0536",angleX:0,angleY:3.96,angleZ:18.72},{id:"7fbea04d-4068-4899-aebc-5fcdc862256c",angleX:0,angleY:262.08,angleZ:0},{id:"d641a9c4-15f4-4ae3-a422-ccd9fad7c7ba",angleX:0,angleY:14.04,angleZ:0},{id:"b96afcb8-ce99-4412-883c-91666e6f2b26",angleX:0,angleY:202.32,angleZ:0},{id:"d3160fbf-1820-45f0-9d1f-d0c2aca53bbd",angleX:0,angleY:66.6,angleZ:0},{id:"2b4d9d07-b2e9-44dd-88bb-7bb7752a279c",angleX:0,angleY:204.48,angleZ:0},{id:"533f439c-ae42-4ff3-b115-176c7923a784",angleX:9.36,angleY:153,angleZ:351.36},{id:"f760447c-9285-421f-a9c6-92024a068025",angleX:0,angleY:258.12,angleZ:0},{id:"acbd7b3a-9acd-460c-8f1a-ad3880fc33dd",angleX:0,angleY:137.52,angleZ:0},{id:"219be8c4-23d7-4d75-82c8-3c6efc6df215",angleX:0,angleY:287.28,angleZ:0},{id:"1cf1359b-18c2-4725-b2dc-ac95dea73575",angleX:0,angleY:46.44,angleZ:0},{id:"29a0e438-0b1a-4c4f-b23e-58ce9bbc6a08",angleX:0,angleY:0,angleZ:0},{id:"3aa222a2-5532-4ee9-8cd6-98b6c23909d1",angleX:0,angleY:111.24,angleZ:0},{id:"9b86ef7f-d281-48e8-a143-1fbece8f511a",angleX:0,angleY:305.28,angleZ:0},{id:"d4c17d71-8ded-48ab-8e66-7523304076f1",angleX:0,angleY:72.36,angleZ:0},{id:"c32fd361-3eb2-45c3-93dd-42345e8b740e",angleX:0,angleY:0,angleZ:0},{id:"0b105b3a-b595-401f-a099-37d2f6a0d55b",angleX:0,angleY:279,angleZ:0},{id:"e232ad28-ede7-4303-b61e-7b6079342be1",angleX:0,angleY:216.36,angleZ:0},{id:"de61350b-5e51-454a-bb64-52f823789319",angleX:0,angleY:224.28,angleZ:0},{id:"c9c6397f-c01e-46b2-b3a0-2d8beab26db4",angleX:0,angleY:307.08,angleZ:0},{id:"5a9e20b3-7eea-4d51-9298-cd6eeae0915a",angleX:9.36,angleY:307.08,angleZ:13.32},{id:"6f17824d-a575-4355-8d47-1a92fdb98258",angleX:0,angleY:0,angleZ:0},{id:"5ba6ab59-2e7c-4a0f-8505-18466a82ac59",angleX:0,angleY:280.44,angleZ:0},{id:"8bc0bd92-a136-46bf-b96a-e966c027f242",angleX:0,angleY:195.12,angleZ:0},{id:"f3b8a9e8-acc0-4dda-a617-1a8f81672827",angleX:347.04,angleY:342.36,angleZ:1.44},{id:"f4c2ecd3-27da-4ff3-88e5-eba3aa6ceaad",angleX:0,angleY:0,angleZ:0},{id:"5c2dd7b4-9981-4d85-968c-49dcf977d1c8",angleX:0,angleY:0,angleZ:0},{id:"dcb26172-633b-4d39-8c55-ce553d678aab",angleX:339.84,angleY:0,angleZ:0},{id:"9d649fdc-12cf-4801-8956-5bd8776f9b77",angleX:0,angleY:0,angleZ:0},{id:"f713b505-1e45-4be6-a072-3d0a991219f6",angleX:0,angleY:204.12,angleZ:0},{id:"eca3fb09-df9d-4641-8cd9-619102dcd502",angleX:0,angleY:160.92,angleZ:0},{id:"32dd1e06-eb6b-4584-9865-f43175771c8e",angleX:0,angleY:160.92,angleZ:0},{id:"21ddaa75-45d4-4efb-9942-7b0249d0d5f3",angleX:173.52,angleY:20.16,angleZ:171.36},{id:"f0edd2b8-f291-40a1-bbe1-67b9fa4e8952",angleX:0,angleY:14.76,angleZ:0},{id:"21a43646-aa64-4fa2-9ff6-66b0adba7b5a",angleX:0,angleY:76.68,angleZ:0},{id:"1363508e-6c3c-45dc-9cce-c088de2507c7",angleX:0,angleY:0,angleZ:0},{id:"f50838b1-341c-4bb8-96b3-078d65716a99",angleX:0,angleY:309.6,angleZ:0},{id:"7188bf6c-88e1-4ea2-a3ee-e8a2482f03c8",angleX:0,angleY:0,angleZ:0},{id:"53fed3f0-99ea-450a-8b70-618cd708620e",angleX:0,angleY:0,angleZ:0},{id:"ff4df0ec-e461-4b29-ba62-d66bf54be88a",angleX:0,angleY:72.72,angleZ:0},{id:"1ab6040d-ee41-40ff-a272-bb3397435c11",angleX:0,angleY:37.08,angleZ:0},{id:"97b2c2ac-4cfc-493a-ac00-e44243de3f3a",angleX:353.88,angleY:35.28,angleZ:0},{id:"70c0df91-6e6b-4560-98e9-7da0293a679e",angleX:0,angleY:0,angleZ:0},{id:"99c8a287-27ed-4cf3-b0c9-55decdeb40d1",angleX:0,angleY:240.12,angleZ:0},{id:"3e98e418-445d-42c0-b430-a0ff5a188bc2",angleX:0,angleY:227.16,angleZ:0},{id:"95931023-ed0c-47b4-8f3b-680c2251688a",angleX:0,angleY:0,angleZ:0},{id:"2ce06809-7059-4af4-80d0-85967e08a5bb",angleX:0,angleY:50.4,angleZ:0},{id:"8f62b936-b075-49fe-af9f-79b828c6bee1",angleX:0,angleY:30.24,angleZ:0},{id:"90705712-862e-4dc7-92c8-61a5ddf73cd8",angleX:0,angleY:342.36,angleZ:0},{id:"0ff2a312-79ff-4082-9943-99c8913cdae4",angleX:0,angleY:345.6,angleZ:0},{id:"56ce3b39-e86c-4929-a9d6-767c8b47f8f3",angleX:0,angleY:0,angleZ:0},{id:"a0b53652-57dc-4415-9184-42728bfe6508",angleX:0,angleY:324.72,angleZ:0},{id:"80074aee-6a81-494b-9385-472bb8497e11",angleX:0,angleY:276.84,angleZ:0},{id:"328bd75d-358a-4745-aeeb-4fb693971225",angleX:0,angleY:32.4,angleZ:0},{id:"85cda45a-a1d9-4f25-abdd-6ced2099cc42",angleX:0,angleY:23.76,angleZ:0},{id:"73428c56-a67e-4f0f-9d4c-220fb78faf98",angleX:6.12,angleY:151.92,angleZ:0},{id:"70906ab0-fa5f-4d15-89c6-f73c714ac748",angleX:169.56,angleY:28.44,angleZ:173.52},{id:"0c7cbaf8-9054-443d-bcfe-741a50a81b96",angleX:0,angleY:54.72,angleZ:0},{id:"153e9b3c-b46f-4933-8714-b6bb0e641536",angleX:0,angleY:165.24,angleZ:0},{id:"18e20bef-6ade-4529-aac6-42f783b61bd1",angleX:0,angleY:180,angleZ:0},{id:"8b9367bf-9d05-4607-921c-dc95870bf801",angleX:0,angleY:0,angleZ:18.36},{id:"cb6b28cc-63b5-4763-bfac-157c75c57645",angleX:0,angleY:0,angleZ:0},{id:"91a8af96-2a7b-4100-843a-955cfea4c74c",angleX:0,angleY:323.64,angleZ:0},{id:"c1efde1f-315e-4702-87b5-1e48fb207a71",angleX:0,angleY:181.44,angleZ:0},{id:"7901450f-321f-4bca-b0e3-5cc7d4b193db",angleX:1.44,angleY:351,angleZ:0},{id:"82edeebc-6546-442e-a6a8-0411ba5da833",angleX:18.36,angleY:254.88,angleZ:0},{id:"0b036bf8-bdf7-43ac-bbc8-65d2d55f3e73",angleX:0,angleY:284.76,angleZ:0},{id:"ef17d55b-ee82-4eda-beb3-0d83a985bd11",angleX:0,angleY:202.32,angleZ:0},{id:"c227b194-0115-411b-8c3b-e1dc61d44562",angleX:0,angleY:91.08,angleZ:0},{id:"b3767913-c829-4a4f-a3cd-0e0c6f928c31",angleX:0,angleY:230.4,angleZ:0},{id:"e5ed916a-b32c-47f5-91c1-76f45fed6180",angleX:0,angleY:237.24,angleZ:0},{id:"93ddd9f9-778c-48c3-a4a4-75d172222bba",angleX:0,angleY:0,angleZ:0},{id:"37a9b608-cef0-4554-ba0f-bea8f0dc1952",angleX:0,angleY:214.2,angleZ:0},{id:"2108d930-8917-48b0-82d0-4c1e53a248b0",angleX:0,angleY:346.68,angleZ:0},{id:"cf471659-5ad9-4607-8ef4-973372b5085f",angleX:0,angleY:117.36,angleZ:0},{id:"d1b05d03-61dc-4a8e-915b-ed879d046912",angleX:0,angleY:311.4,angleZ:0},{id:"f569f6b0-6093-40a9-9e78-d7a45c862597",angleX:0,angleY:307.8,angleZ:0},{id:"891a6217-c721-4c0d-9535-46c269088859",angleX:0,angleY:41.4,angleZ:0},{id:"8ba550bf-e3fa-4f2c-bc56-d4a8a044f226",angleX:0,angleY:30.96,angleZ:0},{id:"5e4a1e5a-a2b8-451d-bfcd-4ce6d304e910",angleX:0,angleY:133.56,angleZ:0},{id:"c77d51e8-8795-4efa-be99-8111c305eeb2",angleX:0,angleY:338.04,angleZ:0},{id:"3e0f3b90-0936-4f8c-8a1e-1e63f4aef801",angleX:0,angleY:262.8,angleZ:0},{id:"9fb550b2-ce1e-42b2-89ff-1794de249e5f",angleX:11.52,angleY:138.96,angleZ:343.08},{id:"8ae3bfc8-b925-4079-9f24-e16d86608e0f",angleX:9.72,angleY:196.2,angleZ:0},{id:"37d67b73-6362-4b35-a1fc-44eade90bf1d",angleX:0,angleY:34.2,angleZ:0},{id:"57f27a9b-4e80-4b7c-9fe2-52dae29700b8",angleX:0,angleY:208.44,angleZ:0},{id:"fa605bb2-539f-4de6-8d64-0f907e828e5f",angleX:0,angleY:68.76,angleZ:0},{id:"56a8290e-d207-43c5-bff9-9d54f51138c4",angleX:0,angleY:60.12,angleZ:0},{id:"ef4688dd-14d2-48aa-8fa5-ccd1b03a0f78",angleX:0,angleY:213.12,angleZ:0},{id:"a508df73-4317-412e-ada9-7a5d2f008fa0",angleX:0,angleY:0,angleZ:16.2},{id:"ebc6b219-6504-4970-8ade-c1f5669ce2ca",angleX:0,angleY:160.2,angleZ:345.6},{id:"c308e107-102a-4684-886e-417b953e14c4",angleX:0,angleY:254.88,angleZ:0},{id:"0a3aa48b-f8e1-49e8-8d9f-b464d968c836",angleX:0,angleY:230.4,angleZ:0},{id:"f4f0fb84-39ff-467d-b1e9-576c5095af9a",angleX:0,angleY:0,angleZ:0},{id:"f89aa7e4-8b3f-432d-8949-35a25ccdc6bd",angleX:355.68,angleY:24.84,angleZ:0},{id:"fd30e166-f9a6-4ad4-933f-a801aa69c365",angleX:0,angleY:174.24,angleZ:0},{id:"8603044c-0c11-4626-a0b8-9798503d6bf3",angleX:0,angleY:135.36,angleZ:349.92},{id:"25a0fd2b-47e5-4f00-9d92-ebeb1ce428d1",angleX:349.92,angleY:48.6,angleZ:7.92},{id:"c2f25b03-462f-4768-9e3c-22d023a23fe8",angleX:0,angleY:217.44,angleZ:0},{id:"18908620-1d6c-4c56-832c-62c89cc4f08a",angleX:0,angleY:159.84,angleZ:0},{id:"0bdaa71b-bdaa-47d4-a83a-2c604be3bf97",angleX:0,angleY:135.36,angleZ:0},{id:"94ca22ee-35df-4bf3-8318-b19261b525d5",angleX:0,angleY:119.16,angleZ:0},{id:"f2bb7a38-14d9-4f7b-ab77-e6c8f98a962f",angleX:0,angleY:52.56,angleZ:0},{id:"a6f1f96d-3dca-4364-bc01-54f0bea42c53",angleX:0,angleY:126.72,angleZ:347.04},{id:"8d882d8c-a8b7-4534-8a1a-1a8df96c05b5",angleX:0,angleY:107.64,angleZ:0},{id:"6bdc4d1f-38de-45ef-af89-db77d153207b",angleX:0,angleY:319.68,angleZ:0},{id:"560f7876-dfdf-4147-ae40-e172c6ee2a5c",angleX:0,angleY:351,angleZ:0},{id:"82fa6a9f-a1df-4633-94aa-ac8434f94e53",angleX:0,angleY:0,angleZ:0},{id:"f480eada-b80e-4091-808a-ba5291f63b40",angleX:0,angleY:0,angleZ:0},{id:"31144530-ee3d-499f-b4a6-4a22cd1dfb06",angleX:0,angleY:287.28,angleZ:0},{id:"f3fdd6db-e3fe-4995-8466-1a0c255e4cf1",angleX:0,angleY:41.4,angleZ:0},{id:"9e53c1e5-259b-4f90-a70d-ebace09a0871",angleX:0,angleY:184.68,angleZ:0},{id:"c900c15b-d884-42f7-a899-6ac4f0d9b9aa",angleX:0,angleY:205.92,angleZ:0},{id:"dba84e3f-df21-4eed-8100-072e6babb05b",angleX:0,angleY:208.44,angleZ:0},{id:"b2c117aa-16cc-4cac-baca-fcf4b04300b0",angleX:0,angleY:351,angleZ:0},{id:"d5fedab7-9935-449b-b22a-592229e1810b",angleX:351.36,angleY:59.04,angleZ:349.2},{id:"faef51dc-a11f-44e1-b320-e3c16c57b8a2",angleX:349.2,angleY:345.24,angleZ:0},{id:"6491efb2-b26f-4092-8bb7-600c056b5e87",angleX:357.12,angleY:120.6,angleZ:347.04},{id:"065786e3-514d-4595-8f52-9d7b771450fc",angleX:0,angleY:320.04,angleZ:0},{id:"7095fa3a-5d82-4f97-855d-caed3323245d",angleX:0,angleY:246.6,angleZ:0},{id:"0da9703a-34c5-4070-9a9c-98833e36c175",angleX:8.28,angleY:153.36,angleZ:348.48},{id:"93c5ce67-1cfe-4e5c-a392-8a70401450f1",angleX:0,angleY:0,angleZ:0},{id:"6d0cc597-b3ba-48fb-b6e7-b351b6fb53b3",angleX:339.12,angleY:37.44,angleZ:0},{id:"49bda40e-2cb1-4979-853b-bc1a7429cafe",angleX:0,angleY:76.68,angleZ:0},{id:"570e9dab-5239-48a9-8c94-0109712348f7",angleX:0,angleY:0,angleZ:0},{id:"94d32d9d-942f-4b72-aa97-f547f095c935",angleX:0,angleY:320.04,angleZ:0},{id:"e04d1db8-ad94-4f67-8da1-0fac4420fc02",angleX:0,angleY:63.36,angleZ:0},{id:"f040638c-69b8-4b8c-acbf-36feb3c8b78e",angleX:0,angleY:19.44,angleZ:0},{id:"40fb911c-eaa2-4840-b93e-e9891b773c48",angleX:6.12,angleY:174.24,angleZ:0},{id:"3ab5824d-1091-47ba-be27-b0c6c3514c17",angleX:9.36,angleY:249.48,angleZ:0},{id:"2517fedb-b79e-465a-8753-7f692aa731d9",angleX:0,angleY:324.72,angleZ:5.4},{id:"0094c207-ce8f-4e95-b89a-594159762e34",angleX:0,angleY:109.08,angleZ:0},{id:"38ab41e1-5ff7-4c03-ae7a-999ecce87c6c",angleX:0,angleY:329.04,angleZ:0},{id:"0a8c9a37-280f-42cf-8736-78d96d4edc32",angleX:0,angleY:258.12,angleZ:0},{id:"c9602571-d542-4fcc-bdf1-5cfbfd887d40",angleX:0,angleY:244.8,angleZ:0},{id:"ffbcbfc0-2c7f-46c1-9ca7-fa10f28d810c",angleX:0,angleY:58.68,angleZ:0},{id:"cb26def4-08a0-4a01-95ed-1c417a0647cc",angleX:0,angleY:41.4,angleZ:0},{id:"8c685e65-e453-4dca-917b-9b5d9d9bbc24",angleX:0,angleY:27,angleZ:0},{id:"2b0928cb-e49f-430c-9c03-ab9a45958664",angleX:0,angleY:345.96,angleZ:0},{id:"afda7ee9-9ce5-47ec-a117-ffee0ba99450",angleX:0,angleY:66.6,angleZ:12.24},{id:"dbfcc025-9d2d-4789-b6bd-b2e25ccbbdd6",angleX:0,angleY:52.56,angleZ:0},{id:"3039f8f4-79fd-4838-9776-540cd54b9bd1",angleX:336.96,angleY:10.44,angleZ:0},{id:"44ee8f29-cea4-4909-a6ba-f9937a3aadca",angleX:0,angleY:32.4,angleZ:0},{id:"4b777e6c-10b2-4d78-ac05-1fa0c16005f2",angleX:0,angleY:258.12,angleZ:0},{id:"af0df66c-2eb3-4e99-9af8-cdb2a9a36183",angleX:0,angleY:236.16,angleZ:0},{id:"71b697ad-dc5c-4744-b45d-2f76b5ef8c84",angleX:17.64,angleY:275.76,angleZ:357.12},{id:"52e126d2-e92c-4c55-bb5d-88bb6521234d",angleX:0,angleY:6.12,angleZ:0},{id:"09bcf575-af67-42dd-a416-b1fc2cd45f05",angleX:0,angleY:44.28,angleZ:0},{id:"a6fa53ae-7db8-4ec7-8fd8-dd97614e7e86",angleX:10.44,angleY:178.56,angleZ:0},{id:"d2e9a15e-5169-49a7-a1da-1be09b39129f",angleX:7.56,angleY:253.8,angleZ:0},{id:"5021b1d7-9f31-455a-b94f-1c2daadb38bb",angleX:0,angleY:54.72,angleZ:0},{id:"c97bfd63-a4a8-4a76-a29e-3c48d6898b60",angleX:0,angleY:355.68,angleZ:0},{id:"9466d213-2ec6-4a0c-b257-264b7c5b2797",angleX:0,angleY:32.4,angleZ:0},{id:"53a62974-f116-49a2-88d3-efcfe96fc4ab",angleX:0,angleY:0,angleZ:0},{id:"87784aaf-5662-48f9-9771-a3371486e28b",angleX:0,angleY:331.56,angleZ:0},{id:"738a8817-f881-459b-a16c-47cf01a7f612",angleX:345.6,angleY:8.28,angleZ:6.12},{id:"52ff2d70-9eb4-4d1b-bd25-f3a061172e9e",angleX:341.28,angleY:39.6,angleZ:0},{id:"732a5441-b579-45d8-bb47-ce6cb9204142",angleX:0,angleY:246.6,angleZ:0},{id:"548f3fca-5f47-475d-8e17-df862c021869",angleX:173.88,angleY:360,angleZ:176.04},{id:"3c49904f-d56d-43eb-aed5-a046d04c1d72",angleX:357.12,angleY:132.84,angleZ:345.24},{id:"7e6b97e5-8f16-4bc4-a845-b81530026699",angleX:0,angleY:345.96,angleZ:0},{id:"f1bdd3a8-16fd-4069-a006-4a37968be2a0",angleX:0,angleY:304.92,angleZ:0},{id:"6c4cf0b4-5059-4592-aec7-11e860f5bf85",angleX:0,angleY:247.68,angleZ:0},{id:"46f5624e-9841-4749-86e2-85193657857e",angleX:355.68,angleY:320.04,angleZ:9.36},{id:"a1fa3281-c7dc-4453-8417-5e18c30ef06b",angleX:0,angleY:210.24,angleZ:0},{id:"06cd3fb7-8ce3-4efa-89b6-1c9d7a651978",angleX:0,angleY:201.96,angleZ:0},{id:"e4f94ef3-6d3c-45ea-b3f1-ab854e55da44",angleX:0,angleY:291.24,angleZ:0},{id:"f62ea0a7-b0d8-4c1b-bbbf-d1190a640637",angleX:0,angleY:186.48,angleZ:0},{id:"fac81733-4380-41d7-9410-61a991769f5f",angleX:0,angleY:22.68,angleZ:0},{id:"964963f0-d617-441d-8c8c-4bc9f58cc38d",angleX:0,angleY:16.2,angleZ:0},{id:"0c479c09-d52a-4eeb-bbbb-d2c39ff04bd1",angleX:0,angleY:322.56,angleZ:0},{id:"32c361b4-e67a-4a37-aa4a-b32aea31279c",angleX:0,angleY:329.04,angleZ:0},{id:"e269d548-00fd-41ac-8b4e-a38656b52262",angleX:0,angleY:112.32,angleZ:0},{id:"39e8583f-e24d-4fcd-ac90-16d5213012d2",angleX:0,angleY:321.48,angleZ:0},{id:"13b671e4-cb8c-44ac-bcb9-bc12fc2d97ba",angleX:0,angleY:108.36,angleZ:0},{id:"209e827d-b657-4a90-9196-b9f2454ee484",angleX:0,angleY:129.24,angleZ:0},{id:"b4f0d2f0-8a28-4942-b344-647a0b3d8ef0",angleX:0,angleY:137.52,angleZ:0},{id:"797b18b2-db96-4410-9ce3-f57844fba029",angleX:0,angleY:151.2,angleZ:0},{id:"8f9bdb58-6a6a-4be4-938e-29866dff2ab8",angleX:0,angleY:149.76,angleZ:0},{id:"24689de3-06d3-44e4-a64e-69b2e14377c1",angleX:341.64,angleY:70.56,angleZ:0},{id:"521aa3d7-3871-44f0-aa8e-4eb3ff143cae",angleX:0,angleY:204.12,angleZ:0},{id:"d109c653-fe9b-4313-96c9-53309d3d3fa0",angleX:0,angleY:198,angleZ:0},{id:"8689cc21-082f-4586-b70d-91d041c75348",angleX:352.08,angleY:113.04,angleZ:0},{id:"7733e3c3-c2f0-484a-ab9d-565b112b14e1",angleX:0,angleY:85.32,angleZ:0},{id:"cca83fed-9f35-40b7-9481-6c1f2d40350a",angleX:0,angleY:110.16,angleZ:0},{id:"42cf6d97-4e69-4cb1-9f54-3d4f2c4ffb48",angleX:0,angleY:200.16,angleZ:0},{id:"0e8f41bc-3670-4084-a702-c1b7a74ef8e4",angleX:0,angleY:226.8,angleZ:0},{id:"3e0cb013-d3db-45c2-a1a7-1b5088c7b2a4",angleX:0,angleY:186.12,angleZ:0},{id:"4096a3d2-e64d-4d70-b5af-1be812ec6db1",angleX:0,angleY:236.52,angleZ:0},{id:"a77c94b7-59dd-439b-b533-da692a05c496",angleX:0,angleY:222.12,angleZ:0},{id:"647f9c34-dbb8-47bc-ad92-a31ed7648688",angleX:0,angleY:10.08,angleZ:0},{id:"cae92209-9810-4c7d-a1ca-b62f2c66508d",angleX:0,angleY:199.8,angleZ:0},{id:"ca6c5a7b-249f-4486-953d-bfed218fd0df",angleX:347.4,angleY:60.12,angleZ:0},{id:"cc3a5f84-16d8-4486-b2d1-b3b11f5f3c93",angleX:0,angleY:163.8,angleZ:343.8},{id:"0886930d-5806-4c8a-8dba-a325ba79904c",angleX:0,angleY:244.8,angleZ:0},{id:"0d7cb416-cbdb-4e5d-8eb9-abf16f22c29e",angleX:0,angleY:133.56,angleZ:0},{id:"f3091844-c9bf-4018-a791-37441fdeb4dd",angleX:0,angleY:262.8,angleZ:0},{id:"9a16c3a5-7f2a-435f-b403-cdd5ed6fb094",angleX:7.56,angleY:118.44,angleZ:347.04},{id:"404ed5e0-e003-49cf-abe4-95f16ede434c",angleX:0,angleY:202.32,angleZ:0},{id:"96622d93-ea10-4d9f-8596-0960c78dea6f",angleX:0,angleY:127.44,angleZ:0},{id:"5bb02ad8-fc89-4dcb-994e-cc73939957ef",angleX:0,angleY:32.4,angleZ:0},{id:"03b6adf5-2b99-4537-b29a-05cacdecebce",angleX:0,angleY:112.32,angleZ:0},{id:"2a027938-9ad5-4ac6-8193-03c73558cdc8",angleX:0,angleY:101.88,angleZ:0},{id:"0135c15a-b396-4717-85c8-fc3335c8f8df",angleX:0,angleY:291.24,angleZ:0},{id:"e8847b7b-2831-4db7-9574-55727f5a7aa7",angleX:0,angleY:316.44,angleZ:0},{id:"485815b0-9d07-4199-9980-27e44efa470d",angleX:337.68,angleY:32.4,angleZ:0},{id:"28c3186f-5308-4ee5-ae23-708af9a54054",angleX:0,angleY:190.08,angleZ:0},{id:"16e3e9b5-63f8-43c0-9a30-414982aabcb5",angleX:0,angleY:197.64,angleZ:0},{id:"b229735b-eebc-4ca0-a05d-d03898945a06",angleX:355.68,angleY:346.68,angleZ:0},{id:"37ebed5b-2c90-4cf8-8d3c-d90d06b2eac7",angleX:0,angleY:230.4,angleZ:0},{id:"b13be940-4086-4e67-be73-ad8d9284a773",angleX:20.16,angleY:216.36,angleZ:6.12},{id:"7312de97-5ec0-4334-b344-514d8b8b4ea0",angleX:0,angleY:293.4,angleZ:0},{id:"684248d7-5f5c-4ba5-ae3e-c959aeb1b149",angleX:0,angleY:302.4,angleZ:0},{id:"613d8aec-b59b-450c-977b-c9f4a02174ad",angleX:187.92,angleY:246.6,angleZ:172.08},{id:"a331bf7f-a069-4064-853d-747fa9e8b90d",angleX:360,angleY:0,angleZ:14.04},{id:"81b0ca7b-de78-4b8e-9b20-6e27e74b0f39",angleX:0,angleY:0,angleZ:0},{id:"2590e02e-1d6a-49b5-a613-f274083a8ffe",angleX:0,angleY:186.12,angleZ:0},{id:"28c9d170-19ce-48af-95a6-0f5743c3c865",angleX:0,angleY:32.4,angleZ:0},{id:"19ec34f2-7fc6-41a3-b591-7348af18b5c5",angleX:0,angleY:163.8,angleZ:0},{id:"606c4136-f171-4635-8a3c-50af1ee236ae",angleX:0,angleY:0,angleZ:0},{id:"081d0301-7bb6-4319-8b7c-44fdd128c085",angleX:0,angleY:41.4,angleZ:0},{id:"2e08194d-077f-4a22-9e1e-447941e4aa2f",angleX:0,angleY:90,angleZ:0},{id:"5a3bf5a4-16b9-408a-84c9-57867e488296",angleX:10.44,angleY:147.6,angleZ:0},{id:"f70cf0c7-37fe-4194-835d-eb0e06c6ee7b",angleX:0,angleY:330.84,angleZ:13.32},{id:"63dc25ea-86af-4ae9-9eb7-0787aec7bf74",angleX:7.56,angleY:240.48,angleZ:0},{id:"fa637666-2dee-4e8b-bb70-6fccc316941d",angleX:0,angleY:311.4,angleZ:0},{id:"9f642f15-825c-4ad3-a6f5-4965b25e1469",angleX:10.44,angleY:165.24,angleZ:346.68},{id:"f7550f0c-3c2c-4bc1-9e8a-52719f8f076f",angleX:0,angleY:222.84,angleZ:0},{id:"3dd075e9-d1ca-4323-88dd-259738a8cae5",angleX:0,angleY:253.8,angleZ:0},{id:"0bec715c-685e-4250-90d8-ae40c987c010",angleX:0,angleY:0,angleZ:0},{id:"8a207fca-bd8d-4f56-b26a-ce0b270b4371",angleX:0,angleY:29.16,angleZ:0},{id:"e10acd49-dd03-4fb4-acef-10435b24a64e",angleX:0,angleY:30.24,angleZ:14.04},{id:"e6df18b4-5166-4c77-9d66-06316208d449",angleX:0,angleY:0,angleZ:0},{id:"233852b2-f212-40d2-ba60-9339b92902a3",angleX:0,angleY:253.8,angleZ:0},{id:"987baf1c-6b57-46e9-ba9a-d9d7f4c41ea0",angleX:0,angleY:262.8,angleZ:0},{id:"91464f1d-45dc-4751-9ed6-d5eff8912f66",angleX:0,angleY:320.04,angleZ:0},{id:"0234a5bf-1c24-40a7-883a-fc429fa08eef",angleX:5.4,angleY:231.84,angleZ:0},{id:"d457d19c-169f-48a8-a0c8-e66b8615be4f",angleX:10.44,angleY:165.24,angleZ:0},{id:"2468432f-2739-4043-9e94-6c5fef6af28e",angleX:6.12,angleY:147.6,angleZ:0},{id:"43f2dbc9-2db3-4cdc-8c3e-7ce1cb4bf010",angleX:0,angleY:209.52,angleZ:346.68},{id:"89089f0d-3d63-48e2-8e5c-77029069ccea",angleX:0,angleY:37.08,angleZ:0},{id:"2f2a9e8b-c465-43de-9cb5-a6abf447012b",angleX:0,angleY:81.36,angleZ:0},{id:"27b8300c-db8e-4e2b-bbea-f773ead10e46",angleX:0,angleY:159.84,angleZ:0},{id:"da1159fb-7014-4242-a12c-1fb8da74321f",angleX:0,angleY:0,angleZ:0},{id:"4848631b-2d8a-418a-b144-ae5c28b3305b",angleX:0,angleY:32.4,angleZ:0},{id:"edc0a62a-c02b-439e-aef2-bf0a169e4fe5",angleX:0,angleY:163.8,angleZ:0},{id:"e01930f4-2845-42a5-bc5e-b97683589e8b",angleX:345.6,angleY:29.16,angleZ:0},{id:"d8c5ffa2-e8f5-4d2d-9e87-c7dbd667a160",angleX:360,angleY:0,angleZ:20.88},{id:"5d98df17-fb2f-4be4-a236-f0a11ac9dffb",angleX:0,angleY:307.08,angleZ:0},{id:"ef90d3ac-d02d-43d7-ae76-22ef77ce984b",angleX:349.2,angleY:108.36,angleZ:351.36},{id:"d06e9149-d9ab-4134-9178-8f853234a866",angleX:18.36,angleY:198,angleZ:0},{id:"6de4190b-a079-4716-b445-da495500d147",angleX:0,angleY:220.32,angleZ:0},{id:"9af60c8c-6af8-4fd1-b2f9-05ad21d87115",angleX:0,angleY:0,angleZ:0},{id:"7fca20bb-fee8-4c98-a6ef-c5f38bf47027",angleX:0,angleY:0,angleZ:0},{id:"263f050a-2644-4e5c-ba20-0fd381ead593",angleX:0,angleY:214.2,angleZ:0},{id:"65594ba6-5a04-40f3-9432-d6124e5ffa5c",angleX:0,angleY:189.36,angleZ:0},{id:"86d310e1-28db-4afe-aaa9-7dba936cf548",angleX:0,angleY:297.72,angleZ:0},{id:"e54edefa-3fbf-4830-95b1-e094529b6914",angleX:0,angleY:0,angleZ:0},{id:"30649240-e8b2-4f08-ba7d-6de368172d76",angleX:0,angleY:74.88,angleZ:0},{id:"1a5066e4-5eaf-43cc-8892-d79d42c3bb29",angleX:0,angleY:295.2,angleZ:0},{id:"7c77deb5-726d-4089-a183-caa5cf4fd18d",angleX:0,angleY:120.96,angleZ:0},{id:"4fe64661-d64f-4367-b38c-298e20a1a90f",angleX:0,angleY:85.68,angleZ:0},{id:"655e6733-6bdf-4c79-bce0-3471608f9e89",angleX:0,angleY:127.44,angleZ:0},{id:"683152bd-96ec-4184-bb12-127e4fa7c1d5",angleX:0,angleY:192.24,angleZ:0},{id:"752c7400-0dc2-4f0d-9ce9-c2e39eea103b",angleX:0,angleY:116.64,angleZ:0},{id:"0b65ffcb-90fa-4fb6-98a4-f4b1f94c29c9",angleX:0,angleY:155.52,angleZ:0},{id:"2190cfe4-dca9-4ac8-b416-6571a1a8f232",angleX:0,angleY:143.64,angleZ:0},{id:"68e9566f-4fe8-4c5d-806f-111a39d98649",angleX:7.92,angleY:186.12,angleZ:347.76},{id:"eac96bc6-63b5-498d-89b5-a7ccb7634175",angleX:0,angleY:240.48,angleZ:0},{id:"0d7b10dc-7a69-43b2-8900-9d1cb91fc13a",angleX:0,angleY:10.08,angleZ:0},{id:"7c288b1b-5b08-436b-97c1-2c7358c3174c",angleX:0,angleY:226.44,angleZ:0},{id:"aae4245d-b43b-4e96-8985-9af33fc872fd",angleX:339.12,angleY:91.44,angleZ:0},{id:"3b4d216f-e6fc-49c2-a671-8456f091b2eb",angleX:0,angleY:205.92,angleZ:0},{id:"fbefe898-fcc9-4e3c-99b2-a4dd6a9c41d1",angleX:0,angleY:190.08,angleZ:0},{id:"2a4597a1-5d75-44a2-b82c-44c3032bd48b",angleX:0,angleY:159.84,angleZ:0},{id:"13757280-5fa3-4d28-8bd3-090995f04fa7",angleX:0,angleY:158.04,angleZ:0}],sO=`uniform samplerCube skybox;	
uniform vec3 rotationAngles;

varying vec4 coords;

// ---  ---
mat3 rotateY(float angle) {
    float s = sin(angle);
    float c = cos(angle);
    return mat3(
        c,  0, s,
        0,  1, 0,
       -s,  0, c
    );
}

mat3 rotateX(float angle) {
    float s = sin(angle);
    float c = cos(angle);
    return mat3(
        1,  0,  0,
        0,  c, -s,
        0,  s,  c
    );
}

mat3 rotateZ(float angle) {
    float s = sin(angle);
    float c = cos(angle);
    return mat3(
        c, -s,  0,
        s,  c,  0,
        0,  0,  1
    );
}

void main() {
    // X 
    vec3 correctedCoords = vec3(-coords.x, coords.y, coords.z);
    
    // Y  X  Z 
    // Y
    mat3 rotationMatrix = rotateY(-rotationAngles.y) * rotateX(-rotationAngles.x) * rotateZ(-rotationAngles.z);
    
    // 
    vec3 rotatedCoords = rotationMatrix * correctedCoords;
    
    // 
    gl_FragColor = textureCube(skybox, rotatedCoords);

    #include <tonemapping_fragment>
    #include <colorspace_fragment>
}`,oO=`varying vec4 coords;

void main()	{

	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

	coords = modelMatrix * vec4( position, 1.0 );

	gl_Position = projectionMatrix * mvPosition;

}`;function lO(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var ac=1,nc=2,Pu=3,AO=4,s4=5,Y6=6378137,cO=6356752314e-3,P6=.0066943799901413165,p0=484813681109536e-20,Lt=Math.PI/2,uO=.16666666666666666,hO=.04722222222222222,dO=.022156084656084655,Wt=1e-10,Oa=.017453292519943295,co=57.29577951308232,hi=Math.PI/4,T0=Math.PI*2,Ha=3.14159265359,Un={};Un.greenwich=0;Un.lisbon=-9.131906111111;Un.paris=2.337229166667;Un.bogota=-74.080916666667;Un.madrid=-3.687938888889;Un.rome=12.452333333333;Un.bern=7.439583333333;Un.jakarta=106.807719444444;Un.ferro=-17.666666666667;Un.brussels=4.367975;Un.stockholm=18.058277777778;Un.athens=23.7163375;Un.oslo=10.722916666667;const fO={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.01},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var L6=/[\s_\-\/\(\)]/g;function Kl(t,e){if(t[e])return t[e];for(var r=Object.keys(t),n=e.toLowerCase().replace(L6,""),l=-1,h,u;++l<r.length;)if(h=r[l],u=h.toLowerCase().replace(L6,""),u===n)return t[h]}function o4(t){var e={},r=t.split("+").map(function(s){return s.trim()}).filter(function(s){return s}).reduce(function(s,v){var w=v.split("=");return w.push(!0),s[w[0].toLowerCase()]=w[1],s},{}),n,l,h,u={proj:"projName",datum:"datumCode",rf:function(s){e.rf=parseFloat(s)},lat_0:function(s){e.lat0=s*Oa},lat_1:function(s){e.lat1=s*Oa},lat_2:function(s){e.lat2=s*Oa},lat_ts:function(s){e.lat_ts=s*Oa},lon_0:function(s){e.long0=s*Oa},lon_1:function(s){e.long1=s*Oa},lon_2:function(s){e.long2=s*Oa},alpha:function(s){e.alpha=parseFloat(s)*Oa},gamma:function(s){e.rectified_grid_angle=parseFloat(s)},lonc:function(s){e.longc=s*Oa},x_0:function(s){e.x0=parseFloat(s)},y_0:function(s){e.y0=parseFloat(s)},k_0:function(s){e.k0=parseFloat(s)},k:function(s){e.k0=parseFloat(s)},a:function(s){e.a=parseFloat(s)},b:function(s){e.b=parseFloat(s)},r:function(s){e.a=e.b=parseFloat(s)},r_a:function(){e.R_A=!0},zone:function(s){e.zone=parseInt(s,10)},south:function(){e.utmSouth=!0},towgs84:function(s){e.datum_params=s.split(",").map(function(v){return parseFloat(v)})},to_meter:function(s){e.to_meter=parseFloat(s)},units:function(s){e.units=s;var v=Kl(fO,s);v&&(e.to_meter=v.to_meter)},from_greenwich:function(s){e.from_greenwich=s*Oa},pm:function(s){var v=Kl(Un,s);e.from_greenwich=(v||parseFloat(s))*Oa},nadgrids:function(s){s==="@null"?e.datumCode="none":e.nadgrids=s},axis:function(s){var v="ewnsud";s.length===3&&v.indexOf(s.substr(0,1))!==-1&&v.indexOf(s.substr(1,1))!==-1&&v.indexOf(s.substr(2,1))!==-1&&(e.axis=s)},approx:function(){e.approx=!0}};for(n in r)l=r[n],n in u?(h=u[n],typeof h=="function"?h(l):e[h]=l):e[n]=l;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var S0=1,Qw=2,Dw=3,ep=4,zw=5,o_=-1,gO=/\s/,pO=/[A-Za-z]/,mO=/[A-Za-z84_]/,Sp=/[,\]]/,Zw=/[\d\.E\-\+]/;function el(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=S0}el.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==ep)for(;gO.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case S0:return this.neutral(t);case Qw:return this.keyword(t);case ep:return this.quoted(t);case zw:return this.afterquote(t);case Dw:return this.number(t);case o_:return}};el.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=ep;return}if(Sp.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};el.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=S0;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=S0,this.currentObject=this.stack.pop(),this.currentObject||(this.state=o_);return}};el.prototype.number=function(t){if(Zw.test(t)){this.word+=t;return}if(Sp.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};el.prototype.quoted=function(t){if(t==='"'){this.state=zw;return}this.word+=t};el.prototype.keyword=function(t){if(mO.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=S0;return}if(Sp.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};el.prototype.neutral=function(t){if(pO.test(t)){this.word=t,this.state=Qw;return}if(t==='"'){this.word="",this.state=ep;return}if(Zw.test(t)){this.word=t,this.state=Dw;return}if(Sp.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};el.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===o_)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function _O(t){var e=new el(t);return e.output()}function sm(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var n=e?{}:t,l=r.reduce(function(h,u){return Cu(u,h),h},n);e&&(t[e]=l)}function Cu(t,e){if(!Array.isArray(t)){e[t]=!0;return}var r=t.shift();if(r==="PARAMETER"&&(r=t.shift()),t.length===1){if(Array.isArray(t[0])){e[r]={},Cu(t[0],e[r]);return}e[r]=t[0];return}if(!t.length){e[r]=!0;return}if(r==="TOWGS84"){e[r]=t;return}if(r==="AXIS"){r in e||(e[r]=[]),e[r].push(t);return}Array.isArray(r)||(e[r]={});var n;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[r]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Cu(t[2],e[r]);return;case"SPHEROID":case"ELLIPSOID":e[r]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Cu(t[3],e[r]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],sm(e,r,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],sm(e,r,t),e[r].type=r;return;default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return Cu(t,e[r]);return sm(e,r,t)}}var bO=.017453292519943295,yO=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function vO(t,e){var r=e[0],n=e[1];!(r in t)&&n in t&&(t[r]=t[n],e.length===3&&(t[r]=e[2](t[r])))}function no(t){return t*bO}function Ow(t){for(var e=Object.keys(t),r=0,n=e.length;r<n;++r){var l=e[r];yO.indexOf(l)!==-1&&xO(t[l]),typeof t[l]=="object"&&Ow(t[l])}}function xO(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var r="",n=0,l=t.AXIS.length;n<l;++n){var h=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];h[0].indexOf("north")!==-1||(h[0]==="y"||h[0]==="lat")&&h[1]==="north"?r+="n":h[0].indexOf("south")!==-1||(h[0]==="y"||h[0]==="lat")&&h[1]==="south"?r+="s":h[0].indexOf("east")!==-1||(h[0]==="x"||h[0]==="lon")&&h[1]==="east"?r+="e":(h[0].indexOf("west")!==-1||(h[0]==="x"||h[0]==="lon")&&h[1]==="west")&&(r+="w")}r.length===2&&(r+="u"),r.length===3&&(t.axis=r)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var u=t.GEOGCS;t.type==="GEOGCS"&&(u=t),u&&(u.DATUM?t.datumCode=u.DATUM.name.toLowerCase():t.datumCode=u.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),u.DATUM&&u.DATUM.SPHEROID&&(t.ellps=u.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=u.DATUM.SPHEROID.a,t.rf=parseFloat(u.DATUM.SPHEROID.rf,10)),u.DATUM&&u.DATUM.TOWGS84&&(t.datum_params=u.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function s(I){var M=t.to_meter||1;return I*M}var v=function(I){return vO(t,I)},w=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",no],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",no],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",no],["lat0","latitude_of_origin",no],["lat0","standard_parallel_1",no],["lat1","standard_parallel_1",no],["lat2","standard_parallel_2",no],["azimuth","Azimuth"],["alpha","azimuth",no],["srsCode","name"]];w.forEach(v),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=no(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=no(t.lat0>0?90:-90))}function Hw(t){var e=_O(t),r=e[0],n={};return Cu(e,n),Ow(n),n[r]}function hn(t){var e=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?hn[t]=o4(arguments[1]):hn[t]=Hw(arguments[1]):hn[t]=r}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(n){Array.isArray(n)?hn.apply(e,n):hn(n)});if(typeof t=="string"){if(t in hn)return hn[t]}else"EPSG"in t?hn["EPSG:"+t.EPSG]=t:"ESRI"in t?hn["ESRI:"+t.ESRI]=t:"IAU2000"in t?hn["IAU2000:"+t.IAU2000]=t:console.log(t);return}}lO(hn);function wO(t){return typeof t=="string"}function BO(t){return t in hn}var CO=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function MO(t){return CO.some(function(e){return t.indexOf(e)>-1})}var RO=["3857","900913","3785","102113"];function IO(t){var e=Kl(t,"authority");if(e){var r=Kl(e,"epsg");return r&&RO.indexOf(r)>-1}}function UO(t){var e=Kl(t,"extension");if(e)return Kl(e,"proj4")}function EO(t){return t[0]==="+"}function FO(t){if(wO(t)){if(BO(t))return hn[t];if(MO(t)){var e=Hw(t);if(IO(e))return hn["EPSG:3857"];var r=UO(e);return r?o4(r):e}if(EO(t))return o4(t)}else return t}function k6(t,e){t=t||{};var r,n;if(!e)return t;for(n in e)r=e[n],r!==void 0&&(t[n]=r);return t}function po(t,e,r){var n=t*e;return r/Math.sqrt(1-n*n)}function z0(t){return t<0?-1:1}function er(t){return Math.abs(t)<=Ha?t:t-z0(t)*T0}function Zs(t,e,r){var n=t*r,l=.5*t;return n=Math.pow((1-n)/(1+n),l),Math.tan(.5*(Lt-e))/n}function N0(t,e){for(var r=.5*t,n,l,h=Lt-2*Math.atan(e),u=0;u<=15;u++)if(n=t*Math.sin(h),l=Lt-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-h,h+=l,Math.abs(l)<=1e-10)return h;return-9999}function TO(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=po(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function SO(t){var e=t.x,r=t.y;if(r*co>90&&r*co<-90&&e*co>180&&e*co<-180)return null;var n,l;if(Math.abs(Math.abs(r)-Lt)<=Wt)return null;if(this.sphere)n=this.x0+this.a*this.k0*er(e-this.long0),l=this.y0+this.a*this.k0*Math.log(Math.tan(hi+.5*r));else{var h=Math.sin(r),u=Zs(this.e,r,h);n=this.x0+this.a*this.k0*er(e-this.long0),l=this.y0-this.a*this.k0*Math.log(u)}return t.x=n,t.y=l,t}function NO(t){var e=t.x-this.x0,r=t.y-this.y0,n,l;if(this.sphere)l=Lt-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var h=Math.exp(-r/(this.a*this.k0));if(l=N0(this.e,h),l===-9999)return null}return n=er(this.long0+e/(this.a*this.k0)),t.x=n,t.y=l,t}var YO=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const PO={init:TO,forward:SO,inverse:NO,names:YO};function LO(){}function Q6(t){return t}var kO=["longlat","identity"];const QO={init:LO,forward:Q6,inverse:Q6,names:kO};var DO=[PO,QO],fg={},tp=[];function Xw(t,e){var r=tp.length;return t.names?(tp[r]=t,t.names.forEach(function(n){fg[n.toLowerCase()]=r}),this):(console.log(e),!0)}function zO(t){if(!t)return!1;var e=t.toLowerCase();if(typeof fg[e]<"u"&&tp[fg[e]])return tp[fg[e]]}function ZO(){DO.forEach(Xw)}const OO={start:ZO,add:Xw,get:zO};var Sr={};Sr.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};Sr.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};Sr.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};Sr.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};Sr.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};Sr.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};Sr.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};Sr.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};Sr.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};Sr.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};Sr.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};Sr.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};Sr.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};Sr.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};Sr.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};Sr.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};Sr.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};Sr.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};Sr.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};Sr.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};Sr.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};Sr.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};Sr.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};Sr.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};Sr.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};Sr.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};Sr.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};Sr.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};Sr.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};Sr.hough={a:6378270,rf:297,ellipseName:"Hough"};Sr.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};Sr.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};Sr.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};Sr.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};Sr.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};Sr.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};Sr.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};Sr.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};Sr.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};Sr.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};Sr.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};Sr.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var HO=Sr.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Sr.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function XO(t,e,r,n){var l=t*t,h=e*e,u=(l-h)/l,s=0;n?(t*=1-u*(uO+u*(hO+u*dO)),l=t*t,u=0):s=Math.sqrt(u);var v=(l-h)/h;return{es:u,e:s,ep2:v}}function VO(t,e,r,n,l){if(!t){var h=Kl(Sr,n);h||(h=HO),t=h.a,e=h.b,r=h.rf}return r&&!e&&(e=(1-1/r)*t),(r===0||Math.abs(t-e)<Wt)&&(l=!0,e=t),{a:t,b:e,rf:r,sphere:l}}var gg={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};for(var GO in gg){var D6=gg[GO];gg[D6.datumName]=D6}function jO(t,e,r,n,l,h,u){var s={};return t===void 0||t==="none"?s.datum_type=s4:s.datum_type=AO,e&&(s.datum_params=e.map(parseFloat),(s.datum_params[0]!==0||s.datum_params[1]!==0||s.datum_params[2]!==0)&&(s.datum_type=ac),s.datum_params.length>3&&(s.datum_params[3]!==0||s.datum_params[4]!==0||s.datum_params[5]!==0||s.datum_params[6]!==0)&&(s.datum_type=nc,s.datum_params[3]*=p0,s.datum_params[4]*=p0,s.datum_params[5]*=p0,s.datum_params[6]=s.datum_params[6]/1e6+1)),u&&(s.datum_type=Pu,s.grids=u),s.a=r,s.b=n,s.es=l,s.ep2=h,s}var Vw={};function KO(t,e){var r=new DataView(e),n=WO(r),l=JO(r,n),h=eH(r,l,n),u={header:l,subgrids:h};return Vw[t]=u,u}function $O(t){if(t===void 0)return null;var e=t.split(",");return e.map(qO)}function qO(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Vw[t]||null,isNull:!1}}function Mu(t){return t/3600*Math.PI/180}function WO(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function JO(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:l4(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function l4(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function eH(t,e,r){for(var n=176,l=[],h=0;h<e.nSubgrids;h++){var u=rH(t,n,r),s=iH(t,n,u,r),v=Math.round(1+(u.upperLongitude-u.lowerLongitude)/u.longitudeInterval),w=Math.round(1+(u.upperLatitude-u.lowerLatitude)/u.latitudeInterval);l.push({ll:[Mu(u.lowerLongitude),Mu(u.lowerLatitude)],del:[Mu(u.longitudeInterval),Mu(u.latitudeInterval)],lim:[v,w],count:u.gridNodeCount,cvs:tH(s)}),n+=176+u.gridNodeCount*16}return l}function tH(t){return t.map(function(e){return[Mu(e.longitudeShift),Mu(e.latitudeShift)]})}function rH(t,e,r){return{name:l4(t,e+8,e+16).trim(),parent:l4(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}function iH(t,e,r,n){for(var l=e+176,h=16,u=[],s=0;s<r.gridNodeCount;s++){var v={latitudeShift:t.getFloat32(l+s*h,n),longitudeShift:t.getFloat32(l+s*h+4,n),latitudeAccuracy:t.getFloat32(l+s*h+8,n),longitudeAccuracy:t.getFloat32(l+s*h+12,n)};u.push(v)}return u}function go(t,e){if(!(this instanceof go))return new go(t);e=e||function(w){if(w)throw w};var r=FO(t);if(typeof r!="object"){e("Could not parse to valid json: "+t);return}var n=go.projections.get(r.projName);if(!n){e("Could not get projection name from: "+t);return}if(r.datumCode&&r.datumCode!=="none"){var l=Kl(gg,r.datumCode);l&&(r.datum_params=r.datum_params||(l.towgs84?l.towgs84.split(","):null),r.ellps=l.ellipse,r.datumName=l.datumName?l.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var h=VO(r.a,r.b,r.rf,r.ellps,r.sphere),u=XO(h.a,h.b,h.rf,r.R_A),s=$O(r.nadgrids),v=r.datum||jO(r.datumCode,r.datum_params,h.a,h.b,u.es,u.ep2,s);k6(this,r),k6(this,n),this.a=h.a,this.b=h.b,this.rf=h.rf,this.sphere=h.sphere,this.es=u.es,this.e=u.e,this.ep2=u.ep2,this.datum=v,this.init(),e(null,this)}go.projections=OO;go.projections.start();function aH(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===ac?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===nc?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function Gw(t,e,r){var n=t.x,l=t.y,h=t.z?t.z:0,u,s,v,w;if(l<-Lt&&l>-1.001*Lt)l=-Lt;else if(l>Lt&&l<1.001*Lt)l=Lt;else{if(l<-Lt)return{x:-1/0,y:-1/0,z:t.z};if(l>Lt)return{x:1/0,y:1/0,z:t.z}}return n>Math.PI&&(n-=2*Math.PI),s=Math.sin(l),w=Math.cos(l),v=s*s,u=r/Math.sqrt(1-e*v),{x:(u+h)*w*Math.cos(n),y:(u+h)*w*Math.sin(n),z:(u*(1-e)+h)*s}}function jw(t,e,r,n){var l=1e-12,h=l*l,u=30,s,v,w,I,M,U,C,S,k,z,Z,G,se,re=t.x,Ae=t.y,J=t.z?t.z:0,te,X,W;if(s=Math.sqrt(re*re+Ae*Ae),v=Math.sqrt(re*re+Ae*Ae+J*J),s/r<l){if(te=0,v/r<l)return X=Lt,W=-n,{x:t.x,y:t.y,z:t.z}}else te=Math.atan2(Ae,re);w=J/v,I=s/v,M=1/Math.sqrt(1-e*(2-e)*I*I),S=I*(1-e)*M,k=w*M,se=0;do se++,C=r/Math.sqrt(1-e*k*k),W=s*S+J*k-C*(1-e*k*k),U=e*C/(C+W),M=1/Math.sqrt(1-U*(2-U)*I*I),z=I*(1-U)*M,Z=w*M,G=Z*S-z*k,S=z,k=Z;while(G*G>h&&se<u);return X=Math.atan(Z/Math.abs(z)),{x:te,y:X,z:W}}function nH(t,e,r){if(e===ac)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===nc){var n=r[0],l=r[1],h=r[2],u=r[3],s=r[4],v=r[5],w=r[6];return{x:w*(t.x-v*t.y+s*t.z)+n,y:w*(v*t.x+t.y-u*t.z)+l,z:w*(-s*t.x+u*t.y+t.z)+h}}}function sH(t,e,r){if(e===ac)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===nc){var n=r[0],l=r[1],h=r[2],u=r[3],s=r[4],v=r[5],w=r[6],I=(t.x-n)/w,M=(t.y-l)/w,U=(t.z-h)/w;return{x:I+v*M-s*U,y:-v*I+M+u*U,z:s*I-u*M+U}}}function V1(t){return t===ac||t===nc}function oH(t,e,r){if(aH(t,e)||t.datum_type===s4||e.datum_type===s4)return r;var n=t.a,l=t.es;if(t.datum_type===Pu){var h=z6(t,!1,r);if(h!==0)return;n=Y6,l=P6}var u=e.a,s=e.b,v=e.es;if(e.datum_type===Pu&&(u=Y6,s=cO,v=P6),l===v&&n===u&&!V1(t.datum_type)&&!V1(e.datum_type))return r;if(r=Gw(r,l,n),V1(t.datum_type)&&(r=nH(r,t.datum_type,t.datum_params)),V1(e.datum_type)&&(r=sH(r,e.datum_type,e.datum_params)),r=jw(r,v,u,s),e.datum_type===Pu){var w=z6(e,!0,r);if(w!==0)return}return r}function z6(t,e,r){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var n={x:-r.x,y:r.y},l={x:Number.NaN,y:Number.NaN},h=[];e:for(var u=0;u<t.grids.length;u++){var s=t.grids[u];if(h.push(s.name),s.isNull){l=n;break}if(s.mandatory,s.grid===null){if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1;continue}for(var v=s.grid.subgrids,w=0,I=v.length;w<I;w++){var M=v[w],U=(Math.abs(M.del[1])+Math.abs(M.del[0]))/1e4,C=M.ll[0]-U,S=M.ll[1]-U,k=M.ll[0]+(M.lim[0]-1)*M.del[0]+U,z=M.ll[1]+(M.lim[1]-1)*M.del[1]+U;if(!(S>n.y||C>n.x||z<n.y||k<n.x)&&(l=lH(n,e,M),!isNaN(l.x)))break e}}return isNaN(l.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*co+" "+n.y*co+" tried: '"+h+"'"),-1):(r.x=-l.x,r.y=l.y,0)}function lH(t,e,r){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var l={x:t.x,y:t.y};l.x-=r.ll[0],l.y-=r.ll[1],l.x=er(l.x-Math.PI)+Math.PI;var h=Z6(l,r);if(e){if(isNaN(h.x))return n;h.x=l.x-h.x,h.y=l.y-h.y;var u=9,s=1e-12,v,w;do{if(w=Z6(h,r),isNaN(w.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}v={x:l.x-(w.x+h.x),y:l.y-(w.y+h.y)},h.x+=v.x,h.y+=v.y}while(u--&&Math.abs(v.x)>s&&Math.abs(v.y)>s);if(u<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=er(h.x+r.ll[0]),n.y=h.y+r.ll[1]}else isNaN(h.x)||(n.x=t.x+h.x,n.y=t.y+h.y);return n}function Z6(t,e){var r={x:t.x/e.del[0],y:t.y/e.del[1]},n={x:Math.floor(r.x),y:Math.floor(r.y)},l={x:r.x-1*n.x,y:r.y-1*n.y},h={x:Number.NaN,y:Number.NaN},u;if(n.x<0||n.x>=e.lim[0]||n.y<0||n.y>=e.lim[1])return h;u=n.y*e.lim[0]+n.x;var s={x:e.cvs[u][0],y:e.cvs[u][1]};u++;var v={x:e.cvs[u][0],y:e.cvs[u][1]};u+=e.lim[0];var w={x:e.cvs[u][0],y:e.cvs[u][1]};u--;var I={x:e.cvs[u][0],y:e.cvs[u][1]},M=l.x*l.y,U=l.x*(1-l.y),C=(1-l.x)*(1-l.y),S=(1-l.x)*l.y;return h.x=C*s.x+U*v.x+S*I.x+M*w.x,h.y=C*s.y+U*v.y+S*I.y+M*w.y,h}function O6(t,e,r){var n=r.x,l=r.y,h=r.z||0,u,s,v,w={};for(v=0;v<3;v++)if(!(e&&v===2&&r.z===void 0))switch(v===0?(u=n,"ew".indexOf(t.axis[v])!==-1?s="x":s="y"):v===1?(u=l,"ns".indexOf(t.axis[v])!==-1?s="y":s="x"):(u=h,s="z"),t.axis[v]){case"e":w[s]=u;break;case"w":w[s]=-u;break;case"n":w[s]=u;break;case"s":w[s]=-u;break;case"u":r[s]!==void 0&&(w.z=u);break;case"d":r[s]!==void 0&&(w.z=-u);break;default:return null}return w}function Kw(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function AH(t){H6(t.x),H6(t.y)}function H6(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function cH(t,e){return(t.datum.datum_type===ac||t.datum.datum_type===nc||t.datum.datum_type===Pu)&&e.datumCode!=="WGS84"||(e.datum.datum_type===ac||e.datum.datum_type===nc||e.datum.datum_type===Pu)&&t.datumCode!=="WGS84"}function rp(t,e,r,n){var l;Array.isArray(r)?r=Kw(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var h=r.z!==void 0;if(AH(r),t.datum&&e.datum&&cH(t,e)&&(l=new go("WGS84"),r=rp(t,l,r,n),t=l),n&&t.axis!=="enu"&&(r=O6(t,!1,r)),t.projName==="longlat")r={x:r.x*Oa,y:r.y*Oa,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),r=t.inverse(r),!r)return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=oH(t.datum,e.datum,r),!!r)return e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),e.projName==="longlat"?r={x:r.x*co,y:r.y*co,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),n&&e.axis!=="enu"?O6(e,!0,r):(r&&!h&&delete r.z,r)}var X6=go("WGS84");function om(t,e,r,n){var l,h,u;return Array.isArray(r)?(l=rp(t,e,r,n)||{x:NaN,y:NaN},r.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof l.z=="number"?[l.x,l.y,l.z].concat(r.slice(3)):[l.x,l.y,r[2]].concat(r.slice(3)):[l.x,l.y].concat(r.slice(2)):[l.x,l.y]):(h=rp(t,e,r,n),u=Object.keys(r),u.length===2||u.forEach(function(s){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(s==="x"||s==="y"||s==="z")return}else if(s==="x"||s==="y")return;h[s]=r[s]}),h)}function V6(t){return t instanceof go?t:t.oProj?t.oProj:go(t)}function Kn(t,e,r){t=V6(t);var n=!1,l;return typeof e>"u"?(e=t,t=X6,n=!0):(typeof e.x<"u"||Array.isArray(e))&&(r=e,e=t,t=X6,n=!0),e=V6(e),r?om(t,e,r):(l={forward:function(h,u){return om(t,e,h,u)},inverse:function(h,u){return om(e,t,h,u)}},n&&(l.oProj=e),l)}var G6=6,$w="AJSAJS",qw="AFAFAF",Ru=65,wn=73,As=79,Jd=86,e0=90;const uH={forward:Ww,inverse:hH,toPoint:Jw};function Ww(t,e){return e=e||5,gH(dH({lat:t[1],lon:t[0]}),e)}function hH(t){var e=l_(t9(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function Jw(t){var e=l_(t9(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function lm(t){return t*(Math.PI/180)}function j6(t){return 180*(t/Math.PI)}function dH(t){var e=t.lat,r=t.lon,n=6378137,l=.00669438,h=.9996,u,s,v,w,I,M,U,C=lm(e),S=lm(r),k,z;z=Math.floor((r+180)/6)+1,r===180&&(z=60),e>=56&&e<64&&r>=3&&r<12&&(z=32),e>=72&&e<84&&(r>=0&&r<9?z=31:r>=9&&r<21?z=33:r>=21&&r<33?z=35:r>=33&&r<42&&(z=37)),u=(z-1)*6-180+3,k=lm(u),s=l/(1-l),v=n/Math.sqrt(1-l*Math.sin(C)*Math.sin(C)),w=Math.tan(C)*Math.tan(C),I=s*Math.cos(C)*Math.cos(C),M=Math.cos(C)*(S-k),U=n*((1-l/4-3*l*l/64-5*l*l*l/256)*C-(3*l/8+3*l*l/32+45*l*l*l/1024)*Math.sin(2*C)+(15*l*l/256+45*l*l*l/1024)*Math.sin(4*C)-35*l*l*l/3072*Math.sin(6*C));var Z=h*v*(M+(1-w+I)*M*M*M/6+(5-18*w+w*w+72*I-58*s)*M*M*M*M*M/120)+5e5,G=h*(U+v*Math.tan(C)*(M*M/2+(5-w+9*I+4*I*I)*M*M*M*M/24+(61-58*w+w*w+600*I-330*s)*M*M*M*M*M*M/720));return e<0&&(G+=1e7),{northing:Math.round(G),easting:Math.round(Z),zoneNumber:z,zoneLetter:fH(e)}}function l_(t){var e=t.northing,r=t.easting,n=t.zoneLetter,l=t.zoneNumber;if(l<0||l>60)return null;var h=.9996,u=6378137,s=.00669438,v,w=(1-Math.sqrt(1-s))/(1+Math.sqrt(1-s)),I,M,U,C,S,k,z,Z,G,se=r-5e5,re=e;n<"N"&&(re-=1e7),z=(l-1)*6-180+3,v=s/(1-s),k=re/h,Z=k/(u*(1-s/4-3*s*s/64-5*s*s*s/256)),G=Z+(3*w/2-27*w*w*w/32)*Math.sin(2*Z)+(21*w*w/16-55*w*w*w*w/32)*Math.sin(4*Z)+151*w*w*w/96*Math.sin(6*Z),I=u/Math.sqrt(1-s*Math.sin(G)*Math.sin(G)),M=Math.tan(G)*Math.tan(G),U=v*Math.cos(G)*Math.cos(G),C=u*(1-s)/Math.pow(1-s*Math.sin(G)*Math.sin(G),1.5),S=se/(I*h);var Ae=G-I*Math.tan(G)/C*(S*S/2-(5+3*M+10*U-4*U*U-9*v)*S*S*S*S/24+(61+90*M+298*U+45*M*M-252*v-3*U*U)*S*S*S*S*S*S/720);Ae=j6(Ae);var J=(S-(1+2*M+U)*S*S*S/6+(5-2*U+28*M-3*U*U+8*v+24*M*M)*S*S*S*S*S/120)/Math.cos(G);J=z+j6(J);var te;if(t.accuracy){var X=l_({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});te={top:X.lat,right:X.lon,bottom:Ae,left:J}}else te={lat:Ae,lon:J};return te}function fH(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function gH(t,e){var r="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+pH(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+n.substr(n.length-5,e)}function pH(t,e,r){var n=e9(r),l=Math.floor(t/1e5),h=Math.floor(e/1e5)%20;return mH(l,h,n)}function e9(t){var e=t%G6;return e===0&&(e=G6),e}function mH(t,e,r){var n=r-1,l=$w.charCodeAt(n),h=qw.charCodeAt(n),u=l+t-1,s=h+e,v=!1;u>e0&&(u=u-e0+Ru-1,v=!0),(u===wn||l<wn&&u>wn||(u>wn||l<wn)&&v)&&u++,(u===As||l<As&&u>As||(u>As||l<As)&&v)&&(u++,u===wn&&u++),u>e0&&(u=u-e0+Ru-1),s>Jd?(s=s-Jd+Ru-1,v=!0):v=!1,(s===wn||h<wn&&s>wn||(s>wn||h<wn)&&v)&&s++,(s===As||h<As&&s>As||(s>As||h<As)&&v)&&(s++,s===wn&&s++),s>Jd&&(s=s-Jd+Ru-1);var w=String.fromCharCode(u)+String.fromCharCode(s);return w}function t9(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,r=null,n="",l,h=0;!/[A-Z]/.test(l=t.charAt(h));){if(h>=2)throw"MGRSPoint bad conversion from: "+t;n+=l,h++}var u=parseInt(n,10);if(h===0||h+3>e)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(h++);if(s<="A"||s==="B"||s==="Y"||s>="Z"||s==="I"||s==="O")throw"MGRSPoint zone letter "+s+" not handled: "+t;r=t.substring(h,h+=2);for(var v=e9(u),w=_H(r.charAt(0),v),I=bH(r.charAt(1),v);I<yH(s);)I+=2e6;var M=e-h;if(M%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var U=M/2,C=0,S=0,k,z,Z,G,se;return U>0&&(k=1e5/Math.pow(10,U),z=t.substring(h,h+U),C=parseFloat(z)*k,Z=t.substring(h+U),S=parseFloat(Z)*k),G=C+w,se=S+I,{easting:G,northing:se,zoneLetter:s,zoneNumber:u,accuracy:k}}function _H(t,e){for(var r=$w.charCodeAt(e-1),n=1e5,l=!1;r!==t.charCodeAt(0);){if(r++,r===wn&&r++,r===As&&r++,r>e0){if(l)throw"Bad character: "+t;r=Ru,l=!0}n+=1e5}return n}function bH(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=qw.charCodeAt(e-1),n=0,l=!1;r!==t.charCodeAt(0);){if(r++,r===wn&&r++,r===As&&r++,r>Jd){if(l)throw"Bad character: "+t;r=Ru,l=!0}n+=1e5}return n}function yH(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function ju(t,e,r){if(!(this instanceof ju))return new ju(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}ju.fromMGRS=function(t){return new ju(Jw(t))};ju.prototype.toMGRS=function(t){return Ww([this.x,this.y],t)};var vH=1,xH=.25,K6=.046875,$6=.01953125,q6=.01068115234375,wH=.75,BH=.46875,CH=.013020833333333334,MH=.007120768229166667,RH=.3645833333333333,IH=.005696614583333333,UH=.3076171875;function A_(t){var e=[];e[0]=vH-t*(xH+t*(K6+t*($6+t*q6))),e[1]=t*(wH-t*(K6+t*($6+t*q6)));var r=t*t;return e[2]=r*(BH-t*(CH+t*MH)),r*=t,e[3]=r*(RH-t*IH),e[4]=r*t*UH,e}function ih(t,e,r,n){return r*=e,e*=e,n[0]*t-r*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}var EH=20;function c_(t,e,r){for(var n=1/(1-e),l=t,h=EH;h;--h){var u=Math.sin(l),s=1-e*u*u;if(s=(ih(l,u,Math.cos(l),r)-t)*(s*Math.sqrt(s))*n,l-=s,Math.abs(s)<Wt)return l}return l}function FH(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=A_(this.es),this.ml0=ih(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function TH(t){var e=t.x,r=t.y,n=er(e-this.long0),l,h,u,s=Math.sin(r),v=Math.cos(r);if(this.es){var I=v*n,M=Math.pow(I,2),U=this.ep2*Math.pow(v,2),C=Math.pow(U,2),S=Math.abs(v)>Wt?Math.tan(r):0,k=Math.pow(S,2),z=Math.pow(k,2);l=1-this.es*Math.pow(s,2),I=I/Math.sqrt(l);var Z=ih(r,s,v,this.en);h=this.a*(this.k0*I*(1+M/6*(1-k+U+M/20*(5-18*k+z+14*U-58*k*U+M/42*(61+179*z-z*k-479*k)))))+this.x0,u=this.a*(this.k0*(Z-this.ml0+s*n*I/2*(1+M/12*(5-k+9*U+4*C+M/30*(61+z-58*k+270*U-330*k*U+M/56*(1385+543*z-z*k-3111*k))))))+this.y0}else{var w=v*Math.sin(n);if(Math.abs(Math.abs(w)-1)<Wt)return 93;if(h=.5*this.a*this.k0*Math.log((1+w)/(1-w))+this.x0,u=v*Math.cos(n)/Math.sqrt(1-Math.pow(w,2)),w=Math.abs(u),w>=1){if(w-1>Wt)return 93;u=0}else u=Math.acos(u);r<0&&(u=-u),u=this.a*this.k0*(u-this.lat0)+this.y0}return t.x=h,t.y=u,t}function SH(t){var e,r,n,l,h=(t.x-this.x0)*(1/this.a),u=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+u/this.k0,r=c_(e,this.es,this.en),Math.abs(r)<Lt){var M=Math.sin(r),U=Math.cos(r),C=Math.abs(U)>Wt?Math.tan(r):0,S=this.ep2*Math.pow(U,2),k=Math.pow(S,2),z=Math.pow(C,2),Z=Math.pow(z,2);e=1-this.es*Math.pow(M,2);var G=h*Math.sqrt(e)/this.k0,se=Math.pow(G,2);e=e*C,n=r-e*se/(1-this.es)*.5*(1-se/12*(5+3*z-9*S*z+S-4*k-se/30*(61+90*z-252*S*z+45*Z+46*S-se/56*(1385+3633*z+4095*Z+1574*Z*z)))),l=er(this.long0+G*(1-se/6*(1+2*z+S-se/20*(5+28*z+24*Z+8*S*z+6*S-se/42*(61+662*z+1320*Z+720*Z*z))))/U)}else n=Lt*z0(u),l=0;else{var s=Math.exp(h/this.k0),v=.5*(s-1/s),w=this.lat0+u/this.k0,I=Math.cos(w);e=Math.sqrt((1-Math.pow(I,2))/(1+Math.pow(v,2))),n=Math.asin(e),u<0&&(n=-n),v===0&&I===0?l=0:l=er(Math.atan2(v,I)+this.long0)}return t.x=l,t.y=n,t}var NH=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const pg={init:FH,forward:TH,inverse:SH,names:NH};function r9(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function Mn(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),n=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(n,2))}function YH(t){var e=1+t,r=e-1;return r===0?t:t*Math.log(e)/r}function PH(t){var e=Math.abs(t);return e=YH(e*(1+e/(Mn(1,e)+1))),t<0?-e:e}function u_(t,e){for(var r=2*Math.cos(2*e),n=t.length-1,l=t[n],h=0,u;--n>=0;)u=-h+r*l+t[n],h=l,l=u;return e+u*Math.sin(2*e)}function LH(t,e){for(var r=2*Math.cos(e),n=t.length-1,l=t[n],h=0,u;--n>=0;)u=-h+r*l+t[n],h=l,l=u;return Math.sin(e)*u}function kH(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function i9(t,e,r){for(var n=Math.sin(e),l=Math.cos(e),h=r9(r),u=kH(r),s=2*l*u,v=-2*n*h,w=t.length-1,I=t[w],M=0,U=0,C=0,S,k;--w>=0;)S=U,k=M,U=I,M=C,I=-S+s*U-v*M+t[w],C=-k+v*U+s*M;return s=n*u,v=l*h,[s*I-v*C,s*C+v*I]}function QH(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(pg.init.apply(this),this.forward=pg.forward,this.inverse=pg.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),r=r*e,this.cgb[1]=r*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r=r*e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),r=r*e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(-12/5+e*(-24832/14175))),r=r*e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r=r*e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),r=r*e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r=r*e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r=r*e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r=r*e,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var n=u_(this.cbg,this.lat0);this.Zb=-this.Qn*(n+LH(this.gtu,2*n))}function DH(t){var e=er(t.x-this.long0),r=t.y;r=u_(this.cbg,r);var n=Math.sin(r),l=Math.cos(r),h=Math.sin(e),u=Math.cos(e);r=Math.atan2(n,u*l),e=Math.atan2(h*l,Mn(n,l*u)),e=PH(Math.tan(e));var s=i9(this.gtu,2*r,2*e);r=r+s[0],e=e+s[1];var v,w;return Math.abs(e)<=2.623395162778?(v=this.a*(this.Qn*e)+this.x0,w=this.a*(this.Qn*r+this.Zb)+this.y0):(v=1/0,w=1/0),t.x=v,t.y=w,t}function zH(t){var e=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,e=e/this.Qn;var n,l;if(Math.abs(e)<=2.623395162778){var h=i9(this.utg,2*r,2*e);r=r+h[0],e=e+h[1],e=Math.atan(r9(e));var u=Math.sin(r),s=Math.cos(r),v=Math.sin(e),w=Math.cos(e);r=Math.atan2(u*w,Mn(v,w*s)),e=Math.atan2(v,w*s),n=er(e+this.long0),l=u_(this.cgb,r)}else n=1/0,l=1/0;return t.x=n,t.y=l,t}var ZH=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const mg={init:QH,forward:DH,inverse:zH,names:ZH};function OH(t,e){if(t===void 0){if(t=Math.floor((er(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var HH="etmerc";function XH(){var t=OH(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Oa,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,mg.init.apply(this),this.forward=mg.forward,this.inverse=mg.inverse}var VH=["Universal Transverse Mercator System","utm"];const GH={init:XH,names:VH,dependsOn:HH};function h_(t,e){return Math.pow((1-t)/(1+t),e)}var jH=20;function KH(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+hi)/(Math.pow(Math.tan(.5*this.lat0+hi),this.C)*h_(this.e*t,this.ratexp))}function $H(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+hi),this.C)*h_(this.e*Math.sin(r),this.ratexp))-Lt,t.x=this.C*e,t}function qH(t){for(var e=1e-14,r=t.x/this.C,n=t.y,l=Math.pow(Math.tan(.5*n+hi)/this.K,1/this.C),h=jH;h>0&&(n=2*Math.atan(l*h_(this.e*Math.sin(t.y),-.5*this.e))-Lt,!(Math.abs(n-t.y)<e));--h)t.y=n;return h?(t.x=r,t.y=n,t):null}const d_={init:KH,forward:$H,inverse:qH};function WH(){d_.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function JH(t){var e,r,n,l;return t.x=er(t.x-this.long0),d_.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),l=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*n),t.x=l*r*Math.sin(t.x),t.y=l*(this.cosc0*e-this.sinc0*r*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function eX(t){var e,r,n,l,h;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,h=Mn(t.x,t.y)){var u=2*Math.atan2(h,this.R2);e=Math.sin(u),r=Math.cos(u),l=Math.asin(r*this.sinc0+t.y*e*this.cosc0/h),n=Math.atan2(t.x*e,h*this.cosc0*r-t.y*this.sinc0*e)}else l=this.phic0,n=0;return t.x=n,t.y=l,d_.inverse.apply(this,[t]),t.x=er(t.x+this.long0),t}var tX=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const rX={init:WH,forward:JH,inverse:eX,names:tX};function iX(t,e,r){return e*=r,Math.tan(.5*(Lt+t))*Math.pow((1-e)/(1+e),.5*r)}function aX(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Wt&&(this.k0=.5*(1+z0(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Wt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Wt&&Math.abs(Math.cos(this.lat_ts))>Wt&&(this.k0=.5*this.cons*po(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Zs(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=po(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Lt,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function nX(t){var e=t.x,r=t.y,n=Math.sin(r),l=Math.cos(r),h,u,s,v,w,I,M=er(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=Wt&&Math.abs(r+this.lat0)<=Wt?(t.x=NaN,t.y=NaN,t):this.sphere?(h=2*this.k0/(1+this.sinlat0*n+this.coslat0*l*Math.cos(M)),t.x=this.a*h*l*Math.sin(M)+this.x0,t.y=this.a*h*(this.coslat0*n-this.sinlat0*l*Math.cos(M))+this.y0,t):(u=2*Math.atan(this.ssfn_(r,n,this.e))-Lt,v=Math.cos(u),s=Math.sin(u),Math.abs(this.coslat0)<=Wt?(w=Zs(this.e,r*this.con,this.con*n),I=2*this.a*this.k0*w/this.cons,t.x=this.x0+I*Math.sin(e-this.long0),t.y=this.y0-this.con*I*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<Wt?(h=2*this.a*this.k0/(1+v*Math.cos(M)),t.y=h*s):(h=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*v*Math.cos(M))),t.y=h*(this.cosX0*s-this.sinX0*v*Math.cos(M))+this.y0),t.x=h*v*Math.sin(M)+this.x0,t))}function sX(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,l,h,u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(u/(2*this.a*this.k0));return e=this.long0,r=this.lat0,u<=Wt?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/u),Math.abs(this.coslat0)<Wt?this.lat0>0?e=er(this.long0+Math.atan2(t.x,-1*t.y)):e=er(this.long0+Math.atan2(t.x,t.y)):e=er(this.long0+Math.atan2(t.x*Math.sin(s),u*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=r,t)}else if(Math.abs(this.coslat0)<=Wt){if(u<=Wt)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,n=u*this.cons/(2*this.a*this.k0),r=this.con*N0(this.e,n),e=this.con*er(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else l=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,u<=Wt?h=this.X0:(h=Math.asin(Math.cos(l)*this.sinX0+t.y*Math.sin(l)*this.cosX0/u),e=er(this.long0+Math.atan2(t.x*Math.sin(l),u*this.cosX0*Math.cos(l)-t.y*this.sinX0*Math.sin(l)))),r=-1*N0(this.e,Math.tan(.5*(Lt+h)));return t.x=e,t.y=r,t}var oX=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const lX={init:aX,forward:nX,inverse:sX,names:oX,ssfn_:iX};function AX(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,n=this.rf,l=1/n,h=2*l-Math.pow(l,2),u=this.e=Math.sqrt(h);this.R=this.k0*r*Math.sqrt(1-h)/(1-h*Math.pow(e,2)),this.alpha=Math.sqrt(1+h/(1-h)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),v=Math.log(Math.tan(Math.PI/4+t/2)),w=Math.log((1+u*e)/(1-u*e));this.K=s-this.alpha*v+this.alpha*u/2*w}function cX(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+r)+this.K,l=2*(Math.atan(Math.exp(n))-Math.PI/4),h=this.alpha*(t.x-this.lambda0),u=Math.atan(Math.sin(h)/(Math.sin(this.b0)*Math.tan(l)+Math.cos(this.b0)*Math.cos(h))),s=Math.asin(Math.cos(this.b0)*Math.sin(l)-Math.sin(this.b0)*Math.cos(l)*Math.cos(h));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*u+this.x0,t}function uX(t){for(var e=t.x-this.x0,r=t.y-this.y0,n=e/this.R,l=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),h=Math.asin(Math.cos(this.b0)*Math.sin(l)+Math.sin(this.b0)*Math.cos(l)*Math.cos(n)),u=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(l))),s=this.lambda0+u/this.alpha,v=0,w=h,I=-1e3,M=0;Math.abs(w-I)>1e-7;){if(++M>20)return;v=1/this.alpha*(Math.log(Math.tan(Math.PI/4+h/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(w))/2)),I=w,w=2*Math.atan(Math.exp(v))-Math.PI/2}return t.x=s,t.y=w,t}var hX=["somerc"];const dX={init:AX,forward:cX,inverse:uX,names:hX};var wu=1e-7;function fX(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(r)!==-1}function gX(){var t,e,r,n,l,h,u,s,v,w,I=0,M,U=0,C=0,S=0,k=0,z=0,Z=0;this.no_off=fX(this),this.no_rot="no_rot"in this;var G=!1;"alpha"in this&&(G=!0);var se=!1;if("rectified_grid_angle"in this&&(se=!0),G&&(Z=this.alpha),se&&(I=this.rectified_grid_angle*Oa),G||se)U=this.longc;else if(C=this.long1,k=this.lat1,S=this.long2,z=this.lat2,Math.abs(k-z)<=wu||(t=Math.abs(k))<=wu||Math.abs(t-Lt)<=wu||Math.abs(Math.abs(this.lat0)-Lt)<=wu||Math.abs(Math.abs(z)-Lt)<=wu)throw new Error;var re=1-this.es;e=Math.sqrt(re),Math.abs(this.lat0)>Wt?(s=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*s*s,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/re),this.A=this.B*this.k0*e/t,n=this.B*e/(r*Math.sqrt(t)),l=n*n-1,l<=0?l=0:(l=Math.sqrt(l),this.lat0<0&&(l=-l)),this.E=l+=n,this.E*=Math.pow(Zs(this.e,this.lat0,s),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=l=1),G||se?(G?(M=Math.asin(Math.sin(Z)/n),se||(I=Z)):(M=I,Z=Math.asin(n*Math.sin(M))),this.lam0=U-Math.asin(.5*(l-1/l)*Math.tan(M))/this.B):(h=Math.pow(Zs(this.e,k,Math.sin(k)),this.B),u=Math.pow(Zs(this.e,z,Math.sin(z)),this.B),l=this.E/h,v=(u-h)/(u+h),w=this.E*this.E,w=(w-u*h)/(w+u*h),t=C-S,t<-Math.pi?S-=T0:t>Math.pi&&(S+=T0),this.lam0=er(.5*(C+S)-Math.atan(w*Math.tan(.5*this.B*(C-S))/v)/this.B),M=Math.atan(2*Math.sin(this.B*er(C-this.lam0))/(l-1/l)),I=Z=Math.asin(n*Math.sin(M))),this.singam=Math.sin(M),this.cosgam=Math.cos(M),this.sinrot=Math.sin(I),this.cosrot=Math.cos(I),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(Z))),this.lat0<0&&(this.u_0=-this.u_0)),l=.5*M,this.v_pole_n=this.ArB*Math.log(Math.tan(hi-l)),this.v_pole_s=this.ArB*Math.log(Math.tan(hi+l))}function pX(t){var e={},r,n,l,h,u,s,v,w;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-Lt)>Wt){if(u=this.E/Math.pow(Zs(this.e,t.y,Math.sin(t.y)),this.B),s=1/u,r=.5*(u-s),n=.5*(u+s),h=Math.sin(this.B*t.x),l=(r*this.singam-h*this.cosgam)/n,Math.abs(Math.abs(l)-1)<Wt)throw new Error;w=.5*this.ArB*Math.log((1-l)/(1+l)),s=Math.cos(this.B*t.x),Math.abs(s)<wu?v=this.A*t.x:v=this.ArB*Math.atan2(r*this.cosgam+h*this.singam,s)}else w=t.y>0?this.v_pole_n:this.v_pole_s,v=this.ArB*t.y;return this.no_rot?(e.x=v,e.y=w):(v-=this.u_0,e.x=w*this.cosrot+v*this.sinrot,e.y=v*this.cosrot-w*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function mX(t){var e,r,n,l,h,u,s,v={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(r=t.y,e=t.x):(r=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),n=Math.exp(-this.BrA*r),l=.5*(n-1/n),h=.5*(n+1/n),u=Math.sin(this.BrA*e),s=(u*this.cosgam+l*this.singam)/h,Math.abs(Math.abs(s)-1)<Wt)v.x=0,v.y=s<0?-Lt:Lt;else{if(v.y=this.E/Math.sqrt((1+s)/(1-s)),v.y=N0(this.e,Math.pow(v.y,1/this.B)),v.y===1/0)throw new Error;v.x=-this.rB*Math.atan2(l*this.cosgam-u*this.singam,Math.cos(this.BrA*e))}return v.x+=this.lam0,v}var _X=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const bX={init:gX,forward:pX,inverse:mX,names:_X};function yX(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Wt)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),n=po(this.e,e,r),l=Zs(this.e,this.lat1,e),h=Math.sin(this.lat2),u=Math.cos(this.lat2),s=po(this.e,h,u),v=Zs(this.e,this.lat2,h),w=Zs(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Wt?this.ns=Math.log(n/s)/Math.log(l/v):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(l,this.ns)),this.rh=this.a*this.f0*Math.pow(w,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function vX(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=Wt&&(r=z0(r)*(Lt-2*Wt));var n=Math.abs(Math.abs(r)-Lt),l,h;if(n>Wt)l=Zs(this.e,r,Math.sin(r)),h=this.a*this.f0*Math.pow(l,this.ns);else{if(n=r*this.ns,n<=0)return null;h=0}var u=this.ns*er(e-this.long0);return t.x=this.k0*(h*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-h*Math.cos(u))+this.y0,t}function xX(t){var e,r,n,l,h,u=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(u*u+s*s),r=1):(e=-Math.sqrt(u*u+s*s),r=-1);var v=0;if(e!==0&&(v=Math.atan2(r*u,r*s)),e!==0||this.ns>0){if(r=1/this.ns,n=Math.pow(e/(this.a*this.f0),r),l=N0(this.e,n),l===-9999)return null}else l=-Lt;return h=er(v/this.ns+this.long0),t.x=h,t.y=l,t}var wX=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const BX={init:yX,forward:vX,inverse:xX,names:wX};function CX(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function MX(t){var e,r,n,l,h,u,s,v=t.x,w=t.y,I=er(v-this.long0);return e=Math.pow((1+this.e*Math.sin(w))/(1-this.e*Math.sin(w)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(w/2+this.s45),this.alfa)/e)-this.s45),n=-I*this.alfa,l=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),h=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(l)),u=this.n*h,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(l/2+this.s45),this.n),t.y=s*Math.cos(u)/1,t.x=s*Math.sin(u)/1,this.czech||(t.y*=-1,t.x*=-1),t}function RX(t){var e,r,n,l,h,u,s,v,w=t.x;t.x=t.y,t.y=w,this.czech||(t.y*=-1,t.x*=-1),u=Math.sqrt(t.x*t.x+t.y*t.y),h=Math.atan2(t.y,t.x),l=h/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/u,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(l)),r=Math.asin(Math.cos(n)*Math.sin(l)/Math.cos(e)),t.x=this.long0-r/this.alfa,s=e,v=0;var I=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(v=1),s=t.y,I+=1;while(v===0&&I<15);return I>=15?null:t}var IX=["Krovak","krovak"];const UX={init:CX,forward:MX,inverse:RX,names:IX};function fn(t,e,r,n,l){return t*l-e*Math.sin(2*l)+r*Math.sin(4*l)-n*Math.sin(6*l)}function Z0(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function O0(t){return .375*t*(1+.25*t*(1+.46875*t))}function H0(t){return .05859375*t*t*(1+.75*t)}function X0(t){return t*t*t*(35/3072)}function Ku(t,e,r){var n=e*r;return t/Math.sqrt(1-n*n)}function eA(t){return Math.abs(t)<Lt?t:t-z0(t)*Math.PI}function ip(t,e,r,n,l){var h,u;h=t/e;for(var s=0;s<15;s++)if(u=(t-(e*h-r*Math.sin(2*h)+n*Math.sin(4*h)-l*Math.sin(6*h)))/(e-2*r*Math.cos(2*h)+4*n*Math.cos(4*h)-6*l*Math.cos(6*h)),h+=u,Math.abs(u)<=1e-10)return h;return NaN}function EX(){this.sphere||(this.e0=Z0(this.es),this.e1=O0(this.es),this.e2=H0(this.es),this.e3=X0(this.es),this.ml0=this.a*fn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function FX(t){var e,r,n=t.x,l=t.y;if(n=er(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(l)*Math.sin(n)),r=this.a*(Math.atan2(Math.tan(l),Math.cos(n))-this.lat0);else{var h=Math.sin(l),u=Math.cos(l),s=Ku(this.a,this.e,h),v=Math.tan(l)*Math.tan(l),w=n*Math.cos(l),I=w*w,M=this.es*u*u/(1-this.es),U=this.a*fn(this.e0,this.e1,this.e2,this.e3,l);e=s*w*(1-I*v*(1/6-(8-v+8*M)*I/120)),r=U-this.ml0+s*h/u*I*(.5+(5-v+6*M)*I/24)}return t.x=e+this.x0,t.y=r+this.y0,t}function TX(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,l;if(this.sphere){var h=r+this.lat0;n=Math.asin(Math.sin(h)*Math.cos(e)),l=Math.atan2(Math.tan(e),Math.cos(h))}else{var u=this.ml0/this.a+r,s=ip(u,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-Lt)<=Wt)return t.x=this.long0,t.y=Lt,r<0&&(t.y*=-1),t;var v=Ku(this.a,this.e,Math.sin(s)),w=v*v*v/this.a/this.a*(1-this.es),I=Math.pow(Math.tan(s),2),M=e*this.a/v,U=M*M;n=s-v*Math.tan(s)/w*M*M*(.5-(1+3*I)*M*M/24),l=M*(1-U*(I/3+(1+3*I)*I*U/15))/Math.cos(s)}return t.x=er(l+this.long0),t.y=eA(n),t}var SX=["Cassini","Cassini_Soldner","cass"];const NX={init:EX,forward:FX,inverse:TX,names:SX};function Ol(t,e){var r;return t>1e-7?(r=t*e,(1-t*t)*(e/(1-r*r)-.5/t*Math.log((1-r)/(1+r)))):2*e}var YX=1,PX=2,LX=3,kX=4;function QX(){var t=Math.abs(this.lat0);if(Math.abs(t-Lt)<Wt?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<Wt?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Ol(this.e,1),this.mmf=.5/(1-this.es),this.apa=jX(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Ol(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function DX(t){var e,r,n,l,h,u,s,v,w,I,M=t.x,U=t.y;if(M=er(M-this.long0),this.sphere){if(h=Math.sin(U),I=Math.cos(U),n=Math.cos(M),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+I*n:1+this.sinph0*h+this.cosph0*I*n,r<=Wt)return null;r=Math.sqrt(2/r),e=r*I*Math.sin(M),r*=this.mode===this.EQUIT?h:this.cosph0*h-this.sinph0*I*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(U+this.lat0)<Wt)return null;r=hi-U*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),e=r*Math.sin(M),r*=n}}else{switch(s=0,v=0,w=0,n=Math.cos(M),l=Math.sin(M),h=Math.sin(U),u=Ol(this.e,h),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(s=u/this.qp,v=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:w=1+this.sinb1*s+this.cosb1*v*n;break;case this.EQUIT:w=1+v*n;break;case this.N_POLE:w=Lt+U,u=this.qp-u;break;case this.S_POLE:w=U-Lt,u=this.qp+u;break}if(Math.abs(w)<Wt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:w=Math.sqrt(2/w),this.mode===this.OBLIQ?r=this.ymf*w*(this.cosb1*s-this.sinb1*v*n):r=(w=Math.sqrt(2/(1+v*n)))*s*this.ymf,e=this.xmf*w*v*l;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(w=Math.sqrt(u))*l,r=n*(this.mode===this.S_POLE?w:-w)):e=r=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t}function zX(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,l,h,u,s,v,w;if(this.sphere){var I=0,M,U=0;if(M=Math.sqrt(e*e+r*r),l=M*.5,l>1)return null;switch(l=2*Math.asin(l),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(U=Math.sin(l),I=Math.cos(l)),this.mode){case this.EQUIT:l=Math.abs(M)<=Wt?0:Math.asin(r*U/M),e*=U,r=I*M;break;case this.OBLIQ:l=Math.abs(M)<=Wt?this.lat0:Math.asin(I*this.sinph0+r*U*this.cosph0/M),e*=U*this.cosph0,r=(I-Math.sin(l)*this.sinph0)*M;break;case this.N_POLE:r=-r,l=Lt-l;break;case this.S_POLE:l-=Lt;break}n=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,r)}else{if(w=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,r*=this.dd,v=Math.sqrt(e*e+r*r),v<Wt)return t.x=this.long0,t.y=this.lat0,t;u=2*Math.asin(.5*v/this.rq),h=Math.cos(u),e*=u=Math.sin(u),this.mode===this.OBLIQ?(w=h*this.sinb1+r*u*this.cosb1/v,s=this.qp*w,r=v*this.cosb1*h-r*this.sinb1*u):(w=r*u/v,s=this.qp*w,r=v*h)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),s=e*e+r*r,!s)return t.x=this.long0,t.y=this.lat0,t;w=1-s/this.qp,this.mode===this.S_POLE&&(w=-w)}n=Math.atan2(e,r),l=KX(Math.asin(w),this.apa)}return t.x=er(this.long0+n),t.y=l,t}var ZX=.3333333333333333,OX=.17222222222222222,HX=.10257936507936508,XX=.06388888888888888,VX=.0664021164021164,GX=.016415012942191543;function jX(t){var e,r=[];return r[0]=t*ZX,e=t*t,r[0]+=e*OX,r[1]=e*XX,e*=t,r[0]+=e*HX,r[1]+=e*VX,r[2]=e*GX,r}function KX(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)}var $X=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const qX={init:QX,forward:DX,inverse:zX,names:$X,S_POLE:YX,N_POLE:PX,EQUIT:LX,OBLIQ:kX};function $l(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function WX(){Math.abs(this.lat1+this.lat2)<Wt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=po(this.e3,this.sin_po,this.cos_po),this.qs1=Ol(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=po(this.e3,this.sin_po,this.cos_po),this.qs2=Ol(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ol(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Wt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function JX(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=Ol(this.e3,this.sin_phi),l=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,h=this.ns0*er(e-this.long0),u=l*Math.sin(h)+this.x0,s=this.rh-l*Math.cos(h)+this.y0;return t.x=u,t.y=s,t}function eV(t){var e,r,n,l,h,u;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),l=0,e!==0&&(l=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?u=Math.asin((this.c-n*n)/(2*this.ns0)):(r=(this.c-n*n)/this.ns0,u=this.phi1z(this.e3,r)),h=er(l/this.ns0+this.long0),t.x=h,t.y=u,t}function tV(t,e){var r,n,l,h,u,s=$l(.5*e);if(t<Wt)return s;for(var v=t*t,w=1;w<=25;w++)if(r=Math.sin(s),n=Math.cos(s),l=t*r,h=1-l*l,u=.5*h*h/n*(e/(1-v)-r/h+.5/t*Math.log((1-l)/(1+l))),s=s+u,Math.abs(u)<=1e-7)return s;return null}var rV=["Albers_Conic_Equal_Area","Albers","aea"];const iV={init:WX,forward:JX,inverse:eV,names:rV,phi1z:tV};function aV(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function nV(t){var e,r,n,l,h,u,s,v,w=t.x,I=t.y;return n=er(w-this.long0),e=Math.sin(I),r=Math.cos(I),l=Math.cos(n),u=this.sin_p14*e+this.cos_p14*r*l,h=1,u>0||Math.abs(u)<=Wt?(s=this.x0+this.a*h*r*Math.sin(n)/u,v=this.y0+this.a*h*(this.cos_p14*e-this.sin_p14*r*l)/u):(s=this.x0+this.infinity_dist*r*Math.sin(n),v=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*l)),t.x=s,t.y=v,t}function sV(t){var e,r,n,l,h,u;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(l=Math.atan2(e,this.rc),r=Math.sin(l),n=Math.cos(l),u=$l(n*this.sin_p14+t.y*r*this.cos_p14/e),h=Math.atan2(t.x*r,e*this.cos_p14*n-t.y*this.sin_p14*r),h=er(this.long0+h)):(u=this.phic0,h=0),t.x=h,t.y=u,t}var oV=["gnom"];const lV={init:aV,forward:nV,inverse:sV,names:oV};function AV(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*Lt:Lt;for(var n=Math.asin(.5*e),l,h,u,s,v=0;v<30;v++)if(h=Math.sin(n),u=Math.cos(n),s=t*h,l=Math.pow(1-s*s,2)/(2*u)*(e/(1-t*t)-h/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),n+=l,Math.abs(l)<=1e-10)return n;return NaN}function cV(){this.sphere||(this.k0=po(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function uV(t){var e=t.x,r=t.y,n,l,h=er(e-this.long0);if(this.sphere)n=this.x0+this.a*h*Math.cos(this.lat_ts),l=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var u=Ol(this.e,Math.sin(r));n=this.x0+this.a*this.k0*h,l=this.y0+this.a*u*.5/this.k0}return t.x=n,t.y=l,t}function hV(t){t.x-=this.x0,t.y-=this.y0;var e,r;return this.sphere?(e=er(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=AV(this.e,2*t.y*this.k0/this.a),e=er(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t}var dV=["cea"];const fV={init:cV,forward:uV,inverse:hV,names:dV};function gV(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function pV(t){var e=t.x,r=t.y,n=er(e-this.long0),l=eA(r-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*l,t}function mV(t){var e=t.x,r=t.y;return t.x=er(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=eA(this.lat0+(r-this.y0)/this.a),t}var _V=["Equirectangular","Equidistant_Cylindrical","eqc"];const bV={init:gV,forward:pV,inverse:mV,names:_V};var W6=20;function yV(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Z0(this.es),this.e1=O0(this.es),this.e2=H0(this.es),this.e3=X0(this.es),this.ml0=this.a*fn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function vV(t){var e=t.x,r=t.y,n,l,h,u=er(e-this.long0);if(h=u*Math.sin(r),this.sphere)Math.abs(r)<=Wt?(n=this.a*u,l=-1*this.a*this.lat0):(n=this.a*Math.sin(h)/Math.tan(r),l=this.a*(eA(r-this.lat0)+(1-Math.cos(h))/Math.tan(r)));else if(Math.abs(r)<=Wt)n=this.a*u,l=-1*this.ml0;else{var s=Ku(this.a,this.e,Math.sin(r))/Math.tan(r);n=s*Math.sin(h),l=this.a*fn(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*(1-Math.cos(h))}return t.x=n+this.x0,t.y=l+this.y0,t}function xV(t){var e,r,n,l,h,u,s,v,w;if(n=t.x-this.x0,l=t.y-this.y0,this.sphere)if(Math.abs(l+this.a*this.lat0)<=Wt)e=er(n/this.a+this.long0),r=0;else{u=this.lat0+l/this.a,s=n*n/this.a/this.a+u*u,v=u;var I;for(h=W6;h;--h)if(I=Math.tan(v),w=-1*(u*(v*I+1)-v-.5*(v*v+s)*I)/((v-u)/I-1),v+=w,Math.abs(w)<=Wt){r=v;break}e=er(this.long0+Math.asin(n*Math.tan(v)/this.a)/Math.sin(r))}else if(Math.abs(l+this.ml0)<=Wt)r=0,e=er(this.long0+n/this.a);else{u=(this.ml0+l)/this.a,s=n*n/this.a/this.a+u*u,v=u;var M,U,C,S,k;for(h=W6;h;--h)if(k=this.e*Math.sin(v),M=Math.sqrt(1-k*k)*Math.tan(v),U=this.a*fn(this.e0,this.e1,this.e2,this.e3,v),C=this.e0-2*this.e1*Math.cos(2*v)+4*this.e2*Math.cos(4*v)-6*this.e3*Math.cos(6*v),S=U/this.a,w=(u*(M*S+1)-S-.5*M*(S*S+s))/(this.es*Math.sin(2*v)*(S*S+s-2*u*S)/(4*M)+(u-S)*(M*C-2/Math.sin(2*v))-C),v-=w,Math.abs(w)<=Wt){r=v;break}M=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=er(this.long0+Math.asin(n*M/this.a)/Math.sin(r))}return t.x=e,t.y=r,t}var wV=["Polyconic","poly"];const BV={init:yV,forward:vV,inverse:xV,names:wV};function CV(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function MV(t){var e,r=t.x,n=t.y,l=n-this.lat0,h=r-this.long0,u=l/p0*1e-5,s=h,v=1,w=0;for(e=1;e<=10;e++)v=v*u,w=w+this.A[e]*v;var I=w,M=s,U=1,C=0,S,k,z=0,Z=0;for(e=1;e<=6;e++)S=U*I-C*M,k=C*I+U*M,U=S,C=k,z=z+this.B_re[e]*U-this.B_im[e]*C,Z=Z+this.B_im[e]*U+this.B_re[e]*C;return t.x=Z*this.a+this.x0,t.y=z*this.a+this.y0,t}function RV(t){var e,r=t.x,n=t.y,l=r-this.x0,h=n-this.y0,u=h/this.a,s=l/this.a,v=1,w=0,I,M,U=0,C=0;for(e=1;e<=6;e++)I=v*u-w*s,M=w*u+v*s,v=I,w=M,U=U+this.C_re[e]*v-this.C_im[e]*w,C=C+this.C_im[e]*v+this.C_re[e]*w;for(var S=0;S<this.iterations;S++){var k=U,z=C,Z,G,se=u,re=s;for(e=2;e<=6;e++)Z=k*U-z*C,G=z*U+k*C,k=Z,z=G,se=se+(e-1)*(this.B_re[e]*k-this.B_im[e]*z),re=re+(e-1)*(this.B_im[e]*k+this.B_re[e]*z);k=1,z=0;var Ae=this.B_re[1],J=this.B_im[1];for(e=2;e<=6;e++)Z=k*U-z*C,G=z*U+k*C,k=Z,z=G,Ae=Ae+e*(this.B_re[e]*k-this.B_im[e]*z),J=J+e*(this.B_im[e]*k+this.B_re[e]*z);var te=Ae*Ae+J*J;U=(se*Ae+re*J)/te,C=(re*Ae-se*J)/te}var X=U,W=C,he=1,ue=0;for(e=1;e<=9;e++)he=he*X,ue=ue+this.D[e]*he;var _e=this.lat0+ue*p0*1e5,xe=this.long0+W;return t.x=xe,t.y=_e,t}var IV=["New_Zealand_Map_Grid","nzmg"];const UV={init:CV,forward:MV,inverse:RV,names:IV};function EV(){}function FV(t){var e=t.x,r=t.y,n=er(e-this.long0),l=this.x0+this.a*n,h=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=l,t.y=h,t}function TV(t){t.x-=this.x0,t.y-=this.y0;var e=er(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t}var SV=["Miller_Cylindrical","mill"];const NV={init:EV,forward:FV,inverse:TV,names:SV};var YV=20;function PV(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=A_(this.es)}function LV(t){var e,r,n=t.x,l=t.y;if(n=er(n-this.long0),this.sphere){if(!this.m)l=this.n!==1?Math.asin(this.n*Math.sin(l)):l;else for(var h=this.n*Math.sin(l),u=YV;u;--u){var s=(this.m*l+Math.sin(l)-h)/(this.m+Math.cos(l));if(l-=s,Math.abs(s)<Wt)break}e=this.a*this.C_x*n*(this.m+Math.cos(l)),r=this.a*this.C_y*l}else{var v=Math.sin(l),w=Math.cos(l);r=this.a*ih(l,v,w,this.en),e=this.a*n*w/Math.sqrt(1-this.es*v*v)}return t.x=e,t.y=r,t}function kV(t){var e,r,n,l;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n=n/(this.C_x*(this.m+Math.cos(e))),this.m?e=$l((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=$l(Math.sin(e)/this.n)),n=er(n+this.long0),e=eA(e)):(e=c_(t.y/this.a,this.es,this.en),l=Math.abs(e),l<Lt?(l=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*l*l)/(this.a*Math.cos(e)),n=er(r)):l-Wt<Lt&&(n=this.long0)),t.x=n,t.y=e,t}var QV=["Sinusoidal","sinu"];const DV={init:PV,forward:LV,inverse:kV,names:QV};function zV(){}function ZV(t){for(var e=t.x,r=t.y,n=er(e-this.long0),l=r,h=Math.PI*Math.sin(r);;){var u=-(l+Math.sin(l)-h)/(1+Math.cos(l));if(l+=u,Math.abs(u)<Wt)break}l/=2,Math.PI/2-Math.abs(r)<Wt&&(n=0);var s=.900316316158*this.a*n*Math.cos(l)+this.x0,v=1.4142135623731*this.a*Math.sin(l)+this.y0;return t.x=s,t.y=v,t}function OV(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var n=er(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var l=Math.asin(r);return t.x=n,t.y=l,t}var HV=["Mollweide","moll"];const XV={init:zV,forward:ZV,inverse:OV,names:HV};function VV(){Math.abs(this.lat1+this.lat2)<Wt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Z0(this.es),this.e1=O0(this.es),this.e2=H0(this.es),this.e3=X0(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=po(this.e,this.sinphi,this.cosphi),this.ml1=fn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Wt?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=po(this.e,this.sinphi,this.cosphi),this.ml2=fn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=fn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function GV(t){var e=t.x,r=t.y,n;if(this.sphere)n=this.a*(this.g-r);else{var l=fn(this.e0,this.e1,this.e2,this.e3,r);n=this.a*(this.g-l)}var h=this.ns*er(e-this.long0),u=this.x0+n*Math.sin(h),s=this.y0+this.rh-n*Math.cos(h);return t.x=u,t.y=s,t}function jV(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,r,n,l;this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var h=0;if(r!==0&&(h=Math.atan2(e*t.x,e*t.y)),this.sphere)return l=er(this.long0+h/this.ns),n=eA(this.g-r/this.a),t.x=l,t.y=n,t;var u=this.g-r/this.a;return n=ip(u,this.e0,this.e1,this.e2,this.e3),l=er(this.long0+h/this.ns),t.x=l,t.y=n,t}var KV=["Equidistant_Conic","eqdc"];const $V={init:VV,forward:GV,inverse:jV,names:KV};function qV(){this.R=this.a}function WV(t){var e=t.x,r=t.y,n=er(e-this.long0),l,h;Math.abs(r)<=Wt&&(l=this.x0+this.R*n,h=this.y0);var u=$l(2*Math.abs(r/Math.PI));(Math.abs(n)<=Wt||Math.abs(Math.abs(r)-Lt)<=Wt)&&(l=this.x0,r>=0?h=this.y0+Math.PI*this.R*Math.tan(.5*u):h=this.y0+Math.PI*this.R*-Math.tan(.5*u));var s=.5*Math.abs(Math.PI/n-n/Math.PI),v=s*s,w=Math.sin(u),I=Math.cos(u),M=I/(w+I-1),U=M*M,C=M*(2/w-1),S=C*C,k=Math.PI*this.R*(s*(M-S)+Math.sqrt(v*(M-S)*(M-S)-(S+v)*(U-S)))/(S+v);n<0&&(k=-k),l=this.x0+k;var z=v+M;return k=Math.PI*this.R*(C*z-s*Math.sqrt((S+v)*(v+1)-z*z))/(S+v),r>=0?h=this.y0+k:h=this.y0-k,t.x=l,t.y=h,t}function JV(t){var e,r,n,l,h,u,s,v,w,I,M,U,C;return t.x-=this.x0,t.y-=this.y0,M=Math.PI*this.R,n=t.x/M,l=t.y/M,h=n*n+l*l,u=-Math.abs(l)*(1+h),s=u-2*l*l+n*n,v=-2*u+1+2*l*l+h*h,C=l*l/v+(2*s*s*s/v/v/v-9*u*s/v/v)/27,w=(u-s*s/3/v)/v,I=2*Math.sqrt(-w/3),M=3*C/w/I,Math.abs(M)>1&&(M>=0?M=1:M=-1),U=Math.acos(M)/3,t.y>=0?r=(-I*Math.cos(U+Math.PI/3)-s/3/v)*Math.PI:r=-(-I*Math.cos(U+Math.PI/3)-s/3/v)*Math.PI,Math.abs(n)<Wt?e=this.long0:e=er(this.long0+Math.PI*(h-1+Math.sqrt(1+2*(n*n-l*l)+h*h))/2/n),t.x=e,t.y=r,t}var eG=["Van_der_Grinten_I","VanDerGrinten","vandg"];const tG={init:qV,forward:WV,inverse:JV,names:eG};function rG(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function iG(t){var e=t.x,r=t.y,n=Math.sin(t.y),l=Math.cos(t.y),h=er(e-this.long0),u,s,v,w,I,M,U,C,S,k,z,Z,G,se,re,Ae,J,te,X,W,he,ue,_e;return this.sphere?Math.abs(this.sin_p12-1)<=Wt?(t.x=this.x0+this.a*(Lt-r)*Math.sin(h),t.y=this.y0-this.a*(Lt-r)*Math.cos(h),t):Math.abs(this.sin_p12+1)<=Wt?(t.x=this.x0+this.a*(Lt+r)*Math.sin(h),t.y=this.y0+this.a*(Lt+r)*Math.cos(h),t):(te=this.sin_p12*n+this.cos_p12*l*Math.cos(h),Ae=Math.acos(te),J=Ae?Ae/Math.sin(Ae):1,t.x=this.x0+this.a*J*l*Math.sin(h),t.y=this.y0+this.a*J*(this.cos_p12*n-this.sin_p12*l*Math.cos(h)),t):(u=Z0(this.es),s=O0(this.es),v=H0(this.es),w=X0(this.es),Math.abs(this.sin_p12-1)<=Wt?(I=this.a*fn(u,s,v,w,Lt),M=this.a*fn(u,s,v,w,r),t.x=this.x0+(I-M)*Math.sin(h),t.y=this.y0-(I-M)*Math.cos(h),t):Math.abs(this.sin_p12+1)<=Wt?(I=this.a*fn(u,s,v,w,Lt),M=this.a*fn(u,s,v,w,r),t.x=this.x0+(I+M)*Math.sin(h),t.y=this.y0+(I+M)*Math.cos(h),t):(U=n/l,C=Ku(this.a,this.e,this.sin_p12),S=Ku(this.a,this.e,n),k=Math.atan((1-this.es)*U+this.es*C*this.sin_p12/(S*l)),z=Math.atan2(Math.sin(h),this.cos_p12*Math.tan(k)-this.sin_p12*Math.cos(h)),z===0?X=Math.asin(this.cos_p12*Math.sin(k)-this.sin_p12*Math.cos(k)):Math.abs(Math.abs(z)-Math.PI)<=Wt?X=-Math.asin(this.cos_p12*Math.sin(k)-this.sin_p12*Math.cos(k)):X=Math.asin(Math.sin(h)*Math.cos(k)/Math.sin(z)),Z=this.e*this.sin_p12/Math.sqrt(1-this.es),G=this.e*this.cos_p12*Math.cos(z)/Math.sqrt(1-this.es),se=Z*G,re=G*G,W=X*X,he=W*X,ue=he*X,_e=ue*X,Ae=C*X*(1-W*re*(1-re)/6+he/8*se*(1-2*re)+ue/120*(re*(4-7*re)-3*Z*Z*(1-7*re))-_e/48*se),t.x=this.x0+Ae*Math.sin(z),t.y=this.y0+Ae*Math.cos(z),t))}function aG(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,l,h,u,s,v,w,I,M,U,C,S,k,z,Z,G,se,re,Ae,J,te,X;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*Lt*this.a?void 0:(r=e/this.a,n=Math.sin(r),l=Math.cos(r),h=this.long0,Math.abs(e)<=Wt?u=this.lat0:(u=$l(l*this.sin_p12+t.y*n*this.cos_p12/e),s=Math.abs(this.lat0)-Lt,Math.abs(s)<=Wt?this.lat0>=0?h=er(this.long0+Math.atan2(t.x,-t.y)):h=er(this.long0-Math.atan2(-t.x,t.y)):h=er(this.long0+Math.atan2(t.x*n,e*this.cos_p12*l-t.y*this.sin_p12*n))),t.x=h,t.y=u,t)):(v=Z0(this.es),w=O0(this.es),I=H0(this.es),M=X0(this.es),Math.abs(this.sin_p12-1)<=Wt?(U=this.a*fn(v,w,I,M,Lt),e=Math.sqrt(t.x*t.x+t.y*t.y),C=U-e,u=ip(C/this.a,v,w,I,M),h=er(this.long0+Math.atan2(t.x,-1*t.y)),t.x=h,t.y=u,t):Math.abs(this.sin_p12+1)<=Wt?(U=this.a*fn(v,w,I,M,Lt),e=Math.sqrt(t.x*t.x+t.y*t.y),C=e-U,u=ip(C/this.a,v,w,I,M),h=er(this.long0+Math.atan2(t.x,t.y)),t.x=h,t.y=u,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),z=Math.atan2(t.x,t.y),S=Ku(this.a,this.e,this.sin_p12),Z=Math.cos(z),G=this.e*this.cos_p12*Z,se=-G*G/(1-this.es),re=3*this.es*(1-se)*this.sin_p12*this.cos_p12*Z/(1-this.es),Ae=e/S,J=Ae-se*(1+se)*Math.pow(Ae,3)/6-re*(1+3*se)*Math.pow(Ae,4)/24,te=1-se*J*J/2-Ae*J*J*J/6,k=Math.asin(this.sin_p12*Math.cos(J)+this.cos_p12*Math.sin(J)*Z),h=er(this.long0+Math.asin(Math.sin(z)*Math.sin(J)/Math.cos(k))),X=Math.sin(k),u=Math.atan2((X-this.es*te*this.sin_p12)*Math.tan(k),X*(1-this.es)),t.x=h,t.y=u,t))}var nG=["Azimuthal_Equidistant","aeqd"];const sG={init:rG,forward:iG,inverse:aG,names:nG};function oG(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function lG(t){var e,r,n,l,h,u,s,v,w=t.x,I=t.y;return n=er(w-this.long0),e=Math.sin(I),r=Math.cos(I),l=Math.cos(n),u=this.sin_p14*e+this.cos_p14*r*l,h=1,(u>0||Math.abs(u)<=Wt)&&(s=this.a*h*r*Math.sin(n),v=this.y0+this.a*h*(this.cos_p14*e-this.sin_p14*r*l)),t.x=s,t.y=v,t}function AG(t){var e,r,n,l,h,u,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),r=$l(e/this.a),n=Math.sin(r),l=Math.cos(r),u=this.long0,Math.abs(e)<=Wt?(s=this.lat0,t.x=u,t.y=s,t):(s=$l(l*this.sin_p14+t.y*n*this.cos_p14/e),h=Math.abs(this.lat0)-Lt,Math.abs(h)<=Wt?(this.lat0>=0?u=er(this.long0+Math.atan2(t.x,-t.y)):u=er(this.long0-Math.atan2(-t.x,t.y)),t.x=u,t.y=s,t):(u=er(this.long0+Math.atan2(t.x*n,e*this.cos_p14*l-t.y*this.sin_p14*n)),t.x=u,t.y=s,t))}var cG=["ortho"];const uG={init:oG,forward:lG,inverse:AG,names:cG};var $i={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},di={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function hG(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Lt-hi/2?this.face=$i.TOP:this.lat0<=-(Lt-hi/2)?this.face=$i.BOTTOM:Math.abs(this.long0)<=hi?this.face=$i.FRONT:Math.abs(this.long0)<=Lt+hi?this.face=this.long0>0?$i.RIGHT:$i.LEFT:this.face=$i.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function dG(t){var e={x:0,y:0},r,n,l,h,u,s,v={value:0};if(t.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):r=t.y,n=t.x,this.face===$i.TOP)h=Lt-r,n>=hi&&n<=Lt+hi?(v.value=di.AREA_0,l=n-Lt):n>Lt+hi||n<=-(Lt+hi)?(v.value=di.AREA_1,l=n>0?n-Ha:n+Ha):n>-(Lt+hi)&&n<=-hi?(v.value=di.AREA_2,l=n+Lt):(v.value=di.AREA_3,l=n);else if(this.face===$i.BOTTOM)h=Lt+r,n>=hi&&n<=Lt+hi?(v.value=di.AREA_0,l=-n+Lt):n<hi&&n>=-hi?(v.value=di.AREA_1,l=-n):n<-hi&&n>=-(Lt+hi)?(v.value=di.AREA_2,l=-n-Lt):(v.value=di.AREA_3,l=n>0?-n+Ha:-n-Ha);else{var w,I,M,U,C,S,k;this.face===$i.RIGHT?n=Lu(n,+Lt):this.face===$i.BACK?n=Lu(n,3.14159265359):this.face===$i.LEFT&&(n=Lu(n,-Lt)),U=Math.sin(r),C=Math.cos(r),S=Math.sin(n),k=Math.cos(n),w=C*k,I=C*S,M=U,this.face===$i.FRONT?(h=Math.acos(w),l=G1(h,M,I,v)):this.face===$i.RIGHT?(h=Math.acos(I),l=G1(h,M,-w,v)):this.face===$i.BACK?(h=Math.acos(-w),l=G1(h,M,-I,v)):this.face===$i.LEFT?(h=Math.acos(-I),l=G1(h,M,w,v)):(h=l=0,v.value=di.AREA_0)}return s=Math.atan(12/Ha*(l+Math.acos(Math.sin(l)*Math.cos(hi))-Lt)),u=Math.sqrt((1-Math.cos(h))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(l))))),v.value===di.AREA_1?s+=Lt:v.value===di.AREA_2?s+=Ha:v.value===di.AREA_3&&(s+=1.5*Ha),e.x=u*Math.cos(s),e.y=u*Math.sin(s),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function fG(t){var e={lam:0,phi:0},r,n,l,h,u,s,v,w,I,M={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),r=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?M.value=di.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(M.value=di.AREA_1,r-=Lt):t.x<0&&-t.x>=Math.abs(t.y)?(M.value=di.AREA_2,r=r<0?r+Ha:r-Ha):(M.value=di.AREA_3,r+=Lt),I=Ha/12*Math.tan(r),u=Math.sin(I)/(Math.cos(I)-1/Math.sqrt(2)),s=Math.atan(u),l=Math.cos(r),h=Math.tan(n),v=1-l*l*h*h*(1-Math.cos(Math.atan(1/Math.cos(s)))),v<-1?v=-1:v>1&&(v=1),this.face===$i.TOP)w=Math.acos(v),e.phi=Lt-w,M.value===di.AREA_0?e.lam=s+Lt:M.value===di.AREA_1?e.lam=s<0?s+Ha:s-Ha:M.value===di.AREA_2?e.lam=s-Lt:e.lam=s;else if(this.face===$i.BOTTOM)w=Math.acos(v),e.phi=w-Lt,M.value===di.AREA_0?e.lam=-s+Lt:M.value===di.AREA_1?e.lam=-s:M.value===di.AREA_2?e.lam=-s-Lt:e.lam=s<0?-s-Ha:-s+Ha;else{var U,C,S;U=v,I=U*U,I>=1?S=0:S=Math.sqrt(1-I)*Math.sin(s),I+=S*S,I>=1?C=0:C=Math.sqrt(1-I),M.value===di.AREA_1?(I=C,C=-S,S=I):M.value===di.AREA_2?(C=-C,S=-S):M.value===di.AREA_3&&(I=C,C=S,S=-I),this.face===$i.RIGHT?(I=U,U=-C,C=I):this.face===$i.BACK?(U=-U,C=-C):this.face===$i.LEFT&&(I=U,U=C,C=-I),e.phi=Math.acos(-S)-Lt,e.lam=Math.atan2(C,U),this.face===$i.RIGHT?e.lam=Lu(e.lam,-Lt):this.face===$i.BACK?e.lam=Lu(e.lam,-3.14159265359):this.face===$i.LEFT&&(e.lam=Lu(e.lam,+Lt))}if(this.es!==0){var k,z,Z;k=e.phi<0?1:0,z=Math.tan(e.phi),Z=this.b/Math.sqrt(z*z+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-Z*Z)/(this.one_minus_f*Z)),k&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function G1(t,e,r,n){var l;return t<Wt?(n.value=di.AREA_0,l=0):(l=Math.atan2(e,r),Math.abs(l)<=hi?n.value=di.AREA_0:l>hi&&l<=Lt+hi?(n.value=di.AREA_1,l-=Lt):l>Lt+hi||l<=-(Lt+hi)?(n.value=di.AREA_2,l=l>=0?l-Ha:l+Ha):(n.value=di.AREA_3,l+=Lt)),l}function Lu(t,e){var r=t+e;return r<-3.14159265359?r+=T0:r>3.14159265359&&(r-=T0),r}var gG=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const pG={init:hG,forward:dG,inverse:fG,names:gG};var A4=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],t0=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],a9=.8487,n9=1.3523,s9=co/5,mG=1/s9,Iu=18,ap=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},_G=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function bG(t,e,r,n){for(var l=e;n;--n){var h=t(l);if(l-=h,Math.abs(h)<r)break}return l}function yG(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function vG(t){var e=er(t.x-this.long0),r=Math.abs(t.y),n=Math.floor(r*s9);n<0?n=0:n>=Iu&&(n=Iu-1),r=co*(r-mG*n);var l={x:ap(A4[n],r)*e,y:ap(t0[n],r)};return t.y<0&&(l.y=-l.y),l.x=l.x*this.a*a9+this.x0,l.y=l.y*this.a*n9+this.y0,l}function xG(t){var e={x:(t.x-this.x0)/(this.a*a9),y:Math.abs(t.y-this.y0)/(this.a*n9)};if(e.y>=1)e.x/=A4[Iu][0],e.y=t.y<0?-Lt:Lt;else{var r=Math.floor(e.y*Iu);for(r<0?r=0:r>=Iu&&(r=Iu-1);;)if(t0[r][0]>e.y)--r;else if(t0[r+1][0]<=e.y)++r;else break;var n=t0[r],l=5*(e.y-n[0])/(t0[r+1][0]-n[0]);l=bG(function(h){return(ap(n,h)-e.y)/_G(n,h)},l,Wt,100),e.x/=ap(A4[r],l),e.y=(5*r+l)*Oa,t.y<0&&(e.y=-e.y)}return e.x=er(e.x+this.long0),e}var wG=["Robinson","robin"];const BG={init:yG,forward:vG,inverse:xG,names:wG};function CG(){this.name="geocent"}function MG(t){var e=Gw(t,this.es,this.a);return e}function RG(t){var e=jw(t,this.es,this.a,this.b);return e}var IG=["Geocentric","geocentric","geocent","Geocent"];const UG={init:CG,forward:MG,inverse:RG,names:IG};var qa={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Dd={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function EG(){if(Object.keys(Dd).forEach((function(r){if(typeof this[r]>"u")this[r]=Dd[r].def;else{if(Dd[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);Dd[r].num&&(this[r]=parseFloat(this[r]))}Dd[r].degrees&&(this[r]=this[r]*Oa)}).bind(this)),Math.abs(Math.abs(this.lat0)-Lt)<Wt?this.mode=this.lat0<0?qa.S_POLE:qa.N_POLE:Math.abs(this.lat0)<Wt?this.mode=qa.EQUIT:(this.mode=qa.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function FG(t){t.x-=this.long0;var e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),l,h;switch(this.mode){case qa.OBLIQ:h=this.sinph0*e+this.cosph0*r*n;break;case qa.EQUIT:h=r*n;break;case qa.S_POLE:h=-e;break;case qa.N_POLE:h=e;break}switch(h=this.pn1/(this.p-h),l=h*r*Math.sin(t.x),this.mode){case qa.OBLIQ:h*=this.cosph0*e-this.sinph0*r*n;break;case qa.EQUIT:h*=e;break;case qa.N_POLE:h*=-(r*n);break;case qa.S_POLE:h*=r*n;break}var u,s;return u=h*this.cg+l*this.sg,s=1/(u*this.sw*this.h1+this.cw),l=(l*this.cg-h*this.sg)*this.cw*s,h=u*s,t.x=l*this.a,t.y=h*this.a,t}function TG(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},r,n,l;l=1/(this.pn1-t.y*this.sw),r=this.pn1*t.x*l,n=this.pn1*t.y*this.cw*l,t.x=r*this.cg+n*this.sg,t.y=n*this.cg-r*this.sg;var h=Mn(t.x,t.y);if(Math.abs(h)<Wt)e.x=0,e.y=t.y;else{var u,s;switch(s=1-h*h*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/h+h/this.pn1),u=Math.sqrt(1-s*s),this.mode){case qa.OBLIQ:e.y=Math.asin(u*this.sinph0+t.y*s*this.cosph0/h),t.y=(u-this.sinph0*Math.sin(e.y))*h,t.x*=s*this.cosph0;break;case qa.EQUIT:e.y=Math.asin(t.y*s/h),t.y=u*h,t.x*=s;break;case qa.N_POLE:e.y=Math.asin(u),t.y=-t.y;break;case qa.S_POLE:e.y=-Math.asin(u);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var SG=["Tilted_Perspective","tpers"];const NG={init:EG,forward:FG,inverse:TG,names:SG};function YG(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function PG(t){var e=t.x,r=t.y,n,l,h,u;if(e=e-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var s=this.radius_p/Mn(this.radius_p*Math.cos(r),Math.sin(r));if(l=s*Math.cos(e)*Math.cos(r),h=s*Math.sin(e)*Math.cos(r),u=s*Math.sin(r),(this.radius_g-l)*l-h*h-u*u*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;n=this.radius_g-l,this.flip_axis?(t.x=this.radius_g_1*Math.atan(h/Mn(u,n)),t.y=this.radius_g_1*Math.atan(u/n)):(t.x=this.radius_g_1*Math.atan(h/n),t.y=this.radius_g_1*Math.atan(u/Mn(h,n)))}else this.shape==="sphere"&&(n=Math.cos(r),l=Math.cos(e)*n,h=Math.sin(e)*n,u=Math.sin(r),n=this.radius_g-l,this.flip_axis?(t.x=this.radius_g_1*Math.atan(h/Mn(u,n)),t.y=this.radius_g_1*Math.atan(u/n)):(t.x=this.radius_g_1*Math.atan(h/n),t.y=this.radius_g_1*Math.atan(u/Mn(h,n))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function LG(t){var e=-1,r=0,n=0,l,h,u,s;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Mn(1,n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Mn(1,r));var v=n/this.radius_p;if(l=r*r+v*v+e*e,h=2*this.radius_g*e,u=h*h-4*l*this.C,u<0)return t.x=Number.NaN,t.y=Number.NaN,t;s=(-h-Math.sqrt(u))/(2*l),e=this.radius_g+s*e,r*=s,n*=s,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+n*n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),l=r*r+n*n+e*e,h=2*this.radius_g*e,u=h*h-4*l*this.C,u<0)return t.x=Number.NaN,t.y=Number.NaN,t;s=(-h-Math.sqrt(u))/(2*l),e=this.radius_g+s*e,r*=s,n*=s,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var kG=["Geostationary Satellite View","Geostationary_Satellite","geos"];const QG={init:YG,forward:PG,inverse:LG,names:kG};var m0=1.340264,_0=-.081106,b0=893e-6,y0=.003796,np=Math.sqrt(3)/2;function DG(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function zG(t){var e=er(t.x-this.long0),r=t.y,n=Math.asin(np*Math.sin(r)),l=n*n,h=l*l*l;return t.x=e*Math.cos(n)/(np*(m0+3*_0*l+h*(7*b0+9*y0*l))),t.y=n*(m0+_0*l+h*(b0+y0*l)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function ZG(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,r=12,n=t.y,l,h,u,s,v,w;for(w=0;w<r&&(l=n*n,h=l*l*l,u=n*(m0+_0*l+h*(b0+y0*l))-t.y,s=m0+3*_0*l+h*(7*b0+9*y0*l),n-=v=u/s,!(Math.abs(v)<e));++w);return l=n*n,h=l*l*l,t.x=np*t.x*(m0+3*_0*l+h*(7*b0+9*y0*l))/Math.cos(n),t.y=Math.asin(Math.sin(n)/np),t.x=er(t.x+this.long0),t}var OG=["eqearth","Equal Earth","Equal_Earth"];const HG={init:DG,forward:zG,inverse:ZG,names:OG};var Y0=1e-10;function XG(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<Y0)throw new Error;this.es?(this.en=A_(this.es),this.m1=ih(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=GG,this.forward=VG):(Math.abs(this.phi1)+Y0>=Lt?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=KG,this.forward=jG)}function VG(t){var e=er(t.x-(this.long0||0)),r=t.y,n,l,h;return n=this.am1+this.m1-ih(r,l=Math.sin(r),h=Math.cos(r),this.en),l=h*e/(n*Math.sqrt(1-this.es*l*l)),t.x=n*Math.sin(l),t.y=this.am1-n*Math.cos(l),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function GG(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,n,l;if(r=Mn(t.x,t.y=this.am1-t.y),l=c_(this.am1+this.m1-r,this.es,this.en),(e=Math.abs(l))<Lt)e=Math.sin(l),n=r*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(l);else if(Math.abs(e-Lt)<=Y0)n=0;else throw new Error;return t.x=er(n+(this.long0||0)),t.y=eA(l),t}function jG(t){var e=er(t.x-(this.long0||0)),r=t.y,n,l;return l=this.cphi1+this.phi1-r,Math.abs(l)>Y0?(t.x=l*Math.sin(n=e*Math.cos(r)/l),t.y=this.cphi1-l*Math.cos(n)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function KG(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,n=Mn(t.x,t.y=this.cphi1-t.y);if(r=this.cphi1+this.phi1-n,Math.abs(r)>Lt)throw new Error;return Math.abs(Math.abs(r)-Lt)<=Y0?e=0:e=n*Math.atan2(t.x,t.y)/Math.cos(r),t.x=er(e+(this.long0||0)),t.y=eA(r),t}var $G=["bonne","Bonne (Werner lat_1=90)"];const qG={init:XG,names:$G};function WG(t){t.Proj.projections.add(pg),t.Proj.projections.add(mg),t.Proj.projections.add(GH),t.Proj.projections.add(rX),t.Proj.projections.add(lX),t.Proj.projections.add(dX),t.Proj.projections.add(bX),t.Proj.projections.add(BX),t.Proj.projections.add(UX),t.Proj.projections.add(NX),t.Proj.projections.add(qX),t.Proj.projections.add(iV),t.Proj.projections.add(lV),t.Proj.projections.add(fV),t.Proj.projections.add(bV),t.Proj.projections.add(BV),t.Proj.projections.add(UV),t.Proj.projections.add(NV),t.Proj.projections.add(DV),t.Proj.projections.add(XV),t.Proj.projections.add($V),t.Proj.projections.add(tG),t.Proj.projections.add(sG),t.Proj.projections.add(uG),t.Proj.projections.add(pG),t.Proj.projections.add(BG),t.Proj.projections.add(UG),t.Proj.projections.add(NG),t.Proj.projections.add(QG),t.Proj.projections.add(HG),t.Proj.projections.add(qG)}Kn.defaultDatum="WGS84";Kn.Proj=go;Kn.WGS84=new Kn.Proj("WGS84");Kn.Point=ju;Kn.toPoint=Kw;Kn.defs=hn;Kn.nadgrid=KO;Kn.transform=rp;Kn.mgrs=uH;Kn.version="__VERSION__";WG(Kn);const JG=async(t,{x:e,y:r,z:n})=>{const l=await fetch("http://127.0.0.1:8000/update_angle",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,angleX:e,angleY:r,angleZ:n})});if(!l.ok){console.error("Failed to update angles:",l.status);return}const h=await l.json();console.log("Updated data:",h)},Am=t=>t*(Math.PI/180);Kn.defs("EPSG:6677","+proj=tmerc +lat_0=36 +lon_0=139.833333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs");var ej=nt('<div class="css-loading svelte-ms8nyw"><div class="css-spinner svelte-ms8nyw"></div></div>'),tj=(t,e)=>Ko(Xl,!1),rj=nt('<div class="bg-main absolute left-4 top-[10px] z-10 flex items-center justify-center gap-2 rounded-lg p-2 text-white svelte-ms8nyw"><button class="cursor-pointer rounded-md p-2 svelte-ms8nyw"><!></button> <span class="svelte-ms8nyw"> <span class="svelte-ms8nyw"></span></span></div>'),ij=(t,e,r)=>{e(V(r).featureData)},aj=nt('<button class="css-arrow svelte-ms8nyw"><!></button>'),nj=nt('<!> <div><div class="css-control-warp svelte-ms8nyw"><div class="css-control svelte-ms8nyw"><!></div></div></div>',1),sj=nt('<div><canvas class="h-full w-full svelte-ms8nyw"></canvas> <!></div>');function oj(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(Ug,"$DEBUG_MODE",r),h=()=>kr(Xl,"$isStreetView",r),u="https://raw.githubusercontent.com/forestacdev/fac-cubemap-image/main/images/",s=75;new a1(0,0,0),new a1(0,10,0);let v=Qt(e,"cameraBearing",15),w=Pt(null),I,M,U,C,S=Pt(!1),k=Pt(null),z=Pt(null);const Z={skybox:{value:null},rotationAngles:{value:new a1}},G=new uy(10,16,16),se=new eC({uniforms:Z,vertexShader:oO,fragmentShader:sO,side:tC,wireframe:!1});let re,Ae={x:0,y:0,z:0},J,te,X;const W=new s_;J=W.add(Ae,"x",0,360).listen(),te=W.add(Ae,"y",0,360).listen(),X=W.add(Ae,"z",0,360).listen();const he={updateAngle:()=>{JG(e.streetViewPoint.properties.ID,Ae)}};W.add(he,"updateAngle").name("Update Angle");let ue=[];const _e=De=>{const xt=new cC({color:16711680,visible:!!l()});xe(),De.forEach(Et=>{const lt=dy.degToRad(Et.bearing),Zt=5*Math.sin(lt),Rt=-5*Math.cos(lt),Mt=new uy(.3,16,16),Ht=new hy(Mt,xt);Ht.name=Et.featureData.properties.ID,Ht.position.set(Zt,0,Rt),I.add(Ht),ue.push(Ht)})},xe=()=>{ue.length>0&&(ue.forEach(De=>{I.remove(De),De.geometry.dispose()}),ue=[])},He=new Worker(new URL(""+new URL("../workers/worker-HhaZkm9-.js",import.meta.url).href,import.meta.url),{type:"module"}),Ve=async De=>{if(!De)return;Xe(z,De,!0),Xe(S,!0);const $e=`${u}${De.properties.Name}`,st=De.properties.ID,xt=nO.find(lt=>lt.id===st),Et=$e.replace(".JPG","/");$e&&(He.postMessage({urls:[`${Et}face_1.jpg`,`${Et}face_2.jpg`,`${Et}face_3.jpg`,`${Et}face_4.jpg`,`${Et}face_5.jpg`,`${Et}face_6.jpg`]}),He.onmessage=lt=>{if(lt.data.error){console.error(lt.data.error),Xe(S,!1);return}const{blobUrls:Zt}=lt.data;new lC().load(Zt,Mt=>{Mt.colorSpace=AC,xt&&(Ae.x=xt.angleX,Ae.y=xt.angleY,Ae.z=xt.angleZ,l()&&(J.setValue(Ae.x),te.setValue(Ae.y),X.setValue(Ae.z)),Xe(S,!1),Z.skybox.value=Mt,_e(e.nextPointData))},void 0,Mt=>console.error("",Mt))})},Ke=()=>{if(!C)return;const De=window.innerWidth,$e=window.innerHeight;C.setPixelRatio(Math.min(window.devicePixelRatio,2)),C.setSize(De,$e),M.aspect=De/$e,M.updateProjectionMatrix()};ua(async()=>{if(!V(w))return;const De={width:V(w).clientWidth,height:V(w).clientHeight};if(I=new rC,M=new iC(s,De.width/De.height,.1,1e3),M.position.set(0,0,0),M.rotation.order="YXZ",I.add(M),M.aspect=De.width/De.height,M.updateProjectionMatrix(),U=new aC(M,V(w)),U.target.set(M.position.x,M.position.y,M.position.z+.01),U.dampingFactor=.1,U.rotateSpeed*=-1,U.enableDamping=!0,U.enablePan=!1,U.enableZoom=!1,U.maxZoom=1,re=new hy(G,se),I.add(re),l()){const st=new nC(1e3);I.add(st);const xt=new sC(10,16,10,64);I.add(xt)}C=new oC({canvas:V(w),alpha:!0}),C.setSize(V(w).clientWidth,V(w).clientHeight),C.setPixelRatio(Math.min(window.devicePixelRatio,2)),V(w).addEventListener("resize",Ke),V(w).addEventListener("wheel",st=>{M.fov+=st.deltaY*.05*1,M.fov=Math.max(20,Math.min(100,M.fov)),M.updateProjectionMatrix()});const $e=()=>{requestAnimationFrame($e),U.update();let st=dy.radToDeg(M.rotation.y);if(st=(st+360)%360,!V(k))return;V(k).style.transform=`rotateZ(${st}deg)`,v((st+180)%360);let xt=new a1(Am(Ae.x),Am(Ae.y),Am(Ae.z));Z.rotationAngles.value=xt,C.render(I,M)};$e()}),Xl.subscribe(async De=>{Ke()});const ot=De=>{e.setPoint(De)};Gi(()=>Ve(e.streetViewPoint));var it=sj(),pt=Ce(it);gn(pt,De=>Xe(w,De),()=>V(w));var Ut=Ue(pt,2);{var ct=De=>{var $e=ej();Qe(De,$e)},mt=De=>{var $e=nj(),st=kt($e);{var xt=Ht=>{var ur=rj(),St=Ce(ur);St.__click=[tj,h];var Ot=Ce(St);_r(Ot,{icon:"ep:back",class:"h-4 w-4"}),ve(St);var Jt=Ue(St,2),fr=Ce(Jt);Vi(),ve(Jt),ve(ur),Gt(()=>dr(fr,`:${e.streetViewPoint.properties.Date??""}`)),Qe(Ht,ur)};_t(st,Ht=>{e.showThreeCanvas&&Ht(xt)})}var Et=Ue(st,2),lt=Ce(Et),Zt=Ce(lt),Rt=Ce(Zt);{var Mt=Ht=>{var ur=vr(),St=kt(ur);mi(St,17,()=>e.nextPointData,xa,(Ot,Jt)=>{var fr=aj();fr.__click=[ij,ot,Jt];var jt=Ce(fr);const Br=oi(()=>e.showThreeCanvas?128:64),Hr=oi(()=>e.showThreeCanvas?128:64);_r(jt,{icon:"ep:arrow-up-bold",get width(){return V(Br)},get height(){return V(Hr)},class:"",get style(){return`transform: rotate(${V(Jt).bearing??""}deg);`}}),ve(fr),Gt(()=>dn(fr,`--angle: ${V(Jt).bearing??""}deg; --distance: ${(e.showThreeCanvas?"175":"64")??""}px;`)),Qe(Ot,fr)}),Qe(Ht,ur)};_t(Rt,Ht=>{e.nextPointData&&Ht(Mt)})}ve(Zt),gn(Zt,Ht=>Xe(k,Ht),()=>V(k)),ve(lt),ve(Et),Gt(()=>Bi(Et,1,`css-3d pointer-events-none absolute bottom-0 grid w-full place-items-center p-0 ${(e.showThreeCanvas?" h-[400px]":" h-full")??""}`,"svelte-ms8nyw")),Qe(De,$e)};_t(Ut,De=>{V(S)?De(ct):De(mt,!1)})}ve(it),Gt(()=>Bi(it,1,`absolute z-10 flex overflow-hidden duration-500 ${(e.showThreeCanvas?"bottom-0 right-0 h-full w-full opacity-100":"pointer-events-none bottom-0 right-0 h-full w-full opacity-0")??""}`,"svelte-ms8nyw")),Qe(t,it),or(),n()}fi(["click"]);var lj=nt('<label> <input type="radio" class="hidden"></label>'),Aj=nt('<div class="bg-main w-side-menu absolute z-10 flex h-full flex-col gap-2"><div class="flex items-center justify-between p-2"><span class="p-2 text-base text-lg"></span> <button class="bg-base rounded-full p-2"><!></button></div> <div class="c-scroll-hidden flex grow flex-col divide-y-2 overflow-y-auto overflow-x-hidden px-2 pb-4"><!> <!></div> <div class="c-fog pointer-events-none absolute bottom-0 z-10 flex h-[100px] w-full items-end justify-center pb-4 svelte-acdvpo"></div></div>');function cj(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(cy,"$showTerrainMenu",r),h=()=>kr(zl,"$isTerrain3d",r),u=[];zl.subscribe(M=>{const U=pi.getMap();U&&(M?(U.setTerrain({source:"terrain",exaggeration:1}),U.easeTo({pitch:60})):(U.setTerrain(null),U.easeTo({pitch:0})))});let s=Pt(wi(oo[0]));wi([...oo]),Gi(()=>{ya.url=V(s).tiles[0],ya.demType=V(s).demType,ya.sourceMinZoom=V(s).minzoom,ya.sourceMaxZoom=V(s).maxzoom,ya.bbox=V(s).bbox,ya.attribution=V(s).attribution,pi.resetDem()});var v=vr(),w=kt(v);{var I=M=>{var U=Aj(),C=Ce(U),S=Ue(Ce(C),2);S.__click=()=>{cy.set(!1)};var k=Ce(S);_r(k,{icon:"material-symbols:close-rounded",class:"text-main w-4] h-4"}),ve(S),ve(C);var z=Ue(C,2),Z=Ce(z);Gl(Z,{label:"3D",get value(){return _5(),h()},set value(se){Ko(zl,se)}});var G=Ue(Z,2);mi(G,17,()=>oo,xa,(se,re)=>{var Ae=lj(),J=Ce(Ae),te=Ue(J);tn(te);var X;ve(Ae),Gt(()=>{Bi(Ae,1,`flex cursor-pointer items-center justify-between gap-2 p-2 text-left text-base ${(V(re).id===V(s).id?"bg-accent text-main":"")??""}`),dr(J,`${V(re).name??""} `),xi(te,"id",V(re).id),X!==(X=V(re))&&(te.value=(te.__value=V(re))==null?"":V(re))}),tc(u,[],te,()=>(V(re),V(s)),W=>Xe(s,W)),Qe(se,Ae)}),ve(z),Vi(2),ve(U),ni(3,U,()=>In,()=>({duration:300,x:-100,opacity:0})),Qe(M,U)};_t(w,M=>{l()&&M(I)})}Qe(t,v),or(),n()}fi(["click"]);var uj=nt('<div class="bg-base absolute z-50"> </div>');function hj(t,e){sr(e,!1);const[r,n]=qi(),l=()=>kr(eL,"$tooltip",r);Jo();var h=vr(),u=kt(h);{var s=v=>{var w=uj(),I=Ce(w,!0);ve(w),Gt(()=>{dn(w,`top: ${l().y+10}px;left: ${l().x+10}px;`),dr(I,l().text)}),Qe(v,w)};_t(u,v=>{l().visible&&v(s)})}Qe(t,h),or(),n()}var o9={exports:{}},cm,J6;function dj(){if(J6)return cm;J6=1,cm=function(){return t};function t(){}return cm}(function(t){let e=function(){this.xmlSource="",this.metadata={},this.waypoints=[],this.tracks=[],this.routes=[]};e.prototype.parse=function(r){let n=this,l=new window.DOMParser;this.xmlSource=l.parseFromString(r,"text/xml");let h=this.xmlSource.querySelector("metadata");if(h!=null){this.metadata.name=this.getElementValue(h,"name"),this.metadata.desc=this.getElementValue(h,"desc"),this.metadata.time=this.getElementValue(h,"time");let U={},C=h.querySelector("author");if(C!=null){U.name=this.getElementValue(C,"name"),U.email={};let z=C.querySelector("email");z!=null&&(U.email.id=z.getAttribute("id"),U.email.domain=z.getAttribute("domain"));let Z={},G=C.querySelector("link");G!=null&&(Z.href=G.getAttribute("href"),Z.text=this.getElementValue(G,"text"),Z.type=this.getElementValue(G,"type")),U.link=Z}this.metadata.author=U;let S={},k=this.queryDirectSelector(h,"link");k!=null&&(S.href=k.getAttribute("href"),S.text=this.getElementValue(k,"text"),S.type=this.getElementValue(k,"type"),this.metadata.link=S)}var u=[].slice.call(this.xmlSource.querySelectorAll("wpt"));for(let U in u){var s=u[U];let C={};C.name=n.getElementValue(s,"name"),C.sym=n.getElementValue(s,"sym"),C.lat=parseFloat(s.getAttribute("lat")),C.lon=parseFloat(s.getAttribute("lon"));let S=parseFloat(n.getElementValue(s,"ele"));C.ele=isNaN(S)?null:S,C.cmt=n.getElementValue(s,"cmt"),C.desc=n.getElementValue(s,"desc");let k=n.getElementValue(s,"time");C.time=k==null?null:new Date(k),n.waypoints.push(C)}var v=[].slice.call(this.xmlSource.querySelectorAll("rte"));for(let U in v){let C=v[U],S={};S.name=n.getElementValue(C,"name"),S.cmt=n.getElementValue(C,"cmt"),S.desc=n.getElementValue(C,"desc"),S.src=n.getElementValue(C,"src"),S.number=n.getElementValue(C,"number");let k=n.queryDirectSelector(C,"type");S.type=k!=null?k.innerHTML:null;let z={},Z=C.querySelector("link");Z!=null&&(z.href=Z.getAttribute("href"),z.text=n.getElementValue(Z,"text"),z.type=n.getElementValue(Z,"type")),S.link=z;let G=[];var w=[].slice.call(C.querySelectorAll("rtept"));for(let se in w){let re=w[se],Ae={};Ae.lat=parseFloat(re.getAttribute("lat")),Ae.lon=parseFloat(re.getAttribute("lon"));let J=parseFloat(n.getElementValue(re,"ele"));Ae.ele=isNaN(J)?null:J;let te=n.getElementValue(re,"time");Ae.time=te==null?null:new Date(te),G.push(Ae)}S.distance=n.calculDistance(G),S.elevation=n.calcElevation(G),S.slopes=n.calculSlope(G,S.distance.cumul),S.points=G,n.routes.push(S)}var I=[].slice.call(this.xmlSource.querySelectorAll("trk"));for(let U in I){let C=I[U],S={};S.name=n.getElementValue(C,"name"),S.cmt=n.getElementValue(C,"cmt"),S.desc=n.getElementValue(C,"desc"),S.src=n.getElementValue(C,"src"),S.number=n.getElementValue(C,"number");let k=n.queryDirectSelector(C,"type");S.type=k!=null?k.innerHTML:null;let z={},Z=C.querySelector("link");Z!=null&&(z.href=Z.getAttribute("href"),z.text=n.getElementValue(Z,"text"),z.type=n.getElementValue(Z,"type")),S.link=z;let G=[],se=[].slice.call(C.querySelectorAll("trkpt"));for(let re in se){var M=se[re];let Ae={};Ae.lat=parseFloat(M.getAttribute("lat")),Ae.lon=parseFloat(M.getAttribute("lon"));let J=parseFloat(n.getElementValue(M,"ele"));Ae.ele=isNaN(J)?null:J;let te=n.getElementValue(M,"time");Ae.time=te==null?null:new Date(te),G.push(Ae)}S.distance=n.calculDistance(G),S.elevation=n.calcElevation(G),S.slopes=n.calculSlope(G,S.distance.cumul),S.points=G,n.tracks.push(S)}},e.prototype.getElementValue=function(r,n){let l=r.querySelector(n);return l!=null?l.innerHTML!=null?l.innerHTML:l.childNodes[0].data:l},e.prototype.queryDirectSelector=function(r,n){let l=r.querySelectorAll(n),h=l[0];if(l.length>1){let u=r.childNodes;for(idx in u)elem=u[idx],elem.tagName===n&&(h=elem)}return h},e.prototype.calculDistance=function(r){let n={},l=0,h=[];for(var u=0;u<r.length-1;u++)l+=this.calcDistanceBetween(r[u],r[u+1]),h[u]=l;return h[r.length-1]=l,n.total=l,n.cumul=h,n},e.prototype.calcDistanceBetween=function(r,n){let l={};l.lat=r.lat,l.lon=r.lon;let h={};h.lat=n.lat,h.lon=n.lon;var u=Math.PI/180,s=l.lat*u,v=h.lat*u,w=Math.sin((h.lat-l.lat)*u/2),I=Math.sin((h.lon-l.lon)*u/2),M=w*w+Math.cos(s)*Math.cos(v)*I*I;return 6371e3*(2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M)))},e.prototype.calcElevation=function(r){for(var n=0,l=0,h={},u=0;u<r.length-1;u++){let M=r[u+1].ele,U=r[u].ele;if(M!==null&&U!==null){let C=parseFloat(M)-parseFloat(U);C<0?l+=C:C>0&&(n+=C)}}for(var s=[],v=0,w=(u=0,r.length);u<w;u++)if(r[u].ele!==null){var I=parseFloat(r[u].ele);s.push(I),v+=I}return h.max=Math.max.apply(null,s)||null,h.min=Math.min.apply(null,s)||null,h.pos=Math.abs(n)||null,h.neg=Math.abs(l)||null,h.avg=v/s.length||null,h},e.prototype.calculSlope=function(r,n){let l=[];for(var h=0;h<r.length-1;h++){let u=r[h],s=100*(r[h+1].ele-u.ele)/(n[h+1]-n[h]);l.push(s)}return l},e.prototype.toGeoJSON=function(){var r={type:"FeatureCollection",features:[],properties:{name:this.metadata.name,desc:this.metadata.desc,time:this.metadata.time,author:this.metadata.author,link:this.metadata.link}};for(idx in this.tracks){let h=this.tracks[idx];var n={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}};for(idx in n.properties.name=h.name,n.properties.cmt=h.cmt,n.properties.desc=h.desc,n.properties.src=h.src,n.properties.number=h.number,n.properties.link=h.link,n.properties.type=h.type,h.points){let u=h.points[idx];(l=[]).push(u.lon),l.push(u.lat),l.push(u.ele),n.geometry.coordinates.push(l)}r.features.push(n)}for(idx in this.routes){let h=this.routes[idx];n={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}};for(idx in n.properties.name=h.name,n.properties.cmt=h.cmt,n.properties.desc=h.desc,n.properties.src=h.src,n.properties.number=h.number,n.properties.link=h.link,n.properties.type=h.type,h.points){let u=h.points[idx];var l;(l=[]).push(u.lon),l.push(u.lat),l.push(u.ele),n.geometry.coordinates.push(l)}r.features.push(n)}for(idx in this.waypoints){let h=this.waypoints[idx];(n={type:"Feature",geometry:{type:"Point",coordinates:[]},properties:{}}).properties.name=h.name,n.properties.sym=h.sym,n.properties.cmt=h.cmt,n.properties.desc=h.desc,n.geometry.coordinates=[h.lon,h.lat,h.ele],r.features.push(n)}return r},dj()(),t.exports=e})(o9);var fj=o9.exports;const l9=dp(fj),gj=async t=>{try{const e=await t.text(),r=new l9;return r.parse(e),{tracks:r.tracks.length>0,routes:r.routes.length>0,waypoints:r.waypoints.length>0}}catch(e){throw console.error("GPX :",e),e}},pj=async(t,e)=>{try{const r=await t.text(),n=new l9;n.parse(r);let l;return e==="tracks"&&(l={type:"FeatureCollection",features:n.tracks.map(u=>({type:"Feature",geometry:{type:"LineString",coordinates:u.points.map(s=>[s.lon,s.lat])},properties:{name:u.name,desc:u.cmt,time:u.desc,src:u.src,number:u.number,link:u.link,type:u.type,distance:u.distance.total,elevation_max:u.elevation.max,elevation_min:u.elevation.min,elevation_pos:u.elevation.pos,elevation_neg:u.elevation.neg,elevation_avg:u.elevation.avg,distance_cumul:u.distance.cumul,slopes:u.slopes}}))}),e==="waypoints"&&(l={type:"FeatureCollection",features:n.waypoints.map(u=>({type:"Feature",geometry:{type:"Point",coordinates:[u.lon,u.lat]},properties:{name:u.name,cmt:u.cmt,desc:u.desc,lat:u.lat,lon:u.lon,ele:u.ele,time:u.time}}))}),e==="routes"&&(l={type:"FeatureCollection",features:n.routes.map(u=>({type:"Feature",geometry:{type:"LineString",coordinates:u.points.map(s=>[s.lon,s.lat])},properties:{name:u.name,cmt:u.cmt,desc:u.desc,src:u.src,number:u.number,link:u.link,type:u.type,distance:u.distance.total,elevation_max:u.elevation.max,elevation_min:u.elevation.min,elevation_pos:u.elevation.pos,elevation_neg:u.elevation.neg,elevation_avg:u.elevation.avg,distance_cumul:u.distance.cumul,slopes:u.slopes}}))}),l}catch(r){throw console.error("GeoJSON parsing error:",r),new Error("Failed to parse GeoJSON file")}},mj=(t,e)=>{e(null)};var _j=nt('<div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold">GPX</span></div> <div class="c-scroll flex h-full w-full grow flex-col items-center gap-6 overflow-y-auto overflow-x-hidden"><div class="p-2"><!></div></div> <div class="flex shrink-0 justify-center gap-4 overflow-auto pt-2"><button class="c-btn-cancel cursor-pointer p-4 text-lg"></button> <button class="c-btn-confirm min-w-[200px] cursor-pointer p-4 text-lg"></button></div>',1);function bj(t,e){sr(e,!0);let r=Qt(e,"showDataEntry",15),n=Qt(e,"showDialogType",15),l=Pt("waypoints"),h=Pt(wi([])),u=Pt("");const s=async z=>{const Z=z.name.toLowerCase();Xe(u,Z,!0);const G=await gj(z),se=[];if(G.tracks&&se.push({key:"tracks",name:""}),G.routes&&se.push({key:"routes",name:""}),G.waypoints&&se.push({key:"waypoints",name:""}),se.length===1){Xe(l,se[0].key,!0),v();return}Xe(h,se,!0)};Gi(()=>{if(e.dropFile){if(e.dropFile instanceof FileList){const z=e.dropFile[0];s(z);return}else if(e.dropFile instanceof File){s(e.dropFile);return}}});const v=async()=>{if(!e.dropFile)return;let z;if(e.dropFile instanceof FileList?z=e.dropFile[0]:e.dropFile instanceof File&&(z=e.dropFile),!z)return;const Z=await pj(z,V(l)),G=y4(Z);if(!G){hs("","error");return}const se=v4(Z,G,V(u));se&&(r(se),n(null))};var w=_j(),I=Ue(kt(w),2),M=Ce(I),U=Ce(M);qu(U,{label:"",get group(){return V(l)},set group(z){Xe(l,z,!0)},get options(){return V(h)},set options(z){Xe(h,z,!0)}}),ve(M),ve(I);var C=Ue(I,2),S=Ce(C);S.__click=[mj,n];var k=Ue(S,2);k.__click=v,ve(C),Qe(t,w),or()}fi(["click"]);function oc(t){this._maxSize=t,this.clear()}oc.prototype.clear=function(){this._size=0,this._values=Object.create(null)};oc.prototype.get=function(t){return this._values[t]};oc.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var yj=/[^.^\]^[]+|(?=\[\]|\.\.)/g,A9=/^\d+$/,vj=/^\d/,xj=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,wj=/^\s*(['"]?)(.*?)(\1)\s*$/,f_=512,e5=new oc(f_),t5=new oc(f_),r5=new oc(f_),ec={Cache:oc,split:c4,normalizePath:um,setter:function(t){var e=um(t);return t5.get(t)||t5.set(t,function(n,l){for(var h=0,u=e.length,s=n;h<u-1;){var v=e[h];if(v==="__proto__"||v==="constructor"||v==="prototype")return n;s=s[e[h++]]}s[e[h]]=l})},getter:function(t,e){var r=um(t);return r5.get(t)||r5.set(t,function(l){for(var h=0,u=r.length;h<u;)if(l!=null||!e)l=l[r[h++]];else return;return l})},join:function(t){return t.reduce(function(e,r){return e+(g_(r)||A9.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){Bj(Array.isArray(t)?t:c4(t),e,r)}};function um(t){return e5.get(t)||e5.set(t,c4(t).map(function(e){return e.replace(wj,"$2")}))}function c4(t){return t.match(yj)||[""]}function Bj(t,e,r){var n=t.length,l,h,u,s;for(h=0;h<n;h++)l=t[h],l&&(Rj(l)&&(l='"'+l+'"'),s=g_(l),u=!s&&/^\d+$/.test(l),e.call(r,l,s,u,h,t))}function g_(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Cj(t){return t.match(vj)&&!t.match(A9)}function Mj(t){return xj.test(t)}function Rj(t){return!g_(t)&&(Cj(t)||Mj(t))}const Ij=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Np=t=>t.match(Ij)||[],Yp=t=>t[0].toUpperCase()+t.slice(1),p_=(t,e)=>Np(t).join(e).toLowerCase(),c9=t=>Np(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),Uj=t=>Yp(c9(t)),Ej=t=>p_(t,"_"),Fj=t=>p_(t,"-"),Tj=t=>Yp(p_(t," ")),Sj=t=>Np(t).map(Yp).join(" ");var hm={words:Np,upperFirst:Yp,camelCase:c9,pascalCase:Uj,snakeCase:Ej,kebabCase:Fj,sentenceCase:Tj,titleCase:Sj},m_={exports:{}};m_.exports=function(t){return u9(Nj(t),t)};m_.exports.array=u9;function u9(t,e){var r=t.length,n=new Array(r),l={},h=r,u=Yj(e),s=Pj(t);for(e.forEach(function(w){if(!s.has(w[0])||!s.has(w[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});h--;)l[h]||v(t[h],h,new Set);return n;function v(w,I,M){if(M.has(w)){var U;try{U=", node was:"+JSON.stringify(w)}catch{U=""}throw new Error("Cyclic dependency"+U)}if(!s.has(w))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(w));if(!l[I]){l[I]=!0;var C=u.get(w)||new Set;if(C=Array.from(C),I=C.length){M.add(w);do{var S=C[--I];v(S,s.get(S),M)}while(I);M.delete(w)}n[--r]=w}}}function Nj(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var l=t[r];e.add(l[0]),e.add(l[1])}return Array.from(e)}function Yj(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var l=t[r];e.has(l[0])||e.set(l[0],new Set),e.has(l[1])||e.set(l[1],new Set),e.get(l[0]).add(l[1])}return e}function Pj(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var Lj=m_.exports;const kj=dp(Lj),Qj=Object.prototype.toString,Dj=Error.prototype.toString,zj=RegExp.prototype.toString,Zj=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Oj=/^Symbol\((.*)\)(.*)$/;function Hj(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function i5(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return Hj(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Zj.call(t).replace(Oj,"Symbol($1)");const n=Qj.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Dj.call(t)+"]":n==="RegExp"?zj.call(t):null}function Hl(t,e){let r=i5(t,e);return r!==null?r:JSON.stringify(t,function(n,l){let h=i5(this[n],e);return h!==null?h:l},2)}function h9(t){return t==null?[]:[].concat(t)}let d9,f9,g9,Xj=/\$\{\s*(\w+)\s*\}/g;d9=Symbol.toStringTag;class a5{constructor(e,r,n,l){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[d9]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=l,this.errors=[],this.inner=[],h9(e).forEach(h=>{if(Cn.isError(h)){this.errors.push(...h.errors);const u=h.inner.length?h.inner:[h];this.inner.push(...u)}else this.errors.push(h)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}f9=Symbol.hasInstance;g9=Symbol.toStringTag;class Cn extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(Xj,(l,h)=>Hl(r[h])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,l,h){const u=new a5(e,r,n,l);if(h)return u;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[g9]="Error",this.name=u.name,this.message=u.message,this.type=u.type,this.value=u.value,this.path=u.path,this.errors=u.errors,this.inner=u.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Cn)}static[f9](e){return a5[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let lo={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const l=n!=null&&n!==r?` (cast from the value \`${Hl(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Hl(r,!0)}\``+l:`${t} must match the configured type. The validated value was: \`${Hl(r,!0)}\``+l}},xn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Vj={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},u4={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Gj={isValue:"${path} field must be ${value}"},_g={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},jj={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Kj={notType:t=>{const{path:e,value:r,spec:n}=t,l=n.types.length;if(Array.isArray(r)){if(r.length<l)return`${e} tuple value has too few items, expected a length of ${l} but got ${r.length} for value: \`${Hl(r,!0)}\``;if(r.length>l)return`${e} tuple value has too many items, expected a length of ${l} but got ${r.length} for value: \`${Hl(r,!0)}\``}return Cn.formatError(lo.notType,t)}};Object.assign(Object.create(null),{mixed:lo,string:xn,number:Vj,date:u4,object:_g,array:jj,boolean:Gj,tuple:Kj});const __=t=>t&&t.__isYupSchema__;class sp{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:l,otherwise:h}=r,u=typeof n=="function"?n:(...s)=>s.every(v=>v===n);return new sp(e,(s,v)=>{var w;let I=u(...s)?l:h;return(w=I==null?void 0:I(v))!=null?w:v})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(h=>h.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),l=this.fn(n,e,r);if(l===void 0||l===e)return e;if(!__(l))throw new TypeError("conditions must return a schema object");return l.resolve(r)}}const j1={context:"$",value:"."};class lc{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===j1.context,this.isValue=this.key[0]===j1.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?j1.context:this.isValue?j1.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&ec.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let l=this.isContext?n:this.isValue?e:r;return this.getter&&(l=this.getter(l||{})),this.map&&(l=this.map(l)),l}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}lc.prototype.__isYupRef=!0;const VA=t=>t==null;function bu(t){function e({value:r,path:n="",options:l,originalValue:h,schema:u},s,v){const{name:w,test:I,params:M,message:U,skipAbsent:C}=t;let{parent:S,context:k,abortEarly:z=u.spec.abortEarly,disableStackTrace:Z=u.spec.disableStackTrace}=l;function G(ue){return lc.isRef(ue)?ue.getValue(r,S,k):ue}function se(ue={}){const _e=Object.assign({value:r,originalValue:h,label:u.spec.label,path:ue.path||n,spec:u.spec,disableStackTrace:ue.disableStackTrace||Z},M,ue.params);for(const He of Object.keys(_e))_e[He]=G(_e[He]);const xe=new Cn(Cn.formatError(ue.message||U,_e),r,_e.path,ue.type||w,_e.disableStackTrace);return xe.params=_e,xe}const re=z?s:v;let Ae={path:n,parent:S,type:w,from:l.from,createError:se,resolve:G,options:l,originalValue:h,schema:u};const J=ue=>{Cn.isError(ue)?re(ue):ue?v(null):re(se())},te=ue=>{Cn.isError(ue)?re(ue):s(ue)};if(C&&VA(r))return J(!0);let W;try{var he;if(W=I.call(Ae,r,Ae),typeof((he=W)==null?void 0:he.then)=="function"){if(l.sync)throw new Error(`Validation test of type: "${Ae.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(W).then(J,te)}}catch(ue){te(ue);return}J(W)}return e.OPTIONS=t,e}function $j(t,e,r,n=r){let l,h,u;return e?(ec.forEach(e,(s,v,w)=>{let I=v?s.slice(1,s.length-1):s;t=t.resolve({context:n,parent:l,value:r});let M=t.type==="tuple",U=w?parseInt(I,10):0;if(t.innerType||M){if(M&&!w)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${u}" must contain an index to the tuple element, e.g. "${u}[0]"`);if(r&&U>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${e}. because there is no value at that index. `);l=r,r=r&&r[U],t=M?t.spec.types[U]:t.innerType}if(!w){if(!t.fields||!t.fields[I])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${u} which is a type: "${t.type}")`);l=r,r=r&&r[I],t=t.fields[I]}h=I,u=v?"["+s+"]":"."+s}),{schema:t,parent:l,parentPath:h}):{parent:l,parentPath:e,schema:t}}class op extends Set{describe(){const e=[];for(const r of this.values())e.push(lc.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new op(this.values())}merge(e,r){const n=this.clone();return e.forEach(l=>n.add(l)),r.forEach(l=>n.delete(l)),n}}function Uu(t,e=new Map){if(__(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=Uu(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,l]of t.entries())r.set(n,Uu(l,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(Uu(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,l]of Object.entries(t))r[n]=Uu(l,e)}else throw Error(`Unable to clone ${t}`);return r}class Xs{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new op,this._blacklist=new op,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(lo.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=Uu(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const l=Object.assign({},r.spec,n.spec);return n.spec=l,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(h=>{e.tests.forEach(u=>{h.test(u.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((l,h)=>h.resolve(l,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,l,h;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(l=e.recursive)!=null?l:this.spec.recursive,disableStackTrace:(h=e.disableStackTrace)!=null?h:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),l=r.assert==="ignore-optionality",h=n._cast(e,r);if(r.assert!==!1&&!n.isType(h)){if(l&&VA(h))return h;let u=Hl(e),s=Hl(h);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${u} 
`+(s!==u?`result of cast: ${s}`:""))}return h}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((l,h)=>h.call(this,l,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,l){let{path:h,originalValue:u=e,strict:s=this.spec.strict}=r,v=e;s||(v=this._cast(v,Object.assign({assert:!1},r)));let w=[];for(let I of Object.values(this.internalTests))I&&w.push(I);this.runTests({path:h,value:v,originalValue:u,options:r,tests:w},n,I=>{if(I.length)return l(I,v);this.runTests({path:h,value:v,originalValue:u,options:r,tests:this.tests},n,l)})}runTests(e,r,n){let l=!1,{tests:h,value:u,originalValue:s,path:v,options:w}=e,I=k=>{l||(l=!0,r(k,u))},M=k=>{l||(l=!0,n(k,u))},U=h.length,C=[];if(!U)return M([]);let S={value:u,originalValue:s,path:v,options:w,schema:this};for(let k=0;k<h.length;k++){const z=h[k];z(S,I,function(G){G&&(Array.isArray(G)?C.push(...G):C.push(G)),--U<=0&&M(C)})}}asNestedTest({key:e,index:r,parent:n,parentPath:l,originalParent:h,options:u}){const s=e??r;if(s==null)throw TypeError("Must include `key` or `index` for nested validations");const v=typeof s=="number";let w=n[s];const I=Object.assign({},u,{strict:!0,parent:n,value:w,originalValue:h[s],key:void 0,[v?"index":"key"]:s,path:v||s.includes(".")?`${l||""}[${v?s:`"${s}"`}]`:(l?`${l}.`:"")+e});return(M,U,C)=>this.resolve(I)._validate(w,I,U,C)}validate(e,r){var n;let l=this.resolve(Object.assign({},r,{value:e})),h=(n=r==null?void 0:r.disableStackTrace)!=null?n:l.spec.disableStackTrace;return new Promise((u,s)=>l._validate(e,r,(v,w)=>{Cn.isError(v)&&(v.value=w),s(v)},(v,w)=>{v.length?s(new Cn(v,w,void 0,void 0,h)):u(w)}))}validateSync(e,r){var n;let l=this.resolve(Object.assign({},r,{value:e})),h,u=(n=r==null?void 0:r.disableStackTrace)!=null?n:l.spec.disableStackTrace;return l._validate(e,Object.assign({},r,{sync:!0}),(s,v)=>{throw Cn.isError(s)&&(s.value=v),s},(s,v)=>{if(s.length)throw new Cn(s,e,void 0,void 0,u);h=v}),h}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Cn.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Cn.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):Uu(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=bu({message:r,name:"nullable",test(l){return l===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=bu({message:r,name:"optionality",test(l){return l===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=lo.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=lo.notNull){return this.nullability(!1,e)}required(e=lo.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=lo.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),l=bu(r),h=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(u=>!(u.OPTIONS.name===r.name&&(h||u.OPTIONS.test===l.OPTIONS.test))),n.tests.push(l),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),l=h9(e).map(h=>new lc(h));return l.forEach(h=>{h.isSibling&&n.deps.push(h.key)}),n.conditions.push(typeof r=="function"?new sp(l,r):sp.fromOptions(l,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=bu({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=lo.oneOf){let n=this.clone();return e.forEach(l=>{n._whitelist.add(l),n._blacklist.delete(l)}),n.internalTests.whiteList=bu({message:r,name:"oneOf",skipAbsent:!0,test(l){let h=this.schema._whitelist,u=h.resolveAll(this.resolve);return u.includes(l)?!0:this.createError({params:{values:Array.from(h).join(", "),resolved:u}})}}),n}notOneOf(e,r=lo.notOneOf){let n=this.clone();return e.forEach(l=>{n._blacklist.add(l),n._whitelist.delete(l)}),n.internalTests.blacklist=bu({message:r,name:"notOneOf",test(l){let h=this.schema._blacklist,u=h.resolveAll(this.resolve);return u.includes(l)?this.createError({params:{values:Array.from(h).join(", "),resolved:u}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:l,optional:h,nullable:u}=r.spec;return{meta:l,label:n,optional:h,nullable:u,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(v=>({name:v.OPTIONS.name,params:v.OPTIONS.params})).filter((v,w,I)=>I.findIndex(M=>M.name===v.name)===w)}}}Xs.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Xs.prototype[`${t}At`]=function(e,r,n={}){const{parent:l,parentPath:h,schema:u}=$j(this,e,r,n.context);return u[t](l&&l[h],Object.assign({},n,{parent:l,path:e}))};for(const t of["equals","is"])Xs.prototype[t]=Xs.prototype.oneOf;for(const t of["not","nope"])Xs.prototype[t]=Xs.prototype.notOneOf;const qj=()=>!0;function r0(t){return new p9(t)}class p9 extends Xs{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:qj},e))}}r0.prototype=p9.prototype;const Wj=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Jj(t){const e=h4(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function h4(t){var e,r;const n=Wj.exec(t);return n?{year:ko(n[1]),month:ko(n[2],1)-1,day:ko(n[3],1),hour:ko(n[4]),minute:ko(n[5]),second:ko(n[6]),millisecond:n[7]?ko(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:ko(n[10]),minuteOffset:ko(n[11])}:null}function ko(t,e=0){return Number(t)||e}let eK=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tK=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,rK=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,iK="^\\d{4}-\\d{2}-\\d{2}",aK="\\d{2}:\\d{2}:\\d{2}",nK="(([+-]\\d{2}(:?\\d{2})?)|Z)",sK=new RegExp(`${iK}T${aK}(\\.\\d+)?${nK}$`),oK=t=>VA(t)||t===t.trim(),lK={}.toString();function uo(){return new m9}class m9 extends Xs{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const l=e!=null&&e.toString?e.toString():e;return l===lK?e:l})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||lo.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=xn.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=xn.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=xn.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,l,h;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:l,name:h}=r:l=r),this.test({name:h||"matches",message:l||xn.matches,params:{regex:e},skipAbsent:!0,test:u=>u===""&&n||u.search(e)!==-1})}email(e=xn.email){return this.matches(eK,{name:"email",message:e,excludeEmptyString:!0})}url(e=xn.url){return this.matches(tK,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=xn.uuid){return this.matches(rK,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,l;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:l=void 0}=e:r=e),this.matches(sK,{name:"datetime",message:r||xn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||xn.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:h=>{if(!h||n)return!0;const u=h4(h);return u?!!u.z:!1}}).test({name:"datetime_precision",message:r||xn.datetime_precision,params:{precision:l},skipAbsent:!0,test:h=>{if(!h||l==null)return!0;const u=h4(h);return u?u.precision===l:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=xn.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:oK})}lowercase(e=xn.lowercase){return this.transform(r=>VA(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>VA(r)||r===r.toLowerCase()})}uppercase(e=xn.uppercase){return this.transform(r=>VA(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>VA(r)||r===r.toUpperCase()})}}uo.prototype=m9.prototype;let AK=new Date(""),cK=t=>Object.prototype.toString.call(t)==="[object Date]";class b_ extends Xs{constructor(){super({type:"date",check(e){return cK(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=Jj(e),isNaN(e)?b_.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(lc.isRef(e))n=e;else{let l=this.cast(e);if(!this._typeCheck(l))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=l}return n}min(e,r=u4.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(l){return l>=this.resolve(n)}})}max(e,r=u4.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(l){return l<=this.resolve(n)}})}}b_.INVALID_DATE=AK;function uK(t,e=[]){let r=[],n=new Set,l=new Set(e.map(([u,s])=>`${u}-${s}`));function h(u,s){let v=ec.split(u)[0];n.add(v),l.has(`${s}-${v}`)||r.push([s,v])}for(const u of Object.keys(t)){let s=t[u];n.add(u),lc.isRef(s)&&s.isSibling?h(s.path,u):__(s)&&"deps"in s&&s.deps.forEach(v=>h(v,u))}return kj.array(Array.from(n),r).reverse()}function n5(t,e){let r=1/0;return t.some((n,l)=>{var h;if((h=e.path)!=null&&h.includes(n))return r=l,!0}),r}function _9(t){return(e,r)=>n5(t,e)-n5(t,r)}const hK=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function bg(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=bg(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=bg(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(bg)}):"optional"in t?t.optional():t}const dK=(t,e)=>{const r=[...ec.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),l=ec.getter(ec.join(r),!0)(t);return!!(l&&n in l)};let s5=t=>Object.prototype.toString.call(t)==="[object Object]";function o5(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const fK=_9([]);function Pp(t){return new b9(t)}class b9 extends Xs{constructor(e){super({type:"object",check(r){return s5(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=fK,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let l=super._cast(e,r);if(l===void 0)return this.getDefault(r);if(!this._typeCheck(l))return l;let h=this.fields,u=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,s=[].concat(this._nodes,Object.keys(l).filter(M=>!this._nodes.includes(M))),v={},w=Object.assign({},r,{parent:v,__validating:r.__validating||!1}),I=!1;for(const M of s){let U=h[M],C=M in l;if(U){let S,k=l[M];w.path=(r.path?`${r.path}.`:"")+M,U=U.resolve({value:k,context:r.context,parent:v});let z=U instanceof Xs?U.spec:void 0,Z=z==null?void 0:z.strict;if(z!=null&&z.strip){I=I||M in l;continue}S=!r.__validating||!Z?U.cast(l[M],w):l[M],S!==void 0&&(v[M]=S)}else C&&!u&&(v[M]=l[M]);(C!==M in v||v[M]!==l[M])&&(I=!0)}return I?v:l}_validate(e,r={},n,l){let{from:h=[],originalValue:u=e,recursive:s=this.spec.recursive}=r;r.from=[{schema:this,value:u},...h],r.__validating=!0,r.originalValue=u,super._validate(e,r,n,(v,w)=>{if(!s||!s5(w)){l(v,w);return}u=u||w;let I=[];for(let M of this._nodes){let U=this.fields[M];!U||lc.isRef(U)||I.push(U.asNestedTest({options:r,key:M,parent:w,parentPath:r.path,originalParent:u}))}this.runTests({tests:I,value:w,originalValue:u,options:r},n,M=>{l(M.sort(this._sortErrors).concat(v),w)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[l,h]of Object.entries(this.fields)){const u=n[l];n[l]=u===void 0?h:u}return r.withMutation(l=>l.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var l;const h=this.fields[n];let u=e;(l=u)!=null&&l.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[n]})),r[n]=h&&"getDefault"in h?h.getDefault(u):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=uK(e,r),n._sortErrors=_9(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let l=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),l=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),l)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return bg(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,l])=>e.includes(n)&&e.includes(l)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let l=ec.getter(e,!0);return this.transform(h=>{if(!h)return h;let u=h;return dK(h,e)&&(u=Object.assign({},h),n||delete u[e],u[r]=l(h)),u})}json(){return this.transform(hK)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||_g.exact,test(r){if(r==null)return!0;const n=o5(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=_g.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(l){if(l==null)return!0;const h=o5(this.schema,l);return!e||h.length===0||this.createError({params:{unknown:h.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=_g.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const l of Object.keys(r))n[e(l)]=r[l];return n})}camelCase(){return this.transformKeys(hm.camelCase)}snakeCase(){return this.transformKeys(hm.snakeCase)}constantCase(){return this.transformKeys(e=>hm.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[h,u]of Object.entries(r.fields)){var l;let s=e;(l=s)!=null&&l.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[h]})),n.fields[h]=u.describe(s)}return n}}Pp.prototype=b9.prototype;var gK=nt('<label class="relative flex w-full grow cursor-pointer flex-col items-start gap-2 pb-8"><span class="select-none text-base font-bold"> </span> <input type="text" class="bg-base text-main w-full rounded-lg p-2 focus:outline-0"> <span class="absolute bottom-0 text-red-500"> </span></label>');function v0(t,e){sr(e,!0);let r=Qt(e,"value",15);var n=gK(),l=Ce(n),h=Ce(l,!0);ve(l);var u=Ue(l,2);tn(u);var s=Ue(u,2),v=Ce(s,!0);ve(s),ve(n),Gt(()=>{dr(h,e.label),dr(v,e.error?e.error:"")}),$u(u,r),Qe(t,n),or()}const pK=(t,e,r,n)=>{e.tileUrl=e.tileUrl.trim();const l=WB(e.name,e.tileUrl);l&&(r(l),n(null))},mK=(t,e)=>{e(null)};var _K=nt('<div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold"></span></div> <div class="c-scroll flex h-full w-full grow flex-col items-center gap-6 overflow-y-auto overflow-x-hidden"><!> <!></div> <div class="flex shrink-0 justify-center gap-4 overflow-auto pt-2"><button class="c-btn-cancel cursor-pointer p-4 text-lg"></button> <button></button></div>',1);function bK(t,e){sr(e,!0);let r=Qt(e,"showDataEntry",15),n=Qt(e,"showDialogType",15);const l=Pp().shape({name:uo().required(""),tileUrl:uo().required("URL").test("","URL",k=>!/[^a-zA-Z0-9!-/:-@[-`{-~]+/.test(k))});let h=wi({name:"",tileUrl:""}),u=Pt(!0),s=Pt(wi({}));Gi(()=>{l.validate(h,{abortEarly:!1}).then(()=>{Xe(u,!1),Xe(s,{},!0)}).catch(k=>{Xe(u,!0);const z={};k.inner&&Array.isArray(k.inner)&&k.inner.forEach(Z=>{Z.path&&(z[Z.path]=Z.message)}),Xe(s,z,!0)})});var v=_K(),w=Ue(kt(v),2),I=Ce(w);v0(I,{label:"",get error(){return V(s).name},get value(){return h.name},set value(k){h.name=k}});var M=Ue(I,2);v0(M,{label:"URL",get error(){return V(s).tileUrl},get value(){return h.tileUrl},set value(k){h.tileUrl=k}}),ve(w);var U=Ue(w,2),C=Ce(U);C.__click=[mK,n];var S=Ue(C,2);S.__click=[pK,h,r,n],ve(U),Gt(()=>{S.disabled=V(u),Bi(S,1,`c-btn-confirm min-w-[200px] p-4 text-lg ${(V(u)?"cursor-not-allowed opacity-50":"cursor-pointer")??""}`)}),Qe(t,v),or()}fi(["click"]);var yK=nt('<span class="text-sm"> </span>'),vK=(t,e)=>e(t),xK=nt('<label class="bg-sub relative flex w-full max-w-[300px] cursor-pointer flex-col items-center gap-2 rounded-full p-4"><span> </span> <!> <span class="absolute bottom-0 text-red-500"> </span> <input type="file" class="hidden"></label>');function K1(t,e){sr(e,!0);let r=Qt(e,"file",15),n=Qt(e,"name",15);const l=S=>{var z;const k=(z=S.target.files)==null?void 0:z[0];k&&(r(k),n(k.name))};let h=Pt("");Gi(()=>{r()?Xe(h,r().name,!0):Xe(h,"")});var u=xK(),s=Ce(u),v=Ce(s,!0);ve(s);var w=Ue(s,2);{var I=S=>{var k=yK(),z=Ce(k,!0);ve(k),Gt(()=>dr(z,n())),Qe(S,k)};_t(w,S=>{n()&&S(I)})}var M=Ue(w,2),U=Ce(M,!0);ve(M);var C=Ue(M,2);C.__change=[vK,l],ve(u),Gt(()=>{dr(v,e.label),dr(U,e.error?e.error:""),xi(C,"accept",e.accept)}),Qe(t,u),or()}fi(["change"]);const d4=un(!1),wK=async(t,e,r,n)=>{if(!e.shpFile||!e.dbfFile||!e.prjFile)return;d4.set(!0);const l=await yw(e.shpFile,e.dbfFile,e.prjFile),h=y4(l);if(!h){hs("","error");return}const u=v4(l,h,e.shpFile.name);u&&(r(u),n(null)),d4.set(!1)},BK=(t,e)=>{e(null)};var CK=nt('<div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold"></span></div> <div class="c-scroll flex h-full w-full grow flex-col items-center gap-6 overflow-y-auto overflow-x-hidden"><!> <!> <!> <!></div> <div></div> <div class="flex shrink-0 justify-center gap-4 overflow-auto pt-2"><button class="c-btn-cancel cursor-pointer p-4 text-lg"></button> <button></button></div>',1);function MK(t,e){sr(e,!0);let r=Qt(e,"showDataEntry",15),n=Qt(e,"showDialogType",15),l=Qt(e,"dropFile",15);const h=Pp().shape({shpFile:r0().required("").test("fileType"," (: .shp)",J=>J instanceof File?J.name.endsWith(".shp"):!0),dbfFile:r0().required("").test("fileType"," (: .dbf)",J=>J instanceof File?J.name.endsWith(".dbf"):!0),prjFile:r0().required("").test("fileType"," (: .prj)",J=>J instanceof File?J.name.endsWith(".prj"):!0),shxFile:r0().required("").test("fileType"," (: .shx)",J=>J instanceof File?J.name.endsWith(".shx"):!0),shpName:uo().required(""),dbfName:uo().required(""),prjName:uo().required(""),shxName:uo().required("")}).test("filenames-match","",J=>{if(!J.shpName||!J.dbfName||!J.prjName||!J.shxName)return!0;const te=J.shpName.replace(/\.shp$/i,""),X=J.dbfName.replace(/\.dbf$/i,""),W=J.prjName.replace(/\.prj$/i,""),he=J.shxName.replace(/\.shx$/i,"");return te===X&&te===W&&te===he});let u=wi({shpFile:null,dbfFile:null,prjFile:null,shxFile:null,shpName:"",dbfName:"",prjName:"",shxName:""});const s=J=>{if(J){if(J instanceof File)v(J);else if(J instanceof FileList)for(let te=0;te<J.length;te++)v(J[te])}},v=J=>{const te=J.name;te.endsWith(".shp")?(u.shpFile=J,u.shpName=te):te.endsWith(".dbf")?(u.dbfFile=J,u.dbfName=te):te.endsWith(".prj")?(u.prjFile=J,u.prjName=te):te.endsWith(".shx")?(u.shxFile=J,u.shxName=te):hs("","error")};Gi(()=>{l()&&(s(l()),l(null))});let w=Pt(!0),I=Pt(wi({})),M=Pt("");Gi(()=>{h.validate(u,{abortEarly:!1}).then(()=>{Xe(w,!1),Xe(M,""),Xe(I,{},!0)}).catch(J=>{Xe(w,!0);const te={};J.inner&&Array.isArray(J.inner)&&J.inner.forEach(X=>{X.path&&(te[X.path]=X.message),X.type==="filenames-match"&&Xe(M,X.message,!0)}),Xe(I,te,!0)})});var U=CK(),C=Ue(kt(U),2),S=Ce(C);K1(S,{label:".shp",accept:".shp",get error(){return V(I).shpFile},get file(){return u.shpFile},set file(J){u.shpFile=J},get name(){return u.shpName},set name(J){u.shpName=J}});var k=Ue(S,2);K1(k,{label:".dbf",accept:".dbf",get error(){return V(I).dbfFile},get file(){return u.dbfFile},set file(J){u.dbfFile=J},get name(){return u.dbfName},set name(J){u.dbfName=J}});var z=Ue(k,2);K1(z,{label:".prj",accept:".prj",get error(){return V(I).prjFile},get file(){return u.prjFile},set file(J){u.prjFile=J},get name(){return u.prjName},set name(J){u.prjName=J}});var Z=Ue(z,2);K1(Z,{label:".shx",accept:".shx",get error(){return V(I).shxFile},get file(){return u.shxFile},set file(J){u.shxFile=J},get name(){return u.shxName},set name(J){u.shxName=J}}),ve(C);var G=Ue(C,3),se=Ue(G),re=Ce(se);re.__click=[BK,n];var Ae=Ue(re,2);Ae.__click=[wK,u,r,n],ve(se),Gt(()=>{dr(G,` ${V(M)??""} `),Ae.disabled=V(w),Bi(Ae,1,`c-btn-confirm min-w-[200px] p-4 text-lg ${(V(w)?"cursor-not-allowed opacity-50":"cursor-pointer")??""}`)}),Qe(t,U),or()}fi(["click"]);const RK=(t,e,r,n,l)=>{e.tileUrl=e.tileUrl.trim(),e.source=e.source.trim();const h=JB(e.name,e.tileUrl,e.source,V(r));h&&(n(h),l(null))},IK=(t,e)=>{e(null)};var UK=nt('<div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold"></span></div> <div class="c-scroll flex h-full w-full grow flex-col items-center gap-6 overflow-y-auto overflow-x-hidden"><!> <!> <!></div> <div class="p-2"><!></div> <div class="flex shrink-0 justify-center gap-4 overflow-auto pt-2"><button class="c-btn-cancel cursor-pointer p-4 text-lg"></button> <button></button></div>',1);function EK(t,e){sr(e,!0);let r=Qt(e,"showDataEntry",15),n=Qt(e,"showDialogType",15);const l=Pp().shape({name:uo().required(""),tileUrl:uo().required("URL").test("","URL",re=>!/[^a-zA-Z0-9!-/:-@[-`{-~]+/.test(re)),source:uo().required("").test("","",re=>!/[^a-zA-Z0-9!-/:-@[-`{-~]+/.test(re))});let h=wi({name:"",tileUrl:"",source:""}),u=Pt("Point"),s=wi([{key:"Point",name:""},{key:"LineString",name:""},{key:"Polygon",name:""}]),v=Pt(!0),w=Pt(wi({}));Gi(()=>{l.validate(h,{abortEarly:!1}).then(()=>{Xe(v,!1),Xe(w,{},!0)}).catch(re=>{Xe(v,!0);const Ae={};re.inner&&Array.isArray(re.inner)&&re.inner.forEach(J=>{J.path&&(Ae[J.path]=J.message)}),Xe(w,Ae,!0)})});var I=UK(),M=Ue(kt(I),2),U=Ce(M);v0(U,{label:"",get error(){return V(w).name},get value(){return h.name},set value(re){h.name=re}});var C=Ue(U,2);v0(C,{label:"URL",get error(){return V(w).tileUrl},get value(){return h.tileUrl},set value(re){h.tileUrl=re}});var S=Ue(C,2);v0(S,{label:"",get error(){return V(w).source},get value(){return h.source},set value(re){h.source=re}}),ve(M);var k=Ue(M,2),z=Ce(k);qu(z,{label:"",get options(){return s},get group(){return V(u)},set group(re){Xe(u,re,!0)}}),ve(k);var Z=Ue(k,2),G=Ce(Z);G.__click=[IK,n];var se=Ue(G,2);se.__click=[RK,h,u,r,n],ve(Z),Gt(()=>{se.disabled=V(v),Bi(se,1,`c-btn-confirm min-w-[200px] p-4 text-lg ${(V(v)?"cursor-not-allowed opacity-50":"cursor-pointer")??""}`)}),Qe(t,I),or()}fi(["click"]);var FK=nt('<div class="absolute bottom-0 z-30 flex h-full w-full items-center justify-center bg-black/50"><div class="bg-opacity-8 bg-main flex max-h-[600px] max-w-[600px] grow flex-col rounded-md p-4 text-base"><!> <!> <!> <!></div></div>');function TK(t,e){sr(e,!0);let r=Qt(e,"showDialogType",15),n=Qt(e,"showDataEntry",15),l=Qt(e,"dropFile",15);var h=vr(),u=kt(h);{var s=v=>{var w=FK(),I=Ce(w),M=Ce(I);{var U=se=>{bK(se,{get showDataEntry(){return n()},set showDataEntry(re){n(re)},get showDialogType(){return r()},set showDialogType(re){r(re)}})};_t(M,se=>{r()==="raster"&&se(U)})}var C=Ue(M,2);{var S=se=>{EK(se,{get showDataEntry(){return n()},set showDataEntry(re){n(re)},get showDialogType(){return r()},set showDialogType(re){r(re)}})};_t(C,se=>{r()==="vector"&&se(S)})}var k=Ue(C,2);{var z=se=>{MK(se,{get showDataEntry(){return n()},set showDataEntry(re){n(re)},get showDialogType(){return r()},set showDialogType(re){r(re)},get dropFile(){return l()},set dropFile(re){l(re)}})};_t(k,se=>{r()==="shp"&&se(z)})}var Z=Ue(k,2);{var G=se=>{bj(se,{get showDataEntry(){return n()},set showDataEntry(re){n(re)},get showDialogType(){return r()},set showDialogType(re){r(re)},get dropFile(){return l()},set dropFile(re){l(re)}})};_t(Z,se=>{r()==="gpx"&&se(G)})}ve(I),ve(w),ni(3,I,()=>D5,()=>({duration:300})),ni(3,w,()=>Rn,()=>({duration:200})),Qe(v,w)};_t(u,v=>{r()&&v(s)})}Qe(t,h),or()}var SK=nt('<div class="c-loading svelte-1eurxcc"><div class="spinner svelte-1eurxcc"></div></div>');function NK(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(d4,"$isProcessing",r);let h=Pt(null);ua(async()=>{});var u=vr(),s=kt(u);{var v=w=>{var I=SK();gn(I,M=>Xe(h,M),()=>V(h)),ni(3,I,()=>Rn,()=>({duration:200})),Qe(w,I)};_t(s,w=>{l()&&w(v)})}Qe(t,u),or(),n()}const YK=""+new URL("../assets/2001.CwL8XJaL.svg",import.meta.url).href;var PK=nt('<div class="c-loading svelte-1wdd9k2"><div class="spinner svelte-1wdd9k2"></div> <img alt="Logo" class="absolute left-0 top-0 h-full w-full" width="800" height="1052"></div>');function LK(t,e){sr(e,!0);let r=Pt(!1),n=Pt(null);ua(async()=>{await ig(1500),pi.onInitialized(s=>{s?s.on("load",()=>{s.resize(),Xe(r,!1)}):(s.resize(),Xe(r,!1))})});var l=vr(),h=kt(l);{var u=s=>{var v=PK(),w=Ue(Ce(v),2);xi(w,"src",YK),ve(v),gn(v,I=>Xe(n,I),()=>V(n)),ni(3,v,()=>Rn,()=>({duration:300})),Qe(s,v)};_t(h,s=>{V(r)&&s(u)})}Qe(t,l),or()}var kK=nt('<div class="bg-main w-side-menu flex h-full shrink-0 flex-col"></div>'),QK=nt('<div class="relative flex h-full w-full grow"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <!> <!>  <!> <!> <!> <!> <!> <!>',1);function s$(t,e){sr(e,!0);const[r,n]=qi(),l=()=>kr(Ys,"$selectedLayerId",r),h=()=>kr(jA,"$isStyleEdit",r),u=()=>kr(Xl,"$isStreetView",r),s=()=>kr(GA,"$mapMode",r),v=()=>kr(Ps,"$isSideMenuType",r);let w=Pt(wi([])),I=oi(()=>[...L0,...V(w)]),M=Pt(wi([])),U=Pt(null),C=Pt(null),S=oi(()=>{const wt=V(M).find(Ar=>Ar.id===l());return wt&&h()?wt:null}),k=Pt(""),z=Pt(null),Z=Pt(wi({})),G=Pt(null),se=Pt(null),re=Pt(wi({type:"FeatureCollection",features:[]})),Ae=Pt(wi({type:"FeatureCollection",features:[]})),J=Pt(0),te=Pt(!0),X=Pt(!1),W=Pt(null),he=Pt(!1),ue=Pt(null),_e=Pt(null);const xe=document.createElement("div");document.body.appendChild(xe),ua(async()=>{PB(VZ,{target:xe,props:{cameraBearing:V(J),angleMarker:V(G)}}),Xe(re,await Eg(`${J1}/nodes.fgb`),!0),Xe(Ae,await Eg(`${J1}/links.fgb`),!0),Xe(Z,await fetch(`${J1}/node_connections.json`).then(wt=>wt.json()),!0),PE()});const He=async wt=>{var Nr;if(!wt)return;const Ar=wt.properties.ID;YE(Ar);const Gr=(V(Z)[Ar]||[]).map(Ir=>V(re).features.find(Zi=>Zi.properties.ID===Ir)).filter(Ir=>Ir!==void 0).map(Ir=>({featureData:Ir,bearing:EC(wt,Ir)})),xr=pi.getMap();xr&&(u()&&(Ve(xr,wt.geometry.coordinates),xr.panTo(wt.geometry.coordinates,{duration:1e3,animate:!0})),V(G)&&V(G).remove(),Xe(G,new Os.Marker({element:xe,pitchAlignment:"map",rotationAlignment:"map",draggable:!0,rotation:-V(J)+180}).setLngLat(wt.geometry.coordinates).addTo(xr),!0),V(G).togglePopup(),Xe(z,Gr,!0),Xe(se,wt,!0),(Nr=V(G))==null||Nr.on("dragend",()=>{var Yi;const Ir=(Yi=V(G))==null?void 0:Yi.getLngLat();if(!Ir)return;const Zi=wy([Ir.lng,Ir.lat],V(re));He(Zi)}))};Gi(()=>{V(J)&&V(G)&&V(G).setRotation(-V(J)+180)}),pi.onClick(wt=>{if(!(!wt||s()==="edit")&&V(re).features.length>0){const Ar=wy([wt.lngLat.lng,wt.lngLat.lat],V(re));FC(Ar,[wt.lngLat.lng,wt.lngLat.lat],{units:"meters"})<100&&He(Ar)}});const Ve=(wt,Ar)=>{const Gr=wt.queryTerrainElevation(Ar);wt.setCenterClampedToGround(!1),wt.setCenterElevation(Gr??0),console.warn("elevation",Gr),wt._elevationStart=wt._elevationTarget},Ke=wt=>{wt.setCenterClampedToGround(!0),wt.setCenterElevation(0),wt._elevationStart=wt._elevationTarget};Xl.subscribe(async wt=>{const Ar=pi.getMap();Ar&&(wt?(Ve(Ar,V(se).geometry.coordinates),Ar.easeTo({center:V(se).geometry.coordinates,zoom:20,duration:750,bearing:-V(J)+180,pitch:65}),await ig(750),Xe(te,!1),Xe(X,!0),await ig(500),Ar.setBearing(0),Ar.setPitch(0),Ko(GA,"small")):(Ar.easeTo({center:V(se).geometry.coordinates,zoom:20,duration:0,bearing:-V(J)+180,pitch:65}),Ko(GA,"view"),Xe(te,!0),Xe(X,!1),Ke(Ar),await ig(300),Ar.easeTo({zoom:17,bearing:0,pitch:0,duration:750})))}),Cg.subscribe(wt=>{const Ar=[...V(M)],Gr=new Map(Ar.map(Nr=>[Nr.id,Nr])),xr=[];for(const Nr of wt){let Ir=Gr.get(Nr);Ir?xr.push(Ir):(Ir=V(I).find(Zi=>Zi.id===Nr),Ir&&xr.push(Ir))}Xe(M,xr,!0)});var ot=QK(),it=kt(ot),pt=Ce(it);{var Ut=wt=>{var Ar=kK();ni(1,Ar,()=>C4,()=>({duration:1,delay:200,axis:"x"})),Qe(wt,Ar)};_t(pt,wt=>{v()&&wt(Ut)})}var ct=Ue(pt,2);QL(ct,{get layerEntries(){return V(M)},set layerEntries(wt){Xe(M,wt,!0)},get tempLayerEntries(){return V(w)},set tempLayerEntries(wt){Xe(w,wt,!0)}});var mt=Ue(ct,2);ZZ(mt,{get layerEntries(){return V(M)},get featureMenuData(){return V(W)},set featureMenuData(wt){Xe(W,wt,!0)},get inputSearchWord(){return V(k)},set inputSearchWord(wt){Xe(k,wt,!0)},get showSelectionMarker(){return V(he)},set showSelectionMarker(wt){Xe(he,wt,!0)},get selectionMarkerLngLat(){return V(ue)},set selectionMarkerLngLat(wt){Xe(ue,wt,!0)}});var De=Ue(mt,2);FD(De,{get streetViewLineData(){return V(Ae)},get streetViewPointData(){return V(re)},get angleMarker(){return V(G)},get streetViewPoint(){return V(se)},get showMapCanvas(){return V(te)},get layerEntries(){return V(M)},set layerEntries(wt){Xe(M,wt,!0)},get tempLayerEntries(){return V(w)},set tempLayerEntries(wt){Xe(w,wt,!0)},get showDataEntry(){return V(U)},set showDataEntry(wt){Xe(U,wt,!0)},get featureMenuData(){return V(W)},set featureMenuData(wt){Xe(W,wt,!0)},get showSelectionMarker(){return V(he)},set showSelectionMarker(wt){Xe(he,wt,!0)},get selectionMarkerLngLat(){return V(ue)},set selectionMarkerLngLat(wt){Xe(ue,wt,!0)},get dropFile(){return V(C)},set dropFile(wt){Xe(C,wt,!0)},get showDialogType(){return V(_e)},set showDialogType(wt){Xe(_e,wt,!0)}});var $e=Ue(De,2);nL($e,{});var st=Ue($e,2);wP(st);var xt=Ue(st,2);Jk(xt,{get layerEntry(){return V(S)},set layerEntry(wt){Xe(S,wt,!0)},get tempLayerEntries(){return V(w)},set tempLayerEntries(wt){Xe(w,wt,!0)}});var Et=Ue(xt,2);pP(Et,{get layerEntries(){return V(M)},get featureMenuData(){return V(W)},set featureMenuData(wt){Xe(W,wt,!0)}});var lt=Ue(Et,2);dz(lt,{get showDataEntry(){return V(U)},set showDataEntry(wt){Xe(U,wt,!0)}});var Zt=Ue(lt,2);cj(Zt,{});var Rt=Ue(Zt,2);{var Mt=wt=>{sE(wt,{get showDataEntry(){return V(U)},set showDataEntry(Ar){Xe(U,Ar,!0)},get dropFile(){return V(C)},set dropFile(Ar){Xe(C,Ar,!0)},get showDialogType(){return V(_e)},set showDialogType(Ar){Xe(_e,Ar,!0)}})};_t(Rt,wt=>{V(U)||wt(Mt)})}var Ht=Ue(Rt,2);{var ur=wt=>{kD(wt,{get showDataEntry(){return V(U)},set showDataEntry(Ar){Xe(U,Ar,!0)},get tempLayerEntries(){return V(w)},set tempLayerEntries(Ar){Xe(w,Ar,!0)}})};_t(Ht,wt=>{V(U)&&wt(ur)})}var St=Ue(Ht,2);oj(St,{get streetViewPoint(){return V(se)},get nextPointData(){return V(z)},get showThreeCanvas(){return V(X)},setPoint:He,get cameraBearing(){return V(J)},set cameraBearing(wt){Xe(J,wt,!0)}}),ve(it);var Ot=Ue(it,2);TK(Ot,{get showDialogType(){return V(_e)},set showDialogType(wt){Xe(_e,wt,!0)},get showDataEntry(){return V(U)},set showDataEntry(wt){Xe(U,wt,!0)},get tempLayerEntries(){return V(w)},set tempLayerEntries(wt){Xe(w,wt,!0)},get dropFile(){return V(C)},set dropFile(wt){Xe(C,wt,!0)}});var Jt=Ue(Ot,2);hj(Jt,{});var fr=Ue(Jt,2);HZ(fr,{});var jt=Ue(fr,2);SD(jt,{});var Br=Ue(jt,2);lE(Br,{});var Hr=Ue(Br,2);cE(Hr,{});var ei=Ue(Hr,2);NK(ei,{});var Yr=Ue(ei,2);LK(Yr,{}),Qe(t,ot),or(),n()}export{s$ as component};
