var U9=Object.defineProperty;var hb=t=>{throw TypeError(t)};var E9=(t,e,a)=>e in t?U9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var Ia=(t,e,a)=>E9(t,typeof e!="symbol"?e+"":e,a),b2=(t,e,a)=>e.has(t)||hb("Cannot "+a);var Ro=(t,e,a)=>(b2(t,e,"read from private field"),a?a.call(t):e.get(t)),od=(t,e,a)=>e.has(t)?hb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,a),y2=(t,e,a,n)=>(b2(t,e,"write to private field"),n?n.call(t,a):e.set(t,a),a),ub=(t,e,a)=>(b2(t,e,"access private method"),a);import{b as db,m as F9,w as T9,n as Um,f as xi,c as Ve,o as S9,d as ft,i as $a,e as fr}from"../chunks/CTN8pX-d.js";import{ap as a6,av as Y9,aB as N9,h as Yr,a as Bh,aC as Em,b as Lg,aD as L9,U as F3,aE as kd,X as $1,G as Wr,D as a0,an as q1,am as W1,aF as fb,x as P9,e as Fm,f as _0,p as Dd,aj as _n,g as Yo,aG as Q9,aH as k9,s as I1,j as Bd,v as D9,K as q,R as r6,c as z9,r as gb,d as v2,m as Z9,t as n6,aI as x2,y as J1,aJ as Tm,aK as H9,q as O9,aL as X9,at as s6,aM as Sm,aN as V9,k as o6,aO as l6,aP as G9,n as j9,l as K9,E as $9,aQ as q9,aR as W9,A as A6,C as Pg,aS as J9,aT as e7,F as ld,ao as t7,aU as i7,aV as a7,B as Ym,aW as r7,L as c6,O as n7,w as mi,af as Mr,aX as KA,aY as U1,aZ as h6,ab as kt,z as _i,N as st,a_ as E1,a8 as eo,a$ as u6,a1 as s7,ah as Le,ai as Ue,ad as di,ac as Ze,ae as $t,W as Jr,b0 as Ga,al as ra,a5 as Cr,aA as yn,az as o7,J as Ho,ag as Nm}from"../chunks/uVeY05RF.js";import{a as l7,s as yi,m as A7}from"../chunks/DPA7Lulq.js";import{i as It}from"../chunks/BDZFaj7H.js";import{l as c7,p as si,s as zi,a as rr,b as Oo,m as d6}from"../chunks/C9Cc93EH.js";import{f as h7,d as pb,e as hn,o as eg,g as Ch,h as f6,s as ja,C as u7,I as tg,j as Qg,r as ks,k as Pr,l as zo,m as ig,b as ag,n as d7,F as li,M as f7,D as rg,G as Po,t as T3,p as Yl,q as g6,u as p6,v as S3,w as QA,x as Qn,y as Fs,z as kg,A as to,B as g7,E as OA,H as r0,J as p7,a as m7,K as mb,L as _7,N as b7,O as y7,i as v7,S as F1,P as Pl,Q as x7,R as m6,T as Yh,U as w7,V as B7,W as ng,X as _6,Y as b6,Z as C7,_ as M7,$ as R7,a0 as _b}from"../chunks/FGv5B-aF.js";import{l as y6,g as Lm,d as Y3,m as bb,S as I7,n as U7,V as kf,e as E7,P as F7,O as T7,j as yb,A as S7,o as Y7,W as N7,b as vb,p as L7,q as P7,r as Q7}from"../chunks/BGSar6W7.js";import{i as Vo}from"../chunks/CEaYN3PA.js";import{b as wn}from"../chunks/DM7M-_Yz.js";import{s as k7,g as D7}from"../chunks/GEJ7678o.js";const z7=[];function Z7(t,e=!1){return T1(t,new Map,"",z7)}function T1(t,e,a,n,c=null){if(typeof t=="object"&&t!==null){var f=e.get(t);if(f!==void 0)return f;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(a6(t)){var h=Array(t.length);e.set(t,h),c!==null&&e.set(c,h);for(var s=0;s<t.length;s+=1){var x=t[s];s in t&&(h[s]=T1(x,e,a,n))}return h}if(Y9(t)===N9){h={},e.set(t,h),c!==null&&e.set(c,h);for(var w in t)h[w]=T1(t[w],e,a,n);return h}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return T1(t.toJSON(),e,a,n,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}const w2=0,Df=1,B2=2;function S1(t,e,a,n,c){Yr&&Bh();var f=t,h=Em(),s=P9,x=F3,w,I,R,E=(h?$1:Wr)(void 0),M=(h?$1:Wr)(void 0),Y=!1;function D(H,$){Y=!0,$&&(q1(O),W1(O),fb(s));try{H===Df&&n&&(I?Fm(I):I=_0(()=>n(f,E))),H!==w2&&w&&Dd(w,()=>w=null),H!==Df&&I&&Dd(I,()=>I=null),H!==B2&&R&&Dd(R,()=>R=null)}finally{$&&(fb(null),W1(null),q1(null),_n())}}var O=Lg(()=>{if(x!==(x=e())){if(L9(x)){var H=x;Y=!1,H.then($=>{H===x&&(kd(E,$),D(Df,!0))},$=>{if(H===x)throw kd(M,$),D(B2,!0),M.v}),Yr||a0(()=>{Y||D(w2,!0)})}else kd(E,x),D(Df,!1);return()=>x=F3}});Yr&&(f=Yo)}function xb(t,e,a){Yr&&Bh();var n=t,c=F3,f,h=Em()?Q9:k9;Lg(()=>{h(c,c=e())&&(f&&Dd(f),f=_0(()=>a(n)))}),Yr&&(n=Yo)}let Y1=null;function pr(t,e){return e}function H7(t,e,a,n){for(var c=[],f=e.length,h=0;h<f;h++)H9(e[h].e,c,!0);var s=f>0&&c.length===0&&a!==null;if(s){var x=a.parentNode;O9(x),x.append(a),n.clear(),Bl(t,e[0].prev,e[f-1].next)}X9(c,()=>{for(var w=0;w<f;w++){var I=e[w];s||(n.delete(I.k),Bl(t,I.prev,I.next)),s6(I.e,!s)}})}function Ea(t,e,a,n,c,f=null){var h=t,s={flags:e,items:new Map,first:null},x=(e&l6)!==0;if(x){var w=t;h=Yr?I1(Bd(w)):w.appendChild(D9())}Yr&&Bh();var I=null,R=!1,E=r6(()=>{var M=a();return a6(M)?M:M==null?[]:n6(M)});Lg(()=>{var M=q(E),Y=M.length;if(R&&Y===0)return;R=Y===0;let D=!1;if(Yr){var O=h.data===z9;O!==(Y===0)&&(h=gb(),I1(h),v2(!1),D=!0)}if(Yr){for(var H=null,$,Ae=0;Ae<Y;Ae++){if(Yo.nodeType===8&&Yo.data===Z9){h=Yo,D=!0,v2(!1);break}var ce=M[Ae],he=n(ce,Ae);$=v6(Yo,s,H,null,ce,he,Ae,c,e,a),s.items.set(he,$),H=$}Y>0&&I1(gb())}Yr||O7(M,s,h,c,e,n,a),f!==null&&(Y===0?I?Fm(I):I=_0(()=>f(h)):I!==null&&Dd(I,()=>{I=null})),D&&v2(!0),q(E)}),Yr&&(h=Yo)}function O7(t,e,a,n,c,f,h){var He,nt,$e,Je;var s=(c&G9)!==0,x=(c&(Sm|Tm))!==0,w=t.length,I=e.items,R=e.first,E=R,M,Y=null,D,O=[],H=[],$,Ae,ce,he;if(s)for(he=0;he<w;he+=1)$=t[he],Ae=f($,he),ce=I.get(Ae),ce!==void 0&&((He=ce.a)==null||He.measure(),(D??(D=new Set)).add(ce));for(he=0;he<w;he+=1){if($=t[he],Ae=f($,he),ce=I.get(Ae),ce===void 0){var se=E?E.e.nodes_start:a;Y=v6(se,e,Y,Y===null?e.first:Y.next,$,Ae,he,n,c,h),I.set(Ae,Y),O=[],H=[],E=Y.next;continue}if(x&&X7(ce,$,he,c),ce.e.f&x2&&(Fm(ce.e),s&&((nt=ce.a)==null||nt.unfix(),(D??(D=new Set)).delete(ce))),ce!==E){if(M!==void 0&&M.has(ce)){if(O.length<H.length){var ae=H[0],V;Y=ae.prev;var J=O[0],ge=O[O.length-1];for(V=0;V<O.length;V+=1)wb(O[V],ae,a);for(V=0;V<H.length;V+=1)M.delete(H[V]);Bl(e,J.prev,ge.next),Bl(e,Y,J),Bl(e,ge,ae),E=ae,Y=ge,he-=1,O=[],H=[]}else M.delete(ce),wb(ce,E,a),Bl(e,ce.prev,ce.next),Bl(e,ce,Y===null?e.first:Y.next),Bl(e,Y,ce),Y=ce;continue}for(O=[],H=[];E!==null&&E.k!==Ae;)E.e.f&x2||(M??(M=new Set)).add(E),H.push(E),E=E.next;if(E===null)continue;ce=E}O.push(ce),Y=ce,E=ce.next}if(E!==null||M!==void 0){for(var le=M===void 0?[]:n6(M);E!==null;)E.e.f&x2||le.push(E),E=E.next;var _e=le.length;if(_e>0){var ve=c&l6&&w===0?a:null;if(s){for(he=0;he<_e;he+=1)($e=le[he].a)==null||$e.measure();for(he=0;he<_e;he+=1)(Je=le[he].a)==null||Je.fix()}H7(e,le,ve,I)}}s&&a0(()=>{var gt;if(D!==void 0)for(ce of D)(gt=ce.a)==null||gt.apply()}),J1.first=e.first&&e.first.e,J1.last=Y&&Y.e}function X7(t,e,a,n){n&Sm&&kd(t.v,e),n&Tm?kd(t.i,a):t.i=a}function v6(t,e,a,n,c,f,h,s,x,w){var I=Y1,R=(x&Sm)!==0,E=(x&V9)===0,M=R?E?Wr(c):$1(c):c,Y=x&Tm?$1(h):h,D={i:Y,v:M,k:f,a:null,e:null,prev:a,next:n};Y1=D;try{return D.e=_0(()=>s(t,M,Y,w),Yr),D.e.prev=a&&a.e,D.e.next=n&&n.e,a===null?e.first=D:(a.next=D,a.e.next=D.e),n!==null&&(n.prev=D,n.e.prev=D.e),D}finally{Y1=I}}function wb(t,e,a){for(var n=t.next?t.next.e.nodes_start:a,c=e?e.e.nodes_start:a,f=t.e.nodes_start;f!==n;){var h=o6(f);c.before(f),f=h}}function Bl(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function x6(t,e,a,n,c){var f=t,h="",s;Lg(()=>{if(h===(h=e()??"")){Yr&&Bh();return}s!==void 0&&(s6(s),s=void 0),h!==""&&(s=_0(()=>{if(Yr){Yo.data;for(var x=Bh(),w=x;x!==null&&(x.nodeType!==8||x.data!=="");)w=x,x=o6(x);if(x===null)throw j9(),K9;db(Yo,w),f=I1(x);return}var I=h+"";a&&(I=`<svg>${I}</svg>`);var R=F9(I);if((a||n)&&(R=Bd(R)),db(Bd(R),R.lastChild),a||n)for(;Bd(R);)f.before(Bd(R));else f.before(R)}))})}function C2(t,e,a,n,c){var s;Yr&&Bh();var f=(s=e.$$slots)==null?void 0:s[a],h=!1;f===!0&&(f=e[a==="default"?"children":a],h=!0),f===void 0||f(t,h?()=>n:n)}const V7=()=>performance.now(),No={tick:t=>requestAnimationFrame(t),now:()=>V7(),tasks:new Set};function w6(){const t=No.now();No.tasks.forEach(e=>{e.c(t)||(No.tasks.delete(e),e.f())}),No.tasks.size!==0&&No.tick(w6)}function G7(t){let e;return No.tasks.size===0&&No.tick(w6),{promise:new Promise(a=>{No.tasks.add(e={c:t,f:a})}),abort(){No.tasks.delete(e)}}}function zf(t,e){T9(()=>{t.dispatchEvent(new CustomEvent(e))})}function j7(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function Bb(t){const e={},a=t.split(";");for(const n of a){const[c,f]=n.split(":");if(!c||f===void 0)break;const h=j7(c.trim());e[h]=f.trim()}return e}const K7=t=>t;function B6(t,e,a){var n=Y1,c,f,h,s=null;n.a??(n.a={element:t,measure(){c=this.element.getBoundingClientRect()},apply(){if(h==null||h.abort(),f=this.element.getBoundingClientRect(),c.left!==f.left||c.right!==f.right||c.top!==f.top||c.bottom!==f.bottom){const x=e()(this.element,{from:c,to:f},a==null?void 0:a());h=sg(this.element,x,void 0,1,()=>{h==null||h.abort(),h=void 0})}},fix(){if(!t.getAnimations().length){var{position:x,width:w,height:I}=getComputedStyle(t);if(x!=="absolute"&&x!=="fixed"){var R=t.style;s={position:R.position,width:R.width,height:R.height,transform:R.transform},R.position="absolute",R.width=w,R.height=I;var E=t.getBoundingClientRect();if(c.left!==E.left||c.top!==E.top){var M=`translate(${c.left-E.left}px, ${c.top-E.top}px)`;R.transform=R.transform?`${R.transform} ${M}`:M}}}},unfix(){if(s){var x=t.style;x.position=s.position,x.width=s.width,x.height=s.height,x.transform=s.transform}}}),n.a.element=t}function ba(t,e,a,n){var c=(t&i7)!==0,f=(t&a7)!==0,h=c&&f,s=(t&J9)!==0,x=h?"both":c?"in":"out",w,I=e.inert,R=e.style.overflow,E,M;function Y(){var Ae=t7,ce=J1;W1(null),q1(null);try{return w??(w=a()(e,(n==null?void 0:n())??{},{direction:x}))}finally{W1(Ae),q1(ce)}}var D={is_global:s,in(){var Ae;if(e.inert=I,!c){M==null||M.abort(),(Ae=M==null?void 0:M.reset)==null||Ae.call(M);return}f||E==null||E.abort(),zf(e,"introstart"),E=sg(e,Y(),M,1,()=>{zf(e,"introend"),E==null||E.abort(),E=w=void 0,e.style.overflow=R})},out(Ae){if(!f){Ae==null||Ae(),w=void 0;return}e.inert=!0,zf(e,"outrostart"),M=sg(e,Y(),E,0,()=>{zf(e,"outroend"),Ae==null||Ae()})},stop:()=>{E==null||E.abort(),M==null||M.abort()}},O=J1;if((O.transitions??(O.transitions=[])).push(D),c&&l7){var H=s;if(!H){for(var $=O.parent;$&&$.f&$9;)for(;($=$.parent)&&!($.f&q9););H=!$||($.f&W9)!==0}H&&A6(()=>{Pg(()=>D.in())})}}function sg(t,e,a,n,c){var f=n===1;if(e7(e)){var h,s=!1;return a0(()=>{if(!s){var O=e({direction:f?"in":"out"});h=sg(t,O,a,n,c)}}),{abort:()=>{s=!0,h==null||h.abort()},deactivate:()=>h.deactivate(),reset:()=>h.reset(),t:()=>h.t()}}if(a==null||a.deactivate(),!(e!=null&&e.duration))return c(),{abort:ld,deactivate:ld,reset:ld,t:()=>n};const{delay:x=0,css:w,tick:I,easing:R=K7}=e;var E=[];if(f&&a===void 0&&(I&&I(0,1),w)){var M=Bb(w(0,1));E.push(M,M)}var Y=()=>1-n,D=t.animate(E,{duration:x});return D.onfinish=()=>{var O=(a==null?void 0:a.t())??1-n;a==null||a.abort();var H=n-O,$=e.duration*Math.abs(H),Ae=[];if($>0){var ce=!1;if(w)for(var he=Math.ceil($/16.666666666666668),se=0;se<=he;se+=1){var ae=O+H*R(se/he),V=Bb(w(ae,1-ae));Ae.push(V),ce||(ce=V.overflow==="hidden")}ce&&(t.style.overflow="hidden"),Y=()=>{var J=D.currentTime;return O+H*R(J/$)},I&&G7(()=>{if(D.playState!=="running")return!1;var J=Y();return I(J,1-J),!0})}D=t.animate(Ae,{duration:$,fill:"forwards"}),D.onfinish=()=>{Y=()=>n,I==null||I(n,1-n),c()}},{abort:()=>{D&&(D.cancel(),D.effect=null,D.onfinish=ld)},deactivate:()=>{c=ld},reset:()=>{n===0&&(I==null||I(1,0))},t:()=>Y()}}function Dg(t,e,a=e){var n=Em();Um(t,"input",c=>{var f=c?t.defaultValue:t.value;if(f=R2(t)?I2(f):f,a(f),n&&f!==(f=e())){var h=t.selectionStart,s=t.selectionEnd;t.value=f??"",s!==null&&(t.selectionStart=h,t.selectionEnd=Math.min(s,t.value.length))}}),(Yr&&t.defaultValue!==t.value||Pg(e)==null&&t.value)&&a(R2(t)?I2(t.value):t.value),Ym(()=>{var c=e();R2(t)&&c===I2(t.value)||t.type==="date"&&!c&&!t.value||c!==t.value&&(t.value=c??"")})}const M2=new Set;function zg(t,e,a,n,c=n){var f=a.getAttribute("type")==="checkbox",h=t;let s=!1;if(e!==null)for(var x of e)h=h[x]??(h[x]=[]);h.push(a),Um(a,"change",()=>{var w=a.__value;f&&(w=Cb(h,w,a.checked)),c(w)},()=>c(f?[]:null)),Ym(()=>{var w=n();if(Yr&&a.defaultChecked!==a.checked){s=!0;return}f?(w=w||[],a.checked=w.includes(a.__value)):a.checked=r7(a.__value,w)}),c6(()=>{var w=h.indexOf(a);w!==-1&&h.splice(w,1)}),M2.has(h)||(M2.add(h),a0(()=>{h.sort((w,I)=>w.compareDocumentPosition(I)===4?-1:1),M2.delete(h)})),a0(()=>{if(s){var w;if(f)w=Cb(h,w,a.checked);else{var I=h.find(R=>R.checked);w=I==null?void 0:I.__value}c(w)}})}function Pm(t,e,a=e){Um(t,"change",n=>{var c=n?t.defaultChecked:t.checked;a(c)}),(Yr&&t.defaultChecked!==t.checked||Pg(e)==null)&&a(t.checked),Ym(()=>{var n=e();t.checked=!!n})}function Cb(t,e,a){for(var n=new Set,c=0;c<t.length;c+=1)t[c].checked&&n.add(t[c].__value);return a||n.delete(e),Array.from(n)}function R2(t){var e=t.type;return e==="number"||e==="range"}function I2(t){return t===""?null:+t}function $7(t,e,a){var n=n7(t,e);n&&n.set&&(t[e]=a,c6(()=>{t[e]=null}))}var Rl,wh,m0,Yg,C6;const Ng=class Ng{constructor(e){od(this,Yg);od(this,Rl,new WeakMap);od(this,wh);od(this,m0);y2(this,m0,e)}observe(e,a){var n=Ro(this,Rl).get(e)||new Set;return n.add(a),Ro(this,Rl).set(e,n),ub(this,Yg,C6).call(this).observe(e,Ro(this,m0)),()=>{var c=Ro(this,Rl).get(e);c.delete(a),c.size===0&&(Ro(this,Rl).delete(e),Ro(this,wh).unobserve(e))}}};Rl=new WeakMap,wh=new WeakMap,m0=new WeakMap,Yg=new WeakSet,C6=function(){return Ro(this,wh)??y2(this,wh,new ResizeObserver(e=>{for(var a of e){Ng.entries.set(a.target,a);for(var n of Ro(this,Rl).get(a.target)||[])n(a)}}))},Ia(Ng,"entries",new WeakMap);let N3=Ng;var q7=new N3({box:"border-box"});function Mb(t,e,a){var n=q7.observe(t,()=>a(t[e]));A6(()=>(Pg(()=>a(t[e])),n))}var Nn=63710088e-1,W7={centimeters:Nn*100,centimetres:Nn*100,degrees:360/(2*Math.PI),feet:Nn*3.28084,inches:Nn*39.37,kilometers:Nn/1e3,kilometres:Nn/1e3,meters:Nn,metres:Nn,miles:Nn/1609.344,millimeters:Nn*1e3,millimetres:Nn*1e3,nauticalmiles:Nn/1852,radians:1,yards:Nn*1.0936};function J7(t,e,a={}){const n={type:"Feature"};return(a.id===0||a.id)&&(n.id=a.id),a.bbox&&(n.bbox=a.bbox),n.properties=e||{},n.geometry=t,n}function eB(t,e,a={}){for(const c of t){if(c.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(c[c.length-1].length!==c[0].length)throw new Error("First and last Position are not equivalent.");for(let f=0;f<c[c.length-1].length;f++)if(c[c.length-1][f]!==c[0][f])throw new Error("First and last Position are not equivalent.")}return J7({type:"Polygon",coordinates:t},e,a)}function tB(t,e="kilometers"){const a=W7[e];if(!a)throw new Error(e+" units is invalid");return t*a}function iB(t){return t%(2*Math.PI)*180/Math.PI}function Il(t){return t%360*Math.PI/180}function og(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function M6(t,e,a={}){if(a.final===!0)return aB(t,e);const n=og(t),c=og(e),f=Il(n[0]),h=Il(c[0]),s=Il(n[1]),x=Il(c[1]),w=Math.sin(h-f)*Math.cos(x),I=Math.cos(s)*Math.sin(x)-Math.sin(s)*Math.cos(x)*Math.cos(h-f);return iB(Math.atan2(w,I))}function aB(t,e){let a=M6(e,t);return a=(a+180)%360,a}var rB=M6;function R6(t,e,a={}){var n=og(t),c=og(e),f=Il(c[1]-n[1]),h=Il(c[0]-n[0]),s=Il(n[1]),x=Il(c[1]),w=Math.pow(Math.sin(f/2),2)+Math.pow(Math.sin(h/2),2)*Math.cos(s)*Math.cos(x);return tB(2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w)),a.units)}var nB=R6;function sB(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return I6(t);case"FeatureCollection":return oB(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Qm(t);default:throw new Error("unknown GeoJSON type")}}function I6(t){const e={type:"Feature"};return Object.keys(t).forEach(a=>{switch(a){case"type":case"properties":case"geometry":return;default:e[a]=t[a]}}),e.properties=U6(t.properties),t.geometry==null?e.geometry=null:e.geometry=Qm(t.geometry),e}function U6(t){const e={};return t&&Object.keys(t).forEach(a=>{const n=t[a];typeof n=="object"?n===null?e[a]=null:Array.isArray(n)?e[a]=n.map(c=>c):e[a]=U6(n):e[a]=n}),e}function oB(t){const e={type:"FeatureCollection"};return Object.keys(t).forEach(a=>{switch(a){case"type":case"features":return;default:e[a]=t[a]}}),e.features=t.features.map(a=>I6(a)),e}function Qm(t){const e={type:t.type};return t.bbox&&(e.bbox=t.bbox),t.type==="GeometryCollection"?(e.geometries=t.geometries.map(a=>Qm(a)),e):(e.coordinates=E6(t.coordinates),e)}function E6(t){const e=t;return typeof e[0]!="object"?e.slice():e.map(a=>E6(a))}var lB=Object.defineProperty,AB=Object.defineProperties,cB=Object.getOwnPropertyDescriptors,Rb=Object.getOwnPropertySymbols,hB=Object.prototype.hasOwnProperty,uB=Object.prototype.propertyIsEnumerable,Ib=(t,e,a)=>e in t?lB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Ub=(t,e)=>{for(var a in e||(e={}))hB.call(e,a)&&Ib(t,a,e[a]);if(Rb)for(var a of Rb(e))uB.call(e,a)&&Ib(t,a,e[a]);return t},Eb=(t,e)=>AB(t,cB(e));function dB(t,e,a={}){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");let n=1/0,c=0;h7(e,(h,s)=>{const x=R6(t,h,a);x<n&&(c=s,n=x)});const f=sB(e.features[c]);return Eb(Ub({},f),{properties:Eb(Ub({},f.properties),{featureIndex:c,distanceToPoint:n})})}var Fb=dB;class fB extends Error{constructor(e="The operation was aborted"){super(e),this.name="AbortError"}}function F6(t,e,{signal:a,edges:n}={}){let c,f=null;const h=n!=null&&n.includes("leading"),s=n==null||n.includes("trailing"),x=()=>{f!==null&&(t.apply(c,f),c=void 0,f=null)},w=()=>{s&&x(),M()};let I=null;const R=()=>{I!=null&&clearTimeout(I),I=setTimeout(()=>{I=null,w()},e)},E=()=>{I!==null&&(clearTimeout(I),I=null)},M=()=>{E(),c=void 0,f=null},Y=()=>{E(),x()},D=function(...O){if(a!=null&&a.aborted)return;c=this,f=O;const H=I==null;R(),h&&H&&x()};return D.schedule=R,D.cancel=M,D.flush=Y,a==null||a.addEventListener("abort",M,{once:!0}),D}function N1(t,{signal:e}={}){return new Promise((a,n)=>{const c=()=>{n(new fB)},f=()=>{clearTimeout(h),c()};if(e!=null&&e.aborted)return c();const h=setTimeout(()=>{e==null||e.removeEventListener("abort",f),a()},t);e==null||e.addEventListener("abort",f,{once:!0})})}var T6={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.4.0/LICENSE.txt
 */(function(t,e){(function(a,n){t.exports=n()})(y6,function(){var a={},n={};function c(h,s,x){if(n[h]=x,h==="index"){var w="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",I={};return n.shared(I),n.index(a,I),typeof window<"u"&&a.setWorkerUrl(window.URL.createObjectURL(new Blob([w],{type:"text/javascript"}))),a}}c("shared",["exports"],function(h){function s(l,r,A,u){return new(A||(A=Promise))(function(m,y){function v(S){try{F(u.next(S))}catch(P){y(P)}}function C(S){try{F(u.throw(S))}catch(P){y(P)}}function F(S){var P;S.done?m(S.value):(P=S.value,P instanceof A?P:new A(function(k){k(P)})).then(v,C)}F((u=u.apply(l,r||[])).next())})}function x(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var w,I;function R(){if(I)return w;function l(r,A){this.x=r,this.y=A}return I=1,w=l,l.prototype={clone:function(){return new l(this.x,this.y)},add:function(r){return this.clone()._add(r)},sub:function(r){return this.clone()._sub(r)},multByPoint:function(r){return this.clone()._multByPoint(r)},divByPoint:function(r){return this.clone()._divByPoint(r)},mult:function(r){return this.clone()._mult(r)},div:function(r){return this.clone()._div(r)},rotate:function(r){return this.clone()._rotate(r)},rotateAround:function(r,A){return this.clone()._rotateAround(r,A)},matMult:function(r){return this.clone()._matMult(r)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(r){return this.x===r.x&&this.y===r.y},dist:function(r){return Math.sqrt(this.distSqr(r))},distSqr:function(r){var A=r.x-this.x,u=r.y-this.y;return A*A+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(r){return Math.atan2(this.y-r.y,this.x-r.x)},angleWith:function(r){return this.angleWithSep(r.x,r.y)},angleWithSep:function(r,A){return Math.atan2(this.x*A-this.y*r,this.x*r+this.y*A)},_matMult:function(r){var A=r[2]*this.x+r[3]*this.y;return this.x=r[0]*this.x+r[1]*this.y,this.y=A,this},_add:function(r){return this.x+=r.x,this.y+=r.y,this},_sub:function(r){return this.x-=r.x,this.y-=r.y,this},_mult:function(r){return this.x*=r,this.y*=r,this},_div:function(r){return this.x/=r,this.y/=r,this},_multByPoint:function(r){return this.x*=r.x,this.y*=r.y,this},_divByPoint:function(r){return this.x/=r.x,this.y/=r.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var r=this.y;return this.y=this.x,this.x=-r,this},_rotate:function(r){var A=Math.cos(r),u=Math.sin(r),m=u*this.x+A*this.y;return this.x=A*this.x-u*this.y,this.y=m,this},_rotateAround:function(r,A){var u=Math.cos(r),m=Math.sin(r),y=A.y+m*(this.x-A.x)+u*(this.y-A.y);return this.x=A.x+u*(this.x-A.x)-m*(this.y-A.y),this.y=y,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},l.convert=function(r){return r instanceof l?r:Array.isArray(r)?new l(r[0],r[1]):r},w}typeof SuppressedError=="function"&&SuppressedError;var E,M,Y=x(R()),D=function(){if(M)return E;function l(r,A,u,m){this.cx=3*r,this.bx=3*(u-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*A,this.by=3*(m-A)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=A,this.p2x=u,this.p2y=m}return M=1,E=l,l.prototype={sampleCurveX:function(r){return((this.ax*r+this.bx)*r+this.cx)*r},sampleCurveY:function(r){return((this.ay*r+this.by)*r+this.cy)*r},sampleCurveDerivativeX:function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},solveCurveX:function(r,A){if(A===void 0&&(A=1e-6),r<0)return 0;if(r>1)return 1;for(var u=r,m=0;m<8;m++){var y=this.sampleCurveX(u)-r;if(Math.abs(y)<A)return u;var v=this.sampleCurveDerivativeX(u);if(Math.abs(v)<1e-6)break;u-=y/v}var C=0,F=1;for(u=r,m=0;m<20&&(y=this.sampleCurveX(u),!(Math.abs(y-r)<A));m++)r>y?C=u:F=u,u=.5*(F-C)+C;return u},solve:function(r,A){return this.sampleCurveY(this.solveCurveX(r,A))}},E}(),O=x(D);let H,$;function Ae(){return H==null&&(H=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),H}function ce(){if($==null&&($=!1,Ae())){const r=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(r){for(let u=0;u<5*5;u++){const m=4*u;r.fillStyle=`rgb(${m},${m+1},${m+2})`,r.fillRect(u%5,Math.floor(u/5),1,1)}const A=r.getImageData(0,0,5,5).data;for(let u=0;u<5*5*4;u++)if(u%4!=3&&A[u]!==u){$=!0;break}}}return $||!1}var he=1e-6,se=typeof Float32Array<"u"?Float32Array:Array;function ae(){var l=new se(9);return se!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[5]=0,l[6]=0,l[7]=0),l[0]=1,l[4]=1,l[8]=1,l}function V(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function J(){var l=new se(3);return se!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0),l}function ge(l){return Math.hypot(l[0],l[1],l[2])}function le(l,r,A){var u=new se(3);return u[0]=l,u[1]=r,u[2]=A,u}Math.hypot||(Math.hypot=function(){for(var l=0,r=arguments.length;r--;)l+=arguments[r]*arguments[r];return Math.sqrt(l)});var _e,ve=ge;function He(l,r,A){var u=r[0],m=r[1],y=r[2],v=r[3];return l[0]=A[0]*u+A[4]*m+A[8]*y+A[12]*v,l[1]=A[1]*u+A[5]*m+A[9]*y+A[13]*v,l[2]=A[2]*u+A[6]*m+A[10]*y+A[14]*v,l[3]=A[3]*u+A[7]*m+A[11]*y+A[15]*v,l}function nt(){var l=new se(4);return se!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0),l[3]=1,l}function $e(){var l=new se(2);return se!=Float32Array&&(l[0]=0,l[1]=0),l}function Je(l,r){var A=new se(2);return A[0]=l,A[1]=r,A}J(),_e=new se(4),se!=Float32Array&&(_e[0]=0,_e[1]=0,_e[2]=0,_e[3]=0),J(),le(1,0,0),le(0,1,0),nt(),nt(),ae(),$e();const gt=8192;function Rt(l,r,A){return r*(gt/(l.tileSize*Math.pow(2,A-l.tileID.overscaledZ)))}function Yt(l,r){return(l%r+r)%r}function ot(l,r,A){return l*(1-A)+r*A}function mt(l){if(l<=0)return 0;if(l>=1)return 1;const r=l*l,A=r*l;return 4*(l<.5?A:3*(l-r)+A-.75)}function je(l,r,A,u){const m=new O(l,r,A,u);return y=>m.solve(y)}const Qe=je(.25,.1,.25,1);function it(l,r,A){return Math.min(A,Math.max(r,l))}function rt(l,r,A){const u=A-r,m=((l-r)%u+u)%u+r;return m===r?A:m}function Bt(l,...r){for(const A of r)for(const u in A)l[u]=A[u];return l}let yt=1;function Dt(l,r,A){const u={};for(const m in l)u[m]=r.call(this,l[m],m,l);return u}function Ot(l,r,A){const u={};for(const m in l)r.call(this,l[m],m,l)&&(u[m]=l[m]);return u}function Ct(l){return Array.isArray(l)?l.map(Ct):typeof l=="object"&&l?Dt(l,Ct):l}const Qt={};function ui(l){Qt[l]||(typeof console<"u"&&console.warn(l),Qt[l]=!0)}function Nt(l,r,A){return(A.y-l.y)*(r.x-l.x)>(r.y-l.y)*(A.x-l.x)}function Zt(l){return typeof WorkerGlobalScope<"u"&&l!==void 0&&l instanceof WorkerGlobalScope}let oi=null;function fi(l){return typeof ImageBitmap<"u"&&l instanceof ImageBitmap}const Kt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function pt(l,r,A,u,m){return s(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const y=new VideoFrame(l,{timestamp:0});try{const v=y==null?void 0:y.format;if(!v||!v.startsWith("BGR")&&!v.startsWith("RGB"))throw new Error(`Unrecognized format ${v}`);const C=v.startsWith("BGR"),F=new Uint8ClampedArray(u*m*4);if(yield y.copyTo(F,function(S,P,k,X,j){const K=4*Math.max(1,0),te=(Math.max(0,k)-k)*X*4+K,de=4*X,ye=Math.max(0,P),Ne=Math.max(0,k);return{rect:{x:ye,y:Ne,width:Math.min(S.width,P+X)-ye,height:Math.min(S.height,k+j)-Ne},layout:[{offset:te,stride:de}]}}(l,r,A,u,m)),C)for(let S=0;S<F.length;S+=4){const P=F[S];F[S]=F[S+2],F[S+2]=P}return F}finally{y.close()}})}let ci,qi;function Si(l,r,A,u){return l.addEventListener(r,A,u),{unsubscribe:()=>{l.removeEventListener(r,A,u)}}}function fa(l){return l/Math.PI*180}const Ri={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},ea={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},wi="AbortError";function ji(){return new Error(wi)}const ha={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Rr(l){return ha.REGISTERED_PROTOCOLS[l.substring(0,l.indexOf("://"))]}const Ha="global-dispatcher";class Oa extends Error{constructor(r,A,u,m){super(`AJAXError: ${A} (${r}): ${u}`),this.status=r,this.statusText=A,this.url=u,this.body=m}}const sa=()=>Zt(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,na=function(l,r){if(/:\/\//.test(l.url)&&!/^https?:|^file:/.test(l.url)){const u=Rr(l.url);if(u)return u(l,r);if(Zt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:l,targetMapId:Ha},r)}if(!(/^file:/.test(A=l.url)||/^file:/.test(sa())&&!/^\w+:/.test(A))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(u,m){return s(this,void 0,void 0,function*(){const y=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,cache:u.cache,referrer:sa(),signal:m.signal});let v,C;u.type!=="json"||y.headers.has("Accept")||y.headers.set("Accept","application/json");try{v=yield fetch(y)}catch(S){throw new Oa(0,S.message,u.url,new Blob)}if(!v.ok){const S=yield v.blob();throw new Oa(v.status,v.statusText,u.url,S)}C=u.type==="arrayBuffer"||u.type==="image"?v.arrayBuffer():u.type==="json"?v.json():v.text();const F=yield C;if(m.signal.aborted)throw ji();return{data:F,cacheControl:v.headers.get("Cache-Control"),expires:v.headers.get("Expires")}})}(l,r);if(Zt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:l,mustQueue:!0,targetMapId:Ha},r)}var A;return function(u,m){return new Promise((y,v)=>{var C;const F=new XMLHttpRequest;F.open(u.method||"GET",u.url,!0),u.type!=="arrayBuffer"&&u.type!=="image"||(F.responseType="arraybuffer");for(const S in u.headers)F.setRequestHeader(S,u.headers[S]);u.type==="json"&&(F.responseType="text",!((C=u.headers)===null||C===void 0)&&C.Accept||F.setRequestHeader("Accept","application/json")),F.withCredentials=u.credentials==="include",F.onerror=()=>{v(new Error(F.statusText))},F.onload=()=>{if(!m.signal.aborted)if((F.status>=200&&F.status<300||F.status===0)&&F.response!==null){let S=F.response;if(u.type==="json")try{S=JSON.parse(F.response)}catch(P){return void v(P)}y({data:S,cacheControl:F.getResponseHeader("Cache-Control"),expires:F.getResponseHeader("Expires")})}else{const S=new Blob([F.response],{type:F.getResponseHeader("Content-Type")});v(new Oa(F.status,F.statusText,u.url,S))}},m.signal.addEventListener("abort",()=>{F.abort(),v(ji())}),F.send(u.body)})}(l,r)};function va(l){if(!l||l.indexOf("://")<=0||l.indexOf("data:image/")===0||l.indexOf("blob:")===0)return!0;const r=new URL(l),A=window.location;return r.protocol===A.protocol&&r.host===A.host}function ze(l,r,A){A[l]&&A[l].indexOf(r)!==-1||(A[l]=A[l]||[],A[l].push(r))}function ie(l,r,A){if(A&&A[l]){const u=A[l].indexOf(r);u!==-1&&A[l].splice(u,1)}}class re{constructor(r,A={}){Bt(this,A),this.type=r}}class fe extends re{constructor(r,A={}){super("error",Bt({error:r},A))}}class xe{on(r,A){return this._listeners=this._listeners||{},ze(r,A,this._listeners),{unsubscribe:()=>{this.off(r,A)}}}off(r,A){return ie(r,A,this._listeners),ie(r,A,this._oneTimeListeners),this}once(r,A){return A?(this._oneTimeListeners=this._oneTimeListeners||{},ze(r,A,this._oneTimeListeners),this):new Promise(u=>this.once(r,u))}fire(r,A){typeof r=="string"&&(r=new re(r,A||{}));const u=r.type;if(this.listens(u)){r.target=this;const m=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];for(const C of m)C.call(this,r);const y=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];for(const C of y)ie(u,C,this._oneTimeListeners),C.call(this,r);const v=this._eventedParent;v&&(Bt(r,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),v.fire(r))}else r instanceof fe&&console.error(r.error);return this}listens(r){return this._listeners&&this._listeners[r]&&this._listeners[r].length>0||this._oneTimeListeners&&this._oneTimeListeners[r]&&this._oneTimeListeners[r].length>0||this._eventedParent&&this._eventedParent.listens(r)}setEventedParent(r,A){return this._eventedParent=r,this._eventedParentData=A,this}}var oe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const ke=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Ge(l,r){const A={};for(const u in l)u!=="ref"&&(A[u]=l[u]);return ke.forEach(u=>{u in r&&(A[u]=r[u])}),A}function Ie(l,r){if(Array.isArray(l)){if(!Array.isArray(r)||l.length!==r.length)return!1;for(let A=0;A<l.length;A++)if(!Ie(l[A],r[A]))return!1;return!0}if(typeof l=="object"&&l!==null&&r!==null){if(typeof r!="object"||Object.keys(l).length!==Object.keys(r).length)return!1;for(const A in l)if(!Ie(l[A],r[A]))return!1;return!0}return l===r}function et(l,r){l.push(r)}function Te(l,r,A){et(A,{command:"addSource",args:[l,r[l]]})}function ne(l,r,A){et(r,{command:"removeSource",args:[l]}),A[l]=!0}function Se(l,r,A,u){ne(l,A,u),Te(l,r,A)}function Ee(l,r,A){let u;for(u in l[A])if(Object.prototype.hasOwnProperty.call(l[A],u)&&u!=="data"&&!Ie(l[A][u],r[A][u]))return!1;for(u in r[A])if(Object.prototype.hasOwnProperty.call(r[A],u)&&u!=="data"&&!Ie(l[A][u],r[A][u]))return!1;return!0}function Oe(l,r,A,u,m,y){l=l||{},r=r||{};for(const v in l)Object.prototype.hasOwnProperty.call(l,v)&&(Ie(l[v],r[v])||A.push({command:y,args:[u,v,r[v],m]}));for(const v in r)Object.prototype.hasOwnProperty.call(r,v)&&!Object.prototype.hasOwnProperty.call(l,v)&&(Ie(l[v],r[v])||A.push({command:y,args:[u,v,r[v],m]}))}function ut(l){return l.id}function wt(l,r){return l[r.id]=r,l}class Xe{constructor(r,A,u,m){this.message=(r?`${r}: `:"")+u,m&&(this.identifier=m),A!=null&&A.__line__&&(this.line=A.__line__)}}function _t(l,...r){for(const A of r)for(const u in A)l[u]=A[u];return l}class Wt extends Error{constructor(r,A){super(A),this.message=A,this.key=r}}class ei{constructor(r,A=[]){this.parent=r,this.bindings={};for(const[u,m]of A)this.bindings[u]=m}concat(r){return new ei(this,r)}get(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw new Error(`${r} not found in scope.`)}has(r){return!!this.bindings[r]||!!this.parent&&this.parent.has(r)}}const ai={kind:"null"},tt={kind:"number"},Tt={kind:"string"},Ht={kind:"boolean"},ta={kind:"color"},oa={kind:"projectionDefinition"},Bi={kind:"object"},Gt={kind:"value"},Cn={kind:"collator"},Xt={kind:"formatted"},De={kind:"padding"},Ft={kind:"resolvedImage"},ni={kind:"variableAnchorOffsetCollection"};function Ui(l,r){return{kind:"array",itemType:l,N:r}}function Ei(l){if(l.kind==="array"){const r=Ei(l.itemType);return typeof l.N=="number"?`array<${r}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${r}>`}return l.kind}const Zi=[ai,tt,Tt,Ht,ta,oa,Xt,Bi,Ui(Gt),De,Ft,ni];function Xa(l,r){if(r.kind==="error")return null;if(l.kind==="array"){if(r.kind==="array"&&(r.N===0&&r.itemType.kind==="value"||!Xa(l.itemType,r.itemType))&&(typeof l.N!="number"||l.N===r.N))return null}else{if(l.kind===r.kind)return null;if(l.kind==="value"){for(const A of Zi)if(!Xa(A,r))return null}}return`Expected ${Ei(l)} but found ${Ei(r)} instead.`}function Qr(l,r){return r.some(A=>A.kind===l.kind)}function mr(l,r){return r.some(A=>A==="null"?l===null:A==="array"?Array.isArray(l):A==="object"?l&&!Array.isArray(l)&&typeof l=="object":A===typeof l)}function Fa(l,r){return l.kind==="array"&&r.kind==="array"?l.itemType.kind===r.itemType.kind&&typeof l.N=="number":l.kind===r.kind}const Gl=.96422,jl=.82521,zh=4/29,jo=6/29,Zh=3*jo*jo,lp=jo*jo*jo,Ap=Math.PI/180,cp=180/Math.PI;function R0(l){return(l%=360)<0&&(l+=360),l}function I0([l,r,A,u]){let m,y;const v=Oh((.2225045*(l=Hh(l))+.7168786*(r=Hh(r))+.0606169*(A=Hh(A)))/1);l===r&&r===A?m=y=v:(m=Oh((.4360747*l+.3850649*r+.1430804*A)/Gl),y=Oh((.0139322*l+.0971045*r+.7141733*A)/jl));const C=116*v-16;return[C<0?0:C,500*(m-v),200*(v-y),u]}function Hh(l){return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function Oh(l){return l>lp?Math.pow(l,1/3):l/Zh+zh}function Xh([l,r,A,u]){let m=(l+16)/116,y=isNaN(r)?m:m+r/500,v=isNaN(A)?m:m-A/200;return m=1*Vh(m),y=Gl*Vh(y),v=jl*Vh(v),[ho(3.1338561*y-1.6168667*m-.4906146*v),ho(-.9787684*y+1.9161415*m+.033454*v),ho(.0719453*y-.2289914*m+1.4052427*v),u]}function ho(l){return(l=l<=.00304?12.92*l:1.055*Math.pow(l,1/2.4)-.055)<0?0:l>1?1:l}function Vh(l){return l>jo?l*l*l:Zh*(l-zh)}function $A(l){return parseInt(l.padEnd(2,l),16)/255}function Ko(l,r){return $o(r?l/100:l,0,1)}function $o(l,r,A){return Math.min(Math.max(r,l),A)}function U0(l){return!l.some(Number.isNaN)}const hp={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function fs(l,r,A){return l+A*(r-l)}function qo(l,r,A){return l.map((u,m)=>fs(u,r[m],A))}class Fi{constructor(r,A,u,m=1,y=!0){this.r=r,this.g=A,this.b=u,this.a=m,y||(this.r*=m,this.g*=m,this.b*=m,m||this.overwriteGetter("rgb",[r,A,u,m]))}static parse(r){if(r instanceof Fi)return r;if(typeof r!="string")return;const A=function(u){if((u=u.toLowerCase().trim())==="transparent")return[0,0,0,0];const m=hp[u];if(m){const[v,C,F]=m;return[v/255,C/255,F/255,1]}if(u.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(u)){const v=u.length<6?1:2;let C=1;return[$A(u.slice(C,C+=v)),$A(u.slice(C,C+=v)),$A(u.slice(C,C+=v)),$A(u.slice(C,C+v)||"ff")]}if(u.startsWith("rgb")){const v=u.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(v){const[C,F,S,P,k,X,j,K,te,de,ye,Ne]=v,Be=[P||" ",j||" ",de].join("");if(Be==="  "||Be==="  /"||Be===",,"||Be===",,,"){const G=[S,X,te].join(""),ue=G==="%%%"?100:G===""?255:0;if(ue){const Ce=[$o(+F/ue,0,1),$o(+k/ue,0,1),$o(+K/ue,0,1),ye?Ko(+ye,Ne):1];if(U0(Ce))return Ce}}return}}const y=u.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(y){const[v,C,F,S,P,k,X,j,K]=y,te=[F||" ",P||" ",X].join("");if(te==="  "||te==="  /"||te===",,"||te===",,,"){const de=[+C,$o(+S,0,100),$o(+k,0,100),j?Ko(+j,K):1];if(U0(de))return function([ye,Ne,Be,G]){function ue(Ce){const qe=(Ce+ye/30)%12,vt=Ne*Math.min(Be,1-Be);return Be-vt*Math.max(-1,Math.min(qe-3,9-qe,1))}return ye=R0(ye),Ne/=100,Be/=100,[ue(0),ue(8),ue(4),G]}(de)}}}(r);return A?new Fi(...A,!1):void 0}get rgb(){const{r,g:A,b:u,a:m}=this,y=m||1/0;return this.overwriteGetter("rgb",[r/y,A/y,u/y,m])}get hcl(){return this.overwriteGetter("hcl",function(r){const[A,u,m,y]=I0(r),v=Math.sqrt(u*u+m*m);return[Math.round(1e4*v)?R0(Math.atan2(m,u)*cp):NaN,v,A,y]}(this.rgb))}get lab(){return this.overwriteGetter("lab",I0(this.rgb))}overwriteGetter(r,A){return Object.defineProperty(this,r,{value:A}),A}toString(){const[r,A,u,m]=this.rgb;return`rgba(${[r,A,u].map(y=>Math.round(255*y)).join(",")},${m})`}static interpolate(r,A,u,m="rgb"){switch(m){case"rgb":{const[y,v,C,F]=qo(r.rgb,A.rgb,u);return new Fi(y,v,C,F,!1)}case"hcl":{const[y,v,C,F]=r.hcl,[S,P,k,X]=A.hcl;let j,K;if(isNaN(y)||isNaN(S))isNaN(y)?isNaN(S)?j=NaN:(j=S,C!==1&&C!==0||(K=P)):(j=y,k!==1&&k!==0||(K=v));else{let Be=S-y;S>y&&Be>180?Be-=360:S<y&&y-S>180&&(Be+=360),j=y+u*Be}const[te,de,ye,Ne]=function([Be,G,ue,Ce]){return Be=isNaN(Be)?0:Be*Ap,Xh([ue,Math.cos(Be)*G,Math.sin(Be)*G,Ce])}([j,K??fs(v,P,u),fs(C,k,u),fs(F,X,u)]);return new Fi(te,de,ye,Ne,!1)}case"lab":{const[y,v,C,F]=Xh(qo(r.lab,A.lab,u));return new Fi(y,v,C,F,!1)}}}}Fi.black=new Fi(0,0,0,1),Fi.white=new Fi(1,1,1,1),Fi.transparent=new Fi(0,0,0,0),Fi.red=new Fi(1,0,0,1);class ki{constructor(r,A,u){this.sensitivity=r?A?"variant":"case":A?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(r,A){return this.collator.compare(r,A)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const Wo=["bottom","center","top"];class Xn{constructor(r,A,u,m,y,v){this.text=r,this.image=A,this.scale=u,this.fontStack=m,this.textColor=y,this.verticalAlign=v}}class Xr{constructor(r){this.sections=r}static fromString(r){return new Xr([new Xn(r,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(r=>r.text.length!==0||r.image&&r.image.name.length!==0)}static factory(r){return r instanceof Xr?r:Xr.fromString(r)}toString(){return this.sections.length===0?"":this.sections.map(r=>r.text).join("")}}class Ir{constructor(r){this.values=r.slice()}static parse(r){if(r instanceof Ir)return r;if(typeof r=="number")return new Ir([r,r,r,r]);if(Array.isArray(r)&&!(r.length<1||r.length>4)){for(const A of r)if(typeof A!="number")return;switch(r.length){case 1:r=[r[0],r[0],r[0],r[0]];break;case 2:r=[r[0],r[1],r[0],r[1]];break;case 3:r=[r[0],r[1],r[2],r[1]]}return new Ir(r)}}toString(){return JSON.stringify(this.values)}static interpolate(r,A,u){return new Ir(qo(r.values,A.values,u))}}class Ta{constructor(r){this.name="ExpressionEvaluationError",this.message=r}toJSON(){return this.message}}const Kl=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class _r{constructor(r){this.values=r.slice()}static parse(r){if(r instanceof _r)return r;if(Array.isArray(r)&&!(r.length<1)&&r.length%2==0){for(let A=0;A<r.length;A+=2){const u=r[A],m=r[A+1];if(typeof u!="string"||!Kl.has(u)||!Array.isArray(m)||m.length!==2||typeof m[0]!="number"||typeof m[1]!="number")return}return new _r(r)}}toString(){return JSON.stringify(this.values)}static interpolate(r,A,u){const m=r.values,y=A.values;if(m.length!==y.length)throw new Ta(`Cannot interpolate values of different length. from: ${r.toString()}, to: ${A.toString()}`);const v=[];for(let C=0;C<m.length;C+=2){if(m[C]!==y[C])throw new Ta(`Cannot interpolate values containing mismatched anchors. from[${C}]: ${m[C]}, to[${C}]: ${y[C]}`);v.push(m[C]);const[F,S]=m[C+1],[P,k]=y[C+1];v.push([fs(F,P,u),fs(S,k,u)])}return new _r(v)}}class tn{constructor(r){this.name=r.name,this.available=r.available}toString(){return this.name}static fromString(r){return r?new tn({name:r,available:!1}):null}}class kr{constructor(r,A,u){this.from=r,this.to=A,this.transition=u}static interpolate(r,A,u){return new kr(r,A,u)}static parse(r){return r instanceof kr?r:Array.isArray(r)&&r.length===3&&typeof r[0]=="string"&&typeof r[1]=="string"&&typeof r[2]=="number"?new kr(r[0],r[1],r[2]):typeof r=="object"&&typeof r.from=="string"&&typeof r.to=="string"&&typeof r.transition=="number"?new kr(r.from,r.to,r.transition):typeof r=="string"?new kr(r,r,1):void 0}}function zs(l,r,A,u){return typeof l=="number"&&l>=0&&l<=255&&typeof r=="number"&&r>=0&&r<=255&&typeof A=="number"&&A>=0&&A<=255?u===void 0||typeof u=="number"&&u>=0&&u<=1?null:`Invalid rgba value [${[l,r,A,u].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof u=="number"?[l,r,A,u]:[l,r,A]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function $l(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof kr||l instanceof Fi||l instanceof ki||l instanceof Xr||l instanceof Ir||l instanceof _r||l instanceof tn)return!0;if(Array.isArray(l)){for(const r of l)if(!$l(r))return!1;return!0}if(typeof l=="object"){for(const r in l)if(!$l(l[r]))return!1;return!0}return!1}function Sa(l){if(l===null)return ai;if(typeof l=="string")return Tt;if(typeof l=="boolean")return Ht;if(typeof l=="number")return tt;if(l instanceof Fi)return ta;if(l instanceof kr)return oa;if(l instanceof ki)return Cn;if(l instanceof Xr)return Xt;if(l instanceof Ir)return De;if(l instanceof _r)return ni;if(l instanceof tn)return Ft;if(Array.isArray(l)){const r=l.length;let A;for(const u of l){const m=Sa(u);if(A){if(A===m)continue;A=Gt;break}A=m}return Ui(A||Gt,r)}return Bi}function Vn(l){const r=typeof l;return l===null?"":r==="string"||r==="number"||r==="boolean"?String(l):l instanceof Fi||l instanceof kr||l instanceof Xr||l instanceof Ir||l instanceof _r||l instanceof tn?l.toString():JSON.stringify(l)}class Zs{constructor(r,A){this.type=r,this.value=A}static parse(r,A){if(r.length!==2)return A.error(`'literal' expression requires exactly one argument, but found ${r.length-1} instead.`);if(!$l(r[1]))return A.error("invalid value");const u=r[1];let m=Sa(u);const y=A.expectedType;return m.kind!=="array"||m.N!==0||!y||y.kind!=="array"||typeof y.N=="number"&&y.N!==0||(m=y),new Zs(m,u)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const ql={string:Tt,number:tt,boolean:Ht,object:Bi};class gn{constructor(r,A){this.type=r,this.args=A}static parse(r,A){if(r.length<2)return A.error("Expected at least one argument.");let u,m=1;const y=r[0];if(y==="array"){let C,F;if(r.length>2){const S=r[1];if(typeof S!="string"||!(S in ql)||S==="object")return A.error('The item type argument of "array" must be one of string, number, boolean',1);C=ql[S],m++}else C=Gt;if(r.length>3){if(r[2]!==null&&(typeof r[2]!="number"||r[2]<0||r[2]!==Math.floor(r[2])))return A.error('The length argument to "array" must be a positive integer literal',2);F=r[2],m++}u=Ui(C,F)}else{if(!ql[y])throw new Error(`Types doesn't contain name = ${y}`);u=ql[y]}const v=[];for(;m<r.length;m++){const C=A.parse(r[m],m,Gt);if(!C)return null;v.push(C)}return new gn(u,v)}evaluate(r){for(let A=0;A<this.args.length;A++){const u=this.args[A].evaluate(r);if(!Xa(this.type,Sa(u)))return u;if(A===this.args.length-1)throw new Ta(`Expected value to be of type ${Ei(this.type)}, but found ${Ei(Sa(u))} instead.`)}throw new Error}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}}const Wl={"to-boolean":Ht,"to-color":ta,"to-number":tt,"to-string":Tt};class Wi{constructor(r,A){this.type=r,this.args=A}static parse(r,A){if(r.length<2)return A.error("Expected at least one argument.");const u=r[0];if(!Wl[u])throw new Error(`Can't parse ${u} as it is not part of the known types`);if((u==="to-boolean"||u==="to-string")&&r.length!==2)return A.error("Expected one argument.");const m=Wl[u],y=[];for(let v=1;v<r.length;v++){const C=A.parse(r[v],v,Gt);if(!C)return null;y.push(C)}return new Wi(m,y)}evaluate(r){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(r);case"color":{let A,u;for(const m of this.args){if(A=m.evaluate(r),u=null,A instanceof Fi)return A;if(typeof A=="string"){const y=r.parseColor(A);if(y)return y}else if(Array.isArray(A)&&(u=A.length<3||A.length>4?`Invalid rgba value ${JSON.stringify(A)}: expected an array containing either three or four numeric values.`:zs(A[0],A[1],A[2],A[3]),!u))return new Fi(A[0]/255,A[1]/255,A[2]/255,A[3])}throw new Ta(u||`Could not parse color from value '${typeof A=="string"?A:JSON.stringify(A)}'`)}case"padding":{let A;for(const u of this.args){A=u.evaluate(r);const m=Ir.parse(A);if(m)return m}throw new Ta(`Could not parse padding from value '${typeof A=="string"?A:JSON.stringify(A)}'`)}case"variableAnchorOffsetCollection":{let A;for(const u of this.args){A=u.evaluate(r);const m=_r.parse(A);if(m)return m}throw new Ta(`Could not parse variableAnchorOffsetCollection from value '${typeof A=="string"?A:JSON.stringify(A)}'`)}case"number":{let A=null;for(const u of this.args){if(A=u.evaluate(r),A===null)return 0;const m=Number(A);if(!isNaN(m))return m}throw new Ta(`Could not convert ${JSON.stringify(A)} to number.`)}case"formatted":return Xr.fromString(Vn(this.args[0].evaluate(r)));case"resolvedImage":return tn.fromString(Vn(this.args[0].evaluate(r)));case"projectionDefinition":return this.args[0].evaluate(r);default:return Vn(this.args[0].evaluate(r))}}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}}const Gh=["Unknown","Point","LineString","Polygon"];class Oi{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Gh[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(r){let A=this._parseColorCache[r];return A||(A=this._parseColorCache[r]=Fi.parse(r)),A}}class Mi{constructor(r,A,u=[],m,y=new ei,v=[]){this.registry=r,this.path=u,this.key=u.map(C=>`[${C}]`).join(""),this.scope=y,this.errors=v,this.expectedType=m,this._isConstant=A}parse(r,A,u,m,y={}){return A?this.concat(A,u,m)._parse(r,y):this._parse(r,y)}_parse(r,A){function u(m,y,v){return v==="assert"?new gn(y,[m]):v==="coerce"?new Wi(y,[m]):m}if(r!==null&&typeof r!="string"&&typeof r!="boolean"&&typeof r!="number"||(r=["literal",r]),Array.isArray(r)){if(r.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=r[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const y=this.registry[m];if(y){let v=y.parse(r,this);if(!v)return null;if(this.expectedType){const C=this.expectedType,F=v.type;if(C.kind!=="string"&&C.kind!=="number"&&C.kind!=="boolean"&&C.kind!=="object"&&C.kind!=="array"||F.kind!=="value")if(C.kind!=="projectionDefinition"||F.kind!=="string"&&F.kind!=="array")if(C.kind!=="color"&&C.kind!=="formatted"&&C.kind!=="resolvedImage"||F.kind!=="value"&&F.kind!=="string")if(C.kind!=="padding"||F.kind!=="value"&&F.kind!=="number"&&F.kind!=="array")if(C.kind!=="variableAnchorOffsetCollection"||F.kind!=="value"&&F.kind!=="array"){if(this.checkSubtype(C,F))return null}else v=u(v,C,A.typeAnnotation||"coerce");else v=u(v,C,A.typeAnnotation||"coerce");else v=u(v,C,A.typeAnnotation||"coerce");else v=u(v,C,A.typeAnnotation||"coerce");else v=u(v,C,A.typeAnnotation||"assert")}if(!(v instanceof Zs)&&v.type.kind!=="resolvedImage"&&this._isConstant(v)){const C=new Oi;try{v=new Zs(v.type,v.evaluate(C))}catch(F){return this.error(F.message),null}}return v}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(r===void 0?"'undefined' value invalid. Use null instead.":typeof r=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof r} instead.`)}concat(r,A,u){const m=typeof r=="number"?this.path.concat(r):this.path,y=u?this.scope.concat(u):this.scope;return new Mi(this.registry,this._isConstant,m,A||null,y,this.errors)}error(r,...A){const u=`${this.key}${A.map(m=>`[${m}]`).join("")}`;this.errors.push(new Wt(u,r))}checkSubtype(r,A){const u=Xa(r,A);return u&&this.error(u),u}}class Jo{constructor(r,A){this.type=A.type,this.bindings=[].concat(r),this.result=A}evaluate(r){return this.result.evaluate(r)}eachChild(r){for(const A of this.bindings)r(A[1]);r(this.result)}static parse(r,A){if(r.length<4)return A.error(`Expected at least 3 arguments, but found ${r.length-1} instead.`);const u=[];for(let y=1;y<r.length-1;y+=2){const v=r[y];if(typeof v!="string")return A.error(`Expected string, but found ${typeof v} instead.`,y);if(/[^a-zA-Z0-9_]/.test(v))return A.error("Variable names must contain only alphanumeric characters or '_'.",y);const C=A.parse(r[y+1],y+1);if(!C)return null;u.push([v,C])}const m=A.parse(r[r.length-1],r.length-1,A.expectedType,u);return m?new Jo(u,m):null}outputDefined(){return this.result.outputDefined()}}class Di{constructor(r,A){this.type=A.type,this.name=r,this.boundExpression=A}static parse(r,A){if(r.length!==2||typeof r[1]!="string")return A.error("'var' expression requires exactly one string literal argument.");const u=r[1];return A.scope.has(u)?new Di(u,A.scope.get(u)):A.error(`Unknown variable "${u}". Make sure "${u}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(r){return this.boundExpression.evaluate(r)}eachChild(){}outputDefined(){return!1}}class Jl{constructor(r,A,u){this.type=r,this.index=A,this.input=u}static parse(r,A){if(r.length!==3)return A.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const u=A.parse(r[1],1,tt),m=A.parse(r[2],2,Ui(A.expectedType||Gt));return u&&m?new Jl(m.type.itemType,u,m):null}evaluate(r){const A=this.index.evaluate(r),u=this.input.evaluate(r);if(A<0)throw new Ta(`Array index out of bounds: ${A} < 0.`);if(A>=u.length)throw new Ta(`Array index out of bounds: ${A} > ${u.length-1}.`);if(A!==Math.floor(A))throw new Ta(`Array index must be an integer, but found ${A} instead.`);return u[A]}eachChild(r){r(this.index),r(this.input)}outputDefined(){return!1}}class Mn{constructor(r,A){this.type=Ht,this.needle=r,this.haystack=A}static parse(r,A){if(r.length!==3)return A.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const u=A.parse(r[1],1,Gt),m=A.parse(r[2],2,Gt);return u&&m?Qr(u.type,[Ht,Tt,tt,ai,Gt])?new Mn(u,m):A.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ei(u.type)} instead`):null}evaluate(r){const A=this.needle.evaluate(r),u=this.haystack.evaluate(r);if(!u)return!1;if(!mr(A,["boolean","string","number","null"]))throw new Ta(`Expected first argument to be of type boolean, string, number or null, but found ${Ei(Sa(A))} instead.`);if(!mr(u,["string","array"]))throw new Ta(`Expected second argument to be of type array or string, but found ${Ei(Sa(u))} instead.`);return u.indexOf(A)>=0}eachChild(r){r(this.needle),r(this.haystack)}outputDefined(){return!0}}class el{constructor(r,A,u){this.type=tt,this.needle=r,this.haystack=A,this.fromIndex=u}static parse(r,A){if(r.length<=2||r.length>=5)return A.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const u=A.parse(r[1],1,Gt),m=A.parse(r[2],2,Gt);if(!u||!m)return null;if(!Qr(u.type,[Ht,Tt,tt,ai,Gt]))return A.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ei(u.type)} instead`);if(r.length===4){const y=A.parse(r[3],3,tt);return y?new el(u,m,y):null}return new el(u,m)}evaluate(r){const A=this.needle.evaluate(r),u=this.haystack.evaluate(r);if(!mr(A,["boolean","string","number","null"]))throw new Ta(`Expected first argument to be of type boolean, string, number or null, but found ${Ei(Sa(A))} instead.`);let m;if(this.fromIndex&&(m=this.fromIndex.evaluate(r)),mr(u,["string"])){const y=u.indexOf(A,m);return y===-1?-1:[...u.slice(0,y)].length}if(mr(u,["array"]))return u.indexOf(A,m);throw new Ta(`Expected second argument to be of type array or string, but found ${Ei(Sa(u))} instead.`)}eachChild(r){r(this.needle),r(this.haystack),this.fromIndex&&r(this.fromIndex)}outputDefined(){return!1}}class qA{constructor(r,A,u,m,y,v){this.inputType=r,this.type=A,this.input=u,this.cases=m,this.outputs=y,this.otherwise=v}static parse(r,A){if(r.length<5)return A.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if(r.length%2!=1)return A.error("Expected an even number of arguments.");let u,m;A.expectedType&&A.expectedType.kind!=="value"&&(m=A.expectedType);const y={},v=[];for(let S=2;S<r.length-1;S+=2){let P=r[S];const k=r[S+1];Array.isArray(P)||(P=[P]);const X=A.concat(S);if(P.length===0)return X.error("Expected at least one branch label.");for(const K of P){if(typeof K!="number"&&typeof K!="string")return X.error("Branch labels must be numbers or strings.");if(typeof K=="number"&&Math.abs(K)>Number.MAX_SAFE_INTEGER)return X.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof K=="number"&&Math.floor(K)!==K)return X.error("Numeric branch labels must be integer values.");if(u){if(X.checkSubtype(u,Sa(K)))return null}else u=Sa(K);if(y[String(K)]!==void 0)return X.error("Branch labels must be unique.");y[String(K)]=v.length}const j=A.parse(k,S,m);if(!j)return null;m=m||j.type,v.push(j)}const C=A.parse(r[1],1,Gt);if(!C)return null;const F=A.parse(r[r.length-1],r.length-1,m);return F?C.type.kind!=="value"&&A.concat(1).checkSubtype(u,C.type)?null:new qA(u,m,C,y,v,F):null}evaluate(r){const A=this.input.evaluate(r);return(Sa(A)===this.inputType&&this.outputs[this.cases[A]]||this.otherwise).evaluate(r)}eachChild(r){r(this.input),this.outputs.forEach(r),r(this.otherwise)}outputDefined(){return this.outputs.every(r=>r.outputDefined())&&this.otherwise.outputDefined()}}class WA{constructor(r,A,u){this.type=r,this.branches=A,this.otherwise=u}static parse(r,A){if(r.length<4)return A.error(`Expected at least 3 arguments, but found only ${r.length-1}.`);if(r.length%2!=0)return A.error("Expected an odd number of arguments.");let u;A.expectedType&&A.expectedType.kind!=="value"&&(u=A.expectedType);const m=[];for(let v=1;v<r.length-1;v+=2){const C=A.parse(r[v],v,Ht);if(!C)return null;const F=A.parse(r[v+1],v+1,u);if(!F)return null;m.push([C,F]),u=u||F.type}const y=A.parse(r[r.length-1],r.length-1,u);if(!y)return null;if(!u)throw new Error("Can't infer output type");return new WA(u,m,y)}evaluate(r){for(const[A,u]of this.branches)if(A.evaluate(r))return u.evaluate(r);return this.otherwise.evaluate(r)}eachChild(r){for(const[A,u]of this.branches)r(A),r(u);r(this.otherwise)}outputDefined(){return this.branches.every(([r,A])=>A.outputDefined())&&this.otherwise.outputDefined()}}class tl{constructor(r,A,u,m){this.type=r,this.input=A,this.beginIndex=u,this.endIndex=m}static parse(r,A){if(r.length<=2||r.length>=5)return A.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const u=A.parse(r[1],1,Gt),m=A.parse(r[2],2,tt);if(!u||!m)return null;if(!Qr(u.type,[Ui(Gt),Tt,Gt]))return A.error(`Expected first argument to be of type array or string, but found ${Ei(u.type)} instead`);if(r.length===4){const y=A.parse(r[3],3,tt);return y?new tl(u.type,u,m,y):null}return new tl(u.type,u,m)}evaluate(r){const A=this.input.evaluate(r),u=this.beginIndex.evaluate(r);let m;if(this.endIndex&&(m=this.endIndex.evaluate(r)),mr(A,["string"]))return[...A].slice(u,m).join("");if(mr(A,["array"]))return A.slice(u,m);throw new Ta(`Expected first argument to be of type array or string, but found ${Ei(Sa(A))} instead.`)}eachChild(r){r(this.input),r(this.beginIndex),this.endIndex&&r(this.endIndex)}outputDefined(){return!1}}function eA(l,r){const A=l.length-1;let u,m,y=0,v=A,C=0;for(;y<=v;)if(C=Math.floor((y+v)/2),u=l[C],m=l[C+1],u<=r){if(C===A||r<m)return C;y=C+1}else{if(!(u>r))throw new Ta("Input is not a number.");v=C-1}return 0}class tA{constructor(r,A,u){this.type=r,this.input=A,this.labels=[],this.outputs=[];for(const[m,y]of u)this.labels.push(m),this.outputs.push(y)}static parse(r,A){if(r.length-1<4)return A.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return A.error("Expected an even number of arguments.");const u=A.parse(r[1],1,tt);if(!u)return null;const m=[];let y=null;A.expectedType&&A.expectedType.kind!=="value"&&(y=A.expectedType);for(let v=1;v<r.length;v+=2){const C=v===1?-1/0:r[v],F=r[v+1],S=v,P=v+1;if(typeof C!="number")return A.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',S);if(m.length&&m[m.length-1][0]>=C)return A.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',S);const k=A.parse(F,P,y);if(!k)return null;y=y||k.type,m.push([C,k])}return new tA(y,u,m)}evaluate(r){const A=this.labels,u=this.outputs;if(A.length===1)return u[0].evaluate(r);const m=this.input.evaluate(r);if(m<=A[0])return u[0].evaluate(r);const y=A.length;return m>=A[y-1]?u[y-1].evaluate(r):u[eA(A,m)].evaluate(r)}eachChild(r){r(this.input);for(const A of this.outputs)r(A)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}}function E0(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var JA,il,Ur=function(){if(il)return JA;function l(r,A,u,m){this.cx=3*r,this.bx=3*(u-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*A,this.by=3*(m-A)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=A,this.p2x=u,this.p2y=m}return il=1,JA=l,l.prototype={sampleCurveX:function(r){return((this.ax*r+this.bx)*r+this.cx)*r},sampleCurveY:function(r){return((this.ay*r+this.by)*r+this.cy)*r},sampleCurveDerivativeX:function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},solveCurveX:function(r,A){if(A===void 0&&(A=1e-6),r<0)return 0;if(r>1)return 1;for(var u=r,m=0;m<8;m++){var y=this.sampleCurveX(u)-r;if(Math.abs(y)<A)return u;var v=this.sampleCurveDerivativeX(u);if(Math.abs(v)<1e-6)break;u-=y/v}var C=0,F=1;for(u=r,m=0;m<20&&(y=this.sampleCurveX(u),!(Math.abs(y-r)<A));m++)r>y?C=u:F=u,u=.5*(F-C)+C;return u},solve:function(r,A){return this.sampleCurveY(this.solveCurveX(r,A))}},JA}(),ec=E0(Ur);class Vr{constructor(r,A,u,m,y){this.type=r,this.operator=A,this.interpolation=u,this.input=m,this.labels=[],this.outputs=[];for(const[v,C]of y)this.labels.push(v),this.outputs.push(C)}static interpolationFactor(r,A,u,m){let y=0;if(r.name==="exponential")y=al(A,r.base,u,m);else if(r.name==="linear")y=al(A,1,u,m);else if(r.name==="cubic-bezier"){const v=r.controlPoints;y=new ec(v[0],v[1],v[2],v[3]).solve(al(A,1,u,m))}return y}static parse(r,A){let[u,m,y,...v]=r;if(!Array.isArray(m)||m.length===0)return A.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){const S=m[1];if(typeof S!="number")return A.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:S}}else{if(m[0]!=="cubic-bezier")return A.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const S=m.slice(1);if(S.length!==4||S.some(P=>typeof P!="number"||P<0||P>1))return A.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:S}}}if(r.length-1<4)return A.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return A.error("Expected an even number of arguments.");if(y=A.parse(y,2,tt),!y)return null;const C=[];let F=null;u==="interpolate-hcl"||u==="interpolate-lab"?F=ta:A.expectedType&&A.expectedType.kind!=="value"&&(F=A.expectedType);for(let S=0;S<v.length;S+=2){const P=v[S],k=v[S+1],X=S+3,j=S+4;if(typeof P!="number")return A.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',X);if(C.length&&C[C.length-1][0]>=P)return A.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',X);const K=A.parse(k,j,F);if(!K)return null;F=F||K.type,C.push([P,K])}return Fa(F,tt)||Fa(F,oa)||Fa(F,ta)||Fa(F,De)||Fa(F,ni)||Fa(F,Ui(tt))?new Vr(F,u,m,y,C):A.error(`Type ${Ei(F)} is not interpolatable.`)}evaluate(r){const A=this.labels,u=this.outputs;if(A.length===1)return u[0].evaluate(r);const m=this.input.evaluate(r);if(m<=A[0])return u[0].evaluate(r);const y=A.length;if(m>=A[y-1])return u[y-1].evaluate(r);const v=eA(A,m),C=Vr.interpolationFactor(this.interpolation,m,A[v],A[v+1]),F=u[v].evaluate(r),S=u[v+1].evaluate(r);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return fs(F,S,C);case"color":return Fi.interpolate(F,S,C);case"padding":return Ir.interpolate(F,S,C);case"variableAnchorOffsetCollection":return _r.interpolate(F,S,C);case"array":return qo(F,S,C);case"projectionDefinition":return kr.interpolate(F,S,C)}case"interpolate-hcl":return Fi.interpolate(F,S,C,"hcl");case"interpolate-lab":return Fi.interpolate(F,S,C,"lab")}}eachChild(r){r(this.input);for(const A of this.outputs)r(A)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}}function al(l,r,A,u){const m=u-A,y=l-A;return m===0?0:r===1?y/m:(Math.pow(r,y)-1)/(Math.pow(r,m)-1)}const ua={color:Fi.interpolate,number:fs,padding:Ir.interpolate,variableAnchorOffsetCollection:_r.interpolate,array:qo};class iA{constructor(r,A){this.type=r,this.args=A}static parse(r,A){if(r.length<2)return A.error("Expected at least one argument.");let u=null;const m=A.expectedType;m&&m.kind!=="value"&&(u=m);const y=[];for(const C of r.slice(1)){const F=A.parse(C,1+y.length,u,void 0,{typeAnnotation:"omit"});if(!F)return null;u=u||F.type,y.push(F)}if(!u)throw new Error("No output type");const v=m&&y.some(C=>Xa(m,C.type));return new iA(v?Gt:u,y)}evaluate(r){let A,u=null,m=0;for(const y of this.args)if(m++,u=y.evaluate(r),u&&u instanceof tn&&!u.available&&(A||(A=u.name),u=null,m===this.args.length&&(u=A)),u!==null)break;return u}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}}function tc(l,r){return l==="=="||l==="!="?r.kind==="boolean"||r.kind==="string"||r.kind==="number"||r.kind==="null"||r.kind==="value":r.kind==="string"||r.kind==="number"||r.kind==="value"}function jh(l,r,A,u){return u.compare(r,A)===0}function rl(l,r,A){const u=l!=="=="&&l!=="!=";return class S6{constructor(y,v,C){this.type=Ht,this.lhs=y,this.rhs=v,this.collator=C,this.hasUntypedArgument=y.type.kind==="value"||v.type.kind==="value"}static parse(y,v){if(y.length!==3&&y.length!==4)return v.error("Expected two or three arguments.");const C=y[0];let F=v.parse(y[1],1,Gt);if(!F)return null;if(!tc(C,F.type))return v.concat(1).error(`"${C}" comparisons are not supported for type '${Ei(F.type)}'.`);let S=v.parse(y[2],2,Gt);if(!S)return null;if(!tc(C,S.type))return v.concat(2).error(`"${C}" comparisons are not supported for type '${Ei(S.type)}'.`);if(F.type.kind!==S.type.kind&&F.type.kind!=="value"&&S.type.kind!=="value")return v.error(`Cannot compare types '${Ei(F.type)}' and '${Ei(S.type)}'.`);u&&(F.type.kind==="value"&&S.type.kind!=="value"?F=new gn(S.type,[F]):F.type.kind!=="value"&&S.type.kind==="value"&&(S=new gn(F.type,[S])));let P=null;if(y.length===4){if(F.type.kind!=="string"&&S.type.kind!=="string"&&F.type.kind!=="value"&&S.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(P=v.parse(y[3],3,Cn),!P)return null}return new S6(F,S,P)}evaluate(y){const v=this.lhs.evaluate(y),C=this.rhs.evaluate(y);if(u&&this.hasUntypedArgument){const F=Sa(v),S=Sa(C);if(F.kind!==S.kind||F.kind!=="string"&&F.kind!=="number")throw new Ta(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${F.kind}, ${S.kind}) instead.`)}if(this.collator&&!u&&this.hasUntypedArgument){const F=Sa(v),S=Sa(C);if(F.kind!=="string"||S.kind!=="string")return r(y,v,C)}return this.collator?A(y,v,C,this.collator.evaluate(y)):r(y,v,C)}eachChild(y){y(this.lhs),y(this.rhs),this.collator&&y(this.collator)}outputDefined(){return!0}}}const ic=rl("==",function(l,r,A){return r===A},jh),Kh=rl("!=",function(l,r,A){return r!==A},function(l,r,A,u){return!jh(0,r,A,u)}),up=rl("<",function(l,r,A){return r<A},function(l,r,A,u){return u.compare(r,A)<0}),ac=rl(">",function(l,r,A){return r>A},function(l,r,A,u){return u.compare(r,A)>0}),rc=rl("<=",function(l,r,A){return r<=A},function(l,r,A,u){return u.compare(r,A)<=0}),Rn=rl(">=",function(l,r,A){return r>=A},function(l,r,A,u){return u.compare(r,A)>=0});class aA{constructor(r,A,u){this.type=Cn,this.locale=u,this.caseSensitive=r,this.diacriticSensitive=A}static parse(r,A){if(r.length!==2)return A.error("Expected one argument.");const u=r[1];if(typeof u!="object"||Array.isArray(u))return A.error("Collator options argument must be an object.");const m=A.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,Ht);if(!m)return null;const y=A.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,Ht);if(!y)return null;let v=null;return u.locale&&(v=A.parse(u.locale,1,Tt),!v)?null:new aA(m,y,v)}evaluate(r){return new ki(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)}eachChild(r){r(this.caseSensitive),r(this.diacriticSensitive),this.locale&&r(this.locale)}outputDefined(){return!1}}class nl{constructor(r,A,u,m,y){this.type=Tt,this.number=r,this.locale=A,this.currency=u,this.minFractionDigits=m,this.maxFractionDigits=y}static parse(r,A){if(r.length!==3)return A.error("Expected two arguments.");const u=A.parse(r[1],1,tt);if(!u)return null;const m=r[2];if(typeof m!="object"||Array.isArray(m))return A.error("NumberFormat options argument must be an object.");let y=null;if(m.locale&&(y=A.parse(m.locale,1,Tt),!y))return null;let v=null;if(m.currency&&(v=A.parse(m.currency,1,Tt),!v))return null;let C=null;if(m["min-fraction-digits"]&&(C=A.parse(m["min-fraction-digits"],1,tt),!C))return null;let F=null;return m["max-fraction-digits"]&&(F=A.parse(m["max-fraction-digits"],1,tt),!F)?null:new nl(u,y,v,C,F)}evaluate(r){return new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0}).format(this.number.evaluate(r))}eachChild(r){r(this.number),this.locale&&r(this.locale),this.currency&&r(this.currency),this.minFractionDigits&&r(this.minFractionDigits),this.maxFractionDigits&&r(this.maxFractionDigits)}outputDefined(){return!1}}class nc{constructor(r){this.type=Xt,this.sections=r}static parse(r,A){if(r.length<2)return A.error("Expected at least one argument.");const u=r[1];if(!Array.isArray(u)&&typeof u=="object")return A.error("First argument must be an image or text section.");const m=[];let y=!1;for(let v=1;v<=r.length-1;++v){const C=r[v];if(y&&typeof C=="object"&&!Array.isArray(C)){y=!1;let F=null;if(C["font-scale"]&&(F=A.parse(C["font-scale"],1,tt),!F))return null;let S=null;if(C["text-font"]&&(S=A.parse(C["text-font"],1,Ui(Tt)),!S))return null;let P=null;if(C["text-color"]&&(P=A.parse(C["text-color"],1,ta),!P))return null;let k=null;if(C["vertical-align"]){if(typeof C["vertical-align"]=="string"&&!Wo.includes(C["vertical-align"]))return A.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${C["vertical-align"]}' instead.`);if(k=A.parse(C["vertical-align"],1,Tt),!k)return null}const X=m[m.length-1];X.scale=F,X.font=S,X.textColor=P,X.verticalAlign=k}else{const F=A.parse(r[v],1,Gt);if(!F)return null;const S=F.type.kind;if(S!=="string"&&S!=="value"&&S!=="null"&&S!=="resolvedImage")return A.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");y=!0,m.push({content:F,scale:null,font:null,textColor:null,verticalAlign:null})}}return new nc(m)}evaluate(r){return new Xr(this.sections.map(A=>{const u=A.content.evaluate(r);return Sa(u)===Ft?new Xn("",u,null,null,null,A.verticalAlign?A.verticalAlign.evaluate(r):null):new Xn(Vn(u),null,A.scale?A.scale.evaluate(r):null,A.font?A.font.evaluate(r).join(","):null,A.textColor?A.textColor.evaluate(r):null,A.verticalAlign?A.verticalAlign.evaluate(r):null)}))}eachChild(r){for(const A of this.sections)r(A.content),A.scale&&r(A.scale),A.font&&r(A.font),A.textColor&&r(A.textColor),A.verticalAlign&&r(A.verticalAlign)}outputDefined(){return!1}}class rA{constructor(r){this.type=Ft,this.input=r}static parse(r,A){if(r.length!==2)return A.error("Expected two arguments.");const u=A.parse(r[1],1,Tt);return u?new rA(u):A.error("No image name provided.")}evaluate(r){const A=this.input.evaluate(r),u=tn.fromString(A);return u&&r.availableImages&&(u.available=r.availableImages.indexOf(A)>-1),u}eachChild(r){r(this.input)}outputDefined(){return!1}}class $h{constructor(r){this.type=tt,this.input=r}static parse(r,A){if(r.length!==2)return A.error(`Expected 1 argument, but found ${r.length-1} instead.`);const u=A.parse(r[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?A.error(`Expected argument of type string or array, but found ${Ei(u.type)} instead.`):new $h(u):null}evaluate(r){const A=this.input.evaluate(r);if(typeof A=="string")return[...A].length;if(Array.isArray(A))return A.length;throw new Ta(`Expected value to be of type string or array, but found ${Ei(Sa(A))} instead.`)}eachChild(r){r(this.input)}outputDefined(){return!1}}const Gn=8192;function dp(l,r){const A=(180+l[0])/360,u=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,m=Math.pow(2,r.z);return[Math.round(A*m*Gn),Math.round(u*m*Gn)]}function qh(l,r){const A=Math.pow(2,r.z);return[(m=(l[0]/Gn+r.x)/A,360*m-180),(u=(l[1]/Gn+r.y)/A,360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90)];var u,m}function Hs(l,r){l[0]=Math.min(l[0],r[0]),l[1]=Math.min(l[1],r[1]),l[2]=Math.max(l[2],r[0]),l[3]=Math.max(l[3],r[1])}function nA(l,r){return!(l[0]<=r[0]||l[2]>=r[2]||l[1]<=r[1]||l[3]>=r[3])}function F0(l,r,A){const u=l[0]-r[0],m=l[1]-r[1],y=l[0]-A[0],v=l[1]-A[1];return u*v-y*m==0&&u*y<=0&&m*v<=0}function sA(l,r,A,u){return(m=[u[0]-A[0],u[1]-A[1]])[0]*(y=[r[0]-l[0],r[1]-l[1]])[1]-m[1]*y[0]!=0&&!(!S0(l,r,A,u)||!S0(A,u,l,r));var m,y}function fp(l,r,A){for(const u of A)for(let m=0;m<u.length-1;++m)if(sA(l,r,u[m],u[m+1]))return!0;return!1}function uo(l,r,A=!1){let u=!1;for(const C of r)for(let F=0;F<C.length-1;F++){if(F0(l,C[F],C[F+1]))return A;(y=C[F])[1]>(m=l)[1]!=(v=C[F+1])[1]>m[1]&&m[0]<(v[0]-y[0])*(m[1]-y[1])/(v[1]-y[1])+y[0]&&(u=!u)}var m,y,v;return u}function gp(l,r){for(const A of r)if(uo(l,A))return!0;return!1}function T0(l,r){for(const A of l)if(!uo(A,r))return!1;for(let A=0;A<l.length-1;++A)if(fp(l[A],l[A+1],r))return!1;return!0}function pp(l,r){for(const A of r)if(T0(l,A))return!0;return!1}function S0(l,r,A,u){const m=u[0]-A[0],y=u[1]-A[1],v=(l[0]-A[0])*y-m*(l[1]-A[1]),C=(r[0]-A[0])*y-m*(r[1]-A[1]);return v>0&&C<0||v<0&&C>0}function Wh(l,r,A){const u=[];for(let m=0;m<l.length;m++){const y=[];for(let v=0;v<l[m].length;v++){const C=dp(l[m][v],A);Hs(r,C),y.push(C)}u.push(y)}return u}function Jh(l,r,A){const u=[];for(let m=0;m<l.length;m++){const y=Wh(l[m],r,A);u.push(y)}return u}function eu(l,r,A,u){if(l[0]<A[0]||l[0]>A[2]){const m=.5*u;let y=l[0]-A[0]>m?-u:A[0]-l[0]>m?u:0;y===0&&(y=l[0]-A[2]>m?-u:A[2]-l[0]>m?u:0),l[0]+=y}Hs(r,l)}function tu(l,r,A,u){const m=Math.pow(2,u.z)*Gn,y=[u.x*Gn,u.y*Gn],v=[];for(const C of l)for(const F of C){const S=[F.x+y[0],F.y+y[1]];eu(S,r,A,m),v.push(S)}return v}function Y0(l,r,A,u){const m=Math.pow(2,u.z)*Gn,y=[u.x*Gn,u.y*Gn],v=[];for(const F of l){const S=[];for(const P of F){const k=[P.x+y[0],P.y+y[1]];Hs(r,k),S.push(k)}v.push(S)}if(r[2]-r[0]<=m/2){(C=r)[0]=C[1]=1/0,C[2]=C[3]=-1/0;for(const F of v)for(const S of F)eu(S,r,A,m)}var C;return v}class fo{constructor(r,A){this.type=Ht,this.geojson=r,this.geometries=A}static parse(r,A){if(r.length!==2)return A.error(`'within' expression requires exactly one argument, but found ${r.length-1} instead.`);if($l(r[1])){const u=r[1];if(u.type==="FeatureCollection"){const m=[];for(const y of u.features){const{type:v,coordinates:C}=y.geometry;v==="Polygon"&&m.push(C),v==="MultiPolygon"&&m.push(...C)}if(m.length)return new fo(u,{type:"MultiPolygon",coordinates:m})}else if(u.type==="Feature"){const m=u.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new fo(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new fo(u,u)}return A.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(r){if(r.geometry()!=null&&r.canonicalID()!=null){if(r.geometryType()==="Point")return function(A,u){const m=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],v=A.canonicalID();if(u.type==="Polygon"){const C=Wh(u.coordinates,y,v),F=tu(A.geometry(),m,y,v);if(!nA(m,y))return!1;for(const S of F)if(!uo(S,C))return!1}if(u.type==="MultiPolygon"){const C=Jh(u.coordinates,y,v),F=tu(A.geometry(),m,y,v);if(!nA(m,y))return!1;for(const S of F)if(!gp(S,C))return!1}return!0}(r,this.geometries);if(r.geometryType()==="LineString")return function(A,u){const m=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],v=A.canonicalID();if(u.type==="Polygon"){const C=Wh(u.coordinates,y,v),F=Y0(A.geometry(),m,y,v);if(!nA(m,y))return!1;for(const S of F)if(!T0(S,C))return!1}if(u.type==="MultiPolygon"){const C=Jh(u.coordinates,y,v),F=Y0(A.geometry(),m,y,v);if(!nA(m,y))return!1;for(const S of F)if(!pp(S,C))return!1}return!0}(r,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let N0=class{constructor(l=[],r=(A,u)=>A<u?-1:A>u?1:0){if(this.data=l,this.length=this.data.length,this.compare=r,this.length>0)for(let A=(this.length>>1)-1;A>=0;A--)this._down(A)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;const l=this.data[0],r=this.data.pop();return--this.length>0&&(this.data[0]=r,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:r,compare:A}=this,u=r[l];for(;l>0;){const m=l-1>>1,y=r[m];if(A(u,y)>=0)break;r[l]=y,l=m}r[l]=u}_down(l){const{data:r,compare:A}=this,u=this.length>>1,m=r[l];for(;l<u;){let y=1+(l<<1);const v=y+1;if(v<this.length&&A(r[v],r[y])<0&&(y=v),A(r[y],m)>=0)break;r[l]=r[y],l=y}r[l]=m}};function sc(l,r,A=0,u=l.length-1,m=mp){for(;u>A;){if(u-A>600){const F=u-A+1,S=r-A+1,P=Math.log(F),k=.5*Math.exp(2*P/3),X=.5*Math.sqrt(P*k*(F-k)/F)*(S-F/2<0?-1:1);sc(l,r,Math.max(A,Math.floor(r-S*k/F+X)),Math.min(u,Math.floor(r+(F-S)*k/F+X)),m)}const y=l[r];let v=A,C=u;for(oA(l,A,r),m(l[u],y)>0&&oA(l,A,u);v<C;){for(oA(l,v,C),v++,C--;m(l[v],y)<0;)v++;for(;m(l[C],y)>0;)C--}m(l[A],y)===0?oA(l,A,C):(C++,oA(l,C,u)),C<=r&&(A=C+1),r<=C&&(u=C-1)}}function oA(l,r,A){const u=l[r];l[r]=l[A],l[A]=u}function mp(l,r){return l<r?-1:l>r?1:0}function oc(l,r){if(l.length<=1)return[l];const A=[];let u,m;for(const y of l){const v=P0(y);v!==0&&(y.area=Math.abs(v),m===void 0&&(m=v<0),m===v<0?(u&&A.push(u),u=[y]):u.push(y))}if(u&&A.push(u),r>1)for(let y=0;y<A.length;y++)A[y].length<=r||(sc(A[y],r,1,A[y].length-1,L0),A[y]=A[y].slice(0,r));return A}function L0(l,r){return r.area-l.area}function P0(l){let r=0;for(let A,u,m=0,y=l.length,v=y-1;m<y;v=m++)A=l[m],u=l[v],r+=(u.x-A.x)*(A.y+u.y);return r}const Q0=1/298.257223563,k0=Q0*(2-Q0),iu=Math.PI/180;class lc{constructor(r){const A=6378.137*iu*1e3,u=Math.cos(r*iu),m=1/(1-k0*(1-u*u)),y=Math.sqrt(m);this.kx=A*y*u,this.ky=A*y*m*(1-k0)}distance(r,A){const u=this.wrap(r[0]-A[0])*this.kx,m=(r[1]-A[1])*this.ky;return Math.sqrt(u*u+m*m)}pointOnLine(r,A){let u,m,y,v,C=1/0;for(let F=0;F<r.length-1;F++){let S=r[F][0],P=r[F][1],k=this.wrap(r[F+1][0]-S)*this.kx,X=(r[F+1][1]-P)*this.ky,j=0;k===0&&X===0||(j=(this.wrap(A[0]-S)*this.kx*k+(A[1]-P)*this.ky*X)/(k*k+X*X),j>1?(S=r[F+1][0],P=r[F+1][1]):j>0&&(S+=k/this.kx*j,P+=X/this.ky*j)),k=this.wrap(A[0]-S)*this.kx,X=(A[1]-P)*this.ky;const K=k*k+X*X;K<C&&(C=K,u=S,m=P,y=F,v=j)}return{point:[u,m],index:y,t:Math.max(0,Math.min(1,v))}}wrap(r){for(;r<-180;)r+=360;for(;r>180;)r-=360;return r}}function D0(l,r){return r[0]-l[0]}function Ac(l){return l[1]-l[0]+1}function gs(l,r){return l[1]>=l[0]&&l[1]<r}function cc(l,r){if(l[0]>l[1])return[null,null];const A=Ac(l);if(r){if(A===2)return[l,null];const m=Math.floor(A/2);return[[l[0],l[0]+m],[l[0]+m,l[1]]]}if(A===1)return[l,null];const u=Math.floor(A/2)-1;return[[l[0],l[0]+u],[l[0]+u+1,l[1]]]}function au(l,r){if(!gs(r,l.length))return[1/0,1/0,-1/0,-1/0];const A=[1/0,1/0,-1/0,-1/0];for(let u=r[0];u<=r[1];++u)Hs(A,l[u]);return A}function ru(l){const r=[1/0,1/0,-1/0,-1/0];for(const A of l)for(const u of A)Hs(r,u);return r}function z0(l){return l[0]!==-1/0&&l[1]!==-1/0&&l[2]!==1/0&&l[3]!==1/0}function nu(l,r,A){if(!z0(l)||!z0(r))return NaN;let u=0,m=0;return l[2]<r[0]&&(u=r[0]-l[2]),l[0]>r[2]&&(u=l[0]-r[2]),l[1]>r[3]&&(m=l[1]-r[3]),l[3]<r[1]&&(m=r[1]-l[3]),A.distance([0,0],[u,m])}function Qi(l,r,A){const u=A.pointOnLine(r,l);return A.distance(l,u.point)}function su(l,r,A,u,m){const y=Math.min(Qi(l,[A,u],m),Qi(r,[A,u],m)),v=Math.min(Qi(A,[l,r],m),Qi(u,[l,r],m));return Math.min(y,v)}function _p(l,r,A,u,m){if(!gs(r,l.length)||!gs(u,A.length))return 1/0;let y=1/0;for(let v=r[0];v<r[1];++v){const C=l[v],F=l[v+1];for(let S=u[0];S<u[1];++S){const P=A[S],k=A[S+1];if(sA(C,F,P,k))return 0;y=Math.min(y,su(C,F,P,k,m))}}return y}function bp(l,r,A,u,m){if(!gs(r,l.length)||!gs(u,A.length))return NaN;let y=1/0;for(let v=r[0];v<=r[1];++v)for(let C=u[0];C<=u[1];++C)if(y=Math.min(y,m.distance(l[v],A[C])),y===0)return y;return y}function yp(l,r,A){if(uo(l,r,!0))return 0;let u=1/0;for(const m of r){const y=m[0],v=m[m.length-1];if(y!==v&&(u=Math.min(u,Qi(l,[v,y],A)),u===0))return u;const C=A.pointOnLine(m,l);if(u=Math.min(u,A.distance(l,C.point)),u===0)return u}return u}function vp(l,r,A,u){if(!gs(r,l.length))return NaN;for(let y=r[0];y<=r[1];++y)if(uo(l[y],A,!0))return 0;let m=1/0;for(let y=r[0];y<r[1];++y){const v=l[y],C=l[y+1];for(const F of A)for(let S=0,P=F.length,k=P-1;S<P;k=S++){const X=F[k],j=F[S];if(sA(v,C,X,j))return 0;m=Math.min(m,su(v,C,X,j,u))}}return m}function Z0(l,r){for(const A of l)for(const u of A)if(uo(u,r,!0))return!0;return!1}function xp(l,r,A,u=1/0){const m=ru(l),y=ru(r);if(u!==1/0&&nu(m,y,A)>=u)return u;if(nA(m,y)){if(Z0(l,r))return 0}else if(Z0(r,l))return 0;let v=1/0;for(const C of l)for(let F=0,S=C.length,P=S-1;F<S;P=F++){const k=C[P],X=C[F];for(const j of r)for(let K=0,te=j.length,de=te-1;K<te;de=K++){const ye=j[de],Ne=j[K];if(sA(k,X,ye,Ne))return 0;v=Math.min(v,su(k,X,ye,Ne,A))}}return v}function H0(l,r,A,u,m,y){if(!y)return;const v=nu(au(u,y),m,A);v<r&&l.push([v,y,[0,0]])}function hc(l,r,A,u,m,y,v){if(!y||!v)return;const C=nu(au(u,y),au(m,v),A);C<r&&l.push([C,y,v])}function uc(l,r,A,u,m=1/0){let y=Math.min(u.distance(l[0],A[0][0]),m);if(y===0)return y;const v=new N0([[0,[0,l.length-1],[0,0]]],D0),C=ru(A);for(;v.length>0;){const F=v.pop();if(F[0]>=y)continue;const S=F[1],P=r?50:100;if(Ac(S)<=P){if(!gs(S,l.length))return NaN;if(r){const k=vp(l,S,A,u);if(isNaN(k)||k===0)return k;y=Math.min(y,k)}else for(let k=S[0];k<=S[1];++k){const X=yp(l[k],A,u);if(y=Math.min(y,X),y===0)return 0}}else{const k=cc(S,r);H0(v,y,u,l,C,k[0]),H0(v,y,u,l,C,k[1])}}return y}function dc(l,r,A,u,m,y=1/0){let v=Math.min(y,m.distance(l[0],A[0]));if(v===0)return v;const C=new N0([[0,[0,l.length-1],[0,A.length-1]]],D0);for(;C.length>0;){const F=C.pop();if(F[0]>=v)continue;const S=F[1],P=F[2],k=r?50:100,X=u?50:100;if(Ac(S)<=k&&Ac(P)<=X){if(!gs(S,l.length)&&gs(P,A.length))return NaN;let j;if(r&&u)j=_p(l,S,A,P,m),v=Math.min(v,j);else if(r&&!u){const K=l.slice(S[0],S[1]+1);for(let te=P[0];te<=P[1];++te)if(j=Qi(A[te],K,m),v=Math.min(v,j),v===0)return v}else if(!r&&u){const K=A.slice(P[0],P[1]+1);for(let te=S[0];te<=S[1];++te)if(j=Qi(l[te],K,m),v=Math.min(v,j),v===0)return v}else j=bp(l,S,A,P,m),v=Math.min(v,j)}else{const j=cc(S,r),K=cc(P,u);hc(C,v,m,l,A,j[0],K[0]),hc(C,v,m,l,A,j[0],K[1]),hc(C,v,m,l,A,j[1],K[0]),hc(C,v,m,l,A,j[1],K[1])}}return v}function ou(l){return l.type==="MultiPolygon"?l.coordinates.map(r=>({type:"Polygon",coordinates:r})):l.type==="MultiLineString"?l.coordinates.map(r=>({type:"LineString",coordinates:r})):l.type==="MultiPoint"?l.coordinates.map(r=>({type:"Point",coordinates:r})):[l]}class go{constructor(r,A){this.type=tt,this.geojson=r,this.geometries=A}static parse(r,A){if(r.length!==2)return A.error(`'distance' expression requires exactly one argument, but found ${r.length-1} instead.`);if($l(r[1])){const u=r[1];if(u.type==="FeatureCollection")return new go(u,u.features.map(m=>ou(m.geometry)).flat());if(u.type==="Feature")return new go(u,ou(u.geometry));if("type"in u&&"coordinates"in u)return new go(u,ou(u))}return A.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(r){if(r.geometry()!=null&&r.canonicalID()!=null){if(r.geometryType()==="Point")return function(A,u){const m=A.geometry(),y=m.flat().map(F=>qh([F.x,F.y],A.canonical));if(m.length===0)return NaN;const v=new lc(y[0][1]);let C=1/0;for(const F of u){switch(F.type){case"Point":C=Math.min(C,dc(y,!1,[F.coordinates],!1,v,C));break;case"LineString":C=Math.min(C,dc(y,!1,F.coordinates,!0,v,C));break;case"Polygon":C=Math.min(C,uc(y,!1,F.coordinates,v,C))}if(C===0)return C}return C}(r,this.geometries);if(r.geometryType()==="LineString")return function(A,u){const m=A.geometry(),y=m.flat().map(F=>qh([F.x,F.y],A.canonical));if(m.length===0)return NaN;const v=new lc(y[0][1]);let C=1/0;for(const F of u){switch(F.type){case"Point":C=Math.min(C,dc(y,!0,[F.coordinates],!1,v,C));break;case"LineString":C=Math.min(C,dc(y,!0,F.coordinates,!0,v,C));break;case"Polygon":C=Math.min(C,uc(y,!0,F.coordinates,v,C))}if(C===0)return C}return C}(r,this.geometries);if(r.geometryType()==="Polygon")return function(A,u){const m=A.geometry();if(m.length===0||m[0].length===0)return NaN;const y=oc(m,0).map(F=>F.map(S=>S.map(P=>qh([P.x,P.y],A.canonical)))),v=new lc(y[0][0][0][1]);let C=1/0;for(const F of u)for(const S of y){switch(F.type){case"Point":C=Math.min(C,uc([F.coordinates],!1,S,v,C));break;case"LineString":C=Math.min(C,uc(F.coordinates,!0,S,v,C));break;case"Polygon":C=Math.min(C,xp(S,F.coordinates,v,C))}if(C===0)return C}return C}(r,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const sl={"==":ic,"!=":Kh,">":ac,"<":up,">=":Rn,"<=":rc,array:gn,at:Jl,boolean:gn,case:WA,coalesce:iA,collator:aA,format:nc,image:rA,in:Mn,"index-of":el,interpolate:Vr,"interpolate-hcl":Vr,"interpolate-lab":Vr,length:$h,let:Jo,literal:Zs,match:qA,number:gn,"number-format":nl,object:gn,slice:tl,step:tA,string:gn,"to-boolean":Wi,"to-color":Wi,"to-number":Wi,"to-string":Wi,var:Di,within:fo,distance:go};class pn{constructor(r,A,u,m){this.name=r,this.type=A,this._evaluate=u,this.args=m}evaluate(r){return this._evaluate(r,this.args)}eachChild(r){this.args.forEach(r)}outputDefined(){return!1}static parse(r,A){const u=r[0],m=pn.definitions[u];if(!m)return A.error(`Unknown expression "${u}". If you wanted a literal array, use ["literal", [...]].`,0);const y=Array.isArray(m)?m[0]:m.type,v=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,C=v.filter(([S])=>!Array.isArray(S)||S.length===r.length-1);let F=null;for(const[S,P]of C){F=new Mi(A.registry,fc,A.path,null,A.scope);const k=[];let X=!1;for(let j=1;j<r.length;j++){const K=r[j],te=Array.isArray(S)?S[j-1]:S.type,de=F.parse(K,1+k.length,te);if(!de){X=!0;break}k.push(de)}if(!X)if(Array.isArray(S)&&S.length!==k.length)F.error(`Expected ${S.length} arguments, but found ${k.length} instead.`);else{for(let j=0;j<k.length;j++){const K=Array.isArray(S)?S[j]:S.type,te=k[j];F.concat(j+1).checkSubtype(K,te.type)}if(F.errors.length===0)return new pn(u,y,P,k)}}if(C.length===1)A.errors.push(...F.errors);else{const S=(C.length?C:v).map(([k])=>{return X=k,Array.isArray(X)?`(${X.map(Ei).join(", ")})`:`(${Ei(X.type)}...)`;var X}).join(" | "),P=[];for(let k=1;k<r.length;k++){const X=A.parse(r[k],1+P.length);if(!X)return null;P.push(Ei(X.type))}A.error(`Expected arguments of type ${S}, but found (${P.join(", ")}) instead.`)}return null}static register(r,A){pn.definitions=A;for(const u in A)r[u]=pn}}function O0(l,[r,A,u,m]){r=r.evaluate(l),A=A.evaluate(l),u=u.evaluate(l);const y=m?m.evaluate(l):1,v=zs(r,A,u,y);if(v)throw new Ta(v);return new Fi(r/255,A/255,u/255,y,!1)}function X0(l,r){return l in r}function lu(l,r){const A=r[l];return A===void 0?null:A}function po(l){return{type:l}}function fc(l){if(l instanceof Di)return fc(l.boundExpression);if(l instanceof pn&&l.name==="error"||l instanceof aA||l instanceof fo||l instanceof go)return!1;const r=l instanceof Wi||l instanceof gn;let A=!0;return l.eachChild(u=>{A=r?A&&fc(u):A&&u instanceof Zs}),!!A&&gc(l)&&pc(l,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function gc(l){if(l instanceof pn&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof fo||l instanceof go)return!1;let r=!0;return l.eachChild(A=>{r&&!gc(A)&&(r=!1)}),r}function lA(l){if(l instanceof pn&&l.name==="feature-state")return!1;let r=!0;return l.eachChild(A=>{r&&!lA(A)&&(r=!1)}),r}function pc(l,r){if(l instanceof pn&&r.indexOf(l.name)>=0)return!1;let A=!0;return l.eachChild(u=>{A&&!pc(u,r)&&(A=!1)}),A}function V0(l){return{result:"success",value:l}}function ol(l){return{result:"error",value:l}}function ll(l){return l["property-type"]==="data-driven"||l["property-type"]==="cross-faded-data-driven"}function G0(l){return!!l.expression&&l.expression.parameters.indexOf("zoom")>-1}function Au(l){return!!l.expression&&l.expression.interpolated}function Xi(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}function mc(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)}function wp(l){return l}function _c(l,r){const A=r.type==="color",u=l.stops&&typeof l.stops[0][0]=="object",m=u||!(u||l.property!==void 0),y=l.type||(Au(r)?"exponential":"interval");if(A||r.type==="padding"){const P=A?Fi.parse:Ir.parse;(l=_t({},l)).stops&&(l.stops=l.stops.map(k=>[k[0],P(k[1])])),l.default=P(l.default?l.default:r.default)}if(l.colorSpace&&(v=l.colorSpace)!=="rgb"&&v!=="hcl"&&v!=="lab")throw new Error(`Unknown color space: "${l.colorSpace}"`);var v;let C,F,S;if(y==="exponential")C=cu;else if(y==="interval")C=Cp;else if(y==="categorical"){C=Bp,F=Object.create(null);for(const P of l.stops)F[P[0]]=P[1];S=typeof l.stops[0][0]}else{if(y!=="identity")throw new Error(`Unknown function type "${y}"`);C=Mp}if(u){const P={},k=[];for(let K=0;K<l.stops.length;K++){const te=l.stops[K],de=te[0].zoom;P[de]===void 0&&(P[de]={zoom:de,type:l.type,property:l.property,default:l.default,stops:[]},k.push(de)),P[de].stops.push([te[0].value,te[1]])}const X=[];for(const K of k)X.push([P[K].zoom,_c(P[K],r)]);const j={name:"linear"};return{kind:"composite",interpolationType:j,interpolationFactor:Vr.interpolationFactor.bind(void 0,j),zoomStops:X.map(K=>K[0]),evaluate:({zoom:K},te)=>cu({stops:X,base:l.base},r,K).evaluate(K,te)}}if(m){const P=y==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:P,interpolationFactor:Vr.interpolationFactor.bind(void 0,P),zoomStops:l.stops.map(k=>k[0]),evaluate:({zoom:k})=>C(l,r,k,F,S)}}return{kind:"source",evaluate(P,k){const X=k&&k.properties?k.properties[l.property]:void 0;return X===void 0?AA(l.default,r.default):C(l,r,X,F,S)}}}function AA(l,r,A){return l!==void 0?l:r!==void 0?r:A!==void 0?A:void 0}function Bp(l,r,A,u,m){return AA(typeof A===m?u[A]:void 0,l.default,r.default)}function Cp(l,r,A){if(Xi(A)!=="number")return AA(l.default,r.default);const u=l.stops.length;if(u===1||A<=l.stops[0][0])return l.stops[0][1];if(A>=l.stops[u-1][0])return l.stops[u-1][1];const m=eA(l.stops.map(y=>y[0]),A);return l.stops[m][1]}function cu(l,r,A){const u=l.base!==void 0?l.base:1;if(Xi(A)!=="number")return AA(l.default,r.default);const m=l.stops.length;if(m===1||A<=l.stops[0][0])return l.stops[0][1];if(A>=l.stops[m-1][0])return l.stops[m-1][1];const y=eA(l.stops.map(P=>P[0]),A),v=function(P,k,X,j){const K=j-X,te=P-X;return K===0?0:k===1?te/K:(Math.pow(k,te)-1)/(Math.pow(k,K)-1)}(A,u,l.stops[y][0],l.stops[y+1][0]),C=l.stops[y][1],F=l.stops[y+1][1],S=ua[r.type]||wp;return typeof C.evaluate=="function"?{evaluate(...P){const k=C.evaluate.apply(void 0,P),X=F.evaluate.apply(void 0,P);if(k!==void 0&&X!==void 0)return S(k,X,v,l.colorSpace)}}:S(C,F,v,l.colorSpace)}function Mp(l,r,A){switch(r.type){case"color":A=Fi.parse(A);break;case"formatted":A=Xr.fromString(A.toString());break;case"resolvedImage":A=tn.fromString(A.toString());break;case"padding":A=Ir.parse(A);break;default:Xi(A)===r.type||r.type==="enum"&&r.values[A]||(A=void 0)}return AA(A,l.default,r.default)}pn.register(sl,{error:[{kind:"error"},[Tt],(l,[r])=>{throw new Ta(r.evaluate(l))}],typeof:[Tt,[Gt],(l,[r])=>Ei(Sa(r.evaluate(l)))],"to-rgba":[Ui(tt,4),[ta],(l,[r])=>{const[A,u,m,y]=r.evaluate(l).rgb;return[255*A,255*u,255*m,y]}],rgb:[ta,[tt,tt,tt],O0],rgba:[ta,[tt,tt,tt,tt],O0],has:{type:Ht,overloads:[[[Tt],(l,[r])=>X0(r.evaluate(l),l.properties())],[[Tt,Bi],(l,[r,A])=>X0(r.evaluate(l),A.evaluate(l))]]},get:{type:Gt,overloads:[[[Tt],(l,[r])=>lu(r.evaluate(l),l.properties())],[[Tt,Bi],(l,[r,A])=>lu(r.evaluate(l),A.evaluate(l))]]},"feature-state":[Gt,[Tt],(l,[r])=>lu(r.evaluate(l),l.featureState||{})],properties:[Bi,[],l=>l.properties()],"geometry-type":[Tt,[],l=>l.geometryType()],id:[Gt,[],l=>l.id()],zoom:[tt,[],l=>l.globals.zoom],"heatmap-density":[tt,[],l=>l.globals.heatmapDensity||0],"line-progress":[tt,[],l=>l.globals.lineProgress||0],accumulated:[Gt,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[tt,po(tt),(l,r)=>{let A=0;for(const u of r)A+=u.evaluate(l);return A}],"*":[tt,po(tt),(l,r)=>{let A=1;for(const u of r)A*=u.evaluate(l);return A}],"-":{type:tt,overloads:[[[tt,tt],(l,[r,A])=>r.evaluate(l)-A.evaluate(l)],[[tt],(l,[r])=>-r.evaluate(l)]]},"/":[tt,[tt,tt],(l,[r,A])=>r.evaluate(l)/A.evaluate(l)],"%":[tt,[tt,tt],(l,[r,A])=>r.evaluate(l)%A.evaluate(l)],ln2:[tt,[],()=>Math.LN2],pi:[tt,[],()=>Math.PI],e:[tt,[],()=>Math.E],"^":[tt,[tt,tt],(l,[r,A])=>Math.pow(r.evaluate(l),A.evaluate(l))],sqrt:[tt,[tt],(l,[r])=>Math.sqrt(r.evaluate(l))],log10:[tt,[tt],(l,[r])=>Math.log(r.evaluate(l))/Math.LN10],ln:[tt,[tt],(l,[r])=>Math.log(r.evaluate(l))],log2:[tt,[tt],(l,[r])=>Math.log(r.evaluate(l))/Math.LN2],sin:[tt,[tt],(l,[r])=>Math.sin(r.evaluate(l))],cos:[tt,[tt],(l,[r])=>Math.cos(r.evaluate(l))],tan:[tt,[tt],(l,[r])=>Math.tan(r.evaluate(l))],asin:[tt,[tt],(l,[r])=>Math.asin(r.evaluate(l))],acos:[tt,[tt],(l,[r])=>Math.acos(r.evaluate(l))],atan:[tt,[tt],(l,[r])=>Math.atan(r.evaluate(l))],min:[tt,po(tt),(l,r)=>Math.min(...r.map(A=>A.evaluate(l)))],max:[tt,po(tt),(l,r)=>Math.max(...r.map(A=>A.evaluate(l)))],abs:[tt,[tt],(l,[r])=>Math.abs(r.evaluate(l))],round:[tt,[tt],(l,[r])=>{const A=r.evaluate(l);return A<0?-Math.round(-A):Math.round(A)}],floor:[tt,[tt],(l,[r])=>Math.floor(r.evaluate(l))],ceil:[tt,[tt],(l,[r])=>Math.ceil(r.evaluate(l))],"filter-==":[Ht,[Tt,Gt],(l,[r,A])=>l.properties()[r.value]===A.value],"filter-id-==":[Ht,[Gt],(l,[r])=>l.id()===r.value],"filter-type-==":[Ht,[Tt],(l,[r])=>l.geometryType()===r.value],"filter-<":[Ht,[Tt,Gt],(l,[r,A])=>{const u=l.properties()[r.value],m=A.value;return typeof u==typeof m&&u<m}],"filter-id-<":[Ht,[Gt],(l,[r])=>{const A=l.id(),u=r.value;return typeof A==typeof u&&A<u}],"filter->":[Ht,[Tt,Gt],(l,[r,A])=>{const u=l.properties()[r.value],m=A.value;return typeof u==typeof m&&u>m}],"filter-id->":[Ht,[Gt],(l,[r])=>{const A=l.id(),u=r.value;return typeof A==typeof u&&A>u}],"filter-<=":[Ht,[Tt,Gt],(l,[r,A])=>{const u=l.properties()[r.value],m=A.value;return typeof u==typeof m&&u<=m}],"filter-id-<=":[Ht,[Gt],(l,[r])=>{const A=l.id(),u=r.value;return typeof A==typeof u&&A<=u}],"filter->=":[Ht,[Tt,Gt],(l,[r,A])=>{const u=l.properties()[r.value],m=A.value;return typeof u==typeof m&&u>=m}],"filter-id->=":[Ht,[Gt],(l,[r])=>{const A=l.id(),u=r.value;return typeof A==typeof u&&A>=u}],"filter-has":[Ht,[Gt],(l,[r])=>r.value in l.properties()],"filter-has-id":[Ht,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[Ht,[Ui(Tt)],(l,[r])=>r.value.indexOf(l.geometryType())>=0],"filter-id-in":[Ht,[Ui(Gt)],(l,[r])=>r.value.indexOf(l.id())>=0],"filter-in-small":[Ht,[Tt,Ui(Gt)],(l,[r,A])=>A.value.indexOf(l.properties()[r.value])>=0],"filter-in-large":[Ht,[Tt,Ui(Gt)],(l,[r,A])=>function(u,m,y,v){for(;y<=v;){const C=y+v>>1;if(m[C]===u)return!0;m[C]>u?v=C-1:y=C+1}return!1}(l.properties()[r.value],A.value,0,A.value.length-1)],all:{type:Ht,overloads:[[[Ht,Ht],(l,[r,A])=>r.evaluate(l)&&A.evaluate(l)],[po(Ht),(l,r)=>{for(const A of r)if(!A.evaluate(l))return!1;return!0}]]},any:{type:Ht,overloads:[[[Ht,Ht],(l,[r,A])=>r.evaluate(l)||A.evaluate(l)],[po(Ht),(l,r)=>{for(const A of r)if(A.evaluate(l))return!0;return!1}]]},"!":[Ht,[Ht],(l,[r])=>!r.evaluate(l)],"is-supported-script":[Ht,[Tt],(l,[r])=>{const A=l.globals&&l.globals.isSupportedScript;return!A||A(r.evaluate(l))}],upcase:[Tt,[Tt],(l,[r])=>r.evaluate(l).toUpperCase()],downcase:[Tt,[Tt],(l,[r])=>r.evaluate(l).toLowerCase()],concat:[Tt,po(Gt),(l,r)=>r.map(A=>Vn(A.evaluate(l))).join("")],"resolved-locale":[Tt,[Cn],(l,[r])=>r.evaluate(l).resolvedLocale()]});class hu{constructor(r,A){var u;this.expression=r,this._warningHistory={},this._evaluator=new Oi,this._defaultValue=A?(u=A).type==="color"&&mc(u.default)?new Fi(0,0,0,0):u.type==="color"?Fi.parse(u.default)||null:u.type==="padding"?Ir.parse(u.default)||null:u.type==="variableAnchorOffsetCollection"?_r.parse(u.default)||null:u.type==="projectionDefinition"?kr.parse(u.default)||null:u.default===void 0?null:u.default:null,this._enumValues=A&&A.type==="enum"?A.values:null}evaluateWithoutErrorHandling(r,A,u,m,y,v){return this._evaluator.globals=r,this._evaluator.feature=A,this._evaluator.featureState=u,this._evaluator.canonical=m,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=v,this.expression.evaluate(this._evaluator)}evaluate(r,A,u,m,y,v){this._evaluator.globals=r,this._evaluator.feature=A||null,this._evaluator.featureState=u||null,this._evaluator.canonical=m,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=v||null;try{const C=this.expression.evaluate(this._evaluator);if(C==null||typeof C=="number"&&C!=C)return this._defaultValue;if(this._enumValues&&!(C in this._enumValues))throw new Ta(`Expected value to be one of ${Object.keys(this._enumValues).map(F=>JSON.stringify(F)).join(", ")}, but found ${JSON.stringify(C)} instead.`);return C}catch(C){return this._warningHistory[C.message]||(this._warningHistory[C.message]=!0,typeof console<"u"&&console.warn(C.message)),this._defaultValue}}}function mo(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in sl}function cA(l,r){const A=new Mi(sl,fc,[],r?function(m){const y={color:ta,string:Tt,number:tt,enum:Tt,boolean:Ht,formatted:Xt,padding:De,projectionDefinition:oa,resolvedImage:Ft,variableAnchorOffsetCollection:ni};return m.type==="array"?Ui(y[m.value]||Gt,m.length):y[m.type]}(r):void 0),u=A.parse(l,void 0,void 0,void 0,r&&r.type==="string"?{typeAnnotation:"coerce"}:void 0);return u?V0(new hu(u,r)):ol(A.errors)}class uu{constructor(r,A){this.kind=r,this._styleExpression=A,this.isStateDependent=r!=="constant"&&!lA(A.expression)}evaluateWithoutErrorHandling(r,A,u,m,y,v){return this._styleExpression.evaluateWithoutErrorHandling(r,A,u,m,y,v)}evaluate(r,A,u,m,y,v){return this._styleExpression.evaluate(r,A,u,m,y,v)}}class du{constructor(r,A,u,m){this.kind=r,this.zoomStops=u,this._styleExpression=A,this.isStateDependent=r!=="camera"&&!lA(A.expression),this.interpolationType=m}evaluateWithoutErrorHandling(r,A,u,m,y,v){return this._styleExpression.evaluateWithoutErrorHandling(r,A,u,m,y,v)}evaluate(r,A,u,m,y,v){return this._styleExpression.evaluate(r,A,u,m,y,v)}interpolationFactor(r,A,u){return this.interpolationType?Vr.interpolationFactor(this.interpolationType,r,A,u):0}}function j0(l,r){const A=cA(l,r);if(A.result==="error")return A;const u=A.value.expression,m=gc(u);if(!m&&!ll(r))return ol([new Wt("","data expressions not supported")]);const y=pc(u,["zoom"]);if(!y&&!G0(r))return ol([new Wt("","zoom expressions not supported")]);const v=yc(u);return v||y?v instanceof Wt?ol([v]):v instanceof Vr&&!Au(r)?ol([new Wt("",'"interpolate" expressions cannot be used with this property')]):V0(v?new du(m?"camera":"composite",A.value,v.labels,v instanceof Vr?v.interpolation:void 0):new uu(m?"constant":"source",A.value)):ol([new Wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class bc{constructor(r,A){this._parameters=r,this._specification=A,_t(this,_c(this._parameters,this._specification))}static deserialize(r){return new bc(r._parameters,r._specification)}static serialize(r){return{_parameters:r._parameters,_specification:r._specification}}}function yc(l){let r=null;if(l instanceof Jo)r=yc(l.result);else if(l instanceof iA){for(const A of l.args)if(r=yc(A),r)break}else(l instanceof tA||l instanceof Vr)&&l.input instanceof pn&&l.input.name==="zoom"&&(r=l);return r instanceof Wt||l.eachChild(A=>{const u=yc(A);u instanceof Wt?r=u:!r&&u?r=new Wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&u&&r!==u&&(r=new Wt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}function vc(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(const r of l.slice(1))if(!vc(r)&&typeof r!="boolean")return!1;return!0;default:return!0}}const K0={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function fu(l){if(l==null)return{filter:()=>!0,needGeometry:!1};vc(l)||(l=hA(l));const r=cA(l,K0);if(r.result==="error")throw new Error(r.value.map(A=>`${A.key}: ${A.message}`).join(", "));return{filter:(A,u,m)=>r.value.evaluate(A,u,{},m),needGeometry:gu(l)}}function Rp(l,r){return l<r?-1:l>r?1:0}function gu(l){if(!Array.isArray(l))return!1;if(l[0]==="within"||l[0]==="distance")return!0;for(let r=1;r<l.length;r++)if(gu(l[r]))return!0;return!1}function hA(l){if(!l)return!0;const r=l[0];return l.length<=1?r!=="any":r==="=="?xc(l[1],l[2],"=="):r==="!="?Al(xc(l[1],l[2],"==")):r==="<"||r===">"||r==="<="||r===">="?xc(l[1],l[2],r):r==="any"?(A=l.slice(1),["any"].concat(A.map(hA))):r==="all"?["all"].concat(l.slice(1).map(hA)):r==="none"?["all"].concat(l.slice(1).map(hA).map(Al)):r==="in"?pu(l[1],l.slice(2)):r==="!in"?Al(pu(l[1],l.slice(2))):r==="has"?wc(l[1]):r!=="!has"||Al(wc(l[1]));var A}function xc(l,r,A){switch(l){case"$type":return[`filter-type-${A}`,r];case"$id":return[`filter-id-${A}`,r];default:return[`filter-${A}`,l,r]}}function pu(l,r){if(r.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(A=>typeof A!=typeof r[0])?["filter-in-large",l,["literal",r.sort(Rp)]]:["filter-in-small",l,["literal",r]]}}function wc(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l]}}function Al(l){return["!",l]}function uA(l){const r=typeof l;if(r==="number"||r==="boolean"||r==="string"||l==null)return JSON.stringify(l);if(Array.isArray(l)){let m="[";for(const y of l)m+=`${uA(y)},`;return`${m}]`}const A=Object.keys(l).sort();let u="{";for(let m=0;m<A.length;m++)u+=`${JSON.stringify(A[m])}:${uA(l[A[m]])},`;return`${u}}`}function Bc(l){let r="";for(const A of ke)r+=`/${uA(l[A])}`;return r}function $0(l){const r=l.value;return r?[new Xe(l.key,r,"constants have been deprecated as of v8")]:[]}function Pa(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function _o(l){if(Array.isArray(l))return l.map(_o);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){const r={};for(const A in l)r[A]=_o(l[A]);return r}return Pa(l)}function mn(l){const r=l.key,A=l.value,u=l.valueSpec||{},m=l.objectElementValidators||{},y=l.style,v=l.styleSpec,C=l.validateSpec;let F=[];const S=Xi(A);if(S!=="object")return[new Xe(r,A,`object expected, ${S} found`)];for(const P in A){const k=P.split(".")[0],X=u[k]||u["*"];let j;if(m[k])j=m[k];else if(u[k])j=C;else if(m["*"])j=m["*"];else{if(!u["*"]){F.push(new Xe(r,A[P],`unknown property "${P}"`));continue}j=C}F=F.concat(j({key:(r&&`${r}.`)+P,value:A[P],valueSpec:X,style:y,styleSpec:v,object:A,objectKey:P,validateSpec:C},A))}for(const P in u)m[P]||u[P].required&&u[P].default===void 0&&A[P]===void 0&&F.push(new Xe(r,A,`missing required property "${P}"`));return F}function mu(l){const r=l.value,A=l.valueSpec,u=l.style,m=l.styleSpec,y=l.key,v=l.arrayElementValidator||l.validateSpec;if(Xi(r)!=="array")return[new Xe(y,r,`array expected, ${Xi(r)} found`)];if(A.length&&r.length!==A.length)return[new Xe(y,r,`array length ${A.length} expected, length ${r.length} found`)];if(A["min-length"]&&r.length<A["min-length"])return[new Xe(y,r,`array length at least ${A["min-length"]} expected, length ${r.length} found`)];let C={type:A.value,values:A.values};m.$version<7&&(C.function=A.function),Xi(A.value)==="object"&&(C=A.value);let F=[];for(let S=0;S<r.length;S++)F=F.concat(v({array:r,arrayIndex:S,value:r[S],valueSpec:C,validateSpec:l.validateSpec,style:u,styleSpec:m,key:`${y}[${S}]`}));return F}function _u(l){const r=l.key,A=l.value,u=l.valueSpec;let m=Xi(A);return m==="number"&&A!=A&&(m="NaN"),m!=="number"?[new Xe(r,A,`number expected, ${m} found`)]:"minimum"in u&&A<u.minimum?[new Xe(r,A,`${A} is less than the minimum value ${u.minimum}`)]:"maximum"in u&&A>u.maximum?[new Xe(r,A,`${A} is greater than the maximum value ${u.maximum}`)]:[]}function bu(l){const r=l.valueSpec,A=Pa(l.value.type);let u,m,y,v={};const C=A!=="categorical"&&l.value.property===void 0,F=!C,S=Xi(l.value.stops)==="array"&&Xi(l.value.stops[0])==="array"&&Xi(l.value.stops[0][0])==="object",P=mn({key:l.key,value:l.value,valueSpec:l.styleSpec.function,validateSpec:l.validateSpec,style:l.style,styleSpec:l.styleSpec,objectElementValidators:{stops:function(j){if(A==="identity")return[new Xe(j.key,j.value,'identity function may not have a "stops" property')];let K=[];const te=j.value;return K=K.concat(mu({key:j.key,value:te,valueSpec:j.valueSpec,validateSpec:j.validateSpec,style:j.style,styleSpec:j.styleSpec,arrayElementValidator:k})),Xi(te)==="array"&&te.length===0&&K.push(new Xe(j.key,te,"array must have at least one stop")),K},default:function(j){return j.validateSpec({key:j.key,value:j.value,valueSpec:r,validateSpec:j.validateSpec,style:j.style,styleSpec:j.styleSpec})}}});return A==="identity"&&C&&P.push(new Xe(l.key,l.value,'missing required property "property"')),A==="identity"||l.value.stops||P.push(new Xe(l.key,l.value,'missing required property "stops"')),A==="exponential"&&l.valueSpec.expression&&!Au(l.valueSpec)&&P.push(new Xe(l.key,l.value,"exponential functions not supported")),l.styleSpec.$version>=8&&(F&&!ll(l.valueSpec)?P.push(new Xe(l.key,l.value,"property functions not supported")):C&&!G0(l.valueSpec)&&P.push(new Xe(l.key,l.value,"zoom functions not supported"))),A!=="categorical"&&!S||l.value.property!==void 0||P.push(new Xe(l.key,l.value,'"property" property is required')),P;function k(j){let K=[];const te=j.value,de=j.key;if(Xi(te)!=="array")return[new Xe(de,te,`array expected, ${Xi(te)} found`)];if(te.length!==2)return[new Xe(de,te,`array length 2 expected, length ${te.length} found`)];if(S){if(Xi(te[0])!=="object")return[new Xe(de,te,`object expected, ${Xi(te[0])} found`)];if(te[0].zoom===void 0)return[new Xe(de,te,"object stop key must have zoom")];if(te[0].value===void 0)return[new Xe(de,te,"object stop key must have value")];if(y&&y>Pa(te[0].zoom))return[new Xe(de,te[0].zoom,"stop zoom values must appear in ascending order")];Pa(te[0].zoom)!==y&&(y=Pa(te[0].zoom),m=void 0,v={}),K=K.concat(mn({key:`${de}[0]`,value:te[0],valueSpec:{zoom:{}},validateSpec:j.validateSpec,style:j.style,styleSpec:j.styleSpec,objectElementValidators:{zoom:_u,value:X}}))}else K=K.concat(X({key:`${de}[0]`,value:te[0],validateSpec:j.validateSpec,style:j.style,styleSpec:j.styleSpec},te));return mo(_o(te[1]))?K.concat([new Xe(`${de}[1]`,te[1],"expressions are not allowed in function stops.")]):K.concat(j.validateSpec({key:`${de}[1]`,value:te[1],valueSpec:r,validateSpec:j.validateSpec,style:j.style,styleSpec:j.styleSpec}))}function X(j,K){const te=Xi(j.value),de=Pa(j.value),ye=j.value!==null?j.value:K;if(u){if(te!==u)return[new Xe(j.key,ye,`${te} stop domain type must match previous stop domain type ${u}`)]}else u=te;if(te!=="number"&&te!=="string"&&te!=="boolean")return[new Xe(j.key,ye,"stop domain value must be a number, string, or boolean")];if(te!=="number"&&A!=="categorical"){let Ne=`number expected, ${te} found`;return ll(r)&&A===void 0&&(Ne+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Xe(j.key,ye,Ne)]}return A!=="categorical"||te!=="number"||isFinite(de)&&Math.floor(de)===de?A!=="categorical"&&te==="number"&&m!==void 0&&de<m?[new Xe(j.key,ye,"stop domain values must appear in ascending order")]:(m=de,A==="categorical"&&de in v?[new Xe(j.key,ye,"stop domain values must be unique")]:(v[de]=!0,[])):[new Xe(j.key,ye,`integer expected, found ${de}`)]}}function bo(l){const r=(l.expressionContext==="property"?j0:cA)(_o(l.value),l.valueSpec);if(r.result==="error")return r.value.map(u=>new Xe(`${l.key}${u.key}`,l.value,u.message));const A=r.value.expression||r.value._styleExpression.expression;if(l.expressionContext==="property"&&l.propertyKey==="text-font"&&!A.outputDefined())return[new Xe(l.key,l.value,`Invalid data expression for "${l.propertyKey}". Output values must be contained as literals within the expression.`)];if(l.expressionContext==="property"&&l.propertyType==="layout"&&!lA(A))return[new Xe(l.key,l.value,'"feature-state" data expressions are not supported with layout properties.')];if(l.expressionContext==="filter"&&!lA(A))return[new Xe(l.key,l.value,'"feature-state" data expressions are not supported with filters.')];if(l.expressionContext&&l.expressionContext.indexOf("cluster")===0){if(!pc(A,["zoom","feature-state"]))return[new Xe(l.key,l.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(l.expressionContext==="cluster-initial"&&!gc(A))return[new Xe(l.key,l.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Os(l){const r=l.key,A=l.value,u=l.valueSpec,m=[];return Array.isArray(u.values)?u.values.indexOf(Pa(A))===-1&&m.push(new Xe(r,A,`expected one of [${u.values.join(", ")}], ${JSON.stringify(A)} found`)):Object.keys(u.values).indexOf(Pa(A))===-1&&m.push(new Xe(r,A,`expected one of [${Object.keys(u.values).join(", ")}], ${JSON.stringify(A)} found`)),m}function yu(l){return vc(_o(l.value))?bo(_t({},l,{expressionContext:"filter",valueSpec:{value:"boolean"}})):vu(l)}function vu(l){const r=l.value,A=l.key;if(Xi(r)!=="array")return[new Xe(A,r,`array expected, ${Xi(r)} found`)];const u=l.styleSpec;let m,y=[];if(r.length<1)return[new Xe(A,r,"filter array must have at least 1 element")];switch(y=y.concat(Os({key:`${A}[0]`,value:r[0],valueSpec:u.filter_operator,style:l.style,styleSpec:l.styleSpec})),Pa(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&Pa(r[1])==="$type"&&y.push(new Xe(A,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&y.push(new Xe(A,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(m=Xi(r[1]),m!=="string"&&y.push(new Xe(`${A}[1]`,r[1],`string expected, ${m} found`)));for(let v=2;v<r.length;v++)m=Xi(r[v]),Pa(r[1])==="$type"?y=y.concat(Os({key:`${A}[${v}]`,value:r[v],valueSpec:u.geometry_type,style:l.style,styleSpec:l.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&y.push(new Xe(`${A}[${v}]`,r[v],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let v=1;v<r.length;v++)y=y.concat(vu({key:`${A}[${v}]`,value:r[v],style:l.style,styleSpec:l.styleSpec}));break;case"has":case"!has":m=Xi(r[1]),r.length!==2?y.push(new Xe(A,r,`filter array for "${r[0]}" operator must have 2 elements`)):m!=="string"&&y.push(new Xe(`${A}[1]`,r[1],`string expected, ${m} found`))}return y}function xu(l,r){const A=l.key,u=l.validateSpec,m=l.style,y=l.styleSpec,v=l.value,C=l.objectKey,F=y[`${r}_${l.layerType}`];if(!F)return[];const S=C.match(/^(.*)-transition$/);if(r==="paint"&&S&&F[S[1]]&&F[S[1]].transition)return u({key:A,value:v,valueSpec:y.transition,style:m,styleSpec:y});const P=l.valueSpec||F[C];if(!P)return[new Xe(A,v,`unknown property "${C}"`)];let k;if(Xi(v)==="string"&&ll(P)&&!P.tokens&&(k=/^{([^}]+)}$/.exec(v)))return[new Xe(A,v,`"${C}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(k[1])} }\`.`)];const X=[];return l.layerType==="symbol"&&(C==="text-field"&&m&&!m.glyphs&&X.push(new Xe(A,v,'use of "text-field" requires a style "glyphs" property')),C==="text-font"&&mc(_o(v))&&Pa(v.type)==="identity"&&X.push(new Xe(A,v,'"text-font" does not support identity functions'))),X.concat(u({key:l.key,value:v,valueSpec:P,style:m,styleSpec:y,expressionContext:"property",propertyType:r,propertyKey:C}))}function q0(l){return xu(l,"paint")}function wu(l){return xu(l,"layout")}function Bu(l){let r=[];const A=l.value,u=l.key,m=l.style,y=l.styleSpec;A.type||A.ref||r.push(new Xe(u,A,'either "type" or "ref" is required'));let v=Pa(A.type);const C=Pa(A.ref);if(A.id){const F=Pa(A.id);for(let S=0;S<l.arrayIndex;S++){const P=m.layers[S];Pa(P.id)===F&&r.push(new Xe(u,A.id,`duplicate layer id "${A.id}", previously used at line ${P.id.__line__}`))}}if("ref"in A){let F;["type","source","source-layer","filter","layout"].forEach(S=>{S in A&&r.push(new Xe(u,A[S],`"${S}" is prohibited for ref layers`))}),m.layers.forEach(S=>{Pa(S.id)===C&&(F=S)}),F?F.ref?r.push(new Xe(u,A.ref,"ref cannot reference another ref layer")):v=Pa(F.type):r.push(new Xe(u,A.ref,`ref layer "${C}" not found`))}else if(v!=="background")if(A.source){const F=m.sources&&m.sources[A.source],S=F&&Pa(F.type);F?S==="vector"&&v==="raster"?r.push(new Xe(u,A.source,`layer "${A.id}" requires a raster source`)):S!=="raster-dem"&&v==="hillshade"?r.push(new Xe(u,A.source,`layer "${A.id}" requires a raster-dem source`)):S==="raster"&&v!=="raster"?r.push(new Xe(u,A.source,`layer "${A.id}" requires a vector source`)):S!=="vector"||A["source-layer"]?S==="raster-dem"&&v!=="hillshade"?r.push(new Xe(u,A.source,"raster-dem source can only be used with layer type 'hillshade'.")):v!=="line"||!A.paint||!A.paint["line-gradient"]||S==="geojson"&&F.lineMetrics||r.push(new Xe(u,A,`layer "${A.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new Xe(u,A,`layer "${A.id}" must specify a "source-layer"`)):r.push(new Xe(u,A.source,`source "${A.source}" not found`))}else r.push(new Xe(u,A,'missing required property "source"'));return r=r.concat(mn({key:u,value:A,valueSpec:y.layer,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,objectElementValidators:{"*":()=>[],type:()=>l.validateSpec({key:`${u}.type`,value:A.type,valueSpec:y.layer.type,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,object:A,objectKey:"type"}),filter:yu,layout:F=>mn({layer:A,key:F.key,value:F.value,style:F.style,styleSpec:F.styleSpec,validateSpec:F.validateSpec,objectElementValidators:{"*":S=>wu(_t({layerType:v},S))}}),paint:F=>mn({layer:A,key:F.key,value:F.value,style:F.style,styleSpec:F.styleSpec,validateSpec:F.validateSpec,objectElementValidators:{"*":S=>q0(_t({layerType:v},S))}})}})),r}function In(l){const r=l.value,A=l.key,u=Xi(r);return u!=="string"?[new Xe(A,r,`string expected, ${u} found`)]:[]}const W0={promoteId:function({key:l,value:r}){if(Xi(r)==="string")return In({key:l,value:r});{const A=[];for(const u in r)A.push(...In({key:`${l}.${u}`,value:r[u]}));return A}}};function J0(l){const r=l.value,A=l.key,u=l.styleSpec,m=l.style,y=l.validateSpec;if(!r.type)return[new Xe(A,r,'"type" is required')];const v=Pa(r.type);let C;switch(v){case"vector":case"raster":return C=mn({key:A,value:r,valueSpec:u[`source_${v.replace("-","_")}`],style:l.style,styleSpec:u,objectElementValidators:W0,validateSpec:y}),C;case"raster-dem":return C=function(F){var S;const P=(S=F.sourceName)!==null&&S!==void 0?S:"",k=F.value,X=F.styleSpec,j=X.source_raster_dem,K=F.style;let te=[];const de=Xi(k);if(k===void 0)return te;if(de!=="object")return te.push(new Xe("source_raster_dem",k,`object expected, ${de} found`)),te;const ye=Pa(k.encoding)==="custom",Ne=["redFactor","greenFactor","blueFactor","baseShift"],Be=F.value.encoding?`"${F.value.encoding}"`:"Default";for(const G in k)!ye&&Ne.includes(G)?te.push(new Xe(G,k[G],`In "${P}": "${G}" is only valid when "encoding" is set to "custom". ${Be} encoding found`)):j[G]?te=te.concat(F.validateSpec({key:G,value:k[G],valueSpec:j[G],validateSpec:F.validateSpec,style:K,styleSpec:X})):te.push(new Xe(G,k[G],`unknown property "${G}"`));return te}({sourceName:A,value:r,style:l.style,styleSpec:u,validateSpec:y}),C;case"geojson":if(C=mn({key:A,value:r,valueSpec:u.source_geojson,style:m,styleSpec:u,validateSpec:y,objectElementValidators:W0}),r.cluster)for(const F in r.clusterProperties){const[S,P]=r.clusterProperties[F],k=typeof S=="string"?[S,["accumulated"],["get",F]]:S;C.push(...bo({key:`${A}.${F}.map`,value:P,expressionContext:"cluster-map"})),C.push(...bo({key:`${A}.${F}.reduce`,value:k,expressionContext:"cluster-reduce"}))}return C;case"video":return mn({key:A,value:r,valueSpec:u.source_video,style:m,validateSpec:y,styleSpec:u});case"image":return mn({key:A,value:r,valueSpec:u.source_image,style:m,validateSpec:y,styleSpec:u});case"canvas":return[new Xe(A,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Os({key:`${A}.type`,value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function ef(l){const r=l.value,A=l.styleSpec,u=A.light,m=l.style;let y=[];const v=Xi(r);if(r===void 0)return y;if(v!=="object")return y=y.concat([new Xe("light",r,`object expected, ${v} found`)]),y;for(const C in r){const F=C.match(/^(.*)-transition$/);y=y.concat(F&&u[F[1]]&&u[F[1]].transition?l.validateSpec({key:C,value:r[C],valueSpec:A.transition,validateSpec:l.validateSpec,style:m,styleSpec:A}):u[C]?l.validateSpec({key:C,value:r[C],valueSpec:u[C],validateSpec:l.validateSpec,style:m,styleSpec:A}):[new Xe(C,r[C],`unknown property "${C}"`)])}return y}function tf(l){const r=l.value,A=l.styleSpec,u=A.sky,m=l.style,y=Xi(r);if(r===void 0)return[];if(y!=="object")return[new Xe("sky",r,`object expected, ${y} found`)];let v=[];for(const C in r)v=v.concat(u[C]?l.validateSpec({key:C,value:r[C],valueSpec:u[C],style:m,styleSpec:A}):[new Xe(C,r[C],`unknown property "${C}"`)]);return v}function af(l){const r=l.value,A=l.styleSpec,u=A.terrain,m=l.style;let y=[];const v=Xi(r);if(r===void 0)return y;if(v!=="object")return y=y.concat([new Xe("terrain",r,`object expected, ${v} found`)]),y;for(const C in r)y=y.concat(u[C]?l.validateSpec({key:C,value:r[C],valueSpec:u[C],validateSpec:l.validateSpec,style:m,styleSpec:A}):[new Xe(C,r[C],`unknown property "${C}"`)]);return y}function rf(l){let r=[];const A=l.value,u=l.key;if(Array.isArray(A)){const m=[],y=[];for(const v in A)A[v].id&&m.includes(A[v].id)&&r.push(new Xe(u,A,`all the sprites' ids must be unique, but ${A[v].id} is duplicated`)),m.push(A[v].id),A[v].url&&y.includes(A[v].url)&&r.push(new Xe(u,A,`all the sprites' URLs must be unique, but ${A[v].url} is duplicated`)),y.push(A[v].url),r=r.concat(mn({key:`${u}[${v}]`,value:A[v],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:l.validateSpec}));return r}return In({key:u,value:A})}const cl={"*":()=>[],array:mu,boolean:function(l){const r=l.value,A=l.key,u=Xi(r);return u!=="boolean"?[new Xe(A,r,`boolean expected, ${u} found`)]:[]},number:_u,color:function(l){const r=l.key,A=l.value,u=Xi(A);return u!=="string"?[new Xe(r,A,`color expected, ${u} found`)]:Fi.parse(String(A))?[]:[new Xe(r,A,`color expected, "${A}" found`)]},constants:$0,enum:Os,filter:yu,function:bu,layer:Bu,object:mn,source:J0,light:ef,sky:tf,terrain:af,projection:function(l){const r=l.value,A=l.styleSpec,u=A.projection,m=l.style,y=Xi(r);if(r===void 0)return[];if(y!=="object")return[new Xe("projection",r,`object expected, ${y} found`)];let v=[];for(const C in r)v=v.concat(u[C]?l.validateSpec({key:C,value:r[C],valueSpec:u[C],style:m,styleSpec:A}):[new Xe(C,r[C],`unknown property "${C}"`)]);return v},projectionDefinition:function(l){const r=l.key;let A=l.value;A=A instanceof String?A.valueOf():A;const u=Xi(A);return u!=="array"||function(m){return Array.isArray(m)&&m.length===3&&typeof m[0]=="string"&&typeof m[1]=="string"&&typeof m[2]=="number"}(A)||function(m){return!!["interpolate","step","literal"].includes(m[0])}(A)?["array","string"].includes(u)?[]:[new Xe(r,A,`projection expected, invalid type "${u}" found`)]:[new Xe(r,A,`projection expected, invalid array ${JSON.stringify(A)} found`)]},string:In,formatted:function(l){return In(l).length===0?[]:bo(l)},resolvedImage:function(l){return In(l).length===0?[]:bo(l)},padding:function(l){const r=l.key,A=l.value;if(Xi(A)==="array"){if(A.length<1||A.length>4)return[new Xe(r,A,`padding requires 1 to 4 values; ${A.length} values found`)];const u={type:"number"};let m=[];for(let y=0;y<A.length;y++)m=m.concat(l.validateSpec({key:`${r}[${y}]`,value:A[y],validateSpec:l.validateSpec,valueSpec:u}));return m}return _u({key:r,value:A,valueSpec:{}})},variableAnchorOffsetCollection:function(l){const r=l.key,A=l.value,u=Xi(A),m=l.styleSpec;if(u!=="array"||A.length<1||A.length%2!=0)return[new Xe(r,A,"variableAnchorOffsetCollection requires a non-empty array of even length")];let y=[];for(let v=0;v<A.length;v+=2)y=y.concat(Os({key:`${r}[${v}]`,value:A[v],valueSpec:m.layout_symbol["text-anchor"]})),y=y.concat(mu({key:`${r}[${v+1}]`,value:A[v+1],valueSpec:{length:2,value:"number"},validateSpec:l.validateSpec,style:l.style,styleSpec:m}));return y},sprite:rf};function Xs(l){const r=l.value,A=l.valueSpec,u=l.styleSpec;return l.validateSpec=Xs,A.expression&&mc(Pa(r))?bu(l):A.expression&&mo(_o(r))?bo(l):A.type&&cl[A.type]?cl[A.type](l):mn(_t({},l,{valueSpec:A.type?u[A.type]:A}))}function Gr(l){const r=l.value,A=l.key,u=In(l);return u.length||(r.indexOf("{fontstack}")===-1&&u.push(new Xe(A,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&u.push(new Xe(A,r,'"glyphs" url must include a "{range}" token'))),u}function Dr(l,r=oe){let A=[];return A=A.concat(Xs({key:"",value:l,valueSpec:r.$root,styleSpec:r,style:l,validateSpec:Xs,objectElementValidators:{glyphs:Gr,"*":()=>[]}})),l.constants&&(A=A.concat($0({key:"constants",value:l.constants}))),nf(A)}function Un(l){return function(r){return l({...r,validateSpec:Xs})}}function nf(l){return[].concat(l).sort((r,A)=>r.line-A.line)}function jn(l){return function(...r){return nf(l.apply(this,r))}}Dr.source=jn(Un(J0)),Dr.sprite=jn(Un(rf)),Dr.glyphs=jn(Un(Gr)),Dr.light=jn(Un(ef)),Dr.sky=jn(Un(tf)),Dr.terrain=jn(Un(af)),Dr.layer=jn(Un(Bu)),Dr.filter=jn(Un(yu)),Dr.paintProperty=jn(Un(q0)),Dr.layoutProperty=jn(Un(wu));const Kn=Dr,sf=Kn.light,Cu=Kn.sky,Ip=Kn.paintProperty,Mu=Kn.layoutProperty;function of(l,r){let A=!1;if(r&&r.length)for(const u of r)l.fire(new fe(new Error(u.message))),A=!0;return A}class ps{constructor(r,A,u){const m=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;const v=new Int32Array(this.arrayBuffer);r=v[0],this.d=(A=v[1])+2*(u=v[2]);for(let F=0;F<this.d*this.d;F++){const S=v[3+F],P=v[3+F+1];m.push(S===P?null:v.subarray(S,P))}const C=v[3+m.length+1];this.keys=v.subarray(v[3+m.length],C),this.bboxes=v.subarray(C),this.insert=this._insertReadonly}else{this.d=A+2*u;for(let v=0;v<this.d*this.d;v++)m.push([]);this.keys=[],this.bboxes=[]}this.n=A,this.extent=r,this.padding=u,this.scale=A/r,this.uid=0;const y=u/A*r;this.min=-y,this.max=r+y}insert(r,A,u,m,y){this._forEachCell(A,u,m,y,this._insertCell,this.uid++,void 0,void 0),this.keys.push(r),this.bboxes.push(A),this.bboxes.push(u),this.bboxes.push(m),this.bboxes.push(y)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(r,A,u,m,y,v){this.cells[y].push(v)}query(r,A,u,m,y){const v=this.min,C=this.max;if(r<=v&&A<=v&&C<=u&&C<=m&&!y)return Array.prototype.slice.call(this.keys);{const F=[];return this._forEachCell(r,A,u,m,this._queryCell,F,{},y),F}}_queryCell(r,A,u,m,y,v,C,F){const S=this.cells[y];if(S!==null){const P=this.keys,k=this.bboxes;for(let X=0;X<S.length;X++){const j=S[X];if(C[j]===void 0){const K=4*j;(F?F(k[K+0],k[K+1],k[K+2],k[K+3]):r<=k[K+2]&&A<=k[K+3]&&u>=k[K+0]&&m>=k[K+1])?(C[j]=!0,v.push(P[j])):C[j]=!1}}}}_forEachCell(r,A,u,m,y,v,C,F){const S=this._convertToCellCoord(r),P=this._convertToCellCoord(A),k=this._convertToCellCoord(u),X=this._convertToCellCoord(m);for(let j=S;j<=k;j++)for(let K=P;K<=X;K++){const te=this.d*K+j;if((!F||F(this._convertFromCellCoord(j),this._convertFromCellCoord(K),this._convertFromCellCoord(j+1),this._convertFromCellCoord(K+1)))&&y.call(this,r,A,u,m,te,v,C,F))return}}_convertFromCellCoord(r){return(r-this.padding)/this.scale}_convertToCellCoord(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const r=this.cells,A=3+this.cells.length+1+1;let u=0;for(let v=0;v<this.cells.length;v++)u+=this.cells[v].length;const m=new Int32Array(A+u+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let y=A;for(let v=0;v<r.length;v++){const C=r[v];m[3+v]=y,m.set(C,y),y+=C.length}return m[3+r.length]=y,m.set(this.keys,y),y+=this.keys.length,m[3+r.length+1]=y,m.set(this.bboxes,y),y+=this.bboxes.length,m.buffer}static serialize(r,A){const u=r.toArrayBuffer();return A&&A.push(u),{buffer:u}}static deserialize(r){return new ps(r.buffer)}}const ms={};function zt(l,r,A={}){if(ms[l])throw new Error(`${l} is already registered.`);Object.defineProperty(r,"_classRegistryKey",{value:l,writeable:!1}),ms[l]={klass:r,omit:A.omit||[],shallow:A.shallow||[]}}zt("Object",Object),zt("TransferableGridIndex",ps),zt("Color",Fi),zt("Error",Error),zt("AJAXError",Oa),zt("ResolvedImage",tn),zt("StylePropertyFunction",bc),zt("StyleExpression",hu,{omit:["_evaluator"]}),zt("ZoomDependentExpression",du),zt("ZoomConstantExpression",uu),zt("CompoundExpression",pn,{omit:["_evaluate"]});for(const l in sl)sl[l]._classRegistryKey||zt(`Expression_${l}`,sl[l]);function lf(l){return l&&typeof ArrayBuffer<"u"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function Ru(l){return l.$name||l.constructor._classRegistryKey}function dA(l){return!function(r){if(r===null||typeof r!="object")return!1;const A=Ru(r);return!(!A||A==="Object")}(l)&&(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob||l instanceof Error||lf(l)||fi(l)||ArrayBuffer.isView(l)||l instanceof ImageData)}function fA(l,r){if(dA(l))return(lf(l)||fi(l))&&r&&r.push(l),ArrayBuffer.isView(l)&&r&&r.push(l.buffer),l instanceof ImageData&&r&&r.push(l.data.buffer),l;if(Array.isArray(l)){const y=[];for(const v of l)y.push(fA(v,r));return y}if(typeof l!="object")throw new Error("can't serialize object of type "+typeof l);const A=Ru(l);if(!A)throw new Error(`can't serialize object of unregistered class ${l.constructor.name}`);if(!ms[A])throw new Error(`${A} is not registered.`);const{klass:u}=ms[A],m=u.serialize?u.serialize(l,r):{};if(u.serialize){if(r&&m===r[r.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const y in l){if(!l.hasOwnProperty(y)||ms[A].omit.indexOf(y)>=0)continue;const v=l[y];m[y]=ms[A].shallow.indexOf(y)>=0?v:fA(v,r)}l instanceof Error&&(m.message=l.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return A!=="Object"&&(m.$name=A),m}function yo(l){if(dA(l))return l;if(Array.isArray(l))return l.map(yo);if(typeof l!="object")throw new Error("can't deserialize object of type "+typeof l);const r=Ru(l)||"Object";if(!ms[r])throw new Error(`can't deserialize unregistered class ${r}`);const{klass:A}=ms[r];if(!A)throw new Error(`can't deserialize unregistered class ${r}`);if(A.deserialize)return A.deserialize(l);const u=Object.create(A.prototype);for(const m of Object.keys(l)){if(m==="$name")continue;const y=l[m];u[m]=ms[r].shallow.indexOf(m)>=0?y:yo(y)}return u}class gA{constructor(){this.first=!0}update(r,A){const u=Math.floor(r);return this.first?(this.first=!1,this.lastIntegerZoom=u,this.lastIntegerZoomTime=0,this.lastZoom=r,this.lastFloorZoom=u,!0):(this.lastFloorZoom>u?(this.lastIntegerZoom=u+1,this.lastIntegerZoomTime=A):this.lastFloorZoom<u&&(this.lastIntegerZoom=u,this.lastIntegerZoomTime=A),r!==this.lastZoom&&(this.lastZoom=r,this.lastFloorZoom=u,!0))}}const Ni={"Latin-1 Supplement":l=>l>=128&&l<=255,"Hangul Jamo":l=>l>=4352&&l<=4607,Khmer:l=>l>=6016&&l<=6143,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Hiragana:l=>l>=12352&&l<=12447,Katakana:l=>l>=12448&&l<=12543,Kanbun:l=>l>=12688&&l<=12703,"CJK Strokes":l=>l>=12736&&l<=12783,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"CJK Unified Ideographs":l=>l>=19968&&l<=40959,"Hangul Syllables":l=>l>=44032&&l<=55215,"Private Use Area":l=>l>=57344&&l<=63743,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519};function Cc(l){for(const r of l)if(Rc(r.charCodeAt(0)))return!0;return!1}function Af(l){for(const r of l)if(!cf(r.charCodeAt(0)))return!1;return!0}function Mc(l){const r=l.map(A=>{try{return new RegExp(`\\p{sc=${A}}`,"u").source}catch{return null}}).filter(A=>A);return new RegExp(r.join("|"),"u")}const Iu=Mc(["Arab","Dupl","Mong","Ougr","Syrc"]);function cf(l){return!Iu.test(String.fromCodePoint(l))}const hf=Mc(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Rc(l){return!(l!==746&&l!==747&&(l<4352||!(Ni["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||Ni["CJK Compatibility"](l)||Ni["CJK Strokes"](l)||!(!Ni["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||Ni["Enclosed CJK Letters and Months"](l)||Ni["Ideographic Description Characters"](l)||Ni.Kanbun(l)||Ni.Katakana(l)&&l!==12540||!(!Ni["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!Ni["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||Ni["Vertical Forms"](l)||Ni["Yijing Hexagram Symbols"](l)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(l))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(l))||hf.test(String.fromCodePoint(l)))))}function uf(l){return!(Rc(l)||function(r){return!!(Ni["Latin-1 Supplement"](r)&&(r===167||r===169||r===174||r===177||r===188||r===189||r===190||r===215||r===247)||Ni["General Punctuation"](r)&&(r===8214||r===8224||r===8225||r===8240||r===8241||r===8251||r===8252||r===8258||r===8263||r===8264||r===8265||r===8273)||Ni["Letterlike Symbols"](r)||Ni["Number Forms"](r)||Ni["Miscellaneous Technical"](r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||r===9003||r>=9085&&r<=9114||r>=9150&&r<=9165||r===9167||r>=9169&&r<=9179||r>=9186&&r<=9215)||Ni["Control Pictures"](r)&&r!==9251||Ni["Optical Character Recognition"](r)||Ni["Enclosed Alphanumerics"](r)||Ni["Geometric Shapes"](r)||Ni["Miscellaneous Symbols"](r)&&!(r>=9754&&r<=9759)||Ni["Miscellaneous Symbols and Arrows"](r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||Ni["CJK Symbols and Punctuation"](r)||Ni.Katakana(r)||Ni["Private Use Area"](r)||Ni["CJK Compatibility Forms"](r)||Ni["Small Form Variants"](r)||Ni["Halfwidth and Fullwidth Forms"](r)||r===8734||r===8756||r===8757||r>=9984&&r<=10087||r>=10102&&r<=10131||r===65532||r===65533)}(l))}const df=Mc(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Uu(l){return df.test(String.fromCodePoint(l))}function ff(l,r){return!(!r&&Uu(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||Ni.Khmer(l))}function Up(l){for(const r of l)if(Uu(r.charCodeAt(0)))return!0;return!1}const Vs=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(l){this.pluginStatus=l.pluginStatus,this.pluginURL=l.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(l){if(Vs.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=l.applyArabicShaping,this.processBidirectionalText=l.processBidirectionalText,this.processStyledBidirectionalText=l.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(l,r){return s(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(l.pluginStatus!=="loading")return this.setState(l),l;const A=l.pluginURL,u=new Promise(y=>{this.loadScriptResolve=y});r(A);const m=new Promise(y=>setTimeout(()=>y(),this.TIMEOUT));if(yield Promise.race([u,m]),this.isParsed()){const y={pluginStatus:"loaded",pluginURL:A};return this.setState(y),y}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${A}`)})}};class ga{constructor(r,A){this.zoom=r,A?(this.now=A.now,this.fadeDuration=A.fadeDuration,this.zoomHistory=A.zoomHistory,this.transition=A.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new gA,this.transition={})}isSupportedScript(r){return function(A,u){for(const m of A)if(!ff(m.charCodeAt(0),u))return!1;return!0}(r,Vs.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const r=this.zoom,A=r-Math.floor(r),u=this.crossFadingFactor();return r>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:A+(1-A)*u}:{fromScale:.5,toScale:1,t:1-(1-u)*A}}}class pA{constructor(r,A){this.property=r,this.value=A,this.expression=function(u,m){if(mc(u))return new bc(u,m);if(mo(u)){const y=j0(u,m);if(y.result==="error")throw new Error(y.value.map(v=>`${v.key}: ${v.message}`).join(", "));return y.value}{let y=u;return m.type==="color"&&typeof u=="string"?y=Fi.parse(u):m.type!=="padding"||typeof u!="number"&&!Array.isArray(u)?m.type==="variableAnchorOffsetCollection"&&Array.isArray(u)?y=_r.parse(u):m.type==="projectionDefinition"&&typeof u=="string"&&(y=kr.parse(u)):y=Ir.parse(u),{kind:"constant",evaluate:()=>y}}}(A===void 0?r.specification.default:A,r.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(r,A,u){return this.property.possiblyEvaluate(this,r,A,u)}}class Ic{constructor(r){this.property=r,this.value=new pA(r,void 0)}transitioned(r,A){return new mA(this.property,this.value,A,Bt({},r.transition,this.transition),r.now)}untransitioned(){return new mA(this.property,this.value,null,{},0)}}class Eu{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitionablePropertyValues)}getValue(r){return Ct(this._values[r].value.value)}setValue(r,A){Object.prototype.hasOwnProperty.call(this._values,r)||(this._values[r]=new Ic(this._values[r].property)),this._values[r].value=new pA(this._values[r].property,A===null?void 0:Ct(A))}getTransition(r){return Ct(this._values[r].transition)}setTransition(r,A){Object.prototype.hasOwnProperty.call(this._values,r)||(this._values[r]=new Ic(this._values[r].property)),this._values[r].transition=Ct(A)||void 0}serialize(){const r={};for(const A of Object.keys(this._values)){const u=this.getValue(A);u!==void 0&&(r[A]=u);const m=this.getTransition(A);m!==void 0&&(r[`${A}-transition`]=m)}return r}transitioned(r,A){const u=new gf(this._properties);for(const m of Object.keys(this._values))u._values[m]=this._values[m].transitioned(r,A._values[m]);return u}untransitioned(){const r=new gf(this._properties);for(const A of Object.keys(this._values))r._values[A]=this._values[A].untransitioned();return r}}class mA{constructor(r,A,u,m,y){this.property=r,this.value=A,this.begin=y+m.delay||0,this.end=this.begin+m.duration||0,r.specification.transition&&(m.delay||m.duration)&&(this.prior=u)}possiblyEvaluate(r,A,u){const m=r.now||0,y=this.value.possiblyEvaluate(r,A,u),v=this.prior;if(v){if(m>this.end)return this.prior=null,y;if(this.value.isDataDriven())return this.prior=null,y;if(m<this.begin)return v.possiblyEvaluate(r,A,u);{const C=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(r,A,u),y,mt(C))}}return y}}class gf{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitioningPropertyValues)}possiblyEvaluate(r,A,u){const m=new Uc(this._properties);for(const y of Object.keys(this._values))m._values[y]=this._values[y].possiblyEvaluate(r,A,u);return m}hasTransition(){for(const r of Object.keys(this._values))if(this._values[r].prior)return!0;return!1}}class Fu{constructor(r){this._properties=r,this._values=Object.create(r.defaultPropertyValues)}hasValue(r){return this._values[r].value!==void 0}getValue(r){return Ct(this._values[r].value)}setValue(r,A){this._values[r]=new pA(this._values[r].property,A===null?void 0:Ct(A))}serialize(){const r={};for(const A of Object.keys(this._values)){const u=this.getValue(A);u!==void 0&&(r[A]=u)}return r}possiblyEvaluate(r,A,u){const m=new Uc(this._properties);for(const y of Object.keys(this._values))m._values[y]=this._values[y].possiblyEvaluate(r,A,u);return m}}class $n{constructor(r,A,u){this.property=r,this.value=A,this.parameters=u}isConstant(){return this.value.kind==="constant"}constantOr(r){return this.value.kind==="constant"?this.value.value:r}evaluate(r,A,u,m){return this.property.evaluate(this.value,this.parameters,r,A,u,m)}}class Uc{constructor(r){this._properties=r,this._values=Object.create(r.defaultPossiblyEvaluatedValues)}get(r){return this._values[r]}}class ri{constructor(r){this.specification=r}possiblyEvaluate(r,A){if(r.isDataDriven())throw new Error("Value should not be data driven");return r.expression.evaluate(A)}interpolate(r,A,u){const m=ua[this.specification.type];return m?m(r,A,u):r}}class pi{constructor(r,A){this.specification=r,this.overrides=A}possiblyEvaluate(r,A,u,m){return new $n(this,r.expression.kind==="constant"||r.expression.kind==="camera"?{kind:"constant",value:r.expression.evaluate(A,null,{},u,m)}:r.expression,A)}interpolate(r,A,u){if(r.value.kind!=="constant"||A.value.kind!=="constant")return r;if(r.value.value===void 0||A.value.value===void 0)return new $n(this,{kind:"constant",value:void 0},r.parameters);const m=ua[this.specification.type];if(m){const y=m(r.value.value,A.value.value,u);return new $n(this,{kind:"constant",value:y},r.parameters)}return r}evaluate(r,A,u,m,y,v){return r.kind==="constant"?r.value:r.evaluate(A,u,m,y,v)}}class _A extends pi{possiblyEvaluate(r,A,u,m){if(r.value===void 0)return new $n(this,{kind:"constant",value:void 0},A);if(r.expression.kind==="constant"){const y=r.expression.evaluate(A,null,{},u,m),v=r.property.specification.type==="resolvedImage"&&typeof y!="string"?y.name:y,C=this._calculate(v,v,v,A);return new $n(this,{kind:"constant",value:C},A)}if(r.expression.kind==="camera"){const y=this._calculate(r.expression.evaluate({zoom:A.zoom-1}),r.expression.evaluate({zoom:A.zoom}),r.expression.evaluate({zoom:A.zoom+1}),A);return new $n(this,{kind:"constant",value:y},A)}return new $n(this,r.expression,A)}evaluate(r,A,u,m,y,v){if(r.kind==="source"){const C=r.evaluate(A,u,m,y,v);return this._calculate(C,C,C,A)}return r.kind==="composite"?this._calculate(r.evaluate({zoom:Math.floor(A.zoom)-1},u,m),r.evaluate({zoom:Math.floor(A.zoom)},u,m),r.evaluate({zoom:Math.floor(A.zoom)+1},u,m),A):r.value}_calculate(r,A,u,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:r,to:A}:{from:u,to:A}}interpolate(r){return r}}class Tu{constructor(r){this.specification=r}possiblyEvaluate(r,A,u,m){if(r.value!==void 0){if(r.expression.kind==="constant"){const y=r.expression.evaluate(A,null,{},u,m);return this._calculate(y,y,y,A)}return this._calculate(r.expression.evaluate(new ga(Math.floor(A.zoom-1),A)),r.expression.evaluate(new ga(Math.floor(A.zoom),A)),r.expression.evaluate(new ga(Math.floor(A.zoom+1),A)),A)}}_calculate(r,A,u,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:r,to:A}:{from:u,to:A}}interpolate(r){return r}}class Su{constructor(r){this.specification=r}possiblyEvaluate(r,A,u,m){return!!r.expression.evaluate(A,null,{},u,m)}interpolate(){return!1}}class jr{constructor(r){this.properties=r,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const A in r){const u=r[A];u.specification.overridable&&this.overridableProperties.push(A);const m=this.defaultPropertyValues[A]=new pA(u,void 0),y=this.defaultTransitionablePropertyValues[A]=new Ic(u);this.defaultTransitioningPropertyValues[A]=y.untransitioned(),this.defaultPossiblyEvaluatedValues[A]=m.possiblyEvaluate({})}}}zt("DataDrivenProperty",pi),zt("DataConstantProperty",ri),zt("CrossFadedDataDrivenProperty",_A),zt("CrossFadedProperty",Tu),zt("ColorRampProperty",Su);const pf="-transition";class qn extends xe{constructor(r,A){if(super(),this.id=r.id,this.type=r.type,this._featureFilter={filter:()=>!0,needGeometry:!1},r.type!=="custom"&&(this.metadata=r.metadata,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,r.type!=="background"&&(this.source=r.source,this.sourceLayer=r["source-layer"],this.filter=r.filter),A.layout&&(this._unevaluatedLayout=new Fu(A.layout)),A.paint)){this._transitionablePaint=new Eu(A.paint);for(const u in r.paint)this.setPaintProperty(u,r.paint[u],{validate:!1});for(const u in r.layout)this.setLayoutProperty(u,r.layout[u],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Uc(A.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(r){return r==="visibility"?this.visibility:this._unevaluatedLayout.getValue(r)}setLayoutProperty(r,A,u={}){A!=null&&this._validate(Mu,`layers.${this.id}.layout.${r}`,r,A,u)||(r!=="visibility"?this._unevaluatedLayout.setValue(r,A):this.visibility=A)}getPaintProperty(r){return r.endsWith(pf)?this._transitionablePaint.getTransition(r.slice(0,-11)):this._transitionablePaint.getValue(r)}setPaintProperty(r,A,u={}){if(A!=null&&this._validate(Ip,`layers.${this.id}.paint.${r}`,r,A,u))return!1;if(r.endsWith(pf))return this._transitionablePaint.setTransition(r.slice(0,-11),A||void 0),!1;{const m=this._transitionablePaint._values[r],y=m.property.specification["property-type"]==="cross-faded-data-driven",v=m.value.isDataDriven(),C=m.value;this._transitionablePaint.setValue(r,A),this._handleSpecialPaintPropertyUpdate(r);const F=this._transitionablePaint._values[r].value;return F.isDataDriven()||v||y||this._handleOverridablePaintPropertyUpdate(r,C,F)}}_handleSpecialPaintPropertyUpdate(r){}_handleOverridablePaintPropertyUpdate(r,A,u){return!1}isHidden(r){return!!(this.minzoom&&r<this.minzoom)||!!(this.maxzoom&&r>=this.maxzoom)||this.visibility==="none"}updateTransitions(r){this._transitioningPaint=this._transitionablePaint.transitioned(r,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(r,A){r.getCrossfadeParameters&&(this._crossfadeParameters=r.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(r,void 0,A)),this.paint=this._transitioningPaint.possiblyEvaluate(r,void 0,A)}serialize(){const r={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(r.layout=r.layout||{},r.layout.visibility=this.visibility),Ot(r,(A,u)=>!(A===void 0||u==="layout"&&!Object.keys(A).length||u==="paint"&&!Object.keys(A).length))}_validate(r,A,u,m,y={}){return(!y||y.validate!==!1)&&of(this,r.call(Kn,{key:A,layerType:this.type,objectKey:u,value:m,styleSpec:oe,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const r in this.paint._values){const A=this.paint.get(r);if(A instanceof $n&&ll(A.property.specification)&&(A.value.kind==="source"||A.value.kind==="composite")&&A.value.isStateDependent)return!0}return!1}}const hl={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class bA{constructor(r,A){this._structArray=r,this._pos1=A*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ya{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(r,A){return r._trim(),A&&(r.isTransferred=!0,A.push(r.arrayBuffer)),{length:r.length,arrayBuffer:r.arrayBuffer}}static deserialize(r){const A=Object.create(this.prototype);return A.arrayBuffer=r.arrayBuffer,A.length=r.length,A.capacity=r.arrayBuffer.byteLength/A.bytesPerElement,A._refreshViews(),A}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(r){this.reserve(r),this.length=r}reserve(r){if(r>this.capacity){this.capacity=Math.max(r,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const A=this.uint8;this._refreshViews(),A&&this.uint8.set(A)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Da(l,r=1){let A=0,u=0;return{members:l.map(m=>{const y=hl[m.type].BYTES_PER_ELEMENT,v=A=Yu(A,Math.max(r,y)),C=m.components||1;return u=Math.max(u,y),A+=y*C,{name:m.name,type:m.type,components:C,offset:v}}),size:Yu(A,Math.max(u,r)),alignment:r}}function Yu(l,r){return Math.ceil(l/r)*r}class yA extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,A){const u=this.length;return this.resize(u+1),this.emplace(u,r,A)}emplace(r,A,u){const m=2*r;return this.int16[m+0]=A,this.int16[m+1]=u,r}}yA.prototype.bytesPerElement=4,zt("StructArrayLayout2i4",yA);class Ec extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,A,u){const m=this.length;return this.resize(m+1),this.emplace(m,r,A,u)}emplace(r,A,u,m){const y=3*r;return this.int16[y+0]=A,this.int16[y+1]=u,this.int16[y+2]=m,r}}Ec.prototype.bytesPerElement=6,zt("StructArrayLayout3i6",Ec);class _s extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,A,u,m){const y=this.length;return this.resize(y+1),this.emplace(y,r,A,u,m)}emplace(r,A,u,m,y){const v=4*r;return this.int16[v+0]=A,this.int16[v+1]=u,this.int16[v+2]=m,this.int16[v+3]=y,r}}_s.prototype.bytesPerElement=8,zt("StructArrayLayout4i8",_s);class Fc extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,A,u,m,y,v){const C=this.length;return this.resize(C+1),this.emplace(C,r,A,u,m,y,v)}emplace(r,A,u,m,y,v,C){const F=6*r;return this.int16[F+0]=A,this.int16[F+1]=u,this.int16[F+2]=m,this.int16[F+3]=y,this.int16[F+4]=v,this.int16[F+5]=C,r}}Fc.prototype.bytesPerElement=12,zt("StructArrayLayout2i4i12",Fc);class vA extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,A,u,m,y,v){const C=this.length;return this.resize(C+1),this.emplace(C,r,A,u,m,y,v)}emplace(r,A,u,m,y,v,C){const F=4*r,S=8*r;return this.int16[F+0]=A,this.int16[F+1]=u,this.uint8[S+4]=m,this.uint8[S+5]=y,this.uint8[S+6]=v,this.uint8[S+7]=C,r}}vA.prototype.bytesPerElement=8,zt("StructArrayLayout2i4ub8",vA);class ul extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,A){const u=this.length;return this.resize(u+1),this.emplace(u,r,A)}emplace(r,A,u){const m=2*r;return this.float32[m+0]=A,this.float32[m+1]=u,r}}ul.prototype.bytesPerElement=8,zt("StructArrayLayout2f8",ul);class xA extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,A,u,m,y,v,C,F,S,P){const k=this.length;return this.resize(k+1),this.emplace(k,r,A,u,m,y,v,C,F,S,P)}emplace(r,A,u,m,y,v,C,F,S,P,k){const X=10*r;return this.uint16[X+0]=A,this.uint16[X+1]=u,this.uint16[X+2]=m,this.uint16[X+3]=y,this.uint16[X+4]=v,this.uint16[X+5]=C,this.uint16[X+6]=F,this.uint16[X+7]=S,this.uint16[X+8]=P,this.uint16[X+9]=k,r}}xA.prototype.bytesPerElement=20,zt("StructArrayLayout10ui20",xA);class Nu extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,A,u,m,y,v,C,F,S,P,k,X){const j=this.length;return this.resize(j+1),this.emplace(j,r,A,u,m,y,v,C,F,S,P,k,X)}emplace(r,A,u,m,y,v,C,F,S,P,k,X,j){const K=12*r;return this.int16[K+0]=A,this.int16[K+1]=u,this.int16[K+2]=m,this.int16[K+3]=y,this.uint16[K+4]=v,this.uint16[K+5]=C,this.uint16[K+6]=F,this.uint16[K+7]=S,this.int16[K+8]=P,this.int16[K+9]=k,this.int16[K+10]=X,this.int16[K+11]=j,r}}Nu.prototype.bytesPerElement=24,zt("StructArrayLayout4i4ui4i24",Nu);class dl extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,A,u){const m=this.length;return this.resize(m+1),this.emplace(m,r,A,u)}emplace(r,A,u,m){const y=3*r;return this.float32[y+0]=A,this.float32[y+1]=u,this.float32[y+2]=m,r}}dl.prototype.bytesPerElement=12,zt("StructArrayLayout3f12",dl);class vo extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r){const A=this.length;return this.resize(A+1),this.emplace(A,r)}emplace(r,A){return this.uint32[1*r+0]=A,r}}vo.prototype.bytesPerElement=4,zt("StructArrayLayout1ul4",vo);class Lu extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,A,u,m,y,v,C,F,S){const P=this.length;return this.resize(P+1),this.emplace(P,r,A,u,m,y,v,C,F,S)}emplace(r,A,u,m,y,v,C,F,S,P){const k=10*r,X=5*r;return this.int16[k+0]=A,this.int16[k+1]=u,this.int16[k+2]=m,this.int16[k+3]=y,this.int16[k+4]=v,this.int16[k+5]=C,this.uint32[X+3]=F,this.uint16[k+8]=S,this.uint16[k+9]=P,r}}Lu.prototype.bytesPerElement=20,zt("StructArrayLayout6i1ul2ui20",Lu);class Tc extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,A,u,m,y,v){const C=this.length;return this.resize(C+1),this.emplace(C,r,A,u,m,y,v)}emplace(r,A,u,m,y,v,C){const F=6*r;return this.int16[F+0]=A,this.int16[F+1]=u,this.int16[F+2]=m,this.int16[F+3]=y,this.int16[F+4]=v,this.int16[F+5]=C,r}}Tc.prototype.bytesPerElement=12,zt("StructArrayLayout2i2i2i12",Tc);class xo extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,A,u,m,y){const v=this.length;return this.resize(v+1),this.emplace(v,r,A,u,m,y)}emplace(r,A,u,m,y,v){const C=4*r,F=8*r;return this.float32[C+0]=A,this.float32[C+1]=u,this.float32[C+2]=m,this.int16[F+6]=y,this.int16[F+7]=v,r}}xo.prototype.bytesPerElement=16,zt("StructArrayLayout2f1f2i16",xo);class Pu extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,A,u,m,y,v){const C=this.length;return this.resize(C+1),this.emplace(C,r,A,u,m,y,v)}emplace(r,A,u,m,y,v,C){const F=16*r,S=4*r,P=8*r;return this.uint8[F+0]=A,this.uint8[F+1]=u,this.float32[S+1]=m,this.float32[S+2]=y,this.int16[P+6]=v,this.int16[P+7]=C,r}}Pu.prototype.bytesPerElement=16,zt("StructArrayLayout2ub2f2i16",Pu);class Sc extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,A,u){const m=this.length;return this.resize(m+1),this.emplace(m,r,A,u)}emplace(r,A,u,m){const y=3*r;return this.uint16[y+0]=A,this.uint16[y+1]=u,this.uint16[y+2]=m,r}}Sc.prototype.bytesPerElement=6,zt("StructArrayLayout3ui6",Sc);class Yc extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,A,u,m,y,v,C,F,S,P,k,X,j,K,te,de,ye){const Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,r,A,u,m,y,v,C,F,S,P,k,X,j,K,te,de,ye)}emplace(r,A,u,m,y,v,C,F,S,P,k,X,j,K,te,de,ye,Ne){const Be=24*r,G=12*r,ue=48*r;return this.int16[Be+0]=A,this.int16[Be+1]=u,this.uint16[Be+2]=m,this.uint16[Be+3]=y,this.uint32[G+2]=v,this.uint32[G+3]=C,this.uint32[G+4]=F,this.uint16[Be+10]=S,this.uint16[Be+11]=P,this.uint16[Be+12]=k,this.float32[G+7]=X,this.float32[G+8]=j,this.uint8[ue+36]=K,this.uint8[ue+37]=te,this.uint8[ue+38]=de,this.uint32[G+10]=ye,this.int16[Be+22]=Ne,r}}Yc.prototype.bytesPerElement=48,zt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Yc);class Qu extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,A,u,m,y,v,C,F,S,P,k,X,j,K,te,de,ye,Ne,Be,G,ue,Ce,qe,vt,at,lt,Mt,xt){const Et=this.length;return this.resize(Et+1),this.emplace(Et,r,A,u,m,y,v,C,F,S,P,k,X,j,K,te,de,ye,Ne,Be,G,ue,Ce,qe,vt,at,lt,Mt,xt)}emplace(r,A,u,m,y,v,C,F,S,P,k,X,j,K,te,de,ye,Ne,Be,G,ue,Ce,qe,vt,at,lt,Mt,xt,Et){const ht=32*r,Vt=16*r;return this.int16[ht+0]=A,this.int16[ht+1]=u,this.int16[ht+2]=m,this.int16[ht+3]=y,this.int16[ht+4]=v,this.int16[ht+5]=C,this.int16[ht+6]=F,this.int16[ht+7]=S,this.uint16[ht+8]=P,this.uint16[ht+9]=k,this.uint16[ht+10]=X,this.uint16[ht+11]=j,this.uint16[ht+12]=K,this.uint16[ht+13]=te,this.uint16[ht+14]=de,this.uint16[ht+15]=ye,this.uint16[ht+16]=Ne,this.uint16[ht+17]=Be,this.uint16[ht+18]=G,this.uint16[ht+19]=ue,this.uint16[ht+20]=Ce,this.uint16[ht+21]=qe,this.uint16[ht+22]=vt,this.uint32[Vt+12]=at,this.float32[Vt+13]=lt,this.float32[Vt+14]=Mt,this.uint16[ht+30]=xt,this.uint16[ht+31]=Et,r}}Qu.prototype.bytesPerElement=64,zt("StructArrayLayout8i15ui1ul2f2ui64",Qu);class _ extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r){const A=this.length;return this.resize(A+1),this.emplace(A,r)}emplace(r,A){return this.float32[1*r+0]=A,r}}_.prototype.bytesPerElement=4,zt("StructArrayLayout1f4",_);class i extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,A,u){const m=this.length;return this.resize(m+1),this.emplace(m,r,A,u)}emplace(r,A,u,m){const y=3*r;return this.uint16[6*r+0]=A,this.float32[y+1]=u,this.float32[y+2]=m,r}}i.prototype.bytesPerElement=12,zt("StructArrayLayout1ui2f12",i);class o extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,A,u){const m=this.length;return this.resize(m+1),this.emplace(m,r,A,u)}emplace(r,A,u,m){const y=4*r;return this.uint32[2*r+0]=A,this.uint16[y+2]=u,this.uint16[y+3]=m,r}}o.prototype.bytesPerElement=8,zt("StructArrayLayout1ul2ui8",o);class d extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,A){const u=this.length;return this.resize(u+1),this.emplace(u,r,A)}emplace(r,A,u){const m=2*r;return this.uint16[m+0]=A,this.uint16[m+1]=u,r}}d.prototype.bytesPerElement=4,zt("StructArrayLayout2ui4",d);class p extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r){const A=this.length;return this.resize(A+1),this.emplace(A,r)}emplace(r,A){return this.uint16[1*r+0]=A,r}}p.prototype.bytesPerElement=2,zt("StructArrayLayout1ui2",p);class b extends Ya{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,A,u,m){const y=this.length;return this.resize(y+1),this.emplace(y,r,A,u,m)}emplace(r,A,u,m,y){const v=4*r;return this.float32[v+0]=A,this.float32[v+1]=u,this.float32[v+2]=m,this.float32[v+3]=y,r}}b.prototype.bytesPerElement=16,zt("StructArrayLayout4f16",b);class B extends bA{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new Y(this.anchorPointX,this.anchorPointY)}}B.prototype.size=20;class U extends Lu{get(r){return new B(this,r)}}zt("CollisionBoxArray",U);class T extends bA{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(r){this._structArray.uint8[this._pos1+37]=r}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(r){this._structArray.uint8[this._pos1+38]=r}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(r){this._structArray.uint32[this._pos4+10]=r}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}T.prototype.size=48;class N extends Yc{get(r){return new T(this,r)}}zt("PlacedSymbolArray",N);class Q extends bA{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(r){this._structArray.uint32[this._pos4+12]=r}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Q.prototype.size=64;class z extends Qu{get(r){return new Q(this,r)}}zt("SymbolInstanceArray",z);class Z extends _{getoffsetX(r){return this.float32[1*r+0]}}zt("GlyphOffsetArray",Z);class W extends Ec{getx(r){return this.int16[3*r+0]}gety(r){return this.int16[3*r+1]}gettileUnitDistanceFromAnchor(r){return this.int16[3*r+2]}}zt("SymbolLineVertexArray",W);class ee extends bA{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}ee.prototype.size=12;class me extends i{get(r){return new ee(this,r)}}zt("TextAnchorOffsetArray",me);class pe extends bA{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}pe.prototype.size=8;class be extends o{get(r){return new pe(this,r)}}zt("FeatureIndexArray",be);class we extends yA{}class Me extends yA{}class Re extends yA{}class Fe extends Fc{}class Pe extends vA{}class Ye extends ul{}class Ke extends xA{}class We extends Nu{}class ct extends dl{}class dt extends vo{}class At extends Tc{}class Lt extends Pu{}class Ut extends Sc{}class bt extends d{}const ti=Da([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ii}=ti;class bi{constructor(r=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=r}prepareSegment(r,A,u,m){const y=this.segments[this.segments.length-1];return r>bi.MAX_VERTEX_ARRAY_LENGTH&&ui(`Max vertices per segment is ${bi.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${r}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${bi.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!y||y.vertexLength+r>bi.MAX_VERTEX_ARRAY_LENGTH||y.sortKey!==m?this.createNewSegment(A,u,m):y}createNewSegment(r,A,u){const m={vertexOffset:r.length,primitiveOffset:A.length,vertexLength:0,primitiveLength:0,vaos:{}};return u!==void 0&&(m.sortKey=u),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(m),m}getOrCreateLatestSegment(r,A,u){return this.prepareSegment(0,r,A,u)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const r of this.segments)for(const A in r.vaos)r.vaos[A].destroy()}static simpleSegment(r,A,u,m){return new bi([{vertexOffset:r,primitiveOffset:A,vertexLength:u,primitiveLength:m,vaos:{},sortKey:0}])}}function xa(l,r){return 256*(l=it(Math.floor(l),0,255))+it(Math.floor(r),0,255)}bi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,zt("SegmentVector",bi);const ia=Da([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var wa,pa,aa,Ji={exports:{}},nr={exports:{}},qa={exports:{}},br=function(){if(aa)return Ji.exports;aa=1;var l=(wa||(wa=1,nr.exports=function(A,u){var m,y,v,C,F,S,P,k;for(y=A.length-(m=3&A.length),v=u,F=3432918353,S=461845907,k=0;k<y;)P=255&A.charCodeAt(k)|(255&A.charCodeAt(++k))<<8|(255&A.charCodeAt(++k))<<16|(255&A.charCodeAt(++k))<<24,++k,v=27492+(65535&(C=5*(65535&(v=(v^=P=(65535&(P=(P=(65535&P)*F+(((P>>>16)*F&65535)<<16)&4294967295)<<15|P>>>17))*S+(((P>>>16)*S&65535)<<16)&4294967295)<<13|v>>>19))+((5*(v>>>16)&65535)<<16)&4294967295))+((58964+(C>>>16)&65535)<<16);switch(P=0,m){case 3:P^=(255&A.charCodeAt(k+2))<<16;case 2:P^=(255&A.charCodeAt(k+1))<<8;case 1:v^=P=(65535&(P=(P=(65535&(P^=255&A.charCodeAt(k)))*F+(((P>>>16)*F&65535)<<16)&4294967295)<<15|P>>>17))*S+(((P>>>16)*S&65535)<<16)&4294967295}return v^=A.length,v=2246822507*(65535&(v^=v>>>16))+((2246822507*(v>>>16)&65535)<<16)&4294967295,v=3266489909*(65535&(v^=v>>>13))+((3266489909*(v>>>16)&65535)<<16)&4294967295,(v^=v>>>16)>>>0}),nr.exports),r=(pa||(pa=1,qa.exports=function(A,u){for(var m,y=A.length,v=u^y,C=0;y>=4;)m=1540483477*(65535&(m=255&A.charCodeAt(C)|(255&A.charCodeAt(++C))<<8|(255&A.charCodeAt(++C))<<16|(255&A.charCodeAt(++C))<<24))+((1540483477*(m>>>16)&65535)<<16),v=1540483477*(65535&v)+((1540483477*(v>>>16)&65535)<<16)^(m=1540483477*(65535&(m^=m>>>24))+((1540483477*(m>>>16)&65535)<<16)),y-=4,++C;switch(y){case 3:v^=(255&A.charCodeAt(C+2))<<16;case 2:v^=(255&A.charCodeAt(C+1))<<8;case 1:v=1540483477*(65535&(v^=255&A.charCodeAt(C)))+((1540483477*(v>>>16)&65535)<<16)}return v=1540483477*(65535&(v^=v>>>13))+((1540483477*(v>>>16)&65535)<<16),(v^=v>>>15)>>>0}),qa.exports);return Ji.exports=l,Ji.exports.murmur3=l,Ji.exports.murmur2=r,Ji.exports}(),Er=x(br);class Wn{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(r,A,u,m){this.ids.push(Gs(r)),this.positions.push(A,u,m)}getPositions(r){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const A=Gs(r);let u=0,m=this.ids.length-1;for(;u<m;){const v=u+m>>1;this.ids[v]>=A?m=v:u=v+1}const y=[];for(;this.ids[u]===A;)y.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return y}static serialize(r,A){const u=new Float64Array(r.ids),m=new Uint32Array(r.positions);return bs(u,m,0,u.length-1),A&&A.push(u.buffer,m.buffer),{ids:u,positions:m}}static deserialize(r){const A=new Wn;return A.ids=r.ids,A.positions=r.positions,A.indexed=!0,A}}function Gs(l){const r=+l;return!isNaN(r)&&r<=Number.MAX_SAFE_INTEGER?r:Er(String(l))}function bs(l,r,A,u){for(;A<u;){const m=l[A+u>>1];let y=A-1,v=u+1;for(;;){do y++;while(l[y]<m);do v--;while(l[v]>m);if(y>=v)break;ys(l,y,v),ys(r,3*y,3*v),ys(r,3*y+1,3*v+1),ys(r,3*y+2,3*v+2)}v-A<u-v?(bs(l,r,A,v),A=v+1):(bs(l,r,v+1,u),u=v)}}function ys(l,r,A){const u=l[r];l[r]=l[A],l[A]=u}zt("FeaturePositionMap",Wn);class Jn{constructor(r,A){this.gl=r.gl,this.location=A}}class wo extends Jn{constructor(r,A){super(r,A),this.current=0}set(r){this.current!==r&&(this.current=r,this.gl.uniform1f(this.location,r))}}class Bo extends Jn{constructor(r,A){super(r,A),this.current=[0,0,0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]&&r[3]===this.current[3]||(this.current=r,this.gl.uniform4f(this.location,r[0],r[1],r[2],r[3]))}}class an extends Jn{constructor(r,A){super(r,A),this.current=Fi.transparent}set(r){r.r===this.current.r&&r.g===this.current.g&&r.b===this.current.b&&r.a===this.current.a||(this.current=r,this.gl.uniform4f(this.location,r.r,r.g,r.b,r.a))}}const js=new Float32Array(16);function vs(l){return[xa(255*l.r,255*l.g),xa(255*l.b,255*l.a)]}class xs{constructor(r,A,u){this.value=r,this.uniformNames=A.map(m=>`u_${m}`),this.type=u}setUniform(r,A,u){r.set(u.constantOr(this.value))}getBinding(r,A,u){return this.type==="color"?new an(r,A):new wo(r,A)}}class Ma{constructor(r,A){this.uniformNames=A.map(u=>`u_${u}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(r,A){this.pixelRatioFrom=A.pixelRatio,this.pixelRatioTo=r.pixelRatio,this.patternFrom=A.tlbr,this.patternTo=r.tlbr}setUniform(r,A,u,m){const y=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;y&&r.set(y)}getBinding(r,A,u){return u.substr(0,9)==="u_pattern"?new Bo(r,A):new wo(r,A)}}class ma{constructor(r,A,u,m){this.expression=r,this.type=u,this.maxValue=0,this.paintVertexAttributes=A.map(y=>({name:`a_${y}`,type:"Float32",components:u==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(r,A,u,m,y){const v=this.paintVertexArray.length,C=this.expression.evaluate(new ga(0),A,{},m,[],y);this.paintVertexArray.resize(r),this._setPaintValue(v,r,C)}updatePaintArray(r,A,u,m){const y=this.expression.evaluate({zoom:0},u,m);this._setPaintValue(r,A,y)}_setPaintValue(r,A,u){if(this.type==="color"){const m=vs(u);for(let y=r;y<A;y++)this.paintVertexArray.emplace(y,m[0],m[1])}else{for(let m=r;m<A;m++)this.paintVertexArray.emplace(m,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Qa{constructor(r,A,u,m,y,v){this.expression=r,this.uniformNames=A.map(C=>`u_${C}_t`),this.type=u,this.useIntegerZoom=m,this.zoom=y,this.maxValue=0,this.paintVertexAttributes=A.map(C=>({name:`a_${C}`,type:"Float32",components:u==="color"?4:2,offset:0})),this.paintVertexArray=new v}populatePaintArray(r,A,u,m,y){const v=this.expression.evaluate(new ga(this.zoom),A,{},m,[],y),C=this.expression.evaluate(new ga(this.zoom+1),A,{},m,[],y),F=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValue(F,r,v,C)}updatePaintArray(r,A,u,m){const y=this.expression.evaluate({zoom:this.zoom},u,m),v=this.expression.evaluate({zoom:this.zoom+1},u,m);this._setPaintValue(r,A,y,v)}_setPaintValue(r,A,u,m){if(this.type==="color"){const y=vs(u),v=vs(m);for(let C=r;C<A;C++)this.paintVertexArray.emplace(C,y[0],y[1],v[0],v[1])}else{for(let y=r;y<A;y++)this.paintVertexArray.emplace(y,u,m);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(m))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(r,A){const u=this.useIntegerZoom?Math.floor(A.zoom):A.zoom,m=it(this.expression.interpolationFactor(u,this.zoom,this.zoom+1),0,1);r.set(m)}getBinding(r,A,u){return new wo(r,A)}}class Ba{constructor(r,A,u,m,y,v){this.expression=r,this.type=A,this.useIntegerZoom=u,this.zoom=m,this.layerId=v,this.zoomInPaintVertexArray=new y,this.zoomOutPaintVertexArray=new y}populatePaintArray(r,A,u){const m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(r),this.zoomOutPaintVertexArray.resize(r),this._setPaintValues(m,r,A.patterns&&A.patterns[this.layerId],u)}updatePaintArray(r,A,u,m,y){this._setPaintValues(r,A,u.patterns&&u.patterns[this.layerId],y)}_setPaintValues(r,A,u,m){if(!m||!u)return;const{min:y,mid:v,max:C}=u,F=m[y],S=m[v],P=m[C];if(F&&S&&P)for(let k=r;k<A;k++)this.zoomInPaintVertexArray.emplace(k,S.tl[0],S.tl[1],S.br[0],S.br[1],F.tl[0],F.tl[1],F.br[0],F.br[1],S.pixelRatio,F.pixelRatio),this.zoomOutPaintVertexArray.emplace(k,S.tl[0],S.tl[1],S.br[0],S.br[1],P.tl[0],P.tl[1],P.br[0],P.br[1],S.pixelRatio,P.pixelRatio)}upload(r){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=r.createVertexBuffer(this.zoomInPaintVertexArray,ia.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=r.createVertexBuffer(this.zoomOutPaintVertexArray,ia.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class mf{constructor(r,A,u){this.binders={},this._buffers=[];const m=[];for(const y in r.paint._values){if(!u(y))continue;const v=r.paint.get(y);if(!(v instanceof $n&&ll(v.property.specification)))continue;const C=Ep(y,r.type),F=v.value,S=v.property.specification.type,P=v.property.useIntegerZoom,k=v.property.specification["property-type"],X=k==="cross-faded"||k==="cross-faded-data-driven";if(F.kind==="constant")this.binders[y]=X?new Ma(F.value,C):new xs(F.value,C,S),m.push(`/u_${y}`);else if(F.kind==="source"||X){const j=_f(y,S,"source");this.binders[y]=X?new Ba(F,S,P,A,j,r.id):new ma(F,C,S,j),m.push(`/a_${y}`)}else{const j=_f(y,S,"composite");this.binders[y]=new Qa(F,C,S,P,A,j),m.push(`/z_${y}`)}}this.cacheKey=m.sort().join("")}getMaxValue(r){const A=this.binders[r];return A instanceof ma||A instanceof Qa?A.maxValue:0}populatePaintArrays(r,A,u,m,y){for(const v in this.binders){const C=this.binders[v];(C instanceof ma||C instanceof Qa||C instanceof Ba)&&C.populatePaintArray(r,A,u,m,y)}}setConstantPatternPositions(r,A){for(const u in this.binders){const m=this.binders[u];m instanceof Ma&&m.setConstantPatternPositions(r,A)}}updatePaintArrays(r,A,u,m,y){let v=!1;for(const C in r){const F=A.getPositions(C);for(const S of F){const P=u.feature(S.index);for(const k in this.binders){const X=this.binders[k];if((X instanceof ma||X instanceof Qa||X instanceof Ba)&&X.expression.isStateDependent===!0){const j=m.paint.get(k);X.expression=j.value,X.updatePaintArray(S.start,S.end,P,r[C],y),v=!0}}}}return v}defines(){const r=[];for(const A in this.binders){const u=this.binders[A];(u instanceof xs||u instanceof Ma)&&r.push(...u.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return r}getBinderAttributes(){const r=[];for(const A in this.binders){const u=this.binders[A];if(u instanceof ma||u instanceof Qa)for(let m=0;m<u.paintVertexAttributes.length;m++)r.push(u.paintVertexAttributes[m].name);else if(u instanceof Ba)for(let m=0;m<ia.members.length;m++)r.push(ia.members[m].name)}return r}getBinderUniforms(){const r=[];for(const A in this.binders){const u=this.binders[A];if(u instanceof xs||u instanceof Ma||u instanceof Qa)for(const m of u.uniformNames)r.push(m)}return r}getPaintVertexBuffers(){return this._buffers}getUniforms(r,A){const u=[];for(const m in this.binders){const y=this.binders[m];if(y instanceof xs||y instanceof Ma||y instanceof Qa){for(const v of y.uniformNames)if(A[v]){const C=y.getBinding(r,A[v],v);u.push({name:v,property:m,binding:C})}}}return u}setUniforms(r,A,u,m){for(const{name:y,property:v,binding:C}of A)this.binders[v].setUniform(C,m,u.get(v),y)}updatePaintBuffers(r){this._buffers=[];for(const A in this.binders){const u=this.binders[A];if(r&&u instanceof Ba){const m=r.fromScale===2?u.zoomInPaintVertexBuffer:u.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(u instanceof ma||u instanceof Qa)&&u.paintVertexBuffer&&this._buffers.push(u.paintVertexBuffer)}}upload(r){for(const A in this.binders){const u=this.binders[A];(u instanceof ma||u instanceof Qa||u instanceof Ba)&&u.upload(r)}this.updatePaintBuffers()}destroy(){for(const r in this.binders){const A=this.binders[r];(A instanceof ma||A instanceof Qa||A instanceof Ba)&&A.destroy()}}}class Co{constructor(r,A,u=()=>!0){this.programConfigurations={};for(const m of r)this.programConfigurations[m.id]=new mf(m,A,u);this.needsUpload=!1,this._featureMap=new Wn,this._bufferOffset=0}populatePaintArrays(r,A,u,m,y,v){for(const C in this.programConfigurations)this.programConfigurations[C].populatePaintArrays(r,A,m,y,v);A.id!==void 0&&this._featureMap.add(A.id,u,this._bufferOffset,r),this._bufferOffset=r,this.needsUpload=!0}updatePaintArrays(r,A,u,m){for(const y of u)this.needsUpload=this.programConfigurations[y.id].updatePaintArrays(r,this._featureMap,A,y,m)||this.needsUpload}get(r){return this.programConfigurations[r]}upload(r){if(this.needsUpload){for(const A in this.programConfigurations)this.programConfigurations[A].upload(r);this.needsUpload=!1}}destroy(){for(const r in this.programConfigurations)this.programConfigurations[r].destroy()}}function Ep(l,r){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[l]||[l.replace(`${r}-`,"").replace(/-/g,"_")]}function _f(l,r,A){const u={color:{source:ul,composite:b},number:{source:_,composite:ul}},m=function(y){return{"line-pattern":{source:Ke,composite:Ke},"fill-pattern":{source:Ke,composite:Ke},"fill-extrusion-pattern":{source:Ke,composite:Ke}}[y]}(l);return m&&m[A]||u[r][A]}zt("ConstantBinder",xs),zt("CrossFadedConstantBinder",Ma),zt("SourceExpressionBinder",ma),zt("CrossFadedCompositeBinder",Ba),zt("CompositeExpressionBinder",Qa),zt("ProgramConfiguration",mf,{omit:["_buffers"]}),zt("ProgramConfigurationSet",Co);const ku=Math.pow(2,14)-1,bf=-ku-1;function rn(l){const r=gt/l.extent,A=l.loadGeometry();for(let u=0;u<A.length;u++){const m=A[u];for(let y=0;y<m.length;y++){const v=m[y],C=Math.round(v.x*r),F=Math.round(v.y*r);v.x=it(C,bf,ku),v.y=it(F,bf,ku),(C<v.x||C>v.x+1||F<v.y||F>v.y+1)&&ui("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return A}function Ks(l,r){return{type:l.type,id:l.id,properties:l.properties,geometry:r?rn(l):[]}}const Du=-32768;function yf(l,r,A,u,m){l.emplaceBack(Du+8*r+u,Du+8*A+m)}class wA{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(A=>A.id),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new Me,this.indexArray=new Ut,this.segments=new bi,this.programConfigurations=new Co(r.layers,r.zoom),this.stateDependentLayerIds=this.layers.filter(A=>A.isStateDependent()).map(A=>A.id)}populate(r,A,u){const m=this.layers[0],y=[];let v=null,C=!1,F=m.type==="heatmap";if(m.type==="circle"){const P=m;v=P.layout.get("circle-sort-key"),C=!v.isConstant(),F=F||P.paint.get("circle-pitch-alignment")==="map"}const S=F?A.subdivisionGranularity.circle:1;for(const{feature:P,id:k,index:X,sourceLayerIndex:j}of r){const K=this.layers[0]._featureFilter.needGeometry,te=Ks(P,K);if(!this.layers[0]._featureFilter.filter(new ga(this.zoom),te,u))continue;const de=C?v.evaluate(te,{},u):void 0,ye={id:k,properties:P.properties,type:P.type,sourceLayerIndex:j,index:X,geometry:K?te.geometry:rn(P),patterns:{},sortKey:de};y.push(ye)}C&&y.sort((P,k)=>P.sortKey-k.sortKey);for(const P of y){const{geometry:k,index:X,sourceLayerIndex:j}=P,K=r[X].feature;this.addFeature(P,k,X,u,S),A.featureIndex.insert(K,k,X,j,this.index)}}update(r,A,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,A,this.stateDependentLayers,u)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Ii),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(r,A,u,m,y=1){let v;switch(y){case 1:v=[0,7];break;case 3:v=[0,2,5,7];break;case 5:v=[0,1,3,4,6,7];break;case 7:v=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${y}; valid values are 1, 3, 5, 7.`)}const C=v.length;for(const F of A)for(const S of F){const P=S.x,k=S.y;if(P<0||P>=gt||k<0||k>=gt)continue;const X=this.segments.prepareSegment(C*C,this.layoutVertexArray,this.indexArray,r.sortKey),j=X.vertexLength;for(let K=0;K<C;K++)for(let te=0;te<C;te++)yf(this.layoutVertexArray,P,k,v[te],v[K]);for(let K=0;K<C-1;K++)for(let te=0;te<C-1;te++){const de=j+K*C+te,ye=j+(K+1)*C+te;this.indexArray.emplaceBack(de,ye+1,de+1),this.indexArray.emplaceBack(de,ye,ye+1)}X.vertexLength+=C*C,X.primitiveLength+=(C-1)*(C-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,{},m)}}function zu(l,r){for(let A=0;A<l.length;A++)if(BA(r,l[A]))return!0;for(let A=0;A<r.length;A++)if(BA(l,r[A]))return!0;return!!Fp(l,r)}function Zu(l,r,A){return!!BA(l,r)||!!Tp(r,l,A)}function U4(l,r){if(l.length===1)return F4(r,l[0]);for(let A=0;A<r.length;A++){const u=r[A];for(let m=0;m<u.length;m++)if(BA(l,u[m]))return!0}for(let A=0;A<l.length;A++)if(F4(r,l[A]))return!0;for(let A=0;A<r.length;A++)if(Fp(l,r[A]))return!0;return!1}function Gx(l,r,A){if(l.length>1){if(Fp(l,r))return!0;for(let u=0;u<r.length;u++)if(Tp(r[u],l,A))return!0}for(let u=0;u<l.length;u++)if(Tp(l[u],r,A))return!0;return!1}function Fp(l,r){if(l.length===0||r.length===0)return!1;for(let A=0;A<l.length-1;A++){const u=l[A],m=l[A+1];for(let y=0;y<r.length-1;y++)if(jx(u,m,r[y],r[y+1]))return!0}return!1}function jx(l,r,A,u){return Nt(l,A,u)!==Nt(r,A,u)&&Nt(l,r,A)!==Nt(l,r,u)}function Tp(l,r,A){const u=A*A;if(r.length===1)return l.distSqr(r[0])<u;for(let m=1;m<r.length;m++)if(E4(l,r[m-1],r[m])<u)return!0;return!1}function E4(l,r,A){const u=r.distSqr(A);if(u===0)return l.distSqr(r);const m=((l.x-r.x)*(A.x-r.x)+(l.y-r.y)*(A.y-r.y))/u;return l.distSqr(m<0?r:m>1?A:A.sub(r)._mult(m)._add(r))}function F4(l,r){for(let A=0;A<l.length;A++)if(BA(l[A],r))return!0;return!1}function BA(l,r){let A=!1;for(let u=0,m=l.length-1;u<l.length;m=u++){const y=l[u],v=l[m];y.y>r.y!=v.y>r.y&&r.x<(v.x-y.x)*(r.y-y.y)/(v.y-y.y)+y.x&&(A=!A)}return A}function Kx(l,r,A){const u=A[0],m=A[2];if(l.x<u.x&&r.x<u.x||l.x>m.x&&r.x>m.x||l.y<u.y&&r.y<u.y||l.y>m.y&&r.y>m.y)return!1;const y=Nt(l,r,A[0]);return y!==Nt(l,r,A[1])||y!==Nt(l,r,A[2])||y!==Nt(l,r,A[3])}function Hu(l,r,A){const u=r.paint.get(l).value;return u.kind==="constant"?u.value:A.programConfigurations.get(r.id).getMaxValue(l)}function vf(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function xf(l,r,A,u,m){if(!r[0]&&!r[1])return l;const y=Y.convert(r)._mult(m);A==="viewport"&&y._rotate(-u);const v=[];for(let C=0;C<l.length;C++)v.push(l[C].sub(y));return v}let T4,S4;zt("CircleBucket",wA,{omit:["layers"]});var $x={get paint(){return S4=S4||new jr({"circle-radius":new pi(oe.paint_circle["circle-radius"]),"circle-color":new pi(oe.paint_circle["circle-color"]),"circle-blur":new pi(oe.paint_circle["circle-blur"]),"circle-opacity":new pi(oe.paint_circle["circle-opacity"]),"circle-translate":new ri(oe.paint_circle["circle-translate"]),"circle-translate-anchor":new ri(oe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ri(oe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ri(oe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new pi(oe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new pi(oe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new pi(oe.paint_circle["circle-stroke-opacity"])})},get layout(){return T4=T4||new jr({"circle-sort-key":new pi(oe.layout_circle["circle-sort-key"])})}};class qx extends qn{constructor(r){super(r,$x)}createBucket(r){return new wA(r)}queryRadius(r){const A=r;return Hu("circle-radius",this,A)+Hu("circle-stroke-width",this,A)+vf(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:r,feature:A,featureState:u,geometry:m,transform:y,pixelsToTileUnits:v,unwrappedTileID:C,getElevation:F}){const S=xf(r,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-y.bearingInRadians,v),P=this.paint.get("circle-radius").evaluate(A,u)+this.paint.get("circle-stroke-width").evaluate(A,u),k=this.paint.get("circle-pitch-alignment")==="map",X=k?S:function(K,te,de,ye){return K.map(Ne=>Y4(Ne,te,de,ye))}(S,y,C,F),j=k?P*v:P;for(const K of m)for(const te of K){const de=k?te:Y4(te,y,C,F);let ye=j;const Ne=y.projectTileCoordinates(te.x,te.y,C,F).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ye*=Ne/y.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ye*=y.cameraToCenterDistance/Ne),Zu(X,de,ye))return!0}return!1}}function Y4(l,r,A,u){const m=r.projectTileCoordinates(l.x,l.y,A,u).point;return new Y((.5*m.x+.5)*r.width,(.5*-m.y+.5)*r.height)}class N4 extends wA{}let L4;zt("HeatmapBucket",N4,{omit:["layers"]});var Wx={get paint(){return L4=L4||new jr({"heatmap-radius":new pi(oe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new pi(oe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ri(oe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Su(oe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ri(oe.paint_heatmap["heatmap-opacity"])})}};function Sp(l,{width:r,height:A},u,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==r*A*u)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${r*A*u}`)}else m=new Uint8Array(r*A*u);return l.width=r,l.height=A,l.data=m,l}function P4(l,{width:r,height:A},u){if(r===l.width&&A===l.height)return;const m=Sp({},{width:r,height:A},u);Yp(l,m,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,r),height:Math.min(l.height,A)},u),l.width=r,l.height=A,l.data=m.data}function Yp(l,r,A,u,m,y){if(m.width===0||m.height===0)return r;if(m.width>l.width||m.height>l.height||A.x>l.width-m.width||A.y>l.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>r.width||m.height>r.height||u.x>r.width-m.width||u.y>r.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const v=l.data,C=r.data;if(v===C)throw new Error("srcData equals dstData, so image is already copied");for(let F=0;F<m.height;F++){const S=((A.y+F)*l.width+A.x)*y,P=((u.y+F)*r.width+u.x)*y;for(let k=0;k<m.width*y;k++)C[P+k]=v[S+k]}return r}class Ou{constructor(r,A){Sp(this,r,1,A)}resize(r){P4(this,r,1)}clone(){return new Ou({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,A,u,m,y){Yp(r,A,u,m,y,1)}}class En{constructor(r,A){Sp(this,r,4,A)}resize(r){P4(this,r,4)}replace(r,A){A?this.data.set(r):this.data=r instanceof Uint8ClampedArray?new Uint8Array(r.buffer):r}clone(){return new En({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,A,u,m,y){Yp(r,A,u,m,y,4)}}function Q4(l){const r={},A=l.resolution||256,u=l.clips?l.clips.length:1,m=l.image||new En({width:A,height:u});if(Math.log(A)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${A}`);const y=(v,C,F)=>{r[l.evaluationKey]=F;const S=l.expression.evaluate(r);m.data[v+C+0]=Math.floor(255*S.r/S.a),m.data[v+C+1]=Math.floor(255*S.g/S.a),m.data[v+C+2]=Math.floor(255*S.b/S.a),m.data[v+C+3]=Math.floor(255*S.a)};if(l.clips)for(let v=0,C=0;v<u;++v,C+=4*A)for(let F=0,S=0;F<A;F++,S+=4){const P=F/(A-1),{start:k,end:X}=l.clips[v];y(C,S,k*(1-P)+X*P)}else for(let v=0,C=0;v<A;v++,C+=4)y(0,C,v/(A-1));return m}zt("AlphaImage",Ou),zt("RGBAImage",En);const Np="big-fb";class Jx extends qn{createBucket(r){return new N4(r)}constructor(r){super(r,Wx),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Q4({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Np)&&this.heatmapFbos.delete(Np)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let k4;var ew={get paint(){return k4=k4||new jr({"hillshade-illumination-direction":new ri(oe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ri(oe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ri(oe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ri(oe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ri(oe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ri(oe.paint_hillshade["hillshade-accent-color"])})}};class tw extends qn{constructor(r){super(r,ew)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const iw=Da([{name:"a_pos",components:2,type:"Int16"}],4),{members:aw}=iw;function Lp(l,r,A){const u=A.patternDependencies;let m=!1;for(const y of r){const v=y.paint.get(`${l}-pattern`);v.isConstant()||(m=!0);const C=v.constantOr(null);C&&(m=!0,u[C.to]=!0,u[C.from]=!0)}return m}function Pp(l,r,A,u,m){const y=m.patternDependencies;for(const v of r){const C=v.paint.get(`${l}-pattern`).value;if(C.kind!=="constant"){let F=C.evaluate({zoom:u-1},A,{},m.availableImages),S=C.evaluate({zoom:u},A,{},m.availableImages),P=C.evaluate({zoom:u+1},A,{},m.availableImages);F=F&&F.name?F.name:F,S=S&&S.name?S.name:S,P=P&&P.name?P.name:P,y[F]=!0,y[S]=!0,y[P]=!0,A.patterns[v.id]={min:F,mid:S,max:P}}}return A}function D4(l,r,A,u,m){let y;if(m===function(v,C,F,S){let P=0;for(let k=C,X=F-S;k<F;k+=S)P+=(v[X]-v[k])*(v[k+1]+v[X+1]),X=k;return P}(l,r,A,u)>0)for(let v=r;v<A;v+=u)y=O4(v/u|0,l[v],l[v+1],y);else for(let v=A-u;v>=r;v-=u)y=O4(v/u|0,l[v],l[v+1],y);return y&&Nc(y,y.next)&&(ju(y),y=y.next),y}function CA(l,r){if(!l)return l;r||(r=l);let A,u=l;do if(A=!1,u.steiner||!Nc(u,u.next)&&za(u.prev,u,u.next)!==0)u=u.next;else{if(ju(u),u=r=u.prev,u===u.next)break;A=!0}while(A||u!==r);return r}function Xu(l,r,A,u,m,y,v){if(!l)return;!v&&y&&function(F,S,P,k){let X=F;do X.z===0&&(X.z=Qp(X.x,X.y,S,P,k)),X.prevZ=X.prev,X.nextZ=X.next,X=X.next;while(X!==F);X.prevZ.nextZ=null,X.prevZ=null,function(j){let K,te=1;do{let de,ye=j;j=null;let Ne=null;for(K=0;ye;){K++;let Be=ye,G=0;for(let Ce=0;Ce<te&&(G++,Be=Be.nextZ,Be);Ce++);let ue=te;for(;G>0||ue>0&&Be;)G!==0&&(ue===0||!Be||ye.z<=Be.z)?(de=ye,ye=ye.nextZ,G--):(de=Be,Be=Be.nextZ,ue--),Ne?Ne.nextZ=de:j=de,de.prevZ=Ne,Ne=de;ye=Be}Ne.nextZ=null,te*=2}while(K>1)}(X)}(l,u,m,y);let C=l;for(;l.prev!==l.next;){const F=l.prev,S=l.next;if(y?nw(l,u,m,y):rw(l))r.push(F.i,l.i,S.i),ju(l),l=S.next,C=S.next;else if((l=S)===C){v?v===1?Xu(l=sw(CA(l),r),r,A,u,m,y,2):v===2&&ow(l,r,A,u,m,y):Xu(CA(l),r,A,u,m,y,1);break}}}function rw(l){const r=l.prev,A=l,u=l.next;if(za(r,A,u)>=0)return!1;const m=r.x,y=A.x,v=u.x,C=r.y,F=A.y,S=u.y,P=Math.min(m,y,v),k=Math.min(C,F,S),X=Math.max(m,y,v),j=Math.max(C,F,S);let K=u.next;for(;K!==r;){if(K.x>=P&&K.x<=X&&K.y>=k&&K.y<=j&&Vu(m,C,y,F,v,S,K.x,K.y)&&za(K.prev,K,K.next)>=0)return!1;K=K.next}return!0}function nw(l,r,A,u){const m=l.prev,y=l,v=l.next;if(za(m,y,v)>=0)return!1;const C=m.x,F=y.x,S=v.x,P=m.y,k=y.y,X=v.y,j=Math.min(C,F,S),K=Math.min(P,k,X),te=Math.max(C,F,S),de=Math.max(P,k,X),ye=Qp(j,K,r,A,u),Ne=Qp(te,de,r,A,u);let Be=l.prevZ,G=l.nextZ;for(;Be&&Be.z>=ye&&G&&G.z<=Ne;){if(Be.x>=j&&Be.x<=te&&Be.y>=K&&Be.y<=de&&Be!==m&&Be!==v&&Vu(C,P,F,k,S,X,Be.x,Be.y)&&za(Be.prev,Be,Be.next)>=0||(Be=Be.prevZ,G.x>=j&&G.x<=te&&G.y>=K&&G.y<=de&&G!==m&&G!==v&&Vu(C,P,F,k,S,X,G.x,G.y)&&za(G.prev,G,G.next)>=0))return!1;G=G.nextZ}for(;Be&&Be.z>=ye;){if(Be.x>=j&&Be.x<=te&&Be.y>=K&&Be.y<=de&&Be!==m&&Be!==v&&Vu(C,P,F,k,S,X,Be.x,Be.y)&&za(Be.prev,Be,Be.next)>=0)return!1;Be=Be.prevZ}for(;G&&G.z<=Ne;){if(G.x>=j&&G.x<=te&&G.y>=K&&G.y<=de&&G!==m&&G!==v&&Vu(C,P,F,k,S,X,G.x,G.y)&&za(G.prev,G,G.next)>=0)return!1;G=G.nextZ}return!0}function sw(l,r){let A=l;do{const u=A.prev,m=A.next.next;!Nc(u,m)&&Z4(u,A,A.next,m)&&Gu(u,m)&&Gu(m,u)&&(r.push(u.i,A.i,m.i),ju(A),ju(A.next),A=l=m),A=A.next}while(A!==l);return CA(A)}function ow(l,r,A,u,m,y){let v=l;do{let C=v.next.next;for(;C!==v.prev;){if(v.i!==C.i&&uw(v,C)){let F=H4(v,C);return v=CA(v,v.next),F=CA(F,F.next),Xu(v,r,A,u,m,y,0),void Xu(F,r,A,u,m,y,0)}C=C.next}v=v.next}while(v!==l)}function lw(l,r){let A=l.x-r.x;return A===0&&(A=l.y-r.y,A===0)&&(A=(l.next.y-l.y)/(l.next.x-l.x)-(r.next.y-r.y)/(r.next.x-r.x)),A}function Aw(l,r){const A=function(m,y){let v=y;const C=m.x,F=m.y;let S,P=-1/0;if(Nc(m,v))return v;do{if(Nc(m,v.next))return v.next;if(F<=v.y&&F>=v.next.y&&v.next.y!==v.y){const te=v.x+(F-v.y)*(v.next.x-v.x)/(v.next.y-v.y);if(te<=C&&te>P&&(P=te,S=v.x<v.next.x?v:v.next,te===C))return S}v=v.next}while(v!==y);if(!S)return null;const k=S,X=S.x,j=S.y;let K=1/0;v=S;do{if(C>=v.x&&v.x>=X&&C!==v.x&&z4(F<j?C:P,F,X,j,F<j?P:C,F,v.x,v.y)){const te=Math.abs(F-v.y)/(C-v.x);Gu(v,m)&&(te<K||te===K&&(v.x>S.x||v.x===S.x&&cw(S,v)))&&(S=v,K=te)}v=v.next}while(v!==k);return S}(l,r);if(!A)return r;const u=H4(A,l);return CA(u,u.next),CA(A,A.next)}function cw(l,r){return za(l.prev,l,r.prev)<0&&za(r.next,l,l.next)<0}function Qp(l,r,A,u,m){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-A)*m|0)|l<<8))|l<<4))|l<<2))|l<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-u)*m|0)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function hw(l){let r=l,A=l;do(r.x<A.x||r.x===A.x&&r.y<A.y)&&(A=r),r=r.next;while(r!==l);return A}function z4(l,r,A,u,m,y,v,C){return(m-v)*(r-C)>=(l-v)*(y-C)&&(l-v)*(u-C)>=(A-v)*(r-C)&&(A-v)*(y-C)>=(m-v)*(u-C)}function Vu(l,r,A,u,m,y,v,C){return!(l===v&&r===C)&&z4(l,r,A,u,m,y,v,C)}function uw(l,r){return l.next.i!==r.i&&l.prev.i!==r.i&&!function(A,u){let m=A;do{if(m.i!==A.i&&m.next.i!==A.i&&m.i!==u.i&&m.next.i!==u.i&&Z4(m,m.next,A,u))return!0;m=m.next}while(m!==A);return!1}(l,r)&&(Gu(l,r)&&Gu(r,l)&&function(A,u){let m=A,y=!1;const v=(A.x+u.x)/2,C=(A.y+u.y)/2;do m.y>C!=m.next.y>C&&m.next.y!==m.y&&v<(m.next.x-m.x)*(C-m.y)/(m.next.y-m.y)+m.x&&(y=!y),m=m.next;while(m!==A);return y}(l,r)&&(za(l.prev,l,r.prev)||za(l,r.prev,r))||Nc(l,r)&&za(l.prev,l,l.next)>0&&za(r.prev,r,r.next)>0)}function za(l,r,A){return(r.y-l.y)*(A.x-r.x)-(r.x-l.x)*(A.y-r.y)}function Nc(l,r){return l.x===r.x&&l.y===r.y}function Z4(l,r,A,u){const m=Bf(za(l,r,A)),y=Bf(za(l,r,u)),v=Bf(za(A,u,l)),C=Bf(za(A,u,r));return m!==y&&v!==C||!(m!==0||!wf(l,A,r))||!(y!==0||!wf(l,u,r))||!(v!==0||!wf(A,l,u))||!(C!==0||!wf(A,r,u))}function wf(l,r,A){return r.x<=Math.max(l.x,A.x)&&r.x>=Math.min(l.x,A.x)&&r.y<=Math.max(l.y,A.y)&&r.y>=Math.min(l.y,A.y)}function Bf(l){return l>0?1:l<0?-1:0}function Gu(l,r){return za(l.prev,l,l.next)<0?za(l,r,l.next)>=0&&za(l,l.prev,r)>=0:za(l,r,l.prev)<0||za(l,l.next,r)<0}function H4(l,r){const A=kp(l.i,l.x,l.y),u=kp(r.i,r.x,r.y),m=l.next,y=r.prev;return l.next=r,r.prev=l,A.next=m,m.prev=A,u.next=A,A.prev=u,y.next=u,u.prev=y,u}function O4(l,r,A,u){const m=kp(l,r,A);return u?(m.next=u.next,m.prev=u,u.next.prev=m,u.next=m):(m.prev=m,m.next=m),m}function ju(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function kp(l,r,A){return{i:l,x:r,y:A,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Lc{constructor(r,A){if(A>r)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=r,this._minGranularity=A}getGranularityForZoomLevel(r){return Math.max(Math.floor(this._baseZoomGranularity/(1<<r)),this._minGranularity,1)}}class Cf{constructor(r){this.fill=r.fill,this.line=r.line,this.tile=r.tile,this.stencil=r.stencil,this.circle=r.circle}}Cf.noSubdivision=new Cf({fill:new Lc(0,0),line:new Lc(0,0),tile:new Lc(0,0),stencil:new Lc(0,0),circle:1}),zt("SubdivisionGranularityExpression",Lc),zt("SubdivisionGranularitySetting",Cf);const Pc=-32768,Ku=32767;class dw{constructor(r,A){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=r,this._granularityCellSize=gt/r,this._canonical=A}_getKey(r,A){return(r+=32768)<<16|(A+=32768)<<0}_vertexToIndex(r,A){if(r<-32768||A<-32768||r>32767||A>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const u=0|Math.round(r),m=0|Math.round(A),y=this._getKey(u,m);if(this._vertexDictionary.has(y))return this._vertexDictionary.get(y);const v=this._vertexBuffer.length/2;return this._vertexDictionary.set(y,v),this._vertexBuffer.push(u,m),v}_subdivideTrianglesScanline(r){if(this._granularity<2)return function(m,y){const v=[];for(let C=0;C<y.length;C+=3){const F=y[C],S=y[C+1],P=y[C+2],k=m[2*F],X=m[2*F+1];(m[2*S]-k)*(m[2*P+1]-X)-(m[2*S+1]-X)*(m[2*P]-k)>0?(v.push(F),v.push(P),v.push(S)):(v.push(F),v.push(S),v.push(P))}return v}(this._vertexBuffer,r);const A=[],u=r.length;for(let m=0;m<u;m+=3){const y=[r[m+0],r[m+1],r[m+2]],v=[this._vertexBuffer[2*r[m+0]+0],this._vertexBuffer[2*r[m+0]+1],this._vertexBuffer[2*r[m+1]+0],this._vertexBuffer[2*r[m+1]+1],this._vertexBuffer[2*r[m+2]+0],this._vertexBuffer[2*r[m+2]+1]];let C=1/0,F=1/0,S=-1/0,P=-1/0;for(let te=0;te<3;te++){const de=v[2*te],ye=v[2*te+1];C=Math.min(C,de),S=Math.max(S,de),F=Math.min(F,ye),P=Math.max(P,ye)}if(C===S||F===P)continue;const k=Math.floor(C/this._granularityCellSize),X=Math.ceil(S/this._granularityCellSize),j=Math.floor(F/this._granularityCellSize),K=Math.ceil(P/this._granularityCellSize);if(k!==X||j!==K)for(let te=j;te<K;te++){const de=this._scanlineGenerateVertexRingForCellRow(te,v,y);fw(this._vertexBuffer,de,A)}else A.push(...y)}return A}_scanlineGenerateVertexRingForCellRow(r,A,u){const m=r*this._granularityCellSize,y=m+this._granularityCellSize,v=[];for(let C=0;C<3;C++){const F=A[2*C],S=A[2*C+1],P=A[2*(C+1)%6],k=A[(2*(C+1)+1)%6],X=A[2*(C+2)%6],j=A[(2*(C+2)+1)%6],K=P-F,te=k-S,de=K===0,ye=te===0,Ne=(m-S)/te,Be=(y-S)/te,G=Math.min(Ne,Be),ue=Math.max(Ne,Be);if(!ye&&(G>=1||ue<=0)||ye&&(S<m||S>y)){k>=m&&k<=y&&v.push(u[(C+1)%3]);continue}!ye&&G>0&&v.push(this._vertexToIndex(F+K*G,S+te*G));const Ce=F+K*Math.max(G,0),qe=F+K*Math.min(ue,1);de||this._generateIntraEdgeVertices(v,F,S,P,k,Ce,qe),!ye&&ue<1&&v.push(this._vertexToIndex(F+K*ue,S+te*ue)),(ye||k>=m&&k<=y)&&v.push(u[(C+1)%3]),!ye&&(k<=m||k>=y)&&this._generateInterEdgeVertices(v,F,S,P,k,X,j,qe,m,y)}return v}_generateIntraEdgeVertices(r,A,u,m,y,v,C){const F=m-A,S=y-u,P=S===0,k=P?Math.min(A,m):Math.min(v,C),X=P?Math.max(A,m):Math.max(v,C),j=Math.floor(k/this._granularityCellSize)+1,K=Math.ceil(X/this._granularityCellSize)-1;if(P?A<m:v<C)for(let te=j;te<=K;te++){const de=te*this._granularityCellSize;r.push(this._vertexToIndex(de,u+S*(de-A)/F))}else for(let te=K;te>=j;te--){const de=te*this._granularityCellSize;r.push(this._vertexToIndex(de,u+S*(de-A)/F))}}_generateInterEdgeVertices(r,A,u,m,y,v,C,F,S,P){const k=y-u,X=v-m,j=C-y,K=(S-y)/j,te=(P-y)/j,de=Math.min(K,te),ye=Math.max(K,te),Ne=m+X*de;let Be=Math.floor(Math.min(Ne,F)/this._granularityCellSize)+1,G=Math.ceil(Math.max(Ne,F)/this._granularityCellSize)-1,ue=F<Ne;const Ce=j===0;if(Ce&&(C===S||C===P))return;if(Ce||de>=1||ye<=0){const vt=u-C,at=v+(A-v)*Math.min((S-C)/vt,(P-C)/vt);Be=Math.floor(Math.min(at,F)/this._granularityCellSize)+1,G=Math.ceil(Math.max(at,F)/this._granularityCellSize)-1,ue=F<at}const qe=k>0?P:S;if(ue)for(let vt=Be;vt<=G;vt++)r.push(this._vertexToIndex(vt*this._granularityCellSize,qe));else for(let vt=G;vt>=Be;vt--)r.push(this._vertexToIndex(vt*this._granularityCellSize,qe))}_generateOutline(r){const A=[];for(const u of r){const m=MA(u,this._granularity,!0),y=this._pointArrayToIndices(m),v=[];for(let C=1;C<y.length;C++)v.push(y[C-1]),v.push(y[C]);A.push(v)}return A}_handlePoles(r){let A=!1,u=!1;this._canonical&&(this._canonical.y===0&&(A=!0),this._canonical.y===(1<<this._canonical.z)-1&&(u=!0)),(A||u)&&this._fillPoles(r,A,u)}_ensureNoPoleVertices(){const r=this._vertexBuffer;for(let A=0;A<r.length;A+=2){const u=r[A+1];u===Pc&&(r[A+1]=-32767),u===Ku&&(r[A+1]=32766)}}_generatePoleQuad(r,A,u,m,y,v){m>y!=(v===Pc)?(r.push(A),r.push(u),r.push(this._vertexToIndex(m,v)),r.push(u),r.push(this._vertexToIndex(y,v)),r.push(this._vertexToIndex(m,v))):(r.push(u),r.push(A),r.push(this._vertexToIndex(m,v)),r.push(this._vertexToIndex(y,v)),r.push(u),r.push(this._vertexToIndex(m,v)))}_fillPoles(r,A,u){const m=this._vertexBuffer,y=gt,v=r.length;for(let C=2;C<v;C+=3){const F=r[C-2],S=r[C-1],P=r[C],k=m[2*F],X=m[2*F+1],j=m[2*S],K=m[2*S+1],te=m[2*P],de=m[2*P+1];A&&(X===0&&K===0&&this._generatePoleQuad(r,F,S,k,j,Pc),K===0&&de===0&&this._generatePoleQuad(r,S,P,j,te,Pc),de===0&&X===0&&this._generatePoleQuad(r,P,F,te,k,Pc)),u&&(X===y&&K===y&&this._generatePoleQuad(r,F,S,k,j,Ku),K===y&&de===y&&this._generatePoleQuad(r,S,P,j,te,Ku),de===y&&X===y&&this._generatePoleQuad(r,P,F,te,k,Ku))}}_initializeVertices(r){for(let A=0;A<r.length;A+=2)this._vertexToIndex(r[A],r[A+1])}subdividePolygonInternal(r,A){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:u,holeIndices:m}=function(C){const F=[],S=[];for(const P of C)if(P.length!==0){P!==C[0]&&F.push(S.length/2);for(let k=0;k<P.length;k++)S.push(P[k].x),S.push(P[k].y)}return{flattened:S,holeIndices:F}}(r);let y;this._initializeVertices(u);try{const C=function(S,P,k=2){const X=P&&P.length,j=X?P[0]*k:S.length;let K=D4(S,0,j,k,!0);const te=[];if(!K||K.next===K.prev)return te;let de,ye,Ne;if(X&&(K=function(Be,G,ue,Ce){const qe=[];for(let vt=0,at=G.length;vt<at;vt++){const lt=D4(Be,G[vt]*Ce,vt<at-1?G[vt+1]*Ce:Be.length,Ce,!1);lt===lt.next&&(lt.steiner=!0),qe.push(hw(lt))}qe.sort(lw);for(let vt=0;vt<qe.length;vt++)ue=Aw(qe[vt],ue);return ue}(S,P,K,k)),S.length>80*k){de=1/0,ye=1/0;let Be=-1/0,G=-1/0;for(let ue=k;ue<j;ue+=k){const Ce=S[ue],qe=S[ue+1];Ce<de&&(de=Ce),qe<ye&&(ye=qe),Ce>Be&&(Be=Ce),qe>G&&(G=qe)}Ne=Math.max(Be-de,G-ye),Ne=Ne!==0?32767/Ne:0}return Xu(K,te,k,de,ye,Ne,0),te}(u,m),F=this._convertIndices(u,C);y=this._subdivideTrianglesScanline(F)}catch(C){console.error(C)}let v=[];return A&&(v=this._generateOutline(r)),this._ensureNoPoleVertices(),this._handlePoles(y),{verticesFlattened:this._vertexBuffer,indicesTriangles:y,indicesLineList:v}}_convertIndices(r,A){const u=[];for(let m=0;m<A.length;m++)u.push(this._vertexToIndex(r[2*A[m]],r[2*A[m]+1]));return u}_pointArrayToIndices(r){const A=[];for(let u=0;u<r.length;u++){const m=r[u];A.push(this._vertexToIndex(m.x,m.y))}return A}}function X4(l,r,A,u=!0){return new dw(A,r).subdividePolygonInternal(l,u)}function MA(l,r,A=!1){if(!l||l.length<1)return[];if(l.length<2)return[];const u=l[0],m=l[l.length-1],y=A&&(u.x!==m.x||u.y!==m.y);if(r<2)return y?[...l,l[0]]:[...l];const v=Math.floor(gt/r),C=[];C.push(new Y(l[0].x,l[0].y));const F=l.length,S=y?F:F-1;for(let P=0;P<S;P++){const k=l[P],X=P<F-1?l[P+1]:l[0],j=k.x,K=k.y,te=X.x,de=X.y,ye=j!==te,Ne=K!==de;if(!ye&&!Ne)continue;const Be=te-j,G=de-K,ue=Math.abs(Be),Ce=Math.abs(G);let qe=j,vt=K;for(;;){const lt=Be>0?(Math.floor(qe/v)+1)*v:(Math.ceil(qe/v)-1)*v,Mt=G>0?(Math.floor(vt/v)+1)*v:(Math.ceil(vt/v)-1)*v,xt=Math.abs(qe-lt),Et=Math.abs(vt-Mt),ht=Math.abs(qe-te),Vt=Math.abs(vt-de),gi=ye?xt/ue:Number.POSITIVE_INFINITY,hi=Ne?Et/Ce:Number.POSITIVE_INFINITY;if((ht<=xt||!ye)&&(Vt<=Et||!Ne))break;if(gi<hi&&ye||!Ne){qe=lt,vt+=G*gi;const ii=new Y(qe,Math.round(vt));C[C.length-1].x===ii.x&&C[C.length-1].y===ii.y||C.push(ii)}else{qe+=Be*hi,vt=Mt;const ii=new Y(Math.round(qe),vt);C[C.length-1].x===ii.x&&C[C.length-1].y===ii.y||C.push(ii)}}const at=new Y(te,de);C[C.length-1].x===at.x&&C[C.length-1].y===at.y||C.push(at)}return C}function fw(l,r,A){if(r.length===0)throw new Error("Subdivision vertex ring is empty.");let u=0,m=l[2*r[0]];for(let F=1;F<r.length;F++){const S=l[2*r[F]];S<m&&(m=S,u=F)}const y=r.length;let v=u,C=(v+1)%y;for(;;){const F=v-1>=0?v-1:y-1,S=(C+1)%y,P=l[2*r[F]],k=l[2*r[S]],X=l[2*r[v]],j=l[2*r[v]+1],K=l[2*r[C]+1];let te=!1;if(P<k)te=!0;else if(P>k)te=!1;else{const de=K-j,ye=-(l[2*r[C]]-X),Ne=j<K?1:-1;((P-X)*de+(l[2*r[F]+1]-j)*ye)*Ne>((k-X)*de+(l[2*r[S]+1]-j)*ye)*Ne&&(te=!0)}if(te){const de=r[F],ye=r[v],Ne=r[C];de!==ye&&de!==Ne&&ye!==Ne&&A.push(Ne,ye,de),v--,v<0&&(v=y-1)}else{const de=r[S],ye=r[v],Ne=r[C];de!==ye&&de!==Ne&&ye!==Ne&&A.push(Ne,ye,de),C++,C>=y&&(C=0)}if(F===S)break}}function V4(l,r,A,u,m,y,v,C,F){const S=m.length/2,P=v&&C&&F;if(S<bi.MAX_VERTEX_ARRAY_LENGTH){const k=r.prepareSegment(S,A,u),X=k.vertexLength;for(let te=0;te<y.length;te+=3)u.emplaceBack(X+y[te],X+y[te+1],X+y[te+2]);let j,K;k.vertexLength+=S,k.primitiveLength+=y.length/3,P&&(K=v.prepareSegment(S,A,C),j=K.vertexLength,K.vertexLength+=S);for(let te=0;te<m.length;te+=2)l(m[te],m[te+1]);if(P)for(let te=0;te<F.length;te++){const de=F[te];for(let ye=1;ye<de.length;ye+=2)C.emplaceBack(j+de[ye-1],j+de[ye]);K.primitiveLength+=de.length/2}}else(function(k,X,j,K,te,de){const ye=[];for(let Ce=0;Ce<K.length/2;Ce++)ye.push(-1);const Ne={count:0};let Be=0,G=k.getOrCreateLatestSegment(X,j),ue=G.vertexLength;for(let Ce=2;Ce<te.length;Ce+=3){const qe=te[Ce-2],vt=te[Ce-1],at=te[Ce];let lt=ye[qe]<Be,Mt=ye[vt]<Be,xt=ye[at]<Be;G.vertexLength+((lt?1:0)+(Mt?1:0)+(xt?1:0))>bi.MAX_VERTEX_ARRAY_LENGTH&&(G=k.createNewSegment(X,j),Be=Ne.count,lt=!0,Mt=!0,xt=!0,ue=0);const Et=$u(ye,K,de,Ne,qe,lt,G),ht=$u(ye,K,de,Ne,vt,Mt,G),Vt=$u(ye,K,de,Ne,at,xt,G);j.emplaceBack(ue+Et-Be,ue+ht-Be,ue+Vt-Be),G.primitiveLength++}})(r,A,u,m,y,l),P&&function(k,X,j,K,te,de){const ye=[];for(let Ce=0;Ce<K.length/2;Ce++)ye.push(-1);const Ne={count:0};let Be=0,G=k.getOrCreateLatestSegment(X,j),ue=G.vertexLength;for(let Ce=0;Ce<te.length;Ce++){const qe=te[Ce];for(let vt=1;vt<te[Ce].length;vt+=2){const at=qe[vt-1],lt=qe[vt];let Mt=ye[at]<Be,xt=ye[lt]<Be;G.vertexLength+((Mt?1:0)+(xt?1:0))>bi.MAX_VERTEX_ARRAY_LENGTH&&(G=k.createNewSegment(X,j),Be=Ne.count,Mt=!0,xt=!0,ue=0);const Et=$u(ye,K,de,Ne,at,Mt,G),ht=$u(ye,K,de,Ne,lt,xt,G);j.emplaceBack(ue+Et-Be,ue+ht-Be),G.primitiveLength++}}}(v,A,C,m,F,l),r.forceNewSegmentOnNextPrepare(),v==null||v.forceNewSegmentOnNextPrepare()}function $u(l,r,A,u,m,y,v){if(y){const C=u.count;return A(r[2*m],r[2*m+1]),l[m]=u.count,u.count++,v.vertexLength++,C}return l[m]}class Dp{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(A=>A.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Re,this.indexArray=new Ut,this.indexArray2=new bt,this.programConfigurations=new Co(r.layers,r.zoom),this.segments=new bi,this.segments2=new bi,this.stateDependentLayerIds=this.layers.filter(A=>A.isStateDependent()).map(A=>A.id)}populate(r,A,u){this.hasPattern=Lp("fill",this.layers,A);const m=this.layers[0].layout.get("fill-sort-key"),y=!m.isConstant(),v=[];for(const{feature:C,id:F,index:S,sourceLayerIndex:P}of r){const k=this.layers[0]._featureFilter.needGeometry,X=Ks(C,k);if(!this.layers[0]._featureFilter.filter(new ga(this.zoom),X,u))continue;const j=y?m.evaluate(X,{},u,A.availableImages):void 0,K={id:F,properties:C.properties,type:C.type,sourceLayerIndex:P,index:S,geometry:k?X.geometry:rn(C),patterns:{},sortKey:j};v.push(K)}y&&v.sort((C,F)=>C.sortKey-F.sortKey);for(const C of v){const{geometry:F,index:S,sourceLayerIndex:P}=C;if(this.hasPattern){const k=Pp("fill",this.layers,C,this.zoom,A);this.patternFeatures.push(k)}else this.addFeature(C,F,S,u,{},A.subdivisionGranularity);A.featureIndex.insert(r[S].feature,F,S,P,this.index)}}update(r,A,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,A,this.stateDependentLayers,u)}addFeatures(r,A,u){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,A,u,r.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,aw),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.indexBuffer2=r.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(r,A,u,m,y,v){for(const C of oc(A,500)){const F=X4(C,m,v.fill.getGranularityForZoomLevel(m.z)),S=this.layoutVertexArray;V4((P,k)=>{S.emplaceBack(P,k)},this.segments,this.layoutVertexArray,this.indexArray,F.verticesFlattened,F.indicesTriangles,this.segments2,this.indexArray2,F.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,y,m)}}let G4,j4;zt("FillBucket",Dp,{omit:["layers","patternFeatures"]});var gw={get paint(){return j4=j4||new jr({"fill-antialias":new ri(oe.paint_fill["fill-antialias"]),"fill-opacity":new pi(oe.paint_fill["fill-opacity"]),"fill-color":new pi(oe.paint_fill["fill-color"]),"fill-outline-color":new pi(oe.paint_fill["fill-outline-color"]),"fill-translate":new ri(oe.paint_fill["fill-translate"]),"fill-translate-anchor":new ri(oe.paint_fill["fill-translate-anchor"]),"fill-pattern":new _A(oe.paint_fill["fill-pattern"])})},get layout(){return G4=G4||new jr({"fill-sort-key":new pi(oe.layout_fill["fill-sort-key"])})}};class pw extends qn{constructor(r){super(r,gw)}recalculate(r,A){super.recalculate(r,A);const u=this.paint._values["fill-outline-color"];u.value.kind==="constant"&&u.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(r){return new Dp(r)}queryRadius(){return vf(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:r,geometry:A,transform:u,pixelsToTileUnits:m}){return U4(xf(r,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-u.bearingInRadians,m),A)}isTileClipped(){return!0}}const mw=Da([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),_w=Da([{name:"a_centroid",components:2,type:"Int16"}],4),{members:bw}=mw;var zp,K4,Zp,$4,Hp,q4,W4,Mf={};function J4(){if(K4)return zp;K4=1;var l=R();function r(m,y,v,C,F){this.properties={},this.extent=v,this.type=0,this._pbf=m,this._geometry=-1,this._keys=C,this._values=F,m.readFields(A,this,y)}function A(m,y,v){m==1?y.id=v.readVarint():m==2?function(C,F){for(var S=C.readVarint()+C.pos;C.pos<S;){var P=F._keys[C.readVarint()],k=F._values[C.readVarint()];F.properties[P]=k}}(v,y):m==3?y.type=v.readVarint():m==4&&(y._geometry=v.pos)}function u(m){for(var y,v,C=0,F=0,S=m.length,P=S-1;F<S;P=F++)C+=((v=m[P]).x-(y=m[F]).x)*(y.y+v.y);return C}return zp=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var m=this._pbf;m.pos=this._geometry;for(var y,v=m.readVarint()+m.pos,C=1,F=0,S=0,P=0,k=[];m.pos<v;){if(F<=0){var X=m.readVarint();C=7&X,F=X>>3}if(F--,C===1||C===2)S+=m.readSVarint(),P+=m.readSVarint(),C===1&&(y&&k.push(y),y=[]),y.push(new l(S,P));else{if(C!==7)throw new Error("unknown command "+C);y&&y.push(y[0].clone())}}return y&&k.push(y),k},r.prototype.bbox=function(){var m=this._pbf;m.pos=this._geometry;for(var y=m.readVarint()+m.pos,v=1,C=0,F=0,S=0,P=1/0,k=-1/0,X=1/0,j=-1/0;m.pos<y;){if(C<=0){var K=m.readVarint();v=7&K,C=K>>3}if(C--,v===1||v===2)(F+=m.readSVarint())<P&&(P=F),F>k&&(k=F),(S+=m.readSVarint())<X&&(X=S),S>j&&(j=S);else if(v!==7)throw new Error("unknown command "+v)}return[P,X,k,j]},r.prototype.toGeoJSON=function(m,y,v){var C,F,S=this.extent*Math.pow(2,v),P=this.extent*m,k=this.extent*y,X=this.loadGeometry(),j=r.types[this.type];function K(ye){for(var Ne=0;Ne<ye.length;Ne++){var Be=ye[Ne];ye[Ne]=[360*(Be.x+P)/S-180,360/Math.PI*Math.atan(Math.exp((180-360*(Be.y+k)/S)*Math.PI/180))-90]}}switch(this.type){case 1:var te=[];for(C=0;C<X.length;C++)te[C]=X[C][0];K(X=te);break;case 2:for(C=0;C<X.length;C++)K(X[C]);break;case 3:for(X=function(ye){var Ne=ye.length;if(Ne<=1)return[ye];for(var Be,G,ue=[],Ce=0;Ce<Ne;Ce++){var qe=u(ye[Ce]);qe!==0&&(G===void 0&&(G=qe<0),G===qe<0?(Be&&ue.push(Be),Be=[ye[Ce]]):Be.push(ye[Ce]))}return Be&&ue.push(Be),ue}(X),C=0;C<X.length;C++)for(F=0;F<X[C].length;F++)K(X[C][F])}X.length===1?X=X[0]:j="Multi"+j;var de={type:"Feature",geometry:{type:j,coordinates:X},properties:this.properties};return"id"in this&&(de.id=this.id),de},zp}function e_(){if($4)return Zp;$4=1;var l=J4();function r(u,m){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(A,this,m),this.length=this._features.length}function A(u,m,y){u===15?m.version=y.readVarint():u===1?m.name=y.readString():u===5?m.extent=y.readVarint():u===2?m._features.push(y.pos):u===3?m._keys.push(y.readString()):u===4&&m._values.push(function(v){for(var C=null,F=v.readVarint()+v.pos;v.pos<F;){var S=v.readVarint()>>3;C=S===1?v.readString():S===2?v.readFloat():S===3?v.readDouble():S===4?v.readVarint64():S===5?v.readVarint():S===6?v.readSVarint():S===7?v.readBoolean():null}return C}(y))}return Zp=r,r.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var m=this._pbf.readVarint()+this._pbf.pos;return new l(this._pbf,m,this.extent,this._keys,this._values)},Zp}function t_(){return W4||(W4=1,Mf.VectorTile=function(){if(q4)return Hp;q4=1;var l=e_();function r(A,u,m){if(A===3){var y=new l(m,m.readVarint()+m.pos);y.length&&(u[y.name]=y)}}return Hp=function(A,u){this.layers=A.readFields(r,{},u)},Hp}(),Mf.VectorTileFeature=J4(),Mf.VectorTileLayer=e_()),Mf}var qu=x(t_());const yw=qu.VectorTileFeature.types,Op=Math.pow(2,13);function Wu(l,r,A,u,m,y,v,C){l.emplaceBack(r,A,2*Math.floor(u*Op)+v,m*Op*2,y*Op*2,Math.round(C))}class Xp{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(A=>A.id),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new Fe,this.centroidVertexArray=new we,this.indexArray=new Ut,this.programConfigurations=new Co(r.layers,r.zoom),this.segments=new bi,this.stateDependentLayerIds=this.layers.filter(A=>A.isStateDependent()).map(A=>A.id)}populate(r,A,u){this.features=[],this.hasPattern=Lp("fill-extrusion",this.layers,A);for(const{feature:m,id:y,index:v,sourceLayerIndex:C}of r){const F=this.layers[0]._featureFilter.needGeometry,S=Ks(m,F);if(!this.layers[0]._featureFilter.filter(new ga(this.zoom),S,u))continue;const P={id:y,sourceLayerIndex:C,index:v,geometry:F?S.geometry:rn(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push(Pp("fill-extrusion",this.layers,P,this.zoom,A)):this.addFeature(P,P.geometry,v,u,{},A.subdivisionGranularity),A.featureIndex.insert(m,P.geometry,v,C,this.index,!0)}}addFeatures(r,A,u){for(const m of this.features){const{geometry:y}=m;this.addFeature(m,y,m.index,A,u,r.subdivisionGranularity)}}update(r,A,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,A,this.stateDependentLayers,u)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,bw),this.centroidVertexBuffer=r.createVertexBuffer(this.centroidVertexArray,_w.members,!0),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(r,A,u,m,y,v){for(const C of oc(A,500)){const F={x:0,y:0,sampleCount:0},S=this.layoutVertexArray.length;this.processPolygon(F,m,r,C,v);const P=this.layoutVertexArray.length-S,k=Math.floor(F.x/F.sampleCount),X=Math.floor(F.y/F.sampleCount);for(let j=0;j<P;j++)this.centroidVertexArray.emplaceBack(k,X)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,y,m)}processPolygon(r,A,u,m,y){if(m.length<1||i_(m[0]))return;for(const k of m)k.length!==0&&vw(r,k);const v={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},C=y.fill.getGranularityForZoomLevel(A.z),F=yw[u.type]==="Polygon";for(const k of m){if(k.length===0||i_(k))continue;const X=MA(k,C,F);this._generateSideFaces(X,v)}if(!F)return;const S=X4(m,A,C,!1),P=this.layoutVertexArray;V4((k,X)=>{Wu(P,k,X,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,S.verticesFlattened,S.indicesTriangles)}_generateSideFaces(r,A){let u=0;for(let m=1;m<r.length;m++){const y=r[m],v=r[m-1];if(xw(y,v))continue;A.segment.vertexLength+4>bi.MAX_VERTEX_ARRAY_LENGTH&&(A.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const C=y.sub(v)._perp()._unit(),F=v.dist(y);u+F>32768&&(u=0),Wu(this.layoutVertexArray,y.x,y.y,C.x,C.y,0,0,u),Wu(this.layoutVertexArray,y.x,y.y,C.x,C.y,0,1,u),u+=F,Wu(this.layoutVertexArray,v.x,v.y,C.x,C.y,0,0,u),Wu(this.layoutVertexArray,v.x,v.y,C.x,C.y,0,1,u);const S=A.segment.vertexLength;this.indexArray.emplaceBack(S,S+2,S+1),this.indexArray.emplaceBack(S+1,S+2,S+3),A.segment.vertexLength+=4,A.segment.primitiveLength+=2}}}function vw(l,r){for(let A=0;A<r.length;A++){const u=r[A];A===r.length-1&&r[0].x===u.x&&r[0].y===u.y||(l.x+=u.x,l.y+=u.y,l.sampleCount++)}}function xw(l,r){return l.x===r.x&&(l.x<0||l.x>gt)||l.y===r.y&&(l.y<0||l.y>gt)}function i_(l){return l.every(r=>r.x<0)||l.every(r=>r.x>gt)||l.every(r=>r.y<0)||l.every(r=>r.y>gt)}let a_;zt("FillExtrusionBucket",Xp,{omit:["layers","features"]});var ww={get paint(){return a_=a_||new jr({"fill-extrusion-opacity":new ri(oe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new pi(oe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ri(oe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ri(oe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new _A(oe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new pi(oe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new pi(oe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ri(oe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Bw extends qn{constructor(r){super(r,ww)}createBucket(r){return new Xp(r)}queryRadius(){return vf(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:r,feature:A,featureState:u,geometry:m,transform:y,pixelsToTileUnits:v,pixelPosMatrix:C}){const F=xf(r,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-y.bearingInRadians,v),S=this.paint.get("fill-extrusion-height").evaluate(A,u),P=this.paint.get("fill-extrusion-base").evaluate(A,u),k=function(j,K,te){const de=[];for(const ye of j){const Ne=[ye.x,ye.y,0,1];He(Ne,Ne,K),de.push(new Y(Ne[0]/Ne[3],Ne[1]/Ne[3]))}return de}(F,C),X=function(j,K,te,de){const ye=[],Ne=[],Be=de[8]*K,G=de[9]*K,ue=de[10]*K,Ce=de[11]*K,qe=de[8]*te,vt=de[9]*te,at=de[10]*te,lt=de[11]*te;for(const Mt of j){const xt=[],Et=[];for(const ht of Mt){const Vt=ht.x,gi=ht.y,hi=de[0]*Vt+de[4]*gi+de[12],ii=de[1]*Vt+de[5]*gi+de[13],Pi=de[2]*Vt+de[6]*gi+de[14],Na=de[3]*Vt+de[7]*gi+de[15],Ja=Pi+ue,Tr=Na+Ce,Tn=hi+qe,sn=ii+vt,yr=Pi+at,Ra=Na+lt,sr=new Y((hi+Be)/Tr,(ii+G)/Tr);sr.z=Ja/Tr,xt.push(sr);const vr=new Y(Tn/Ra,sn/Ra);vr.z=yr/Ra,Et.push(vr)}ye.push(xt),Ne.push(Et)}return[ye,Ne]}(m,P,S,C);return function(j,K,te){let de=1/0;U4(te,K)&&(de=r_(te,K[0]));for(let ye=0;ye<K.length;ye++){const Ne=K[ye],Be=j[ye];for(let G=0;G<Ne.length-1;G++){const ue=Ne[G],Ce=[ue,Ne[G+1],Be[G+1],Be[G],ue];zu(te,Ce)&&(de=Math.min(de,r_(te,Ce)))}}return de!==1/0&&de}(X[0],X[1],k)}}function Ju(l,r){return l.x*r.x+l.y*r.y}function r_(l,r){if(l.length===1){let A=0;const u=r[A++];let m;for(;!m||u.equals(m);)if(m=r[A++],!m)return 1/0;for(;A<r.length;A++){const y=r[A],v=l[0],C=m.sub(u),F=y.sub(u),S=v.sub(u),P=Ju(C,C),k=Ju(C,F),X=Ju(F,F),j=Ju(S,C),K=Ju(S,F),te=P*X-k*k,de=(X*j-k*K)/te,ye=(P*K-k*j)/te,Ne=u.z*(1-de-ye)+m.z*de+y.z*ye;if(isFinite(Ne))return Ne}return 1/0}{let A=1/0;for(const u of r)A=Math.min(A,u.z);return A}}const Cw=Da([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Mw}=Cw,Rw=Da([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Iw}=Rw,Uw=qu.VectorTileFeature.types,Ew=Math.cos(Math.PI/180*37.5),n_=Math.pow(2,14)/.5;class Vp{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(A=>A.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(A=>{this.gradients[A.id]={}}),this.layoutVertexArray=new Pe,this.layoutVertexArray2=new Ye,this.indexArray=new Ut,this.programConfigurations=new Co(r.layers,r.zoom),this.segments=new bi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(A=>A.isStateDependent()).map(A=>A.id)}populate(r,A,u){this.hasPattern=Lp("line",this.layers,A);const m=this.layers[0].layout.get("line-sort-key"),y=!m.isConstant(),v=[];for(const{feature:C,id:F,index:S,sourceLayerIndex:P}of r){const k=this.layers[0]._featureFilter.needGeometry,X=Ks(C,k);if(!this.layers[0]._featureFilter.filter(new ga(this.zoom),X,u))continue;const j=y?m.evaluate(X,{},u):void 0,K={id:F,properties:C.properties,type:C.type,sourceLayerIndex:P,index:S,geometry:k?X.geometry:rn(C),patterns:{},sortKey:j};v.push(K)}y&&v.sort((C,F)=>C.sortKey-F.sortKey);for(const C of v){const{geometry:F,index:S,sourceLayerIndex:P}=C;if(this.hasPattern){const k=Pp("line",this.layers,C,this.zoom,A);this.patternFeatures.push(k)}else this.addFeature(C,F,S,u,{},A.subdivisionGranularity);A.featureIndex.insert(r[S].feature,F,S,P,this.index)}}update(r,A,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,A,this.stateDependentLayers,u)}addFeatures(r,A,u){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,A,u,r.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=r.createVertexBuffer(this.layoutVertexArray2,Iw)),this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Mw),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(r){if(r.properties&&Object.prototype.hasOwnProperty.call(r.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(r.properties,"mapbox_clip_end"))return{start:+r.properties.mapbox_clip_start,end:+r.properties.mapbox_clip_end}}addFeature(r,A,u,m,y,v){const C=this.layers[0].layout,F=C.get("line-join").evaluate(r,{}),S=C.get("line-cap"),P=C.get("line-miter-limit"),k=C.get("line-round-limit");this.lineClips=this.lineFeatureClips(r);for(const X of A)this.addLine(X,r,F,S,P,k,m,v);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,y,m)}addLine(r,A,u,m,y,v,C,F){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,r=MA(r,C?F.line.getGranularityForZoomLevel(C.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Be=0;Be<r.length-1;Be++)this.totalDistance+=r[Be].dist(r[Be+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const S=Uw[A.type]==="Polygon";let P=r.length;for(;P>=2&&r[P-1].equals(r[P-2]);)P--;let k=0;for(;k<P-1&&r[k].equals(r[k+1]);)k++;if(P<(S?3:2))return;u==="bevel"&&(y=1.05);const X=this.overscaling<=16?15*gt/(512*this.overscaling):0,j=this.segments.prepareSegment(10*P,this.layoutVertexArray,this.indexArray);let K,te,de,ye,Ne;this.e1=this.e2=-1,S&&(K=r[P-2],Ne=r[k].sub(K)._unit()._perp());for(let Be=k;Be<P;Be++){if(de=Be===P-1?S?r[k+1]:void 0:r[Be+1],de&&r[Be].equals(de))continue;Ne&&(ye=Ne),K&&(te=K),K=r[Be],Ne=de?de.sub(K)._unit()._perp():ye,ye=ye||Ne;let G=ye.add(Ne);G.x===0&&G.y===0||G._unit();const ue=ye.x*Ne.x+ye.y*Ne.y,Ce=G.x*Ne.x+G.y*Ne.y,qe=Ce!==0?1/Ce:1/0,vt=2*Math.sqrt(2-2*Ce),at=Ce<Ew&&te&&de,lt=ye.x*Ne.y-ye.y*Ne.x>0;if(at&&Be>k){const Et=K.dist(te);if(Et>2*X){const ht=K.sub(K.sub(te)._mult(X/Et)._round());this.updateDistance(te,ht),this.addCurrentVertex(ht,ye,0,0,j),te=ht}}const Mt=te&&de;let xt=Mt?u:S?"butt":m;if(Mt&&xt==="round"&&(qe<v?xt="miter":qe<=2&&(xt="fakeround")),xt==="miter"&&qe>y&&(xt="bevel"),xt==="bevel"&&(qe>2&&(xt="flipbevel"),qe<y&&(xt="miter")),te&&this.updateDistance(te,K),xt==="miter")G._mult(qe),this.addCurrentVertex(K,G,0,0,j);else if(xt==="flipbevel"){if(qe>100)G=Ne.mult(-1);else{const Et=qe*ye.add(Ne).mag()/ye.sub(Ne).mag();G._perp()._mult(Et*(lt?-1:1))}this.addCurrentVertex(K,G,0,0,j),this.addCurrentVertex(K,G.mult(-1),0,0,j)}else if(xt==="bevel"||xt==="fakeround"){const Et=-Math.sqrt(qe*qe-1),ht=lt?Et:0,Vt=lt?0:Et;if(te&&this.addCurrentVertex(K,ye,ht,Vt,j),xt==="fakeround"){const gi=Math.round(180*vt/Math.PI/20);for(let hi=1;hi<gi;hi++){let ii=hi/gi;if(ii!==.5){const Na=ii-.5;ii+=ii*Na*(ii-1)*((1.0904+ue*(ue*(3.55645-1.43519*ue)-3.2452))*Na*Na+(.848013+ue*(.215638*ue-1.06021)))}const Pi=Ne.sub(ye)._mult(ii)._add(ye)._unit()._mult(lt?-1:1);this.addHalfVertex(K,Pi.x,Pi.y,!1,lt,0,j)}}de&&this.addCurrentVertex(K,Ne,-ht,-Vt,j)}else if(xt==="butt")this.addCurrentVertex(K,G,0,0,j);else if(xt==="square"){const Et=te?1:-1;this.addCurrentVertex(K,G,Et,Et,j)}else xt==="round"&&(te&&(this.addCurrentVertex(K,ye,0,0,j),this.addCurrentVertex(K,ye,1,1,j,!0)),de&&(this.addCurrentVertex(K,Ne,-1,-1,j,!0),this.addCurrentVertex(K,Ne,0,0,j)));if(at&&Be<P-1){const Et=K.dist(de);if(Et>2*X){const ht=K.add(de.sub(K)._mult(X/Et)._round());this.updateDistance(K,ht),this.addCurrentVertex(ht,Ne,0,0,j),K=ht}}}}addCurrentVertex(r,A,u,m,y,v=!1){const C=A.y*m-A.x,F=-A.y-A.x*m;this.addHalfVertex(r,A.x+A.y*u,A.y-A.x*u,v,!1,u,y),this.addHalfVertex(r,C,F,v,!0,-m,y),this.distance>n_/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(r,A,u,m,y,v))}addHalfVertex({x:r,y:A},u,m,y,v,C,F){const S=.5*(this.lineClips?this.scaledDistance*(n_-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((r<<1)+(y?1:0),(A<<1)+(v?1:0),Math.round(63*u)+128,Math.round(63*m)+128,1+(C===0?0:C<0?-1:1)|(63&S)<<2,S>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const P=F.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,P,this.e2),F.primitiveLength++),v?this.e2=P:this.e1=P}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(r,A){this.distance+=r.dist(A),this.updateScaledDistance()}}let s_,o_;zt("LineBucket",Vp,{omit:["layers","patternFeatures"]});var l_={get paint(){return o_=o_||new jr({"line-opacity":new pi(oe.paint_line["line-opacity"]),"line-color":new pi(oe.paint_line["line-color"]),"line-translate":new ri(oe.paint_line["line-translate"]),"line-translate-anchor":new ri(oe.paint_line["line-translate-anchor"]),"line-width":new pi(oe.paint_line["line-width"]),"line-gap-width":new pi(oe.paint_line["line-gap-width"]),"line-offset":new pi(oe.paint_line["line-offset"]),"line-blur":new pi(oe.paint_line["line-blur"]),"line-dasharray":new Tu(oe.paint_line["line-dasharray"]),"line-pattern":new _A(oe.paint_line["line-pattern"]),"line-gradient":new Su(oe.paint_line["line-gradient"])})},get layout(){return s_=s_||new jr({"line-cap":new ri(oe.layout_line["line-cap"]),"line-join":new pi(oe.layout_line["line-join"]),"line-miter-limit":new ri(oe.layout_line["line-miter-limit"]),"line-round-limit":new ri(oe.layout_line["line-round-limit"]),"line-sort-key":new pi(oe.layout_line["line-sort-key"])})}};class Fw extends pi{possiblyEvaluate(r,A){return A=new ga(Math.floor(A.zoom),{now:A.now,fadeDuration:A.fadeDuration,zoomHistory:A.zoomHistory,transition:A.transition}),super.possiblyEvaluate(r,A)}evaluate(r,A,u,m){return A=Bt({},A,{zoom:Math.floor(A.zoom)}),super.evaluate(r,A,u,m)}}let Rf;class Tw extends qn{constructor(r){super(r,l_),this.gradientVersion=0,Rf||(Rf=new Fw(l_.paint.properties["line-width"].specification),Rf.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(r){if(r==="line-gradient"){const A=this.gradientExpression();this.stepInterpolant=!!function(u){return u._styleExpression!==void 0}(A)&&A._styleExpression.expression instanceof tA,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(r,A){super.recalculate(r,A),this.paint._values["line-floorwidth"]=Rf.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)}createBucket(r){return new Vp(r)}queryRadius(r){const A=r,u=A_(Hu("line-width",this,A),Hu("line-gap-width",this,A)),m=Hu("line-offset",this,A);return u/2+Math.abs(m)+vf(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:r,feature:A,featureState:u,geometry:m,transform:y,pixelsToTileUnits:v}){const C=xf(r,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-y.bearingInRadians,v),F=v/2*A_(this.paint.get("line-width").evaluate(A,u),this.paint.get("line-gap-width").evaluate(A,u)),S=this.paint.get("line-offset").evaluate(A,u);return S&&(m=function(P,k){const X=[];for(let j=0;j<P.length;j++){const K=P[j],te=[];for(let de=0;de<K.length;de++){const ye=K[de-1],Ne=K[de],Be=K[de+1],G=de===0?new Y(0,0):Ne.sub(ye)._unit()._perp(),ue=de===K.length-1?new Y(0,0):Be.sub(Ne)._unit()._perp(),Ce=G._add(ue)._unit(),qe=Ce.x*ue.x+Ce.y*ue.y;qe!==0&&Ce._mult(1/qe),te.push(Ce._mult(k)._add(Ne))}X.push(te)}return X}(m,S*v)),function(P,k,X){for(let j=0;j<k.length;j++){const K=k[j];if(P.length>=3){for(let te=0;te<K.length;te++)if(BA(P,K[te]))return!0}if(Gx(P,K,X))return!0}return!1}(C,m,F)}isTileClipped(){return!0}}function A_(l,r){return r>0?r+2*l:l}const Sw=Da([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Yw=Da([{name:"a_projected_pos",components:3,type:"Float32"}],4);Da([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Nw=Da([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Da([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const c_=Da([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Lw=Da([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Pw(l,r,A){return l.sections.forEach(u=>{u.text=function(m,y,v){const C=y.layout.get("text-transform").evaluate(v,{});return C==="uppercase"?m=m.toLocaleUpperCase():C==="lowercase"&&(m=m.toLocaleLowerCase()),Vs.applyArabicShaping&&(m=Vs.applyArabicShaping(m)),m}(u.text,r,A)}),l}Da([{name:"triangle",components:3,type:"Uint16"}]),Da([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Da([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Da([{type:"Float32",name:"offsetX"}]),Da([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Da([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const ed={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var h_,Gp,u_,Wa=24,jp={};function Qw(){return h_||(h_=1,jp.read=function(l,r,A,u,m){var y,v,C=8*m-u-1,F=(1<<C)-1,S=F>>1,P=-7,k=A?m-1:0,X=A?-1:1,j=l[r+k];for(k+=X,y=j&(1<<-P)-1,j>>=-P,P+=C;P>0;y=256*y+l[r+k],k+=X,P-=8);for(v=y&(1<<-P)-1,y>>=-P,P+=u;P>0;v=256*v+l[r+k],k+=X,P-=8);if(y===0)y=1-S;else{if(y===F)return v?NaN:1/0*(j?-1:1);v+=Math.pow(2,u),y-=S}return(j?-1:1)*v*Math.pow(2,y-u)},jp.write=function(l,r,A,u,m,y){var v,C,F,S=8*y-m-1,P=(1<<S)-1,k=P>>1,X=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,j=u?0:y-1,K=u?1:-1,te=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(C=isNaN(r)?1:0,v=P):(v=Math.floor(Math.log(r)/Math.LN2),r*(F=Math.pow(2,-v))<1&&(v--,F*=2),(r+=v+k>=1?X/F:X*Math.pow(2,1-k))*F>=2&&(v++,F/=2),v+k>=P?(C=0,v=P):v+k>=1?(C=(r*F-1)*Math.pow(2,m),v+=k):(C=r*Math.pow(2,k-1)*Math.pow(2,m),v=0));m>=8;l[A+j]=255&C,j+=K,C/=256,m-=8);for(v=v<<m|C,S+=m;S>0;l[A+j]=255&v,j+=K,v/=256,S-=8);l[A+j-K]|=128*te}),jp}function d_(){if(u_)return Gp;u_=1,Gp=r;var l=Qw();function r(G){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(G)?G:new Uint8Array(G||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var A=4294967296,u=1/A,m=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function y(G){return G.type===r.Bytes?G.readVarint()+G.pos:G.pos+1}function v(G,ue,Ce){return Ce?4294967296*ue+(G>>>0):4294967296*(ue>>>0)+(G>>>0)}function C(G,ue,Ce){var qe=ue<=16383?1:ue<=2097151?2:ue<=268435455?3:Math.floor(Math.log(ue)/(7*Math.LN2));Ce.realloc(qe);for(var vt=Ce.pos-1;vt>=G;vt--)Ce.buf[vt+qe]=Ce.buf[vt]}function F(G,ue){for(var Ce=0;Ce<G.length;Ce++)ue.writeVarint(G[Ce])}function S(G,ue){for(var Ce=0;Ce<G.length;Ce++)ue.writeSVarint(G[Ce])}function P(G,ue){for(var Ce=0;Ce<G.length;Ce++)ue.writeFloat(G[Ce])}function k(G,ue){for(var Ce=0;Ce<G.length;Ce++)ue.writeDouble(G[Ce])}function X(G,ue){for(var Ce=0;Ce<G.length;Ce++)ue.writeBoolean(G[Ce])}function j(G,ue){for(var Ce=0;Ce<G.length;Ce++)ue.writeFixed32(G[Ce])}function K(G,ue){for(var Ce=0;Ce<G.length;Ce++)ue.writeSFixed32(G[Ce])}function te(G,ue){for(var Ce=0;Ce<G.length;Ce++)ue.writeFixed64(G[Ce])}function de(G,ue){for(var Ce=0;Ce<G.length;Ce++)ue.writeSFixed64(G[Ce])}function ye(G,ue){return(G[ue]|G[ue+1]<<8|G[ue+2]<<16)+16777216*G[ue+3]}function Ne(G,ue,Ce){G[Ce]=ue,G[Ce+1]=ue>>>8,G[Ce+2]=ue>>>16,G[Ce+3]=ue>>>24}function Be(G,ue){return(G[ue]|G[ue+1]<<8|G[ue+2]<<16)+(G[ue+3]<<24)}return r.prototype={destroy:function(){this.buf=null},readFields:function(G,ue,Ce){for(Ce=Ce||this.length;this.pos<Ce;){var qe=this.readVarint(),vt=qe>>3,at=this.pos;this.type=7&qe,G(vt,ue,this),this.pos===at&&this.skip(qe)}return ue},readMessage:function(G,ue){return this.readFields(G,ue,this.readVarint()+this.pos)},readFixed32:function(){var G=ye(this.buf,this.pos);return this.pos+=4,G},readSFixed32:function(){var G=Be(this.buf,this.pos);return this.pos+=4,G},readFixed64:function(){var G=ye(this.buf,this.pos)+ye(this.buf,this.pos+4)*A;return this.pos+=8,G},readSFixed64:function(){var G=ye(this.buf,this.pos)+Be(this.buf,this.pos+4)*A;return this.pos+=8,G},readFloat:function(){var G=l.read(this.buf,this.pos,!0,23,4);return this.pos+=4,G},readDouble:function(){var G=l.read(this.buf,this.pos,!0,52,8);return this.pos+=8,G},readVarint:function(G){var ue,Ce,qe=this.buf;return ue=127&(Ce=qe[this.pos++]),Ce<128?ue:(ue|=(127&(Ce=qe[this.pos++]))<<7,Ce<128?ue:(ue|=(127&(Ce=qe[this.pos++]))<<14,Ce<128?ue:(ue|=(127&(Ce=qe[this.pos++]))<<21,Ce<128?ue:function(vt,at,lt){var Mt,xt,Et=lt.buf;if(Mt=(112&(xt=Et[lt.pos++]))>>4,xt<128||(Mt|=(127&(xt=Et[lt.pos++]))<<3,xt<128)||(Mt|=(127&(xt=Et[lt.pos++]))<<10,xt<128)||(Mt|=(127&(xt=Et[lt.pos++]))<<17,xt<128)||(Mt|=(127&(xt=Et[lt.pos++]))<<24,xt<128)||(Mt|=(1&(xt=Et[lt.pos++]))<<31,xt<128))return v(vt,Mt,at);throw new Error("Expected varint not more than 10 bytes")}(ue|=(15&(Ce=qe[this.pos]))<<28,G,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var G=this.readVarint();return G%2==1?(G+1)/-2:G/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var G=this.readVarint()+this.pos,ue=this.pos;return this.pos=G,G-ue>=12&&m?function(Ce,qe,vt){return m.decode(Ce.subarray(qe,vt))}(this.buf,ue,G):function(Ce,qe,vt){for(var at="",lt=qe;lt<vt;){var Mt,xt,Et,ht=Ce[lt],Vt=null,gi=ht>239?4:ht>223?3:ht>191?2:1;if(lt+gi>vt)break;gi===1?ht<128&&(Vt=ht):gi===2?(192&(Mt=Ce[lt+1]))==128&&(Vt=(31&ht)<<6|63&Mt)<=127&&(Vt=null):gi===3?(xt=Ce[lt+2],(192&(Mt=Ce[lt+1]))==128&&(192&xt)==128&&((Vt=(15&ht)<<12|(63&Mt)<<6|63&xt)<=2047||Vt>=55296&&Vt<=57343)&&(Vt=null)):gi===4&&(xt=Ce[lt+2],Et=Ce[lt+3],(192&(Mt=Ce[lt+1]))==128&&(192&xt)==128&&(192&Et)==128&&((Vt=(15&ht)<<18|(63&Mt)<<12|(63&xt)<<6|63&Et)<=65535||Vt>=1114112)&&(Vt=null)),Vt===null?(Vt=65533,gi=1):Vt>65535&&(Vt-=65536,at+=String.fromCharCode(Vt>>>10&1023|55296),Vt=56320|1023&Vt),at+=String.fromCharCode(Vt),lt+=gi}return at}(this.buf,ue,G)},readBytes:function(){var G=this.readVarint()+this.pos,ue=this.buf.subarray(this.pos,G);return this.pos=G,ue},readPackedVarint:function(G,ue){if(this.type!==r.Bytes)return G.push(this.readVarint(ue));var Ce=y(this);for(G=G||[];this.pos<Ce;)G.push(this.readVarint(ue));return G},readPackedSVarint:function(G){if(this.type!==r.Bytes)return G.push(this.readSVarint());var ue=y(this);for(G=G||[];this.pos<ue;)G.push(this.readSVarint());return G},readPackedBoolean:function(G){if(this.type!==r.Bytes)return G.push(this.readBoolean());var ue=y(this);for(G=G||[];this.pos<ue;)G.push(this.readBoolean());return G},readPackedFloat:function(G){if(this.type!==r.Bytes)return G.push(this.readFloat());var ue=y(this);for(G=G||[];this.pos<ue;)G.push(this.readFloat());return G},readPackedDouble:function(G){if(this.type!==r.Bytes)return G.push(this.readDouble());var ue=y(this);for(G=G||[];this.pos<ue;)G.push(this.readDouble());return G},readPackedFixed32:function(G){if(this.type!==r.Bytes)return G.push(this.readFixed32());var ue=y(this);for(G=G||[];this.pos<ue;)G.push(this.readFixed32());return G},readPackedSFixed32:function(G){if(this.type!==r.Bytes)return G.push(this.readSFixed32());var ue=y(this);for(G=G||[];this.pos<ue;)G.push(this.readSFixed32());return G},readPackedFixed64:function(G){if(this.type!==r.Bytes)return G.push(this.readFixed64());var ue=y(this);for(G=G||[];this.pos<ue;)G.push(this.readFixed64());return G},readPackedSFixed64:function(G){if(this.type!==r.Bytes)return G.push(this.readSFixed64());var ue=y(this);for(G=G||[];this.pos<ue;)G.push(this.readSFixed64());return G},skip:function(G){var ue=7&G;if(ue===r.Varint)for(;this.buf[this.pos++]>127;);else if(ue===r.Bytes)this.pos=this.readVarint()+this.pos;else if(ue===r.Fixed32)this.pos+=4;else{if(ue!==r.Fixed64)throw new Error("Unimplemented type: "+ue);this.pos+=8}},writeTag:function(G,ue){this.writeVarint(G<<3|ue)},realloc:function(G){for(var ue=this.length||16;ue<this.pos+G;)ue*=2;if(ue!==this.length){var Ce=new Uint8Array(ue);Ce.set(this.buf),this.buf=Ce,this.length=ue}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(G){this.realloc(4),Ne(this.buf,G,this.pos),this.pos+=4},writeSFixed32:function(G){this.realloc(4),Ne(this.buf,G,this.pos),this.pos+=4},writeFixed64:function(G){this.realloc(8),Ne(this.buf,-1&G,this.pos),Ne(this.buf,Math.floor(G*u),this.pos+4),this.pos+=8},writeSFixed64:function(G){this.realloc(8),Ne(this.buf,-1&G,this.pos),Ne(this.buf,Math.floor(G*u),this.pos+4),this.pos+=8},writeVarint:function(G){(G=+G||0)>268435455||G<0?function(ue,Ce){var qe,vt;if(ue>=0?(qe=ue%4294967296|0,vt=ue/4294967296|0):(vt=~(-ue/4294967296),4294967295^(qe=~(-ue%4294967296))?qe=qe+1|0:(qe=0,vt=vt+1|0)),ue>=18446744073709552e3||ue<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Ce.realloc(10),function(at,lt,Mt){Mt.buf[Mt.pos++]=127&at|128,at>>>=7,Mt.buf[Mt.pos++]=127&at|128,at>>>=7,Mt.buf[Mt.pos++]=127&at|128,at>>>=7,Mt.buf[Mt.pos++]=127&at|128,Mt.buf[Mt.pos]=127&(at>>>=7)}(qe,0,Ce),function(at,lt){var Mt=(7&at)<<4;lt.buf[lt.pos++]|=Mt|((at>>>=3)?128:0),at&&(lt.buf[lt.pos++]=127&at|((at>>>=7)?128:0),at&&(lt.buf[lt.pos++]=127&at|((at>>>=7)?128:0),at&&(lt.buf[lt.pos++]=127&at|((at>>>=7)?128:0),at&&(lt.buf[lt.pos++]=127&at|((at>>>=7)?128:0),at&&(lt.buf[lt.pos++]=127&at)))))}(vt,Ce)}(G,this):(this.realloc(4),this.buf[this.pos++]=127&G|(G>127?128:0),G<=127||(this.buf[this.pos++]=127&(G>>>=7)|(G>127?128:0),G<=127||(this.buf[this.pos++]=127&(G>>>=7)|(G>127?128:0),G<=127||(this.buf[this.pos++]=G>>>7&127))))},writeSVarint:function(G){this.writeVarint(G<0?2*-G-1:2*G)},writeBoolean:function(G){this.writeVarint(!!G)},writeString:function(G){G=String(G),this.realloc(4*G.length),this.pos++;var ue=this.pos;this.pos=function(qe,vt,at){for(var lt,Mt,xt=0;xt<vt.length;xt++){if((lt=vt.charCodeAt(xt))>55295&&lt<57344){if(!Mt){lt>56319||xt+1===vt.length?(qe[at++]=239,qe[at++]=191,qe[at++]=189):Mt=lt;continue}if(lt<56320){qe[at++]=239,qe[at++]=191,qe[at++]=189,Mt=lt;continue}lt=Mt-55296<<10|lt-56320|65536,Mt=null}else Mt&&(qe[at++]=239,qe[at++]=191,qe[at++]=189,Mt=null);lt<128?qe[at++]=lt:(lt<2048?qe[at++]=lt>>6|192:(lt<65536?qe[at++]=lt>>12|224:(qe[at++]=lt>>18|240,qe[at++]=lt>>12&63|128),qe[at++]=lt>>6&63|128),qe[at++]=63&lt|128)}return at}(this.buf,G,this.pos);var Ce=this.pos-ue;Ce>=128&&C(ue,Ce,this),this.pos=ue-1,this.writeVarint(Ce),this.pos+=Ce},writeFloat:function(G){this.realloc(4),l.write(this.buf,G,this.pos,!0,23,4),this.pos+=4},writeDouble:function(G){this.realloc(8),l.write(this.buf,G,this.pos,!0,52,8),this.pos+=8},writeBytes:function(G){var ue=G.length;this.writeVarint(ue),this.realloc(ue);for(var Ce=0;Ce<ue;Ce++)this.buf[this.pos++]=G[Ce]},writeRawMessage:function(G,ue){this.pos++;var Ce=this.pos;G(ue,this);var qe=this.pos-Ce;qe>=128&&C(Ce,qe,this),this.pos=Ce-1,this.writeVarint(qe),this.pos+=qe},writeMessage:function(G,ue,Ce){this.writeTag(G,r.Bytes),this.writeRawMessage(ue,Ce)},writePackedVarint:function(G,ue){ue.length&&this.writeMessage(G,F,ue)},writePackedSVarint:function(G,ue){ue.length&&this.writeMessage(G,S,ue)},writePackedBoolean:function(G,ue){ue.length&&this.writeMessage(G,X,ue)},writePackedFloat:function(G,ue){ue.length&&this.writeMessage(G,P,ue)},writePackedDouble:function(G,ue){ue.length&&this.writeMessage(G,k,ue)},writePackedFixed32:function(G,ue){ue.length&&this.writeMessage(G,j,ue)},writePackedSFixed32:function(G,ue){ue.length&&this.writeMessage(G,K,ue)},writePackedFixed64:function(G,ue){ue.length&&this.writeMessage(G,te,ue)},writePackedSFixed64:function(G,ue){ue.length&&this.writeMessage(G,de,ue)},writeBytesField:function(G,ue){this.writeTag(G,r.Bytes),this.writeBytes(ue)},writeFixed32Field:function(G,ue){this.writeTag(G,r.Fixed32),this.writeFixed32(ue)},writeSFixed32Field:function(G,ue){this.writeTag(G,r.Fixed32),this.writeSFixed32(ue)},writeFixed64Field:function(G,ue){this.writeTag(G,r.Fixed64),this.writeFixed64(ue)},writeSFixed64Field:function(G,ue){this.writeTag(G,r.Fixed64),this.writeSFixed64(ue)},writeVarintField:function(G,ue){this.writeTag(G,r.Varint),this.writeVarint(ue)},writeSVarintField:function(G,ue){this.writeTag(G,r.Varint),this.writeSVarint(ue)},writeStringField:function(G,ue){this.writeTag(G,r.Bytes),this.writeString(ue)},writeFloatField:function(G,ue){this.writeTag(G,r.Fixed32),this.writeFloat(ue)},writeDoubleField:function(G,ue){this.writeTag(G,r.Fixed64),this.writeDouble(ue)},writeBooleanField:function(G,ue){this.writeVarintField(G,!!ue)}},Gp}var Kp=x(d_());const $p=3;function kw(l,r,A){l===1&&A.readMessage(Dw,r)}function Dw(l,r,A){if(l===3){const{id:u,bitmap:m,width:y,height:v,left:C,top:F,advance:S}=A.readMessage(zw,{});r.push({id:u,bitmap:new Ou({width:y+2*$p,height:v+2*$p},m),metrics:{width:y,height:v,left:C,top:F,advance:S}})}}function zw(l,r,A){l===1?r.id=A.readVarint():l===2?r.bitmap=A.readBytes():l===3?r.width=A.readVarint():l===4?r.height=A.readVarint():l===5?r.left=A.readSVarint():l===6?r.top=A.readSVarint():l===7&&(r.advance=A.readVarint())}const Zw=$p;function f_(l){let r=0,A=0;for(const v of l)r+=v.w*v.h,A=Math.max(A,v.w);l.sort((v,C)=>C.h-v.h);const u=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),A),h:1/0}];let m=0,y=0;for(const v of l)for(let C=u.length-1;C>=0;C--){const F=u[C];if(!(v.w>F.w||v.h>F.h)){if(v.x=F.x,v.y=F.y,y=Math.max(y,v.y+v.h),m=Math.max(m,v.x+v.w),v.w===F.w&&v.h===F.h){const S=u.pop();C<u.length&&(u[C]=S)}else v.h===F.h?(F.x+=v.w,F.w-=v.w):v.w===F.w?(F.y+=v.h,F.h-=v.h):(u.push({x:F.x+v.w,y:F.y,w:F.w-v.w,h:v.h}),F.y+=v.h,F.h-=v.h);break}}return{w:m,h:y,fill:r/(m*y)||0}}const nn=1;class qp{constructor(r,{pixelRatio:A,version:u,stretchX:m,stretchY:y,content:v,textFitWidth:C,textFitHeight:F}){this.paddedRect=r,this.pixelRatio=A,this.stretchX=m,this.stretchY=y,this.content=v,this.version=u,this.textFitWidth=C,this.textFitHeight=F}get tl(){return[this.paddedRect.x+nn,this.paddedRect.y+nn]}get br(){return[this.paddedRect.x+this.paddedRect.w-nn,this.paddedRect.y+this.paddedRect.h-nn]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*nn)/this.pixelRatio,(this.paddedRect.h-2*nn)/this.pixelRatio]}}class g_{constructor(r,A){const u={},m={};this.haveRenderCallbacks=[];const y=[];this.addImages(r,u,y),this.addImages(A,m,y);const{w:v,h:C}=f_(y),F=new En({width:v||1,height:C||1});for(const S in r){const P=r[S],k=u[S].paddedRect;En.copy(P.data,F,{x:0,y:0},{x:k.x+nn,y:k.y+nn},P.data)}for(const S in A){const P=A[S],k=m[S].paddedRect,X=k.x+nn,j=k.y+nn,K=P.data.width,te=P.data.height;En.copy(P.data,F,{x:0,y:0},{x:X,y:j},P.data),En.copy(P.data,F,{x:0,y:te-1},{x:X,y:j-1},{width:K,height:1}),En.copy(P.data,F,{x:0,y:0},{x:X,y:j+te},{width:K,height:1}),En.copy(P.data,F,{x:K-1,y:0},{x:X-1,y:j},{width:1,height:te}),En.copy(P.data,F,{x:0,y:0},{x:X+K,y:j},{width:1,height:te})}this.image=F,this.iconPositions=u,this.patternPositions=m}addImages(r,A,u){for(const m in r){const y=r[m],v={x:0,y:0,w:y.data.width+2*nn,h:y.data.height+2*nn};u.push(v),A[m]=new qp(v,y),y.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(r,A){r.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const u in r.updatedImages)this.patchUpdatedImage(this.iconPositions[u],r.getImage(u),A),this.patchUpdatedImage(this.patternPositions[u],r.getImage(u),A)}patchUpdatedImage(r,A,u){if(!r||!A||r.version===A.version)return;r.version=A.version;const[m,y]=r.tl;u.update(A.data,void 0,{x:m,y})}}var fl;zt("ImagePosition",qp),zt("ImageAtlas",g_),h.al=void 0,(fl=h.al||(h.al={}))[fl.none=0]="none",fl[fl.horizontal=1]="horizontal",fl[fl.vertical=2]="vertical",fl[fl.horizontalOnly=3]="horizontalOnly";const If=-17;class td{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(r,A,u){const m=new td;return m.scale=r||1,m.fontStack=A,m.verticalAlign=u||"bottom",m}static forImage(r,A){const u=new td;return u.imageName=r,u.verticalAlign=A||"bottom",u}}class Qc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(r,A){const u=new Qc;for(let m=0;m<r.sections.length;m++){const y=r.sections[m];y.image?u.addImageSection(y):u.addTextSection(y,A)}return u}length(){return this.text.length}getSection(r){return this.sections[this.sectionIndex[r]]}getSectionIndex(r){return this.sectionIndex[r]}getCharCode(r){return this.text.charCodeAt(r)}verticalizePunctuation(){this.text=function(r){let A="";for(let u=0;u<r.length;u++){const m=r.charCodeAt(u+1)||null,y=r.charCodeAt(u-1)||null;A+=m&&uf(m)&&!ed[r[u+1]]||y&&uf(y)&&!ed[r[u-1]]||!ed[r[u]]?r[u]:ed[r[u]]}return A}(this.text)}trim(){let r=0;for(let u=0;u<this.text.length&&Ef[this.text.charCodeAt(u)];u++)r++;let A=this.text.length;for(let u=this.text.length-1;u>=0&&u>=r&&Ef[this.text.charCodeAt(u)];u--)A--;this.text=this.text.substring(r,A),this.sectionIndex=this.sectionIndex.slice(r,A)}substring(r,A){const u=new Qc;return u.text=this.text.substring(r,A),u.sectionIndex=this.sectionIndex.slice(r,A),u.sections=this.sections,u}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((r,A)=>Math.max(r,this.sections[A].scale),0)}getMaxImageSize(r){let A=0,u=0;for(let m=0;m<this.length();m++){const y=this.getSection(m);if(y.imageName){const v=r[y.imageName];if(!v)continue;const C=v.displaySize;A=Math.max(A,C[0]),u=Math.max(u,C[1])}}return{maxImageWidth:A,maxImageHeight:u}}addTextSection(r,A){this.text+=r.text,this.sections.push(td.forText(r.scale,r.fontStack||A,r.verticalAlign));const u=this.sections.length-1;for(let m=0;m<r.text.length;++m)this.sectionIndex.push(u)}addImageSection(r){const A=r.image?r.image.name:"";if(A.length===0)return void ui("Can't add FormattedSection with an empty image.");const u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(td.forImage(A,r.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):ui("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Uf(l,r,A,u,m,y,v,C,F,S,P,k,X,j,K){const te=Qc.fromFeature(l,m);let de;k===h.al.vertical&&te.verticalizePunctuation();const{processBidirectionalText:ye,processStyledBidirectionalText:Ne}=Vs;if(ye&&te.sections.length===1){de=[];const ue=ye(te.toString(),Wp(te,S,y,r,u,j));for(const Ce of ue){const qe=new Qc;qe.text=Ce,qe.sections=te.sections;for(let vt=0;vt<Ce.length;vt++)qe.sectionIndex.push(0);de.push(qe)}}else if(Ne){de=[];const ue=Ne(te.text,te.sectionIndex,Wp(te,S,y,r,u,j));for(const Ce of ue){const qe=new Qc;qe.text=Ce[0],qe.sectionIndex=Ce[1],qe.sections=te.sections,de.push(qe)}}else de=function(ue,Ce){const qe=[],vt=ue.text;let at=0;for(const lt of Ce)qe.push(ue.substring(at,lt)),at=lt;return at<vt.length&&qe.push(ue.substring(at,vt.length)),qe}(te,Wp(te,S,y,r,u,j));const Be=[],G={positionedLines:Be,text:te.toString(),top:P[1],bottom:P[1],left:P[0],right:P[0],writingMode:k,iconsInText:!1,verticalizable:!1};return function(ue,Ce,qe,vt,at,lt,Mt,xt,Et,ht,Vt,gi){let hi=0,ii=0,Pi=0,Na=0;const Ja=xt==="right"?1:xt==="left"?0:.5,Tr=Wa/gi;let Tn=0;for(const Ra of at){Ra.trim();const sr=Ra.getMaxScale(),vr={positionedGlyphs:[],lineOffset:0};ue.positionedLines[Tn]=vr;const xr=vr.positionedGlyphs;let Kr=0;if(!Ra.length()){ii+=lt,++Tn;continue}const Sn=Vw(vt,Ra,Tr);for(let on=0;on<Ra.length();on++){const er=Ra.getSection(on),lr=Ra.getSectionIndex(on),Ar=Ra.getCharCode(on),Va=Gw(Et,Vt,Ar);let _a;if(er.imageName){if(ue.iconsInText=!0,er.scale=er.scale*Tr,_a=Kw(er,Va,sr,Sn,vt),!_a)continue;Kr=Math.max(Kr,_a.imageOffset)}else if(_a=jw(er,Ar,Va,Sn,Ce,qe),!_a)continue;const{rect:ws,metrics:Zc,baselineOffset:Bs}=_a;xr.push({glyph:Ar,imageName:er.imageName,x:hi,y:ii+Bs+If,vertical:Va,scale:er.scale,fontStack:er.fontStack,sectionIndex:lr,metrics:Zc,rect:ws}),Va?(ue.verticalizable=!0,hi+=(er.imageName?Zc.advance:Wa)*er.scale+ht):hi+=Zc.advance*er.scale+ht}xr.length!==0&&(Pi=Math.max(hi-ht,Pi),$w(xr,0,xr.length-1,Ja)),hi=0,vr.lineOffset=Math.max(Kr,(sr-1)*Wa);const or=lt*sr+Kr;ii+=or,Na=Math.max(or,Na),++Tn}const{horizontalAlign:sn,verticalAlign:yr}=Jp(Mt);(function(Ra,sr,vr,xr,Kr,Sn,or,on,er){const lr=(sr-vr)*Kr;let Ar=0;Ar=Sn!==or?-on*xr-If:-xr*er*or+.5*or;for(const Va of Ra)for(const _a of Va.positionedGlyphs)_a.x+=lr,_a.y+=Ar})(ue.positionedLines,Ja,sn,yr,Pi,Na,lt,ii,at.length),ue.top+=-yr*ii,ue.bottom=ue.top+ii,ue.left+=-sn*Pi,ue.right=ue.left+Pi}(G,r,A,u,de,v,C,F,k,S,X,K),!function(ue){for(const Ce of ue)if(Ce.positionedGlyphs.length!==0)return!1;return!0}(Be)&&G}const Ef={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Hw={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Ow={40:!0};function p_(l,r,A,u,m,y){if(r.imageName){const v=u[r.imageName];return v?v.displaySize[0]*r.scale*Wa/y+m:0}{const v=A[r.fontStack],C=v&&v[l];return C?C.metrics.advance*r.scale+m:0}}function m_(l,r,A,u){const m=Math.pow(l-r,2);return u?l<r?m/2:2*m:m+Math.abs(A)*A}function Xw(l,r,A){let u=0;return l===10&&(u-=1e4),A&&(u+=150),l!==40&&l!==65288||(u+=50),r!==41&&r!==65289||(u+=50),u}function __(l,r,A,u,m,y){let v=null,C=m_(r,A,m,y);for(const F of u){const S=m_(r-F.x,A,m,y)+F.badness;S<=C&&(v=F,C=S)}return{index:l,x:r,priorBreak:v,badness:C}}function b_(l){return l?b_(l.priorBreak).concat(l.index):[]}function Wp(l,r,A,u,m,y){if(!l)return[];const v=[],C=function(k,X,j,K,te,de){let ye=0;for(let Ne=0;Ne<k.length();Ne++){const Be=k.getSection(Ne);ye+=p_(k.getCharCode(Ne),Be,K,te,X,de)}return ye/Math.max(1,Math.ceil(ye/j))}(l,r,A,u,m,y),F=l.text.indexOf("")>=0;let S=0;for(let k=0;k<l.length();k++){const X=l.getSection(k),j=l.getCharCode(k);if(Ef[j]||(S+=p_(j,X,u,m,r,y)),k<l.length()-1){const K=!((P=j)<11904)&&(!!Ni["CJK Compatibility Forms"](P)||!!Ni["CJK Compatibility"](P)||!!Ni["CJK Strokes"](P)||!!Ni["CJK Symbols and Punctuation"](P)||!!Ni["Enclosed CJK Letters and Months"](P)||!!Ni["Halfwidth and Fullwidth Forms"](P)||!!Ni["Ideographic Description Characters"](P)||!!Ni["Vertical Forms"](P)||hf.test(String.fromCodePoint(P)));(Hw[j]||K||X.imageName||k!==l.length()-2&&Ow[l.getCharCode(k+1)])&&v.push(__(k+1,S,C,v,Xw(j,l.getCharCode(k+1),K&&F),!1))}}var P;return b_(__(l.length(),S,C,v,0,!0))}function Jp(l){let r=.5,A=.5;switch(l){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(l){case"bottom":case"bottom-right":case"bottom-left":A=1;break;case"top":case"top-right":case"top-left":A=0}return{horizontalAlign:r,verticalAlign:A}}function Vw(l,r,A){const u=r.getMaxScale()*Wa,{maxImageWidth:m,maxImageHeight:y}=r.getMaxImageSize(l),v=Math.max(u,y*A);return{verticalLineContentWidth:Math.max(u,m*A),horizontalLineContentHeight:v}}function y_(l){switch(l){case"top":return 0;case"center":return .5;default:return 1}}function Gw(l,r,A){return!(l===h.al.horizontal||!r&&!Rc(A)||r&&(Ef[A]||(u=A,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(u)))));var u}function jw(l,r,A,u,m,y){const v=y[l.fontStack],C=function(S,P,k,X){if(S&&S.rect)return S;const j=P[k.fontStack],K=j&&j[X];return K?{rect:null,metrics:K.metrics}:null}(v&&v[r],m,l,r);if(C===null)return null;let F;if(A)F=u.verticalLineContentWidth-l.scale*Wa;else{const S=y_(l.verticalAlign);F=(u.horizontalLineContentHeight-l.scale*Wa)*S}return{rect:C.rect,metrics:C.metrics,baselineOffset:F}}function Kw(l,r,A,u,m){const y=m[l.imageName];if(!y)return null;const v=y.paddedRect,C=y.displaySize,F={width:C[0],height:C[1],left:nn,top:-3,advance:r?C[1]:C[0]};let S;if(r)S=u.verticalLineContentWidth-C[1]*l.scale;else{const P=y_(l.verticalAlign);S=(u.horizontalLineContentHeight-C[1]*l.scale)*P}return{rect:v,metrics:F,baselineOffset:S,imageOffset:(r?C[0]:C[1])*l.scale-Wa*A}}function $w(l,r,A,u){if(u===0)return;const m=l[A],y=(l[A].x+m.metrics.advance*m.scale)*u;for(let v=r;v<=A;v++)l[v].x-=y}function qw(l,r,A){const{horizontalAlign:u,verticalAlign:m}=Jp(A),y=r[0]-l.displaySize[0]*u,v=r[1]-l.displaySize[1]*m;return{image:l,top:v,bottom:v+l.displaySize[1],left:y,right:y+l.displaySize[0]}}function v_(l){var r,A;let u=l.left,m=l.top,y=l.right-u,v=l.bottom-m;const C=(r=l.image.textFitWidth)!==null&&r!==void 0?r:"stretchOrShrink",F=(A=l.image.textFitHeight)!==null&&A!==void 0?A:"stretchOrShrink",S=(l.image.content[2]-l.image.content[0])/(l.image.content[3]-l.image.content[1]);if(F==="proportional"){if(C==="stretchOnly"&&y/v<S||C==="proportional"){const P=Math.ceil(v*S);u*=P/y,y=P}}else if(C==="proportional"&&F==="stretchOnly"&&S!==0&&y/v>S){const P=Math.ceil(y/S);m*=P/v,v=P}return{x1:u,y1:m,x2:u+y,y2:m+v}}function x_(l,r,A,u,m,y){const v=l.image;let C;if(v.content){const de=v.content,ye=v.pixelRatio||1;C=[de[0]/ye,de[1]/ye,v.displaySize[0]-de[2]/ye,v.displaySize[1]-de[3]/ye]}const F=r.left*y,S=r.right*y;let P,k,X,j;A==="width"||A==="both"?(j=m[0]+F-u[3],k=m[0]+S+u[1]):(j=m[0]+(F+S-v.displaySize[0])/2,k=j+v.displaySize[0]);const K=r.top*y,te=r.bottom*y;return A==="height"||A==="both"?(P=m[1]+K-u[0],X=m[1]+te+u[2]):(P=m[1]+(K+te-v.displaySize[1])/2,X=P+v.displaySize[1]),{image:v,top:P,right:k,bottom:X,left:j,collisionPadding:C}}const id=255,$s=128,gl=id*$s;function w_(l,r){const{expression:A}=r;if(A.kind==="constant")return{kind:"constant",layoutSize:A.evaluate(new ga(l+1))};if(A.kind==="source")return{kind:"source"};{const{zoomStops:u,interpolationType:m}=A;let y=0;for(;y<u.length&&u[y]<=l;)y++;y=Math.max(0,y-1);let v=y;for(;v<u.length&&u[v]<l+1;)v++;v=Math.min(u.length-1,v);const C=u[y],F=u[v];return A.kind==="composite"?{kind:"composite",minZoom:C,maxZoom:F,interpolationType:m}:{kind:"camera",minZoom:C,maxZoom:F,minSize:A.evaluate(new ga(C)),maxSize:A.evaluate(new ga(F)),interpolationType:m}}}function e2(l,r,A){let u="never";const m=l.get(r);return m?u=m:l.get(A)&&(u="always"),u}const Ww=qu.VectorTileFeature.types,Jw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ff(l,r,A,u,m,y,v,C,F,S,P,k,X){const j=C?Math.min(gl,Math.round(C[0])):0,K=C?Math.min(gl,Math.round(C[1])):0;l.emplaceBack(r,A,Math.round(32*u),Math.round(32*m),y,v,(j<<1)+(F?1:0),K,16*S,16*P,256*k,256*X)}function t2(l,r,A){l.emplaceBack(r.x,r.y,A),l.emplaceBack(r.x,r.y,A),l.emplaceBack(r.x,r.y,A),l.emplaceBack(r.x,r.y,A)}function e9(l){for(const r of l.sections)if(Up(r.text))return!0;return!1}class i2{constructor(r){this.layoutVertexArray=new We,this.indexArray=new Ut,this.programConfigurations=r,this.segments=new bi,this.dynamicLayoutVertexArray=new ct,this.opacityVertexArray=new dt,this.hasVisibleVertices=!1,this.placedSymbolArray=new N}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(r,A,u,m){this.isEmpty()||(u&&(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Sw.members),this.indexBuffer=r.createIndexBuffer(this.indexArray,A),this.dynamicLayoutVertexBuffer=r.createVertexBuffer(this.dynamicLayoutVertexArray,Yw.members,!0),this.opacityVertexBuffer=r.createVertexBuffer(this.opacityVertexArray,Jw,!0),this.opacityVertexBuffer.itemSize=1),(u||m)&&this.programConfigurations.upload(r))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}zt("SymbolBuffers",i2);class a2{constructor(r,A,u){this.layoutVertexArray=new r,this.layoutAttributes=A,this.indexArray=new u,this.segments=new bi,this.collisionVertexArray=new Lt}upload(r){this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=r.createVertexBuffer(this.collisionVertexArray,Nw.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}zt("CollisionBuffers",a2);class kc{constructor(r){this.collisionBoxArray=r.collisionBoxArray,this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(v=>v.id),this.index=r.index,this.pixelRatio=r.pixelRatio,this.sourceLayerIndex=r.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const A=this.layers[0]._unevaluatedLayout._values;this.textSizeData=w_(this.zoom,A["text-size"]),this.iconSizeData=w_(this.zoom,A["icon-size"]);const u=this.layers[0].layout,m=u.get("symbol-sort-key"),y=u.get("symbol-z-order");this.canOverlap=e2(u,"text-overlap","text-allow-overlap")!=="never"||e2(u,"icon-overlap","icon-allow-overlap")!=="never"||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=y!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(y==="viewport-y"||y==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,u.get("symbol-placement")==="point"&&(this.writingModes=u.get("text-writing-mode").map(v=>h.al[v])),this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id),this.sourceID=r.sourceID}createArrays(){this.text=new i2(new Co(this.layers,this.zoom,r=>/^text/.test(r))),this.icon=new i2(new Co(this.layers,this.zoom,r=>/^icon/.test(r))),this.glyphOffsetArray=new Z,this.lineVertexArray=new W,this.symbolInstances=new z,this.textAnchorOffsets=new me}calculateGlyphDependencies(r,A,u,m,y){for(let v=0;v<r.length;v++)if(A[r.charCodeAt(v)]=!0,(u||m)&&y){const C=ed[r.charAt(v)];C&&(A[C.charCodeAt(0)]=!0)}}populate(r,A,u){const m=this.layers[0],y=m.layout,v=y.get("text-font"),C=y.get("text-field"),F=y.get("icon-image"),S=(C.value.kind!=="constant"||C.value.value instanceof Xr&&!C.value.value.isEmpty()||C.value.value.toString().length>0)&&(v.value.kind!=="constant"||v.value.value.length>0),P=F.value.kind!=="constant"||!!F.value.value||Object.keys(F.parameters).length>0,k=y.get("symbol-sort-key");if(this.features=[],!S&&!P)return;const X=A.iconDependencies,j=A.glyphDependencies,K=A.availableImages,te=new ga(this.zoom);for(const{feature:de,id:ye,index:Ne,sourceLayerIndex:Be}of r){const G=m._featureFilter.needGeometry,ue=Ks(de,G);if(!m._featureFilter.filter(te,ue,u))continue;let Ce,qe;if(G||(ue.geometry=rn(de)),S){const at=m.getValueAndResolveTokens("text-field",ue,u,K),lt=Xr.factory(at),Mt=this.hasRTLText=this.hasRTLText||e9(lt);(!Mt||Vs.getRTLTextPluginStatus()==="unavailable"||Mt&&Vs.isParsed())&&(Ce=Pw(lt,m,ue))}if(P){const at=m.getValueAndResolveTokens("icon-image",ue,u,K);qe=at instanceof tn?at:tn.fromString(at)}if(!Ce&&!qe)continue;const vt=this.sortFeaturesByKey?k.evaluate(ue,{},u):void 0;if(this.features.push({id:ye,text:Ce,icon:qe,index:Ne,sourceLayerIndex:Be,geometry:ue.geometry,properties:de.properties,type:Ww[de.type],sortKey:vt}),qe&&(X[qe.name]=!0),Ce){const at=v.evaluate(ue,{},u).join(","),lt=y.get("text-rotation-alignment")!=="viewport"&&y.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(h.al.vertical)>=0;for(const Mt of Ce.sections)if(Mt.image)X[Mt.image.name]=!0;else{const xt=Cc(Ce.toString()),Et=Mt.fontStack||at,ht=j[Et]=j[Et]||{};this.calculateGlyphDependencies(Mt.text,ht,lt,this.allowVerticalPlacement,xt)}}}y.get("symbol-placement")==="line"&&(this.features=function(de){const ye={},Ne={},Be=[];let G=0;function ue(at){Be.push(de[at]),G++}function Ce(at,lt,Mt){const xt=Ne[at];return delete Ne[at],Ne[lt]=xt,Be[xt].geometry[0].pop(),Be[xt].geometry[0]=Be[xt].geometry[0].concat(Mt[0]),xt}function qe(at,lt,Mt){const xt=ye[lt];return delete ye[lt],ye[at]=xt,Be[xt].geometry[0].shift(),Be[xt].geometry[0]=Mt[0].concat(Be[xt].geometry[0]),xt}function vt(at,lt,Mt){const xt=Mt?lt[0][lt[0].length-1]:lt[0][0];return`${at}:${xt.x}:${xt.y}`}for(let at=0;at<de.length;at++){const lt=de[at],Mt=lt.geometry,xt=lt.text?lt.text.toString():null;if(!xt){ue(at);continue}const Et=vt(xt,Mt),ht=vt(xt,Mt,!0);if(Et in Ne&&ht in ye&&Ne[Et]!==ye[ht]){const Vt=qe(Et,ht,Mt),gi=Ce(Et,ht,Be[Vt].geometry);delete ye[Et],delete Ne[ht],Ne[vt(xt,Be[gi].geometry,!0)]=gi,Be[Vt].geometry=null}else Et in Ne?Ce(Et,ht,Mt):ht in ye?qe(Et,ht,Mt):(ue(at),ye[Et]=G-1,Ne[ht]=G-1)}return Be.filter(at=>at.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((de,ye)=>de.sortKey-ye.sortKey)}update(r,A,u){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(r,A,this.layers,u),this.icon.programConfigurations.updatePaintArrays(r,A,this.layers,u))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(r){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(r),this.iconCollisionBox.upload(r)),this.text.upload(r,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(r,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(r,A){const u=this.lineVertexArray.length;if(r.segment!==void 0){let m=r.dist(A[r.segment+1]),y=r.dist(A[r.segment]);const v={};for(let C=r.segment+1;C<A.length;C++)v[C]={x:A[C].x,y:A[C].y,tileUnitDistanceFromAnchor:m},C<A.length-1&&(m+=A[C+1].dist(A[C]));for(let C=r.segment||0;C>=0;C--)v[C]={x:A[C].x,y:A[C].y,tileUnitDistanceFromAnchor:y},C>0&&(y+=A[C-1].dist(A[C]));for(let C=0;C<A.length;C++){const F=v[C];this.lineVertexArray.emplaceBack(F.x,F.y,F.tileUnitDistanceFromAnchor)}}return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}}addSymbols(r,A,u,m,y,v,C,F,S,P,k,X){const j=r.indexArray,K=r.layoutVertexArray,te=r.segments.prepareSegment(4*A.length,K,j,this.canOverlap?v.sortKey:void 0),de=this.glyphOffsetArray.length,ye=te.vertexLength,Ne=this.allowVerticalPlacement&&C===h.al.vertical?Math.PI/2:0,Be=v.text&&v.text.sections;for(let G=0;G<A.length;G++){const{tl:ue,tr:Ce,bl:qe,br:vt,tex:at,pixelOffsetTL:lt,pixelOffsetBR:Mt,minFontScaleX:xt,minFontScaleY:Et,glyphOffset:ht,isSDF:Vt,sectionIndex:gi}=A[G],hi=te.vertexLength,ii=ht[1];Ff(K,F.x,F.y,ue.x,ii+ue.y,at.x,at.y,u,Vt,lt.x,lt.y,xt,Et),Ff(K,F.x,F.y,Ce.x,ii+Ce.y,at.x+at.w,at.y,u,Vt,Mt.x,lt.y,xt,Et),Ff(K,F.x,F.y,qe.x,ii+qe.y,at.x,at.y+at.h,u,Vt,lt.x,Mt.y,xt,Et),Ff(K,F.x,F.y,vt.x,ii+vt.y,at.x+at.w,at.y+at.h,u,Vt,Mt.x,Mt.y,xt,Et),t2(r.dynamicLayoutVertexArray,F,Ne),j.emplaceBack(hi,hi+2,hi+1),j.emplaceBack(hi+1,hi+2,hi+3),te.vertexLength+=4,te.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ht[0]),G!==A.length-1&&gi===A[G+1].sectionIndex||r.programConfigurations.populatePaintArrays(K.length,v,v.index,{},X,Be&&Be[gi])}r.placedSymbolArray.emplaceBack(F.x,F.y,de,this.glyphOffsetArray.length-de,ye,S,P,F.segment,u?u[0]:0,u?u[1]:0,m[0],m[1],C,0,!1,0,k)}_addCollisionDebugVertex(r,A,u,m,y,v){return A.emplaceBack(0,0),r.emplaceBack(u.x,u.y,m,y,Math.round(v.x),Math.round(v.y))}addCollisionDebugVertices(r,A,u,m,y,v,C){const F=y.segments.prepareSegment(4,y.layoutVertexArray,y.indexArray),S=F.vertexLength,P=y.layoutVertexArray,k=y.collisionVertexArray,X=C.anchorX,j=C.anchorY;this._addCollisionDebugVertex(P,k,v,X,j,new Y(r,A)),this._addCollisionDebugVertex(P,k,v,X,j,new Y(u,A)),this._addCollisionDebugVertex(P,k,v,X,j,new Y(u,m)),this._addCollisionDebugVertex(P,k,v,X,j,new Y(r,m)),F.vertexLength+=4;const K=y.indexArray;K.emplaceBack(S,S+1),K.emplaceBack(S+1,S+2),K.emplaceBack(S+2,S+3),K.emplaceBack(S+3,S),F.primitiveLength+=4}addDebugCollisionBoxes(r,A,u,m){for(let y=r;y<A;y++){const v=this.collisionBoxArray.get(y);this.addCollisionDebugVertices(v.x1,v.y1,v.x2,v.y2,m?this.textCollisionBox:this.iconCollisionBox,v.anchorPoint,u)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new a2(At,c_.members,bt),this.iconCollisionBox=new a2(At,c_.members,bt);for(let r=0;r<this.symbolInstances.length;r++){const A=this.symbolInstances.get(r);this.addDebugCollisionBoxes(A.textBoxStartIndex,A.textBoxEndIndex,A,!0),this.addDebugCollisionBoxes(A.verticalTextBoxStartIndex,A.verticalTextBoxEndIndex,A,!0),this.addDebugCollisionBoxes(A.iconBoxStartIndex,A.iconBoxEndIndex,A,!1),this.addDebugCollisionBoxes(A.verticalIconBoxStartIndex,A.verticalIconBoxEndIndex,A,!1)}}_deserializeCollisionBoxesForSymbol(r,A,u,m,y,v,C,F,S){const P={};for(let k=A;k<u;k++){const X=r.get(k);P.textBox={x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,anchorPointX:X.anchorPointX,anchorPointY:X.anchorPointY},P.textFeatureIndex=X.featureIndex;break}for(let k=m;k<y;k++){const X=r.get(k);P.verticalTextBox={x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,anchorPointX:X.anchorPointX,anchorPointY:X.anchorPointY},P.verticalTextFeatureIndex=X.featureIndex;break}for(let k=v;k<C;k++){const X=r.get(k);P.iconBox={x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,anchorPointX:X.anchorPointX,anchorPointY:X.anchorPointY},P.iconFeatureIndex=X.featureIndex;break}for(let k=F;k<S;k++){const X=r.get(k);P.verticalIconBox={x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,anchorPointX:X.anchorPointX,anchorPointY:X.anchorPointY},P.verticalIconFeatureIndex=X.featureIndex;break}return P}deserializeCollisionBoxes(r){this.collisionArrays=[];for(let A=0;A<this.symbolInstances.length;A++){const u=this.symbolInstances.get(A);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(r,A){const u=r.placedSymbolArray.get(A),m=u.vertexStartIndex+4*u.numGlyphs;for(let y=u.vertexStartIndex;y<m;y+=4)r.indexArray.emplaceBack(y,y+2,y+1),r.indexArray.emplaceBack(y+1,y+2,y+3)}getSortedSymbolIndexes(r){if(this.sortedAngle===r&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const A=Math.sin(r),u=Math.cos(r),m=[],y=[],v=[];for(let C=0;C<this.symbolInstances.length;++C){v.push(C);const F=this.symbolInstances.get(C);m.push(0|Math.round(A*F.anchorX+u*F.anchorY)),y.push(F.featureIndex)}return v.sort((C,F)=>m[C]-m[F]||y[F]-y[C]),v}addToSortKeyRanges(r,A){const u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===A?u.symbolInstanceEnd=r+1:this.sortKeyRanges.push({sortKey:A,symbolInstanceStart:r,symbolInstanceEnd:r+1})}sortFeatures(r){if(this.sortFeaturesByY&&this.sortedAngle!==r&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(r),this.sortedAngle=r,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const A of this.symbolInstanceIndexes){const u=this.symbolInstances.get(A);this.featureSortOrder.push(u.featureIndex),[u.rightJustifiedTextSymbolIndex,u.centerJustifiedTextSymbolIndex,u.leftJustifiedTextSymbolIndex].forEach((m,y,v)=>{m>=0&&v.indexOf(m)===y&&this.addIndicesForPlacedSymbol(this.text,m)}),u.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,u.verticalPlacedTextSymbolIndex),u.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,u.placedIconSymbolIndex),u.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,u.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let B_,C_;zt("SymbolBucket",kc,{omit:["layers","collisionBoxArray","features","compareText"]}),kc.MAX_GLYPHS=65535,kc.addDynamicAttributes=t2;var r2={get paint(){return C_=C_||new jr({"icon-opacity":new pi(oe.paint_symbol["icon-opacity"]),"icon-color":new pi(oe.paint_symbol["icon-color"]),"icon-halo-color":new pi(oe.paint_symbol["icon-halo-color"]),"icon-halo-width":new pi(oe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new pi(oe.paint_symbol["icon-halo-blur"]),"icon-translate":new ri(oe.paint_symbol["icon-translate"]),"icon-translate-anchor":new ri(oe.paint_symbol["icon-translate-anchor"]),"text-opacity":new pi(oe.paint_symbol["text-opacity"]),"text-color":new pi(oe.paint_symbol["text-color"],{runtimeType:ta,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new pi(oe.paint_symbol["text-halo-color"]),"text-halo-width":new pi(oe.paint_symbol["text-halo-width"]),"text-halo-blur":new pi(oe.paint_symbol["text-halo-blur"]),"text-translate":new ri(oe.paint_symbol["text-translate"]),"text-translate-anchor":new ri(oe.paint_symbol["text-translate-anchor"])})},get layout(){return B_=B_||new jr({"symbol-placement":new ri(oe.layout_symbol["symbol-placement"]),"symbol-spacing":new ri(oe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ri(oe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new pi(oe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ri(oe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ri(oe.layout_symbol["icon-allow-overlap"]),"icon-overlap":new ri(oe.layout_symbol["icon-overlap"]),"icon-ignore-placement":new ri(oe.layout_symbol["icon-ignore-placement"]),"icon-optional":new ri(oe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ri(oe.layout_symbol["icon-rotation-alignment"]),"icon-size":new pi(oe.layout_symbol["icon-size"]),"icon-text-fit":new ri(oe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ri(oe.layout_symbol["icon-text-fit-padding"]),"icon-image":new pi(oe.layout_symbol["icon-image"]),"icon-rotate":new pi(oe.layout_symbol["icon-rotate"]),"icon-padding":new pi(oe.layout_symbol["icon-padding"]),"icon-keep-upright":new ri(oe.layout_symbol["icon-keep-upright"]),"icon-offset":new pi(oe.layout_symbol["icon-offset"]),"icon-anchor":new pi(oe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ri(oe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ri(oe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ri(oe.layout_symbol["text-rotation-alignment"]),"text-field":new pi(oe.layout_symbol["text-field"]),"text-font":new pi(oe.layout_symbol["text-font"]),"text-size":new pi(oe.layout_symbol["text-size"]),"text-max-width":new pi(oe.layout_symbol["text-max-width"]),"text-line-height":new ri(oe.layout_symbol["text-line-height"]),"text-letter-spacing":new pi(oe.layout_symbol["text-letter-spacing"]),"text-justify":new pi(oe.layout_symbol["text-justify"]),"text-radial-offset":new pi(oe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ri(oe.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new pi(oe.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new pi(oe.layout_symbol["text-anchor"]),"text-max-angle":new ri(oe.layout_symbol["text-max-angle"]),"text-writing-mode":new ri(oe.layout_symbol["text-writing-mode"]),"text-rotate":new pi(oe.layout_symbol["text-rotate"]),"text-padding":new ri(oe.layout_symbol["text-padding"]),"text-keep-upright":new ri(oe.layout_symbol["text-keep-upright"]),"text-transform":new pi(oe.layout_symbol["text-transform"]),"text-offset":new pi(oe.layout_symbol["text-offset"]),"text-allow-overlap":new ri(oe.layout_symbol["text-allow-overlap"]),"text-overlap":new ri(oe.layout_symbol["text-overlap"]),"text-ignore-placement":new ri(oe.layout_symbol["text-ignore-placement"]),"text-optional":new ri(oe.layout_symbol["text-optional"])})}};class M_{constructor(r){if(r.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=r.property.overrides?r.property.overrides.runtimeType:ai,this.defaultValue=r}evaluate(r){if(r.formattedSection){const A=this.defaultValue.property.overrides;if(A&&A.hasOverride(r.formattedSection))return A.getOverride(r.formattedSection)}return r.feature&&r.featureState?this.defaultValue.evaluate(r.feature,r.featureState):this.defaultValue.property.specification.default}eachChild(r){this.defaultValue.isConstant()||r(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}zt("FormatSectionOverride",M_,{omit:["defaultValue"]});class Tf extends qn{constructor(r){super(r,r2)}recalculate(r,A){if(super.recalculate(r,A),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const u=this.layout.get("text-writing-mode");if(u){const m=[];for(const y of u)m.indexOf(y)<0&&m.push(y);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(r,A,u,m){const y=this.layout.get(r).evaluate(A,{},u,m),v=this._unevaluatedLayout._values[r];return v.isDataDriven()||mo(v.value)||!y?y:function(C,F){return F.replace(/{([^{}]+)}/g,(S,P)=>C&&P in C?String(C[P]):"")}(A.properties,y)}createBucket(r){return new kc(r)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const r of r2.paint.overridableProperties){if(!Tf.hasPaintOverride(this.layout,r))continue;const A=this.paint.get(r),u=new M_(A),m=new hu(u,A.property.specification);let y=null;y=A.value.kind==="constant"||A.value.kind==="source"?new uu("source",m):new du("composite",m,A.value.zoomStops),this.paint._values[r]=new $n(A.property,y,A.parameters)}}_handleOverridablePaintPropertyUpdate(r,A,u){return!(!this.layout||A.isDataDriven()||u.isDataDriven())&&Tf.hasPaintOverride(this.layout,r)}static hasPaintOverride(r,A){const u=r.get("text-field"),m=r2.paint.properties[A];let y=!1;const v=C=>{for(const F of C)if(m.overrides&&m.overrides.hasOverride(F))return void(y=!0)};if(u.value.kind==="constant"&&u.value.value instanceof Xr)v(u.value.value.sections);else if(u.value.kind==="source"){const C=S=>{y||(S instanceof Zs&&Sa(S.value)===Xt?v(S.value.sections):S instanceof nc?v(S.sections):S.eachChild(C))},F=u.value;F._styleExpression&&C(F._styleExpression.expression)}return y}}let R_;var t9={get paint(){return R_=R_||new jr({"background-color":new ri(oe.paint_background["background-color"]),"background-pattern":new Tu(oe.paint_background["background-pattern"]),"background-opacity":new ri(oe.paint_background["background-opacity"])})}};class i9 extends qn{constructor(r){super(r,t9)}}let I_;var a9={get paint(){return I_=I_||new jr({"raster-opacity":new ri(oe.paint_raster["raster-opacity"]),"raster-hue-rotate":new ri(oe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ri(oe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ri(oe.paint_raster["raster-brightness-max"]),"raster-saturation":new ri(oe.paint_raster["raster-saturation"]),"raster-contrast":new ri(oe.paint_raster["raster-contrast"]),"raster-resampling":new ri(oe.paint_raster["raster-resampling"]),"raster-fade-duration":new ri(oe.paint_raster["raster-fade-duration"])})}};class r9 extends qn{constructor(r){super(r,a9)}}class n9 extends qn{constructor(r){super(r,{}),this.onAdd=A=>{this.implementation.onAdd&&this.implementation.onAdd(A,A.painter.context.gl)},this.onRemove=A=>{this.implementation.onRemove&&this.implementation.onRemove(A,A.painter.context.gl)},this.implementation=r}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class s9{constructor(r){this._methodToThrottle=r,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const o9={once:!0},n2=63710088e-1;class pl{constructor(r,A){if(isNaN(r)||isNaN(A))throw new Error(`Invalid LngLat object: (${r}, ${A})`);if(this.lng=+r,this.lat=+A,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new pl(rt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(r){const A=Math.PI/180,u=this.lat*A,m=r.lat*A,y=Math.sin(u)*Math.sin(m)+Math.cos(u)*Math.cos(m)*Math.cos((r.lng-this.lng)*A);return n2*Math.acos(Math.min(y,1))}static convert(r){if(r instanceof pl)return r;if(Array.isArray(r)&&(r.length===2||r.length===3))return new pl(Number(r[0]),Number(r[1]));if(!Array.isArray(r)&&typeof r=="object"&&r!==null)return new pl(Number("lng"in r?r.lng:r.lon),Number(r.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const U_=2*Math.PI*n2;function E_(l){return U_*Math.cos(l*Math.PI/180)}function F_(l){return(180+l)/360}function T_(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function S_(l,r){return l/E_(r)}function s2(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}function Y_(l,r){return l*E_(s2(r))}class ad{constructor(r,A,u=0){this.x=+r,this.y=+A,this.z=+u}static fromLngLat(r,A=0){const u=pl.convert(r);return new ad(F_(u.lng),T_(u.lat),S_(A,u.lat))}toLngLat(){return new pl(360*this.x-180,s2(this.y))}toAltitude(){return Y_(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/U_*(r=s2(this.y),1/Math.cos(r*Math.PI/180));var r}}function N_(l,r,A){var u=2*Math.PI*6378137/256/Math.pow(2,A);return[l*u-2*Math.PI*6378137/2,r*u-2*Math.PI*6378137/2]}class o2{constructor(r,A,u){if(!function(m,y,v){return!(m<0||m>25||v<0||v>=Math.pow(2,m)||y<0||y>=Math.pow(2,m))}(r,A,u))throw new Error(`x=${A}, y=${u}, z=${r} outside of bounds. 0<=x<${Math.pow(2,r)}, 0<=y<${Math.pow(2,r)} 0<=z<=25 `);this.z=r,this.x=A,this.y=u,this.key=Dc(0,r,r,A,u)}equals(r){return this.z===r.z&&this.x===r.x&&this.y===r.y}url(r,A,u){const m=(v=this.y,C=this.z,F=N_(256*(y=this.x),256*(v=Math.pow(2,C)-v-1),C),S=N_(256*(y+1),256*(v+1),C),F[0]+","+F[1]+","+S[0]+","+S[1]);var y,v,C,F,S;const P=function(k,X,j){let K,te="";for(let de=k;de>0;de--)K=1<<de-1,te+=(X&K?1:0)+(j&K?2:0);return te}(this.z,this.x,this.y);return r[(this.x+this.y)%r.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(u==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,A>1?"@2x":"").replace(/{quadkey}/g,P).replace(/{bbox-epsg-3857}/g,m)}isChildOf(r){const A=this.z-r.z;return A>0&&r.x===this.x>>A&&r.y===this.y>>A}getTilePoint(r){const A=Math.pow(2,this.z);return new Y((r.x*A-this.x)*gt,(r.y*A-this.y)*gt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class L_{constructor(r,A){this.wrap=r,this.canonical=A,this.key=Dc(r,A.z,A.z,A.x,A.y)}}class Fn{constructor(r,A,u,m,y){if(this.terrainRttPosMatrix32f=null,r<u)throw new Error(`overscaledZ should be >= z; overscaledZ = ${r}; z = ${u}`);this.overscaledZ=r,this.wrap=A,this.canonical=new o2(u,+m,+y),this.key=Dc(A,r,u,m,y)}clone(){return new Fn(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(r){return this.overscaledZ===r.overscaledZ&&this.wrap===r.wrap&&this.canonical.equals(r.canonical)}scaledTo(r){if(r>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${r}; overscaledZ = ${this.overscaledZ}`);const A=this.canonical.z-r;return r>this.canonical.z?new Fn(r,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Fn(r,this.wrap,r,this.canonical.x>>A,this.canonical.y>>A)}calculateScaledKey(r,A){if(r>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${r}; overscaledZ = ${this.overscaledZ}`);const u=this.canonical.z-r;return r>this.canonical.z?Dc(this.wrap*+A,r,this.canonical.z,this.canonical.x,this.canonical.y):Dc(this.wrap*+A,r,r,this.canonical.x>>u,this.canonical.y>>u)}isChildOf(r){if(r.wrap!==this.wrap)return!1;const A=this.canonical.z-r.canonical.z;return r.overscaledZ===0||r.overscaledZ<this.overscaledZ&&r.canonical.x===this.canonical.x>>A&&r.canonical.y===this.canonical.y>>A}children(r){if(this.overscaledZ>=r)return[new Fn(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const A=this.canonical.z+1,u=2*this.canonical.x,m=2*this.canonical.y;return[new Fn(A,this.wrap,A,u,m),new Fn(A,this.wrap,A,u+1,m),new Fn(A,this.wrap,A,u,m+1),new Fn(A,this.wrap,A,u+1,m+1)]}isLessThan(r){return this.wrap<r.wrap||!(this.wrap>r.wrap)&&(this.overscaledZ<r.overscaledZ||!(this.overscaledZ>r.overscaledZ)&&(this.canonical.x<r.canonical.x||!(this.canonical.x>r.canonical.x)&&this.canonical.y<r.canonical.y))}wrapped(){return new Fn(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(r){return new Fn(this.overscaledZ,r,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new L_(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(r){return this.canonical.getTilePoint(new ad(r.x-this.wrap,r.y))}}function Dc(l,r,A,u,m){(l*=2)<0&&(l=-1*l-1);const y=1<<A;return(y*y*l+y*m+u).toString(36)+A.toString(36)+r.toString(36)}zt("CanonicalTileID",o2),zt("OverscaledTileID",Fn,{omit:["terrainRttPosMatrix32f"]});class P_{constructor(r,A,u,m=1,y=1,v=1,C=0){if(this.uid=r,A.height!==A.width)throw new RangeError("DEM tiles must be square");if(u&&!["mapbox","terrarium","custom"].includes(u))return void ui(`"${u}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=A.height;const F=this.dim=A.height-2;switch(this.data=new Uint32Array(A.data.buffer),u){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=m,this.greenFactor=y,this.blueFactor=v,this.baseShift=C;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let S=0;S<F;S++)this.data[this._idx(-1,S)]=this.data[this._idx(0,S)],this.data[this._idx(F,S)]=this.data[this._idx(F-1,S)],this.data[this._idx(S,-1)]=this.data[this._idx(S,0)],this.data[this._idx(S,F)]=this.data[this._idx(S,F-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(F,-1)]=this.data[this._idx(F-1,0)],this.data[this._idx(-1,F)]=this.data[this._idx(0,F-1)],this.data[this._idx(F,F)]=this.data[this._idx(F-1,F-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let S=0;S<F;S++)for(let P=0;P<F;P++){const k=this.get(S,P);k>this.max&&(this.max=k),k<this.min&&(this.min=k)}}get(r,A){const u=new Uint8Array(this.data.buffer),m=4*this._idx(r,A);return this.unpack(u[m],u[m+1],u[m+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(r,A){if(r<-1||r>=this.dim+1||A<-1||A>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(A+1)*this.stride+(r+1)}unpack(r,A,u){return r*this.redFactor+A*this.greenFactor+u*this.blueFactor-this.baseShift}getPixels(){return new En({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(r,A,u){if(this.dim!==r.dim)throw new Error("dem dimension mismatch");let m=A*this.dim,y=A*this.dim+this.dim,v=u*this.dim,C=u*this.dim+this.dim;switch(A){case-1:m=y-1;break;case 1:y=m+1}switch(u){case-1:v=C-1;break;case 1:C=v+1}const F=-A*this.dim,S=-u*this.dim;for(let P=v;P<C;P++)for(let k=m;k<y;k++)this.data[this._idx(k,P)]=r.data[this._idx(k+F,P+S)]}}zt("DEMData",P_);class Q_{constructor(r){this._stringToNumber={},this._numberToString=[];for(let A=0;A<r.length;A++){const u=r[A];this._stringToNumber[u]=A,this._numberToString[A]=u}}encode(r){return this._stringToNumber[r]}decode(r){if(r>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${r} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[r]}}class k_{constructor(r,A,u,m,y){this.type="Feature",this._vectorTileFeature=r,r._z=A,r._x=u,r._y=m,this.properties=r.properties,this.id=y}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(r){this._geometry=r}toJSON(){const r={geometry:this.geometry};for(const A in this)A!=="_geometry"&&A!=="_vectorTileFeature"&&(r[A]=this[A]);return r}}class D_{constructor(r,A){this.tileID=r,this.x=r.canonical.x,this.y=r.canonical.y,this.z=r.canonical.z,this.grid=new ps(gt,16,0),this.grid3D=new ps(gt,16,0),this.featureIndexArray=new be,this.promoteId=A}insert(r,A,u,m,y,v){const C=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,m,y);const F=v?this.grid3D:this.grid;for(let S=0;S<A.length;S++){const P=A[S],k=[1/0,1/0,-1/0,-1/0];for(let X=0;X<P.length;X++){const j=P[X];k[0]=Math.min(k[0],j.x),k[1]=Math.min(k[1],j.y),k[2]=Math.max(k[2],j.x),k[3]=Math.max(k[3],j.y)}k[0]<gt&&k[1]<gt&&k[2]>=0&&k[3]>=0&&F.insert(C,k[0],k[1],k[2],k[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new qu.VectorTile(new Kp(this.rawTileData)).layers,this.sourceLayerCoder=new Q_(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(r,A,u,m){this.loadVTLayers();const y=r.params,v=gt/r.tileSize/r.scale,C=fu(y.filter),F=r.queryGeometry,S=r.queryPadding*v,P=Z_(F),k=this.grid.query(P.minX-S,P.minY-S,P.maxX+S,P.maxY+S),X=Z_(r.cameraQueryGeometry),j=this.grid3D.query(X.minX-S,X.minY-S,X.maxX+S,X.maxY+S,(de,ye,Ne,Be)=>function(G,ue,Ce,qe,vt){for(const lt of G)if(ue<=lt.x&&Ce<=lt.y&&qe>=lt.x&&vt>=lt.y)return!0;const at=[new Y(ue,Ce),new Y(ue,vt),new Y(qe,vt),new Y(qe,Ce)];if(G.length>2){for(const lt of at)if(BA(G,lt))return!0}for(let lt=0;lt<G.length-1;lt++)if(Kx(G[lt],G[lt+1],at))return!0;return!1}(r.cameraQueryGeometry,de-S,ye-S,Ne+S,Be+S));for(const de of j)k.push(de);k.sort(l9);const K={};let te;for(let de=0;de<k.length;de++){const ye=k[de];if(ye===te)continue;te=ye;const Ne=this.featureIndexArray.get(ye);let Be=null;this.loadMatchingFeature(K,Ne.bucketIndex,Ne.sourceLayerIndex,Ne.featureIndex,C,y.layers,y.availableImages,A,u,m,(G,ue,Ce)=>(Be||(Be=rn(G)),ue.queryIntersectsFeature({queryGeometry:F,feature:G,featureState:Ce,geometry:Be,zoom:this.z,transform:r.transform,pixelsToTileUnits:v,pixelPosMatrix:r.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:r.getElevation})))}return K}loadMatchingFeature(r,A,u,m,y,v,C,F,S,P,k){const X=this.bucketLayerIDs[A];if(v&&!X.some(de=>v.has(de)))return;const j=this.sourceLayerCoder.decode(u),K=this.vtLayers[j].feature(m);if(y.needGeometry){const de=Ks(K,!0);if(!y.filter(new ga(this.tileID.overscaledZ),de,this.tileID.canonical))return}else if(!y.filter(new ga(this.tileID.overscaledZ),K))return;const te=this.getId(K,j);for(let de=0;de<X.length;de++){const ye=X[de];if(v&&!v.has(ye))continue;const Ne=F[ye];if(!Ne)continue;let Be={};te&&P&&(Be=P.getState(Ne.sourceLayer||"_geojsonTileLayer",te));const G=Bt({},S[ye]);G.paint=z_(G.paint,Ne.paint,K,Be,C),G.layout=z_(G.layout,Ne.layout,K,Be,C);const ue=!k||k(K,Ne,Be);if(!ue)continue;const Ce=new k_(K,this.z,this.x,this.y,te);Ce.layer=G;let qe=r[ye];qe===void 0&&(qe=r[ye]=[]),qe.push({featureIndex:m,feature:Ce,intersectionZ:ue})}}lookupSymbolFeatures(r,A,u,m,y,v,C,F){const S={};this.loadVTLayers();const P=fu(y);for(const k of r)this.loadMatchingFeature(S,u,m,k,P,v,C,F,A);return S}hasLayer(r){for(const A of this.bucketLayerIDs)for(const u of A)if(r===u)return!0;return!1}getId(r,A){var u;let m=r.id;return this.promoteId&&(m=r.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[A]],typeof m=="boolean"&&(m=Number(m)),m===void 0&&(!((u=r.properties)===null||u===void 0)&&u.cluster)&&this.promoteId&&(m=Number(r.properties.cluster_id))),m}}function z_(l,r,A,u,m){return Dt(l,(y,v)=>{const C=r instanceof Uc?r.get(v):null;return C&&C.evaluate?C.evaluate(A,u,m):C})}function Z_(l){let r=1/0,A=1/0,u=-1/0,m=-1/0;for(const y of l)r=Math.min(r,y.x),A=Math.min(A,y.y),u=Math.max(u,y.x),m=Math.max(m,y.y);return{minX:r,minY:A,maxX:u,maxY:m}}function l9(l,r){return r-l}function H_(l,r,A,u,m){const y=[];for(let v=0;v<l.length;v++){const C=l[v];let F;for(let S=0;S<C.length-1;S++){let P=C[S],k=C[S+1];P.x<r&&k.x<r||(P.x<r?P=new Y(r,P.y+(r-P.x)/(k.x-P.x)*(k.y-P.y))._round():k.x<r&&(k=new Y(r,P.y+(r-P.x)/(k.x-P.x)*(k.y-P.y))._round()),P.y<A&&k.y<A||(P.y<A?P=new Y(P.x+(A-P.y)/(k.y-P.y)*(k.x-P.x),A)._round():k.y<A&&(k=new Y(P.x+(A-P.y)/(k.y-P.y)*(k.x-P.x),A)._round()),P.x>=u&&k.x>=u||(P.x>=u?P=new Y(u,P.y+(u-P.x)/(k.x-P.x)*(k.y-P.y))._round():k.x>=u&&(k=new Y(u,P.y+(u-P.x)/(k.x-P.x)*(k.y-P.y))._round()),P.y>=m&&k.y>=m||(P.y>=m?P=new Y(P.x+(m-P.y)/(k.y-P.y)*(k.x-P.x),m)._round():k.y>=m&&(k=new Y(P.x+(m-P.y)/(k.y-P.y)*(k.x-P.x),m)._round()),F&&P.equals(F[F.length-1])||(F=[P],y.push(F)),F.push(k)))))}}return y}zt("FeatureIndex",D_,{omit:["rawTileData","sourceLayerCoder"]});class ml extends Y{constructor(r,A,u,m){super(r,A),this.angle=u,m!==void 0&&(this.segment=m)}clone(){return new ml(this.x,this.y,this.angle,this.segment)}}function O_(l,r,A,u,m){if(r.segment===void 0||A===0)return!0;let y=r,v=r.segment+1,C=0;for(;C>-A/2;){if(v--,v<0)return!1;C-=l[v].dist(y),y=l[v]}C+=l[v].dist(l[v+1]),v++;const F=[];let S=0;for(;C<A/2;){const P=l[v],k=l[v+1];if(!k)return!1;let X=l[v-1].angleTo(P)-P.angleTo(k);for(X=Math.abs((X+3*Math.PI)%(2*Math.PI)-Math.PI),F.push({distance:C,angleDelta:X}),S+=X;C-F[0].distance>u;)S-=F.shift().angleDelta;if(S>m)return!1;v++,C+=P.dist(k)}return!0}function X_(l){let r=0;for(let A=0;A<l.length-1;A++)r+=l[A].dist(l[A+1]);return r}function V_(l,r,A){return l?.6*r*A:0}function G_(l,r){return Math.max(l?l.right-l.left:0,r?r.right-r.left:0)}function A9(l,r,A,u,m,y){const v=V_(A,m,y),C=G_(A,u)*y;let F=0;const S=X_(l)/2;for(let P=0;P<l.length-1;P++){const k=l[P],X=l[P+1],j=k.dist(X);if(F+j>S){const K=(S-F)/j,te=ua.number(k.x,X.x,K),de=ua.number(k.y,X.y,K),ye=new ml(te,de,X.angleTo(k),P);return ye._round(),!v||O_(l,ye,C,v,r)?ye:void 0}F+=j}}function c9(l,r,A,u,m,y,v,C,F){const S=V_(u,y,v),P=G_(u,m),k=P*v,X=l[0].x===0||l[0].x===F||l[0].y===0||l[0].y===F;return r-k<r/4&&(r=k+r/4),j_(l,X?r/2*C%r:(P/2+2*y)*v*C%r,r,S,A,k,X,!1,F)}function j_(l,r,A,u,m,y,v,C,F){const S=y/2,P=X_(l);let k=0,X=r-A,j=[];for(let K=0;K<l.length-1;K++){const te=l[K],de=l[K+1],ye=te.dist(de),Ne=de.angleTo(te);for(;X+A<k+ye;){X+=A;const Be=(X-k)/ye,G=ua.number(te.x,de.x,Be),ue=ua.number(te.y,de.y,Be);if(G>=0&&G<F&&ue>=0&&ue<F&&X-S>=0&&X+S<=P){const Ce=new ml(G,ue,Ne,K);Ce._round(),u&&!O_(l,Ce,y,u,m)||j.push(Ce)}}k+=ye}return C||j.length||v||(j=j_(l,k/2,A,u,m,y,v,!0,F)),j}zt("Anchor",ml);const rd=nn;function K_(l,r,A,u){const m=[],y=l.image,v=y.pixelRatio,C=y.paddedRect.w-2*rd,F=y.paddedRect.h-2*rd;let S={x1:l.left,y1:l.top,x2:l.right,y2:l.bottom};const P=y.stretchX||[[0,C]],k=y.stretchY||[[0,F]],X=(ht,Vt)=>ht+Vt[1]-Vt[0],j=P.reduce(X,0),K=k.reduce(X,0),te=C-j,de=F-K;let ye=0,Ne=j,Be=0,G=K,ue=0,Ce=te,qe=0,vt=de;if(y.content&&u){const ht=y.content,Vt=ht[2]-ht[0],gi=ht[3]-ht[1];(y.textFitWidth||y.textFitHeight)&&(S=v_(l)),ye=Sf(P,0,ht[0]),Be=Sf(k,0,ht[1]),Ne=Sf(P,ht[0],ht[2]),G=Sf(k,ht[1],ht[3]),ue=ht[0]-ye,qe=ht[1]-Be,Ce=Vt-Ne,vt=gi-G}const at=S.x1,lt=S.y1,Mt=S.x2-at,xt=S.y2-lt,Et=(ht,Vt,gi,hi)=>{const ii=Yf(ht.stretch-ye,Ne,Mt,at),Pi=Nf(ht.fixed-ue,Ce,ht.stretch,j),Na=Yf(Vt.stretch-Be,G,xt,lt),Ja=Nf(Vt.fixed-qe,vt,Vt.stretch,K),Tr=Yf(gi.stretch-ye,Ne,Mt,at),Tn=Nf(gi.fixed-ue,Ce,gi.stretch,j),sn=Yf(hi.stretch-Be,G,xt,lt),yr=Nf(hi.fixed-qe,vt,hi.stretch,K),Ra=new Y(ii,Na),sr=new Y(Tr,Na),vr=new Y(Tr,sn),xr=new Y(ii,sn),Kr=new Y(Pi/v,Ja/v),Sn=new Y(Tn/v,yr/v),or=r*Math.PI/180;if(or){const lr=Math.sin(or),Ar=Math.cos(or),Va=[Ar,-lr,lr,Ar];Ra._matMult(Va),sr._matMult(Va),xr._matMult(Va),vr._matMult(Va)}const on=ht.stretch+ht.fixed,er=Vt.stretch+Vt.fixed;return{tl:Ra,tr:sr,bl:xr,br:vr,tex:{x:y.paddedRect.x+rd+on,y:y.paddedRect.y+rd+er,w:gi.stretch+gi.fixed-on,h:hi.stretch+hi.fixed-er},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Kr,pixelOffsetBR:Sn,minFontScaleX:Ce/v/Mt,minFontScaleY:vt/v/xt,isSDF:A}};if(u&&(y.stretchX||y.stretchY)){const ht=$_(P,te,j),Vt=$_(k,de,K);for(let gi=0;gi<ht.length-1;gi++){const hi=ht[gi],ii=ht[gi+1];for(let Pi=0;Pi<Vt.length-1;Pi++)m.push(Et(hi,Vt[Pi],ii,Vt[Pi+1]))}}else m.push(Et({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:C+1},{fixed:0,stretch:F+1}));return m}function Sf(l,r,A){let u=0;for(const m of l)u+=Math.max(r,Math.min(A,m[1]))-Math.max(r,Math.min(A,m[0]));return u}function $_(l,r,A){const u=[{fixed:-1,stretch:0}];for(const[m,y]of l){const v=u[u.length-1];u.push({fixed:m-v.stretch,stretch:v.stretch}),u.push({fixed:m-v.stretch,stretch:v.stretch+(y-m)})}return u.push({fixed:r+rd,stretch:A}),u}function Yf(l,r,A,u){return l/r*A+u}function Nf(l,r,A,u){return l-r*A/u}class Lf{constructor(r,A,u,m,y,v,C,F,S,P){var k;if(this.boxStartIndex=r.length,S){let X=v.top,j=v.bottom;const K=v.collisionPadding;K&&(X-=K[1],j+=K[3]);let te=j-X;te>0&&(te=Math.max(10,te),this.circleDiameter=te)}else{const X=!((k=v.image)===null||k===void 0)&&k.content&&(v.image.textFitWidth||v.image.textFitHeight)?v_(v):{x1:v.left,y1:v.top,x2:v.right,y2:v.bottom};X.y1=X.y1*C-F[0],X.y2=X.y2*C+F[2],X.x1=X.x1*C-F[3],X.x2=X.x2*C+F[1];const j=v.collisionPadding;if(j&&(X.x1-=j[0]*C,X.y1-=j[1]*C,X.x2+=j[2]*C,X.y2+=j[3]*C),P){const K=new Y(X.x1,X.y1),te=new Y(X.x2,X.y1),de=new Y(X.x1,X.y2),ye=new Y(X.x2,X.y2),Ne=P*Math.PI/180;K._rotate(Ne),te._rotate(Ne),de._rotate(Ne),ye._rotate(Ne),X.x1=Math.min(K.x,te.x,de.x,ye.x),X.x2=Math.max(K.x,te.x,de.x,ye.x),X.y1=Math.min(K.y,te.y,de.y,ye.y),X.y2=Math.max(K.y,te.y,de.y,ye.y)}r.emplaceBack(A.x,A.y,X.x1,X.y1,X.x2,X.y2,u,m,y)}this.boxEndIndex=r.length}}class h9{constructor(r=[],A=(u,m)=>u<m?-1:u>m?1:0){if(this.data=r,this.length=this.data.length,this.compare=A,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(r){this.data.push(r),this._up(this.length++)}pop(){if(this.length===0)return;const r=this.data[0],A=this.data.pop();return--this.length>0&&(this.data[0]=A,this._down(0)),r}peek(){return this.data[0]}_up(r){const{data:A,compare:u}=this,m=A[r];for(;r>0;){const y=r-1>>1,v=A[y];if(u(m,v)>=0)break;A[r]=v,r=y}A[r]=m}_down(r){const{data:A,compare:u}=this,m=this.length>>1,y=A[r];for(;r<m;){let v=1+(r<<1);const C=v+1;if(C<this.length&&u(A[C],A[v])<0&&(v=C),u(A[v],y)>=0)break;A[r]=A[v],r=v}A[r]=y}}function u9(l,r=1,A=!1){let u=1/0,m=1/0,y=-1/0,v=-1/0;const C=l[0];for(let j=0;j<C.length;j++){const K=C[j];(!j||K.x<u)&&(u=K.x),(!j||K.y<m)&&(m=K.y),(!j||K.x>y)&&(y=K.x),(!j||K.y>v)&&(v=K.y)}const F=Math.min(y-u,v-m);let S=F/2;const P=new h9([],d9);if(F===0)return new Y(u,m);for(let j=u;j<y;j+=F)for(let K=m;K<v;K+=F)P.push(new zc(j+S,K+S,S,l));let k=function(j){let K=0,te=0,de=0;const ye=j[0];for(let Ne=0,Be=ye.length,G=Be-1;Ne<Be;G=Ne++){const ue=ye[Ne],Ce=ye[G],qe=ue.x*Ce.y-Ce.x*ue.y;te+=(ue.x+Ce.x)*qe,de+=(ue.y+Ce.y)*qe,K+=3*qe}return new zc(te/K,de/K,0,j)}(l),X=P.length;for(;P.length;){const j=P.pop();(j.d>k.d||!k.d)&&(k=j,A&&console.log("found best %d after %d probes",Math.round(1e4*j.d)/1e4,X)),j.max-k.d<=r||(S=j.h/2,P.push(new zc(j.p.x-S,j.p.y-S,S,l)),P.push(new zc(j.p.x+S,j.p.y-S,S,l)),P.push(new zc(j.p.x-S,j.p.y+S,S,l)),P.push(new zc(j.p.x+S,j.p.y+S,S,l)),X+=4)}return A&&(console.log(`num probes: ${X}`),console.log(`best distance: ${k.d}`)),k.p}function d9(l,r){return r.max-l.max}function zc(l,r,A,u){this.p=new Y(l,r),this.h=A,this.d=function(m,y){let v=!1,C=1/0;for(let F=0;F<y.length;F++){const S=y[F];for(let P=0,k=S.length,X=k-1;P<k;X=P++){const j=S[P],K=S[X];j.y>m.y!=K.y>m.y&&m.x<(K.x-j.x)*(m.y-j.y)/(K.y-j.y)+j.x&&(v=!v),C=Math.min(C,E4(m,j,K))}}return(v?1:-1)*Math.sqrt(C)}(this.p,u),this.max=this.d+this.h*Math.SQRT2}var Fr;h.aB=void 0,(Fr=h.aB||(h.aB={}))[Fr.center=1]="center",Fr[Fr.left=2]="left",Fr[Fr.right=3]="right",Fr[Fr.top=4]="top",Fr[Fr.bottom=5]="bottom",Fr[Fr["top-left"]=6]="top-left",Fr[Fr["top-right"]=7]="top-right",Fr[Fr["bottom-left"]=8]="bottom-left",Fr[Fr["bottom-right"]=9]="bottom-right";const _l=7,l2=Number.POSITIVE_INFINITY;function q_(l,r){return r[1]!==l2?function(A,u,m){let y=0,v=0;switch(u=Math.abs(u),m=Math.abs(m),A){case"top-right":case"top-left":case"top":v=m-_l;break;case"bottom-right":case"bottom-left":case"bottom":v=-m+_l}switch(A){case"top-right":case"bottom-right":case"right":y=-u;break;case"top-left":case"bottom-left":case"left":y=u}return[y,v]}(l,r[0],r[1]):function(A,u){let m=0,y=0;u<0&&(u=0);const v=u/Math.SQRT2;switch(A){case"top-right":case"top-left":y=v-_l;break;case"bottom-right":case"bottom-left":y=-v+_l;break;case"bottom":y=-u+_l;break;case"top":y=u-_l}switch(A){case"top-right":case"bottom-right":m=-v;break;case"top-left":case"bottom-left":m=v;break;case"left":m=u;break;case"right":m=-u}return[m,y]}(l,r[0])}function W_(l,r,A){var u;const m=l.layout,y=(u=m.get("text-variable-anchor-offset"))===null||u===void 0?void 0:u.evaluate(r,{},A);if(y){const C=y.values,F=[];for(let S=0;S<C.length;S+=2){const P=F[S]=C[S],k=C[S+1].map(X=>X*Wa);P.startsWith("top")?k[1]-=_l:P.startsWith("bottom")&&(k[1]+=_l),F[S+1]=k}return new _r(F)}const v=m.get("text-variable-anchor");if(v){let C;C=l._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[m.get("text-radial-offset").evaluate(r,{},A)*Wa,l2]:m.get("text-offset").evaluate(r,{},A).map(S=>S*Wa);const F=[];for(const S of v)F.push(S,q_(S,C));return new _r(F)}return null}function A2(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function f9(l,r,A,u,m,y,v,C,F,S,P,k){let X=y.textMaxSize.evaluate(r,{});X===void 0&&(X=v);const j=l.layers[0].layout,K=j.get("icon-offset").evaluate(r,{},P),te=eb(A.horizontal),de=v/24,ye=l.tilePixelRatio*de,Ne=l.tilePixelRatio*X/24,Be=l.tilePixelRatio*C,G=l.tilePixelRatio*j.get("symbol-spacing"),ue=j.get("text-padding")*l.tilePixelRatio,Ce=function(gi,hi,ii,Pi=1){const Na=gi.get("icon-padding").evaluate(hi,{},ii),Ja=Na&&Na.values;return[Ja[0]*Pi,Ja[1]*Pi,Ja[2]*Pi,Ja[3]*Pi]}(j,r,P,l.tilePixelRatio),qe=j.get("text-max-angle")/180*Math.PI,vt=j.get("text-rotation-alignment")!=="viewport"&&j.get("symbol-placement")!=="point",at=j.get("icon-rotation-alignment")==="map"&&j.get("symbol-placement")!=="point",lt=j.get("symbol-placement"),Mt=G/2,xt=j.get("icon-text-fit");let Et;u&&xt!=="none"&&(l.allowVerticalPlacement&&A.vertical&&(Et=x_(u,A.vertical,xt,j.get("icon-text-fit-padding"),K,de)),te&&(u=x_(u,te,xt,j.get("icon-text-fit-padding"),K,de)));const ht=P?k.line.getGranularityForZoomLevel(P.z):1,Vt=(gi,hi)=>{hi.x<0||hi.x>=gt||hi.y<0||hi.y>=gt||function(ii,Pi,Na,Ja,Tr,Tn,sn,yr,Ra,sr,vr,xr,Kr,Sn,or,on,er,lr,Ar,Va,_a,ws,Zc,Bs,m9){const Hc=ii.addToLineVertexArray(Pi,Na);let RA,Oc,Xc,Vc,rb=0,nb=0,sb=0,ob=0,m2=-1,_2=-1;const Mo={};let lb=Er("");if(ii.allowVerticalPlacement&&Ja.vertical){const zr=yr.layout.get("text-rotate").evaluate(_a,{},Bs)+90;Xc=new Lf(Ra,Pi,sr,vr,xr,Ja.vertical,Kr,Sn,or,zr),sn&&(Vc=new Lf(Ra,Pi,sr,vr,xr,sn,er,lr,or,zr))}if(Tr){const zr=yr.layout.get("icon-rotate").evaluate(_a,{}),Yn=yr.layout.get("icon-text-fit")!=="none",IA=K_(Tr,zr,Zc,Yn),Ms=sn?K_(sn,zr,Zc,Yn):void 0;Oc=new Lf(Ra,Pi,sr,vr,xr,Tr,er,lr,!1,zr),rb=4*IA.length;const UA=ii.iconSizeData;let qs=null;UA.kind==="source"?(qs=[$s*yr.layout.get("icon-size").evaluate(_a,{})],qs[0]>gl&&ui(`${ii.layerIds[0]}: Value for "icon-size" is >= ${id}. Reduce your "icon-size".`)):UA.kind==="composite"&&(qs=[$s*ws.compositeIconSizes[0].evaluate(_a,{},Bs),$s*ws.compositeIconSizes[1].evaluate(_a,{},Bs)],(qs[0]>gl||qs[1]>gl)&&ui(`${ii.layerIds[0]}: Value for "icon-size" is >= ${id}. Reduce your "icon-size".`)),ii.addSymbols(ii.icon,IA,qs,Va,Ar,_a,h.al.none,Pi,Hc.lineStartIndex,Hc.lineLength,-1,Bs),m2=ii.icon.placedSymbolArray.length-1,Ms&&(nb=4*Ms.length,ii.addSymbols(ii.icon,Ms,qs,Va,Ar,_a,h.al.vertical,Pi,Hc.lineStartIndex,Hc.lineLength,-1,Bs),_2=ii.icon.placedSymbolArray.length-1)}const Ab=Object.keys(Ja.horizontal);for(const zr of Ab){const Yn=Ja.horizontal[zr];if(!RA){lb=Er(Yn.text);const Ms=yr.layout.get("text-rotate").evaluate(_a,{},Bs);RA=new Lf(Ra,Pi,sr,vr,xr,Yn,Kr,Sn,or,Ms)}const IA=Yn.positionedLines.length===1;if(sb+=J_(ii,Pi,Yn,Tn,yr,or,_a,on,Hc,Ja.vertical?h.al.horizontal:h.al.horizontalOnly,IA?Ab:[zr],Mo,m2,ws,Bs),IA)break}Ja.vertical&&(ob+=J_(ii,Pi,Ja.vertical,Tn,yr,or,_a,on,Hc,h.al.vertical,["vertical"],Mo,_2,ws,Bs));const _9=RA?RA.boxStartIndex:ii.collisionBoxArray.length,b9=RA?RA.boxEndIndex:ii.collisionBoxArray.length,y9=Xc?Xc.boxStartIndex:ii.collisionBoxArray.length,v9=Xc?Xc.boxEndIndex:ii.collisionBoxArray.length,x9=Oc?Oc.boxStartIndex:ii.collisionBoxArray.length,w9=Oc?Oc.boxEndIndex:ii.collisionBoxArray.length,B9=Vc?Vc.boxStartIndex:ii.collisionBoxArray.length,C9=Vc?Vc.boxEndIndex:ii.collisionBoxArray.length;let Cs=-1;const Qf=(zr,Yn)=>zr&&zr.circleDiameter?Math.max(zr.circleDiameter,Yn):Yn;Cs=Qf(RA,Cs),Cs=Qf(Xc,Cs),Cs=Qf(Oc,Cs),Cs=Qf(Vc,Cs);const cb=Cs>-1?1:0;cb&&(Cs*=m9/Wa),ii.glyphOffsetArray.length>=kc.MAX_GLYPHS&&ui("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),_a.sortKey!==void 0&&ii.addToSortKeyRanges(ii.symbolInstances.length,_a.sortKey);const M9=W_(yr,_a,Bs),[R9,I9]=function(zr,Yn){const IA=zr.length,Ms=Yn==null?void 0:Yn.values;if((Ms==null?void 0:Ms.length)>0)for(let UA=0;UA<Ms.length;UA+=2){const qs=Ms[UA+1];zr.emplaceBack(h.aB[Ms[UA]],qs[0],qs[1])}return[IA,zr.length]}(ii.textAnchorOffsets,M9);ii.symbolInstances.emplaceBack(Pi.x,Pi.y,Mo.right>=0?Mo.right:-1,Mo.center>=0?Mo.center:-1,Mo.left>=0?Mo.left:-1,Mo.vertical||-1,m2,_2,lb,_9,b9,y9,v9,x9,w9,B9,C9,sr,sb,ob,rb,nb,cb,0,Kr,Cs,R9,I9)}(l,hi,gi,A,u,m,Et,l.layers[0],l.collisionBoxArray,r.index,r.sourceLayerIndex,l.index,ye,[ue,ue,ue,ue],vt,F,Be,Ce,at,K,r,y,S,P,v)};if(lt==="line")for(const gi of H_(r.geometry,0,0,gt,gt)){const hi=MA(gi,ht),ii=c9(hi,G,qe,A.vertical||te,u,24,Ne,l.overscaling,gt);for(const Pi of ii)te&&g9(l,te.text,Mt,Pi)||Vt(hi,Pi)}else if(lt==="line-center"){for(const gi of r.geometry)if(gi.length>1){const hi=MA(gi,ht),ii=A9(hi,qe,A.vertical||te,u,24,Ne);ii&&Vt(hi,ii)}}else if(r.type==="Polygon")for(const gi of oc(r.geometry,0)){const hi=u9(gi,16);Vt(MA(gi[0],ht,!0),new ml(hi.x,hi.y,0))}else if(r.type==="LineString")for(const gi of r.geometry){const hi=MA(gi,ht);Vt(hi,new ml(hi[0].x,hi[0].y,0))}else if(r.type==="Point")for(const gi of r.geometry)for(const hi of gi)Vt([hi],new ml(hi.x,hi.y,0))}function J_(l,r,A,u,m,y,v,C,F,S,P,k,X,j,K){const te=function(Ne,Be,G,ue,Ce,qe,vt,at){const lt=ue.layout.get("text-rotate").evaluate(qe,{})*Math.PI/180,Mt=[];for(const xt of Be.positionedLines)for(const Et of xt.positionedGlyphs){if(!Et.rect)continue;const ht=Et.rect||{};let Vt=Zw+1,gi=!0,hi=1,ii=0;const Pi=(Ce||at)&&Et.vertical,Na=Et.metrics.advance*Et.scale/2;if(at&&Be.verticalizable&&(ii=xt.lineOffset/2-(Et.imageName?-(Wa-Et.metrics.width*Et.scale)/2:(Et.scale-1)*Wa)),Et.imageName){const lr=vt[Et.imageName];gi=lr.sdf,hi=lr.pixelRatio,Vt=nn/hi}const Ja=Ce?[Et.x+Na,Et.y]:[0,0];let Tr=Ce?[0,0]:[Et.x+Na+G[0],Et.y+G[1]-ii],Tn=[0,0];Pi&&(Tn=Tr,Tr=[0,0]);const sn=Et.metrics.isDoubleResolution?2:1,yr=(Et.metrics.left-Vt)*Et.scale-Na+Tr[0],Ra=(-Et.metrics.top-Vt)*Et.scale+Tr[1],sr=yr+ht.w/sn*Et.scale/hi,vr=Ra+ht.h/sn*Et.scale/hi,xr=new Y(yr,Ra),Kr=new Y(sr,Ra),Sn=new Y(yr,vr),or=new Y(sr,vr);if(Pi){const lr=new Y(-Na,Na-If),Ar=-Math.PI/2,Va=Wa/2-Na,_a=new Y(5-If-Va,-(Et.imageName?Va:0)),ws=new Y(...Tn);xr._rotateAround(Ar,lr)._add(_a)._add(ws),Kr._rotateAround(Ar,lr)._add(_a)._add(ws),Sn._rotateAround(Ar,lr)._add(_a)._add(ws),or._rotateAround(Ar,lr)._add(_a)._add(ws)}if(lt){const lr=Math.sin(lt),Ar=Math.cos(lt),Va=[Ar,-lr,lr,Ar];xr._matMult(Va),Kr._matMult(Va),Sn._matMult(Va),or._matMult(Va)}const on=new Y(0,0),er=new Y(0,0);Mt.push({tl:xr,tr:Kr,bl:Sn,br:or,tex:ht,writingMode:Be.writingMode,glyphOffset:Ja,sectionIndex:Et.sectionIndex,isSDF:gi,pixelOffsetTL:on,pixelOffsetBR:er,minFontScaleX:0,minFontScaleY:0})}return Mt}(0,A,C,m,y,v,u,l.allowVerticalPlacement),de=l.textSizeData;let ye=null;de.kind==="source"?(ye=[$s*m.layout.get("text-size").evaluate(v,{})],ye[0]>gl&&ui(`${l.layerIds[0]}: Value for "text-size" is >= ${id}. Reduce your "text-size".`)):de.kind==="composite"&&(ye=[$s*j.compositeTextSizes[0].evaluate(v,{},K),$s*j.compositeTextSizes[1].evaluate(v,{},K)],(ye[0]>gl||ye[1]>gl)&&ui(`${l.layerIds[0]}: Value for "text-size" is >= ${id}. Reduce your "text-size".`)),l.addSymbols(l.text,te,ye,C,y,v,S,r,F.lineStartIndex,F.lineLength,X,K);for(const Ne of P)k[Ne]=l.text.placedSymbolArray.length-1;return 4*te.length}function eb(l){for(const r in l)return l[r];return null}function g9(l,r,A,u){const m=l.compareText;if(r in m){const y=m[r];for(let v=y.length-1;v>=0;v--)if(u.dist(y[v])<A)return!0}else m[r]=[];return m[r].push(u),!1}const tb=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class c2{static from(r){if(!(r instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[A,u]=new Uint8Array(r,0,2);if(A!==219)throw new Error("Data does not appear to be in a KDBush format.");const m=u>>4;if(m!==1)throw new Error(`Got v${m} data when expected v1.`);const y=tb[15&u];if(!y)throw new Error("Unrecognized array type.");const[v]=new Uint16Array(r,2,1),[C]=new Uint32Array(r,4,1);return new c2(C,v,y,r)}constructor(r,A=64,u=Float64Array,m){if(isNaN(r)||r<0)throw new Error(`Unpexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+A,2),65535),this.ArrayType=u,this.IndexArrayType=r<65536?Uint16Array:Uint32Array;const y=tb.indexOf(this.ArrayType),v=2*r*this.ArrayType.BYTES_PER_ELEMENT,C=r*this.IndexArrayType.BYTES_PER_ELEMENT,F=(8-C%8)%8;if(y<0)throw new Error(`Unexpected typed array class: ${u}.`);m&&m instanceof ArrayBuffer?(this.data=m,this.ids=new this.IndexArrayType(this.data,8,r),this.coords=new this.ArrayType(this.data,8+C+F,2*r),this._pos=2*r,this._finished=!0):(this.data=new ArrayBuffer(8+v+C+F),this.ids=new this.IndexArrayType(this.data,8,r),this.coords=new this.ArrayType(this.data,8+C+F,2*r),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+y]),new Uint16Array(this.data,2,1)[0]=A,new Uint32Array(this.data,4,1)[0]=r)}add(r,A){const u=this._pos>>1;return this.ids[u]=u,this.coords[this._pos++]=r,this.coords[this._pos++]=A,u}finish(){const r=this._pos>>1;if(r!==this.numItems)throw new Error(`Added ${r} items when expected ${this.numItems}.`);return h2(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(r,A,u,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:y,coords:v,nodeSize:C}=this,F=[0,y.length-1,0],S=[];for(;F.length;){const P=F.pop()||0,k=F.pop()||0,X=F.pop()||0;if(k-X<=C){for(let de=X;de<=k;de++){const ye=v[2*de],Ne=v[2*de+1];ye>=r&&ye<=u&&Ne>=A&&Ne<=m&&S.push(y[de])}continue}const j=X+k>>1,K=v[2*j],te=v[2*j+1];K>=r&&K<=u&&te>=A&&te<=m&&S.push(y[j]),(P===0?r<=K:A<=te)&&(F.push(X),F.push(j-1),F.push(1-P)),(P===0?u>=K:m>=te)&&(F.push(j+1),F.push(k),F.push(1-P))}return S}within(r,A,u){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:m,coords:y,nodeSize:v}=this,C=[0,m.length-1,0],F=[],S=u*u;for(;C.length;){const P=C.pop()||0,k=C.pop()||0,X=C.pop()||0;if(k-X<=v){for(let de=X;de<=k;de++)ab(y[2*de],y[2*de+1],r,A)<=S&&F.push(m[de]);continue}const j=X+k>>1,K=y[2*j],te=y[2*j+1];ab(K,te,r,A)<=S&&F.push(m[j]),(P===0?r-u<=K:A-u<=te)&&(C.push(X),C.push(j-1),C.push(1-P)),(P===0?r+u>=K:A+u>=te)&&(C.push(j+1),C.push(k),C.push(1-P))}return F}}function h2(l,r,A,u,m,y){if(m-u<=A)return;const v=u+m>>1;ib(l,r,v,u,m,y),h2(l,r,A,u,v-1,1-y),h2(l,r,A,v+1,m,1-y)}function ib(l,r,A,u,m,y){for(;m>u;){if(m-u>600){const S=m-u+1,P=A-u+1,k=Math.log(S),X=.5*Math.exp(2*k/3),j=.5*Math.sqrt(k*X*(S-X)/S)*(P-S/2<0?-1:1);ib(l,r,A,Math.max(u,Math.floor(A-P*X/S+j)),Math.min(m,Math.floor(A+(S-P)*X/S+j)),y)}const v=r[2*A+y];let C=u,F=m;for(nd(l,r,u,A),r[2*m+y]>v&&nd(l,r,u,m);C<F;){for(nd(l,r,C,F),C++,F--;r[2*C+y]<v;)C++;for(;r[2*F+y]>v;)F--}r[2*u+y]===v?nd(l,r,u,F):(F++,nd(l,r,F,m)),F<=A&&(u=F+1),A<=F&&(m=F-1)}}function nd(l,r,A,u){u2(l,A,u),u2(r,2*A,2*u),u2(r,2*A+1,2*u+1)}function u2(l,r,A){const u=l[r];l[r]=l[A],l[A]=u}function ab(l,r,A,u){const m=l-A,y=r-u;return m*m+y*y}var d2;h.cm=void 0,(d2=h.cm||(h.cm={})).create="create",d2.load="load",d2.fullLoad="fullLoad";let Pf=null,sd=[];const f2=1e3/60,g2="loadTime",p2="fullLoadTime",p9={mark(l){performance.mark(l)},frame(l){const r=l;Pf!=null&&sd.push(r-Pf),Pf=r},clearMetrics(){Pf=null,sd=[],performance.clearMeasures(g2),performance.clearMeasures(p2);for(const l in h.cm)performance.clearMarks(h.cm[l])},getPerformanceMetrics(){performance.measure(g2,h.cm.create,h.cm.load),performance.measure(p2,h.cm.create,h.cm.fullLoad);const l=performance.getEntriesByName(g2)[0].duration,r=performance.getEntriesByName(p2)[0].duration,A=sd.length,u=1/(sd.reduce((y,v)=>y+v,0)/A/1e3),m=sd.filter(y=>y>f2).reduce((y,v)=>y+(v-f2)/f2,0);return{loadTime:l,fullLoadTime:r,fps:u,percentDroppedFrames:m/(A+m)*100,totalFrames:A}}};h.$=ad,h.A=se,h.B=ua,h.C=ga,h.D=ri,h.E=xe,h.F=Cu,h.G=function(l){if(oi==null){const r=l.navigator?l.navigator.userAgent:null;oi=!!l.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return oi},h.H=class{constructor(l,r){this.target=l,this.mapId=r,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new s9(()=>this.process()),this.subscription=Si(this.target,"message",A=>this.receive(A),!1),this.globalScope=Zt(self)?l:window}registerMessageHandler(l,r){this.messageHandlers[l]=r}sendAsync(l,r){return new Promise((A,u)=>{const m=Math.round(1e18*Math.random()).toString(36).substring(0,10),y=r?Si(r.signal,"abort",()=>{y==null||y.unsubscribe(),delete this.resolveRejects[m];const F={id:m,type:"<cancel>",origin:location.origin,targetMapId:l.targetMapId,sourceMapId:this.mapId};this.target.postMessage(F)},o9):null;this.resolveRejects[m]={resolve:F=>{y==null||y.unsubscribe(),A(F)},reject:F=>{y==null||y.unsubscribe(),u(F)}};const v=[],C=Object.assign(Object.assign({},l),{id:m,sourceMapId:this.mapId,origin:location.origin,data:fA(l.data,v)});this.target.postMessage(C,{transfer:v})})}receive(l){const r=l.data,A=r.id;if(!(r.origin!=="file://"&&location.origin!=="file://"&&r.origin!=="resource://android"&&location.origin!=="resource://android"&&r.origin!==location.origin||r.targetMapId&&this.mapId!==r.targetMapId)){if(r.type==="<cancel>"){delete this.tasks[A];const u=this.abortControllers[A];return delete this.abortControllers[A],void(u&&u.abort())}if(Zt(self)||r.mustQueue)return this.tasks[A]=r,this.taskQueue.push(A),void this.invoker.trigger();this.processTask(A,r)}}process(){if(this.taskQueue.length===0)return;const l=this.taskQueue.shift(),r=this.tasks[l];delete this.tasks[l],this.taskQueue.length>0&&this.invoker.trigger(),r&&this.processTask(l,r)}processTask(l,r){return s(this,void 0,void 0,function*(){if(r.type==="<response>"){const m=this.resolveRejects[l];return delete this.resolveRejects[l],m?void(r.error?m.reject(yo(r.error)):m.resolve(yo(r.data))):void 0}if(!this.messageHandlers[r.type])return void this.completeTask(l,new Error(`Could not find a registered handler for ${r.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const A=yo(r.data),u=new AbortController;this.abortControllers[l]=u;try{const m=yield this.messageHandlers[r.type](r.sourceMapId,A,u);this.completeTask(l,null,m)}catch(m){this.completeTask(l,m)}})}completeTask(l,r,A){const u=[];delete this.abortControllers[l];const m={id:l,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:r?fA(r):null,data:fA(A,u)};this.target.postMessage(m,{transfer:u})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},h.I=qp,h.J=Ha,h.K=function(){var l=new se(16);return se!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},h.L=function(l,r,A){var u,m,y,v,C,F,S,P,k,X,j,K,te=A[0],de=A[1],ye=A[2];return r===l?(l[12]=r[0]*te+r[4]*de+r[8]*ye+r[12],l[13]=r[1]*te+r[5]*de+r[9]*ye+r[13],l[14]=r[2]*te+r[6]*de+r[10]*ye+r[14],l[15]=r[3]*te+r[7]*de+r[11]*ye+r[15]):(m=r[1],y=r[2],v=r[3],C=r[4],F=r[5],S=r[6],P=r[7],k=r[8],X=r[9],j=r[10],K=r[11],l[0]=u=r[0],l[1]=m,l[2]=y,l[3]=v,l[4]=C,l[5]=F,l[6]=S,l[7]=P,l[8]=k,l[9]=X,l[10]=j,l[11]=K,l[12]=u*te+C*de+k*ye+r[12],l[13]=m*te+F*de+X*ye+r[13],l[14]=y*te+S*de+j*ye+r[14],l[15]=v*te+P*de+K*ye+r[15]),l},h.M=function(l,r,A){var u=A[0],m=A[1],y=A[2];return l[0]=r[0]*u,l[1]=r[1]*u,l[2]=r[2]*u,l[3]=r[3]*u,l[4]=r[4]*m,l[5]=r[5]*m,l[6]=r[6]*m,l[7]=r[7]*m,l[8]=r[8]*y,l[9]=r[9]*y,l[10]=r[10]*y,l[11]=r[11]*y,l[12]=r[12],l[13]=r[13],l[14]=r[14],l[15]=r[15],l},h.N=function(l,r,A){var u=r[0],m=r[1],y=r[2],v=r[3],C=r[4],F=r[5],S=r[6],P=r[7],k=r[8],X=r[9],j=r[10],K=r[11],te=r[12],de=r[13],ye=r[14],Ne=r[15],Be=A[0],G=A[1],ue=A[2],Ce=A[3];return l[0]=Be*u+G*C+ue*k+Ce*te,l[1]=Be*m+G*F+ue*X+Ce*de,l[2]=Be*y+G*S+ue*j+Ce*ye,l[3]=Be*v+G*P+ue*K+Ce*Ne,l[4]=(Be=A[4])*u+(G=A[5])*C+(ue=A[6])*k+(Ce=A[7])*te,l[5]=Be*m+G*F+ue*X+Ce*de,l[6]=Be*y+G*S+ue*j+Ce*ye,l[7]=Be*v+G*P+ue*K+Ce*Ne,l[8]=(Be=A[8])*u+(G=A[9])*C+(ue=A[10])*k+(Ce=A[11])*te,l[9]=Be*m+G*F+ue*X+Ce*de,l[10]=Be*y+G*S+ue*j+Ce*ye,l[11]=Be*v+G*P+ue*K+Ce*Ne,l[12]=(Be=A[12])*u+(G=A[13])*C+(ue=A[14])*k+(Ce=A[15])*te,l[13]=Be*m+G*F+ue*X+Ce*de,l[14]=Be*y+G*S+ue*j+Ce*ye,l[15]=Be*v+G*P+ue*K+Ce*Ne,l},h.O=function(l,r){const A={};for(let u=0;u<r.length;u++){const m=r[u];m in l&&(A[m]=l[m])}return A},h.P=Y,h.Q=pl,h.R=En,h.S=T_,h.T=Eu,h.U=F_,h.V=Ae,h.W=ce,h.X=pt,h.Y=Fn,h.Z=gt,h._=s,h.a=ha,h.a$=function(l,r,A){var u=Math.sin(A),m=Math.cos(A),y=r[4],v=r[5],C=r[6],F=r[7],S=r[8],P=r[9],k=r[10],X=r[11];return r!==l&&(l[0]=r[0],l[1]=r[1],l[2]=r[2],l[3]=r[3],l[12]=r[12],l[13]=r[13],l[14]=r[14],l[15]=r[15]),l[4]=y*m+S*u,l[5]=v*m+P*u,l[6]=C*m+k*u,l[7]=F*m+X*u,l[8]=S*m-y*u,l[9]=P*m-v*u,l[10]=k*m-C*u,l[11]=X*m-F*u,l},h.a0=25,h.a1=o2,h.a2=l=>{const r=window.document.createElement("video");return r.muted=!0,new Promise(A=>{r.onloadstart=()=>{A(r)};for(const u of l){const m=window.document.createElement("source");va(u)||(r.crossOrigin="Anonymous"),m.src=u,r.appendChild(m)}})},h.a3=Xe,h.a4=function(){return yt++},h.a5=U,h.a6=kc,h.a7=fu,h.a8=Ks,h.a9=k_,h.aA=function(l,r,A,u,m=!1){if(!A[0]&&!A[1])return[0,0];const y=m?u==="map"?-l.bearingInRadians:0:u==="viewport"?l.bearingInRadians:0;if(y){const v=Math.sin(y),C=Math.cos(y);A=[A[0]*C-A[1]*v,A[0]*v+A[1]*C]}return[m?A[0]:Rt(r,A[0],l.zoom),m?A[1]:Rt(r,A[1],l.zoom)]},h.aC=e2,h.aD=A2,h.aE=Jp,h.aF=c2,h.aG=Da,h.aH=Cf,h.aI=we,h.aJ=bi,h.aK=Ut,h.aL=rt,h.aM=fa,h.aN=Y_,h.aO=function(l,r,A){return l[0]=r[0]*A,l[1]=r[1]*A,l[2]=r[2]*A,l},h.aP=function(l,r,A){return l[0]=r[0]+A[0],l[1]=r[1]+A[1],l[2]=r[2]+A[2],l},h.aQ=function(l){var r=new se(3);return r[0]=l[0],r[1]=l[1],r[2]=l[2],r},h.aR=function(l,r,A){return l[0]=r[0]*A[0],l[1]=r[1]*A[1],l[2]=r[2]*A[2],l[3]=r[3]*A[3],l},h.aS=function(l,r,A){return l[0]=r[0]-A[0],l[1]=r[1]-A[1],l[2]=r[2]-A[2],l},h.aT=function(l,r){var A=r[0],u=r[1],m=r[2],y=A*A+u*u+m*m;return y>0&&(y=1/Math.sqrt(y)),l[0]=r[0]*y,l[1]=r[1]*y,l[2]=r[2]*y,l},h.aU=function(l,r,A){var u=r[0],m=r[1],y=r[2],v=A[0],C=A[1],F=A[2];return l[0]=m*F-y*C,l[1]=y*v-u*F,l[2]=u*C-m*v,l},h.aV=function(l,r){return l[0]*r[0]+l[1]*r[1]+l[2]*r[2]},h.aW=L_,h.aX=Dc,h.aY=function(l,r,A,u,m){var y,v=1/Math.tan(r/2);return l[0]=v/A,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=v,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,m!=null&&m!==1/0?(l[10]=(m+u)*(y=1/(u-m)),l[14]=2*m*u*y):(l[10]=-1,l[14]=-2*u),l},h.aZ=function(l){var r=new se(16);return r[0]=l[0],r[1]=l[1],r[2]=l[2],r[3]=l[3],r[4]=l[4],r[5]=l[5],r[6]=l[6],r[7]=l[7],r[8]=l[8],r[9]=l[9],r[10]=l[10],r[11]=l[11],r[12]=l[12],r[13]=l[13],r[14]=l[14],r[15]=l[15],r},h.a_=function(l,r,A){var u=Math.sin(A),m=Math.cos(A),y=r[0],v=r[1],C=r[2],F=r[3],S=r[4],P=r[5],k=r[6],X=r[7];return r!==l&&(l[8]=r[8],l[9]=r[9],l[10]=r[10],l[11]=r[11],l[12]=r[12],l[13]=r[13],l[14]=r[14],l[15]=r[15]),l[0]=y*m+S*u,l[1]=v*m+P*u,l[2]=C*m+k*u,l[3]=F*m+X*u,l[4]=S*m-y*u,l[5]=P*m-v*u,l[6]=k*m-C*u,l[7]=X*m-F*u,l},h.aa=function(l){const r={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(A,u,m,y)=>{const v=m||y;return r[u]=!v||v.toLowerCase(),""}),r["max-age"]){const A=parseInt(r["max-age"],10);isNaN(A)?delete r["max-age"]:r["max-age"]=A}return r},h.ab=function(l){return l*Math.PI/180},h.ac=function(l){return Math.pow(2,l)},h.ad=V,h.ae=it,h.af=85.051129,h.ag=S_,h.ah=function(l){return Math.log(l)/Math.LN2},h.ai=function(l){var r=l[0],A=l[1];return r*r+A*A},h.aj=function(l,r){const A=[];for(const u in l)u in r||A.push(u);return A},h.ak=function(l,r){let A=0,u=0;if(l.kind==="constant")u=l.layoutSize;else if(l.kind!=="source"){const{interpolationType:m,minZoom:y,maxZoom:v}=l,C=m?it(Vr.interpolationFactor(m,r,y,v),0,1):0;l.kind==="camera"?u=ua.number(l.minSize,l.maxSize,C):A=C}return{uSizeT:A,uSize:u}},h.am=function(l,{uSize:r,uSizeT:A},{lowerSize:u,upperSize:m}){return l.kind==="source"?u/$s:l.kind==="composite"?ua.number(u/$s,m/$s,A):r},h.an=function(l,r){var A=r[0],u=r[1],m=r[2],y=r[3],v=r[4],C=r[5],F=r[6],S=r[7],P=r[8],k=r[9],X=r[10],j=r[11],K=r[12],te=r[13],de=r[14],ye=r[15],Ne=A*C-u*v,Be=A*F-m*v,G=A*S-y*v,ue=u*F-m*C,Ce=u*S-y*C,qe=m*S-y*F,vt=P*te-k*K,at=P*de-X*K,lt=P*ye-j*K,Mt=k*de-X*te,xt=k*ye-j*te,Et=X*ye-j*de,ht=Ne*Et-Be*xt+G*Mt+ue*lt-Ce*at+qe*vt;return ht?(l[0]=(C*Et-F*xt+S*Mt)*(ht=1/ht),l[1]=(m*xt-u*Et-y*Mt)*ht,l[2]=(te*qe-de*Ce+ye*ue)*ht,l[3]=(X*Ce-k*qe-j*ue)*ht,l[4]=(F*lt-v*Et-S*at)*ht,l[5]=(A*Et-m*lt+y*at)*ht,l[6]=(de*G-K*qe-ye*Be)*ht,l[7]=(P*qe-X*G+j*Be)*ht,l[8]=(v*xt-C*lt+S*vt)*ht,l[9]=(u*lt-A*xt-y*vt)*ht,l[10]=(K*Ce-te*G+ye*Ne)*ht,l[11]=(k*G-P*Ce-j*Ne)*ht,l[12]=(C*at-v*Mt-F*vt)*ht,l[13]=(A*Mt-u*at+m*vt)*ht,l[14]=(te*Be-K*ue-de*Ne)*ht,l[15]=(P*ue-k*Be+X*Ne)*ht,l):null},h.ao=$e,h.ap=function(l){return Math.hypot(l[0],l[1])},h.aq=function(l){return l[0]=0,l[1]=0,l},h.ar=function(l,r,A){return l[0]=r[0]*A,l[1]=r[1]*A,l},h.as=t2,h.at=He,h.au=function(l,r,A,u){const m=r.y-l.y,y=r.x-l.x,v=u.y-A.y,C=u.x-A.x,F=v*y-C*m;if(F===0)return null;const S=(C*(l.y-A.y)-v*(l.x-A.x))/F;return new Y(l.x+S*y,l.y+S*m)},h.av=H_,h.aw=zu,h.ax=function(l){let r=1/0,A=1/0,u=-1/0,m=-1/0;for(const y of l)r=Math.min(r,y.x),A=Math.min(A,y.y),u=Math.max(u,y.x),m=Math.max(m,y.y);return[r,A,u,m]},h.ay=Wa,h.az=Rt,h.b=fi,h.b$=function(l,r){var A=l[0],u=l[1],m=l[2],y=l[3],v=l[4],C=l[5],F=l[6],S=l[7],P=l[8],k=l[9],X=l[10],j=l[11],K=l[12],te=l[13],de=l[14],ye=l[15],Ne=r[0],Be=r[1],G=r[2],ue=r[3],Ce=r[4],qe=r[5],vt=r[6],at=r[7],lt=r[8],Mt=r[9],xt=r[10],Et=r[11],ht=r[12],Vt=r[13],gi=r[14],hi=r[15];return Math.abs(A-Ne)<=he*Math.max(1,Math.abs(A),Math.abs(Ne))&&Math.abs(u-Be)<=he*Math.max(1,Math.abs(u),Math.abs(Be))&&Math.abs(m-G)<=he*Math.max(1,Math.abs(m),Math.abs(G))&&Math.abs(y-ue)<=he*Math.max(1,Math.abs(y),Math.abs(ue))&&Math.abs(v-Ce)<=he*Math.max(1,Math.abs(v),Math.abs(Ce))&&Math.abs(C-qe)<=he*Math.max(1,Math.abs(C),Math.abs(qe))&&Math.abs(F-vt)<=he*Math.max(1,Math.abs(F),Math.abs(vt))&&Math.abs(S-at)<=he*Math.max(1,Math.abs(S),Math.abs(at))&&Math.abs(P-lt)<=he*Math.max(1,Math.abs(P),Math.abs(lt))&&Math.abs(k-Mt)<=he*Math.max(1,Math.abs(k),Math.abs(Mt))&&Math.abs(X-xt)<=he*Math.max(1,Math.abs(X),Math.abs(xt))&&Math.abs(j-Et)<=he*Math.max(1,Math.abs(j),Math.abs(Et))&&Math.abs(K-ht)<=he*Math.max(1,Math.abs(K),Math.abs(ht))&&Math.abs(te-Vt)<=he*Math.max(1,Math.abs(te),Math.abs(Vt))&&Math.abs(de-gi)<=he*Math.max(1,Math.abs(de),Math.abs(gi))&&Math.abs(ye-hi)<=he*Math.max(1,Math.abs(ye),Math.abs(hi))},h.b0=function(){const l=new Float32Array(16);return V(l),l},h.b1=function(){const l=new Float64Array(16);return V(l),l},h.b2=function(){return new Float64Array(16)},h.b3=function(l,r,A){const u=new Float64Array(4);return function(m,y,v,C){var F=.5*Math.PI/180;y*=F,v*=F,C*=F;var S=Math.sin(y),P=Math.cos(y),k=Math.sin(v),X=Math.cos(v),j=Math.sin(C),K=Math.cos(C);m[0]=S*X*K-P*k*j,m[1]=P*k*K+S*X*j,m[2]=P*X*j-S*k*K,m[3]=P*X*K+S*k*j}(u,l,r-90,A),u},h.b4=function(l,r,A,u){var m,y,v,C,F,S=r[0],P=r[1],k=r[2],X=r[3],j=A[0],K=A[1],te=A[2],de=A[3];return(y=S*j+P*K+k*te+X*de)<0&&(y=-y,j=-j,K=-K,te=-te,de=-de),1-y>he?(m=Math.acos(y),v=Math.sin(m),C=Math.sin((1-u)*m)/v,F=Math.sin(u*m)/v):(C=1-u,F=u),l[0]=C*S+F*j,l[1]=C*P+F*K,l[2]=C*k+F*te,l[3]=C*X+F*de,l},h.b5=function(l){const r=new Float64Array(9);var A,u,m,y,v,C,F,S,P,k,X,j,K,te,de,ye,Ne,Be;k=(m=(u=l)[0])*(F=m+m),X=(y=u[1])*F,K=(v=u[2])*F,te=v*(S=y+y),ye=(C=u[3])*F,Ne=C*S,Be=C*(P=v+v),(A=r)[0]=1-(j=y*S)-(de=v*P),A[3]=X-Be,A[6]=K+Ne,A[1]=X+Be,A[4]=1-k-de,A[7]=te-ye,A[2]=K-Ne,A[5]=te+ye,A[8]=1-k-j;const G=fa(-Math.asin(it(r[2],-1,1)));let ue,Ce;return Math.hypot(r[5],r[8])<.001?(ue=0,Ce=-fa(Math.atan2(r[3],r[4]))):(ue=fa(r[5]===0&&r[8]===0?0:Math.atan2(r[5],r[8])),Ce=fa(r[1]===0&&r[0]===0?0:Math.atan2(r[1],r[0]))),{roll:ue,pitch:G+90,bearing:Ce}},h.b6=function(l,r){return l.roll==r.roll&&l.pitch==r.pitch&&l.bearing==r.bearing},h.b7=Fi,h.b8=wo,h.b9=Pc,h.bA=function(l){if(l.type==="custom")return new n9(l);switch(l.type){case"background":return new i9(l);case"circle":return new qx(l);case"fill":return new pw(l);case"fill-extrusion":return new Bw(l);case"heatmap":return new Jx(l);case"hillshade":return new tw(l);case"line":return new Tw(l);case"raster":return new r9(l);case"symbol":return new Tf(l)}},h.bB=Ct,h.bC=function(l,r){if(!l)return[{command:"setStyle",args:[r]}];let A=[];try{if(!Ie(l.version,r.version))return[{command:"setStyle",args:[r]}];Ie(l.center,r.center)||A.push({command:"setCenter",args:[r.center]}),Ie(l.centerAltitude,r.centerAltitude)||A.push({command:"setCenterAltitude",args:[r.centerAltitude]}),Ie(l.zoom,r.zoom)||A.push({command:"setZoom",args:[r.zoom]}),Ie(l.bearing,r.bearing)||A.push({command:"setBearing",args:[r.bearing]}),Ie(l.pitch,r.pitch)||A.push({command:"setPitch",args:[r.pitch]}),Ie(l.roll,r.roll)||A.push({command:"setRoll",args:[r.roll]}),Ie(l.sprite,r.sprite)||A.push({command:"setSprite",args:[r.sprite]}),Ie(l.glyphs,r.glyphs)||A.push({command:"setGlyphs",args:[r.glyphs]}),Ie(l.transition,r.transition)||A.push({command:"setTransition",args:[r.transition]}),Ie(l.light,r.light)||A.push({command:"setLight",args:[r.light]}),Ie(l.terrain,r.terrain)||A.push({command:"setTerrain",args:[r.terrain]}),Ie(l.sky,r.sky)||A.push({command:"setSky",args:[r.sky]}),Ie(l.projection,r.projection)||A.push({command:"setProjection",args:[r.projection]});const u={},m=[];(function(v,C,F,S){let P;for(P in C=C||{},v=v||{})Object.prototype.hasOwnProperty.call(v,P)&&(Object.prototype.hasOwnProperty.call(C,P)||ne(P,F,S));for(P in C)Object.prototype.hasOwnProperty.call(C,P)&&(Object.prototype.hasOwnProperty.call(v,P)?Ie(v[P],C[P])||(v[P].type==="geojson"&&C[P].type==="geojson"&&Ee(v,C,P)?et(F,{command:"setGeoJSONSourceData",args:[P,C[P].data]}):Se(P,C,F,S)):Te(P,C,F))})(l.sources,r.sources,m,u);const y=[];l.layers&&l.layers.forEach(v=>{"source"in v&&u[v.source]?A.push({command:"removeLayer",args:[v.id]}):y.push(v)}),A=A.concat(m),function(v,C,F){C=C||[];const S=(v=v||[]).map(ut),P=C.map(ut),k=v.reduce(wt,{}),X=C.reduce(wt,{}),j=S.slice(),K=Object.create(null);let te,de,ye,Ne,Be;for(let G=0,ue=0;G<S.length;G++)te=S[G],Object.prototype.hasOwnProperty.call(X,te)?ue++:(et(F,{command:"removeLayer",args:[te]}),j.splice(j.indexOf(te,ue),1));for(let G=0,ue=0;G<P.length;G++)te=P[P.length-1-G],j[j.length-1-G]!==te&&(Object.prototype.hasOwnProperty.call(k,te)?(et(F,{command:"removeLayer",args:[te]}),j.splice(j.lastIndexOf(te,j.length-ue),1)):ue++,Ne=j[j.length-G],et(F,{command:"addLayer",args:[X[te],Ne]}),j.splice(j.length-G,0,te),K[te]=!0);for(let G=0;G<P.length;G++)if(te=P[G],de=k[te],ye=X[te],!K[te]&&!Ie(de,ye))if(Ie(de.source,ye.source)&&Ie(de["source-layer"],ye["source-layer"])&&Ie(de.type,ye.type)){for(Be in Oe(de.layout,ye.layout,F,te,null,"setLayoutProperty"),Oe(de.paint,ye.paint,F,te,null,"setPaintProperty"),Ie(de.filter,ye.filter)||et(F,{command:"setFilter",args:[te,ye.filter]}),Ie(de.minzoom,ye.minzoom)&&Ie(de.maxzoom,ye.maxzoom)||et(F,{command:"setLayerZoomRange",args:[te,ye.minzoom,ye.maxzoom]}),de)Object.prototype.hasOwnProperty.call(de,Be)&&Be!=="layout"&&Be!=="paint"&&Be!=="filter"&&Be!=="metadata"&&Be!=="minzoom"&&Be!=="maxzoom"&&(Be.indexOf("paint.")===0?Oe(de[Be],ye[Be],F,te,Be.slice(6),"setPaintProperty"):Ie(de[Be],ye[Be])||et(F,{command:"setLayerProperty",args:[te,Be,ye[Be]]}));for(Be in ye)Object.prototype.hasOwnProperty.call(ye,Be)&&!Object.prototype.hasOwnProperty.call(de,Be)&&Be!=="layout"&&Be!=="paint"&&Be!=="filter"&&Be!=="metadata"&&Be!=="minzoom"&&Be!=="maxzoom"&&(Be.indexOf("paint.")===0?Oe(de[Be],ye[Be],F,te,Be.slice(6),"setPaintProperty"):Ie(de[Be],ye[Be])||et(F,{command:"setLayerProperty",args:[te,Be,ye[Be]]}))}else et(F,{command:"removeLayer",args:[te]}),Ne=j[j.lastIndexOf(te)+1],et(F,{command:"addLayer",args:[ye,Ne]})}(y,r.layers,A)}catch(u){console.warn("Unable to compute style diff:",u),A=[{command:"setStyle",args:[r]}]}return A},h.bD=function(l){const r=[],A=l.id;return A===void 0&&r.push({message:`layers.${A}: missing required property "id"`}),l.render===void 0&&r.push({message:`layers.${A}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&r.push({message:`layers.${A}: property "renderingMode" must be either "2d" or "3d"`}),r},h.bE=function l(r,A){if(Array.isArray(r)){if(!Array.isArray(A)||r.length!==A.length)return!1;for(let u=0;u<r.length;u++)if(!l(r[u],A[u]))return!1;return!0}if(typeof r=="object"&&r!==null&&A!==null){if(typeof A!="object"||Object.keys(r).length!==Object.keys(A).length)return!1;for(const u in r)if(!l(r[u],A[u]))return!1;return!0}return r===A},h.bF=Dt,h.bG=Ot,h.bH=class extends Jn{constructor(l,r){super(l,r),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},h.bI=an,h.bJ=class extends Jn{constructor(l,r){super(l,r),this.current=js}set(l){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let r=1;r<16;r++)if(l[r]!==this.current[r]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}},h.bK=Bo,h.bL=class extends Jn{constructor(l,r){super(l,r),this.current=[0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2]))}},h.bM=class extends Jn{constructor(l,r){super(l,r),this.current=[0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1]))}},h.bN=ae,h.bO=function(l,r){var A=Math.sin(r),u=Math.cos(r);return l[0]=u,l[1]=A,l[2]=0,l[3]=-A,l[4]=u,l[5]=0,l[6]=0,l[7]=0,l[8]=1,l},h.bP=function(l,r,A){var u=r[0],m=r[1],y=r[2];return l[0]=u*A[0]+m*A[3]+y*A[6],l[1]=u*A[1]+m*A[4]+y*A[7],l[2]=u*A[2]+m*A[5]+y*A[8],l},h.bQ=function(l,r,A,u,m,y,v){var C=1/(r-A),F=1/(u-m),S=1/(y-v);return l[0]=-2*C,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*F,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*S,l[11]=0,l[12]=(r+A)*C,l[13]=(m+u)*F,l[14]=(v+y)*S,l[15]=1,l},h.bR=class extends xo{},h.bS=Lw,h.bT=class extends Sc{},h.bU=Np,h.bV=function(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))},h.bW=Q4,h.bX=function(l,r,A){var u=r[0],m=r[1],y=r[2],v=A[3]*u+A[7]*m+A[11]*y+A[15];return l[0]=(A[0]*u+A[4]*m+A[8]*y+A[12])/(v=v||1),l[1]=(A[1]*u+A[5]*m+A[9]*y+A[13])/v,l[2]=(A[2]*u+A[6]*m+A[10]*y+A[14])/v,l},h.bY=class extends _s{},h.bZ=class extends p{},h.b_=function(l,r){return l[0]===r[0]&&l[1]===r[1]&&l[2]===r[2]&&l[3]===r[3]&&l[4]===r[4]&&l[5]===r[5]&&l[6]===r[6]&&l[7]===r[7]&&l[8]===r[8]&&l[9]===r[9]&&l[10]===r[10]&&l[11]===r[11]&&l[12]===r[12]&&l[13]===r[13]&&l[14]===r[14]&&l[15]===r[15]},h.ba=Ku,h.bb=Lc,h.bc=ot,h.bd=mt,h.be=kr,h.bf=function(l,r,A,u,m){return ot(u,m,it((l-r)/(A-r),0,1))},h.bg=Yt,h.bh=function(){return new Float64Array(3)},h.bi=function(l,r,A,u){return l[0]=r[0]+A[0]*u,l[1]=r[1]+A[1]*u,l[2]=r[2]+A[2]*u,l},h.bj=ve,h.bk=function(){return new Float64Array(4)},h.bl=function(l,r,A,u){var m=[],y=[];return m[0]=r[0]-A[0],m[1]=r[1]-A[1],m[2]=r[2]-A[2],y[0]=m[0]*Math.cos(u)-m[1]*Math.sin(u),y[1]=m[0]*Math.sin(u)+m[1]*Math.cos(u),y[2]=m[2],l[0]=y[0]+A[0],l[1]=y[1]+A[1],l[2]=y[2]+A[2],l},h.bm=function(l,r,A,u){var m=[],y=[];return m[0]=r[0]-A[0],m[1]=r[1]-A[1],m[2]=r[2]-A[2],y[0]=m[0],y[1]=m[1]*Math.cos(u)-m[2]*Math.sin(u),y[2]=m[1]*Math.sin(u)+m[2]*Math.cos(u),l[0]=y[0]+A[0],l[1]=y[1]+A[1],l[2]=y[2]+A[2],l},h.bn=function(l,r,A,u){var m=[],y=[];return m[0]=r[0]-A[0],m[1]=r[1]-A[1],m[2]=r[2]-A[2],y[0]=m[2]*Math.sin(u)+m[0]*Math.cos(u),y[1]=m[1],y[2]=m[2]*Math.cos(u)-m[0]*Math.sin(u),l[0]=y[0]+A[0],l[1]=y[1]+A[1],l[2]=y[2]+A[2],l},h.bo=ge,h.bp=function(l,r,A){var u=Math.sin(A),m=Math.cos(A),y=r[0],v=r[1],C=r[2],F=r[3],S=r[8],P=r[9],k=r[10],X=r[11];return r!==l&&(l[4]=r[4],l[5]=r[5],l[6]=r[6],l[7]=r[7],l[12]=r[12],l[13]=r[13],l[14]=r[14],l[15]=r[15]),l[0]=y*m-S*u,l[1]=v*m-P*u,l[2]=C*m-k*u,l[3]=F*m-X*u,l[8]=y*u+S*m,l[9]=v*u+P*m,l[10]=C*u+k*m,l[11]=F*u+X*m,l},h.bq=function(l,r){const A=Yt(l,360),u=Yt(r,360),m=u-A,y=u>A?m-360:m+360;return Math.abs(m)<Math.abs(y)?m:y},h.br=function(l){return l[0]=0,l[1]=0,l[2]=0,l},h.bs=function(l,r,A,u){const m=Math.sqrt(l*l+r*r),y=Math.sqrt(A*A+u*u);l/=m,r/=m,A/=y,u/=y;const v=Math.acos(l*A+r*u);return-r*A+l*u>0?v:-v},h.bt=function(l,r){return l[0]*r[0]+l[1]*r[1]+l[2]*r[2]+l[3]},h.bu=n2,h.bv=function(l,r){const A=Yt(l,2*Math.PI),u=Yt(r,2*Math.PI);return Math.min(Math.abs(A-u),Math.abs(A-u+2*Math.PI),Math.abs(A-u-2*Math.PI))},h.bw=function(){const l={},r=oe.$version;for(const A in oe.$root){const u=oe.$root[A];if(u.required){let m=null;m=A==="version"?r:u.type==="array"?[]:{},m!=null&&(l[A]=m)}}return l},h.bx=gA,h.by=sa,h.bz=function(l){l=l.slice();const r=Object.create(null);for(let A=0;A<l.length;A++)r[l[A].id]=l[A];for(let A=0;A<l.length;A++)"ref"in l[A]&&(l[A]=Ge(l[A],r[l[A].ref]));return l},h.c=ji,h.c0=function(l,r){return l[0]=r[0],l[1]=r[1],l[2]=r[2],l[3]=r[3],l[4]=r[4],l[5]=r[5],l[6]=r[6],l[7]=r[7],l[8]=r[8],l[9]=r[9],l[10]=r[10],l[11]=r[11],l[12]=r[12],l[13]=r[13],l[14]=r[14],l[15]=r[15],l},h.c1=l=>l.type==="symbol",h.c2=l=>l.type==="circle",h.c3=l=>l.type==="heatmap",h.c4=l=>l.type==="line",h.c5=l=>l.type==="fill",h.c6=l=>l.type==="fill-extrusion",h.c7=l=>l.type==="hillshade",h.c8=l=>l.type==="raster",h.c9=l=>l.type==="background",h.cA=qu,h.cB=Kp,h.cC=class{constructor(l){this._marks={start:[l.url,"start"].join("#"),end:[l.url,"end"].join("#"),measure:l.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let l=performance.getEntriesByName(this._marks.measure);return l.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),l=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),l}},h.cD=function(l,r,A,u,m){return s(this,void 0,void 0,function*(){if(ce())try{return yield pt(l,r,A,u,m)}catch{}return function(y,v,C,F,S){const P=y.width,k=y.height;ci&&qi||(ci=new OffscreenCanvas(P,k),qi=ci.getContext("2d",{willReadFrequently:!0})),ci.width=P,ci.height=k,qi.drawImage(y,0,0,P,k);const X=qi.getImageData(v,C,F,S);return qi.clearRect(0,0,P,k),X.data}(l,r,A,u,m)})},h.cE=P_,h.cF=x,h.cG=R,h.cH=t_,h.cI=d_,h.cJ=cA,h.cK=Vs,h.ca=l=>l.type==="custom",h.cb=je,h.cc=function(l,r,A){const u=Je(r.x-A.x,r.y-A.y),m=Je(l.x-A.x,l.y-A.y);var y,v;return fa(Math.atan2(u[0]*m[1]-u[1]*m[0],(y=u)[0]*(v=m)[0]+y[1]*v[1]))},h.cd=Qe,h.ce=function(l,r){return ea[r]&&(l instanceof MouseEvent||l instanceof WheelEvent)},h.cf=function(l,r){return Ri[r]&&"touches"in l},h.cg=function(l){return Ri[l]||ea[l]},h.ch=function(l,r,A){var u=r[0],m=r[1];return l[0]=A[0]*u+A[4]*m+A[12],l[1]=A[1]*u+A[5]*m+A[13],l},h.ci=function(l,r){const{x:A,y:u}=ad.fromLngLat(r);return!(l<0||l>25||u<0||u>=1||A<0||A>=1)},h.cj=function(l,r){return l[0]=r[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=r[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=r[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},h.ck=class extends Ec{},h.cl=p9,h.cn=function(l){return l.message===wi},h.co=Oa,h.cp=function(l,r){ha.REGISTERED_PROTOCOLS[l]=r},h.cq=function(l){delete ha.REGISTERED_PROTOCOLS[l]},h.cr=function(l,r){const A={};for(let m=0;m<l.length;m++){const y=r&&r[l[m].id]||Bc(l[m]);r&&(r[l[m].id]=y);let v=A[y];v||(v=A[y]=[]),v.push(l[m])}const u=[];for(const m in A)u.push(A[m]);return u},h.cs=zt,h.ct=Q_,h.cu=D_,h.cv=g_,h.cw=function(l){l.bucket.createArrays(),l.bucket.tilePixelRatio=gt/(512*l.bucket.overscaling),l.bucket.compareText={},l.bucket.iconsNeedLinear=!1;const r=l.bucket.layers[0],A=r.layout,u=r._unevaluatedLayout._values,m={layoutIconSize:u["icon-size"].possiblyEvaluate(new ga(l.bucket.zoom+1),l.canonical),layoutTextSize:u["text-size"].possiblyEvaluate(new ga(l.bucket.zoom+1),l.canonical),textMaxSize:u["text-size"].possiblyEvaluate(new ga(18))};if(l.bucket.textSizeData.kind==="composite"){const{minZoom:S,maxZoom:P}=l.bucket.textSizeData;m.compositeTextSizes=[u["text-size"].possiblyEvaluate(new ga(S),l.canonical),u["text-size"].possiblyEvaluate(new ga(P),l.canonical)]}if(l.bucket.iconSizeData.kind==="composite"){const{minZoom:S,maxZoom:P}=l.bucket.iconSizeData;m.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new ga(S),l.canonical),u["icon-size"].possiblyEvaluate(new ga(P),l.canonical)]}const y=A.get("text-line-height")*Wa,v=A.get("text-rotation-alignment")!=="viewport"&&A.get("symbol-placement")!=="point",C=A.get("text-keep-upright"),F=A.get("text-size");for(const S of l.bucket.features){const P=A.get("text-font").evaluate(S,{},l.canonical).join(","),k=F.evaluate(S,{},l.canonical),X=m.layoutTextSize.evaluate(S,{},l.canonical),j=m.layoutIconSize.evaluate(S,{},l.canonical),K={horizontal:{},vertical:void 0},te=S.text;let de,ye=[0,0];if(te){const G=te.toString(),ue=A.get("text-letter-spacing").evaluate(S,{},l.canonical)*Wa,Ce=Af(G)?ue:0,qe=A.get("text-anchor").evaluate(S,{},l.canonical),vt=W_(r,S,l.canonical);if(!vt){const xt=A.get("text-radial-offset").evaluate(S,{},l.canonical);ye=xt?q_(qe,[xt*Wa,l2]):A.get("text-offset").evaluate(S,{},l.canonical).map(Et=>Et*Wa)}let at=v?"center":A.get("text-justify").evaluate(S,{},l.canonical);const lt=A.get("symbol-placement")==="point"?A.get("text-max-width").evaluate(S,{},l.canonical)*Wa:1/0,Mt=()=>{l.bucket.allowVerticalPlacement&&Cc(G)&&(K.vertical=Uf(te,l.glyphMap,l.glyphPositions,l.imagePositions,P,lt,y,qe,"left",Ce,ye,h.al.vertical,!0,X,k))};if(!v&&vt){const xt=new Set;if(at==="auto")for(let ht=0;ht<vt.values.length;ht+=2)xt.add(A2(vt.values[ht]));else xt.add(at);let Et=!1;for(const ht of xt)if(!K.horizontal[ht])if(Et)K.horizontal[ht]=K.horizontal[0];else{const Vt=Uf(te,l.glyphMap,l.glyphPositions,l.imagePositions,P,lt,y,"center",ht,Ce,ye,h.al.horizontal,!1,X,k);Vt&&(K.horizontal[ht]=Vt,Et=Vt.positionedLines.length===1)}Mt()}else{at==="auto"&&(at=A2(qe));const xt=Uf(te,l.glyphMap,l.glyphPositions,l.imagePositions,P,lt,y,qe,at,Ce,ye,h.al.horizontal,!1,X,k);xt&&(K.horizontal[at]=xt),Mt(),Cc(G)&&v&&C&&(K.vertical=Uf(te,l.glyphMap,l.glyphPositions,l.imagePositions,P,lt,y,qe,at,Ce,ye,h.al.vertical,!1,X,k))}}let Ne=!1;if(S.icon&&S.icon.name){const G=l.imageMap[S.icon.name];G&&(de=qw(l.imagePositions[S.icon.name],A.get("icon-offset").evaluate(S,{},l.canonical),A.get("icon-anchor").evaluate(S,{},l.canonical)),Ne=!!G.sdf,l.bucket.sdfIcons===void 0?l.bucket.sdfIcons=Ne:l.bucket.sdfIcons!==Ne&&ui("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(G.pixelRatio!==l.bucket.pixelRatio||A.get("icon-rotate").constantOr(1)!==0)&&(l.bucket.iconsNeedLinear=!0))}const Be=eb(K.horizontal)||K.vertical;l.bucket.iconsInText=!!Be&&Be.iconsInText,(Be||de)&&f9(l.bucket,S,K,de,l.imageMap,m,X,j,ye,Ne,l.canonical,l.subdivisionGranularity)}l.showCollisionBoxes&&l.bucket.generateCollisionDebugBuffers()},h.cx=Vp,h.cy=Dp,h.cz=Xp,h.d=va,h.e=Bt,h.f=l=>s(void 0,void 0,void 0,function*(){if(l.byteLength===0)return createImageBitmap(new ImageData(1,1));const r=new Blob([new Uint8Array(l)],{type:"image/png"});try{return createImageBitmap(r)}catch(A){throw new Error(`Could not load image because of ${A.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),h.g=Rr,h.h=l=>new Promise((r,A)=>{const u=new Image;u.onload=()=>{r(u),URL.revokeObjectURL(u.src),u.onload=null,window.requestAnimationFrame(()=>{u.src=Kt})},u.onerror=()=>A(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(l)],{type:"image/png"});u.src=l.byteLength?URL.createObjectURL(m):Kt}),h.i=Zt,h.j=(l,r)=>na(Bt(l,{type:"json"}),r),h.k=fe,h.l=re,h.m=na,h.n=(l,r)=>na(Bt(l,{type:"arrayBuffer"}),r),h.o=function(l){return new Kp(l).readFields(kw,[])},h.p=f_,h.q=Ou,h.r=jr,h.s=Si,h.t=sf,h.u=Ni,h.v=oe,h.w=ui,h.x=of,h.y=Kn,h.z=function([l,r,A]){return r+=90,r*=Math.PI/180,A*=Math.PI/180,{x:l*Math.cos(r)*Math.sin(A),y:l*Math.sin(r)*Math.sin(A),z:l*Math.cos(A)}}}),c("worker",["./shared"],function(h){class s{constructor(ie){this.keyCache={},ie&&this.replace(ie)}replace(ie){this._layerConfigs={},this._layers={},this.update(ie,[])}update(ie,re){for(const xe of ie){this._layerConfigs[xe.id]=xe;const oe=this._layers[xe.id]=h.bA(xe);oe._featureFilter=h.a7(oe.filter),this.keyCache[xe.id]&&delete this.keyCache[xe.id]}for(const xe of re)delete this.keyCache[xe],delete this._layerConfigs[xe],delete this._layers[xe];this.familiesBySource={};const fe=h.cr(Object.values(this._layerConfigs),this.keyCache);for(const xe of fe){const oe=xe.map(ne=>this._layers[ne.id]),ke=oe[0];if(ke.visibility==="none")continue;const Ge=ke.source||"";let Ie=this.familiesBySource[Ge];Ie||(Ie=this.familiesBySource[Ge]={});const et=ke.sourceLayer||"_geojsonTileLayer";let Te=Ie[et];Te||(Te=Ie[et]=[]),Te.push(oe)}}}class x{constructor(ie){const re={},fe=[];for(const Ge in ie){const Ie=ie[Ge],et=re[Ge]={};for(const Te in Ie){const ne=Ie[+Te];if(!ne||ne.bitmap.width===0||ne.bitmap.height===0)continue;const Se={x:0,y:0,w:ne.bitmap.width+2,h:ne.bitmap.height+2};fe.push(Se),et[Te]={rect:Se,metrics:ne.metrics}}}const{w:xe,h:oe}=h.p(fe),ke=new h.q({width:xe||1,height:oe||1});for(const Ge in ie){const Ie=ie[Ge];for(const et in Ie){const Te=Ie[+et];if(!Te||Te.bitmap.width===0||Te.bitmap.height===0)continue;const ne=re[Ge][et].rect;h.q.copy(Te.bitmap,ke,{x:0,y:0},{x:ne.x+1,y:ne.y+1},Te.bitmap)}}this.image=ke,this.positions=re}}h.cs("GlyphAtlas",x);class w{constructor(ie){this.tileID=new h.Y(ie.tileID.overscaledZ,ie.tileID.wrap,ie.tileID.canonical.z,ie.tileID.canonical.x,ie.tileID.canonical.y),this.uid=ie.uid,this.zoom=ie.zoom,this.pixelRatio=ie.pixelRatio,this.tileSize=ie.tileSize,this.source=ie.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ie.showCollisionBoxes,this.collectResourceTiming=!!ie.collectResourceTiming,this.returnDependencies=!!ie.returnDependencies,this.promoteId=ie.promoteId,this.inFlightDependencies=[]}parse(ie,re,fe,xe,oe){return h._(this,void 0,void 0,function*(){this.status="parsing",this.data=ie,this.collisionBoxArray=new h.a5;const ke=new h.ct(Object.keys(ie.layers).sort()),Ge=new h.cu(this.tileID,this.promoteId);Ge.bucketLayerIDs=[];const Ie={},et={featureIndex:Ge,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:fe,subdivisionGranularity:oe},Te=re.familiesBySource[this.source];for(const tt in Te){const Tt=ie.layers[tt];if(!Tt)continue;Tt.version===1&&h.w(`Vector tile source "${this.source}" layer "${tt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ht=ke.encode(tt),ta=[];for(let oa=0;oa<Tt.length;oa++){const Bi=Tt.feature(oa),Gt=Ge.getId(Bi,tt);ta.push({feature:Bi,id:Gt,index:oa,sourceLayerIndex:Ht})}for(const oa of Te[tt]){const Bi=oa[0];Bi.source!==this.source&&h.w(`layer.source = ${Bi.source} does not equal this.source = ${this.source}`),Bi.minzoom&&this.zoom<Math.floor(Bi.minzoom)||Bi.maxzoom&&this.zoom>=Bi.maxzoom||Bi.visibility!=="none"&&(I(oa,this.zoom,fe),(Ie[Bi.id]=Bi.createBucket({index:Ge.bucketLayerIDs.length,layers:oa,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ht,sourceID:this.source})).populate(ta,et,this.tileID.canonical),Ge.bucketLayerIDs.push(oa.map(Gt=>Gt.id)))}}const ne=h.bF(et.glyphDependencies,tt=>Object.keys(tt).map(Number));this.inFlightDependencies.forEach(tt=>tt==null?void 0:tt.abort()),this.inFlightDependencies=[];let Se=Promise.resolve({});if(Object.keys(ne).length){const tt=new AbortController;this.inFlightDependencies.push(tt),Se=xe.sendAsync({type:"GG",data:{stacks:ne,source:this.source,tileID:this.tileID,type:"glyphs"}},tt)}const Ee=Object.keys(et.iconDependencies);let Oe=Promise.resolve({});if(Ee.length){const tt=new AbortController;this.inFlightDependencies.push(tt),Oe=xe.sendAsync({type:"GI",data:{icons:Ee,source:this.source,tileID:this.tileID,type:"icons"}},tt)}const ut=Object.keys(et.patternDependencies);let wt=Promise.resolve({});if(ut.length){const tt=new AbortController;this.inFlightDependencies.push(tt),wt=xe.sendAsync({type:"GI",data:{icons:ut,source:this.source,tileID:this.tileID,type:"patterns"}},tt)}const[Xe,_t,Wt]=yield Promise.all([Se,Oe,wt]),ei=new x(Xe),ai=new h.cv(_t,Wt);for(const tt in Ie){const Tt=Ie[tt];Tt instanceof h.a6?(I(Tt.layers,this.zoom,fe),h.cw({bucket:Tt,glyphMap:Xe,glyphPositions:ei.positions,imageMap:_t,imagePositions:ai.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:et.subdivisionGranularity})):Tt.hasPattern&&(Tt instanceof h.cx||Tt instanceof h.cy||Tt instanceof h.cz)&&(I(Tt.layers,this.zoom,fe),Tt.addFeatures(et,this.tileID.canonical,ai.patternPositions))}return this.status="done",{buckets:Object.values(Ie).filter(tt=>!tt.isEmpty()),featureIndex:Ge,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ei.image,imageAtlas:ai,glyphMap:this.returnDependencies?Xe:null,iconMap:this.returnDependencies?_t:null,glyphPositions:this.returnDependencies?ei.positions:null}})}}function I(ze,ie,re){const fe=new h.C(ie);for(const xe of ze)xe.recalculate(fe,re)}class R{constructor(ie,re,fe){this.actor=ie,this.layerIndex=re,this.availableImages=fe,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(ie,re){return h._(this,void 0,void 0,function*(){const fe=yield h.n(ie.request,re);try{return{vectorTile:new h.cA.VectorTile(new h.cB(fe.data)),rawData:fe.data,cacheControl:fe.cacheControl,expires:fe.expires}}catch(xe){const oe=new Uint8Array(fe.data);let ke=`Unable to parse the tile at ${ie.request.url}, `;throw ke+=oe[0]===31&&oe[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${xe.message}`,new Error(ke)}})}loadTile(ie){return h._(this,void 0,void 0,function*(){const re=ie.uid,fe=!!(ie&&ie.request&&ie.request.collectResourceTiming)&&new h.cC(ie.request),xe=new w(ie);this.loading[re]=xe;const oe=new AbortController;xe.abort=oe;try{const ke=yield this.loadVectorTile(ie,oe);if(delete this.loading[re],!ke)return null;const Ge=ke.rawData,Ie={};ke.expires&&(Ie.expires=ke.expires),ke.cacheControl&&(Ie.cacheControl=ke.cacheControl);const et={};if(fe){const ne=fe.finish();ne&&(et.resourceTiming=JSON.parse(JSON.stringify(ne)))}xe.vectorTile=ke.vectorTile;const Te=xe.parse(ke.vectorTile,this.layerIndex,this.availableImages,this.actor,ie.subdivisionGranularity);this.loaded[re]=xe,this.fetching[re]={rawTileData:Ge,cacheControl:Ie,resourceTiming:et};try{const ne=yield Te;return h.e({rawTileData:Ge.slice(0)},ne,Ie,et)}finally{delete this.fetching[re]}}catch(ke){throw delete this.loading[re],xe.status="done",this.loaded[re]=xe,ke}})}reloadTile(ie){return h._(this,void 0,void 0,function*(){const re=ie.uid;if(!this.loaded||!this.loaded[re])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const fe=this.loaded[re];if(fe.showCollisionBoxes=ie.showCollisionBoxes,fe.status==="parsing"){const xe=yield fe.parse(fe.vectorTile,this.layerIndex,this.availableImages,this.actor,ie.subdivisionGranularity);let oe;if(this.fetching[re]){const{rawTileData:ke,cacheControl:Ge,resourceTiming:Ie}=this.fetching[re];delete this.fetching[re],oe=h.e({rawTileData:ke.slice(0)},xe,Ge,Ie)}else oe=xe;return oe}if(fe.status==="done"&&fe.vectorTile)return fe.parse(fe.vectorTile,this.layerIndex,this.availableImages,this.actor,ie.subdivisionGranularity)})}abortTile(ie){return h._(this,void 0,void 0,function*(){const re=this.loading,fe=ie.uid;re&&re[fe]&&re[fe].abort&&(re[fe].abort.abort(),delete re[fe])})}removeTile(ie){return h._(this,void 0,void 0,function*(){this.loaded&&this.loaded[ie.uid]&&delete this.loaded[ie.uid]})}}class E{constructor(){this.loaded={}}loadTile(ie){return h._(this,void 0,void 0,function*(){const{uid:re,encoding:fe,rawImageData:xe,redFactor:oe,greenFactor:ke,blueFactor:Ge,baseShift:Ie}=ie,et=xe.width+2,Te=xe.height+2,ne=h.b(xe)?new h.R({width:et,height:Te},yield h.cD(xe,-1,-1,et,Te)):xe,Se=new h.cE(re,ne,fe,oe,ke,Ge,Ie);return this.loaded=this.loaded||{},this.loaded[re]=Se,Se})}removeTile(ie){const re=this.loaded,fe=ie.uid;re&&re[fe]&&delete re[fe]}}var M,Y,D=function(){if(Y)return M;function ze(re,fe){if(re.length!==0){ie(re[0],fe);for(var xe=1;xe<re.length;xe++)ie(re[xe],!fe)}}function ie(re,fe){for(var xe=0,oe=0,ke=0,Ge=re.length,Ie=Ge-1;ke<Ge;Ie=ke++){var et=(re[ke][0]-re[Ie][0])*(re[Ie][1]+re[ke][1]),Te=xe+et;oe+=Math.abs(xe)>=Math.abs(et)?xe-Te+et:et-Te+xe,xe=Te}xe+oe>=0!=!!fe&&re.reverse()}return Y=1,M=function re(fe,xe){var oe,ke=fe&&fe.type;if(ke==="FeatureCollection")for(oe=0;oe<fe.features.length;oe++)re(fe.features[oe],xe);else if(ke==="GeometryCollection")for(oe=0;oe<fe.geometries.length;oe++)re(fe.geometries[oe],xe);else if(ke==="Feature")re(fe.geometry,xe);else if(ke==="Polygon")ze(fe.coordinates,xe);else if(ke==="MultiPolygon")for(oe=0;oe<fe.coordinates.length;oe++)ze(fe.coordinates[oe],xe);return fe}}(),O=h.cF(D);const H=h.cA.VectorTileFeature.prototype.toGeoJSON;class ${constructor(ie){this._feature=ie,this.extent=h.Z,this.type=ie.type,this.properties=ie.tags,"id"in ie&&!isNaN(ie.id)&&(this.id=parseInt(ie.id,10))}loadGeometry(){if(this._feature.type===1){const ie=[];for(const re of this._feature.geometry)ie.push([new h.P(re[0],re[1])]);return ie}{const ie=[];for(const re of this._feature.geometry){const fe=[];for(const xe of re)fe.push(new h.P(xe[0],xe[1]));ie.push(fe)}return ie}}toGeoJSON(ie,re,fe){return H.call(this,ie,re,fe)}}class Ae{constructor(ie){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=h.Z,this.length=ie.length,this._features=ie}feature(ie){return new $(this._features[ie])}}var ce,he,se,ae={exports:{}},V=function(){if(se)return ae.exports;se=1;var ze=h.cI(),ie=function(){if(he)return ce;he=1;var Te=h.cG(),ne=h.cH().VectorTileFeature;function Se(Oe,ut){this.options=ut||{},this.features=Oe,this.length=Oe.length}function Ee(Oe,ut){this.id=typeof Oe.id=="number"?Oe.id:void 0,this.type=Oe.type,this.rawGeometry=Oe.type===1?[Oe.geometry]:Oe.geometry,this.properties=Oe.tags,this.extent=ut||4096}return ce=Se,Se.prototype.feature=function(Oe){return new Ee(this.features[Oe],this.options.extent)},Ee.prototype.loadGeometry=function(){var Oe=this.rawGeometry;this.geometry=[];for(var ut=0;ut<Oe.length;ut++){for(var wt=Oe[ut],Xe=[],_t=0;_t<wt.length;_t++)Xe.push(new Te(wt[_t][0],wt[_t][1]));this.geometry.push(Xe)}return this.geometry},Ee.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Oe=this.geometry,ut=1/0,wt=-1/0,Xe=1/0,_t=-1/0,Wt=0;Wt<Oe.length;Wt++)for(var ei=Oe[Wt],ai=0;ai<ei.length;ai++){var tt=ei[ai];ut=Math.min(ut,tt.x),wt=Math.max(wt,tt.x),Xe=Math.min(Xe,tt.y),_t=Math.max(_t,tt.y)}return[ut,Xe,wt,_t]},Ee.prototype.toGeoJSON=ne.prototype.toGeoJSON,ce}();function re(Te){var ne=new ze;return function(Se,Ee){for(var Oe in Se.layers)Ee.writeMessage(3,fe,Se.layers[Oe])}(Te,ne),ne.finish()}function fe(Te,ne){var Se;ne.writeVarintField(15,Te.version||1),ne.writeStringField(1,Te.name||""),ne.writeVarintField(5,Te.extent||4096);var Ee={keys:[],values:[],keycache:{},valuecache:{}};for(Se=0;Se<Te.length;Se++)Ee.feature=Te.feature(Se),ne.writeMessage(2,xe,Ee);var Oe=Ee.keys;for(Se=0;Se<Oe.length;Se++)ne.writeStringField(3,Oe[Se]);var ut=Ee.values;for(Se=0;Se<ut.length;Se++)ne.writeMessage(4,et,ut[Se])}function xe(Te,ne){var Se=Te.feature;Se.id!==void 0&&ne.writeVarintField(1,Se.id),ne.writeMessage(2,oe,Te),ne.writeVarintField(3,Se.type),ne.writeMessage(4,Ie,Se)}function oe(Te,ne){var Se=Te.feature,Ee=Te.keys,Oe=Te.values,ut=Te.keycache,wt=Te.valuecache;for(var Xe in Se.properties){var _t=Se.properties[Xe],Wt=ut[Xe];if(_t!==null){Wt===void 0&&(Ee.push(Xe),ut[Xe]=Wt=Ee.length-1),ne.writeVarint(Wt);var ei=typeof _t;ei!=="string"&&ei!=="boolean"&&ei!=="number"&&(_t=JSON.stringify(_t));var ai=ei+":"+_t,tt=wt[ai];tt===void 0&&(Oe.push(_t),wt[ai]=tt=Oe.length-1),ne.writeVarint(tt)}}}function ke(Te,ne){return(ne<<3)+(7&Te)}function Ge(Te){return Te<<1^Te>>31}function Ie(Te,ne){for(var Se=Te.loadGeometry(),Ee=Te.type,Oe=0,ut=0,wt=Se.length,Xe=0;Xe<wt;Xe++){var _t=Se[Xe],Wt=1;Ee===1&&(Wt=_t.length),ne.writeVarint(ke(1,Wt));for(var ei=Ee===3?_t.length-1:_t.length,ai=0;ai<ei;ai++){ai===1&&Ee!==1&&ne.writeVarint(ke(2,ei-1));var tt=_t[ai].x-Oe,Tt=_t[ai].y-ut;ne.writeVarint(Ge(tt)),ne.writeVarint(Ge(Tt)),Oe+=tt,ut+=Tt}Ee===3&&ne.writeVarint(ke(7,1))}}function et(Te,ne){var Se=typeof Te;Se==="string"?ne.writeStringField(1,Te):Se==="boolean"?ne.writeBooleanField(7,Te):Se==="number"&&(Te%1!=0?ne.writeDoubleField(3,Te):Te<0?ne.writeSVarintField(6,Te):ne.writeVarintField(5,Te))}return ae.exports=re,ae.exports.fromVectorTileJs=re,ae.exports.fromGeojsonVt=function(Te,ne){ne=ne||{};var Se={};for(var Ee in Te)Se[Ee]=new ie(Te[Ee].features,ne),Se[Ee].name=Ee,Se[Ee].version=ne.version,Se[Ee].extent=ne.extent;return re({layers:Se})},ae.exports.GeoJSONWrapper=ie,ae.exports}(),J=h.cF(V);const ge={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ze=>ze},le=Math.fround||(_e=new Float32Array(1),ze=>(_e[0]=+ze,_e[0]));var _e;const ve=3,He=5,nt=6;class $e{constructor(ie){this.options=Object.assign(Object.create(ge),ie),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ie){const{log:re,minZoom:fe,maxZoom:xe}=this.options;re&&console.time("total time");const oe=`prepare ${ie.length} points`;re&&console.time(oe),this.points=ie;const ke=[];for(let Ie=0;Ie<ie.length;Ie++){const et=ie[Ie];if(!et.geometry)continue;const[Te,ne]=et.geometry.coordinates,Se=le(Rt(Te)),Ee=le(Yt(ne));ke.push(Se,Ee,1/0,Ie,-1,1),this.options.reduce&&ke.push(0)}let Ge=this.trees[xe+1]=this._createTree(ke);re&&console.timeEnd(oe);for(let Ie=xe;Ie>=fe;Ie--){const et=+Date.now();Ge=this.trees[Ie]=this._createTree(this._cluster(Ge,Ie)),re&&console.log("z%d: %d clusters in %dms",Ie,Ge.numItems,+Date.now()-et)}return re&&console.timeEnd("total time"),this}getClusters(ie,re){let fe=((ie[0]+180)%360+360)%360-180;const xe=Math.max(-90,Math.min(90,ie[1]));let oe=ie[2]===180?180:((ie[2]+180)%360+360)%360-180;const ke=Math.max(-90,Math.min(90,ie[3]));if(ie[2]-ie[0]>=360)fe=-180,oe=180;else if(fe>oe){const ne=this.getClusters([fe,xe,180,ke],re),Se=this.getClusters([-180,xe,oe,ke],re);return ne.concat(Se)}const Ge=this.trees[this._limitZoom(re)],Ie=Ge.range(Rt(fe),Yt(ke),Rt(oe),Yt(xe)),et=Ge.data,Te=[];for(const ne of Ie){const Se=this.stride*ne;Te.push(et[Se+He]>1?Je(et,Se,this.clusterProps):this.points[et[Se+ve]])}return Te}getChildren(ie){const re=this._getOriginId(ie),fe=this._getOriginZoom(ie),xe="No cluster with the specified id.",oe=this.trees[fe];if(!oe)throw new Error(xe);const ke=oe.data;if(re*this.stride>=ke.length)throw new Error(xe);const Ge=this.options.radius/(this.options.extent*Math.pow(2,fe-1)),Ie=oe.within(ke[re*this.stride],ke[re*this.stride+1],Ge),et=[];for(const Te of Ie){const ne=Te*this.stride;ke[ne+4]===ie&&et.push(ke[ne+He]>1?Je(ke,ne,this.clusterProps):this.points[ke[ne+ve]])}if(et.length===0)throw new Error(xe);return et}getLeaves(ie,re,fe){const xe=[];return this._appendLeaves(xe,ie,re=re||10,fe=fe||0,0),xe}getTile(ie,re,fe){const xe=this.trees[this._limitZoom(ie)],oe=Math.pow(2,ie),{extent:ke,radius:Ge}=this.options,Ie=Ge/ke,et=(fe-Ie)/oe,Te=(fe+1+Ie)/oe,ne={features:[]};return this._addTileFeatures(xe.range((re-Ie)/oe,et,(re+1+Ie)/oe,Te),xe.data,re,fe,oe,ne),re===0&&this._addTileFeatures(xe.range(1-Ie/oe,et,1,Te),xe.data,oe,fe,oe,ne),re===oe-1&&this._addTileFeatures(xe.range(0,et,Ie/oe,Te),xe.data,-1,fe,oe,ne),ne.features.length?ne:null}getClusterExpansionZoom(ie){let re=this._getOriginZoom(ie)-1;for(;re<=this.options.maxZoom;){const fe=this.getChildren(ie);if(re++,fe.length!==1)break;ie=fe[0].properties.cluster_id}return re}_appendLeaves(ie,re,fe,xe,oe){const ke=this.getChildren(re);for(const Ge of ke){const Ie=Ge.properties;if(Ie&&Ie.cluster?oe+Ie.point_count<=xe?oe+=Ie.point_count:oe=this._appendLeaves(ie,Ie.cluster_id,fe,xe,oe):oe<xe?oe++:ie.push(Ge),ie.length===fe)break}return oe}_createTree(ie){const re=new h.aF(ie.length/this.stride|0,this.options.nodeSize,Float32Array);for(let fe=0;fe<ie.length;fe+=this.stride)re.add(ie[fe],ie[fe+1]);return re.finish(),re.data=ie,re}_addTileFeatures(ie,re,fe,xe,oe,ke){for(const Ge of ie){const Ie=Ge*this.stride,et=re[Ie+He]>1;let Te,ne,Se;if(et)Te=gt(re,Ie,this.clusterProps),ne=re[Ie],Se=re[Ie+1];else{const ut=this.points[re[Ie+ve]];Te=ut.properties;const[wt,Xe]=ut.geometry.coordinates;ne=Rt(wt),Se=Yt(Xe)}const Ee={type:1,geometry:[[Math.round(this.options.extent*(ne*oe-fe)),Math.round(this.options.extent*(Se*oe-xe))]],tags:Te};let Oe;Oe=et||this.options.generateId?re[Ie+ve]:this.points[re[Ie+ve]].id,Oe!==void 0&&(Ee.id=Oe),ke.features.push(Ee)}}_limitZoom(ie){return Math.max(this.options.minZoom,Math.min(Math.floor(+ie),this.options.maxZoom+1))}_cluster(ie,re){const{radius:fe,extent:xe,reduce:oe,minPoints:ke}=this.options,Ge=fe/(xe*Math.pow(2,re)),Ie=ie.data,et=[],Te=this.stride;for(let ne=0;ne<Ie.length;ne+=Te){if(Ie[ne+2]<=re)continue;Ie[ne+2]=re;const Se=Ie[ne],Ee=Ie[ne+1],Oe=ie.within(Ie[ne],Ie[ne+1],Ge),ut=Ie[ne+He];let wt=ut;for(const Xe of Oe){const _t=Xe*Te;Ie[_t+2]>re&&(wt+=Ie[_t+He])}if(wt>ut&&wt>=ke){let Xe,_t=Se*ut,Wt=Ee*ut,ei=-1;const ai=((ne/Te|0)<<5)+(re+1)+this.points.length;for(const tt of Oe){const Tt=tt*Te;if(Ie[Tt+2]<=re)continue;Ie[Tt+2]=re;const Ht=Ie[Tt+He];_t+=Ie[Tt]*Ht,Wt+=Ie[Tt+1]*Ht,Ie[Tt+4]=ai,oe&&(Xe||(Xe=this._map(Ie,ne,!0),ei=this.clusterProps.length,this.clusterProps.push(Xe)),oe(Xe,this._map(Ie,Tt)))}Ie[ne+4]=ai,et.push(_t/wt,Wt/wt,1/0,ai,-1,wt),oe&&et.push(ei)}else{for(let Xe=0;Xe<Te;Xe++)et.push(Ie[ne+Xe]);if(wt>1)for(const Xe of Oe){const _t=Xe*Te;if(!(Ie[_t+2]<=re)){Ie[_t+2]=re;for(let Wt=0;Wt<Te;Wt++)et.push(Ie[_t+Wt])}}}}return et}_getOriginId(ie){return ie-this.points.length>>5}_getOriginZoom(ie){return(ie-this.points.length)%32}_map(ie,re,fe){if(ie[re+He]>1){const ke=this.clusterProps[ie[re+nt]];return fe?Object.assign({},ke):ke}const xe=this.points[ie[re+ve]].properties,oe=this.options.map(xe);return fe&&oe===xe?Object.assign({},oe):oe}}function Je(ze,ie,re){return{type:"Feature",id:ze[ie+ve],properties:gt(ze,ie,re),geometry:{type:"Point",coordinates:[(fe=ze[ie],360*(fe-.5)),ot(ze[ie+1])]}};var fe}function gt(ze,ie,re){const fe=ze[ie+He],xe=fe>=1e4?`${Math.round(fe/1e3)}k`:fe>=1e3?Math.round(fe/100)/10+"k":fe,oe=ze[ie+nt],ke=oe===-1?{}:Object.assign({},re[oe]);return Object.assign(ke,{cluster:!0,cluster_id:ze[ie+ve],point_count:fe,point_count_abbreviated:xe})}function Rt(ze){return ze/360+.5}function Yt(ze){const ie=Math.sin(ze*Math.PI/180),re=.5-.25*Math.log((1+ie)/(1-ie))/Math.PI;return re<0?0:re>1?1:re}function ot(ze){const ie=(180-360*ze)*Math.PI/180;return 360*Math.atan(Math.exp(ie))/Math.PI-90}function mt(ze,ie,re,fe){let xe=fe;const oe=ie+(re-ie>>1);let ke,Ge=re-ie;const Ie=ze[ie],et=ze[ie+1],Te=ze[re],ne=ze[re+1];for(let Se=ie+3;Se<re;Se+=3){const Ee=je(ze[Se],ze[Se+1],Ie,et,Te,ne);if(Ee>xe)ke=Se,xe=Ee;else if(Ee===xe){const Oe=Math.abs(Se-oe);Oe<Ge&&(ke=Se,Ge=Oe)}}xe>fe&&(ke-ie>3&&mt(ze,ie,ke,fe),ze[ke+2]=xe,re-ke>3&&mt(ze,ke,re,fe))}function je(ze,ie,re,fe,xe,oe){let ke=xe-re,Ge=oe-fe;if(ke!==0||Ge!==0){const Ie=((ze-re)*ke+(ie-fe)*Ge)/(ke*ke+Ge*Ge);Ie>1?(re=xe,fe=oe):Ie>0&&(re+=ke*Ie,fe+=Ge*Ie)}return ke=ze-re,Ge=ie-fe,ke*ke+Ge*Ge}function Qe(ze,ie,re,fe){const xe={id:ze??null,type:ie,geometry:re,tags:fe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(ie==="Point"||ie==="MultiPoint"||ie==="LineString")it(xe,re);else if(ie==="Polygon")it(xe,re[0]);else if(ie==="MultiLineString")for(const oe of re)it(xe,oe);else if(ie==="MultiPolygon")for(const oe of re)it(xe,oe[0]);return xe}function it(ze,ie){for(let re=0;re<ie.length;re+=3)ze.minX=Math.min(ze.minX,ie[re]),ze.minY=Math.min(ze.minY,ie[re+1]),ze.maxX=Math.max(ze.maxX,ie[re]),ze.maxY=Math.max(ze.maxY,ie[re+1])}function rt(ze,ie,re,fe){if(!ie.geometry)return;const xe=ie.geometry.coordinates;if(xe&&xe.length===0)return;const oe=ie.geometry.type,ke=Math.pow(re.tolerance/((1<<re.maxZoom)*re.extent),2);let Ge=[],Ie=ie.id;if(re.promoteId?Ie=ie.properties[re.promoteId]:re.generateId&&(Ie=fe||0),oe==="Point")Bt(xe,Ge);else if(oe==="MultiPoint")for(const et of xe)Bt(et,Ge);else if(oe==="LineString")yt(xe,Ge,ke,!1);else if(oe==="MultiLineString"){if(re.lineMetrics){for(const et of xe)Ge=[],yt(et,Ge,ke,!1),ze.push(Qe(Ie,"LineString",Ge,ie.properties));return}Dt(xe,Ge,ke,!1)}else if(oe==="Polygon")Dt(xe,Ge,ke,!0);else{if(oe!=="MultiPolygon"){if(oe==="GeometryCollection"){for(const et of ie.geometry.geometries)rt(ze,{id:Ie,geometry:et,properties:ie.properties},re,fe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const et of xe){const Te=[];Dt(et,Te,ke,!0),Ge.push(Te)}}ze.push(Qe(Ie,oe,Ge,ie.properties))}function Bt(ze,ie){ie.push(Ot(ze[0]),Ct(ze[1]),0)}function yt(ze,ie,re,fe){let xe,oe,ke=0;for(let Ie=0;Ie<ze.length;Ie++){const et=Ot(ze[Ie][0]),Te=Ct(ze[Ie][1]);ie.push(et,Te,0),Ie>0&&(ke+=fe?(xe*Te-et*oe)/2:Math.sqrt(Math.pow(et-xe,2)+Math.pow(Te-oe,2))),xe=et,oe=Te}const Ge=ie.length-3;ie[2]=1,mt(ie,0,Ge,re),ie[Ge+2]=1,ie.size=Math.abs(ke),ie.start=0,ie.end=ie.size}function Dt(ze,ie,re,fe){for(let xe=0;xe<ze.length;xe++){const oe=[];yt(ze[xe],oe,re,fe),ie.push(oe)}}function Ot(ze){return ze/360+.5}function Ct(ze){const ie=Math.sin(ze*Math.PI/180),re=.5-.25*Math.log((1+ie)/(1-ie))/Math.PI;return re<0?0:re>1?1:re}function Qt(ze,ie,re,fe,xe,oe,ke,Ge){if(fe/=ie,oe>=(re/=ie)&&ke<fe)return ze;if(ke<re||oe>=fe)return null;const Ie=[];for(const et of ze){const Te=et.geometry;let ne=et.type;const Se=xe===0?et.minX:et.minY,Ee=xe===0?et.maxX:et.maxY;if(Se>=re&&Ee<fe){Ie.push(et);continue}if(Ee<re||Se>=fe)continue;let Oe=[];if(ne==="Point"||ne==="MultiPoint")ui(Te,Oe,re,fe,xe);else if(ne==="LineString")Nt(Te,Oe,re,fe,xe,!1,Ge.lineMetrics);else if(ne==="MultiLineString")oi(Te,Oe,re,fe,xe,!1);else if(ne==="Polygon")oi(Te,Oe,re,fe,xe,!0);else if(ne==="MultiPolygon")for(const ut of Te){const wt=[];oi(ut,wt,re,fe,xe,!0),wt.length&&Oe.push(wt)}if(Oe.length){if(Ge.lineMetrics&&ne==="LineString"){for(const ut of Oe)Ie.push(Qe(et.id,ne,ut,et.tags));continue}ne!=="LineString"&&ne!=="MultiLineString"||(Oe.length===1?(ne="LineString",Oe=Oe[0]):ne="MultiLineString"),ne!=="Point"&&ne!=="MultiPoint"||(ne=Oe.length===3?"Point":"MultiPoint"),Ie.push(Qe(et.id,ne,Oe,et.tags))}}return Ie.length?Ie:null}function ui(ze,ie,re,fe,xe){for(let oe=0;oe<ze.length;oe+=3){const ke=ze[oe+xe];ke>=re&&ke<=fe&&fi(ie,ze[oe],ze[oe+1],ze[oe+2])}}function Nt(ze,ie,re,fe,xe,oe,ke){let Ge=Zt(ze);const Ie=xe===0?Kt:pt;let et,Te,ne=ze.start;for(let wt=0;wt<ze.length-3;wt+=3){const Xe=ze[wt],_t=ze[wt+1],Wt=ze[wt+2],ei=ze[wt+3],ai=ze[wt+4],tt=xe===0?Xe:_t,Tt=xe===0?ei:ai;let Ht=!1;ke&&(et=Math.sqrt(Math.pow(Xe-ei,2)+Math.pow(_t-ai,2))),tt<re?Tt>re&&(Te=Ie(Ge,Xe,_t,ei,ai,re),ke&&(Ge.start=ne+et*Te)):tt>fe?Tt<fe&&(Te=Ie(Ge,Xe,_t,ei,ai,fe),ke&&(Ge.start=ne+et*Te)):fi(Ge,Xe,_t,Wt),Tt<re&&tt>=re&&(Te=Ie(Ge,Xe,_t,ei,ai,re),Ht=!0),Tt>fe&&tt<=fe&&(Te=Ie(Ge,Xe,_t,ei,ai,fe),Ht=!0),!oe&&Ht&&(ke&&(Ge.end=ne+et*Te),ie.push(Ge),Ge=Zt(ze)),ke&&(ne+=et)}let Se=ze.length-3;const Ee=ze[Se],Oe=ze[Se+1],ut=xe===0?Ee:Oe;ut>=re&&ut<=fe&&fi(Ge,Ee,Oe,ze[Se+2]),Se=Ge.length-3,oe&&Se>=3&&(Ge[Se]!==Ge[0]||Ge[Se+1]!==Ge[1])&&fi(Ge,Ge[0],Ge[1],Ge[2]),Ge.length&&ie.push(Ge)}function Zt(ze){const ie=[];return ie.size=ze.size,ie.start=ze.start,ie.end=ze.end,ie}function oi(ze,ie,re,fe,xe,oe){for(const ke of ze)Nt(ke,ie,re,fe,xe,oe,!1)}function fi(ze,ie,re,fe){ze.push(ie,re,fe)}function Kt(ze,ie,re,fe,xe,oe){const ke=(oe-ie)/(fe-ie);return fi(ze,oe,re+(xe-re)*ke,1),ke}function pt(ze,ie,re,fe,xe,oe){const ke=(oe-re)/(xe-re);return fi(ze,ie+(fe-ie)*ke,oe,1),ke}function ci(ze,ie){const re=[];for(let fe=0;fe<ze.length;fe++){const xe=ze[fe],oe=xe.type;let ke;if(oe==="Point"||oe==="MultiPoint"||oe==="LineString")ke=qi(xe.geometry,ie);else if(oe==="MultiLineString"||oe==="Polygon"){ke=[];for(const Ge of xe.geometry)ke.push(qi(Ge,ie))}else if(oe==="MultiPolygon"){ke=[];for(const Ge of xe.geometry){const Ie=[];for(const et of Ge)Ie.push(qi(et,ie));ke.push(Ie)}}re.push(Qe(xe.id,oe,ke,xe.tags))}return re}function qi(ze,ie){const re=[];re.size=ze.size,ze.start!==void 0&&(re.start=ze.start,re.end=ze.end);for(let fe=0;fe<ze.length;fe+=3)re.push(ze[fe]+ie,ze[fe+1],ze[fe+2]);return re}function Si(ze,ie){if(ze.transformed)return ze;const re=1<<ze.z,fe=ze.x,xe=ze.y;for(const oe of ze.features){const ke=oe.geometry,Ge=oe.type;if(oe.geometry=[],Ge===1)for(let Ie=0;Ie<ke.length;Ie+=2)oe.geometry.push(fa(ke[Ie],ke[Ie+1],ie,re,fe,xe));else for(let Ie=0;Ie<ke.length;Ie++){const et=[];for(let Te=0;Te<ke[Ie].length;Te+=2)et.push(fa(ke[Ie][Te],ke[Ie][Te+1],ie,re,fe,xe));oe.geometry.push(et)}}return ze.transformed=!0,ze}function fa(ze,ie,re,fe,xe,oe){return[Math.round(re*(ze*fe-xe)),Math.round(re*(ie*fe-oe))]}function Ri(ze,ie,re,fe,xe){const oe=ie===xe.maxZoom?0:xe.tolerance/((1<<ie)*xe.extent),ke={features:[],numPoints:0,numSimplified:0,numFeatures:ze.length,source:null,x:re,y:fe,z:ie,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Ge of ze)ea(ke,Ge,oe,xe);return ke}function ea(ze,ie,re,fe){const xe=ie.geometry,oe=ie.type,ke=[];if(ze.minX=Math.min(ze.minX,ie.minX),ze.minY=Math.min(ze.minY,ie.minY),ze.maxX=Math.max(ze.maxX,ie.maxX),ze.maxY=Math.max(ze.maxY,ie.maxY),oe==="Point"||oe==="MultiPoint")for(let Ge=0;Ge<xe.length;Ge+=3)ke.push(xe[Ge],xe[Ge+1]),ze.numPoints++,ze.numSimplified++;else if(oe==="LineString")wi(ke,xe,ze,re,!1,!1);else if(oe==="MultiLineString"||oe==="Polygon")for(let Ge=0;Ge<xe.length;Ge++)wi(ke,xe[Ge],ze,re,oe==="Polygon",Ge===0);else if(oe==="MultiPolygon")for(let Ge=0;Ge<xe.length;Ge++){const Ie=xe[Ge];for(let et=0;et<Ie.length;et++)wi(ke,Ie[et],ze,re,!0,et===0)}if(ke.length){let Ge=ie.tags||null;if(oe==="LineString"&&fe.lineMetrics){Ge={};for(const et in ie.tags)Ge[et]=ie.tags[et];Ge.mapbox_clip_start=xe.start/xe.size,Ge.mapbox_clip_end=xe.end/xe.size}const Ie={geometry:ke,type:oe==="Polygon"||oe==="MultiPolygon"?3:oe==="LineString"||oe==="MultiLineString"?2:1,tags:Ge};ie.id!==null&&(Ie.id=ie.id),ze.features.push(Ie)}}function wi(ze,ie,re,fe,xe,oe){const ke=fe*fe;if(fe>0&&ie.size<(xe?ke:fe))return void(re.numPoints+=ie.length/3);const Ge=[];for(let Ie=0;Ie<ie.length;Ie+=3)(fe===0||ie[Ie+2]>ke)&&(re.numSimplified++,Ge.push(ie[Ie],ie[Ie+1])),re.numPoints++;xe&&function(Ie,et){let Te=0;for(let ne=0,Se=Ie.length,Ee=Se-2;ne<Se;Ee=ne,ne+=2)Te+=(Ie[ne]-Ie[Ee])*(Ie[ne+1]+Ie[Ee+1]);if(Te>0===et)for(let ne=0,Se=Ie.length;ne<Se/2;ne+=2){const Ee=Ie[ne],Oe=Ie[ne+1];Ie[ne]=Ie[Se-2-ne],Ie[ne+1]=Ie[Se-1-ne],Ie[Se-2-ne]=Ee,Ie[Se-1-ne]=Oe}}(Ge,oe),ze.push(Ge)}const ji={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class ha{constructor(ie,re){const fe=(re=this.options=function(oe,ke){for(const Ge in ke)oe[Ge]=ke[Ge];return oe}(Object.create(ji),re)).debug;if(fe&&console.time("preprocess data"),re.maxZoom<0||re.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(re.promoteId&&re.generateId)throw new Error("promoteId and generateId cannot be used together.");let xe=function(oe,ke){const Ge=[];if(oe.type==="FeatureCollection")for(let Ie=0;Ie<oe.features.length;Ie++)rt(Ge,oe.features[Ie],ke,Ie);else rt(Ge,oe.type==="Feature"?oe:{geometry:oe},ke);return Ge}(ie,re);this.tiles={},this.tileCoords=[],fe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",re.indexMaxZoom,re.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),xe=function(oe,ke){const Ge=ke.buffer/ke.extent;let Ie=oe;const et=Qt(oe,1,-1-Ge,Ge,0,-1,2,ke),Te=Qt(oe,1,1-Ge,2+Ge,0,-1,2,ke);return(et||Te)&&(Ie=Qt(oe,1,-Ge,1+Ge,0,-1,2,ke)||[],et&&(Ie=ci(et,1).concat(Ie)),Te&&(Ie=Ie.concat(ci(Te,-1)))),Ie}(xe,re),xe.length&&this.splitTile(xe,0,0,0),fe&&(xe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(ie,re,fe,xe,oe,ke,Ge){const Ie=[ie,re,fe,xe],et=this.options,Te=et.debug;for(;Ie.length;){xe=Ie.pop(),fe=Ie.pop(),re=Ie.pop(),ie=Ie.pop();const ne=1<<re,Se=Rr(re,fe,xe);let Ee=this.tiles[Se];if(!Ee&&(Te>1&&console.time("creation"),Ee=this.tiles[Se]=Ri(ie,re,fe,xe,et),this.tileCoords.push({z:re,x:fe,y:xe}),Te)){Te>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",re,fe,xe,Ee.numFeatures,Ee.numPoints,Ee.numSimplified),console.timeEnd("creation"));const Ht=`z${re}`;this.stats[Ht]=(this.stats[Ht]||0)+1,this.total++}if(Ee.source=ie,oe==null){if(re===et.indexMaxZoom||Ee.numPoints<=et.indexMaxPoints)continue}else{if(re===et.maxZoom||re===oe)continue;if(oe!=null){const Ht=oe-re;if(fe!==ke>>Ht||xe!==Ge>>Ht)continue}}if(Ee.source=null,ie.length===0)continue;Te>1&&console.time("clipping");const Oe=.5*et.buffer/et.extent,ut=.5-Oe,wt=.5+Oe,Xe=1+Oe;let _t=null,Wt=null,ei=null,ai=null,tt=Qt(ie,ne,fe-Oe,fe+wt,0,Ee.minX,Ee.maxX,et),Tt=Qt(ie,ne,fe+ut,fe+Xe,0,Ee.minX,Ee.maxX,et);ie=null,tt&&(_t=Qt(tt,ne,xe-Oe,xe+wt,1,Ee.minY,Ee.maxY,et),Wt=Qt(tt,ne,xe+ut,xe+Xe,1,Ee.minY,Ee.maxY,et),tt=null),Tt&&(ei=Qt(Tt,ne,xe-Oe,xe+wt,1,Ee.minY,Ee.maxY,et),ai=Qt(Tt,ne,xe+ut,xe+Xe,1,Ee.minY,Ee.maxY,et),Tt=null),Te>1&&console.timeEnd("clipping"),Ie.push(_t||[],re+1,2*fe,2*xe),Ie.push(Wt||[],re+1,2*fe,2*xe+1),Ie.push(ei||[],re+1,2*fe+1,2*xe),Ie.push(ai||[],re+1,2*fe+1,2*xe+1)}}getTile(ie,re,fe){ie=+ie,re=+re,fe=+fe;const xe=this.options,{extent:oe,debug:ke}=xe;if(ie<0||ie>24)return null;const Ge=1<<ie,Ie=Rr(ie,re=re+Ge&Ge-1,fe);if(this.tiles[Ie])return Si(this.tiles[Ie],oe);ke>1&&console.log("drilling down to z%d-%d-%d",ie,re,fe);let et,Te=ie,ne=re,Se=fe;for(;!et&&Te>0;)Te--,ne>>=1,Se>>=1,et=this.tiles[Rr(Te,ne,Se)];return et&&et.source?(ke>1&&(console.log("found parent tile z%d-%d-%d",Te,ne,Se),console.time("drilling down")),this.splitTile(et.source,Te,ne,Se,ie,re,fe),ke>1&&console.timeEnd("drilling down"),this.tiles[Ie]?Si(this.tiles[Ie],oe):null):null}}function Rr(ze,ie,re){return 32*((1<<ze)*re+ie)+ze}function Ha(ze,ie){return ie?ze.properties[ie]:ze.id}function Oa(ze,ie){if(ze==null)return!0;if(ze.type==="Feature")return Ha(ze,ie)!=null;if(ze.type==="FeatureCollection"){const re=new Set;for(const fe of ze.features){const xe=Ha(fe,ie);if(xe==null||re.has(xe))return!1;re.add(xe)}return!0}return!1}function sa(ze,ie){const re=new Map;if(ze!=null)if(ze.type==="Feature")re.set(Ha(ze,ie),ze);else for(const fe of ze.features)re.set(Ha(fe,ie),fe);return re}class na extends R{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(ie,re){return h._(this,void 0,void 0,function*(){const fe=ie.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const xe=this._geoJSONIndex.getTile(fe.z,fe.x,fe.y);if(!xe)return null;const oe=new Ae(xe.features);let ke=J(oe);return ke.byteOffset===0&&ke.byteLength===ke.buffer.byteLength||(ke=new Uint8Array(ke)),{vectorTile:oe,rawData:ke.buffer}})}loadData(ie){return h._(this,void 0,void 0,function*(){var re;(re=this._pendingRequest)===null||re===void 0||re.abort();const fe=!!(ie&&ie.request&&ie.request.collectResourceTiming)&&new h.cC(ie.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(ie,this._pendingRequest),this._geoJSONIndex=ie.cluster?new $e(function({superclusterOptions:ke,clusterProperties:Ge}){if(!Ge||!ke)return ke;const Ie={},et={},Te={accumulated:null,zoom:0},ne={properties:null},Se=Object.keys(Ge);for(const Ee of Se){const[Oe,ut]=Ge[Ee],wt=h.cJ(ut),Xe=h.cJ(typeof Oe=="string"?[Oe,["accumulated"],["get",Ee]]:Oe);Ie[Ee]=wt.value,et[Ee]=Xe.value}return ke.map=Ee=>{ne.properties=Ee;const Oe={};for(const ut of Se)Oe[ut]=Ie[ut].evaluate(Te,ne);return Oe},ke.reduce=(Ee,Oe)=>{ne.properties=Oe;for(const ut of Se)Te.accumulated=Ee[ut],Ee[ut]=et[ut].evaluate(Te,ne)},ke}(ie)).load((yield this._pendingData).features):(xe=yield this._pendingData,new ha(xe,ie.geojsonVtOptions)),this.loaded={};const oe={};if(fe){const ke=fe.finish();ke&&(oe.resourceTiming={},oe.resourceTiming[ie.source]=JSON.parse(JSON.stringify(ke)))}return oe}catch(oe){if(delete this._pendingRequest,h.cn(oe))return{abandoned:!0};throw oe}var xe})}getData(){return h._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(ie){const re=this.loaded;return re&&re[ie.uid]?super.reloadTile(ie):this.loadTile(ie)}loadAndProcessGeoJSON(ie,re){return h._(this,void 0,void 0,function*(){let fe=yield this.loadGeoJSON(ie,re);if(delete this._pendingRequest,typeof fe!="object")throw new Error(`Input data given to '${ie.source}' is not a valid GeoJSON object.`);if(O(fe,!0),ie.filter){const xe=h.cJ(ie.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(xe.result==="error")throw new Error(xe.value.map(ke=>`${ke.key}: ${ke.message}`).join(", "));fe={type:"FeatureCollection",features:fe.features.filter(ke=>xe.value.evaluate({zoom:0},ke))}}return fe})}loadGeoJSON(ie,re){return h._(this,void 0,void 0,function*(){const{promoteId:fe}=ie;if(ie.request){const xe=yield h.j(ie.request,re);return this._dataUpdateable=Oa(xe.data,fe)?sa(xe.data,fe):void 0,xe.data}if(typeof ie.data=="string")try{const xe=JSON.parse(ie.data);return this._dataUpdateable=Oa(xe,fe)?sa(xe,fe):void 0,xe}catch{throw new Error(`Input data given to '${ie.source}' is not a valid GeoJSON object.`)}if(!ie.dataDiff)throw new Error(`Input data given to '${ie.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ie.source}`);return function(xe,oe,ke){var Ge,Ie,et,Te;if(oe.removeAll&&xe.clear(),oe.remove)for(const ne of oe.remove)xe.delete(ne);if(oe.add)for(const ne of oe.add){const Se=Ha(ne,ke);Se!=null&&xe.set(Se,ne)}if(oe.update)for(const ne of oe.update){let Se=xe.get(ne.id);if(Se==null)continue;const Ee=!ne.removeAllProperties&&(((Ge=ne.removeProperties)===null||Ge===void 0?void 0:Ge.length)>0||((Ie=ne.addOrUpdateProperties)===null||Ie===void 0?void 0:Ie.length)>0);if((ne.newGeometry||ne.removeAllProperties||Ee)&&(Se=Object.assign({},Se),xe.set(ne.id,Se),Ee&&(Se.properties=Object.assign({},Se.properties))),ne.newGeometry&&(Se.geometry=ne.newGeometry),ne.removeAllProperties)Se.properties={};else if(((et=ne.removeProperties)===null||et===void 0?void 0:et.length)>0)for(const Oe of ne.removeProperties)Object.prototype.hasOwnProperty.call(Se.properties,Oe)&&delete Se.properties[Oe];if(((Te=ne.addOrUpdateProperties)===null||Te===void 0?void 0:Te.length)>0)for(const{key:Oe,value:ut}of ne.addOrUpdateProperties)Se.properties[Oe]=ut}}(this._dataUpdateable,ie.dataDiff,fe),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(ie){return h._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(ie){return this._geoJSONIndex.getClusterExpansionZoom(ie.clusterId)}getClusterChildren(ie){return this._geoJSONIndex.getChildren(ie.clusterId)}getClusterLeaves(ie){return this._geoJSONIndex.getLeaves(ie.clusterId,ie.limit,ie.offset)}}class va{constructor(ie){this.self=ie,this.actor=new h.H(ie),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(re,fe)=>{if(this.externalWorkerSourceTypes[re])throw new Error(`Worker source with name "${re}" already registered.`);this.externalWorkerSourceTypes[re]=fe},this.self.addProtocol=h.cp,this.self.removeProtocol=h.cq,this.self.registerRTLTextPlugin=re=>{h.cK.setMethods(re)},this.actor.registerMessageHandler("LDT",(re,fe)=>this._getDEMWorkerSource(re,fe.source).loadTile(fe)),this.actor.registerMessageHandler("RDT",(re,fe)=>h._(this,void 0,void 0,function*(){this._getDEMWorkerSource(re,fe.source).removeTile(fe)})),this.actor.registerMessageHandler("GCEZ",(re,fe)=>h._(this,void 0,void 0,function*(){return this._getWorkerSource(re,fe.type,fe.source).getClusterExpansionZoom(fe)})),this.actor.registerMessageHandler("GCC",(re,fe)=>h._(this,void 0,void 0,function*(){return this._getWorkerSource(re,fe.type,fe.source).getClusterChildren(fe)})),this.actor.registerMessageHandler("GCL",(re,fe)=>h._(this,void 0,void 0,function*(){return this._getWorkerSource(re,fe.type,fe.source).getClusterLeaves(fe)})),this.actor.registerMessageHandler("LD",(re,fe)=>this._getWorkerSource(re,fe.type,fe.source).loadData(fe)),this.actor.registerMessageHandler("GD",(re,fe)=>this._getWorkerSource(re,fe.type,fe.source).getData()),this.actor.registerMessageHandler("LT",(re,fe)=>this._getWorkerSource(re,fe.type,fe.source).loadTile(fe)),this.actor.registerMessageHandler("RT",(re,fe)=>this._getWorkerSource(re,fe.type,fe.source).reloadTile(fe)),this.actor.registerMessageHandler("AT",(re,fe)=>this._getWorkerSource(re,fe.type,fe.source).abortTile(fe)),this.actor.registerMessageHandler("RMT",(re,fe)=>this._getWorkerSource(re,fe.type,fe.source).removeTile(fe)),this.actor.registerMessageHandler("RS",(re,fe)=>h._(this,void 0,void 0,function*(){if(!this.workerSources[re]||!this.workerSources[re][fe.type]||!this.workerSources[re][fe.type][fe.source])return;const xe=this.workerSources[re][fe.type][fe.source];delete this.workerSources[re][fe.type][fe.source],xe.removeSource!==void 0&&xe.removeSource(fe)})),this.actor.registerMessageHandler("RM",re=>h._(this,void 0,void 0,function*(){delete this.layerIndexes[re],delete this.availableImages[re],delete this.workerSources[re],delete this.demWorkerSources[re]})),this.actor.registerMessageHandler("SR",(re,fe)=>h._(this,void 0,void 0,function*(){this.referrer=fe})),this.actor.registerMessageHandler("SRPS",(re,fe)=>this._syncRTLPluginState(re,fe)),this.actor.registerMessageHandler("IS",(re,fe)=>h._(this,void 0,void 0,function*(){this.self.importScripts(fe)})),this.actor.registerMessageHandler("SI",(re,fe)=>this._setImages(re,fe)),this.actor.registerMessageHandler("UL",(re,fe)=>h._(this,void 0,void 0,function*(){this._getLayerIndex(re).update(fe.layers,fe.removedIds)})),this.actor.registerMessageHandler("SL",(re,fe)=>h._(this,void 0,void 0,function*(){this._getLayerIndex(re).replace(fe)}))}_setImages(ie,re){return h._(this,void 0,void 0,function*(){this.availableImages[ie]=re;for(const fe in this.workerSources[ie]){const xe=this.workerSources[ie][fe];for(const oe in xe)xe[oe].availableImages=re}})}_syncRTLPluginState(ie,re){return h._(this,void 0,void 0,function*(){return yield h.cK.syncState(re,this.self.importScripts)})}_getAvailableImages(ie){let re=this.availableImages[ie];return re||(re=[]),re}_getLayerIndex(ie){let re=this.layerIndexes[ie];return re||(re=this.layerIndexes[ie]=new s),re}_getWorkerSource(ie,re,fe){if(this.workerSources[ie]||(this.workerSources[ie]={}),this.workerSources[ie][re]||(this.workerSources[ie][re]={}),!this.workerSources[ie][re][fe]){const xe={sendAsync:(oe,ke)=>(oe.targetMapId=ie,this.actor.sendAsync(oe,ke))};switch(re){case"vector":this.workerSources[ie][re][fe]=new R(xe,this._getLayerIndex(ie),this._getAvailableImages(ie));break;case"geojson":this.workerSources[ie][re][fe]=new na(xe,this._getLayerIndex(ie),this._getAvailableImages(ie));break;default:this.workerSources[ie][re][fe]=new this.externalWorkerSourceTypes[re](xe,this._getLayerIndex(ie),this._getAvailableImages(ie))}}return this.workerSources[ie][re][fe]}_getDEMWorkerSource(ie,re){return this.demWorkerSources[ie]||(this.demWorkerSources[ie]={}),this.demWorkerSources[ie][re]||(this.demWorkerSources[ie][re]=new E),this.demWorkerSources[ie][re]}}return h.i(self)&&(self.worker=new va(self)),va}),c("index",["exports","./shared"],function(h,s){var x="5.4.0";function w(){var _=new s.A(4);return s.A!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_}let I,R;const E={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(_,i,o){const d=requestAnimationFrame(b=>{p(),i(b)}),{unsubscribe:p}=s.s(_.signal,"abort",()=>{p(),cancelAnimationFrame(d),o(s.c())},!1)},frameAsync(_){return new Promise((i,o)=>{this.frame(_,i,o)})},getImageData(_,i=0){return this.getImageCanvasContext(_).getImageData(-i,-i,_.width+2*i,_.height+2*i)},getImageCanvasContext(_){const i=window.document.createElement("canvas"),o=i.getContext("2d",{willReadFrequently:!0});if(!o)throw new Error("failed to create canvas 2d context");return i.width=_.width,i.height=_.height,o.drawImage(_,0,0,_.width,_.height),o},resolveURL:_=>(I||(I=document.createElement("a")),I.href=_,I.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(R==null&&(R=matchMedia("(prefers-reduced-motion: reduce)")),R.matches)}};class M{static testProp(i){if(!M.docStyle)return i[0];for(let o=0;o<i.length;o++)if(i[o]in M.docStyle)return i[o];return i[0]}static create(i,o,d){const p=window.document.createElement(i);return o!==void 0&&(p.className=o),d&&d.appendChild(p),p}static createNS(i,o){return window.document.createElementNS(i,o)}static disableDrag(){M.docStyle&&M.selectProp&&(M.userSelect=M.docStyle[M.selectProp],M.docStyle[M.selectProp]="none")}static enableDrag(){M.docStyle&&M.selectProp&&(M.docStyle[M.selectProp]=M.userSelect)}static setTransform(i,o){i.style[M.transformProp]=o}static addEventListener(i,o,d,p={}){i.addEventListener(o,d,"passive"in p?p:p.capture)}static removeEventListener(i,o,d,p={}){i.removeEventListener(o,d,"passive"in p?p:p.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",M.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",M.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",M.suppressClickInternal,!0)},0)}static getScale(i){const o=i.getBoundingClientRect();return{x:o.width/i.offsetWidth||1,y:o.height/i.offsetHeight||1,boundingClientRect:o}}static getPoint(i,o,d){const p=o.boundingClientRect;return new s.P((d.clientX-p.left)/o.x-i.clientLeft,(d.clientY-p.top)/o.y-i.clientTop)}static mousePos(i,o){const d=M.getScale(i);return M.getPoint(i,d,o)}static touchPos(i,o){const d=[],p=M.getScale(i);for(let b=0;b<o.length;b++)d.push(M.getPoint(i,p,o[b]));return d}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}static sanitize(i){const o=new DOMParser().parseFromString(i,"text/html").body||document.createElement("body"),d=o.querySelectorAll("script");for(const p of d)p.remove();return M.clean(o),o.innerHTML}static isPossiblyDangerous(i,o){const d=o.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(i)||!d.includes("javascript:")&&!d.includes("data:"))||!!i.startsWith("on")||void 0}static clean(i){const o=i.children;for(const d of o)M.removeAttributes(d),M.clean(d)}static removeAttributes(i){for(const{name:o,value:d}of i.attributes)M.isPossiblyDangerous(o,d)&&i.removeAttribute(o)}}M.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,M.selectProp=M.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),M.transformProp=M.testProp(["transform","WebkitTransform"]);const Y={supported:!1,testSupport:function(_){!H&&O&&($?Ae(_):D=_)}};let D,O,H=!1,$=!1;function Ae(_){const i=_.createTexture();_.bindTexture(_.TEXTURE_2D,i);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,O),_.isContextLost())return;Y.supported=!0}catch{}_.deleteTexture(i),H=!0}var ce;typeof document<"u"&&(O=document.createElement("img"),O.onload=()=>{D&&Ae(D),D=null,$=!0},O.onerror=()=>{H=!0,D=null},O.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(_){let i,o,d,p;_.resetRequestQueue=()=>{i=[],o=0,d=0,p={}},_.addThrottleControl=T=>{const N=d++;return p[N]=T,N},_.removeThrottleControl=T=>{delete p[T],B()},_.getImage=(T,N,Q=!0)=>new Promise((z,Z)=>{Y.supported&&(T.headers||(T.headers={}),T.headers.accept="image/webp,*/*"),s.e(T,{type:"image"}),i.push({abortController:N,requestParameters:T,supportImageRefresh:Q,state:"queued",onError:W=>{Z(W)},onSuccess:W=>{z(W)}}),B()});const b=T=>s._(this,void 0,void 0,function*(){T.state="running";const{requestParameters:N,supportImageRefresh:Q,onError:z,onSuccess:Z,abortController:W}=T,ee=Q===!1&&!s.i(self)&&!s.g(N.url)&&(!N.headers||Object.keys(N.headers).reduce((be,we)=>be&&we==="accept",!0));o++;const me=ee?U(N,W):s.m(N,W);try{const be=yield me;delete T.abortController,T.state="completed",be.data instanceof HTMLImageElement||s.b(be.data)?Z(be):be.data&&Z({data:yield(pe=be.data,typeof createImageBitmap=="function"?s.f(pe):s.h(pe)),cacheControl:be.cacheControl,expires:be.expires})}catch(be){delete T.abortController,z(be)}finally{o--,B()}var pe}),B=()=>{const T=(()=>{for(const N of Object.keys(p))if(p[N]())return!0;return!1})()?s.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:s.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let N=o;N<T&&i.length>0;N++){const Q=i.shift();Q.abortController.signal.aborted?N--:b(Q)}},U=(T,N)=>new Promise((Q,z)=>{const Z=new Image,W=T.url,ee=T.credentials;ee&&ee==="include"?Z.crossOrigin="use-credentials":(ee&&ee==="same-origin"||!s.d(W))&&(Z.crossOrigin="anonymous"),N.signal.addEventListener("abort",()=>{Z.src="",z(s.c())}),Z.fetchPriority="high",Z.onload=()=>{Z.onerror=Z.onload=null,Q({data:Z})},Z.onerror=()=>{Z.onerror=Z.onload=null,N.signal.aborted||z(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Z.src=W})}(ce||(ce={})),ce.resetRequestQueue();class he{constructor(i){this._transformRequestFn=i}transformRequest(i,o){return this._transformRequestFn&&this._transformRequestFn(i,o)||{url:i}}setTransformRequest(i){this._transformRequestFn=i}}function se(_){const i=[];if(typeof _=="string")i.push({id:"default",url:_});else if(_&&_.length>0){const o=[];for(const{id:d,url:p}of _){const b=`${d}${p}`;o.indexOf(b)===-1&&(o.push(b),i.push({id:d,url:p}))}}return i}function ae(_,i,o){try{const d=new URL(_);return d.pathname+=`${i}${o}`,d.toString()}catch{throw new Error(`Invalid sprite URL "${_}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}class V{constructor(i,o,d,p){this.context=i,this.format=d,this.texture=i.gl.createTexture(),this.update(o,p)}update(i,o,d){const{width:p,height:b}=i,B=!(this.size&&this.size[0]===p&&this.size[1]===b||d),{context:U}=this,{gl:T}=U;if(this.useMipmap=!!(o&&o.useMipmap),T.bindTexture(T.TEXTURE_2D,this.texture),U.pixelStoreUnpackFlipY.set(!1),U.pixelStoreUnpack.set(1),U.pixelStoreUnpackPremultiplyAlpha.set(this.format===T.RGBA&&(!o||o.premultiply!==!1)),B)this.size=[p,b],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||s.b(i)?T.texImage2D(T.TEXTURE_2D,0,this.format,this.format,T.UNSIGNED_BYTE,i):T.texImage2D(T.TEXTURE_2D,0,this.format,p,b,0,this.format,T.UNSIGNED_BYTE,i.data);else{const{x:N,y:Q}=d||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||s.b(i)?T.texSubImage2D(T.TEXTURE_2D,0,N,Q,T.RGBA,T.UNSIGNED_BYTE,i):T.texSubImage2D(T.TEXTURE_2D,0,N,Q,p,b,T.RGBA,T.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&T.generateMipmap(T.TEXTURE_2D),U.pixelStoreUnpackFlipY.setDefault(),U.pixelStoreUnpack.setDefault(),U.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(i,o,d){const{context:p}=this,{gl:b}=p;b.bindTexture(b.TEXTURE_2D,this.texture),d!==b.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(d=b.LINEAR),i!==this.filter&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,i),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,d||i),this.filter=i),o!==this.wrap&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,o),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,o),this.wrap=o)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function J(_){const{userImage:i}=_;return!!(i&&i.render&&i.render())&&(_.data.replace(new Uint8Array(i.data.buffer)),!0)}class ge extends s.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:o,promiseResolve:d}of this.requestors)d(this._getImagesForIds(o));this.requestors=[]}}getImage(i){const o=this.images[i];if(o&&!o.data&&o.spriteData){const d=o.spriteData;o.data=new s.R({width:d.width,height:d.height},d.context.getImageData(d.x,d.y,d.width,d.height).data),o.spriteData=null}return o}addImage(i,o){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,o)&&(this.images[i]=o)}_validate(i,o){let d=!0;const p=o.data||o.spriteData;return this._validateStretch(o.stretchX,p&&p.width)||(this.fire(new s.k(new Error(`Image "${i}" has invalid "stretchX" value`))),d=!1),this._validateStretch(o.stretchY,p&&p.height)||(this.fire(new s.k(new Error(`Image "${i}" has invalid "stretchY" value`))),d=!1),this._validateContent(o.content,o)||(this.fire(new s.k(new Error(`Image "${i}" has invalid "content" value`))),d=!1),d}_validateStretch(i,o){if(!i)return!0;let d=0;for(const p of i){if(p[0]<d||p[1]<p[0]||o<p[1])return!1;d=p[1]}return!0}_validateContent(i,o){if(!i)return!0;if(i.length!==4)return!1;const d=o.spriteData,p=d&&d.width||o.data.width,b=d&&d.height||o.data.height;return!(i[0]<0||p<i[0]||i[1]<0||b<i[1]||i[2]<0||p<i[2]||i[3]<0||b<i[3]||i[2]<i[0]||i[3]<i[1])}updateImage(i,o,d=!0){const p=this.getImage(i);if(d&&(p.data.width!==o.data.width||p.data.height!==o.data.height))throw new Error(`size mismatch between old image (${p.data.width}x${p.data.height}) and new image (${o.data.width}x${o.data.height}).`);o.version=p.version+1,this.images[i]=o,this.updatedImages[i]=!0}removeImage(i){const o=this.images[i];delete this.images[i],delete this.patterns[i],o.userImage&&o.userImage.onRemove&&o.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i){return new Promise((o,d)=>{let p=!0;if(!this.isLoaded())for(const b of i)this.images[b]||(p=!1);this.isLoaded()||p?o(this._getImagesForIds(i)):this.requestors.push({ids:i,promiseResolve:o})})}_getImagesForIds(i){const o={};for(const d of i){let p=this.getImage(d);p||(this.fire(new s.l("styleimagemissing",{id:d})),p=this.getImage(d)),p?o[d]={data:p.data.clone(),pixelRatio:p.pixelRatio,sdf:p.sdf,version:p.version,stretchX:p.stretchX,stretchY:p.stretchY,content:p.content,textFitWidth:p.textFitWidth,textFitHeight:p.textFitHeight,hasRenderCallback:!!(p.userImage&&p.userImage.render)}:s.w(`Image "${d}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return o}getPixelSize(){const{width:i,height:o}=this.atlasImage;return{width:i,height:o}}getPattern(i){const o=this.patterns[i],d=this.getImage(i);if(!d)return null;if(o&&o.position.version===d.version)return o.position;if(o)o.position.version=d.version;else{const p={w:d.data.width+2,h:d.data.height+2,x:0,y:0},b=new s.I(p,d);this.patterns[i]={bin:p,position:b}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const o=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new V(i,this.atlasImage,o.RGBA),this.atlasTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const b in this.patterns)i.push(this.patterns[b].bin);const{w:o,h:d}=s.p(i),p=this.atlasImage;p.resize({width:o||1,height:d||1});for(const b in this.patterns){const{bin:B}=this.patterns[b],U=B.x+1,T=B.y+1,N=this.getImage(b).data,Q=N.width,z=N.height;s.R.copy(N,p,{x:0,y:0},{x:U,y:T},{width:Q,height:z}),s.R.copy(N,p,{x:0,y:z-1},{x:U,y:T-1},{width:Q,height:1}),s.R.copy(N,p,{x:0,y:0},{x:U,y:T+z},{width:Q,height:1}),s.R.copy(N,p,{x:Q-1,y:0},{x:U-1,y:T},{width:1,height:z}),s.R.copy(N,p,{x:0,y:0},{x:U+Q,y:T},{width:1,height:z})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const o of i){if(this.callbackDispatchedThisFrame[o])continue;this.callbackDispatchedThisFrame[o]=!0;const d=this.getImage(o);d||s.w(`Image with ID: "${o}" was not found`),J(d)&&this.updateImage(o,d)}}}const le=1e20;function _e(_,i,o,d,p,b,B,U,T){for(let N=i;N<i+d;N++)ve(_,o*b+N,b,p,B,U,T);for(let N=o;N<o+p;N++)ve(_,N*b+i,1,d,B,U,T)}function ve(_,i,o,d,p,b,B){b[0]=0,B[0]=-1e20,B[1]=le,p[0]=_[i];for(let U=1,T=0,N=0;U<d;U++){p[U]=_[i+U*o];const Q=U*U;do{const z=b[T];N=(p[U]-p[z]+Q-z*z)/(U-z)/2}while(N<=B[T]&&--T>-1);T++,b[T]=U,B[T]=N,B[T+1]=le}for(let U=0,T=0;U<d;U++){for(;B[T+1]<U;)T++;const N=b[T],Q=U-N;_[i+U*o]=p[N]+Q*Q}}class He{constructor(i,o){this.requestManager=i,this.localIdeographFontFamily=o,this.entries={}}setURL(i){this.url=i}getGlyphs(i){return s._(this,void 0,void 0,function*(){const o=[];for(const b in i)for(const B of i[b])o.push(this._getAndCacheGlyphsPromise(b,B));const d=yield Promise.all(o),p={};for(const{stack:b,id:B,glyph:U}of d)p[b]||(p[b]={}),p[b][B]=U&&{id:U.id,bitmap:U.bitmap.clone(),metrics:U.metrics};return p})}_getAndCacheGlyphsPromise(i,o){return s._(this,void 0,void 0,function*(){let d=this.entries[i];d||(d=this.entries[i]={glyphs:{},requests:{},ranges:{}});let p=d.glyphs[o];if(p!==void 0)return{stack:i,id:o,glyph:p};if(p=this._tinySDF(d,i,o),p)return d.glyphs[o]=p,{stack:i,id:o,glyph:p};const b=Math.floor(o/256);if(256*b>65535)throw new Error("glyphs > 65535 not supported");if(d.ranges[b])return{stack:i,id:o,glyph:p};if(!this.url)throw new Error("glyphsUrl is not set");if(!d.requests[b]){const U=He.loadGlyphRange(i,b,this.url,this.requestManager);d.requests[b]=U}const B=yield d.requests[b];for(const U in B)this._doesCharSupportLocalGlyph(+U)||(d.glyphs[+U]=B[+U]);return d.ranges[b]=!0,{stack:i,id:o,glyph:B[o]||null}})}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(i))||s.u["CJK Unified Ideographs"](i)||s.u["Hangul Syllables"](i)||s.u.Hiragana(i)||s.u.Katakana(i)||s.u["CJK Symbols and Punctuation"](i)||s.u["Halfwidth and Fullwidth Forms"](i))}_tinySDF(i,o,d){const p=this.localIdeographFontFamily;if(!p||!this._doesCharSupportLocalGlyph(d))return;let b=i.tinySDF;if(!b){let U="400";/bold/i.test(o)?U="900":/medium/i.test(o)?U="500":/light/i.test(o)&&(U="200"),b=i.tinySDF=new He.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:p,fontWeight:U})}const B=b.draw(String.fromCharCode(d));return{id:d,bitmap:new s.q({width:B.width||60,height:B.height||60},B.data),metrics:{width:B.glyphWidth/2||24,height:B.glyphHeight/2||24,left:B.glyphLeft/2+.5||0,top:B.glyphTop/2-27.5||-8,advance:B.glyphAdvance/2||24,isDoubleResolution:!0}}}}He.loadGlyphRange=function(_,i,o,d){return s._(this,void 0,void 0,function*(){const p=256*i,b=p+255,B=d.transformRequest(o.replace("{fontstack}",_).replace("{range}",`${p}-${b}`),"Glyphs"),U=yield s.n(B,new AbortController);if(!U||!U.data)throw new Error(`Could not load glyph range. range: ${i}, ${p}-${b}`);const T={};for(const N of s.o(U.data))T[N.id]=N;return T})},He.TinySDF=class{constructor({fontSize:_=24,buffer:i=3,radius:o=8,cutoff:d=.25,fontFamily:p="sans-serif",fontWeight:b="normal",fontStyle:B="normal"}={}){this.buffer=i,this.cutoff=d,this.radius=o;const U=this.size=_+4*i,T=this._createCanvas(U),N=this.ctx=T.getContext("2d",{willReadFrequently:!0});N.font=`${B} ${b} ${_}px ${p}`,N.textBaseline="alphabetic",N.textAlign="left",N.fillStyle="black",this.gridOuter=new Float64Array(U*U),this.gridInner=new Float64Array(U*U),this.f=new Float64Array(U),this.z=new Float64Array(U+1),this.v=new Uint16Array(U)}_createCanvas(_){const i=document.createElement("canvas");return i.width=i.height=_,i}draw(_){const{width:i,actualBoundingBoxAscent:o,actualBoundingBoxDescent:d,actualBoundingBoxLeft:p,actualBoundingBoxRight:b}=this.ctx.measureText(_),B=Math.ceil(o),U=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-p))),T=Math.min(this.size-this.buffer,B+Math.ceil(d)),N=U+2*this.buffer,Q=T+2*this.buffer,z=Math.max(N*Q,0),Z=new Uint8ClampedArray(z),W={data:Z,width:N,height:Q,glyphWidth:U,glyphHeight:T,glyphTop:B,glyphLeft:0,glyphAdvance:i};if(U===0||T===0)return W;const{ctx:ee,buffer:me,gridInner:pe,gridOuter:be}=this;ee.clearRect(me,me,U,T),ee.fillText(_,me,me+B);const we=ee.getImageData(me,me,U,T);be.fill(le,0,z),pe.fill(0,0,z);for(let Me=0;Me<T;Me++)for(let Re=0;Re<U;Re++){const Fe=we.data[4*(Me*U+Re)+3]/255;if(Fe===0)continue;const Pe=(Me+me)*N+Re+me;if(Fe===1)be[Pe]=0,pe[Pe]=le;else{const Ye=.5-Fe;be[Pe]=Ye>0?Ye*Ye:0,pe[Pe]=Ye<0?Ye*Ye:0}}_e(be,0,0,N,Q,N,this.f,this.v,this.z),_e(pe,me,me,U,T,N,this.f,this.v,this.z);for(let Me=0;Me<z;Me++){const Re=Math.sqrt(be[Me])-Math.sqrt(pe[Me]);Z[Me]=Math.round(255-255*(Re/this.radius+this.cutoff))}return W}};class nt{constructor(){this.specification=s.v.light.position}possiblyEvaluate(i,o){return s.z(i.expression.evaluate(o))}interpolate(i,o,d){return{x:s.B.number(i.x,o.x,d),y:s.B.number(i.y,o.y,d),z:s.B.number(i.z,o.z,d)}}}let $e;class Je extends s.E{constructor(i){super(),$e=$e||new s.r({anchor:new s.D(s.v.light.anchor),position:new nt,color:new s.D(s.v.light.color),intensity:new s.D(s.v.light.intensity)}),this._transitionable=new s.T($e),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,o={}){if(!this._validate(s.t,i,o))for(const d in i){const p=i[d];d.endsWith("-transition")?this._transitionable.setTransition(d.slice(0,-11),p):this._transitionable.setValue(d,p)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,o,d){return(!d||d.validate!==!1)&&s.x(this,i.call(s.y,{value:o,style:{glyphs:!0,sprite:!0},styleSpec:s.v}))}}const gt=new s.r({"sky-color":new s.D(s.v.sky["sky-color"]),"horizon-color":new s.D(s.v.sky["horizon-color"]),"fog-color":new s.D(s.v.sky["fog-color"]),"fog-ground-blend":new s.D(s.v.sky["fog-ground-blend"]),"horizon-fog-blend":new s.D(s.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new s.D(s.v.sky["sky-horizon-blend"]),"atmosphere-blend":new s.D(s.v.sky["atmosphere-blend"])});class Rt extends s.E{constructor(i){super(),this._transitionable=new s.T(gt),this.setSky(i),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new s.C(0))}setSky(i,o={}){if(!this._validate(s.F,i,o)){i||(i={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const d in i){const p=i[d];d.endsWith("-transition")?this._transitionable.setTransition(d.slice(0,-11),p):this._transitionable.setValue(d,p)}}}getSky(){return this._transitionable.serialize()}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,o,d={}){return(d==null?void 0:d.validate)!==!1&&s.x(this,i.call(s.y,s.e({value:o,style:{glyphs:!0,sprite:!0},styleSpec:s.v})))}calculateFogBlendOpacity(i){return i<60?0:i<70?(i-60)/10:1}}class Yt{constructor(i,o){this.width=i,this.height=o,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,o){const d=i.join(",")+String(o);return this.dashEntry[d]||(this.dashEntry[d]=this.addDash(i,o)),this.dashEntry[d]}getDashRanges(i,o,d){const p=[];let b=i.length%2==1?-i[i.length-1]*d:0,B=i[0]*d,U=!0;p.push({left:b,right:B,isDash:U,zeroLength:i[0]===0});let T=i[0];for(let N=1;N<i.length;N++){U=!U;const Q=i[N];b=T*d,T+=Q,B=T*d,p.push({left:b,right:B,isDash:U,zeroLength:Q===0})}return p}addRoundDash(i,o,d){const p=o/2;for(let b=-d;b<=d;b++){const B=this.width*(this.nextRow+d+b);let U=0,T=i[U];for(let N=0;N<this.width;N++){N/T.right>1&&(T=i[++U]);const Q=Math.abs(N-T.left),z=Math.abs(N-T.right),Z=Math.min(Q,z);let W;const ee=b/d*(p+1);if(T.isDash){const me=p-Math.abs(ee);W=Math.sqrt(Z*Z+me*me)}else W=p-Math.sqrt(Z*Z+ee*ee);this.data[B+N]=Math.max(0,Math.min(255,W+128))}}}addRegularDash(i){for(let U=i.length-1;U>=0;--U){const T=i[U],N=i[U+1];T.zeroLength?i.splice(U,1):N&&N.isDash===T.isDash&&(N.left=T.left,i.splice(U,1))}const o=i[0],d=i[i.length-1];o.isDash===d.isDash&&(o.left=d.left-this.width,d.right=o.right+this.width);const p=this.width*this.nextRow;let b=0,B=i[b];for(let U=0;U<this.width;U++){U/B.right>1&&(B=i[++b]);const T=Math.abs(U-B.left),N=Math.abs(U-B.right),Q=Math.min(T,N);this.data[p+U]=Math.max(0,Math.min(255,(B.isDash?Q:-Q)+128))}}addDash(i,o){const d=o?7:0,p=2*d+1;if(this.nextRow+p>this.height)return s.w("LineAtlas out of space"),null;let b=0;for(let U=0;U<i.length;U++)b+=i[U];if(b!==0){const U=this.width/b,T=this.getDashRanges(i,this.width,U);o?this.addRoundDash(T,U,d):this.addRegularDash(T)}const B={y:(this.nextRow+d+.5)/this.height,height:2*d/this.height,width:b};return this.nextRow+=p,this.dirty=!0,B}bind(i){const o=i.gl;this.texture?(o.bindTexture(o.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,o.texSubImage2D(o.TEXTURE_2D,0,0,0,this.width,this.height,o.ALPHA,o.UNSIGNED_BYTE,this.data))):(this.texture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,this.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.REPEAT),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.REPEAT),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texImage2D(o.TEXTURE_2D,0,o.ALPHA,this.width,this.height,0,o.ALPHA,o.UNSIGNED_BYTE,this.data))}}const ot="maplibre_preloaded_worker_pool";class mt{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<mt.workerCount;)this.workers.push(new Worker(s.a.WORKER_URL));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],this.numActive()===0&&(this.workers.forEach(o=>{o.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ot]}numActive(){return Object.keys(this.active).length}}const je=Math.floor(E.hardwareConcurrency/2);let Qe,it;function rt(){return Qe||(Qe=new mt),Qe}mt.workerCount=s.G(globalThis)?Math.max(Math.min(je,3),1):1;class Bt{constructor(i,o){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=o;const d=this.workerPool.acquire(o);for(let p=0;p<d.length;p++){const b=new s.H(d[p],o);b.name=`Worker ${p}`,this.actors.push(b)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,o){const d=[];for(const p of this.actors)d.push(p.sendAsync({type:i,data:o}));return Promise.all(d)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(i=!0){this.actors.forEach(o=>{o.remove()}),this.actors=[],i&&this.workerPool.release(this.id)}registerMessageHandler(i,o){for(const d of this.actors)d.registerMessageHandler(i,o)}}function yt(){return it||(it=new Bt(rt(),s.J),it.registerMessageHandler("GR",(_,i,o)=>s.m(i,o))),it}function Dt(_,i){const o=s.K();return s.L(o,o,[1,1,0]),s.M(o,o,[.5*_.width,.5*_.height,1]),_.calculatePosMatrix?s.N(o,o,_.calculatePosMatrix(i.toUnwrapped())):o}function Ot(_,i,o,d,p,b,B){var U;const T=function(Z,W,ee){if(Z)for(const me of Z){const pe=W[me];if(pe&&pe.source===ee&&pe.type==="fill-extrusion")return!0}else for(const me in W){const pe=W[me];if(pe.source===ee&&pe.type==="fill-extrusion")return!0}return!1}((U=p==null?void 0:p.layers)!==null&&U!==void 0?U:null,i,_.id),N=b.maxPitchScaleFactor(),Q=_.tilesIn(d,N,T);Q.sort(Ct);const z=[];for(const Z of Q)z.push({wrappedTileID:Z.tileID.wrapped().key,queryResults:Z.tile.queryRenderedFeatures(i,o,_._state,Z.queryGeometry,Z.cameraQueryGeometry,Z.scale,p,b,N,Dt(_.transform,Z.tileID),B?(W,ee)=>B(Z.tileID,W,ee):void 0)});return function(Z,W){for(const ee in Z)for(const me of Z[ee])Qt(me,W);return Z}(function(Z){const W={},ee={};for(const me of Z){const pe=me.queryResults,be=me.wrappedTileID,we=ee[be]=ee[be]||{};for(const Me in pe){const Re=pe[Me],Fe=we[Me]=we[Me]||{},Pe=W[Me]=W[Me]||[];for(const Ye of Re)Fe[Ye.featureIndex]||(Fe[Ye.featureIndex]=!0,Pe.push(Ye))}}return W}(z),_)}function Ct(_,i){const o=_.tileID,d=i.tileID;return o.overscaledZ-d.overscaledZ||o.canonical.y-d.canonical.y||o.wrap-d.wrap||o.canonical.x-d.canonical.x}function Qt(_,i){const o=_.feature,d=i.getFeatureState(o.layer["source-layer"],o.id);o.source=o.layer.source,o.layer["source-layer"]&&(o.sourceLayer=o.layer["source-layer"]),o.state=d}function ui(_,i,o){return s._(this,void 0,void 0,function*(){let d=_;if(_.url?d=(yield s.j(i.transformRequest(_.url,"Source"),o)).data:yield E.frameAsync(o),!d)return null;const p=s.O(s.e(d,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in d&&d.vector_layers&&(p.vectorLayerIds=d.vector_layers.map(b=>b.id)),p})}class Nt{constructor(i,o){i&&(o?this.setSouthWest(i).setNorthEast(o):Array.isArray(i)&&(i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1])))}setNorthEast(i){return this._ne=i instanceof s.Q?new s.Q(i.lng,i.lat):s.Q.convert(i),this}setSouthWest(i){return this._sw=i instanceof s.Q?new s.Q(i.lng,i.lat):s.Q.convert(i),this}extend(i){const o=this._sw,d=this._ne;let p,b;if(i instanceof s.Q)p=i,b=i;else{if(!(i instanceof Nt))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(Nt.convert(i)):this.extend(s.Q.convert(i)):i&&("lng"in i||"lon"in i)&&"lat"in i?this.extend(s.Q.convert(i)):this;if(p=i._sw,b=i._ne,!p||!b)return this}return o||d?(o.lng=Math.min(p.lng,o.lng),o.lat=Math.min(p.lat,o.lat),d.lng=Math.max(b.lng,d.lng),d.lat=Math.max(b.lat,d.lat)):(this._sw=new s.Q(p.lng,p.lat),this._ne=new s.Q(b.lng,b.lat)),this}getCenter(){return new s.Q((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new s.Q(this.getWest(),this.getNorth())}getSouthEast(){return new s.Q(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:o,lat:d}=s.Q.convert(i);let p=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&p}static convert(i){return i instanceof Nt?i:i&&new Nt(i)}static fromLngLat(i,o=0){const d=360*o/40075017,p=d/Math.cos(Math.PI/180*i.lat);return new Nt(new s.Q(i.lng-p,i.lat-d),new s.Q(i.lng+p,i.lat+d))}adjustAntiMeridian(){const i=new s.Q(this._sw.lng,this._sw.lat),o=new s.Q(this._ne.lng,this._ne.lat);return new Nt(i,i.lng>o.lng?new s.Q(o.lng+360,o.lat):o)}}class Zt{constructor(i,o,d){this.bounds=Nt.convert(this.validateBounds(i)),this.minzoom=o||0,this.maxzoom=d||24}validateBounds(i){return Array.isArray(i)&&i.length===4?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const o=Math.pow(2,i.z),d=Math.floor(s.U(this.bounds.getWest())*o),p=Math.floor(s.S(this.bounds.getNorth())*o),b=Math.ceil(s.U(this.bounds.getEast())*o),B=Math.ceil(s.S(this.bounds.getSouth())*o);return i.x>=d&&i.x<b&&i.y>=p&&i.y<B}}class oi extends s.E{constructor(i,o,d,p){if(super(),this.id=i,this.dispatcher=d,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.e(this,s.O(o,["url","scheme","tileSize","promoteId"])),this._options=s.e({type:"vector"},o),this._collectResourceTiming=o.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(p)}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield ui(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),i&&(s.e(this,i),i.bounds&&(this.tileBounds=new Zt(i.bounds,this.minzoom,this.maxzoom)),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.l("data",{dataType:"source",sourceDataType:"content"})))}catch(i){this._tileJSONRequest=null,this.fire(new s.k(i))}})}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.abort(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return s.e({},this._options)}loadTile(i){return s._(this,void 0,void 0,function*(){const o=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),d={request:this.map._requestManager.transformRequest(o,"Tile"),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};d.request.collectResourceTiming=this._collectResourceTiming;let p="RT";if(i.actor&&i.state!=="expired"){if(i.state==="loading")return new Promise((b,B)=>{i.reloadPromise={resolve:b,reject:B}})}else i.actor=this.dispatcher.getActor(),p="LT";i.abortController=new AbortController;try{const b=yield i.actor.sendAsync({type:p,data:d},i.abortController);if(delete i.abortController,i.aborted)return;this._afterTileLoadWorkerResponse(i,b)}catch(b){if(delete i.abortController,i.aborted)return;if(b&&b.status!==404)throw b;this._afterTileLoadWorkerResponse(i,null)}})}_afterTileLoadWorkerResponse(i,o){if(o&&o.resourceTiming&&(i.resourceTiming=o.resourceTiming),o&&this.map._refreshExpiredTiles&&i.setExpiryData(o),i.loadVectorData(o,this.map.painter),i.reloadPromise){const d=i.reloadPromise;i.reloadPromise=null,this.loadTile(i).then(d.resolve).catch(d.reject)}}abortTile(i){return s._(this,void 0,void 0,function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.actor&&(yield i.actor.sendAsync({type:"AT",data:{uid:i.uid,type:this.type,source:this.id}}))})}unloadTile(i){return s._(this,void 0,void 0,function*(){i.unloadVectorData(),i.actor&&(yield i.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class fi extends s.E{constructor(i,o,d,p){super(),this.id=i,this.dispatcher=d,this.setEventedParent(p),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.e({type:"raster"},o),s.e(this,s.O(o,["url","scheme","tileSize"]))}load(){return s._(this,arguments,void 0,function*(i=!1){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const o=yield ui(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,o&&(s.e(this,o),o.bounds&&(this.tileBounds=new Zt(o.bounds,this.minzoom,this.maxzoom)),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:i})))}catch(o){this._tileJSONRequest=null,this.fire(new s.k(o))}})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(i){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),i(),this.load(!0)}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}serialize(){return s.e({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i){return s._(this,void 0,void 0,function*(){const o=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.abortController=new AbortController;try{const d=yield ce.getImage(this.map._requestManager.transformRequest(o,"Tile"),i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(d&&d.data){this.map._refreshExpiredTiles&&d.cacheControl&&d.expires&&i.setExpiryData({cacheControl:d.cacheControl,expires:d.expires});const p=this.map.painter.context,b=p.gl,B=d.data;i.texture=this.map.painter.getTileTexture(B.width),i.texture?i.texture.update(B,{useMipmap:!0}):(i.texture=new V(p,B,b.RGBA,{useMipmap:!0}),i.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE,b.LINEAR_MIPMAP_NEAREST)),i.state="loaded"}}catch(d){if(delete i.abortController,i.aborted)i.state="unloaded";else if(d)throw i.state="errored",d}})}abortTile(i){return s._(this,void 0,void 0,function*(){i.abortController&&(i.abortController.abort(),delete i.abortController)})}unloadTile(i){return s._(this,void 0,void 0,function*(){i.texture&&this.map.painter.saveTileTexture(i.texture)})}hasTransition(){return!1}}class Kt extends fi{constructor(i,o,d,p){super(i,o,d,p),this.type="raster-dem",this.maxzoom=22,this._options=s.e({type:"raster-dem"},o),this.encoding=o.encoding||"mapbox",this.redFactor=o.redFactor,this.greenFactor=o.greenFactor,this.blueFactor=o.blueFactor,this.baseShift=o.baseShift}loadTile(i){return s._(this,void 0,void 0,function*(){const o=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),d=this.map._requestManager.transformRequest(o,"Tile");i.neighboringTiles=this._getNeighboringTiles(i.tileID),i.abortController=new AbortController;try{const p=yield ce.getImage(d,i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(p&&p.data){const b=p.data;this.map._refreshExpiredTiles&&p.cacheControl&&p.expires&&i.setExpiryData({cacheControl:p.cacheControl,expires:p.expires});const B=s.b(b)&&s.V()?b:yield this.readImageNow(b),U={type:this.type,uid:i.uid,source:this.id,rawImageData:B,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!i.actor||i.state==="expired"){i.actor=this.dispatcher.getActor();const T=yield i.actor.sendAsync({type:"LDT",data:U});i.dem=T,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded"}}}catch(p){if(delete i.abortController,i.aborted)i.state="unloaded";else if(p)throw i.state="errored",p}})}readImageNow(i){return s._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&s.W()){const o=i.width+2,d=i.height+2;try{return new s.R({width:o,height:d},yield s.X(i,-1,-1,o,d))}catch{}}return E.getImageData(i,1)})}_getNeighboringTiles(i){const o=i.canonical,d=Math.pow(2,o.z),p=(o.x-1+d)%d,b=o.x===0?i.wrap-1:i.wrap,B=(o.x+1+d)%d,U=o.x+1===d?i.wrap+1:i.wrap,T={};return T[new s.Y(i.overscaledZ,b,o.z,p,o.y).key]={backfilled:!1},T[new s.Y(i.overscaledZ,U,o.z,B,o.y).key]={backfilled:!1},o.y>0&&(T[new s.Y(i.overscaledZ,b,o.z,p,o.y-1).key]={backfilled:!1},T[new s.Y(i.overscaledZ,i.wrap,o.z,o.x,o.y-1).key]={backfilled:!1},T[new s.Y(i.overscaledZ,U,o.z,B,o.y-1).key]={backfilled:!1}),o.y+1<d&&(T[new s.Y(i.overscaledZ,b,o.z,p,o.y+1).key]={backfilled:!1},T[new s.Y(i.overscaledZ,i.wrap,o.z,o.x,o.y+1).key]={backfilled:!1},T[new s.Y(i.overscaledZ,U,o.z,B,o.y+1).key]={backfilled:!1}),T}unloadTile(i){return s._(this,void 0,void 0,function*(){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&(yield i.actor.sendAsync({type:"RDT",data:{type:this.type,uid:i.uid,source:this.id}}))})}}class pt extends s.E{constructor(i,o,d,p){super(),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=d.getActor(),this.setEventedParent(p),this._data=o.data,this._options=s.e({},o),this._collectResourceTiming=o.collectResourceTiming,o.maxzoom!==void 0&&(this.maxzoom=o.maxzoom),o.type&&(this.type=o.type),o.attribution&&(this.attribution=o.attribution),this.promoteId=o.promoteId,o.clusterMaxZoom!==void 0&&this.maxzoom<=o.clusterMaxZoom&&s.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${o.clusterMaxZoom}".`),this.workerOptions=s.e({source:this.id,cluster:o.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(o.buffer!==void 0?o.buffer:128),tolerance:this._pixelsToTileUnits(o.tolerance!==void 0?o.tolerance:.375),extent:s.Z,maxZoom:this.maxzoom,lineMetrics:o.lineMetrics||!1,generateId:o.generateId||!1},superclusterOptions:{maxZoom:o.clusterMaxZoom!==void 0?o.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,o.clusterMinPoints||2),extent:s.Z,radius:this._pixelsToTileUnits(o.clusterRadius||50),log:!1,generateId:o.generateId||!1},clusterProperties:o.clusterProperties,filter:o.filter},o.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(i){return i*(s.Z/this.tileSize)}load(){return s._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData(),this}updateData(i){return this._updateWorkerData(i),this}getData(){return s._(this,void 0,void 0,function*(){const i=s.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:i})})}getCoordinatesFromGeometry(i){return i.type==="GeometryCollection"?i.geometries.map(o=>o.coordinates).flat(1/0):i.coordinates.flat(1/0)}getBounds(){return s._(this,void 0,void 0,function*(){const i=new Nt,o=yield this.getData();let d;switch(o.type){case"FeatureCollection":d=o.features.map(p=>this.getCoordinatesFromGeometry(p.geometry)).flat(1/0);break;case"Feature":d=this.getCoordinatesFromGeometry(o.geometry);break;default:d=this.getCoordinatesFromGeometry(o)}if(d.length==0)return i;for(let p=0;p<d.length-1;p+=2)i.extend([d[p],d[p+1]]);return i})}setClusterOptions(i){return this.workerOptions.cluster=i.cluster,i&&(i.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(i.clusterRadius)),i.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=i.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(i){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:i,source:this.id}})}getClusterChildren(i){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:i,source:this.id}})}getClusterLeaves(i,o,d){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:i,limit:o,offset:d}})}_updateWorkerData(i){return s._(this,void 0,void 0,function*(){const o=s.e({type:this.type},this.workerOptions);i?o.dataDiff=i:typeof this._data=="string"?(o.request=this.map._requestManager.transformRequest(E.resolveURL(this._data),"Source"),o.request.collectResourceTiming=this._collectResourceTiming):o.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new s.l("dataloading",{dataType:"source"}));try{const d=yield this.actor.sendAsync({type:"LD",data:o});if(this._pendingLoads--,this._removed||d.abandoned)return void this.fire(new s.l("dataabort",{dataType:"source"}));let p=null;d.resourceTiming&&d.resourceTiming[this.id]&&(p=d.resourceTiming[this.id].slice(0));const b={dataType:"source"};this._collectResourceTiming&&p&&p.length>0&&s.e(b,{resourceTiming:p}),this.fire(new s.l("data",Object.assign(Object.assign({},b),{sourceDataType:"metadata"}))),this.fire(new s.l("data",Object.assign(Object.assign({},b),{sourceDataType:"content"})))}catch(d){if(this._pendingLoads--,this._removed)return void this.fire(new s.l("dataabort",{dataType:"source"}));this.fire(new s.k(d))}})}loaded(){return this._pendingLoads===0}loadTile(i){return s._(this,void 0,void 0,function*(){const o=i.actor?"RT":"LT";i.actor=this.actor;const d={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};i.abortController=new AbortController;const p=yield this.actor.sendAsync({type:o,data:d},i.abortController);delete i.abortController,i.unloadVectorData(),i.aborted||i.loadVectorData(p,this.map.painter,o==="RT")})}abortTile(i){return s._(this,void 0,void 0,function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.aborted=!0})}unloadTile(i){return s._(this,void 0,void 0,function*(){i.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return s.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class ci extends s.E{constructor(i,o,d,p){super(),this.flippedWindingOrder=!1,this.id=i,this.dispatcher=d,this.coordinates=o.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(p),this.options=o}load(i){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const o=yield ce.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,o&&o.data&&(this.image=o.data,i&&(this.coordinates=i),this._finishLoading())}catch(o){this._request=null,this._loaded=!0,this.fire(new s.k(o))}})}loaded(){return this._loaded}updateImage(i){return i.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=i.url,this.load(i.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(i){this.coordinates=i;const o=i.map(s.$.fromLngLat);var d;return this.tileID=function(p){let b=1/0,B=1/0,U=-1/0,T=-1/0;for(const Z of p)b=Math.min(b,Z.x),B=Math.min(B,Z.y),U=Math.max(U,Z.x),T=Math.max(T,Z.y);const N=Math.max(U-b,T-B),Q=Math.max(0,Math.floor(-Math.log(N)/Math.LN2)),z=Math.pow(2,Q);return new s.a1(Q,Math.floor((b+U)/2*z),Math.floor((B+T)/2*z))}(o),this.terrainTileRanges=this._getOverlappingTileRanges(o),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=o.map(p=>this.tileID.getTilePoint(p)._round()),this.flippedWindingOrder=((d=this.tileCoords)[1].x-d[0].x)*(d[2].y-d[0].y)-(d[1].y-d[0].y)*(d[2].x-d[0].x)<0,this.fire(new s.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const i=this.map.painter.context,o=i.gl;this.texture||(this.texture=new V(i,this.image,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE));let d=!1;for(const p in this.tiles){const b=this.tiles[p];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,d=!0)}d&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(i){return s._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={}):i.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(i){let o=1/0,d=1/0,p=-1/0,b=-1/0;for(const U of i)o=Math.min(o,U.x),d=Math.min(d,U.y),p=Math.max(p,U.x),b=Math.max(b,U.y);const B={};for(let U=0;U<=s.a0;U++){const T=Math.pow(2,U),N=Math.floor(o*T),Q=Math.floor(d*T),z=Math.floor(p*T),Z=Math.floor(b*T);B[U]={minTileX:N,minTileY:Q,maxTileX:z,maxTileY:Z}}return B}}class qi extends ci{constructor(i,o,d,p){super(i,o,d,p),this.roundZoom=!0,this.type="video",this.options=o}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1;const i=this.options;this.urls=[];for(const o of i.urls)this.urls.push(this.map._requestManager.transformRequest(o,"Source").url);try{const o=yield s.a2(this.urls);if(this._loaded=!0,!o)return;this.video=o,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(o){this.fire(new s.k(o))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const o=this.video.seekable;i<o.start(0)||i>o.end(0)?this.fire(new s.k(new s.a3(`sources.${this.id}`,null,`Playback for this video can be set only between the ${o.start(0)} and ${o.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const i=this.map.painter.context,o=i.gl;this.texture?this.video.paused||(this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,this.video)):(this.texture=new V(i,this.video,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE));let d=!1;for(const p in this.tiles){const b=this.tiles[p];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,d=!0)}d&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Si extends ci{constructor(i,o,d,p){super(i,o,d,p),o.coordinates?Array.isArray(o.coordinates)&&o.coordinates.length===4&&!o.coordinates.some(b=>!Array.isArray(b)||b.length!==2||b.some(B=>typeof B!="number"))||this.fire(new s.k(new s.a3(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.k(new s.a3(`sources.${i}`,null,'missing required property "coordinates"'))),o.animate&&typeof o.animate!="boolean"&&this.fire(new s.k(new s.a3(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),o.canvas?typeof o.canvas=="string"||o.canvas instanceof HTMLCanvasElement||this.fire(new s.k(new s.a3(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.k(new s.a3(`sources.${i}`,null,'missing required property "canvas"'))),this.options=o,this.animate=o.animate===void 0||o.animate}load(){return s._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let i=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,i=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,i=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const o=this.map.painter.context,d=o.gl;this.texture?(i||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new V(o,this.canvas,d.RGBA,{premultiply:!0});let p=!1;for(const b in this.tiles){const B=this.tiles[b];B.state!=="loaded"&&(B.state="loaded",B.texture=this.texture,p=!0)}p&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const fa={},Ri=_=>{switch(_){case"geojson":return pt;case"image":return ci;case"raster":return fi;case"raster-dem":return Kt;case"vector":return oi;case"video":return qi;case"canvas":return Si}return fa[_]},ea="RTLPluginLoaded";class wi extends s.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=yt()}_syncState(i){return this.status=i,this.dispatcher.broadcast("SRPS",{pluginStatus:i,pluginURL:this.url}).catch(o=>{throw this.status="error",o})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(i){return s._(this,arguments,void 0,function*(o,d=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=E.resolveURL(o),!this.url)throw new Error(`requested url ${o} is invalid`);if(this.status==="unavailable"){if(!d)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return s._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new s.l(ea))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let ji=null;function ha(){return ji||(ji=new wi),ji}class Rr{constructor(i,o){this.timeAdded=0,this.fadeEndTime=0,this.tileID=i,this.uid=s.a4(),this.uses=0,this.tileSize=o,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const o=i+this.timeAdded;o<this.fadeEndTime||(this.fadeEndTime=o)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(i,o,d){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(p,b){const B={};if(!b)return B;for(const U of p){const T=U.layerIds.map(N=>b.getLayer(N)).filter(Boolean);if(T.length!==0){U.layers=T,U.stateDependentLayerIds&&(U.stateDependentLayers=U.stateDependentLayerIds.map(N=>T.filter(Q=>Q.id===N)[0]));for(const N of T)B[N.id]=U}}return B}(i.buckets,o==null?void 0:o.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const b=this.buckets[p];if(b instanceof s.a6){if(this.hasSymbolBuckets=!0,!d)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const b=this.buckets[p];if(b instanceof s.a6&&b.hasRTLText){this.hasRTLText=!0,ha().lazyLoad();break}}this.queryPadding=0;for(const p in this.buckets){const b=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(p).queryRadius(b))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new s.a5}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const d in this.buckets){const p=this.buckets[d];p.uploadPending()&&p.upload(i)}const o=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new V(i,this.imageAtlas.image,o.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new V(i,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,o,d,p,b,B,U,T,N,Q,z){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:p,cameraQueryGeometry:b,scale:B,tileSize:this.tileSize,pixelPosMatrix:Q,transform:T,params:U,queryPadding:this.queryPadding*N,getElevation:z},i,o,d):{}}querySourceFeatures(i,o){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const p=d.loadVTLayers(),b=o&&o.sourceLayer?o.sourceLayer:"",B=p._geojsonTileLayer||p[b];if(!B)return;const U=s.a7(o&&o.filter),{z:T,x:N,y:Q}=this.tileID.canonical,z={z:T,x:N,y:Q};for(let Z=0;Z<B.length;Z++){const W=B.feature(Z);if(U.needGeometry){const pe=s.a8(W,!0);if(!U.filter(new s.C(this.tileID.overscaledZ),pe,this.tileID.canonical))continue}else if(!U.filter(new s.C(this.tileID.overscaledZ),W))continue;const ee=d.getId(W,b),me=new s.a9(W,T,N,Q,ee);me.tile=z,i.push(me)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const o=this.expirationTime;if(i.cacheControl){const d=s.aa(i.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const d=Date.now();let p=!1;if(this.expirationTime>d)p=!1;else if(o)if(this.expirationTime<o)p=!0;else{const b=this.expirationTime-o;b?this.expirationTime=d+Math.max(b,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,o){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0)return;const d=this.latestFeatureIndex.loadVTLayers();for(const p in this.buckets){if(!o.style.hasLayer(p))continue;const b=this.buckets[p],B=b.layers[0].sourceLayer||"_geojsonTileLayer",U=d[B],T=i[B];if(!U||!T||Object.keys(T).length===0)continue;b.update(T,U,this.imageAtlas&&this.imageAtlas.patternPositions||{});const N=o&&o.style&&o.style.getLayer(p);N&&(this.queryPadding=Math.max(this.queryPadding,N.queryRadius(b)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<E.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=E.now()+i}setDependencies(i,o){const d={};for(const p of o)d[p]=!0;this.dependencies[i]=d}hasDependency(i,o){for(const d of i){const p=this.dependencies[d];if(p){for(const b of o)if(p[b])return!0}}return!1}}class Ha{constructor(i,o){this.max=i,this.onRemove=o,this.reset()}reset(){for(const i in this.data)for(const o of this.data[i])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(i,o,d){const p=i.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);const b={value:o,timeout:void 0};if(d!==void 0&&(b.timeout=setTimeout(()=>{this.remove(i,b)},d)),this.data[p].push(b),this.order.push(p),this.order.length>this.max){const B=this._getAndRemoveByKey(this.order[0]);B&&this.onRemove(B)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const o=this.data[i].shift();return o.timeout&&clearTimeout(o.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),o.value}getByKey(i){const o=this.data[i];return o?o[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,o){if(!this.has(i))return this;const d=i.wrapped().key,p=o===void 0?0:this.data[d].indexOf(o),b=this.data[d][p];return this.data[d].splice(p,1),b.timeout&&clearTimeout(b.timeout),this.data[d].length===0&&delete this.data[d],this.onRemove(b.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(i){const o=[];for(const d in this.data)for(const p of this.data[d])i(p.value)||o.push(p);for(const d of o)this.remove(d.value.tileID,d)}}class Oa{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,o,d){const p=String(o);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][p]=this.stateChanges[i][p]||{},s.e(this.stateChanges[i][p],d),this.deletedStates[i]===null){this.deletedStates[i]={};for(const b in this.state[i])b!==p&&(this.deletedStates[i][b]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][p]===null){this.deletedStates[i][p]={};for(const b in this.state[i][p])d[b]||(this.deletedStates[i][p][b]=null)}else for(const b in d)this.deletedStates[i]&&this.deletedStates[i][p]&&this.deletedStates[i][p][b]===null&&delete this.deletedStates[i][p][b]}removeFeatureState(i,o,d){if(this.deletedStates[i]===null)return;const p=String(o);if(this.deletedStates[i]=this.deletedStates[i]||{},d&&o!==void 0)this.deletedStates[i][p]!==null&&(this.deletedStates[i][p]=this.deletedStates[i][p]||{},this.deletedStates[i][p][d]=null);else if(o!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][p])for(d in this.deletedStates[i][p]={},this.stateChanges[i][p])this.deletedStates[i][p][d]=null;else this.deletedStates[i][p]=null;else this.deletedStates[i]=null}getState(i,o){const d=String(o),p=s.e({},(this.state[i]||{})[d],(this.stateChanges[i]||{})[d]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const b=this.deletedStates[i][o];if(b===null)return{};for(const B in b)delete p[B]}return p}initializeTileState(i,o){i.setFeatureState(this.state,o)}coalesceChanges(i,o){const d={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const b={};for(const B in this.stateChanges[p])this.state[p][B]||(this.state[p][B]={}),s.e(this.state[p][B],this.stateChanges[p][B]),b[B]=this.state[p][B];d[p]=b}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const b={};if(this.deletedStates[p]===null)for(const B in this.state[p])b[B]={},this.state[p][B]={};else for(const B in this.deletedStates[p]){if(this.deletedStates[p][B]===null)this.state[p][B]={};else for(const U of Object.keys(this.deletedStates[p][B]))delete this.state[p][B][U];b[B]=this.state[p][B]}d[p]=d[p]||{},s.e(d[p],b)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(const p in i)i[p].setFeatureState(d,o)}}const sa=89.25;function na(_,i){const o=s.ae(i.lat,-85.051129,s.af);return new s.P(s.U(i.lng)*_,s.S(o)*_)}function va(_,i){return new s.$(i.x/_,i.y/_).toLngLat()}function ze(_){return _.cameraToCenterDistance*Math.min(.85*Math.tan(s.ab(90-_.pitch)),Math.tan(s.ab(sa-_.pitch)))}function ie(_,i){const o=_.canonical,d=i/s.ac(o.z),p=o.x+Math.pow(2,o.z)*_.wrap,b=s.ad(new Float64Array(16));return s.L(b,b,[p*d,o.y*d,0]),s.M(b,b,[d/s.Z,d/s.Z,1]),b}function re(_,i,o,d,p){const b=s.$.fromLngLat(_,i),B=p*s.ag(1,_.lat),U=B*Math.cos(s.ab(o)),T=Math.sqrt(B*B-U*U),N=T*Math.sin(s.ab(-d)),Q=T*Math.cos(s.ab(-d));return new s.$(b.x+N,b.y+Q,b.z+U)}function fe(_,i,o){const d=i.intersectsFrustum(_);if(!o)return d;const p=i.intersectsPlane(o);return d===0||p===0?0:d===2&&p===2?2:1}function xe(_,i,o){let d=0;const p=(o-i)/10;for(let b=0;b<10;b++)d+=p*Math.pow(Math.cos(i+(b+.5)/10*(o-i)),_);return d}function oe(_,i){return function(o,d,p,b,B){const U=2*((_-1)/s.ah(Math.cos(s.ab(sa-B))/Math.cos(s.ab(sa)))-1),T=Math.acos(p/b),N=2*xe(U-1,0,s.ab(B/2)),Q=Math.min(s.ab(sa),T+s.ab(B/2)),z=xe(U-1,Math.min(Q,T-s.ab(B/2)),Q),Z=Math.atan(d/p),W=Math.hypot(d,p);let ee=o;return ee+=s.ah(b/W/Math.max(.5,Math.cos(s.ab(B/2)))),ee+=U*s.ah(Math.cos(Z))/2,ee-=s.ah(Math.max(1,z/N/i))/2,ee}}const ke=oe(9.314,3);function Ge(_,i){const o=(i.roundZoom?Math.round:Math.floor)(_.zoom+s.ah(_.tileSize/i.tileSize));return Math.max(0,o)}function Ie(_,i){const o=_.getCameraFrustum(),d=_.getClippingPlane(),p=_.screenPointToMercatorCoordinate(_.getCameraPoint()),b=s.$.fromLngLat(_.center,_.elevation);p.z=b.z+Math.cos(_.pitchInRadians)*_.cameraToCenterDistance/_.worldSize;const B=_.getCoveringTilesDetailsProvider(),U=B.allowVariableZoom(_,i),T=Ge(_,i),N=i.minzoom||0,Q=i.maxzoom!==void 0?i.maxzoom:_.maxZoom,z=Math.min(Math.max(0,T),Q),Z=Math.pow(2,z),W=[Z*p.x,Z*p.y,0],ee=[Z*b.x,Z*b.y,0],me=Math.hypot(b.x-p.x,b.y-p.y),pe=Math.abs(b.z-p.z),be=Math.hypot(me,pe),we=Fe=>({zoom:0,x:0,y:0,wrap:Fe,fullyVisible:!1}),Me=[],Re=[];if(_.renderWorldCopies&&B.allowWorldCopies())for(let Fe=1;Fe<=3;Fe++)Me.push(we(-Fe)),Me.push(we(Fe));for(Me.push(we(0));Me.length>0;){const Fe=Me.pop(),Pe=Fe.x,Ye=Fe.y;let Ke=Fe.fullyVisible;const We={x:Pe,y:Ye,z:Fe.zoom},ct=B.getTileAABB(We,Fe.wrap,_.elevation,i);if(!Ke){const Ut=fe(o,ct,d);if(Ut===0)continue;Ke=Ut===2}const dt=B.distanceToTile2d(p.x,p.y,We,ct);let At=T;U&&(At=(i.calculateTileZoom||ke)(_.zoom+s.ah(_.tileSize/i.tileSize),dt,pe,be,_.fov)),At=(i.roundZoom?Math.round:Math.floor)(At),At=Math.max(0,At);const Lt=Math.min(At,Q);if(Fe.wrap=B.getWrap(b,We,Fe.wrap),Fe.zoom>=Lt){if(Fe.zoom<N)continue;const Ut=z-Fe.zoom,bt=W[0]-.5-(Pe<<Ut),ti=W[1]-.5-(Ye<<Ut),Ii=i.reparseOverscaled?Math.max(Fe.zoom,At):Fe.zoom;Re.push({tileID:new s.Y(Fe.zoom===Q?Ii:Fe.zoom,Fe.wrap,Fe.zoom,Pe,Ye),distanceSq:s.ai([ee[0]-.5-Pe,ee[1]-.5-Ye]),tileDistanceToCamera:Math.sqrt(bt*bt+ti*ti)})}else for(let Ut=0;Ut<4;Ut++)Me.push({zoom:Fe.zoom+1,x:(Pe<<1)+Ut%2,y:(Ye<<1)+(Ut>>1),wrap:Fe.wrap,fullyVisible:Ke})}return Re.sort((Fe,Pe)=>Fe.distanceSq-Pe.distanceSq).map(Fe=>Fe.tileID)}class et extends s.E{constructor(i,o,d){super(),this.id=i,this.dispatcher=d,this.on("data",p=>this._dataHandler(p)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((p,b,B,U)=>{const T=new(Ri(b.type))(p,b,B,U);if(T.id!==p)throw new Error(`Expected Source id to be ${p} instead of ${T.id}`);return T})(i,o,d,this),this._tiles={},this._cache=new Ha(0,p=>this._unloadTile(p)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Oa,this._didEmitContent=!1,this._updated=!1}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._maxTileCacheZoomLevels=i?i._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const i in this._tiles){const o=this._tiles[i];if(o.state!=="loaded"&&o.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,o,d){return s._(this,void 0,void 0,function*(){try{yield this._source.loadTile(i),this._tileLoaded(i,o,d)}catch(p){i.state="errored",p.status!==404?this._source.fire(new s.k(p,{tile:i})):this.update(this.transform,this.terrain)}})}_unloadTile(i){this._source.unloadTile&&this._source.unloadTile(i)}_abortTile(i){this._source.abortTile&&this._source.abortTile(i),this._source.fire(new s.l("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const o in this._tiles){const d=this._tiles[o];d.upload(i),d.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(i=>i.tileID).sort(Te).map(i=>i.key)}getRenderableIds(i){const o=[];for(const d in this._tiles)this._isIdRenderable(d,i)&&o.push(this._tiles[d]);return i?o.sort((d,p)=>{const b=d.tileID,B=p.tileID,U=new s.P(b.canonical.x,b.canonical.y)._rotate(-this.transform.bearingInRadians),T=new s.P(B.canonical.x,B.canonical.y)._rotate(-this.transform.bearingInRadians);return b.overscaledZ-B.overscaledZ||T.y-U.y||T.x-U.x}).map(d=>d.tileID.key):o.map(d=>d.tileID).sort(Te).map(d=>d.key)}hasRenderableParent(i){const o=this.findLoadedParent(i,0);return!!o&&this._isIdRenderable(o.tileID.key)}_isIdRenderable(i,o){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(o||!this._tiles[i].holdingForFade())}reload(i){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const o in this._tiles)(i||this._tiles[o].state!=="errored")&&this._reloadTile(o,"reloading")}}_reloadTile(i,o){return s._(this,void 0,void 0,function*(){const d=this._tiles[i];d&&(d.state!=="loading"&&(d.state=o),yield this._loadTile(d,i,o))})}_tileLoaded(i,o,d){i.timeAdded=E.now(),d==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(o,i),this.getSource().type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new s.l("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const o=this.getRenderableIds();for(let p=0;p<o.length;p++){const b=o[p];if(i.neighboringTiles&&i.neighboringTiles[b]){const B=this.getTileByID(b);d(i,B),d(B,i)}}function d(p,b){p.needsHillshadePrepare=!0,p.needsTerrainPrepare=!0;let B=b.tileID.canonical.x-p.tileID.canonical.x;const U=b.tileID.canonical.y-p.tileID.canonical.y,T=Math.pow(2,p.tileID.canonical.z),N=b.tileID.key;B===0&&U===0||Math.abs(U)>1||(Math.abs(B)>1&&(Math.abs(B+T)===1?B+=T:Math.abs(B-T)===1&&(B-=T)),b.dem&&p.dem&&(p.dem.backfillBorder(b.dem,B,U),p.neighboringTiles&&p.neighboringTiles[N]&&(p.neighboringTiles[N].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,o,d,p){for(const b in this._tiles){let B=this._tiles[b];if(p[b]||!B.hasData()||B.tileID.overscaledZ<=o||B.tileID.overscaledZ>d)continue;let U=B.tileID;for(;B&&B.tileID.overscaledZ>o+1;){const N=B.tileID.scaledTo(B.tileID.overscaledZ-1);B=this._tiles[N.key],B&&B.hasData()&&(U=N)}let T=U;for(;T.overscaledZ>o;)if(T=T.scaledTo(T.overscaledZ-1),i[T.key]||i[T.canonical.key]){p[U.key]=U;break}}}findLoadedParent(i,o){if(i.key in this._loadedParentTiles){const d=this._loadedParentTiles[i.key];return d&&d.tileID.overscaledZ>=o?d:null}for(let d=i.overscaledZ-1;d>=o;d--){const p=i.scaledTo(d),b=this._getLoadedTile(p);if(b)return b}}findLoadedSibling(i){return this._getLoadedTile(i)}_getLoadedTile(i){const o=this._tiles[i.key];return o&&o.hasData()?o:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const o=Math.ceil(i.width/this._source.tileSize)+1,d=Math.ceil(i.height/this._source.tileSize)+1,p=Math.floor(o*d*(this._maxTileCacheZoomLevels===null?s.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),b=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,p):p;this._cache.setMaxSize(b)}handleWrapJump(i){const o=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,o){const d={};for(const p in this._tiles){const b=this._tiles[p];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+o),d[b.tileID.key]=b}this._tiles=d;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(p,this._tiles[p])}}_updateCoveredAndRetainedTiles(i,o,d,p,b,B){const U={},T={},N=Object.keys(i),Q=E.now();for(const z of N){const Z=i[z],W=this._tiles[z];if(!W||W.fadeEndTime!==0&&W.fadeEndTime<=Q)continue;const ee=this.findLoadedParent(Z,o),me=this.findLoadedSibling(Z),pe=ee||me||null;pe&&(this._addTile(pe.tileID),U[pe.tileID.key]=pe.tileID),T[z]=Z}this._retainLoadedChildren(T,p,d,i);for(const z in U)i[z]||(this._coveredTiles[z]=!0,i[z]=U[z]);if(B){const z={},Z={};for(const W of b)this._tiles[W.key].hasData()?z[W.key]=W:Z[W.key]=W;for(const W in Z){const ee=Z[W].children(this._source.maxzoom);this._tiles[ee[0].key]&&this._tiles[ee[1].key]&&this._tiles[ee[2].key]&&this._tiles[ee[3].key]&&(z[ee[0].key]=i[ee[0].key]=ee[0],z[ee[1].key]=i[ee[1].key]=ee[1],z[ee[2].key]=i[ee[2].key]=ee[2],z[ee[3].key]=i[ee[3].key]=ee[3],delete Z[W])}for(const W in Z){const ee=Z[W],me=this.findLoadedParent(ee,this._source.minzoom),pe=this.findLoadedSibling(ee),be=me||pe||null;if(be){z[be.tileID.key]=i[be.tileID.key]=be.tileID;for(const we in z)z[we].isChildOf(be.tileID)&&delete z[we]}}for(const W in this._tiles)z[W]||(this._coveredTiles[W]=!0)}}update(i,o){if(!this._sourceLoaded||this._paused)return;let d;this.transform=i,this.terrain=o,this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?d=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(Q=>new s.Y(Q.canonical.z,Q.wrap,Q.canonical.z,Q.canonical.x,Q.canonical.y)):(d=Ie(i,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:o,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(d=d.filter(Q=>this._source.hasTile(Q)))):d=[];const p=Ge(i,this._source),b=Math.max(p-et.maxOverzooming,this._source.minzoom),B=Math.max(p+et.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const Q={};for(const z of d)if(z.canonical.z>this._source.minzoom){const Z=z.scaledTo(z.canonical.z-1);Q[Z.key]=Z;const W=z.scaledTo(Math.max(this._source.minzoom,Math.min(z.canonical.z,5)));Q[W.key]=W}d=d.concat(Object.values(Q))}const U=d.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,U&&this.fire(new s.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const T=this._updateRetainedTiles(d,p);ne(this._source.type)&&this._updateCoveredAndRetainedTiles(T,b,B,p,d,o);for(const Q in T)this._tiles[Q].clearFadeHold();const N=s.aj(this._tiles,T);for(const Q of N){const z=this._tiles[Q];z.hasSymbolBuckets&&!z.holdingForFade()?z.setHoldDuration(this.map._fadeDuration):z.hasSymbolBuckets&&!z.symbolFadeFinished()||this._removeTile(Q)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,o){var d;const p={},b={},B=Math.max(o-et.maxOverzooming,this._source.minzoom),U=Math.max(o+et.maxUnderzooming,this._source.minzoom),T={};for(const N of i){const Q=this._addTile(N);p[N.key]=N,Q.hasData()||o<this._source.maxzoom&&(T[N.key]=N)}this._retainLoadedChildren(T,o,U,p);for(const N of i){let Q=this._tiles[N.key];if(Q.hasData())continue;if(o+1>this._source.maxzoom){const Z=N.children(this._source.maxzoom)[0],W=this.getTile(Z);if(W&&W.hasData()){p[Z.key]=Z;continue}}else{const Z=N.children(this._source.maxzoom);if(p[Z[0].key]&&p[Z[1].key]&&p[Z[2].key]&&p[Z[3].key])continue}let z=Q.wasRequested();for(let Z=N.overscaledZ-1;Z>=B;--Z){const W=N.scaledTo(Z);if(b[W.key])break;if(b[W.key]=!0,Q=this.getTile(W),!Q&&z&&(Q=this._addTile(W)),Q){const ee=Q.hasData();if((ee||!(!((d=this.map)===null||d===void 0)&&d.cancelPendingTileRequestsWhileZooming)||z)&&(p[W.key]=W),z=Q.wasRequested(),ee)break}}}return p}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const o=[];let d,p=this._tiles[i].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){d=this._loadedParentTiles[p.key];break}o.push(p.key);const b=p.scaledTo(p.overscaledZ-1);if(d=this._getLoadedTile(b),d)break;p=b}for(const b of o)this._loadedParentTiles[b]=d}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const i in this._tiles){const o=this._tiles[i].tileID,d=this._getLoadedTile(o);this._loadedSiblingTiles[o.key]=d}}_addTile(i){let o=this._tiles[i.key];if(o)return o;o=this._cache.getAndRemove(i),o&&(this._setTileReloadTimer(i.key,o),o.tileID=i,this._state.initializeTileState(o,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,o)));const d=o;return o||(o=new Rr(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(o,i.key,o.state)),o.uses++,this._tiles[i.key]=o,d||this._source.fire(new s.l("dataloading",{tile:o,coord:o.tileID,dataType:"source"})),o}_setTileReloadTimer(i,o){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const d=o.getExpiryTimeout();d&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},d))}_removeTile(i){const o=this._tiles[i];o&&(o.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),o.uses>0||(o.hasData()&&o.state!=="reloading"?this._cache.add(o.tileID,o,o.getExpiryTimeout()):(o.aborted=!0,this._abortTile(o),this._unloadTile(o))))}_dataHandler(i){const o=i.sourceDataType;i.dataType==="source"&&o==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&i.dataType==="source"&&o==="content"&&(this.reload(i.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,o,d){const p=[],b=this.transform;if(!b)return p;const B=d?b.getCameraQueryGeometry(i):i,U=i.map(ee=>b.screenPointToMercatorCoordinate(ee,this.terrain)),T=B.map(ee=>b.screenPointToMercatorCoordinate(ee,this.terrain)),N=this.getIds();let Q=1/0,z=1/0,Z=-1/0,W=-1/0;for(const ee of T)Q=Math.min(Q,ee.x),z=Math.min(z,ee.y),Z=Math.max(Z,ee.x),W=Math.max(W,ee.y);for(let ee=0;ee<N.length;ee++){const me=this._tiles[N[ee]];if(me.holdingForFade())continue;const pe=b.getCoveringTilesDetailsProvider().allowWorldCopies()?me.tileID:me.tileID.unwrapTo(0),be=Math.pow(2,b.zoom-me.tileID.overscaledZ),we=o*me.queryPadding*s.Z/me.tileSize/be,Me=[pe.getTilePoint(new s.$(Q,z)),pe.getTilePoint(new s.$(Z,W))];if(Me[0].x-we<s.Z&&Me[0].y-we<s.Z&&Me[1].x+we>=0&&Me[1].y+we>=0){const Re=U.map(Pe=>pe.getTilePoint(Pe)),Fe=T.map(Pe=>pe.getTilePoint(Pe));p.push({tile:me,tileID:pe,queryGeometry:Re,cameraQueryGeometry:Fe,scale:be})}}return p}getVisibleCoordinates(i){const o=this.getRenderableIds(i).map(d=>this._tiles[d].tileID);return this.transform&&this.transform.populateCache(o),o}hasTransition(){if(this._source.hasTransition())return!0;if(ne(this._source.type)){const i=E.now();for(const o in this._tiles)if(this._tiles[o].fadeEndTime>=i)return!0}return!1}setFeatureState(i,o,d){this._state.updateState(i=i||"_geojsonTileLayer",o,d)}removeFeatureState(i,o,d){this._state.removeFeatureState(i=i||"_geojsonTileLayer",o,d)}getFeatureState(i,o){return this._state.getState(i=i||"_geojsonTileLayer",o)}setDependencies(i,o,d){const p=this._tiles[i];p&&p.setDependencies(o,d)}reloadTilesForDependencies(i,o){for(const d in this._tiles)this._tiles[d].hasDependency(i,o)&&this._reloadTile(d,"reloading");this._cache.filter(d=>!d.hasDependency(i,o))}}function Te(_,i){const o=Math.abs(2*_.wrap)-+(_.wrap<0),d=Math.abs(2*i.wrap)-+(i.wrap<0);return _.overscaledZ-i.overscaledZ||d-o||i.canonical.y-_.canonical.y||i.canonical.x-_.canonical.x}function ne(_){return _==="raster"||_==="image"||_==="video"}et.maxOverzooming=10,et.maxUnderzooming=3;class Se{constructor(i,o){this.reset(i,o)}reset(i,o){this.points=i||[],this._distances=[0];for(let d=1;d<this.points.length;d++)this._distances[d]=this._distances[d-1]+this.points[d].dist(this.points[d-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(o||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(this.points.length===1)return this.points[0];i=s.ae(i,0,1);let o=1,d=this._distances[o];const p=i*this.paddedLength+this.padding;for(;d<p&&o<this._distances.length;)d=this._distances[++o];const b=o-1,B=this._distances[b],U=d-B,T=U>0?(p-B)/U:0;return this.points[b].mult(1-T).add(this.points[o].mult(T))}}function Ee(_,i){let o=!0;return _==="always"||_!=="never"&&i!=="never"||(o=!1),o}class Oe{constructor(i,o,d){const p=this.boxCells=[],b=this.circleCells=[];this.xCellCount=Math.ceil(i/d),this.yCellCount=Math.ceil(o/d);for(let B=0;B<this.xCellCount*this.yCellCount;B++)p.push([]),b.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=o,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/o,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,o,d,p,b){this._forEachCell(o,d,p,b,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(o),this.bboxes.push(d),this.bboxes.push(p),this.bboxes.push(b)}insertCircle(i,o,d,p){this._forEachCell(o-p,d-p,o+p,d+p,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(o),this.circles.push(d),this.circles.push(p)}_insertBoxCell(i,o,d,p,b,B){this.boxCells[b].push(B)}_insertCircleCell(i,o,d,p,b,B){this.circleCells[b].push(B)}_query(i,o,d,p,b,B,U){if(d<0||i>this.width||p<0||o>this.height)return[];const T=[];if(i<=0&&o<=0&&this.width<=d&&this.height<=p){if(b)return[{key:null,x1:i,y1:o,x2:d,y2:p}];for(let N=0;N<this.boxKeys.length;N++)T.push({key:this.boxKeys[N],x1:this.bboxes[4*N],y1:this.bboxes[4*N+1],x2:this.bboxes[4*N+2],y2:this.bboxes[4*N+3]});for(let N=0;N<this.circleKeys.length;N++){const Q=this.circles[3*N],z=this.circles[3*N+1],Z=this.circles[3*N+2];T.push({key:this.circleKeys[N],x1:Q-Z,y1:z-Z,x2:Q+Z,y2:z+Z})}}else this._forEachCell(i,o,d,p,this._queryCell,T,{hitTest:b,overlapMode:B,seenUids:{box:{},circle:{}}},U);return T}query(i,o,d,p){return this._query(i,o,d,p,!1,null)}hitTest(i,o,d,p,b,B){return this._query(i,o,d,p,!0,b,B).length>0}hitTestCircle(i,o,d,p,b){const B=i-d,U=i+d,T=o-d,N=o+d;if(U<0||B>this.width||N<0||T>this.height)return!1;const Q=[];return this._forEachCell(B,T,U,N,this._queryCellCircle,Q,{hitTest:!0,overlapMode:p,circle:{x:i,y:o,radius:d},seenUids:{box:{},circle:{}}},b),Q.length>0}_queryCell(i,o,d,p,b,B,U,T){const{seenUids:N,hitTest:Q,overlapMode:z}=U,Z=this.boxCells[b];if(Z!==null){const ee=this.bboxes;for(const me of Z)if(!N.box[me]){N.box[me]=!0;const pe=4*me,be=this.boxKeys[me];if(i<=ee[pe+2]&&o<=ee[pe+3]&&d>=ee[pe+0]&&p>=ee[pe+1]&&(!T||T(be))&&(!Q||!Ee(z,be.overlapMode))&&(B.push({key:be,x1:ee[pe],y1:ee[pe+1],x2:ee[pe+2],y2:ee[pe+3]}),Q))return!0}}const W=this.circleCells[b];if(W!==null){const ee=this.circles;for(const me of W)if(!N.circle[me]){N.circle[me]=!0;const pe=3*me,be=this.circleKeys[me];if(this._circleAndRectCollide(ee[pe],ee[pe+1],ee[pe+2],i,o,d,p)&&(!T||T(be))&&(!Q||!Ee(z,be.overlapMode))){const we=ee[pe],Me=ee[pe+1],Re=ee[pe+2];if(B.push({key:be,x1:we-Re,y1:Me-Re,x2:we+Re,y2:Me+Re}),Q)return!0}}}return!1}_queryCellCircle(i,o,d,p,b,B,U,T){const{circle:N,seenUids:Q,overlapMode:z}=U,Z=this.boxCells[b];if(Z!==null){const ee=this.bboxes;for(const me of Z)if(!Q.box[me]){Q.box[me]=!0;const pe=4*me,be=this.boxKeys[me];if(this._circleAndRectCollide(N.x,N.y,N.radius,ee[pe+0],ee[pe+1],ee[pe+2],ee[pe+3])&&(!T||T(be))&&!Ee(z,be.overlapMode))return B.push(!0),!0}}const W=this.circleCells[b];if(W!==null){const ee=this.circles;for(const me of W)if(!Q.circle[me]){Q.circle[me]=!0;const pe=3*me,be=this.circleKeys[me];if(this._circlesCollide(ee[pe],ee[pe+1],ee[pe+2],N.x,N.y,N.radius)&&(!T||T(be))&&!Ee(z,be.overlapMode))return B.push(!0),!0}}}_forEachCell(i,o,d,p,b,B,U,T){const N=this._convertToXCellCoord(i),Q=this._convertToYCellCoord(o),z=this._convertToXCellCoord(d),Z=this._convertToYCellCoord(p);for(let W=N;W<=z;W++)for(let ee=Q;ee<=Z;ee++)if(b.call(this,i,o,d,p,this.xCellCount*ee+W,B,U,T))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,o,d,p,b,B){const U=p-i,T=b-o,N=d+B;return N*N>U*U+T*T}_circleAndRectCollide(i,o,d,p,b,B,U){const T=(B-p)/2,N=Math.abs(i-(p+T));if(N>T+d)return!1;const Q=(U-b)/2,z=Math.abs(o-(b+Q));if(z>Q+d)return!1;if(N<=T||z<=Q)return!0;const Z=N-T,W=z-Q;return Z*Z+W*W<=d*d}}function ut(_,i,o){const d=s.K();if(!_){const{vecSouth:z,vecEast:Z}=Xe(i),W=w();W[0]=Z[0],W[1]=Z[1],W[2]=z[0],W[3]=z[1],p=W,(Q=(B=(b=W)[0])*(N=b[3])-(T=b[2])*(U=b[1]))&&(p[0]=N*(Q=1/Q),p[1]=-U*Q,p[2]=-T*Q,p[3]=B*Q),d[0]=W[0],d[1]=W[1],d[4]=W[2],d[5]=W[3]}var p,b,B,U,T,N,Q;return s.M(d,d,[1/o,1/o,1]),d}function wt(_,i,o,d){if(_){const p=s.K();if(!i){const{vecSouth:b,vecEast:B}=Xe(o);p[0]=B[0],p[1]=B[1],p[4]=b[0],p[5]=b[1]}return s.M(p,p,[d,d,1]),p}return o.pixelsToClipSpaceMatrix}function Xe(_){const i=Math.cos(_.rollInRadians),o=Math.sin(_.rollInRadians),d=Math.cos(_.pitchInRadians),p=Math.cos(_.bearingInRadians),b=Math.sin(_.bearingInRadians),B=s.ao();B[0]=-p*d*o-b*i,B[1]=-b*d*o+p*i;const U=s.ap(B);U<1e-9?s.aq(B):s.ar(B,B,1/U);const T=s.ao();T[0]=p*d*i-b*o,T[1]=b*d*i+p*o;const N=s.ap(T);return N<1e-9?s.aq(T):s.ar(T,T,1/N),{vecEast:T,vecSouth:B}}function _t(_,i,o,d){let p;d?(p=[_,i,d(_,i),1],s.at(p,p,o)):(p=[_,i,0,1],Ei(p,p,o));const b=p[3];return{point:new s.P(p[0]/b,p[1]/b),signedDistanceFromCamera:b,isOccluded:!1}}function Wt(_,i){return .5+_/i*.5}function ei(_,i){return _.x>=-i[0]&&_.x<=i[0]&&_.y>=-i[1]&&_.y<=i[1]}function ai(_,i,o,d,p,b,B,U,T,N,Q,z,Z){const W=o?_.textSizeData:_.iconSizeData,ee=s.ak(W,i.transform.zoom),me=[256/i.width*2+1,256/i.height*2+1],pe=o?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;pe.clear();const be=_.lineVertexArray,we=o?_.text.placedSymbolArray:_.icon.placedSymbolArray,Me=i.transform.width/i.transform.height;let Re=!1;for(let Fe=0;Fe<we.length;Fe++){const Pe=we.get(Fe);if(Pe.hidden||Pe.writingMode===s.al.vertical&&!Re){Ui(Pe.numGlyphs,pe);continue}Re=!1;const Ye=new s.P(Pe.anchorX,Pe.anchorY),Ke={getElevation:Z,pitchedLabelPlaneMatrix:d,lineVertexArray:be,pitchWithMap:b,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:i.transform,tileAnchorPoint:Ye,unwrappedTileID:T,width:N,height:Q,translation:z},We=Cn(Pe.anchorX,Pe.anchorY,Ke);if(!ei(We.point,me)){Ui(Pe.numGlyphs,pe);continue}const ct=Wt(i.transform.cameraToCenterDistance,We.signedDistanceFromCamera),dt=s.am(W,ee,Pe),At=b?dt*i.transform.getPitchedTextCorrection(Pe.anchorX,Pe.anchorY,T)/ct:dt*ct,Lt=Ht({projectionContext:Ke,pitchedLabelPlaneMatrixInverse:p,symbol:Pe,fontSize:At,flip:!1,keepUpright:B,glyphOffsetArray:_.glyphOffsetArray,dynamicLayoutVertexArray:pe,aspectRatio:Me,rotateToLine:U});Re=Lt.useVertical,(Lt.notEnoughRoom||Re||Lt.needsFlipping&&Ht({projectionContext:Ke,pitchedLabelPlaneMatrixInverse:p,symbol:Pe,fontSize:At,flip:!0,keepUpright:B,glyphOffsetArray:_.glyphOffsetArray,dynamicLayoutVertexArray:pe,aspectRatio:Me,rotateToLine:U}).notEnoughRoom)&&Ui(Pe.numGlyphs,pe)}o?_.text.dynamicLayoutVertexBuffer.updateData(pe):_.icon.dynamicLayoutVertexBuffer.updateData(pe)}function tt(_,i,o,d,p,b,B,U){const T=b.glyphStartIndex+b.numGlyphs,N=b.lineStartIndex,Q=b.lineStartIndex+b.lineLength,z=i.getoffsetX(b.glyphStartIndex),Z=i.getoffsetX(T-1),W=Ft(_*z,o,d,p,b.segment,N,Q,U,B);if(!W)return null;const ee=Ft(_*Z,o,d,p,b.segment,N,Q,U,B);return ee?U.projectionCache.anyProjectionOccluded?null:{first:W,last:ee}:null}function Tt(_,i,o,d){return _===s.al.horizontal&&Math.abs(o.y-i.y)>Math.abs(o.x-i.x)*d?{useVertical:!0}:(_===s.al.vertical?i.y<o.y:i.x>o.x)?{needsFlipping:!0}:null}function Ht(_){const{projectionContext:i,pitchedLabelPlaneMatrixInverse:o,symbol:d,fontSize:p,flip:b,keepUpright:B,glyphOffsetArray:U,dynamicLayoutVertexArray:T,aspectRatio:N,rotateToLine:Q}=_,z=p/24,Z=d.lineOffsetX*z,W=d.lineOffsetY*z;let ee;if(d.numGlyphs>1){const me=d.glyphStartIndex+d.numGlyphs,pe=d.lineStartIndex,be=d.lineStartIndex+d.lineLength,we=tt(z,U,Z,W,b,d,Q,i);if(!we)return{notEnoughRoom:!0};const Me=Gt(we.first.point.x,we.first.point.y,i,o),Re=Gt(we.last.point.x,we.last.point.y,i,o);if(B&&!b){const Fe=Tt(d.writingMode,Me,Re,N);if(Fe)return Fe}ee=[we.first];for(let Fe=d.glyphStartIndex+1;Fe<me-1;Fe++)ee.push(Ft(z*U.getoffsetX(Fe),Z,W,b,d.segment,pe,be,i,Q));ee.push(we.last)}else{if(B&&!b){const pe=Bi(i.tileAnchorPoint.x,i.tileAnchorPoint.y,i).point,be=d.lineStartIndex+d.segment+1,we=new s.P(i.lineVertexArray.getx(be),i.lineVertexArray.gety(be)),Me=Bi(we.x,we.y,i),Re=Me.signedDistanceFromCamera>0?Me.point:ta(i.tileAnchorPoint,we,pe,1,i),Fe=Gt(pe.x,pe.y,i,o),Pe=Gt(Re.x,Re.y,i,o),Ye=Tt(d.writingMode,Fe,Pe,N);if(Ye)return Ye}const me=Ft(z*U.getoffsetX(d.glyphStartIndex),Z,W,b,d.segment,d.lineStartIndex,d.lineStartIndex+d.lineLength,i,Q);if(!me||i.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ee=[me]}for(const me of ee)s.as(T,me.point,me.angle);return{}}function ta(_,i,o,d,p){const b=_.add(_.sub(i)._unit()),B=Bi(b.x,b.y,p).point,U=o.sub(B);return o.add(U._mult(d/U.mag()))}function oa(_,i,o){const d=i.projectionCache;if(d.projections[_])return d.projections[_];const p=new s.P(i.lineVertexArray.getx(_),i.lineVertexArray.gety(_)),b=Bi(p.x,p.y,i);if(b.signedDistanceFromCamera>0)return d.projections[_]=b.point,d.anyProjectionOccluded=d.anyProjectionOccluded||b.isOccluded,b.point;const B=_-o.direction;return ta(o.distanceFromAnchor===0?i.tileAnchorPoint:new s.P(i.lineVertexArray.getx(B),i.lineVertexArray.gety(B)),p,o.previousVertex,o.absOffsetX-o.distanceFromAnchor+1,i)}function Bi(_,i,o){const d=_+o.translation[0],p=i+o.translation[1];let b;return o.pitchWithMap?(b=_t(d,p,o.pitchedLabelPlaneMatrix,o.getElevation),b.isOccluded=!1):(b=o.transform.projectTileCoordinates(d,p,o.unwrappedTileID,o.getElevation),b.point.x=(.5*b.point.x+.5)*o.width,b.point.y=(.5*-b.point.y+.5)*o.height),b}function Gt(_,i,o,d){if(o.pitchWithMap){const p=[_,i,0,1];return s.at(p,p,d),o.transform.projectTileCoordinates(p[0]/p[3],p[1]/p[3],o.unwrappedTileID,o.getElevation).point}return{x:_/o.width*2-1,y:i/o.height*2-1}}function Cn(_,i,o){return o.transform.projectTileCoordinates(_,i,o.unwrappedTileID,o.getElevation)}function Xt(_,i,o){return _._unit()._perp()._mult(i*o)}function De(_,i,o,d,p,b,B,U,T){if(U.projectionCache.offsets[_])return U.projectionCache.offsets[_];const N=o.add(i);if(_+T.direction<d||_+T.direction>=p)return U.projectionCache.offsets[_]=N,N;const Q=oa(_+T.direction,U,T),z=Xt(Q.sub(o),B,T.direction),Z=o.add(z),W=Q.add(z);return U.projectionCache.offsets[_]=s.au(b,N,Z,W)||N,U.projectionCache.offsets[_]}function Ft(_,i,o,d,p,b,B,U,T){const N=d?_-i:_+i;let Q=N>0?1:-1,z=0;d&&(Q*=-1,z=Math.PI),Q<0&&(z+=Math.PI);let Z,W=Q>0?b+p:b+p+1;U.projectionCache.cachedAnchorPoint?Z=U.projectionCache.cachedAnchorPoint:(Z=Bi(U.tileAnchorPoint.x,U.tileAnchorPoint.y,U).point,U.projectionCache.cachedAnchorPoint=Z);let ee,me,pe=Z,be=Z,we=0,Me=0;const Re=Math.abs(N),Fe=[];let Pe;for(;we+Me<=Re;){if(W+=Q,W<b||W>=B)return null;we+=Me,be=pe,me=ee;const We={absOffsetX:Re,direction:Q,distanceFromAnchor:we,previousVertex:be};if(pe=oa(W,U,We),o===0)Fe.push(be),Pe=pe.sub(be);else{let ct;const dt=pe.sub(be);ct=dt.mag()===0?Xt(oa(W+Q,U,We).sub(pe),o,Q):Xt(dt,o,Q),me||(me=be.add(ct)),ee=De(W,ct,pe,b,B,me,o,U,We),Fe.push(me),Pe=ee.sub(me)}Me=Pe.mag()}const Ye=Pe._mult((Re-we)/Me)._add(me||be),Ke=z+Math.atan2(pe.y-be.y,pe.x-be.x);return Fe.push(Ye),{point:Ye,angle:T?Ke:0,path:Fe}}const ni=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ui(_,i){for(let o=0;o<_;o++){const d=i.length;i.resize(d+4),i.float32.set(ni,3*d)}}function Ei(_,i,o){const d=i[0],p=i[1];return _[0]=o[0]*d+o[4]*p+o[12],_[1]=o[1]*d+o[5]*p+o[13],_[3]=o[3]*d+o[7]*p+o[15],_}const Zi=100;class Xa{constructor(i,o=new Oe(i.width+200,i.height+200,25),d=new Oe(i.width+200,i.height+200,25)){this.transform=i,this.grid=o,this.ignoredGrid=d,this.pitchFactor=Math.cos(i.pitch*Math.PI/180)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+Zi,this.screenBottomBoundary=i.height+Zi,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,o,d,p,b,B,U,T,N,Q,z,Z){const W=this.projectAndGetPerspectiveRatio(i.anchorPointX+T[0],i.anchorPointY+T[1],b,Q,Z),ee=d*W.perspectiveRatio;let me;if(B||U)me=this._projectCollisionBox(i,ee,p,b,B,U,T,W,Q,z,Z);else{const Pe=W.x+(z?z.x*ee:0),Ye=W.y+(z?z.y*ee:0);me={allPointsOccluded:!1,box:[Pe+i.x1*ee,Ye+i.y1*ee,Pe+i.x2*ee,Ye+i.y2*ee]}}const[pe,be,we,Me]=me.box,Re=B?me.allPointsOccluded:W.isOccluded;let Fe=Re;return Fe||(Fe=W.perspectiveRatio<this.perspectiveRatioCutoff),Fe||(Fe=!this.isInsideGrid(pe,be,we,Me)),Fe||o!=="always"&&this.grid.hitTest(pe,be,we,Me,o,N)?{box:[pe,be,we,Me],placeable:!1,offscreen:!1,occluded:Re}:{box:[pe,be,we,Me],placeable:!0,offscreen:this.isOffscreen(pe,be,we,Me),occluded:Re}}placeCollisionCircles(i,o,d,p,b,B,U,T,N,Q,z,Z,W,ee){const me=[],pe=new s.P(o.anchorX,o.anchorY),be=this.getPerspectiveRatio(pe.x,pe.y,B,ee),we=(N?b*this.transform.getPitchedTextCorrection(o.anchorX,o.anchorY,B)/be:b*be)/s.ay,Me={getElevation:ee,pitchedLabelPlaneMatrix:U,lineVertexArray:d,pitchWithMap:N,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:pe,unwrappedTileID:B,width:this.transform.width,height:this.transform.height,translation:W},Re=tt(we,p,o.lineOffsetX*we,o.lineOffsetY*we,!1,o,!1,Me);let Fe=!1,Pe=!1,Ye=!0;if(Re){const Ke=.5*z*be+Z,We=new s.P(-100,-100),ct=new s.P(this.screenRightBoundary,this.screenBottomBoundary),dt=new Se,At=Re.first,Lt=Re.last;let Ut=[];for(let Ii=At.path.length-1;Ii>=1;Ii--)Ut.push(At.path[Ii]);for(let Ii=1;Ii<Lt.path.length;Ii++)Ut.push(Lt.path[Ii]);const bt=2.5*Ke;if(N){const Ii=this.projectPathToScreenSpace(Ut,Me);Ut=Ii.some(bi=>bi.signedDistanceFromCamera<=0)?[]:Ii.map(bi=>bi.point)}let ti=[];if(Ut.length>0){const Ii=Ut[0].clone(),bi=Ut[0].clone();for(let xa=1;xa<Ut.length;xa++)Ii.x=Math.min(Ii.x,Ut[xa].x),Ii.y=Math.min(Ii.y,Ut[xa].y),bi.x=Math.max(bi.x,Ut[xa].x),bi.y=Math.max(bi.y,Ut[xa].y);ti=Ii.x>=We.x&&bi.x<=ct.x&&Ii.y>=We.y&&bi.y<=ct.y?[Ut]:bi.x<We.x||Ii.x>ct.x||bi.y<We.y||Ii.y>ct.y?[]:s.av([Ut],We.x,We.y,ct.x,ct.y)}for(const Ii of ti){dt.reset(Ii,.25*Ke);let bi=0;bi=dt.length<=.5*Ke?1:Math.ceil(dt.paddedLength/bt)+1;for(let xa=0;xa<bi;xa++){const ia=xa/Math.max(bi-1,1),wa=dt.lerp(ia),pa=wa.x+Zi,aa=wa.y+Zi;me.push(pa,aa,Ke,0);const Ji=pa-Ke,nr=aa-Ke,qa=pa+Ke,br=aa+Ke;if(Ye=Ye&&this.isOffscreen(Ji,nr,qa,br),Pe=Pe||this.isInsideGrid(Ji,nr,qa,br),i!=="always"&&this.grid.hitTestCircle(pa,aa,Ke,i,Q)&&(Fe=!0,!T))return{circles:[],offscreen:!1,collisionDetected:Fe}}}}return{circles:!T&&Fe||!Pe||be<this.perspectiveRatioCutoff?[]:me,offscreen:Ye,collisionDetected:Fe}}projectPathToScreenSpace(i,o){const d=function(p,b){const B=s.K();return s.an(B,b.pitchedLabelPlaneMatrix),p.map(U=>{const T=_t(U.x,U.y,B,b.getElevation),N=b.transform.projectTileCoordinates(T.point.x,T.point.y,b.unwrappedTileID,b.getElevation);return N.point.x=(.5*N.point.x+.5)*b.width,N.point.y=(.5*-N.point.y+.5)*b.height,N})}(i,o);return function(p){let b=0,B=0,U=0,T=0;for(let N=0;N<p.length;N++)p[N].isOccluded?(U=N+1,T=0):(T++,T>B&&(B=T,b=U));return p.slice(b,b+B)}(d)}queryRenderedSymbols(i){if(i.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const o=[];let d=1/0,p=1/0,b=-1/0,B=-1/0;for(const Q of i){const z=new s.P(Q.x+Zi,Q.y+Zi);d=Math.min(d,z.x),p=Math.min(p,z.y),b=Math.max(b,z.x),B=Math.max(B,z.y),o.push(z)}const U=this.grid.query(d,p,b,B).concat(this.ignoredGrid.query(d,p,b,B)),T={},N={};for(const Q of U){const z=Q.key;if(T[z.bucketInstanceId]===void 0&&(T[z.bucketInstanceId]={}),T[z.bucketInstanceId][z.featureIndex])continue;const Z=[new s.P(Q.x1,Q.y1),new s.P(Q.x2,Q.y1),new s.P(Q.x2,Q.y2),new s.P(Q.x1,Q.y2)];s.aw(o,Z)&&(T[z.bucketInstanceId][z.featureIndex]=!0,N[z.bucketInstanceId]===void 0&&(N[z.bucketInstanceId]=[]),N[z.bucketInstanceId].push(z.featureIndex))}return N}insertCollisionBox(i,o,d,p,b,B){(d?this.ignoredGrid:this.grid).insert({bucketInstanceId:p,featureIndex:b,collisionGroupID:B,overlapMode:o},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,o,d,p,b,B){const U=d?this.ignoredGrid:this.grid,T={bucketInstanceId:p,featureIndex:b,collisionGroupID:B,overlapMode:o};for(let N=0;N<i.length;N+=4)U.insertCircle(T,i[N],i[N+1],i[N+2])}projectAndGetPerspectiveRatio(i,o,d,p,b){if(b){let B;p?(B=[i,o,p(i,o),1],s.at(B,B,b)):(B=[i,o,0,1],Ei(B,B,b));const U=B[3];return{x:(B[0]/U+1)/2*this.transform.width+Zi,y:(-B[1]/U+1)/2*this.transform.height+Zi,perspectiveRatio:.5+this.transform.cameraToCenterDistance/U*.5,isOccluded:!1,signedDistanceFromCamera:U}}{const B=this.transform.projectTileCoordinates(i,o,d,p);return{x:(B.point.x+1)/2*this.transform.width+Zi,y:(1-B.point.y)/2*this.transform.height+Zi,perspectiveRatio:.5+this.transform.cameraToCenterDistance/B.signedDistanceFromCamera*.5,isOccluded:B.isOccluded,signedDistanceFromCamera:B.signedDistanceFromCamera}}}getPerspectiveRatio(i,o,d,p){const b=this.transform.projectTileCoordinates(i,o,d,p);return .5+this.transform.cameraToCenterDistance/b.signedDistanceFromCamera*.5}isOffscreen(i,o,d,p){return d<Zi||i>=this.screenRightBoundary||p<Zi||o>this.screenBottomBoundary}isInsideGrid(i,o,d,p){return d>=0&&i<this.gridRightBoundary&&p>=0&&o<this.gridBottomBoundary}getViewportMatrix(){const i=s.ad([]);return s.L(i,i,[-100,-100,0]),i}_projectCollisionBox(i,o,d,p,b,B,U,T,N,Q,z){let Z=1,W=0,ee=0,me=1;const pe=i.anchorPointX+U[0],be=i.anchorPointY+U[1];if(B&&!b){const Ut=this.projectAndGetPerspectiveRatio(pe+1,be,p,N,z),bt=Ut.x-T.x,ti=Math.atan((Ut.y-T.y)/bt)+(bt<0?Math.PI:0),Ii=Math.sin(ti),bi=Math.cos(ti);Z=bi,W=Ii,ee=-Ii,me=bi}else if(!B&&b){const Ut=Xe(this.transform);Z=Ut.vecEast[0],W=Ut.vecEast[1],ee=Ut.vecSouth[0],me=Ut.vecSouth[1]}let we=T.x,Me=T.y,Re=o;b&&(we=pe,Me=be,Re=Math.pow(2,-(this.transform.zoom-d.overscaledZ)),Re*=this.transform.getPitchedTextCorrection(pe,be,p),Q||(Re*=s.ae(.5+T.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),Q&&(we+=Z*Q.x*Re+ee*Q.y*Re,Me+=W*Q.x*Re+me*Q.y*Re);const Fe=i.x1*Re,Pe=i.x2*Re,Ye=(Fe+Pe)/2,Ke=i.y1*Re,We=i.y2*Re,ct=(Ke+We)/2,dt=[{offsetX:Fe,offsetY:Ke},{offsetX:Ye,offsetY:Ke},{offsetX:Pe,offsetY:Ke},{offsetX:Pe,offsetY:ct},{offsetX:Pe,offsetY:We},{offsetX:Ye,offsetY:We},{offsetX:Fe,offsetY:We},{offsetX:Fe,offsetY:ct}];let At=[];for(const{offsetX:Ut,offsetY:bt}of dt)At.push(new s.P(we+Z*Ut+ee*bt,Me+W*Ut+me*bt));let Lt=!1;if(b){const Ut=At.map(bt=>this.projectAndGetPerspectiveRatio(bt.x,bt.y,p,N,z));Lt=Ut.some(bt=>!bt.isOccluded),At=Ut.map(bt=>new s.P(bt.x,bt.y))}else Lt=!0;return{box:s.ax(At),allPointsOccluded:!Lt}}}class Qr{constructor(i,o,d,p){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?o:-o))):p&&d?1:0,this.placed=d}isHidden(){return this.opacity===0&&!this.placed}}class mr{constructor(i,o,d,p,b){this.text=new Qr(i?i.text:null,o,d,b),this.icon=new Qr(i?i.icon:null,o,p,b)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Fa{constructor(i,o,d){this.text=i,this.icon=o,this.skipFade=d}}class Gl{constructor(i,o,d,p,b){this.bucketInstanceId=i,this.featureIndex=o,this.sourceLayerIndex=d,this.bucketIndex=p,this.tileID=b}}class jl{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const o=++this.maxGroupID;this.collisionGroups[i]={ID:o,predicate:d=>d.collisionGroupID===o}}return this.collisionGroups[i]}}function zh(_,i,o,d,p){const{horizontalAlign:b,verticalAlign:B}=s.aE(_);return new s.P(-(b-.5)*i+d[0]*p,-(B-.5)*o+d[1]*p)}class jo{constructor(i,o,d,p,b){this.transform=i.clone(),this.terrain=o,this.collisionIndex=new Xa(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=d,this.retainedQueryData={},this.collisionGroups=new jl(p),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=b,b&&(b.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(i){const o=this.terrain;return o?(d,p)=>o.getElevation(i,d,p):null}getBucketParts(i,o,d,p){const b=d.getBucket(o),B=d.latestFeatureIndex;if(!b||!B||o.id!==b.layerIds[0])return;const U=d.collisionBoxArray,T=b.layers[0].layout,N=b.layers[0].paint,Q=Math.pow(2,this.transform.zoom-d.tileID.overscaledZ),z=d.tileSize/s.Z,Z=d.tileID.toUnwrapped(),W=T.get("text-rotation-alignment")==="map",ee=s.az(d,1,this.transform.zoom),me=s.aA(this.collisionIndex.transform,d,N.get("text-translate"),N.get("text-translate-anchor")),pe=s.aA(this.collisionIndex.transform,d,N.get("icon-translate"),N.get("icon-translate-anchor")),be=ut(W,this.transform,ee);this.retainedQueryData[b.bucketInstanceId]=new Gl(b.bucketInstanceId,B,b.sourceLayerIndex,b.index,d.tileID);const we={bucket:b,layout:T,translationText:me,translationIcon:pe,unwrappedTileID:Z,pitchedLabelPlaneMatrix:be,scale:Q,textPixelRatio:z,holdingForFade:d.holdingForFade(),collisionBoxArray:U,partiallyEvaluatedTextSize:s.ak(b.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(b.sourceID)};if(p)for(const Me of b.sortKeyRanges){const{sortKey:Re,symbolInstanceStart:Fe,symbolInstanceEnd:Pe}=Me;i.push({sortKey:Re,symbolInstanceStart:Fe,symbolInstanceEnd:Pe,parameters:we})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:b.symbolInstances.length,parameters:we})}attemptAnchorPlacement(i,o,d,p,b,B,U,T,N,Q,z,Z,W,ee,me,pe,be,we,Me,Re){const Fe=s.aB[i.textAnchor],Pe=[i.textOffset0,i.textOffset1],Ye=zh(Fe,d,p,Pe,b),Ke=this.collisionIndex.placeCollisionBox(o,Z,T,N,Q,U,B,pe,z.predicate,Me,Ye,Re);if((!we||this.collisionIndex.placeCollisionBox(we,Z,T,N,Q,U,B,be,z.predicate,Me,Ye,Re).placeable)&&Ke.placeable){let We;if(this.prevPlacement&&this.prevPlacement.variableOffsets[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID].text&&(We=this.prevPlacement.variableOffsets[W.crossTileID].anchor),W.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[W.crossTileID]={textOffset:Pe,width:d,height:p,anchor:Fe,textBoxScale:b,prevAnchor:We},this.markUsedJustification(ee,Fe,W,me),ee.allowVerticalPlacement&&(this.markUsedOrientation(ee,me,W),this.placedOrientations[W.crossTileID]=me),{shift:Ye,placedGlyphBoxes:Ke}}}placeLayerBucketPart(i,o,d){const{bucket:p,layout:b,translationText:B,translationIcon:U,unwrappedTileID:T,pitchedLabelPlaneMatrix:N,textPixelRatio:Q,holdingForFade:z,collisionBoxArray:Z,partiallyEvaluatedTextSize:W,collisionGroup:ee}=i.parameters,me=b.get("text-optional"),pe=b.get("icon-optional"),be=s.aC(b,"text-overlap","text-allow-overlap"),we=be==="always",Me=s.aC(b,"icon-overlap","icon-allow-overlap"),Re=Me==="always",Fe=b.get("text-rotation-alignment")==="map",Pe=b.get("text-pitch-alignment")==="map",Ye=b.get("icon-text-fit")!=="none",Ke=b.get("symbol-z-order")==="viewport-y",We=we&&(Re||!p.hasIconData()||pe),ct=Re&&(we||!p.hasTextData()||me);!p.collisionArrays&&Z&&p.deserializeCollisionBoxes(Z);const dt=this.retainedQueryData[p.bucketInstanceId].tileID,At=this._getTerrainElevationFunc(dt),Lt=this.transform.getFastPathSimpleProjectionMatrix(dt),Ut=(bt,ti,Ii)=>{var bi,xa;if(o[bt.crossTileID])return;if(z)return void(this.placements[bt.crossTileID]=new Fa(!1,!1,!1));let ia=!1,wa=!1,pa=!0,aa=null,Ji={box:null,placeable:!1,offscreen:null,occluded:!1},nr={placeable:!1},qa=null,br=null,Er=null,Wn=0,Gs=0,bs=0;ti.textFeatureIndex?Wn=ti.textFeatureIndex:bt.useRuntimeCollisionCircles&&(Wn=bt.featureIndex),ti.verticalTextFeatureIndex&&(Gs=ti.verticalTextFeatureIndex);const ys=ti.textBox;if(ys){const an=Ma=>{let ma=s.al.horizontal;if(p.allowVerticalPlacement&&!Ma&&this.prevPlacement){const Qa=this.prevPlacement.placedOrientations[bt.crossTileID];Qa&&(this.placedOrientations[bt.crossTileID]=Qa,ma=Qa,this.markUsedOrientation(p,ma,bt))}return ma},js=(Ma,ma)=>{if(p.allowVerticalPlacement&&bt.numVerticalGlyphVertices>0&&ti.verticalTextBox){for(const Qa of p.writingModes)if(Qa===s.al.vertical?(Ji=ma(),nr=Ji):Ji=Ma(),Ji&&Ji.placeable)break}else Ji=Ma()},vs=bt.textAnchorOffsetStartIndex,xs=bt.textAnchorOffsetEndIndex;if(xs===vs){const Ma=(ma,Qa)=>{const Ba=this.collisionIndex.placeCollisionBox(ma,be,Q,dt,T,Pe,Fe,B,ee.predicate,At,void 0,Lt);return Ba&&Ba.placeable&&(this.markUsedOrientation(p,Qa,bt),this.placedOrientations[bt.crossTileID]=Qa),Ba};js(()=>Ma(ys,s.al.horizontal),()=>{const ma=ti.verticalTextBox;return p.allowVerticalPlacement&&bt.numVerticalGlyphVertices>0&&ma?Ma(ma,s.al.vertical):{box:null,offscreen:null}}),an(Ji&&Ji.placeable)}else{let Ma=s.aB[(xa=(bi=this.prevPlacement)===null||bi===void 0?void 0:bi.variableOffsets[bt.crossTileID])===null||xa===void 0?void 0:xa.anchor];const ma=(Ba,mf,Co)=>{const Ep=Ba.x2-Ba.x1,_f=Ba.y2-Ba.y1,ku=bt.textBoxScale,bf=Ye&&Me==="never"?mf:null;let rn=null,Ks=be==="never"?1:2,Du="never";Ma&&Ks++;for(let yf=0;yf<Ks;yf++){for(let wA=vs;wA<xs;wA++){const zu=p.textAnchorOffsets.get(wA);if(Ma&&zu.textAnchor!==Ma)continue;const Zu=this.attemptAnchorPlacement(zu,Ba,Ep,_f,ku,Fe,Pe,Q,dt,T,ee,Du,bt,p,Co,B,U,bf,At);if(Zu&&(rn=Zu.placedGlyphBoxes,rn&&rn.placeable))return ia=!0,aa=Zu.shift,rn}Ma?Ma=null:Du=be}return d&&!rn&&(rn={box:this.collisionIndex.placeCollisionBox(ys,"always",Q,dt,T,Pe,Fe,B,ee.predicate,At,void 0,Lt).box,offscreen:!1,placeable:!1,occluded:!1}),rn};js(()=>ma(ys,ti.iconBox,s.al.horizontal),()=>{const Ba=ti.verticalTextBox;return p.allowVerticalPlacement&&(!Ji||!Ji.placeable)&&bt.numVerticalGlyphVertices>0&&Ba?ma(Ba,ti.verticalIconBox,s.al.vertical):{box:null,occluded:!0,offscreen:null}}),Ji&&(ia=Ji.placeable,pa=Ji.offscreen);const Qa=an(Ji&&Ji.placeable);if(!ia&&this.prevPlacement){const Ba=this.prevPlacement.variableOffsets[bt.crossTileID];Ba&&(this.variableOffsets[bt.crossTileID]=Ba,this.markUsedJustification(p,Ba.anchor,bt,Qa))}}}if(qa=Ji,ia=qa&&qa.placeable,pa=qa&&qa.offscreen,bt.useRuntimeCollisionCircles){const an=p.text.placedSymbolArray.get(bt.centerJustifiedTextSymbolIndex),js=s.am(p.textSizeData,W,an),vs=b.get("text-padding");br=this.collisionIndex.placeCollisionCircles(be,an,p.lineVertexArray,p.glyphOffsetArray,js,T,N,d,Pe,ee.predicate,bt.collisionCircleDiameter,vs,B,At),br.circles.length&&br.collisionDetected&&!d&&s.w("Collisions detected, but collision boxes are not shown"),ia=we||br.circles.length>0&&!br.collisionDetected,pa=pa&&br.offscreen}if(ti.iconFeatureIndex&&(bs=ti.iconFeatureIndex),ti.iconBox){const an=js=>this.collisionIndex.placeCollisionBox(js,Me,Q,dt,T,Pe,Fe,U,ee.predicate,At,Ye&&aa?aa:void 0,Lt);nr&&nr.placeable&&ti.verticalIconBox?(Er=an(ti.verticalIconBox),wa=Er.placeable):(Er=an(ti.iconBox),wa=Er.placeable),pa=pa&&Er.offscreen}const Jn=me||bt.numHorizontalGlyphVertices===0&&bt.numVerticalGlyphVertices===0,wo=pe||bt.numIconVertices===0;Jn||wo?wo?Jn||(wa=wa&&ia):ia=wa&&ia:wa=ia=wa&&ia;const Bo=wa&&Er.placeable;if(ia&&qa.placeable&&this.collisionIndex.insertCollisionBox(qa.box,be,b.get("text-ignore-placement"),p.bucketInstanceId,nr&&nr.placeable&&Gs?Gs:Wn,ee.ID),Bo&&this.collisionIndex.insertCollisionBox(Er.box,Me,b.get("icon-ignore-placement"),p.bucketInstanceId,bs,ee.ID),br&&ia&&this.collisionIndex.insertCollisionCircles(br.circles,be,b.get("text-ignore-placement"),p.bucketInstanceId,Wn,ee.ID),d&&this.storeCollisionData(p.bucketInstanceId,Ii,ti,qa,Er,br),bt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(p.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[bt.crossTileID]=new Fa((ia||We)&&!(qa!=null&&qa.occluded),(wa||ct)&&!(Er!=null&&Er.occluded),pa||p.justReloaded),o[bt.crossTileID]=!0};if(Ke){if(i.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const bt=p.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let ti=bt.length-1;ti>=0;--ti){const Ii=bt[ti];Ut(p.symbolInstances.get(Ii),p.collisionArrays[Ii],Ii)}}else for(let bt=i.symbolInstanceStart;bt<i.symbolInstanceEnd;bt++)Ut(p.symbolInstances.get(bt),p.collisionArrays[bt],bt);p.justReloaded=!1}storeCollisionData(i,o,d,p,b,B){if(d.textBox||d.iconBox){let U,T;this.collisionBoxArrays.has(i)?U=this.collisionBoxArrays.get(i):(U=new Map,this.collisionBoxArrays.set(i,U)),U.has(o)?T=U.get(o):(T={text:null,icon:null},U.set(o,T)),d.textBox&&(T.text=p.box),d.iconBox&&(T.icon=b.box)}if(B){let U=this.collisionCircleArrays[i];U===void 0&&(U=this.collisionCircleArrays[i]=[]);for(let T=0;T<B.circles.length;T+=4)U.push(B.circles[T+0]-Zi),U.push(B.circles[T+1]-Zi),U.push(B.circles[T+2]),U.push(B.collisionDetected?1:0)}}markUsedJustification(i,o,d,p){let b;b=p===s.al.vertical?d.verticalPlacedTextSymbolIndex:{left:d.leftJustifiedTextSymbolIndex,center:d.centerJustifiedTextSymbolIndex,right:d.rightJustifiedTextSymbolIndex}[s.aD(o)];const B=[d.leftJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.rightJustifiedTextSymbolIndex,d.verticalPlacedTextSymbolIndex];for(const U of B)U>=0&&(i.text.placedSymbolArray.get(U).crossTileID=b>=0&&U!==b?0:d.crossTileID)}markUsedOrientation(i,o,d){const p=o===s.al.horizontal||o===s.al.horizontalOnly?o:0,b=o===s.al.vertical?o:0,B=[d.leftJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.rightJustifiedTextSymbolIndex];for(const U of B)i.text.placedSymbolArray.get(U).placedOrientation=p;d.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(d.verticalPlacedTextSymbolIndex).placedOrientation=b)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const o=this.prevPlacement;let d=!1;this.prevZoomAdjustment=o?o.zoomAdjustment(this.transform.zoom):0;const p=o?o.symbolFadeChange(i):1,b=o?o.opacities:{},B=o?o.variableOffsets:{},U=o?o.placedOrientations:{};for(const T in this.placements){const N=this.placements[T],Q=b[T];Q?(this.opacities[T]=new mr(Q,p,N.text,N.icon),d=d||N.text!==Q.text.placed||N.icon!==Q.icon.placed):(this.opacities[T]=new mr(null,p,N.text,N.icon,N.skipFade),d=d||N.text||N.icon)}for(const T in b){const N=b[T];if(!this.opacities[T]){const Q=new mr(N,p,!1,!1);Q.isHidden()||(this.opacities[T]=Q,d=d||N.text.placed||N.icon.placed)}}for(const T in B)this.variableOffsets[T]||!this.opacities[T]||this.opacities[T].isHidden()||(this.variableOffsets[T]=B[T]);for(const T in U)this.placedOrientations[T]||!this.opacities[T]||this.opacities[T].isHidden()||(this.placedOrientations[T]=U[T]);if(o&&o.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");d?this.lastPlacementChangeTime=i:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=o?o.lastPlacementChangeTime:i)}updateLayerOpacities(i,o){const d={};for(const p of o){const b=p.getBucket(i);b&&p.latestFeatureIndex&&i.id===b.layerIds[0]&&this.updateBucketOpacities(b,p.tileID,d,p.collisionBoxArray)}}updateBucketOpacities(i,o,d,p){i.hasTextData()&&(i.text.opacityVertexArray.clear(),i.text.hasVisibleVertices=!1),i.hasIconData()&&(i.icon.opacityVertexArray.clear(),i.icon.hasVisibleVertices=!1),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const b=i.layers[0],B=b.layout,U=new mr(null,0,!1,!1,!0),T=B.get("text-allow-overlap"),N=B.get("icon-allow-overlap"),Q=b._unevaluatedLayout.hasValue("text-variable-anchor")||b._unevaluatedLayout.hasValue("text-variable-anchor-offset"),z=B.get("text-rotation-alignment")==="map",Z=B.get("text-pitch-alignment")==="map",W=B.get("icon-text-fit")!=="none",ee=new mr(null,0,T&&(N||!i.hasIconData()||B.get("icon-optional")),N&&(T||!i.hasTextData()||B.get("text-optional")),!0);!i.collisionArrays&&p&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(p);const me=(be,we,Me)=>{for(let Re=0;Re<we/4;Re++)be.opacityVertexArray.emplaceBack(Me);be.hasVisibleVertices=be.hasVisibleVertices||Me!==ho},pe=this.collisionBoxArrays.get(i.bucketInstanceId);for(let be=0;be<i.symbolInstances.length;be++){const we=i.symbolInstances.get(be),{numHorizontalGlyphVertices:Me,numVerticalGlyphVertices:Re,crossTileID:Fe}=we;let Pe=this.opacities[Fe];d[Fe]?Pe=U:Pe||(Pe=ee,this.opacities[Fe]=Pe),d[Fe]=!0;const Ye=we.numIconVertices>0,Ke=this.placedOrientations[we.crossTileID],We=Ke===s.al.vertical,ct=Ke===s.al.horizontal||Ke===s.al.horizontalOnly;if(Me>0||Re>0){const At=Xh(Pe.text);me(i.text,Me,We?ho:At),me(i.text,Re,ct?ho:At);const Lt=Pe.text.isHidden();[we.rightJustifiedTextSymbolIndex,we.centerJustifiedTextSymbolIndex,we.leftJustifiedTextSymbolIndex].forEach(ti=>{ti>=0&&(i.text.placedSymbolArray.get(ti).hidden=Lt||We?1:0)}),we.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(we.verticalPlacedTextSymbolIndex).hidden=Lt||ct?1:0);const Ut=this.variableOffsets[we.crossTileID];Ut&&this.markUsedJustification(i,Ut.anchor,we,Ke);const bt=this.placedOrientations[we.crossTileID];bt&&(this.markUsedJustification(i,"left",we,bt),this.markUsedOrientation(i,bt,we))}if(Ye){const At=Xh(Pe.icon),Lt=!(W&&we.verticalPlacedIconSymbolIndex&&We);we.placedIconSymbolIndex>=0&&(me(i.icon,we.numIconVertices,Lt?At:ho),i.icon.placedSymbolArray.get(we.placedIconSymbolIndex).hidden=Pe.icon.isHidden()),we.verticalPlacedIconSymbolIndex>=0&&(me(i.icon,we.numVerticalIconVertices,Lt?ho:At),i.icon.placedSymbolArray.get(we.verticalPlacedIconSymbolIndex).hidden=Pe.icon.isHidden())}const dt=pe&&pe.has(be)?pe.get(be):{text:null,icon:null};if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const At=i.collisionArrays[be];if(At){let Lt=new s.P(0,0);if(At.textBox||At.verticalTextBox){let Ut=!0;if(Q){const bt=this.variableOffsets[Fe];bt?(Lt=zh(bt.anchor,bt.width,bt.height,bt.textOffset,bt.textBoxScale),z&&Lt._rotate(Z?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Ut=!1}if(At.textBox||At.verticalTextBox){let bt;At.textBox&&(bt=We),At.verticalTextBox&&(bt=ct),Zh(i.textCollisionBox.collisionVertexArray,Pe.text.placed,!Ut||bt,dt.text,Lt.x,Lt.y)}}if(At.iconBox||At.verticalIconBox){const Ut=!!(!ct&&At.verticalIconBox);let bt;At.iconBox&&(bt=Ut),At.verticalIconBox&&(bt=!Ut),Zh(i.iconCollisionBox.collisionVertexArray,Pe.icon.placed,bt,dt.icon,W?Lt.x:0,W?Lt.y:0)}}}}if(i.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);i.bucketInstanceId in this.collisionCircleArrays&&(i.collisionCircleArray=this.collisionCircleArrays[i.bucketInstanceId],delete this.collisionCircleArrays[i.bucketInstanceId])}symbolFadeChange(i){return this.fadeDuration===0?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,o){const d=this.zoomAtLastRecencyCheck===o?1-this.zoomAdjustment(o):1;return this.zoomAtLastRecencyCheck=o,this.commitTime+this.fadeDuration*d>i}setStale(){this.stale=!0}}function Zh(_,i,o,d,p,b){d&&d.length!==0||(d=[0,0,0,0]);const B=d[0]-Zi,U=d[1]-Zi,T=d[2]-Zi,N=d[3]-Zi;_.emplaceBack(i?1:0,o?1:0,p||0,b||0,B,U),_.emplaceBack(i?1:0,o?1:0,p||0,b||0,T,U),_.emplaceBack(i?1:0,o?1:0,p||0,b||0,T,N),_.emplaceBack(i?1:0,o?1:0,p||0,b||0,B,N)}const lp=Math.pow(2,25),Ap=Math.pow(2,24),cp=Math.pow(2,17),R0=Math.pow(2,16),I0=Math.pow(2,9),Hh=Math.pow(2,8),Oh=Math.pow(2,1);function Xh(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const i=_.placed?1:0,o=Math.floor(127*_.opacity);return o*lp+i*Ap+o*cp+i*R0+o*I0+i*Hh+o*Oh+i}const ho=0;class Vh{constructor(i){this._sortAcrossTiles=i.layout.get("symbol-z-order")!=="viewport-y"&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,o,d,p,b){const B=this._bucketParts;for(;this._currentTileIndex<i.length;)if(o.getBucketParts(B,p,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,b())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,B.sort((U,T)=>U.sortKey-T.sortKey));this._currentPartIndex<B.length;)if(o.placeLayerBucketPart(B[this._currentPartIndex],this._seenCrossTileIDs,d),this._currentPartIndex++,b())return!0;return!1}}class $A{constructor(i,o,d,p,b,B,U,T){this.placement=new jo(i,o,B,U,T),this._currentPlacementIndex=d.length-1,this._forceFullPlacement=p,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(i,o,d){const p=E.now(),b=()=>!this._forceFullPlacement&&E.now()-p>2;for(;this._currentPlacementIndex>=0;){const B=o[i[this._currentPlacementIndex]],U=this.placement.collisionIndex.transform.zoom;if(B.type==="symbol"&&(!B.minzoom||B.minzoom<=U)&&(!B.maxzoom||B.maxzoom>U)){if(this._inProgressLayer||(this._inProgressLayer=new Vh(B)),this._inProgressLayer.continuePlacement(d[B.source],this.placement,this._showCollisionBoxes,B,b))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const Ko=512/s.Z/2;class $o{constructor(i,o,d){this.tileID=i,this.bucketInstanceId=d,this._symbolsByKey={};const p=new Map;for(let b=0;b<o.length;b++){const B=o.get(b),U=B.key,T=p.get(U);T?T.push(B):p.set(U,[B])}for(const[b,B]of p){const U={positions:B.map(T=>({x:Math.floor(T.anchorX*Ko),y:Math.floor(T.anchorY*Ko)})),crossTileIDs:B.map(T=>T.crossTileID)};if(U.positions.length>128){const T=new s.aF(U.positions.length,16,Uint16Array);for(const{x:N,y:Q}of U.positions)T.add(N,Q);T.finish(),delete U.positions,U.index=T}this._symbolsByKey[b]=U}}getScaledCoordinates(i,o){const{x:d,y:p,z:b}=this.tileID.canonical,{x:B,y:U,z:T}=o.canonical,N=Ko/Math.pow(2,T-b),Q=(U*s.Z+i.anchorY)*N,z=p*s.Z*Ko;return{x:Math.floor((B*s.Z+i.anchorX)*N-d*s.Z*Ko),y:Math.floor(Q-z)}}findMatches(i,o,d){const p=this.tileID.canonical.z<o.canonical.z?1:Math.pow(2,this.tileID.canonical.z-o.canonical.z);for(let b=0;b<i.length;b++){const B=i.get(b);if(B.crossTileID)continue;const U=this._symbolsByKey[B.key];if(!U)continue;const T=this.getScaledCoordinates(B,o);if(U.index){const N=U.index.range(T.x-p,T.y-p,T.x+p,T.y+p).sort();for(const Q of N){const z=U.crossTileIDs[Q];if(!d[z]){d[z]=!0,B.crossTileID=z;break}}}else if(U.positions)for(let N=0;N<U.positions.length;N++){const Q=U.positions[N],z=U.crossTileIDs[N];if(Math.abs(Q.x-T.x)<=p&&Math.abs(Q.y-T.y)<=p&&!d[z]){d[z]=!0,B.crossTileID=z;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:i})=>i)}}class U0{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class hp{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const o=Math.round((i-this.lng)/360);if(o!==0)for(const d in this.indexes){const p=this.indexes[d],b={};for(const B in p){const U=p[B];U.tileID=U.tileID.unwrapTo(U.tileID.wrap+o),b[U.tileID.key]=U}this.indexes[d]=b}this.lng=i}addBucket(i,o,d){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===o.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let b=0;b<o.symbolInstances.length;b++)o.symbolInstances.get(b).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const p=this.usedCrossTileIDs[i.overscaledZ];for(const b in this.indexes){const B=this.indexes[b];if(Number(b)>i.overscaledZ)for(const U in B){const T=B[U];T.tileID.isChildOf(i)&&T.findMatches(o.symbolInstances,i,p)}else{const U=B[i.scaledTo(Number(b)).key];U&&U.findMatches(o.symbolInstances,i,p)}}for(let b=0;b<o.symbolInstances.length;b++){const B=o.symbolInstances.get(b);B.crossTileID||(B.crossTileID=d.generate(),p[B.crossTileID]=!0)}return this.indexes[i.overscaledZ]===void 0&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new $o(i,o.symbolInstances,o.bucketInstanceId),!0}removeBucketCrossTileIDs(i,o){for(const d of o.getCrossTileIDsLists())for(const p of d)delete this.usedCrossTileIDs[i][p]}removeStaleBuckets(i){let o=!1;for(const d in this.indexes){const p=this.indexes[d];for(const b in p)i[p[b].bucketInstanceId]||(this.removeBucketCrossTileIDs(d,p[b]),delete p[b],o=!0)}return o}}class fs{constructor(){this.layerIndexes={},this.crossTileIDs=new U0,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,o,d){let p=this.layerIndexes[i.id];p===void 0&&(p=this.layerIndexes[i.id]=new hp);let b=!1;const B={};p.handleWrapJump(d);for(const U of o){const T=U.getBucket(i);T&&i.id===T.layerIds[0]&&(T.bucketInstanceId||(T.bucketInstanceId=++this.maxBucketInstanceId),p.addBucket(U.tileID,T,this.crossTileIDs)&&(b=!0),B[T.bucketInstanceId]=!0)}return p.removeStaleBuckets(B)&&(b=!0),b}pruneUnusedLayers(i){const o={};i.forEach(d=>{o[d]=!0});for(const d in this.layerIndexes)o[d]||delete this.layerIndexes[d]}}var qo="void main() {fragColor=vec4(1.0);}";const Fi={prelude:ki(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:ki("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:ki("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:ki(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:ki(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:ki(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:ki(qo,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:ki(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:ki(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:ki("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:ki("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:ki("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:ki(qo,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:ki(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:ki(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:ki(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:ki(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:ki(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:ki(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:ki(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));fragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ki(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:ki(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:ki(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:ki(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:ki(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:ki(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:ki(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:ki(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:ki(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:ki("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:ki("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:ki("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:ki("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:ki(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:ki("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function ki(_,i){const o=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,d=i.match(/in ([\w]+) ([\w]+)/g),p=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),b=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),B=b?b.concat(p):p,U={};return{fragmentSource:_=_.replace(o,(T,N,Q,z,Z)=>(U[Z]=!0,N==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
in ${Q} ${z} ${Z};
#else
uniform ${Q} ${z} u_${Z};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Z}
    ${Q} ${z} ${Z} = u_${Z};
#endif
`)),vertexSource:i=i.replace(o,(T,N,Q,z,Z)=>{const W=z==="float"?"vec2":"vec4",ee=Z.match(/color/)?"color":W;return U[Z]?N==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
uniform lowp float u_${Z}_t;
in ${Q} ${W} a_${Z};
out ${Q} ${z} ${Z};
#else
uniform ${Q} ${z} u_${Z};
#endif
`:ee==="vec4"?`
#ifndef HAS_UNIFORM_u_${Z}
    ${Z} = a_${Z};
#else
    ${Q} ${z} ${Z} = u_${Z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Z}
    ${Z} = unpack_mix_${ee}(a_${Z}, u_${Z}_t);
#else
    ${Q} ${z} ${Z} = u_${Z};
#endif
`:N==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
uniform lowp float u_${Z}_t;
in ${Q} ${W} a_${Z};
#else
uniform ${Q} ${z} u_${Z};
#endif
`:ee==="vec4"?`
#ifndef HAS_UNIFORM_u_${Z}
    ${Q} ${z} ${Z} = a_${Z};
#else
    ${Q} ${z} ${Z} = u_${Z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Z}
    ${Q} ${z} ${Z} = unpack_mix_${ee}(a_${Z}, u_${Z}_t);
#else
    ${Q} ${z} ${Z} = u_${Z};
#endif
`}),staticAttributes:d,staticUniforms:B}}class Wo{constructor(i,o,d){this.vertexBuffer=i,this.indexBuffer=o,this.segments=d}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Xn=s.aG([{name:"a_pos",type:"Int16",components:2}]);const Xr="#define PROJECTION_MERCATOR",Ir="mercator";class Ta{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return Ir}get shaderDefine(){return Xr}get shaderPreludeCode(){return Fi.projectionMercator}get vertexShaderPreludeCode(){return Fi.projectionMercator.vertexSource}get subdivisionGranularity(){return s.aH.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(i){}getMeshFromTileID(i,o,d,p,b){if(this._cachedMesh)return this._cachedMesh;const B=new s.aI;B.emplaceBack(0,0),B.emplaceBack(s.Z,0),B.emplaceBack(0,s.Z),B.emplaceBack(s.Z,s.Z);const U=i.createVertexBuffer(B,Xn.members),T=s.aJ.simpleSegment(0,0,4,2),N=new s.aK;N.emplaceBack(1,0,2),N.emplaceBack(1,2,3);const Q=i.createIndexBuffer(N);return this._cachedMesh=new Wo(U,Q,T),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(i){}}class Kl{constructor(i=0,o=0,d=0,p=0){if(isNaN(i)||i<0||isNaN(o)||o<0||isNaN(d)||d<0||isNaN(p)||p<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=o,this.left=d,this.right=p}interpolate(i,o,d){return o.top!=null&&i.top!=null&&(this.top=s.B.number(i.top,o.top,d)),o.bottom!=null&&i.bottom!=null&&(this.bottom=s.B.number(i.bottom,o.bottom,d)),o.left!=null&&i.left!=null&&(this.left=s.B.number(i.left,o.left,d)),o.right!=null&&i.right!=null&&(this.right=s.B.number(i.right,o.right,d)),this}getCenter(i,o){const d=s.ae((this.left+i-this.right)/2,0,i),p=s.ae((this.top+o-this.bottom)/2,0,o);return new s.P(d,p)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new Kl(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function _r(_,i){if(!_.renderWorldCopies||_.lngRange)return;const o=i.lng-_.center.lng;i.lng+=o>180?-360:o<-180?360:0}function tn(_){return Math.max(0,Math.floor(_))}class kr{constructor(i,o,d,p,b,B){this._callbacks=i,this._tileSize=512,this._renderWorldCopies=B===void 0||!!B,this._minZoom=o||0,this._maxZoom=d||22,this._minPitch=p??0,this._maxPitch=b??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new s.Q(0,0),this._elevation=0,this._zoom=0,this._tileZoom=tn(this._zoom),this._scale=s.ac(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Kl,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(i,o,d){this._latRange=i.latRange,this._lngRange=i.lngRange,this._width=i.width,this._height=i.height,this._center=i.center,this._elevation=i.elevation,this._minElevationForCurrentTile=i.minElevationForCurrentTile,this._zoom=i.zoom,this._tileZoom=tn(this._zoom),this._scale=s.ac(this._zoom),this._bearingInRadians=i.bearingInRadians,this._fovInRadians=i.fovInRadians,this._pitchInRadians=i.pitchInRadians,this._rollInRadians=i.rollInRadians,this._unmodified=i.unmodified,this._edgeInsets=new Kl(i.padding.top,i.padding.bottom,i.padding.left,i.padding.right),this._minZoom=i.minZoom,this._maxZoom=i.maxZoom,this._minPitch=i.minPitch,this._maxPitch=i.maxPitch,this._renderWorldCopies=i.renderWorldCopies,this._cameraToCenterDistance=i.cameraToCenterDistance,this._nearZ=i.nearZ,this._farZ=i.farZ,this._autoCalculateNearFarZ=!d&&i.autoCalculateNearFarZ,o&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(i){this._minElevationForCurrentTile=i}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(i){this._minZoom!==i&&(this._minZoom=i,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(i){this._minPitch!==i&&(this._minPitch=i,this.setPitch(Math.max(this.pitch,i)))}get maxPitch(){return this._maxPitch}setMaxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.setPitch(Math.min(this.pitch,i)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(i){i===void 0?i=!0:i===null&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(i){const o=s.aL(i,-180,180)*Math.PI/180;var d,p,b,B,U,T,N,Q,z;this._bearingInRadians!==o&&(this._unmodified=!1,this._bearingInRadians=o,this._calcMatrices(),this._rotationMatrix=w(),d=this._rotationMatrix,b=-this._bearingInRadians,B=(p=this._rotationMatrix)[0],U=p[1],T=p[2],N=p[3],Q=Math.sin(b),z=Math.cos(b),d[0]=B*z+T*Q,d[1]=U*z+N*Q,d[2]=B*-Q+T*z,d[3]=U*-Q+N*z)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(i){const o=s.ae(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==o&&(this._unmodified=!1,this._pitchInRadians=o,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(i){const o=i/180*Math.PI;this._rollInRadians!==o&&(this._unmodified=!1,this._rollInRadians=o,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return s.aM(this._fovInRadians)}setFov(i){i=s.ae(i,.1,150),this.fov!==i&&(this._unmodified=!1,this._fovInRadians=s.ab(i),this._calcMatrices())}get zoom(){return this._zoom}setZoom(i){const o=this.getConstrained(this._center,i).zoom;this._zoom!==o&&(this._unmodified=!1,this._zoom=o,this._tileZoom=Math.max(0,Math.floor(o)),this._scale=s.ac(o),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(i,o){this._autoCalculateNearFarZ=!1,this._nearZ=i,this._farZ=o,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,o,d){this._unmodified=!1,this._edgeInsets.interpolate(i,o,d),this._constrain(),this._calcMatrices()}resize(i,o,d=!0){this._width=i,this._height=o,d&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new Nt([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(i){i?(this._lngRange=[i.getWest(),i.getEast()],this._latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,s.af])}getConstrained(i,o){return this._callbacks.getConstrained(i,o)}getCameraQueryGeometry(i,o){if(o.length===1)return[o[0],i];{let d=i.x,p=i.y,b=i.x,B=i.y;for(const U of o)d=Math.min(d,U.x),p=Math.min(p,U.y),b=Math.max(b,U.x),B=Math.max(B,U.y);return[new s.P(d,p),new s.P(b,p),new s.P(b,B),new s.P(d,B),new s.P(d,p)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const i=this._unmodified,{center:o,zoom:d}=this.getConstrained(this.center,this.zoom);this.setCenter(o),this.setZoom(d),this._unmodified=i,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let i=s.ad(new Float64Array(16));s.M(i,i,[this._width/2,-this._height/2,1]),s.L(i,i,[1,-1,0]),this._clipSpaceToPixelsMatrix=i,i=s.ad(new Float64Array(16)),s.M(i,i,[1,-1,1]),s.L(i,i,[-1,-1,0]),s.M(i,i,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=i,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(i,o,d,p){const b=d!==void 0?d:this.bearing,B=p=p!==void 0?p:this.pitch,U=s.$.fromLngLat(i,o),T=-Math.cos(s.ab(B)),N=Math.sin(s.ab(B)),Q=N*Math.sin(s.ab(b)),z=-N*Math.cos(s.ab(b));let Z=this.elevation;const W=o-Z;let ee;T*W>=0||Math.abs(T)<.1?(ee=1e4,Z=o+ee*T):ee=-W/T;let me,pe,be=s.aN(1,U.y),we=0;do{if(we+=1,we>10)break;pe=ee/be,me=new s.$(U.x+Q*pe,U.y+z*pe),be=1/me.meterInMercatorCoordinateUnits()}while(Math.abs(ee-pe*be)>1e-12);return{center:me.toLngLat(),elevation:Z,zoom:s.ah(this.height/2/Math.tan(this.fovInRadians/2)/pe/this.tileSize)}}recalculateZoomAndCenter(i){if(this.elevation-i==0)return;const o=s.ag(1,this.center.lat)*this.worldSize,d=this.cameraToCenterDistance/o,p=s.$.fromLngLat(this.center,this.elevation),b=re(this.center,this.elevation,this.pitch,this.bearing,d);this._elevation=i;const B=this.calculateCenterFromCameraLngLatAlt(b.toLngLat(),s.aN(b.z,p.y),this.bearing,this.pitch);this._elevation=B.elevation,this._center=B.center,this.setZoom(B.zoom)}getCameraPoint(){const i=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.P(i*Math.sin(this.rollInRadians),i*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const i=s.ag(1,this.center.lat)*this.worldSize;return re(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/i).toLngLat()}getMercatorTileCoordinates(i){if(!i)return[0,0,1,1];const o=i.canonical.z>=0?1<<i.canonical.z:Math.pow(2,i.canonical.z);return[i.canonical.x/o,i.canonical.y/o,1/o/s.Z,1/o/s.Z]}}class zs{constructor(i,o){this.min=i,this.max=o,this.center=s.aO([],s.aP([],this.min,this.max),.5)}quadrant(i){const o=[i%2==0,i<2],d=s.aQ(this.min),p=s.aQ(this.max);for(let b=0;b<o.length;b++)d[b]=o[b]?this.min[b]:this.center[b],p[b]=o[b]?this.center[b]:this.max[b];return p[2]=this.max[2],new zs(d,p)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersectsFrustum(i){let o=!0;for(let d=0;d<i.planes.length;d++){const p=this.intersectsPlane(i.planes[d]);if(p===0)return 0;p===1&&(o=!1)}return o?2:i.aabb.min[0]>this.max[0]||i.aabb.min[1]>this.max[1]||i.aabb.min[2]>this.max[2]||i.aabb.max[0]<this.min[0]||i.aabb.max[1]<this.min[1]||i.aabb.max[2]<this.min[2]?0:1}intersectsPlane(i){let o=i[3],d=i[3];for(let p=0;p<3;p++)i[p]>0?(o+=i[p]*this.min[p],d+=i[p]*this.max[p]):(d+=i[p]*this.min[p],o+=i[p]*this.max[p]);return o>=0?2:d<0?0:1}}class $l{distanceToTile2d(i,o,d,p){const b=p.distanceX([i,o]),B=p.distanceY([i,o]);return Math.hypot(b,B)}getWrap(i,o,d){return d}getTileAABB(i,o,d,p){var b,B;let U=d,T=d;if(p.terrain){const Q=new s.Y(i.z,o,i.z,i.x,i.y),z=p.terrain.getMinMaxElevation(Q);U=(b=z.minElevation)!==null&&b!==void 0?b:d,T=(B=z.maxElevation)!==null&&B!==void 0?B:d}const N=1<<i.z;return new zs([o+i.x/N,i.y/N,U],[o+(i.x+1)/N,(i.y+1)/N,T])}allowVariableZoom(i,o){const d=i.fov*(Math.abs(Math.cos(i.rollInRadians))*i.height+Math.abs(Math.sin(i.rollInRadians))*i.width)/i.height,p=s.ae(78.5-d/2,0,60);return!!o.terrain||i.pitch>p}allowWorldCopies(){return!0}recalculateCache(){}}class Sa{constructor(i,o,d){this.points=i,this.planes=o,this.aabb=d}static fromInvProjectionMatrix(i,o=1,d=0){const p=Math.pow(2,d),b=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(N=>{const Q=1/(N=s.at([],N,i))[3]/o*p;return s.aR(N,N,[Q,Q,1/N[3],Q])}),B=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(N=>{const Q=s.aS([],b[N[0]],b[N[1]]),z=s.aS([],b[N[2]],b[N[1]]),Z=s.aT([],s.aU([],Q,z)),W=-s.aV(Z,b[N[1]]);return Z.concat(W)}),U=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],T=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const N of b)for(let Q=0;Q<3;Q++)U[Q]=Math.min(U[Q],N[Q]),T[Q]=Math.max(T[Q],N[Q]);return new Sa(b,B,new zs(U,T))}}class Vn{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(i){this._helper.setMinZoom(i)}setMaxZoom(i){this._helper.setMaxZoom(i)}setMinPitch(i){this._helper.setMinPitch(i)}setMaxPitch(i){this._helper.setMaxPitch(i)}setRenderWorldCopies(i){this._helper.setRenderWorldCopies(i)}setBearing(i){this._helper.setBearing(i)}setPitch(i){this._helper.setPitch(i)}setRoll(i){this._helper.setRoll(i)}setFov(i){this._helper.setFov(i)}setZoom(i){this._helper.setZoom(i)}setCenter(i){this._helper.setCenter(i)}setElevation(i){this._helper.setElevation(i)}setMinElevationForCurrentTile(i){this._helper.setMinElevationForCurrentTile(i)}setPadding(i){this._helper.setPadding(i)}interpolatePadding(i,o,d){return this._helper.interpolatePadding(i,o,d)}isPaddingEqual(i){return this._helper.isPaddingEqual(i)}resize(i,o,d=!0){this._helper.resize(i,o,d)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(i){this._helper.setMaxBounds(i)}overrideNearFarZ(i,o){this._helper.overrideNearFarZ(i,o)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(i){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),i)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(i,o){}constructor(i,o,d,p,b){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new kr({calcMatrices:()=>{this._calcMatrices()},getConstrained:(B,U)=>this.getConstrained(B,U)},i,o,d,p,b),this._coveringTilesDetailsProvider=new $l}clone(){const i=new Vn;return i.apply(this),i}apply(i,o,d){this._helper.apply(i,o,d)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(i){const o=[new s.aW(0,i)];if(this._helper._renderWorldCopies){const d=this.screenPointToMercatorCoordinate(new s.P(0,0)),p=this.screenPointToMercatorCoordinate(new s.P(this._helper._width,0)),b=this.screenPointToMercatorCoordinate(new s.P(this._helper._width,this._helper._height)),B=this.screenPointToMercatorCoordinate(new s.P(0,this._helper._height)),U=Math.floor(Math.min(d.x,p.x,b.x,B.x)),T=Math.floor(Math.max(d.x,p.x,b.x,B.x)),N=1;for(let Q=U-N;Q<=T+N;Q++)Q!==0&&o.push(new s.aW(Q,i))}return o}getCameraFrustum(){return Sa.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(i){const o=this.screenPointToLocation(this.centerPoint,i),d=i?i.getElevationForLngLatZoom(o,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(d)}setLocationAtPoint(i,o){const d=s.ag(this.elevation,this.center.lat),p=this.screenPointToMercatorCoordinateAtZ(o,d),b=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,d),B=s.$.fromLngLat(i),U=new s.$(B.x-(p.x-b.x),B.y-(p.y-b.y));this.setCenter(U==null?void 0:U.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(i,o){return o?this.coordinatePoint(s.$.fromLngLat(i),o.getElevationForLngLatZoom(i,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(s.$.fromLngLat(i))}screenPointToLocation(i,o){var d;return(d=this.screenPointToMercatorCoordinate(i,o))===null||d===void 0?void 0:d.toLngLat()}screenPointToMercatorCoordinate(i,o){if(o){const d=o.pointCoordinate(i);if(d!=null)return d}return this.screenPointToMercatorCoordinateAtZ(i)}screenPointToMercatorCoordinateAtZ(i,o){const d=o||0,p=[i.x,i.y,0,1],b=[i.x,i.y,1,1];s.at(p,p,this._pixelMatrixInverse),s.at(b,b,this._pixelMatrixInverse);const B=p[3],U=b[3],T=p[1]/B,N=b[1]/U,Q=p[2]/B,z=b[2]/U,Z=Q===z?0:(d-Q)/(z-Q);return new s.$(s.B.number(p[0]/B,b[0]/U,Z)/this.worldSize,s.B.number(T,N,Z)/this.worldSize,d)}coordinatePoint(i,o=0,d=this._pixelMatrix){const p=[i.x*this.worldSize,i.y*this.worldSize,o,1];return s.at(p,p,d),new s.P(p[0]/p[3],p[1]/p[3])}getBounds(){const i=Math.max(0,this._helper._height/2-ze(this));return new Nt().extend(this.screenPointToLocation(new s.P(0,i))).extend(this.screenPointToLocation(new s.P(this._helper._width,i))).extend(this.screenPointToLocation(new s.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new s.P(0,this._helper._height)))}isPointOnMapSurface(i,o){return o?o.pointCoordinate(i)!=null:i.y>this.height/2-ze(this)}calculatePosMatrix(i,o=!1,d){var p;const b=(p=i.key)!==null&&p!==void 0?p:s.aX(i.wrap,i.canonical.z,i.canonical.z,i.canonical.x,i.canonical.y),B=o?this._alignedPosMatrixCache:this._posMatrixCache;if(B.has(b)){const N=B.get(b);return d?N.f32:N.f64}const U=ie(i,this.worldSize);s.N(U,o?this._alignedProjMatrix:this._viewProjMatrix,U);const T={f64:U,f32:new Float32Array(U)};return B.set(b,T),d?T.f32:T.f64}calculateFogMatrix(i){const o=i.key,d=this._fogMatrixCacheF32;if(d.has(o))return d.get(o);const p=ie(i,this.worldSize);return s.N(p,this._fogMatrix,p),d.set(o,new Float32Array(p)),d.get(o)}getConstrained(i,o){o=s.ae(+o,this.minZoom,this.maxZoom);const d={center:new s.Q(i.lng,i.lat),zoom:o};let p=this._helper._lngRange;this._helper._renderWorldCopies||p!==null||(p=[-179.9999999999,180-1e-10]);const b=this.tileSize*s.ac(d.zoom);let B=0,U=b,T=0,N=b,Q=0,z=0;const{x:Z,y:W}=this.size;if(this._helper._latRange){const Me=this._helper._latRange;B=s.S(Me[1])*b,U=s.S(Me[0])*b,U-B<W&&(Q=W/(U-B))}p&&(T=s.aL(s.U(p[0])*b,0,b),N=s.aL(s.U(p[1])*b,0,b),N<T&&(N+=b),N-T<Z&&(z=Z/(N-T)));const{x:ee,y:me}=na(b,i);let pe,be;const we=Math.max(z||0,Q||0);if(we){const Me=new s.P(z?(N+T)/2:ee,Q?(U+B)/2:me);return d.center=va(b,Me).wrap(),d.zoom+=s.ah(we),d}if(this._helper._latRange){const Me=W/2;me-Me<B&&(be=B+Me),me+Me>U&&(be=U-Me)}if(p){const Me=(T+N)/2;let Re=ee;this._helper._renderWorldCopies&&(Re=s.aL(ee,Me-b/2,Me+b/2));const Fe=Z/2;Re-Fe<T&&(pe=T+Fe),Re+Fe>N&&(pe=N-Fe)}if(pe!==void 0||be!==void 0){const Me=new s.P(pe??ee,be??me);d.center=va(b,Me).wrap()}return d}calculateCenterFromCameraLngLatAlt(i,o,d,p){return this._helper.calculateCenterFromCameraLngLatAlt(i,o,d,p)}_calculateNearFarZIfNeeded(i,o,d){if(!this._helper.autoCalculateNearFarZ)return;const p=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),b=i-p*this._helper._pixelPerMeter/Math.cos(o),B=p<0?b:i,U=Math.PI/2+this.pitchInRadians,T=s.ab(this.fov)*(Math.abs(Math.cos(s.ab(this.roll)))*this.height+Math.abs(Math.sin(s.ab(this.roll)))*this.width)/this.height*(.5+d.y/this.height),N=Math.sin(T)*B/Math.sin(s.ae(Math.PI-U-T,.01,Math.PI-.01)),Q=ze(this),z=Math.atan(Q/this._helper.cameraToCenterDistance),Z=s.ab(.75),W=z>Z?2*z*(.5+d.y/(2*Q)):Z,ee=Math.sin(W)*B/Math.sin(s.ae(Math.PI-U-W,.01,Math.PI-.01)),me=Math.min(N,ee);this._helper._farZ=1.01*(Math.cos(Math.PI/2-o)*me+B),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const i=this.centerOffset,o=na(this.worldSize,this.center),d=o.x,p=o.y;this._helper._pixelPerMeter=s.ag(1,this.center.lat)*this.worldSize;const b=s.ab(Math.min(this.pitch,sa)),B=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(b));let U;this._calculateNearFarZIfNeeded(B,b,i),U=new Float64Array(16),s.aY(U,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),s.an(this._invProjMatrix,U),U[8]=2*-i.x/this._helper._width,U[9]=2*i.y/this._helper._height,this._projectionMatrix=s.aZ(U),s.M(U,U,[1,-1,1]),s.L(U,U,[0,0,-this._helper.cameraToCenterDistance]),s.a_(U,U,-this.rollInRadians),s.a$(U,U,this.pitchInRadians),s.a_(U,U,-this.bearingInRadians),s.L(U,U,[-d,-p,0]),this._mercatorMatrix=s.M([],U,[this.worldSize,this.worldSize,this.worldSize]),s.M(U,U,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=s.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,U),s.L(U,U,[0,0,-this.elevation]),this._viewProjMatrix=U,this._invViewProjMatrix=s.an([],U);const T=[0,0,-1,1];s.at(T,T,this._invViewProjMatrix),this._cameraPosition=[T[0]/T[3],T[1]/T[3],T[2]/T[3]],this._fogMatrix=new Float64Array(16),s.aY(this._fogMatrix,this.fovInRadians,this.width/this.height,B,this._helper._farZ),this._fogMatrix[8]=2*-i.x/this.width,this._fogMatrix[9]=2*i.y/this.height,s.M(this._fogMatrix,this._fogMatrix,[1,-1,1]),s.L(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),s.a_(this._fogMatrix,this._fogMatrix,-this.rollInRadians),s.a$(this._fogMatrix,this._fogMatrix,this.pitchInRadians),s.a_(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),s.L(this._fogMatrix,this._fogMatrix,[-d,-p,0]),s.M(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),s.L(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=s.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,U);const N=this._helper._width%2/2,Q=this._helper._height%2/2,z=Math.cos(this.bearingInRadians),Z=Math.sin(-this.bearingInRadians),W=d-Math.round(d)+z*N+Z*Q,ee=p-Math.round(p)+z*Q+Z*N,me=new Float64Array(U);if(s.L(me,me,[W>.5?W-1:W,ee>.5?ee-1:ee,0]),this._alignedProjMatrix=me,U=s.an(new Float64Array(16),this._pixelMatrix),!U)throw new Error("failed to invert matrix");this._pixelMatrixInverse=U,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const i=this.screenPointToMercatorCoordinate(new s.P(0,0)),o=[i.x*this.worldSize,i.y*this.worldSize,0,1];return s.at(o,o,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const i=s.ag(1,this.center.lat)*this.worldSize;return re(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/i).toLngLat()}lngLatToCameraDepth(i,o){const d=s.$.fromLngLat(i),p=[d.x*this.worldSize,d.y*this.worldSize,o,1];return s.at(p,p,this._viewProjMatrix),p[2]/p[3]}getProjectionData(i){const{overscaledTileID:o,aligned:d,applyTerrainMatrix:p}=i,b=this._helper.getMercatorTileCoordinates(o),B=o?this.calculatePosMatrix(o,d,!0):null;let U;return U=o&&o.terrainRttPosMatrix32f&&p?o.terrainRttPosMatrix32f:B||s.b0(),{mainMatrix:U,tileMercatorCoords:b,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:U}}isLocationOccluded(i){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(i,o,d){return 1}transformLightDirection(i){return s.aQ(i)}getRayDirectionFromPixel(i){throw new Error("Not implemented.")}projectTileCoordinates(i,o,d,p){const b=this.calculatePosMatrix(d);let B;p?(B=[i,o,p(i,o),1],s.at(B,B,b)):(B=[i,o,0,1],Ei(B,B,b));const U=B[3];return{point:new s.P(B[0]/U,B[1]/U),signedDistanceFromCamera:U,isOccluded:!1}}populateCache(i){for(const o of i)this.calculatePosMatrix(o)}getMatrixForModel(i,o){const d=s.$.fromLngLat(i,o),p=d.meterInMercatorCoordinateUnits(),b=s.b1();return s.L(b,b,[d.x,d.y,d.z]),s.a_(b,b,Math.PI),s.a$(b,b,Math.PI/2),s.M(b,b,[-p,p,p]),b}getProjectionDataForCustomLayer(i=!0){const o=new s.Y(0,0,0,0,0),d=this.getProjectionData({overscaledTileID:o,applyGlobeMatrix:i}),p=ie(o,this.worldSize);s.N(p,this._viewProjMatrix,p),d.tileMercatorCoords=[0,0,1,1];const b=[s.Z,s.Z,this.worldSize/this._helper.pixelsPerMeter],B=s.b2();return s.M(B,p,b),d.fallbackMatrix=B,d.mainMatrix=B,d}getFastPathSimpleProjectionMatrix(i){return this.calculatePosMatrix(i)}}function Zs(){s.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function ql(_){if(_.useSlerp)if(_.k<1){const i=s.b3(_.startEulerAngles.roll,_.startEulerAngles.pitch,_.startEulerAngles.bearing),o=s.b3(_.endEulerAngles.roll,_.endEulerAngles.pitch,_.endEulerAngles.bearing),d=new Float64Array(4);s.b4(d,i,o,_.k);const p=s.b5(d);_.tr.setRoll(p.roll),_.tr.setPitch(p.pitch),_.tr.setBearing(p.bearing)}else _.tr.setRoll(_.endEulerAngles.roll),_.tr.setPitch(_.endEulerAngles.pitch),_.tr.setBearing(_.endEulerAngles.bearing);else _.tr.setRoll(s.B.number(_.startEulerAngles.roll,_.endEulerAngles.roll,_.k)),_.tr.setPitch(s.B.number(_.startEulerAngles.pitch,_.endEulerAngles.pitch,_.k)),_.tr.setBearing(s.B.number(_.startEulerAngles.bearing,_.endEulerAngles.bearing,_.k))}function gn(_,i,o,d,p){const b=p.padding,B=na(p.worldSize,o.getNorthWest()),U=na(p.worldSize,o.getNorthEast()),T=na(p.worldSize,o.getSouthEast()),N=na(p.worldSize,o.getSouthWest()),Q=s.ab(-d),z=B.rotate(Q),Z=U.rotate(Q),W=T.rotate(Q),ee=N.rotate(Q),me=new s.P(Math.max(z.x,Z.x,ee.x,W.x),Math.max(z.y,Z.y,ee.y,W.y)),pe=new s.P(Math.min(z.x,Z.x,ee.x,W.x),Math.min(z.y,Z.y,ee.y,W.y)),be=me.sub(pe),we=(p.width-(b.left+b.right+i.left+i.right))/be.x,Me=(p.height-(b.top+b.bottom+i.top+i.bottom))/be.y;if(Me<0||we<0)return void Zs();const Re=Math.min(s.ah(p.scale*Math.min(we,Me)),_.maxZoom),Fe=s.P.convert(_.offset),Pe=new s.P((i.left-i.right)/2,(i.top-i.bottom)/2).rotate(s.ab(d)),Ye=Fe.add(Pe).mult(p.scale/s.ac(Re));return{center:va(p.worldSize,B.add(T).div(2).sub(Ye)),zoom:Re,bearing:d}}class Wl{get useGlobeControls(){return!1}handlePanInertia(i,o){return{easingOffset:i,easingCenter:o.center}}handleMapControlsRollPitchBearingZoom(i,o){i.bearingDelta&&o.setBearing(o.bearing+i.bearingDelta),i.pitchDelta&&o.setPitch(o.pitch+i.pitchDelta),i.rollDelta&&o.setRoll(o.roll+i.rollDelta),i.zoomDelta&&o.setZoom(o.zoom+i.zoomDelta)}handleMapControlsPan(i,o,d){i.around.distSqr(o.centerPoint)<.01||o.setLocationAtPoint(d,i.around)}cameraForBoxAndBearing(i,o,d,p,b){return gn(i,o,d,p,b)}handleJumpToCenterZoom(i,o){i.zoom!==(o.zoom!==void 0?+o.zoom:i.zoom)&&i.setZoom(+o.zoom),o.center!==void 0&&i.setCenter(s.Q.convert(o.center))}handleEaseTo(i,o){const d=i.zoom,p=i.padding,b={roll:i.roll,pitch:i.pitch,bearing:i.bearing},B={roll:o.roll===void 0?i.roll:o.roll,pitch:o.pitch===void 0?i.pitch:o.pitch,bearing:o.bearing===void 0?i.bearing:o.bearing},U=o.zoom!==void 0,T=!i.isPaddingEqual(o.padding);let N=!1;const Q=U?+o.zoom:i.zoom;let z=i.centerPoint.add(o.offsetAsPoint);const Z=i.screenPointToLocation(z),{center:W,zoom:ee}=i.getConstrained(s.Q.convert(o.center||Z),Q??d);_r(i,W);const me=na(i.worldSize,Z),pe=na(i.worldSize,W).sub(me),be=s.ac(ee-d);return N=ee!==d,{easeFunc:we=>{if(N&&i.setZoom(s.B.number(d,ee,we)),s.b6(b,B)||ql({startEulerAngles:b,endEulerAngles:B,tr:i,k:we,useSlerp:b.roll!=B.roll}),T&&(i.interpolatePadding(p,o.padding,we),z=i.centerPoint.add(o.offsetAsPoint)),o.around)i.setLocationAtPoint(o.around,o.aroundPoint);else{const Me=s.ac(i.zoom-d),Re=ee>d?Math.min(2,be):Math.max(.5,be),Fe=Math.pow(Re,1-we),Pe=va(i.worldSize,me.add(pe.mult(we*Fe)).mult(Me));i.setLocationAtPoint(i.renderWorldCopies?Pe.wrap():Pe,z)}},isZooming:N,elevationCenter:W}}handleFlyTo(i,o){const d=o.zoom!==void 0,p=i.zoom,b=i.getConstrained(s.Q.convert(o.center||o.locationAtOffset),d?+o.zoom:p),B=b.center,U=b.zoom;_r(i,B);const T=na(i.worldSize,o.locationAtOffset),N=na(i.worldSize,B).sub(T),Q=N.mag(),z=s.ac(U-p);let Z;if(o.minZoom!==void 0){const W=Math.min(+o.minZoom,p,U),ee=i.getConstrained(B,W).zoom;Z=s.ac(ee-p)}return{easeFunc:(W,ee,me,pe)=>{i.setZoom(W===1?U:p+s.ah(ee));const be=W===1?B:va(i.worldSize,T.add(N.mult(me)).mult(ee));i.setLocationAtPoint(i.renderWorldCopies?be.wrap():be,pe)},scaleOfZoom:z,targetCenter:B,scaleOfMinZoom:Z,pixelPathLength:Q}}}class Wi{constructor(i,o,d){this.blendFunction=i,this.blendColor=o,this.mask=d}}Wi.Replace=[1,0],Wi.disabled=new Wi(Wi.Replace,s.b7.transparent,[!1,!1,!1,!1]),Wi.unblended=new Wi(Wi.Replace,s.b7.transparent,[!0,!0,!0,!0]),Wi.alphaBlended=new Wi([1,771],s.b7.transparent,[!0,!0,!0,!0]);const Gh=2305;class Oi{constructor(i,o,d){this.enable=i,this.mode=o,this.frontFace=d}}Oi.disabled=new Oi(!1,1029,Gh),Oi.backCCW=new Oi(!0,1029,Gh),Oi.frontCCW=new Oi(!0,1028,Gh);class Mi{constructor(i,o,d){this.func=i,this.mask=o,this.range=d}}Mi.ReadOnly=!1,Mi.ReadWrite=!0,Mi.disabled=new Mi(519,Mi.ReadOnly,[0,1]);const Jo=7680;class Di{constructor(i,o,d,p,b,B){this.test=i,this.ref=o,this.mask=d,this.fail=p,this.depthFail=b,this.pass=B}}Di.disabled=new Di({func:519,mask:0},0,0,Jo,Jo,Jo);const Jl=new WeakMap;function Mn(_){var i;if(Jl.has(_))return Jl.get(_);{const o=(i=_.getParameter(_.VERSION))===null||i===void 0?void 0:i.startsWith("WebGL 2.0");return Jl.set(_,o),o}}class el{get awaitingQuery(){return!!this._readbackQueue}constructor(i){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=i;const o=i.context,d=o.gl;this._texFormat=d.RGBA,this._texType=d.UNSIGNED_BYTE;const p=new s.aI;p.emplaceBack(-1,-1),p.emplaceBack(2,-1),p.emplaceBack(-1,2);const b=new s.aK;b.emplaceBack(0,1,2),this._fullscreenTriangle=new Wo(o.createVertexBuffer(p,Xn.members),o.createIndexBuffer(b),s.aJ.simpleSegment(0,0,p.length,b.length)),this._resultBuffer=new Uint8Array(4),o.activeTexture.set(d.TEXTURE1);const B=d.createTexture();d.bindTexture(d.TEXTURE_2D,B),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texImage2D(d.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=o.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(B),Mn(d)&&(this._pbo=d.createBuffer(),d.bindBuffer(d.PIXEL_PACK_BUFFER,this._pbo),d.bufferData(d.PIXEL_PACK_BUFFER,4,d.STREAM_READ),d.bindBuffer(d.PIXEL_PACK_BUFFER,null))}destroy(){const i=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),i.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(i,o){const d=this._updateCount;return this._readbackQueue?d>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():d>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(i,o),this._updateCount++,this._measuredError}_bindFramebuffer(){const i=this._cachedRenderContext.context,o=i.gl;i.activeTexture.set(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,this._fbo.colorAttachment.get()),i.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(i,o){const d=this._cachedRenderContext.context,p=d.gl;if(this._bindFramebuffer(),d.viewport.set([0,0,this._texWidth,this._texHeight]),d.clear({color:s.b7.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(d,p.TRIANGLES,Mi.disabled,Di.disabled,Wi.unblended,Oi.disabled,((b,B)=>({u_input:b,u_output_expected:B}))(i,o),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&Mn(p)){p.bindBuffer(p.PIXEL_PACK_BUFFER,this._pbo),p.readBuffer(p.COLOR_ATTACHMENT0),p.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),p.bindBuffer(p.PIXEL_PACK_BUFFER,null);const b=p.fenceSync(p.SYNC_GPU_COMMANDS_COMPLETE,0);p.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:b}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const i=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&Mn(i)){const o=i.clientWaitSync(this._readbackQueue.sync,0,0);if(o===i.WAIT_FAILED)return s.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(o===i.TIMEOUT_EXPIRED)return;i.bindBuffer(i.PIXEL_PACK_BUFFER,this._pbo),i.getBufferSubData(i.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),i.bindBuffer(i.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),i.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=el._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(i){let o=0;return o+=i[0]/256,o+=i[1]/65536,o+=i[2]/16777216,i[3]<127&&(o=-o),o/128}}const qA=s.Z/128;function WA(_,i){const o=_.granularity!==void 0?Math.max(_.granularity,1):1,d=o+(_.generateBorders?2:0),p=o+(_.extendToNorthPole||_.generateBorders?1:0)+(_.extendToSouthPole||_.generateBorders?1:0),b=d+1,B=p+1,U=_.generateBorders?-1:0,T=_.generateBorders||_.extendToNorthPole?-1:0,N=o+(_.generateBorders?1:0),Q=o+(_.generateBorders||_.extendToSouthPole?1:0),z=b*B,Z=d*p*6,W=b*B>65536;if(W&&i==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const ee=W||i==="32bit",me=new Int16Array(2*z);let pe=0;for(let Me=T;Me<=Q;Me++)for(let Re=U;Re<=N;Re++){let Fe=Re/o*s.Z;Re===-1&&(Fe=-64),Re===o+1&&(Fe=s.Z+qA);let Pe=Me/o*s.Z;Me===-1&&(Pe=_.extendToNorthPole?s.b9:-64),Me===o+1&&(Pe=_.extendToSouthPole?s.ba:s.Z+qA),me[pe++]=Fe,me[pe++]=Pe}const be=ee?new Uint32Array(Z):new Uint16Array(Z);let we=0;for(let Me=0;Me<p;Me++)for(let Re=0;Re<d;Re++){const Fe=Re+1+Me*b,Pe=Re+(Me+1)*b,Ye=Re+1+(Me+1)*b;be[we++]=Re+Me*b,be[we++]=Pe,be[we++]=Fe,be[we++]=Fe,be[we++]=Pe,be[we++]=Ye}return{vertices:me.buffer.slice(0),indices:be.buffer.slice(0),uses32bitIndices:ee}}const tl=new s.aH({fill:new s.bb(128,2),line:new s.bb(512,0),tile:new s.bb(128,32),stencil:new s.bb(128,1),circle:3});class eA{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Fi.projectionGlobe}get vertexShaderPreludeCode(){return Fi.projectionMercator.vertexSource}get subdivisionGranularity(){return tl}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(i){this._errorMeasurement||(this._errorMeasurement=new el(i));const o=s.S(this._errorQueryLatitudeDegrees),d=2*Math.atan(Math.exp(Math.PI-o*Math.PI*2))-.5*Math.PI,p=this._errorMeasurement.updateErrorLoop(o,d),b=E.now();p!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=p,this._errorMeasurementLastChangeTime=b);const B=Math.min(Math.max((b-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=s.bc(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,s.bd(B))}_getMeshKey(i){return`${i.granularity.toString(36)}_${i.generateBorders?"b":""}${i.extendToNorthPole?"n":""}${i.extendToSouthPole?"s":""}`}getMeshFromTileID(i,o,d,p,b){const B=(b==="stencil"?tl.stencil:tl.tile).getGranularityForZoomLevel(o.z);return this._getMesh(i,{granularity:B,generateBorders:d,extendToNorthPole:o.y===0&&p,extendToSouthPole:o.y===(1<<o.z)-1&&p})}_getMesh(i,o){const d=this._getMeshKey(o);if(d in this._tileMeshCache)return this._tileMeshCache[d];const p=function(b,B){const U=WA(B,"16bit"),T=s.aI.deserialize({arrayBuffer:U.vertices,length:U.vertices.byteLength/2/2}),N=s.aK.deserialize({arrayBuffer:U.indices,length:U.indices.byteLength/2/3});return new Wo(b.createVertexBuffer(T,Xn.members),b.createIndexBuffer(N),s.aJ.simpleSegment(0,0,T.length,N.length))}(i,o);return this._tileMeshCache[d]=p,p}recalculate(i){}hasTransition(){const i=E.now();let o=!1;return o=o||(i-this._errorMeasurementLastChangeTime)/1e3<.7,o=o||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,o}setErrorQueryLatitudeDegrees(i){this._errorQueryLatitudeDegrees=i}}const tA=new s.r({type:new s.D(s.v.projection.type)});class E0 extends s.E{constructor(i){super(),this._transitionable=new s.T(tA),this.setProjection(i),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new s.C(0)),this._mercatorProjection=new Ta,this._verticalPerspectiveProjection=new eA}get transitionState(){const i=this.properties.get("type");if(typeof i=="string"&&i==="mercator")return 0;if(typeof i=="string"&&i==="vertical-perspective")return 1;if(i instanceof s.be){if(i.from==="vertical-perspective"&&i.to==="mercator")return 1-i.transition;if(i.from==="mercator"&&i.to==="vertical-perspective")return i.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(i){this._mercatorProjection.updateGPUdependent(i),this._verticalPerspectiveProjection.updateGPUdependent(i)}getMeshFromTileID(i,o,d,p,b){return this.currentProjection.getMeshFromTileID(i,o,d,p,b)}setProjection(i){this._transitionable.setValue("type",(i==null?void 0:i.type)||"mercator")}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}setErrorQueryLatitudeDegrees(i){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(i),this._mercatorProjection.setErrorQueryLatitudeDegrees(i)}}function JA(_){const i=ec(_.worldSize,_.center.lat);return 2*Math.PI*i}function il(_,i,o,d,p){const b=1/(1<<p),B=i/s.Z*b+d*b,U=s.bg((_/s.Z*b+o*b)*Math.PI*2+Math.PI,2*Math.PI),T=2*Math.atan(Math.exp(Math.PI-B*Math.PI*2))-.5*Math.PI,N=Math.cos(T),Q=new Float64Array(3);return Q[0]=Math.sin(U)*N,Q[1]=Math.sin(T),Q[2]=Math.cos(U)*N,Q}function Ur(_){return function(i,o){const d=Math.cos(o),p=new Float64Array(3);return p[0]=Math.sin(i)*d,p[1]=Math.sin(o),p[2]=Math.cos(i)*d,p}(_.lng*Math.PI/180,_.lat*Math.PI/180)}function ec(_,i){return _/(2*Math.PI)/Math.cos(i*Math.PI/180)}function Vr(_){const i=Math.asin(_[1])/Math.PI*180,o=Math.sqrt(_[0]*_[0]+_[2]*_[2]);if(o>1e-6){const d=_[0]/o,p=Math.acos(_[2]/o),b=(d>0?p:-p)/Math.PI*180;return new s.Q(s.aL(b,-180,180),i)}return new s.Q(0,i)}function al(_){return Math.cos(_*Math.PI/180)}function ua(_,i){const o=al(_),d=al(i);return s.ah(d/o)}function iA(_,i){const o=_.rotate(i.bearingInRadians),d=i.zoom+ua(i.center.lat,0),p=s.bc(1/al(i.center.lat),1/al(Math.min(Math.abs(i.center.lat),60)),s.bf(d,7,3,0,1)),b=360/JA({worldSize:i.worldSize,center:{lat:i.center.lat}});return new s.Q(i.center.lng-o.x*b*p,s.ae(i.center.lat+o.y*b,-85.051129,s.af))}function tc(_){const i=.5*_,o=Math.sin(i),d=Math.cos(i);return Math.log(o+d)-Math.log(d-o)}function jh(_,i,o,d){const p=_.lat+o*d;if(Math.abs(o)>1){const b=(Math.sign(_.lat+o)!==Math.sign(_.lat)?-Math.abs(_.lat):Math.abs(_.lat))*Math.PI/180,B=Math.abs(_.lat+o)*Math.PI/180,U=tc(b+d*(B-b)),T=tc(b),N=tc(B);return new s.Q(_.lng+i*((U-T)/(N-T)),p)}return new s.Q(_.lng+i*d,p)}class rl{constructor(i){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._aabbFactory=i}recalculateCache(){if(!this._hadAnyChanges)return;const i=this._cachePrevious;this._cachePrevious=this._cache,this._cache=i,this._cache.clear(),this._hadAnyChanges=!1}getTileAABB(i,o,d,p){const b=`${i.z}_${i.x}_${i.y}`,B=this._cache.get(b);if(B)return B;const U=this._cachePrevious.get(b);if(U)return this._cache.set(b,U),U;const T=this._aabbFactory(i,o,d,p);return this._cache.set(b,T),this._hadAnyChanges=!0,T}}function ic(_,i,o){const d=_-i;return d<0?-d:Math.max(0,d-o)}function Kh(_,i,o,d,p){const b=_-o;let B;return B=b<0?Math.min(-b,1+b-p):b>1?Math.min(Math.max(b-p,0),1-b):0,Math.max(B,ic(i,d,p))}class up{constructor(){this._aabbCache=new rl(this._computeTileAABB)}recalculateCache(){this._aabbCache.recalculateCache()}distanceToTile2d(i,o,d,p){const b=1<<d.z,B=1/b,U=d.x/b,T=d.y/b;let N=2;return N=Math.min(N,Kh(i,o,U,T,B)),N=Math.min(N,Kh(i,o,U+.5,-T-B,B)),N=Math.min(N,Kh(i,o,U+.5,2-T-B,B)),N}getWrap(i,o,d){const p=1<<o.z,b=1/p,B=o.x/p,U=ic(i.x,B,b),T=ic(i.x,B-1,b),N=ic(i.x,B+1,b),Q=Math.min(U,T,N);return Q===N?1:Q===T?-1:0}allowVariableZoom(i,o){return Ge(i,o)>4}allowWorldCopies(){return!1}getTileAABB(i,o,d,p){return this._aabbCache.getTileAABB(i,o,d,p)}_computeTileAABB(i,o,d,p){if(i.z<=0)return new zs([-1,-1,-1],[1,1,1]);if(i.z===1)return new zs([i.x===0?-1:0,i.y===0?0:-1,-1],[i.x===0?0:1,i.y===0?1:0,1]);{const b=[il(0,0,i.x,i.y,i.z),il(s.Z,0,i.x,i.y,i.z),il(s.Z,s.Z,i.x,i.y,i.z),il(0,s.Z,i.x,i.y,i.z)],B=[1,1,1],U=[-1,-1,-1];for(const T of b)for(let N=0;N<3;N++)B[N]=Math.min(B[N],T[N]),U[N]=Math.max(U[N],T[N]);if(i.y===0||i.y===(1<<i.z)-1){const T=[0,i.y===0?1:-1,0];for(let N=0;N<3;N++)B[N]=Math.min(B[N],T[N]),U[N]=Math.max(U[N],T[N])}return new zs(B,U)}}}class ac{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(i){this._helper.setMinZoom(i)}setMaxZoom(i){this._helper.setMaxZoom(i)}setMinPitch(i){this._helper.setMinPitch(i)}setMaxPitch(i){this._helper.setMaxPitch(i)}setRenderWorldCopies(i){this._helper.setRenderWorldCopies(i)}setBearing(i){this._helper.setBearing(i)}setPitch(i){this._helper.setPitch(i)}setRoll(i){this._helper.setRoll(i)}setFov(i){this._helper.setFov(i)}setZoom(i){this._helper.setZoom(i)}setCenter(i){this._helper.setCenter(i)}setElevation(i){this._helper.setElevation(i)}setMinElevationForCurrentTile(i){this._helper.setMinElevationForCurrentTile(i)}setPadding(i){this._helper.setPadding(i)}interpolatePadding(i,o,d){return this._helper.interpolatePadding(i,o,d)}isPaddingEqual(i){return this._helper.isPaddingEqual(i)}resize(i,o){this._helper.resize(i,o)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(i){this._helper.setMaxBounds(i)}overrideNearFarZ(i,o){this._helper.overrideNearFarZ(i,o)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(i){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),i)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(i){}constructor(){this._cachedClippingPlane=s.bk(),this._projectionMatrix=s.b1(),this._globeViewProjMatrix32f=s.b0(),this._globeViewProjMatrixNoCorrection=s.b1(),this._globeViewProjMatrixNoCorrectionInverted=s.b1(),this._globeProjMatrixInverted=s.b1(),this._cameraPosition=s.bh(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new kr({calcMatrices:()=>{this._calcMatrices()},getConstrained:(i,o)=>this.getConstrained(i,o)}),this._coveringTilesDetailsProvider=new up}clone(){const i=new ac;return i.apply(this),i}apply(i,o){this._globeLatitudeErrorCorrectionRadians=o||0,this._helper.apply(i)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const i=s.bh();return i[0]=this._cameraPosition[0],i[1]=this._cameraPosition[1],i[2]=this._cameraPosition[2],i}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(i){const{overscaledTileID:o,applyGlobeMatrix:d}=i,p=this._helper.getMercatorTileCoordinates(o);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:p,clippingPlane:this._cachedClippingPlane,projectionTransition:d?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(i){const o=this.pitchInRadians,d=this.cameraToCenterDistance/i,p=Math.sin(o)*d,b=Math.cos(o)*d+1,B=1/Math.sqrt(p*p+b*b)*1;let U=-p,T=b;const N=Math.sqrt(U*U+T*T);U/=N,T/=N;const Q=[0,U,T];s.bl(Q,Q,[0,0,0],-this.bearingInRadians),s.bm(Q,Q,[0,0,0],-1*this.center.lat*Math.PI/180),s.bn(Q,Q,[0,0,0],this.center.lng*Math.PI/180);const z=1/s.bo(Q);return s.aO(Q,Q,z),[...Q,-B*z]}isLocationOccluded(i){return!this.isSurfacePointVisible(Ur(i))}transformLightDirection(i){const o=this._helper._center.lng*Math.PI/180,d=this._helper._center.lat*Math.PI/180,p=Math.cos(d),b=[Math.sin(o)*p,Math.sin(d),Math.cos(o)*p],B=[b[2],0,-b[0]],U=[0,0,0];s.aU(U,B,b),s.aT(B,B),s.aT(U,U);const T=[0,0,0];return s.aT(T,[B[0]*i[0]+U[0]*i[1]+b[0]*i[2],B[1]*i[0]+U[1]*i[1]+b[1]*i[2],B[2]*i[0]+U[2]*i[1]+b[2]*i[2]]),T}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(i,o,d){const p=function(U,T,N){const Q=1/(1<<N.z);return new s.$(U/s.Z*Q+N.x*Q,T/s.Z*Q+N.y*Q)}(i,o,d.canonical),b=(B=p.y,[s.bg(p.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-B*Math.PI*2))-.5*Math.PI]);var B;return this.getCircleRadiusCorrection()/Math.cos(b[1])}projectTileCoordinates(i,o,d,p){const b=d.canonical,B=il(i,o,b.x,b.y,b.z),U=1+(p?p(i,o):0)/s.bu,T=[B[0]*U,B[1]*U,B[2]*U,1];s.at(T,T,this._globeViewProjMatrixNoCorrection);const N=this._cachedClippingPlane,Q=N[0]*B[0]+N[1]*B[1]+N[2]*B[2]+N[3]<0;return{point:new s.P(T[0]/T[3],T[1]/T[3]),signedDistanceFromCamera:T[3],isOccluded:Q}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const i=ec(this.worldSize,this.center.lat),o=s.b2(),d=s.b2();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*i),s.aY(o,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const p=this.centerOffset;o[8]=2*-p.x/this._helper._width,o[9]=2*p.y/this._helper._height,this._projectionMatrix=s.aZ(o),this._globeProjMatrixInverted=s.b2(),s.an(this._globeProjMatrixInverted,o),s.L(o,o,[0,0,-this.cameraToCenterDistance]),s.a_(o,o,this.rollInRadians),s.a$(o,o,-this.pitchInRadians),s.a_(o,o,this.bearingInRadians),s.L(o,o,[0,0,-i]);const b=s.bh();b[0]=i,b[1]=i,b[2]=i,s.a$(d,o,this.center.lat*Math.PI/180),s.bp(d,d,-this.center.lng*Math.PI/180),s.M(d,d,b),this._globeViewProjMatrixNoCorrection=d,s.a$(o,o,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),s.bp(o,o,-this.center.lng*Math.PI/180),s.M(o,o,b),this._globeViewProjMatrix32f=new Float32Array(o),this._globeViewProjMatrixNoCorrectionInverted=s.b2(),s.an(this._globeViewProjMatrixNoCorrectionInverted,d);const B=s.bh();this._cameraPosition=s.bh(),this._cameraPosition[2]=this.cameraToCenterDistance/i,s.bl(this._cameraPosition,this._cameraPosition,B,-this.rollInRadians),s.bm(this._cameraPosition,this._cameraPosition,B,this.pitchInRadians),s.bl(this._cameraPosition,this._cameraPosition,B,-this.bearingInRadians),s.aP(this._cameraPosition,this._cameraPosition,[0,0,1]),s.bm(this._cameraPosition,this._cameraPosition,B,-this.center.lat*Math.PI/180),s.bn(this._cameraPosition,this._cameraPosition,B,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(i);const U=s.aZ(this._globeViewProjMatrixNoCorrectionInverted);s.M(U,U,[1,1,-1]),this._cachedFrustum=Sa.fromInvProjectionMatrix(U)}calculateFogMatrix(i){s.w("calculateFogMatrix is not supported on globe projection.");const o=s.b2();return s.ad(o),o}getVisibleUnwrappedCoordinates(i){return[new s.aW(0,i)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(i){i&&s.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(i,o){if(!this._globeViewProjMatrixNoCorrection)return 1;const d=Ur(i);s.aO(d,d,1+o/s.bu);const p=s.bk();return s.at(p,[d[0],d[1],d[2],1],this._globeViewProjMatrixNoCorrection),p[2]/p[3]}populateCache(i){}getBounds(){const i=.5*this.width,o=.5*this.height,d=[new s.P(0,0),new s.P(i,0),new s.P(this.width,0),new s.P(this.width,o),new s.P(this.width,this.height),new s.P(i,this.height),new s.P(0,this.height),new s.P(0,o)],p=[];for(const z of d)p.push(this.unprojectScreenPoint(z));let b=0,B=0,U=0,T=0;const N=this.center;for(const z of p){const Z=s.bq(N.lng,z.lng),W=s.bq(N.lat,z.lat);Z<B&&(B=Z),Z>b&&(b=Z),W<T&&(T=W),W>U&&(U=W)}const Q=[N.lng+B,N.lat+T,N.lng+b,N.lat+U];return this.isSurfacePointOnScreen([0,1,0])&&(Q[3]=90,Q[0]=-180,Q[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(Q[1]=-90,Q[0]=-180,Q[2]=180),new Nt(Q)}getConstrained(i,o){const d=s.ae(i.lat,-85.051129,s.af),p=s.ae(+o,this.minZoom+ua(0,d),this.maxZoom);return{center:new s.Q(i.lng,d),zoom:p}}calculateCenterFromCameraLngLatAlt(i,o,d,p){return this._helper.calculateCenterFromCameraLngLatAlt(i,o,d,p)}setLocationAtPoint(i,o){const d=Ur(this.unprojectScreenPoint(o)),p=Ur(i),b=s.bh();s.br(b);const B=s.bh();s.bn(B,d,b,-this.center.lng*Math.PI/180),s.bm(B,B,b,this.center.lat*Math.PI/180);const U=p[0]*p[0]+p[2]*p[2],T=B[0]*B[0];if(U<T)return;const N=Math.sqrt(U-T),Q=-N,z=s.bs(p[0],p[2],B[0],N),Z=s.bs(p[0],p[2],B[0],Q),W=s.bh();s.bn(W,p,b,-z);const ee=s.bs(W[1],W[2],B[1],B[2]),me=s.bh();s.bn(me,p,b,-Z);const pe=s.bs(me[1],me[2],B[1],B[2]),be=.5*Math.PI,we=ee>=-be&&ee<=be,Me=pe>=-be&&pe<=be;let Re,Fe;if(we&&Me){const We=this.center.lng*Math.PI/180,ct=this.center.lat*Math.PI/180;s.bv(z,We)+s.bv(ee,ct)<s.bv(Z,We)+s.bv(pe,ct)?(Re=z,Fe=ee):(Re=Z,Fe=pe)}else if(we)Re=z,Fe=ee;else{if(!Me)return;Re=Z,Fe=pe}const Pe=Re/Math.PI*180,Ye=Fe/Math.PI*180,Ke=this.center.lat;this.setCenter(new s.Q(Pe,s.ae(Ye,-90,90))),this.setZoom(this.zoom+ua(Ke,this.center.lat))}locationToScreenPoint(i,o){const d=Ur(i);if(o){const p=o.getElevationForLngLatZoom(i,this._helper._tileZoom);s.aO(d,d,1+p/s.bu)}return this._projectSurfacePointToScreen(d)}_projectSurfacePointToScreen(i){const o=s.bk();return s.at(o,[...i,1],this._globeViewProjMatrixNoCorrection),o[0]/=o[3],o[1]/=o[3],new s.P((.5*o[0]+.5)*this.width,(.5*-o[1]+.5)*this.height)}screenPointToMercatorCoordinate(i,o){if(o){const d=o.pointCoordinate(i);if(d)return d}return s.$.fromLngLat(this.unprojectScreenPoint(i))}screenPointToLocation(i,o){var d;return(d=this.screenPointToMercatorCoordinate(i,o))===null||d===void 0?void 0:d.toLngLat()}isPointOnMapSurface(i,o){const d=this._cameraPosition,p=this.getRayDirectionFromPixel(i);return!!this.rayPlanetIntersection(d,p)}getRayDirectionFromPixel(i){const o=s.bk();o[0]=i.x/this.width*2-1,o[1]=-1*(i.y/this.height*2-1),o[2]=1,o[3]=1,s.at(o,o,this._globeViewProjMatrixNoCorrectionInverted),o[0]/=o[3],o[1]/=o[3],o[2]/=o[3];const d=s.bh();d[0]=o[0]-this._cameraPosition[0],d[1]=o[1]-this._cameraPosition[1],d[2]=o[2]-this._cameraPosition[2];const p=s.bh();return s.aT(p,d),p}isSurfacePointVisible(i){const o=this._cachedClippingPlane;return o[0]*i[0]+o[1]*i[1]+o[2]*i[2]+o[3]>=0}isSurfacePointOnScreen(i){if(!this.isSurfacePointVisible(i))return!1;const o=s.bk();return s.at(o,[...i,1],this._globeViewProjMatrixNoCorrection),o[0]/=o[3],o[1]/=o[3],o[2]/=o[3],o[0]>-1&&o[0]<1&&o[1]>-1&&o[1]<1&&o[2]>-1&&o[2]<1}rayPlanetIntersection(i,o){const d=s.aV(i,o),p=s.bh(),b=s.bh();s.aO(b,o,d),s.aS(p,i,b);const B=1-s.aV(p,p);if(B<0)return null;const U=s.aV(i,i)-1,T=-d+(d<0?1:-1)*Math.sqrt(B),N=U/T,Q=T;return{tMin:Math.min(N,Q),tMax:Math.max(N,Q)}}unprojectScreenPoint(i){const o=this._cameraPosition,d=this.getRayDirectionFromPixel(i),p=this.rayPlanetIntersection(o,d);if(p){const Q=s.bh();s.aP(Q,o,[d[0]*p.tMin,d[1]*p.tMin,d[2]*p.tMin]);const z=s.bh();return s.aT(z,Q),Vr(z)}const b=this._cachedClippingPlane,B=b[0]*d[0]+b[1]*d[1]+b[2]*d[2],U=-s.bt(b,o)/B,T=s.bh();if(U>0)s.aP(T,o,[d[0]*U,d[1]*U,d[2]*U]);else{const Q=s.bh();s.aP(Q,o,[2*d[0],2*d[1],2*d[2]]);const z=s.bt(this._cachedClippingPlane,Q);s.aS(T,Q,[this._cachedClippingPlane[0]*z,this._cachedClippingPlane[1]*z,this._cachedClippingPlane[2]*z])}const N=function(Q){const z=s.bh();return z[0]=Q[0]*-Q[3],z[1]=Q[1]*-Q[3],z[2]=Q[2]*-Q[3],{center:z,radius:Math.sqrt(1-Q[3]*Q[3])}}(b);return Vr(function(Q,z,Z){const W=s.bh();s.aS(W,Z,Q);const ee=s.bh();return s.bi(ee,Q,W,z/s.bj(W)),ee}(N.center,N.radius,T))}getMatrixForModel(i,o){const d=s.Q.convert(i),p=1/s.bu,b=s.b1();return s.bp(b,b,d.lng/180*Math.PI),s.a$(b,b,-d.lat/180*Math.PI),s.L(b,b,[0,0,1+o/s.bu]),s.a$(b,b,.5*Math.PI),s.M(b,b,[p,p,p]),b}getProjectionDataForCustomLayer(i=!0){const o=this.getProjectionData({overscaledTileID:new s.Y(0,0,0,0,0),applyGlobeMatrix:i});return o.tileMercatorCoords=[0,0,1,1],o}getFastPathSimpleProjectionMatrix(i){}}class rc{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(i){this._helper.setMinZoom(i)}setMaxZoom(i){this._helper.setMaxZoom(i)}setMinPitch(i){this._helper.setMinPitch(i)}setMaxPitch(i){this._helper.setMaxPitch(i)}setRenderWorldCopies(i){this._helper.setRenderWorldCopies(i)}setBearing(i){this._helper.setBearing(i)}setPitch(i){this._helper.setPitch(i)}setRoll(i){this._helper.setRoll(i)}setFov(i){this._helper.setFov(i)}setZoom(i){this._helper.setZoom(i)}setCenter(i){this._helper.setCenter(i)}setElevation(i){this._helper.setElevation(i)}setMinElevationForCurrentTile(i){this._helper.setMinElevationForCurrentTile(i)}setPadding(i){this._helper.setPadding(i)}interpolatePadding(i,o,d){return this._helper.interpolatePadding(i,o,d)}isPaddingEqual(i){return this._helper.isPaddingEqual(i)}resize(i,o,d=!0){this._helper.resize(i,o,d)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(i){this._helper.setMaxBounds(i)}overrideNearFarZ(i,o){this._helper.overrideNearFarZ(i,o)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(i){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),i)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(i,o){this._globeness=i,this._globeLatitudeErrorCorrectionRadians=o,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().recalculateCache(),this._mercatorTransform.getCoveringTilesDetailsProvider().recalculateCache()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new kr({calcMatrices:()=>{this._calcMatrices()},getConstrained:(i,o)=>this.getConstrained(i,o)}),this._globeness=1,this._mercatorTransform=new Vn,this._verticalPerspectiveTransform=new ac}clone(){const i=new rc;return i._globeness=this._globeness,i._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,i.apply(this),i}apply(i){this._helper.apply(i),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(i){const o=this._mercatorTransform.getProjectionData(i),d=this._verticalPerspectiveTransform.getProjectionData(i);return{mainMatrix:this.isGlobeRendering?d.mainMatrix:o.mainMatrix,clippingPlane:d.clippingPlane,tileMercatorCoords:d.tileMercatorCoords,projectionTransition:i.applyGlobeMatrix?this._globeness:0,fallbackMatrix:o.fallbackMatrix}}isLocationOccluded(i){return this.currentTransform.isLocationOccluded(i)}transformLightDirection(i){return this.currentTransform.transformLightDirection(i)}getPixelScale(){return s.bc(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return s.bc(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(i,o,d){const p=this._mercatorTransform.getPitchedTextCorrection(i,o,d),b=this._verticalPerspectiveTransform.getPitchedTextCorrection(i,o,d);return s.bc(p,b,this._globeness)}projectTileCoordinates(i,o,d,p){return this.currentTransform.projectTileCoordinates(i,o,d,p)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(i){return this.currentTransform.calculateFogMatrix(i)}getVisibleUnwrappedCoordinates(i){return this.currentTransform.getVisibleUnwrappedCoordinates(i)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(i){this._mercatorTransform.recalculateZoomAndCenter(i),this._verticalPerspectiveTransform.recalculateZoomAndCenter(i)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(i,o){return this.currentTransform.lngLatToCameraDepth(i,o)}populateCache(i){this._mercatorTransform.populateCache(i),this._verticalPerspectiveTransform.populateCache(i)}getBounds(){return this.currentTransform.getBounds()}getConstrained(i,o){return this.currentTransform.getConstrained(i,o)}calculateCenterFromCameraLngLatAlt(i,o,d,p){return this._helper.calculateCenterFromCameraLngLatAlt(i,o,d,p)}setLocationAtPoint(i,o){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(i,o),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(i,o),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(i,o){return this.currentTransform.locationToScreenPoint(i,o)}screenPointToMercatorCoordinate(i,o){return this.currentTransform.screenPointToMercatorCoordinate(i,o)}screenPointToLocation(i,o){return this.currentTransform.screenPointToLocation(i,o)}isPointOnMapSurface(i,o){return this.currentTransform.isPointOnMapSurface(i,o)}getRayDirectionFromPixel(i){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(i)}getMatrixForModel(i,o){return this.currentTransform.getMatrixForModel(i,o)}getProjectionDataForCustomLayer(i=!0){const o=this._mercatorTransform.getProjectionDataForCustomLayer(i);if(!this.isGlobeRendering)return o;const d=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(i);return d.fallbackMatrix=o.mainMatrix,d}getFastPathSimpleProjectionMatrix(i){return this.currentTransform.getFastPathSimpleProjectionMatrix(i)}}class Rn{get useGlobeControls(){return!0}handlePanInertia(i,o){const d=iA(i,o);return Math.abs(d.lng-o.center.lng)>180&&(d.lng=o.center.lng+179.5*Math.sign(d.lng-o.center.lng)),{easingCenter:d,easingOffset:new s.P(0,0)}}handleMapControlsRollPitchBearingZoom(i,o){const d=i.around,p=o.screenPointToLocation(d);i.bearingDelta&&o.setBearing(o.bearing+i.bearingDelta),i.pitchDelta&&o.setPitch(o.pitch+i.pitchDelta),i.rollDelta&&o.setRoll(o.roll+i.rollDelta);const b=o.zoom;i.zoomDelta&&o.setZoom(o.zoom+i.zoomDelta);const B=o.zoom-b;if(B===0)return;const U=s.bq(o.center.lng,p.lng),T=U/(Math.abs(U/180)+1),N=s.bq(o.center.lat,p.lat),Q=o.getRayDirectionFromPixel(d),z=o.cameraPosition,Z=-1*s.aV(z,Q),W=s.bh();s.aP(W,z,[Q[0]*Z,Q[1]*Z,Q[2]*Z]);const ee=s.bo(W)-1,me=Math.exp(.5*-Math.max(ee-.3,0)),pe=ec(o.worldSize,o.center.lat)/Math.min(o.width,o.height),be=s.bf(pe,.9,.5,1,.25),we=(1-s.ac(-B))*Math.min(me,be),Me=o.center.lat,Re=o.zoom,Fe=new s.Q(o.center.lng+T*we,s.ae(o.center.lat+N*we,-85.051129,s.af));o.setLocationAtPoint(p,d);const Pe=o.center,Ye=s.bf(Math.abs(U),45,85,0,1),Ke=s.bf(pe,.75,.35,0,1),We=Math.pow(Math.max(Ye,Ke),.25),ct=s.bq(Pe.lng,Fe.lng),dt=s.bq(Pe.lat,Fe.lat);o.setCenter(new s.Q(Pe.lng+ct*We,Pe.lat+dt*We).wrap()),o.setZoom(Re+ua(Me,o.center.lat))}handleMapControlsPan(i,o,d){if(!i.panDelta)return;const p=o.center.lat,b=o.zoom;o.setCenter(iA(i.panDelta,o).wrap()),o.setZoom(b+ua(p,o.center.lat))}cameraForBoxAndBearing(i,o,d,p,b){const B=gn(i,o,d,p,b),U=o.left/b.width*2-1,T=(b.width-o.right)/b.width*2-1,N=o.top/b.height*-2+1,Q=(b.height-o.bottom)/b.height*-2+1,z=s.bq(d.getWest(),d.getEast())<0,Z=z?d.getEast():d.getWest(),W=z?d.getWest():d.getEast(),ee=Math.max(d.getNorth(),d.getSouth()),me=Math.min(d.getNorth(),d.getSouth()),pe=Z+.5*s.bq(Z,W),be=ee+.5*s.bq(ee,me),we=b.clone();we.setCenter(B.center),we.setBearing(B.bearing),we.setPitch(0),we.setRoll(0),we.setZoom(B.zoom);const Me=we.modelViewProjectionMatrix,Re=[Ur(d.getNorthWest()),Ur(d.getNorthEast()),Ur(d.getSouthWest()),Ur(d.getSouthEast()),Ur(new s.Q(W,be)),Ur(new s.Q(Z,be)),Ur(new s.Q(pe,ee)),Ur(new s.Q(pe,me))],Fe=Ur(B.center);let Pe=Number.POSITIVE_INFINITY;for(const Ye of Re)U<0&&(Pe=Rn.getLesserNonNegativeNonNull(Pe,Rn.solveVectorScale(Ye,Fe,Me,"x",U))),T>0&&(Pe=Rn.getLesserNonNegativeNonNull(Pe,Rn.solveVectorScale(Ye,Fe,Me,"x",T))),N>0&&(Pe=Rn.getLesserNonNegativeNonNull(Pe,Rn.solveVectorScale(Ye,Fe,Me,"y",N))),Q<0&&(Pe=Rn.getLesserNonNegativeNonNull(Pe,Rn.solveVectorScale(Ye,Fe,Me,"y",Q)));if(Number.isFinite(Pe)&&Pe!==0)return B.zoom=we.zoom+s.ah(Pe),B;Zs()}handleJumpToCenterZoom(i,o){const d=i.center.lat,p=i.getConstrained(o.center?s.Q.convert(o.center):i.center,i.zoom).center;i.setCenter(p.wrap());const b=o.zoom!==void 0?+o.zoom:i.zoom+ua(d,p.lat);i.zoom!==b&&i.setZoom(b)}handleEaseTo(i,o){const d=i.zoom,p=i.center,b=i.padding,B={roll:i.roll,pitch:i.pitch,bearing:i.bearing},U={roll:o.roll===void 0?i.roll:o.roll,pitch:o.pitch===void 0?i.pitch:o.pitch,bearing:o.bearing===void 0?i.bearing:o.bearing},T=o.zoom!==void 0,N=!i.isPaddingEqual(o.padding);let Q=!1;const z=o.center?s.Q.convert(o.center):p,Z=i.getConstrained(z,d).center;_r(i,Z);const W=i.clone();W.setCenter(Z),W.setZoom(T?+o.zoom:d+ua(p.lat,z.lat)),W.setBearing(o.bearing);const ee=new s.P(s.ae(i.centerPoint.x+o.offsetAsPoint.x,0,i.width),s.ae(i.centerPoint.y+o.offsetAsPoint.y,0,i.height));W.setLocationAtPoint(Z,ee);const me=(o.offset&&o.offsetAsPoint.mag())>0?W.center:Z,pe=T?+o.zoom:d+ua(p.lat,me.lat),be=d+ua(p.lat,0),we=pe+ua(me.lat,0),Me=s.bq(p.lng,me.lng),Re=s.bq(p.lat,me.lat),Fe=s.ac(we-be);return Q=pe!==d,{easeFunc:Pe=>{if(s.b6(B,U)||ql({startEulerAngles:B,endEulerAngles:U,tr:i,k:Pe,useSlerp:B.roll!=U.roll}),N&&i.interpolatePadding(b,o.padding,Pe),o.around)s.w("Easing around a point is not supported under globe projection."),i.setLocationAtPoint(o.around,o.aroundPoint);else{const Ye=we>be?Math.min(2,Fe):Math.max(.5,Fe),Ke=Math.pow(Ye,1-Pe),We=jh(p,Me,Re,Pe*Ke);i.setCenter(We.wrap())}if(Q){const Ye=s.B.number(be,we,Pe)+ua(0,i.center.lat);i.setZoom(Ye)}},isZooming:Q,elevationCenter:me}}handleFlyTo(i,o){const d=o.zoom!==void 0,p=i.center,b=i.zoom,B=i.padding,U=!i.isPaddingEqual(o.padding),T=i.getConstrained(s.Q.convert(o.center||o.locationAtOffset),b).center,N=d?+o.zoom:i.zoom+ua(i.center.lat,T.lat),Q=i.clone();Q.setCenter(T),Q.setZoom(N),Q.setBearing(o.bearing);const z=new s.P(s.ae(i.centerPoint.x+o.offsetAsPoint.x,0,i.width),s.ae(i.centerPoint.y+o.offsetAsPoint.y,0,i.height));Q.setLocationAtPoint(T,z);const Z=Q.center;_r(i,Z);const W=function(Re,Fe,Pe){const Ye=Ur(Fe),Ke=Ur(Pe),We=s.aV(Ye,Ke),ct=Math.acos(We),dt=JA(Re);return ct/(2*Math.PI)*dt}(i,p,Z),ee=b+ua(p.lat,0),me=N+ua(Z.lat,0),pe=s.ac(me-ee);let be;if(typeof o.minZoom=="number"){const Re=+o.minZoom+ua(Z.lat,0),Fe=Math.min(Re,ee,me)+ua(0,Z.lat),Pe=i.getConstrained(Z,Fe).zoom+ua(Z.lat,0);be=s.ac(Pe-ee)}const we=s.bq(p.lng,Z.lng),Me=s.bq(p.lat,Z.lat);return{easeFunc:(Re,Fe,Pe,Ye)=>{const Ke=jh(p,we,Me,Pe);U&&i.interpolatePadding(B,o.padding,Re);const We=Re===1?Z:Ke;i.setCenter(We.wrap());const ct=ee+s.ah(Fe);i.setZoom(Re===1?N:ct+ua(0,We.lat))},scaleOfZoom:pe,targetCenter:Z,scaleOfMinZoom:be,pixelPathLength:W}}static solveVectorScale(i,o,d,p,b){const B=p==="x"?[d[0],d[4],d[8],d[12]]:[d[1],d[5],d[9],d[13]],U=[d[3],d[7],d[11],d[15]],T=i[0]*B[0]+i[1]*B[1]+i[2]*B[2],N=i[0]*U[0]+i[1]*U[1]+i[2]*U[2],Q=o[0]*B[0]+o[1]*B[1]+o[2]*B[2],z=o[0]*U[0]+o[1]*U[1]+o[2]*U[2];return Q+b*N===T+b*z||U[3]*(T-Q)+B[3]*(z-N)+T*z==Q*N?null:(Q+B[3]-b*z-b*U[3])/(Q-T-b*z+b*N)}static getLesserNonNegativeNonNull(i,o){return o!==null&&o>=0&&o<i?o:i}}class aA{constructor(i){this._globe=i,this._mercatorCameraHelper=new Wl,this._verticalPerspectiveCameraHelper=new Rn}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(i,o){return this.currentHelper.handlePanInertia(i,o)}handleMapControlsRollPitchBearingZoom(i,o){return this.currentHelper.handleMapControlsRollPitchBearingZoom(i,o)}handleMapControlsPan(i,o,d){this.currentHelper.handleMapControlsPan(i,o,d)}cameraForBoxAndBearing(i,o,d,p,b){return this.currentHelper.cameraForBoxAndBearing(i,o,d,p,b)}handleJumpToCenterZoom(i,o){this.currentHelper.handleJumpToCenterZoom(i,o)}handleEaseTo(i,o){return this.currentHelper.handleEaseTo(i,o)}handleFlyTo(i,o){return this.currentHelper.handleFlyTo(i,o)}}const nl=(_,i)=>s.x(_,i&&i.filter(o=>o.identifier!=="source.canvas")),nc=s.bw();class rA extends s.E{constructor(i,o={}){super(),this._rtlPluginLoaded=()=>{for(const d in this.sourceCaches){const p=this.sourceCaches[d].getSource().type;p!=="vector"&&p!=="geojson"||this.sourceCaches[d].reload()}},this.map=i,this.dispatcher=new Bt(rt(),i._getMapId()),this.dispatcher.registerMessageHandler("GG",(d,p)=>this.getGlyphs(d,p)),this.dispatcher.registerMessageHandler("GI",(d,p)=>this.getImages(d,p)),this.imageManager=new ge,this.imageManager.setEventedParent(this),this.glyphManager=new He(i._requestManager,o.localIdeographFontFamily),this.lineAtlas=new Yt(256,512),this.crossTileSymbolIndex=new fs,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.bx,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",s.by()),ha().on(ea,this._rtlPluginLoaded),this.on("data",d=>{if(d.dataType!=="source"||d.sourceDataType!=="metadata")return;const p=this.sourceCaches[d.sourceId];if(!p)return;const b=p.getSource();if(b&&b.vectorLayerIds)for(const B in this._layers){const U=this._layers[B];U.source===b.id&&this._validateLayer(U)}})}loadURL(i,o={},d){this.fire(new s.l("dataloading",{dataType:"style"})),o.validate=typeof o.validate!="boolean"||o.validate;const p=this.map._requestManager.transformRequest(i,"Style");this._loadStyleRequest=new AbortController;const b=this._loadStyleRequest;s.j(p,this._loadStyleRequest).then(B=>{this._loadStyleRequest=null,this._load(B.data,o,d)}).catch(B=>{this._loadStyleRequest=null,B&&!b.signal.aborted&&this.fire(new s.k(B))})}loadJSON(i,o={},d){this.fire(new s.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,E.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,o.validate=o.validate!==!1,this._load(i,o,d)}).catch(()=>{})}loadEmpty(){this.fire(new s.l("dataloading",{dataType:"style"})),this._load(nc,{validate:!1})}_load(i,o,d){var p,b;const B=o.transformStyle?o.transformStyle(d,i):i;if(!o.validate||!nl(this,s.y(B))){this._loaded=!0,this.stylesheet=B;for(const U in B.sources)this.addSource(U,B.sources[U],{validate:!1});B.sprite?this._loadSprite(B.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(B.glyphs),this._createLayers(),this.light=new Je(this.stylesheet.light),this._setProjectionInternal(((p=this.stylesheet.projection)===null||p===void 0?void 0:p.type)||"mercator"),this.sky=new Rt(this.stylesheet.sky),this.map.setTerrain((b=this.stylesheet.terrain)!==null&&b!==void 0?b:null),this.fire(new s.l("data",{dataType:"style"})),this.fire(new s.l("style.load"))}}_createLayers(){const i=s.bz(this.stylesheet.layers);this.dispatcher.broadcast("SL",i),this._order=i.map(o=>o.id),this._layers={},this._serializedLayers=null;for(const o of i){const d=s.bA(o);d.setEventedParent(this,{layer:{id:o.id}}),this._layers[o.id]=d}}_loadSprite(i,o=!1,d=void 0){let p;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(b,B,U,T){return s._(this,void 0,void 0,function*(){const N=se(b),Q=U>1?"@2x":"",z={},Z={};for(const{id:W,url:ee}of N){const me=B.transformRequest(ae(ee,Q,".json"),"SpriteJSON");z[W]=s.j(me,T);const pe=B.transformRequest(ae(ee,Q,".png"),"SpriteImage");Z[W]=ce.getImage(pe,T)}return yield Promise.all([...Object.values(z),...Object.values(Z)]),function(W,ee){return s._(this,void 0,void 0,function*(){const me={};for(const pe in W){me[pe]={};const be=E.getImageCanvasContext((yield ee[pe]).data),we=(yield W[pe]).data;for(const Me in we){const{width:Re,height:Fe,x:Pe,y:Ye,sdf:Ke,pixelRatio:We,stretchX:ct,stretchY:dt,content:At,textFitWidth:Lt,textFitHeight:Ut}=we[Me];me[pe][Me]={data:null,pixelRatio:We,sdf:Ke,stretchX:ct,stretchY:dt,content:At,textFitWidth:Lt,textFitHeight:Ut,spriteData:{width:Re,height:Fe,x:Pe,y:Ye,context:be}}}}return me})}(z,Z)})}(i,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(b=>{if(this._spriteRequest=null,b)for(const B in b){this._spritesImagesIds[B]=[];const U=this._spritesImagesIds[B]?this._spritesImagesIds[B].filter(T=>!(T in b)):[];for(const T of U)this.imageManager.removeImage(T),this._changedImages[T]=!0;for(const T in b[B]){const N=B==="default"?T:`${B}:${T}`;this._spritesImagesIds[B].push(N),N in this.imageManager.images?this.imageManager.updateImage(N,b[B][T],!1):this.imageManager.addImage(N,b[B][T]),o&&(this._changedImages[N]=!0)}}}).catch(b=>{this._spriteRequest=null,p=b,this.fire(new s.k(p))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),o&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"})),d&&d(p)})}_unloadSprite(){for(const i of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(i),this._changedImages[i]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}_validateLayer(i){const o=this.sourceCaches[i.source];if(!o)return;const d=i.sourceLayer;if(!d)return;const p=o.getSource();(p.type==="geojson"||p.vectorLayerIds&&p.vectorLayerIds.indexOf(d)===-1)&&this.fire(new s.k(new Error(`Source layer "${d}" does not exist on source "${p.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(i,o=!1){const d=this._serializedAllLayers();if(!i||i.length===0)return Object.values(o?s.bB(d):d);const p=[];for(const b of i)if(d[b]){const B=o?s.bB(d[b]):d[b];p.push(B)}return p}_serializedAllLayers(){let i=this._serializedLayers;if(i)return i;i=this._serializedLayers={};const o=Object.keys(this._layers);for(const d of o){const p=this._layers[d];p.type!=="custom"&&(i[d]=p.serialize())}return i}hasTransitions(){var i,o,d;if(!((i=this.light)===null||i===void 0)&&i.hasTransition()||!((o=this.sky)===null||o===void 0)&&o.hasTransition()||!((d=this.projection)===null||d===void 0)&&d.hasTransition())return!0;for(const p in this.sourceCaches)if(this.sourceCaches[p].hasTransition())return!0;for(const p in this._layers)if(this._layers[p].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const o=this._changed;if(o){const p=Object.keys(this._updatedLayers),b=Object.keys(this._removedLayers);(p.length||b.length)&&this._updateWorkerLayers(p,b);for(const B in this._updatedSources){const U=this._updatedSources[B];if(U==="reload")this._reloadSource(B);else{if(U!=="clear")throw new Error(`Invalid action ${U}`);this._clearSource(B)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const B in this._updatedPaintProps)this._layers[B].updateTransitions(i);this.light.updateTransitions(i),this.sky.updateTransitions(i),this._resetUpdates()}const d={};for(const p in this.sourceCaches){const b=this.sourceCaches[p];d[p]=b.used,b.used=!1}for(const p of this._order){const b=this._layers[p];b.recalculate(i,this._availableImages),!b.isHidden(i.zoom)&&b.source&&(this.sourceCaches[b.source].used=!0)}for(const p in d){const b=this.sourceCaches[p];!!d[p]!=!!b.used&&b.fire(new s.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:p}))}this.light.recalculate(i),this.sky.recalculate(i),this.projection.recalculate(i),this.z=i.zoom,o&&this.fire(new s.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const o in this.sourceCaches)this.sourceCaches[o].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(i,o){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(i,!1),removedIds:o})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(i,o={}){var d;this._checkLoaded();const p=this.serialize();if(i=o.transformStyle?o.transformStyle(p,i):i,((d=o.validate)===null||d===void 0||d)&&nl(this,s.y(i)))return!1;(i=s.bB(i)).layers=s.bz(i.layers);const b=s.bC(p,i),B=this._getOperationsToPerform(b);if(B.unimplemented.length>0)throw new Error(`Unimplemented: ${B.unimplemented.join(", ")}.`);if(B.operations.length===0)return!1;for(const U of B.operations)U();return this.stylesheet=i,this._serializedLayers=null,!0}_getOperationsToPerform(i){const o=[],d=[];for(const p of i)switch(p.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":o.push(()=>this.addLayer.apply(this,p.args));break;case"removeLayer":o.push(()=>this.removeLayer.apply(this,p.args));break;case"setPaintProperty":o.push(()=>this.setPaintProperty.apply(this,p.args));break;case"setLayoutProperty":o.push(()=>this.setLayoutProperty.apply(this,p.args));break;case"setFilter":o.push(()=>this.setFilter.apply(this,p.args));break;case"addSource":o.push(()=>this.addSource.apply(this,p.args));break;case"removeSource":o.push(()=>this.removeSource.apply(this,p.args));break;case"setLayerZoomRange":o.push(()=>this.setLayerZoomRange.apply(this,p.args));break;case"setLight":o.push(()=>this.setLight.apply(this,p.args));break;case"setGeoJSONSourceData":o.push(()=>this.setGeoJSONSourceData.apply(this,p.args));break;case"setGlyphs":o.push(()=>this.setGlyphs.apply(this,p.args));break;case"setSprite":o.push(()=>this.setSprite.apply(this,p.args));break;case"setTerrain":o.push(()=>this.map.setTerrain.apply(this,p.args));break;case"setSky":o.push(()=>this.setSky.apply(this,p.args));break;case"setProjection":this.setProjection.apply(this,p.args);break;case"setTransition":o.push(()=>{});break;default:d.push(p.command)}return{operations:o,unimplemented:d}}addImage(i,o){if(this.getImage(i))return this.fire(new s.k(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,o),this._afterImageUpdated(i)}updateImage(i,o){this.imageManager.updateImage(i,o)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new s.k(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,o,d={}){if(this._checkLoaded(),this.sourceCaches[i]!==void 0)throw new Error(`Source "${i}" already exists.`);if(!o.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(o).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(o.type)>=0&&this._validate(s.y.source,`sources.${i}`,o,null,d))return;this.map&&this.map._collectResourceTiming&&(o.collectResourceTiming=!0);const p=this.sourceCaches[i]=new et(i,o,this.dispatcher);p.style=this,p.setEventedParent(this,()=>({isSourceLoaded:p.loaded(),source:p.serialize(),sourceId:i})),p.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error("There is no source with this ID");for(const d in this._layers)if(this._layers[d].source===i)return this.fire(new s.k(new Error(`Source "${i}" cannot be removed while layer "${d}" is using it.`)));const o=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],o.fire(new s.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),o.setEventedParent(null),o.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,o){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error(`There is no source with this ID=${i}`);const d=this.sourceCaches[i].getSource();if(d.type!=="geojson")throw new Error(`geojsonSource.type is ${d.type}, which is !== 'geojson`);d.setData(o),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,o,d={}){this._checkLoaded();const p=i.id;if(this.getLayer(p))return void this.fire(new s.k(new Error(`Layer "${p}" already exists on this map.`)));let b;if(i.type==="custom"){if(nl(this,s.bD(i)))return;b=s.bA(i)}else{if("source"in i&&typeof i.source=="object"&&(this.addSource(p,i.source),i=s.bB(i),i=s.e(i,{source:p})),this._validate(s.y.layer,`layers.${p}`,i,{arrayIndex:-1},d))return;b=s.bA(i),this._validateLayer(b),b.setEventedParent(this,{layer:{id:p}})}const B=o?this._order.indexOf(o):this._order.length;if(o&&B===-1)this.fire(new s.k(new Error(`Cannot add layer "${p}" before non-existing layer "${o}".`)));else{if(this._order.splice(B,0,p),this._layerOrderChanged=!0,this._layers[p]=b,this._removedLayers[p]&&b.source&&b.type!=="custom"){const U=this._removedLayers[p];delete this._removedLayers[p],U.type!==b.type?this._updatedSources[b.source]="clear":(this._updatedSources[b.source]="reload",this.sourceCaches[b.source].pause())}this._updateLayer(b),b.onAdd&&b.onAdd(this.map)}}moveLayer(i,o){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new s.k(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===o)return;const d=this._order.indexOf(i);this._order.splice(d,1);const p=o?this._order.indexOf(o):this._order.length;o&&p===-1?this.fire(new s.k(new Error(`Cannot move layer "${i}" before non-existing layer "${o}".`))):(this._order.splice(p,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const o=this._layers[i];if(!o)return void this.fire(new s.k(new Error(`Cannot remove non-existing layer "${i}".`)));o.setEventedParent(null);const d=this._order.indexOf(i);this._order.splice(d,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=o,delete this._layers[i],this._serializedLayers&&delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],o.onRemove&&o.onRemove(this.map)}getLayer(i){return this._layers[i]}getLayersOrder(){return[...this._order]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,o,d){this._checkLoaded();const p=this.getLayer(i);p?p.minzoom===o&&p.maxzoom===d||(o!=null&&(p.minzoom=o),d!=null&&(p.maxzoom=d),this._updateLayer(p)):this.fire(new s.k(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,o,d={}){this._checkLoaded();const p=this.getLayer(i);if(p){if(!s.bE(p.filter,o))return o==null?(p.filter=void 0,void this._updateLayer(p)):void(this._validate(s.y.filter,`layers.${p.id}.filter`,o,null,d)||(p.filter=s.bB(o),this._updateLayer(p)))}else this.fire(new s.k(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return s.bB(this.getLayer(i).filter)}setLayoutProperty(i,o,d,p={}){this._checkLoaded();const b=this.getLayer(i);b?s.bE(b.getLayoutProperty(o),d)||(b.setLayoutProperty(o,d,p),this._updateLayer(b)):this.fire(new s.k(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,o){const d=this.getLayer(i);if(d)return d.getLayoutProperty(o);this.fire(new s.k(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,o,d,p={}){this._checkLoaded();const b=this.getLayer(i);b?s.bE(b.getPaintProperty(o),d)||(b.setPaintProperty(o,d,p)&&this._updateLayer(b),this._changed=!0,this._updatedPaintProps[i]=!0,this._serializedLayers=null):this.fire(new s.k(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,o){return this.getLayer(i).getPaintProperty(o)}setFeatureState(i,o){this._checkLoaded();const d=i.source,p=i.sourceLayer,b=this.sourceCaches[d];if(b===void 0)return void this.fire(new s.k(new Error(`The source '${d}' does not exist in the map's style.`)));const B=b.getSource().type;B==="geojson"&&p?this.fire(new s.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):B!=="vector"||p?(i.id===void 0&&this.fire(new s.k(new Error("The feature id parameter must be provided."))),b.setFeatureState(p,i.id,o)):this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,o){this._checkLoaded();const d=i.source,p=this.sourceCaches[d];if(p===void 0)return void this.fire(new s.k(new Error(`The source '${d}' does not exist in the map's style.`)));const b=p.getSource().type,B=b==="vector"?i.sourceLayer:void 0;b!=="vector"||B?o&&typeof i.id!="string"&&typeof i.id!="number"?this.fire(new s.k(new Error("A feature id is required to remove its specific state property."))):p.removeFeatureState(B,i.id,o):this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const o=i.source,d=i.sourceLayer,p=this.sourceCaches[o];if(p!==void 0)return p.getSource().type!=="vector"||d?(i.id===void 0&&this.fire(new s.k(new Error("The feature id parameter must be provided."))),p.getFeatureState(d,i.id)):void this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.k(new Error(`The source '${o}' does not exist in the map's style.`)))}getTransition(){return s.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const i=s.bF(this.sourceCaches,b=>b.serialize()),o=this._serializeByIds(this._order,!0),d=this.map.getTerrain()||void 0,p=this.stylesheet;return s.bG({version:p.version,name:p.name,metadata:p.metadata,light:p.light,sky:p.sky,center:p.center,zoom:p.zoom,bearing:p.bearing,pitch:p.pitch,sprite:p.sprite,glyphs:p.glyphs,transition:p.transition,projection:p.projection,sources:i,layers:o,terrain:d},b=>b!==void 0)}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&this.sourceCaches[i.source].getSource().type!=="raster"&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(i){const o=B=>this._layers[B].type==="fill-extrusion",d={},p=[];for(let B=this._order.length-1;B>=0;B--){const U=this._order[B];if(o(U)){d[U]=B;for(const T of i){const N=T[U];if(N)for(const Q of N)p.push(Q)}}}p.sort((B,U)=>U.intersectionZ-B.intersectionZ);const b=[];for(let B=this._order.length-1;B>=0;B--){const U=this._order[B];if(o(U))for(let T=p.length-1;T>=0;T--){const N=p[T].feature;if(d[N.layer.id]<B)break;b.push(N),p.pop()}else for(const T of i){const N=T[U];if(N)for(const Q of N)b.push(Q.feature)}}return b}queryRenderedFeatures(i,o,d){o&&o.filter&&this._validate(s.y.filter,"queryRenderedFeatures.filter",o.filter,null,o);const p={};if(o&&o.layers){if(!(Array.isArray(o.layers)||o.layers instanceof Set))return this.fire(new s.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const N of o.layers){const Q=this._layers[N];if(!Q)return this.fire(new s.k(new Error(`The layer '${N}' does not exist in the map's style and cannot be queried for features.`))),[];p[Q.source]=!0}}const b=[];o.availableImages=this._availableImages;const B=this._serializedAllLayers(),U=o.layers instanceof Set?o.layers:Array.isArray(o.layers)?new Set(o.layers):null,T=Object.assign(Object.assign({},o),{layers:U});for(const N in this.sourceCaches)o.layers&&!p[N]||b.push(Ot(this.sourceCaches[N],this._layers,B,i,T,d,this.map.terrain?(Q,z,Z)=>this.map.terrain.getElevation(Q,z,Z):void 0));return this.placement&&b.push(function(N,Q,z,Z,W,ee,me){const pe={},be=ee.queryRenderedSymbols(Z),we=[];for(const Me of Object.keys(be).map(Number))we.push(me[Me]);we.sort(Ct);for(const Me of we){const Re=Me.featureIndex.lookupSymbolFeatures(be[Me.bucketInstanceId],Q,Me.bucketIndex,Me.sourceLayerIndex,W.filter,W.layers,W.availableImages,N);for(const Fe in Re){const Pe=pe[Fe]=pe[Fe]||[],Ye=Re[Fe];Ye.sort((Ke,We)=>{const ct=Me.featureSortOrder;if(ct){const dt=ct.indexOf(Ke.featureIndex);return ct.indexOf(We.featureIndex)-dt}return We.featureIndex-Ke.featureIndex});for(const Ke of Ye)Pe.push(Ke)}}return function(Me,Re,Fe){for(const Pe in Me)for(const Ye of Me[Pe])Qt(Ye,Fe[Re[Pe].source]);return Me}(pe,N,z)}(this._layers,B,this.sourceCaches,i,T,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(b)}querySourceFeatures(i,o){o&&o.filter&&this._validate(s.y.filter,"querySourceFeatures.filter",o.filter,null,o);const d=this.sourceCaches[i];return d?function(p,b){const B=p.getRenderableIds().map(N=>p.getTileByID(N)),U=[],T={};for(let N=0;N<B.length;N++){const Q=B[N],z=Q.tileID.canonical.key;T[z]||(T[z]=!0,Q.querySourceFeatures(U,b))}return U}(d,o):[]}getLight(){return this.light.getLight()}setLight(i,o={}){this._checkLoaded();const d=this.light.getLight();let p=!1;for(const B in i)if(!s.bE(i[B],d[B])){p=!0;break}if(!p)return;const b={now:E.now(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,o),this.light.updateTransitions(b)}getProjection(){var i;return(i=this.stylesheet)===null||i===void 0?void 0:i.projection}setProjection(i){if(this._checkLoaded(),this.projection){if(this.projection.name===i.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=i,this._setProjectionInternal(i.type)}getSky(){var i;return(i=this.stylesheet)===null||i===void 0?void 0:i.sky}setSky(i,o={}){this._checkLoaded();const d=this.getSky();let p=!1;if(!i&&!d)return;if(i&&!d)p=!0;else if(!i&&d)p=!0;else for(const B in i)if(!s.bE(i[B],d[B])){p=!0;break}if(!p)return;const b={now:E.now(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=i,this.sky.setSky(i,o),this.sky.updateTransitions(b)}_setProjectionInternal(i){const o=function(d){if(Array.isArray(d)){const p=new E0({type:d});return{projection:p,transform:new rc,cameraHelper:new aA(p)}}switch(d){case"mercator":return{projection:new Ta,transform:new Vn,cameraHelper:new Wl};case"globe":{const p=new E0({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:p,transform:new rc,cameraHelper:new aA(p)}}case"vertical-perspective":return{projection:new eA,transform:new ac,cameraHelper:new Rn};default:return s.w(`Unknown projection name: ${d}. Falling back to mercator projection.`),{projection:new Ta,transform:new Vn,cameraHelper:new Wl}}}(i);this.projection=o.projection,this.map.migrateProjection(o.transform,o.cameraHelper);for(const d in this.sourceCaches)this.sourceCaches[d].reload()}_validate(i,o,d,p,b={}){return(!b||b.validate!==!1)&&nl(this,i.call(s.y,s.e({key:o,style:this.serialize(),value:d,styleSpec:s.v},p)))}_remove(i=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),ha().off(ea,this._rtlPluginLoaded);for(const o in this._layers)this._layers[o].setEventedParent(null);for(const o in this.sourceCaches){const d=this.sourceCaches[o];d.setEventedParent(null),d.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),i&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(i)}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const o in this.sourceCaches)this.sourceCaches[o].update(i,this.map.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,o,d,p,b=!1){let B=!1,U=!1;const T={};for(const N of this._order){const Q=this._layers[N];if(Q.type!=="symbol")continue;if(!T[Q.source]){const Z=this.sourceCaches[Q.source];T[Q.source]=Z.getRenderableIds(!0).map(W=>Z.getTileByID(W)).sort((W,ee)=>ee.tileID.overscaledZ-W.tileID.overscaledZ||(W.tileID.isLessThan(ee.tileID)?-1:1))}const z=this.crossTileSymbolIndex.addLayer(Q,T[Q.source],i.center.lng);B=B||z}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((b=b||this._layerOrderChanged||d===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(E.now(),i.zoom))&&(this.pauseablePlacement=new $A(i,this.map.terrain,this._order,b,o,d,p,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,T),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(E.now()),U=!0),B&&this.pauseablePlacement.placement.setStale()),U||B)for(const N of this._order){const Q=this._layers[N];Q.type==="symbol"&&this.placement.updateLayerOpacities(Q,T[Q.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(E.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,o){return s._(this,void 0,void 0,function*(){const d=yield this.imageManager.getImages(o.icons);this._updateTilesForChangedImages();const p=this.sourceCaches[o.source];return p&&p.setDependencies(o.tileID.key,o.type,o.icons),d})}getGlyphs(i,o){return s._(this,void 0,void 0,function*(){const d=yield this.glyphManager.getGlyphs(o.stacks),p=this.sourceCaches[o.source];return p&&p.setDependencies(o.tileID.key,o.type,[""]),d})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(i,o={}){this._checkLoaded(),i&&this._validate(s.y.glyphs,"glyphs",i,null,o)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=i,this.glyphManager.entries={},this.glyphManager.setURL(i))}addSprite(i,o,d={},p){this._checkLoaded();const b=[{id:i,url:o}],B=[...se(this.stylesheet.sprite),...b];this._validate(s.y.sprite,"sprite",B,null,d)||(this.stylesheet.sprite=B,this._loadSprite(b,!0,p))}removeSprite(i){this._checkLoaded();const o=se(this.stylesheet.sprite);if(o.find(d=>d.id===i)){if(this._spritesImagesIds[i])for(const d of this._spritesImagesIds[i])this.imageManager.removeImage(d),this._changedImages[d]=!0;o.splice(o.findIndex(d=>d.id===i),1),this.stylesheet.sprite=o.length>0?o:void 0,delete this._spritesImagesIds[i],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}else this.fire(new s.k(new Error(`Sprite "${i}" doesn't exists on this map.`)))}getSprite(){return se(this.stylesheet.sprite)}setSprite(i,o={},d){this._checkLoaded(),i&&this._validate(s.y.sprite,"sprite",i,null,o)||(this.stylesheet.sprite=i,i?this._loadSprite(i,!0,d):(this._unloadSprite(),d&&d(null)))}}var $h=s.aG([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Gn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,o,d,p,b,B,U,T,N){this.context=i;let Q=this.boundPaintVertexBuffers.length!==p.length;for(let z=0;!Q&&z<p.length;z++)this.boundPaintVertexBuffers[z]!==p[z]&&(Q=!0);!this.vao||this.boundProgram!==o||this.boundLayoutVertexBuffer!==d||Q||this.boundIndexBuffer!==b||this.boundVertexOffset!==B||this.boundDynamicVertexBuffer!==U||this.boundDynamicVertexBuffer2!==T||this.boundDynamicVertexBuffer3!==N?this.freshBind(o,d,p,b,B,U,T,N):(i.bindVertexArray.set(this.vao),U&&U.bind(),b&&b.dynamicDraw&&b.bind(),T&&T.bind(),N&&N.bind())}freshBind(i,o,d,p,b,B,U,T){const N=i.numAttributes,Q=this.context,z=Q.gl;this.vao&&this.destroy(),this.vao=Q.createVertexArray(),Q.bindVertexArray.set(this.vao),this.boundProgram=i,this.boundLayoutVertexBuffer=o,this.boundPaintVertexBuffers=d,this.boundIndexBuffer=p,this.boundVertexOffset=b,this.boundDynamicVertexBuffer=B,this.boundDynamicVertexBuffer2=U,this.boundDynamicVertexBuffer3=T,o.enableAttributes(z,i);for(const Z of d)Z.enableAttributes(z,i);B&&B.enableAttributes(z,i),U&&U.enableAttributes(z,i),T&&T.enableAttributes(z,i),o.bind(),o.setVertexAttribPointers(z,i,b);for(const Z of d)Z.bind(),Z.setVertexAttribPointers(z,i,b);B&&(B.bind(),B.setVertexAttribPointers(z,i,b)),p&&p.bind(),U&&(U.bind(),U.setVertexAttribPointers(z,i,b)),T&&(T.bind(),T.setVertexAttribPointers(z,i,b)),Q.currentNumAttributes=N}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const dp=(_,i,o,d,p)=>({u_texture:0,u_ele_delta:_,u_fog_matrix:i,u_fog_color:o?o.properties.get("fog-color"):s.b7.white,u_fog_ground_blend:o?o.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:p?0:o?o.calculateFogBlendOpacity(d):0,u_horizon_color:o?o.properties.get("horizon-color"):s.b7.white,u_horizon_fog_blend:o?o.properties.get("horizon-fog-blend"):1,u_is_globe_mode:p?1:0}),qh={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Hs(_){const i=[];for(let o=0;o<_.length;o++){if(_[o]===null)continue;const d=_[o].split(" ");i.push(d.pop())}return i}class nA{constructor(i,o,d,p,b,B,U,T){const N=i.gl;this.program=N.createProgram();const Q=Hs(o.staticAttributes),z=d?d.getBinderAttributes():[],Z=Q.concat(z),W=Fi.prelude.staticUniforms?Hs(Fi.prelude.staticUniforms):[],ee=U.staticUniforms?Hs(U.staticUniforms):[],me=o.staticUniforms?Hs(o.staticUniforms):[],pe=d?d.getBinderUniforms():[],be=W.concat(ee).concat(me).concat(pe),we=[];for(const We of be)we.indexOf(We)<0&&we.push(We);const Me=d?d.defines():[];Mn(N)&&Me.unshift("#version 300 es"),b&&Me.push("#define OVERDRAW_INSPECTOR;"),B&&Me.push("#define TERRAIN3D;"),T&&Me.push(T);let Re=Me.concat(Fi.prelude.fragmentSource,U.fragmentSource,o.fragmentSource).join(`
`),Fe=Me.concat(Fi.prelude.vertexSource,U.vertexSource,o.vertexSource).join(`
`);Mn(N)||(Re=function(We){return We.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Re),Fe=function(We){return We.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(Fe));const Pe=N.createShader(N.FRAGMENT_SHADER);if(N.isContextLost())return void(this.failedToCreate=!0);if(N.shaderSource(Pe,Re),N.compileShader(Pe),!N.getShaderParameter(Pe,N.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${N.getShaderInfoLog(Pe)}`);N.attachShader(this.program,Pe);const Ye=N.createShader(N.VERTEX_SHADER);if(N.isContextLost())return void(this.failedToCreate=!0);if(N.shaderSource(Ye,Fe),N.compileShader(Ye),!N.getShaderParameter(Ye,N.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${N.getShaderInfoLog(Ye)}`);N.attachShader(this.program,Ye),this.attributes={};const Ke={};this.numAttributes=Z.length;for(let We=0;We<this.numAttributes;We++)Z[We]&&(N.bindAttribLocation(this.program,We,Z[We]),this.attributes[Z[We]]=We);if(N.linkProgram(this.program),!N.getProgramParameter(this.program,N.LINK_STATUS))throw new Error(`Program failed to link: ${N.getProgramInfoLog(this.program)}`);N.deleteShader(Ye),N.deleteShader(Pe);for(let We=0;We<we.length;We++){const ct=we[We];if(ct&&!Ke[ct]){const dt=N.getUniformLocation(this.program,ct);dt&&(Ke[ct]=dt)}}this.fixedUniforms=p(i,Ke),this.terrainUniforms=((We,ct)=>({u_depth:new s.bH(We,ct.u_depth),u_terrain:new s.bH(We,ct.u_terrain),u_terrain_dim:new s.b8(We,ct.u_terrain_dim),u_terrain_matrix:new s.bJ(We,ct.u_terrain_matrix),u_terrain_unpack:new s.bK(We,ct.u_terrain_unpack),u_terrain_exaggeration:new s.b8(We,ct.u_terrain_exaggeration)}))(i,Ke),this.projectionUniforms=((We,ct)=>({u_projection_matrix:new s.bJ(We,ct.u_projection_matrix),u_projection_tile_mercator_coords:new s.bK(We,ct.u_projection_tile_mercator_coords),u_projection_clipping_plane:new s.bK(We,ct.u_projection_clipping_plane),u_projection_transition:new s.b8(We,ct.u_projection_transition),u_projection_fallback_matrix:new s.bJ(We,ct.u_projection_fallback_matrix)}))(i,Ke),this.binderUniforms=d?d.getUniforms(i,Ke):[]}draw(i,o,d,p,b,B,U,T,N,Q,z,Z,W,ee,me,pe,be,we,Me){const Re=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(d),i.setStencilMode(p),i.setColorMode(b),i.setCullFace(B),T){i.activeTexture.set(Re.TEXTURE2),Re.bindTexture(Re.TEXTURE_2D,T.depthTexture),i.activeTexture.set(Re.TEXTURE3),Re.bindTexture(Re.TEXTURE_2D,T.texture);for(const Pe in this.terrainUniforms)this.terrainUniforms[Pe].set(T[Pe])}if(N)for(const Pe in N)this.projectionUniforms[qh[Pe]].set(N[Pe]);if(U)for(const Pe in this.fixedUniforms)this.fixedUniforms[Pe].set(U[Pe]);pe&&pe.setUniforms(i,this.binderUniforms,ee,{zoom:me});let Fe=0;switch(o){case Re.LINES:Fe=2;break;case Re.TRIANGLES:Fe=3;break;case Re.LINE_STRIP:Fe=1}for(const Pe of W.get()){const Ye=Pe.vaos||(Pe.vaos={});(Ye[Q]||(Ye[Q]=new Gn)).bind(i,this,z,pe?pe.getPaintVertexBuffers():[],Z,Pe.vertexOffset,be,we,Me),Re.drawElements(o,Pe.primitiveLength*Fe,Re.UNSIGNED_SHORT,Pe.primitiveOffset*Fe*2)}}}function F0(_,i,o){const d=1/s.az(o,1,i.transform.tileZoom),p=Math.pow(2,o.tileID.overscaledZ),b=o.tileSize*Math.pow(2,i.transform.tileZoom)/p,B=b*(o.tileID.canonical.x+o.tileID.wrap*p),U=b*o.tileID.canonical.y;return{u_image:0,u_texsize:o.imageAtlasTexture.size,u_scale:[d,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[B>>16,U>>16],u_pixel_coord_lower:[65535&B,65535&U]}}const sA=(_,i,o,d)=>{const p=_.style.light,b=p.properties.get("position"),B=[b.x,b.y,b.z],U=s.bN();p.properties.get("anchor")==="viewport"&&s.bO(U,_.transform.bearingInRadians),s.bP(B,B,U);const T=_.transform.transformLightDirection(B),N=p.properties.get("color");return{u_lightpos:B,u_lightpos_globe:T,u_lightintensity:p.properties.get("intensity"),u_lightcolor:[N.r,N.g,N.b],u_vertical_gradient:+i,u_opacity:o,u_fill_translate:d}},fp=(_,i,o,d,p,b,B)=>s.e(sA(_,i,o,d),F0(b,_,B),{u_height_factor:-Math.pow(2,p.overscaledZ)/B.tileSize/8}),uo=(_,i,o,d)=>s.e(F0(i,_,o),{u_fill_translate:d}),gp=(_,i)=>({u_world:_,u_fill_translate:i}),T0=(_,i,o,d,p)=>s.e(uo(_,i,o,p),{u_world:d}),pp=(_,i,o,d,p)=>{const b=_.transform;let B,U,T=0;if(o.paint.get("circle-pitch-alignment")==="map"){const N=s.az(i,1,b.zoom);B=!0,U=[N,N],T=N/(s.Z*Math.pow(2,i.tileID.overscaledZ))*2*Math.PI*p}else B=!1,U=b.pixelsToGLUnits;return{u_camera_to_center_distance:b.cameraToCenterDistance,u_scale_with_map:+(o.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+B,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:U,u_globe_extrude_scale:T,u_translate:d}},S0=_=>({u_pixel_extrude_scale:[1/_.width,1/_.height]}),Wh=_=>({u_viewport_size:[_.width,_.height]}),Jh=(_,i=1)=>({u_color:_,u_overlay:0,u_overlay_scale:i}),eu=(_,i,o,d)=>{const p=s.az(_,1,i)/(s.Z*Math.pow(2,_.tileID.overscaledZ))*2*Math.PI*d;return{u_extrude_scale:s.az(_,1,i),u_intensity:o,u_globe_extrude_scale:p}},tu=(_,i,o,d)=>{const p=s.K();s.bQ(p,0,_.width,_.height,0,0,1);const b=_.context.gl;return{u_matrix:p,u_world:[b.drawingBufferWidth,b.drawingBufferHeight],u_image:o,u_color_ramp:d,u_opacity:i.paint.get("heatmap-opacity")}},Y0=(_,i,o)=>{const d=o.paint.get("hillshade-shadow-color"),p=o.paint.get("hillshade-highlight-color"),b=o.paint.get("hillshade-accent-color");let B=o.paint.get("hillshade-illumination-direction")*(Math.PI/180);return o.paint.get("hillshade-illumination-anchor")==="viewport"&&(B+=_.transform.bearingInRadians),{u_image:0,u_latrange:N0(0,i.tileID),u_light:[o.paint.get("hillshade-exaggeration"),B],u_shadow:d,u_highlight:p,u_accent:b}},fo=(_,i)=>{const o=i.stride,d=s.K();return s.bQ(d,0,s.Z,-8192,0,0,1),s.L(d,d,[0,-8192,0]),{u_matrix:d,u_image:1,u_dimension:[o,o],u_zoom:_.overscaledZ,u_unpack:i.getUnpackVector()}};function N0(_,i){const o=Math.pow(2,i.canonical.z),d=i.canonical.y;return[new s.$(0,d/o).toLngLat().lat,new s.$(0,(d+1)/o).toLngLat().lat]}const sc=(_,i,o,d)=>{const p=_.transform;return{u_translation:P0(_,i,o),u_ratio:d/s.az(i,1,p.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/p.pixelsToGLUnits[0],1/p.pixelsToGLUnits[1]]}},oA=(_,i,o,d,p)=>s.e(sc(_,i,o,d),{u_image:0,u_image_height:p}),mp=(_,i,o,d,p)=>{const b=_.transform,B=L0(i,b);return{u_translation:P0(_,i,o),u_texsize:i.imageAtlasTexture.size,u_ratio:d/s.az(i,1,b.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[B,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},oc=(_,i,o,d,p,b)=>{const B=_.lineAtlas,U=L0(i,_.transform),T=o.layout.get("line-cap")==="round",N=B.getDash(p.from,T),Q=B.getDash(p.to,T),z=N.width*b.fromScale,Z=Q.width*b.toScale;return s.e(sc(_,i,o,d),{u_patternscale_a:[U/z,-N.height/2],u_patternscale_b:[U/Z,-Q.height/2],u_sdfgamma:B.width/(256*Math.min(z,Z)*_.pixelRatio)/2,u_image:0,u_tex_y_a:N.y,u_tex_y_b:Q.y,u_mix:b.t})};function L0(_,i){return 1/s.az(_,1,i.tileZoom)}function P0(_,i,o){return s.aA(_.transform,i,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"))}const Q0=(_,i,o,d,p)=>{return{u_tl_parent:_,u_scale_parent:i,u_buffer_scale:1,u_fade_t:o.mix,u_opacity:o.opacity*d.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:d.paint.get("raster-brightness-min"),u_brightness_high:d.paint.get("raster-brightness-max"),u_saturation_factor:(B=d.paint.get("raster-saturation"),B>0?1-1/(1.001-B):-B),u_contrast_factor:(b=d.paint.get("raster-contrast"),b>0?1/(1-b):1+b),u_spin_weights:k0(d.paint.get("raster-hue-rotate")),u_coords_top:[p[0].x,p[0].y,p[1].x,p[1].y],u_coords_bottom:[p[3].x,p[3].y,p[2].x,p[2].y]};var b,B};function k0(_){_*=Math.PI/180;const i=Math.sin(_),o=Math.cos(_);return[(2*o+1)/3,(-Math.sqrt(3)*i-o+1)/3,(Math.sqrt(3)*i-o+1)/3]}const iu=(_,i,o,d,p,b,B,U,T,N,Q,z,Z)=>{const W=B.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:W.cameraToCenterDistance,u_pitch:W.pitch/360*2*Math.PI,u_rotate_symbol:+o,u_aspect_ratio:W.width/W.height,u_fade_change:B.options.fadeDuration?B.symbolFadeChange:1,u_label_plane_matrix:U,u_coord_matrix:T,u_is_text:+Q,u_pitch_with_map:+d,u_is_along_line:p,u_is_variable_anchor:b,u_texsize:z,u_texture:0,u_translation:N,u_pitched_scale:Z}},lc=(_,i,o,d,p,b,B,U,T,N,Q,z,Z,W)=>{const ee=B.transform;return s.e(iu(_,i,o,d,p,b,B,U,T,N,Q,z,W),{u_gamma_scale:d?Math.cos(ee.pitch*Math.PI/180)*ee.cameraToCenterDistance:1,u_device_pixel_ratio:B.pixelRatio,u_is_halo:1})},D0=(_,i,o,d,p,b,B,U,T,N,Q,z,Z)=>s.e(lc(_,i,o,d,p,b,B,U,T,N,!0,Q,0,Z),{u_texsize_icon:z,u_texture_icon:1}),Ac=(_,i)=>({u_opacity:_,u_color:i}),gs=(_,i,o,d,p)=>s.e(function(b,B,U,T){const N=U.imageManager.getPattern(b.from.toString()),Q=U.imageManager.getPattern(b.to.toString()),{width:z,height:Z}=U.imageManager.getPixelSize(),W=Math.pow(2,T.tileID.overscaledZ),ee=T.tileSize*Math.pow(2,U.transform.tileZoom)/W,me=ee*(T.tileID.canonical.x+T.tileID.wrap*W),pe=ee*T.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:N.tl,u_pattern_br_a:N.br,u_pattern_tl_b:Q.tl,u_pattern_br_b:Q.br,u_texsize:[z,Z],u_mix:B.t,u_pattern_size_a:N.displaySize,u_pattern_size_b:Q.displaySize,u_scale_a:B.fromScale,u_scale_b:B.toScale,u_tile_units_to_pixels:1/s.az(T,1,U.transform.tileZoom),u_pixel_coord_upper:[me>>16,pe>>16],u_pixel_coord_lower:[65535&me,65535&pe]}}(o,p,i,d),{u_opacity:_}),cc=(_,i)=>{},au={fillExtrusion:(_,i)=>({u_lightpos:new s.bL(_,i.u_lightpos),u_lightpos_globe:new s.bL(_,i.u_lightpos_globe),u_lightintensity:new s.b8(_,i.u_lightintensity),u_lightcolor:new s.bL(_,i.u_lightcolor),u_vertical_gradient:new s.b8(_,i.u_vertical_gradient),u_opacity:new s.b8(_,i.u_opacity),u_fill_translate:new s.bM(_,i.u_fill_translate)}),fillExtrusionPattern:(_,i)=>({u_lightpos:new s.bL(_,i.u_lightpos),u_lightpos_globe:new s.bL(_,i.u_lightpos_globe),u_lightintensity:new s.b8(_,i.u_lightintensity),u_lightcolor:new s.bL(_,i.u_lightcolor),u_vertical_gradient:new s.b8(_,i.u_vertical_gradient),u_height_factor:new s.b8(_,i.u_height_factor),u_opacity:new s.b8(_,i.u_opacity),u_fill_translate:new s.bM(_,i.u_fill_translate),u_image:new s.bH(_,i.u_image),u_texsize:new s.bM(_,i.u_texsize),u_pixel_coord_upper:new s.bM(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new s.bM(_,i.u_pixel_coord_lower),u_scale:new s.bL(_,i.u_scale),u_fade:new s.b8(_,i.u_fade)}),fill:(_,i)=>({u_fill_translate:new s.bM(_,i.u_fill_translate)}),fillPattern:(_,i)=>({u_image:new s.bH(_,i.u_image),u_texsize:new s.bM(_,i.u_texsize),u_pixel_coord_upper:new s.bM(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new s.bM(_,i.u_pixel_coord_lower),u_scale:new s.bL(_,i.u_scale),u_fade:new s.b8(_,i.u_fade),u_fill_translate:new s.bM(_,i.u_fill_translate)}),fillOutline:(_,i)=>({u_world:new s.bM(_,i.u_world),u_fill_translate:new s.bM(_,i.u_fill_translate)}),fillOutlinePattern:(_,i)=>({u_world:new s.bM(_,i.u_world),u_image:new s.bH(_,i.u_image),u_texsize:new s.bM(_,i.u_texsize),u_pixel_coord_upper:new s.bM(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new s.bM(_,i.u_pixel_coord_lower),u_scale:new s.bL(_,i.u_scale),u_fade:new s.b8(_,i.u_fade),u_fill_translate:new s.bM(_,i.u_fill_translate)}),circle:(_,i)=>({u_camera_to_center_distance:new s.b8(_,i.u_camera_to_center_distance),u_scale_with_map:new s.bH(_,i.u_scale_with_map),u_pitch_with_map:new s.bH(_,i.u_pitch_with_map),u_extrude_scale:new s.bM(_,i.u_extrude_scale),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_globe_extrude_scale:new s.b8(_,i.u_globe_extrude_scale),u_translate:new s.bM(_,i.u_translate)}),collisionBox:(_,i)=>({u_pixel_extrude_scale:new s.bM(_,i.u_pixel_extrude_scale)}),collisionCircle:(_,i)=>({u_viewport_size:new s.bM(_,i.u_viewport_size)}),debug:(_,i)=>({u_color:new s.bI(_,i.u_color),u_overlay:new s.bH(_,i.u_overlay),u_overlay_scale:new s.b8(_,i.u_overlay_scale)}),depth:cc,clippingMask:cc,heatmap:(_,i)=>({u_extrude_scale:new s.b8(_,i.u_extrude_scale),u_intensity:new s.b8(_,i.u_intensity),u_globe_extrude_scale:new s.b8(_,i.u_globe_extrude_scale)}),heatmapTexture:(_,i)=>({u_matrix:new s.bJ(_,i.u_matrix),u_world:new s.bM(_,i.u_world),u_image:new s.bH(_,i.u_image),u_color_ramp:new s.bH(_,i.u_color_ramp),u_opacity:new s.b8(_,i.u_opacity)}),hillshade:(_,i)=>({u_image:new s.bH(_,i.u_image),u_latrange:new s.bM(_,i.u_latrange),u_light:new s.bM(_,i.u_light),u_shadow:new s.bI(_,i.u_shadow),u_highlight:new s.bI(_,i.u_highlight),u_accent:new s.bI(_,i.u_accent)}),hillshadePrepare:(_,i)=>({u_matrix:new s.bJ(_,i.u_matrix),u_image:new s.bH(_,i.u_image),u_dimension:new s.bM(_,i.u_dimension),u_zoom:new s.b8(_,i.u_zoom),u_unpack:new s.bK(_,i.u_unpack)}),line:(_,i)=>({u_translation:new s.bM(_,i.u_translation),u_ratio:new s.b8(_,i.u_ratio),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_units_to_pixels:new s.bM(_,i.u_units_to_pixels)}),lineGradient:(_,i)=>({u_translation:new s.bM(_,i.u_translation),u_ratio:new s.b8(_,i.u_ratio),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_units_to_pixels:new s.bM(_,i.u_units_to_pixels),u_image:new s.bH(_,i.u_image),u_image_height:new s.b8(_,i.u_image_height)}),linePattern:(_,i)=>({u_translation:new s.bM(_,i.u_translation),u_texsize:new s.bM(_,i.u_texsize),u_ratio:new s.b8(_,i.u_ratio),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_image:new s.bH(_,i.u_image),u_units_to_pixels:new s.bM(_,i.u_units_to_pixels),u_scale:new s.bL(_,i.u_scale),u_fade:new s.b8(_,i.u_fade)}),lineSDF:(_,i)=>({u_translation:new s.bM(_,i.u_translation),u_ratio:new s.b8(_,i.u_ratio),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_units_to_pixels:new s.bM(_,i.u_units_to_pixels),u_patternscale_a:new s.bM(_,i.u_patternscale_a),u_patternscale_b:new s.bM(_,i.u_patternscale_b),u_sdfgamma:new s.b8(_,i.u_sdfgamma),u_image:new s.bH(_,i.u_image),u_tex_y_a:new s.b8(_,i.u_tex_y_a),u_tex_y_b:new s.b8(_,i.u_tex_y_b),u_mix:new s.b8(_,i.u_mix)}),raster:(_,i)=>({u_tl_parent:new s.bM(_,i.u_tl_parent),u_scale_parent:new s.b8(_,i.u_scale_parent),u_buffer_scale:new s.b8(_,i.u_buffer_scale),u_fade_t:new s.b8(_,i.u_fade_t),u_opacity:new s.b8(_,i.u_opacity),u_image0:new s.bH(_,i.u_image0),u_image1:new s.bH(_,i.u_image1),u_brightness_low:new s.b8(_,i.u_brightness_low),u_brightness_high:new s.b8(_,i.u_brightness_high),u_saturation_factor:new s.b8(_,i.u_saturation_factor),u_contrast_factor:new s.b8(_,i.u_contrast_factor),u_spin_weights:new s.bL(_,i.u_spin_weights),u_coords_top:new s.bK(_,i.u_coords_top),u_coords_bottom:new s.bK(_,i.u_coords_bottom)}),symbolIcon:(_,i)=>({u_is_size_zoom_constant:new s.bH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new s.bH(_,i.u_is_size_feature_constant),u_size_t:new s.b8(_,i.u_size_t),u_size:new s.b8(_,i.u_size),u_camera_to_center_distance:new s.b8(_,i.u_camera_to_center_distance),u_pitch:new s.b8(_,i.u_pitch),u_rotate_symbol:new s.bH(_,i.u_rotate_symbol),u_aspect_ratio:new s.b8(_,i.u_aspect_ratio),u_fade_change:new s.b8(_,i.u_fade_change),u_label_plane_matrix:new s.bJ(_,i.u_label_plane_matrix),u_coord_matrix:new s.bJ(_,i.u_coord_matrix),u_is_text:new s.bH(_,i.u_is_text),u_pitch_with_map:new s.bH(_,i.u_pitch_with_map),u_is_along_line:new s.bH(_,i.u_is_along_line),u_is_variable_anchor:new s.bH(_,i.u_is_variable_anchor),u_texsize:new s.bM(_,i.u_texsize),u_texture:new s.bH(_,i.u_texture),u_translation:new s.bM(_,i.u_translation),u_pitched_scale:new s.b8(_,i.u_pitched_scale)}),symbolSDF:(_,i)=>({u_is_size_zoom_constant:new s.bH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new s.bH(_,i.u_is_size_feature_constant),u_size_t:new s.b8(_,i.u_size_t),u_size:new s.b8(_,i.u_size),u_camera_to_center_distance:new s.b8(_,i.u_camera_to_center_distance),u_pitch:new s.b8(_,i.u_pitch),u_rotate_symbol:new s.bH(_,i.u_rotate_symbol),u_aspect_ratio:new s.b8(_,i.u_aspect_ratio),u_fade_change:new s.b8(_,i.u_fade_change),u_label_plane_matrix:new s.bJ(_,i.u_label_plane_matrix),u_coord_matrix:new s.bJ(_,i.u_coord_matrix),u_is_text:new s.bH(_,i.u_is_text),u_pitch_with_map:new s.bH(_,i.u_pitch_with_map),u_is_along_line:new s.bH(_,i.u_is_along_line),u_is_variable_anchor:new s.bH(_,i.u_is_variable_anchor),u_texsize:new s.bM(_,i.u_texsize),u_texture:new s.bH(_,i.u_texture),u_gamma_scale:new s.b8(_,i.u_gamma_scale),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_is_halo:new s.bH(_,i.u_is_halo),u_translation:new s.bM(_,i.u_translation),u_pitched_scale:new s.b8(_,i.u_pitched_scale)}),symbolTextAndIcon:(_,i)=>({u_is_size_zoom_constant:new s.bH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new s.bH(_,i.u_is_size_feature_constant),u_size_t:new s.b8(_,i.u_size_t),u_size:new s.b8(_,i.u_size),u_camera_to_center_distance:new s.b8(_,i.u_camera_to_center_distance),u_pitch:new s.b8(_,i.u_pitch),u_rotate_symbol:new s.bH(_,i.u_rotate_symbol),u_aspect_ratio:new s.b8(_,i.u_aspect_ratio),u_fade_change:new s.b8(_,i.u_fade_change),u_label_plane_matrix:new s.bJ(_,i.u_label_plane_matrix),u_coord_matrix:new s.bJ(_,i.u_coord_matrix),u_is_text:new s.bH(_,i.u_is_text),u_pitch_with_map:new s.bH(_,i.u_pitch_with_map),u_is_along_line:new s.bH(_,i.u_is_along_line),u_is_variable_anchor:new s.bH(_,i.u_is_variable_anchor),u_texsize:new s.bM(_,i.u_texsize),u_texsize_icon:new s.bM(_,i.u_texsize_icon),u_texture:new s.bH(_,i.u_texture),u_texture_icon:new s.bH(_,i.u_texture_icon),u_gamma_scale:new s.b8(_,i.u_gamma_scale),u_device_pixel_ratio:new s.b8(_,i.u_device_pixel_ratio),u_is_halo:new s.bH(_,i.u_is_halo),u_translation:new s.bM(_,i.u_translation),u_pitched_scale:new s.b8(_,i.u_pitched_scale)}),background:(_,i)=>({u_opacity:new s.b8(_,i.u_opacity),u_color:new s.bI(_,i.u_color)}),backgroundPattern:(_,i)=>({u_opacity:new s.b8(_,i.u_opacity),u_image:new s.bH(_,i.u_image),u_pattern_tl_a:new s.bM(_,i.u_pattern_tl_a),u_pattern_br_a:new s.bM(_,i.u_pattern_br_a),u_pattern_tl_b:new s.bM(_,i.u_pattern_tl_b),u_pattern_br_b:new s.bM(_,i.u_pattern_br_b),u_texsize:new s.bM(_,i.u_texsize),u_mix:new s.b8(_,i.u_mix),u_pattern_size_a:new s.bM(_,i.u_pattern_size_a),u_pattern_size_b:new s.bM(_,i.u_pattern_size_b),u_scale_a:new s.b8(_,i.u_scale_a),u_scale_b:new s.b8(_,i.u_scale_b),u_pixel_coord_upper:new s.bM(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new s.bM(_,i.u_pixel_coord_lower),u_tile_units_to_pixels:new s.b8(_,i.u_tile_units_to_pixels)}),terrain:(_,i)=>({u_texture:new s.bH(_,i.u_texture),u_ele_delta:new s.b8(_,i.u_ele_delta),u_fog_matrix:new s.bJ(_,i.u_fog_matrix),u_fog_color:new s.bI(_,i.u_fog_color),u_fog_ground_blend:new s.b8(_,i.u_fog_ground_blend),u_fog_ground_blend_opacity:new s.b8(_,i.u_fog_ground_blend_opacity),u_horizon_color:new s.bI(_,i.u_horizon_color),u_horizon_fog_blend:new s.b8(_,i.u_horizon_fog_blend),u_is_globe_mode:new s.b8(_,i.u_is_globe_mode)}),terrainDepth:(_,i)=>({u_ele_delta:new s.b8(_,i.u_ele_delta)}),terrainCoords:(_,i)=>({u_texture:new s.bH(_,i.u_texture),u_terrain_coords_id:new s.b8(_,i.u_terrain_coords_id),u_ele_delta:new s.b8(_,i.u_ele_delta)}),projectionErrorMeasurement:(_,i)=>({u_input:new s.b8(_,i.u_input),u_output_expected:new s.b8(_,i.u_output_expected)}),atmosphere:(_,i)=>({u_sun_pos:new s.bL(_,i.u_sun_pos),u_atmosphere_blend:new s.b8(_,i.u_atmosphere_blend),u_globe_position:new s.bL(_,i.u_globe_position),u_globe_radius:new s.b8(_,i.u_globe_radius),u_inv_proj_matrix:new s.bJ(_,i.u_inv_proj_matrix)}),sky:(_,i)=>({u_sky_color:new s.bI(_,i.u_sky_color),u_horizon_color:new s.bI(_,i.u_horizon_color),u_horizon:new s.bM(_,i.u_horizon),u_horizon_normal:new s.bM(_,i.u_horizon_normal),u_sky_horizon_blend:new s.b8(_,i.u_sky_horizon_blend),u_sky_blend:new s.b8(_,i.u_sky_blend)})};class ru{constructor(i,o,d){this.context=i;const p=i.gl;this.buffer=p.createBuffer(),this.dynamicDraw=!!d,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),p.bufferData(p.ELEMENT_ARRAY_BUFFER,o.arrayBuffer,this.dynamicDraw?p.DYNAMIC_DRAW:p.STATIC_DRAW),this.dynamicDraw||delete o.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const o=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),o.bufferSubData(o.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const z0={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class nu{constructor(i,o,d,p){this.length=o.length,this.attributes=d,this.itemSize=o.bytesPerElement,this.dynamicDraw=p,this.context=i;const b=i.gl;this.buffer=b.createBuffer(),i.bindVertexBuffer.set(this.buffer),b.bufferData(b.ARRAY_BUFFER,o.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete o.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const o=this.context.gl;this.bind(),o.bufferSubData(o.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,o){for(let d=0;d<this.attributes.length;d++){const p=o.attributes[this.attributes[d].name];p!==void 0&&i.enableVertexAttribArray(p)}}setVertexAttribPointers(i,o,d){for(let p=0;p<this.attributes.length;p++){const b=this.attributes[p],B=o.attributes[b.name];B!==void 0&&i.vertexAttribPointer(B,b.components,i[z0[b.type]],!1,this.itemSize,b.offset+this.itemSize*(d||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Qi{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class su extends Qi{getDefault(){return s.b7.transparent}set(i){const o=this.current;(i.r!==o.r||i.g!==o.g||i.b!==o.b||i.a!==o.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class _p extends Qi{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class bp extends Qi{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class yp extends Qi{getDefault(){return[!0,!0,!0,!0]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||i[3]!==o[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class vp extends Qi{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class Z0 extends Qi{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class xp extends Qi{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const o=this.current;(i.func!==o.func||i.ref!==o.ref||i.mask!==o.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class H0 extends Qi{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class hc extends Qi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;i?o.enable(o.STENCIL_TEST):o.disable(o.STENCIL_TEST),this.current=i,this.dirty=!1}}class uc extends Qi{getDefault(){return[0,1]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class dc extends Qi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;i?o.enable(o.DEPTH_TEST):o.disable(o.DEPTH_TEST),this.current=i,this.dirty=!1}}class ou extends Qi{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class go extends Qi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;i?o.enable(o.BLEND):o.disable(o.BLEND),this.current=i,this.dirty=!1}}class sl extends Qi{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class pn extends Qi{getDefault(){return s.b7.transparent}set(i){const o=this.current;(i.r!==o.r||i.g!==o.g||i.b!==o.b||i.a!==o.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class O0 extends Qi{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class X0 extends Qi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;i?o.enable(o.CULL_FACE):o.disable(o.CULL_FACE),this.current=i,this.dirty=!1}}class lu extends Qi{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class po extends Qi{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class fc extends Qi{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class gc extends Qi{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class lA extends Qi{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const o=this.current;(i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||i[3]!==o[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class pc extends Qi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.bindFramebuffer(o.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class V0 extends Qi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.bindRenderbuffer(o.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class ol extends Qi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.bindTexture(o.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class ll extends Qi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.bindBuffer(o.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class G0 extends Qi{getDefault(){return null}set(i){const o=this.gl;o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Au extends Qi{getDefault(){return null}set(i){var o;if(i===this.current&&!this.dirty)return;const d=this.gl;Mn(d)?d.bindVertexArray(i):(o=d.getExtension("OES_vertex_array_object"))===null||o===void 0||o.bindVertexArrayOES(i),this.current=i,this.dirty=!1}}class Xi extends Qi{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.pixelStorei(o.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class mc extends Qi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class wp extends Qi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const o=this.gl;o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class _c extends Qi{constructor(i,o){super(i),this.context=i,this.parent=o}getDefault(){return null}}class AA extends _c{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const o=this.gl;o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class Bp extends _c{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const o=this.gl;o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Cp extends _c{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const o=this.gl;o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,i),this.current=i,this.dirty=!1}}const cu="Framebuffer is not complete";class Mp{constructor(i,o,d,p,b){this.context=i,this.width=o,this.height=d;const B=i.gl,U=this.framebuffer=B.createFramebuffer();if(this.colorAttachment=new AA(i,U),p)this.depthAttachment=b?new Cp(i,U):new Bp(i,U);else if(b)throw new Error("Stencil cannot be set without depth");if(B.checkFramebufferStatus(B.FRAMEBUFFER)!==B.FRAMEBUFFER_COMPLETE)throw new Error(cu)}destroy(){const i=this.context.gl,o=this.colorAttachment.get();if(o&&i.deleteTexture(o),this.depthAttachment){const d=this.depthAttachment.get();d&&i.deleteRenderbuffer(d)}i.deleteFramebuffer(this.framebuffer)}}class hu{constructor(i){var o,d;if(this.gl=i,this.clearColor=new su(this),this.clearDepth=new _p(this),this.clearStencil=new bp(this),this.colorMask=new yp(this),this.depthMask=new vp(this),this.stencilMask=new Z0(this),this.stencilFunc=new xp(this),this.stencilOp=new H0(this),this.stencilTest=new hc(this),this.depthRange=new uc(this),this.depthTest=new dc(this),this.depthFunc=new ou(this),this.blend=new go(this),this.blendFunc=new sl(this),this.blendColor=new pn(this),this.blendEquation=new O0(this),this.cullFace=new X0(this),this.cullFaceSide=new lu(this),this.frontFace=new po(this),this.program=new fc(this),this.activeTexture=new gc(this),this.viewport=new lA(this),this.bindFramebuffer=new pc(this),this.bindRenderbuffer=new V0(this),this.bindTexture=new ol(this),this.bindVertexBuffer=new ll(this),this.bindElementBuffer=new G0(this),this.bindVertexArray=new Au(this),this.pixelStoreUnpack=new Xi(this),this.pixelStoreUnpackPremultiplyAlpha=new mc(this),this.pixelStoreUnpackFlipY=new wp(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),Mn(i)){this.HALF_FLOAT=i.HALF_FLOAT;const p=i.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(o=i.RGBA16F)!==null&&o!==void 0?o:p==null?void 0:p.RGBA16F_EXT,this.RGB16F=(d=i.RGB16F)!==null&&d!==void 0?d:p==null?void 0:p.RGB16F_EXT,i.getExtension("EXT_color_buffer_float")}else{i.getExtension("EXT_color_buffer_half_float"),i.getExtension("OES_texture_half_float_linear");const p=i.getExtension("OES_texture_half_float");this.HALF_FLOAT=p==null?void 0:p.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,o){return new ru(this,i,o)}createVertexBuffer(i,o,d){return new nu(this,i,o,d)}createRenderbuffer(i,o,d){const p=this.gl,b=p.createRenderbuffer();return this.bindRenderbuffer.set(b),p.renderbufferStorage(p.RENDERBUFFER,i,o,d),this.bindRenderbuffer.set(null),b}createFramebuffer(i,o,d,p){return new Mp(this,i,o,d,p)}clear({color:i,depth:o,stencil:d}){const p=this.gl;let b=0;i&&(b|=p.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),o!==void 0&&(b|=p.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(o),this.depthMask.set(!0)),d!==void 0&&(b|=p.STENCIL_BUFFER_BIT,this.clearStencil.set(d),this.stencilMask.set(255)),p.clear(b)}setCullFace(i){i.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){s.bE(i.blendFunction,Wi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}createVertexArray(){var i;return Mn(this.gl)?this.gl.createVertexArray():(i=this.gl.getExtension("OES_vertex_array_object"))===null||i===void 0?void 0:i.createVertexArrayOES()}deleteVertexArray(i){var o;return Mn(this.gl)?this.gl.deleteVertexArray(i):(o=this.gl.getExtension("OES_vertex_array_object"))===null||o===void 0?void 0:o.deleteVertexArrayOES(i)}unbindVAO(){this.bindVertexArray.set(null)}}let mo;function cA(_,i,o,d,p){const b=_.context,B=_.transform,U=b.gl,T=_.useProgram("collisionBox"),N=[];let Q=0,z=0;for(let be=0;be<d.length;be++){const we=d[be],Me=i.getTile(we).getBucket(o);if(!Me)continue;const Re=p?Me.textCollisionBox:Me.iconCollisionBox,Fe=Me.collisionCircleArray;Fe.length>0&&(N.push({circleArray:Fe,circleOffset:z,coord:we}),Q+=Fe.length/4,z=Q),Re&&T.draw(b,U.LINES,Mi.disabled,Di.disabled,_.colorModeForRenderPass(),Oi.disabled,S0(_.transform),_.style.map.terrain&&_.style.map.terrain.getTerrainData(we),B.getProjectionData({overscaledTileID:we,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),o.id,Re.layoutVertexBuffer,Re.indexBuffer,Re.segments,null,_.transform.zoom,null,null,Re.collisionVertexBuffer)}if(!p||!N.length)return;const Z=_.useProgram("collisionCircle"),W=new s.bR;W.resize(4*Q),W._trim();let ee=0;for(const be of N)for(let we=0;we<be.circleArray.length/4;we++){const Me=4*we,Re=be.circleArray[Me+0],Fe=be.circleArray[Me+1],Pe=be.circleArray[Me+2],Ye=be.circleArray[Me+3];W.emplace(ee++,Re,Fe,Pe,Ye,0),W.emplace(ee++,Re,Fe,Pe,Ye,1),W.emplace(ee++,Re,Fe,Pe,Ye,2),W.emplace(ee++,Re,Fe,Pe,Ye,3)}(!mo||mo.length<2*Q)&&(mo=function(be){const we=2*be,Me=new s.bT;Me.resize(we),Me._trim();for(let Re=0;Re<we;Re++){const Fe=6*Re;Me.uint16[Fe+0]=4*Re+0,Me.uint16[Fe+1]=4*Re+1,Me.uint16[Fe+2]=4*Re+2,Me.uint16[Fe+3]=4*Re+2,Me.uint16[Fe+4]=4*Re+3,Me.uint16[Fe+5]=4*Re+0}return Me}(Q));const me=b.createIndexBuffer(mo,!0),pe=b.createVertexBuffer(W,s.bS.members,!0);for(const be of N){const we=Wh(_.transform);Z.draw(b,U.TRIANGLES,Mi.disabled,Di.disabled,_.colorModeForRenderPass(),Oi.disabled,we,_.style.map.terrain&&_.style.map.terrain.getTerrainData(be.coord),null,o.id,pe,me,s.aJ.simpleSegment(0,2*be.circleOffset,be.circleArray.length,be.circleArray.length/2),null,_.transform.zoom,null,null,null)}pe.destroy(),me.destroy()}const uu=s.ad(new Float32Array(16));function du(_,i,o,d,p,b){const{horizontalAlign:B,verticalAlign:U}=s.aE(_);return new s.P((-(B-.5)*i/p+d[0])*b,(-(U-.5)*o/p+d[1])*b)}function j0(_,i,o,d,p,b){const B=i.tileAnchorPoint.add(new s.P(i.translation[0],i.translation[1]));if(i.pitchWithMap){let U=d.mult(b);o||(U=U.rotate(-p));const T=B.add(U);return _t(T.x,T.y,i.pitchedLabelPlaneMatrix,i.getElevation).point}if(o){const U=Bi(i.tileAnchorPoint.x+1,i.tileAnchorPoint.y,i).point.sub(_),T=Math.atan(U.y/U.x)+(U.x<0?Math.PI:0);return _.add(d.rotate(T))}return _.add(d)}function bc(_,i,o,d,p,b,B,U,T,N,Q,z){const Z=_.text.placedSymbolArray,W=_.text.dynamicLayoutVertexArray,ee=_.icon.dynamicLayoutVertexArray,me={};W.clear();for(let pe=0;pe<Z.length;pe++){const be=Z.get(pe),we=be.hidden||!be.crossTileID||_.allowVerticalPlacement&&!be.placedOrientation?null:d[be.crossTileID];if(we){const Me=new s.P(be.anchorX,be.anchorY),Re={getElevation:z,width:p.width,height:p.height,pitchedLabelPlaneMatrix:b,pitchWithMap:o,transform:p,tileAnchorPoint:Me,translation:N,unwrappedTileID:Q},Fe=o?Cn(Me.x,Me.y,Re):Bi(Me.x,Me.y,Re),Pe=Wt(p.cameraToCenterDistance,Fe.signedDistanceFromCamera);let Ye=s.am(_.textSizeData,U,be)*Pe/s.ay;o&&(Ye*=_.tilePixelRatio/B);const{width:Ke,height:We,anchor:ct,textOffset:dt,textBoxScale:At}=we,Lt=du(ct,Ke,We,dt,At,Ye),Ut=p.getPitchedTextCorrection(Me.x+N[0],Me.y+N[1],Q),bt=j0(Fe.point,Re,i,Lt,-p.bearingInRadians,Ut),ti=_.allowVerticalPlacement&&be.placedOrientation===s.al.vertical?Math.PI/2:0;for(let Ii=0;Ii<be.numGlyphs;Ii++)s.as(W,bt,ti);T&&be.associatedIconIndex>=0&&(me[be.associatedIconIndex]={shiftedAnchor:bt,angle:ti})}else Ui(be.numGlyphs,W)}if(T){ee.clear();const pe=_.icon.placedSymbolArray;for(let be=0;be<pe.length;be++){const we=pe.get(be);if(we.hidden)Ui(we.numGlyphs,ee);else{const Me=me[be];if(Me)for(let Re=0;Re<we.numGlyphs;Re++)s.as(ee,Me.shiftedAnchor,Me.angle);else Ui(we.numGlyphs,ee)}}_.icon.dynamicLayoutVertexBuffer.updateData(ee)}_.text.dynamicLayoutVertexBuffer.updateData(W)}function yc(_,i,o){return o.iconsInText&&i?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function vc(_,i,o,d,p,b,B,U,T,N,Q,z,Z){const W=_.context,ee=W.gl,me=_.transform,pe=U==="map",be=T==="map",we=U!=="viewport"&&o.layout.get("symbol-placement")!=="point",Me=pe&&!be&&!we,Re=!o.layout.get("symbol-sort-key").isConstant();let Fe=!1;const Pe=_.getDepthModeForSublayer(0,Mi.ReadOnly),Ye=o._unevaluatedLayout.hasValue("text-variable-anchor")||o._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ke=[],We=me.getCircleRadiusCorrection();for(const ct of d){const dt=i.getTile(ct),At=dt.getBucket(o);if(!At)continue;const Lt=p?At.text:At.icon;if(!Lt||!Lt.segments.get().length||!Lt.hasVisibleVertices)continue;const Ut=Lt.programConfigurations.get(o.id),bt=p||At.sdfIcons,ti=p?At.textSizeData:At.iconSizeData,Ii=be||me.pitch!==0,bi=_.useProgram(yc(bt,p,At),Ut),xa=s.ak(ti,me.zoom),ia=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ct);let wa,pa,aa,Ji,nr=[0,0],qa=null;if(p)pa=dt.glyphAtlasTexture,aa=ee.LINEAR,wa=dt.glyphAtlasTexture.size,At.iconsInText&&(nr=dt.imageAtlasTexture.size,qa=dt.imageAtlasTexture,Ji=Ii||_.options.rotating||_.options.zooming||ti.kind==="composite"||ti.kind==="camera"?ee.LINEAR:ee.NEAREST);else{const Ma=o.layout.get("icon-size").constantOr(0)!==1||At.iconsNeedLinear;pa=dt.imageAtlasTexture,aa=bt||_.options.rotating||_.options.zooming||Ma||Ii?ee.LINEAR:ee.NEAREST,wa=dt.imageAtlasTexture.size}const br=s.az(dt,1,_.transform.zoom),Er=ut(pe,_.transform,br),Wn=s.K();s.an(Wn,Er);const Gs=wt(be,pe,_.transform,br),bs=s.aA(me,dt,b,B),ys=me.getProjectionData({overscaledTileID:ct,applyGlobeMatrix:!Z,applyTerrainMatrix:!0}),Jn=Ye&&At.hasTextData(),wo=o.layout.get("icon-text-fit")!=="none"&&Jn&&At.hasIconData();if(we){const Ma=_.style.map.terrain?(Qa,Ba)=>_.style.map.terrain.getElevation(ct,Qa,Ba):null,ma=o.layout.get("text-rotation-alignment")==="map";ai(At,_,p,Er,Wn,be,N,ma,ct.toUnwrapped(),me.width,me.height,bs,Ma)}const Bo=p&&Ye||wo,an=we||Bo?uu:be?Er:_.transform.clipSpaceToPixelsMatrix,js=bt&&o.paint.get(p?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let vs;vs=bt?At.iconsInText?D0(ti.kind,xa,Me,be,we,Bo,_,an,Gs,bs,wa,nr,We):lc(ti.kind,xa,Me,be,we,Bo,_,an,Gs,bs,p,wa,0,We):iu(ti.kind,xa,Me,be,we,Bo,_,an,Gs,bs,p,wa,We);const xs={program:bi,buffers:Lt,uniformValues:vs,projectionData:ys,atlasTexture:pa,atlasTextureIcon:qa,atlasInterpolation:aa,atlasInterpolationIcon:Ji,isSDF:bt,hasHalo:js};if(Re&&At.canOverlap){Fe=!0;const Ma=Lt.segments.get();for(const ma of Ma)Ke.push({segments:new s.aJ([ma]),sortKey:ma.sortKey,state:xs,terrainData:ia})}else Ke.push({segments:Lt.segments,sortKey:0,state:xs,terrainData:ia})}Fe&&Ke.sort((ct,dt)=>ct.sortKey-dt.sortKey);for(const ct of Ke){const dt=ct.state;if(W.activeTexture.set(ee.TEXTURE0),dt.atlasTexture.bind(dt.atlasInterpolation,ee.CLAMP_TO_EDGE),dt.atlasTextureIcon&&(W.activeTexture.set(ee.TEXTURE1),dt.atlasTextureIcon&&dt.atlasTextureIcon.bind(dt.atlasInterpolationIcon,ee.CLAMP_TO_EDGE)),dt.isSDF){const At=dt.uniformValues;dt.hasHalo&&(At.u_is_halo=1,K0(dt.buffers,ct.segments,o,_,dt.program,Pe,Q,z,At,dt.projectionData,ct.terrainData)),At.u_is_halo=0}K0(dt.buffers,ct.segments,o,_,dt.program,Pe,Q,z,dt.uniformValues,dt.projectionData,ct.terrainData)}}function K0(_,i,o,d,p,b,B,U,T,N,Q){const z=d.context;p.draw(z,z.gl.TRIANGLES,b,B,U,Oi.backCCW,T,Q,N,o.id,_.layoutVertexBuffer,_.indexBuffer,i,o.paint,d.transform.zoom,_.programConfigurations.get(o.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function fu(_,i,o,d,p){const b=_.context,B=b.gl,U=Di.disabled,T=new Wi([B.ONE,B.ONE],s.b7.transparent,[!0,!0,!0,!0]),N=i.getBucket(o);if(!N)return;const Q=d.key;let z=o.heatmapFbos.get(Q);z||(z=gu(b,i.tileSize,i.tileSize),o.heatmapFbos.set(Q,z)),b.bindFramebuffer.set(z.framebuffer),b.viewport.set([0,0,i.tileSize,i.tileSize]),b.clear({color:s.b7.transparent});const Z=N.programConfigurations.get(o.id),W=_.useProgram("heatmap",Z,!p),ee=_.transform.getProjectionData({overscaledTileID:i.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),me=_.style.map.terrain.getTerrainData(d);W.draw(b,B.TRIANGLES,Mi.disabled,U,T,Oi.disabled,eu(i,_.transform.zoom,o.paint.get("heatmap-intensity"),1),me,ee,o.id,N.layoutVertexBuffer,N.indexBuffer,N.segments,o.paint,_.transform.zoom,Z)}function Rp(_,i,o,d,p){const b=_.context,B=b.gl,U=_.transform;b.setColorMode(_.colorModeForRenderPass());const T=hA(b,i),N=o.key,Q=i.heatmapFbos.get(N);if(!Q)return;b.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,Q.colorAttachment.get()),b.activeTexture.set(B.TEXTURE1),T.bind(B.LINEAR,B.CLAMP_TO_EDGE);const z=U.getProjectionData({overscaledTileID:o,applyTerrainMatrix:p,applyGlobeMatrix:!d});_.useProgram("heatmapTexture").draw(b,B.TRIANGLES,Mi.disabled,Di.disabled,_.colorModeForRenderPass(),Oi.disabled,tu(_,i,0,1),null,z,i.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments,i.paint,U.zoom),Q.destroy(),i.heatmapFbos.delete(N)}function gu(_,i,o){var d,p;const b=_.gl,B=b.createTexture();b.bindTexture(b.TEXTURE_2D,B),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);const U=(d=_.HALF_FLOAT)!==null&&d!==void 0?d:b.UNSIGNED_BYTE,T=(p=_.RGBA16F)!==null&&p!==void 0?p:b.RGBA;b.texImage2D(b.TEXTURE_2D,0,T,i,o,0,b.RGBA,U,null);const N=_.createFramebuffer(i,o,!1,!1);return N.colorAttachment.set(B),N}function hA(_,i){return i.colorRampTexture||(i.colorRampTexture=new V(_,i.colorRamp,_.gl.RGBA)),i.colorRampTexture}function xc(_,i,o,d,p){if(!o||!d||!d.imageAtlas)return;const b=d.imageAtlas.patternPositions;let B=b[o.to.toString()],U=b[o.from.toString()];if(!B&&U&&(B=U),!U&&B&&(U=B),!B||!U){const T=p.getPaintProperty(i);B=b[T],U=b[T]}B&&U&&_.setConstantPatternPositions(B,U)}function pu(_,i,o,d,p,b,B,U){const T=_.context.gl,N="fill-pattern",Q=o.paint.get(N),z=Q&&Q.constantOr(1),Z=o.getCrossfadeParameters();let W,ee,me,pe,be;const we=_.transform,Me=o.paint.get("fill-translate"),Re=o.paint.get("fill-translate-anchor");B?(ee=z&&!o.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",W=T.LINES):(ee=z?"fillPattern":"fill",W=T.TRIANGLES);const Fe=Q.constantOr(null);for(const Pe of d){const Ye=i.getTile(Pe);if(z&&!Ye.patternsLoaded())continue;const Ke=Ye.getBucket(o);if(!Ke)continue;const We=Ke.programConfigurations.get(o.id),ct=_.useProgram(ee,We),dt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Pe);z&&(_.context.activeTexture.set(T.TEXTURE0),Ye.imageAtlasTexture.bind(T.LINEAR,T.CLAMP_TO_EDGE),We.updatePaintBuffers(Z)),xc(We,N,Fe,Ye,o);const At=we.getProjectionData({overscaledTileID:Pe,applyGlobeMatrix:!U,applyTerrainMatrix:!0}),Lt=s.aA(we,Ye,Me,Re);if(B){pe=Ke.indexBuffer2,be=Ke.segments2;const bt=[T.drawingBufferWidth,T.drawingBufferHeight];me=ee==="fillOutlinePattern"&&z?T0(_,Z,Ye,bt,Lt):gp(bt,Lt)}else pe=Ke.indexBuffer,be=Ke.segments,me=z?uo(_,Z,Ye,Lt):{u_fill_translate:Lt};let Ut;if(_.renderPass==="translucent"&&U){const[bt]=_.getStencilConfigForOverlapAndUpdateStencilID(d);Ut=bt[Pe.overscaledZ]}else Ut=_.stencilModeForClipping(Pe);ct.draw(_.context,W,p,Ut,b,Oi.backCCW,me,dt,At,o.id,Ke.layoutVertexBuffer,pe,be,o.paint,_.transform.zoom,We)}}function wc(_,i,o,d,p,b,B,U){const T=_.context,N=T.gl,Q="fill-extrusion-pattern",z=o.paint.get(Q),Z=z.constantOr(1),W=o.getCrossfadeParameters(),ee=o.paint.get("fill-extrusion-opacity"),me=z.constantOr(null),pe=_.transform;for(const be of d){const we=i.getTile(be),Me=we.getBucket(o);if(!Me)continue;const Re=_.style.map.terrain&&_.style.map.terrain.getTerrainData(be),Fe=Me.programConfigurations.get(o.id),Pe=_.useProgram(Z?"fillExtrusionPattern":"fillExtrusion",Fe);Z&&(_.context.activeTexture.set(N.TEXTURE0),we.imageAtlasTexture.bind(N.LINEAR,N.CLAMP_TO_EDGE),Fe.updatePaintBuffers(W));const Ye=pe.getProjectionData({overscaledTileID:be,applyGlobeMatrix:!U,applyTerrainMatrix:!0});xc(Fe,Q,me,we,o);const Ke=s.aA(pe,we,o.paint.get("fill-extrusion-translate"),o.paint.get("fill-extrusion-translate-anchor")),We=o.paint.get("fill-extrusion-vertical-gradient"),ct=Z?fp(_,We,ee,Ke,be,W,we):sA(_,We,ee,Ke);Pe.draw(T,T.gl.TRIANGLES,p,b,B,Oi.backCCW,ct,Re,Ye,o.id,Me.layoutVertexBuffer,Me.indexBuffer,Me.segments,o.paint,_.transform.zoom,Fe,_.style.map.terrain&&Me.centroidVertexBuffer)}}function Al(_,i,o,d,p,b,B,U,T){var N;const Q=_.style.projection,z=_.context,Z=_.transform,W=z.gl,ee=_.useProgram("hillshade"),me=!_.options.moving;for(const pe of d){const be=i.getTile(pe),we=be.fbo;if(!we)continue;const Me=Q.getMeshFromTileID(z,pe.canonical,U,!0,"raster"),Re=(N=_.style.map.terrain)===null||N===void 0?void 0:N.getTerrainData(pe);z.activeTexture.set(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,we.colorAttachment.get());const Fe=Z.getProjectionData({overscaledTileID:pe,aligned:me,applyGlobeMatrix:!T,applyTerrainMatrix:!0});ee.draw(z,W.TRIANGLES,b,p[pe.overscaledZ],B,Oi.backCCW,Y0(_,be,o),Re,Fe,o.id,Me.vertexBuffer,Me.indexBuffer,Me.segments)}}const uA=[new s.P(0,0),new s.P(s.Z,0),new s.P(s.Z,s.Z),new s.P(0,s.Z)];function Bc(_,i,o,d,p,b,B,U,T=!1,N=!1){const Q=d[d.length-1].overscaledZ,z=_.context,Z=z.gl,W=_.useProgram("raster"),ee=_.transform,me=_.style.projection,pe=_.colorModeForRenderPass(),be=!_.options.moving;for(const we of d){const Me=_.getDepthModeForSublayer(we.overscaledZ-Q,o.paint.get("raster-opacity")===1?Mi.ReadWrite:Mi.ReadOnly,Z.LESS),Re=i.getTile(we);Re.registerFadeDuration(o.paint.get("raster-fade-duration"));const Fe=i.findLoadedParent(we,0),Pe=i.findLoadedSibling(we),Ye=$0(Re,Fe||Pe||null,i,o,_.transform,_.style.map.terrain);let Ke,We;const ct=o.paint.get("raster-resampling")==="nearest"?Z.NEAREST:Z.LINEAR;z.activeTexture.set(Z.TEXTURE0),Re.texture.bind(ct,Z.CLAMP_TO_EDGE,Z.LINEAR_MIPMAP_NEAREST),z.activeTexture.set(Z.TEXTURE1),Fe?(Fe.texture.bind(ct,Z.CLAMP_TO_EDGE,Z.LINEAR_MIPMAP_NEAREST),Ke=Math.pow(2,Fe.tileID.overscaledZ-Re.tileID.overscaledZ),We=[Re.tileID.canonical.x*Ke%1,Re.tileID.canonical.y*Ke%1]):Re.texture.bind(ct,Z.CLAMP_TO_EDGE,Z.LINEAR_MIPMAP_NEAREST),Re.texture.useMipmap&&z.extTextureFilterAnisotropic&&_.transform.pitch>20&&Z.texParameterf(Z.TEXTURE_2D,z.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,z.extTextureFilterAnisotropicMax);const dt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(we),At=ee.getProjectionData({overscaledTileID:we,aligned:be,applyGlobeMatrix:!N,applyTerrainMatrix:!0}),Lt=Q0(We||[0,0],Ke||1,Ye,o,U),Ut=me.getMeshFromTileID(z,we.canonical,b,B,"raster");W.draw(z,Z.TRIANGLES,Me,p?p[we.overscaledZ]:Di.disabled,pe,T?Oi.frontCCW:Oi.backCCW,Lt,dt,At,o.id,Ut.vertexBuffer,Ut.indexBuffer,Ut.segments)}}function $0(_,i,o,d,p,b){const B=d.paint.get("raster-fade-duration");if(!b&&B>0){const U=E.now(),T=(U-_.timeAdded)/B,N=i?(U-i.timeAdded)/B:-1,Q=o.getSource(),z=Ge(p,{tileSize:Q.tileSize,roundZoom:Q.roundZoom}),Z=!i||Math.abs(i.tileID.overscaledZ-z)>Math.abs(_.tileID.overscaledZ-z),W=Z&&_.refreshedUponExpiration?1:s.ae(Z?T:1-N,0,1);return _.refreshedUponExpiration&&T>=1&&(_.refreshedUponExpiration=!1),i?{opacity:1,mix:1-W}:{opacity:W,mix:0}}return{opacity:1,mix:0}}const Pa=new s.b7(1,0,0,1),_o=new s.b7(0,1,0,1),mn=new s.b7(0,0,1,1),mu=new s.b7(1,0,1,1),_u=new s.b7(0,1,1,1);function bu(_,i,o,d){Os(_,0,i+o/2,_.transform.width,o,d)}function bo(_,i,o,d){Os(_,i-o/2,0,o,_.transform.height,d)}function Os(_,i,o,d,p,b){const B=_.context,U=B.gl;U.enable(U.SCISSOR_TEST),U.scissor(i*_.pixelRatio,o*_.pixelRatio,d*_.pixelRatio,p*_.pixelRatio),B.clear({color:b}),U.disable(U.SCISSOR_TEST)}function yu(_,i,o){const d=_.context,p=d.gl,b=_.useProgram("debug"),B=Mi.disabled,U=Di.disabled,T=_.colorModeForRenderPass(),N="$debug",Q=_.style.map.terrain&&_.style.map.terrain.getTerrainData(o);d.activeTexture.set(p.TEXTURE0);const z=i.getTileByID(o.key).latestRawTileData,Z=Math.floor((z&&z.byteLength||0)/1024),W=i.getTile(o).tileSize,ee=512/Math.min(W,512)*(o.overscaledZ/_.transform.zoom)*.5;let me=o.canonical.toString();o.overscaledZ!==o.canonical.z&&(me+=` => ${o.overscaledZ}`),function(be,we){be.initDebugOverlayCanvas();const Me=be.debugOverlayCanvas,Re=be.context.gl,Fe=be.debugOverlayCanvas.getContext("2d");Fe.clearRect(0,0,Me.width,Me.height),Fe.shadowColor="white",Fe.shadowBlur=2,Fe.lineWidth=1.5,Fe.strokeStyle="white",Fe.textBaseline="top",Fe.font="bold 36px Open Sans, sans-serif",Fe.fillText(we,5,5),Fe.strokeText(we,5,5),be.debugOverlayTexture.update(Me),be.debugOverlayTexture.bind(Re.LINEAR,Re.CLAMP_TO_EDGE)}(_,`${me} ${Z}kB`);const pe=_.transform.getProjectionData({overscaledTileID:o,applyGlobeMatrix:!0,applyTerrainMatrix:!0});b.draw(d,p.TRIANGLES,B,U,Wi.alphaBlended,Oi.disabled,Jh(s.b7.transparent,ee),null,pe,N,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),b.draw(d,p.LINE_STRIP,B,U,T,Oi.disabled,Jh(s.b7.red),Q,pe,N,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function vu(_,i,o,d){const{isRenderingGlobe:p}=d,b=_.context,B=b.gl,U=_.transform,T=_.colorModeForRenderPass(),N=_.getDepthModeFor3D(),Q=_.useProgram("terrain");b.bindFramebuffer.set(null),b.viewport.set([0,0,_.width,_.height]);for(const z of o){const Z=i.getTerrainMesh(z.tileID),W=_.renderToTexture.getTexture(z),ee=i.getTerrainData(z.tileID);b.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,W.texture);const me=i.getMeshFrameDelta(U.zoom),pe=U.calculateFogMatrix(z.tileID.toUnwrapped()),be=dp(me,pe,_.style.sky,U.pitch,p),we=U.getProjectionData({overscaledTileID:z.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});Q.draw(b,B.TRIANGLES,N,Di.disabled,T,Oi.backCCW,be,ee,we,"terrain",Z.vertexBuffer,Z.indexBuffer,Z.segments)}}function xu(_,i){if(!i.mesh){const o=new s.aI;o.emplaceBack(-1,-1),o.emplaceBack(1,-1),o.emplaceBack(1,1),o.emplaceBack(-1,1);const d=new s.aK;d.emplaceBack(0,1,2),d.emplaceBack(0,2,3),i.mesh=new Wo(_.createVertexBuffer(o,Xn.members),_.createIndexBuffer(d),s.aJ.simpleSegment(0,0,o.length,d.length))}return i.mesh}class q0{constructor(i,o){this.context=new hu(i),this.transform=o,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.ad(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=et.maxUnderzooming+et.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new fs}resize(i,o,d){if(this.width=Math.floor(i*d),this.height=Math.floor(o*d),this.pixelRatio=d,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const p of this.style._order)this.style._layers[p].resize()}setup(){const i=this.context,o=new s.aI;o.emplaceBack(0,0),o.emplaceBack(s.Z,0),o.emplaceBack(0,s.Z),o.emplaceBack(s.Z,s.Z),this.tileExtentBuffer=i.createVertexBuffer(o,Xn.members),this.tileExtentSegments=s.aJ.simpleSegment(0,0,4,2);const d=new s.aI;d.emplaceBack(0,0),d.emplaceBack(s.Z,0),d.emplaceBack(0,s.Z),d.emplaceBack(s.Z,s.Z),this.debugBuffer=i.createVertexBuffer(d,Xn.members),this.debugSegments=s.aJ.simpleSegment(0,0,4,5);const p=new s.bY;p.emplaceBack(0,0,0,0),p.emplaceBack(s.Z,0,s.Z,0),p.emplaceBack(0,s.Z,0,s.Z),p.emplaceBack(s.Z,s.Z,s.Z,s.Z),this.rasterBoundsBuffer=i.createVertexBuffer(p,$h.members),this.rasterBoundsSegments=s.aJ.simpleSegment(0,0,4,2);const b=new s.aI;b.emplaceBack(0,0),b.emplaceBack(s.Z,0),b.emplaceBack(0,s.Z),b.emplaceBack(s.Z,s.Z),this.rasterBoundsBufferPosOnly=i.createVertexBuffer(b,Xn.members),this.rasterBoundsSegmentsPosOnly=s.aJ.simpleSegment(0,0,4,5);const B=new s.aI;B.emplaceBack(0,0),B.emplaceBack(1,0),B.emplaceBack(0,1),B.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(B,Xn.members),this.viewportSegments=s.aJ.simpleSegment(0,0,4,2);const U=new s.bZ;U.emplaceBack(0),U.emplaceBack(1),U.emplaceBack(3),U.emplaceBack(2),U.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(U);const T=new s.aK;T.emplaceBack(1,0,2),T.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(T);const N=this.context.gl;this.stencilClearMode=new Di({func:N.ALWAYS,mask:0},0,255,N.ZERO,N.ZERO,N.ZERO),this.tileExtentMesh=new Wo(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const i=this.context,o=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const d=s.K();s.bQ(d,0,this.width,this.height,0,0,1),s.M(d,d,[o.drawingBufferWidth,o.drawingBufferHeight,0]);const p={mainMatrix:d,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:d};this.useProgram("clippingMask",null,!0).draw(i,o.TRIANGLES,Mi.disabled,this.stencilClearMode,Wi.disabled,Oi.disabled,null,null,p,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,o,d){if(this.currentStencilSource===i.source||!i.isTileClipped()||!o||!o.length)return;this.currentStencilSource=i.source,this.nextStencilID+o.length>256&&this.clearStencil();const p=this.context;p.setColorMode(Wi.disabled),p.setDepthMode(Mi.disabled);const b={};for(const B of o)b[B.key]=this.nextStencilID++;this._renderTileMasks(b,o,d,!0),this._renderTileMasks(b,o,d,!1),this._tileClippingMaskIDs=b}_renderTileMasks(i,o,d,p){const b=this.context,B=b.gl,U=this.style.projection,T=this.transform,N=this.useProgram("clippingMask");for(const Q of o){const z=i[Q.key],Z=this.style.map.terrain&&this.style.map.terrain.getTerrainData(Q),W=U.getMeshFromTileID(this.context,Q.canonical,p,!0,"stencil"),ee=T.getProjectionData({overscaledTileID:Q,applyGlobeMatrix:!0,applyTerrainMatrix:!0});N.draw(b,B.TRIANGLES,Mi.disabled,new Di({func:B.ALWAYS,mask:0},z,255,B.KEEP,B.KEEP,B.REPLACE),Wi.disabled,d?Oi.disabled:Oi.backCCW,null,Z,ee,"$clipping",W.vertexBuffer,W.indexBuffer,W.segments)}}_renderTilesDepthBuffer(){const i=this.context,o=i.gl,d=this.style.projection,p=this.transform,b=this.useProgram("depth"),B=this.getDepthModeFor3D(),U=Ie(p,{tileSize:p.tileSize});for(const T of U){const N=this.style.map.terrain&&this.style.map.terrain.getTerrainData(T),Q=d.getMeshFromTileID(this.context,T.canonical,!0,!0,"raster"),z=p.getProjectionData({overscaledTileID:T,applyGlobeMatrix:!0,applyTerrainMatrix:!0});b.draw(i,o.TRIANGLES,B,Di.disabled,Wi.disabled,Oi.backCCW,null,N,z,"$clipping",Q.vertexBuffer,Q.indexBuffer,Q.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,o=this.context.gl;return new Di({func:o.NOTEQUAL,mask:255},i,255,o.KEEP,o.KEEP,o.REPLACE)}stencilModeForClipping(i){const o=this.context.gl;return new Di({func:o.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,o.KEEP,o.KEEP,o.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(i){const o=this.context.gl,d=i.sort((B,U)=>U.overscaledZ-B.overscaledZ),p=d[d.length-1].overscaledZ,b=d[0].overscaledZ-p+1;if(b>1){this.currentStencilSource=void 0,this.nextStencilID+b>256&&this.clearStencil();const B={};for(let U=0;U<b;U++)B[U+p]=new Di({func:o.GEQUAL,mask:255},U+this.nextStencilID,255,o.KEEP,o.KEEP,o.REPLACE);return this.nextStencilID+=b,[B,d]}return[{[p]:Di.disabled},d]}stencilConfigForOverlapTwoPass(i){const o=this.context.gl,d=i.sort((B,U)=>U.overscaledZ-B.overscaledZ),p=d[d.length-1].overscaledZ,b=d[0].overscaledZ-p+1;if(this.clearStencil(),b>1){const B={},U={};for(let T=0;T<b;T++)B[T+p]=new Di({func:o.GREATER,mask:255},b+1+T,255,o.KEEP,o.KEEP,o.REPLACE),U[T+p]=new Di({func:o.GREATER,mask:255},1+T,255,o.KEEP,o.KEEP,o.REPLACE);return this.nextStencilID=2*b+1,[B,U,d]}return this.nextStencilID=3,[{[p]:new Di({func:o.GREATER,mask:255},2,255,o.KEEP,o.KEEP,o.REPLACE)},{[p]:new Di({func:o.GREATER,mask:255},1,255,o.KEEP,o.KEEP,o.REPLACE)},d]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new Wi([i.CONSTANT_COLOR,i.ONE],new s.b7(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Wi.unblended:Wi.alphaBlended}getDepthModeForSublayer(i,o,d){if(!this.opaquePassEnabledForLayer())return Mi.disabled;const p=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new Mi(d||this.context.gl.LEQUAL,o,[p,p])}getDepthModeFor3D(){return new Mi(this.context.gl.LEQUAL,Mi.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,o){var d,p;this.style=i,this.options=o,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(E.now()),this.imageManager.beginFrame();const b=this.style._order,B=this.style.sourceCaches,U={},T={},N={},Q={isRenderingToTexture:!1,isRenderingGlobe:((d=i.projection)===null||d===void 0?void 0:d.transitionState)>0};for(const Z in B){const W=B[Z];W.used&&W.prepare(this.context),U[Z]=W.getVisibleCoordinates(!1),T[Z]=U[Z].slice().reverse(),N[Z]=W.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Z=0;Z<b.length;Z++)if(this.style._layers[b[Z]].is3D()){this.opaquePassCutoff=Z;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Z of b){const W=this.style._layers[Z];if(!W.hasOffscreenPass()||W.isHidden(this.transform.zoom))continue;const ee=T[W.source];(W.type==="custom"||ee.length)&&this.renderLayer(this,B[W.source],W,ee,Q)}if((p=this.style.projection)===null||p===void 0||p.updateGPUdependent({context:this.context,useProgram:Z=>this.useProgram(Z)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:o.showOverdrawInspector?s.b7.black:s.b7.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(Z,W){const ee=Z.context,me=ee.gl,pe=((Pe,Ye,Ke)=>{const We=Math.cos(Ye.rollInRadians),ct=Math.sin(Ye.rollInRadians),dt=ze(Ye),At=Ye.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Pe.properties.get("sky-color"),u_horizon_color:Pe.properties.get("horizon-color"),u_horizon:[(Ye.width/2-dt*ct)*Ke,(Ye.height/2+dt*We)*Ke],u_horizon_normal:[-ct,We],u_sky_horizon_blend:Pe.properties.get("sky-horizon-blend")*Ye.height/2*Ke,u_sky_blend:At}})(W,Z.style.map.transform,Z.pixelRatio),be=new Mi(me.LEQUAL,Mi.ReadWrite,[0,1]),we=Di.disabled,Me=Z.colorModeForRenderPass(),Re=Z.useProgram("sky"),Fe=xu(ee,W);Re.draw(ee,me.TRIANGLES,be,we,Me,Oi.disabled,pe,null,void 0,"sky",Fe.vertexBuffer,Fe.indexBuffer,Fe.segments)}(this,this.style.sky),this._showOverdrawInspector=o.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=b.length-1;this.currentLayer>=0;this.currentLayer--){const Z=this.style._layers[b[this.currentLayer]],W=B[Z.source],ee=U[Z.source];this._renderTileClippingMasks(Z,ee,!1),this.renderLayer(this,W,Z,ee,Q)}this.renderPass="translucent";let z=!1;for(this.currentLayer=0;this.currentLayer<b.length;this.currentLayer++){const Z=this.style._layers[b[this.currentLayer]],W=B[Z.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(Z,Q))continue;this.opaquePassEnabledForLayer()||z||(z=!0,Q.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const ee=(Z.type==="symbol"?N:T)[Z.source];this._renderTileClippingMasks(Z,U[Z.source],!1),this.renderLayer(this,W,Z,ee,Q)}if(Q.isRenderingGlobe&&function(Z,W,ee){const me=Z.context,pe=me.gl,be=Z.useProgram("atmosphere"),we=new Mi(pe.LEQUAL,Mi.ReadOnly,[0,1]),Me=Z.transform,Re=function(At,Lt){const Ut=At.properties.get("position"),bt=[-Ut.x,-Ut.y,-Ut.z],ti=s.ad(new Float64Array(16));return At.properties.get("anchor")==="map"&&(s.a_(ti,ti,Lt.rollInRadians),s.a$(ti,ti,-Lt.pitchInRadians),s.a_(ti,ti,Lt.bearingInRadians),s.a$(ti,ti,Lt.center.lat*Math.PI/180),s.bp(ti,ti,-Lt.center.lng*Math.PI/180)),s.bX(bt,bt,ti),bt}(ee,Z.transform),Fe=Me.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Pe=W.properties.get("atmosphere-blend")*Fe.projectionTransition;if(Pe===0)return;const Ye=ec(Me.worldSize,Me.center.lat),Ke=Me.inverseProjectionMatrix,We=new Float64Array(4);We[3]=1,s.at(We,We,Me.modelViewProjectionMatrix),We[0]/=We[3],We[1]/=We[3],We[2]/=We[3],We[3]=1,s.at(We,We,Ke),We[0]/=We[3],We[1]/=We[3],We[2]/=We[3],We[3]=1;const ct=((At,Lt,Ut,bt,ti)=>({u_sun_pos:At,u_atmosphere_blend:Lt,u_globe_position:Ut,u_globe_radius:bt,u_inv_proj_matrix:ti}))(Re,Pe,[We[0],We[1],We[2]],Ye,Ke),dt=xu(me,W);be.draw(me,pe.TRIANGLES,we,Di.disabled,Wi.alphaBlended,Oi.disabled,ct,null,null,"atmosphere",dt.vertexBuffer,dt.indexBuffer,dt.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const Z=function(W,ee){let me=null;const pe=Object.values(W._layers).flatMap(Re=>Re.source&&!Re.isHidden(ee)?[W.sourceCaches[Re.source]]:[]),be=pe.filter(Re=>Re.getSource().type==="vector"),we=pe.filter(Re=>Re.getSource().type!=="vector"),Me=Re=>{(!me||me.getSource().maxzoom<Re.getSource().maxzoom)&&(me=Re)};return be.forEach(Re=>Me(Re)),me||we.forEach(Re=>Me(Re)),me}(this.style,this.transform.zoom);Z&&function(W,ee,me){for(let pe=0;pe<me.length;pe++)yu(W,ee,me[pe])}(this,Z,Z.getVisibleCoordinates())}this.options.showPadding&&function(Z){const W=Z.transform.padding;bu(Z,Z.transform.height-(W.top||0),3,Pa),bu(Z,W.bottom||0,3,_o),bo(Z,W.left||0,3,mn),bo(Z,Z.transform.width-(W.right||0),3,mu);const ee=Z.transform.centerPoint;(function(me,pe,be,we){Os(me,pe-1,be-10,2,20,we),Os(me,pe-10,be-1,20,2,we)})(Z,ee.x,Z.transform.height-ee.y,_u)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(i){if(!this.style||!this.style.map||!this.style.map.terrain)return;const o=this.terrainFacilitator.matrix,d=this.transform.modelViewProjectionMatrix;let p=this.terrainFacilitator.dirty;p||(p=i?!s.b_(o,d):!s.b$(o,d)),p||(p=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),p&&(s.c0(o,d),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(b,B){const U=b.context,T=U.gl,N=b.transform,Q=Wi.unblended,z=new Mi(T.LEQUAL,Mi.ReadWrite,[0,1]),Z=B.sourceCache.getRenderableTiles(),W=b.useProgram("terrainDepth");U.bindFramebuffer.set(B.getFramebuffer("depth").framebuffer),U.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),U.clear({color:s.b7.transparent,depth:1});for(const ee of Z){const me=B.getTerrainMesh(ee.tileID),pe=B.getTerrainData(ee.tileID),be=N.getProjectionData({overscaledTileID:ee.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),we={u_ele_delta:B.getMeshFrameDelta(N.zoom)};W.draw(U,T.TRIANGLES,z,Di.disabled,Q,Oi.backCCW,we,pe,be,"terrain",me.vertexBuffer,me.indexBuffer,me.segments)}U.bindFramebuffer.set(null),U.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain),function(b,B){const U=b.context,T=U.gl,N=b.transform,Q=Wi.unblended,z=new Mi(T.LEQUAL,Mi.ReadWrite,[0,1]),Z=B.getCoordsTexture(),W=B.sourceCache.getRenderableTiles(),ee=b.useProgram("terrainCoords");U.bindFramebuffer.set(B.getFramebuffer("coords").framebuffer),U.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),U.clear({color:s.b7.transparent,depth:1}),B.coordsIndex=[];for(const me of W){const pe=B.getTerrainMesh(me.tileID),be=B.getTerrainData(me.tileID);U.activeTexture.set(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,Z.texture);const we={u_terrain_coords_id:(255-B.coordsIndex.length)/255,u_texture:0,u_ele_delta:B.getMeshFrameDelta(N.zoom)},Me=N.getProjectionData({overscaledTileID:me.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ee.draw(U,T.TRIANGLES,z,Di.disabled,Q,Oi.backCCW,we,be,Me,"terrain",pe.vertexBuffer,pe.indexBuffer,pe.segments),B.coordsIndex.push(me.tileID.key)}U.bindFramebuffer.set(null),U.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain))}renderLayer(i,o,d,p,b){d.isHidden(this.transform.zoom)||(d.type==="background"||d.type==="custom"||(p||[]).length)&&(this.id=d.id,s.c1(d)?function(B,U,T,N,Q,z){if(B.renderPass!=="translucent")return;const{isRenderingToTexture:Z}=z,W=Di.disabled,ee=B.colorModeForRenderPass();(T._unevaluatedLayout.hasValue("text-variable-anchor")||T._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(me,pe,be,we,Me,Re,Fe,Pe,Ye){const Ke=pe.transform,We=pe.style.map.terrain,ct=Me==="map",dt=Re==="map";for(const At of me){const Lt=we.getTile(At),Ut=Lt.getBucket(be);if(!Ut||!Ut.text||!Ut.text.segments.get().length)continue;const bt=s.ak(Ut.textSizeData,Ke.zoom),ti=s.az(Lt,1,pe.transform.zoom),Ii=ut(ct,pe.transform,ti),bi=be.layout.get("icon-text-fit")!=="none"&&Ut.hasIconData();if(bt){const xa=Math.pow(2,Ke.zoom-Lt.tileID.overscaledZ),ia=We?(wa,pa)=>We.getElevation(At,wa,pa):null;bc(Ut,ct,dt,Ye,Ke,Ii,xa,bt,bi,s.aA(Ke,Lt,Fe,Pe),At.toUnwrapped(),ia)}}}(N,B,T,U,T.layout.get("text-rotation-alignment"),T.layout.get("text-pitch-alignment"),T.paint.get("text-translate"),T.paint.get("text-translate-anchor"),Q),T.paint.get("icon-opacity").constantOr(1)!==0&&vc(B,U,T,N,!1,T.paint.get("icon-translate"),T.paint.get("icon-translate-anchor"),T.layout.get("icon-rotation-alignment"),T.layout.get("icon-pitch-alignment"),T.layout.get("icon-keep-upright"),W,ee,Z),T.paint.get("text-opacity").constantOr(1)!==0&&vc(B,U,T,N,!0,T.paint.get("text-translate"),T.paint.get("text-translate-anchor"),T.layout.get("text-rotation-alignment"),T.layout.get("text-pitch-alignment"),T.layout.get("text-keep-upright"),W,ee,Z),U.map.showCollisionBoxes&&(cA(B,U,T,N,!0),cA(B,U,T,N,!1))}(i,o,d,p,this.style.placement.variableOffsets,b):s.c2(d)?function(B,U,T,N,Q){if(B.renderPass!=="translucent")return;const{isRenderingToTexture:z}=Q,Z=T.paint.get("circle-opacity"),W=T.paint.get("circle-stroke-width"),ee=T.paint.get("circle-stroke-opacity"),me=!T.layout.get("circle-sort-key").isConstant();if(Z.constantOr(1)===0&&(W.constantOr(1)===0||ee.constantOr(1)===0))return;const pe=B.context,be=pe.gl,we=B.transform,Me=B.getDepthModeForSublayer(0,Mi.ReadOnly),Re=Di.disabled,Fe=B.colorModeForRenderPass(),Pe=[],Ye=we.getCircleRadiusCorrection();for(let Ke=0;Ke<N.length;Ke++){const We=N[Ke],ct=U.getTile(We),dt=ct.getBucket(T);if(!dt)continue;const At=T.paint.get("circle-translate"),Lt=T.paint.get("circle-translate-anchor"),Ut=s.aA(we,ct,At,Lt),bt=dt.programConfigurations.get(T.id),ti=B.useProgram("circle",bt),Ii=dt.layoutVertexBuffer,bi=dt.indexBuffer,xa=B.style.map.terrain&&B.style.map.terrain.getTerrainData(We),ia={programConfiguration:bt,program:ti,layoutVertexBuffer:Ii,indexBuffer:bi,uniformValues:pp(B,ct,T,Ut,Ye),terrainData:xa,projectionData:we.getProjectionData({overscaledTileID:We,applyGlobeMatrix:!z,applyTerrainMatrix:!0})};if(me){const wa=dt.segments.get();for(const pa of wa)Pe.push({segments:new s.aJ([pa]),sortKey:pa.sortKey,state:ia})}else Pe.push({segments:dt.segments,sortKey:0,state:ia})}me&&Pe.sort((Ke,We)=>Ke.sortKey-We.sortKey);for(const Ke of Pe){const{programConfiguration:We,program:ct,layoutVertexBuffer:dt,indexBuffer:At,uniformValues:Lt,terrainData:Ut,projectionData:bt}=Ke.state;ct.draw(pe,be.TRIANGLES,Me,Re,Fe,Oi.backCCW,Lt,Ut,bt,T.id,dt,At,Ke.segments,T.paint,B.transform.zoom,We)}}(i,o,d,p,b):s.c3(d)?function(B,U,T,N,Q){if(T.paint.get("heatmap-opacity")===0)return;const z=B.context,{isRenderingToTexture:Z,isRenderingGlobe:W}=Q;if(B.style.map.terrain){for(const ee of N){const me=U.getTile(ee);U.hasRenderableParent(ee)||(B.renderPass==="offscreen"?fu(B,me,T,ee,W):B.renderPass==="translucent"&&Rp(B,T,ee,Z,W))}z.viewport.set([0,0,B.width,B.height])}else B.renderPass==="offscreen"?function(ee,me,pe,be){const we=ee.context,Me=we.gl,Re=ee.transform,Fe=Di.disabled,Pe=new Wi([Me.ONE,Me.ONE],s.b7.transparent,[!0,!0,!0,!0]);(function(Ye,Ke,We){const ct=Ye.gl;Ye.activeTexture.set(ct.TEXTURE1),Ye.viewport.set([0,0,Ke.width/4,Ke.height/4]);let dt=We.heatmapFbos.get(s.bU);dt?(ct.bindTexture(ct.TEXTURE_2D,dt.colorAttachment.get()),Ye.bindFramebuffer.set(dt.framebuffer)):(dt=gu(Ye,Ke.width/4,Ke.height/4),We.heatmapFbos.set(s.bU,dt))})(we,ee,pe),we.clear({color:s.b7.transparent});for(let Ye=0;Ye<be.length;Ye++){const Ke=be[Ye];if(me.hasRenderableParent(Ke))continue;const We=me.getTile(Ke),ct=We.getBucket(pe);if(!ct)continue;const dt=ct.programConfigurations.get(pe.id),At=ee.useProgram("heatmap",dt),Lt=Re.getProjectionData({overscaledTileID:Ke,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Ut=Re.getCircleRadiusCorrection();At.draw(we,Me.TRIANGLES,Mi.disabled,Fe,Pe,Oi.backCCW,eu(We,Re.zoom,pe.paint.get("heatmap-intensity"),Ut),null,Lt,pe.id,ct.layoutVertexBuffer,ct.indexBuffer,ct.segments,pe.paint,Re.zoom,dt)}we.viewport.set([0,0,ee.width,ee.height])}(B,U,T,N):B.renderPass==="translucent"&&function(ee,me){const pe=ee.context,be=pe.gl;pe.setColorMode(ee.colorModeForRenderPass());const we=me.heatmapFbos.get(s.bU);we&&(pe.activeTexture.set(be.TEXTURE0),be.bindTexture(be.TEXTURE_2D,we.colorAttachment.get()),pe.activeTexture.set(be.TEXTURE1),hA(pe,me).bind(be.LINEAR,be.CLAMP_TO_EDGE),ee.useProgram("heatmapTexture").draw(pe,be.TRIANGLES,Mi.disabled,Di.disabled,ee.colorModeForRenderPass(),Oi.disabled,tu(ee,me,0,1),null,null,me.id,ee.viewportBuffer,ee.quadTriangleIndexBuffer,ee.viewportSegments,me.paint,ee.transform.zoom))}(B,T)}(i,o,d,p,b):s.c4(d)?function(B,U,T,N,Q){if(B.renderPass!=="translucent")return;const{isRenderingToTexture:z}=Q,Z=T.paint.get("line-opacity"),W=T.paint.get("line-width");if(Z.constantOr(1)===0||W.constantOr(1)===0)return;const ee=B.getDepthModeForSublayer(0,Mi.ReadOnly),me=B.colorModeForRenderPass(),pe=T.paint.get("line-dasharray"),be=T.paint.get("line-pattern"),we=be.constantOr(1),Me=T.paint.get("line-gradient"),Re=T.getCrossfadeParameters(),Fe=we?"linePattern":pe?"lineSDF":Me?"lineGradient":"line",Pe=B.context,Ye=Pe.gl,Ke=B.transform;let We=!0;for(const ct of N){const dt=U.getTile(ct);if(we&&!dt.patternsLoaded())continue;const At=dt.getBucket(T);if(!At)continue;const Lt=At.programConfigurations.get(T.id),Ut=B.context.program.get(),bt=B.useProgram(Fe,Lt),ti=We||bt.program!==Ut,Ii=B.style.map.terrain&&B.style.map.terrain.getTerrainData(ct),bi=be.constantOr(null);if(bi&&dt.imageAtlas){const aa=dt.imageAtlas,Ji=aa.patternPositions[bi.to.toString()],nr=aa.patternPositions[bi.from.toString()];Ji&&nr&&Lt.setConstantPatternPositions(Ji,nr)}const xa=Ke.getProjectionData({overscaledTileID:ct,applyGlobeMatrix:!z,applyTerrainMatrix:!0}),ia=Ke.getPixelScale(),wa=we?mp(B,dt,T,ia,Re):pe?oc(B,dt,T,ia,pe,Re):Me?oA(B,dt,T,ia,At.lineClipsArray.length):sc(B,dt,T,ia);if(we)Pe.activeTexture.set(Ye.TEXTURE0),dt.imageAtlasTexture.bind(Ye.LINEAR,Ye.CLAMP_TO_EDGE),Lt.updatePaintBuffers(Re);else if(pe&&(ti||B.lineAtlas.dirty))Pe.activeTexture.set(Ye.TEXTURE0),B.lineAtlas.bind(Pe);else if(Me){const aa=At.gradients[T.id];let Ji=aa.texture;if(T.gradientVersion!==aa.version){let nr=256;if(T.stepInterpolant){const qa=U.getSource().maxzoom,br=ct.canonical.z===qa?Math.ceil(1<<B.transform.maxZoom-ct.canonical.z):1;nr=s.ae(s.bV(At.maxLineLength/s.Z*1024*br),256,Pe.maxTextureSize)}aa.gradient=s.bW({expression:T.gradientExpression(),evaluationKey:"lineProgress",resolution:nr,image:aa.gradient||void 0,clips:At.lineClipsArray}),aa.texture?aa.texture.update(aa.gradient):aa.texture=new V(Pe,aa.gradient,Ye.RGBA),aa.version=T.gradientVersion,Ji=aa.texture}Pe.activeTexture.set(Ye.TEXTURE0),Ji.bind(T.stepInterpolant?Ye.NEAREST:Ye.LINEAR,Ye.CLAMP_TO_EDGE)}let pa;if(z){const[aa]=B.getStencilConfigForOverlapAndUpdateStencilID(N);pa=aa[ct.overscaledZ]}else pa=B.stencilModeForClipping(ct);bt.draw(Pe,Ye.TRIANGLES,ee,pa,me,Oi.disabled,wa,Ii,xa,T.id,At.layoutVertexBuffer,At.indexBuffer,At.segments,T.paint,B.transform.zoom,Lt,At.layoutVertexBuffer2),We=!1}}(i,o,d,p,b):s.c5(d)?function(B,U,T,N,Q){const z=T.paint.get("fill-color"),Z=T.paint.get("fill-opacity");if(Z.constantOr(1)===0)return;const{isRenderingToTexture:W}=Q,ee=B.colorModeForRenderPass(),me=T.paint.get("fill-pattern"),pe=B.opaquePassEnabledForLayer()&&!me.constantOr(1)&&z.constantOr(s.b7.transparent).a===1&&Z.constantOr(0)===1?"opaque":"translucent";if(B.renderPass===pe){const be=B.getDepthModeForSublayer(1,B.renderPass==="opaque"?Mi.ReadWrite:Mi.ReadOnly);pu(B,U,T,N,be,ee,!1,W)}if(B.renderPass==="translucent"&&T.paint.get("fill-antialias")){const be=B.getDepthModeForSublayer(T.getPaintProperty("fill-outline-color")?2:0,Mi.ReadOnly);pu(B,U,T,N,be,ee,!0,W)}}(i,o,d,p,b):s.c6(d)?function(B,U,T,N,Q){const z=T.paint.get("fill-extrusion-opacity");if(z===0)return;const{isRenderingToTexture:Z}=Q;if(B.renderPass==="translucent"){const W=new Mi(B.context.gl.LEQUAL,Mi.ReadWrite,B.depthRangeFor3D);if(z!==1||T.paint.get("fill-extrusion-pattern").constantOr(1))wc(B,U,T,N,W,Di.disabled,Wi.disabled,Z),wc(B,U,T,N,W,B.stencilModeFor3D(),B.colorModeForRenderPass(),Z);else{const ee=B.colorModeForRenderPass();wc(B,U,T,N,W,Di.disabled,ee,Z)}}}(i,o,d,p,b):s.c7(d)?function(B,U,T,N,Q){if(B.renderPass!=="offscreen"&&B.renderPass!=="translucent")return;const{isRenderingToTexture:z}=Q,Z=B.context,W=B.style.projection.useSubdivision,ee=B.getDepthModeForSublayer(0,Mi.ReadOnly),me=B.colorModeForRenderPass();if(B.renderPass==="offscreen")(function(pe,be,we,Me,Re,Fe,Pe){const Ye=pe.context,Ke=Ye.gl;for(const We of we){const ct=be.getTile(We),dt=ct.dem;if(!dt||!dt.data||!ct.needsHillshadePrepare)continue;const At=dt.dim,Lt=dt.stride,Ut=dt.getPixels();if(Ye.activeTexture.set(Ke.TEXTURE1),Ye.pixelStoreUnpackPremultiplyAlpha.set(!1),ct.demTexture=ct.demTexture||pe.getTileTexture(Lt),ct.demTexture){const ti=ct.demTexture;ti.update(Ut,{premultiply:!1}),ti.bind(Ke.NEAREST,Ke.CLAMP_TO_EDGE)}else ct.demTexture=new V(Ye,Ut,Ke.RGBA,{premultiply:!1}),ct.demTexture.bind(Ke.NEAREST,Ke.CLAMP_TO_EDGE);Ye.activeTexture.set(Ke.TEXTURE0);let bt=ct.fbo;if(!bt){const ti=new V(Ye,{width:At,height:At,data:null},Ke.RGBA);ti.bind(Ke.LINEAR,Ke.CLAMP_TO_EDGE),bt=ct.fbo=Ye.createFramebuffer(At,At,!0,!1),bt.colorAttachment.set(ti.texture)}Ye.bindFramebuffer.set(bt.framebuffer),Ye.viewport.set([0,0,At,At]),pe.useProgram("hillshadePrepare").draw(Ye,Ke.TRIANGLES,Re,Fe,Pe,Oi.disabled,fo(ct.tileID,dt),null,null,Me.id,pe.rasterBoundsBuffer,pe.quadTriangleIndexBuffer,pe.rasterBoundsSegments),ct.needsHillshadePrepare=!1}})(B,U,N,T,ee,Di.disabled,me),Z.viewport.set([0,0,B.width,B.height]);else if(B.renderPass==="translucent")if(W){const[pe,be,we]=B.stencilConfigForOverlapTwoPass(N);Al(B,U,T,we,pe,ee,me,!1,z),Al(B,U,T,we,be,ee,me,!0,z)}else{const[pe,be]=B.getStencilConfigForOverlapAndUpdateStencilID(N);Al(B,U,T,be,pe,ee,me,!1,z)}}(i,o,d,p,b):s.c8(d)?function(B,U,T,N,Q){if(B.renderPass!=="translucent"||T.paint.get("raster-opacity")===0||!N.length)return;const{isRenderingToTexture:z}=Q,Z=U.getSource(),W=B.style.projection.useSubdivision;if(Z instanceof ci)Bc(B,U,T,N,null,!1,!1,Z.tileCoords,Z.flippedWindingOrder,z);else if(W){const[ee,me,pe]=B.stencilConfigForOverlapTwoPass(N);Bc(B,U,T,pe,ee,!1,!0,uA,!1,z),Bc(B,U,T,pe,me,!0,!0,uA,!1,z)}else{const[ee,me]=B.getStencilConfigForOverlapAndUpdateStencilID(N);Bc(B,U,T,me,ee,!1,!0,uA,!1,z)}}(i,o,d,p,b):s.c9(d)?function(B,U,T,N,Q){const z=T.paint.get("background-color"),Z=T.paint.get("background-opacity");if(Z===0)return;const{isRenderingToTexture:W}=Q,ee=B.context,me=ee.gl,pe=B.style.projection,be=B.transform,we=be.tileSize,Me=T.paint.get("background-pattern");if(B.isPatternMissing(Me))return;const Re=!Me&&z.a===1&&Z===1&&B.opaquePassEnabledForLayer()?"opaque":"translucent";if(B.renderPass!==Re)return;const Fe=Di.disabled,Pe=B.getDepthModeForSublayer(0,Re==="opaque"?Mi.ReadWrite:Mi.ReadOnly),Ye=B.colorModeForRenderPass(),Ke=B.useProgram(Me?"backgroundPattern":"background"),We=N||Ie(be,{tileSize:we,terrain:B.style.map.terrain});Me&&(ee.activeTexture.set(me.TEXTURE0),B.imageManager.bind(B.context));const ct=T.getCrossfadeParameters();for(const dt of We){const At=be.getProjectionData({overscaledTileID:dt,applyGlobeMatrix:!W,applyTerrainMatrix:!0}),Lt=Me?gs(Z,B,Me,{tileID:dt,tileSize:we},ct):Ac(Z,z),Ut=B.style.map.terrain&&B.style.map.terrain.getTerrainData(dt),bt=pe.getMeshFromTileID(ee,dt.canonical,!1,!0,"raster");Ke.draw(ee,me.TRIANGLES,Pe,Fe,Ye,Oi.backCCW,Lt,Ut,At,T.id,bt.vertexBuffer,bt.indexBuffer,bt.segments)}}(i,0,d,p,b):s.ca(d)&&function(B,U,T,N){const{isRenderingGlobe:Q}=N,z=B.context,Z=T.implementation,W=B.style.projection,ee=B.transform,me=ee.getProjectionDataForCustomLayer(Q),pe={farZ:ee.farZ,nearZ:ee.nearZ,fov:ee.fov*Math.PI/180,modelViewProjectionMatrix:ee.modelViewProjectionMatrix,projectionMatrix:ee.projectionMatrix,shaderData:{variantName:W.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${W.shaderPreludeCode.vertexSource}`,define:W.shaderDefine},defaultProjectionData:me},be=Z.renderingMode?Z.renderingMode:"2d";if(B.renderPass==="offscreen"){const we=Z.prerender;we&&(B.setCustomLayerDefaults(),z.setColorMode(B.colorModeForRenderPass()),we.call(Z,z.gl,pe),z.setDirty(),B.setBaseState())}else if(B.renderPass==="translucent"){B.setCustomLayerDefaults(),z.setColorMode(B.colorModeForRenderPass()),z.setStencilMode(Di.disabled);const we=be==="3d"?B.getDepthModeFor3D():B.getDepthModeForSublayer(0,Mi.ReadOnly);z.setDepthMode(we),Z.render(z.gl,pe),z.setDirty(),B.setBaseState(),z.bindFramebuffer.set(null)}}(i,0,d,b))}saveTileTexture(i){const o=this._tileTextures[i.size[0]];o?o.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const o=this._tileTextures[i];return o&&o.length>0?o.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const o=this.imageManager.getPattern(i.from.toString()),d=this.imageManager.getPattern(i.to.toString());return!o||!d}useProgram(i,o,d=!1){this.cache=this.cache||{};const p=!!this.style.map.terrain,b=this.style.projection,B=i+(o?o.cacheKey:"")+`/${d?Ir:b.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(p?"/terrain":"");return this.cache[B]||(this.cache[B]=new nA(this.context,Fi[i],o,au[i],this._showOverdrawInspector,p,d?Fi.projectionMercator:b.shaderPreludeCode,d?Xr:b.shaderDefine)),this.cache[B]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new V(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:i,drawingBufferHeight:o}=this.context.gl;return this.width!==i||this.height!==o}}function wu(_,i){let o,d=!1,p=null,b=null;const B=()=>{p=null,d&&(_.apply(b,o),p=setTimeout(B,i),d=!1)};return(...U)=>(d=!0,b=this,o=U,p||B(),p)}class Bu{constructor(i){this._getCurrentHash=()=>{const o=window.location.hash.replace("#","");if(this._hashName){let d;return o.split("&").map(p=>p.split("=")).forEach(p=>{p[0]===this._hashName&&(d=p)}),(d&&d[1]||"").split("/")}return o.split("/")},this._onHashChange=()=>{const o=this._getCurrentHash();if(!this._isValidHash(o))return!1;const d=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(o[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+o[2],+o[1]],zoom:+o[0],bearing:d,pitch:+(o[4]||0)}),!0},this._updateHashUnthrottled=()=>{const o=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,o)},this._removeHash=()=>{const o=this._getCurrentHash();if(o.length===0)return;const d=o.join("/");let p=d;p.split("&").length>0&&(p=p.split("&")[0]),this._hashName&&(p=`${this._hashName}=${d}`);let b=window.location.hash.replace(p,"");b.startsWith("#&")?b=b.slice(0,1)+b.slice(2):b==="#"&&(b="");let B=window.location.href.replace(/(#.+)?$/,b);B=B.replace("&&","&"),window.history.replaceState(window.history.state,null,B)},this._updateHash=wu(this._updateHashUnthrottled,300),this._hashName=i&&encodeURIComponent(i)}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(i){const o=this._map.getCenter(),d=Math.round(100*this._map.getZoom())/100,p=Math.ceil((d*Math.LN2+Math.log(512/360/.5))/Math.LN10),b=Math.pow(10,p),B=Math.round(o.lng*b)/b,U=Math.round(o.lat*b)/b,T=this._map.getBearing(),N=this._map.getPitch();let Q="";if(Q+=i?`/${B}/${U}/${d}`:`${d}/${U}/${B}`,(T||N)&&(Q+="/"+Math.round(10*T)/10),N&&(Q+=`/${Math.round(N)}`),this._hashName){const z=this._hashName;let Z=!1;const W=window.location.hash.slice(1).split("&").map(ee=>{const me=ee.split("=")[0];return me===z?(Z=!0,`${me}=${Q}`):ee}).filter(ee=>ee);return Z||W.push(`${z}=${Q}`),`#${W.join("&")}`}return`#${Q}`}_isValidHash(i){if(i.length<3||i.some(isNaN))return!1;try{new s.Q(+i[2],+i[1])}catch{return!1}const o=+i[0],d=+(i[3]||0),p=+(i[4]||0);return o>=this._map.getMinZoom()&&o<=this._map.getMaxZoom()&&d>=-180&&d<=180&&p>=this._map.getMinPitch()&&p<=this._map.getMaxPitch()}}const In={linearity:.3,easing:s.cb(0,0,.3,1)},W0=s.e({deceleration:2500,maxSpeed:1400},In),J0=s.e({deceleration:20,maxSpeed:1400},In),ef=s.e({deceleration:1e3,maxSpeed:360},In),tf=s.e({deceleration:1e3,maxSpeed:90},In),af=s.e({deceleration:1e3,maxSpeed:360},In);class rf{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:E.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,o=E.now();for(;i.length>0&&o-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const o={zoom:0,bearing:0,pitch:0,roll:0,pan:new s.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:b}of this._inertiaBuffer)o.zoom+=b.zoomDelta||0,o.bearing+=b.bearingDelta||0,o.pitch+=b.pitchDelta||0,o.roll+=b.rollDelta||0,b.panDelta&&o.pan._add(b.panDelta),b.around&&(o.around=b.around),b.pinchAround&&(o.pinchAround=b.pinchAround);const d=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,p={};if(o.pan.mag()){const b=Xs(o.pan.mag(),d,s.e({},W0,i||{})),B=o.pan.mult(b.amount/o.pan.mag()),U=this._map.cameraHelper.handlePanInertia(B,this._map.transform);p.center=U.easingCenter,p.offset=U.easingOffset,cl(p,b)}if(o.zoom){const b=Xs(o.zoom,d,J0);p.zoom=this._map.transform.zoom+b.amount,cl(p,b)}if(o.bearing){const b=Xs(o.bearing,d,ef);p.bearing=this._map.transform.bearing+s.ae(b.amount,-179,179),cl(p,b)}if(o.pitch){const b=Xs(o.pitch,d,tf);p.pitch=this._map.transform.pitch+b.amount,cl(p,b)}if(o.roll){const b=Xs(o.roll,d,af);p.roll=this._map.transform.roll+s.ae(b.amount,-179,179),cl(p,b)}if(p.zoom||p.bearing){const b=o.pinchAround===void 0?o.around:o.pinchAround;p.around=b?this._map.unproject(b):this._map.getCenter()}return this.clear(),s.e(p,{noMoveStart:!0})}}function cl(_,i){(!_.duration||_.duration<i.duration)&&(_.duration=i.duration,_.easing=i.easing)}function Xs(_,i,o){const{maxSpeed:d,linearity:p,deceleration:b}=o,B=s.ae(_*p/(i/1e3),-d,d),U=Math.abs(B)/(b*p);return{easing:o.easing,duration:1e3*U,amount:B*(U/2)}}class Gr extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,o,d,p={}){d=d instanceof MouseEvent?d:new MouseEvent(i,d);const b=M.mousePos(o.getCanvas(),d),B=o.unproject(b);super(i,s.e({point:b,lngLat:B,originalEvent:d},p)),this._defaultPrevented=!1,this.target=o}}class Dr extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,o,d){const p=i==="touchend"?d.changedTouches:d.touches,b=M.touchPos(o.getCanvasContainer(),p),B=b.map(T=>o.unproject(T)),U=b.reduce((T,N,Q,z)=>T.add(N.div(z.length)),new s.P(0,0));super(i,{points:b,point:U,lngLats:B,lngLat:o.unproject(U),originalEvent:d}),this._defaultPrevented=!1}}class Un extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,o,d){super(i,{originalEvent:d}),this._defaultPrevented=!1}}class nf{constructor(i,o){this._map=i,this._clickTolerance=o.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new Un(i.type,this._map,i))}mousedown(i,o){return this._mousedownPos=o,this._firePreventable(new Gr(i.type,this._map,i))}mouseup(i){this._map.fire(new Gr(i.type,this._map,i))}click(i,o){this._mousedownPos&&this._mousedownPos.dist(o)>=this._clickTolerance||this._map.fire(new Gr(i.type,this._map,i))}dblclick(i){return this._firePreventable(new Gr(i.type,this._map,i))}mouseover(i){this._map.fire(new Gr(i.type,this._map,i))}mouseout(i){this._map.fire(new Gr(i.type,this._map,i))}touchstart(i){return this._firePreventable(new Dr(i.type,this._map,i))}touchmove(i){this._map.fire(new Dr(i.type,this._map,i))}touchend(i){this._map.fire(new Dr(i.type,this._map,i))}touchcancel(i){this._map.fire(new Dr(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class jn{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new Gr(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Gr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new Gr(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Kn{constructor(i){this._map=i}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(i){return this.transform.screenPointToLocation(s.P.convert(i),this._map.terrain)}}class sf{constructor(i,o){this._map=i,this._tr=new Kn(i),this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=o.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,o){this.isEnabled()&&i.shiftKey&&i.button===0&&(M.disableDrag(),this._startPos=this._lastPos=o,this._active=!0)}mousemoveWindow(i,o){if(!this._active)return;const d=o;if(this._lastPos.equals(d)||!this._box&&d.dist(this._startPos)<this._clickTolerance)return;const p=this._startPos;this._lastPos=d,this._box||(this._box=M.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",i));const b=Math.min(p.x,d.x),B=Math.max(p.x,d.x),U=Math.min(p.y,d.y),T=Math.max(p.y,d.y);M.setTransform(this._box,`translate(${b}px,${U}px)`),this._box.style.width=B-b+"px",this._box.style.height=T-U+"px"}mouseupWindow(i,o){if(!this._active||i.button!==0)return;const d=this._startPos,p=o;if(this.reset(),M.suppressClick(),d.x!==p.x||d.y!==p.y)return this._map.fire(new s.l("boxzoomend",{originalEvent:i})),{cameraAnimation:b=>b.fitScreenCoordinates(d,p,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&i.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(M.remove(this._box),this._box=null),M.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,o){return this._map.fire(new s.l(i,{originalEvent:o}))}}function Cu(_,i){if(_.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${i.length}`);const o={};for(let d=0;d<_.length;d++)o[_[d].identifier]=i[d];return o}class Ip{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,o,d){(this.centroid||d.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=i.timeStamp),d.length===this.numTouches&&(this.centroid=function(p){const b=new s.P(0,0);for(const B of p)b._add(B);return b.div(p.length)}(o),this.touches=Cu(d,o)))}touchmove(i,o,d){if(this.aborted||!this.centroid)return;const p=Cu(d,o);for(const b in this.touches){const B=p[b];(!B||B.dist(this.touches[b])>30)&&(this.aborted=!0)}}touchend(i,o,d){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),d.length===0){const p=!this.aborted&&this.centroid;if(this.reset(),p)return p}}}class Mu{constructor(i){this.singleTap=new Ip(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,o,d){this.singleTap.touchstart(i,o,d)}touchmove(i,o,d){this.singleTap.touchmove(i,o,d)}touchend(i,o,d){const p=this.singleTap.touchend(i,o,d);if(p){const b=i.timeStamp-this.lastTime<500,B=!this.lastTap||this.lastTap.dist(p)<30;if(b&&B||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=p,this.count===this.numTaps)return this.reset(),p}}}class of{constructor(i){this._tr=new Kn(i),this._zoomIn=new Mu({numTouches:1,numTaps:2}),this._zoomOut=new Mu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,o,d){this._zoomIn.touchstart(i,o,d),this._zoomOut.touchstart(i,o,d)}touchmove(i,o,d){this._zoomIn.touchmove(i,o,d),this._zoomOut.touchmove(i,o,d)}touchend(i,o,d){const p=this._zoomIn.touchend(i,o,d),b=this._zoomOut.touchend(i,o,d),B=this._tr;return p?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:U=>U.easeTo({duration:300,zoom:B.zoom+1,around:B.unproject(p)},{originalEvent:i})}):b?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:U=>U.easeTo({duration:300,zoom:B.zoom-1,around:B.unproject(b)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ps{constructor(i){this._enabled=!!i.enable,this._moveStateManager=i.moveStateManager,this._clickTolerance=i.clickTolerance||1,this._moveFunction=i.move,this._activateOnStart=!!i.activateOnStart,i.assignEvents(this),this.reset()}reset(i){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(i)}_move(...i){const o=this._moveFunction(...i);if(o.bearingDelta||o.pitchDelta||o.rollDelta||o.around||o.panDelta)return this._active=!0,o}dragStart(i,o){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(i)&&(this._moveStateManager.startMove(i),this._lastPoint=Array.isArray(o)?o[0]:o,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(i,o){if(!this.isEnabled())return;const d=this._lastPoint;if(!d)return;if(i.preventDefault(),!this._moveStateManager.isValidMoveEvent(i))return void this.reset(i);const p=Array.isArray(o)?o[0]:o;return!this._moved&&p.dist(d)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=p,this._move(d,p))}dragEnd(i){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(i)&&(this._moved&&M.suppressClick(),this.reset(i))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const ms={0:1,2:2};class zt{constructor(i){this._correctEvent=i.checkCorrectEvent}startMove(i){const o=M.mouseButton(i);this._eventButton=o}endMove(i){delete this._eventButton}isValidStartEvent(i){return this._correctEvent(i)}isValidMoveEvent(i){return!function(o,d){const p=ms[d];return o.buttons===void 0||(o.buttons&p)!==p}(i,this._eventButton)}isValidEndEvent(i){return M.mouseButton(i)===this._eventButton}}class lf{constructor(){this._firstTouch=void 0}_isOneFingerTouch(i){return i.targetTouches.length===1}_isSameTouchEvent(i){return i.targetTouches[0].identifier===this._firstTouch}startMove(i){this._firstTouch=i.targetTouches[0].identifier}endMove(i){delete this._firstTouch}isValidStartEvent(i){return this._isOneFingerTouch(i)}isValidMoveEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}isValidEndEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}}class Ru{constructor(i=new zt({checkCorrectEvent:()=>!0}),o=new lf){this.mouseMoveStateManager=i,this.oneFingerTouchMoveStateManager=o}_executeRelevantHandler(i,o,d){return i instanceof MouseEvent?o(i):typeof TouchEvent<"u"&&i instanceof TouchEvent?d(i):void 0}startMove(i){this._executeRelevantHandler(i,o=>this.mouseMoveStateManager.startMove(o),o=>this.oneFingerTouchMoveStateManager.startMove(o))}endMove(i){this._executeRelevantHandler(i,o=>this.mouseMoveStateManager.endMove(o),o=>this.oneFingerTouchMoveStateManager.endMove(o))}isValidStartEvent(i){return this._executeRelevantHandler(i,o=>this.mouseMoveStateManager.isValidStartEvent(o),o=>this.oneFingerTouchMoveStateManager.isValidStartEvent(o))}isValidMoveEvent(i){return this._executeRelevantHandler(i,o=>this.mouseMoveStateManager.isValidMoveEvent(o),o=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(o))}isValidEndEvent(i){return this._executeRelevantHandler(i,o=>this.mouseMoveStateManager.isValidEndEvent(o),o=>this.oneFingerTouchMoveStateManager.isValidEndEvent(o))}}const dA=_=>{_.mousedown=_.dragStart,_.mousemoveWindow=_.dragMove,_.mouseup=_.dragEnd,_.contextmenu=i=>{i.preventDefault()}};class fA{constructor(i,o){this._clickTolerance=i.clickTolerance||1,this._map=o,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.P(0,0)}_shouldBePrevented(i){return i<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(i,o,d){return this._calculateTransform(i,o,d)}touchmove(i,o,d){if(this._active){if(!this._shouldBePrevented(d.length))return i.preventDefault(),this._calculateTransform(i,o,d);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",i)}}touchend(i,o,d){this._calculateTransform(i,o,d),this._active&&this._shouldBePrevented(d.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,o,d){d.length>0&&(this._active=!0);const p=Cu(d,o),b=new s.P(0,0),B=new s.P(0,0);let U=0;for(const N in p){const Q=p[N],z=this._touches[N];z&&(b._add(Q),B._add(Q.sub(z)),U++,p[N]=Q)}if(this._touches=p,this._shouldBePrevented(U)||!B.mag())return;const T=B.div(U);return this._sum._add(T),this._sum.mag()<this._clickTolerance?void 0:{around:b.div(U),panDelta:T}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class yo{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(i,o,d){this._firstTwoTouches||d.length<2||(this._firstTwoTouches=[d[0].identifier,d[1].identifier],this._start([o[0],o[1]]))}touchmove(i,o,d){if(!this._firstTwoTouches)return;i.preventDefault();const[p,b]=this._firstTwoTouches,B=gA(d,o,p),U=gA(d,o,b);if(!B||!U)return;const T=this._aroundCenter?null:B.add(U).div(2);return this._move([B,U],T,i)}touchend(i,o,d){if(!this._firstTwoTouches)return;const[p,b]=this._firstTwoTouches,B=gA(d,o,p),U=gA(d,o,b);B&&U||(this._active&&M.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&i.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function gA(_,i,o){for(let d=0;d<_.length;d++)if(_[d].identifier===o)return i[d]}function Ni(_,i){return Math.log(_/i)/Math.LN2}class Cc extends yo{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,o){const d=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(Ni(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ni(this._distance,d),pinchAround:o}}}function Af(_,i){return 180*_.angleWith(i)/Math.PI}class Mc extends yo{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,o,d){const p=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Af(this._vector,p),pinchAround:o}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const o=25/(Math.PI*this._minDiameter)*360,d=Af(i,this._startVector);return Math.abs(d)<o}}function Iu(_){return Math.abs(_.y)>Math.abs(_.x)}class cf extends yo{constructor(i){super(),this._currentTouchCount=0,this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,o,d){super.touchstart(i,o,d),this._currentTouchCount=d.length}_start(i){this._lastPoints=i,Iu(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,o,d){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const p=i[0].sub(this._lastPoints[0]),b=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(p,b,d.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(p.y+b.y)/2*-.5}):void 0}gestureBeginsVertically(i,o,d){if(this._valid!==void 0)return this._valid;const p=i.mag()>=2,b=o.mag()>=2;if(!p&&!b)return;if(!p||!b)return this._firstMove===void 0&&(this._firstMove=d),d-this._firstMove<100&&void 0;const B=i.y>0==o.y>0;return Iu(i)&&Iu(o)&&B}}const hf={panStep:100,bearingStep:15,pitchStep:10};class Rc{constructor(i){this._tr=new Kn(i);const o=hf;this._panStep=o.panStep,this._bearingStep=o.bearingStep,this._pitchStep=o.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let o=0,d=0,p=0,b=0,B=0;switch(i.keyCode){case 61:case 107:case 171:case 187:o=1;break;case 189:case 109:case 173:o=-1;break;case 37:i.shiftKey?d=-1:(i.preventDefault(),b=-1);break;case 39:i.shiftKey?d=1:(i.preventDefault(),b=1);break;case 38:i.shiftKey?p=1:(i.preventDefault(),B=-1);break;case 40:i.shiftKey?p=-1:(i.preventDefault(),B=1);break;default:return}return this._rotationDisabled&&(d=0,p=0),{cameraAnimation:U=>{const T=this._tr;U.easeTo({duration:300,easeId:"keyboardHandler",easing:uf,zoom:o?Math.round(T.zoom)+o*(i.shiftKey?2:1):T.zoom,bearing:T.bearing+d*this._bearingStep,pitch:T.pitch+p*this._pitchStep,offset:[-b*this._panStep,-B*this._panStep],center:T.center},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function uf(_){return _*(2-_)}const df=4.000244140625;class Uu{constructor(i,o){this._onTimeout=d=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(d)},this._map=i,this._tr=new Kn(i),this._triggerRenderFrame=o,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&i.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(i){return!!this._map.cooperativeGestures.isEnabled()&&!(i.ctrlKey||this._map.cooperativeGestures.isBypassed(i))}wheel(i){if(!this.isEnabled())return;if(this._shouldBePrevented(i))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",i);let o=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const d=E.now(),p=d-(this._lastWheelEventTime||0);this._lastWheelEventTime=d,o!==0&&o%df==0?this._type="wheel":o!==0&&Math.abs(o)<4?this._type="trackpad":p>400?(this._type=null,this._lastValue=o,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(p*o)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,o+=this._lastValue)),i.shiftKey&&o&&(o/=4),this._type&&(this._lastWheelEvent=i,this._delta-=o,this._active||this._start(i)),i.preventDefault()}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const o=M.mousePos(this._map.getCanvas(),i),d=this._tr;this._aroundPoint=this._aroundCenter?d.transform.locationToScreenPoint(s.Q.convert(d.center)):o,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const U=i.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=U),typeof this._targetZoom=="number"&&(this._targetZoom+=U)}if(this._delta!==0){const U=this._type==="wheel"&&Math.abs(this._delta)>df?this._wheelZoomRate:this._defaultZoomRate;let T=2/(1+Math.exp(-Math.abs(this._delta*U)));this._delta<0&&T!==0&&(T=1/T);const N=typeof this._targetZoom!="number"?i.scale:s.ac(this._targetZoom);this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,s.ah(N*T))),this._type==="wheel"&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const o=typeof this._targetZoom!="number"?i.zoom:this._targetZoom,d=this._startZoom,p=this._easing;let b,B=!1;if(this._type==="wheel"&&d&&p){const U=E.now()-this._lastWheelEventTime,T=Math.min((U+5)/200,1),N=p(T);b=s.B.number(d,o,N),T<1?this._frameId||(this._frameId=!0):B=!0}else b=o,B=!0;return this._active=!0,B&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=b,{noInertia:!0,needsRenderFrame:!B,zoomDelta:b-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let o=s.cd;if(this._prevEase){const d=this._prevEase,p=(E.now()-d.start)/d.duration,b=d.easing(p+.01)-d.easing(p),B=.27/Math.sqrt(b*b+1e-4)*.01,U=Math.sqrt(.0729-B*B);o=s.cb(B,U,.25,1)}return this._prevEase={start:E.now(),duration:i,easing:o},o}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class ff{constructor(i,o){this._clickZoom=i,this._tapZoom=o}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Up{constructor(i){this._tr=new Kn(i),this.reset()}reset(){this._active=!1}dblclick(i,o){return i.preventDefault(),{cameraAnimation:d=>{d.easeTo({duration:300,zoom:this._tr.zoom+(i.shiftKey?-1:1),around:this._tr.unproject(o)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vs{constructor(){this._tap=new Mu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(i,o,d){if(!this._swipePoint)if(this._tapTime){const p=o[0],b=i.timeStamp-this._tapTime<500,B=this._tapPoint.dist(p)<30;b&&B?d.length>0&&(this._swipePoint=p,this._swipeTouch=d[0].identifier):this.reset()}else this._tap.touchstart(i,o,d)}touchmove(i,o,d){if(this._tapTime){if(this._swipePoint){if(d[0].identifier!==this._swipeTouch)return;const p=o[0],b=p.y-this._swipePoint.y;return this._swipePoint=p,i.preventDefault(),this._active=!0,{zoomDelta:b/128}}}else this._tap.touchmove(i,o,d)}touchend(i,o,d){if(this._tapTime)this._swipePoint&&d.length===0&&this.reset();else{const p=this._tap.touchend(i,o,d);p&&(this._tapTime=i.timeStamp,this._tapPoint=p)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ga{constructor(i,o,d){this._el=i,this._mousePan=o,this._touchPan=d}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class pA{constructor(i,o,d,p){this._pitchWithRotate=i.pitchWithRotate,this._rollEnabled=i.rollEnabled,this._mouseRotate=o,this._mousePitch=d,this._mouseRoll=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Ic{constructor(i,o,d,p){this._el=i,this._touchZoom=o,this._touchRotate=d,this._tapDragZoom=p,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Eu{constructor(i,o){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=i,this._options=o,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const i=this._map.getCanvasContainer();i.classList.add("maplibregl-cooperative-gestures"),this._container=M.create("div","maplibregl-cooperative-gesture-screen",i);let o=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(o=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const d=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),p=document.createElement("div");p.className="maplibregl-desktop-message",p.textContent=o,this._container.appendChild(p);const b=document.createElement("div");b.className="maplibregl-mobile-message",b.textContent=d,this._container.appendChild(b),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(M.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(i){return i[this._bypassKey]}notifyGestureBlocked(i,o){this._enabled&&(this._map.fire(new s.l("cooperativegestureprevented",{gestureType:i,originalEvent:o})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const mA=_=>_.zoom||_.drag||_.roll||_.pitch||_.rotate;class gf extends s.l{}function Fu(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta||_.rollDelta}class $n{constructor(i,o){this.handleWindowEvent=p=>{this.handleEvent(p,`${p.type}Window`)},this.handleEvent=(p,b)=>{if(p.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const B=p.type==="renderFrame"?void 0:p,U={needsRenderFrame:!1},T={},N={};for(const{handlerName:Z,handler:W,allowed:ee}of this._handlers){if(!W.isEnabled())continue;let me;if(this._blockedByActive(N,ee,Z))W.reset();else if(W[b||p.type]){if(s.ce(p,b||p.type)){const pe=M.mousePos(this._map.getCanvas(),p);me=W[b||p.type](p,pe)}else if(s.cf(p,b||p.type)){const pe=this._getMapTouches(p.touches),be=M.touchPos(this._map.getCanvas(),pe);me=W[b||p.type](p,be,pe)}else s.cg(b||p.type)||(me=W[b||p.type](p));this.mergeHandlerResult(U,T,me,Z,B),me&&me.needsRenderFrame&&this._triggerRenderFrame()}(me||W.isActive())&&(N[Z]=W)}const Q={};for(const Z in this._previousActiveHandlers)N[Z]||(Q[Z]=B);this._previousActiveHandlers=N,(Object.keys(Q).length||Fu(U))&&(this._changes.push([U,T,Q]),this._triggerRenderFrame()),(Object.keys(N).length||Fu(U))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:z}=U;z&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],z(this._map))},this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new rf(i),this._bearingSnap=o.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(o);const d=this._el;this._listeners=[[d,"touchstart",{passive:!0}],[d,"touchmove",{passive:!1}],[d,"touchend",void 0],[d,"touchcancel",void 0],[d,"mousedown",void 0],[d,"mousemove",void 0],[d,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[d,"mouseover",void 0],[d,"mouseout",void 0],[d,"dblclick",void 0],[d,"click",void 0],[d,"keydown",{capture:!1}],[d,"keyup",void 0],[d,"wheel",{passive:!1}],[d,"contextmenu",void 0],[window,"blur",void 0]];for(const[p,b,B]of this._listeners)M.addEventListener(p,b,p===document?this.handleWindowEvent:this.handleEvent,B)}destroy(){for(const[i,o,d]of this._listeners)M.removeEventListener(i,o,i===document?this.handleWindowEvent:this.handleEvent,d)}_addDefaultHandlers(i){const o=this._map,d=o.getCanvasContainer();this._add("mapEvent",new nf(o,i));const p=o.boxZoom=new sf(o,i);this._add("boxZoom",p),i.interactive&&i.boxZoom&&p.enable();const b=o.cooperativeGestures=new Eu(o,i.cooperativeGestures);this._add("cooperativeGestures",b),i.cooperativeGestures&&b.enable();const B=new of(o),U=new Up(o);o.doubleClickZoom=new ff(U,B),this._add("tapZoom",B),this._add("clickZoom",U),i.interactive&&i.doubleClickZoom&&o.doubleClickZoom.enable();const T=new Vs;this._add("tapDragZoom",T);const N=o.touchPitch=new cf(o);this._add("touchPitch",N),i.interactive&&i.touchPitch&&o.touchPitch.enable(i.touchPitch);const Q=()=>o.project(o.getCenter()),z=function({enable:Re,clickTolerance:Fe,aroundCenter:Pe=!0,minPixelCenterThreshold:Ye=100,rotateDegreesPerPixelMoved:Ke=.8},We){const ct=new zt({checkCorrectEvent:dt=>M.mouseButton(dt)===0&&dt.ctrlKey||M.mouseButton(dt)===2&&!dt.ctrlKey});return new ps({clickTolerance:Fe,move:(dt,At)=>{const Lt=We();if(Pe&&Math.abs(Lt.y-dt.y)>Ye)return{bearingDelta:s.cc(new s.P(dt.x,At.y),At,Lt)};let Ut=(At.x-dt.x)*Ke;return Pe&&At.y<Lt.y&&(Ut=-Ut),{bearingDelta:Ut}},moveStateManager:ct,enable:Re,assignEvents:dA})}(i,Q),Z=function({enable:Re,clickTolerance:Fe,pitchDegreesPerPixelMoved:Pe=-.5}){const Ye=new zt({checkCorrectEvent:Ke=>M.mouseButton(Ke)===0&&Ke.ctrlKey||M.mouseButton(Ke)===2});return new ps({clickTolerance:Fe,move:(Ke,We)=>({pitchDelta:(We.y-Ke.y)*Pe}),moveStateManager:Ye,enable:Re,assignEvents:dA})}(i),W=function({enable:Re,clickTolerance:Fe,rollDegreesPerPixelMoved:Pe=.3},Ye){const Ke=new zt({checkCorrectEvent:We=>M.mouseButton(We)===2&&We.ctrlKey});return new ps({clickTolerance:Fe,move:(We,ct)=>{const dt=Ye();let At=(ct.x-We.x)*Pe;return ct.y<dt.y&&(At=-At),{rollDelta:At}},moveStateManager:Ke,enable:Re,assignEvents:dA})}(i,Q);o.dragRotate=new pA(i,z,Z,W),this._add("mouseRotate",z,["mousePitch"]),this._add("mousePitch",Z,["mouseRotate","mouseRoll"]),this._add("mouseRoll",W,["mousePitch"]),i.interactive&&i.dragRotate&&o.dragRotate.enable();const ee=function({enable:Re,clickTolerance:Fe}){const Pe=new zt({checkCorrectEvent:Ye=>M.mouseButton(Ye)===0&&!Ye.ctrlKey});return new ps({clickTolerance:Fe,move:(Ye,Ke)=>({around:Ke,panDelta:Ke.sub(Ye)}),activateOnStart:!0,moveStateManager:Pe,enable:Re,assignEvents:dA})}(i),me=new fA(i,o);o.dragPan=new ga(d,ee,me),this._add("mousePan",ee),this._add("touchPan",me,["touchZoom","touchRotate"]),i.interactive&&i.dragPan&&o.dragPan.enable(i.dragPan);const pe=new Mc,be=new Cc;o.touchZoomRotate=new Ic(d,be,pe,T),this._add("touchRotate",pe,["touchPan","touchZoom"]),this._add("touchZoom",be,["touchPan","touchRotate"]),i.interactive&&i.touchZoomRotate&&o.touchZoomRotate.enable(i.touchZoomRotate);const we=o.scrollZoom=new Uu(o,()=>this._triggerRenderFrame());this._add("scrollZoom",we,["mousePan"]),i.interactive&&i.scrollZoom&&o.scrollZoom.enable(i.scrollZoom);const Me=o.keyboard=new Rc(o);this._add("keyboard",Me),i.interactive&&i.keyboard&&o.keyboard.enable(),this._add("blockableMapEvent",new jn(o))}_add(i,o,d){this._handlers.push({handlerName:i,handler:o,allowed:d}),this._handlersById[i]=o}stop(i){if(!this._updatingCamera){for(const{handler:o}of this._handlers)o.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!mA(this._eventsInProgress)||this.isZooming()}_blockedByActive(i,o,d){for(const p in i)if(p!==d&&(!o||o.indexOf(p)<0))return!0;return!1}_getMapTouches(i){const o=[];for(const d of i)this._el.contains(d.target)&&o.push(d);return o}mergeHandlerResult(i,o,d,p,b){if(!d)return;s.e(i,d);const B={handlerName:p,originalEvent:d.originalEvent||b};d.zoomDelta!==void 0&&(o.zoom=B),d.panDelta!==void 0&&(o.drag=B),d.rollDelta!==void 0&&(o.roll=B),d.pitchDelta!==void 0&&(o.pitch=B),d.bearingDelta!==void 0&&(o.rotate=B)}_applyChanges(){const i={},o={},d={};for(const[p,b,B]of this._changes)p.panDelta&&(i.panDelta=(i.panDelta||new s.P(0,0))._add(p.panDelta)),p.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+p.zoomDelta),p.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+p.bearingDelta),p.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+p.pitchDelta),p.rollDelta&&(i.rollDelta=(i.rollDelta||0)+p.rollDelta),p.around!==void 0&&(i.around=p.around),p.pinchAround!==void 0&&(i.pinchAround=p.pinchAround),p.noInertia&&(i.noInertia=p.noInertia),s.e(o,b),s.e(d,B);this._updateMapTransform(i,o,d),this._changes=[]}_updateMapTransform(i,o,d){const p=this._map,b=p._getTransformForUpdate(),B=p.terrain;if(!(Fu(i)||B&&this._terrainMovement))return this._fireEvents(o,d,!0);p._stop(!0);let{panDelta:U,zoomDelta:T,bearingDelta:N,pitchDelta:Q,rollDelta:z,around:Z,pinchAround:W}=i;W!==void 0&&(Z=W),Z=Z||p.transform.centerPoint,B&&!b.isPointOnMapSurface(Z)&&(Z=b.centerPoint);const ee={panDelta:U,zoomDelta:T,rollDelta:z,pitchDelta:Q,bearingDelta:N,around:Z};this._map.cameraHelper.useGlobeControls&&!b.isPointOnMapSurface(Z)&&(Z=b.centerPoint);const me=Z.distSqr(b.centerPoint)<.01?b.center:b.screenPointToLocation(U?Z.sub(U):Z);B?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ee,b),this._terrainMovement||!o.drag&&!o.zoom?o.drag&&this._terrainMovement?b.setCenter(b.screenPointToLocation(b.centerPoint.sub(U))):this._map.cameraHelper.handleMapControlsPan(ee,b,me):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(ee,b,me))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ee,b),this._map.cameraHelper.handleMapControlsPan(ee,b,me)),p._applyUpdatedTransform(b),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(o,d,!0)}_fireEvents(i,o,d){const p=mA(this._eventsInProgress),b=mA(i),B={};for(const z in i){const{originalEvent:Z}=i[z];this._eventsInProgress[z]||(B[`${z}start`]=Z),this._eventsInProgress[z]=i[z]}!p&&b&&this._fireEvent("movestart",b.originalEvent);for(const z in B)this._fireEvent(z,B[z]);b&&this._fireEvent("move",b.originalEvent);for(const z in i){const{originalEvent:Z}=i[z];this._fireEvent(z,Z)}const U={};let T;for(const z in this._eventsInProgress){const{handlerName:Z,originalEvent:W}=this._eventsInProgress[z];this._handlersById[Z].isActive()||(delete this._eventsInProgress[z],T=o[Z]||W,U[`${z}end`]=T)}for(const z in U)this._fireEvent(z,U[z]);const N=mA(this._eventsInProgress),Q=(p||b)&&!N;if(Q&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const z=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&z.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(z)}if(d&&Q){this._updatingCamera=!0;const z=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Z=W=>W!==0&&-this._bearingSnap<W&&W<this._bearingSnap;!z||!z.essential&&E.prefersReducedMotion?(this._map.fire(new s.l("moveend",{originalEvent:T})),Z(this._map.getBearing())&&this._map.resetNorth()):(Z(z.bearing||this._map.getBearing())&&(z.bearing=0),z.freezeElevation=!0,this._map.easeTo(z,{originalEvent:T})),this._updatingCamera=!1}}_fireEvent(i,o){this._map.fire(new s.l(i,o?{originalEvent:o}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{delete this._frameId,this.handleEvent(new gf("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Uc extends s.E{constructor(i,o,d){super(),this._renderFrameCallback=()=>{const p=Math.min((E.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(p)),p<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=d.bearingSnap,this.cameraHelper=o,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(i,o){i.apply(this.transform),this.transform=i,this.cameraHelper=o}getCenter(){return new s.Q(this.transform.center.lng,this.transform.center.lat)}setCenter(i,o){return this.jumpTo({center:i},o)}getCenterElevation(){return this.transform.elevation}setCenterElevation(i,o){return this.jumpTo({elevation:i},o),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(i){this._centerClampedToGround=i}panBy(i,o,d){return i=s.P.convert(i).mult(-1),this.panTo(this.transform.center,s.e({offset:i},o),d)}panTo(i,o,d){return this.easeTo(s.e({center:i},o),d)}getZoom(){return this.transform.zoom}setZoom(i,o){return this.jumpTo({zoom:i},o),this}zoomTo(i,o,d){return this.easeTo(s.e({zoom:i},o),d)}zoomIn(i,o){return this.zoomTo(this.getZoom()+1,i,o),this}zoomOut(i,o){return this.zoomTo(this.getZoom()-1,i,o),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(i,o){return i!=this.transform.fov&&(this.transform.setFov(i),this.fire(new s.l("movestart",o)).fire(new s.l("move",o)).fire(new s.l("moveend",o))),this}getBearing(){return this.transform.bearing}setBearing(i,o){return this.jumpTo({bearing:i},o),this}getPadding(){return this.transform.padding}setPadding(i,o){return this.jumpTo({padding:i},o),this}rotateTo(i,o,d){return this.easeTo(s.e({bearing:i},o),d)}resetNorth(i,o){return this.rotateTo(0,s.e({duration:1e3},i),o),this}resetNorthPitch(i,o){return this.easeTo(s.e({bearing:0,pitch:0,roll:0,duration:1e3},i),o),this}snapToNorth(i,o){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,o):this}getPitch(){return this.transform.pitch}setPitch(i,o){return this.jumpTo({pitch:i},o),this}getRoll(){return this.transform.roll}setRoll(i,o){return this.jumpTo({roll:i},o),this}cameraForBounds(i,o){i=Nt.convert(i).adjustAntiMeridian();const d=o&&o.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),d,o)}_cameraForBoxAndBearing(i,o,d,p){const b={top:0,bottom:0,right:0,left:0};if(typeof(p=s.e({padding:b,offset:[0,0],maxZoom:this.transform.maxZoom},p)).padding=="number"){const N=p.padding;p.padding={top:N,bottom:N,right:N,left:N}}const B=s.e(b,p.padding);p.padding=B;const U=this.transform,T=new Nt(i,o);return this.cameraHelper.cameraForBoxAndBearing(p,B,T,d,U)}fitBounds(i,o,d){return this._fitInternal(this.cameraForBounds(i,o),o,d)}fitScreenCoordinates(i,o,d,p,b){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(s.P.convert(i)),this.transform.screenPointToLocation(s.P.convert(o)),d,p),p,b)}_fitInternal(i,o,d){return i?(delete(o=s.e(i,o)).padding,o.linear?this.easeTo(o,d):this.flyTo(o,d)):this}jumpTo(i,o){this.stop();const d=this._getTransformForUpdate();let p=!1,b=!1,B=!1;const U=d.zoom;this.cameraHelper.handleJumpToCenterZoom(d,i);const T=d.zoom!==U;return"elevation"in i&&d.elevation!==+i.elevation&&d.setElevation(+i.elevation),"bearing"in i&&d.bearing!==+i.bearing&&(p=!0,d.setBearing(+i.bearing)),"pitch"in i&&d.pitch!==+i.pitch&&(b=!0,d.setPitch(+i.pitch)),"roll"in i&&d.roll!==+i.roll&&(B=!0,d.setRoll(+i.roll)),i.padding==null||d.isPaddingEqual(i.padding)||d.setPadding(i.padding),this._applyUpdatedTransform(d),this.fire(new s.l("movestart",o)).fire(new s.l("move",o)),T&&this.fire(new s.l("zoomstart",o)).fire(new s.l("zoom",o)).fire(new s.l("zoomend",o)),p&&this.fire(new s.l("rotatestart",o)).fire(new s.l("rotate",o)).fire(new s.l("rotateend",o)),b&&this.fire(new s.l("pitchstart",o)).fire(new s.l("pitch",o)).fire(new s.l("pitchend",o)),B&&this.fire(new s.l("rollstart",o)).fire(new s.l("roll",o)).fire(new s.l("rollend",o)),this.fire(new s.l("moveend",o))}calculateCameraOptionsFromTo(i,o,d,p=0){const b=s.$.fromLngLat(i,o),B=s.$.fromLngLat(d,p),U=B.x-b.x,T=B.y-b.y,N=B.z-b.z,Q=Math.hypot(U,T,N);if(Q===0)throw new Error("Can't calculate camera options with same From and To");const z=Math.hypot(U,T),Z=s.ah(this.transform.cameraToCenterDistance/Q/this.transform.tileSize),W=180*Math.atan2(U,-T)/Math.PI;let ee=180*Math.acos(z/Q)/Math.PI;return ee=N<0?90-ee:90+ee,{center:B.toLngLat(),elevation:p,zoom:Z,pitch:ee,bearing:W}}calculateCameraOptionsFromCameraLngLatAltRotation(i,o,d,p,b){const B=this.transform.calculateCenterFromCameraLngLatAlt(i,o,d,p);return{center:B.center,elevation:B.elevation,zoom:B.zoom,bearing:d,pitch:p,roll:b}}easeTo(i,o){this._stop(!1,i.easeId),((i=s.e({offset:[0,0],duration:500,easing:s.cd},i)).animate===!1||!i.essential&&E.prefersReducedMotion)&&(i.duration=0);const d=this._getTransformForUpdate(),p=this.getBearing(),b=d.pitch,B=d.roll,U="bearing"in i?this._normalizeBearing(i.bearing,p):p,T="pitch"in i?+i.pitch:b,N="roll"in i?this._normalizeBearing(i.roll,B):B,Q="padding"in i?i.padding:d.padding,z=s.P.convert(i.offset);let Z,W;i.around&&(Z=s.Q.convert(i.around),W=d.locationToScreenPoint(Z));const ee={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},me=this.cameraHelper.handleEaseTo(d,{bearing:U,pitch:T,roll:N,padding:Q,around:Z,aroundPoint:W,offsetAsPoint:z,offset:i.offset,zoom:i.zoom,center:i.center});return this._rotating=this._rotating||p!==U,this._pitching=this._pitching||T!==b,this._rolling=this._rolling||N!==B,this._padding=!d.isPaddingEqual(Q),this._zooming=this._zooming||me.isZooming,this._easeId=i.easeId,this._prepareEase(o,i.noMoveStart,ee),this.terrain&&this._prepareElevation(me.elevationCenter),this._ease(pe=>{me.easeFunc(pe),this.terrain&&!i.freezeElevation&&this._updateElevation(pe),this._applyUpdatedTransform(d),this._fireMoveEvents(o)},pe=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(o,pe)},i),this}_prepareEase(i,o,d={}){this._moving=!0,o||d.moving||this.fire(new s.l("movestart",i)),this._zooming&&!d.zooming&&this.fire(new s.l("zoomstart",i)),this._rotating&&!d.rotating&&this.fire(new s.l("rotatestart",i)),this._pitching&&!d.pitching&&this.fire(new s.l("pitchstart",i)),this._rolling&&!d.rolling&&this.fire(new s.l("rollstart",i))}_prepareElevation(i){this._elevationCenter=i,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(i){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const o=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(i<1&&o!==this._elevationTarget){const d=this._elevationTarget-this._elevationStart;this._elevationStart+=i*(d-(o-(d*i+this._elevationStart))/(1-i)),this._elevationTarget=o}this.transform.setElevation(s.B.number(this._elevationStart,this._elevationTarget,i))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(i){if(!this.terrain&&i.elevation>=0&&i.pitch<=90)return{};const o=i.getCameraLngLat(),d=i.getCameraAltitude(),p=this.terrain?this.terrain.getElevationForLngLatZoom(o,i.zoom):0;if(d<p){const b=this.calculateCameraOptionsFromTo(o,p,i.center,i.elevation);return{pitch:b.pitch,zoom:b.zoom}}return{}}_applyUpdatedTransform(i){const o=[];if(o.push(p=>this._elevateCameraIfInsideTerrain(p)),this.transformCameraUpdate&&o.push(p=>this.transformCameraUpdate(p)),!o.length)return;const d=i.clone();for(const p of o){const b=d.clone(),{center:B,zoom:U,roll:T,pitch:N,bearing:Q,elevation:z}=p(b);B&&b.setCenter(B),z!==void 0&&b.setElevation(z),U!==void 0&&b.setZoom(U),T!==void 0&&b.setRoll(T),N!==void 0&&b.setPitch(N),Q!==void 0&&b.setBearing(Q),d.apply(b)}this.transform.apply(d)}_fireMoveEvents(i){this.fire(new s.l("move",i)),this._zooming&&this.fire(new s.l("zoom",i)),this._rotating&&this.fire(new s.l("rotate",i)),this._pitching&&this.fire(new s.l("pitch",i)),this._rolling&&this.fire(new s.l("roll",i))}_afterEase(i,o){if(this._easeId&&o&&this._easeId===o)return;delete this._easeId;const d=this._zooming,p=this._rotating,b=this._pitching,B=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,d&&this.fire(new s.l("zoomend",i)),p&&this.fire(new s.l("rotateend",i)),b&&this.fire(new s.l("pitchend",i)),B&&this.fire(new s.l("rollend",i)),this.fire(new s.l("moveend",i))}flyTo(i,o){if(!i.essential&&E.prefersReducedMotion){const At=s.O(i,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(At,o)}this.stop(),i=s.e({offset:[0,0],speed:1.2,curve:1.42,easing:s.cd},i);const d=this._getTransformForUpdate(),p=d.bearing,b=d.pitch,B=d.roll,U=d.padding,T="bearing"in i?this._normalizeBearing(i.bearing,p):p,N="pitch"in i?+i.pitch:b,Q="roll"in i?this._normalizeBearing(i.roll,B):B,z="padding"in i?i.padding:d.padding,Z=s.P.convert(i.offset);let W=d.centerPoint.add(Z);const ee=d.screenPointToLocation(W),me=this.cameraHelper.handleFlyTo(d,{bearing:T,pitch:N,roll:Q,padding:z,locationAtOffset:ee,offsetAsPoint:Z,center:i.center,minZoom:i.minZoom,zoom:i.zoom});let pe=i.curve;const be=Math.max(d.width,d.height),we=be/me.scaleOfZoom,Me=me.pixelPathLength;typeof me.scaleOfMinZoom=="number"&&(pe=Math.sqrt(be/me.scaleOfMinZoom/Me*2));const Re=pe*pe;function Fe(At){const Lt=(we*we-be*be+(At?-1:1)*Re*Re*Me*Me)/(2*(At?we:be)*Re*Me);return Math.log(Math.sqrt(Lt*Lt+1)-Lt)}function Pe(At){return(Math.exp(At)-Math.exp(-At))/2}function Ye(At){return(Math.exp(At)+Math.exp(-At))/2}const Ke=Fe(!1);let We=function(At){return Ye(Ke)/Ye(Ke+pe*At)},ct=function(At){return be*((Ye(Ke)*(Pe(Lt=Ke+pe*At)/Ye(Lt))-Pe(Ke))/Re)/Me;var Lt},dt=(Fe(!0)-Ke)/pe;if(Math.abs(Me)<2e-6||!isFinite(dt)){if(Math.abs(be-we)<1e-6)return this.easeTo(i,o);const At=we<be?-1:1;dt=Math.abs(Math.log(we/be))/pe,ct=()=>0,We=Lt=>Math.exp(At*pe*Lt)}return i.duration="duration"in i?+i.duration:1e3*dt/("screenSpeed"in i?+i.screenSpeed/pe:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=p!==T,this._pitching=N!==b,this._rolling=Q!==B,this._padding=!d.isPaddingEqual(z),this._prepareEase(o,!1),this.terrain&&this._prepareElevation(me.targetCenter),this._ease(At=>{const Lt=At*dt,Ut=1/We(Lt),bt=ct(Lt);this._rotating&&d.setBearing(s.B.number(p,T,At)),this._pitching&&d.setPitch(s.B.number(b,N,At)),this._rolling&&d.setRoll(s.B.number(B,Q,At)),this._padding&&(d.interpolatePadding(U,z,At),W=d.centerPoint.add(Z)),me.easeFunc(At,Ut,bt,W),this.terrain&&!i.freezeElevation&&this._updateElevation(At),this._applyUpdatedTransform(d),this._fireMoveEvents(o)},()=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(o)},i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,o){var d;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const p=this._onEaseEnd;delete this._onEaseEnd,p.call(this,o)}return i||(d=this.handlers)===null||d===void 0||d.stop(!1),this}_ease(i,o,d){d.animate===!1||d.duration===0?(i(1),o()):(this._easeStart=E.now(),this._easeOptions=d,this._onEaseFrame=i,this._onEaseEnd=o,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(i,o){i=s.aL(i,-180,180);const d=Math.abs(i-o);return Math.abs(i-360-o)<d&&(i-=360),Math.abs(i+360-o)<d&&(i+=360),i}queryTerrainElevation(i){return this.terrain?this.terrain.getElevationForLngLatZoom(s.Q.convert(i),this.transform.tileZoom):null}}const ri={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class pi{constructor(i=ri){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=o=>{!o||o.sourceDataType!=="metadata"&&o.sourceDataType!=="visibility"&&o.dataType!=="style"&&o.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=i}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options.compact,this._container=M.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=M.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=M.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){M.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,o){const d=this._map._getUIString(`AttributionControl.${o}`);i.title=d,i.setAttribute("aria-label",d)}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map(p=>typeof p!="string"?"":p)):typeof this.options.customAttribution=="string"&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const p=this._map.style.stylesheet;this.styleOwner=p.owner,this.styleId=p.id}const o=this._map.style.sourceCaches;for(const p in o){const b=o[p];if(b.used||b.usedForTerrain){const B=b.getSource();B.attribution&&i.indexOf(B.attribution)<0&&i.push(B.attribution)}}i=i.filter(p=>String(p).trim()),i.sort((p,b)=>p.length-b.length),i=i.filter((p,b)=>{for(let B=b+1;B<i.length;B++)if(i[B].indexOf(p)>=0)return!1;return!0});const d=i.join(" | ");d!==this._attribHTML&&(this._attribHTML=d,i.length?(this._innerContainer.innerHTML=M.sanitize(d),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class _A{constructor(i={}){this._updateCompact=()=>{const o=this._container.children;if(o.length){const d=o[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&d.classList.add("maplibregl-compact"):d.classList.remove("maplibregl-compact")}},this.options=i}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=M.create("div","maplibregl-ctrl");const o=M.create("a","maplibregl-ctrl-logo");return o.target="_blank",o.rel="noopener nofollow",o.href="https://maplibre.org/",o.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),o.setAttribute("rel","noopener nofollow"),this._container.appendChild(o),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){M.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Tu{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const o=++this._id;return this._queue.push({callback:i,id:o,cancelled:!1}),o}remove(i){const o=this._currentlyRunning,d=o?this._queue.concat(o):this._queue;for(const p of d)if(p.id===i)return void(p.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const o=this._currentlyRunning=this._queue;this._queue=[];for(const d of o)if(!d.cancelled&&(d.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Su=s.aG([{name:"a_pos3d",type:"Int16",components:3}]);class jr extends s.E{constructor(i){super(),this._lastTilesetChange=E.now(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=i._source.tileSize*2**this.deltaZoom,i.usedForTerrain=!0,i.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(i,o){this.sourceCache.update(i,o),this._renderableTilesKeys=[];const d={};for(const p of Ie(i,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:o,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))d[p.key]=!0,this._renderableTilesKeys.push(p.key),this._tiles[p.key]||(p.terrainRttPosMatrix32f=new Float64Array(16),s.bQ(p.terrainRttPosMatrix32f,0,s.Z,s.Z,0,0,1),this._tiles[p.key]=new Rr(p,this.tileSize),this._lastTilesetChange=E.now());for(const p in this._tiles)d[p]||delete this._tiles[p]}freeRtt(i){for(const o in this._tiles){const d=this._tiles[o];(!i||d.tileID.equals(i)||d.tileID.isChildOf(i)||i.isChildOf(d.tileID))&&(d.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(i=>this.getTileByID(i))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i,o){return o?this._getTerrainCoordsForTileRanges(i,o):this._getTerrainCoordsForRegularTile(i)}_getTerrainCoordsForRegularTile(i){const o={};for(const d of this._renderableTilesKeys){const p=this._tiles[d].tileID,b=i.clone(),B=s.b2();if(p.canonical.equals(i.canonical))s.bQ(B,0,s.Z,s.Z,0,0,1);else if(p.canonical.isChildOf(i.canonical)){const U=p.canonical.z-i.canonical.z,T=p.canonical.x-(p.canonical.x>>U<<U),N=p.canonical.y-(p.canonical.y>>U<<U),Q=s.Z>>U;s.bQ(B,0,Q,Q,0,0,1),s.L(B,B,[-T*Q,-N*Q,0])}else{if(!i.canonical.isChildOf(p.canonical))continue;{const U=i.canonical.z-p.canonical.z,T=i.canonical.x-(i.canonical.x>>U<<U),N=i.canonical.y-(i.canonical.y>>U<<U),Q=s.Z>>U;s.bQ(B,0,s.Z,s.Z,0,0,1),s.L(B,B,[T*Q,N*Q,0]),s.M(B,B,[1/2**U,1/2**U,0])}}b.terrainRttPosMatrix32f=new Float32Array(B),o[d]=b}return o}_getTerrainCoordsForTileRanges(i,o){const d={};for(const p of this._renderableTilesKeys){const b=this._tiles[p].tileID;if(!this._isWithinTileRanges(b,o))continue;const B=i.clone(),U=s.b2();if(b.canonical.z===i.canonical.z){const T=i.canonical.x-b.canonical.x,N=i.canonical.y-b.canonical.y;s.bQ(U,0,s.Z,s.Z,0,0,1),s.L(U,U,[T*s.Z,N*s.Z,0])}else if(b.canonical.z>i.canonical.z){const T=b.canonical.z-i.canonical.z,N=b.canonical.x-(b.canonical.x>>T<<T),Q=b.canonical.y-(b.canonical.y>>T<<T),z=i.canonical.x-(b.canonical.x>>T),Z=i.canonical.y-(b.canonical.y>>T),W=s.Z>>T;s.bQ(U,0,W,W,0,0,1),s.L(U,U,[-N*W+z*s.Z,-Q*W+Z*s.Z,0])}else{const T=i.canonical.z-b.canonical.z,N=i.canonical.x-(i.canonical.x>>T<<T),Q=i.canonical.y-(i.canonical.y>>T<<T),z=(i.canonical.x>>T)-b.canonical.x,Z=(i.canonical.y>>T)-b.canonical.y,W=s.Z<<T;s.bQ(U,0,W,W,0,0,1),s.L(U,U,[N*s.Z+z*W,Q*s.Z+Z*W,0])}B.terrainRttPosMatrix32f=new Float32Array(U),d[p]=B}return d}getSourceTile(i,o){const d=this.sourceCache._source;let p=i.overscaledZ-this.deltaZoom;if(p>d.maxzoom&&(p=d.maxzoom),p<d.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(p).key);let b=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!b||!b.dem)&&o)for(;p>=d.minzoom&&(!b||!b.dem);)b=this.sourceCache.getTileByID(i.scaledTo(p--).key);return b}anyTilesAfterTime(i=Date.now()){return this._lastTilesetChange>=i}_isWithinTileRanges(i,o){return o[i.canonical.z]&&i.canonical.x>=o[i.canonical.z].minTileX&&i.canonical.x<=o[i.canonical.z].maxTileX&&i.canonical.y>=o[i.canonical.z].minTileY&&i.canonical.y<=o[i.canonical.z].maxTileY}}class pf{constructor(i,o,d){this._meshCache={},this.painter=i,this.sourceCache=new jr(o),this.options=d,this.exaggeration=typeof d.exaggeration=="number"?d.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(i,o,d,p=s.Z){var b;if(!(o>=0&&o<p&&d>=0&&d<p))return 0;const B=this.getTerrainData(i),U=(b=B.tile)===null||b===void 0?void 0:b.dem;if(!U)return 0;const T=s.ch([],[o/p*s.Z,d/p*s.Z],B.u_terrain_matrix),N=[T[0]*U.dim,T[1]*U.dim],Q=Math.floor(N[0]),z=Math.floor(N[1]),Z=N[0]-Q,W=N[1]-z;return U.get(Q,z)*(1-Z)*(1-W)+U.get(Q+1,z)*Z*(1-W)+U.get(Q,z+1)*(1-Z)*W+U.get(Q+1,z+1)*Z*W}getElevationForLngLatZoom(i,o){if(!s.ci(o,i.wrap()))return 0;const{tileID:d,mercatorX:p,mercatorY:b}=this._getOverscaledTileIDFromLngLatZoom(i,o);return this.getElevation(d,p%s.Z,b%s.Z,s.Z)}getElevation(i,o,d,p=s.Z){return this.getDEMElevation(i,o,d,p)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const p=this.painter.context,b=new s.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new V(p,b,p.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new V(p,new s.R({width:1,height:1}),p.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(p.gl.NEAREST,p.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.ad([])}const o=this.sourceCache.getSourceTile(i,!0);if(o&&o.dem&&(!o.demTexture||o.needsTerrainPrepare)){const p=this.painter.context;o.demTexture=this.painter.getTileTexture(o.dem.stride),o.demTexture?o.demTexture.update(o.dem.getPixels(),{premultiply:!1}):o.demTexture=new V(p,o.dem.getPixels(),p.gl.RGBA,{premultiply:!1}),o.demTexture.bind(p.gl.NEAREST,p.gl.CLAMP_TO_EDGE),o.needsTerrainPrepare=!1}const d=o&&o+o.tileID.key+i.key;if(d&&!this._demMatrixCache[d]){const p=this.sourceCache.sourceCache._source.maxzoom;let b=i.canonical.z-o.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=p?b=i.canonical.z-p:s.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const B=i.canonical.x-(i.canonical.x>>b<<b),U=i.canonical.y-(i.canonical.y>>b<<b),T=s.cj(new Float64Array(16),[1/(s.Z<<b),1/(s.Z<<b),0]);s.L(T,T,[B*s.Z,U*s.Z,0]),this._demMatrixCache[i.key]={matrix:T,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:o&&o.dem&&o.dem.dim||1,u_terrain_matrix:d?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:o&&o.dem&&o.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(o&&o.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:o}}getFramebuffer(i){const o=this.painter,d=o.width/devicePixelRatio,p=o.height/devicePixelRatio;return!this._fbo||this._fbo.width===d&&this._fbo.height===p||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new V(o.context,{width:d,height:p,data:null},o.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(o.context.gl.NEAREST,o.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new V(o.context,{width:d,height:p,data:null},o.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(o.context.gl.NEAREST,o.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=o.context.createFramebuffer(d,p,!0,!1),this._fbo.depthAttachment.set(o.context.createRenderbuffer(o.context.gl.DEPTH_COMPONENT16,d,p))),this._fbo.colorAttachment.set(i==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const o=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let b=0,B=0;b<this._coordsTextureSize;b++)for(let U=0;U<this._coordsTextureSize;U++,B+=4)o[B+0]=255&U,o[B+1]=255&b,o[B+2]=U>>8<<4|b>>8,o[B+3]=0;const d=new s.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(o.buffer)),p=new V(i,d,i.gl.RGBA,{premultiply:!1});return p.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=p,p}pointCoordinate(i){this.painter.maybeDrawDepthAndCoords(!0);const o=new Uint8Array(4),d=this.painter.context,p=d.gl,b=Math.round(i.x*this.painter.pixelRatio/devicePixelRatio),B=Math.round(i.y*this.painter.pixelRatio/devicePixelRatio),U=Math.round(this.painter.height/devicePixelRatio);d.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),p.readPixels(b,U-B-1,1,1,p.RGBA,p.UNSIGNED_BYTE,o),d.bindFramebuffer.set(null);const T=o[0]+(o[2]>>4<<8),N=o[1]+((15&o[2])<<8),Q=this.coordsIndex[255-o[3]],z=Q&&this.sourceCache.getTileByID(Q);if(!z)return null;const Z=this._coordsTextureSize,W=(1<<z.tileID.canonical.z)*Z;return new s.$((z.tileID.canonical.x*Z+T)/W+z.tileID.wrap,(z.tileID.canonical.y*Z+N)/W,this.getElevation(z.tileID,T,N,Z))}depthAtPoint(i){const o=new Uint8Array(4),d=this.painter.context,p=d.gl;return d.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),p.readPixels(i.x,this.painter.height/devicePixelRatio-i.y-1,1,1,p.RGBA,p.UNSIGNED_BYTE,o),d.bindFramebuffer.set(null),(o[0]/16777216+o[1]/65536+o[2]/256+o[3])/256}getTerrainMesh(i){var o;const d=((o=this.painter.style.projection)===null||o===void 0?void 0:o.transitionState)>0,p=d&&i.canonical.y===0,b=d&&i.canonical.y===(1<<i.canonical.z)-1,B=`m_${p?"n":""}_${b?"s":""}`;if(this._meshCache[B])return this._meshCache[B];const U=this.painter.context,T=new s.ck,N=new s.aK,Q=this.meshSize,z=s.Z/Q,Z=Q*Q;for(let Ye=0;Ye<=Q;Ye++)for(let Ke=0;Ke<=Q;Ke++)T.emplaceBack(Ke*z,Ye*z,0);for(let Ye=0;Ye<Z;Ye+=Q+1)for(let Ke=0;Ke<Q;Ke++)N.emplaceBack(Ke+Ye,Q+Ke+Ye+1,Q+Ke+Ye+2),N.emplaceBack(Ke+Ye,Q+Ke+Ye+2,Ke+Ye+1);const W=T.length,ee=W+(Q+1),me=(Q+1)*Q,pe=p?s.b9:0,be=p?0:1,we=b?s.ba:s.Z,Me=b?0:1;for(let Ye=0;Ye<=Q;Ye++)T.emplaceBack(Ye*z,pe,be);for(let Ye=0;Ye<=Q;Ye++)T.emplaceBack(Ye*z,we,Me);for(let Ye=0;Ye<Q;Ye++)N.emplaceBack(me+Ye,ee+Ye,ee+Ye+1),N.emplaceBack(me+Ye,ee+Ye+1,me+Ye+1),N.emplaceBack(0+Ye,W+Ye+1,W+Ye),N.emplaceBack(0+Ye,0+Ye+1,W+Ye+1);const Re=T.length,Fe=Re+2*(Q+1);for(const Ye of[0,1])for(let Ke=0;Ke<=Q;Ke++)for(const We of[0,1])T.emplaceBack(Ye*s.Z,Ke*z,We);for(let Ye=0;Ye<2*Q;Ye+=2)N.emplaceBack(Re+Ye,Re+Ye+1,Re+Ye+3),N.emplaceBack(Re+Ye,Re+Ye+3,Re+Ye+2),N.emplaceBack(Fe+Ye,Fe+Ye+3,Fe+Ye+1),N.emplaceBack(Fe+Ye,Fe+Ye+2,Fe+Ye+3);const Pe=new Wo(U.createVertexBuffer(T,Su.members),U.createIndexBuffer(N),s.aJ.simpleSegment(0,0,T.length,N.length));return this._meshCache[B]=Pe,Pe}getMeshFrameDelta(i){return 2*Math.PI*s.bu/Math.pow(2,Math.max(i,0))/5}getMinTileElevationForLngLatZoom(i,o){var d;const{tileID:p}=this._getOverscaledTileIDFromLngLatZoom(i,o);return(d=this.getMinMaxElevation(p).minElevation)!==null&&d!==void 0?d:0}getMinMaxElevation(i){const o=this.getTerrainData(i).tile,d={minElevation:null,maxElevation:null};return o&&o.dem&&(d.minElevation=o.dem.min*this.exaggeration,d.maxElevation=o.dem.max*this.exaggeration),d}_getOverscaledTileIDFromLngLatZoom(i,o){const d=s.$.fromLngLat(i.wrap()),p=(1<<o)*s.Z,b=d.x*p,B=d.y*p,U=Math.floor(b/s.Z),T=Math.floor(B/s.Z);return{tileID:new s.Y(o,0,o,U,T),mercatorX:b,mercatorY:B}}}class qn{constructor(i,o,d){this._context=i,this._size=o,this._tileSize=d,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const i of this._objects)i.texture.destroy(),i.fbo.destroy()}_createObject(i){const o=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),d=new V(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return d.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),o.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),o.colorAttachment.set(d.texture),{id:i,fbo:o,texture:d,stamp:-1,inUse:!1}}getObjectForId(i){return this._objects[i]}useObject(i){i.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(o=>i.id!==o),this._recentlyUsed.push(i.id)}stampObject(i){i.stamp=++this._stamp}getOrCreateFreeObject(){for(const o of this._recentlyUsed)if(!this._objects[o].inUse)return this._objects[o];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const i=this._createObject(this._objects.length);return this._objects.push(i),i}freeObject(i){i.inUse=!1}freeAllObjects(){for(const i of this._objects)this.freeObject(i)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(i=>!i.inUse)===!1}}const hl={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class bA{constructor(i,o){this.painter=i,this.terrain=o,this.pool=new qn(i.context,30,o.sourceCache.tileSize*o.qualityFactor)}destruct(){this.pool.destruct()}getTexture(i){return this.pool.getObjectForId(i.rtt[this._stacks.length-1].id).texture}prepareForRender(i,o){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=i._order.filter(d=>!i._layers[d].isHidden(o)),this._coordsAscending={};for(const d in i.sourceCaches){this._coordsAscending[d]={};const p=i.sourceCaches[d].getVisibleCoordinates(),b=i.sourceCaches[d].getSource(),B=b instanceof ci?b.terrainTileRanges:null;for(const U of p){const T=this.terrain.sourceCache.getTerrainCoords(U,B);for(const N in T)this._coordsAscending[d][N]||(this._coordsAscending[d][N]=[]),this._coordsAscending[d][N].push(T[N])}}this._coordsAscendingStr={};for(const d of i._order){const p=i._layers[d],b=p.source;if(hl[p.type]&&!this._coordsAscendingStr[b]){this._coordsAscendingStr[b]={};for(const B in this._coordsAscending[b])this._coordsAscendingStr[b][B]=this._coordsAscending[b][B].map(U=>U.key).sort().join()}}for(const d of this._renderableTiles)for(const p in this._coordsAscendingStr){const b=this._coordsAscendingStr[p][d.tileID.key];b&&b!==d.rttCoords[p]&&(d.rtt=[])}}renderLayer(i,o){if(i.isHidden(this.painter.transform.zoom))return!1;const d=Object.assign(Object.assign({},o),{isRenderingToTexture:!0}),p=i.type,b=this.painter,B=this._renderableLayerIds[this._renderableLayerIds.length-1]===i.id;if(hl[p]&&(this._prevType&&hl[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(i.id),!B))return!0;if(hl[this._prevType]||hl[p]&&B){this._prevType=p;const U=this._stacks.length-1,T=this._stacks[U]||[];for(const N of this._renderableTiles){if(this.pool.isFull()&&(vu(this.painter,this.terrain,this._rttTiles,d),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(N),N.rtt[U]){const z=this.pool.getObjectForId(N.rtt[U].id);if(z.stamp===N.rtt[U].stamp){this.pool.useObject(z);continue}}const Q=this.pool.getOrCreateFreeObject();this.pool.useObject(Q),this.pool.stampObject(Q),N.rtt[U]={id:Q.id,stamp:Q.stamp},b.context.bindFramebuffer.set(Q.fbo.framebuffer),b.context.clear({color:s.b7.transparent,stencil:0}),b.currentStencilSource=void 0;for(let z=0;z<T.length;z++){const Z=b.style._layers[T[z]],W=Z.source?this._coordsAscending[Z.source][N.tileID.key]:[N.tileID];b.context.viewport.set([0,0,Q.fbo.width,Q.fbo.height]),b._renderTileClippingMasks(Z,W,!0),b.renderLayer(b,b.style.sourceCaches[Z.source],Z,W,d),Z.source&&(N.rttCoords[Z.source]=this._coordsAscendingStr[Z.source][N.tileID.key])}}return vu(this.painter,this.terrain,this._rttTiles,d),this._rttTiles=[],this.pool.freeAllObjects(),hl[p]}return!1}}const Ya={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Da=x,Yu={hash:!1,interactive:!0,bearingSnap:7,attributionControl:ri,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:s.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},yA={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Ec{constructor(i,o,d=!1){this.mousedown=b=>{this.startMove(b,M.mousePos(this.element,b)),M.addEventListener(window,"mousemove",this.mousemove),M.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=b=>{this.move(b,M.mousePos(this.element,b))},this.mouseup=b=>{this._rotatePitchHanlder.dragEnd(b),this.offTemp()},this.touchstart=b=>{b.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=M.touchPos(this.element,b.targetTouches)[0],this.startMove(b,this._startPos),M.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),M.addEventListener(window,"touchend",this.touchend))},this.touchmove=b=>{b.targetTouches.length!==1?this.reset():(this._lastPos=M.touchPos(this.element,b.targetTouches)[0],this.move(b,this._lastPos))},this.touchend=b=>{b.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=o;const p=new Ru;this._rotatePitchHanlder=new ps({clickTolerance:3,move:(b,B)=>{const U=o.getBoundingClientRect(),T=new s.P((U.bottom-U.top)/2,(U.right-U.left)/2);return{bearingDelta:s.cc(new s.P(b.x,B.y),B,T),pitchDelta:d?-.5*(B.y-b.y):void 0}},moveStateManager:p,enable:!0,assignEvents:()=>{}}),this.map=i,M.addEventListener(o,"mousedown",this.mousedown),M.addEventListener(o,"touchstart",this.touchstart,{passive:!1}),M.addEventListener(o,"touchcancel",this.reset)}startMove(i,o){this._rotatePitchHanlder.dragStart(i,o),M.disableDrag()}move(i,o){const d=this.map,{bearingDelta:p,pitchDelta:b}=this._rotatePitchHanlder.dragMove(i,o)||{};p&&d.setBearing(d.getBearing()+p),b&&d.setPitch(d.getPitch()+b)}off(){const i=this.element;M.removeEventListener(i,"mousedown",this.mousedown),M.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),M.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),M.removeEventListener(window,"touchend",this.touchend),M.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){M.enableDrag(),M.removeEventListener(window,"mousemove",this.mousemove),M.removeEventListener(window,"mouseup",this.mouseup),M.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),M.removeEventListener(window,"touchend",this.touchend)}}let _s;function Fc(_,i,o,d=!1){if(d||!o.getCoveringTilesDetailsProvider().allowWorldCopies())return _==null?void 0:_.wrap();const p=new s.Q(_.lng,_.lat);if(_=new s.Q(_.lng,_.lat),i){const b=new s.Q(_.lng-360,_.lat),B=new s.Q(_.lng+360,_.lat),U=o.locationToScreenPoint(_).distSqr(i);o.locationToScreenPoint(b).distSqr(i)<U?_=b:o.locationToScreenPoint(B).distSqr(i)<U&&(_=B)}for(;Math.abs(_.lng-o.center.lng)>180;){const b=o.locationToScreenPoint(_);if(b.x>=0&&b.y>=0&&b.x<=o.width&&b.y<=o.height)break;_.lng>o.center.lng?_.lng-=360:_.lng+=360}return _.lng!==p.lng&&o.isPointOnMapSurface(o.locationToScreenPoint(_))?_:p}const vA={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ul(_,i,o){const d=_.classList;for(const p in vA)d.remove(`maplibregl-${o}-anchor-${p}`);d.add(`maplibregl-${o}-anchor-${i}`)}class xA extends s.E{constructor(i){if(super(),this._onKeyPress=o=>{const d=o.code,p=o.charCode||o.keyCode;d!=="Space"&&d!=="Enter"&&p!==32&&p!==13||this.togglePopup()},this._onMapClick=o=>{const d=o.originalEvent.target,p=this._element;this._popup&&(d===p||p.contains(d))&&this.togglePopup()},this._update=o=>{if(!this._map)return;const d=this._map.loaded()&&!this._map.isMoving();((o==null?void 0:o.type)==="terrain"||(o==null?void 0:o.type)==="render"&&!d)&&this._map.once("render",this._update),this._lngLat=Fc(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let p="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?p=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(p=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let b="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?b="rotateX(0deg)":this._pitchAlignment==="map"&&(b=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||o&&o.type!=="moveend"||(this._pos=this._pos.round()),M.setTransform(this._element,`${vA[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${b} ${p}`),E.frameAsync(new AbortController).then(()=>{this._updateOpacity(o&&o.type==="moveend")}).catch(()=>{})},this._onMove=o=>{if(!this._isDragging){const d=this._clickTolerance||this._map._clickTolerance;this._isDragging=o.point.dist(this._pointerdownPos)>=d}this._isDragging&&(this._pos=o.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.l("dragstart"))),this.fire(new s.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.l("dragend")),this._state="inactive"},this._addDragHandler=o=>{this._element.contains(o.originalEvent.target)&&(o.preventDefault(),this._positionDelta=o.point.sub(this._pos).add(this._offset),this._pointerdownPos=o.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._subpixelPositioning=i&&i.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&i.pitchAlignment!=="auto"?i.pitchAlignment:this._rotationAlignment,this.setOpacity(i==null?void 0:i.opacity,i==null?void 0:i.opacityWhenCovered),i&&i.element)this._element=i.element,this._offset=s.P.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=M.create("div");const o=M.createNS("http://www.w3.org/2000/svg","svg"),d=41,p=27;o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height",`${d}px`),o.setAttributeNS(null,"width",`${p}px`),o.setAttributeNS(null,"viewBox",`0 0 ${p} ${d}`);const b=M.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"stroke","none"),b.setAttributeNS(null,"stroke-width","1"),b.setAttributeNS(null,"fill","none"),b.setAttributeNS(null,"fill-rule","evenodd");const B=M.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"fill-rule","nonzero");const U=M.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"transform","translate(3.0, 29.0)"),U.setAttributeNS(null,"fill","#000000");const T=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const be of T){const we=M.createNS("http://www.w3.org/2000/svg","ellipse");we.setAttributeNS(null,"opacity","0.04"),we.setAttributeNS(null,"cx","10.5"),we.setAttributeNS(null,"cy","5.80029008"),we.setAttributeNS(null,"rx",be.rx),we.setAttributeNS(null,"ry",be.ry),U.appendChild(we)}const N=M.createNS("http://www.w3.org/2000/svg","g");N.setAttributeNS(null,"fill",this._color);const Q=M.createNS("http://www.w3.org/2000/svg","path");Q.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),N.appendChild(Q);const z=M.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"opacity","0.25"),z.setAttributeNS(null,"fill","#000000");const Z=M.createNS("http://www.w3.org/2000/svg","path");Z.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),z.appendChild(Z);const W=M.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"transform","translate(6.0, 7.0)"),W.setAttributeNS(null,"fill","#FFFFFF");const ee=M.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"transform","translate(8.0, 8.0)");const me=M.createNS("http://www.w3.org/2000/svg","circle");me.setAttributeNS(null,"fill","#000000"),me.setAttributeNS(null,"opacity","0.25"),me.setAttributeNS(null,"cx","5.5"),me.setAttributeNS(null,"cy","5.5"),me.setAttributeNS(null,"r","5.4999962");const pe=M.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#FFFFFF"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962"),ee.appendChild(me),ee.appendChild(pe),B.appendChild(U),B.appendChild(N),B.appendChild(z),B.appendChild(W),B.appendChild(ee),o.appendChild(B),o.setAttributeNS(null,"height",d*this._scale+"px"),o.setAttributeNS(null,"width",p*this._scale+"px"),this._element.appendChild(o),this._offset=s.P.convert(i&&i.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",o=>{o.preventDefault()}),this._element.addEventListener("mousedown",o=>{o.preventDefault()}),ul(this._element,this._anchor,"marker"),i&&i.className)for(const o of i.className.split(" "))this._element.classList.add(o);this._popup=null}addTo(i){return this.remove(),this._map=i,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",i._getUIString("Marker.Title")),i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),i.on("terrain",this._update),i.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),M.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=s.Q.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const p=Math.abs(13.5)/Math.SQRT2;i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[p,-1*(38.1-13.5+p)],"bottom-right":[-p,-1*(38.1-13.5+p)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=i,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(i){return this._subpixelPositioning=i,this}getPopup(){return this._popup}togglePopup(){const i=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:i?(i.isOpen()?i.remove():(i.setLngLat(this._lngLat),i.addTo(this._map)),this):this}_updateOpacity(i=!1){var o,d;if(!(!((o=this._map)===null||o===void 0)&&o.terrain)){const z=this._map.transform.isLocationOccluded(this._lngLat)?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==z&&(this._element.style.opacity=z))}if(i)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const p=this._map,b=p.terrain.depthAtPoint(this._pos),B=p.terrain.getElevationForLngLatZoom(this._lngLat,p.transform.tileZoom);if(p.transform.lngLatToCameraDepth(this._lngLat,B)-b<.006)return void(this._element.style.opacity=this._opacity);const U=-this._offset.y/p.transform.pixelsPerMeter,T=Math.sin(p.getPitch()*Math.PI/180)*U,N=p.terrain.depthAtPoint(new s.P(this._pos.x,this._pos.y-this._offset.y)),Q=p.transform.lngLatToCameraDepth(this._lngLat,B+T)-N>.006;!((d=this._popup)===null||d===void 0)&&d.isOpen()&&Q&&this._popup.remove(),this._element.style.opacity=Q?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(i){return this._offset=s.P.convert(i),this._update(),this}addClassName(i){this._element.classList.add(i)}removeClassName(i){this._element.classList.remove(i)}toggleClassName(i){return this._element.classList.toggle(i)}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&i!=="auto"?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(i,o){return(this._opacity===void 0||i===void 0&&o===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),i!==void 0&&(this._opacity=i),o!==void 0&&(this._opacityWhenCovered=o),this._map&&this._updateOpacity(!0),this}}const Nu={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let dl=0,vo=!1;const Lu={maxWidth:100,unit:"metric"};function Tc(_,i,o){const d=o&&o.maxWidth||100,p=_._container.clientHeight/2,b=_._container.clientWidth/2,B=_.unproject([b-d/2,p]),U=_.unproject([b+d/2,p]),T=Math.round(_.project(U).x-_.project(B).x),N=Math.min(d,T,_._container.clientWidth),Q=B.distanceTo(U);if(o&&o.unit==="imperial"){const z=3.2808*Q;z>5280?xo(i,N,z/5280,_._getUIString("ScaleControl.Miles")):xo(i,N,z,_._getUIString("ScaleControl.Feet"))}else o&&o.unit==="nautical"?xo(i,N,Q/1852,_._getUIString("ScaleControl.NauticalMiles")):Q>=1e3?xo(i,N,Q/1e3,_._getUIString("ScaleControl.Kilometers")):xo(i,N,Q,_._getUIString("ScaleControl.Meters"))}function xo(_,i,o,d){const p=function(b){const B=Math.pow(10,`${Math.floor(b)}`.length-1);let U=b/B;return U=U>=10?10:U>=5?5:U>=3?3:U>=2?2:U>=1?1:function(T){const N=Math.pow(10,Math.ceil(-Math.log(T)/Math.LN10));return Math.round(T*N)/N}(U),B*U}(o);_.style.width=i*(p/o)+"px",_.innerHTML=`${p}&nbsp;${d}`}const Pu={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Sc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Yc(_){if(_){if(typeof _=="number"){const i=Math.round(Math.abs(_)/Math.SQRT2);return{center:new s.P(0,0),top:new s.P(0,_),"top-left":new s.P(i,i),"top-right":new s.P(-i,i),bottom:new s.P(0,-_),"bottom-left":new s.P(i,-i),"bottom-right":new s.P(-i,-i),left:new s.P(_,0),right:new s.P(-_,0)}}if(_ instanceof s.P||Array.isArray(_)){const i=s.P.convert(_);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:s.P.convert(_.center||[0,0]),top:s.P.convert(_.top||[0,0]),"top-left":s.P.convert(_["top-left"]||[0,0]),"top-right":s.P.convert(_["top-right"]||[0,0]),bottom:s.P.convert(_.bottom||[0,0]),"bottom-left":s.P.convert(_["bottom-left"]||[0,0]),"bottom-right":s.P.convert(_["bottom-right"]||[0,0]),left:s.P.convert(_.left||[0,0]),right:s.P.convert(_.right||[0,0])}}return Yc(new s.P(0,0))}const Qu=x;h.AJAXError=s.co,h.Event=s.l,h.Evented=s.E,h.LngLat=s.Q,h.MercatorCoordinate=s.$,h.Point=s.P,h.addProtocol=s.cp,h.config=s.a,h.removeProtocol=s.cq,h.AttributionControl=pi,h.BoxZoomHandler=sf,h.CanvasSource=Si,h.CooperativeGesturesHandler=Eu,h.DoubleClickZoomHandler=ff,h.DragPanHandler=ga,h.DragRotateHandler=pA,h.EdgeInsets=Kl,h.FullscreenControl=class extends s.E{constructor(_={}){super(),this._onFullscreenChange=()=>{var i;let o=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((i=o==null?void 0:o.shadowRoot)===null||i===void 0)&&i.fullscreenElement;)o=o.shadowRoot.fullscreenElement;o===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:s.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=M.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){M.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const _=this._fullscreenButton=M.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);M.create("span","maplibregl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new s.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new s.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},h.GeoJSONSource=pt,h.GeolocateControl=class extends s.E{constructor(_){super(),this._onSuccess=i=>{if(this._map){if(this._isOutOfMapMaxBounds(i))return this._setErrorState(),this.fire(new s.l("outofmaxbounds",i)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=i,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(i),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(i),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new s.l("geolocate",i)),this._finish()}},this._updateCamera=i=>{const o=new s.Q(i.coords.longitude,i.coords.latitude),d=i.coords.accuracy,p=this._map.getBearing(),b=s.e({bearing:p},this.options.fitBoundsOptions),B=Nt.fromLngLat(o,d);this._map.fitBounds(B,b,{geolocateSource:!0})},this._updateMarker=i=>{if(i){const o=new s.Q(i.coords.longitude,i.coords.latitude);this._accuracyCircleMarker.setLngLat(o).addTo(this._map),this._userLocationDotMarker.setLngLat(o).addTo(this._map),this._accuracy=i.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=i=>{if(this._map){if(this.options.trackUserLocation)if(i.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const o=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(i.code===3&&vo)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new s.l("error",i)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",i=>i.preventDefault()),this._geolocateButton=M.create("button","maplibregl-ctrl-geolocate",this._container),M.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=i=>{if(this._map){if(i===!1){s.w("Geolocation support is not available so the GeolocateControl will be disabled.");const o=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}else{const o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=M.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new xA({element:this._dotElement}),this._circleElement=M.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new xA({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",o=>{o.geolocateSource||this._watchState!=="ACTIVE_LOCK"||o.originalEvent&&o.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new s.l("trackuserlocationend")),this.fire(new s.l("userlocationlostfocus")))})}},this.options=s.e({},Nu,_)}onAdd(_){return this._map=_,this._container=M.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return s._(this,arguments,void 0,function*(i=!1){if(_s!==void 0&&!i)return _s;if(window.navigator.permissions===void 0)return _s=!!window.navigator.geolocation,_s;try{_s=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{_s=!!window.navigator.geolocation}return _s})}().then(i=>this._finishSetupUI(i)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),M.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,dl=0,vo=!1}_isOutOfMapMaxBounds(_){const i=this._map.getMaxBounds(),o=_.coords;return i&&(o.longitude<i.getWest()||o.longitude>i.getEast()||o.latitude<i.getSouth()||o.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const _=this._map.getBounds(),i=_.getSouthEast(),o=_.getNorthEast(),d=i.distanceTo(o),p=Math.ceil(this._accuracy/(d/this._map._container.clientHeight)*2);this._circleElement.style.width=`${p}px`,this._circleElement.style.height=`${p}px`}trigger(){if(!this._setup)return s.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":dl--,vo=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new s.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.l("trackuserlocationstart")),this.fire(new s.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),dl++,dl>1?(_={maximumAge:6e5,timeout:0},vo=!0):(_=this.options.positionOptions,vo=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},h.GlobeControl=class{constructor(){this._toggleProjection=()=>{var _;const i=(_=this._map.getProjection())===null||_===void 0?void 0:_.type;this._map.setProjection(i!=="mercator"&&i?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var _;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((_=this._map.getProjection())===null||_===void 0?void 0:_.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(_){return this._map=_,this._container=M.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=M.create("button","maplibregl-ctrl-globe",this._container),M.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){M.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},h.Hash=Bu,h.ImageSource=ci,h.KeyboardHandler=Rc,h.LngLatBounds=Nt,h.LogoControl=_A,h.Map=class extends Uc{constructor(_){var i,o;s.cl.mark(s.cm.create);const d=Object.assign(Object.assign(Object.assign({},Yu),_),{canvasContextAttributes:Object.assign(Object.assign({},Yu.canvasContextAttributes),_.canvasContextAttributes)});if(d.minZoom!=null&&d.maxZoom!=null&&d.minZoom>d.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(d.minPitch!=null&&d.maxPitch!=null&&d.minPitch>d.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(d.minPitch!=null&&d.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(d.maxPitch!=null&&d.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const p=new Vn,b=new Wl;if(d.minZoom!==void 0&&p.setMinZoom(d.minZoom),d.maxZoom!==void 0&&p.setMaxZoom(d.maxZoom),d.minPitch!==void 0&&p.setMinPitch(d.minPitch),d.maxPitch!==void 0&&p.setMaxPitch(d.maxPitch),d.renderWorldCopies!==void 0&&p.setRenderWorldCopies(d.renderWorldCopies),super(p,b,{bearingSnap:d.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Tu,this._controls=[],this._mapId=s.a4(),this._contextLost=U=>{U.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new s.l("webglcontextlost",{originalEvent:U}))},this._contextRestored=U=>{this._setupPainter(),this.resize(),this._update(),this.fire(new s.l("webglcontextrestored",{originalEvent:U}))},this._onMapScroll=U=>{if(U.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=d.interactive,this._maxTileCacheSize=d.maxTileCacheSize,this._maxTileCacheZoomLevels=d.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},d.canvasContextAttributes),this._trackResize=d.trackResize===!0,this._bearingSnap=d.bearingSnap,this._centerClampedToGround=d.centerClampedToGround,this._refreshExpiredTiles=d.refreshExpiredTiles===!0,this._fadeDuration=d.fadeDuration,this._crossSourceCollisions=d.crossSourceCollisions===!0,this._collectResourceTiming=d.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},Ya),d.locale),this._clickTolerance=d.clickTolerance,this._overridePixelRatio=d.pixelRatio,this._maxCanvasSize=d.maxCanvasSize,this.transformCameraUpdate=d.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=d.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=ce.addThrottleControl(()=>this.isMoving()),this._requestManager=new he(d.transformRequest),typeof d.container=="string"){if(this._container=document.getElementById(d.container),!this._container)throw new Error(`Container '${d.container}' not found.`)}else{if(!(d.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=d.container}if(d.maxBounds&&this.setMaxBounds(d.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let U=!1;const T=wu(N=>{this._trackResize&&!this._removed&&(this.resize(N),this.redraw())},50);this._resizeObserver=new ResizeObserver(N=>{U?T(N):U=!0}),this._resizeObserver.observe(this._container)}this.handlers=new $n(this,d),this._hash=d.hash&&new Bu(typeof d.hash=="string"&&d.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:d.center,elevation:d.elevation,zoom:d.zoom,bearing:d.bearing,pitch:d.pitch,roll:d.roll}),d.bounds&&(this.resize(),this.fitBounds(d.bounds,s.e({},d.fitBoundsOptions,{duration:0}))));const B=typeof d.style=="string"||((o=(i=d.style)===null||i===void 0?void 0:i.projection)===null||o===void 0?void 0:o.type)!=="globe";this.resize(null,B),this._localIdeographFontFamily=d.localIdeographFontFamily,this._validateStyle=d.validateStyle,d.style&&this.setStyle(d.style,{localIdeographFontFamily:d.localIdeographFontFamily}),d.attributionControl&&this.addControl(new pi(typeof d.attributionControl=="boolean"?void 0:d.attributionControl)),d.maplibreLogo&&this.addControl(new _A,d.logoPosition),this.on("style.load",()=>{if(B||this._resizeTransform(),this.transform.unmodified){const U=s.O(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(U)}}),this.on("data",U=>{this._update(U.dataType==="style"),this.fire(new s.l(`${U.dataType}data`,U))}),this.on("dataloading",U=>{this.fire(new s.l(`${U.dataType}dataloading`,U))}),this.on("dataabort",U=>{this.fire(new s.l("sourcedataabort",U))})}_getMapId(){return this._mapId}addControl(_,i){if(i===void 0&&(i=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new s.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const o=_.onAdd(this);this._controls.push(_);const d=this._controlPositions[i];return i.indexOf("bottom")!==-1?d.insertBefore(o,d.firstChild):d.appendChild(o),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new s.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(_);return i>-1&&this._controls.splice(i,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}calculateCameraOptionsFromTo(_,i,o,d){return d==null&&this.terrain&&(d=this.terrain.getElevationForLngLatZoom(o,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(_,i,o,d)}resize(_,i=!0){const[o,d]=this._containerDimensions(),p=this._getClampedPixelRatio(o,d);if(this._resizeCanvas(o,d,p),this.painter.resize(o,d,p),this.painter.overLimit()){const B=this.painter.context.gl;this._maxCanvasSize=[B.drawingBufferWidth,B.drawingBufferHeight];const U=this._getClampedPixelRatio(o,d);this._resizeCanvas(o,d,U),this.painter.resize(o,d,U)}this._resizeTransform(i);const b=!this._moving;return b&&(this.stop(),this.fire(new s.l("movestart",_)).fire(new s.l("move",_))),this.fire(new s.l("resize",_)),b&&this.fire(new s.l("moveend",_)),this}_resizeTransform(_=!0){var i;const[o,d]=this._containerDimensions();this.transform.resize(o,d,_),(i=this._requestedCameraState)===null||i===void 0||i.resize(o,d,_)}_getClampedPixelRatio(_,i){const{0:o,1:d}=this._maxCanvasSize,p=this.getPixelRatio(),b=_*p,B=i*p;return Math.min(b>o?o/b:1,B>d?d/B:1)*p}getPixelRatio(){var _;return(_=this._overridePixelRatio)!==null&&_!==void 0?_:devicePixelRatio}setPixelRatio(_){this._overridePixelRatio=_,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(Nt.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.setMinZoom(_),this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.setMaxZoom(_),this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.setMinPitch(_),this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(_>=this.transform.minPitch)return this.transform.setMaxPitch(_),this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.setRenderWorldCopies(_),this._update()}project(_){return this.transform.locationToScreenPoint(s.Q.convert(_),this.style&&this.terrain)}unproject(_){return this.transform.screenPointToLocation(s.P.convert(_),this.terrain)}isMoving(){var _;return this._moving||((_=this.handlers)===null||_===void 0?void 0:_.isMoving())}isZooming(){var _;return this._zooming||((_=this.handlers)===null||_===void 0?void 0:_.isZooming())}isRotating(){var _;return this._rotating||((_=this.handlers)===null||_===void 0?void 0:_.isRotating())}_createDelegatedListener(_,i,o){if(_==="mouseenter"||_==="mouseover"){let d=!1;return{layers:i,listener:o,delegates:{mousemove:b=>{const B=i.filter(T=>this.getLayer(T)),U=B.length!==0?this.queryRenderedFeatures(b.point,{layers:B}):[];U.length?d||(d=!0,o.call(this,new Gr(_,this,b.originalEvent,{features:U}))):d=!1},mouseout:()=>{d=!1}}}}if(_==="mouseleave"||_==="mouseout"){let d=!1;return{layers:i,listener:o,delegates:{mousemove:B=>{const U=i.filter(T=>this.getLayer(T));(U.length!==0?this.queryRenderedFeatures(B.point,{layers:U}):[]).length?d=!0:d&&(d=!1,o.call(this,new Gr(_,this,B.originalEvent)))},mouseout:B=>{d&&(d=!1,o.call(this,new Gr(_,this,B.originalEvent)))}}}}{const d=p=>{const b=i.filter(U=>this.getLayer(U)),B=b.length!==0?this.queryRenderedFeatures(p.point,{layers:b}):[];B.length&&(p.features=B,o.call(this,p),delete p.features)};return{layers:i,listener:o,delegates:{[_]:d}}}}_saveDelegatedListener(_,i){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(i)}_removeDelegatedListener(_,i,o){if(!this._delegatedListeners||!this._delegatedListeners[_])return;const d=this._delegatedListeners[_];for(let p=0;p<d.length;p++){const b=d[p];if(b.listener===o&&b.layers.length===i.length&&b.layers.every(B=>i.includes(B))){for(const B in b.delegates)this.off(B,b.delegates[B]);return void d.splice(p,1)}}}on(_,i,o){if(o===void 0)return super.on(_,i);const d=typeof i=="string"?[i]:i,p=this._createDelegatedListener(_,d,o);this._saveDelegatedListener(_,p);for(const b in p.delegates)this.on(b,p.delegates[b]);return{unsubscribe:()=>{this._removeDelegatedListener(_,d,o)}}}once(_,i,o){if(o===void 0)return super.once(_,i);const d=typeof i=="string"?[i]:i,p=this._createDelegatedListener(_,d,o);for(const b in p.delegates){const B=p.delegates[b];p.delegates[b]=(...U)=>{this._removeDelegatedListener(_,d,o),B(...U)}}this._saveDelegatedListener(_,p);for(const b in p.delegates)this.once(b,p.delegates[b]);return this}off(_,i,o){return o===void 0?super.off(_,i):(this._removeDelegatedListener(_,typeof i=="string"?[i]:i,o),this)}queryRenderedFeatures(_,i){if(!this.style)return[];let o;const d=_ instanceof s.P||Array.isArray(_),p=d?_:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(d?{}:_)||{},p instanceof s.P||typeof p[0]=="number")o=[s.P.convert(p)];else{const b=s.P.convert(p[0]),B=s.P.convert(p[1]);o=[b,new s.P(B.x,b.y),B,new s.P(b.x,B.y),b]}return this.style.queryRenderedFeatures(o,i,this.transform)}querySourceFeatures(_,i){return this.style.querySourceFeatures(_,i)}setStyle(_,i){return(i=s.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff!==!1&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(_,i))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){const i=this._locale[_];if(i==null)throw new Error(`Missing UI string '${_}'`);return i}_updateStyle(_,i){var o,d;if(i.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(_,i));const p=this.style&&i.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!_)),_?(this.style=new rA(this,i||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_,i,p):this.style.loadJSON(_,i,p),this):((d=(o=this.style)===null||o===void 0?void 0:o.projection)===null||d===void 0||d.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new rA(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,i){if(typeof _=="string"){const o=this._requestManager.transformRequest(_,"Style");s.j(o,new AbortController).then(d=>{this._updateDiff(d.data,i)}).catch(d=>{d&&this.fire(new s.k(d))})}else typeof _=="object"&&this._updateDiff(_,i)}_updateDiff(_,i){try{this.style.setState(_,i)&&this._update(!0)}catch(o){s.w(`Unable to perform style diff: ${o.message||o.error||o}.  Rebuilding the style from scratch.`),this._updateStyle(_,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():s.w("There is no style added to the map.")}addSource(_,i){return this._lazyInitEmptyStyle(),this.style.addSource(_,i),this._update(!0)}isSourceLoaded(_){const i=this.style&&this.style.sourceCaches[_];if(i!==void 0)return i.loaded();this.fire(new s.k(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),_){const i=this.style.sourceCaches[_.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${_.source}`);this.terrain===null&&i.reload();for(const o in this.style._layers){const d=this.style._layers[o];d.type==="hillshade"&&d.source===_.source&&s.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new pf(this.painter,i,_),this.painter.renderToTexture=new bA(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=o=>{var d;o.dataType==="style"?this.terrain.sourceCache.freeRtt():o.dataType==="source"&&o.tile&&(o.sourceId!==_.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((d=o.source)===null||d===void 0?void 0:d.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(o.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new s.l("terrain",{terrain:_})),this}getTerrain(){var _,i;return(i=(_=this.terrain)===null||_===void 0?void 0:_.options)!==null&&i!==void 0?i:null}areTilesLoaded(){const _=this.style&&this.style.sourceCaches;for(const i in _){const o=_[i]._tiles;for(const d in o){const p=o[d];if(p.state!=="loaded"&&p.state!=="errored")return!1}}return!0}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}setSourceTileLodParams(_,i,o){if(o){const d=this.getSource(o);if(!d)throw new Error(`There is no source with ID "${o}", cannot set LOD parameters`);d.calculateTileZoom=oe(Math.max(1,_),Math.max(1,i))}else for(const d in this.style.sourceCaches)this.style.sourceCaches[d].getSource().calculateTileZoom=oe(Math.max(1,_),Math.max(1,i));return this._update(!0),this}addImage(_,i,o={}){const{pixelRatio:d=1,sdf:p=!1,stretchX:b,stretchY:B,content:U,textFitWidth:T,textFitHeight:N}=o;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||s.b(i))){if(i.width===void 0||i.height===void 0)return this.fire(new s.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:Q,height:z,data:Z}=i,W=i;return this.style.addImage(_,{data:new s.R({width:Q,height:z},new Uint8Array(Z)),pixelRatio:d,stretchX:b,stretchY:B,content:U,textFitWidth:T,textFitHeight:N,sdf:p,version:0,userImage:W}),W.onAdd&&W.onAdd(this,_),this}}{const{width:Q,height:z,data:Z}=E.getImageData(i);this.style.addImage(_,{data:new s.R({width:Q,height:z},Z),pixelRatio:d,stretchX:b,stretchY:B,content:U,textFitWidth:T,textFitHeight:N,sdf:p,version:0})}}updateImage(_,i){const o=this.style.getImage(_);if(!o)return this.fire(new s.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const d=i instanceof HTMLImageElement||s.b(i)?E.getImageData(i):i,{width:p,height:b,data:B}=d;if(p===void 0||b===void 0)return this.fire(new s.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(p!==o.data.width||b!==o.data.height)return this.fire(new s.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const U=!(i instanceof HTMLImageElement||s.b(i));return o.data.replace(B,U),this.style.updateImage(_,o),this}getImage(_){return this.style.getImage(_)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new s.k(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_){return ce.getImage(this._requestManager.transformRequest(_,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(_,i){return this._lazyInitEmptyStyle(),this.style.addLayer(_,i),this._update(!0)}moveLayer(_,i){return this.style.moveLayer(_,i),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(_,i,o){return this.style.setLayerZoomRange(_,i,o),this._update(!0)}setFilter(_,i,o={}){return this.style.setFilter(_,i,o),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,i,o,d={}){return this.style.setPaintProperty(_,i,o,d),this._update(!0)}getPaintProperty(_,i){return this.style.getPaintProperty(_,i)}setLayoutProperty(_,i,o,d={}){return this.style.setLayoutProperty(_,i,o,d),this._update(!0)}getLayoutProperty(_,i){return this.style.getLayoutProperty(_,i)}setGlyphs(_,i={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(_,i),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(_,i,o={}){return this._lazyInitEmptyStyle(),this.style.addSprite(_,i,o,d=>{d||this._update(!0)}),this}removeSprite(_){return this._lazyInitEmptyStyle(),this.style.removeSprite(_),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(_,i={}){return this._lazyInitEmptyStyle(),this.style.setSprite(_,i,o=>{o||this._update(!0)}),this}setLight(_,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,i),this._update(!0)}getLight(){return this.style.getLight()}setSky(_,i={}){return this._lazyInitEmptyStyle(),this.style.setSky(_,i),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(_,i){return this.style.setFeatureState(_,i),this._update()}removeFeatureState(_,i){return this.style.removeFeatureState(_,i),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,i=0;return this._container&&(_=this._container.clientWidth||400,i=this._container.clientHeight||300),[_,i]}_setupContainer(){const _=this._container;_.classList.add("maplibregl-map");const i=this._canvasContainer=M.create("div","maplibregl-canvas-container",_);this._interactive&&i.classList.add("maplibregl-interactive"),this._canvas=M.create("canvas","maplibregl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const o=this._containerDimensions(),d=this._getClampedPixelRatio(o[0],o[1]);this._resizeCanvas(o[0],o[1],d);const p=this._controlContainer=M.create("div","maplibregl-control-container",_),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(B=>{b[B]=M.create("div",`maplibregl-ctrl-${B} `,p)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,i,o){this._canvas.width=Math.floor(o*_),this._canvas.height=Math.floor(o*i),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const _=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let i=null;this._canvas.addEventListener("webglcontextcreationerror",d=>{i={requestedAttributes:_},d&&(i.statusMessage=d.statusMessage,i.type=d.type)},{once:!0});let o=null;if(o=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,_):this._canvas.getContext("webgl2",_)||this._canvas.getContext("webgl",_),!o){const d="Failed to initialize WebGL";throw i?(i.message=d,new Error(JSON.stringify(i))):new Error(d)}this.painter=new q0(o,this.transform),Y.testSupport(o)}migrateProjection(_,i){super.migrateProjection(_,i),this.painter.transform=_,this.fire(new s.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){var i,o,d,p,b;const B=this._idleTriggered?this._fadeDuration:0,U=((i=this.style.projection)===null||i===void 0?void 0:i.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let T=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const z=this.transform.zoom,Z=E.now();this.style.zoomHistory.update(z,Z);const W=new s.C(z,{now:Z,fadeDuration:B,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ee=W.crossFadingFactor();ee===1&&ee===this._crossFadingFactor||(T=!0,this._crossFadingFactor=ee),this.style.update(W)}const N=((o=this.style.projection)===null||o===void 0?void 0:o.transitionState)>0!==U;(d=this.style.projection)===null||d===void 0||d.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((p=this.style.projection)===null||p===void 0?void 0:p.transitionState,(b=this.style.projection)===null||b===void 0?void 0:b.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||N)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,B,this._crossSourceCollisions,N),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:B,showPadding:this.showPadding}),this.fire(new s.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.cl.mark(s.cm.load),this.fire(new s.l("load"))),this.style&&(this.style.hasTransitions()||T)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const Q=this._sourcesDirty||this._styleDirty||this._placementDirty;return Q||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.l("idle")),!this._loaded||this._fullyLoaded||Q||(this._fullyLoaded=!0,s.cl.mark(s.cm.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var _;this._hash&&this._hash.remove();for(const o of this._controls)o.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),ce.removeThrottleControl(this._imageQueueHandle),(_=this._resizeObserver)===null||_===void 0||_.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i!=null&&i.loseContext&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),M.remove(this._canvasContainer),M.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),s.cl.clearMetrics(),this._removed=!0,this.fire(new s.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,E.frame(this._frameRequest,_=>{s.cl.frame(_),this._frameRequest=null;try{this._render(_)}catch(i){if(!s.cn(i)&&!function(o){return o.message===cu}(i))throw i}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get version(){return Da}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(_){return this._lazyInitEmptyStyle(),this.style.setProjection(_),this._update(!0)}},h.MapMouseEvent=Gr,h.MapTouchEvent=Dr,h.MapWheelEvent=Un,h.Marker=xA,h.NavigationControl=class{constructor(_){this._updateZoomButtons=()=>{const i=this._map.getZoom(),o=i===this._map.getMaxZoom(),d=i===this._map.getMinZoom();this._zoomInButton.disabled=o,this._zoomOutButton.disabled=d,this._zoomInButton.setAttribute("aria-disabled",o.toString()),this._zoomOutButton.setAttribute("aria-disabled",d.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(i,o)=>{const d=this._map._getUIString(`NavigationControl.${o}`);i.title=d,i.setAttribute("aria-label",d)},this.options=s.e({},yA,_),this._container=M.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",i=>this._map.zoomIn({},{originalEvent:i})),M.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",i=>this._map.zoomOut({},{originalEvent:i})),M.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})}),this._compassIcon=M.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ec(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){M.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,i){const o=M.create("button",_,this._container);return o.type="button",o.addEventListener("click",i),o}},h.Popup=class extends s.E{constructor(_){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:void 0)},this.remove=()=>(this._content&&M.remove(this._content),this._container&&(M.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new s.l("close"))),this),this._onMouseUp=i=>{this._update(i.point)},this._onMouseMove=i=>{this._update(i.point)},this._onDrag=i=>{this._update(i.point)},this._update=i=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=M.create("div","maplibregl-popup",this._map.getContainer()),this._tip=M.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const B of this.options.className.split(" "))this._container.classList.add(B);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Fc(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!i)return;const o=this._flatPos=this._pos=this._trackPointer&&i?i:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&i?i:this._map.transform.locationToScreenPoint(this._lngLat));let d=this.options.anchor;const p=Yc(this.options.offset);if(!d){const B=this._container.offsetWidth,U=this._container.offsetHeight;let T;T=o.y+p.bottom.y<U?["top"]:o.y>this._map.transform.height-U?["bottom"]:[],o.x<B/2?T.push("left"):o.x>this._map.transform.width-B/2&&T.push("right"),d=T.length===0?"bottom":T.join("-")}let b=o.add(p[d]);this.options.subpixelPositioning||(b=b.round()),M.setTransform(this._container,`${vA[d]} translate(${b.x}px,${b.y}px)`),ul(this._container,d,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=s.e(Object.create(Pu),_)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new s.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=s.Q.convert(_),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const i=document.createDocumentFragment(),o=document.createElement("body");let d;for(o.innerHTML=_;d=o.firstChild,d;)i.appendChild(d);return this.setDOMContent(i)}getMaxWidth(){var _;return(_=this._container)===null||_===void 0?void 0:_.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=M.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){return this._container&&this._container.classList.add(_),this}removeClassName(_){return this._container&&this._container.classList.remove(_),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}setSubpixelPositioning(_){this.options.subpixelPositioning=_}_createCloseButton(){this.options.closeButton&&(this._closeButton=M.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(Sc);_&&_.focus()}},h.RasterDEMTileSource=Kt,h.RasterTileSource=fi,h.ScaleControl=class{constructor(_){this._onMove=()=>{Tc(this._map,this._container,this.options)},this.setUnit=i=>{this.options.unit=i,Tc(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Lu),_)}getDefaultPosition(){return"bottom-left"}onAdd(_){return this._map=_,this._container=M.create("div","maplibregl-ctrl maplibregl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){M.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},h.ScrollZoomHandler=Uu,h.Style=rA,h.TerrainControl=class{constructor(_){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=_}onAdd(_){return this._map=_,this._container=M.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=M.create("button","maplibregl-ctrl-terrain",this._container),M.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){M.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},h.TwoFingersTouchPitchHandler=cf,h.TwoFingersTouchRotateHandler=Mc,h.TwoFingersTouchZoomHandler=Cc,h.TwoFingersTouchZoomRotateHandler=Ic,h.VectorTileSource=oi,h.VideoSource=qi,h.addSourceType=(_,i)=>s._(void 0,void 0,void 0,function*(){if(Ri(_))throw new Error(`A source type called "${_}" already exists.`);((o,d)=>{fa[o]=d})(_,i)}),h.clearPrewarmedResources=function(){const _=Qe;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(ot),Qe=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},h.createTileMesh=WA,h.getMaxParallelImageRequests=function(){return s.a.MAX_PARALLEL_IMAGE_REQUESTS},h.getRTLTextPluginStatus=function(){return ha().getRTLTextPluginStatus()},h.getVersion=function(){return Qu},h.getWorkerCount=function(){return mt.workerCount},h.getWorkerUrl=function(){return s.a.WORKER_URL},h.importScriptInWorkers=function(_){return yt().broadcast("IS",_)},h.prewarm=function(){rt().acquire(ot)},h.setMaxParallelImageRequests=function(_){s.a.MAX_PARALLEL_IMAGE_REQUESTS=_},h.setRTLTextPlugin=function(_,i){return ha().setRTLTextPlugin(_,i)},h.setWorkerCount=function(_){mt.workerCount=_},h.setWorkerUrl=function(_){s.a.WORKER_URL=_}});var f=a;return f})})(T6);var Zg=T6.exports;const Ps=Lm(Zg),gB=t=>t;function km(t){const e=t-1;return e*e*e+1}function Tb(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function As(t,{delay:e=0,duration:a=400,easing:n=gB}={}){const c=+getComputedStyle(t).opacity;return{delay:e,duration:a,easing:n,css:f=>`opacity: ${f*c}`}}function ds(t,{delay:e=0,duration:a=400,easing:n=km,x:c=0,y:f=0,opacity:h=0}={}){const s=getComputedStyle(t),x=+s.opacity,w=s.transform==="none"?"":s.transform,I=x*(1-h),[R,E]=Tb(c),[M,Y]=Tb(f);return{delay:e,duration:a,easing:n,css:(D,O)=>`
			transform: ${w} translate(${(1-D)*R}${E}, ${(1-D)*M}${Y});
			opacity: ${x-I*O}`}}function Dm(t,{delay:e=0,duration:a=400,easing:n=km,axis:c="y"}={}){const f=getComputedStyle(t),h=+f.opacity,s=c==="y"?"height":"width",x=parseFloat(f[s]),w=c==="y"?["top","bottom"]:["left","right"],I=w.map(H=>`${H[0].toUpperCase()}${H.slice(1)}`),R=parseFloat(f[`padding${I[0]}`]),E=parseFloat(f[`padding${I[1]}`]),M=parseFloat(f[`margin${I[0]}`]),Y=parseFloat(f[`margin${I[1]}`]),D=parseFloat(f[`border${I[0]}Width`]),O=parseFloat(f[`border${I[1]}Width`]);return{delay:e,duration:a,easing:n,css:H=>`overflow: hidden;opacity: ${Math.min(H*20,1)*h};${s}: ${H*x}px;padding-${w[0]}: ${H*R}px;padding-${w[1]}: ${H*E}px;margin-${w[0]}: ${H*M}px;margin-${w[1]}: ${H*Y}px;border-${w[0]}-width: ${H*D}px;border-${w[1]}-width: ${H*O}px;min-${s}: 0`}}function pB(t,{delay:e=0,duration:a=400,easing:n=km,start:c=0,opacity:f=0}={}){const h=getComputedStyle(t),s=+h.opacity,x=h.transform==="none"?"":h.transform,w=1-c,I=s*(1-f);return{delay:e,duration:a,easing:n,css:(R,E)=>`
			transform: ${x} scale(${1-w*E});
			opacity: ${s-I*E}
		`}}const Y6=/^[a-z0-9]+(-[a-z0-9]+)*$/,Hg=(t,e,a,n="")=>{const c=t.split(":");if(t.slice(0,1)==="@"){if(c.length<2||c.length>3)return null;n=c.shift().slice(1)}if(c.length>3||!c.length)return null;if(c.length>1){const s=c.pop(),x=c.pop(),w={provider:c.length>0?c[0]:n,prefix:x,name:s};return e&&!L1(w)?null:w}const f=c[0],h=f.split("-");if(h.length>1){const s={provider:n,prefix:h.shift(),name:h.join("-")};return e&&!L1(s)?null:s}if(a&&n===""){const s={provider:n,prefix:"",name:f};return e&&!L1(s,a)?null:s}return null},L1=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,N6=Object.freeze({left:0,top:0,width:16,height:16}),lg=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Og=Object.freeze({...N6,...lg}),L3=Object.freeze({...Og,body:"",hidden:!1});function mB(t,e){const a={};!t.hFlip!=!e.hFlip&&(a.hFlip=!0),!t.vFlip!=!e.vFlip&&(a.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(a.rotate=n),a}function Sb(t,e){const a=mB(t,e);for(const n in L3)n in lg?n in t&&!(n in a)&&(a[n]=lg[n]):n in e?a[n]=e[n]:n in t&&(a[n]=t[n]);return a}function _B(t,e){const a=t.icons,n=t.aliases||Object.create(null),c=Object.create(null);function f(h){if(a[h])return c[h]=[];if(!(h in c)){c[h]=null;const s=n[h]&&n[h].parent,x=s&&f(s);x&&(c[h]=[s].concat(x))}return c[h]}return Object.keys(a).concat(Object.keys(n)).forEach(f),c}function bB(t,e,a){const n=t.icons,c=t.aliases||Object.create(null);let f={};function h(s){f=Sb(n[s]||c[s],f)}return h(e),a.forEach(h),Sb(t,f)}function L6(t,e){const a=[];if(typeof t!="object"||typeof t.icons!="object")return a;t.not_found instanceof Array&&t.not_found.forEach(c=>{e(c,null),a.push(c)});const n=_B(t);for(const c in n){const f=n[c];f&&(e(c,bB(t,c,f)),a.push(c))}return a}const yB={provider:"",aliases:{},not_found:{},...N6};function U2(t,e){for(const a in e)if(a in t&&typeof t[a]!=typeof e[a])return!1;return!0}function P6(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!U2(t,yB))return null;const a=e.icons;for(const c in a){const f=a[c];if(!c||typeof f.body!="string"||!U2(f,L3))return null}const n=e.aliases||Object.create(null);for(const c in n){const f=n[c],h=f.parent;if(!c||typeof h!="string"||!a[h]&&!n[h]||!U2(f,L3))return null}return e}const Yb=Object.create(null);function vB(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Mh(t,e){const a=Yb[t]||(Yb[t]=Object.create(null));return a[e]||(a[e]=vB(t,e))}function Q6(t,e){return P6(e)?L6(e,(a,n)=>{n?t.icons[a]=n:t.missing.add(a)}):[]}function xB(t,e,a){try{if(typeof a.body=="string")return t.icons[e]={...a},!0}catch{}return!1}let n0=!1;function k6(t){return typeof t=="boolean"&&(n0=t),n0}function wB(t){const e=typeof t=="string"?Hg(t,!0,n0):t;if(e){const a=Mh(e.provider,e.prefix),n=e.name;return a.icons[n]||(a.missing.has(n)?null:void 0)}}function BB(t,e){const a=Hg(t,!0,n0);if(!a)return!1;const n=Mh(a.provider,a.prefix);return e?xB(n,a.name,e):(n.missing.add(a.name),!0)}function CB(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),n0&&!e&&!t.prefix){let c=!1;return P6(t)&&(t.prefix="",L6(t,(f,h)=>{BB(f,h)&&(c=!0)})),c}const a=t.prefix;if(!L1({prefix:a,name:"a"}))return!1;const n=Mh(e,a);return!!Q6(n,t)}const D6=Object.freeze({width:null,height:null}),z6=Object.freeze({...D6,...lg}),MB=/(-?[0-9.]*[0-9]+[0-9.]*)/g,RB=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Nb(t,e,a){if(e===1)return t;if(a=a||100,typeof t=="number")return Math.ceil(t*e*a)/a;if(typeof t!="string")return t;const n=t.split(MB);if(n===null||!n.length)return t;const c=[];let f=n.shift(),h=RB.test(f);for(;;){if(h){const s=parseFloat(f);isNaN(s)?c.push(f):c.push(Math.ceil(s*e*a)/a)}else c.push(f);if(f=n.shift(),f===void 0)return c.join("");h=!h}}function IB(t,e="defs"){let a="";const n=t.indexOf("<"+e);for(;n>=0;){const c=t.indexOf(">",n),f=t.indexOf("</"+e);if(c===-1||f===-1)break;const h=t.indexOf(">",f);if(h===-1)break;a+=t.slice(c+1,f).trim(),t=t.slice(0,n).trim()+t.slice(h+1)}return{defs:a,content:t}}function UB(t,e){return t?"<defs>"+t+"</defs>"+e:e}function EB(t,e,a){const n=IB(t);return UB(n.defs,e+n.content+a)}const FB=t=>t==="unset"||t==="undefined"||t==="none";function TB(t,e){const a={...Og,...t},n={...z6,...e},c={left:a.left,top:a.top,width:a.width,height:a.height};let f=a.body;[a,n].forEach(D=>{const O=[],H=D.hFlip,$=D.vFlip;let Ae=D.rotate;H?$?Ae+=2:(O.push("translate("+(c.width+c.left).toString()+" "+(0-c.top).toString()+")"),O.push("scale(-1 1)"),c.top=c.left=0):$&&(O.push("translate("+(0-c.left).toString()+" "+(c.height+c.top).toString()+")"),O.push("scale(1 -1)"),c.top=c.left=0);let ce;switch(Ae<0&&(Ae-=Math.floor(Ae/4)*4),Ae=Ae%4,Ae){case 1:ce=c.height/2+c.top,O.unshift("rotate(90 "+ce.toString()+" "+ce.toString()+")");break;case 2:O.unshift("rotate(180 "+(c.width/2+c.left).toString()+" "+(c.height/2+c.top).toString()+")");break;case 3:ce=c.width/2+c.left,O.unshift("rotate(-90 "+ce.toString()+" "+ce.toString()+")");break}Ae%2===1&&(c.left!==c.top&&(ce=c.left,c.left=c.top,c.top=ce),c.width!==c.height&&(ce=c.width,c.width=c.height,c.height=ce)),O.length&&(f=EB(f,'<g transform="'+O.join(" ")+'">',"</g>"))});const h=n.width,s=n.height,x=c.width,w=c.height;let I,R;h===null?(R=s===null?"1em":s==="auto"?w:s,I=Nb(R,x/w)):(I=h==="auto"?x:h,R=s===null?Nb(I,w/x):s==="auto"?w:s);const E={},M=(D,O)=>{FB(O)||(E[D]=O.toString())};M("width",I),M("height",R);const Y=[c.left,c.top,x,w];return E.viewBox=Y.join(" "),{attributes:E,viewBox:Y,body:f}}const SB=/\sid="(\S+)"/g,YB="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let NB=0;function LB(t,e=YB){const a=[];let n;for(;n=SB.exec(t);)a.push(n[1]);if(!a.length)return t;const c="suffix"+(Math.random()*16777216|Date.now()).toString(16);return a.forEach(f=>{const h=typeof e=="function"?e(f):e+(NB++).toString(),s=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+s+')([")]|\\.[a-z])',"g"),"$1"+h+c+"$3")}),t=t.replace(new RegExp(c,"g"),""),t}const P3=Object.create(null);function PB(t,e){P3[t]=e}function Q3(t){return P3[t]||P3[""]}function zm(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const Zm=Object.create(null),Ad=["https://api.simplesvg.com","https://api.unisvg.com"],P1=[];for(;Ad.length>0;)Ad.length===1||Math.random()>.5?P1.push(Ad.shift()):P1.push(Ad.pop());Zm[""]=zm({resources:["https://api.iconify.design"].concat(P1)});function QB(t,e){const a=zm(e);return a===null?!1:(Zm[t]=a,!0)}function Hm(t){return Zm[t]}const kB=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let Lb=kB();function DB(t,e){const a=Hm(t);if(!a)return 0;let n;if(!a.maxURL)n=0;else{let c=0;a.resources.forEach(h=>{c=Math.max(c,h.length)});const f=e+".json?icons=";n=a.maxURL-c-a.path.length-f.length}return n}function zB(t){return t===404}const ZB=(t,e,a)=>{const n=[],c=DB(t,e),f="icons";let h={type:f,provider:t,prefix:e,icons:[]},s=0;return a.forEach((x,w)=>{s+=x.length+1,s>=c&&w>0&&(n.push(h),h={type:f,provider:t,prefix:e,icons:[]},s=x.length),h.icons.push(x)}),n.push(h),n};function HB(t){if(typeof t=="string"){const e=Hm(t);if(e)return e.path}return"/"}const OB=(t,e,a)=>{if(!Lb){a("abort",424);return}let n=HB(e.provider);switch(e.type){case"icons":{const f=e.prefix,s=e.icons.join(","),x=new URLSearchParams({icons:s});n+=f+".json?"+x.toString();break}case"custom":{const f=e.uri;n+=f.slice(0,1)==="/"?f.slice(1):f;break}default:a("abort",400);return}let c=503;Lb(t+n).then(f=>{const h=f.status;if(h!==200){setTimeout(()=>{a(zB(h)?"abort":"next",h)});return}return c=501,f.json()}).then(f=>{if(typeof f!="object"||f===null){setTimeout(()=>{f===404?a("abort",f):a("next",c)});return}setTimeout(()=>{a("success",f)})}).catch(()=>{a("next",c)})},XB={prepare:ZB,send:OB};function VB(t){const e={loaded:[],missing:[],pending:[]},a=Object.create(null);t.sort((c,f)=>c.provider!==f.provider?c.provider.localeCompare(f.provider):c.prefix!==f.prefix?c.prefix.localeCompare(f.prefix):c.name.localeCompare(f.name));let n={provider:"",prefix:"",name:""};return t.forEach(c=>{if(n.name===c.name&&n.prefix===c.prefix&&n.provider===c.provider)return;n=c;const f=c.provider,h=c.prefix,s=c.name,x=a[f]||(a[f]=Object.create(null)),w=x[h]||(x[h]=Mh(f,h));let I;s in w.icons?I=e.loaded:h===""||w.missing.has(s)?I=e.missing:I=e.pending;const R={provider:f,prefix:h,name:s};I.push(R)}),e}function Z6(t,e){t.forEach(a=>{const n=a.loaderCallbacks;n&&(a.loaderCallbacks=n.filter(c=>c.id!==e))})}function GB(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let a=!1;const n=t.provider,c=t.prefix;e.forEach(f=>{const h=f.icons,s=h.pending.length;h.pending=h.pending.filter(x=>{if(x.prefix!==c)return!0;const w=x.name;if(t.icons[w])h.loaded.push({provider:n,prefix:c,name:w});else if(t.missing.has(w))h.missing.push({provider:n,prefix:c,name:w});else return a=!0,!0;return!1}),h.pending.length!==s&&(a||Z6([t],f.id),f.callback(h.loaded.slice(0),h.missing.slice(0),h.pending.slice(0),f.abort))})}))}let jB=0;function KB(t,e,a){const n=jB++,c=Z6.bind(null,a,n);if(!e.pending.length)return c;const f={id:n,icons:e,callback:t,abort:c};return a.forEach(h=>{(h.loaderCallbacks||(h.loaderCallbacks=[])).push(f)}),c}function $B(t,e=!0,a=!1){const n=[];return t.forEach(c=>{const f=typeof c=="string"?Hg(c,e,a):c;f&&n.push(f)}),n}var qB={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function WB(t,e,a,n){const c=t.resources.length,f=t.random?Math.floor(Math.random()*c):t.index;let h;if(t.random){let se=t.resources.slice(0);for(h=[];se.length>1;){const ae=Math.floor(Math.random()*se.length);h.push(se[ae]),se=se.slice(0,ae).concat(se.slice(ae+1))}h=h.concat(se)}else h=t.resources.slice(f).concat(t.resources.slice(0,f));const s=Date.now();let x="pending",w=0,I,R=null,E=[],M=[];typeof n=="function"&&M.push(n);function Y(){R&&(clearTimeout(R),R=null)}function D(){x==="pending"&&(x="aborted"),Y(),E.forEach(se=>{se.status==="pending"&&(se.status="aborted")}),E=[]}function O(se,ae){ae&&(M=[]),typeof se=="function"&&M.push(se)}function H(){return{startTime:s,payload:e,status:x,queriesSent:w,queriesPending:E.length,subscribe:O,abort:D}}function $(){x="failed",M.forEach(se=>{se(void 0,I)})}function Ae(){E.forEach(se=>{se.status==="pending"&&(se.status="aborted")}),E=[]}function ce(se,ae,V){const J=ae!=="success";switch(E=E.filter(ge=>ge!==se),x){case"pending":break;case"failed":if(J||!t.dataAfterTimeout)return;break;default:return}if(ae==="abort"){I=V,$();return}if(J){I=V,E.length||(h.length?he():$());return}if(Y(),Ae(),!t.random){const ge=t.resources.indexOf(se.resource);ge!==-1&&ge!==t.index&&(t.index=ge)}x="completed",M.forEach(ge=>{ge(V)})}function he(){if(x!=="pending")return;Y();const se=h.shift();if(se===void 0){if(E.length){R=setTimeout(()=>{Y(),x==="pending"&&(Ae(),$())},t.timeout);return}$();return}const ae={status:"pending",resource:se,callback:(V,J)=>{ce(ae,V,J)}};E.push(ae),w++,R=setTimeout(he,t.rotate),a(se,e,ae.callback)}return setTimeout(he),H}function H6(t){const e={...qB,...t};let a=[];function n(){a=a.filter(s=>s().status==="pending")}function c(s,x,w){const I=WB(e,s,x,(R,E)=>{n(),w&&w(R,E)});return a.push(I),I}function f(s){return a.find(x=>s(x))||null}return{query:c,find:f,setIndex:s=>{e.index=s},getIndex:()=>e.index,cleanup:n}}function Pb(){}const E2=Object.create(null);function JB(t){if(!E2[t]){const e=Hm(t);if(!e)return;const a=H6(e),n={config:e,redundancy:a};E2[t]=n}return E2[t]}function eC(t,e,a){let n,c;if(typeof t=="string"){const f=Q3(t);if(!f)return a(void 0,424),Pb;c=f.send;const h=JB(t);h&&(n=h.redundancy)}else{const f=zm(t);if(f){n=H6(f);const h=t.resources?t.resources[0]:"",s=Q3(h);s&&(c=s.send)}}return!n||!c?(a(void 0,424),Pb):n.query(e,c,a)().abort}function Qb(){}function tC(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,GB(t)}))}function iC(t){const e=[],a=[];return t.forEach(n=>{(n.match(Y6)?e:a).push(n)}),{valid:e,invalid:a}}function cd(t,e,a){function n(){const c=t.pendingIcons;e.forEach(f=>{c&&c.delete(f),t.icons[f]||t.missing.add(f)})}if(a&&typeof a=="object")try{if(!Q6(t,a).length){n();return}}catch(c){console.error(c)}n(),tC(t)}function kb(t,e){t instanceof Promise?t.then(a=>{e(a)}).catch(()=>{e(null)}):e(t)}function aC(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:a,prefix:n}=t,c=t.iconsToLoad;if(delete t.iconsToLoad,!c||!c.length)return;const f=t.loadIcon;if(t.loadIcons&&(c.length>1||!f)){kb(t.loadIcons(c,n,a),I=>{cd(t,c,I)});return}if(f){c.forEach(I=>{const R=f(I,n,a);kb(R,E=>{const M=E?{prefix:n,icons:{[I]:E}}:null;cd(t,[I],M)})});return}const{valid:h,invalid:s}=iC(c);if(s.length&&cd(t,s,null),!h.length)return;const x=n.match(Y6)?Q3(a):null;if(!x){cd(t,h,null);return}x.prepare(a,n,h).forEach(I=>{eC(a,I,R=>{cd(t,I.icons,R)})})}))}const rC=(t,e)=>{const a=$B(t,!0,k6()),n=VB(a);if(!n.pending.length){let x=!0;return e&&setTimeout(()=>{x&&e(n.loaded,n.missing,n.pending,Qb)}),()=>{x=!1}}const c=Object.create(null),f=[];let h,s;return n.pending.forEach(x=>{const{provider:w,prefix:I}=x;if(I===s&&w===h)return;h=w,s=I,f.push(Mh(w,I));const R=c[w]||(c[w]=Object.create(null));R[I]||(R[I]=[])}),n.pending.forEach(x=>{const{provider:w,prefix:I,name:R}=x,E=Mh(w,I),M=E.pendingIcons||(E.pendingIcons=new Set);M.has(R)||(M.add(R),c[w][I].push(R))}),f.forEach(x=>{const w=c[x.provider][x.prefix];w.length&&aC(x,w)}),e?KB(e,n,f):Qb};function nC(t,e){const a={...t};for(const n in e){const c=e[n],f=typeof c;n in D6?(c===null||c&&(f==="string"||f==="number"))&&(a[n]=c):f===typeof a[n]&&(a[n]=n==="rotate"?c%4:c)}return a}const sC=/[\s,]+/;function oC(t,e){e.split(sC).forEach(a=>{switch(a.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function lC(t,e=0){const a=t.replace(/^-?[0-9.]*/,"");function n(c){for(;c<0;)c+=4;return c%4}if(a===""){const c=parseInt(t);return isNaN(c)?0:n(c)}else if(a!==t){let c=0;switch(a){case"%":c=25;break;case"deg":c=90}if(c){let f=parseFloat(t.slice(0,t.length-a.length));return isNaN(f)?0:(f=f/c,f%1===0?n(f):0)}}return e}function AC(t,e){let a=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)a+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+a+">"+t+"</svg>"}function cC(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function hC(t){return"data:image/svg+xml,"+cC(t)}function uC(t){return'url("'+hC(t)+'")'}const Db={...z6,inline:!1},dC={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},fC={display:"inline-block"},k3={"background-color":"currentColor"},O6={"background-color":"transparent"},zb={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Zb={"-webkit-mask":k3,mask:k3,background:O6};for(const t in Zb){const e=Zb[t];for(const a in zb)e[t+"-"+a]=zb[a]}function gC(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}function pC(t,e){const a=nC(Db,e),n=e.mode||"svg",c=n==="svg"?{...dC}:{};t.body.indexOf("xlink:")===-1&&delete c["xmlns:xlink"];let f=typeof e.style=="string"?e.style:"";for(let H in e){const $=e[H];if($!==void 0)switch(H){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":a[H]=$===!0||$==="true"||$===1;break;case"flip":typeof $=="string"&&oC(a,$);break;case"color":f=f+(f.length>0&&f.trim().slice(-1)!==";"?";":"")+"color: "+$+"; ";break;case"rotate":typeof $=="string"?a[H]=lC($):typeof $=="number"&&(a[H]=$);break;case"ariaHidden":case"aria-hidden":$!==!0&&$!=="true"&&delete c["aria-hidden"];break;default:if(H.slice(0,3)==="on:")break;Db[H]===void 0&&(c[H]=$)}}const h=TB(t,a),s=h.attributes;if(a.inline&&(f="vertical-align: -0.125em; "+f),n==="svg"){Object.assign(c,s),f!==""&&(c.style=f);let H=0,$=e.id;return typeof $=="string"&&($=$.replace(/-/g,"_")),{svg:!0,attributes:c,body:LB(h.body,$?()=>$+"ID"+H++:"iconifySvelte")}}const{body:x,width:w,height:I}=t,R=n==="mask"||(n==="bg"?!1:x.indexOf("currentColor")!==-1),E=AC(x,{...s,width:w+"",height:I+""}),Y={"--svg":uC(E)},D=H=>{const $=s[H];$&&(Y[H]=gC($))};D("width"),D("height"),Object.assign(Y,fC,R?k3:O6);let O="";for(const H in Y)O+=H+": "+Y[H]+";";return c.style=O+f,{svg:!1,attributes:c}}k6(!0);PB("",XB);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,a="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!CB(n))&&console.error(a)}catch{console.error(a)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let a in e){const n="IconifyProviders["+a+"] is invalid.";try{const c=e[a];if(typeof c!="object"||!c||c.resources===void 0)continue;QB(a,c)||console.error(n)}catch{console.error(n)}}}}function mC(t,e,a,n,c){function f(){e.loading&&(e.loading.abort(),e.loading=null)}if(typeof t=="object"&&t!==null&&typeof t.body=="string")return e.name="",f(),{data:{...Og,...t}};let h;if(typeof t!="string"||(h=Hg(t,!1,!0))===null)return f(),null;const s=wB(h);if(!s)return a&&(!e.loading||e.loading.name!==t)&&(f(),e.name="",e.loading={name:t,abort:rC([h],n)}),null;f(),e.name!==t&&(e.name=t,c&&!e.destroyed&&c(t));const x=["iconify"];return h.prefix!==""&&x.push("iconify--"+h.prefix),h.provider!==""&&x.push("iconify--"+h.provider),{data:s,classes:x}}function Hb(t,e){return t?pC({...Og,...t},e):null}var _C=S9("<svg><!></svg>"),bC=ft("<span></span>");function vi(t,e){const a=c7(e,["children","$$slots","$$events","$$legacy"]);mi(e,!1);const n=Wr({name:"",loading:null,destroyed:!1});let c=Wr(!1),f=Wr(0),h=Wr();const s=E=>{typeof a.onLoad=="function"&&a.onLoad(E),u6()("load",{icon:E})};function x(){s7(f)}Mr(()=>{st(c,!0)}),KA(()=>{E1(n,q(n).destroyed=!0),q(n).loading&&(q(n).loading.abort(),E1(n,q(n).loading=null))}),U1(()=>(q(f),eo(a),q(c),q(n),q(h),Hb),()=>{q(f);const E=!!a.ssr||q(c),M=mC(a.icon,q(n),E,x,s);st(h,M?Hb(M.data,a):null),q(h)&&M.classes&&E1(h,q(h).attributes.class=(typeof a.class=="string"?a.class+" ":"")+M.classes.join(" "))}),h6(),Vo();var w=xi(),I=kt(w);{var R=E=>{var M=xi(),Y=kt(M);{var D=H=>{var $=_C();let Ae;var ce=Le($);x6(ce,()=>q(h).body,!0,!1),Ue($),di(()=>Ae=pb($,Ae,{...q(h).attributes})),Ve(H,$)},O=H=>{var $=bC();let Ae;di(()=>Ae=pb($,Ae,{...q(h).attributes})),Ve(H,$)};It(Y,H=>{q(h).svg?H(D):H(O,!1)})}Ve(E,M)};It(I,E=>{q(h)&&E(R)})}Ve(t,w),_i()}const Zf={START:"start",CENTER:"center",END:"end"},Lo={HORIZONTAL:"horizontal",VERTICAL:"vertical"},hd={OBSERVED:0,REQUESTED:1},yC={[Lo.VERTICAL]:"top",[Lo.HORIZONTAL]:"left"},Ob={[Lo.VERTICAL]:"scrollTop",[Lo.HORIZONTAL]:"scrollLeft"};class vC{constructor({itemSize:e,itemCount:a,estimatedItemSize:n}){this.itemSize=e,this.itemCount=a,this.estimatedItemSize=n,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:a,estimatedItemSize:n}){a!=null&&(this.itemCount=a),n!=null&&(this.estimatedItemSize=n),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:a}=this;return typeof a=="function"?a(e):Array.isArray(a)?a[e]:a}computeTotalSizeAndPositionData(){let e=0;for(let a=0;a<this.itemCount;a++){const n=this.getSize(a),c=e;e+=n,this.itemSizeAndPositionData[a]={offset:c,size:n}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const a=this.getSizeAndPositionOfLastMeasuredItem();let n=a.offset+a.size;for(let c=this.lastMeasuredIndex+1;c<=e;c++){const f=this.getSize(c);if(f==null||isNaN(f))throw Error(`Invalid size returned for index ${c} of value ${f}`);this.itemSizeAndPositionData[c]={offset:n,size:f},n+=f}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=Zf.START,containerSize:a,currentOffset:n,targetIndex:c}){if(a<=0)return 0;const f=this.getSizeAndPositionForIndex(c),h=f.offset,s=h-a+f.size;let x;switch(e){case Zf.END:x=s;break;case Zf.CENTER:x=h-(a-f.size)/2;break;case Zf.START:x=h;break;default:x=Math.max(s,Math.min(h,n))}const w=this.getTotalSize();return Math.max(0,Math.min(w-a,x))}getVisibleRange({containerSize:e=0,offset:a,overscanCount:n}){if(this.getTotalSize()===0)return{};const f=a+e;let h=this.findNearestItem(a);if(h===void 0)throw Error(`Invalid offset ${a} specified`);const s=this.getSizeAndPositionForIndex(h);a=s.offset+s.size;let x=h;for(;a<f&&x<this.itemCount-1;)x++,a+=this.getSizeAndPositionForIndex(x).size;return n&&(h=Math.max(0,h-n),x=Math.min(x+n,this.itemCount-1)),{start:h,stop:x}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const a=this.getSizeAndPositionOfLastMeasuredItem(),n=Math.max(0,this.lastMeasuredIndex);return a.offset>=e?this.binarySearch({high:n,low:0,offset:e}):this.exponentialSearch({index:n,offset:e})}binarySearch({low:e,high:a,offset:n}){let c=0,f=0;for(;e<=a;){if(c=e+Math.floor((a-e)/2),f=this.getSizeAndPositionForIndex(c).offset,f===n)return c;f<n?e=c+1:f>n&&(a=c-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:a}){let n=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<a;)e+=n,n*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:a})}}const xC=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();var wC=ft('<div class="virtual-list-wrapper svelte-dwpad5"><!> <div class="virtual-list-inner svelte-dwpad5"></div> <!></div>');function BC(t,e){mi(e,!1);let a=si(e,"height",12),n=si(e,"width",12,"100%"),c=si(e,"itemCount",12),f=si(e,"itemSize",12),h=si(e,"estimatedItemSize",12,null),s=si(e,"stickyIndices",12,null),x=si(e,"getKey",12,null),w=si(e,"scrollDirection",28,()=>Lo.VERTICAL),I=si(e,"scrollOffset",12,null),R=si(e,"scrollToIndex",12,null),E=si(e,"scrollToAlignment",12,null),M=si(e,"scrollToBehaviour",12,"instant"),Y=si(e,"overscanCount",12,3);const D=u6(),O=new vC({itemCount:c(),itemSize:f(),estimatedItemSize:gt()});let H=Wr(!1),$=Wr(),Ae=Wr([]),ce=Wr({offset:I()||R()!=null&&q(Ae).length&&nt(R())||0,scrollChangeReason:hd.REQUESTED}),he=q(ce),se={scrollToIndex:R(),scrollToAlignment:E(),scrollOffset:I(),itemCount:c(),itemSize:f(),estimatedItemSize:h()},ae={},V=Wr(""),J=Wr("");_e(),Mr(()=>{st(H,!0),q($).addEventListener("scroll",$e,xC),I()!=null?ve(I()):R()!=null&&ve(nt(R()))}),KA(()=>{q(H)&&q($).removeEventListener("scroll",$e)});function ge(){if(!q(H))return;const Qe=se.scrollToIndex!==R()||se.scrollToAlignment!==E(),it=se.itemCount!==c()||se.itemSize!==f()||se.estimatedItemSize!==h();it&&(O.updateConfig({itemSize:f(),itemCount:c(),estimatedItemSize:gt()}),He()),se.scrollOffset!==I()?st(ce,{offset:I()||0,scrollChangeReason:hd.REQUESTED}):typeof R()=="number"&&(Qe||it)&&st(ce,{offset:nt(R(),E(),c()),scrollChangeReason:hd.REQUESTED}),se={scrollToIndex:R(),scrollToAlignment:E(),scrollOffset:I(),itemCount:c(),itemSize:f(),estimatedItemSize:h()}}function le(){if(!q(H))return;const{offset:Qe,scrollChangeReason:it}=q(ce);(he.offset!==Qe||he.scrollChangeReason!==it)&&_e(),he.offset!==Qe&&it===hd.REQUESTED&&ve(Qe),he=q(ce)}function _e(){const{offset:Qe}=q(ce),{start:it,stop:rt}=O.getVisibleRange({containerSize:w()===Lo.VERTICAL?a():n(),offset:Qe,overscanCount:Y()});let Bt=[];const yt=O.getTotalSize();if(w()===Lo.VERTICAL){const Ot=typeof a()=="number"?"px":"";st(V,`height:${a()}${Ot};width:${n()};`),st(J,`flex-direction:column;height:${yt}px;`)}else{const Ot=typeof n()=="number"?"px":"";st(V,`height:${a()};width:${n()}${Ot}`),st(J,`min-height:100%;width:${yt}px;`)}const Dt=s()!=null&&s().length!==0;if(Dt)for(let Ot=0;Ot<s().length;Ot++){const Ct=s()[Ot];Bt.push({index:Ct,style:Rt(Ct,!0)})}if(it!==void 0&&rt!==void 0){for(let Ot=it;Ot<=rt;Ot++)Dt&&s().includes(Ot)||Bt.push({index:Ot,style:Rt(Ot,!1)});D("itemsUpdated",{start:it,end:rt})}st(Ae,Bt)}function ve(Qe){"scroll"in q($)?q($).scroll({[yC[w()]]:Qe,behavior:M()}):E1($,q($)[Ob[w()]]=Qe)}function He(Qe=0){ae={},O.resetItem(Qe),_e()}function nt(Qe,it=E(),rt=c()){return(Qe<0||Qe>=rt)&&(Qe=0),O.getUpdatedOffsetForIndex({align:it,containerSize:w()===Lo.VERTICAL?a():n(),currentOffset:q(ce).offset||0,targetIndex:Qe})}function $e(Qe){const it=Je();it<0||q(ce).offset===it||Qe.target!==q($)||(st(ce,{offset:it,scrollChangeReason:hd.OBSERVED}),D("afterScroll",{offset:it,event:Qe}))}function Je(){return q($)[Ob[w()]]}function gt(){return h()||typeof f()=="number"&&f()||50}function Rt(Qe,it){if(ae[Qe])return ae[Qe];const{size:rt,offset:Bt}=O.getSizeAndPositionForIndex(Qe);let yt;return w()===Lo.VERTICAL?(yt=`left:0;width:100%;height:${rt}px;`,it?yt+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${Bt}px;margin-bottom:${-(Bt+rt)}px;`:yt+=`position:absolute;top:${Bt}px;`):(yt=`top:0;width:${rt}px;`,it?yt+=`position:sticky;z-index:1;left:0;margin-left:${Bt}px;margin-right:${-(Bt+rt)}px;`:yt+=`position:absolute;height:100%;left:${Bt}px;`),ae[Qe]=yt}U1(()=>(eo(R()),eo(E()),eo(I()),eo(c()),eo(f()),eo(h())),()=>{R(),E(),I(),c(),f(),h(),ge()}),U1(()=>q(ce),()=>{q(ce),le()}),U1(()=>(eo(a()),eo(n()),eo(s()),q(H)),()=>{a(),n(),s(),q(H)&&He(0)}),h6(),Vo();var Yt=wC(),ot=Le(Yt);C2(ot,e,"header",{});var mt=Ze(ot,2);Ea(mt,5,()=>q(Ae),Qe=>x()?x()(Qe.index):Qe.index,(Qe,it)=>{var rt=xi(),Bt=kt(rt);C2(Bt,e,"item",{get style(){return q(it).style},get index(){return q(it).index}}),Ve(Qe,rt)}),Ue(mt);var je=Ze(mt,2);return C2(je,e,"footer",{}),Ue(Yt),wn(Yt,Qe=>st($,Qe),()=>q($)),di(()=>{hn(Yt,q(V)),hn(mt,q(J))}),Ve(t,Yt),$7(e,"recomputeSizes",He),_i({recomputeSizes:He,get height(){return a()},set height(Qe){a(Qe),_n()},get width(){return n()},set width(Qe){n(Qe),_n()},get itemCount(){return c()},set itemCount(Qe){c(Qe),_n()},get itemSize(){return f()},set itemSize(Qe){f(Qe),_n()},get estimatedItemSize(){return h()},set estimatedItemSize(Qe){h(Qe),_n()},get stickyIndices(){return s()},set stickyIndices(Qe){s(Qe),_n()},get getKey(){return x()},set getKey(Qe){x(Qe),_n()},get scrollDirection(){return w()},set scrollDirection(Qe){w(Qe),_n()},get scrollOffset(){return I()},set scrollOffset(Qe){I(Qe),_n()},get scrollToIndex(){return R()},set scrollToIndex(Qe){R(Qe),_n()},get scrollToAlignment(){return E()},set scrollToAlignment(Qe){E(Qe),_n()},get scrollToBehaviour(){return M()},set scrollToBehaviour(Qe){M(Qe),_n()},get overscanCount(){return Y()},set overscanCount(Qe){Y(Qe),_n()}})}var Zn=Uint8Array,hh=Uint16Array,CC=Int32Array,X6=new Zn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),V6=new Zn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),MC=new Zn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),G6=function(t,e){for(var a=new hh(31),n=0;n<31;++n)a[n]=e+=1<<t[n-1];for(var c=new CC(a[30]),n=1;n<30;++n)for(var f=a[n];f<a[n+1];++f)c[f]=f-a[n]<<5|n;return{b:a,r:c}},j6=G6(X6,2),K6=j6.b,RC=j6.r;K6[28]=258,RC[258]=28;var IC=G6(V6,0),UC=IC.b,D3=new hh(32768);for(var La=0;La<32768;++La){var bl=(La&43690)>>1|(La&21845)<<1;bl=(bl&52428)>>2|(bl&13107)<<2,bl=(bl&61680)>>4|(bl&3855)<<4,D3[La]=((bl&65280)>>8|(bl&255)<<8)>>1}var zd=function(t,e,a){for(var n=t.length,c=0,f=new hh(e);c<n;++c)t[c]&&++f[t[c]-1];var h=new hh(e);for(c=1;c<e;++c)h[c]=h[c-1]+f[c-1]<<1;var s;if(a){s=new hh(1<<e);var x=15-e;for(c=0;c<n;++c)if(t[c])for(var w=c<<4|t[c],I=e-t[c],R=h[t[c]-1]++<<I,E=R|(1<<I)-1;R<=E;++R)s[D3[R]>>x]=w}else for(s=new hh(n),c=0;c<n;++c)t[c]&&(s[c]=D3[h[t[c]-1]++]>>15-t[c]);return s},b0=new Zn(288);for(var La=0;La<144;++La)b0[La]=8;for(var La=144;La<256;++La)b0[La]=9;for(var La=256;La<280;++La)b0[La]=7;for(var La=280;La<288;++La)b0[La]=8;var $6=new Zn(32);for(var La=0;La<32;++La)$6[La]=5;var EC=zd(b0,9,1),FC=zd($6,5,1),F2=function(t){for(var e=t[0],a=1;a<t.length;++a)t[a]>e&&(e=t[a]);return e},Rs=function(t,e,a){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&a},T2=function(t,e){var a=e/8|0;return(t[a]|t[a+1]<<8|t[a+2]<<16)>>(e&7)},TC=function(t){return(t+7)/8|0},SC=function(t,e,a){return(a==null||a>t.length)&&(a=t.length),new Zn(t.subarray(e,a))},YC=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Dn=function(t,e,a){var n=new Error(e||YC[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Dn),!a)throw n;return n},Om=function(t,e,a,n){var c=t.length,f=0;if(!c||e.f&&!e.l)return a||new Zn(0);var h=!a,s=h||e.i!=2,x=e.i;h&&(a=new Zn(c*3));var w=function(Ct){var Qt=a.length;if(Ct>Qt){var ui=new Zn(Math.max(Qt*2,Ct));ui.set(a),a=ui}},I=e.f||0,R=e.p||0,E=e.b||0,M=e.l,Y=e.d,D=e.m,O=e.n,H=c*8;do{if(!M){I=Rs(t,R,1);var $=Rs(t,R+1,3);if(R+=3,$)if($==1)M=EC,Y=FC,D=9,O=5;else if($==2){var se=Rs(t,R,31)+257,ae=Rs(t,R+10,15)+4,V=se+Rs(t,R+5,31)+1;R+=14;for(var J=new Zn(V),ge=new Zn(19),le=0;le<ae;++le)ge[MC[le]]=Rs(t,R+le*3,7);R+=ae*3;for(var _e=F2(ge),ve=(1<<_e)-1,He=zd(ge,_e,1),le=0;le<V;){var nt=He[Rs(t,R,ve)];R+=nt&15;var Ae=nt>>4;if(Ae<16)J[le++]=Ae;else{var $e=0,Je=0;for(Ae==16?(Je=3+Rs(t,R,3),R+=2,$e=J[le-1]):Ae==17?(Je=3+Rs(t,R,7),R+=3):Ae==18&&(Je=11+Rs(t,R,127),R+=7);Je--;)J[le++]=$e}}var gt=J.subarray(0,se),Rt=J.subarray(se);D=F2(gt),O=F2(Rt),M=zd(gt,D,1),Y=zd(Rt,O,1)}else Dn(1);else{var Ae=TC(R)+4,ce=t[Ae-4]|t[Ae-3]<<8,he=Ae+ce;if(he>c){x&&Dn(0);break}s&&w(E+ce),a.set(t.subarray(Ae,he),E),e.b=E+=ce,e.p=R=he*8,e.f=I;continue}if(R>H){x&&Dn(0);break}}s&&w(E+131072);for(var Yt=(1<<D)-1,ot=(1<<O)-1,mt=R;;mt=R){var $e=M[T2(t,R)&Yt],je=$e>>4;if(R+=$e&15,R>H){x&&Dn(0);break}if($e||Dn(2),je<256)a[E++]=je;else if(je==256){mt=R,M=null;break}else{var Qe=je-254;if(je>264){var le=je-257,it=X6[le];Qe=Rs(t,R,(1<<it)-1)+K6[le],R+=it}var rt=Y[T2(t,R)&ot],Bt=rt>>4;rt||Dn(3),R+=rt&15;var Rt=UC[Bt];if(Bt>3){var it=V6[Bt];Rt+=T2(t,R)&(1<<it)-1,R+=it}if(R>H){x&&Dn(0);break}s&&w(E+131072);var yt=E+Qe;if(E<Rt){var Dt=f-Rt,Ot=Math.min(Rt,yt);for(Dt+E<0&&Dn(3);E<Ot;++E)a[E]=n[Dt+E]}for(;E<yt;++E)a[E]=a[E-Rt]}}e.l=M,e.p=mt,e.b=E,e.f=I,M&&(I=1,e.m=D,e.d=Y,e.n=O)}while(!I);return E!=a.length&&h?SC(a,0,E):a.subarray(0,E)},NC=new Zn(0),LC=function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&Dn(6,"invalid gzip data");var e=t[3],a=10;e&4&&(a+=(t[10]|t[11]<<8)+2);for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!t[a++]);return a+(e&2)},PC=function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},QC=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Dn(6,"invalid zlib data"),(t[1]>>5&1)==1&&Dn(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function kC(t,e){return Om(t,{i:2},e,e)}function DC(t,e){var a=LC(t);return a+8>t.length&&Dn(6,"invalid gzip data"),Om(t.subarray(a,-8),{i:2},new Zn(PC(t)),e)}function zC(t,e){return Om(t.subarray(QC(t),-4),{i:2},e,e)}function ZC(t,e){return t[0]==31&&t[1]==139&&t[2]==8?DC(t,e):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?kC(t,e):zC(t,e)}var HC=typeof TextDecoder<"u"&&new TextDecoder,OC=0;try{HC.decode(NC,{stream:!0}),OC=1}catch{}var XC=Object.defineProperty,Zd=Math.pow,ya=(t,e)=>XC(t,"name",{value:e,configurable:!0}),Nr=(t,e,a)=>new Promise((n,c)=>{var f=x=>{try{s(a.next(x))}catch(w){c(w)}},h=x=>{try{s(a.throw(x))}catch(w){c(w)}},s=x=>x.done?n(x.value):Promise.resolve(x.value).then(f,h);s((a=a.apply(t,e)).next())});ya((t,e)=>{let a=!1,n="",c=L.GridLayer.extend({createTile:ya((f,h)=>{let s=document.createElement("img"),x=new AbortController,w=x.signal;return s.cancel=()=>{x.abort()},a||(t.getHeader().then(I=>{I.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):I.tileType===2?n="image/png":I.tileType===3?n="image/jpeg":I.tileType===4?n="image/webp":I.tileType===5&&(n="image/avif")}),a=!0),t.getZxy(f.z,f.x,f.y,w).then(I=>{if(I){let R=new Blob([I.data],{type:n}),E=window.URL.createObjectURL(R);s.src=E,s.cancel=void 0,h(void 0,s)}}).catch(I=>{if(I.name!=="AbortError")throw I}),s},"createTile"),_removeTile:ya(function(f){let h=this._tiles[f];h&&(h.el.cancel&&h.el.cancel(),h.el.width=0,h.el.height=0,h.el.deleted=!0,L.DomUtil.remove(h.el),delete this._tiles[f],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(f)}))},"_removeTile")});return new c(e)},"leafletRasterLayer");var VC=ya(t=>(e,a)=>{if(a instanceof AbortController)return t(e,a);let n=new AbortController;return t(e,n).then(c=>a(void 0,c.data,c.cacheControl||"",c.expires||""),c=>a(c)).catch(c=>a(c)),{cancel:ya(()=>n.abort(),"cancel")}},"v3compat"),q6=class{constructor(e){this.tilev4=ya((a,n)=>Nr(this,null,function*(){if(a.type==="json"){let M=a.url.substr(10),Y=this.tiles.get(M);if(Y||(Y=new Ag(M),this.tiles.set(M,Y)),this.metadata)return{data:yield Y.getTileJson(a.url)};let D=yield Y.getHeader();return(D.minLon>=D.maxLon||D.minLat>=D.maxLat)&&console.error(`Bounds of PMTiles archive ${D.minLon},${D.minLat},${D.maxLon},${D.maxLat} are not valid.`),{data:{tiles:[`${a.url}/{z}/{x}/{y}`],minzoom:D.minZoom,maxzoom:D.maxZoom,bounds:[D.minLon,D.minLat,D.maxLon,D.maxLat]}}}let c=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),f=a.url.match(c);if(!f)throw new Error("Invalid PMTiles protocol URL");let h=f[1],s=this.tiles.get(h);s||(s=new Ag(h),this.tiles.set(h,s));let x=f[2],w=f[3],I=f[4],R=yield s.getHeader(),E=yield s==null?void 0:s.getZxy(+x,+w,+I,n.signal);if(E)return{data:new Uint8Array(E.data),cacheControl:E.cacheControl,expires:E.expires};if(R.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4"),this.tile=VC(this.tilev4),this.tiles=new Map,this.metadata=(e==null?void 0:e.metadata)||!1,this.errorOnMissingTile=(e==null?void 0:e.errorOnMissingTile)||!1}add(e){this.tiles.set(e.source.getKey(),e)}get(e){return this.tiles.get(e)}};ya(q6,"Protocol");var GC=q6;function W6(t,e){return(e>>>0)*4294967296+(t>>>0)}ya(W6,"toNum");function J6(t,e){let a=e.buf,n=a[e.pos++],c=(n&112)>>4;if(n<128||(n=a[e.pos++],c|=(n&127)<<3,n<128)||(n=a[e.pos++],c|=(n&127)<<10,n<128)||(n=a[e.pos++],c|=(n&127)<<17,n<128)||(n=a[e.pos++],c|=(n&127)<<24,n<128)||(n=a[e.pos++],c|=(n&1)<<31,n<128))return W6(t,c);throw new Error("Expected varint not more than 10 bytes")}ya(J6,"readVarintRemainder");function sh(t){let e=t.buf,a=e[t.pos++],n=a&127;return a<128||(a=e[t.pos++],n|=(a&127)<<7,a<128)||(a=e[t.pos++],n|=(a&127)<<14,a<128)||(a=e[t.pos++],n|=(a&127)<<21,a<128)?n:(a=e[t.pos],n|=(a&15)<<28,J6(n,t))}ya(sh,"readVarint");function Xm(t,e,a,n){if(n===0){a===1&&(e[0]=t-1-e[0],e[1]=t-1-e[1]);let c=e[0];e[0]=e[1],e[1]=c}}ya(Xm,"rotate");function e5(t,e){let a=Zd(2,t),n=e,c=e,f=e,h=[0,0],s=1;for(;s<a;)n=1&f/2,c=1&(f^n),Xm(s,h,n,c),h[0]+=s*n,h[1]+=s*c,f=f/4,s*=2;return[t,h[0],h[1]]}ya(e5,"idOnLevel");var jC=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function t5(t,e,a){if(t>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(e>Zd(2,t)-1||a>Zd(2,t)-1)throw new Error("tile x/y outside zoom level bounds");let n=jC[t],c=Zd(2,t),f=0,h=0,s=0,x=[e,a],w=c/2;for(;w>0;)f=(x[0]&w)>0?1:0,h=(x[1]&w)>0?1:0,s+=w*w*(3*f^h),Xm(w,x,f,h),w=w/2;return n+s}ya(t5,"zxyToTileId");function KC(t){let e=0;for(let a=0;a<27;a++){let n=(1<<a)*(1<<a);if(e+n>t)return e5(a,t-e);e+=n}throw new Error("Tile zoom level exceeds max safe number limit (26)")}ya(KC,"tileIdToZxy");var $C=(t=>(t[t.Unknown=0]="Unknown",t[t.None=1]="None",t[t.Gzip=2]="Gzip",t[t.Brotli=3]="Brotli",t[t.Zstd=4]="Zstd",t))($C||{});function Xg(t,e){return Nr(this,null,function*(){if(e===1||e===0)return t;if(e===2){if(typeof globalThis.DecompressionStream>"u")return ZC(new Uint8Array(t));let a=new Response(t).body;if(!a)throw new Error("Failed to read response stream");let n=a.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(n).arrayBuffer()}throw new Error("Compression method not supported")})}ya(Xg,"defaultDecompress");var qC=(t=>(t[t.Unknown=0]="Unknown",t[t.Mvt=1]="Mvt",t[t.Png=2]="Png",t[t.Jpeg=3]="Jpeg",t[t.Webp=4]="Webp",t[t.Avif=5]="Avif",t))(qC||{});function i5(t){return t===1?".mvt":t===2?".png":t===3?".jpg":t===4?".webp":t===5?".avif":""}ya(i5,"tileTypeExt");var WC=127;function a5(t,e){let a=0,n=t.length-1;for(;a<=n;){let c=n+a>>1,f=e-t[c].tileId;if(f>0)a=c+1;else if(f<0)n=c-1;else return t[c]}return n>=0&&(t[n].runLength===0||e-t[n].tileId<t[n].runLength)?t[n]:null}ya(a5,"findTile");var JC=class{constructor(e){this.file=e}getKey(){return this.file.name}getBytes(e,a){return Nr(this,null,function*(){return{data:yield this.file.slice(e,e+a).arrayBuffer()}})}};ya(JC,"FileSource");var r5=class{constructor(e,a=new Headers){this.url=e,this.customHeaders=a,this.mustReload=!1;let n="";"navigator"in globalThis&&(n=globalThis.navigator.userAgent||"");let c=n.indexOf("Windows")>-1,f=/Chrome|Chromium|Edg|OPR|Brave/.test(n);this.chromeWindowsNoCache=!1,c&&f&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(e){this.customHeaders=e}getBytes(e,a,n,c){return Nr(this,null,function*(){let f,h;n?h=n:(f=new AbortController,h=f.signal);let s=new Headers(this.customHeaders);s.set("range",`bytes=${e}-${e+a-1}`);let x;this.mustReload?x="reload":this.chromeWindowsNoCache&&(x="no-store");let w=yield fetch(this.url,{signal:h,cache:x,headers:s});if(e===0&&w.status===416){let E=w.headers.get("Content-Range");if(!E||!E.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let M=+E.substr(8);w=yield fetch(this.url,{signal:h,cache:"reload",headers:{range:`bytes=0-${M-1}`}})}let I=w.headers.get("Etag");if(I!=null&&I.startsWith("W/")&&(I=null),w.status===416||c&&I&&I!==c)throw this.mustReload=!0,new z3(`Server returned non-matching ETag ${c} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(w.status>=300)throw new Error(`Bad response code: ${w.status}`);let R=w.headers.get("Content-Length");if(w.status===200&&(!R||+R>a))throw f&&f.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield w.arrayBuffer(),etag:I||void 0,cacheControl:w.headers.get("Cache-Control")||void 0,expires:w.headers.get("Expires")||void 0}})}};ya(r5,"FetchSource");var eM=r5;function is(t,e){let a=t.getUint32(e+4,!0),n=t.getUint32(e+0,!0);return a*Zd(2,32)+n}ya(is,"getUint64");function n5(t,e){let a=new DataView(t),n=a.getUint8(7);if(n>3)throw new Error(`Archive is spec version ${n} but this library supports up to spec version 3`);return{specVersion:n,rootDirectoryOffset:is(a,8),rootDirectoryLength:is(a,16),jsonMetadataOffset:is(a,24),jsonMetadataLength:is(a,32),leafDirectoryOffset:is(a,40),leafDirectoryLength:is(a,48),tileDataOffset:is(a,56),tileDataLength:is(a,64),numAddressedTiles:is(a,72),numTileEntries:is(a,80),numTileContents:is(a,88),clustered:a.getUint8(96)===1,internalCompression:a.getUint8(97),tileCompression:a.getUint8(98),tileType:a.getUint8(99),minZoom:a.getUint8(100),maxZoom:a.getUint8(101),minLon:a.getInt32(102,!0)/1e7,minLat:a.getInt32(106,!0)/1e7,maxLon:a.getInt32(110,!0)/1e7,maxLat:a.getInt32(114,!0)/1e7,centerZoom:a.getUint8(118),centerLon:a.getInt32(119,!0)/1e7,centerLat:a.getInt32(123,!0)/1e7,etag:e}}ya(n5,"bytesToHeader");function Vm(t){let e={buf:new Uint8Array(t),pos:0},a=sh(e),n=[],c=0;for(let f=0;f<a;f++){let h=sh(e);n.push({tileId:c+h,offset:0,length:0,runLength:1}),c+=h}for(let f=0;f<a;f++)n[f].runLength=sh(e);for(let f=0;f<a;f++)n[f].length=sh(e);for(let f=0;f<a;f++){let h=sh(e);h===0&&f>0?n[f].offset=n[f-1].offset+n[f-1].length:n[f].offset=h-1}return n}ya(Vm,"deserializeIndex");var s5=class extends Error{};ya(s5,"EtagMismatch");var z3=s5;function Gm(t,e){return Nr(this,null,function*(){let a=yield t.getBytes(0,16384);if(new DataView(a.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let n=a.data.slice(0,WC),c=n5(n,a.etag),f=a.data.slice(c.rootDirectoryOffset,c.rootDirectoryOffset+c.rootDirectoryLength),h=`${t.getKey()}|${c.etag||""}|${c.rootDirectoryOffset}|${c.rootDirectoryLength}`,s=Vm(yield e(f,c.internalCompression));return[c,[h,s.length,s]]})}ya(Gm,"getHeaderAndRoot");function jm(t,e,a,n,c){return Nr(this,null,function*(){let f=yield t.getBytes(a,n,void 0,c.etag),h=yield e(f.data,c.internalCompression),s=Vm(h);if(s.length===0)throw new Error("Empty directory is invalid");return s})}ya(jm,"getDirectory");var tM=class{constructor(e=100,a=!0,n=Xg){this.cache=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=n}getHeader(e){return Nr(this,null,function*(){let a=e.getKey(),n=this.cache.get(a);if(n)return n.lastUsed=this.counter++,n.data;let c=yield Gm(e,this.decompress);return c[1]&&this.cache.set(c[1][0],{lastUsed:this.counter++,data:c[1][2]}),this.cache.set(a,{lastUsed:this.counter++,data:c[0]}),this.prune(),c[0]})}getDirectory(e,a,n,c){return Nr(this,null,function*(){let f=`${e.getKey()}|${c.etag||""}|${a}|${n}`,h=this.cache.get(f);if(h)return h.lastUsed=this.counter++,h.data;let s=yield jm(e,this.decompress,a,n,c);return this.cache.set(f,{lastUsed:this.counter++,data:s}),this.prune(),s})}prune(){if(this.cache.size>this.maxCacheEntries){let e=1/0,a;this.cache.forEach((n,c)=>{n.lastUsed<e&&(e=n.lastUsed,a=c)}),a&&this.cache.delete(a)}}invalidate(e){return Nr(this,null,function*(){this.cache.delete(e.getKey())})}};ya(tM,"ResolvedValueCache");var o5=class{constructor(e=100,a=!0,n=Xg){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=n}getHeader(e){return Nr(this,null,function*(){let a=e.getKey(),n=this.cache.get(a);if(n)return n.lastUsed=this.counter++,yield n.data;let c=new Promise((f,h)=>{Gm(e,this.decompress).then(s=>{s[1]&&this.cache.set(s[1][0],{lastUsed:this.counter++,data:Promise.resolve(s[1][2])}),f(s[0]),this.prune()}).catch(s=>{h(s)})});return this.cache.set(a,{lastUsed:this.counter++,data:c}),c})}getDirectory(e,a,n,c){return Nr(this,null,function*(){let f=`${e.getKey()}|${c.etag||""}|${a}|${n}`,h=this.cache.get(f);if(h)return h.lastUsed=this.counter++,yield h.data;let s=new Promise((x,w)=>{jm(e,this.decompress,a,n,c).then(I=>{x(I),this.prune()}).catch(I=>{w(I)})});return this.cache.set(f,{lastUsed:this.counter++,data:s}),s})}prune(){if(this.cache.size>=this.maxCacheEntries){let e=1/0,a;this.cache.forEach((n,c)=>{n.lastUsed<e&&(e=n.lastUsed,a=c)}),a&&this.cache.delete(a)}}invalidate(e){return Nr(this,null,function*(){let a=e.getKey();if(this.invalidations.get(a))return yield this.invalidations.get(a);this.cache.delete(e.getKey());let n=new Promise((c,f)=>{this.getHeader(e).then(h=>{c(),this.invalidations.delete(a)}).catch(h=>{f(h)})});this.invalidations.set(a,n)})}};ya(o5,"SharedPromiseCache");var iM=o5,l5=class{constructor(e,a,n){typeof e=="string"?this.source=new eM(e):this.source=e,n?this.decompress=n:this.decompress=Xg,a?this.cache=a:this.cache=new iM}getHeader(){return Nr(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(e,a,n,c){return Nr(this,null,function*(){let f=t5(e,a,n),h=yield this.cache.getHeader(this.source);if(e<h.minZoom||e>h.maxZoom)return;let s=h.rootDirectoryOffset,x=h.rootDirectoryLength;for(let w=0;w<=3;w++){let I=yield this.cache.getDirectory(this.source,s,x,h),R=a5(I,f);if(R){if(R.runLength>0){let E=yield this.source.getBytes(h.tileDataOffset+R.offset,R.length,c,h.etag);return{data:yield this.decompress(E.data,h.tileCompression),cacheControl:E.cacheControl,expires:E.expires}}s=h.leafDirectoryOffset+R.offset,x=R.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(e,a,n,c){return Nr(this,null,function*(){try{return yield this.getZxyAttempt(e,a,n,c)}catch(f){if(f instanceof z3)return this.cache.invalidate(this.source),yield this.getZxyAttempt(e,a,n,c);throw f}})}getMetadataAttempt(){return Nr(this,null,function*(){let e=yield this.cache.getHeader(this.source),a=yield this.source.getBytes(e.jsonMetadataOffset,e.jsonMetadataLength,void 0,e.etag),n=yield this.decompress(a.data,e.internalCompression),c=new TextDecoder("utf-8");return JSON.parse(c.decode(n))})}getMetadata(){return Nr(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(e){if(e instanceof z3)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw e}})}getTileJson(e){return Nr(this,null,function*(){let a=yield this.getHeader(),n=yield this.getMetadata(),c=i5(a.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${e}/{z}/{x}/{y}${c}`],vector_layers:n.vector_layers,attribution:n.attribution,description:n.description,name:n.name,version:n.version,bounds:[a.minLon,a.minLat,a.maxLon,a.maxLat],center:[a.centerLon,a.centerLat,a.centerZoom],minzoom:a.minZoom,maxzoom:a.maxZoom}})}};ya(l5,"PMTiles");var Ag=l5;const aM=180/Math.PI;function Xb(t,e){return t/Math.pow(2,e)*360-180}function Vb(t,e){const a=Math.PI-2*Math.PI*t/Math.pow(2,e);return aM*Math.atan(.5*(Math.exp(a)-Math.exp(-a)))}function Gb(t){const e=Xb(t[0]+1,t[2]),a=Xb(t[0],t[2]),n=Vb(t[1]+1,t[2]),c=Vb(t[1],t[2]);return[a,n,e,c]}function rM(t){return[[t[0]*2,t[1]*2,t[2]+1],[t[0]*2+1,t[1]*2,t[2]+1],[t[0]*2+1,t[1]*2+1,t[2]+1],[t[0]*2,t[1]*2+1,t[2]+1]]}function nM(t){return[t[0]>>1,t[1]>>1,t[2]-1]}function sM(t){return rM(nM(t))}const{min:oM,max:lM}=Math,kA=(t,e=0,a=1)=>oM(lM(e,t),a),Km=t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=kA(t[e],0,255)):e===3&&(t[e]=kA(t[e],0,1));return t},A5={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])A5[`[object ${t}]`]=t.toLowerCase();function Hi(t){return A5[Object.prototype.toString.call(t)]||"object"}const Li=(t,e=null)=>t.length>=3?Array.prototype.slice.call(t):Hi(t[0])=="object"&&e?e.split("").filter(a=>t[0][a]!==void 0).map(a=>t[0][a]):t[0].slice(0),Nh=t=>{if(t.length<2)return null;const e=t.length-1;return Hi(t[e])=="string"?t[e].toLowerCase():null},{PI:Vg,min:c5,max:h5}=Math,cs=t=>Math.round(t*100)/100,Z3=t=>Math.round(t*100)/100,To=Vg*2,S2=Vg/3,AM=Vg/180,cM=180/Vg;function u5(t){return[...t.slice(0,3).reverse(),...t.slice(3)]}const Yi={format:{},autodetect:[]};class Pt{constructor(...e){const a=this;if(Hi(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let n=Nh(e),c=!1;if(!n){c=!0,Yi.sorted||(Yi.autodetect=Yi.autodetect.sort((f,h)=>h.p-f.p),Yi.sorted=!0);for(let f of Yi.autodetect)if(n=f.test(...e),n)break}if(Yi.format[n]){const f=Yi.format[n].apply(null,c?e:e.slice(0,-1));a._rgb=Km(f)}else throw new Error("unknown format: "+e);a._rgb.length===3&&a._rgb.push(1)}toString(){return Hi(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const hM="3.1.2",$i=(...t)=>new Pt(...t);$i.version=hM;const Rh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},uM=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,dM=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,d5=t=>{if(t.match(uM)){(t.length===4||t.length===7)&&(t=t.substr(1)),t.length===3&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const e=parseInt(t,16),a=e>>16,n=e>>8&255,c=e&255;return[a,n,c,1]}if(t.match(dM)){(t.length===5||t.length===9)&&(t=t.substr(1)),t.length===4&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16),a=e>>24&255,n=e>>16&255,c=e>>8&255,f=Math.round((e&255)/255*100)/100;return[a,n,c,f]}throw new Error(`unknown hex color: ${t}`)},{round:Hf}=Math,f5=(...t)=>{let[e,a,n,c]=Li(t,"rgba"),f=Nh(t)||"auto";c===void 0&&(c=1),f==="auto"&&(f=c<1?"rgba":"rgb"),e=Hf(e),a=Hf(a),n=Hf(n);let s="000000"+(e<<16|a<<8|n).toString(16);s=s.substr(s.length-6);let x="0"+Hf(c*255).toString(16);switch(x=x.substr(x.length-2),f.toLowerCase()){case"rgba":return`#${s}${x}`;case"argb":return`#${x}${s}`;default:return`#${s}`}};Pt.prototype.name=function(){const t=f5(this._rgb,"rgb");for(let e of Object.keys(Rh))if(Rh[e]===t)return e.toLowerCase();return t};Yi.format.named=t=>{if(t=t.toLowerCase(),Rh[t])return d5(Rh[t]);throw new Error("unknown color name: "+t)};Yi.autodetect.push({p:5,test:(t,...e)=>{if(!e.length&&Hi(t)==="string"&&Rh[t.toLowerCase()])return"named"}});Pt.prototype.alpha=function(t,e=!1){return t!==void 0&&Hi(t)==="number"?e?(this._rgb[3]=t,this):new Pt([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]};Pt.prototype.clipped=function(){return this._rgb._clipped||!1};const no={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},fM=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Qo(t){const e=fM.get(String(t).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+t);no.labWhitePoint=t,no.Xn=e[0],no.Zn=e[1]}function s0(){return no.labWhitePoint}const $m=(...t)=>{t=Li(t,"lab");const[e,a,n]=t,[c,f,h]=gM(e,a,n),[s,x,w]=g5(c,f,h);return[s,x,w,t.length>3?t[3]:1]},gM=(t,e,a)=>{const{kE:n,kK:c,kKE:f,Xn:h,Yn:s,Zn:x}=no,w=(t+16)/116,I=.002*e+w,R=w-.005*a,E=I*I*I,M=R*R*R,Y=E>n?E:(116*I-16)/c,D=t>f?Math.pow((t+16)/116,3):t/c,O=M>n?M:(116*R-16)/c,H=Y*h,$=D*s,Ae=O*x;return[H,$,Ae]},Y2=t=>{const e=Math.sign(t);return t=Math.abs(t),(t<=.0031308?t*12.92:1.055*Math.pow(t,1/2.4)-.055)*e},g5=(t,e,a)=>{const{MtxAdaptMa:n,MtxAdaptMaI:c,MtxXYZ2RGB:f,RefWhiteRGB:h,Xn:s,Yn:x,Zn:w}=no,I=s*n.m00+x*n.m10+w*n.m20,R=s*n.m01+x*n.m11+w*n.m21,E=s*n.m02+x*n.m12+w*n.m22,M=h.X*n.m00+h.Y*n.m10+h.Z*n.m20,Y=h.X*n.m01+h.Y*n.m11+h.Z*n.m21,D=h.X*n.m02+h.Y*n.m12+h.Z*n.m22,O=(t*n.m00+e*n.m10+a*n.m20)*(M/I),H=(t*n.m01+e*n.m11+a*n.m21)*(Y/R),$=(t*n.m02+e*n.m12+a*n.m22)*(D/E),Ae=O*c.m00+H*c.m10+$*c.m20,ce=O*c.m01+H*c.m11+$*c.m21,he=O*c.m02+H*c.m12+$*c.m22,se=Y2(Ae*f.m00+ce*f.m10+he*f.m20),ae=Y2(Ae*f.m01+ce*f.m11+he*f.m21),V=Y2(Ae*f.m02+ce*f.m12+he*f.m22);return[se*255,ae*255,V*255]},qm=(...t)=>{const[e,a,n,...c]=Li(t,"rgb"),[f,h,s]=p5(e,a,n),[x,w,I]=pM(f,h,s);return[x,w,I,...c.length>0&&c[0]<1?[c[0]]:[]]};function pM(t,e,a){const{Xn:n,Yn:c,Zn:f,kE:h,kK:s}=no,x=t/n,w=e/c,I=a/f,R=x>h?Math.pow(x,1/3):(s*x+16)/116,E=w>h?Math.pow(w,1/3):(s*w+16)/116,M=I>h?Math.pow(I,1/3):(s*I+16)/116;return[116*E-16,500*(R-E),200*(E-M)]}function N2(t){const e=Math.sign(t);return t=Math.abs(t),(t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4))*e}const p5=(t,e,a)=>{t=N2(t/255),e=N2(e/255),a=N2(a/255);const{MtxRGB2XYZ:n,MtxAdaptMa:c,MtxAdaptMaI:f,Xn:h,Yn:s,Zn:x,As:w,Bs:I,Cs:R}=no;let E=t*n.m00+e*n.m10+a*n.m20,M=t*n.m01+e*n.m11+a*n.m21,Y=t*n.m02+e*n.m12+a*n.m22;const D=h*c.m00+s*c.m10+x*c.m20,O=h*c.m01+s*c.m11+x*c.m21,H=h*c.m02+s*c.m12+x*c.m22;let $=E*c.m00+M*c.m10+Y*c.m20,Ae=E*c.m01+M*c.m11+Y*c.m21,ce=E*c.m02+M*c.m12+Y*c.m22;return $*=D/w,Ae*=O/I,ce*=H/R,E=$*f.m00+Ae*f.m10+ce*f.m20,M=$*f.m01+Ae*f.m11+ce*f.m21,Y=$*f.m02+Ae*f.m12+ce*f.m22,[E,M,Y]};Pt.prototype.lab=function(){return qm(this._rgb)};const mM=(...t)=>new Pt(...t,"lab");Object.assign($i,{lab:mM,getLabWhitePoint:s0,setLabWhitePoint:Qo});Yi.format.lab=$m;Yi.autodetect.push({p:2,test:(...t)=>{if(t=Li(t,"lab"),Hi(t)==="array"&&t.length===3)return"lab"}});Pt.prototype.darken=function(t=1){const e=this,a=e.lab();return a[0]-=no.Kn*t,new Pt(a,"lab").alpha(e.alpha(),!0)};Pt.prototype.brighten=function(t=1){return this.darken(-t)};Pt.prototype.darker=Pt.prototype.darken;Pt.prototype.brighter=Pt.prototype.brighten;Pt.prototype.get=function(t){const[e,a]=t.split("."),n=this[e]();if(a){const c=e.indexOf(a)-(e.substr(0,2)==="ok"?2:0);if(c>-1)return n[c];throw new Error(`unknown channel ${a} in mode ${e}`)}else return n};const{pow:_M}=Math,bM=1e-7,yM=20;Pt.prototype.luminance=function(t,e="rgb"){if(t!==void 0&&Hi(t)==="number"){if(t===0)return new Pt([0,0,0,this._rgb[3]],"rgb");if(t===1)return new Pt([255,255,255,this._rgb[3]],"rgb");let a=this.luminance(),n=yM;const c=(h,s)=>{const x=h.interpolate(s,.5,e),w=x.luminance();return Math.abs(t-w)<bM||!n--?x:w>t?c(h,x):c(x,s)},f=(a>t?c(new Pt([0,0,0]),this):c(this,new Pt([255,255,255]))).rgb();return new Pt([...f,this._rgb[3]])}return vM(...this._rgb.slice(0,3))};const vM=(t,e,a)=>(t=L2(t),e=L2(e),a=L2(a),.2126*t+.7152*e+.0722*a),L2=t=>(t/=255,t<=.03928?t/12.92:_M((t+.055)/1.055,2.4)),en={},Ih=(t,e,a=.5,...n)=>{let c=n[0]||"lrgb";if(!en[c]&&!n.length&&(c=Object.keys(en)[0]),!en[c])throw new Error(`interpolation mode ${c} is not defined`);return Hi(t)!=="object"&&(t=new Pt(t)),Hi(e)!=="object"&&(e=new Pt(e)),en[c](t,e,a).alpha(t.alpha()+a*(e.alpha()-t.alpha()))};Pt.prototype.mix=Pt.prototype.interpolate=function(t,e=.5,...a){return Ih(this,t,e,...a)};Pt.prototype.premultiply=function(t=!1){const e=this._rgb,a=e[3];return t?(this._rgb=[e[0]*a,e[1]*a,e[2]*a,a],this):new Pt([e[0]*a,e[1]*a,e[2]*a,a],"rgb")};const{sin:xM,cos:wM}=Math,m5=(...t)=>{let[e,a,n]=Li(t,"lch");return isNaN(n)&&(n=0),n=n*AM,[e,wM(n)*a,xM(n)*a]},Wm=(...t)=>{t=Li(t,"lch");const[e,a,n]=t,[c,f,h]=m5(e,a,n),[s,x,w]=$m(c,f,h);return[s,x,w,t.length>3?t[3]:1]},BM=(...t)=>{const e=u5(Li(t,"hcl"));return Wm(...e)},{sqrt:CM,atan2:MM,round:RM}=Math,_5=(...t)=>{const[e,a,n]=Li(t,"lab"),c=CM(a*a+n*n);let f=(MM(n,a)*cM+360)%360;return RM(c*1e4)===0&&(f=Number.NaN),[e,c,f]},Jm=(...t)=>{const[e,a,n,...c]=Li(t,"rgb"),[f,h,s]=qm(e,a,n),[x,w,I]=_5(f,h,s);return[x,w,I,...c.length>0&&c[0]<1?[c[0]]:[]]};Pt.prototype.lch=function(){return Jm(this._rgb)};Pt.prototype.hcl=function(){return u5(Jm(this._rgb))};const IM=(...t)=>new Pt(...t,"lch"),UM=(...t)=>new Pt(...t,"hcl");Object.assign($i,{lch:IM,hcl:UM});Yi.format.lch=Wm;Yi.format.hcl=BM;["lch","hcl"].forEach(t=>Yi.autodetect.push({p:2,test:(...e)=>{if(e=Li(e,t),Hi(e)==="array"&&e.length===3)return t}}));Pt.prototype.saturate=function(t=1){const e=this,a=e.lch();return a[1]+=no.Kn*t,a[1]<0&&(a[1]=0),new Pt(a,"lch").alpha(e.alpha(),!0)};Pt.prototype.desaturate=function(t=1){return this.saturate(-t)};Pt.prototype.set=function(t,e,a=!1){const[n,c]=t.split("."),f=this[n]();if(c){const h=n.indexOf(c)-(n.substr(0,2)==="ok"?2:0);if(h>-1){if(Hi(e)=="string")switch(e.charAt(0)){case"+":f[h]+=+e;break;case"-":f[h]+=+e;break;case"*":f[h]*=+e.substr(1);break;case"/":f[h]/=+e.substr(1);break;default:f[h]=+e}else if(Hi(e)==="number")f[h]=e;else throw new Error("unsupported value for Color.set");const s=new Pt(f,n);return a?(this._rgb=s._rgb,this):s}throw new Error(`unknown channel ${c} in mode ${n}`)}else return f};Pt.prototype.tint=function(t=.5,...e){return Ih(this,"white",t,...e)};Pt.prototype.shade=function(t=.5,...e){return Ih(this,"black",t,...e)};const EM=(t,e,a)=>{const n=t._rgb,c=e._rgb;return new Pt(n[0]+a*(c[0]-n[0]),n[1]+a*(c[1]-n[1]),n[2]+a*(c[2]-n[2]),"rgb")};en.rgb=EM;const{sqrt:P2,pow:Gc}=Math,FM=(t,e,a)=>{const[n,c,f]=t._rgb,[h,s,x]=e._rgb;return new Pt(P2(Gc(n,2)*(1-a)+Gc(h,2)*a),P2(Gc(c,2)*(1-a)+Gc(s,2)*a),P2(Gc(f,2)*(1-a)+Gc(x,2)*a),"rgb")};en.lrgb=FM;const TM=(t,e,a)=>{const n=t.lab(),c=e.lab();return new Pt(n[0]+a*(c[0]-n[0]),n[1]+a*(c[1]-n[1]),n[2]+a*(c[2]-n[2]),"lab")};en.lab=TM;const Lh=(t,e,a,n)=>{let c,f;n==="hsl"?(c=t.hsl(),f=e.hsl()):n==="hsv"?(c=t.hsv(),f=e.hsv()):n==="hcg"?(c=t.hcg(),f=e.hcg()):n==="hsi"?(c=t.hsi(),f=e.hsi()):n==="lch"||n==="hcl"?(n="hcl",c=t.hcl(),f=e.hcl()):n==="oklch"&&(c=t.oklch().reverse(),f=e.oklch().reverse());let h,s,x,w,I,R;(n.substr(0,1)==="h"||n==="oklch")&&([h,x,I]=c,[s,w,R]=f);let E,M,Y,D;return!isNaN(h)&&!isNaN(s)?(s>h&&s-h>180?D=s-(h+360):s<h&&h-s>180?D=s+360-h:D=s-h,M=h+a*D):isNaN(h)?isNaN(s)?M=Number.NaN:(M=s,(I==1||I==0)&&n!="hsv"&&(E=w)):(M=h,(R==1||R==0)&&n!="hsv"&&(E=x)),E===void 0&&(E=x+a*(w-x)),Y=I+a*(R-I),n==="oklch"?new Pt([Y,E,M],n):new Pt([M,E,Y],n)},b5=(t,e,a)=>Lh(t,e,a,"lch");en.lch=b5;en.hcl=b5;const SM=t=>{if(Hi(t)=="number"&&t>=0&&t<=16777215){const e=t>>16,a=t>>8&255,n=t&255;return[e,a,n,1]}throw new Error("unknown num color: "+t)},YM=(...t)=>{const[e,a,n]=Li(t,"rgb");return(e<<16)+(a<<8)+n};Pt.prototype.num=function(){return YM(this._rgb)};const NM=(...t)=>new Pt(...t,"num");Object.assign($i,{num:NM});Yi.format.num=SM;Yi.autodetect.push({p:5,test:(...t)=>{if(t.length===1&&Hi(t[0])==="number"&&t[0]>=0&&t[0]<=16777215)return"num"}});const LM=(t,e,a)=>{const n=t.num(),c=e.num();return new Pt(n+a*(c-n),"num")};en.num=LM;const{floor:PM}=Math,QM=(...t)=>{t=Li(t,"hcg");let[e,a,n]=t,c,f,h;n=n*255;const s=a*255;if(a===0)c=f=h=n;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const x=PM(e),w=e-x,I=n*(1-a),R=I+s*(1-w),E=I+s*w,M=I+s;switch(x){case 0:[c,f,h]=[M,E,I];break;case 1:[c,f,h]=[R,M,I];break;case 2:[c,f,h]=[I,M,E];break;case 3:[c,f,h]=[I,R,M];break;case 4:[c,f,h]=[E,I,M];break;case 5:[c,f,h]=[M,I,R];break}}return[c,f,h,t.length>3?t[3]:1]},kM=(...t)=>{const[e,a,n]=Li(t,"rgb"),c=c5(e,a,n),f=h5(e,a,n),h=f-c,s=h*100/255,x=c/(255-h)*100;let w;return h===0?w=Number.NaN:(e===f&&(w=(a-n)/h),a===f&&(w=2+(n-e)/h),n===f&&(w=4+(e-a)/h),w*=60,w<0&&(w+=360)),[w,s,x]};Pt.prototype.hcg=function(){return kM(this._rgb)};const DM=(...t)=>new Pt(...t,"hcg");$i.hcg=DM;Yi.format.hcg=QM;Yi.autodetect.push({p:1,test:(...t)=>{if(t=Li(t,"hcg"),Hi(t)==="array"&&t.length===3)return"hcg"}});const zM=(t,e,a)=>Lh(t,e,a,"hcg");en.hcg=zM;const{cos:jc}=Math,ZM=(...t)=>{t=Li(t,"hsi");let[e,a,n]=t,c,f,h;return isNaN(e)&&(e=0),isNaN(a)&&(a=0),e>360&&(e-=360),e<0&&(e+=360),e/=360,e<1/3?(h=(1-a)/3,c=(1+a*jc(To*e)/jc(S2-To*e))/3,f=1-(h+c)):e<2/3?(e-=1/3,c=(1-a)/3,f=(1+a*jc(To*e)/jc(S2-To*e))/3,h=1-(c+f)):(e-=2/3,f=(1-a)/3,h=(1+a*jc(To*e)/jc(S2-To*e))/3,c=1-(f+h)),c=kA(n*c*3),f=kA(n*f*3),h=kA(n*h*3),[c*255,f*255,h*255,t.length>3?t[3]:1]},{min:HM,sqrt:OM,acos:XM}=Math,VM=(...t)=>{let[e,a,n]=Li(t,"rgb");e/=255,a/=255,n/=255;let c;const f=HM(e,a,n),h=(e+a+n)/3,s=h>0?1-f/h:0;return s===0?c=NaN:(c=(e-a+(e-n))/2,c/=OM((e-a)*(e-a)+(e-n)*(a-n)),c=XM(c),n>a&&(c=To-c),c/=To),[c*360,s,h]};Pt.prototype.hsi=function(){return VM(this._rgb)};const GM=(...t)=>new Pt(...t,"hsi");$i.hsi=GM;Yi.format.hsi=ZM;Yi.autodetect.push({p:2,test:(...t)=>{if(t=Li(t,"hsi"),Hi(t)==="array"&&t.length===3)return"hsi"}});const jM=(t,e,a)=>Lh(t,e,a,"hsi");en.hsi=jM;const H3=(...t)=>{t=Li(t,"hsl");const[e,a,n]=t;let c,f,h;if(a===0)c=f=h=n*255;else{const s=[0,0,0],x=[0,0,0],w=n<.5?n*(1+a):n+a-n*a,I=2*n-w,R=e/360;s[0]=R+1/3,s[1]=R,s[2]=R-1/3;for(let E=0;E<3;E++)s[E]<0&&(s[E]+=1),s[E]>1&&(s[E]-=1),6*s[E]<1?x[E]=I+(w-I)*6*s[E]:2*s[E]<1?x[E]=w:3*s[E]<2?x[E]=I+(w-I)*(2/3-s[E])*6:x[E]=I;[c,f,h]=[x[0]*255,x[1]*255,x[2]*255]}return t.length>3?[c,f,h,t[3]]:[c,f,h,1]},y5=(...t)=>{t=Li(t,"rgba");let[e,a,n]=t;e/=255,a/=255,n/=255;const c=c5(e,a,n),f=h5(e,a,n),h=(f+c)/2;let s,x;return f===c?(s=0,x=Number.NaN):s=h<.5?(f-c)/(f+c):(f-c)/(2-f-c),e==f?x=(a-n)/(f-c):a==f?x=2+(n-e)/(f-c):n==f&&(x=4+(e-a)/(f-c)),x*=60,x<0&&(x+=360),t.length>3&&t[3]!==void 0?[x,s,h,t[3]]:[x,s,h]};Pt.prototype.hsl=function(){return y5(this._rgb)};const KM=(...t)=>new Pt(...t,"hsl");$i.hsl=KM;Yi.format.hsl=H3;Yi.autodetect.push({p:2,test:(...t)=>{if(t=Li(t,"hsl"),Hi(t)==="array"&&t.length===3)return"hsl"}});const $M=(t,e,a)=>Lh(t,e,a,"hsl");en.hsl=$M;const{floor:qM}=Math,WM=(...t)=>{t=Li(t,"hsv");let[e,a,n]=t,c,f,h;if(n*=255,a===0)c=f=h=n;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const s=qM(e),x=e-s,w=n*(1-a),I=n*(1-a*x),R=n*(1-a*(1-x));switch(s){case 0:[c,f,h]=[n,R,w];break;case 1:[c,f,h]=[I,n,w];break;case 2:[c,f,h]=[w,n,R];break;case 3:[c,f,h]=[w,I,n];break;case 4:[c,f,h]=[R,w,n];break;case 5:[c,f,h]=[n,w,I];break}}return[c,f,h,t.length>3?t[3]:1]},{min:JM,max:eR}=Math,tR=(...t)=>{t=Li(t,"rgb");let[e,a,n]=t;const c=JM(e,a,n),f=eR(e,a,n),h=f-c;let s,x,w;return w=f/255,f===0?(s=Number.NaN,x=0):(x=h/f,e===f&&(s=(a-n)/h),a===f&&(s=2+(n-e)/h),n===f&&(s=4+(e-a)/h),s*=60,s<0&&(s+=360)),[s,x,w]};Pt.prototype.hsv=function(){return tR(this._rgb)};const iR=(...t)=>new Pt(...t,"hsv");$i.hsv=iR;Yi.format.hsv=WM;Yi.autodetect.push({p:2,test:(...t)=>{if(t=Li(t,"hsv"),Hi(t)==="array"&&t.length===3)return"hsv"}});const aR=(t,e,a)=>Lh(t,e,a,"hsv");en.hsv=aR;function cg(t,e){let a=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(h=>[h]));let n=e[0].length,c=e[0].map((h,s)=>e.map(x=>x[s])),f=t.map(h=>c.map(s=>Array.isArray(h)?h.reduce((x,w,I)=>x+w*(s[I]||0),0):s.reduce((x,w)=>x+w*h,0)));return a===1&&(f=f[0]),n===1?f.map(h=>h[0]):f}const e4=(...t)=>{t=Li(t,"lab");const[e,a,n,...c]=t,[f,h,s]=rR([e,a,n]),[x,w,I]=g5(f,h,s);return[x,w,I,...c.length>0&&c[0]<1?[c[0]]:[]]};function rR(t){var e=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],a=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=cg(a,t);return cg(e,n.map(c=>c**3))}const t4=(...t)=>{const[e,a,n,...c]=Li(t,"rgb"),f=p5(e,a,n);return[...nR(f),...c.length>0&&c[0]<1?[c[0]]:[]]};function nR(t){const e=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],a=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=cg(e,t);return cg(a,n.map(c=>Math.cbrt(c)))}Pt.prototype.oklab=function(){return t4(this._rgb)};const sR=(...t)=>new Pt(...t,"oklab");Object.assign($i,{oklab:sR});Yi.format.oklab=e4;Yi.autodetect.push({p:2,test:(...t)=>{if(t=Li(t,"oklab"),Hi(t)==="array"&&t.length===3)return"oklab"}});const oR=(t,e,a)=>{const n=t.oklab(),c=e.oklab();return new Pt(n[0]+a*(c[0]-n[0]),n[1]+a*(c[1]-n[1]),n[2]+a*(c[2]-n[2]),"oklab")};en.oklab=oR;const lR=(t,e,a)=>Lh(t,e,a,"oklch");en.oklch=lR;const{pow:Q2,sqrt:k2,PI:D2,cos:jb,sin:Kb,atan2:AR}=Math,cR=(t,e="lrgb",a=null)=>{const n=t.length;a||(a=Array.from(new Array(n)).map(()=>1));const c=n/a.reduce(function(R,E){return R+E});if(a.forEach((R,E)=>{a[E]*=c}),t=t.map(R=>new Pt(R)),e==="lrgb")return hR(t,a);const f=t.shift(),h=f.get(e),s=[];let x=0,w=0;for(let R=0;R<h.length;R++)if(h[R]=(h[R]||0)*a[0],s.push(isNaN(h[R])?0:a[0]),e.charAt(R)==="h"&&!isNaN(h[R])){const E=h[R]/180*D2;x+=jb(E)*a[0],w+=Kb(E)*a[0]}let I=f.alpha()*a[0];t.forEach((R,E)=>{const M=R.get(e);I+=R.alpha()*a[E+1];for(let Y=0;Y<h.length;Y++)if(!isNaN(M[Y]))if(s[Y]+=a[E+1],e.charAt(Y)==="h"){const D=M[Y]/180*D2;x+=jb(D)*a[E+1],w+=Kb(D)*a[E+1]}else h[Y]+=M[Y]*a[E+1]});for(let R=0;R<h.length;R++)if(e.charAt(R)==="h"){let E=AR(w/s[R],x/s[R])/D2*180;for(;E<0;)E+=360;for(;E>=360;)E-=360;h[R]=E}else h[R]=h[R]/s[R];return I/=n,new Pt(h,e).alpha(I>.99999?1:I,!0)},hR=(t,e)=>{const a=t.length,n=[0,0,0,0];for(let c=0;c<t.length;c++){const f=t[c],h=e[c]/a,s=f._rgb;n[0]+=Q2(s[0],2)*h,n[1]+=Q2(s[1],2)*h,n[2]+=Q2(s[2],2)*h,n[3]+=s[3]*h}return n[0]=k2(n[0]),n[1]=k2(n[1]),n[2]=k2(n[2]),n[3]>.9999999&&(n[3]=1),new Pt(Km(n))},{pow:uR}=Math;function hg(t){let e="rgb",a=$i("#ccc"),n=0,c=[0,1],f=[],h=[0,0],s=!1,x=[],w=!1,I=0,R=1,E=!1,M={},Y=!0,D=1;const O=function(ae){if(ae=ae||["#fff","#000"],ae&&Hi(ae)==="string"&&$i.brewer&&$i.brewer[ae.toLowerCase()]&&(ae=$i.brewer[ae.toLowerCase()]),Hi(ae)==="array"){ae.length===1&&(ae=[ae[0],ae[0]]),ae=ae.slice(0);for(let V=0;V<ae.length;V++)ae[V]=$i(ae[V]);f.length=0;for(let V=0;V<ae.length;V++)f.push(V/(ae.length-1))}return he(),x=ae},H=function(ae){if(s!=null){const V=s.length-1;let J=0;for(;J<V&&ae>=s[J];)J++;return J-1}return 0};let $=ae=>ae,Ae=ae=>ae;const ce=function(ae,V){let J,ge;if(V==null&&(V=!1),isNaN(ae)||ae===null)return a;V?ge=ae:s&&s.length>2?ge=H(ae)/(s.length-2):R!==I?ge=(ae-I)/(R-I):ge=1,ge=Ae(ge),V||(ge=$(ge)),D!==1&&(ge=uR(ge,D)),ge=h[0]+ge*(1-h[0]-h[1]),ge=kA(ge,0,1);const le=Math.floor(ge*1e4);if(Y&&M[le])J=M[le];else{if(Hi(x)==="array")for(let _e=0;_e<f.length;_e++){const ve=f[_e];if(ge<=ve){J=x[_e];break}if(ge>=ve&&_e===f.length-1){J=x[_e];break}if(ge>ve&&ge<f[_e+1]){ge=(ge-ve)/(f[_e+1]-ve),J=$i.interpolate(x[_e],x[_e+1],ge,e);break}}else Hi(x)==="function"&&(J=x(ge));Y&&(M[le]=J)}return J};var he=()=>M={};O(t);const se=function(ae){const V=$i(ce(ae));return w&&V[w]?V[w]():V};return se.classes=function(ae){if(ae!=null){if(Hi(ae)==="array")s=ae,c=[ae[0],ae[ae.length-1]];else{const V=$i.analyze(c);ae===0?s=[V.min,V.max]:s=$i.limits(V,"e",ae)}return se}return s},se.domain=function(ae){if(!arguments.length)return c;I=ae[0],R=ae[ae.length-1],f=[];const V=x.length;if(ae.length===V&&I!==R)for(let J of Array.from(ae))f.push((J-I)/(R-I));else{for(let J=0;J<V;J++)f.push(J/(V-1));if(ae.length>2){const J=ae.map((le,_e)=>_e/(ae.length-1)),ge=ae.map(le=>(le-I)/(R-I));ge.every((le,_e)=>J[_e]===le)||(Ae=le=>{if(le<=0||le>=1)return le;let _e=0;for(;le>=ge[_e+1];)_e++;const ve=(le-ge[_e])/(ge[_e+1]-ge[_e]);return J[_e]+ve*(J[_e+1]-J[_e])})}}return c=[I,R],se},se.mode=function(ae){return arguments.length?(e=ae,he(),se):e},se.range=function(ae,V){return O(ae),se},se.out=function(ae){return w=ae,se},se.spread=function(ae){return arguments.length?(n=ae,se):n},se.correctLightness=function(ae){return ae==null&&(ae=!0),E=ae,he(),E?$=function(V){const J=ce(0,!0).lab()[0],ge=ce(1,!0).lab()[0],le=J>ge;let _e=ce(V,!0).lab()[0];const ve=J+(ge-J)*V;let He=_e-ve,nt=0,$e=1,Je=20;for(;Math.abs(He)>.01&&Je-- >0;)(function(){return le&&(He*=-1),He<0?(nt=V,V+=($e-V)*.5):($e=V,V+=(nt-V)*.5),_e=ce(V,!0).lab()[0],He=_e-ve})();return V}:$=V=>V,se},se.padding=function(ae){return ae!=null?(Hi(ae)==="number"&&(ae=[ae,ae]),h=ae,se):h},se.colors=function(ae,V){arguments.length<2&&(V="hex");let J=[];if(arguments.length===0)J=x.slice(0);else if(ae===1)J=[se(.5)];else if(ae>1){const ge=c[0],le=c[1]-ge;J=dR(0,ae).map(_e=>se(ge+_e/(ae-1)*le))}else{t=[];let ge=[];if(s&&s.length>2)for(let le=1,_e=s.length,ve=1<=_e;ve?le<_e:le>_e;ve?le++:le--)ge.push((s[le-1]+s[le])*.5);else ge=c;J=ge.map(le=>se(le))}return $i[V]&&(J=J.map(ge=>ge[V]())),J},se.cache=function(ae){return ae!=null?(Y=ae,se):Y},se.gamma=function(ae){return ae!=null?(D=ae,se):D},se.nodata=function(ae){return ae!=null?(a=$i(ae),se):a},se}function dR(t,e,a){let n=[],c=t<e,f=e;for(let h=t;c?h<f:h>f;c?h++:h--)n.push(h);return n}const fR=function(t){let e=[1,1];for(let a=1;a<t;a++){let n=[1];for(let c=1;c<=e.length;c++)n[c]=(e[c]||0)+e[c-1];e=n}return e},gR=function(t){let e,a,n,c;if(t=t.map(f=>new Pt(f)),t.length===2)[a,n]=t.map(f=>f.lab()),e=function(f){const h=[0,1,2].map(s=>a[s]+f*(n[s]-a[s]));return new Pt(h,"lab")};else if(t.length===3)[a,n,c]=t.map(f=>f.lab()),e=function(f){const h=[0,1,2].map(s=>(1-f)*(1-f)*a[s]+2*(1-f)*f*n[s]+f*f*c[s]);return new Pt(h,"lab")};else if(t.length===4){let f;[a,n,c,f]=t.map(h=>h.lab()),e=function(h){const s=[0,1,2].map(x=>(1-h)*(1-h)*(1-h)*a[x]+3*(1-h)*(1-h)*h*n[x]+3*(1-h)*h*h*c[x]+h*h*h*f[x]);return new Pt(s,"lab")}}else if(t.length>=5){let f,h,s;f=t.map(x=>x.lab()),s=t.length-1,h=fR(s),e=function(x){const w=1-x,I=[0,1,2].map(R=>f.reduce((E,M,Y)=>E+h[Y]*w**(s-Y)*x**Y*M[R],0));return new Pt(I,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return e},pR=t=>{const e=gR(t);return e.scale=()=>hg(e),e},{round:v5}=Math;Pt.prototype.rgb=function(t=!0){return t===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(v5)};Pt.prototype.rgba=function(t=!0){return this._rgb.slice(0,4).map((e,a)=>a<3?t===!1?e:v5(e):e)};const mR=(...t)=>new Pt(...t,"rgb");Object.assign($i,{rgb:mR});Yi.format.rgb=(...t)=>{const e=Li(t,"rgba");return e[3]===void 0&&(e[3]=1),e};Yi.autodetect.push({p:3,test:(...t)=>{if(t=Li(t,"rgba"),Hi(t)==="array"&&(t.length===3||t.length===4&&Hi(t[3])=="number"&&t[3]>=0&&t[3]<=1))return"rgb"}});const Qs=(t,e,a)=>{if(!Qs[a])throw new Error("unknown blend mode "+a);return Qs[a](t,e)},Hl=t=>(e,a)=>{const n=$i(a).rgb(),c=$i(e).rgb();return $i.rgb(t(n,c))},Ol=t=>(e,a)=>{const n=[];return n[0]=t(e[0],a[0]),n[1]=t(e[1],a[1]),n[2]=t(e[2],a[2]),n},_R=t=>t,bR=(t,e)=>t*e/255,yR=(t,e)=>t>e?e:t,vR=(t,e)=>t>e?t:e,xR=(t,e)=>255*(1-(1-t/255)*(1-e/255)),wR=(t,e)=>e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255)),BR=(t,e)=>255*(1-(1-e/255)/(t/255)),CR=(t,e)=>t===255?255:(t=255*(e/255)/(1-t/255),t>255?255:t);Qs.normal=Hl(Ol(_R));Qs.multiply=Hl(Ol(bR));Qs.screen=Hl(Ol(xR));Qs.overlay=Hl(Ol(wR));Qs.darken=Hl(Ol(yR));Qs.lighten=Hl(Ol(vR));Qs.dodge=Hl(Ol(CR));Qs.burn=Hl(Ol(BR));const{pow:MR,sin:RR,cos:IR}=Math;function UR(t=300,e=-1.5,a=1,n=1,c=[0,1]){let f=0,h;Hi(c)==="array"?h=c[1]-c[0]:(h=0,c=[c,c]);const s=function(x){const w=To*((t+120)/360+e*x),I=MR(c[0]+h*x,n),E=(f!==0?a[0]+x*f:a)*I*(1-I)/2,M=IR(w),Y=RR(w),D=I+E*(-.14861*M+1.78277*Y),O=I+E*(-.29227*M-.90649*Y),H=I+E*(1.97294*M);return $i(Km([D*255,O*255,H*255,1]))};return s.start=function(x){return x==null?t:(t=x,s)},s.rotations=function(x){return x==null?e:(e=x,s)},s.gamma=function(x){return x==null?n:(n=x,s)},s.hue=function(x){return x==null?a:(a=x,Hi(a)==="array"?(f=a[1]-a[0],f===0&&(a=a[1])):f=0,s)},s.lightness=function(x){return x==null?c:(Hi(x)==="array"?(c=x,h=x[1]-x[0]):(c=[x,x],h=0),s)},s.scale=()=>$i.scale(s),s.hue(a),s}const ER="0123456789abcdef",{floor:FR,random:TR}=Math,SR=()=>{let t="#";for(let e=0;e<6;e++)t+=ER.charAt(FR(TR()*16));return new Pt(t,"hex")},{log:$b,pow:YR,floor:NR,abs:LR}=Math;function x5(t,e=null){const a={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Hi(t)==="object"&&(t=Object.values(t)),t.forEach(n=>{e&&Hi(n)==="object"&&(n=n[e]),n!=null&&!isNaN(n)&&(a.values.push(n),a.sum+=n,n<a.min&&(a.min=n),n>a.max&&(a.max=n),a.count+=1)}),a.domain=[a.min,a.max],a.limits=(n,c)=>w5(a,n,c),a}function w5(t,e="equal",a=7){Hi(t)=="array"&&(t=x5(t));const{min:n,max:c}=t,f=t.values.sort((s,x)=>s-x);if(a===1)return[n,c];const h=[];if(e.substr(0,1)==="c"&&(h.push(n),h.push(c)),e.substr(0,1)==="e"){h.push(n);for(let s=1;s<a;s++)h.push(n+s/a*(c-n));h.push(c)}else if(e.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");const s=Math.LOG10E*$b(n),x=Math.LOG10E*$b(c);h.push(n);for(let w=1;w<a;w++)h.push(YR(10,s+w/a*(x-s)));h.push(c)}else if(e.substr(0,1)==="q"){h.push(n);for(let s=1;s<a;s++){const x=(f.length-1)*s/a,w=NR(x);if(w===x)h.push(f[w]);else{const I=x-w;h.push(f[w]*(1-I)+f[w+1]*I)}}h.push(c)}else if(e.substr(0,1)==="k"){let s;const x=f.length,w=new Array(x),I=new Array(a);let R=!0,E=0,M=null;M=[],M.push(n);for(let O=1;O<a;O++)M.push(n+O/a*(c-n));for(M.push(c);R;){for(let H=0;H<a;H++)I[H]=0;for(let H=0;H<x;H++){const $=f[H];let Ae=Number.MAX_VALUE,ce;for(let he=0;he<a;he++){const se=LR(M[he]-$);se<Ae&&(Ae=se,ce=he),I[ce]++,w[H]=ce}}const O=new Array(a);for(let H=0;H<a;H++)O[H]=null;for(let H=0;H<x;H++)s=w[H],O[s]===null?O[s]=f[H]:O[s]+=f[H];for(let H=0;H<a;H++)O[H]*=1/I[H];R=!1;for(let H=0;H<a;H++)if(O[H]!==M[H]){R=!0;break}M=O,E++,E>200&&(R=!1)}const Y={};for(let O=0;O<a;O++)Y[O]=[];for(let O=0;O<x;O++)s=w[O],Y[s].push(f[O]);let D=[];for(let O=0;O<a;O++)D.push(Y[O][0]),D.push(Y[O][Y[O].length-1]);D=D.sort((O,H)=>O-H),h.push(D[0]);for(let O=1;O<D.length;O+=2){const H=D[O];!isNaN(H)&&h.indexOf(H)===-1&&h.push(H)}}return h}const PR=(t,e)=>{t=new Pt(t),e=new Pt(e);const a=t.luminance(),n=e.luminance();return a>n?(a+.05)/(n+.05):(n+.05)/(a+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const qb=.027,QR=5e-4,kR=.1,Wb=1.14,Of=.022,Jb=1.414,DR=(t,e)=>{t=new Pt(t),e=new Pt(e),t.alpha()<1&&(t=Ih(e,t,t.alpha(),"rgb"));const a=ey(...t.rgb()),n=ey(...e.rgb()),c=a>=Of?a:a+Math.pow(Of-a,Jb),f=n>=Of?n:n+Math.pow(Of-n,Jb),h=Math.pow(f,.56)-Math.pow(c,.57),s=Math.pow(f,.65)-Math.pow(c,.62),x=Math.abs(f-c)<QR?0:c<f?h*Wb:s*Wb;return(Math.abs(x)<kR?0:x>0?x-qb:x+qb)*100};function ey(t,e,a){return .2126729*Math.pow(t/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(a/255,2.4)}const{sqrt:Io,pow:cr,min:zR,max:ZR,atan2:ty,abs:iy,cos:Xf,sin:ay,exp:HR,PI:ry}=Math;function OR(t,e,a=1,n=1,c=1){var f=function(je){return 360*je/(2*ry)},h=function(je){return 2*ry*je/360};t=new Pt(t),e=new Pt(e);const[s,x,w]=Array.from(t.lab()),[I,R,E]=Array.from(e.lab()),M=(s+I)/2,Y=Io(cr(x,2)+cr(w,2)),D=Io(cr(R,2)+cr(E,2)),O=(Y+D)/2,H=.5*(1-Io(cr(O,7)/(cr(O,7)+cr(25,7)))),$=x*(1+H),Ae=R*(1+H),ce=Io(cr($,2)+cr(w,2)),he=Io(cr(Ae,2)+cr(E,2)),se=(ce+he)/2,ae=f(ty(w,$)),V=f(ty(E,Ae)),J=ae>=0?ae:ae+360,ge=V>=0?V:V+360,le=iy(J-ge)>180?(J+ge+360)/2:(J+ge)/2,_e=1-.17*Xf(h(le-30))+.24*Xf(h(2*le))+.32*Xf(h(3*le+6))-.2*Xf(h(4*le-63));let ve=ge-J;ve=iy(ve)<=180?ve:ge<=J?ve+360:ve-360,ve=2*Io(ce*he)*ay(h(ve)/2);const He=I-s,nt=he-ce,$e=1+.015*cr(M-50,2)/Io(20+cr(M-50,2)),Je=1+.045*se,gt=1+.015*se*_e,Rt=30*HR(-cr((le-275)/25,2)),ot=-(2*Io(cr(se,7)/(cr(se,7)+cr(25,7))))*ay(2*h(Rt)),mt=Io(cr(He/(a*$e),2)+cr(nt/(n*Je),2)+cr(ve/(c*gt),2)+ot*(nt/(n*Je))*(ve/(c*gt)));return ZR(0,zR(100,mt))}function XR(t,e,a="lab"){t=new Pt(t),e=new Pt(e);const n=t.get(a),c=e.get(a);let f=0;for(let h in n){const s=(n[h]||0)-(c[h]||0);f+=s*s}return Math.sqrt(f)}const VR=(...t)=>{try{return new Pt(...t),!0}catch{return!1}},GR={cool(){return hg([$i.hsl(180,1,.9),$i.hsl(250,.7,.4)])},hot(){return hg(["#000","#f00","#ff0","#fff"]).mode("rgb")}},O3={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},B5=Object.keys(O3),ny=new Map(B5.map(t=>[t.toLowerCase(),t])),jR=typeof Proxy=="function"?new Proxy(O3,{get(t,e){const a=e.toLowerCase();if(ny.has(a))return t[ny.get(a)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(B5)}}):O3,KR=(...t)=>{t=Li(t,"cmyk");const[e,a,n,c]=t,f=t.length>4?t[4]:1;return c===1?[0,0,0,f]:[e>=1?0:255*(1-e)*(1-c),a>=1?0:255*(1-a)*(1-c),n>=1?0:255*(1-n)*(1-c),f]},{max:sy}=Math,$R=(...t)=>{let[e,a,n]=Li(t,"rgb");e=e/255,a=a/255,n=n/255;const c=1-sy(e,sy(a,n)),f=c<1?1/(1-c):0,h=(1-e-c)*f,s=(1-a-c)*f,x=(1-n-c)*f;return[h,s,x,c]};Pt.prototype.cmyk=function(){return $R(this._rgb)};const qR=(...t)=>new Pt(...t,"cmyk");Object.assign($i,{cmyk:qR});Yi.format.cmyk=KR;Yi.autodetect.push({p:2,test:(...t)=>{if(t=Li(t,"cmyk"),Hi(t)==="array"&&t.length===4)return"cmyk"}});const WR=(...t)=>{const e=Li(t,"hsla");let a=Nh(t)||"lsa";return e[0]=cs(e[0]||0)+"deg",e[1]=cs(e[1]*100)+"%",e[2]=cs(e[2]*100)+"%",a==="hsla"||e.length>3&&e[3]<1?(e[3]="/ "+(e.length>3?e[3]:1),a="hsla"):e.length=3,`${a.substr(0,3)}(${e.join(" ")})`},JR=(...t)=>{const e=Li(t,"lab");let a=Nh(t)||"lab";return e[0]=cs(e[0])+"%",e[1]=cs(e[1]),e[2]=cs(e[2]),a==="laba"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lab(${e.join(" ")})`},eI=(...t)=>{const e=Li(t,"lch");let a=Nh(t)||"lab";return e[0]=cs(e[0])+"%",e[1]=cs(e[1]),e[2]=isNaN(e[2])?"none":cs(e[2])+"deg",a==="lcha"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lch(${e.join(" ")})`},tI=(...t)=>{const e=Li(t,"lab");return e[0]=cs(e[0]*100)+"%",e[1]=Z3(e[1]),e[2]=Z3(e[2]),e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklab(${e.join(" ")})`},C5=(...t)=>{const[e,a,n,...c]=Li(t,"rgb"),[f,h,s]=t4(e,a,n),[x,w,I]=_5(f,h,s);return[x,w,I,...c.length>0&&c[0]<1?[c[0]]:[]]},iI=(...t)=>{const e=Li(t,"lch");return e[0]=cs(e[0]*100)+"%",e[1]=Z3(e[1]),e[2]=isNaN(e[2])?"none":cs(e[2])+"deg",e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklch(${e.join(" ")})`},{round:z2}=Math,aI=(...t)=>{const e=Li(t,"rgba");let a=Nh(t)||"rgb";if(a.substr(0,3)==="hsl")return WR(y5(e),a);if(a.substr(0,3)==="lab"){const n=s0();Qo("d50");const c=JR(qm(e),a);return Qo(n),c}if(a.substr(0,3)==="lch"){const n=s0();Qo("d50");const c=eI(Jm(e),a);return Qo(n),c}return a.substr(0,5)==="oklab"?tI(t4(e)):a.substr(0,5)==="oklch"?iI(C5(e)):(e[0]=z2(e[0]),e[1]=z2(e[1]),e[2]=z2(e[2]),(a==="rgba"||e.length>3&&e[3]<1)&&(e[3]="/ "+(e.length>3?e[3]:1),a="rgba"),`${a.substr(0,3)}(${e.slice(0,a==="rgb"?3:4).join(" ")})`)},M5=(...t)=>{t=Li(t,"lch");const[e,a,n,...c]=t,[f,h,s]=m5(e,a,n),[x,w,I]=e4(f,h,s);return[x,w,I,...c.length>0&&c[0]<1?[c[0]]:[]]},Zo=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Ys=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,ug=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,hs=/\s*/.source,Ph=/\s+/.source,i4=/\s*,\s*/.source,Gg=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,Qh=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,R5=new RegExp("^rgba?\\("+hs+[Zo,Zo,Zo].join(Ph)+Qh+"\\)$"),I5=new RegExp("^rgb\\("+hs+[Zo,Zo,Zo].join(i4)+hs+"\\)$"),U5=new RegExp("^rgba\\("+hs+[Zo,Zo,Zo,Ys].join(i4)+hs+"\\)$"),E5=new RegExp("^hsla?\\("+hs+[Gg,ug,ug].join(Ph)+Qh+"\\)$"),F5=new RegExp("^hsl?\\("+hs+[Gg,ug,ug].join(i4)+hs+"\\)$"),T5=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,S5=new RegExp("^lab\\("+hs+[Ys,Ys,Ys].join(Ph)+Qh+"\\)$"),Y5=new RegExp("^lch\\("+hs+[Ys,Ys,Gg].join(Ph)+Qh+"\\)$"),N5=new RegExp("^oklab\\("+hs+[Ys,Ys,Ys].join(Ph)+Qh+"\\)$"),L5=new RegExp("^oklch\\("+hs+[Ys,Ys,Gg].join(Ph)+Qh+"\\)$"),{round:P5}=Math,Kc=t=>t.map((e,a)=>a<=2?kA(P5(e),0,255):e),hr=(t,e=0,a=100,n=!1)=>(typeof t=="string"&&t.endsWith("%")&&(t=parseFloat(t.substring(0,t.length-1))/100,n?t=e+(t+1)*.5*(a-e):t=e+t*(a-e)),+t),ln=(t,e)=>t==="none"?e:t,a4=t=>{if(t=t.toLowerCase().trim(),t==="transparent")return[0,0,0,0];let e;if(Yi.format.named)try{return Yi.format.named(t)}catch{}if((e=t.match(R5))||(e=t.match(I5))){let a=e.slice(1,4);for(let c=0;c<3;c++)a[c]=+hr(ln(a[c],0),0,255);a=Kc(a);const n=e[4]!==void 0?+hr(e[4],0,1):1;return a[3]=n,a}if(e=t.match(U5)){const a=e.slice(1,5);for(let n=0;n<4;n++)a[n]=+hr(a[n],0,255);return a}if((e=t.match(E5))||(e=t.match(F5))){const a=e.slice(1,4);a[0]=+ln(a[0].replace("deg",""),0),a[1]=+hr(ln(a[1],0),0,100)*.01,a[2]=+hr(ln(a[2],0),0,100)*.01;const n=Kc(H3(a)),c=e[4]!==void 0?+hr(e[4],0,1):1;return n[3]=c,n}if(e=t.match(T5)){const a=e.slice(1,4);a[1]*=.01,a[2]*=.01;const n=H3(a);for(let c=0;c<3;c++)n[c]=P5(n[c]);return n[3]=+e[4],n}if(e=t.match(S5)){const a=e.slice(1,4);a[0]=hr(ln(a[0],0),0,100),a[1]=hr(ln(a[1],0),-125,125,!0),a[2]=hr(ln(a[2],0),-125,125,!0);const n=s0();Qo("d50");const c=Kc($m(a));Qo(n);const f=e[4]!==void 0?+hr(e[4],0,1):1;return c[3]=f,c}if(e=t.match(Y5)){const a=e.slice(1,4);a[0]=hr(a[0],0,100),a[1]=hr(ln(a[1],0),0,150,!1),a[2]=+ln(a[2].replace("deg",""),0);const n=s0();Qo("d50");const c=Kc(Wm(a));Qo(n);const f=e[4]!==void 0?+hr(e[4],0,1):1;return c[3]=f,c}if(e=t.match(N5)){const a=e.slice(1,4);a[0]=hr(ln(a[0],0),0,1),a[1]=hr(ln(a[1],0),-.4,.4,!0),a[2]=hr(ln(a[2],0),-.4,.4,!0);const n=Kc(e4(a)),c=e[4]!==void 0?+hr(e[4],0,1):1;return n[3]=c,n}if(e=t.match(L5)){const a=e.slice(1,4);a[0]=hr(ln(a[0],0),0,1),a[1]=hr(ln(a[1],0),0,.4,!1),a[2]=+ln(a[2].replace("deg",""),0);const n=Kc(M5(a)),c=e[4]!==void 0?+hr(e[4],0,1):1;return n[3]=c,n}};a4.test=t=>R5.test(t)||E5.test(t)||S5.test(t)||Y5.test(t)||N5.test(t)||L5.test(t)||I5.test(t)||U5.test(t)||F5.test(t)||T5.test(t)||t==="transparent";Pt.prototype.css=function(t){return aI(this._rgb,t)};const rI=(...t)=>new Pt(...t,"css");$i.css=rI;Yi.format.css=a4;Yi.autodetect.push({p:5,test:(t,...e)=>{if(!e.length&&Hi(t)==="string"&&a4.test(t))return"css"}});Yi.format.gl=(...t)=>{const e=Li(t,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e};const nI=(...t)=>new Pt(...t,"gl");$i.gl=nI;Pt.prototype.gl=function(){const t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};Pt.prototype.hex=function(t){return f5(this._rgb,t)};const sI=(...t)=>new Pt(...t,"hex");$i.hex=sI;Yi.format.hex=d5;Yi.autodetect.push({p:4,test:(t,...e)=>{if(!e.length&&Hi(t)==="string"&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});const{log:Vf}=Math,Q5=t=>{const e=t/100;let a,n,c;return e<66?(a=255,n=e<6?0:-155.25485562709179-.44596950469579133*(n=e-2)+104.49216199393888*Vf(n),c=e<20?0:-254.76935184120902+.8274096064007395*(c=e-10)+115.67994401066147*Vf(c)):(a=351.97690566805693+.114206453784165*(a=e-55)-40.25366309332127*Vf(a),n=325.4494125711974+.07943456536662342*(n=e-50)-28.0852963507957*Vf(n),c=255),[a,n,c,1]},{round:oI}=Math,lI=(...t)=>{const e=Li(t,"rgb"),a=e[0],n=e[2];let c=1e3,f=4e4;const h=.4;let s;for(;f-c>h;){s=(f+c)*.5;const x=Q5(s);x[2]/x[0]>=n/a?f=s:c=s}return oI(s)};Pt.prototype.temp=Pt.prototype.kelvin=Pt.prototype.temperature=function(){return lI(this._rgb)};const Z2=(...t)=>new Pt(...t,"temp");Object.assign($i,{temp:Z2,kelvin:Z2,temperature:Z2});Yi.format.temp=Yi.format.kelvin=Yi.format.temperature=Q5;Pt.prototype.oklch=function(){return C5(this._rgb)};const AI=(...t)=>new Pt(...t,"oklch");Object.assign($i,{oklch:AI});Yi.format.oklch=M5;Yi.autodetect.push({p:2,test:(...t)=>{if(t=Li(t,"oklch"),Hi(t)==="array"&&t.length===3)return"oklch"}});Object.assign($i,{analyze:x5,average:cR,bezier:pR,blend:Qs,brewer:jR,Color:Pt,colors:Rh,contrast:PR,contrastAPCA:DR,cubehelix:UR,deltaE:OR,distance:XR,input:Yi,interpolate:Ih,limits:w5,mix:Ih,random:SR,scale:hg,scales:GR,valid:VR});const k5=async(t,e)=>{const n=await new Ag(t).getZxy(e.z,e.x,e.y);if(!n||!n.data)throw new Error("Tile data not found");const c=new Blob([n.data],{type:"image/png"});return new Promise((f,h)=>{const s=new FileReader;s.onloadend=()=>{s.result?f(s.result.toString()):h(new Error("Failed to convert blob to Base64"))},s.onerror=x=>h(x),s.readAsDataURL(c)})};var cI=(t,e,a)=>e(a.dataEntry),hI=ft('<img class="c-no-drag-icon h-full w-full rounded-md object-cover transition-transform duration-150 hover:scale-110"> <div class="pointer-events-none absolute grid h-full w-full place-items-center bg-black/50 opacity-0 transition-opacity duration-150 group-hover:opacity-100"><span class="text-lg text-white"></span></div> <span class="absolute bottom-1 right-0 rounded-l-full bg-black/40 p-2 text-xs text-white"> </span>',1),uI=(t,e,a)=>e(a.dataEntry.id),dI=ft('<button class="c-btn-cancel flex items-center gap-2 px-4"><!> <div></div></button>'),fI=(t,e,a)=>e(a.dataEntry.id),gI=ft('<button class="c-btn-confirm flex shrink-0 grow items-center gap-2 px-4"><!> <div></div></button>'),pI=ft('<div class="relative mb-4 flex shrink-0 grow flex-col items-center justify-center overflow-hidden rounded-lg bg-gray-300 p-2"><button class="group relative flex aspect-video w-full shrink-0 cursor-pointer overflow-hidden"><!></button> <div class="flex w-full flex-col gap-1 py-2"><div> </div> <div class="flex items-center gap-1 text-sm text-gray-600"><!><span> </span></div></div> <div class=" shrink-0"><!></div></div>');function mI(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(eg,"$orderedLayerIds",a);let f=si(e,"showDataEntry",15),h=$t(Jr(c())),s=ra(()=>{if(e.dataEntry)return f6(e.dataEntry)});eg.subscribe(le=>{st(h,le,!0)});const x=async le=>{if(le.type!=="raster")return Promise.resolve(void 0);const _e=le.metaData.xyzImageTile?le.metaData.xyzImageTile:tg;return Promise.resolve(le.format.url.replace("{z}",_e.z.toString()).replace("{x}",_e.x.toString()).replace("{y}",_e.y.toString()))},w=async le=>{try{if(le.type!=="raster"||le.format.type!=="pmtiles")return;const _e=le.metaData.xyzImageTile?le.metaData.xyzImageTile:tg;return await k5(le.format.url,_e)}catch(_e){console.error("Error fetching tile image:",_e)}},I=async le=>{if(le.type==="raster"){if(le.format.type==="image")return x(le);if(le.format.type==="pmtiles")return w(le)}else if(le.type==="vector")return le.metaData.coverImage??u7},R=le=>{q(s)&&Ch.add(le,q(s))},E=le=>{Ch.remove(le)};var M=pI(),Y=Le(M);Y.__click=[cI,f,e];var D=Le(Y);S1(D,()=>I(e.dataEntry),null,(le,_e)=>{var ve=hI(),He=kt(ve),nt=Ze(He,4),$e=Le(nt,!0);Ue(nt),di(()=>{ja(He,"src",q(_e)),ja(He,"alt",e.dataEntry.metaData.name),yi($e,e.dataEntry.metaData.attribution)}),Ve(le,ve)}),Ue(Y);var O=Ze(Y,2),H=Le(O),$=Le(H,!0);Ue(H);var Ae=Ze(H,2),ce=Le(Ae);vi(ce,{icon:"lucide:map-pin",class:"h-5 w-5"});var he=Ze(ce),se=Le(he,!0);Ue(he),Ue(Ae),Ue(O);var ae=Ze(O,2),V=Le(ae);{var J=le=>{var _e=dI();_e.__click=[uI,E,e];var ve=Le(_e);vi(ve,{icon:"material-symbols:check",class:" h-8 w-8"}),Ga(2),Ue(_e),Ve(le,_e)},ge=le=>{var _e=gI();_e.__click=[fI,R,e];var ve=Le(_e);vi(ve,{icon:"material-symbols:add",class:" h-8 w-8"}),Ga(2),Ue(_e),Ve(le,_e)};It(V,le=>{q(h).includes(e.dataEntry.id)?le(J):le(ge,!1)})}Ue(ae),Ue(M),di(()=>{yi($,e.dataEntry.metaData.name),yi(se,e.dataEntry.metaData.location)}),Ve(t,M),_i(),n()}$a(["click"]);var _I=(t,e)=>st(e,""),bI=ft('<div class="absolute left-1/2 top-1/2 flex h-full w-full -translate-x-1/2 -translate-y-1/2 items-center justify-center"><span class="text-gray-500"></span></div>'),yI=ft('<div slot="item"><div class="row svelte-1cjdm0y"></div></div>'),vI=ft('<div><div><div class="flex grow items-center justify-between gap-4 p-2"><span class="shrink-0 text-base text-lg"></span> <div class="bg-base flex w-full max-w-[400px] rounded-full border-[1px] px-4"><input class="c-search-form tex grid w-full text-left text-gray-500 svelte-1cjdm0y" type="text" placeholder=""> <button class="grid cursor-pointer place-items-center"><!></button></div> <button class="bg-base cursor-pointer rounded-full p-2"><!></button></div> <!> <div class="c-list h-full svelte-1cjdm0y"><!></div></div></div>');function xI(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(zo,"$showDataMenu",a);let f=si(e,"showDataEntry",15),h=Jr([...Qg]),s=$t(Jr([])),x=$t("");Cr(()=>{q(x)?st(s,h.filter(ve=>ve.metaData.name.toLowerCase().includes(q(x).toLowerCase())),!0):st(s,h,!0)});const w=()=>{zo.set(!zo)};let I=$t(0),R=$t(0),E=$t(2),M=310,Y=310;Cr(()=>{q(R)>Y*2?(st(E,Math.floor(q(R)/Y),!0),q(E)<2&&st(E,2)):st(E,2)});var D=vI(),O=Le(D),H=Le(O),$=Ze(Le(H),2),Ae=Le($);ks(Ae);var ce=Ze(Ae,2);ce.__click=[_I,x];var he=Le(ce);vi(he,{icon:"material-symbols:close-rounded",class:"h-8 w-8 text-gray-400"}),Ue(ce),Ue($);var se=Ze($,2);se.__click=w;var ae=Le(se);vi(ae,{icon:"material-symbols:close-rounded",class:"text-main h-4 w-4"}),Ue(se),Ue(H);var V=Ze(H,2);{var J=ve=>{var He=bI();Ve(ve,He)};It(V,ve=>{q(s).length===0&&ve(J)})}var ge=Ze(V,2),le=Le(ge);const _e=ra(()=>q(s).length/q(E)+1);BC(le,{width:"100%",height:"100%",get itemCount(){return q(_e)},get itemSize(){return M},$$slots:{item:(ve,He)=>{var nt=yI();const $e=ra(()=>He.index),Je=ra(()=>He.style);var gt=Le(nt);Ea(gt,21,()=>Array(q(E)),pr,(Rt,Yt,ot)=>{var mt=xi(),je=kt(mt);{var Qe=it=>{mI(it,{get dataEntry(){return q(s)[q($e)*q(E)+ot]},get showDataEntry(){return f()},set showDataEntry(rt){f(rt)}})};It(je,it=>{q(s)[q($e)*q(E)+ot]&&it(Qe)})}Ve(Rt,mt)}),Ue(gt),Ue(nt),di(()=>{hn(nt,q(Je)),hn(gt,`--grid-columns: ${q(E)??""};`)}),Ve(ve,nt)}}}),Ue(ge),Ue(O),Ue(D),di(()=>{Pr(D,1,`pointer-events-none absolute bottom-0 z-10 h-dvh w-full p-8 pl-[120px] pt-[60px] transition-all duration-150 ${(c()?"opacity-100":"opacity-0")??""}`),Pr(O,1,`bg-main pointer-events-auto relative flex h-full w-full flex-col overflow-hidden rounded-lg p-2 ${(c()?"pointer-events-auto":"pointer-events-none")??""}`),ce.disabled=!q(x)}),Dg(Ae,()=>q(x),ve=>st(x,ve)),Mb(ge,"clientHeight",ve=>st(I,ve)),Mb(ge,"clientWidth",ve=>st(R,ve)),Ve(t,D),_i(),n()}$a(["click"]);var wI=ft(`<div class="absolute bottom-0 z-30 flex h-full w-full items-center justify-center bg-black/50"><div class="bg-opacity-8 bg-main flex max-h-[600px] max-w-[900px] grow flex-col rounded-md p-4 text-base"><div class="flex shrink-0 items-center justify-between pb-4"><span class="text-2xl font-bold">morivis </span> <button class="bg-base rounded-full p-2"><!></button></div> <div class="flex-flex-col c-scroll overflow-y-auto overflow-x-hidden p-2"><div class="pb-4"><div class="pb-2 text-lg font-bold"></div> <div>20WebGIS
						WebGIS<a class="text-accent" href="https://github.com/forestacdev/enshurin-viewer/issues" target="_blank" rel="noopener noreferrer">GitHub</a></div></div> <div class="pb-4"><div class="pb-2 text-lg font-bold">Contributors / </div> <div class="flex max-w-[300px] flex-col gap-2"><a class="lg:hover:bg-accent flex cursor-pointer items-center justify-start gap-2 rounded-full border-2 border-gray-300 p-2 transition-colors lg:hover:text-white" href="https://github.com/satoshi7190" target="_blank" rel="noopener noreferrer"><div class="relative grid h-[50px] w-[50px] place-items-center overflow-hidden rounded-full bg-gray-500"><img class="absolute block h-full w-full rounded-full object-cover" src="https://github.com/satoshi7190.png" alt="satoshi7190's Avatar"></div> <div class="flex flex-col"><span>Satoshi Komatsu</span><span>(@satoshi7190)</span></div></a> <a class="lg:hover:bg-accent flex cursor-pointer items-center justify-start gap-2 rounded-full border-2 border-gray-300 p-2 transition-colors lg:hover:text-white" href="https://www.forest.ac.jp/" target="_blank" rel="noopener noreferrer"><div class="relative grid h-[50px] w-[50px] cursor-pointer place-items-center overflow-hidden rounded-full bg-gray-500"><img class="pointer-events-none absolute block h-full w-full rounded-full object-cover" src="https://pbs.twimg.com/profile_images/1349232244909510656/US-2oTws_400x400.jpg" alt=""></div> <div class="flex flex-col"><span></span> <span></span></div></a></div></div></div></div></div>`);function BI(t,e){mi(e,!1);const[a,n]=rr(),c=()=>zi(ig,"$showInfoDialog",a);Vo();var f=xi(),h=kt(f);{var s=x=>{var w=wI(),I=Le(w),R=Le(I),E=Ze(Le(R),2);E.__click=()=>ig.set(!1);var M=Le(E);vi(M,{icon:"material-symbols:close-rounded",class:"text-main h-4 w-4"}),Ue(E),Ue(R),Ga(2),Ue(I),Ue(w),ba(3,w,()=>As,()=>({duration:100})),Ve(x,w)};It(h,x=>{c()&&x(s)})}Ve(t,f),_i(),n()}$a(["click"]);var CI=ft(`<div class="absolute bottom-0 z-30 flex h-full w-full items-center justify-center bg-black/50"><div class="bg-opacity-8 bg-main flex max-h-[600px] max-w-[900px] grow flex-col rounded-md p-4 text-base"><div class="flex shrink-0 items-center justify-between overflow-auto pb-4"><span class="text-2xl font-bold"></span></div> <div class="c-scroll flex h-full grow flex-col overflow-y-auto overflow-x-hidden pb-4"><div class="pb-4"></div> <div class="pb-4"><div class="text-lg font-bold">  </div> </div> <div class="pb-4"><div class="text-lg font-bold"></div>   <div class="pl-2"><div>1. </div> <div>2. </div> <div>3. </div> <div>4. </div></div></div> <div class="pb-4"><div class="text-lg font-bold"></div> <div></div></div> <div class="pb-4"><div class="text-lg font-bold"></div> <div></div></div> <div class="pb-4"><div class="text-lg font-bold"></div> <div>
						</div></div> <div class="pb-4"><div class="text-lg font-bold"></div> <div></div></div> <div class="pb-4"><div class="text-lg font-bold">Google </div> <div>Google
						Google
						 Cookie
						Google
						<a class="text-accent underline" target="_blank" href="https://policies.google.com/privacy" rel="noopener noreferrer">Google </a></div></div> <div class="pb-4"><div class="text-lg font-bold"></div> <div></div></div></div> <div class="flex shrink-0 justify-center overflow-auto pt-2"><button class="c-btn-confirm px-12 py-6 text-lg"></button></div></div></div>`);function MI(t,e){mi(e,!1);const[a,n]=rr(),c=()=>zi(ag,"$showTermsDialog",a);Vo();var f=xi(),h=kt(f);{var s=x=>{var w=CI(),I=Le(w),R=Ze(Le(I),4),E=Le(R);E.__click=()=>{ag.set(!1),d7("userData")},Ue(R),Ue(I),Ue(w),ba(3,I,()=>pB,()=>({duration:300})),ba(3,w,()=>As,()=>({duration:200})),Ve(x,w)};It(h,x=>{c()&&x(s)})}Ve(t,f),_i(),n()}$a(["click"]);const Q1=yn(null),oh=(t,e,a=!1)=>{Q1.set({message:t,type:e,persistent:a})};var RI=(t,e,a)=>e(a.value),II=(t,e)=>st(e,!0),UI=ft('<div class="grid place-items-center"><!></div>'),EI=ft('<div class="flex flex-col items-start justify-center"><span class="text-base font-semibold"> </span> <button class="text-accent flex w-full cursor-pointer items-center justify-between rounded-md p-2 pl-4 text-left transition-colors duration-150 lg:hover:bg-gray-700"><span> </span> <!></button></div>');function FI(t,e){mi(e,!0);let a=$t(!1);const n=E=>{navigator.clipboard.writeText(E),oh(` ${E} `,"info")};var c=EI(),f=Le(c),h=Le(f,!0);Ue(f);var s=Ze(f,2);s.__click=[RI,n,e],s.__mouseover=[II,a];var x=Le(s),w=Le(x,!0);Ue(x);var I=Ze(x,2);{var R=E=>{var M=UI(),Y=Le(M);vi(Y,{icon:"majesticons:clipboard-line",class:"mr-2 h-6 w-6 shrink-0 text-base"}),Ue(M),ba(3,M,()=>As,()=>({duration:100})),Ve(E,M)};It(I,E=>{q(a)&&E(R)})}Ue(s),Ue(c),di(()=>{yi(h,e.key),yi(w,e.value)}),fr("mouseleave",s,()=>st(a,!1)),fr("focus",s,()=>st(a,!0)),fr("blur",s,()=>st(a,!1)),Ve(t,c),_i()}$a(["click","mouseover"]);const dg={pole_1:{image:`${li}/pole_1.webp`,description:"",url:null},pole_2:{image:`${li}/pole_2.webp`,description:"",url:null},pole_3:{image:`${li}/pole_3.webp`,description:"",url:null},pole_4:{image:`${li}/pole_4.webp`,description:"",url:null},pole_5:{image:`${li}/pole_5.webp`,description:"",url:null},pole_6:{image:`${li}/pole_6.webp`,description:"",url:null},pole_a:{image:`${li}/pole_a.webp`,description:"",url:null},fac_center:{image:`${li}/fac_center.webp`,description:`
                        `,url:"https://www.forest.ac.jp/facilities/centerzone/"},fac_cottage:{image:`${li}/fac_cottage.webp`,description:`1530
                        `,url:"https://www.forest.ac.jp/facilities/stay/"},fac_forest_labo:{image:`${li}/fac_forest_labo.webp`,description:`
                `,url:"https://www.forest.ac.jp/facilities/centerzone/"},fac_kakoutou:{image:`${li}/fac_kakoutou.webp`,description:"",url:null},fac_kensyutou:{image:`${li}/fac_kensyutou.webp`,description:"",url:null},fac_koubou:{image:`${li}/fac_koubou.webp`,description:"",url:"https://www.forest.ac.jp/facilities/testroom/"},fac_morinos:{image:`${li}/fac_morinos.webp`,description:"",url:"https://morinos.net/"},fac_open_labo:{image:`${li}/fac_open_labo.webp`,description:"",url:"https://www.forest.ac.jp/facilities/testroom/"},fac_ringyoukikaitou:{image:`${li}/fac_ringyoukikaitou.webp`,description:"",url:"https://www.forest.ac.jp/facilities/fmeb/"},fac_seizaitou:{image:`${li}/fac_seizaitou.webp`,description:"",url:"https://www.forest.ac.jp/facilities/testroom/"},fac_syako:{image:`${li}/fac_syako.webp`,description:"",url:null},fac_wood_labo:{image:`${li}/fac_wood_labo.webp`,description:"",url:"https://www.forest.ac.jp/facilities/centerzone/"},fac_tech_a:{image:`${li}/fac_tech_a.webp`,description:"",url:"https://www.forest.ac.jp/facilities/technicalzone/"},fac_tech_b:{image:`${li}/fac_tech_b.webp`,description:"",url:"https://www.forest.ac.jp/facilities/technicalzone/"},fac_information:{image:`${li}/fac_information.webp`,description:"",url:"https://www.forest.ac.jp/facilities/forest/"},ziriki_01:{image:`${li}/ziriki_01.webp`,description:"(120mm)",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_02:{image:`${li}/ziriki_02.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_03:{image:`${li}/ziriki_03.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_04:{image:`${li}/ziriki_04.webp`,description:"10",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_05:{image:`${li}/ziriki_05.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_06:{image:`${li}/ziriki_06.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_07:{image:`${li}/ziriki_07.webp`,description:" ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_08:{image:`${li}/ziriki_08.webp`,description:"  RCS",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_09:{image:`${li}/ziriki_09.webp`,description:"20 ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_10:{image:`${li}/ziriki_10.webp`,description:"2002   ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_11:{image:`${li}/ziriki_11.webp`,description:" ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_12:{image:`${li}/ziriki_12.webp`,description:"   ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_13:{image:`${li}/ziriki_13.webp`,description:"  ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_14:{image:`${li}/ziriki_14.webp`,description:"10     ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_15:{image:`${li}/ziriki_15.webp`,description:" hut()hat()  ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_16:{image:`${li}/ziriki_16.webp`,description:"  ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_17:{image:`${li}/ziriki_17.webp`,description:"   ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_18:{image:`${li}/ziriki_18.webp`,description:"2006  ",url:"https://www.forest.ac.jp/facilities/self/"},ziriki_19:{image:`${li}/ziriki_19.webp`,description:" Cobiki   ",url:"https://www.forest.ac.jp/facilities/self/midori-archi/"},ziriki_20:{image:`${li}/ziriki_20.webp`,description:"2008",url:"https://www.forest.ac.jp/facilities/self/midori-archi/"},ziriki_21:{image:`${li}/ziriki_21.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/jiriki-kodachi/"},ziriki_22:{image:`${li}/ziriki_22.webp`,description:`2007
            
            
            `,url:"https://www.forest.ac.jp/facilities/self/jiriki-decchi/"},ziriki_23:{image:`${li}/ziriki_23.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/jiriki-hotori/"},ziriki_24:{image:`${li}/ziriki_24.webp`,description:"",url:"https://www.forest.ac.jp/facilities/self/shiori-jiriki2024/"},sinrinken:{image:`${li}/no_image.webp`,description:"",url:"https://www.forest.rd.pref.gifu.lg.jp/"},gate_ensyurin:{image:`${li}/gate_ensyurin.webp`,description:"",url:null},aozyutaki:{image:`${li}/aozyutaki.webp`,description:"",url:null},azumaya_1:{image:`${li}/azumaya_1.webp`,description:"",url:null},azumaya_kezikabora:{image:`${li}/azumaya_kezikabora.webp`,description:"",url:null},gate_kokuyurin:{image:`${li}/gate_kokuyurin.webp`,description:"",url:null},hebiotaki:{image:`${li}/hebiotaki.webp`,description:"",url:null},heihuuiwa:{image:`${li}/heihuuiwa.webp`,description:"",url:null},hirumesiiwa:{image:`${li}/hirumesiiwa.webp`,description:"",url:null},kezikaboraike:{image:`${li}/kezikaboraike.webp`,description:"",url:null},miharasiiwa:{image:`${li}/miharasiiwa.webp`,description:"",url:null},mokudou:{image:`${li}/mokudou.webp`,description:"",url:null},morinoiriguti:{image:`${li}/morinoiriguti.webp`,description:"",url:null},nagamenoiwa:{image:`${li}/nagamenoiwa.webp`,description:"",url:null},oosugi:{image:`${li}/oosugi.webp`,description:"",url:null},sumiyakigoya:{image:`${li}/sumiyakigoya.webp`,description:"",url:null},toilet:{image:`${li}/toilet.webp`,description:"",url:null},umanoseiwa:{image:`${li}/umanoseiwa.webp`,description:"",url:null},yamanokami:{image:`${li}/yamanokami.webp`,description:"1004",url:"https://www.forest.ac.jp/academy-archives/jimu0423/"},kozyo_kanritou:{image:null,description:"",url:"https://mori-gakko.net/gifu/"}},TI=[{name:"",bbox:[139.334302,41.35211,148.894833,45.556277]},{name:"",bbox:[139.860725,40.218604,141.68324,41.555998]},{name:"",bbox:[140.653166,38.747651,142.072461,40.449927]},{name:"",bbox:[140.274764,37.773252,141.675431,39.002776]},{name:"",bbox:[139.694597,38.874522,140.995425,40.511122]},{name:"",bbox:[139.539712,37.73383,140.646377,39.208476]},{name:"",bbox:[139.164746,36.791324,141.042336,37.976555]},{name:"",bbox:[139.687691,35.739138,140.851966,36.945225]},{name:"",bbox:[139.326731,36.199924,140.291983,37.155039]},{name:"",bbox:[138.397022,35.985419,139.668249,37.058627]},{name:"",bbox:[138.711401,35.753442,139.90032,36.281751]},{name:"",bbox:[139.739525,34.899595,140.870652,36.104157]},{name:"",bbox:[138.942865,24.224731,153.986895,35.898404]},{name:"",bbox:[138.915784,35.128768,139.798226,35.675618]},{name:"",bbox:[137.635121,36.736544,139.900012,38.553524]},{name:"",bbox:[136.768684,36.274308,137.763276,36.979692]},{name:"",bbox:[136.244148,36.067618,137.360649,37.855068]},{name:"",bbox:[135.449342,35.344187,136.832362,36.295361]},{name:"",bbox:[138.180108,35.168403,139.13438,35.971564]},{name:"",bbox:[137.325027,35.198461,138.739196,37.030423]},{name:"",bbox:[136.276225,35.133729,137.651936,36.465031]},{name:"",bbox:[137.474177,34.594644,139.176371,35.646621]},{name:"",bbox:[136.671033,34.578195,137.838064,35.424789]},{name:"",bbox:[135.853192,33.722879,136.987749,35.257953]},{name:"",bbox:[135.763805,34.79126,136.454846,35.70372]},{name:"",bbox:[134.853727,34.705754,136.054372,35.779277]},{name:"",bbox:[135.093449,34.271827,135.746596,35.051282]},{name:"",bbox:[134.252809,34.156129,135.468591,35.674667]},{name:"",bbox:[135.539726,33.858956,136.22982,34.781294]},{name:"",bbox:[134.999059,33.433595,136.013461,34.38446]},{name:"",bbox:[133.136116,35.057691,134.514725,35.614221]},{name:"",bbox:[131.667965,34.302497,133.385926,37.244272]},{name:"",bbox:[133.266987,34.2984,134.412698,35.352889]},{name:"",bbox:[132.036485,34.034954,133.470397,35.106602]},{name:"",bbox:[130.775059,33.712909,132.492149,34.798657]},{name:"",bbox:[133.660905,33.539632,134.820436,34.252034]},{name:"",bbox:[133.446605,34.012302,134.440441,34.564615]},{name:"",bbox:[132.017257,32.901919,133.692787,34.299619]},{name:"",bbox:[132.479888,32.702505,134.31367,33.882997]},{name:"",bbox:[130.032703,33.000004,131.190597,34.249456]},{name:"",bbox:[129.740621,32.950517,130.542127,33.618923]},{name:"",bbox:[128.34462,31.988773,130.380232,34.707891]},{name:"",bbox:[129.963357,32.094995,131.328424,33.195128]},{name:"",bbox:[130.823676,32.714503,132.085332,33.740236]},{name:"",bbox:[130.703426,31.360721,131.882746,32.837348]},{name:"",bbox:[128.395452,27.01874,131.205448,32.307013]},{name:"",bbox:[122.933755,24.045713,131.332068,27.885401]},{name:"",bbox:[139.164746,36.791324,142.072461,41.555998]},{name:"",bbox:[136.83845019821013,35.5104054980036,136.97907453990035,35.65244055693736]},{name:"",bbox:[122.933755,24.045713,153.986895,45.556277]},{name:"",bbox:[136.91278,35.543576,136.92986,35.556704]}],SI=new Map(TI.map(t=>[t.name,t.bbox])),X3=t=>{const e=SI.get(t);return e||(console.warn("getLocationBbox: not found",t),null)},YI=()=>{const t=k7;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},NI={subscribe(t){return YI().page.subscribe(t)}};let Gf=String.fromCharCode,D5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",jf={};function LI(t,e){if(!jf[t]){jf[t]={};for(let a=0;a<t.length;a++)jf[t][t.charAt(a)]=a}return jf[t][e]}function PI(t){return t==null?"":kI(t,6,function(e){return D5.charAt(e)})}function QI(t){return t==null?"":t==""?null:DI((t=t.replace(/ /g,"+")).length,32,function(e){return LI(D5,t.charAt(e))})}function kI(t,e,a){if(t==null)return"";let n,c,f={},h={},s="",x="",w="",I=2,R=3,E=2,M=[],Y=0,D=0,O;for(O=0;O<t.length;O+=1)if(s=t.charAt(O),Object.prototype.hasOwnProperty.call(f,s)||(f[s]=R++,h[s]=!0),x=w+s,Object.prototype.hasOwnProperty.call(f,x))w=x;else{if(Object.prototype.hasOwnProperty.call(h,w)){if(256>w.charCodeAt(0)){for(n=0;n<E;n++)Y<<=1,D==e-1?(D=0,M.push(a(Y)),Y=0):D++;for(n=0,c=w.charCodeAt(0);n<8;n++)Y=Y<<1|1&c,D==e-1?(D=0,M.push(a(Y)),Y=0):D++,c>>=1}else{for(n=0,c=1;n<E;n++)Y=Y<<1|c,D==e-1?(D=0,M.push(a(Y)),Y=0):D++,c=0;for(n=0,c=w.charCodeAt(0);n<16;n++)Y=Y<<1|1&c,D==e-1?(D=0,M.push(a(Y)),Y=0):D++,c>>=1}--I==0&&(I=Math.pow(2,E),E++),delete h[w]}else for(n=0,c=f[w];n<E;n++)Y=Y<<1|1&c,D==e-1?(D=0,M.push(a(Y)),Y=0):D++,c>>=1;--I==0&&(I=Math.pow(2,E),E++),f[x]=R++,w=String(s)}if(w!==""){if(Object.prototype.hasOwnProperty.call(h,w)){if(256>w.charCodeAt(0)){for(n=0;n<E;n++)Y<<=1,D==e-1?(D=0,M.push(a(Y)),Y=0):D++;for(n=0,c=w.charCodeAt(0);n<8;n++)Y=Y<<1|1&c,D==e-1?(D=0,M.push(a(Y)),Y=0):D++,c>>=1}else{for(n=0,c=1;n<E;n++)Y=Y<<1|c,D==e-1?(D=0,M.push(a(Y)),Y=0):D++,c=0;for(n=0,c=w.charCodeAt(0);n<16;n++)Y=Y<<1|1&c,D==e-1?(D=0,M.push(a(Y)),Y=0):D++,c>>=1}--I==0&&(I=Math.pow(2,E),E++),delete h[w]}else for(n=0,c=f[w];n<E;n++)Y=Y<<1|1&c,D==e-1?(D=0,M.push(a(Y)),Y=0):D++,c>>=1;--I==0&&(I=Math.pow(2,E),E++)}for(n=0,c=2;n<E;n++)Y=Y<<1|1&c,D==e-1?(D=0,M.push(a(Y)),Y=0):D++,c>>=1;for(;;){if(Y<<=1,D==e-1){M.push(a(Y));break}D++}return M.join("")}function DI(t,e,a){let n=[],c=4,f=4,h=3,s="",x=[],w,I,R,E,M,Y,D,O={val:a(0),position:e,index:1};for(w=0;w<3;w+=1)n[w]=w;for(R=0,M=4,Y=1;Y!=M;)E=O.val&O.position,O.position>>=1,O.position==0&&(O.position=e,O.val=a(O.index++)),R|=(E>0?1:0)*Y,Y<<=1;switch(R){case 0:for(R=0,M=256,Y=1;Y!=M;)E=O.val&O.position,O.position>>=1,O.position==0&&(O.position=e,O.val=a(O.index++)),R|=(E>0?1:0)*Y,Y<<=1;D=Gf(R);break;case 1:for(R=0,M=65536,Y=1;Y!=M;)E=O.val&O.position,O.position>>=1,O.position==0&&(O.position=e,O.val=a(O.index++)),R|=(E>0?1:0)*Y,Y<<=1;D=Gf(R);break;case 2:return""}for(n[3]=D,I=D,x.push(D);;){if(O.index>t)return"";for(R=0,M=Math.pow(2,h),Y=1;Y!=M;)E=O.val&O.position,O.position>>=1,O.position==0&&(O.position=e,O.val=a(O.index++)),R|=(E>0?1:0)*Y,Y<<=1;switch(D=R){case 0:for(R=0,M=256,Y=1;Y!=M;)E=O.val&O.position,O.position>>=1,O.position==0&&(O.position=e,O.val=a(O.index++)),R|=(E>0?1:0)*Y,Y<<=1;n[f++]=Gf(R),D=f-1,c--;break;case 1:for(R=0,M=65536,Y=1;Y!=M;)E=O.val&O.position,O.position>>=1,O.position==0&&(O.position=e,O.val=a(O.index++)),R|=(E>0?1:0)*Y,Y<<=1;n[f++]=Gf(R),D=f-1,c--;break;case 2:return x.join("")}if(c==0&&(c=Math.pow(2,h),h++),n[D])s=n[D];else{if(D!==f)return null;s=I+I.charAt(0)}x.push(s),n[f++]=I+s.charAt(0),c--,I=s,c==0&&(c=Math.pow(2,h),h++)}}let z5;z5=NI;const zI={keepFocus:!0,noScroll:!0,replaceState:!0},ZI={keepFocus:!0,noScroll:!0,replaceState:!1};function HI(t,e,a){var f;const n=Array.from(new Set(Array.from(((f=t==null?void 0:t.keys)==null?void 0:f.call(t))||[]).concat(Object.keys(a??{}))));let c=!1;return[Object.fromEntries(n.map(h=>{if(e[h]!=null)return[h,e[h]];let s=R=>R;const x=a==null?void 0:a[h];typeof x!="boolean"&&typeof(x==null?void 0:x.decode)=="function"&&(s=x.decode);const w=t==null?void 0:t.get(h);let I;return w==null&&(x==null?void 0:x.defaultValue)!=null?(I=x.defaultValue,c=!0):I=s(w),[h,I]})),c]}function OI(t,e,a=(n,c)=>JSON.stringify(n)===JSON.stringify(c)){return typeof t=="object"&&typeof e=="object"&&a(t,e)}function H2({encode:t,decode:e}){function a(n){return{encode:t,decode:e,defaultValue:n}}return a}function XI(t){return{encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}}function VI(t){return{encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}}function GI(t){return{encode:e=>PI(JSON.stringify(e)),decode:e=>{if(!e)return null;try{return JSON.parse(QI(e)??"")}catch{return null}},defaultValue:t}}const Kf={number:H2({encode:t=>t.toString(),decode:t=>t?parseFloat(t):null}),boolean:H2({encode:t=>t+"",decode:t=>t!==null&&t!=="false"}),string:H2({encode:t=>t??"",decode:t=>t}),object:XI,array:VI,lz:GI},O2=new Set;let oy;const ly=new Map;function Uh(t,{debounceHistory:e=0,pushHistory:a=!0,sort:n=!0,showDefaults:c=!0,equalityFn:f}={}){const h=yn({});let s,x=!0;function w(R,E){x=!1;const M=window.location.hash,Y=new URLSearchParams(window.location.search),D=O=>{for(const H of Object.keys(R)){if(R[H]==null){O.delete(H);continue}let $=he=>he.toString();const Ae=t==null?void 0:t[H];typeof Ae!="boolean"&&typeof(Ae==null?void 0:Ae.encode)=="function"&&($=Ae.encode);const ce=$(R[H]);ce==null?O.delete(H):O.set(H,ce)}};O2.add(D),clearTimeout(oy),oy=setTimeout(async()=>{O2.forEach(O=>{O(Y)}),clearTimeout(ly.get("queryParameters"));{h.set(R);async function O(){n&&Y.sort(),await D7(`?${Y}${M}`,a?ZI:zI),h.set({})}E||e===0?O():ly.set("queryParameters",setTimeout(O,e))}O2.clear()})}const{subscribe:I}=o7([z5,h],([R,E],M)=>{var O;const[Y,D]=HI((O=R==null?void 0:R.url)==null?void 0:O.searchParams,E,t);if(D&&c&&w(structuredClone(Y),x),!OI(s,Y,f))return s=structuredClone(Y),M(structuredClone(Y))});return{set(R){w(R)},subscribe:I,update:R=>{const E=Ho({subscribe:I}),M=R(E);w(M)}}}const jI=t=>{const e=t.slice(1).split("&"),a={};return e.forEach(n=>{a[n.split("=")[0]]=n.split("=")[1]}),a},KI=()=>{const t=Ho(Uh({c:Kf.string(),z:Kf.number(),p:Kf.number(),b:Kf.number()},{pushHistory:!1}));if(t.c===null||t.c===void 0||t.z===null||t.z===void 0||t.p===null||t.p===void 0||t.b===null||t.b===void 0)return f7;const e=t.c.split(",").map(Number),a=Number(t.z),n=Number(t.p),c=Number(t.b);return{center:e,zoom:a,pitch:n,bearing:c}},$I=t=>{const e=Ho(Uh({},{pushHistory:!1})),a=t.center.map(n=>n.toFixed(6));e.c=a,e.z=t.zoom.toFixed(1),e.p=t.pitch.toFixed(0),e.b=t.bearing.toFixed(0),Uh({},{pushHistory:!1}).set(e)},qI=t=>{const e=Ho(Uh({}));e.imageId=t,Uh({},{pushHistory:!1}).set(e)},WI=()=>Ho(Uh({},{pushHistory:!1})).imageId;/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var V3=function(t,e){return V3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(a[c]=n[c])},V3(t,e)};function Ds(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");V3(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}function as(t,e,a,n){function c(f){return f instanceof a?f:new a(function(h){h(f)})}return new(a||(a=Promise))(function(f,h){function s(I){try{w(n.next(I))}catch(R){h(R)}}function x(I){try{w(n.throw(I))}catch(R){h(R)}}function w(I){I.done?f(I.value):c(I.value).then(s,x)}w((n=n.apply(t,[])).next())})}function Ln(t,e){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},n,c,f,h;return h={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function s(w){return function(I){return x([w,I])}}function x(w){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,c&&(f=w[0]&2?c.return:w[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,w[1])).done)return f;switch(c=0,f&&(w=[w[0]&2,f.value]),w[0]){case 0:case 1:f=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,c=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!f||w[1]>f[0]&&w[1]<f[3])){a.label=w[1];break}if(w[0]===6&&a.label<f[1]){a.label=f[1],f=w;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(w);break}f[2]&&a.ops.pop(),a.trys.pop();continue}w=e.call(t,a)}catch(I){w=[6,I],c=0}finally{n=f=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}}var XA=function(){function t(e,a,n,c){this.left=e,this.top=a,this.width=n,this.height=c}return t.prototype.add=function(e,a,n,c){return new t(this.left+e,this.top+a,this.width+n,this.height+c)},t.fromClientRect=function(e,a){return new t(a.left+e.windowBounds.left,a.top+e.windowBounds.top,a.width,a.height)},t.fromDOMRectList=function(e,a){var n=Array.from(a).find(function(c){return c.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),r4=function(t,e){return XA.fromClientRect(t,e.getBoundingClientRect())},jg=function(t){for(var e=[],a=0,n=t.length;a<n;){var c=t.charCodeAt(a++);if(c>=55296&&c<=56319&&a<n){var f=t.charCodeAt(a++);(f&64512)===56320?e.push(((c&1023)<<10)+(f&1023)+65536):(e.push(c),a--)}else e.push(c)}return e},ar=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var a=t.length;if(!a)return"";for(var n=[],c=-1,f="";++c<a;){var h=t[c];h<=65535?n.push(h):(h-=65536,n.push((h>>10)+55296,h%1024+56320)),(c+1===a||n.length>16384)&&(f+=String.fromCharCode.apply(String,n),n.length=0)}return f},Ay="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",JI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var $f=0;$f<Ay.length;$f++)JI[Ay.charCodeAt($f)]=$f;var cy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qf=0;qf<cy.length;qf++)Cd[cy.charCodeAt(qf)]=qf;var eU=function(t){var e=t.length*.75,a=t.length,n,c=0,f,h,s,x;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var w=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),I=Array.isArray(w)?w:new Uint8Array(w);for(n=0;n<a;n+=4)f=Cd[t.charCodeAt(n)],h=Cd[t.charCodeAt(n+1)],s=Cd[t.charCodeAt(n+2)],x=Cd[t.charCodeAt(n+3)],I[c++]=f<<2|h>>4,I[c++]=(h&15)<<4|s>>2,I[c++]=(s&3)<<6|x&63;return w},tU=function(t){for(var e=t.length,a=[],n=0;n<e;n+=2)a.push(t[n+1]<<8|t[n]);return a},iU=function(t){for(var e=t.length,a=[],n=0;n<e;n+=4)a.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return a},DA=5,n4=11,X2=2,aU=n4-DA,Z5=65536>>DA,rU=1<<DA,V2=rU-1,nU=1024>>DA,sU=Z5+nU,oU=sU,lU=32,AU=oU+lU,cU=65536>>n4,hU=1<<aU,uU=hU-1,hy=function(t,e,a){return t.slice?t.slice(e,a):new Uint16Array(Array.prototype.slice.call(t,e,a))},dU=function(t,e,a){return t.slice?t.slice(e,a):new Uint32Array(Array.prototype.slice.call(t,e,a))},fU=function(t,e){var a=eU(t),n=Array.isArray(a)?iU(a):new Uint32Array(a),c=Array.isArray(a)?tU(a):new Uint16Array(a),f=24,h=hy(c,f/2,n[4]/2),s=n[5]===2?hy(c,(f+n[4])/2):dU(n,Math.ceil((f+n[4])/4));return new gU(n[0],n[1],n[2],n[3],h,s)},gU=function(){function t(e,a,n,c,f,h){this.initialValue=e,this.errorValue=a,this.highStart=n,this.highValueIndex=c,this.index=f,this.data=h}return t.prototype.get=function(e){var a;if(e>=0){if(e<55296||e>56319&&e<=65535)return a=this.index[e>>DA],a=(a<<X2)+(e&V2),this.data[a];if(e<=65535)return a=this.index[Z5+(e-55296>>DA)],a=(a<<X2)+(e&V2),this.data[a];if(e<this.highStart)return a=AU-cU+(e>>n4),a=this.index[a],a+=e>>DA&uU,a=this.index[a],a=(a<<X2)+(e&V2),this.data[a];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),uy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pU=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wf=0;Wf<uy.length;Wf++)pU[uy.charCodeAt(Wf)]=Wf;var mU="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",dy=50,_U=1,H5=2,O5=3,bU=4,yU=5,fy=7,X5=8,gy=9,Ul=10,G3=11,py=12,j3=13,vU=14,Md=15,K3=16,Jf=17,ud=18,xU=19,my=20,$3=21,dd=22,G2=23,$c=24,Pn=25,Rd=26,Id=27,qc=28,wU=29,SA=30,BU=31,e1=32,t1=33,q3=34,W3=35,J3=36,o0=37,em=38,k1=39,D1=40,j2=41,V5=42,CU=43,MU=[9001,65288],G5="!",Gi="",i1="",tm=fU(mU),Uo=[SA,J3],im=[_U,H5,O5,yU],j5=[Ul,X5],_y=[Id,Rd],RU=im.concat(j5),by=[em,k1,D1,q3,W3],IU=[Md,j3],UU=function(t,e){e===void 0&&(e="strict");var a=[],n=[],c=[];return t.forEach(function(f,h){var s=tm.get(f);if(s>dy?(c.push(!0),s-=dy):c.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(f)!==-1)return n.push(h),a.push(K3);if(s===bU||s===G3){if(h===0)return n.push(h),a.push(SA);var x=a[h-1];return RU.indexOf(x)===-1?(n.push(n[h-1]),a.push(x)):(n.push(h),a.push(SA))}if(n.push(h),s===BU)return a.push(e==="strict"?$3:o0);if(s===V5||s===wU)return a.push(SA);if(s===CU)return f>=131072&&f<=196605||f>=196608&&f<=262141?a.push(o0):a.push(SA);a.push(s)}),[n,a,c]},K2=function(t,e,a,n){var c=n[a];if(Array.isArray(t)?t.indexOf(c)!==-1:t===c)for(var f=a;f<=n.length;){f++;var h=n[f];if(h===e)return!0;if(h!==Ul)break}if(c===Ul)for(var f=a;f>0;){f--;var s=n[f];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var x=a;x<=n.length;){x++;var h=n[x];if(h===e)return!0;if(h!==Ul)break}if(s!==Ul)break}return!1},yy=function(t,e){for(var a=t;a>=0;){var n=e[a];if(n===Ul)a--;else return n}return 0},EU=function(t,e,a,n,c){if(a[n]===0)return Gi;var f=n-1;if(Array.isArray(c)&&c[f]===!0)return Gi;var h=f-1,s=f+1,x=e[f],w=h>=0?e[h]:0,I=e[s];if(x===H5&&I===O5)return Gi;if(im.indexOf(x)!==-1)return G5;if(im.indexOf(I)!==-1||j5.indexOf(I)!==-1)return Gi;if(yy(f,e)===X5)return i1;if(tm.get(t[f])===G3||(x===e1||x===t1)&&tm.get(t[s])===G3||x===fy||I===fy||x===gy||[Ul,j3,Md].indexOf(x)===-1&&I===gy||[Jf,ud,xU,$c,qc].indexOf(I)!==-1||yy(f,e)===dd||K2(G2,dd,f,e)||K2([Jf,ud],$3,f,e)||K2(py,py,f,e))return Gi;if(x===Ul)return i1;if(x===G2||I===G2)return Gi;if(I===K3||x===K3)return i1;if([j3,Md,$3].indexOf(I)!==-1||x===vU||w===J3&&IU.indexOf(x)!==-1||x===qc&&I===J3||I===my||Uo.indexOf(I)!==-1&&x===Pn||Uo.indexOf(x)!==-1&&I===Pn||x===Id&&[o0,e1,t1].indexOf(I)!==-1||[o0,e1,t1].indexOf(x)!==-1&&I===Rd||Uo.indexOf(x)!==-1&&_y.indexOf(I)!==-1||_y.indexOf(x)!==-1&&Uo.indexOf(I)!==-1||[Id,Rd].indexOf(x)!==-1&&(I===Pn||[dd,Md].indexOf(I)!==-1&&e[s+1]===Pn)||[dd,Md].indexOf(x)!==-1&&I===Pn||x===Pn&&[Pn,qc,$c].indexOf(I)!==-1)return Gi;if([Pn,qc,$c,Jf,ud].indexOf(I)!==-1)for(var R=f;R>=0;){var E=e[R];if(E===Pn)return Gi;if([qc,$c].indexOf(E)!==-1)R--;else break}if([Id,Rd].indexOf(I)!==-1)for(var R=[Jf,ud].indexOf(x)!==-1?h:f;R>=0;){var E=e[R];if(E===Pn)return Gi;if([qc,$c].indexOf(E)!==-1)R--;else break}if(em===x&&[em,k1,q3,W3].indexOf(I)!==-1||[k1,q3].indexOf(x)!==-1&&[k1,D1].indexOf(I)!==-1||[D1,W3].indexOf(x)!==-1&&I===D1||by.indexOf(x)!==-1&&[my,Rd].indexOf(I)!==-1||by.indexOf(I)!==-1&&x===Id||Uo.indexOf(x)!==-1&&Uo.indexOf(I)!==-1||x===$c&&Uo.indexOf(I)!==-1||Uo.concat(Pn).indexOf(x)!==-1&&I===dd&&MU.indexOf(t[s])===-1||Uo.concat(Pn).indexOf(I)!==-1&&x===ud)return Gi;if(x===j2&&I===j2){for(var M=a[f],Y=1;M>0&&(M--,e[M]===j2);)Y++;if(Y%2!==0)return Gi}return x===e1&&I===t1?Gi:i1},FU=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var a=UU(t,e.lineBreak),n=a[0],c=a[1],f=a[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(c=c.map(function(s){return[Pn,SA,V5].indexOf(s)!==-1?o0:s}));var h=e.wordBreak==="keep-all"?f.map(function(s,x){return s&&t[x]>=19968&&t[x]<=40959}):void 0;return[n,c,h]},TU=function(){function t(e,a,n,c){this.codePoints=e,this.required=a===G5,this.start=n,this.end=c}return t.prototype.slice=function(){return ar.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),SU=function(t,e){var a=jg(t),n=FU(a,e),c=n[0],f=n[1],h=n[2],s=a.length,x=0,w=0;return{next:function(){if(w>=s)return{done:!0,value:null};for(var I=Gi;w<s&&(I=EU(a,f,c,++w,h))===Gi;);if(I!==Gi||w===s){var R=new TU(a,I,x,w);return x=w,{value:R,done:!1}}return{done:!0,value:null}}}},YU=1,NU=2,y0=4,vy=8,fg=10,xy=47,Hd=92,LU=9,PU=32,a1=34,fd=61,QU=35,kU=36,DU=37,r1=39,n1=40,gd=41,zU=95,vn=45,ZU=33,HU=60,OU=62,XU=64,VU=91,GU=93,jU=61,KU=123,s1=63,$U=125,wy=124,qU=126,WU=128,By=65533,$2=42,PA=43,JU=44,eE=58,tE=59,l0=46,iE=0,aE=8,rE=11,nE=14,sE=31,oE=127,Ws=-1,K5=48,$5=97,q5=101,lE=102,AE=117,cE=122,W5=65,J5=69,e8=70,hE=85,uE=90,qr=function(t){return t>=K5&&t<=57},dE=function(t){return t>=55296&&t<=57343},Wc=function(t){return qr(t)||t>=W5&&t<=e8||t>=$5&&t<=lE},fE=function(t){return t>=$5&&t<=cE},gE=function(t){return t>=W5&&t<=uE},pE=function(t){return fE(t)||gE(t)},mE=function(t){return t>=WU},o1=function(t){return t===fg||t===LU||t===PU},gg=function(t){return pE(t)||mE(t)||t===zU},Cy=function(t){return gg(t)||qr(t)||t===vn},_E=function(t){return t>=iE&&t<=aE||t===rE||t>=nE&&t<=sE||t===oE},Cl=function(t,e){return t!==Hd?!1:e!==fg},l1=function(t,e,a){return t===vn?gg(e)||Cl(e,a):gg(t)?!0:!!(t===Hd&&Cl(t,e))},q2=function(t,e,a){return t===PA||t===vn?qr(e)?!0:e===l0&&qr(a):qr(t===l0?e:t)},bE=function(t){var e=0,a=1;(t[e]===PA||t[e]===vn)&&(t[e]===vn&&(a=-1),e++);for(var n=[];qr(t[e]);)n.push(t[e++]);var c=n.length?parseInt(ar.apply(void 0,n),10):0;t[e]===l0&&e++;for(var f=[];qr(t[e]);)f.push(t[e++]);var h=f.length,s=h?parseInt(ar.apply(void 0,f),10):0;(t[e]===J5||t[e]===q5)&&e++;var x=1;(t[e]===PA||t[e]===vn)&&(t[e]===vn&&(x=-1),e++);for(var w=[];qr(t[e]);)w.push(t[e++]);var I=w.length?parseInt(ar.apply(void 0,w),10):0;return a*(c+s*Math.pow(10,-h))*Math.pow(10,x*I)},yE={type:2},vE={type:3},xE={type:4},wE={type:13},BE={type:8},CE={type:21},ME={type:9},RE={type:10},IE={type:11},UE={type:12},EE={type:14},A1={type:23},FE={type:1},TE={type:25},SE={type:24},YE={type:26},NE={type:27},LE={type:28},PE={type:29},QE={type:31},am={type:32},t8=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(jg(e))},t.prototype.read=function(){for(var e=[],a=this.consumeToken();a!==am;)e.push(a),a=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case a1:return this.consumeStringToken(a1);case QU:var a=this.peekCodePoint(0),n=this.peekCodePoint(1),c=this.peekCodePoint(2);if(Cy(a)||Cl(n,c)){var f=l1(a,n,c)?NU:YU,h=this.consumeName();return{type:5,value:h,flags:f}}break;case kU:if(this.peekCodePoint(0)===fd)return this.consumeCodePoint(),wE;break;case r1:return this.consumeStringToken(r1);case n1:return yE;case gd:return vE;case $2:if(this.peekCodePoint(0)===fd)return this.consumeCodePoint(),EE;break;case PA:if(q2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case JU:return xE;case vn:var s=e,x=this.peekCodePoint(0),w=this.peekCodePoint(1);if(q2(s,x,w))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(l1(s,x,w))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(x===vn&&w===OU)return this.consumeCodePoint(),this.consumeCodePoint(),SE;break;case l0:if(q2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case xy:if(this.peekCodePoint(0)===$2)for(this.consumeCodePoint();;){var I=this.consumeCodePoint();if(I===$2&&(I=this.consumeCodePoint(),I===xy))return this.consumeToken();if(I===Ws)return this.consumeToken()}break;case eE:return YE;case tE:return NE;case HU:if(this.peekCodePoint(0)===ZU&&this.peekCodePoint(1)===vn&&this.peekCodePoint(2)===vn)return this.consumeCodePoint(),this.consumeCodePoint(),TE;break;case XU:var R=this.peekCodePoint(0),E=this.peekCodePoint(1),M=this.peekCodePoint(2);if(l1(R,E,M)){var h=this.consumeName();return{type:7,value:h}}break;case VU:return LE;case Hd:if(Cl(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case GU:return PE;case jU:if(this.peekCodePoint(0)===fd)return this.consumeCodePoint(),BE;break;case KU:return IE;case $U:return UE;case AE:case hE:var Y=this.peekCodePoint(0),D=this.peekCodePoint(1);return Y===PA&&(Wc(D)||D===s1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case wy:if(this.peekCodePoint(0)===fd)return this.consumeCodePoint(),ME;if(this.peekCodePoint(0)===wy)return this.consumeCodePoint(),CE;break;case qU:if(this.peekCodePoint(0)===fd)return this.consumeCodePoint(),RE;break;case Ws:return am}return o1(e)?(this.consumeWhiteSpace(),QE):qr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):gg(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ar(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],a=this.consumeCodePoint();Wc(a)&&e.length<6;)e.push(a),a=this.consumeCodePoint();for(var n=!1;a===s1&&e.length<6;)e.push(a),a=this.consumeCodePoint(),n=!0;if(n){var c=parseInt(ar.apply(void 0,e.map(function(x){return x===s1?K5:x})),16),f=parseInt(ar.apply(void 0,e.map(function(x){return x===s1?e8:x})),16);return{type:30,start:c,end:f}}var h=parseInt(ar.apply(void 0,e),16);if(this.peekCodePoint(0)===vn&&Wc(this.peekCodePoint(1))){this.consumeCodePoint(),a=this.consumeCodePoint();for(var s=[];Wc(a)&&s.length<6;)s.push(a),a=this.consumeCodePoint();var f=parseInt(ar.apply(void 0,s),16);return{type:30,start:h,end:f}}else return{type:30,start:h,end:h}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===n1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===n1?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ws)return{type:22,value:""};var a=this.peekCodePoint(0);if(a===r1||a===a1){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ws||this.peekCodePoint(0)===gd)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),A1)}for(;;){var c=this.consumeCodePoint();if(c===Ws||c===gd)return{type:22,value:ar.apply(void 0,e)};if(o1(c))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ws||this.peekCodePoint(0)===gd?(this.consumeCodePoint(),{type:22,value:ar.apply(void 0,e)}):(this.consumeBadUrlRemnants(),A1);if(c===a1||c===r1||c===n1||_E(c))return this.consumeBadUrlRemnants(),A1;if(c===Hd)if(Cl(c,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),A1;else e.push(c)}},t.prototype.consumeWhiteSpace=function(){for(;o1(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===gd||e===Ws)return;Cl(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var a=5e4,n="";e>0;){var c=Math.min(a,e);n+=ar.apply(void 0,this._value.splice(0,c)),e-=c}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var a="",n=0;do{var c=this._value[n];if(c===Ws||c===void 0||c===e)return a+=this.consumeStringSlice(n),{type:0,value:a};if(c===fg)return this._value.splice(0,n),FE;if(c===Hd){var f=this._value[n+1];f!==Ws&&f!==void 0&&(f===fg?(a+=this.consumeStringSlice(n),n=-1,this._value.shift()):Cl(c,f)&&(a+=this.consumeStringSlice(n),a+=ar(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],a=y0,n=this.peekCodePoint(0);for((n===PA||n===vn)&&e.push(this.consumeCodePoint());qr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var c=this.peekCodePoint(1);if(n===l0&&qr(c))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),a=vy;qr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),c=this.peekCodePoint(1);var f=this.peekCodePoint(2);if((n===J5||n===q5)&&((c===PA||c===vn)&&qr(f)||qr(c)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),a=vy;qr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[bE(e),a]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),a=e[0],n=e[1],c=this.peekCodePoint(0),f=this.peekCodePoint(1),h=this.peekCodePoint(2);if(l1(c,f,h)){var s=this.consumeName();return{type:15,number:a,flags:n,unit:s}}return c===DU?(this.consumeCodePoint(),{type:16,number:a,flags:n}):{type:17,number:a,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Wc(e)){for(var a=ar(e);Wc(this.peekCodePoint(0))&&a.length<6;)a+=ar(this.consumeCodePoint());o1(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(a,16);return n===0||dE(n)||n>1114111?By:n}return e===Ws?By:e},t.prototype.consumeName=function(){for(var e="";;){var a=this.consumeCodePoint();if(Cy(a))e+=ar(a);else if(Cl(a,this.peekCodePoint(0)))e+=ar(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(a),e}},t}(),i8=function(){function t(e){this._tokens=e}return t.create=function(e){var a=new t8;return a.write(e),new t(a.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var a=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return a;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var a=this.consumeComponentValue();if(a.type===32)return e;e.push(a),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var a={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||kE(n,e))return a;this.reconsumeToken(n),a.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var a={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return a;this.reconsumeToken(n),a.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?am:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),v0=function(t){return t.type===15},Kg=function(t){return t.type===17},Ka=function(t){return t.type===20},rm=function(t,e){return Ka(t)&&t.value===e},$g=function(t){return t.type!==31&&t.type!==4},Ao=function(t){var e=[],a=[];return t.forEach(function(n){if(n.type===4){if(a.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(a),a=[];return}n.type!==31&&a.push(n)}),a.length&&e.push(a),e},kE=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Ql=function(t){return t.type===17||t.type===15},gr=function(t){return t.type===16||Ql(t)},a8=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Or={type:17,number:0,flags:y0},s4={type:16,number:50,flags:y0},El={type:16,number:100,flags:y0},Ud=function(t,e,a){var n=t[0],c=t[1];return[Ua(n,e),Ua(typeof c<"u"?c:n,a)]},Ua=function(t,e){if(t.type===16)return t.number/100*e;if(v0(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},r8="deg",n8="grad",s8="rad",o8="turn",qg={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case r8:return Math.PI*e.number/180;case n8:return Math.PI/200*e.number;case s8:return e.number;case o8:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},l8=function(t){return t.type===15&&(t.unit===r8||t.unit===n8||t.unit===s8||t.unit===o8)},A8=function(t){var e=t.filter(Ka).map(function(a){return a.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Or,Or];case"to top":case"bottom":return os(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Or,El];case"to right":case"left":return os(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[El,El];case"to bottom":case"top":return os(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[El,Or];case"to left":case"right":return os(270)}return 0},os=function(t){return Math.PI*t/180},Nl={name:"color",parse:function(t,e){if(e.type===18){var a=DE[e.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return a(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),c=e.value.substring(1,2),f=e.value.substring(2,3);return Fl(parseInt(n+n,16),parseInt(c+c,16),parseInt(f+f,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),c=e.value.substring(1,2),f=e.value.substring(2,3),h=e.value.substring(3,4);return Fl(parseInt(n+n,16),parseInt(c+c,16),parseInt(f+f,16),parseInt(h+h,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),c=e.value.substring(2,4),f=e.value.substring(4,6);return Fl(parseInt(n,16),parseInt(c,16),parseInt(f,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),c=e.value.substring(2,4),f=e.value.substring(4,6),h=e.value.substring(6,8);return Fl(parseInt(n,16),parseInt(c,16),parseInt(f,16),parseInt(h,16)/255)}}if(e.type===20){var s=A0[e.value.toUpperCase()];if(typeof s<"u")return s}return A0.TRANSPARENT}},ph=function(t){return(255&t)===0},Sr=function(t){var e=255&t,a=255&t>>8,n=255&t>>16,c=255&t>>24;return e<255?"rgba("+c+","+n+","+a+","+e/255+")":"rgb("+c+","+n+","+a+")"},Fl=function(t,e,a,n){return(t<<24|e<<16|a<<8|Math.round(n*255)<<0)>>>0},My=function(t,e){if(t.type===17)return t.number;if(t.type===16){var a=e===3?1:255;return e===3?t.number/100*a:Math.round(t.number/100*a)}return 0},Ry=function(t,e){var a=e.filter($g);if(a.length===3){var n=a.map(My),c=n[0],f=n[1],h=n[2];return Fl(c,f,h,1)}if(a.length===4){var s=a.map(My),c=s[0],f=s[1],h=s[2],x=s[3];return Fl(c,f,h,x)}return 0};function W2(t,e,a){return a<0&&(a+=1),a>=1&&(a-=1),a<1/6?(e-t)*a*6+t:a<1/2?e:a<2/3?(e-t)*6*(2/3-a)+t:t}var Iy=function(t,e){var a=e.filter($g),n=a[0],c=a[1],f=a[2],h=a[3],s=(n.type===17?os(n.number):qg.parse(t,n))/(Math.PI*2),x=gr(c)?c.number/100:0,w=gr(f)?f.number/100:0,I=typeof h<"u"&&gr(h)?Ua(h,1):1;if(x===0)return Fl(w*255,w*255,w*255,1);var R=w<=.5?w*(x+1):w+x-w*x,E=w*2-R,M=W2(E,R,s+1/3),Y=W2(E,R,s),D=W2(E,R,s-1/3);return Fl(M*255,Y*255,D*255,I)},DE={hsl:Iy,hsla:Iy,rgb:Ry,rgba:Ry},Uy=function(t,e){return Nl.parse(t,i8.create(e).parseComponentValue())},A0={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zE={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(a){if(Ka(a))switch(a.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ZE={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Wg=function(t,e){var a=Nl.parse(t,e[0]),n=e[1];return n&&gr(n)?{color:a,stop:n}:{color:a,stop:null}},Ey=function(t,e){var a=t[0],n=t[t.length-1];a.stop===null&&(a.stop=Or),n.stop===null&&(n.stop=El);for(var c=[],f=0,h=0;h<t.length;h++){var s=t[h].stop;if(s!==null){var x=Ua(s,e);x>f?c.push(x):c.push(f),f=x}else c.push(null)}for(var w=null,h=0;h<c.length;h++){var I=c[h];if(I===null)w===null&&(w=h);else if(w!==null){for(var R=h-w,E=c[w-1],M=(I-E)/(R+1),Y=1;Y<=R;Y++)c[w+Y-1]=M*Y;w=null}}return t.map(function(D,O){var H=D.color;return{color:H,stop:Math.max(Math.min(1,c[O]/e),0)}})},HE=function(t,e,a){var n=e/2,c=a/2,f=Ua(t[0],e)-n,h=c-Ua(t[1],a);return(Math.atan2(h,f)+Math.PI*2)%(Math.PI*2)},OE=function(t,e,a){var n=typeof t=="number"?t:HE(t,e,a),c=Math.abs(e*Math.sin(n))+Math.abs(a*Math.cos(n)),f=e/2,h=a/2,s=c/2,x=Math.sin(n-Math.PI/2)*s,w=Math.cos(n-Math.PI/2)*s;return[c,f-w,f+w,h-x,h+x]},Is=function(t,e){return Math.sqrt(t*t+e*e)},Fy=function(t,e,a,n,c){var f=[[0,0],[0,e],[t,0],[t,e]];return f.reduce(function(h,s){var x=s[0],w=s[1],I=Is(a-x,n-w);return(c?I<h.optimumDistance:I>h.optimumDistance)?{optimumCorner:s,optimumDistance:I}:h},{optimumDistance:c?1/0:-1/0,optimumCorner:null}).optimumCorner},XE=function(t,e,a,n,c){var f=0,h=0;switch(t.size){case 0:t.shape===0?f=h=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(a),Math.abs(a-c)):t.shape===1&&(f=Math.min(Math.abs(e),Math.abs(e-n)),h=Math.min(Math.abs(a),Math.abs(a-c)));break;case 2:if(t.shape===0)f=h=Math.min(Is(e,a),Is(e,a-c),Is(e-n,a),Is(e-n,a-c));else if(t.shape===1){var s=Math.min(Math.abs(a),Math.abs(a-c))/Math.min(Math.abs(e),Math.abs(e-n)),x=Fy(n,c,e,a,!0),w=x[0],I=x[1];f=Is(w-e,(I-a)/s),h=s*f}break;case 1:t.shape===0?f=h=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(a),Math.abs(a-c)):t.shape===1&&(f=Math.max(Math.abs(e),Math.abs(e-n)),h=Math.max(Math.abs(a),Math.abs(a-c)));break;case 3:if(t.shape===0)f=h=Math.max(Is(e,a),Is(e,a-c),Is(e-n,a),Is(e-n,a-c));else if(t.shape===1){var s=Math.max(Math.abs(a),Math.abs(a-c))/Math.max(Math.abs(e),Math.abs(e-n)),R=Fy(n,c,e,a,!1),w=R[0],I=R[1];f=Is(w-e,(I-a)/s),h=s*f}break}return Array.isArray(t.size)&&(f=Ua(t.size[0],n),h=t.size.length===2?Ua(t.size[1],c):f),[f,h]},VE=function(t,e){var a=os(180),n=[];return Ao(e).forEach(function(c,f){if(f===0){var h=c[0];if(h.type===20&&h.value==="to"){a=A8(c);return}else if(l8(h)){a=qg.parse(t,h);return}}var s=Wg(t,c);n.push(s)}),{angle:a,stops:n,type:1}},c1=function(t,e){var a=os(180),n=[];return Ao(e).forEach(function(c,f){if(f===0){var h=c[0];if(h.type===20&&["top","left","right","bottom"].indexOf(h.value)!==-1){a=A8(c);return}else if(l8(h)){a=(qg.parse(t,h)+os(270))%os(360);return}}var s=Wg(t,c);n.push(s)}),{angle:a,stops:n,type:1}},GE=function(t,e){var a=os(180),n=[],c=1,f=0,h=3,s=[];return Ao(e).forEach(function(x,w){var I=x[0];if(w===0){if(Ka(I)&&I.value==="linear"){c=1;return}else if(Ka(I)&&I.value==="radial"){c=2;return}}if(I.type===18){if(I.name==="from"){var R=Nl.parse(t,I.values[0]);n.push({stop:Or,color:R})}else if(I.name==="to"){var R=Nl.parse(t,I.values[0]);n.push({stop:El,color:R})}else if(I.name==="color-stop"){var E=I.values.filter($g);if(E.length===2){var R=Nl.parse(t,E[1]),M=E[0];Kg(M)&&n.push({stop:{type:16,number:M.number*100,flags:M.flags},color:R})}}}}),c===1?{angle:(a+os(180))%os(360),stops:n,type:c}:{size:h,shape:f,stops:n,position:s,type:c}},c8="closest-side",h8="farthest-side",u8="closest-corner",d8="farthest-corner",f8="circle",g8="ellipse",p8="cover",m8="contain",jE=function(t,e){var a=0,n=3,c=[],f=[];return Ao(e).forEach(function(h,s){var x=!0;if(s===0){var w=!1;x=h.reduce(function(R,E){if(w)if(Ka(E))switch(E.value){case"center":return f.push(s4),R;case"top":case"left":return f.push(Or),R;case"right":case"bottom":return f.push(El),R}else(gr(E)||Ql(E))&&f.push(E);else if(Ka(E))switch(E.value){case f8:return a=0,!1;case g8:return a=1,!1;case"at":return w=!0,!1;case c8:return n=0,!1;case p8:case h8:return n=1,!1;case m8:case u8:return n=2,!1;case d8:return n=3,!1}else if(Ql(E)||gr(E))return Array.isArray(n)||(n=[]),n.push(E),!1;return R},x)}if(x){var I=Wg(t,h);c.push(I)}}),{size:n,shape:a,stops:c,position:f,type:2}},h1=function(t,e){var a=0,n=3,c=[],f=[];return Ao(e).forEach(function(h,s){var x=!0;if(s===0?x=h.reduce(function(I,R){if(Ka(R))switch(R.value){case"center":return f.push(s4),!1;case"top":case"left":return f.push(Or),!1;case"right":case"bottom":return f.push(El),!1}else if(gr(R)||Ql(R))return f.push(R),!1;return I},x):s===1&&(x=h.reduce(function(I,R){if(Ka(R))switch(R.value){case f8:return a=0,!1;case g8:return a=1,!1;case m8:case c8:return n=0,!1;case h8:return n=1,!1;case u8:return n=2,!1;case p8:case d8:return n=3,!1}else if(Ql(R)||gr(R))return Array.isArray(n)||(n=[]),n.push(R),!1;return I},x)),x){var w=Wg(t,h);c.push(w)}}),{size:n,shape:a,stops:c,position:f,type:2}},KE=function(t){return t.type===1},$E=function(t){return t.type===2},o4={name:"image",parse:function(t,e){if(e.type===22){var a={url:e.value,type:0};return t.cache.addImage(e.value),a}if(e.type===18){var n=_8[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function qE(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!_8[t.name])}var _8={"linear-gradient":VE,"-moz-linear-gradient":c1,"-ms-linear-gradient":c1,"-o-linear-gradient":c1,"-webkit-linear-gradient":c1,"radial-gradient":jE,"-moz-radial-gradient":h1,"-ms-radial-gradient":h1,"-o-radial-gradient":h1,"-webkit-radial-gradient":h1,"-webkit-gradient":GE},WE={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var a=e[0];return a.type===20&&a.value==="none"?[]:e.filter(function(n){return $g(n)&&qE(n)}).map(function(n){return o4.parse(t,n)})}},JE={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(a){if(Ka(a))switch(a.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},eF={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Ao(e).map(function(a){return a.filter(gr)}).map(a8)}},tF={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Ao(e).map(function(a){return a.filter(Ka).map(function(n){return n.value}).join(" ")}).map(iF)}},iF=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},mh;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(mh||(mh={}));var aF={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Ao(e).map(function(a){return a.filter(rF)})}},rF=function(t){return Ka(t)||gr(t)},Jg=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},nF=Jg("top"),sF=Jg("right"),oF=Jg("bottom"),lF=Jg("left"),ep=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,a){return a8(a.filter(gr))}}},AF=ep("top-left"),cF=ep("top-right"),hF=ep("bottom-right"),uF=ep("bottom-left"),tp=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,a){switch(a){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},dF=tp("top"),fF=tp("right"),gF=tp("bottom"),pF=tp("left"),ip=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,a){return v0(a)?a.number:0}}},mF=ip("top"),_F=ip("right"),bF=ip("bottom"),yF=ip("left"),vF={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xF={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},wF={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ka).reduce(function(a,n){return a|BF(n.value)},0)}},BF=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},CF={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},MF={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},pg;(function(t){t.NORMAL="normal",t.STRICT="strict"})(pg||(pg={}));var RF={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return pg.STRICT;case"normal":default:return pg.NORMAL}}},IF={name:"line-height",initialValue:"normal",prefix:!1,type:4},Ty=function(t,e){return Ka(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:gr(t)?Ua(t,e):e},UF={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:o4.parse(t,e)}},EF={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},FF={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ap=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},TF=ap("top"),SF=ap("right"),YF=ap("bottom"),NF=ap("left"),LF={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ka).map(function(a){switch(a.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},PF={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},rp=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},QF=rp("top"),kF=rp("right"),DF=rp("bottom"),zF=rp("left"),ZF={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},HF={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},OF={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&rm(e[0],"none")?[]:Ao(e).map(function(a){for(var n={color:A0.TRANSPARENT,offsetX:Or,offsetY:Or,blur:Or},c=0,f=0;f<a.length;f++){var h=a[f];Ql(h)?(c===0?n.offsetX=h:c===1?n.offsetY=h:n.blur=h,c++):n.color=Nl.parse(t,h)}return n})}},XF={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},VF={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var a=KF[e.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return a(e.values)}return null}},GF=function(t){var e=t.filter(function(a){return a.type===17}).map(function(a){return a.number});return e.length===6?e:null},jF=function(t){var e=t.filter(function(x){return x.type===17}).map(function(x){return x.number}),a=e[0],n=e[1];e[2],e[3];var c=e[4],f=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var h=e[12],s=e[13];return e[14],e[15],e.length===16?[a,n,c,f,h,s]:null},KF={matrix:GF,matrix3d:jF},Sy={type:16,number:50,flags:y0},$F=[Sy,Sy],qF={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var a=e.filter(gr);return a.length!==2?$F:[a[0],a[1]]}},WF={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Od;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Od||(Od={}));var JF={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Od.BREAK_ALL;case"keep-all":return Od.KEEP_ALL;case"normal":default:return Od.NORMAL}}},eT={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Kg(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},b8={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},tT={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Kg(e)?e.number:1}},iT={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},aT={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ka).map(function(a){switch(a.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(a){return a!==0})}},rT={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var a=[],n=[];return e.forEach(function(c){switch(c.type){case 20:case 0:a.push(c.value);break;case 17:a.push(c.number.toString());break;case 4:n.push(a.join(" ")),a.length=0;break}}),a.length&&n.push(a.join(" ")),n.map(function(c){return c.indexOf(" ")===-1?c:"'"+c+"'"})}},nT={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},sT={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Kg(e))return e.number;if(Ka(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},oT={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ka).map(function(a){return a.value})}},lT={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Br=function(t,e){return(t&e)!==0},AT={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(v0).map(function(a){return b8.parse(t,a)})}},cT={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&rm(e[0],"none")?[]:Ao(e).map(function(a){for(var n={color:255,offsetX:Or,offsetY:Or,blur:Or,spread:Or,inset:!1},c=0,f=0;f<a.length;f++){var h=a[f];rm(h,"inset")?n.inset=!0:Ql(h)?(c===0?n.offsetX=h:c===1?n.offsetY=h:c===2?n.blur=h:n.spread=h,c++):n.color=Nl.parse(t,h)}return n})}},hT={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var a=[0,1,2],n=[];return e.filter(Ka).forEach(function(c){switch(c.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),a.forEach(function(c){n.indexOf(c)===-1&&n.push(c)}),n}},uT={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},dT={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return v0(e)?e.number:0}},fT=function(){function t(e,a){var n,c;this.animationDuration=Ai(e,AT,a.animationDuration),this.backgroundClip=Ai(e,zE,a.backgroundClip),this.backgroundColor=Ai(e,ZE,a.backgroundColor),this.backgroundImage=Ai(e,WE,a.backgroundImage),this.backgroundOrigin=Ai(e,JE,a.backgroundOrigin),this.backgroundPosition=Ai(e,eF,a.backgroundPosition),this.backgroundRepeat=Ai(e,tF,a.backgroundRepeat),this.backgroundSize=Ai(e,aF,a.backgroundSize),this.borderTopColor=Ai(e,nF,a.borderTopColor),this.borderRightColor=Ai(e,sF,a.borderRightColor),this.borderBottomColor=Ai(e,oF,a.borderBottomColor),this.borderLeftColor=Ai(e,lF,a.borderLeftColor),this.borderTopLeftRadius=Ai(e,AF,a.borderTopLeftRadius),this.borderTopRightRadius=Ai(e,cF,a.borderTopRightRadius),this.borderBottomRightRadius=Ai(e,hF,a.borderBottomRightRadius),this.borderBottomLeftRadius=Ai(e,uF,a.borderBottomLeftRadius),this.borderTopStyle=Ai(e,dF,a.borderTopStyle),this.borderRightStyle=Ai(e,fF,a.borderRightStyle),this.borderBottomStyle=Ai(e,gF,a.borderBottomStyle),this.borderLeftStyle=Ai(e,pF,a.borderLeftStyle),this.borderTopWidth=Ai(e,mF,a.borderTopWidth),this.borderRightWidth=Ai(e,_F,a.borderRightWidth),this.borderBottomWidth=Ai(e,bF,a.borderBottomWidth),this.borderLeftWidth=Ai(e,yF,a.borderLeftWidth),this.boxShadow=Ai(e,cT,a.boxShadow),this.color=Ai(e,vF,a.color),this.direction=Ai(e,xF,a.direction),this.display=Ai(e,wF,a.display),this.float=Ai(e,CF,a.cssFloat),this.fontFamily=Ai(e,rT,a.fontFamily),this.fontSize=Ai(e,nT,a.fontSize),this.fontStyle=Ai(e,lT,a.fontStyle),this.fontVariant=Ai(e,oT,a.fontVariant),this.fontWeight=Ai(e,sT,a.fontWeight),this.letterSpacing=Ai(e,MF,a.letterSpacing),this.lineBreak=Ai(e,RF,a.lineBreak),this.lineHeight=Ai(e,IF,a.lineHeight),this.listStyleImage=Ai(e,UF,a.listStyleImage),this.listStylePosition=Ai(e,EF,a.listStylePosition),this.listStyleType=Ai(e,FF,a.listStyleType),this.marginTop=Ai(e,TF,a.marginTop),this.marginRight=Ai(e,SF,a.marginRight),this.marginBottom=Ai(e,YF,a.marginBottom),this.marginLeft=Ai(e,NF,a.marginLeft),this.opacity=Ai(e,tT,a.opacity);var f=Ai(e,LF,a.overflow);this.overflowX=f[0],this.overflowY=f[f.length>1?1:0],this.overflowWrap=Ai(e,PF,a.overflowWrap),this.paddingTop=Ai(e,QF,a.paddingTop),this.paddingRight=Ai(e,kF,a.paddingRight),this.paddingBottom=Ai(e,DF,a.paddingBottom),this.paddingLeft=Ai(e,zF,a.paddingLeft),this.paintOrder=Ai(e,hT,a.paintOrder),this.position=Ai(e,HF,a.position),this.textAlign=Ai(e,ZF,a.textAlign),this.textDecorationColor=Ai(e,iT,(n=a.textDecorationColor)!==null&&n!==void 0?n:a.color),this.textDecorationLine=Ai(e,aT,(c=a.textDecorationLine)!==null&&c!==void 0?c:a.textDecoration),this.textShadow=Ai(e,OF,a.textShadow),this.textTransform=Ai(e,XF,a.textTransform),this.transform=Ai(e,VF,a.transform),this.transformOrigin=Ai(e,qF,a.transformOrigin),this.visibility=Ai(e,WF,a.visibility),this.webkitTextStrokeColor=Ai(e,uT,a.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ai(e,dT,a.webkitTextStrokeWidth),this.wordBreak=Ai(e,JF,a.wordBreak),this.zIndex=Ai(e,eT,a.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return ph(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Br(this.display,4)||Br(this.display,33554432)||Br(this.display,268435456)||Br(this.display,536870912)||Br(this.display,67108864)||Br(this.display,134217728)},t}(),Ai=function(t,e,a){var n=new t8,c=a!==null&&typeof a<"u"?a.toString():e.initialValue;n.write(c);var f=new i8(n.read());switch(e.type){case 2:var h=f.parseComponentValue();return e.parse(t,Ka(h)?h.value:e.initialValue);case 0:return e.parse(t,f.parseComponentValue());case 1:return e.parse(t,f.parseComponentValues());case 4:return f.parseComponentValue();case 3:switch(e.format){case"angle":return qg.parse(t,f.parseComponentValue());case"color":return Nl.parse(t,f.parseComponentValue());case"image":return o4.parse(t,f.parseComponentValue());case"length":var s=f.parseComponentValue();return Ql(s)?s:Or;case"length-percentage":var x=f.parseComponentValue();return gr(x)?x:Or;case"time":return b8.parse(t,f.parseComponentValue())}break}},gT="data-html2canvas-debug",pT=function(t){var e=t.getAttribute(gT);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Yy=function(t,e){var a=pT(t);return a===1||e===a},co=function(){function t(e,a){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Yy(a,3))debugger;this.styles=new fT(e,window.getComputedStyle(a,null)),pS(a)&&(this.styles.animationDuration.some(function(n){return n>0})&&(a.style.animationDuration="0s"),this.styles.transform!==null&&(a.style.transform="none")),this.bounds=r4(this.context,a),Yy(a,4)&&(this.flags|=16)}return t}(),mT="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ny="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ed=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var u1=0;u1<Ny.length;u1++)Ed[Ny.charCodeAt(u1)]=u1;var _T=function(t){var e=t.length*.75,a=t.length,n,c=0,f,h,s,x;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var w=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),I=Array.isArray(w)?w:new Uint8Array(w);for(n=0;n<a;n+=4)f=Ed[t.charCodeAt(n)],h=Ed[t.charCodeAt(n+1)],s=Ed[t.charCodeAt(n+2)],x=Ed[t.charCodeAt(n+3)],I[c++]=f<<2|h>>4,I[c++]=(h&15)<<4|s>>2,I[c++]=(s&3)<<6|x&63;return w},bT=function(t){for(var e=t.length,a=[],n=0;n<e;n+=2)a.push(t[n+1]<<8|t[n]);return a},yT=function(t){for(var e=t.length,a=[],n=0;n<e;n+=4)a.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return a},zA=5,l4=11,J2=2,vT=l4-zA,y8=65536>>zA,xT=1<<zA,e3=xT-1,wT=1024>>zA,BT=y8+wT,CT=BT,MT=32,RT=CT+MT,IT=65536>>l4,UT=1<<vT,ET=UT-1,Ly=function(t,e,a){return t.slice?t.slice(e,a):new Uint16Array(Array.prototype.slice.call(t,e,a))},FT=function(t,e,a){return t.slice?t.slice(e,a):new Uint32Array(Array.prototype.slice.call(t,e,a))},TT=function(t,e){var a=_T(t),n=Array.isArray(a)?yT(a):new Uint32Array(a),c=Array.isArray(a)?bT(a):new Uint16Array(a),f=24,h=Ly(c,f/2,n[4]/2),s=n[5]===2?Ly(c,(f+n[4])/2):FT(n,Math.ceil((f+n[4])/4));return new ST(n[0],n[1],n[2],n[3],h,s)},ST=function(){function t(e,a,n,c,f,h){this.initialValue=e,this.errorValue=a,this.highStart=n,this.highValueIndex=c,this.index=f,this.data=h}return t.prototype.get=function(e){var a;if(e>=0){if(e<55296||e>56319&&e<=65535)return a=this.index[e>>zA],a=(a<<J2)+(e&e3),this.data[a];if(e<=65535)return a=this.index[y8+(e-55296>>zA)],a=(a<<J2)+(e&e3),this.data[a];if(e<this.highStart)return a=RT-IT+(e>>l4),a=this.index[a],a+=e>>zA&ET,a=this.index[a],a=(a<<J2)+(e&e3),this.data[a];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Py="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",YT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var d1=0;d1<Py.length;d1++)YT[Py.charCodeAt(d1)]=d1;var NT=1,t3=2,i3=3,Qy=4,ky=5,LT=7,Dy=8,a3=9,r3=10,zy=11,Zy=12,Hy=13,Oy=14,n3=15,PT=function(t){for(var e=[],a=0,n=t.length;a<n;){var c=t.charCodeAt(a++);if(c>=55296&&c<=56319&&a<n){var f=t.charCodeAt(a++);(f&64512)===56320?e.push(((c&1023)<<10)+(f&1023)+65536):(e.push(c),a--)}else e.push(c)}return e},QT=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var a=t.length;if(!a)return"";for(var n=[],c=-1,f="";++c<a;){var h=t[c];h<=65535?n.push(h):(h-=65536,n.push((h>>10)+55296,h%1024+56320)),(c+1===a||n.length>16384)&&(f+=String.fromCharCode.apply(String,n),n.length=0)}return f},kT=TT(mT),ns="",s3="",DT=function(t){return kT.get(t)},zT=function(t,e,a){var n=a-2,c=e[n],f=e[a-1],h=e[a];if(f===t3&&h===i3)return ns;if(f===t3||f===i3||f===Qy||h===t3||h===i3||h===Qy)return s3;if(f===Dy&&[Dy,a3,zy,Zy].indexOf(h)!==-1||(f===zy||f===a3)&&(h===a3||h===r3)||(f===Zy||f===r3)&&h===r3||h===Hy||h===ky||h===LT||f===NT)return ns;if(f===Hy&&h===Oy){for(;c===ky;)c=e[--n];if(c===Oy)return ns}if(f===n3&&h===n3){for(var s=0;c===n3;)s++,c=e[--n];if(s%2===0)return ns}return s3},ZT=function(t){var e=PT(t),a=e.length,n=0,c=0,f=e.map(DT);return{next:function(){if(n>=a)return{done:!0,value:null};for(var h=ns;n<a&&(h=zT(e,f,++n))===ns;);if(h!==ns||n===a){var s=QT.apply(null,e.slice(c,n));return c=n,{value:s,done:!1}}return{done:!0,value:null}}}},HT=function(t){for(var e=ZT(t),a=[],n;!(n=e.next()).done;)n.value&&a.push(n.value.slice());return a},OT=function(t){var e=123;if(t.createRange){var a=t.createRange();if(a.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),a.selectNode(n);var c=a.getBoundingClientRect(),f=Math.round(c.height);if(t.body.removeChild(n),f===e)return!0}}return!1},XT=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var a=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,c=jg(n.data).map(function(x){return ar(x)}),f=0,h={},s=c.every(function(x,w){a.setStart(n,f),a.setEnd(n,f+x.length);var I=a.getBoundingClientRect();f+=x.length;var R=I.x>h.x||I.y>h.y;return h=I,w===0?!0:R});return t.body.removeChild(e),s},VT=function(){return typeof new Image().crossOrigin<"u"},GT=function(){return typeof new XMLHttpRequest().responseType=="string"},jT=function(t){var e=new Image,a=t.createElement("canvas"),n=a.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),a.toDataURL()}catch{return!1}return!0},Xy=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},KT=function(t){var e=t.createElement("canvas"),a=100;e.width=a,e.height=a;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,a,a);var c=new Image,f=e.toDataURL();c.src=f;var h=nm(a,a,0,0,c);return n.fillStyle="red",n.fillRect(0,0,a,a),Vy(h).then(function(s){n.drawImage(s,0,0);var x=n.getImageData(0,0,a,a).data;n.fillStyle="red",n.fillRect(0,0,a,a);var w=t.createElement("div");return w.style.backgroundImage="url("+f+")",w.style.height=a+"px",Xy(x)?Vy(nm(a,a,0,0,w)):Promise.reject(!1)}).then(function(s){return n.drawImage(s,0,0),Xy(n.getImageData(0,0,a,a).data)}).catch(function(){return!1})},nm=function(t,e,a,n,c){var f="http://www.w3.org/2000/svg",h=document.createElementNS(f,"svg"),s=document.createElementNS(f,"foreignObject");return h.setAttributeNS(null,"width",t.toString()),h.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",a.toString()),s.setAttributeNS(null,"y",n.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),h.appendChild(s),s.appendChild(c),h},Vy=function(t){return new Promise(function(e,a){var n=new Image;n.onload=function(){return e(n)},n.onerror=a,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},kn={get SUPPORT_RANGE_BOUNDS(){var t=OT(document);return Object.defineProperty(kn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=kn.SUPPORT_RANGE_BOUNDS&&XT(document);return Object.defineProperty(kn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=jT(document);return Object.defineProperty(kn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?KT(document):Promise.resolve(!1);return Object.defineProperty(kn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=VT();return Object.defineProperty(kn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=GT();return Object.defineProperty(kn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(kn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(kn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Xd=function(){function t(e,a){this.text=e,this.bounds=a}return t}(),$T=function(t,e,a,n){var c=JT(e,a),f=[],h=0;return c.forEach(function(s){if(a.textDecorationLine.length||s.trim().length>0)if(kn.SUPPORT_RANGE_BOUNDS){var x=Gy(n,h,s.length).getClientRects();if(x.length>1){var w=A4(s),I=0;w.forEach(function(E){f.push(new Xd(E,XA.fromDOMRectList(t,Gy(n,I+h,E.length).getClientRects()))),I+=E.length})}else f.push(new Xd(s,XA.fromDOMRectList(t,x)))}else{var R=n.splitText(s.length);f.push(new Xd(s,qT(t,n))),n=R}else kn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(s.length));h+=s.length}),f},qT=function(t,e){var a=e.ownerDocument;if(a){var n=a.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var c=e.parentNode;if(c){c.replaceChild(n,e);var f=r4(t,n);return n.firstChild&&c.replaceChild(n.firstChild,n),f}}return XA.EMPTY},Gy=function(t,e,a){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var c=n.createRange();return c.setStart(t,e),c.setEnd(t,e+a),c},A4=function(t){if(kn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(a){return a.segment})}return HT(t)},WT=function(t,e){if(kn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var a=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(a.segment(t)).map(function(n){return n.segment})}return tS(t,e)},JT=function(t,e){return e.letterSpacing!==0?A4(t):WT(t,e)},eS=[32,160,4961,65792,65793,4153,4241],tS=function(t,e){for(var a=SU(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],c,f=function(){if(c.value){var h=c.value.slice(),s=jg(h),x="";s.forEach(function(w){eS.indexOf(w)===-1?x+=ar(w):(x.length&&n.push(x),n.push(ar(w)),x="")}),x.length&&n.push(x)}};!(c=a.next()).done;)f();return n},iS=function(){function t(e,a,n){this.text=aS(a.data,n.textTransform),this.textBounds=$T(e,this.text,n,a)}return t}(),aS=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(rS,nS);case 2:return t.toUpperCase();default:return t}},rS=/(^|\s|:|-|\(|\))([a-z])/g,nS=function(t,e,a){return t.length>0?e+a.toUpperCase():t},v8=function(t){Ds(e,t);function e(a,n){var c=t.call(this,a,n)||this;return c.src=n.currentSrc||n.src,c.intrinsicWidth=n.naturalWidth,c.intrinsicHeight=n.naturalHeight,c.context.cache.addImage(c.src),c}return e}(co),x8=function(t){Ds(e,t);function e(a,n){var c=t.call(this,a,n)||this;return c.canvas=n,c.intrinsicWidth=n.width,c.intrinsicHeight=n.height,c}return e}(co),w8=function(t){Ds(e,t);function e(a,n){var c=t.call(this,a,n)||this,f=new XMLSerializer,h=r4(a,n);return n.setAttribute("width",h.width+"px"),n.setAttribute("height",h.height+"px"),c.svg="data:image/svg+xml,"+encodeURIComponent(f.serializeToString(n)),c.intrinsicWidth=n.width.baseVal.value,c.intrinsicHeight=n.height.baseVal.value,c.context.cache.addImage(c.svg),c}return e}(co),B8=function(t){Ds(e,t);function e(a,n){var c=t.call(this,a,n)||this;return c.value=n.value,c}return e}(co),sm=function(t){Ds(e,t);function e(a,n){var c=t.call(this,a,n)||this;return c.start=n.start,c.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,c}return e}(co),sS=[{type:15,flags:0,unit:"px",number:3}],oS=[{type:16,flags:0,number:50}],lS=function(t){return t.width>t.height?new XA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new XA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},AS=function(t){var e=t.type===cS?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},mg="checkbox",_g="radio",cS="password",jy=707406591,c4=function(t){Ds(e,t);function e(a,n){var c=t.call(this,a,n)||this;switch(c.type=n.type.toLowerCase(),c.checked=n.checked,c.value=AS(n),(c.type===mg||c.type===_g)&&(c.styles.backgroundColor=3739148031,c.styles.borderTopColor=c.styles.borderRightColor=c.styles.borderBottomColor=c.styles.borderLeftColor=2779096575,c.styles.borderTopWidth=c.styles.borderRightWidth=c.styles.borderBottomWidth=c.styles.borderLeftWidth=1,c.styles.borderTopStyle=c.styles.borderRightStyle=c.styles.borderBottomStyle=c.styles.borderLeftStyle=1,c.styles.backgroundClip=[0],c.styles.backgroundOrigin=[0],c.bounds=lS(c.bounds)),c.type){case mg:c.styles.borderTopRightRadius=c.styles.borderTopLeftRadius=c.styles.borderBottomRightRadius=c.styles.borderBottomLeftRadius=sS;break;case _g:c.styles.borderTopRightRadius=c.styles.borderTopLeftRadius=c.styles.borderBottomRightRadius=c.styles.borderBottomLeftRadius=oS;break}return c}return e}(co),C8=function(t){Ds(e,t);function e(a,n){var c=t.call(this,a,n)||this,f=n.options[n.selectedIndex||0];return c.value=f&&f.text||"",c}return e}(co),M8=function(t){Ds(e,t);function e(a,n){var c=t.call(this,a,n)||this;return c.value=n.value,c}return e}(co),R8=function(t){Ds(e,t);function e(a,n){var c=t.call(this,a,n)||this;c.src=n.src,c.width=parseInt(n.width,10)||0,c.height=parseInt(n.height,10)||0,c.backgroundColor=c.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){c.tree=uS(a,n.contentWindow.document.documentElement);var f=n.contentWindow.document.documentElement?Uy(a,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):A0.TRANSPARENT,h=n.contentWindow.document.body?Uy(a,getComputedStyle(n.contentWindow.document.body).backgroundColor):A0.TRANSPARENT;c.backgroundColor=ph(f)?ph(h)?c.styles.backgroundColor:h:f}}catch{}return c}return e}(co),hS=["OL","UL","MENU"],z1=function(t,e,a,n){for(var c=e.firstChild,f=void 0;c;c=f)if(f=c.nextSibling,gS(c)&&c.data.trim().length>0)a.textNodes.push(new iS(t,c,a.styles));else if(U8(c))if(CS(c)&&c.assignedNodes)c.assignedNodes().forEach(function(s){return z1(t,s,a,n)});else{var h=I8(t,c);h.styles.isVisible()&&(dS(c,h,n)?h.flags|=4:fS(h.styles)&&(h.flags|=2),hS.indexOf(c.tagName)!==-1&&(h.flags|=8),a.elements.push(h),c.slot,c.shadowRoot?z1(t,c.shadowRoot,h,n):!F8(c)&&!E8(c)&&!T8(c)&&z1(t,c,h,n))}},I8=function(t,e){return wS(e)?new v8(t,e):xS(e)?new x8(t,e):E8(e)?new w8(t,e):_S(e)?new B8(t,e):bS(e)?new sm(t,e):yS(e)?new c4(t,e):T8(e)?new C8(t,e):F8(e)?new M8(t,e):BS(e)?new R8(t,e):new co(t,e)},uS=function(t,e){var a=I8(t,e);return a.flags|=4,z1(t,e,a,a),a},dS=function(t,e,a){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||vS(t)&&a.styles.isTransparent()},fS=function(t){return t.isPositioned()||t.isFloating()},gS=function(t){return t.nodeType===Node.TEXT_NODE},U8=function(t){return t.nodeType===Node.ELEMENT_NODE},pS=function(t){return U8(t)&&typeof t.style<"u"&&!mS(t)},mS=function(t){return typeof t.className=="object"},_S=function(t){return t.tagName==="LI"},bS=function(t){return t.tagName==="OL"},yS=function(t){return t.tagName==="INPUT"},E8=function(t){return t.tagName==="svg"},vS=function(t){return t.tagName==="BODY"},xS=function(t){return t.tagName==="CANVAS"},wS=function(t){return t.tagName==="IMG"},BS=function(t){return t.tagName==="IFRAME"},F8=function(t){return t.tagName==="TEXTAREA"},T8=function(t){return t.tagName==="SELECT"},CS=function(t){return t.tagName==="SLOT"},Ky={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},$y={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},MS={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},RS={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Jc=function(t,e,a,n,c,f){return t<e||t>a?h4(t,c,f.length>0):n.integers.reduce(function(h,s,x){for(;t>=s;)t-=s,h+=n.values[x];return h},"")+f},S8=function(t,e,a,n){var c="";do a||t--,c=n(t)+c,t/=e;while(t*e>=e);return c},tr=function(t,e,a,n,c){var f=a-e+1;return(t<0?"-":"")+(S8(Math.abs(t),f,n,function(h){return ar(Math.floor(h%f)+e)})+c)},EA=function(t,e,a){a===void 0&&(a=". ");var n=e.length;return S8(Math.abs(t),n,!1,function(c){return e[Math.floor(c%n)]})+a},lh=1,xl=2,wl=4,Fd=8,Eo=function(t,e,a,n,c,f){if(t<-9999||t>9999)return h4(t,4,c.length>0);var h=Math.abs(t),s=c;if(h===0)return e[0]+s;for(var x=0;h>0&&x<=4;x++){var w=h%10;w===0&&Br(f,lh)&&s!==""?s=e[w]+s:w>1||w===1&&x===0||w===1&&x===1&&Br(f,xl)||w===1&&x===1&&Br(f,wl)&&t>100||w===1&&x>1&&Br(f,Fd)?s=e[w]+(x>0?a[x-1]:"")+s:w===1&&x>0&&(s=a[x-1]+s),h=Math.floor(h/10)}return(t<0?n:"")+s},qy="",Wy="",Jy="",o3="",h4=function(t,e,a){var n=a?". ":"",c=a?"":"",f=a?", ":"",h=a?" ":"";switch(e){case 0:return""+h;case 1:return""+h;case 2:return""+h;case 5:var s=tr(t,48,57,!0,n);return s.length<4?"0"+s:s;case 4:return EA(t,"",c);case 6:return Jc(t,1,3999,Ky,3,n).toLowerCase();case 7:return Jc(t,1,3999,Ky,3,n);case 8:return tr(t,945,969,!1,n);case 9:return tr(t,97,122,!1,n);case 10:return tr(t,65,90,!1,n);case 11:return tr(t,1632,1641,!0,n);case 12:case 49:return Jc(t,1,9999,$y,3,n);case 35:return Jc(t,1,9999,$y,3,n).toLowerCase();case 13:return tr(t,2534,2543,!0,n);case 14:case 30:return tr(t,6112,6121,!0,n);case 15:return EA(t,"",c);case 16:return EA(t,"",c);case 17:case 48:return Eo(t,"",qy,"",c,xl|wl|Fd);case 47:return Eo(t,"",Wy,"",c,lh|xl|wl|Fd);case 42:return Eo(t,"",qy,"",c,xl|wl|Fd);case 41:return Eo(t,"",Wy,"",c,lh|xl|wl|Fd);case 26:return Eo(t,"","",Jy,c,0);case 25:return Eo(t,"","",Jy,c,lh|xl|wl);case 31:return Eo(t,"","",o3,f,lh|xl|wl);case 33:return Eo(t,"","",o3,f,0);case 32:return Eo(t,"","",o3,f,lh|xl|wl);case 18:return tr(t,2406,2415,!0,n);case 20:return Jc(t,1,19999,RS,3,n);case 21:return tr(t,2790,2799,!0,n);case 22:return tr(t,2662,2671,!0,n);case 22:return Jc(t,1,10999,MS,3,n);case 23:return EA(t,"");case 24:return EA(t,"");case 27:return tr(t,3302,3311,!0,n);case 28:return EA(t,"",c);case 29:return EA(t,"",c);case 34:return tr(t,3792,3801,!0,n);case 37:return tr(t,6160,6169,!0,n);case 38:return tr(t,4160,4169,!0,n);case 39:return tr(t,2918,2927,!0,n);case 40:return tr(t,1776,1785,!0,n);case 43:return tr(t,3046,3055,!0,n);case 44:return tr(t,3174,3183,!0,n);case 45:return tr(t,3664,3673,!0,n);case 46:return tr(t,3872,3881,!0,n);case 3:default:return tr(t,48,57,!0,n)}},ev;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(ev||(ev={}));var IS=function(){function t(){}return t.getOrigin=function(e){var a=t._link;return a?(a.href=e,a.href=a.href,a.protocol+a.hostname+a.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Jt=function(){function t(e,a){this.type=0,this.x=e,this.y=a}return t.prototype.add=function(e,a){return new t(this.x+e,this.y+a)},t}(),eh=function(t,e,a){return new Jt(t.x+(e.x-t.x)*a,t.y+(e.y-t.y)*a)},f1=function(){function t(e,a,n,c){this.type=1,this.start=e,this.startControl=a,this.endControl=n,this.end=c}return t.prototype.subdivide=function(e,a){var n=eh(this.start,this.startControl,e),c=eh(this.startControl,this.endControl,e),f=eh(this.endControl,this.end,e),h=eh(n,c,e),s=eh(c,f,e),x=eh(h,s,e);return a?new t(this.start,n,h,x):new t(x,s,f,this.end)},t.prototype.add=function(e,a){return new t(this.start.add(e,a),this.startControl.add(e,a),this.endControl.add(e,a),this.end.add(e,a))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ss=function(t){return t.type===1},US=function(){function t(e){var a=e.styles,n=e.bounds,c=Ud(a.borderTopLeftRadius,n.width,n.height),f=c[0],h=c[1],s=Ud(a.borderTopRightRadius,n.width,n.height),x=s[0],w=s[1],I=Ud(a.borderBottomRightRadius,n.width,n.height),R=I[0],E=I[1],M=Ud(a.borderBottomLeftRadius,n.width,n.height),Y=M[0],D=M[1],O=[];O.push((f+x)/n.width),O.push((Y+R)/n.width),O.push((h+D)/n.height),O.push((w+E)/n.height);var H=Math.max.apply(Math,O);H>1&&(f/=H,h/=H,x/=H,w/=H,R/=H,E/=H,Y/=H,D/=H);var $=n.width-x,Ae=n.height-E,ce=n.width-R,he=n.height-D,se=a.borderTopWidth,ae=a.borderRightWidth,V=a.borderBottomWidth,J=a.borderLeftWidth,ge=Ua(a.paddingTop,e.bounds.width),le=Ua(a.paddingRight,e.bounds.width),_e=Ua(a.paddingBottom,e.bounds.width),ve=Ua(a.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=f>0||h>0?ka(n.left+J/3,n.top+se/3,f-J/3,h-se/3,la.TOP_LEFT):new Jt(n.left+J/3,n.top+se/3),this.topRightBorderDoubleOuterBox=f>0||h>0?ka(n.left+$,n.top+se/3,x-ae/3,w-se/3,la.TOP_RIGHT):new Jt(n.left+n.width-ae/3,n.top+se/3),this.bottomRightBorderDoubleOuterBox=R>0||E>0?ka(n.left+ce,n.top+Ae,R-ae/3,E-V/3,la.BOTTOM_RIGHT):new Jt(n.left+n.width-ae/3,n.top+n.height-V/3),this.bottomLeftBorderDoubleOuterBox=Y>0||D>0?ka(n.left+J/3,n.top+he,Y-J/3,D-V/3,la.BOTTOM_LEFT):new Jt(n.left+J/3,n.top+n.height-V/3),this.topLeftBorderDoubleInnerBox=f>0||h>0?ka(n.left+J*2/3,n.top+se*2/3,f-J*2/3,h-se*2/3,la.TOP_LEFT):new Jt(n.left+J*2/3,n.top+se*2/3),this.topRightBorderDoubleInnerBox=f>0||h>0?ka(n.left+$,n.top+se*2/3,x-ae*2/3,w-se*2/3,la.TOP_RIGHT):new Jt(n.left+n.width-ae*2/3,n.top+se*2/3),this.bottomRightBorderDoubleInnerBox=R>0||E>0?ka(n.left+ce,n.top+Ae,R-ae*2/3,E-V*2/3,la.BOTTOM_RIGHT):new Jt(n.left+n.width-ae*2/3,n.top+n.height-V*2/3),this.bottomLeftBorderDoubleInnerBox=Y>0||D>0?ka(n.left+J*2/3,n.top+he,Y-J*2/3,D-V*2/3,la.BOTTOM_LEFT):new Jt(n.left+J*2/3,n.top+n.height-V*2/3),this.topLeftBorderStroke=f>0||h>0?ka(n.left+J/2,n.top+se/2,f-J/2,h-se/2,la.TOP_LEFT):new Jt(n.left+J/2,n.top+se/2),this.topRightBorderStroke=f>0||h>0?ka(n.left+$,n.top+se/2,x-ae/2,w-se/2,la.TOP_RIGHT):new Jt(n.left+n.width-ae/2,n.top+se/2),this.bottomRightBorderStroke=R>0||E>0?ka(n.left+ce,n.top+Ae,R-ae/2,E-V/2,la.BOTTOM_RIGHT):new Jt(n.left+n.width-ae/2,n.top+n.height-V/2),this.bottomLeftBorderStroke=Y>0||D>0?ka(n.left+J/2,n.top+he,Y-J/2,D-V/2,la.BOTTOM_LEFT):new Jt(n.left+J/2,n.top+n.height-V/2),this.topLeftBorderBox=f>0||h>0?ka(n.left,n.top,f,h,la.TOP_LEFT):new Jt(n.left,n.top),this.topRightBorderBox=x>0||w>0?ka(n.left+$,n.top,x,w,la.TOP_RIGHT):new Jt(n.left+n.width,n.top),this.bottomRightBorderBox=R>0||E>0?ka(n.left+ce,n.top+Ae,R,E,la.BOTTOM_RIGHT):new Jt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=Y>0||D>0?ka(n.left,n.top+he,Y,D,la.BOTTOM_LEFT):new Jt(n.left,n.top+n.height),this.topLeftPaddingBox=f>0||h>0?ka(n.left+J,n.top+se,Math.max(0,f-J),Math.max(0,h-se),la.TOP_LEFT):new Jt(n.left+J,n.top+se),this.topRightPaddingBox=x>0||w>0?ka(n.left+Math.min($,n.width-ae),n.top+se,$>n.width+ae?0:Math.max(0,x-ae),Math.max(0,w-se),la.TOP_RIGHT):new Jt(n.left+n.width-ae,n.top+se),this.bottomRightPaddingBox=R>0||E>0?ka(n.left+Math.min(ce,n.width-J),n.top+Math.min(Ae,n.height-V),Math.max(0,R-ae),Math.max(0,E-V),la.BOTTOM_RIGHT):new Jt(n.left+n.width-ae,n.top+n.height-V),this.bottomLeftPaddingBox=Y>0||D>0?ka(n.left+J,n.top+Math.min(he,n.height-V),Math.max(0,Y-J),Math.max(0,D-V),la.BOTTOM_LEFT):new Jt(n.left+J,n.top+n.height-V),this.topLeftContentBox=f>0||h>0?ka(n.left+J+ve,n.top+se+ge,Math.max(0,f-(J+ve)),Math.max(0,h-(se+ge)),la.TOP_LEFT):new Jt(n.left+J+ve,n.top+se+ge),this.topRightContentBox=x>0||w>0?ka(n.left+Math.min($,n.width+J+ve),n.top+se+ge,$>n.width+J+ve?0:x-J+ve,w-(se+ge),la.TOP_RIGHT):new Jt(n.left+n.width-(ae+le),n.top+se+ge),this.bottomRightContentBox=R>0||E>0?ka(n.left+Math.min(ce,n.width-(J+ve)),n.top+Math.min(Ae,n.height+se+ge),Math.max(0,R-(ae+le)),E-(V+_e),la.BOTTOM_RIGHT):new Jt(n.left+n.width-(ae+le),n.top+n.height-(V+_e)),this.bottomLeftContentBox=Y>0||D>0?ka(n.left+J+ve,n.top+he,Math.max(0,Y-(J+ve)),D-(V+_e),la.BOTTOM_LEFT):new Jt(n.left+J+ve,n.top+n.height-(V+_e))}return t}(),la;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(la||(la={}));var ka=function(t,e,a,n,c){var f=4*((Math.sqrt(2)-1)/3),h=a*f,s=n*f,x=t+a,w=e+n;switch(c){case la.TOP_LEFT:return new f1(new Jt(t,w),new Jt(t,w-s),new Jt(x-h,e),new Jt(x,e));case la.TOP_RIGHT:return new f1(new Jt(t,e),new Jt(t+h,e),new Jt(x,w-s),new Jt(x,w));case la.BOTTOM_RIGHT:return new f1(new Jt(x,e),new Jt(x,e+s),new Jt(t+h,w),new Jt(t,w));case la.BOTTOM_LEFT:default:return new f1(new Jt(x,w),new Jt(x-h,w),new Jt(t,e+s),new Jt(t,e))}},bg=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},ES=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},yg=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},FS=function(){function t(e,a,n){this.offsetX=e,this.offsetY=a,this.matrix=n,this.type=0,this.target=6}return t}(),g1=function(){function t(e,a){this.path=e,this.target=a,this.type=1}return t}(),TS=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),SS=function(t){return t.type===0},Y8=function(t){return t.type===1},YS=function(t){return t.type===2},tv=function(t,e){return t.length===e.length?t.some(function(a,n){return a===e[n]}):!1},NS=function(t,e,a,n,c){return t.map(function(f,h){switch(h){case 0:return f.add(e,a);case 1:return f.add(e+n,a);case 2:return f.add(e+n,a+c);case 3:return f.add(e,a+c)}return f})},N8=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),L8=function(){function t(e,a){if(this.container=e,this.parent=a,this.effects=[],this.curves=new US(this.container),this.container.styles.opacity<1&&this.effects.push(new TS(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,c=this.container.bounds.top+this.container.styles.transformOrigin[1].number,f=this.container.styles.transform;this.effects.push(new FS(n,c,f))}if(this.container.styles.overflowX!==0){var h=bg(this.curves),s=yg(this.curves);tv(h,s)?this.effects.push(new g1(h,6)):(this.effects.push(new g1(h,2)),this.effects.push(new g1(s,4)))}}return t.prototype.getEffects=function(e){for(var a=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,c=this.effects.slice(0);n;){var f=n.effects.filter(function(x){return!Y8(x)});if(a||n.container.styles.position!==0||!n.parent){if(c.unshift.apply(c,f),a=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var h=bg(n.curves),s=yg(n.curves);tv(h,s)||c.unshift(new g1(s,6))}}else c.unshift.apply(c,f);n=n.parent}return c.filter(function(x){return Br(x.target,e)})},t}(),om=function(t,e,a,n){t.container.elements.forEach(function(c){var f=Br(c.flags,4),h=Br(c.flags,2),s=new L8(c,t);Br(c.styles.display,2048)&&n.push(s);var x=Br(c.flags,8)?[]:n;if(f||h){var w=f||c.styles.isPositioned()?a:e,I=new N8(s);if(c.styles.isPositioned()||c.styles.opacity<1||c.styles.isTransformed()){var R=c.styles.zIndex.order;if(R<0){var E=0;w.negativeZIndex.some(function(Y,D){return R>Y.element.container.styles.zIndex.order?(E=D,!1):E>0}),w.negativeZIndex.splice(E,0,I)}else if(R>0){var M=0;w.positiveZIndex.some(function(Y,D){return R>=Y.element.container.styles.zIndex.order?(M=D+1,!1):M>0}),w.positiveZIndex.splice(M,0,I)}else w.zeroOrAutoZIndexOrTransformedOrOpacity.push(I)}else c.styles.isFloating()?w.nonPositionedFloats.push(I):w.nonPositionedInlineLevel.push(I);om(s,I,f?I:a,x)}else c.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),om(s,e,a,x);Br(c.flags,8)&&P8(c,x)})},P8=function(t,e){for(var a=t instanceof sm?t.start:1,n=t instanceof sm?t.reversed:!1,c=0;c<e.length;c++){var f=e[c];f.container instanceof B8&&typeof f.container.value=="number"&&f.container.value!==0&&(a=f.container.value),f.listValue=h4(a,f.container.styles.listStyleType,!0),a+=n?-1:1}},LS=function(t){var e=new L8(t,null),a=new N8(e),n=[];return om(e,a,a,n),P8(e.container,n),a},iv=function(t,e){switch(e){case 0:return ls(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ls(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ls(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return ls(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},PS=function(t,e){switch(e){case 0:return ls(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return ls(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return ls(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return ls(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},QS=function(t,e){switch(e){case 0:return ls(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return ls(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return ls(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return ls(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},kS=function(t,e){switch(e){case 0:return p1(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return p1(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return p1(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return p1(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},p1=function(t,e){var a=[];return ss(t)?a.push(t.subdivide(.5,!1)):a.push(t),ss(e)?a.push(e.subdivide(.5,!0)):a.push(e),a},ls=function(t,e,a,n){var c=[];return ss(t)?c.push(t.subdivide(.5,!1)):c.push(t),ss(a)?c.push(a.subdivide(.5,!0)):c.push(a),ss(n)?c.push(n.subdivide(.5,!0).reverse()):c.push(n),ss(e)?c.push(e.subdivide(.5,!1).reverse()):c.push(e),c},Q8=function(t){var e=t.bounds,a=t.styles;return e.add(a.borderLeftWidth,a.borderTopWidth,-(a.borderRightWidth+a.borderLeftWidth),-(a.borderTopWidth+a.borderBottomWidth))},vg=function(t){var e=t.styles,a=t.bounds,n=Ua(e.paddingLeft,a.width),c=Ua(e.paddingRight,a.width),f=Ua(e.paddingTop,a.width),h=Ua(e.paddingBottom,a.width);return a.add(n+e.borderLeftWidth,f+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+c),-(e.borderTopWidth+e.borderBottomWidth+f+h))},DS=function(t,e){return t===0?e.bounds:t===2?vg(e):Q8(e)},zS=function(t,e){return t===0?e.bounds:t===2?vg(e):Q8(e)},l3=function(t,e,a){var n=DS(Ah(t.styles.backgroundOrigin,e),t),c=zS(Ah(t.styles.backgroundClip,e),t),f=ZS(Ah(t.styles.backgroundSize,e),a,n),h=f[0],s=f[1],x=Ud(Ah(t.styles.backgroundPosition,e),n.width-h,n.height-s),w=HS(Ah(t.styles.backgroundRepeat,e),x,f,n,c),I=Math.round(n.left+x[0]),R=Math.round(n.top+x[1]);return[w,I,R,h,s]},th=function(t){return Ka(t)&&t.value===mh.AUTO},m1=function(t){return typeof t=="number"},ZS=function(t,e,a){var n=e[0],c=e[1],f=e[2],h=t[0],s=t[1];if(!h)return[0,0];if(gr(h)&&s&&gr(s))return[Ua(h,a.width),Ua(s,a.height)];var x=m1(f);if(Ka(h)&&(h.value===mh.CONTAIN||h.value===mh.COVER)){if(m1(f)){var w=a.width/a.height;return w<f!=(h.value===mh.COVER)?[a.width,a.width/f]:[a.height*f,a.height]}return[a.width,a.height]}var I=m1(n),R=m1(c),E=I||R;if(th(h)&&(!s||th(s))){if(I&&R)return[n,c];if(!x&&!E)return[a.width,a.height];if(E&&x){var M=I?n:c*f,Y=R?c:n/f;return[M,Y]}var D=I?n:a.width,O=R?c:a.height;return[D,O]}if(x){var H=0,$=0;return gr(h)?H=Ua(h,a.width):gr(s)&&($=Ua(s,a.height)),th(h)?H=$*f:(!s||th(s))&&($=H/f),[H,$]}var Ae=null,ce=null;if(gr(h)?Ae=Ua(h,a.width):s&&gr(s)&&(ce=Ua(s,a.height)),Ae!==null&&(!s||th(s))&&(ce=I&&R?Ae/n*c:a.height),ce!==null&&th(h)&&(Ae=I&&R?ce/c*n:a.width),Ae!==null&&ce!==null)return[Ae,ce];throw new Error("Unable to calculate background-size for element")},Ah=function(t,e){var a=t[e];return typeof a>"u"?t[0]:a},HS=function(t,e,a,n,c){var f=e[0],h=e[1],s=a[0],x=a[1];switch(t){case 2:return[new Jt(Math.round(n.left),Math.round(n.top+h)),new Jt(Math.round(n.left+n.width),Math.round(n.top+h)),new Jt(Math.round(n.left+n.width),Math.round(x+n.top+h)),new Jt(Math.round(n.left),Math.round(x+n.top+h))];case 3:return[new Jt(Math.round(n.left+f),Math.round(n.top)),new Jt(Math.round(n.left+f+s),Math.round(n.top)),new Jt(Math.round(n.left+f+s),Math.round(n.height+n.top)),new Jt(Math.round(n.left+f),Math.round(n.height+n.top))];case 1:return[new Jt(Math.round(n.left+f),Math.round(n.top+h)),new Jt(Math.round(n.left+f+s),Math.round(n.top+h)),new Jt(Math.round(n.left+f+s),Math.round(n.top+h+x)),new Jt(Math.round(n.left+f),Math.round(n.top+h+x))];default:return[new Jt(Math.round(c.left),Math.round(c.top)),new Jt(Math.round(c.left+c.width),Math.round(c.top)),new Jt(Math.round(c.left+c.width),Math.round(c.height+c.top)),new Jt(Math.round(c.left),Math.round(c.height+c.top))]}},OS="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",av="Hidden Text",XS=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,a){var n=this._document.createElement("div"),c=this._document.createElement("img"),f=this._document.createElement("span"),h=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=a,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",h.appendChild(n),c.src=OS,c.width=1,c.height=1,c.style.margin="0",c.style.padding="0",c.style.verticalAlign="baseline",f.style.fontFamily=e,f.style.fontSize=a,f.style.margin="0",f.style.padding="0",f.appendChild(this._document.createTextNode(av)),n.appendChild(f),n.appendChild(c);var s=c.offsetTop-f.offsetTop+2;n.removeChild(f),n.appendChild(this._document.createTextNode(av)),n.style.lineHeight="normal",c.style.verticalAlign="super";var x=c.offsetTop-n.offsetTop+2;return h.removeChild(n),{baseline:s,middle:x}},t.prototype.getMetrics=function(e,a){var n=e+" "+a;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,a)),this._data[n]},t}(),k8=function(){function t(e,a){this.context=e,this.options=a}return t}(),VS=1e4;(function(t){Ds(e,t);function e(a,n){var c=t.call(this,a,n)||this;return c._activeEffects=[],c.canvas=n.canvas?n.canvas:document.createElement("canvas"),c.ctx=c.canvas.getContext("2d"),n.canvas||(c.canvas.width=Math.floor(n.width*n.scale),c.canvas.height=Math.floor(n.height*n.scale),c.canvas.style.width=n.width+"px",c.canvas.style.height=n.height+"px"),c.fontMetrics=new XS(document),c.ctx.scale(c.options.scale,c.options.scale),c.ctx.translate(-n.x,-n.y),c.ctx.textBaseline="bottom",c._activeEffects=[],c.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),c}return e.prototype.applyEffects=function(a){for(var n=this;this._activeEffects.length;)this.popEffect();a.forEach(function(c){return n.applyEffect(c)})},e.prototype.applyEffect=function(a){this.ctx.save(),YS(a)&&(this.ctx.globalAlpha=a.opacity),SS(a)&&(this.ctx.translate(a.offsetX,a.offsetY),this.ctx.transform(a.matrix[0],a.matrix[1],a.matrix[2],a.matrix[3],a.matrix[4],a.matrix[5]),this.ctx.translate(-a.offsetX,-a.offsetY)),Y8(a)&&(this.path(a.path),this.ctx.clip()),this._activeEffects.push(a)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(a){return as(this,void 0,void 0,function(){var n;return Ln(this,function(c){switch(c.label){case 0:return n=a.element.container.styles,n.isVisible()?[4,this.renderStackContent(a)]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(a){return as(this,void 0,void 0,function(){return Ln(this,function(n){switch(n.label){case 0:if(Br(a.container.flags,16))debugger;return a.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(a)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(a)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(a,n,c){var f=this;if(n===0)this.ctx.fillText(a.text,a.bounds.left,a.bounds.top+c);else{var h=A4(a.text);h.reduce(function(s,x){return f.ctx.fillText(x,s,a.bounds.top+c),s+f.ctx.measureText(x).width},a.bounds.left)}},e.prototype.createFontStyle=function(a){var n=a.fontVariant.filter(function(h){return h==="normal"||h==="small-caps"}).join(""),c=qS(a.fontFamily).join(", "),f=v0(a.fontSize)?""+a.fontSize.number+a.fontSize.unit:a.fontSize.number+"px";return[[a.fontStyle,n,a.fontWeight,f,c].join(" "),c,f]},e.prototype.renderTextNode=function(a,n){return as(this,void 0,void 0,function(){var c,f,h,s,x,w,I,R,E=this;return Ln(this,function(M){return c=this.createFontStyle(n),f=c[0],h=c[1],s=c[2],this.ctx.font=f,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",x=this.fontMetrics.getMetrics(h,s),w=x.baseline,I=x.middle,R=n.paintOrder,a.textBounds.forEach(function(Y){R.forEach(function(D){switch(D){case 0:E.ctx.fillStyle=Sr(n.color),E.renderTextWithLetterSpacing(Y,n.letterSpacing,w);var O=n.textShadow;O.length&&Y.text.trim().length&&(O.slice(0).reverse().forEach(function(H){E.ctx.shadowColor=Sr(H.color),E.ctx.shadowOffsetX=H.offsetX.number*E.options.scale,E.ctx.shadowOffsetY=H.offsetY.number*E.options.scale,E.ctx.shadowBlur=H.blur.number,E.renderTextWithLetterSpacing(Y,n.letterSpacing,w)}),E.ctx.shadowColor="",E.ctx.shadowOffsetX=0,E.ctx.shadowOffsetY=0,E.ctx.shadowBlur=0),n.textDecorationLine.length&&(E.ctx.fillStyle=Sr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(H){switch(H){case 1:E.ctx.fillRect(Y.bounds.left,Math.round(Y.bounds.top+w),Y.bounds.width,1);break;case 2:E.ctx.fillRect(Y.bounds.left,Math.round(Y.bounds.top),Y.bounds.width,1);break;case 3:E.ctx.fillRect(Y.bounds.left,Math.ceil(Y.bounds.top+I),Y.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&Y.text.trim().length&&(E.ctx.strokeStyle=Sr(n.webkitTextStrokeColor),E.ctx.lineWidth=n.webkitTextStrokeWidth,E.ctx.lineJoin=window.chrome?"miter":"round",E.ctx.strokeText(Y.text,Y.bounds.left,Y.bounds.top+w)),E.ctx.strokeStyle="",E.ctx.lineWidth=0,E.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(a,n,c){if(c&&a.intrinsicWidth>0&&a.intrinsicHeight>0){var f=vg(a),h=yg(n);this.path(h),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(c,0,0,a.intrinsicWidth,a.intrinsicHeight,f.left,f.top,f.width,f.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(a){return as(this,void 0,void 0,function(){var n,c,f,h,s,x,$,$,w,I,R,E,ce,M,Y,he,D,O,H,$,Ae,ce,he;return Ln(this,function(se){switch(se.label){case 0:this.applyEffects(a.getEffects(4)),n=a.container,c=a.curves,f=n.styles,h=0,s=n.textNodes,se.label=1;case 1:return h<s.length?(x=s[h],[4,this.renderTextNode(x,f)]):[3,4];case 2:se.sent(),se.label=3;case 3:return h++,[3,1];case 4:if(!(n instanceof v8))return[3,8];se.label=5;case 5:return se.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return $=se.sent(),this.renderReplacedElement(n,c,$),[3,8];case 7:return se.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof x8&&this.renderReplacedElement(n,c,n.canvas),!(n instanceof w8))return[3,12];se.label=9;case 9:return se.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return $=se.sent(),this.renderReplacedElement(n,c,$),[3,12];case 11:return se.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof R8&&n.tree?(w=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,w.render(n.tree)]):[3,14];case 13:I=se.sent(),n.width&&n.height&&this.ctx.drawImage(I,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),se.label=14;case 14:if(n instanceof c4&&(R=Math.min(n.bounds.width,n.bounds.height),n.type===mg?n.checked&&(this.ctx.save(),this.path([new Jt(n.bounds.left+R*.39363,n.bounds.top+R*.79),new Jt(n.bounds.left+R*.16,n.bounds.top+R*.5549),new Jt(n.bounds.left+R*.27347,n.bounds.top+R*.44071),new Jt(n.bounds.left+R*.39694,n.bounds.top+R*.5649),new Jt(n.bounds.left+R*.72983,n.bounds.top+R*.23),new Jt(n.bounds.left+R*.84,n.bounds.top+R*.34085),new Jt(n.bounds.left+R*.39363,n.bounds.top+R*.79)]),this.ctx.fillStyle=Sr(jy),this.ctx.fill(),this.ctx.restore()):n.type===_g&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+R/2,n.bounds.top+R/2,R/4,0,Math.PI*2,!0),this.ctx.fillStyle=Sr(jy),this.ctx.fill(),this.ctx.restore())),GS(n)&&n.value.length){switch(E=this.createFontStyle(f),ce=E[0],M=E[1],Y=this.fontMetrics.getMetrics(ce,M).baseline,this.ctx.font=ce,this.ctx.fillStyle=Sr(f.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=KS(n.styles.textAlign),he=vg(n),D=0,n.styles.textAlign){case 1:D+=he.width/2;break;case 2:D+=he.width;break}O=he.add(D,0,0,-he.height/2+1),this.ctx.save(),this.path([new Jt(he.left,he.top),new Jt(he.left+he.width,he.top),new Jt(he.left+he.width,he.top+he.height),new Jt(he.left,he.top+he.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Xd(n.value,O),f.letterSpacing,Y),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Br(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(H=n.styles.listStyleImage,H.type!==0)return[3,18];$=void 0,Ae=H.url,se.label=15;case 15:return se.trys.push([15,17,,18]),[4,this.context.cache.match(Ae)];case 16:return $=se.sent(),this.ctx.drawImage($,n.bounds.left-($.width+10),n.bounds.top),[3,18];case 17:return se.sent(),this.context.logger.error("Error loading list-style-image "+Ae),[3,18];case 18:return[3,20];case 19:a.listValue&&n.styles.listStyleType!==-1&&(ce=this.createFontStyle(f)[0],this.ctx.font=ce,this.ctx.fillStyle=Sr(f.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",he=new XA(n.bounds.left,n.bounds.top+Ua(n.styles.paddingTop,n.bounds.width),n.bounds.width,Ty(f.lineHeight,f.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Xd(a.listValue,he),f.letterSpacing,Ty(f.lineHeight,f.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),se.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(a){return as(this,void 0,void 0,function(){var n,c,H,f,h,H,s,x,H,w,I,H,R,E,H,M,Y,H,D,O,H;return Ln(this,function($){switch($.label){case 0:if(Br(a.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(a.element)];case 1:$.sent(),n=0,c=a.negativeZIndex,$.label=2;case 2:return n<c.length?(H=c[n],[4,this.renderStack(H)]):[3,5];case 3:$.sent(),$.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(a.element)];case 6:$.sent(),f=0,h=a.nonInlineLevel,$.label=7;case 7:return f<h.length?(H=h[f],[4,this.renderNode(H)]):[3,10];case 8:$.sent(),$.label=9;case 9:return f++,[3,7];case 10:s=0,x=a.nonPositionedFloats,$.label=11;case 11:return s<x.length?(H=x[s],[4,this.renderStack(H)]):[3,14];case 12:$.sent(),$.label=13;case 13:return s++,[3,11];case 14:w=0,I=a.nonPositionedInlineLevel,$.label=15;case 15:return w<I.length?(H=I[w],[4,this.renderStack(H)]):[3,18];case 16:$.sent(),$.label=17;case 17:return w++,[3,15];case 18:R=0,E=a.inlineLevel,$.label=19;case 19:return R<E.length?(H=E[R],[4,this.renderNode(H)]):[3,22];case 20:$.sent(),$.label=21;case 21:return R++,[3,19];case 22:M=0,Y=a.zeroOrAutoZIndexOrTransformedOrOpacity,$.label=23;case 23:return M<Y.length?(H=Y[M],[4,this.renderStack(H)]):[3,26];case 24:$.sent(),$.label=25;case 25:return M++,[3,23];case 26:D=0,O=a.positiveZIndex,$.label=27;case 27:return D<O.length?(H=O[D],[4,this.renderStack(H)]):[3,30];case 28:$.sent(),$.label=29;case 29:return D++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(a){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(a.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(a){this.ctx.beginPath(),this.formatPath(a),this.ctx.closePath()},e.prototype.formatPath=function(a){var n=this;a.forEach(function(c,f){var h=ss(c)?c.start:c;f===0?n.ctx.moveTo(h.x,h.y):n.ctx.lineTo(h.x,h.y),ss(c)&&n.ctx.bezierCurveTo(c.startControl.x,c.startControl.y,c.endControl.x,c.endControl.y,c.end.x,c.end.y)})},e.prototype.renderRepeat=function(a,n,c,f){this.path(a),this.ctx.fillStyle=n,this.ctx.translate(c,f),this.ctx.fill(),this.ctx.translate(-c,-f)},e.prototype.resizeImage=function(a,n,c){var f;if(a.width===n&&a.height===c)return a;var h=(f=this.canvas.ownerDocument)!==null&&f!==void 0?f:document,s=h.createElement("canvas");s.width=Math.max(1,n),s.height=Math.max(1,c);var x=s.getContext("2d");return x.drawImage(a,0,0,a.width,a.height,0,0,n,c),s},e.prototype.renderBackgroundImage=function(a){return as(this,void 0,void 0,function(){var n,c,f,h,s,x;return Ln(this,function(w){switch(w.label){case 0:n=a.styles.backgroundImage.length-1,c=function(I){var R,E,M,ge,$e,Je,ve,He,V,Y,ge,$e,Je,ve,He,D,O,H,$,Ae,ce,he,se,ae,V,J,ge,le,_e,ve,He,nt,$e,Je,gt,Rt,Yt,ot,mt,je,Qe,it;return Ln(this,function(rt){switch(rt.label){case 0:if(I.type!==0)return[3,5];R=void 0,E=I.url,rt.label=1;case 1:return rt.trys.push([1,3,,4]),[4,f.context.cache.match(E)];case 2:return R=rt.sent(),[3,4];case 3:return rt.sent(),f.context.logger.error("Error loading background-image "+E),[3,4];case 4:return R&&(M=l3(a,n,[R.width,R.height,R.width/R.height]),ge=M[0],$e=M[1],Je=M[2],ve=M[3],He=M[4],V=f.ctx.createPattern(f.resizeImage(R,ve,He),"repeat"),f.renderRepeat(ge,V,$e,Je)),[3,6];case 5:KE(I)?(Y=l3(a,n,[null,null,null]),ge=Y[0],$e=Y[1],Je=Y[2],ve=Y[3],He=Y[4],D=OE(I.angle,ve,He),O=D[0],H=D[1],$=D[2],Ae=D[3],ce=D[4],he=document.createElement("canvas"),he.width=ve,he.height=He,se=he.getContext("2d"),ae=se.createLinearGradient(H,Ae,$,ce),Ey(I.stops,O).forEach(function(Bt){return ae.addColorStop(Bt.stop,Sr(Bt.color))}),se.fillStyle=ae,se.fillRect(0,0,ve,He),ve>0&&He>0&&(V=f.ctx.createPattern(he,"repeat"),f.renderRepeat(ge,V,$e,Je))):$E(I)&&(J=l3(a,n,[null,null,null]),ge=J[0],le=J[1],_e=J[2],ve=J[3],He=J[4],nt=I.position.length===0?[s4]:I.position,$e=Ua(nt[0],ve),Je=Ua(nt[nt.length-1],He),gt=XE(I,$e,Je,ve,He),Rt=gt[0],Yt=gt[1],Rt>0&&Yt>0&&(ot=f.ctx.createRadialGradient(le+$e,_e+Je,0,le+$e,_e+Je,Rt),Ey(I.stops,Rt*2).forEach(function(Bt){return ot.addColorStop(Bt.stop,Sr(Bt.color))}),f.path(ge),f.ctx.fillStyle=ot,Rt!==Yt?(mt=a.bounds.left+.5*a.bounds.width,je=a.bounds.top+.5*a.bounds.height,Qe=Yt/Rt,it=1/Qe,f.ctx.save(),f.ctx.translate(mt,je),f.ctx.transform(1,0,0,Qe,0,0),f.ctx.translate(-mt,-je),f.ctx.fillRect(le,it*(_e-je)+je,ve,He*it),f.ctx.restore()):f.ctx.fill())),rt.label=6;case 6:return n--,[2]}})},f=this,h=0,s=a.styles.backgroundImage.slice(0).reverse(),w.label=1;case 1:return h<s.length?(x=s[h],[5,c(x)]):[3,4];case 2:w.sent(),w.label=3;case 3:return h++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(a,n,c){return as(this,void 0,void 0,function(){return Ln(this,function(f){return this.path(iv(c,n)),this.ctx.fillStyle=Sr(a),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(a,n,c,f){return as(this,void 0,void 0,function(){var h,s;return Ln(this,function(x){switch(x.label){case 0:return n<3?[4,this.renderSolidBorder(a,c,f)]:[3,2];case 1:return x.sent(),[2];case 2:return h=PS(f,c),this.path(h),this.ctx.fillStyle=Sr(a),this.ctx.fill(),s=QS(f,c),this.path(s),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(a){return as(this,void 0,void 0,function(){var n,c,f,h,s,x,w,I,R=this;return Ln(this,function(E){switch(E.label){case 0:return this.applyEffects(a.getEffects(2)),n=a.container.styles,c=!ph(n.backgroundColor)||n.backgroundImage.length,f=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],h=jS(Ah(n.backgroundClip,0),a.curves),c||n.boxShadow.length?(this.ctx.save(),this.path(h),this.ctx.clip(),ph(n.backgroundColor)||(this.ctx.fillStyle=Sr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(a.container)]):[3,2];case 1:E.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(M){R.ctx.save();var Y=bg(a.curves),D=M.inset?0:VS,O=NS(Y,-D+(M.inset?1:-1)*M.spread.number,(M.inset?1:-1)*M.spread.number,M.spread.number*(M.inset?-2:2),M.spread.number*(M.inset?-2:2));M.inset?(R.path(Y),R.ctx.clip(),R.mask(O)):(R.mask(Y),R.ctx.clip(),R.path(O)),R.ctx.shadowOffsetX=M.offsetX.number+D,R.ctx.shadowOffsetY=M.offsetY.number,R.ctx.shadowColor=Sr(M.color),R.ctx.shadowBlur=M.blur.number,R.ctx.fillStyle=M.inset?Sr(M.color):"rgba(0,0,0,1)",R.ctx.fill(),R.ctx.restore()}),E.label=2;case 2:s=0,x=0,w=f,E.label=3;case 3:return x<w.length?(I=w[x],I.style!==0&&!ph(I.color)&&I.width>0?I.style!==2?[3,5]:[4,this.renderDashedDottedBorder(I.color,I.width,s,a.curves,2)]:[3,11]):[3,13];case 4:return E.sent(),[3,11];case 5:return I.style!==3?[3,7]:[4,this.renderDashedDottedBorder(I.color,I.width,s,a.curves,3)];case 6:return E.sent(),[3,11];case 7:return I.style!==4?[3,9]:[4,this.renderDoubleBorder(I.color,I.width,s,a.curves)];case 8:return E.sent(),[3,11];case 9:return[4,this.renderSolidBorder(I.color,s,a.curves)];case 10:E.sent(),E.label=11;case 11:s++,E.label=12;case 12:return x++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(a,n,c,f,h){return as(this,void 0,void 0,function(){var s,x,w,I,R,E,M,Y,D,O,H,$,Ae,ce,he,se,he,se;return Ln(this,function(ae){return this.ctx.save(),s=kS(f,c),x=iv(f,c),h===2&&(this.path(x),this.ctx.clip()),ss(x[0])?(w=x[0].start.x,I=x[0].start.y):(w=x[0].x,I=x[0].y),ss(x[1])?(R=x[1].end.x,E=x[1].end.y):(R=x[1].x,E=x[1].y),c===0||c===2?M=Math.abs(w-R):M=Math.abs(I-E),this.ctx.beginPath(),h===3?this.formatPath(s):this.formatPath(x.slice(0,2)),Y=n<3?n*3:n*2,D=n<3?n*2:n,h===3&&(Y=n,D=n),O=!0,M<=Y*2?O=!1:M<=Y*2+D?(H=M/(2*Y+D),Y*=H,D*=H):($=Math.floor((M+D)/(Y+D)),Ae=(M-$*Y)/($-1),ce=(M-($+1)*Y)/$,D=ce<=0||Math.abs(D-Ae)<Math.abs(D-ce)?Ae:ce),O&&(h===3?this.ctx.setLineDash([0,Y+D]):this.ctx.setLineDash([Y,D])),h===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Sr(a),this.ctx.stroke(),this.ctx.setLineDash([]),h===2&&(ss(x[0])&&(he=x[3],se=x[0],this.ctx.beginPath(),this.formatPath([new Jt(he.end.x,he.end.y),new Jt(se.start.x,se.start.y)]),this.ctx.stroke()),ss(x[1])&&(he=x[1],se=x[2],this.ctx.beginPath(),this.formatPath([new Jt(he.end.x,he.end.y),new Jt(se.start.x,se.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(a){return as(this,void 0,void 0,function(){var n;return Ln(this,function(c){switch(c.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=LS(a),[4,this.renderStack(n)];case 1:return c.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(k8);var GS=function(t){return t instanceof M8||t instanceof C8?!0:t instanceof c4&&t.type!==_g&&t.type!==mg},jS=function(t,e){switch(t){case 0:return bg(e);case 2:return ES(e);case 1:default:return yg(e)}},KS=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},$S=["-apple-system","system-ui"],qS=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return $S.indexOf(e)===-1}):t};(function(t){Ds(e,t);function e(a,n){var c=t.call(this,a,n)||this;return c.canvas=n.canvas?n.canvas:document.createElement("canvas"),c.ctx=c.canvas.getContext("2d"),c.options=n,c.canvas.width=Math.floor(n.width*n.scale),c.canvas.height=Math.floor(n.height*n.scale),c.canvas.style.width=n.width+"px",c.canvas.style.height=n.height+"px",c.ctx.scale(c.options.scale,c.options.scale),c.ctx.translate(-n.x,-n.y),c.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),c}return e.prototype.render=function(a){return as(this,void 0,void 0,function(){var n,c;return Ln(this,function(f){switch(f.label){case 0:return n=nm(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,a),[4,WS(n)];case 1:return c=f.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(c,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(k8);var WS=function(t){return new Promise(function(e,a){var n=new Image;n.onload=function(){e(n)},n.onerror=a,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})};typeof window<"u"&&IS.setContext(window);const JS=(t,e)=>{const[a,n,c,f]=e,h=t.lng,s=t.lat;return h>=a&&h<=c&&s>=n&&s<=f},eY=(t,e)=>{const[a,n,c,f]=t,[h,s,x,w]=e;return a<x&&c>h&&n<w&&f>s};var tY={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]};function iY(t,e,a){return t*(1-a)+e*a}var aY=iY,rv=tY,_1=aY,rY=nY;function nY(t){var e,a,n,c,f,h,s,x,E,w,I;if(t||(t={}),x=(t.nshades||72)-1,s=t.format||"hex",h=t.colormap,h||(h="jet"),typeof h=="string"){if(h=h.toLowerCase(),!rv[h])throw Error(h+" not a supported colorscale");f=rv[h]}else if(Array.isArray(h))f=h.slice();else throw Error("unsupported colormap option",h);if(f.length>x+1)throw new Error(h+" map requires nshades to be at least size "+f.length);Array.isArray(t.alpha)?t.alpha.length!==2?w=[1,1]:w=t.alpha.slice():typeof t.alpha=="number"?w=[t.alpha,t.alpha]:w=[1,1],e=f.map(function(D){return Math.round(D.index*x)}),w[0]=Math.min(Math.max(w[0],0),1),w[1]=Math.min(Math.max(w[1],0),1);var R=f.map(function(D,O){var H=f[O].index,$=f[O].rgb.slice();return $.length===4&&$[3]>=0&&$[3]<=1||($[3]=w[0]+(w[1]-w[0])*H),$}),E=[];for(I=0;I<e.length-1;++I){c=e[I+1]-e[I],a=R[I],n=R[I+1];for(var M=0;M<c;M++){var Y=M/c;E.push([Math.round(_1(a[0],n[0],Y)),Math.round(_1(a[1],n[1],Y)),Math.round(_1(a[2],n[2],Y)),_1(a[3],n[3],Y)])}}return E.push(f[f.length-1].rgb.concat(w[1])),s==="hex"?E=E.map(oY):s==="rgbaString"?E=E.map(lY):s==="float"&&(E=E.map(sY)),E}function sY(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function oY(t){for(var e,a="#",n=0;n<3;++n)e=t[n],e=e.toString(16),a+=("00"+e).substr(e.length);return a}function lY(t){return"rgba("+t.join(",")+")"}const AY=Lm(rY),LA=class LA{constructor(e=500){Ia(this,"cache");Ia(this,"cacheSizeLimit");Ia(this,"cacheOrder");this.cache=new Map,this.cacheSizeLimit=e,this.cacheOrder=[]}static getInstance(e=500){return LA.instance||(LA.instance=new LA(e)),LA.instance}async loadImage(e,a){try{const n=await fetch(e,{signal:a});if(!n.ok)throw new Error("Failed to fetch image");return await createImageBitmap(await n.blob())}catch(n){if(n instanceof Error&&n.name==="AbortError")throw n;return await createImageBitmap(new ImageData(1,1))}}async getAdjacentTilesWithImages(e,a,n,c,f){const h=[{position:"center",dx:0,dy:0},{position:"left",dx:-1,dy:0},{position:"right",dx:1,dy:0},{position:"top",dx:0,dy:-1},{position:"bottom",dx:0,dy:1}],s={};return await Promise.all(h.map(async({position:x,dx:w,dy:I})=>{const R=e+w,E=a+I,M=c.replace("{x}",R.toString()).replace("{y}",E.toString()).replace("{z}",n.toString()),Y=this.cache.has(M)?this.cache.get(M):await this.loadImage(M,f.signal);Y&&(this.add(M,Y),s[x]={tileId:M,image:Y})})),s}add(e,a){if(this.cacheOrder.length>=this.cacheSizeLimit){const c=this.cacheOrder.shift();c&&this.cache.delete(c)}this.cache.set(e,a);const n=this.cacheOrder.indexOf(e);n>-1&&this.cacheOrder.splice(n,1),this.cacheOrder.push(e)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}clear(){this.cache.clear(),this.cacheOrder=[]}};Ia(LA,"instance");let xg=LA;class cY{constructor(){Ia(this,"cache");this.cache=new Map}createColorArray(e){const a=`${e}`;if(this.has(a))return this.get(a);const n=256,c=new Uint8Array(n*3);let h=AY({colormap:e,nshades:n,format:"rgb",alpha:1}),s=0;for(let x=0;x<n;x++){const w=h[x];c[s++]=w[0],c[s++]=w[1],c[s++]=w[2]}return this.cache.set(a,c),c}add(e,a){this.cache.set(e,a)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}}const hY={elevation:{opacity:1,maxHeight:3776,minHeight:0},shadow:{opacity:.8,shadowColor:"#000000",highlightColor:"#00ff9d",ambient:.3,azimuth:0,altitude:30},edge:{opacity:.9,edgeIntensity:.4,edgeColor:"#ffffff"}};let uY=class{constructor(e){Ia(this,"worker");Ia(this,"pendingRequests");Ia(this,"tileCache");Ia(this,"colorMapCache");Ia(this,"handleMessage",e=>{const{id:a,buffer:n,error:c}=e.data,f=this.pendingRequests.get(a);c?(console.error(`Error processing tile ${a}:`,c),f&&(f.reject(new Error(c)),this.pendingRequests.delete(a))):f&&(f.resolve({data:n}),this.pendingRequests.delete(a))});this.worker=e,this.pendingRequests=new Map,this.tileCache=xg.getInstance(),this.colorMapCache=new cY,this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,a){const n=parseInt(e.searchParams.get("x")||"0",10),c=parseInt(e.searchParams.get("y")||"0",10),f=parseInt(e.searchParams.get("z")||"0",10),s=await this.tileCache.getAdjacentTilesWithImages(n,c,f,"https://cyberjapandata.gsi.go.jp/xyz/dem5a_png/{z}/{x}/{y}.png",a);return new Promise((x,w)=>{const I=s.center,R=I.tileId,E=s.left,M=s.right,Y=s.top,D=s.bottom;this.pendingRequests.set(R,{resolve:x,reject:w,controller:a});const O=this.colorMapCache.createColorArray("cool");this.worker.postMessage({tileId:R,center:I.image,left:E.image,right:M.image,top:Y.image,bottom:D.image,z:f,uniformsData:hY,elevationColorArray:O})})}handleError(e){console.error("Worker error:",e),this.pendingRequests.forEach(a=>{a.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()}cancelAllRequests(){this.pendingRequests.size>0&&this.pendingRequests.forEach(({reject:e,controller:a})=>{a.abort(),e(new Error("Request cancelled"))}),console.info("All requests have been cancelled."),this.pendingRequests.clear()}clearCache(){this.tileCache.clear()}};class dY{constructor(e){Ia(this,"workers",[]);Ia(this,"workerIndex",0);Ia(this,"poolSize");this.poolSize=e;for(let a=0;a<e;a++){const n=new Worker(new URL(""+new URL("../workers/worker-TVW-fspo.js",import.meta.url).href,import.meta.url),{type:"module"});this.workers.push(new uY(n))}}getNextWorker(){const e=this.workers[this.workerIndex];return this.workerIndex=(this.workerIndex+1)%this.poolSize,e}async request(e,a){return this.getNextWorker().request(e,a)}cancelAllRequests(){this.workers.forEach(e=>e.cancelAllRequests())}clearCache(){this.workers.forEach(e=>e.clearCache())}}const A3=new dY(2),fY=t=>({protocolName:t,request:(e,a)=>{const n=e.url.replace(`${t}://`,""),c=new URL(n);return A3.request(c,a)},cancelAllRequests:()=>A3.cancelAllRequests(),clearCache:()=>A3.clearCache()});function gY(t,e={}){const a=Number(t[0]),n=Number(t[1]),c=Number(t[2]),f=Number(t[3]);if(t.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");const h=[a,n];return eB([[h,[c,n],[c,f],[a,f],h]],e.properties,{bbox:t,id:e.id})}var lm=gY;let pY=class{constructor(e){Ia(this,"worker");Ia(this,"pendingRequests");Ia(this,"handleMessage",e=>{const{id:a,buffer:n,error:c}=e.data;if(c){const f=this.pendingRequests.get(a);f&&(f.resolve({data:new Uint8Array}),this.pendingRequests.delete(a))}else{const f=this.pendingRequests.get(a);f&&(f.resolve({data:n}),this.pendingRequests.delete(a))}});Ia(this,"handleError",e=>{console.error("Worker error:",e),this.pendingRequests.forEach(a=>{a.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()});this.worker=e,this.pendingRequests=new Map,this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,a){try{const n=parseInt(e.searchParams.get("x")||"0",10),c=parseInt(e.searchParams.get("y")||"0",10),f=parseInt(e.searchParams.get("z")||"0",10),h=Gb([n,c,f]),s=lm(h),w={type:"FeatureCollection",features:sM([n,c,f]).map(E=>{const[M,Y,D]=E,O=Gb([M,Y,D]);return{...lm(O),properties:{x:n,y:c,z:f,index:`${D}/${M}/${Y}`}}})};console.log(w);const{signal:I}=a,R=`${f}/${n}/${c}_tile_index`;return new Promise((E,M)=>{this.pendingRequests.set(R,{resolve:E,reject:M}),I.addEventListener("abort",()=>{this.pendingRequests.delete(R),M(new Error("Request aborted"))}),this.worker.postMessage({id:R,z:f,x:n,y:c,geojson:w})})}catch(n){return Promise.reject(n)}}};const mY=new Worker(new URL(""+new URL("../workers/worker-DfC3PjOV.js",import.meta.url).href,import.meta.url),{type:"module"}),_Y=new pY(mY),bY=t=>({protocolName:t,request:(e,a)=>{const n=e.url.replace(`${t}://`,"");console.log("urlWithoutProtocol",n);const c=new URL(n);return _Y.request(c,a)}}),yY={mapbox:0,gsi:1,terrarium:2},io=[{id:"dem_10b",name:" DEM10B",tiles:["https://cyberjapandata.gsi.go.jp/xyz/dem_png/{z}/{x}/{y}.png"],tileSize:256,minzoom:1,maxzoom:14,attribution:"",bbox:[122.935,20.425,153.986,45.551],demType:"gsi"},{id:"dem_5a",name:" DEM5A",tiles:["https://cyberjapandata.gsi.go.jp/xyz/dem5a_png/{z}/{x}/{y}.png"],tileSize:256,minzoom:1,maxzoom:15,attribution:"",bbox:[122.935,20.425,153.986,45.551],demType:"gsi"},{id:"dem_5b",name:" DEM5B",tiles:["https://cyberjapandata.gsi.go.jp/xyz/dem5b_png/{z}/{x}/{y}.png"],tileSize:256,minzoom:1,maxzoom:15,attribution:"",bbox:[122.935,20.425,153.986,45.551],demType:"gsi"},{id:"dem_5c",name:" DEM5C",tiles:["https://cyberjapandata.gsi.go.jp/xyz/dem5c_png/{z}/{x}/{y}.png"],tileSize:256,minzoom:1,maxzoom:15,attribution:"",bbox:[122.935,20.425,153.986,45.551],demType:"gsi"},{id:"tochigi_dem",name:" (DEM)0.5m",tiles:["https://rinya-tochigi.geospatial.jp/2023/rinya/tile/terrainRGB/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[139.326731,36.199924,140.291983,37.155039],attribution:"",demType:"mapbox"},{id:"kochi_dem",name:" (DEM)0.5m",tiles:["https://rinya-kochi.geospatial.jp/2023/rinya/tile/terrainRGB/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[132.479888,32.702505,134.31367,33.882997],attribution:"",demType:"mapbox"},{id:"hyougo_dem",name:" DEM 1m",tiles:["https://tiles.gsj.jp/tiles/elev/hyogodem/{z}/{y}/{x}.png"],tileSize:256,minzoom:2,maxzoom:17,bbox:[134.252809,34.156129,135.468591,35.674667],attribution:"",demType:"gsi"},{id:"hyougo_dsm",name:" DSM 1m",tiles:["https://tiles.gsj.jp/tiles/elev/hyogodsm/{z}/{y}/{x}.png"],tileSize:256,minzoom:2,maxzoom:17,bbox:[134.252809,34.156129,135.468591,35.674667],attribution:"",demType:"gsi"},{id:"tokyo",name:"",tiles:["https://tiles.gsj.jp/tiles/elev/tokyo/{z}/{y}/{x}.png"],tileSize:256,minzoom:2,maxzoom:19,bbox:[138.942922,32.440258,139.861054,35.898368],attribution:"",demType:"gsi"},{id:"kanagawa",name:"",tiles:["https://tiles.gsj.jp/tiles/elev/kanagawa/{z}/{y}/{x}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[138.9401382,35.1277755,139.7471238,35.6730819],attribution:"",demType:"gsi"},{id:"rinya_toyama_dem",name:" DEM",tiles:["https://forestgeo.info/opendata/16_toyama/dem_terrainRGB_2021/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[136.75028275928693,36.24106589467564,137.80860073361887,37.01815476882866],attribution:"",demType:"mapbox"},{id:"rinya_toyama_dchm",name:" dchm",tiles:["https://forestgeo.info/opendata/16_toyama/dchm_terrainRGB_2021/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[136.75028275928693,36.24106589467564,137.80860073361887,37.01815476882866],attribution:"",demType:"mapbox"},{id:"rinya_nagaoka_dem",name:" DEM 0.5m2024",tiles:["https://cf192141.cloudfree.jp/nagaoka/dem_terrainRGB_15_2024/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[138.4714917,37.145854,139.2533006,37.744387],attribution:"",demType:"mapbox"},{id:"rinya_nagaoka_dsm",name:" DCHM 0.5m2024",tiles:["https://cf192141.cloudfree.jp/nagaoka/dchm_terrainRGB_15_2024/{z}/{x}/{y}.png"],tileSize:256,minzoom:2,maxzoom:18,bbox:[138.4714917,37.145854,139.2533006,37.744387],attribution:"",demType:"mapbox"},{id:"astergdemv3",name:"ASTER3",tiles:["https://tiles.gsj.jp/tiles/elev/astergdemv3/{z}/{y}/{x}.png"],tileSize:256,minzoom:1,maxzoom:12,attribution:"",bbox:[-180,-85.051129,180,85.051129],demType:"gsi"},{id:"gebco",name:"GEBCO Grid",tiles:["https://tiles.gsj.jp/tiles/elev/gebco/{z}/{y}/{x}.png"],tileSize:256,minzoom:0,maxzoom:9,attribution:"",bbox:[-180,-85.051129,180,85.051129],demType:"gsi"},{id:"tilezen",name:"Tilezen Joerd",tiles:["https://s3.amazonaws.com/elevation-tiles-prod/terrarium/{z}/{x}/{y}.png"],tileSize:256,minzoom:0,maxzoom:15,attribution:'<a href="https://github.com/tilezen/joerd/blob/master/docs/attribution.md">Tilezen Joerd: Attribution</a>',bbox:[-180,-85.051129,180,85.051129],demType:"terrarium"},{id:"lakedepth",name:"",tiles:["https://cyberjapandata.gsi.go.jp/xyz/lakedepth/{z}/{x}/{y}.png"],tileSize:256,minzoom:1,maxzoom:14,attribution:"",bbox:[122.935,20.425,153.986,45.551],demType:"gsi"},{id:"gsigeoid",name:"2011",tiles:["https://tiles.gsj.jp/tiles/elev/gsigeoid/{z}/{y}/{x}.png"],tileSize:256,minzoom:0,maxzoom:8,attribution:"",bbox:[120,20,150,50],demType:"gsi"}],dr={name:io[0].name,demType:io[0].demType,url:io[0].tiles[0],sourceMaxZoom:io[0].maxzoom,sourceMinZoom:io[0].minzoom,attribution:io[0].attribution,bbox:io[0].bbox};class vY{constructor(e){Ia(this,"worker");Ia(this,"pendingRequests");Ia(this,"tileCache");Ia(this,"handleMessage",e=>{const{id:a,buffer:n,error:c}=e.data,f=this.pendingRequests.get(a);c?(console.error(`Error processing tile ${a}:`,c),f&&(f.reject(new Error(c)),this.pendingRequests.delete(a))):f?(f.resolve({data:n}),this.pendingRequests.delete(a)):console.warn(`No pending request found for tile ${a}`)});Ia(this,"handleError",e=>{console.error("Worker error:",e),this.pendingRequests.forEach(a=>{a.reject(new Error("Worker error occurred"))}),this.pendingRequests.clear()});Ia(this,"cancelAllRequests",()=>{this.pendingRequests.size>0&&this.pendingRequests.forEach(({reject:e,controller:a})=>{a.abort(),e(new Error("Request cancelled"))}),this.pendingRequests.clear()});this.worker=e,this.pendingRequests=new Map,this.tileCache=xg.getInstance(),this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)}async request(e,a){try{const n=dr.demType;let c;return this.tileCache.has(e)?c=this.tileCache.get(e):(c=await this.tileCache.loadImage(e,a.signal),this.tileCache.add(e,c)),new Promise((f,h)=>{const s=yY[n];this.pendingRequests.set(e,{resolve:f,reject:h,controller:a}),this.worker.postMessage({image:c,demTypeNumber:s,id:e}),a.signal.addEventListener("abort",()=>{this.pendingRequests.delete(e),h(new Error("Request aborted"))})})}catch(n){return Promise.reject(n)}}clearCache(){this.tileCache.clear()}}const xY=new Worker(new URL(""+new URL("../workers/worker-qG8lXCev.js",import.meta.url).href,import.meta.url),{type:"module"}),c3=new vY(xY),wY=t=>({protocolName:t,request:(e,a)=>{const n=e.url.replace(`${t}://`,"");return c3.request(n,a)},cancelAllRequests:()=>c3.cancelAllRequests(),clearCache:()=>c3.clearCache()}),u4=document.createElement("canvas");u4.width=512;u4.height=512;const BY=u4.getContext("webgl");BY||console.error("WebGL not supported");let Vd=null;const d4=new Worker(new URL(""+new URL("../workers/worker-Re_ZkM3K.js",import.meta.url).href,import.meta.url),{type:"module"});d4.onmessage=async t=>{const{imageBitmap:e,id:a}=t.data;Vd&&!Vd.hasImage(a)&&Vd.addImage(a,e,{pixelRatio:2})};d4.onerror=t=>{console.error("Worker error:",t)};const CY=async t=>{const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch image");const a=await e.blob();return await createImageBitmap(a)},MY=async(t,e)=>{if(!e)return;Vd=e;const a=t.id;if(!Vd.hasImage(a))try{const n=dg[a].image;if(!n)return;const c=await CY(n);d4.postMessage({id:a,image:c})}catch(n){console.error(`Error processing image for id ${a}:`,n)}},RY=new GC;Ps.addProtocol("pmtiles",RY.tile);const nv=fY("webgl");Ps.addProtocol(nv.protocolName,nv.request);const wg=wY("terrain");Ps.addProtocol(wg.protocolName,wg.request);const sv=bY("tile_index");Ps.addProtocol(sv.protocolName,sv.request);const IY=()=>{let t=null,e=null;const{subscribe:a,set:n}=yn(null),c=yn(null),f=yn(null),h=yn(null),s=yn(null),x=yn(null),w=yn(null),I=yn(!0),R=yn(null),E=yn(null),M=(_e,ve)=>{const He=jI(location.search);He&&He.debug&&He.debug==="1"&&rg.set(!0);const nt=KI();e=new Ps.Map({...nt,container:_e,style:ve,fadeDuration:50,attributionControl:!1,localIdeographFontFamily:!1,maxPitch:85}),Ho(rg)&&(e.showTileBoundaries=!0),w.set(ve),e&&(e.on("click",$e=>{c.set($e)}),e.on("data",function($e){I.set(!0)}),e.on("idle",function($e){I.set(!1)}),e.on("rotate",$e=>{if(!e)return;const Je=e.getBearing();s.set(Je)}),e.on("mousedown",$e=>{}),e.on("mouseup",$e=>{}),e.on("mouseover",$e=>{f.set($e)}),e.on("mouseout",$e=>{h.set($e)}),e.on("moveend",$e=>{if(!e)return;const Je=e.getCenter();$I({center:[Je.lng,Je.lat],zoom:e.getZoom(),pitch:e.getPitch(),bearing:e.getBearing()}),R.set($e)}),e.on("zoom",$e=>{if(!e)return;const Je=e.getZoom();x.set(Je)}),e.on("styleimagemissing",$e=>MY($e,e)),E.set(e))},Y=_e=>{e&&(w.set(_e),e.setStyle(_e))},D=(_e,ve)=>{e&&(t=new Ps.Marker({element:_e}).setLngLat(ve).addTo(e))},O=async()=>{if(!e)return;const _e=e.getCanvasContainer(),ve=_e.clientWidth,He=_e.clientHeight;return{canvas:_e,witdh:ve,height:He}},H=()=>{!e||!t||t.remove()},$=()=>{!e||!e.getTerrain()||setTimeout(()=>{e&&e.terrain.sourceCache.sourceCache.reload()},200)},Ae=(_e,ve)=>e==null?void 0:e.queryRenderedFeatures(_e,ve),ce=(_e,ve)=>{e&&e.panTo(_e,ve)},he=_e=>{e&&e.easeTo(_e)},se=async _e=>{if(e)if(_e.format.type==="fgb")try{const ve=Po.get(_e.id);if(!ve)return;const He=T3(ve);e.fitBounds(He,{bearing:e.getBearing(),padding:100,duration:500})}catch(ve){console.error(ve)}else if(_e.metaData.bounds)e.fitBounds(_e.metaData.bounds,{bearing:e.getBearing(),padding:100,duration:500});else if(_e.metaData.location){const ve=X3(_e.metaData.location);ve&&e.fitBounds(ve,{bearing:e.getBearing(),padding:100,duration:500})}else console.warn("",_e.id)},ae=async _e=>{if(!e)return;const ve=T3(_e.geometry);e.fitBounds(ve)},V=_e=>{if(!e)return;const ve="search_source",He={};He[ve]={type:"geojson",data:{type:"FeatureCollection",features:[_e]}},e.getSource(ve)&&e.removeSource(ve),e.addSource(ve,He[ve]);const nt="search_layer",$e=[],Je={id:nt,source:ve};switch(_e.geometry.type){case"Point":$e.push({...Je,type:"circle",paint:{"circle-radius":10,"circle-color":"#ff0000"}});break;case"LineString":case"MultiLineString":$e.push({...Je,type:"line",paint:{"line-width":5,"line-color":"#ff0000"}});break;case"Polygon":case"MultiPolygon":$e.push({...Je,type:"fill",paint:{"fill-color":"#ff0000","fill-opacity":.5}});break}e.addLayer($e[0])},J=()=>{if(!e)return;const{_sw:_e,_ne:ve}=e.getBounds();return{minX:_e.lng,minY:_e.lat,maxX:ve.lng,maxY:ve.lat}},ge=()=>{if(!e){console.warn("Map is not ready yet.");return}const _e=e.getStyle(),ve={..._e.sources},He=[..._e.layers];for(const nt of He)e.getLayer(nt.id)&&e.removeLayer(nt.id);for(const nt in ve)e.getSource(nt)&&e.removeSource(nt);for(const[nt,$e]of Object.entries(ve))e.addSource(nt,$e);for(const nt of He)e.addLayer(nt);Ho(Yl)&&e.setTerrain({source:"terrain",exaggeration:1})},le=()=>{if(!e)return;e.setTerrain(null),e.removeSource("terrain"),wg.cancelAllRequests(),e.addSource("terrain",{type:"raster-dem",tiles:[`${wg.protocolName}://${dr.url}?demType=${dr.demType}`],tileSize:256,minzoom:dr.sourceMinZoom,maxzoom:dr.sourceMaxZoom,attribution:dr.attribution,bounds:dr.bbox}),e.setTerrain({source:"terrain",exaggeration:1});const _e=dr.bbox;if(!_e)return;const ve=e.getBounds().toArray();e.getZoom(),eY(dr.bbox,[...ve[0],...ve[1]])||e.fitBounds(_e,{padding:100,duration:300,bearing:e.getBearing()}),ge(),$()};return{subscribe:a,init:M,setStyle:Y,addLockonMarker:D,removeLockonMarker:H,getLockonMarker:()=>t,getMap:()=>e,queryRenderedFeatures:Ae,getZoom:()=>e==null?void 0:e.getZoom(),getCenter:()=>e==null?void 0:e.getCenter(),getPitch:()=>e==null?void 0:e.getPitch(),getBearing:()=>e==null?void 0:e.getBearing(),setBearing:_e=>e==null?void 0:e.setBearing(_e),panTo:ce,easeTo:_e=>he(_e),addSearchFeature:V,focusLayer:se,focusFeature:ae,onSetStyle:w.subscribe,getTerrain:()=>e==null?void 0:e.getTerrain(),getBounds:J,onClick:c.subscribe,onMouseover:f.subscribe,onMouseout:h.subscribe,onRotate:s.subscribe,onZoom:x.subscribe,onMooveEnd:R.subscribe,onLoading:I.subscribe,onInitialized:E.subscribe,terrainReload:$,resetDem:le,resetAllSourcesAndLayers:ge,getMapContainer:O}},da=IY();var UY=(t,e)=>e(null),EY=ft('<div class="relative aspect-video w-full shrink-0 overflow-hidden rounded-md"><img class="block h-full w-full object-cover" crossOrigin="anonymous" alt=""></div>'),FY=ft('<a class="flex w-full items-center justify-start gap-2" target="_blank" rel="noopener noreferrer"><!> <span class="text-accent"> </span></a>'),TY=ft('<span class="my-2 text-base"> </span> <div class="w-hull bg-base h-[1px] rounded-full"></div>',1),SY=ft('<div class="bg-main w-side-menu absolute left-0 top-0 z-20 flex h-full flex-col gap-2 overflow-hidden px-2 pt-4"><div class="flex w-full cursor-pointer justify-between pb-2"><button class="bg-base mr-auto cursor-pointer rounded-full p-2"><!></button></div> <!> <div class="flex h-full flex-col gap-2"><div class="flex shrink-0 grow flex-col gap-1 text-base"><span class="text-[22px] font-bold"> </span> <span class="text-[14px] text-gray-300"> </span></div>  <div class="c-scroll flex h-full w-full grow flex-col overflow-y-auto overflow-x-hidden"><div class="flex h-full w-full flex-col gap-2"><div class="flex w-full items-center justify-start gap-2"><!> <span class="text-accent"> </span></div> <!> <div class="w-hull bg-base h-[1px] rounded-full"></div> <!></div> <div class="flex h-full w-full flex-col gap-2"><div class="my-4 text-base text-lg"></div> <!></div></div></div></div>');function YY(t,e){mi(e,!0);let a=si(e,"featureMenuData",15),n=$t("metadata"),c=ra(()=>a()?e.layerEntries.find(R=>a()&&R.id===a().layerId):null),f=ra(()=>a()&&a().properties?dg[a().properties._prop_id]:null),h=ra(()=>{if(a()){const I=e.layerEntries.find(R=>a()&&R.id===a().layerId);if(I&&I.type==="vector"&&q(f)&&q(f).image)return q(f).image}return null});Cr(()=>{if(a()){const I=da.getMap();if(!I)return;const R=I.getLayer(a().layerId);if(!R)return;R.type==="raster"||!a().properties||!a().properties._prop_id?st(n,"metadata"):st(n,"attributes")}}),Cr(()=>{a()&&a().properties&&a().properties._prop_id?st(n,"metadata"):st(n,"attributes")});var s=xi(),x=kt(s);{var w=I=>{var R=SY(),E=Le(R),M=Le(E);M.__click=[UY,a];var Y=Le(M);vi(Y,{icon:"ep:back",class:"text-main h-4 w-4"}),Ue(M),Ue(E);var D=Ze(E,2);{var O=Yt=>{var ot=EY(),mt=Le(ot);Ue(ot),di(()=>ja(mt,"src",q(h))),ba(3,mt,()=>As),Ve(Yt,ot)};It(D,Yt=>{q(h)&&Yt(O)})}var H=Ze(D,2),$=Le(H),Ae=Le($),ce=Le(Ae,!0);Ue(Ae);var he=Ze(Ae,2),se=Le(he,!0);Ue(he),Ue($);var ae=Ze($,2),V=Le(ae),J=Le(V),ge=Le(J);vi(ge,{icon:"lucide:map-pin",class:"h-6 w-6 text-base"});var le=Ze(ge,2),_e=Le(le);Ue(le),Ue(J);var ve=Ze(J,2);{var He=Yt=>{var ot=xi(),mt=kt(ot);{var je=Qe=>{var it=FY(),rt=Le(it);vi(rt,{icon:"mdi:web",class:"h-6 w-6 text-base"});var Bt=Ze(rt,2),yt=Le(Bt,!0);Ue(Bt),Ue(it),di(()=>{ja(it,"href",q(f).url),yi(yt,q(f).url)}),Ve(Qe,it)};It(mt,Qe=>{q(f).url&&Qe(je)})}Ve(Yt,ot)};It(ve,Yt=>{q(f)&&Yt(He)})}var nt=Ze(ve,4);{var $e=Yt=>{var ot=xi(),mt=kt(ot);{var je=Qe=>{var it=TY(),rt=kt(it),Bt=Le(rt,!0);Ue(rt),Ga(2),di(()=>yi(Bt,q(f).description)),Ve(Qe,it)};It(mt,Qe=>{q(f).description&&Qe(je)})}Ve(Yt,ot)};It(nt,Yt=>{q(f)&&Yt($e)})}Ue(V);var Je=Ze(V,2),gt=Ze(Le(Je),2);{var Rt=Yt=>{var ot=xi(),mt=kt(ot);Ea(mt,17,()=>Object.entries(a().properties),pr,(je,Qe)=>{let it=()=>q(Qe)[0],rt=()=>q(Qe)[1];var Bt=xi(),yt=kt(Bt);{var Dt=Ot=>{FI(Ot,{get key(){return it()},get value(){return rt()}})};It(yt,Ot=>{it()!=="_prop_id"&&rt()&&Ot(Dt)})}Ve(je,Bt)}),Ve(Yt,ot)};It(gt,Yt=>{a().properties&&Yt(Rt)})}Ue(Je),Ue(ae),Ue(H),Ue(R),di((Yt,ot,mt)=>{yi(ce,Yt),yi(se,q(c)&&q(c).metaData.name?q(c).metaData.name:""),yi(_e,`${ot??""}, ${mt??""}`)},[()=>{var Yt;return q(c)&&q(c).type==="vector"&&q(c).properties.titles.length&&a().properties?g6(a().properties,q(c).properties.titles):(Yt=q(c))==null?void 0:Yt.metaData.name},()=>a().point[0].toFixed(6),()=>a().point[1].toFixed(6)]),ba(3,R,()=>ds,()=>({duration:300,x:-100,opacity:0})),Ve(I,R)};It(x,I=>{a()&&I(w)})}Ve(t,s),_i()}$a(["click"]);const NY=[{key:"",name:"",url:"https://www.forest.ac.jp/"},{key:"",name:"",url:"https://maps.gsi.go.jp/development/ichiran.html"},{key:"",name:"",url:"https://www.forest.rd.pref.gifu.lg.jp/index.html"},{key:"",name:"",url:"https://map.ecoris.info/#contents"},{key:"",name:"",url:"https://gbank.gsj.jp/seamless/index.html?lang=ja&"},{key:"Q",name:"Q",url:"https://info.qchizu.xyz/qchizu/reprint/"},{key:"OSM",name:"&copy; OpenStreetMap contributors",url:"http://osm.org/copyright"},{key:"Esri",name:"Sources: Esri, HERE, Garmin, USGS, Intermap, INCREMENT P, NRCan, Esri Japan, METI, Esri China (Hong Kong), Esri Korea, Esri (Thailand), NGCC,  OpenStreetMap contributors, and the GIS User Community",url:""},{key:"",name:"",url:"https://www.owl-sys.com/"},{key:"",name:"",url:"https://www.rinya.maff.go.jp/index.html"},{key:"",name:"",url:"https://portal.data.metro.tokyo.lg.jp/"},{key:"",name:"",url:"https://www.biodic.go.jp"}],LY=new Map(NY.map(t=>[t.key,t]));var PY=ft('<a class="pointer-events-auto grid grow cursor-pointer select-none place-items-center rounded-full text-xs svelte-1vk0djk" target="_blank" rel="noopener noreferrer"><span> </span></a>'),QY=ft('<div class="pointer-events-none absolute bottom-[4px] right-0 z-10 flex w-full shrink-0 justify-end gap-2 text-nowrap px-2 text-white"><div class="flex gap-2"></div> <span class="grid place-items-center rounded-full"><!></span></div>');function kY(t,e){mi(e,!0);let a=$t(Jr([]));p6.subscribe(h=>{const s=h.map(x=>{const w=LY.get(x);if(w)return w}).filter(x=>x!==void 0);s.length>0&&st(a,s,!0)});var n=xi(),c=kt(n);{var f=h=>{var s=QY(),x=Le(s);Ea(x,21,()=>q(a),pr,(R,E)=>{var M=PY(),Y=Le(M),D=Le(Y,!0);Ue(Y),Ue(M),di(()=>{ja(M,"href",q(E).url),yi(D,q(E).name)}),Ve(R,M)}),Ue(x);var w=Ze(x,2),I=Le(w);vi(I,{icon:"lets-icons:info-alt-fill",class:"h-6 w-6"}),Ue(w),Ue(s),Ve(h,s)};It(c,h=>{q(a)&&h(f)})}Ve(t,n),_i()}var DY=ft('<div class="c-fog pointer-events-none absolute bottom-0 left-0 h-[90px] w-full svelte-1687nq9"><!></div>');function zY(t,e){var a=DY(),n=Le(a);kY(n,{}),Ue(a),Ve(t,a)}var ZY=ft('<div class="pointer-events-auto relative grid h-[50px] w-[50px] shrink-0 place-items-center overflow-hidden"><!></div>');function HY(t,e){mi(e,!1);let a=Wr(),n,c=Wr("");const f=w=>{const I=w[0];if(I.attributeName==="class"){const R=I.target;if(R.classList.contains("maplibregl-ctrl-geolocate-waiting")){st(c,"waiting");return}else if(R.classList.contains("maplibregl-ctrl-geolocate-active")||R.classList.contains("maplibregl-ctrl-geolocate-background")){st(c,"active");return}else if(R.classList.contains("maplibregl-ctrl-geolocate-error")||R.classList.contains("maplibregl-ctrl-geolocate-background-error")){st(c,"error");return}else st(c,"")}};Mr(()=>{da.onInitialized(w=>{if(w){const I=new Zg.GeolocateControl({positionOptions:{enableHighAccuracy:!0},fitBoundsOptions:{maxZoom:12},trackUserLocation:!0,showUserLocation:!0});q(a).appendChild(I.onAdd(w)),q(a)&&(n=new MutationObserver(f),n.observe(I._container.children[0],{attributes:!0,attributeFilter:["class"]})),I.on("geolocate",R=>{console.log("geolocate",R.coords)})}})}),Vo();var h=ZY(),s=Le(h);const x=r6(()=>q(c)==="waiting"?"css-rotate text-accent":q(c)==="active"?"text-accent":q(c)==="error"?"text-red-500":"text-base");vi(s,{icon:"streamline:location-target-1-solid",get class(){return`absolute h-6 w-6 ${q(x)??""}`}}),Ue(h),wn(h,w=>st(a,w),()=>q(a)),Ve(t,h),_i()}var OY=ft('<button class="grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center p-2"><!></button>');function XY(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(S3,"$showStreetViewLayer",a),f=()=>{S3.set(!c())};let h=$t(null);Mr(()=>{q(h)});var s=OY();s.__click=f;var x=Le(s);const w=ra(()=>c()?"text-accent":"text-base");vi(x,{icon:"fluent:video-360-20-regular",get class(){return`h-8 w-8 ${q(w)??""}`}}),Ue(s),wn(s,I=>st(h,I),()=>q(h)),Ve(t,s),_i(),n()}$a(["click"]);/*!
 * matrix 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ko,ZA,f4,np,Td,Z1,Bg,Gd,Ss="transform",Am=Ss+"Origin",D8,z8=function(e){var a=e.ownerDocument||e;for(!(Ss in e.style)&&("msTransform"in e.style)&&(Ss="msTransform",Am=Ss+"Origin");a.parentNode&&(a=a.parentNode););if(ZA=window,Bg=new VA,a){ko=a,f4=a.documentElement,np=a.body,Gd=ko.createElementNS("http://www.w3.org/2000/svg","g"),Gd.style.transform="none";var n=a.createElement("div"),c=a.createElement("div"),f=a&&(a.body||a.firstElementChild);f&&f.appendChild&&(f.appendChild(n),n.appendChild(c),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),D8=c.offsetParent!==n,f.removeChild(n))}return a},VY=function(e){for(var a,n;e&&e!==np;)n=e._gsap,n&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),a?a.push(n):a=[n]),e=e.parentNode;return a},Z8=[],H8=[],GY=function(){return ZA.pageYOffset||ko.scrollTop||f4.scrollTop||np.scrollTop||0},jY=function(){return ZA.pageXOffset||ko.scrollLeft||f4.scrollLeft||np.scrollLeft||0},g4=function(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},KY=function t(e){if(ZA.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return t(e)},h3=function t(e,a){if(e.parentNode&&(ko||z8(e))){var n=g4(e),c=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",f=n?a?"rect":"g":"div",h=a!==2?0:100,s=a===3?100:0,x="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",w=ko.createElementNS?ko.createElementNS(c.replace(/^https/,"http"),f):ko.createElement(f);return a&&(n?(Z1||(Z1=t(e)),w.setAttribute("width",.01),w.setAttribute("height",.01),w.setAttribute("transform","translate("+h+","+s+")"),Z1.appendChild(w)):(Td||(Td=t(e),Td.style.cssText=x),w.style.cssText=x+"width:0.1px;height:0.1px;top:"+s+"px;left:"+h+"px",Td.appendChild(w))),w}throw"Need document and parent."},$Y=function(e){for(var a=new VA,n=0;n<e.numberOfItems;n++)a.multiply(e.getItem(n).matrix);return a},qY=function(e){var a=e.getCTM(),n;return a||(n=e.style[Ss],e.style[Ss]="none",e.appendChild(Gd),a=Gd.getCTM(),e.removeChild(Gd),n?e.style[Ss]=n:e.style.removeProperty(Ss.replace(/([A-Z])/g,"-$1").toLowerCase())),a||Bg.clone()},WY=function(e,a){var n=g4(e),c=e===n,f=n?Z8:H8,h=e.parentNode,s,x,w,I,R,E;if(e===ZA)return e;if(f.length||f.push(h3(e,1),h3(e,2),h3(e,3)),s=n?Z1:Td,n)c?(w=qY(e),I=-w.e/w.a,R=-w.f/w.d,x=Bg):e.getBBox?(w=e.getBBox(),x=e.transform?e.transform.baseVal:{},x=x.numberOfItems?x.numberOfItems>1?$Y(x):x.getItem(0).matrix:Bg,I=x.a*w.x+x.c*w.y,R=x.b*w.x+x.d*w.y):(x=new VA,I=R=0),(c?n:h).appendChild(s),s.setAttribute("transform","matrix("+x.a+","+x.b+","+x.c+","+x.d+","+(x.e+I)+","+(x.f+R)+")");else{if(I=R=0,D8)for(x=e.offsetParent,w=e;w&&(w=w.parentNode)&&w!==x&&w.parentNode;)(ZA.getComputedStyle(w)[Ss]+"").length>4&&(I=w.offsetLeft,R=w.offsetTop,w=0);if(E=ZA.getComputedStyle(e),E.position!=="absolute"&&E.position!=="fixed")for(x=e.offsetParent;h&&h!==x;)I+=h.scrollLeft||0,R+=h.scrollTop||0,h=h.parentNode;w=s.style,w.top=e.offsetTop-R+"px",w.left=e.offsetLeft-I+"px",w[Ss]=E[Ss],w[Am]=E[Am],w.position=E.position==="fixed"?"fixed":"absolute",e.parentNode.appendChild(s)}return s},u3=function(e,a,n,c,f,h,s){return e.a=a,e.b=n,e.c=c,e.d=f,e.e=h,e.f=s,e},VA=function(){function t(a,n,c,f,h,s){a===void 0&&(a=1),n===void 0&&(n=0),c===void 0&&(c=0),f===void 0&&(f=1),h===void 0&&(h=0),s===void 0&&(s=0),u3(this,a,n,c,f,h,s)}var e=t.prototype;return e.inverse=function(){var n=this.a,c=this.b,f=this.c,h=this.d,s=this.e,x=this.f,w=n*h-c*f||1e-10;return u3(this,h/w,-c/w,-f/w,n/w,(f*x-h*s)/w,-(n*x-c*s)/w)},e.multiply=function(n){var c=this.a,f=this.b,h=this.c,s=this.d,x=this.e,w=this.f,I=n.a,R=n.c,E=n.b,M=n.d,Y=n.e,D=n.f;return u3(this,I*c+E*h,I*f+E*s,R*c+M*h,R*f+M*s,x+Y*c+D*h,w+Y*f+D*s)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(n){var c=this.a,f=this.b,h=this.c,s=this.d,x=this.e,w=this.f;return c===n.a&&f===n.b&&h===n.c&&s===n.d&&x===n.e&&w===n.f},e.apply=function(n,c){c===void 0&&(c={});var f=n.x,h=n.y,s=this.a,x=this.b,w=this.c,I=this.d,R=this.e,E=this.f;return c.x=f*s+h*w+R||0,c.y=f*x+h*I+E||0,c},t}();function YA(t,e,a,n){if(!t||!t.parentNode||(ko||z8(t)).documentElement===t)return new VA;var c=VY(t),f=g4(t),h=f?Z8:H8,s=WY(t),x=h[0].getBoundingClientRect(),w=h[1].getBoundingClientRect(),I=h[2].getBoundingClientRect(),R=s.parentNode,E=KY(t),M=new VA((w.left-x.left)/100,(w.top-x.top)/100,(I.left-x.left)/100,(I.top-x.top)/100,x.left+(E?0:jY()),x.top+(E?0:GY()));if(R.removeChild(s),c)for(x=c.length;x--;)w=c[x],w.scaleX=w.scaleY=0,w.renderTransform(1,w);return e?M.inverse():M}function ov(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ki,Ca,Hn,Ns,Do,d3,So,cm,Sd,Tl,O8,hm,c0,p4,Yd,Us,Nd,H1,X8,um,Cg=0,V8=function(){return typeof window<"u"},G8=function(){return Ki||V8()&&(Ki=window.gsap)&&Ki.registerPlugin&&Ki},Ml=function(e){return typeof e=="function"},jd=function(e){return typeof e=="object"},Ts=function(e){return typeof e>"u"},O1=function(){return!1},Kd="transform",dm="transformOrigin",yl=function(e){return Math.round(e*1e4)/1e4},pd=Array.isArray,b1=function(e,a){var n=Hn.createElementNS?Hn.createElementNS("http://www.w3.org/1999/xhtml".replace(/^https/,"http"),e):Hn.createElement(e);return n.style?n:Hn.createElement(e)},lv=180/Math.PI,ih=1e20,eN=new VA,vl=Date.now||function(){return new Date().getTime()},HA=[],_h={},tN=0,iN=/^(?:a|input|textarea|button|select)$/i,Av=0,ah={},Fo={},j8=function(e,a){var n={},c;for(c in e)n[c]=a?e[c]*a:e[c];return n},aN=function(e,a){for(var n in a)n in e||(e[n]=a[n]);return e},cv=function t(e,a){for(var n=e.length,c;n--;)a?e[n].style.touchAction=a:e[n].style.removeProperty("touch-action"),c=e[n].children,c&&c.length&&t(c,a)},K8=function(){return HA.forEach(function(e){return e()})},rN=function(e){HA.push(e),HA.length===1&&Ki.ticker.add(K8)},hv=function(){return!HA.length&&Ki.ticker.remove(K8)},uv=function(e){for(var a=HA.length;a--;)HA[a]===e&&HA.splice(a,1);Ki.to(hv,{overwrite:!0,delay:15,duration:0,onComplete:hv,data:"_draggable"})},nN=function(e,a){for(var n in a)n in e||(e[n]=a[n]);return e},wr=function(e,a,n,c){if(e.addEventListener){var f=c0[a];c=c||(O8?{passive:!1}:null),e.addEventListener(f||a,n,c),f&&a!==f&&e.addEventListener(a,n,c)}},ur=function(e,a,n,c){if(e.removeEventListener){var f=c0[a];e.removeEventListener(f||a,n,c),f&&a!==f&&e.removeEventListener(a,n,c)}},es=function(e){e.preventDefault&&e.preventDefault(),e.preventManipulation&&e.preventManipulation()},sN=function(e,a){for(var n=e.length;n--;)if(e[n].identifier===a)return!0},oN=function t(e){p4=e.touches&&Cg<e.touches.length,ur(e.target,"touchend",t)},dv=function(e){p4=e.touches&&Cg<e.touches.length,wr(e.target,"touchend",oN)},bh=function(e){return Ca.pageYOffset||e.scrollTop||e.documentElement.scrollTop||e.body.scrollTop||0},yh=function(e){return Ca.pageXOffset||e.scrollLeft||e.documentElement.scrollLeft||e.body.scrollLeft||0},fv=function t(e,a){wr(e,"scroll",a),Eh(e.parentNode)||t(e.parentNode,a)},gv=function t(e,a){ur(e,"scroll",a),Eh(e.parentNode)||t(e.parentNode,a)},Eh=function(e){return!e||e===Ns||e.nodeType===9||e===Hn.body||e===Ca||!e.nodeType||!e.parentNode},pv=function(e,a){var n=a==="x"?"Width":"Height",c="scroll"+n,f="client"+n;return Math.max(0,Eh(e)?Math.max(Ns[c],Do[c])-(Ca["inner"+n]||Ns[f]||Do[f]):e[c]-e[f])},f3=function t(e,a){var n=pv(e,"x"),c=pv(e,"y");Eh(e)?e=Fo:t(e.parentNode,a),e._gsMaxScrollX=n,e._gsMaxScrollY=c,a||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},g3=function(e,a,n){var c=e.style;c&&(Ts(c[a])&&(a=Sd(a,e)||a),n==null?c.removeProperty&&c.removeProperty(a.replace(/([A-Z])/g,"-$1").toLowerCase()):c[a]=n)},h0=function(e){return Ca.getComputedStyle(e instanceof Element?e:e.host||(e.parentNode||{}).host||e)},FA={},rh=function(e){if(e===Ca)return FA.left=FA.top=0,FA.width=FA.right=Ns.clientWidth||e.innerWidth||Do.clientWidth||0,FA.height=FA.bottom=(e.innerHeight||0)-20<Ns.clientHeight?Ns.clientHeight:e.innerHeight||Do.clientHeight||0,FA;var a=e.ownerDocument||Hn,n=Ts(e.pageX)?!e.nodeType&&!Ts(e.left)&&!Ts(e.top)?e:Tl(e)[0].getBoundingClientRect():{left:e.pageX-yh(a),top:e.pageY-bh(a),right:e.pageX-yh(a)+1,bottom:e.pageY-bh(a)+1};return Ts(n.right)&&!Ts(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):Ts(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n},ir=function(e,a,n){var c=e.vars,f=c[n],h=e._listeners[a],s;return Ml(f)&&(s=f.apply(c.callbackScope||e,c[n+"Params"]||[e.pointerEvent])),h&&e.dispatchEvent(a)===!1&&(s=!1),s},mv=function(e,a){var n=Tl(e)[0],c,f,h;return!n.nodeType&&n!==Ca?Ts(e.left)?(f=e.min||e.minX||e.minRotation||0,c=e.min||e.minY||0,{left:f,top:c,width:(e.max||e.maxX||e.maxRotation||0)-f,height:(e.max||e.maxY||0)-c}):(h={x:0,y:0},{left:e.left-h.x,top:e.top-h.y,width:e.width,height:e.height}):lN(n,a)},ts={},lN=function(e,a){a=Tl(a)[0];var n=e.getBBox&&e.ownerSVGElement,c=e.ownerDocument||Hn,f,h,s,x,w,I,R,E,M,Y,D,O,H;if(e===Ca)s=bh(c),f=yh(c),h=f+(c.documentElement.clientWidth||e.innerWidth||c.body.clientWidth||0),x=s+((e.innerHeight||0)-20<c.documentElement.clientHeight?c.documentElement.clientHeight:e.innerHeight||c.body.clientHeight||0);else{if(a===Ca||Ts(a))return e.getBoundingClientRect();f=s=0,n?(Y=e.getBBox(),D=Y.width,O=Y.height):(e.viewBox&&(Y=e.viewBox.baseVal)&&(f=Y.x||0,s=Y.y||0,D=Y.width,O=Y.height),D||(H=h0(e),Y=H.boxSizing==="border-box",D=(parseFloat(H.width)||e.clientWidth||0)+(Y?0:parseFloat(H.borderLeftWidth)+parseFloat(H.borderRightWidth)),O=(parseFloat(H.height)||e.clientHeight||0)+(Y?0:parseFloat(H.borderTopWidth)+parseFloat(H.borderBottomWidth)))),h=D,x=O}return e===a?{left:f,top:s,width:h-f,height:x-s}:(w=YA(a,!0).multiply(YA(e)),I=w.apply({x:f,y:s}),R=w.apply({x:h,y:s}),E=w.apply({x:h,y:x}),M=w.apply({x:f,y:x}),f=Math.min(I.x,R.x,E.x,M.x),s=Math.min(I.y,R.y,E.y,M.y),{left:f,top:s,width:Math.max(I.x,R.x,E.x,M.x)-f,height:Math.max(I.y,R.y,E.y,M.y)-s})},p3=function(e,a,n,c,f,h){var s={},x,w,I;if(a)if(f!==1&&a instanceof Array){if(s.end=x=[],I=a.length,jd(a[0]))for(w=0;w<I;w++)x[w]=j8(a[w],f);else for(w=0;w<I;w++)x[w]=a[w]*f;n+=1.1,c-=1.1}else Ml(a)?s.end=function(R){var E=a.call(e,R),M,Y;if(f!==1)if(jd(E)){M={};for(Y in E)M[Y]=E[Y]*f;E=M}else E*=f;return E}:s.end=a;return(n||n===0)&&(s.max=n),(c||c===0)&&(s.min=c),h&&(s.velocity=0),s},AN=function t(e){var a;return!e||!e.getAttribute||e===Do?!1:(a=e.getAttribute("data-clickable"))==="true"||a!=="false"&&(iN.test(e.nodeName+"")||e.getAttribute("contentEditable")==="true")?!0:t(e.parentNode)},y1=function(e,a){for(var n=e.length,c;n--;)c=e[n],c.ondragstart=c.onselectstart=a?null:O1,Ki.set(c,{lazy:!0,userSelect:a?"text":"none"})},cN=function t(e){if(h0(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return t(e)},$8,fm,hN=function(e,a){e=Ki.utils.toArray(e)[0],a=a||{};var n=document.createElement("div"),c=n.style,f=e.firstChild,h=0,s=0,x=e.scrollTop,w=e.scrollLeft,I=e.scrollWidth,R=e.scrollHeight,E=0,M=0,Y=0,D,O,H,$,Ae,ce;$8&&a.force3D!==!1?(Ae="translate3d(",ce="px,0px)"):Kd&&(Ae="translate(",ce="px)"),this.scrollTop=function(he,se){if(!arguments.length)return-this.top();this.top(-he,se)},this.scrollLeft=function(he,se){if(!arguments.length)return-this.left();this.left(-he,se)},this.left=function(he,se){if(!arguments.length)return-(e.scrollLeft+s);var ae=e.scrollLeft-w,V=s;if((ae>2||ae<-2)&&!se){w=e.scrollLeft,Ki.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-w),a.onKill&&a.onKill();return}he=-he,he<0?(s=he-.5|0,he=0):he>M?(s=he-M|0,he=M):s=0,(s||V)&&(this._skip||(c[Kd]=Ae+-s+"px,"+-h+ce),s+E>=0&&(c.paddingRight=s+E+"px")),e.scrollLeft=he|0,w=e.scrollLeft},this.top=function(he,se){if(!arguments.length)return-(e.scrollTop+h);var ae=e.scrollTop-x,V=h;if((ae>2||ae<-2)&&!se){x=e.scrollTop,Ki.killTweensOf(this,{top:1,scrollTop:1}),this.top(-x),a.onKill&&a.onKill();return}he=-he,he<0?(h=he-.5|0,he=0):he>Y?(h=he-Y|0,he=Y):h=0,(h||V)&&(this._skip||(c[Kd]=Ae+-s+"px,"+-h+ce)),e.scrollTop=he|0,x=e.scrollTop},this.maxScrollTop=function(){return Y},this.maxScrollLeft=function(){return M},this.disable=function(){for(f=n.firstChild;f;)$=f.nextSibling,e.appendChild(f),f=$;e===n.parentNode&&e.removeChild(n)},this.enable=function(){if(f=e.firstChild,f!==n){for(;f;)$=f.nextSibling,n.appendChild(f),f=$;e.appendChild(n),this.calibrate()}},this.calibrate=function(he){var se=e.clientWidth===D,ae,V,J;x=e.scrollTop,w=e.scrollLeft,!(se&&e.clientHeight===O&&n.offsetHeight===H&&I===e.scrollWidth&&R===e.scrollHeight&&!he)&&((h||s)&&(V=this.left(),J=this.top(),this.left(-e.scrollLeft),this.top(-e.scrollTop)),ae=h0(e),(!se||he)&&(c.display="block",c.width="auto",c.paddingRight="0px",E=Math.max(0,e.scrollWidth-e.clientWidth),E&&(E+=parseFloat(ae.paddingLeft)+(fm?parseFloat(ae.paddingRight):0))),c.display="inline-block",c.position="relative",c.overflow="visible",c.verticalAlign="top",c.boxSizing="content-box",c.width="100%",c.paddingRight=E+"px",fm&&(c.paddingBottom=ae.paddingBottom),D=e.clientWidth,O=e.clientHeight,I=e.scrollWidth,R=e.scrollHeight,M=e.scrollWidth-D,Y=e.scrollHeight-O,H=n.offsetHeight,c.display="block",(V||J)&&(this.left(V),this.top(J)))},this.content=n,this.element=e,this._skip=!1,this.enable()},m3=function(e){if(V8()&&document.body){var a=window&&window.navigator;Ca=window,Hn=document,Ns=Hn.documentElement,Do=Hn.body,d3=b1("div"),H1=!!window.PointerEvent,So=b1("div"),So.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",Nd=So.style.cursor==="grab"?"grab":"move",Yd=a&&a.userAgent.toLowerCase().indexOf("android")!==-1,hm="ontouchstart"in Ns&&"orientation"in Ca||a&&(a.MaxTouchPoints>0||a.msMaxTouchPoints>0),fm=function(){var n=b1("div"),c=b1("div"),f=c.style,h=Do,s;return f.display="inline-block",f.position="relative",n.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",n.appendChild(c),h.appendChild(n),s=c.offsetHeight+18>n.scrollHeight,h.removeChild(n),s}(),c0=function(n){for(var c=n.split(","),f=("onpointerdown"in d3?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in d3?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":n).split(","),h={},s=4;--s>-1;)h[c[s]]=f[s],h[f[s]]=c[s];try{Ns.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){O8=1}}))}catch{}return h}("touchstart,touchmove,touchend,touchcancel"),wr(Hn,"touchcancel",O1),wr(Ca,"touchmove",O1),Do&&Do.addEventListener("touchstart",O1),wr(Hn,"contextmenu",function(){for(var n in _h)_h[n].isPressed&&_h[n].endDrag()}),Ki=cm=G8()}Ki?(Us=Ki.plugins.inertia,X8=Ki.core.context||function(){},Sd=Ki.utils.checkPrefix,Kd=Sd(Kd),dm=Sd(dm),Tl=Ki.utils.toArray,um=Ki.core.getStyleSaver,$8=!!Sd("perspective")):e&&console.warn("Please gsap.registerPlugin(Draggable)")},uN=function(){function t(a){this._listeners={},this.target=a||this}var e=t.prototype;return e.addEventListener=function(n,c){var f=this._listeners[n]||(this._listeners[n]=[]);~f.indexOf(c)||f.push(c)},e.removeEventListener=function(n,c){var f=this._listeners[n],h=f&&f.indexOf(c);h>=0&&f.splice(h,1)},e.dispatchEvent=function(n){var c=this,f;return(this._listeners[n]||[]).forEach(function(h){return h.call(c,{type:n,target:c.target})===!1&&(f=!1)}),f},t}(),Fh=function(t){JY(e,t);function e(a,n){var c;c=t.call(this)||this,cm||m3(1),a=Tl(a)[0],c.styles=um&&um(a,"transform,left,top"),Us||(Us=Ki.plugins.inertia),c.vars=n=j8(n||{}),c.target=a,c.x=c.y=c.rotation=0,c.dragResistance=parseFloat(n.dragResistance)||0,c.edgeResistance=isNaN(n.edgeResistance)?1:parseFloat(n.edgeResistance)||0,c.lockAxis=n.lockAxis,c.autoScroll=n.autoScroll||0,c.lockedAxis=null,c.allowEventDefault=!!n.allowEventDefault,Ki.getProperty(a,"x");var f=(n.type||"x,y").toLowerCase(),h=~f.indexOf("x")||~f.indexOf("y"),s=f.indexOf("rotation")!==-1,x=s?"rotation":h?"x":"left",w=h?"y":"top",I=!!(~f.indexOf("x")||~f.indexOf("left")||f==="scroll"),R=!!(~f.indexOf("y")||~f.indexOf("top")||f==="scroll"),E=n.minimumMovement||2,M=ov(c),Y=Tl(n.trigger||n.handle||a),D={},O=0,H=!1,$=n.autoScrollMarginTop||40,Ae=n.autoScrollMarginRight||40,ce=n.autoScrollMarginBottom||40,he=n.autoScrollMarginLeft||40,se=n.clickableTest||AN,ae=0,V=a._gsap||Ki.core.getCache(a),J=cN(a),ge=function(ne,Se){return parseFloat(V.get(a,ne,Se))},le=a.ownerDocument||Hn,_e,ve,He,nt,$e,Je,gt,Rt,Yt,ot,mt,je,Qe,it,rt,Bt,yt,Dt,Ot,Ct,Qt,ui,Nt,Zt,oi,fi,Kt,pt,ci,qi,Si,fa,Ri,ea=function(ne){return es(ne),ne.stopImmediatePropagation&&ne.stopImmediatePropagation(),!1},wi=function Te(ne){if(M.autoScroll&&M.isDragging&&(H||yt)){var Se=a,Ee=M.autoScroll*15,Oe,ut,wt,Xe,_t,Wt,ei,ai;for(H=!1,Fo.scrollTop=Ca.pageYOffset!=null?Ca.pageYOffset:le.documentElement.scrollTop!=null?le.documentElement.scrollTop:le.body.scrollTop,Fo.scrollLeft=Ca.pageXOffset!=null?Ca.pageXOffset:le.documentElement.scrollLeft!=null?le.documentElement.scrollLeft:le.body.scrollLeft,Xe=M.pointerX-Fo.scrollLeft,_t=M.pointerY-Fo.scrollTop;Se&&!ut;)ut=Eh(Se.parentNode),Oe=ut?Fo:Se.parentNode,wt=ut?{bottom:Math.max(Ns.clientHeight,Ca.innerHeight||0),right:Math.max(Ns.clientWidth,Ca.innerWidth||0),left:0,top:0}:Oe.getBoundingClientRect(),Wt=ei=0,R&&(ai=Oe._gsMaxScrollY-Oe.scrollTop,ai<0?ei=ai:_t>wt.bottom-ce&&ai?(H=!0,ei=Math.min(ai,Ee*(1-Math.max(0,wt.bottom-_t)/ce)|0)):_t<wt.top+$&&Oe.scrollTop&&(H=!0,ei=-Math.min(Oe.scrollTop,Ee*(1-Math.max(0,_t-wt.top)/$)|0)),ei&&(Oe.scrollTop+=ei)),I&&(ai=Oe._gsMaxScrollX-Oe.scrollLeft,ai<0?Wt=ai:Xe>wt.right-Ae&&ai?(H=!0,Wt=Math.min(ai,Ee*(1-Math.max(0,wt.right-Xe)/Ae)|0)):Xe<wt.left+he&&Oe.scrollLeft&&(H=!0,Wt=-Math.min(Oe.scrollLeft,Ee*(1-Math.max(0,Xe-wt.left)/he)|0)),Wt&&(Oe.scrollLeft+=Wt)),ut&&(Wt||ei)&&(Ca.scrollTo(Oe.scrollLeft,Oe.scrollTop),oe(M.pointerX+Wt,M.pointerY+ei)),Se=Oe}if(yt){var tt=M.x,Tt=M.y;s?(M.deltaX=tt-parseFloat(V.rotation),M.rotation=tt,V.rotation=tt+"deg",V.renderTransform(1,V)):ve?(R&&(M.deltaY=Tt-ve.top(),ve.top(Tt)),I&&(M.deltaX=tt-ve.left(),ve.left(tt))):h?(R&&(M.deltaY=Tt-parseFloat(V.y),V.y=Tt+"px"),I&&(M.deltaX=tt-parseFloat(V.x),V.x=tt+"px"),V.renderTransform(1,V)):(R&&(M.deltaY=Tt-parseFloat(a.style.top||0),a.style.top=Tt+"px"),I&&(M.deltaX=tt-parseFloat(a.style.left||0),a.style.left=tt+"px")),Rt&&!ne&&!pt&&(pt=!0,ir(M,"drag","onDrag")===!1&&(I&&(M.x-=M.deltaX),R&&(M.y-=M.deltaY),Te(!0)),pt=!1)}yt=!1},ji=function(ne,Se){var Ee=M.x,Oe=M.y,ut,wt;a._gsap||(V=Ki.core.getCache(a)),V.uncache&&Ki.getProperty(a,"x"),h?(M.x=parseFloat(V.x),M.y=parseFloat(V.y)):s?M.x=M.rotation=parseFloat(V.rotation):ve?(M.y=ve.top(),M.x=ve.left()):(M.y=parseFloat(a.style.top||(wt=h0(a))&&wt.top)||0,M.x=parseFloat(a.style.left||(wt||{}).left)||0),(Ot||Ct||Qt)&&!Se&&(M.isDragging||M.isThrowing)&&(Qt&&(ah.x=M.x,ah.y=M.y,ut=Qt(ah),ut.x!==M.x&&(M.x=ut.x,yt=!0),ut.y!==M.y&&(M.y=ut.y,yt=!0)),Ot&&(ut=Ot(M.x),ut!==M.x&&(M.x=ut,s&&(M.rotation=ut),yt=!0)),Ct&&(ut=Ct(M.y),ut!==M.y&&(M.y=ut),yt=!0)),yt&&wi(!0),ne||(M.deltaX=M.x-Ee,M.deltaY=M.y-Oe,ir(M,"throwupdate","onThrowUpdate"))},ha=function(ne,Se,Ee,Oe){return Se==null&&(Se=-1e20),Ee==null&&(Ee=ih),Ml(ne)?function(ut){var wt=M.isPressed?1-M.edgeResistance:1;return ne.call(M,(ut>Ee?Ee+(ut-Ee)*wt:ut<Se?Se+(ut-Se)*wt:ut)*Oe)*Oe}:pd(ne)?function(ut){for(var wt=ne.length,Xe=0,_t=ih,Wt,ei;--wt>-1;)Wt=ne[wt],ei=Wt-ut,ei<0&&(ei=-ei),ei<_t&&Wt>=Se&&Wt<=Ee&&(Xe=wt,_t=ei);return ne[Xe]}:isNaN(ne)?function(ut){return ut}:function(){return ne*Oe}},Rr=function(ne,Se,Ee,Oe,ut,wt,Xe){return wt=wt&&wt<ih?wt*wt:ih,Ml(ne)?function(_t){var Wt=M.isPressed?1-M.edgeResistance:1,ei=_t.x,ai=_t.y,tt,Tt,Ht;return _t.x=ei=ei>Ee?Ee+(ei-Ee)*Wt:ei<Se?Se+(ei-Se)*Wt:ei,_t.y=ai=ai>ut?ut+(ai-ut)*Wt:ai<Oe?Oe+(ai-Oe)*Wt:ai,tt=ne.call(M,_t),tt!==_t&&(_t.x=tt.x,_t.y=tt.y),Xe!==1&&(_t.x*=Xe,_t.y*=Xe),wt<ih&&(Tt=_t.x-ei,Ht=_t.y-ai,Tt*Tt+Ht*Ht>wt&&(_t.x=ei,_t.y=ai)),_t}:pd(ne)?function(_t){for(var Wt=ne.length,ei=0,ai=ih,tt,Tt,Ht,ta;--Wt>-1;)Ht=ne[Wt],tt=Ht.x-_t.x,Tt=Ht.y-_t.y,ta=tt*tt+Tt*Tt,ta<ai&&(ei=Wt,ai=ta);return ai<=wt?ne[ei]:_t}:function(_t){return _t}},Ha=function(){var ne,Se,Ee,Oe;gt=!1,ve?(ve.calibrate(),M.minX=mt=-ve.maxScrollLeft(),M.minY=Qe=-ve.maxScrollTop(),M.maxX=ot=M.maxY=je=0,gt=!0):n.bounds&&(ne=mv(n.bounds,a.parentNode),s?(M.minX=mt=ne.left,M.maxX=ot=ne.left+ne.width,M.minY=Qe=M.maxY=je=0):!Ts(n.bounds.maxX)||!Ts(n.bounds.maxY)?(ne=n.bounds,M.minX=mt=ne.minX,M.minY=Qe=ne.minY,M.maxX=ot=ne.maxX,M.maxY=je=ne.maxY):(Se=mv(a,a.parentNode),M.minX=mt=Math.round(ge(x,"px")+ne.left-Se.left),M.minY=Qe=Math.round(ge(w,"px")+ne.top-Se.top),M.maxX=ot=Math.round(mt+(ne.width-Se.width)),M.maxY=je=Math.round(Qe+(ne.height-Se.height))),mt>ot&&(M.minX=ot,M.maxX=ot=mt,mt=M.minX),Qe>je&&(M.minY=je,M.maxY=je=Qe,Qe=M.minY),s&&(M.minRotation=mt,M.maxRotation=ot),gt=!0),n.liveSnap&&(Ee=n.liveSnap===!0?n.snap||{}:n.liveSnap,Oe=pd(Ee)||Ml(Ee),s?(Ot=ha(Oe?Ee:Ee.rotation,mt,ot,1),Ct=null):Ee.points?Qt=Rr(Oe?Ee:Ee.points,mt,ot,Qe,je,Ee.radius,ve?-1:1):(I&&(Ot=ha(Oe?Ee:Ee.x||Ee.left||Ee.scrollLeft,mt,ot,ve?-1:1)),R&&(Ct=ha(Oe?Ee:Ee.y||Ee.top||Ee.scrollTop,Qe,je,ve?-1:1))))},Oa=function(){M.isThrowing=!1,ir(M,"throwcomplete","onThrowComplete")},sa=function(){M.isThrowing=!1},na=function(ne,Se){var Ee,Oe,ut,wt;ne&&Us?(ne===!0&&(Ee=n.snap||n.liveSnap||{},Oe=pd(Ee)||Ml(Ee),ne={resistance:(n.throwResistance||n.resistance||1e3)/(s?10:1)},s?ne.rotation=p3(M,Oe?Ee:Ee.rotation,ot,mt,1,Se):(I&&(ne[x]=p3(M,Oe?Ee:Ee.points||Ee.x||Ee.left,ot,mt,ve?-1:1,Se||M.lockedAxis==="x")),R&&(ne[w]=p3(M,Oe?Ee:Ee.points||Ee.y||Ee.top,je,Qe,ve?-1:1,Se||M.lockedAxis==="y")),(Ee.points||pd(Ee)&&jd(Ee[0]))&&(ne.linkedProps=x+","+w,ne.radius=Ee.radius))),M.isThrowing=!0,wt=isNaN(n.overshootTolerance)?n.edgeResistance===1?0:1-M.edgeResistance+.2:n.overshootTolerance,ne.duration||(ne.duration={max:Math.max(n.minDuration||0,"maxDuration"in n?n.maxDuration:2),min:isNaN(n.minDuration)?wt===0||jd(ne)&&ne.resistance>1e3?0:.5:n.minDuration,overshoot:wt}),M.tween=ut=Ki.to(ve||a,{inertia:ne,data:"_draggable",inherit:!1,onComplete:Oa,onInterrupt:sa,onUpdate:n.fastMode?ir:ji,onUpdateParams:n.fastMode?[M,"onthrowupdate","onThrowUpdate"]:Ee&&Ee.radius?[!1,!0]:[]}),n.fastMode||(ve&&(ve._skip=!0),ut.render(1e9,!0,!0),ji(!0,!0),M.endX=M.x,M.endY=M.y,s&&(M.endRotation=M.x),ut.play(0),ji(!0,!0),ve&&(ve._skip=!1))):gt&&M.applyBounds()},va=function(ne){var Se=Zt,Ee;Zt=YA(a.parentNode,!0),ne&&M.isPressed&&!Zt.equals(Se||new VA)&&(Ee=Se.inverse().apply({x:He,y:nt}),Zt.apply(Ee,Ee),He=Ee.x,nt=Ee.y),Zt.equals(eN)&&(Zt=null)},ze=function(){var ne=1-M.edgeResistance,Se=J?yh(le):0,Ee=J?bh(le):0,Oe,ut,wt;h&&(V.x=ge(x,"px")+"px",V.y=ge(w,"px")+"px",V.renderTransform()),va(!1),ts.x=M.pointerX-Se,ts.y=M.pointerY-Ee,Zt&&Zt.apply(ts,ts),He=ts.x,nt=ts.y,yt&&(oe(M.pointerX,M.pointerY),wi(!0)),fa=YA(a),ve?(Ha(),Je=ve.top(),$e=ve.left()):(ie()?(ji(!0,!0),Ha()):M.applyBounds(),s?(Oe=a.ownerSVGElement?[V.xOrigin-a.getBBox().x,V.yOrigin-a.getBBox().y]:(h0(a)[dm]||"0 0").split(" "),Bt=M.rotationOrigin=YA(a).apply({x:parseFloat(Oe[0])||0,y:parseFloat(Oe[1])||0}),ji(!0,!0),ut=M.pointerX-Bt.x-Se,wt=Bt.y-M.pointerY+Ee,$e=M.x,Je=M.y=Math.atan2(wt,ut)*lv):(Je=ge(w,"px"),$e=ge(x,"px"))),gt&&ne&&($e>ot?$e=ot+($e-ot)/ne:$e<mt&&($e=mt-(mt-$e)/ne),s||(Je>je?Je=je+(Je-je)/ne:Je<Qe&&(Je=Qe-(Qe-Je)/ne))),M.startX=$e=yl($e),M.startY=Je=yl(Je)},ie=function(){return M.tween&&M.tween.isActive()},re=function(){So.parentNode&&!ie()&&!M.isDragging&&So.parentNode.removeChild(So)},fe=function(ne,Se){var Ee;if(!_e||M.isPressed||!ne||(ne.type==="mousedown"||ne.type==="pointerdown")&&!Se&&vl()-ae<30&&c0[M.pointerEvent.type]){Si&&ne&&_e&&es(ne);return}if(oi=ie(),Ri=!1,M.pointerEvent=ne,c0[ne.type]?(Nt=~ne.type.indexOf("touch")?ne.currentTarget||ne.target:le,wr(Nt,"touchend",ke),wr(Nt,"touchmove",xe),wr(Nt,"touchcancel",ke),wr(le,"touchstart",dv)):(Nt=null,wr(le,"mousemove",xe)),Kt=null,(!H1||!Nt)&&(wr(le,"mouseup",ke),ne&&ne.target&&wr(ne.target,"mouseup",ke)),ui=se.call(M,ne.target)&&n.dragClickables===!1&&!Se,ui){wr(ne.target,"change",ke),ir(M,"pressInit","onPressInit"),ir(M,"press","onPress"),y1(Y,!0),Si=!1;return}if(fi=!Nt||I===R||M.vars.allowNativeTouchScrolling===!1||M.vars.allowContextMenu&&ne&&(ne.ctrlKey||ne.which>2)?!1:I?"y":"x",Si=!fi&&!M.allowEventDefault,Si&&(es(ne),wr(Ca,"touchforcechange",es)),ne.changedTouches?(ne=it=ne.changedTouches[0],rt=ne.identifier):ne.pointerId?rt=ne.pointerId:it=rt=null,Cg++,rN(wi),nt=M.pointerY=ne.pageY,He=M.pointerX=ne.pageX,ir(M,"pressInit","onPressInit"),(fi||M.autoScroll)&&f3(a.parentNode),a.parentNode&&M.autoScroll&&!ve&&!s&&a.parentNode._gsMaxScrollX&&!So.parentNode&&!a.getBBox&&(So.style.width=a.parentNode.scrollWidth+"px",a.parentNode.appendChild(So)),ze(),M.tween&&M.tween.kill(),M.isThrowing=!1,Ki.killTweensOf(ve||a,D,!0),ve&&Ki.killTweensOf(a,{scrollTo:1},!0),M.tween=M.lockedAxis=null,(n.zIndexBoost||!s&&!ve&&n.zIndexBoost!==!1)&&(a.style.zIndex=e.zIndex++),M.isPressed=!0,Rt=!!(n.onDrag||M._listeners.drag),Yt=!!(n.onMove||M._listeners.move),n.cursor!==!1||n.activeCursor)for(Ee=Y.length;--Ee>-1;)Ki.set(Y[Ee],{cursor:n.activeCursor||n.cursor||(Nd==="grab"?"grabbing":Nd)});ir(M,"press","onPress")},xe=function(ne){var Se=ne,Ee,Oe,ut,wt,Xe,_t;if(!_e||p4||!M.isPressed||!ne){Si&&ne&&_e&&es(ne);return}if(M.pointerEvent=ne,Ee=ne.changedTouches,Ee){if(ne=Ee[0],ne!==it&&ne.identifier!==rt){for(wt=Ee.length;--wt>-1&&(ne=Ee[wt]).identifier!==rt&&ne.target!==a;);if(wt<0)return}}else if(ne.pointerId&&rt&&ne.pointerId!==rt)return;if(Nt&&fi&&!Kt&&(ts.x=ne.pageX-(J?yh(le):0),ts.y=ne.pageY-(J?bh(le):0),Zt&&Zt.apply(ts,ts),Oe=ts.x,ut=ts.y,Xe=Math.abs(Oe-He),_t=Math.abs(ut-nt),(Xe!==_t&&(Xe>E||_t>E)||Yd&&fi===Kt)&&(Kt=Xe>_t&&I?"x":"y",fi&&Kt!==fi&&wr(Ca,"touchforcechange",es),M.vars.lockAxisOnTouchScroll!==!1&&I&&R&&(M.lockedAxis=Kt==="x"?"y":"x",Ml(M.vars.onLockAxis)&&M.vars.onLockAxis.call(M,Se)),Yd&&fi===Kt))){ke(Se);return}!M.allowEventDefault&&(!fi||Kt&&fi!==Kt)&&Se.cancelable!==!1?(es(Se),Si=!0):Si&&(Si=!1),M.autoScroll&&(H=!0),oe(ne.pageX,ne.pageY,Yt)},oe=function(ne,Se,Ee){var Oe=1-M.dragResistance,ut=1-M.edgeResistance,wt=M.pointerX,Xe=M.pointerY,_t=Je,Wt=M.x,ei=M.y,ai=M.endX,tt=M.endY,Tt=M.endRotation,Ht=yt,ta,oa,Bi,Gt,Cn,Xt;M.pointerX=ne,M.pointerY=Se,J&&(ne-=yh(le),Se-=bh(le)),s?(Gt=Math.atan2(Bt.y-Se,ne-Bt.x)*lv,Cn=M.y-Gt,Cn>180?(Je-=360,M.y=Gt):Cn<-180&&(Je+=360,M.y=Gt),M.x!==$e||Math.max(Math.abs(He-ne),Math.abs(nt-Se))>E?(M.y=Gt,Bi=$e+(Je-Gt)*Oe):Bi=$e):(Zt&&(Xt=ne*Zt.a+Se*Zt.c+Zt.e,Se=ne*Zt.b+Se*Zt.d+Zt.f,ne=Xt),oa=Se-nt,ta=ne-He,oa<E&&oa>-E&&(oa=0),ta<E&&ta>-E&&(ta=0),(M.lockAxis||M.lockedAxis)&&(ta||oa)&&(Xt=M.lockedAxis,Xt||(M.lockedAxis=Xt=I&&Math.abs(ta)>Math.abs(oa)?"y":R?"x":null,Xt&&Ml(M.vars.onLockAxis)&&M.vars.onLockAxis.call(M,M.pointerEvent)),Xt==="y"?oa=0:Xt==="x"&&(ta=0)),Bi=yl($e+ta*Oe),Gt=yl(Je+oa*Oe)),(Ot||Ct||Qt)&&(M.x!==Bi||M.y!==Gt&&!s)&&(Qt&&(ah.x=Bi,ah.y=Gt,Xt=Qt(ah),Bi=yl(Xt.x),Gt=yl(Xt.y)),Ot&&(Bi=yl(Ot(Bi))),Ct&&(Gt=yl(Ct(Gt)))),gt&&(Bi>ot?Bi=ot+Math.round((Bi-ot)*ut):Bi<mt&&(Bi=mt+Math.round((Bi-mt)*ut)),s||(Gt>je?Gt=Math.round(je+(Gt-je)*ut):Gt<Qe&&(Gt=Math.round(Qe+(Gt-Qe)*ut)))),(M.x!==Bi||M.y!==Gt&&!s)&&(s?(M.endRotation=M.x=M.endX=Bi,yt=!0):(R&&(M.y=M.endY=Gt,yt=!0),I&&(M.x=M.endX=Bi,yt=!0)),!Ee||ir(M,"move","onMove")!==!1?!M.isDragging&&M.isPressed&&(M.isDragging=Ri=!0,ir(M,"dragstart","onDragStart")):(M.pointerX=wt,M.pointerY=Xe,Je=_t,M.x=Wt,M.y=ei,M.endX=ai,M.endY=tt,M.endRotation=Tt,yt=Ht))},ke=function Te(ne,Se){if(!_e||!M.isPressed||ne&&rt!=null&&!Se&&(ne.pointerId&&ne.pointerId!==rt&&ne.target!==a||ne.changedTouches&&!sN(ne.changedTouches,rt))){Si&&ne&&_e&&es(ne);return}M.isPressed=!1;var Ee=ne,Oe=M.isDragging,ut=M.vars.allowContextMenu&&ne&&(ne.ctrlKey||ne.which>2),wt=Ki.delayedCall(.001,re),Xe,_t,Wt,ei,ai;if(Nt?(ur(Nt,"touchend",Te),ur(Nt,"touchmove",xe),ur(Nt,"touchcancel",Te),ur(le,"touchstart",dv)):ur(le,"mousemove",xe),ur(Ca,"touchforcechange",es),(!H1||!Nt)&&(ur(le,"mouseup",Te),ne&&ne.target&&ur(ne.target,"mouseup",Te)),yt=!1,Oe&&(O=Av=vl(),M.isDragging=!1),uv(wi),ui&&!ut){ne&&(ur(ne.target,"change",Te),M.pointerEvent=Ee),y1(Y,!1),ir(M,"release","onRelease"),ir(M,"click","onClick"),ui=!1;return}for(_t=Y.length;--_t>-1;)g3(Y[_t],"cursor",n.cursor||(n.cursor!==!1?Nd:null));if(Cg--,ne){if(Xe=ne.changedTouches,Xe&&(ne=Xe[0],ne!==it&&ne.identifier!==rt)){for(_t=Xe.length;--_t>-1&&(ne=Xe[_t]).identifier!==rt&&ne.target!==a;);if(_t<0&&!Se)return}M.pointerEvent=Ee,M.pointerX=ne.pageX,M.pointerY=ne.pageY}return ut&&Ee?(es(Ee),Si=!0,ir(M,"release","onRelease")):Ee&&!Oe?(Si=!1,oi&&(n.snap||n.bounds)&&na(n.inertia||n.throwProps),ir(M,"release","onRelease"),(!Yd||Ee.type!=="touchmove")&&Ee.type.indexOf("cancel")===-1&&(ir(M,"click","onClick"),vl()-ae<300&&ir(M,"doubleclick","onDoubleClick"),ei=Ee.target||a,ae=vl(),ai=function(){ae!==ci&&M.enabled()&&!M.isPressed&&!Ee.defaultPrevented&&(ei.click?ei.click():le.createEvent&&(Wt=le.createEvent("MouseEvents"),Wt.initMouseEvent("click",!0,!0,Ca,1,M.pointerEvent.screenX,M.pointerEvent.screenY,M.pointerX,M.pointerY,!1,!1,!1,!1,0,null),ei.dispatchEvent(Wt)))},!Yd&&!Ee.defaultPrevented&&Ki.delayedCall(.05,ai))):(na(n.inertia||n.throwProps),!M.allowEventDefault&&Ee&&(n.dragClickables!==!1||!se.call(M,Ee.target))&&Oe&&(!fi||Kt&&fi===Kt)&&Ee.cancelable!==!1?(Si=!0,es(Ee)):Si=!1,ir(M,"release","onRelease")),ie()&&wt.duration(M.tween.duration()),Oe&&ir(M,"dragend","onDragEnd"),!0},Ge=function(ne){if(ne&&M.isDragging&&!ve){var Se=ne.target||a.parentNode,Ee=Se.scrollLeft-Se._gsScrollX,Oe=Se.scrollTop-Se._gsScrollY;(Ee||Oe)&&(Zt?(He-=Ee*Zt.a+Oe*Zt.c,nt-=Oe*Zt.d+Ee*Zt.b):(He-=Ee,nt-=Oe),Se._gsScrollX+=Ee,Se._gsScrollY+=Oe,oe(M.pointerX,M.pointerY))}},Ie=function(ne){var Se=vl(),Ee=Se-ae<100,Oe=Se-O<50,ut=Ee&&ci===ae,wt=M.pointerEvent&&M.pointerEvent.defaultPrevented,Xe=Ee&&qi===ae,_t=ne.isTrusted||ne.isTrusted==null&&Ee&&ut;if((ut||Oe&&M.vars.suppressClickOnDrag!==!1)&&ne.stopImmediatePropagation&&ne.stopImmediatePropagation(),Ee&&!(M.pointerEvent&&M.pointerEvent.defaultPrevented)&&(!ut||_t&&!Xe)){_t&&ut&&(qi=ae),ci=ae;return}(M.isPressed||Oe||Ee)&&(!_t||!ne.detail||!Ee||wt)&&es(ne),!Ee&&!Oe&&!Ri&&(ne&&ne.target&&(M.pointerEvent=ne),ir(M,"click","onClick"))},et=function(ne){return Zt?{x:ne.x*Zt.a+ne.y*Zt.c+Zt.e,y:ne.x*Zt.b+ne.y*Zt.d+Zt.f}:{x:ne.x,y:ne.y}};return Dt=e.get(a),Dt&&Dt.kill(),c.startDrag=function(Te,ne){var Se,Ee,Oe,ut;fe(Te||M.pointerEvent,!0),ne&&!M.hitTest(Te||M.pointerEvent)&&(Se=rh(Te||M.pointerEvent),Ee=rh(a),Oe=et({x:Se.left+Se.width/2,y:Se.top+Se.height/2}),ut=et({x:Ee.left+Ee.width/2,y:Ee.top+Ee.height/2}),He-=Oe.x-ut.x,nt-=Oe.y-ut.y),M.isDragging||(M.isDragging=Ri=!0,ir(M,"dragstart","onDragStart"))},c.drag=xe,c.endDrag=function(Te){return ke(Te||M.pointerEvent,!0)},c.timeSinceDrag=function(){return M.isDragging?0:(vl()-O)/1e3},c.timeSinceClick=function(){return(vl()-ae)/1e3},c.hitTest=function(Te,ne){return e.hitTest(M.target,Te,ne)},c.getDirection=function(Te,ne){var Se=Te==="velocity"&&Us?Te:jd(Te)&&!s?"element":"start",Ee,Oe,ut,wt,Xe,_t;return Se==="element"&&(Xe=rh(M.target),_t=rh(Te)),Ee=Se==="start"?M.x-$e:Se==="velocity"?Us.getVelocity(a,x):Xe.left+Xe.width/2-(_t.left+_t.width/2),s?Ee<0?"counter-clockwise":"clockwise":(ne=ne||2,Oe=Se==="start"?M.y-Je:Se==="velocity"?Us.getVelocity(a,w):Xe.top+Xe.height/2-(_t.top+_t.height/2),ut=Math.abs(Ee/Oe),wt=ut<1/ne?"":Ee<0?"left":"right",ut<ne&&(wt!==""&&(wt+="-"),wt+=Oe<0?"up":"down"),wt)},c.applyBounds=function(Te,ne){var Se,Ee,Oe,ut,wt,Xe;if(Te&&n.bounds!==Te)return n.bounds=Te,M.update(!0,ne);if(ji(!0),Ha(),gt&&!ie()){if(Se=M.x,Ee=M.y,Se>ot?Se=ot:Se<mt&&(Se=mt),Ee>je?Ee=je:Ee<Qe&&(Ee=Qe),(M.x!==Se||M.y!==Ee)&&(Oe=!0,M.x=M.endX=Se,s?M.endRotation=Se:M.y=M.endY=Ee,yt=!0,wi(!0),M.autoScroll&&!M.isDragging))for(f3(a.parentNode),ut=a,Fo.scrollTop=Ca.pageYOffset!=null?Ca.pageYOffset:le.documentElement.scrollTop!=null?le.documentElement.scrollTop:le.body.scrollTop,Fo.scrollLeft=Ca.pageXOffset!=null?Ca.pageXOffset:le.documentElement.scrollLeft!=null?le.documentElement.scrollLeft:le.body.scrollLeft;ut&&!Xe;)Xe=Eh(ut.parentNode),wt=Xe?Fo:ut.parentNode,R&&wt.scrollTop>wt._gsMaxScrollY&&(wt.scrollTop=wt._gsMaxScrollY),I&&wt.scrollLeft>wt._gsMaxScrollX&&(wt.scrollLeft=wt._gsMaxScrollX),ut=wt;M.isThrowing&&(Oe||M.endX>ot||M.endX<mt||M.endY>je||M.endY<Qe)&&na(n.inertia||n.throwProps,Oe)}return M},c.update=function(Te,ne,Se){if(ne&&M.isPressed){var Ee=YA(a),Oe=fa.apply({x:M.x-$e,y:M.y-Je}),ut=YA(a.parentNode,!0);ut.apply({x:Ee.e-Oe.x,y:Ee.f-Oe.y},Oe),M.x-=Oe.x-ut.e,M.y-=Oe.y-ut.f,wi(!0),ze()}var wt=M.x,Xe=M.y;return va(!ne),Te?M.applyBounds():(yt&&Se&&wi(!0),ji(!0)),ne&&(oe(M.pointerX,M.pointerY),yt&&wi(!0)),M.isPressed&&!ne&&(I&&Math.abs(wt-M.x)>.01||R&&Math.abs(Xe-M.y)>.01&&!s)&&ze(),M.autoScroll&&(f3(a.parentNode,M.isDragging),H=M.isDragging,wi(!0),gv(a,Ge),fv(a,Ge)),M},c.enable=function(Te){var ne={lazy:!0},Se,Ee,Oe;if(n.cursor!==!1&&(ne.cursor=n.cursor||Nd),Ki.utils.checkPrefix("touchCallout")&&(ne.touchCallout="none"),Te!=="soft"){for(cv(Y,I===R?"none":n.allowNativeTouchScrolling&&a.scrollHeight===a.clientHeight==(a.scrollWidth===a.clientHeight)||n.allowEventDefault?"manipulation":I?"pan-y":"pan-x"),Ee=Y.length;--Ee>-1;)Oe=Y[Ee],H1||wr(Oe,"mousedown",fe),wr(Oe,"touchstart",fe),wr(Oe,"click",Ie,!0),Ki.set(Oe,ne),Oe.getBBox&&Oe.ownerSVGElement&&I!==R&&Ki.set(Oe.ownerSVGElement,{touchAction:n.allowNativeTouchScrolling||n.allowEventDefault?"manipulation":I?"pan-y":"pan-x"}),n.allowContextMenu||wr(Oe,"contextmenu",ea);y1(Y,!1)}return fv(a,Ge),_e=!0,Us&&Te!=="soft"&&Us.track(ve||a,h?"x,y":s?"rotation":"top,left"),a._gsDragID=Se=a._gsDragID||"d"+tN++,_h[Se]=M,ve&&(ve.enable(),ve.element._gsDragID=Se),(n.bounds||s)&&ze(),n.bounds&&M.applyBounds(),M},c.disable=function(Te){for(var ne=M.isDragging,Se=Y.length,Ee;--Se>-1;)g3(Y[Se],"cursor",null);if(Te!=="soft"){for(cv(Y,null),Se=Y.length;--Se>-1;)Ee=Y[Se],g3(Ee,"touchCallout",null),ur(Ee,"mousedown",fe),ur(Ee,"touchstart",fe),ur(Ee,"click",Ie,!0),ur(Ee,"contextmenu",ea);y1(Y,!0),Nt&&(ur(Nt,"touchcancel",ke),ur(Nt,"touchend",ke),ur(Nt,"touchmove",xe)),ur(le,"mouseup",ke),ur(le,"mousemove",xe)}return gv(a,Ge),_e=!1,Us&&Te!=="soft"&&(Us.untrack(ve||a,h?"x,y":s?"rotation":"top,left"),M.tween&&M.tween.kill()),ve&&ve.disable(),uv(wi),M.isDragging=M.isPressed=ui=!1,ne&&ir(M,"dragend","onDragEnd"),M},c.enabled=function(Te,ne){return arguments.length?Te?M.enable(ne):M.disable(ne):_e},c.kill=function(){return M.isThrowing=!1,M.tween&&M.tween.kill(),M.disable(),Ki.set(Y,{clearProps:"userSelect"}),delete _h[a._gsDragID],M},c.revert=function(){this.kill(),this.styles&&this.styles.revert()},~f.indexOf("scroll")&&(ve=c.scrollProxy=new hN(a,aN({onKill:function(){M.isPressed&&ke(null)}},n)),a.style.overflowY=R&&!hm?"auto":"hidden",a.style.overflowX=I&&!hm?"auto":"hidden",a=ve.content),s?D.rotation=1:(I&&(D[x]=1),R&&(D[w]=1)),V.force3D="force3D"in n?n.force3D:!0,X8(ov(c)),c.enable(),c}return e.register=function(n){Ki=n,m3()},e.create=function(n,c){return cm||m3(!0),Tl(n).map(function(f){return new e(f,c)})},e.get=function(n){return _h[(Tl(n)[0]||{})._gsDragID]},e.timeSinceDrag=function(){return(vl()-Av)/1e3},e.hitTest=function(n,c,f){if(n===c)return!1;var h=rh(n),s=rh(c),x=h.top,w=h.left,I=h.right,R=h.bottom,E=h.width,M=h.height,Y=s.left>I||s.right<w||s.top>R||s.bottom<x,D,O,H;return Y||!f?!Y:(H=(f+"").indexOf("%")!==-1,f=parseFloat(f)||0,D={left:Math.max(w,s.left),top:Math.max(x,s.top)},D.width=Math.min(I,s.right)-D.left,D.height=Math.min(R,s.bottom)-D.top,D.width<0||D.height<0?!1:H?(f*=.01,O=D.width*D.height,O>=E*M*f||O>=s.width*s.height*f):D.width>f&&D.height>f)},e}(uN);nN(Fh.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1});Fh.zIndex=1e3;Fh.version="3.12.7";G8()&&Ki.registerPlugin(Fh);var dN=ft('<button class="grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center p-2"><!></button>');function fN(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(Yl,"$isTerrain3d",a),f=I=>{Yl.set(!c())};Yl.subscribe(I=>{const R=da.getMap();R&&(I?(R.setTerrain({source:"terrain",exaggeration:1}),R.easeTo({pitch:60})):(R.setTerrain(null),R.easeTo({pitch:0})))});let h=$t(null);Mr(()=>{q(h)});var s=dN();s.__click=f;var x=Le(s);const w=ra(()=>c()?"mdi:video-2d":"mdi:video-3d");vi(x,{get icon(){return q(w)},class:"h-8 w-8 text-base"}),Ue(s),wn(s,I=>st(h,I),()=>q(h)),Ve(t,s),_i(),n()}$a(["click"]);var gN=ft('<div class="css-svg-container svelte-cbomfq"><svg width="271" height="60" viewBox="0 0 271 40" id="forestlogotitle" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-cbomfq"><path d="M115.45 8.13H114.394V13.815H115.45V8.13Z" fill="white" class="svelte-cbomfq"></path><path d="M112.444 11.054V12.847C111.58 12.933 110.591 12.49 110.591 10.972C110.591 9.84498 111.256 9.091 112.224 9.091C113.017 9.091 113.365 9.291 113.5 9.427V8.40201C113.5 8.40201 113.051 8.13101 112.227 8.13101C110.994 8.13101 109.534 8.88499 109.534 10.994C109.534 13.089 110.995 13.815 112.144 13.815C112.707 13.815 113.104 13.815 113.501 13.642V11.054H112.444Z" fill="white" class="svelte-cbomfq"></path><path d="M119.327 9.091V8.13H116.321V13.814H117.378V11.206H119.327V10.246H117.378V9.091H119.327Z" fill="white" class="svelte-cbomfq"></path><path d="M167.536 9.073V8.112H164.53V13.796H165.587V11.188H167.536V10.228H165.587V9.073H167.536Z" fill="white" class="svelte-cbomfq"></path><path d="M121.96 13.814C123.009 13.814 123.859 13.141 123.859 12.083V8.13H122.802V12.083C122.802 12.515 122.44 12.854 121.959 12.854C121.479 12.854 121.116 12.514 121.116 12.083V8.13H120.06V12.083C120.062 13.142 120.912 13.814 121.96 13.814Z" fill="white" class="svelte-cbomfq"></path><path d="M134.163 8.349C134.046 8.261 133.669 8.129 133.158 8.129C131.903 8.129 130.765 8.99901 130.765 10.971C130.765 12.91 131.898 13.814 133.157 13.814C133.655 13.814 133.897 13.72 134.136 13.564V12.664C133.85 12.813 133.655 12.853 133.157 12.853C132.323 12.853 131.821 12.019 131.821 10.971C131.821 9.89001 132.323 9.09201 133.157 9.09201C133.655 9.09201 133.851 9.13801 134.163 9.26901V8.349Z" fill="white" class="svelte-cbomfq"></path><path d="M140.901 8.129C140.437 8.129 139.357 8.129 139.357 8.129V13.815H140.899C142.68 13.815 143.371 12.411 143.371 10.918C143.372 9.362 142.668 8.129 140.901 8.129ZM140.9 12.853C140.692 12.853 140.414 12.853 140.414 12.853V9.09201H140.9C141.881 9.09201 142.315 9.94498 142.315 10.972C142.314 11.963 141.881 12.853 140.9 12.853Z" fill="white" class="svelte-cbomfq"></path><path d="M150.948 8.134L149.895 9.60901L148.839 8.13199H147.775V13.813H148.831V10.104L149.897 11.521L150.948 10.12V13.813H152.005V8.134H150.948Z" fill="white" class="svelte-cbomfq"></path><path d="M147.083 9.09V8.129H144.035V13.817H147.083V12.856H145.091V11.332H147.041V10.372H145.091V9.09H147.083Z" fill="white" class="svelte-cbomfq"></path><path d="M156.749 8.11401H155.569L154.583 10.166L153.596 8.11401H152.417L154.059 11.536V13.798H155.116V11.536L156.749 8.11401Z" fill="white" class="svelte-cbomfq"></path><path d="M161.473 8.112C162.72 8.112 163.787 8.85201 163.787 10.954C163.787 12.506 163.2 13.796 161.473 13.796C159.951 13.796 159.16 12.575 159.16 10.954C159.159 9.00501 160.242 8.112 161.473 8.112ZM160.216 10.958C160.216 11.759 160.547 12.874 161.473 12.874C162.161 12.874 162.73 12.2 162.73 10.954C162.73 9.85401 162.156 9.07199 161.473 9.07199C160.596 9.07199 160.216 10.081 160.216 10.958Z" fill="white" class="svelte-cbomfq"></path><path d="M129.73 13.813H130.832L129.207 8.12799H127.955L126.33 13.813H127.432L127.907 12.151H129.254L129.73 13.813ZM128.183 11.19L128.582 9.79401L128.981 11.19H128.183Z" fill="white" class="svelte-cbomfq"></path><path d="M137.802 13.813H138.904L137.279 8.12799H136.027L134.402 13.813H135.504L135.979 12.151H137.327L137.802 13.813ZM136.254 11.19L136.653 9.79401L137.052 11.19H136.254Z" fill="white" class="svelte-cbomfq"></path><path d="M252.396 12.782V8.06H251.339V13.743H254.572V12.782H252.396Z" fill="white" class="svelte-cbomfq"></path><path d="M248.668 13.743C249.718 13.743 250.567 13.069 250.567 12.012V8.06H249.51V12.012C249.51 12.444 249.148 12.783 248.667 12.783C248.188 12.783 247.824 12.444 247.824 12.012V8.06H246.767V12.012C246.769 13.069 247.619 13.743 248.668 13.743Z" fill="white" class="svelte-cbomfq"></path><path d="M260.204 13.743C261.253 13.743 262.102 13.069 262.102 12.012V8.06H261.045V12.012C261.045 12.444 260.683 12.783 260.203 12.783C259.723 12.783 259.359 12.444 259.359 12.012V8.06H258.302V12.012C258.304 13.069 259.154 13.743 260.204 13.743Z" fill="white" class="svelte-cbomfq"></path><path d="M237.241 8.05801C236.776 8.05801 235.696 8.05801 235.696 8.05801V13.744H237.239C239.02 13.744 239.71 12.34 239.71 10.848C239.71 9.28999 239.007 8.05801 237.241 8.05801ZM237.239 12.781C237.03 12.781 236.753 12.781 236.753 12.781V9.01999H237.239C238.219 9.01999 238.653 9.873 238.653 10.901C238.653 11.892 238.22 12.781 237.239 12.781Z" fill="white" class="svelte-cbomfq"></path><path d="M270.235 9.01801V8.05701H267.188V13.745H270.235V12.784H268.243V11.261H270.193V10.3H268.243V9.01801H270.235Z" fill="white" class="svelte-cbomfq"></path><path d="M229.713 13.743H230.816L229.191 8.05701H227.939L226.314 13.743H227.416L227.892 12.081H229.24L229.713 13.743ZM228.165 11.12L228.564 9.724L228.963 11.12H228.165Z" fill="white" class="svelte-cbomfq"></path><path d="M233.966 8.06V11.3L232.303 8.06H231.246V13.743H232.303V10.508L233.966 13.743H235.022V8.06H233.966Z" fill="white" class="svelte-cbomfq"></path><path d="M265.946 11.921C265.77 11.362 265.563 11.148 265.436 11.065C265.829 10.796 266.137 10.308 266.137 9.67099C266.137 8.79399 265.469 8.06 264.739 8.06H262.864V13.744H263.921V11.26H264.238C264.539 11.26 264.743 11.561 264.827 11.86C264.864 11.994 265.438 13.745 265.438 13.745H266.754C266.451 13.175 266.165 12.621 265.946 11.921ZM263.886 9.01999H264.517C264.903 9.01999 265.046 9.46799 265.046 9.67099C265.046 9.91099 264.902 10.299 264.517 10.299H263.886V9.01999Z" fill="white" class="svelte-cbomfq"></path><path d="M257.713 8.06H254.165V9.01901H255.411V13.743H256.467V9.01901H257.713V8.06Z" fill="white" class="svelte-cbomfq"></path><path d="M246.019 8.27802C245.902 8.19002 245.526 8.05899 245.014 8.05899C243.759 8.05899 242.621 8.928 242.621 10.901C242.621 12.84 243.755 13.743 245.013 13.743C245.511 13.743 245.753 13.649 245.993 13.493V12.594C245.707 12.743 245.511 12.782 245.013 12.782C244.18 12.782 243.677 11.949 243.677 10.901C243.677 9.819 244.18 9.022 245.013 9.022C245.511 9.022 245.707 9.067 246.019 9.198V8.27802Z" fill="white" class="svelte-cbomfq"></path><path d="M214.083 8.112V11.353L212.421 8.112H211.364V13.796H212.421V10.562L214.083 13.796H215.14V8.112H214.083Z" fill="white" class="svelte-cbomfq"></path><path d="M182.747 11.974C182.572 11.415 182.364 11.201 182.238 11.119C182.63 10.849 182.939 10.361 182.939 9.724C182.939 8.847 182.271 8.11301 181.54 8.11301H179.665V13.797H180.722V11.313H181.04C181.341 11.313 181.544 11.614 181.628 11.913C181.666 12.047 182.24 13.798 182.24 13.798H183.555C183.253 13.228 182.967 12.674 182.747 11.974ZM180.687 9.073H181.318C181.705 9.073 181.848 9.51999 181.848 9.72299C181.848 9.96299 181.704 10.352 181.318 10.352H180.687V9.073Z" fill="white" class="svelte-cbomfq"></path><path d="M194.741 8.112H191.193V9.07101H192.438V13.796H193.495V9.07101H194.741V8.112Z" fill="white" class="svelte-cbomfq"></path><path d="M187.678 13.438C187.949 13.638 188.435 13.796 188.902 13.796C189.807 13.796 190.956 13.505 190.956 12.044C190.956 11.376 190.713 10.791 189.707 10.304C189.175 10.046 188.77 9.93101 188.77 9.53601C188.77 9.14901 189.064 9.01001 189.55 9.01001C189.923 9.01001 190.434 9.29901 190.489 9.36801V8.409C190.489 8.409 189.945 8.112 189.36 8.112C188.678 8.112 187.713 8.48101 187.713 9.53601C187.713 10.482 188.556 10.879 188.985 11.034C189.465 11.207 189.891 11.556 189.891 12.044C189.891 12.507 189.528 12.835 188.901 12.835C188.463 12.835 187.858 12.614 187.677 12.478V13.438H187.678Z" fill="white" class="svelte-cbomfq"></path><path d="M197.911 13.438C198.182 13.638 198.669 13.796 199.136 13.796C200.04 13.796 201.189 13.505 201.189 12.044C201.189 11.376 200.947 10.791 199.941 10.304C199.408 10.046 199.003 9.93101 199.003 9.53601C199.003 9.14901 199.297 9.01001 199.784 9.01001C200.156 9.01001 200.667 9.29901 200.723 9.36801V8.409C200.723 8.409 200.178 8.112 199.594 8.112C198.912 8.112 197.946 8.48101 197.946 9.53601C197.946 10.482 198.789 10.879 199.219 11.034C199.699 11.207 200.125 11.556 200.125 12.044C200.125 12.507 199.761 12.835 199.135 12.835C198.697 12.835 198.092 12.614 197.91 12.478V13.438H197.911Z" fill="white" class="svelte-cbomfq"></path><path d="M206.816 8.078H205.759V13.763H206.816V8.078Z" fill="white" class="svelte-cbomfq"></path><path d="M187.073 9.073V8.112H184.026V13.8H187.073V12.84H185.083V11.315H187.032V10.354H185.083V9.073H187.073Z" fill="white" class="svelte-cbomfq"></path><path d="M210.637 9.073V8.112H207.589V13.8H210.637V12.84H208.646V11.315H210.595V10.354H208.646V9.073H210.637Z" fill="white" class="svelte-cbomfq"></path><path d="M222.885 9.073V8.112H219.837V13.8H222.885V12.84H220.894V11.315H222.843V10.354H220.894V9.073H222.885Z" fill="white" class="svelte-cbomfq"></path><path d="M176.739 8.112C177.987 8.112 179.053 8.85201 179.053 10.954C179.053 12.506 178.467 13.796 176.739 13.796C175.218 13.796 174.426 12.575 174.426 10.954C174.426 9.00501 175.509 8.112 176.739 8.112ZM175.483 10.958C175.483 11.759 175.813 12.874 176.739 12.874C177.428 12.874 177.996 12.2 177.996 10.954C177.996 9.85401 177.422 9.07199 176.739 9.07199C175.862 9.07199 175.483 10.081 175.483 10.958Z" fill="white" class="svelte-cbomfq"></path><path d="M205.095 8.33099C204.978 8.24399 204.601 8.112 204.089 8.112C202.834 8.112 201.696 8.98101 201.696 10.954C201.696 12.893 202.829 13.796 204.088 13.796C204.587 13.796 204.827 13.703 205.067 13.546V12.647C204.782 12.796 204.587 12.835 204.088 12.835C203.255 12.835 202.753 12.003 202.753 10.954C202.753 9.87201 203.255 9.07501 204.088 9.07501C204.587 9.07501 204.782 9.12101 205.095 9.25201V8.33099Z" fill="white" class="svelte-cbomfq"></path><path d="M219.234 8.33099C219.117 8.24399 218.74 8.112 218.229 8.112C216.973 8.112 215.836 8.98101 215.836 10.954C215.836 12.893 216.969 13.796 218.227 13.796C218.726 13.796 218.967 13.703 219.207 13.546V12.647C218.921 12.796 218.726 12.835 218.227 12.835C217.394 12.835 216.892 12.003 216.892 10.954C216.892 9.87201 217.394 9.07501 218.227 9.07501C218.726 9.07501 218.921 9.12101 219.234 9.25201V8.33099Z" fill="white" class="svelte-cbomfq"></path><path d="M45.19 32.12C47.463 29.464 48.708 26.324 48.942 24.245L48.976 23.224H45.072V20.756H50.041V19.735L45.072 19.733V17.424H44.051V19.732L38.036 19.729V33.054H36.15V17.424H35.129V33.054H33.241V19.764H32.22V36.473H33.241V34.075H39.057V20.757H44.051V23.225H40.14L40.178 24.246C40.391 26.307 41.618 29.449 43.877 32.119C42.466 33.625 40.801 34.816 39.054 35.384V36.405C41.246 35.656 43.07 34.362 44.532 32.846C46.005 34.39 47.849 35.712 50.074 36.472V35.451C48.303 34.874 46.614 33.657 45.19 32.12ZM41.214 24.245H47.908C47.57 26.616 46.306 29.231 44.536 31.37C42.781 29.224 41.534 26.608 41.214 24.245Z" fill="white" class="svelte-cbomfq"></path><path d="M69.11 32.951H60.693V30.69H67.787V25.919H53.625V23.94H67.788V19.21H60.689V17.425H59.668V19.21H52.605V30.69H59.674V32.951H51.257V33.972H59.674V36.48H60.695V33.972H69.112V32.951H69.11ZM53.625 20.231H66.767V22.92H53.625V20.231ZM53.625 26.94H66.768V29.67H53.625V26.94Z" fill="white" class="svelte-cbomfq"></path><path d="M71.312 29.308V17.425H70.292V30.328H78.708V36.479H79.729V30.328H88.146V29.308H71.312Z" fill="white" class="svelte-cbomfq"></path><path d="M70.417 35.458V36.479C72.783 36.135 75.464 33.856 75.733 30.985H74.712C74.414 33.218 72.146 35.161 70.417 35.458Z" fill="white" class="svelte-cbomfq"></path><path d="M87.944 35.458V36.479C85.578 36.135 82.897 33.856 82.629 30.985H83.65C83.947 33.218 86.216 35.161 87.944 35.458Z" fill="white" class="svelte-cbomfq"></path><path d="M85.875 27.835H86.896V17.425H73.353V27.833L85.875 27.835ZM74.374 26.813V24.542H85.876V26.813H74.374ZM74.374 23.522V21.481H85.876V23.522H74.374ZM85.875 18.444V20.46H74.374V18.444H85.875Z" fill="white" class="svelte-cbomfq"></path><path d="M107.181 20.485V19.465H98.764V17.424H97.743V19.465H89.326V20.485H93.277V35.458H89.326V36.479H107.18V35.458H103.224V20.485H107.181ZM102.205 35.458H94.299V20.485H102.205V35.458Z" fill="white" class="svelte-cbomfq"></path><path d="M127.759 19.158H119.542V17.612H118.113V19.158H109.9V20.587H115.874C114.86 22.971 111.606 24.739 109.9 24.856V26.285C112.247 26.055 116.44 23.957 117.411 20.588H118.113V26.788H119.542V20.588H120.244C121.216 23.957 125.408 26.055 127.755 26.285V24.856C126.049 24.74 122.795 22.971 121.781 20.587H127.76V19.158H127.759Z" fill="white" class="svelte-cbomfq"></path><path d="M117.213 29.17H118.632V27.741H115.692V26.216H114.263V27.741H109.908V29.17H112.779C112.381 32.037 110.963 33.603 109.56 34.347V36.031C111.658 35.154 113.802 32.938 114.226 29.171H114.264V36.748H115.693V29.171H115.742C116.118 30.736 117.171 32.205 118.892 32.844V31.159C117.876 30.623 117.442 30.049 117.213 29.17Z" fill="white" class="svelte-cbomfq"></path><path d="M124.954 29.17H127.76V27.741H123.391V26.208H121.962V27.741H118.969V29.17H120.41C120.012 32.037 118.594 33.603 117.191 34.347V36.031C119.289 35.154 121.433 32.938 121.857 29.171H121.962V36.748H123.391V29.171H123.507C123.931 32.939 126.075 35.154 128.173 36.031V34.347C126.77 33.603 125.352 32.037 124.954 29.17Z" fill="white" class="svelte-cbomfq"></path><path d="M173.946 17.618H172.516C172.346 21.136 170.096 25.097 166.563 27.489V29.173C168.09 28.36 169.44 27.242 170.557 25.935V36.748H171.986V23.693C173.071 21.891 173.765 19.628 173.946 17.618Z" fill="white" class="svelte-cbomfq"></path><path d="M138.237 21.517H136.539C136.829 24.367 137.575 25.259 138.492 26.484V28.422C137.062 27.183 135.596 25.13 135.191 21.517H135.181V36.747H133.752V21.517H133.704C133.491 27.401 131.853 31.244 128.813 33.343V31.659C131.666 28.786 132.107 25.583 132.357 21.516H129.469V20.086H133.752V17.611H135.181V20.086H138.238V21.517H138.237Z" fill="white" class="svelte-cbomfq"></path><path d="M138.528 21.517H140.21C139.929 25.527 139.34 28.595 136.676 31.603V33.287C139.706 31.194 141.342 27.369 141.564 21.517H141.616V36.747H143.045V21.517H143.112C143.326 27.401 144.964 31.244 148.004 33.343V31.659C145.183 28.653 144.716 25.557 144.462 21.516H147.329V20.086H143.046V17.611H141.617V20.086H138.529V21.517H138.528Z" fill="white" class="svelte-cbomfq"></path><path d="M166.641 21.511V20.082H158.401V17.612H156.972V20.082H148.782V21.511H151.863C152.643 24.902 154.418 28.214 156.705 30.882C154.436 33.242 151.686 34.98 148.782 35.316V36.744C151.873 36.524 155.057 34.685 157.709 31.979C160.361 34.685 163.546 36.524 166.636 36.744V35.316C163.733 34.98 160.982 33.243 158.713 30.882C161.001 28.214 162.775 24.902 163.556 21.511H166.641ZM157.709 29.761C155.618 27.256 154.052 24.256 153.328 21.511H162.09C161.366 24.256 159.8 27.256 157.709 29.761Z" fill="white" class="svelte-cbomfq"></path><path d="M231.128 17.692H220.547V19.121H231.128V17.692Z" fill="white" class="svelte-cbomfq"></path><path d="M270.198 25.397H255.146V26.825H270.198V25.397Z" fill="white" class="svelte-cbomfq"></path><path d="M201.714 17.692H185.897V19.121H200.228C199.828 23.985 197.343 26.192 194.061 26.442V20.938H192.632V27.868C192.632 31.243 189.767 35.318 185.897 35.318V36.747C190.38 36.747 194.057 32.508 194.061 27.876C197.789 27.644 201.214 25.346 201.665 19.121H201.715V17.692H201.714Z" fill="white" class="svelte-cbomfq"></path><path d="M210.825 20.167V17.692H209.395V20.167H203.094V21.596H209.395V24.649C209.395 30.5 206.413 33.736 203.094 35.319V36.748C206.938 35.687 210.824 31.129 210.824 24.662V21.597H217.482C217.482 24.854 217.482 33.143 217.482 33.448C217.482 34.528 216.781 35.323 215.791 35.323C215.449 35.323 213.016 35.323 213.016 35.323V36.752C213.016 36.752 215.236 36.752 215.702 36.752C217.412 36.752 218.912 35.538 218.912 33.539C218.912 33.048 218.912 20.245 218.912 20.245V20.169H210.825V20.167Z" fill="white" class="svelte-cbomfq"></path><path d="M236.364 22.718H220.547V24.148H228.124V28.814C228.124 32.683 224.912 35.322 220.547 35.322V36.751C225.032 36.751 229.553 34.125 229.553 28.814V24.148H236.365V22.718H236.364Z" fill="white" class="svelte-cbomfq"></path><path d="M236.365 17.692H234.937V19.215H236.365V17.692Z" fill="white" class="svelte-cbomfq"></path><path d="M233.742 17.692H232.389V19.215H233.742V17.692Z" fill="white" class="svelte-cbomfq"></path><path d="M184.418 22.456V20.772C182.231 22.418 179.548 23.842 177.043 24.252C177.043 20.762 177.043 17.611 177.043 17.611H175.614C175.614 17.611 175.614 32.912 175.614 33.529C175.614 35.734 177.114 36.742 178.825 36.742C179.29 36.742 184.415 36.742 184.415 36.742V35.314C184.415 35.314 179.076 35.314 178.735 35.314C177.745 35.314 177.043 34.519 177.043 33.439C177.043 33.252 177.043 29.483 177.043 25.669C179.828 25.187 182.833 23.603 184.418 22.456Z" fill="white" class="svelte-cbomfq"></path><path d="M253.829 17.61H238.087V19.039H253.829V17.61Z" fill="white" class="svelte-cbomfq"></path><path d="M253.829 22.739H238.087V24.169H253.829V22.739Z" fill="white" class="svelte-cbomfq"></path><path d="M253.829 35.235C253.829 35.235 244.28 35.235 243.897 35.235C240.807 35.235 239.516 33.286 239.516 31.86C239.516 31.519 239.516 30.004 239.516 30.004H238.086C238.086 30.004 238.086 31.245 238.086 31.711C238.086 34.187 239.757 36.665 243.807 36.665C244.425 36.665 253.828 36.665 253.828 36.665V35.235H253.829Z" fill="white" class="svelte-cbomfq"></path><path d="M173.979 9.073V8.10599H170.957V13.748H172.02V9.073H173.979Z" fill="white" class="svelte-cbomfq"></path><path d="M174.136 10.325C174.115 10.745 172.991 11.847 172.152 11.227C171.983 10.294 173.706 9.95802 174.136 10.325Z" fill="white" class="svelte-cbomfq"></path><path d="M3.077 30.092C3.077 29.092 2.578 24.436 10.745 21.269C18.911 18.102 27.328 13.936 27.328 5.85199C27.328 4.99699 27.328 1.522 27.328 1.397C27.328 1.147 27.394 1.069 27.749 1.069C27.749 1.069 31.546 1.069 32.255 1.069V0.429993C32.255 0.429993 21.999 0.429993 21.745 0.429993C7.245 0.429993 2.953 12.414 2.953 19.644C2.953 23.477 2.929 30.092 2.929 30.092" fill="white" class="svelte-cbomfq"></path><path d="M3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 36.185 5.997 36.348 5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.665 39.023 6.011 37.679 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C6.011 36.185 5.997 36.348 5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.665 39.023 6.011 37.679 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M5.972 36.507C5.946 36.665 5.908 36.82 5.858 36.969C5.808 37.118 5.748 37.262 5.675 37.4C5.604 37.539 5.522 37.67 5.431 37.795C5.34 37.919 5.24 38.036 5.13 38.145C5.028 38.239 4.889 38.36 4.78 38.446C4.656 38.537 4.524 38.619 4.386 38.69C4.248 38.761 4.104 38.823 3.954 38.872C3.805 38.922 3.65 38.961 3.492 38.986C3.333 39.012 3.171 39.025 3.005 39.025C4.664 39.025 6.01 37.68 6.01 36.02C6.011 36.185 5.997 36.348 5.972 36.507Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 1.312 36.019 2.953 36.019C4.612 36.019 5.981 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 1.312 36.019 2.953 36.019C4.612 36.019 5.981 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 1.312 36.019 2.953 36.019C4.612 36.019 5.981 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.375 36.019 0.976 36.019C1.601 36.155 1.899 36.092 2.244 36.019C2.471 36.019 2.709 36.019 2.954 36.019C4.613 36.019 5.982 36.019 6.012 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.25 36.019 0.667 36.019C1.512 36.394 2.344 36.084 2.502 36.019C2.649 36.019 2.8 36.019 2.953 36.019C4.612 36.019 5.981 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.179 36.019 0.487 36.019C0.848 36.287 1.531 36.503 2.725 36.019C2.8 36.019 2.876 36.019 2.953 36.019C4.612 36.019 5.981 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.128 36.019 0.353 36.019C0.994 36.746 2.361 36.332 2.923 36.019C2.933 36.019 2.943 36.019 2.953 36.019C4.612 36.019 5.981 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.089 36.019 0.248 36.019C0.534 36.383 0.728 36.462 1.248 36.544C1.354 36.544 1.466 36.544 1.582 36.544C2.061 36.476 2.377 36.431 3.118 36.019C4.702 36.019 5.982 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.06 36.019 0.168 36.019C0.699 36.992 2.216 36.776 3.317 36.019C4.808 36.019 5.983 36.019 6.01 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.036 36.019 0.104 36.019C0.572 37.053 2.039 37.053 3.515 36.019C4.911 36.019 5.984 36.019 6.01 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0 36.019 0.02 36.019 0.057 36.019C0.464 37.341 2.392 37.1 3.718 36.019C5.014 36.019 5.986 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0.007 36.019 0.017 36.019 0.023 36.019C0.327 37.407 2.255 37.407 3.918 36.019C5.112 36.019 5.987 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.014 36.348 0 36.185 0 36.019C0.001 36.019 0.003 36.019 0.004 36.019C0.189 37.578 2.461 37.578 4.125 36.019C5.212 36.019 5.988 36.019 6.011 36.019C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.103 36.818 0.064 36.663 0.039 36.505C0.017 36.369 0.004 36.232 0 36.091C0.144 37.779 2.611 37.737 4.329 36.017C5.308 36.017 5.989 36.017 6.01 36.017C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.988999 38.252 0.879999 38.143C0.770999 38.034 0.670999 37.917 0.578999 37.793C0.487999 37.668 0.405999 37.537 0.334999 37.398C0.263999 37.26 0.201999 37.117 0.151999 36.967C0.102999 36.818 0.0639988 36.663 0.0389988 36.505C0.0289988 36.446 0.0209988 36.387 0.0159988 36.327C0.290999 37.994 2.921 37.813 4.555 36.016C5.411 36.016 5.991 36.016 6.01 36.016C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989 38.252 0.88 38.143C0.771 38.034 0.671 37.917 0.579 37.793C0.488 37.668 0.406 37.537 0.335 37.398C0.264 37.26 0.202 37.117 0.152 36.967C0.113 36.849 0.0809998 36.728 0.0559998 36.605C0.494 38.26 3.193 37.925 4.792 36.017C5.516 36.017 5.991 36.017 6.009 36.017C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M3.006 39.023C2.84 39.023 2.677 39.01 2.519 38.984C2.36 38.959 2.206 38.92 2.056 38.87C1.925 38.821 1.752 38.748 1.625 38.688C1.487 38.617 1.355 38.535 1.23 38.444C1.106 38.352 0.989004 38.252 0.880004 38.143C0.771004 38.034 0.671004 37.917 0.579004 37.793C0.488004 37.668 0.406004 37.537 0.335004 37.398C0.264004 37.26 0.202004 37.117 0.152004 36.967C0.151004 36.962 0.148004 36.955 0.146004 36.949C0.730004 38.427 3.426 38.188 5.076 36.016C5.639 36.016 5.994 36.016 6.01 36.016C6.011 37.679 4.665 39.023 3.006 39.023Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C1.312 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 33.019 3.006 31.644 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C1.312 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C1.311 36.019 0 36.019 0 36.019C0 33.019 3.006 31.644 3.006 29.519C3.001 30.452 2.5 31.152 1.684 32.216C1.049 33.044 0.091 34.294 0.472 35.284C0.75 36.009 2.16 36.381 2.949 35.506C3.126 35.31 3.595 34.789 3.605 33.733C3.619 32.298 3.004 30.953 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 33.019 3.006 31.644 3.006 29.519C2.997 30.455 2.495 31.154 1.677 32.216C-0.421 34.944 0.337 35.769 0.976 36.019C0.375 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C2.708 36.019 2.47 36.019 2.243 36.019C2.266 36.015 2.299 36.009 2.323 36.005C3.318 35.533 3.601 34.731 3.663 34.14C3.831 32.544 3.004 31.091 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 33.019 3.006 31.644 3.006 29.519C2.987 30.421 2.586 31.034 1.675 32.216C1.132 32.922 -0.523 35.07 0.667 36.019C0.25 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C2.8 36.019 2.649 36.019 2.502 36.019C2.572 35.987 2.666 35.945 2.736 35.913C3.215 35.434 3.757 34.892 3.805 33.733C3.833 33.052 3.678 32.579 3.481 31.979C3.086 30.779 3.004 30.53 3.005 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M2.995 29.741C2.935 30.345 2.659 30.802 2.437 31.169C2.773 30.643 3.005 30.109 3.005 29.519C3.004 29.586 3.002 29.675 2.995 29.741Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 34.975 0.364 34.127 0.84 33.376H0.839C0.535 33.887 -0.178 35.081 0.487 36.019C0.179 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C2.877 36.019 2.801 36.019 2.725 36.019C3.095 35.698 3.866 35.03 3.921 33.733C3.948 33.1 3.72 32.478 3.537 31.979C3.096 30.778 3.004 30.527 3.005 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M3.004 29.599C2.983 30.132 2.805 30.492 2.649 30.809C2.867 30.398 3.006 29.976 3.006 29.519C3.005 29.543 3.005 29.575 3.004 29.599Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.193 0.229 34.489 0.56 33.86C0.247 34.506 -0.028 35.205 0.353 36.019C0.128 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.982 36.019 4.613 36.019 2.953 36.019C3.011 35.96 3.087 35.882 3.144 35.824C4.5 34.222 3.998 32.978 3.593 31.979C3.118 30.805 3.006 30.527 3.005 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M2.993 29.757C2.954 30.121 2.843 30.386 2.776 30.544C2.92 30.216 3.005 29.878 3.005 29.519C3.003 29.59 3.001 29.686 2.993 29.757Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.355 0.147 34.771 0.377 34.241C0.242 34.59 -0.036 35.316 0.248 36.019C0.089 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.983 36.019 4.702 36.019 3.118 36.019C3.133 36.005 3.153 35.988 3.168 35.974C4.322 34.554 4.421 33.733 3.648 31.979C3.157 30.865 3.008 30.529 3.005 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M3.004 29.604C2.994 29.824 2.967 30.014 2.858 30.336C2.952 30.073 3.005 29.803 3.005 29.519C3.005 29.544 3.005 29.578 3.004 29.604Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.494 0.093 35.017 0.245 34.579C0.131 34.965 0.001 35.402 0.168 36.019C0.06 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.984 36.019 4.809 36.019 3.318 36.019C3.378 35.945 3.457 35.846 3.515 35.772C4.764 34.197 4.176 32.967 3.703 31.979C3.186 30.897 3.012 30.532 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M2.989 29.794C2.971 29.936 2.93 30.101 2.918 30.148C2.975 29.945 3.006 29.736 3.006 29.519C3.003 29.602 2.999 29.712 2.989 29.794Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.61 0.057 35.231 0.152 34.876C0.105 35.068 -0.005 35.518 0.104 36.019C0.036 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.985 36.019 4.911 36.019 3.516 36.019C3.537 35.993 3.565 35.956 3.585 35.93C4.811 34.178 4.449 33.304 3.584 31.647C3.093 30.707 3.006 30.211 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M3.003 29.627C2.994 29.782 2.983 29.844 2.961 29.966C2.99 29.82 3.006 29.671 3.006 29.519C3.005 29.551 3.005 29.595 3.003 29.627Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.721 0.03 35.44 0.083 35.171C0.035 35.504 0.011 35.671 0.057 36.019C0.02 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.986 36.019 5.014 36.019 3.718 36.019C4.741 34.497 4.76 33.704 3.811 31.979C3.259 30.976 3.007 30.518 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M2.989 29.786C3 29.698 3.006 29.609 3.006 29.518C3.002 29.599 2.998 29.706 2.989 29.786Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.831 0.012 35.65 0.034 35.475C0.011 35.674 0.013 35.74 0.023 36.019C0.008 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.988 36.019 5.113 36.019 3.918 36.019C3.938 35.99 3.964 35.951 3.983 35.92C5.054 34.146 4.661 33.328 3.669 31.648C3.11 30.703 3.007 30.189 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M3.004 29.596C3.005 29.571 3.006 29.544 3.006 29.519L3.004 29.596Z" fill="white" class="svelte-cbomfq"></path><path d="M0 36.019C0 35.943 0.002 35.868 0.006 35.793L0.004 36.019C0.002 36.019 0 36.019 0 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.989 36.019 5.212 36.019 4.125 36.019C4.174 35.934 4.238 35.822 4.286 35.737C5.214 34.048 4.648 33.145 3.711 31.65C3.061 30.612 3.007 30.071 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.99 36.019 5.309 36.019 4.33 36.019C5.277 34.327 4.929 33.449 3.968 31.979C3.369 31.063 3.008 30.509 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.991 36.019 5.412 36.019 4.556 36.019C4.598 35.931 4.654 35.814 4.697 35.726C5.451 34.046 4.863 33.196 3.797 31.651C3.082 30.616 3.017 30.093 3.007 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.993 36.019 5.518 36.019 4.794 36.019C4.832 35.928 4.882 35.808 4.92 35.717C5.55 34.022 5.014 33.279 3.838 31.653C3.079 30.603 3.012 30.045 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M6.011 36.019C5.995 36.019 5.64 36.019 5.077 36.019C5.673 34.397 5.393 33.663 4.124 31.98C3.36 30.967 3.023 30.428 3.006 29.519C3.006 31.644 6.011 33.019 6.011 36.019Z" fill="white" class="svelte-cbomfq"></path><path d="M3.429 32.615C3.909 35.739 2.083 36.326 0.929001 35.604C-0.297999 34.838 1.116 32.978 1.874 31.978C2.628 30.986 2.989 30.372 3.005 29.564C3.005 29.816 3.003 30.285 3.072 30.785C3.157 31.402 3.335 32.001 3.429 32.615Z" fill="white" class="svelte-cbomfq"></path><path d="M3.345 32.615C3.581 34.542 3.391 34.763 2.759 35.498C2.117 36.245 1.135 35.555 0.944996 35.409C-0.0930036 34.614 1.052 33.091 1.888 31.978C2.632 30.988 2.99 30.376 3.005 29.582C3.004 29.832 3.004 29.832 3.345 32.615Z" fill="white" class="svelte-cbomfq"></path><path d="M3.267 32.615C3.41 33.924 3.468 34.466 3.107 35.023C2.762 35.554 2.183 36.071 1.383 35.519C0.322001 34.788 0.256001 34.204 1.904 31.978C2.61 31.025 2.974 30.403 3.004 29.65C3.006 30.224 3.006 30.224 3.267 32.615Z" fill="white" class="svelte-cbomfq"></path><path d="M3.322 34.14C3.295 34.51 2.649 36.781 1.001 35.024C0.275999 34.252 1.115 33.096 1.927 31.979C2.636 31.002 2.979 30.406 3.004 29.658C3 30.638 3.209 32.835 3.264 33.288C3.297 33.567 3.339 33.917 3.322 34.14Z" fill="white" class="svelte-cbomfq"></path><path d="M3.27 34.14C3.193 35.192 2.23 36.148 1.418 35.238C0.678997 34.408 0.428997 34.129 1.953 31.979C2.653 30.992 2.971 30.428 3.003 29.695C3.003 30.022 3.003 30.022 3.011 30.242C3.043 31.127 3.087 32.209 3.087 32.218C3.114 32.86 3.316 33.488 3.27 34.14Z" fill="white" class="svelte-cbomfq"></path><path d="M3.152 34.467C2.953 35.81 1.677 35.714 1.341 35.024C0.811002 33.936 0.742002 33.796 1.988 31.979C2.86 30.706 2.97 30.298 3.001 29.732C3.004 30.464 3.034 31.196 3.022 31.928C3.009 32.777 3.279 33.611 3.152 34.467Z" fill="white" class="svelte-cbomfq"></path><path d="M3.147 34.218C2.863 36.115 1.62 35.426 1.422 35.024C1.382 34.942 1.371 34.816 1.351 34.727C1.349 34.715 1.346 34.701 1.344 34.689C1.271 34.371 1.055 34.085 1.125 33.733C1.233 33.195 1.604 32.631 2.031 31.979C2.832 30.761 2.963 30.395 3 29.769C3.018 31.411 3.018 31.411 2.975 31.871C2.959 32.041 2.93 32.487 3.006 32.975C3.173 34.047 3.173 34.047 3.147 34.218Z" fill="white" class="svelte-cbomfq"></path><path d="M3.079 34.569C2.807 35.564 1.869 35.707 1.507 35.023C1.441 34.899 1.401 34.709 1.39 34.569C1.386 34.529 1.398 34.475 1.398 34.435C1.397 34.363 1.352 34.273 1.333 34.204C1.332 34.201 1.238 33.811 1.375 33.345C1.639 32.441 2.292 31.749 2.703 30.925C2.84 30.652 2.956 30.379 3 29.805C3.006 30.066 3.013 30.326 3.017 30.587C3.029 31.247 2.884 31.899 2.892 32.559C2.897 33.234 3.271 33.875 3.079 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M3.048 34.569C2.816 35.372 2.009 35.749 1.592 35.023C1.323 34.555 1.486 33.693 1.568 33.344C1.673 32.898 1.77 32.724 2.399 31.592C2.698 31.054 2.934 30.629 2.998 29.841C3.004 29.939 3.014 30.58 3.014 30.586C3.022 31.249 2.787 31.886 2.798 32.55C2.809 33.232 3.254 33.86 3.048 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M3.017 34.569C2.789 35.316 2.031 35.683 1.652 35.023C1.34 34.48 1.553 33.805 2.086 32.672C2.094 32.654 2.899 30.932 2.996 29.886C3.006 30.109 3.011 30.582 3.011 30.586C3.015 31.257 2.706 31.878 2.695 32.547C2.692 32.688 2.786 32.971 2.787 32.973C2.843 33.068 3.188 34.01 3.017 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.985 34.569C2.809 35.127 2.34 35.306 2.337 35.307C2.228 35.346 2.058 35.32 1.952 35.273C1.854 35.23 1.754 35.115 1.701 35.023C1.698 35.019 1.464 34.581 1.596 34.139C1.88 33.19 2.398 32.685 2.402 32.684C2.463 32.66 2.569 32.674 2.618 32.718C2.676 32.772 2.656 32.899 2.683 32.973C2.704 33.034 2.756 33.104 2.791 33.159C2.862 33.27 2.978 33.728 2.978 33.732C3.069 34.191 3.021 34.453 2.985 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.998 30.925C2.956 31.441 2.794 31.701 2.792 31.702C2.762 31.732 2.691 31.773 2.657 31.748C2.647 31.741 2.652 31.533 2.7 31.271C2.759 30.953 2.863 30.646 2.931 30.33C2.961 30.188 2.957 30.041 2.995 29.9C3.011 30.776 3.011 30.776 2.998 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.954 34.569C2.815 35.005 2.427 35.235 2.338 35.268C2.23 35.309 2.062 35.269 1.955 35.225C1.876 35.192 1.794 35.097 1.751 35.023L1.616 34.569C1.628 34.208 1.628 34.208 1.789 33.805C1.816 33.737 1.971 33.377 2.319 33.002L2.577 32.958C2.585 32.963 3.183 33.847 2.954 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.922 34.569C2.806 34.936 2.449 35.184 2.34 35.229C2.233 35.272 2.067 35.218 1.958 35.177C1.896 35.154 1.835 35.079 1.802 35.023C1.691 34.837 1.644 34.334 1.72 34.139C1.85 33.805 1.928 33.603 2.132 33.344C2.176 33.289 2.22 33.199 2.279 33.162C2.353 33.115 2.477 33.043 2.558 33.075C2.606 33.095 2.862 33.577 2.899 33.731C2.936 33.885 3.024 34.247 2.922 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.991 30.925C2.949 31.361 2.823 31.52 2.822 31.521C2.794 31.533 2.743 31.511 2.725 31.485C2.688 31.428 2.723 31.327 2.735 31.26C2.749 31.183 2.766 31.08 2.781 31.004C2.825 30.777 2.89 30.556 2.935 30.329C2.962 30.193 2.967 30.054 2.997 29.918C2.995 30.254 3.022 30.59 2.991 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.891 34.569C2.8 34.853 2.432 35.168 2.341 35.19C2.23 35.217 2.071 35.167 1.962 35.129C1.919 35.114 1.886 35.055 1.853 35.023C1.751 34.922 1.748 34.707 1.709 34.569C1.699 34.532 1.753 34.055 1.937 33.732L2.242 33.325C2.316 33.259 2.448 33.158 2.543 33.187C2.595 33.204 2.606 33.297 2.634 33.344C2.667 33.401 2.727 33.466 2.769 33.516C2.815 33.57 2.844 33.663 2.862 33.732C2.919 33.964 2.991 34.252 2.891 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.983 30.925C2.967 31.08 2.967 31.08 2.84 31.407C2.761 31.32 2.761 31.32 2.768 31.26C2.779 31.159 2.791 31.025 2.809 30.925L2.996 29.944C2.991 30.855 2.991 30.855 2.983 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.859 34.569C2.78 34.816 2.39 35.14 2.342 35.151C2.23 35.177 2.047 35.163 1.965 35.083C1.881 35.002 1.806 34.829 1.74 34.569C1.739 34.566 1.734 34.155 1.985 33.732C2.045 33.633 2.128 33.498 2.217 33.425L2.523 33.299C2.525 33.3 2.808 33.688 2.82 33.732C2.898 34.024 2.96 34.256 2.859 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.977 30.925C2.967 31.01 2.967 31.01 2.859 31.294C2.839 31.264 2.8 31.249 2.793 31.21C2.783 31.156 2.803 31.082 2.808 31.027C2.828 30.845 2.995 29.976 2.996 29.968C2.99 30.8 2.99 30.8 2.977 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.828 34.569C2.772 34.744 2.378 35.106 2.345 35.113C2.233 35.137 2.053 35.115 1.97 35.036C1.931 35 1.775 34.572 1.774 34.569C1.773 34.566 1.732 34.23 2.038 33.732C2.08 33.664 2.135 33.566 2.199 33.518C2.282 33.457 2.415 33.356 2.513 33.384C2.515 33.384 2.788 33.745 2.793 33.764C2.876 34.076 2.926 34.264 2.828 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.969 30.925C2.963 30.98 2.919 31.091 2.869 31.22C2.807 31.135 2.807 31.135 2.826 30.949C2.831 30.903 2.993 30.001 2.994 29.994C2.989 30.75 2.989 30.75 2.969 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.797 34.569C2.764 34.673 2.388 35.066 2.347 35.075C2.304 35.084 2.005 35.004 1.975 34.975C1.879 34.883 1.822 34.7 1.806 34.569C1.79 34.439 1.831 34.262 1.874 34.139C1.875 34.136 2.046 33.756 2.179 33.612C2.252 33.532 2.398 33.424 2.503 33.45C2.509 33.451 3.007 33.915 2.797 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.972 30.848C2.966 30.899 2.952 30.969 2.877 31.166C2.825 31.059 2.825 31.059 2.839 30.925C2.844 30.872 2.991 30.026 2.993 30.019C2.989 30.718 2.989 30.718 2.972 30.848Z" fill="white" class="svelte-cbomfq"></path><path d="M2.766 34.569C2.755 34.604 2.352 35.036 2.349 35.036C2.329 35.041 1.999 34.928 1.981 34.91C1.978 34.908 1.726 34.635 1.909 34.139C1.91 34.136 2.135 33.734 2.16 33.707C2.239 33.622 2.382 33.491 2.495 33.516C2.5 33.518 2.969 33.941 2.766 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.977 30.759C2.956 30.923 2.934 30.982 2.885 31.111C2.835 30.965 2.822 30.924 2.991 30.045C2.989 30.652 2.989 30.652 2.977 30.759Z" fill="white" class="svelte-cbomfq"></path><path d="M2.771 34.248C2.758 34.345 2.775 34.484 2.727 34.569C2.643 34.716 2.515 34.952 2.35 34.991C2.236 35.018 2.07 34.928 1.986 34.845C1.768 34.629 1.94 34.144 1.942 34.139C1.986 34.029 2.058 33.881 2.141 33.795C2.168 33.767 2.471 33.579 2.485 33.582C2.526 33.59 2.654 33.82 2.777 34.105C2.794 34.146 2.777 34.206 2.771 34.248Z" fill="white" class="svelte-cbomfq"></path><path d="M2.98 30.669C2.958 30.859 2.949 30.885 2.892 31.055C2.854 30.909 2.837 30.849 2.99 30.07C2.99 30.349 2.989 30.59 2.98 30.669Z" fill="white" class="svelte-cbomfq"></path><path d="M2.688 34.569C2.625 34.705 2.501 34.91 2.354 34.942C2.239 34.967 2.084 34.857 1.994 34.782C1.941 34.737 1.92 34.636 1.905 34.569C1.904 34.565 1.906 34.125 2.126 33.882C2.16 33.843 2.459 33.646 2.478 33.65C2.5 33.655 2.731 34.076 2.746 34.139C2.773 34.267 2.741 34.451 2.688 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.925 30.925C2.919 30.947 2.907 30.978 2.901 30.999C2.869 30.867 2.851 30.795 2.99 30.094C2.989 30.594 2.989 30.684 2.925 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.647 34.569C2.593 34.688 2.485 34.868 2.356 34.893C2.24 34.916 2.094 34.791 2 34.718C1.962 34.688 1.95 34.615 1.937 34.569C1.936 34.566 1.948 34.147 2.109 33.969C2.118 33.959 2.463 33.716 2.467 33.717C2.471 33.718 2.697 34.128 2.699 34.139C2.727 34.267 2.701 34.451 2.647 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.914 30.925C2.912 30.931 2.909 30.939 2.907 30.945C2.881 30.838 2.86 30.754 2.987 30.12C2.988 30.551 2.989 30.653 2.914 30.925Z" fill="white" class="svelte-cbomfq"></path><path d="M2.607 34.569C2.562 34.671 2.469 34.826 2.359 34.845C2.241 34.866 2.105 34.725 2.006 34.655C1.984 34.639 1.979 34.595 1.97 34.569C1.969 34.566 2.003 34.16 2.093 34.058C2.184 33.954 2.324 33.752 2.458 33.782C2.578 33.808 2.633 34.019 2.655 34.139C2.68 34.268 2.66 34.451 2.607 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.914 30.893C2.893 30.708 2.885 30.64 2.986 30.145C2.986 30.575 2.986 30.583 2.914 30.893Z" fill="white" class="svelte-cbomfq"></path><path d="M2.568 34.569C2.531 34.653 2.454 34.782 2.362 34.798C2.36 34.798 2.032 34.636 2.005 34.569C1.954 34.448 2.016 34.251 2.086 34.139C2.161 34.021 2.314 33.818 2.451 33.846C2.55 33.866 2.597 34.04 2.612 34.139C2.633 34.268 2.62 34.45 2.568 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.92 30.843C2.904 30.648 2.899 30.581 2.984 30.169C2.984 30.566 2.976 30.604 2.92 30.843Z" fill="white" class="svelte-cbomfq"></path><path d="M2.528 34.569C2.5 34.635 2.438 34.739 2.366 34.75C2.262 34.766 2.107 34.666 2.066 34.569C2.014 34.448 2.092 34.254 2.158 34.139C2.213 34.044 2.337 33.889 2.444 33.91C2.52 33.926 2.558 34.061 2.568 34.139C2.585 34.269 2.58 34.45 2.528 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.927 30.793C2.923 30.731 2.913 30.648 2.919 30.587C2.919 30.585 2.974 30.233 2.982 30.194C2.982 30.55 2.967 30.616 2.927 30.793Z" fill="white" class="svelte-cbomfq"></path><path d="M2.489 34.569C2.468 34.618 2.423 34.694 2.369 34.702C2.292 34.714 2.178 34.64 2.146 34.569C2.093 34.449 2.174 34.257 2.232 34.139C2.266 34.069 2.359 33.96 2.436 33.975C2.601 34.009 2.492 34.563 2.489 34.569Z" fill="white" class="svelte-cbomfq"></path><path d="M2.933 30.744C2.93 30.696 2.922 30.634 2.927 30.587C2.927 30.584 2.977 30.238 2.982 30.219C2.98 30.491 2.968 30.561 2.933 30.744Z" fill="white" class="svelte-cbomfq"></path><path d="M2.373 34.655C2.322 34.663 2.248 34.615 2.227 34.569C2.172 34.45 2.259 34.261 2.306 34.139C2.323 34.095 2.382 34.032 2.428 34.04C2.497 34.055 2.493 34.093 2.45 34.568C2.447 34.604 2.407 34.65 2.373 34.655Z" fill="white" class="svelte-cbomfq"></path><path d="M2.938 30.694C2.937 30.662 2.931 30.619 2.934 30.587C2.943 30.486 2.968 30.355 2.979 30.255C2.958 30.587 2.958 30.587 2.938 30.694Z" fill="white" class="svelte-cbomfq"></path><path d="M2.376 34.608C2.354 34.612 2.319 34.589 2.31 34.569C2.254 34.451 2.351 34.266 2.382 34.139C2.386 34.124 2.407 34.104 2.422 34.107C2.438 34.11 2.453 34.114 2.412 34.569C2.41 34.585 2.392 34.606 2.376 34.608Z" fill="white" class="svelte-cbomfq"></path><path d="M2.943 30.645C2.94 30.574 2.956 30.48 2.965 30.411C2.961 30.48 2.956 30.575 2.943 30.645Z" fill="white" class="svelte-cbomfq"></path><path d="M2.948 30.594C2.948 30.585 2.95 30.573 2.951 30.564C2.951 30.573 2.95 30.585 2.948 30.594Z" fill="white" class="svelte-cbomfq"></path><path d="M3.328 25.519C3.953 18.581 8.646 10.35 15.516 6.95599C20.704 4.39299 22.516 4.14299 25.954 0.955994" stroke="white" stroke-width="0.3118" stroke-linecap="round" class="svelte-cbomfq"></path></svg></div>');function pN(t){var e=gN();Ve(t,e)}const mN=()=>{const{subscribe:t,set:e,update:a}=yn({text:"",x:0,y:0,visible:!1});return{subscribe:t,show(n,c){e({text:c,x:n.clientX,y:n.clientY,visible:!0})},hide(){a(n=>({...n,visible:!1}))}}},_N=mN();var bN=ft('<button class="hover:text-accent pointer-events-auto cursor-pointer p-2 text-left text-base duration-150"><!></button>'),yN=()=>Qn.set(!0),vN=ft('<button class="hover:text-accent pointer-events-auto cursor-pointer p-2 text-left text-base duration-150"><!></button>'),xN=ft('<div class="bg-main/60 absolute left-0 top-0 z-10 flex w-full gap-2 p-1 pl-4 pr-4 text-base"><ui><!></ui> <div class="h-hull w-[1px] rounded-full bg-gray-400"></div> <ui class="flex w-full justify-between"><li class="flex"><button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!></button> <button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!></button></li> <li class="flex"><button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!></button> <!> <!> <!></li></ui></div>');function wN(t,e){mi(e,!1);const[a,n]=rr(),c=()=>zi(zo,"$showDataMenu",a),f=()=>zi(Fs,"$isSideMenuType",a),h=()=>{Qn.set(!1),zo.set(!c())};QA.subscribe(ge=>{Qn.set(!1)});const s=()=>{f()==="search"?Fs.set(null):Fs.set("search")},x=()=>{f()==="layer"?Fs.set(null):Fs.set("layer")};Vo();var w=xN(),I=Le(w),R=Le(I);{var E=ge=>{var le=bN();le.__click=()=>Fs.set(null);var _e=Le(le);vi(_e,{icon:"ep:back",class:"h-8 w-8"}),Ue(le),Ve(ge,le)},M=ge=>{var le=vN();le.__click=[yN];var _e=Le(le);vi(_e,{icon:"ic:round-menu",class:"h-8 w-8"}),Ue(le),Ve(ge,le)};It(R,ge=>{f()?ge(E):ge(M,!1)})}Ue(I);var Y=Ze(I,4),D=Le(Y),O=Le(D);O.__click=s;var H=Le(O);vi(H,{icon:"stash:search-solid",class:"h-8 w-8"}),Ue(O);var $=Ze(O,2);$.__click=x;var Ae=Le($);vi(Ae,{icon:"ic:round-layers",class:"h-8 w-8"}),Ue($),Ue(D);var ce=Ze(D,2),he=Le(ce);he.__click=h;var se=Le(he);vi(se,{icon:"material-symbols:data-saver-on-rounded",class:"h-8 w-8"}),Ue(he);var ae=Ze(he,2);XY(ae,{});var V=Ze(ae,2);fN(V,{});var J=Ze(V,2);HY(J,{}),Ue(ce),Ue(Y),Ue(w),Ve(t,w),_i(),n()}$a(["click"]);function BN(t){const e=t-1;return e*e*e+1}function q8(t,{from:e,to:a},n={}){var{delay:c=0,duration:f=se=>Math.sqrt(se)*120,easing:h=BN}=n,s=getComputedStyle(t),x=s.transform==="none"?"":s.transform,[w,I]=s.transformOrigin.split(" ").map(parseFloat);w/=t.clientWidth,I/=t.clientHeight;var R=CN(t),E=t.clientWidth/a.width/R,M=t.clientHeight/a.height/R,Y=e.left+e.width*w,D=e.top+e.height*I,O=a.left+a.width*w,H=a.top+a.height*I,$=(Y-O)*E,Ae=(D-H)*M,ce=e.width/a.width,he=e.height/a.height;return{delay:c,duration:typeof f=="function"?f(Math.sqrt($*$+Ae*Ae)):f,easing:h,css:(se,ae)=>{var V=ae*$,J=ae*Ae,ge=se+ae*ce,le=se+ae*he;return`transform: ${x} translate(${V}px, ${J}px) scale(${ge}, ${le});`}}}function CN(t){if("currentCSSZoom"in t)return t.currentCSSZoom;for(var e=t,a=1;e!==null;)a*=+getComputedStyle(e).zoom,e=e.parentElement;return a}var MN=ft('<label class="hover:text-accent flex grow cursor-pointer items-start justify-between gap-2 py-2 transition-colors duration-100"><span class="select-none text-base font-bold"> </span> <input type="checkbox" class="hidden"> <div><div></div></div></label>');function kl(t,e){mi(e,!0);let a=si(e,"value",15);var n=MN(),c=Le(n),f=Le(c,!0);Ue(c);var h=Ze(c,2);ks(h);var s=Ze(h,2),x=Le(s);Ue(s),Ue(n),di(()=>{yi(f,e.label),Pr(s,1,`relative flex h-[30px] w-[60px] items-center rounded-full ${(a()?"bg-accent":"bg-gray-400")??""}`),Pr(x,1,`ml-[5px] h-[22px] w-[22px] rounded-full bg-white transition-transform duration-200 ${(a()?"translate-x-[28px]":"")??""}`)}),Pm(h,a),Ve(t,n),_i()}var RN=ft('<li style="display: flex; align-items: center; margin-bottom: 5px;"><span></span> <span> </span></li>'),IN=ft('<h2 class="text-gray-100"> </h2> <ul class="text-gray-100"></ul>',1),UN=ft("<span> </span>"),EN=ft('<h2 class="text-gray-100"> </h2> <div class="flex w-full flex-col gap-2 text-gray-100"><div class="w-full"><div class="h-[25px] w-full rounded-md"></div></div> <div class="flex w-full justify-between"></div></div>',1),FN=ft("<!> <!>",1),TN=ft('<div class="flex-between flex w-full select-none gap-2"><div class="w-full rounded-full p-2"></div></div>'),SN=ft('<div class="flex-between flex w-full select-none gap-2 text-gray-100"><div class="h-[20px] w-[20px] flex-none rounded-full"></div> <div class="w-full"> </div></div>'),YN=ft('<div class="flex w-full select-none items-center justify-center gap-2 text-gray-100"><div class="h-[20px] w-[20px] flex-none rounded-full"></div> <div class="w-full"> </div></div>'),NN=ft("<!> <!>",1);function LN(t,e){mi(e,!0);let a=ra(()=>e.layerEntry.style),n=ra(()=>e.layerEntry.type),c=ra(()=>{if(!(!e.layerEntry||e.layerEntry.type!=="vector"))return e.layerEntry.style.colors.expressions.find(R=>R.key===e.layerEntry.style.colors.key)}),f=ra(()=>{if(q(c)&&q(c).type==="step")return kg(q(c).mapping)});var h=NN(),s=kt(h);{var x=R=>{var E=FN(),M=kt(E);{var Y=H=>{var $=IN(),Ae=kt($),ce=Le(Ae,!0);Ue(Ae);var he=Ze(Ae,2);Ea(he,21,()=>q(a).legend.colors,pr,(se,ae,V)=>{var J=RN(),ge=Le(J),le=Ze(ge,2),_e=Le(le,!0);Ue(le),Ue(J),di(()=>{hn(ge,`width: 20px; height: 20px; background-color: ${q(ae)??""}; margin-right: 10px; display: inline-block;`),yi(_e,q(a).legend.labels[V])}),Ve(se,J)}),Ue(he),di(()=>yi(ce,q(a).legend.name)),Ve(H,$)};It(M,H=>{q(a).legend.type==="category"&&H(Y)})}var D=Ze(M,2);{var O=H=>{var $=EN(),Ae=kt($),ce=Le(Ae,!0);Ue(Ae);var he=Ze(Ae,2),se=Le(he),ae=Le(se);Ue(se);var V=Ze(se,2);Ea(V,21,()=>q(a).legend.range.slice(),pr,(J,ge)=>{var le=UN(),_e=Le(le);Ue(le),di(()=>yi(_e,`${q(ge)??""} ${q(a).legend.unit??""}`)),Ve(J,le)}),Ue(V),Ue(he),di(()=>{yi(ce,q(a).legend.name),hn(ae,`background: linear-gradient(90deg, ${q(a).legend.colors[0]??""} 0%, ${q(a).legend.colors[1]??""} 100%);`)}),Ve(H,$)};It(D,H=>{q(a).legend.type==="gradient"&&H(O)})}Ve(R,E)};It(s,R=>{q(n)==="raster"&&q(a).type==="categorical"&&R(x)})}var w=Ze(s,2);{var I=R=>{var E=xi(),M=kt(E);{var Y=D=>{var O=xi(),H=kt(O);{var $=ce=>{var he=TN(),se=Le(he);Ue(he),di(()=>hn(se,`background-color: ${q(c).mapping.value??""};`)),Ve(ce,he)},Ae=(ce,he)=>{{var se=V=>{var J=xi(),ge=kt(J);Ea(ge,17,()=>q(c).mapping.categories,pr,(le,_e,ve)=>{var He=SN(),nt=Le(He),$e=Ze(nt,2),Je=Le($e,!0);Ue($e),Ue(He),di(()=>{hn(nt,`background-color: ${q(c).mapping.values[ve]??""};`),yi(Je,q(c).mapping.categories[ve])}),Ve(le,He)}),Ve(V,J)},ae=(V,J)=>{{var ge=le=>{var _e=xi(),ve=kt(_e);{var He=nt=>{var $e=xi(),Je=kt($e);Ea(Je,17,()=>q(f).categories,pr,(gt,Rt,Yt)=>{var ot=YN(),mt=Le(ot),je=Ze(mt,2),Qe=Le(je,!0);Ue(je),Ue(ot),di(()=>{hn(mt,`background-color: ${q(f).values[Yt]??""};`),yi(Qe,q(f).categories[Yt])}),Ve(gt,ot)}),Ve(nt,$e)};It(ve,nt=>{q(f)&&nt(He)})}Ve(le,_e)};It(V,le=>{q(c).type==="step"&&le(ge)},J)}};It(ce,V=>{q(c).type==="match"?V(se):V(ae,!1)},he)}};It(H,ce=>{q(c).type==="single"?ce($):ce(Ae,!1)})}Ve(D,O)};It(M,D=>{q(n)==="vector"&&D(Y)})}Ve(R,E)};It(w,R=>{q(c)&&R(I)})}Ve(t,h),_i()}var PN=ft('<img class="pointer-events-none absolute block h-full w-full rounded-full object-cover" crossOrigin="anonymous">'),QN=ft('<img crossOrigin="anonymous" class="pointer-events-none absolute block h-full w-full rounded-full object-cover">'),kN=ft('<img crossOrigin="anonymous" class="pointer-events-none absolute block h-full w-full rounded-full object-cover">');function W8(t,e){mi(e,!0);const a=async I=>{if(I.type!=="raster")return Promise.resolve(void 0);const R=I.metaData.xyzImageTile?I.metaData.xyzImageTile:tg;return Promise.resolve(I.format.url.replace("{z}",R.z.toString()).replace("{x}",R.x.toString()).replace("{y}",R.y.toString()))},n=async I=>{try{if(I.type!=="raster"||I.format.type!=="pmtiles")return;const R=I.metaData.xyzImageTile?I.metaData.xyzImageTile:tg;return await k5(I.format.url,R)}catch(R){console.error("Error fetching tile image:",R)}},c=async I=>await Promise.resolve(I.metaData.coverImage),f=(()=>{if(e.layerEntry.type==="raster"){if(e.layerEntry.format.type==="image")return a(e.layerEntry);if(e.layerEntry.format.type==="pmtiles")return n(e.layerEntry)}else if(e.layerEntry.type==="vector")return c(e.layerEntry)})();var h=xi(),s=kt(h);{var x=I=>{var R=xi(),E=kt(R);{var M=D=>{var O=xi(),H=kt(O);S1(H,()=>f,null,($,Ae)=>{var ce=PN();di(()=>{ja(ce,"alt",e.layerEntry.metaData.name),ja(ce,"src",q(Ae))}),ba(3,ce,()=>As),Ve($,ce)}),Ve(D,O)},Y=(D,O)=>{{var H=$=>{var Ae=xi(),ce=kt(Ae);S1(ce,()=>f,null,(he,se)=>{var ae=QN();di(()=>{ja(ae,"alt",e.layerEntry.metaData.name),ja(ae,"src",q(se))}),ba(3,ae,()=>As),Ve(he,ae)}),Ve($,Ae)};It(D,$=>{e.layerEntry.format.type==="pmtiles"&&$(H)},O)}};It(E,D=>{e.layerEntry.format.type==="image"?D(M):D(Y,!1)})}Ve(I,R)},w=(I,R)=>{{var E=M=>{var Y=xi(),D=kt(Y);{var O=$=>{var Ae=xi(),ce=kt(Ae);S1(ce,()=>f,null,(he,se)=>{var ae=kN();di(()=>{ja(ae,"alt",e.layerEntry.metaData.name),ja(ae,"src",q(se))}),ba(3,ae,()=>As),Ve(he,ae)}),Ve($,Ae)},H=($,Ae)=>{{var ce=se=>{vi(se,{icon:"ic:baseline-mode-standby",class:"pointer-events-none",width:30})},he=(se,ae)=>{{var V=ge=>{vi(ge,{icon:"ic:baseline-polymer",class:"pointer-events-none",width:30})},J=(ge,le)=>{{var _e=He=>{vi(He,{icon:"ic:baseline-pentagon",class:"pointer-events-none",width:30})},ve=(He,nt)=>{{var $e=Je=>{vi(Je,{icon:"mynaui:label-solid",class:"pointer-events-none",width:30})};It(He,Je=>{e.layerEntry.format.geometryType==="Label"&&Je($e)},nt)}};It(ge,He=>{e.layerEntry.format.geometryType==="Polygon"?He(_e):He(ve,!1)},le)}};It(se,ge=>{e.layerEntry.format.geometryType==="LineString"?ge(V):ge(J,!1)},ae)}};It($,se=>{e.layerEntry.format.geometryType==="Point"?se(ce):se(he,!1)},Ae)}};It(D,$=>{e.layerEntry.metaData.coverImage?$(O):$(H,!1)})}Ve(M,Y)};It(I,M=>{e.layerEntry.type==="vector"&&M(E)},R)}};It(s,I=>{e.layerEntry.type==="raster"?I(x):I(w,!1)})}Ve(t,h),_i()}const DN=(t,e)=>{e()&&da.focusLayer(e())},zN=(t,e,a)=>{e()&&Oo(OA,!a())};var ZN=(t,e,a)=>e(t,a().id),HN=ft('<div class="pointer-events-none absolute grid h-full w-full place-items-center bg-black/50"></div> <div><!></div>',1),ON=(t,e,a)=>{e(a().id)},XN=ft('<button class="cursor-pointer"><!></button>'),VN=ft('<div class="flex pl-[33px]"><div class="w-[2px] items-stretch bg-gray-500"></div> <div class="flex w-full flex-col gap-4 px-2 pt-2"><div class="flex gap-4 text-gray-100"><!> <button class="cursor-pointer"><!></button> <button class="cursor-pointer"><!></button></div> <!></div></div>'),GN=ft('<div role="button" tabindex="0" aria-label=""><button><div class="flex items-center justify-start gap-2"><label class="relative grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center overflow-hidden rounded-full bg-gray-600 text-base"><input type="checkbox" class="hidden"> <!> <!></label> <div class="flex flex-col items-start gap-[2px] overflow-hidden"><span> </span> <span class="text-nowrap text-xs text-gray-400"> </span></div> <label class="relative ml-auto mr-2 grid shrink-0 cursor-pointer place-items-center overflow-hidden rounded-full text-base"><input type="checkbox" class="hidden"> <!></label></div></button> <!></div>');function J8(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(OA,"$isStyleEdit",a),f=()=>zi(to,"$selectedLayerId",a);let h=si(e,"layerEntry",15),s=si(e,"enableFlip",15),x=si(e,"dragEnterType",15),w=$t(!1),I=$t(!1),R=$t(!1),E=ra(()=>{if(h()){if(h().type==="raster")return"raster";if(h().type==="vector"){if(h().format.geometryType==="Label")return"label";if(h().format.geometryType==="Point")return"point";if(h().format.geometryType==="LineString")return"line";if(h().format.geometryType==="Polygon")return"polygon"}}});const M=()=>{q(R)||c()||(f()===h().id?to.set(""):to.set(h().id))},Y=rt=>{st(w,!q(w)),q(w)&&to.set(rt)};zo.subscribe(rt=>{rt&&Oo(to,"")});const D=()=>{Oo(OA,!1),h()&&(Ch.remove(h().id),to.set(""))};let O=0,H=0;const $=(rt,Bt)=>{const yt=document.getElementById(Bt);if(!yt)return;const Dt=yt.getBoundingClientRect();O=rt.clientX-Dt.left,H=rt.clientY-Dt.top},Ae=(rt,Bt)=>{if(!rt.dataTransfer)return;rt.dataTransfer.effectAllowed="move";const yt=document.getElementById(Bt);rt.dataTransfer.setDragImage(yt,O,H),st(I,!0),s(!1),st(w,!1),x(q(E)),to.set(Bt)},ce=rt=>{rt&&f()!==rt&&Ch.reorderWithinTypeById(q(E),f(),rt)},he=()=>{st(I,!1),s(!0),x(null),g7.set("idle")};var se=GN();ja(se,"draggable",!0),se.__mousedown=[ZN,$,h];var ae=Le(se);ae.__click=M;var V=Le(ae),J=Le(V),ge=Le(J);ks(ge);var le=Ze(ge,2);{var _e=rt=>{W8(rt,{get layerEntry(){return h()}})};It(le,rt=>{h().style.visible&&rt(_e)})}var ve=Ze(le,2);{var He=rt=>{var Bt=HN(),yt=kt(Bt),Dt=Ze(yt,2),Ot=Le(Dt);vi(Ot,{icon:"akar-icons:eye-slashed",width:30}),Ue(Dt),di(()=>Pr(Dt,1,`pointer-events-none absolute ${(h().style.visible?"text-red-500":"text-neutral-200")??""}`)),ba(3,yt,()=>As,()=>({duration:100})),ba(3,Dt,()=>As,()=>({duration:100})),Ve(rt,Bt)};It(ve,rt=>{(q(R)||!h().style.visible)&&rt(He)})}Ue(J);var nt=Ze(J,2),$e=Le(nt),Je=Le($e,!0);Ue($e);var gt=Ze($e,2),Rt=Le(gt,!0);Ue(gt),Ue(nt);var Yt=Ze(nt,2),ot=Le(Yt);ot.__input=[ON,Y,h];var mt=Ze(ot,2);const je=ra(()=>q(w)?"-rotate-90":"rotate-90");vi(mt,{icon:"weui:arrow-filled",get class(){return`h-8 w-8 text-base transition-transform duration-150 ${q(je)??""}`}}),Ue(Yt),Ue(V),Ue(ae);var Qe=Ze(ae,2);{var it=rt=>{var Bt=VN(),yt=Ze(Le(Bt),2),Dt=Le(yt),Ot=Le(Dt);{var Ct=fi=>{var Kt=XN();Kt.__click=[DN,h];var pt=Le(Kt);vi(pt,{icon:"hugeicons:target-03",class:"h-8 w-8"}),Ue(Kt),Ve(fi,Kt)};It(Ot,fi=>{h().metaData.location!==""&&h().metaData.location!==""&&fi(Ct)})}var Qt=Ze(Ot,2);Qt.__click=[zN,h,c];var ui=Le(Qt);vi(ui,{icon:"mdi:mixer-settings",class:"ml-4 h-8 w-8"}),Ue(Qt);var Nt=Ze(Qt,2);Nt.__click=D;var Zt=Le(Nt);vi(Zt,{icon:"bx:trash",class:"h-8 w-8"}),Ue(Nt),Ue(Dt);var oi=Ze(Dt,2);LN(oi,{get layerEntry(){return h()}}),Ue(yt),Ue(Bt),ba(3,Bt,()=>Dm,()=>({duration:200})),Ve(rt,Bt)};It(Qe,rt=>{q(w)&&rt(it)})}Ue(se),di(()=>{Pr(se,1,`relative flex flex-col transition-opacity ${(x()!==null&&x()!==q(E)?"opacity-50":"")??""} ${(q(I)?"c-dragging-style":"")??""}`),ja(ae,"id",h().id),Pr(ae,1,`bg-sub c-dragging-style c-rounded border-base relative z-10 cursor-move select-none flex-col overflow-clip text-clip text-nowrap border-2 p-2 text-left transition-colors duration-100 ${(f()===h().id?"css-gradient":" hover:border-accent")??""}`,"svelte-cwcrkw"),Pr($e,1,`text-nowrap text-base ${f()===h().id,""}`),yi(Je,h().metaData.name),yi(Rt,h().metaData.location??"---")}),fr("dragstart",se,rt=>Ae(rt,h().id)),fr("dragenter",se,()=>ce(h().id)),fr("dragover",se,rt=>rt.preventDefault()),fr("dragend",se,he),fr("mouseenter",J,()=>st(R,!0)),fr("mouseleave",J,()=>st(R,!1)),Pm(ge,()=>h().style.visible,rt=>h(h().style.visible=rt,!0)),Ve(t,se),_i(),n()}$a(["mousedown","click","input"]);var jN=ft('<div class="mb-1 mt-4 flex items-center gap-2 border-t p-2 text-base"><!> <span> </span></div>'),KN=ft("<div><!> <!></div>"),$N=()=>zo.set(!0),qN=ft('<button class="c-btn-confirm pointer-events-auto flex shrink items-center justify-center gap-2"><!><span></span></button>'),WN=ft('<div class="c-fog pointer-events-none absolute bottom-0 z-10 flex h-[100px] w-full items-end justify-center pb-4 svelte-acdvpo"><!></div>'),JN=ft('<div class="bg-main w-side-menu absolute z-10 flex h-full flex-col gap-2"><div class="flex h-[70px] w-full items-center justify-between"></div> <div class="c-scroll-hidden flex grow flex-col gap-2 overflow-y-auto overflow-x-hidden px-2 pb-4"><!> <!> <div class="h-[200px] w-full shrink-0"></div></div> <!></div>');function eL(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(Fs,"$isSideMenuType",a),f=()=>zi(r0,"$showLabelLayer",a),h=()=>zi(p7,"$typeBreakIndices",a),s=()=>zi(OA,"$isStyleEdit",a);let x=si(e,"layerEntries",15),w=si(e,"tempLayerEntries",15),I=$t(void 0),R=$t(!0),E=$t(null);const M={label:"",point:"",line:"",polygon:"",raster:""},Y={label:"mynaui:label-solid",point:"ic:baseline-mode-standby",line:"ic:baseline-polymer",polygon:"ic:baseline-pentagon",raster:"mdi:raster"};to.subscribe($=>{if($)st(I,x().find(Ae=>Ae.id===$),!0);else{st(I,void 0);return}}),Mr(()=>{});var D=xi(),O=kt(D);{var H=$=>{var Ae=JN(),ce=Ze(Le(Ae),2),he=Le(ce);kl(he,{label:"",get value(){return d6(),f()},set value(J){Oo(r0,J)}});var se=Ze(he,2);Ea(se,27,x,J=>J.id,(J,ge,le,_e)=>{var ve=KN(),He=Le(ve);{var nt=Je=>{var gt=jN(),Rt=Le(gt);vi(Rt,{get icon(){return Y[h()[q(le)]]},class:"pointer-events-none",width:20});var Yt=Ze(Rt,2),ot=Le(Yt,!0);Ue(Yt),Ue(gt),di(()=>yi(ot,M[h()[q(le)]])),Ve(Je,gt)};It(He,Je=>{h()[q(le)]&&Je(nt)})}var $e=Ze(He,2);J8($e,{get layerEntry(){return x()[q(le)]},set layerEntry(Je){x(x()[q(le)]=Je,!0)},get tempLayerEntries(){return w()},set tempLayerEntries(Je){w(Je)},get enableFlip(){return q(R)},set enableFlip(Je){st(R,Je,!0)},get dragEnterType(){return q(E)},set dragEnterType(Je){st(E,Je,!0)}}),Ue(ve),B6(ve,()=>q8,()=>({duration:q(R)?200:0})),Ve(J,ve)}),Ga(2),Ue(ce);var ae=Ze(ce,2);{var V=J=>{var ge=WN(),le=Le(ge);{var _e=ve=>{var He=qN();He.__click=[$N];var nt=Le(He);vi(nt,{icon:"material-symbols:data-saver-on-rounded",class:"h-8 w-8"}),Ga(),Ue(He),Ve(ve,He)};It(le,ve=>{q(E)||ve(_e)})}Ue(ge),Ve(J,ge)};It(ae,J=>{s()||J(V)})}Ue(Ae),ba(3,Ae,()=>ds,()=>({duration:300,x:-100,opacity:0})),Ve($,Ae)};It(O,$=>{c()==="layer"&&$(H)})}Ve(t,D),_i(),n()}$a(["click"]);var tL=ft('<div class="flex flex-col gap-2 pb-4 text-base"><span class="select-none"> </span> <input class="css-range svelte-vulzog" type="range"></div>');function Lr(t,e){mi(e,!0);let a=si(e,"value",15),n=si(e,"min",3,0),c=si(e,"max",3,1),f=si(e,"step",3,.01);var h=tL(),s=Le(h),x=Le(s);Ue(s);var w=Ze(s,2);ks(w),Ue(h),di(I=>{yi(x,`${(e.label?`${e.label}: `:"")??""}${I??""}`),ja(w,"min",n()),ja(w,"max",c()),ja(w,"step",f())},[()=>a().toFixed(2)]),Dg(w,a),Ve(t,h),_i()}var iL=ft("<!> <!> <!> <!> <!>",1),aL=ft('<li style="display: flex; align-items: center; margin-bottom: 5px;"><span></span> <span> </span></li>'),rL=ft('<h2 class="text-base"> </h2> <ul class="text-base"></ul>',1),nL=ft("<span> </span>"),sL=ft('<h2 class="text-base"> </h2> <div class="flex h-[200px] gap-2 text-base"><div class="h-full py-[10px]"><div class="h-full w-[30px]"></div></div> <div class="flex flex-col justify-between text-base"></div></div>',1),oL=ft('<h1 class="text-base"></h1> <!>',1),lL=ft("<!> <!>",1);function AL(t,e){mi(e,!0);let a=ra(()=>e.layerEntry.style);Mr(()=>{});var n=xi(),c=kt(n);{var f=h=>{var s=lL(),x=kt(s);Lr(x,{label:"",min:0,max:1,step:.01,get value(){return q(a).opacity},set value(E){q(a).opacity=E}});var w=Ze(x,2);{var I=E=>{var M=iL(),Y=kt(M);Lr(Y,{label:"-",min:0,max:1,step:.01,get value(){return q(a).brightnessMin},set value(Ae){q(a).brightnessMin=Ae}});var D=Ze(Y,2);Lr(D,{label:"-",min:0,max:1,step:.01,get value(){return q(a).brightnessMax},set value(Ae){q(a).brightnessMax=Ae}});var O=Ze(D,2);Lr(O,{label:"",min:-1,max:1,step:.01,get value(){return q(a).contrast},set value(Ae){q(a).contrast=Ae}});var H=Ze(O,2);Lr(H,{label:"",min:-360,max:360,step:.1,get value(){return q(a).hueRotate},set value(Ae){q(a).hueRotate=Ae}});var $=Ze(H,2);Lr($,{label:"",min:-1,max:1,step:.01,get value(){return q(a).saturation},set value(Ae){q(a).saturation=Ae}}),Ve(E,M)},R=(E,M)=>{{var Y=D=>{var O=oL(),H=Ze(kt(O),2);{var $=ce=>{var he=rL(),se=kt(he),ae=Le(se,!0);Ue(se);var V=Ze(se,2);Ea(V,21,()=>q(a).legend.colors,pr,(J,ge,le)=>{var _e=aL(),ve=Le(_e),He=Ze(ve,2),nt=Le(He,!0);Ue(He),Ue(_e),di(()=>{hn(ve,`width: 20px; height: 20px; background-color: ${q(ge)??""}; margin-right: 10px; display: inline-block;`),yi(nt,q(a).legend.labels[le])}),Ve(J,_e)}),Ue(V),di(()=>yi(ae,q(a).legend.name)),Ve(ce,he)},Ae=(ce,he)=>{{var se=ae=>{var V=sL(),J=kt(V),ge=Le(J,!0);Ue(J);var le=Ze(J,2),_e=Le(le),ve=Le(_e);Ue(_e);var He=Ze(_e,2);Ea(He,21,()=>q(a).legend.range.slice().reverse(),pr,(nt,$e)=>{var Je=nL(),gt=Le(Je);Ue(Je),di(()=>yi(gt,`${q($e)??""} ${q(a).legend.unit??""}`)),Ve(nt,Je)}),Ue(He),Ue(le),di(()=>{yi(ge,q(a).legend.name),hn(ve,`background: linear-gradient(0deg, ${q(a).legend.colors[0]??""} 0%, ${q(a).legend.colors[1]??""} 100%);`)}),Ve(ae,V)};It(ce,ae=>{q(a).legend.type==="gradient"&&ae(se)},he)}};It(H,ce=>{q(a).legend.type==="category"?ce($):ce(Ae,!1)})}Ve(D,O)};It(E,D=>{q(a).type==="categorical"&&D(Y)},M)}};It(w,E=>{q(a).type==="basemap"?E(I):E(R,!1)})}Ve(h,s)};It(c,h=>{e.layerEntry&&e.layerEntry.type==="raster"&&q(a)&&h(f)})}Ve(t,n),_i()}var cL=ft("<div><!></div>"),hL=ft('<label class="hover:text-accent flex grow cursor-pointer items-center justify-start gap-2 pb-2 pt-4 transition-colors duration-100"><!> <span class="select-none text-base font-bold"> </span> <input type="checkbox" class="hidden"></label> <!> <div class="mt-2 h-[1px] w-full bg-gray-500"></div>',1);function Dl(t,e){mi(e,!0);let a=si(e,"value",15);var n=hL(),c=kt(n),f=Le(c);const h=ra(()=>a()?"rotate-90":"rotate-0");vi(f,{icon:"weui:arrow-filled",get class(){return`h-6 w-6 text-base transition-transform duration-150 ${q(h)??""}`}});var s=Ze(f,2),x=Le(s,!0);Ue(s);var w=Ze(s,2);ks(w),Ue(c);var I=Ze(c,2);{var R=E=>{var M=cL(),Y=Le(M);m7(Y,()=>e.children),Ue(M),ba(3,M,()=>Dm,()=>({duration:250})),Ve(E,M)};It(I,E=>{a()&&E(R)})}Ga(2),di(()=>yi(x,e.label)),Pm(w,a),Ve(t,n),_i()}var uL=ft('<span class="select-none text-base"> </span>'),dL=ft('<label class="hover:text-accent flex cursor-pointer items-center justify-between transition-colors duration-100"><!> <div class="grid h-[30px] w-[30px] place-items-center rounded-full"><input type="color" class="custom-color invisible"></div></label>');function $d(t,e){let a=si(e,"label",8,null),n=si(e,"value",12);var c=dL(),f=Le(c);{var h=w=>{var I=uL(),R=Le(I,!0);Ue(I),di(()=>yi(R,a())),Ve(w,I)};It(f,w=>{a()&&w(h)})}var s=Ze(f,2),x=Le(s);ks(x),Ue(s),Ue(c),di(()=>hn(s,`background-color: ${n()??""}`)),Dg(x,n),Ve(t,c)}var fL=(t,e)=>st(e,!q(e)),gL=(t,e)=>st(e,!1),pL=ft('<label><input type="radio" class="hidden"> <div class="flex items-center gap-2"><!> <span class="select-none"> </span></div></label>'),mL=ft('<div class="absolute left-0 top-[60px] z-10 w-full divide-y divide-gray-300 overflow-hidden rounded-lg bg-white shadow-md"></div>'),_L=ft('<div class="relative py-2"><button class="c-select flex w-full justify-between"><div class="flex items-center gap-2"><!> <span> </span></div> <!></button> <!></div>');function ex(t,e){mi(e,!0);const a=[];let n=si(e,"labels",15),c=$t(!1),f=ra(()=>{const I=n().expressions.find(R=>R.key===n().key);if(I)return I}),h=ra(()=>n().expressions);var s=xi(),x=kt(s);{var w=I=>{var R=_L(),E=Le(R);E.__click=[fL,c];var M=Le(E),Y=Le(M);vi(Y,{icon:"ci:font",width:20});var D=Ze(Y,2),O=Le(D,!0);Ue(D),Ue(M);var H=Ze(M,2);vi(H,{icon:"bi:chevron-down",class:"h-6 w-6"}),Ue(E);var $=Ze(E,2);{var Ae=ce=>{var he=mL();Ea(he,21,()=>q(h),se=>se.key,(se,ae)=>{var V=pL(),J=Le(V);ks(J);var ge;J.__change=[gL,c];var le=Ze(J,2),_e=Le(le);vi(_e,{icon:"ci:font",width:20});var ve=Ze(_e,2),He=Le(ve,!0);Ue(ve),Ue(le),Ue(V),di(()=>{Pr(V,1,`hover:text-accent bg-sub z-20 flex w-full cursor-pointer items-center justify-between gap-2 p-2 text-white transition-colors duration-100 ${(q(ae).key===n().key?"bg-accent":"")??""}`),ge!==(ge=q(ae).key)&&(J.value=(J.__value=q(ae).key)==null?"":q(ae).key),yi(He,q(ae).name)}),zg(a,[],J,()=>(q(ae).key,n().key),nt=>n(n().key=nt,!0)),Ve(se,V)}),Ue(he),ba(3,he,()=>ds,()=>({duration:200,y:-20})),Ve(ce,he)};It($,ce=>{q(c)&&ce(Ae)})}Ue(R),di(ce=>yi(O,ce),[()=>{var ce;return(ce=q(h).find(he=>he.key===q(f).key))==null?void 0:ce.name}]),Ve(I,R)};It(x,I=>{q(f)&&I(w)})}Ve(t,s),_i()}$a(["click","change"]);var bL=ft("<span></span> <!>",1),yL=ft('<div class="flex-between flex w-full select-none gap-2"><div class="w-full"> </div> <div class="p-2"></div></div>'),vL=ft('<div class="flex-between flex w-full gap-2"></div> <!> <!>',1);function xL(t,e){mi(e,!0);let a=si(e,"setExpression",15),n=ra(()=>{if(a()&&a().type==="step")return kg(a().mapping)});var c=xi(),f=kt(c);{var h=x=>{$d(x,{label:"",get value(){return a().mapping.value},set value(w){a(a().mapping.value=w,!0)}})},s=(x,w)=>{{var I=E=>{var M=xi(),Y=kt(M);Ea(Y,17,()=>a().mapping.categories,pr,(D,O,H)=>{$d(D,{get label(){return a().mapping.categories[H]},get value(){return a().mapping.values[H]},set value($){a(a().mapping.values[H]=$,!0)}})}),Ve(E,M)},R=(E,M)=>{{var Y=D=>{var O=vL(),H=kt(O);Ea(H,21,()=>a().mapping.values,pr,(he,se,ae)=>{var V=bL(),J=kt(V);J.textContent=ae===0?"":"";var ge=Ze(J,2);$d(ge,{get value(){return a().mapping.values[ae]},set value(le){a(a().mapping.values[ae]=le,!0)}}),Ve(he,V)}),Ue(H);var $=Ze(H,2);Lr($,{label:"",min:2,max:10,step:1,get value(){return a().mapping.divisions},set value(he){a(a().mapping.divisions=he,!0)}});var Ae=Ze($,2);{var ce=he=>{var se=xi(),ae=kt(se);Ea(ae,17,()=>q(n).categories,pr,(V,J,ge)=>{var le=yL(),_e=Le(le),ve=Le(_e,!0);Ue(_e);var He=Ze(_e,2);Ue(le),di(()=>{yi(ve,q(n).categories[ge]),hn(He,`background-color: ${q(n).values[ge]??""};`)}),Ve(V,le)}),Ve(he,se)};It(Ae,he=>{q(n)&&he(ce)})}Ve(D,O)};It(E,D=>{a().type==="step"&&D(Y)},M)}};It(x,E=>{a().type==="match"?E(I):E(R,!1)},w)}};It(f,x=>{a().type==="single"?x(h):x(s,!1)})}Ve(t,c),_i()}const wL=t=>{const{range:e,divisions:a,values:n}=t;if(console.log(e,a,n),a<=0)throw new Error("divisions must be greater than 0");const[c,f]=e,h=(f-c)/a;return{categories:Array.from({length:a},(x,w)=>c+h*w),values:n}};var BL=ft('<div class="flex w-full select-none flex-col gap-2"><div><span> </span></div> <!></div>'),CL=ft("<span></span> <!>",1),ML=ft('<div class="flex-between flex w-full select-none gap-2"><div class="w-full"> </div> <div class="p-2"> </div></div>'),RL=ft('<div class="flex-between flex w-full gap-2"></div> <!> <!> ',1),IL=ft("<!> <!> <!> <!>",1);function UL(t,e){mi(e,!0);let a=si(e,"setExpression",15),n=ra(()=>{if(a()&&a().type==="step")return wL(a().mapping)});var c=xi(),f=kt(c);{var h=s=>{var x=IL(),w=kt(x);{var I=H=>{Lr(H,{label:"",min:1,max:30,step:.01,get value(){return a().mapping.value},set value($){a(a().mapping.value=$,!0)}})};It(w,H=>{a().type==="single"&&H(I)})}var R=Ze(w,2);{var E=H=>{var $=xi(),Ae=kt($);Ea(Ae,17,()=>a().mapping.categories,pr,(ce,he,se)=>{Lr(ce,{label:"",min:2,max:10,step:1,get value(){return a().mapping.values[se]},set value(ae){a(a().mapping.values[se]=ae,!0)}})}),Ve(H,$)};It(R,H=>{a().type==="match"&&H(E)})}var M=Ze(R,2);{var Y=H=>{var $=xi(),Ae=kt($);Ea(Ae,17,()=>a().mapping.range,pr,(ce,he,se)=>{var ae=BL(),V=Le(ae),J=Le(V),ge=Le(J);Ue(J),Ue(V);var le=Ze(V,2);Lr(le,{label:"",min:0,max:30,step:.01,get value(){return a().mapping.values[se]},set value(_e){a(a().mapping.values[se]=_e,!0)}}),Ue(ae),di(()=>yi(ge,`${(se===0?"":"")??""}: ${a().mapping.range[se]??""}`)),Ve(ce,ae)}),Ve(H,$)};It(M,H=>{a().type==="linear"&&H(Y)})}var D=Ze(M,2);{var O=H=>{var $=RL(),Ae=kt($);Ea(Ae,21,()=>a().mapping.values,pr,(V,J,ge)=>{var le=CL(),_e=kt(le);_e.textContent=ge===0?"":"";var ve=Ze(_e,2);Lr(ve,{label:"",min:0,max:30,step:.01,get value(){return a().mapping.values[ge]},set value(He){a(a().mapping.values[ge]=He,!0)}}),Ve(V,le)}),Ue(Ae);var ce=Ze(Ae,2);Lr(ce,{label:"",min:2,max:10,step:1,get value(){return a().mapping.divisions},set value(V){a(a().mapping.divisions=V,!0)}});var he=Ze(ce,2);{var se=V=>{var J=xi(),ge=kt(J);Ea(ge,17,()=>q(n).categories,pr,(le,_e,ve)=>{var He=ML(),nt=Le(He),$e=Le(nt,!0);Ue(nt);var Je=Ze(nt,2),gt=Le(Je,!0);Ue(Je),Ue(He),di(()=>{yi($e,q(n).categories[ve]),yi(gt,q(n).values[ve])}),Ve(le,He)}),Ve(V,J)};It(he,V=>{q(n)&&V(se)})}var ae=Ze(he);di(V=>yi(ae,` ${V??""}`),[()=>JSON.stringify(q(n))]),Ve(H,$)};It(D,H=>{a().type==="step"&&H(O)})}Ve(s,x)};It(f,s=>{a()&&s(h)})}Ve(t,c),_i()}var EL=(t,e)=>st(e,!q(e)),FL=(t,e)=>st(e,!1),TL=ft('<label><input type="radio" class="hidden"> <div class="flex items-center gap-2"><!> <span class="select-none"> </span></div></label>'),SL=ft('<div class="absolute left-0 top-[60px] z-10 w-full divide-y divide-gray-300 overflow-hidden rounded-lg bg-white shadow-md"></div>'),YL=ft('<div class="relative py-2"><button class="c-select flex w-full justify-between"><div class="flex items-center gap-2"><!> <span> </span></div> <!></button> <!></div> <div class="flex grow flex-col gap-2 overflow-y-auto overflow-x-hidden pt-2"><!> <!></div>',1);function tx(t,e){mi(e,!0);const a=[];let n=si(e,"style",15),c=$t(!1),f=ra(()=>{const I=n().expressions.find(R=>R.key===n().key);if(I)return I}),h=ra(()=>n().expressions);var s=xi(),x=kt(s);{var w=I=>{var R=YL(),E=kt(R),M=Le(E);M.__click=[EL,c];var Y=Le(M),D=Le(Y);const O=ra(()=>mb(q(f).type,e.expressionType));vi(D,{get icon(){return q(O)},width:20});var H=Ze(D,2),$=Le(H,!0);Ue(H),Ue(Y);var Ae=Ze(Y,2);vi(Ae,{icon:"bi:chevron-down",class:"h-6 w-6"}),Ue(M);var ce=Ze(M,2);{var he=le=>{var _e=SL();Ea(_e,21,()=>q(h),ve=>ve.key,(ve,He)=>{var nt=TL(),$e=Le(nt);ks($e);var Je;$e.__change=[FL,c];var gt=Ze($e,2),Rt=Le(gt);const Yt=ra(()=>mb(q(He).type,e.expressionType));vi(Rt,{get icon(){return q(Yt)},width:20});var ot=Ze(Rt,2),mt=Le(ot,!0);Ue(ot),Ue(gt),Ue(nt),di(()=>{Pr(nt,1,`hover:text-accent bg-sub z-20 flex w-full cursor-pointer items-center justify-between gap-2 p-2 text-white transition-colors duration-100 ${(q(He).key===n().key?"bg-accent":"")??""}`),Je!==(Je=q(He).key)&&($e.value=($e.__value=q(He).key)==null?"":q(He).key),yi(mt,q(He).name)}),zg(a,[],$e,()=>(q(He).key,n().key),je=>n(n().key=je,!0)),Ve(ve,nt)}),Ue(_e),ba(3,_e,()=>ds,()=>({duration:200,y:-20})),Ve(le,_e)};It(ce,le=>{q(c)&&le(he)})}Ue(E);var se=Ze(E,2),ae=Le(se);{var V=le=>{xL(le,{get setExpression(){return q(f)}})};It(ae,le=>{e.expressionType==="color"&&le(V)})}var J=Ze(ae,2);{var ge=le=>{UL(le,{get setExpression(){return q(f)}})};It(J,le=>{e.expressionType==="number"&&le(ge)})}Ue(se),di(le=>yi($,le),[()=>{var le;return(le=q(h).find(_e=>_e.key===n().key))==null?void 0:le.name}]),Ve(I,R)};It(x,I=>{q(f)&&I(w)})}Ve(t,s),_i()}$a(["click","change"]);var NL=ft("<!> <!>",1);function m4(t,e){mi(e,!0);let a=si(e,"colorStyle",15),n=$t(!1);Dl(t,{label:"",get value(){return q(n)},set value(c){st(n,c,!0)},children:(c,f)=>{var h=NL(),s=kt(h);kl(s,{label:"",get value(){return a().show},set value(w){a(a().show=w,!0)}});var x=Ze(s,2);tx(x,{expressionType:"color",get style(){return a()},set style(w){a(w)}}),Ve(c,h)},$$slots:{default:!0}}),_i()}var LL=ft("<!> <!>",1);function PL(t,e){mi(e,!0);let a=si(e,"layerEntry",15),n=$t(!1);Dl(t,{label:"",get value(){return q(n)},set value(c){st(n,c,!0)},children:(c,f)=>{var h=LL(),s=kt(h);kl(s,{label:"",get value(){return a().style.labels.show},set value(w){a(a().style.labels.show=w,!0)}});var x=Ze(s,2);ex(x,{get labels(){return a().style.labels},set labels(w){a(a().style.labels=w,!0)}}),Ve(c,h)},$$slots:{default:!0}}),_i()}var QL=ft('<label><input type="radio" class="hidden"> <span class="select-none"> </span></label>'),kL=ft('<div class="flex flex-col gap-2"><div class="flex select-none items-center gap-2 text-base"><span> </span></div> <div class="flex w-full overflow-hidden rounded-full"></div></div>');function _4(t,e){mi(e,!0);const a=[];let n=si(e,"group",15);var c=kL(),f=Le(c),h=Le(f),s=Le(h,!0);Ue(h),Ue(f);var x=Ze(f,2);Ea(x,21,()=>e.options,w=>w.key,(w,I)=>{var R=QL(),E=Le(R);ks(E);var M,Y=Ze(E,2),D=Le(Y,!0);Ue(Y),Ue(R),di(()=>{ja(R,"for",q(I).key),Pr(R,1,`z-20 flex w-full cursor-pointer items-center justify-center p-2 text-white ${(q(I).key===n()?"bg-green-600 ":"bg-gray-400")??""}`),ja(E,"id",q(I).key),M!==(M=q(I).key)&&(E.value=(E.__value=q(I).key)==null?"":q(I).key),yi(D,q(I).name)}),zg(a,[],E,()=>(q(I).key,n()),n),Ve(w,R)}),Ue(x),Ue(c),di(()=>yi(s,e.label)),Ve(t,c),_i()}function ix(t,e){mi(e,!0);let a=si(e,"numberStyle",15),n=$t(!1);Dl(t,{get label(){return e.label},get value(){return q(n)},set value(c){st(n,c,!0)},children:(c,f)=>{tx(c,{expressionType:"number",get style(){return a()},set style(h){a(h)}})},$$slots:{default:!0}}),_i()}var DL=ft("<!> <!> <!> <!>",1);function zL(t,e){mi(e,!0);let a=si(e,"layerEntry",15),n=$t(!1);var c=DL(),f=kt(c);Lr(f,{label:"",min:0,max:1,step:.01,get value(){return a().style.opacity},set value(w){a(a().style.opacity=w,!0)}});var h=Ze(f,2);m4(h,{get colorStyle(){return a().style.colors},set colorStyle(w){a(a().style.colors=w,!0)}});var s=Ze(h,2);ix(s,{label:"",get numberStyle(){return a().style.width},set numberStyle(w){a(a().style.width=w,!0)}});var x=Ze(s,2);Dl(x,{label:"",get value(){return q(n)},set value(w){st(n,w,!0)},children:(w,I)=>{_4(w,{label:"",options:[{name:"",key:"solid"},{name:"",key:"dashed"}],get group(){return a().style.lineStyle},set group(R){a(a().style.lineStyle=R,!0)}})},$$slots:{default:!0}}),Ve(t,c),_i()}var ZL=ft("<!> <!>",1);function ax(t,e){mi(e,!0);let a=si(e,"labels",15),n=$t(!1);Dl(t,{label:"",get value(){return q(n)},set value(c){st(n,c,!0)},children:(c,f)=>{var h=ZL(),s=kt(h);kl(s,{label:"",get value(){return a().show},set value(w){a(a().show=w,!0)}});var x=Ze(s,2);ex(x,{get labels(){return a()},set labels(w){a(w)}}),Ve(c,h)},$$slots:{default:!0}}),_i()}var HL=ft('<!> <!> <div class="flex flex-col gap-2 pb-2"><!></div>',1),OL=ft("<!> <!> <!>",1),XL=ft("<!> <!>",1),VL=ft("<!> <!> <!> <!> <!>",1);function GL(t,e){mi(e,!0);let a=si(e,"layerEntry",15),n=$t(!1),c=$t(!1);var f=VL(),h=kt(f);Lr(h,{label:"",min:0,max:1,step:.01,get value(){return a().style.opacity},set value(Y){a(a().style.opacity=Y,!0)}});var s=Ze(h,2);{var x=Y=>{_4(Y,{label:"",options:[{name:"",key:"circle"},{name:"",key:"icon"}],get group(){return a().style.markerType},set group(D){a(a().style.markerType=D,!0)}})};It(s,Y=>{a().style.icon&&Y(x)})}var w=Ze(s,2);{var I=Y=>{var D=OL(),O=kt(D);m4(O,{get colorStyle(){return a().style.colors},set colorStyle(Ae){a(a().style.colors=Ae,!0)}});var H=Ze(O,2);ix(H,{label:"",get numberStyle(){return a().style.radius},set numberStyle(Ae){a(a().style.radius=Ae,!0)}});var $=Ze(H,2);Dl($,{label:"",get value(){return q(n)},set value(Ae){st(n,Ae,!0)},children:(Ae,ce)=>{var he=HL(),se=kt(he);kl(se,{label:"",get value(){return a().style.outline.show},set value(ge){a(a().style.outline.show=ge,!0)}});var ae=Ze(se,2);Lr(ae,{label:"",min:0,max:10,step:.01,get value(){return a().style.outline.width},set value(ge){a(a().style.outline.width=ge,!0)}});var V=Ze(ae,2),J=Le(V);$d(J,{label:"",get value(){return a().style.outline.color},set value(ge){a(a().style.outline.color=ge,!0)}}),Ue(V),Ve(Ae,he)},$$slots:{default:!0}}),Ve(Y,D)};It(w,Y=>{a().style.markerType==="circle"&&Y(I)})}var R=Ze(w,2);{var E=Y=>{Dl(Y,{label:"",get value(){return q(c)},set value(D){st(c,D,!0)},children:(D,O)=>{var H=XL(),$=kt(H);kl($,{label:"",get value(){return a().style.icon.show},set value(ce){a(a().style.icon.show=ce,!0)}});var Ae=Ze($,2);Lr(Ae,{label:"",min:0,max:.5,step:.01,get value(){return a().style.icon.size},set value(ce){a(a().style.icon.size=ce,!0)}}),Ve(D,H)},$$slots:{default:!0}})};It(R,Y=>{a().style.markerType==="icon"&&a().style.icon&&Y(E)})}var M=Ze(R,2);ax(M,{get labels(){return a().style.labels},set labels(Y){a(a().style.labels=Y,!0)}}),Ve(t,f),_i()}var jL=ft('<!> <!> <div class="flex flex-col gap-2 pb-2"><!></div> <!>',1),KL=ft('<div class="py-2"><!> <!> <!> <!></div>');function $L(t,e){mi(e,!0);let a=si(e,"layerEntry",15),n=$t(!1);var c=KL(),f=Le(c);Lr(f,{label:"",min:0,max:1,step:.01,get value(){return a().style.opacity},set value(w){a(a().style.opacity=w,!0)}});var h=Ze(f,2);m4(h,{get colorStyle(){return a().style.colors},set colorStyle(w){a(a().style.colors=w,!0)}});var s=Ze(h,2);Dl(s,{label:"",get value(){return q(n)},set value(w){st(n,w,!0)},children:(w,I)=>{var R=jL(),E=kt(R);kl(E,{label:"",get value(){return a().style.outline.show},set value(H){a(a().style.outline.show=H,!0)}});var M=Ze(E,2);Lr(M,{label:"",min:0,max:10,step:.01,get value(){return a().style.outline.width},set value(H){a(a().style.outline.width=H,!0)}});var Y=Ze(M,2),D=Le(Y);$d(D,{label:"",get value(){return a().style.outline.color},set value(H){a(a().style.outline.color=H,!0)}}),Ue(Y);var O=Ze(Y,2);_4(O,{label:"",options:[{name:"",key:"solid"},{name:"",key:"dashed"}],get group(){return a().style.outline.lineStyle},set group(H){a(a().style.outline.lineStyle=H,!0)}}),Ve(w,R)},$$slots:{default:!0}});var x=Ze(s,2);ax(x,{get labels(){return a().style.labels},set labels(w){a(a().style.labels=w,!0)}}),Ue(c),Ve(t,c),_i()}var qL=ft("<!> <!> <!> <!>",1);function WL(t,e){mi(e,!0);let a=si(e,"layerEntry",15);var n=xi(),c=kt(n);{var f=h=>{var s=qL(),x=kt(s);{var w=O=>{GL(O,{get layerEntry(){return a()},set layerEntry(H){a(H)}})};It(x,O=>{a().format.geometryType==="Point"&&O(w)})}var I=Ze(x,2);{var R=O=>{zL(O,{get layerEntry(){return a()},set layerEntry(H){a(H)}})};It(I,O=>{a().format.geometryType==="LineString"&&O(R)})}var E=Ze(I,2);{var M=O=>{$L(O,{get layerEntry(){return a()},set layerEntry(H){a(H)}})};It(E,O=>{a().format.geometryType==="Polygon"&&O(M)})}var Y=Ze(E,2);{var D=O=>{PL(O,{get layerEntry(){return a()},set layerEntry(H){a(H)}})};It(Y,O=>{a().format.geometryType==="Label"&&O(D)})}Ve(h,s)};It(c,h=>{a()&&a().type==="vector"&&h(f)})}Ve(t,n),_i()}var JL=(t,e)=>Oo(OA,!1),eP=ft('<div class="bg-main w-side-menu absolute left-0 top-0 z-20 flex h-full flex-col gap-2 overflow-hidden px-2 pt-4"><div class="flex w-full cursor-pointer justify-between pb-2"><button class="bg-base mr-auto cursor-pointer rounded-full p-2"><!></button></div> <div class="flex h-full flex-col gap-2 overflow-auto"><!> <div class="c-scroll h-full grow overflow-x-hidden"><!> <!></div></div></div>');function tP(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(OA,"$isStyleEdit",a);let f=si(e,"layerEntry",15),h=si(e,"tempLayerEntries",15);const s=R=>{R.key==="Escape"&&f(null)};var x=xi();fr("keydown",Nm,s);var w=kt(x);{var I=R=>{var E=eP(),M=Le(E),Y=Le(M);Y.__click=[JL,c];var D=Le(Y);vi(D,{icon:"ep:back",class:"text-main h-4 w-4"}),Ue(Y),Ue(M);var O=Ze(M,2),H=Le(O);J8(H,{get layerEntry(){return f()},set layerEntry(ae){f(ae)},get tempLayerEntries(){return h()},set tempLayerEntries(ae){h(ae)}});var $=Ze(H,2),Ae=Le($);{var ce=ae=>{WL(ae,{get layerEntry(){return f()},set layerEntry(V){f(V)}})};It(Ae,ae=>{f().type==="vector"&&ae(ce)})}var he=Ze(Ae,2);{var se=ae=>{AL(ae,{get layerEntry(){return f()},set layerEntry(V){f(V)}})};It(he,ae=>{f().type==="raster"&&ae(se)})}Ue($),Ue(O),Ue(E),ba(3,E,()=>ds,()=>({duration:300,x:-100,opacity:0})),Ve(R,E)};It(w,R=>{f()&&R(I)})}Ve(t,x),_i(),n()}$a(["click"]);const iP=yn(!1);var aP=ft('<div class="absolute bottom-0 z-30 flex h-full w-full items-center justify-center bg-black/50 pointer-events-none"><div class="c-circle svelte-18jkeg5"><div class="c-circle-child"></div></div></div>');function rP(t){const[e,a]=rr(),n=()=>zi(iP,"$showLockOnScreen",e);var c=xi(),f=kt(c);{var h=s=>{var x=aP();ba(3,x,()=>As,()=>({duration:100})),Ve(s,x)};It(f,s=>{n()&&s(h)})}Ve(t,c),a()}var nP={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((a,n)=>{t.exports=n()})(y6,function a(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},c,f=!n.document&&!!n.postMessage,h=n.IS_PAPA_WORKER||!1,s={},x=0,w={};function I(V){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(J){var ge=he(J);ge.chunkSize=parseInt(ge.chunkSize),J.step||J.chunk||(ge.chunkSize=null),this._handle=new D(ge),(this._handle.streamer=this)._config=ge}).call(this,V),this.parseChunk=function(J,ge){var le=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<le){let ve=this._config.newline;ve||(_e=this._config.quoteChar||'"',ve=this._handle.guessLineEndings(J,_e)),J=[...J.split(ve).slice(le)].join(ve)}this.isFirstChunk&&ae(this._config.beforeFirstChunk)&&(_e=this._config.beforeFirstChunk(J))!==void 0&&(J=_e),this.isFirstChunk=!1,this._halted=!1;var le=this._partialLine+J,_e=(this._partialLine="",this._handle.parse(le,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(J=_e.meta.cursor,le=(this._finished||(this._partialLine=le.substring(J-this._baseIndex),this._baseIndex=J),_e&&_e.data&&(this._rowCount+=_e.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),h)n.postMessage({results:_e,workerId:w.WORKER_ID,finished:le});else if(ae(this._config.chunk)&&!ge){if(this._config.chunk(_e,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=_e=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(_e.data),this._completeResults.errors=this._completeResults.errors.concat(_e.errors),this._completeResults.meta=_e.meta),this._completed||!le||!ae(this._config.complete)||_e&&_e.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),le||_e&&_e.meta.paused||this._nextChunk(),_e}this._halted=!0},this._sendError=function(J){ae(this._config.error)?this._config.error(J):h&&this._config.error&&n.postMessage({workerId:w.WORKER_ID,error:J,finished:!1})}}function R(V){var J;(V=V||{}).chunkSize||(V.chunkSize=w.RemoteChunkSize),I.call(this,V),this._nextChunk=f?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(ge){this._input=ge,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(J=new XMLHttpRequest,this._config.withCredentials&&(J.withCredentials=this._config.withCredentials),f||(J.onload=se(this._chunkLoaded,this),J.onerror=se(this._chunkError,this)),J.open(this._config.downloadRequestBody?"POST":"GET",this._input,!f),this._config.downloadRequestHeaders){var ge,le=this._config.downloadRequestHeaders;for(ge in le)J.setRequestHeader(ge,le[ge])}var _e;this._config.chunkSize&&(_e=this._start+this._config.chunkSize-1,J.setRequestHeader("Range","bytes="+this._start+"-"+_e));try{J.send(this._config.downloadRequestBody)}catch(ve){this._chunkError(ve.message)}f&&J.status===0&&this._chunkError()}},this._chunkLoaded=function(){J.readyState===4&&(J.status<200||400<=J.status?this._chunkError():(this._start+=this._config.chunkSize||J.responseText.length,this._finished=!this._config.chunkSize||this._start>=(ge=>(ge=ge.getResponseHeader("Content-Range"))!==null?parseInt(ge.substring(ge.lastIndexOf("/")+1)):-1)(J),this.parseChunk(J.responseText)))},this._chunkError=function(ge){ge=J.statusText||ge,this._sendError(new Error(ge))}}function E(V){(V=V||{}).chunkSize||(V.chunkSize=w.LocalChunkSize),I.call(this,V);var J,ge,le=typeof FileReader<"u";this.stream=function(_e){this._input=_e,ge=_e.slice||_e.webkitSlice||_e.mozSlice,le?((J=new FileReader).onload=se(this._chunkLoaded,this),J.onerror=se(this._chunkError,this)):J=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var _e=this._input,ve=(this._config.chunkSize&&(ve=Math.min(this._start+this._config.chunkSize,this._input.size),_e=ge.call(_e,this._start,ve)),J.readAsText(_e,this._config.encoding));le||this._chunkLoaded({target:{result:ve}})},this._chunkLoaded=function(_e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(_e.target.result)},this._chunkError=function(){this._sendError(J.error)}}function M(V){var J;I.call(this,V=V||{}),this.stream=function(ge){return J=ge,this._nextChunk()},this._nextChunk=function(){var ge,le;if(!this._finished)return ge=this._config.chunkSize,J=ge?(le=J.substring(0,ge),J.substring(ge)):(le=J,""),this._finished=!J,this.parseChunk(le)}}function Y(V){I.call(this,V=V||{});var J=[],ge=!0,le=!1;this.pause=function(){I.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){I.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(_e){this._input=_e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){le&&J.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),J.length?this.parseChunk(J.shift()):ge=!0},this._streamData=se(function(_e){try{J.push(typeof _e=="string"?_e:_e.toString(this._config.encoding)),ge&&(ge=!1,this._checkIsFinished(),this.parseChunk(J.shift()))}catch(ve){this._streamError(ve)}},this),this._streamError=se(function(_e){this._streamCleanUp(),this._sendError(_e)},this),this._streamEnd=se(function(){this._streamCleanUp(),le=!0,this._streamData("")},this),this._streamCleanUp=se(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function D(V){var J,ge,le,_e,ve=Math.pow(2,53),He=-ve,nt=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,$e=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Je=this,gt=0,Rt=0,Yt=!1,ot=!1,mt=[],je={data:[],errors:[],meta:{}};function Qe(yt){return V.skipEmptyLines==="greedy"?yt.join("").trim()==="":yt.length===1&&yt[0].length===0}function it(){if(je&&le&&(Bt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+w.DefaultDelimiter+"'"),le=!1),V.skipEmptyLines&&(je.data=je.data.filter(function(Ct){return!Qe(Ct)})),rt()){let Ct=function(Qt,ui){ae(V.transformHeader)&&(Qt=V.transformHeader(Qt,ui)),mt.push(Qt)};if(je)if(Array.isArray(je.data[0])){for(var yt=0;rt()&&yt<je.data.length;yt++)je.data[yt].forEach(Ct);je.data.splice(0,1)}else je.data.forEach(Ct)}function Dt(Ct,Qt){for(var ui=V.header?{}:[],Nt=0;Nt<Ct.length;Nt++){var Zt=Nt,oi=Ct[Nt],oi=((fi,Kt)=>(pt=>(V.dynamicTypingFunction&&V.dynamicTyping[pt]===void 0&&(V.dynamicTyping[pt]=V.dynamicTypingFunction(pt)),(V.dynamicTyping[pt]||V.dynamicTyping)===!0))(fi)?Kt==="true"||Kt==="TRUE"||Kt!=="false"&&Kt!=="FALSE"&&((pt=>{if(nt.test(pt)&&(pt=parseFloat(pt),He<pt&&pt<ve))return 1})(Kt)?parseFloat(Kt):$e.test(Kt)?new Date(Kt):Kt===""?null:Kt):Kt)(Zt=V.header?Nt>=mt.length?"__parsed_extra":mt[Nt]:Zt,oi=V.transform?V.transform(oi,Zt):oi);Zt==="__parsed_extra"?(ui[Zt]=ui[Zt]||[],ui[Zt].push(oi)):ui[Zt]=oi}return V.header&&(Nt>mt.length?Bt("FieldMismatch","TooManyFields","Too many fields: expected "+mt.length+" fields but parsed "+Nt,Rt+Qt):Nt<mt.length&&Bt("FieldMismatch","TooFewFields","Too few fields: expected "+mt.length+" fields but parsed "+Nt,Rt+Qt)),ui}var Ot;je&&(V.header||V.dynamicTyping||V.transform)&&(Ot=1,!je.data.length||Array.isArray(je.data[0])?(je.data=je.data.map(Dt),Ot=je.data.length):je.data=Dt(je.data,0),V.header&&je.meta&&(je.meta.fields=mt),Rt+=Ot)}function rt(){return V.header&&mt.length===0}function Bt(yt,Dt,Ot,Ct){yt={type:yt,code:Dt,message:Ot},Ct!==void 0&&(yt.row=Ct),je.errors.push(yt)}ae(V.step)&&(_e=V.step,V.step=function(yt){je=yt,rt()?it():(it(),je.data.length!==0&&(gt+=yt.data.length,V.preview&&gt>V.preview?ge.abort():(je.data=je.data[0],_e(je,Je))))}),this.parse=function(yt,Dt,Ot){var Ct=V.quoteChar||'"',Ct=(V.newline||(V.newline=this.guessLineEndings(yt,Ct)),le=!1,V.delimiter?ae(V.delimiter)&&(V.delimiter=V.delimiter(yt),je.meta.delimiter=V.delimiter):((Ct=((Qt,ui,Nt,Zt,oi)=>{var fi,Kt,pt,ci;oi=oi||[",","	","|",";",w.RECORD_SEP,w.UNIT_SEP];for(var qi=0;qi<oi.length;qi++){for(var Si,fa=oi[qi],Ri=0,ea=0,wi=0,ji=(pt=void 0,new H({comments:Zt,delimiter:fa,newline:ui,preview:10}).parse(Qt)),ha=0;ha<ji.data.length;ha++)Nt&&Qe(ji.data[ha])?wi++:(Si=ji.data[ha].length,ea+=Si,pt===void 0?pt=Si:0<Si&&(Ri+=Math.abs(Si-pt),pt=Si));0<ji.data.length&&(ea/=ji.data.length-wi),(Kt===void 0||Ri<=Kt)&&(ci===void 0||ci<ea)&&1.99<ea&&(Kt=Ri,fi=fa,ci=ea)}return{successful:!!(V.delimiter=fi),bestDelimiter:fi}})(yt,V.newline,V.skipEmptyLines,V.comments,V.delimitersToGuess)).successful?V.delimiter=Ct.bestDelimiter:(le=!0,V.delimiter=w.DefaultDelimiter),je.meta.delimiter=V.delimiter),he(V));return V.preview&&V.header&&Ct.preview++,J=yt,ge=new H(Ct),je=ge.parse(J,Dt,Ot),it(),Yt?{meta:{paused:!0}}:je||{meta:{paused:!1}}},this.paused=function(){return Yt},this.pause=function(){Yt=!0,ge.abort(),J=ae(V.chunk)?"":J.substring(ge.getCharIndex())},this.resume=function(){Je.streamer._halted?(Yt=!1,Je.streamer.parseChunk(J,!0)):setTimeout(Je.resume,3)},this.aborted=function(){return ot},this.abort=function(){ot=!0,ge.abort(),je.meta.aborted=!0,ae(V.complete)&&V.complete(je),J=""},this.guessLineEndings=function(Qt,Ct){Qt=Qt.substring(0,1048576);var Ct=new RegExp(O(Ct)+"([^]*?)"+O(Ct),"gm"),Ot=(Qt=Qt.replace(Ct,"")).split("\r"),Ct=Qt.split(`
`),Qt=1<Ct.length&&Ct[0].length<Ot[0].length;if(Ot.length===1||Qt)return`
`;for(var ui=0,Nt=0;Nt<Ot.length;Nt++)Ot[Nt][0]===`
`&&ui++;return ui>=Ot.length/2?`\r
`:"\r"}}function O(V){return V.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function H(V){var J=(V=V||{}).delimiter,ge=V.newline,le=V.comments,_e=V.step,ve=V.preview,He=V.fastMode,nt=null,$e=!1,Je=V.quoteChar==null?'"':V.quoteChar,gt=Je;if(V.escapeChar!==void 0&&(gt=V.escapeChar),(typeof J!="string"||-1<w.BAD_DELIMITERS.indexOf(J))&&(J=","),le===J)throw new Error("Comment character same as delimiter");le===!0?le="#":(typeof le!="string"||-1<w.BAD_DELIMITERS.indexOf(le))&&(le=!1),ge!==`
`&&ge!=="\r"&&ge!==`\r
`&&(ge=`
`);var Rt=0,Yt=!1;this.parse=function(ot,mt,je){if(typeof ot!="string")throw new Error("Input must be a string");var Qe=ot.length,it=J.length,rt=ge.length,Bt=le.length,yt=ae(_e),Dt=[],Ot=[],Ct=[],Qt=Rt=0;if(!ot)return Ri();if(He||He!==!1&&ot.indexOf(Je)===-1){for(var ui=ot.split(ge),Nt=0;Nt<ui.length;Nt++){if(Ct=ui[Nt],Rt+=Ct.length,Nt!==ui.length-1)Rt+=ge.length;else if(je)return Ri();if(!le||Ct.substring(0,Bt)!==le){if(yt){if(Dt=[],ci(Ct.split(J)),ea(),Yt)return Ri()}else ci(Ct.split(J));if(ve&&ve<=Nt)return Dt=Dt.slice(0,ve),Ri(!0)}}return Ri()}for(var Zt=ot.indexOf(J,Rt),oi=ot.indexOf(ge,Rt),fi=new RegExp(O(gt)+O(Je),"g"),Kt=ot.indexOf(Je,Rt);;)if(ot[Rt]===Je)for(Kt=Rt,Rt++;;){if((Kt=ot.indexOf(Je,Kt+1))===-1)return je||Ot.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Dt.length,index:Rt}),Si();if(Kt===Qe-1)return Si(ot.substring(Rt,Kt).replace(fi,Je));if(Je===gt&&ot[Kt+1]===gt)Kt++;else if(Je===gt||Kt===0||ot[Kt-1]!==gt){Zt!==-1&&Zt<Kt+1&&(Zt=ot.indexOf(J,Kt+1));var pt=qi((oi=oi!==-1&&oi<Kt+1?ot.indexOf(ge,Kt+1):oi)===-1?Zt:Math.min(Zt,oi));if(ot.substr(Kt+1+pt,it)===J){Ct.push(ot.substring(Rt,Kt).replace(fi,Je)),ot[Rt=Kt+1+pt+it]!==Je&&(Kt=ot.indexOf(Je,Rt)),Zt=ot.indexOf(J,Rt),oi=ot.indexOf(ge,Rt);break}if(pt=qi(oi),ot.substring(Kt+1+pt,Kt+1+pt+rt)===ge){if(Ct.push(ot.substring(Rt,Kt).replace(fi,Je)),fa(Kt+1+pt+rt),Zt=ot.indexOf(J,Rt),Kt=ot.indexOf(Je,Rt),yt&&(ea(),Yt))return Ri();if(ve&&Dt.length>=ve)return Ri(!0);break}Ot.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Dt.length,index:Rt}),Kt++}}else if(le&&Ct.length===0&&ot.substring(Rt,Rt+Bt)===le){if(oi===-1)return Ri();Rt=oi+rt,oi=ot.indexOf(ge,Rt),Zt=ot.indexOf(J,Rt)}else if(Zt!==-1&&(Zt<oi||oi===-1))Ct.push(ot.substring(Rt,Zt)),Rt=Zt+it,Zt=ot.indexOf(J,Rt);else{if(oi===-1)break;if(Ct.push(ot.substring(Rt,oi)),fa(oi+rt),yt&&(ea(),Yt))return Ri();if(ve&&Dt.length>=ve)return Ri(!0)}return Si();function ci(wi){Dt.push(wi),Qt=Rt}function qi(wi){var ji=0;return ji=wi!==-1&&(wi=ot.substring(Kt+1,wi))&&wi.trim()===""?wi.length:ji}function Si(wi){return je||(wi===void 0&&(wi=ot.substring(Rt)),Ct.push(wi),Rt=Qe,ci(Ct),yt&&ea()),Ri()}function fa(wi){Rt=wi,ci(Ct),Ct=[],oi=ot.indexOf(ge,Rt)}function Ri(wi){if(V.header&&!mt&&Dt.length&&!$e){var ji=Dt[0],ha={},Rr=new Set(ji);let Ha=!1;for(let Oa=0;Oa<ji.length;Oa++){let sa=ji[Oa];if(ha[sa=ae(V.transformHeader)?V.transformHeader(sa,Oa):sa]){let na,va=ha[sa];for(;na=sa+"_"+va,va++,Rr.has(na););Rr.add(na),ji[Oa]=na,ha[sa]++,Ha=!0,(nt=nt===null?{}:nt)[na]=sa}else ha[sa]=1,ji[Oa]=sa;Rr.add(sa)}Ha&&console.warn("Duplicate headers found and renamed."),$e=!0}return{data:Dt,errors:Ot,meta:{delimiter:J,linebreak:ge,aborted:Yt,truncated:!!wi,cursor:Qt+(mt||0),renamedHeaders:nt}}}function ea(){_e(Ri()),Dt=[],Ot=[]}},this.abort=function(){Yt=!0},this.getCharIndex=function(){return Rt}}function $(V){var J=V.data,ge=s[J.workerId],le=!1;if(J.error)ge.userError(J.error,J.file);else if(J.results&&J.results.data){var _e={abort:function(){le=!0,Ae(J.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ce,resume:ce};if(ae(ge.userStep)){for(var ve=0;ve<J.results.data.length&&(ge.userStep({data:J.results.data[ve],errors:J.results.errors,meta:J.results.meta},_e),!le);ve++);delete J.results}else ae(ge.userChunk)&&(ge.userChunk(J.results,_e,J.file),delete J.results)}J.finished&&!le&&Ae(J.workerId,J.results)}function Ae(V,J){var ge=s[V];ae(ge.userComplete)&&ge.userComplete(J),ge.terminate(),delete s[V]}function ce(){throw new Error("Not implemented.")}function he(V){if(typeof V!="object"||V===null)return V;var J,ge=Array.isArray(V)?[]:{};for(J in V)ge[J]=he(V[J]);return ge}function se(V,J){return function(){V.apply(J,arguments)}}function ae(V){return typeof V=="function"}return w.parse=function(V,J){var ge=(J=J||{}).dynamicTyping||!1;if(ae(ge)&&(J.dynamicTypingFunction=ge,ge={}),J.dynamicTyping=ge,J.transform=!!ae(J.transform)&&J.transform,!J.worker||!w.WORKERS_SUPPORTED)return ge=null,w.NODE_STREAM_INPUT,typeof V=="string"?(V=(le=>le.charCodeAt(0)!==65279?le:le.slice(1))(V),ge=new(J.download?R:M)(J)):V.readable===!0&&ae(V.read)&&ae(V.on)?ge=new Y(J):(n.File&&V instanceof File||V instanceof Object)&&(ge=new E(J)),ge.stream(V);(ge=(()=>{var le;return!!w.WORKERS_SUPPORTED&&(le=(()=>{var _e=n.URL||n.webkitURL||null,ve=a.toString();return w.BLOB_URL||(w.BLOB_URL=_e.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ve,")();"],{type:"text/javascript"})))})(),(le=new n.Worker(le)).onmessage=$,le.id=x++,s[le.id]=le)})()).userStep=J.step,ge.userChunk=J.chunk,ge.userComplete=J.complete,ge.userError=J.error,J.step=ae(J.step),J.chunk=ae(J.chunk),J.complete=ae(J.complete),J.error=ae(J.error),delete J.worker,ge.postMessage({input:V,config:J,workerId:ge.id})},w.unparse=function(V,J){var ge=!1,le=!0,_e=",",ve=`\r
`,He='"',nt=He+He,$e=!1,Je=null,gt=!1,Rt=((()=>{if(typeof J=="object"){if(typeof J.delimiter!="string"||w.BAD_DELIMITERS.filter(function(mt){return J.delimiter.indexOf(mt)!==-1}).length||(_e=J.delimiter),typeof J.quotes!="boolean"&&typeof J.quotes!="function"&&!Array.isArray(J.quotes)||(ge=J.quotes),typeof J.skipEmptyLines!="boolean"&&typeof J.skipEmptyLines!="string"||($e=J.skipEmptyLines),typeof J.newline=="string"&&(ve=J.newline),typeof J.quoteChar=="string"&&(He=J.quoteChar),typeof J.header=="boolean"&&(le=J.header),Array.isArray(J.columns)){if(J.columns.length===0)throw new Error("Option columns is empty");Je=J.columns}J.escapeChar!==void 0&&(nt=J.escapeChar+He),J.escapeFormulae instanceof RegExp?gt=J.escapeFormulae:typeof J.escapeFormulae=="boolean"&&J.escapeFormulae&&(gt=/^[=+\-@\t\r].*$/)}})(),new RegExp(O(He),"g"));if(typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(V)){if(!V.length||Array.isArray(V[0]))return Yt(null,V,$e);if(typeof V[0]=="object")return Yt(Je||Object.keys(V[0]),V,$e)}else if(typeof V=="object")return typeof V.data=="string"&&(V.data=JSON.parse(V.data)),Array.isArray(V.data)&&(V.fields||(V.fields=V.meta&&V.meta.fields||Je),V.fields||(V.fields=Array.isArray(V.data[0])?V.fields:typeof V.data[0]=="object"?Object.keys(V.data[0]):[]),Array.isArray(V.data[0])||typeof V.data[0]=="object"||(V.data=[V.data])),Yt(V.fields||[],V.data||[],$e);throw new Error("Unable to serialize unrecognized input");function Yt(mt,je,Qe){var it="",rt=(typeof mt=="string"&&(mt=JSON.parse(mt)),typeof je=="string"&&(je=JSON.parse(je)),Array.isArray(mt)&&0<mt.length),Bt=!Array.isArray(je[0]);if(rt&&le){for(var yt=0;yt<mt.length;yt++)0<yt&&(it+=_e),it+=ot(mt[yt],yt);0<je.length&&(it+=ve)}for(var Dt=0;Dt<je.length;Dt++){var Ot=(rt?mt:je[Dt]).length,Ct=!1,Qt=rt?Object.keys(je[Dt]).length===0:je[Dt].length===0;if(Qe&&!rt&&(Ct=Qe==="greedy"?je[Dt].join("").trim()==="":je[Dt].length===1&&je[Dt][0].length===0),Qe==="greedy"&&rt){for(var ui=[],Nt=0;Nt<Ot;Nt++){var Zt=Bt?mt[Nt]:Nt;ui.push(je[Dt][Zt])}Ct=ui.join("").trim()===""}if(!Ct){for(var oi=0;oi<Ot;oi++){0<oi&&!Qt&&(it+=_e);var fi=rt&&Bt?mt[oi]:oi;it+=ot(je[Dt][fi],oi)}Dt<je.length-1&&(!Qe||0<Ot&&!Qt)&&(it+=ve)}}return it}function ot(mt,je){var Qe,it;return mt==null?"":mt.constructor===Date?JSON.stringify(mt).slice(1,25):(it=!1,gt&&typeof mt=="string"&&gt.test(mt)&&(mt="'"+mt,it=!0),Qe=mt.toString().replace(Rt,nt),(it=it||ge===!0||typeof ge=="function"&&ge(mt,je)||Array.isArray(ge)&&ge[je]||((rt,Bt)=>{for(var yt=0;yt<Bt.length;yt++)if(-1<rt.indexOf(Bt[yt]))return!0;return!1})(Qe,w.BAD_DELIMITERS)||-1<Qe.indexOf(_e)||Qe.charAt(0)===" "||Qe.charAt(Qe.length-1)===" ")?He+Qe+He:Qe)}},w.RECORD_SEP="",w.UNIT_SEP="",w.BYTE_ORDER_MARK="\uFEFF",w.BAD_DELIMITERS=["\r",`
`,'"',w.BYTE_ORDER_MARK],w.WORKERS_SUPPORTED=!f&&!!n.Worker,w.NODE_STREAM_INPUT=1,w.LocalChunkSize=10485760,w.RemoteChunkSize=5242880,w.DefaultDelimiter=",",w.Parser=H,w.ParserHandle=D,w.NetworkStreamer=R,w.FileStreamer=E,w.StringStreamer=M,w.ReadableStreamStreamer=Y,n.jQuery&&((c=n.jQuery).fn.parse=function(V){var J=V.config||{},ge=[];return this.each(function(ve){if(!(c(this).prop("tagName").toUpperCase()==="INPUT"&&c(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var He=0;He<this.files.length;He++)ge.push({file:this.files[He],inputElem:this,instanceConfig:c.extend({},J)})}),le(),this;function le(){if(ge.length===0)ae(V.complete)&&V.complete();else{var ve,He,nt,$e,Je=ge[0];if(ae(V.before)){var gt=V.before(Je.file,Je.inputElem);if(typeof gt=="object"){if(gt.action==="abort")return ve="AbortError",He=Je.file,nt=Je.inputElem,$e=gt.reason,void(ae(V.error)&&V.error({name:ve},He,nt,$e));if(gt.action==="skip")return void _e();typeof gt.config=="object"&&(Je.instanceConfig=c.extend(Je.instanceConfig,gt.config))}else if(gt==="skip")return void _e()}var Rt=Je.instanceConfig.complete;Je.instanceConfig.complete=function(Yt){ae(Rt)&&Rt(Yt,Je.file,Je.inputElem),_e()},w.parse(Je.file,Je.instanceConfig)}}function _e(){ge.splice(0,1),le()}}),h&&(n.onmessage=function(V){V=V.data,w.WORKER_ID===void 0&&V&&(w.WORKER_ID=V.workerId),typeof V.input=="string"?n.postMessage({workerId:w.WORKER_ID,results:w.parse(V.input,V.config),finished:!0}):(n.File&&V.input instanceof File||V.input instanceof Object)&&(V=w.parse(V.input,V.config))&&n.postMessage({workerId:w.WORKER_ID,results:V,finished:!0})}),(R.prototype=Object.create(I.prototype)).constructor=R,(E.prototype=Object.create(I.prototype)).constructor=E,(M.prototype=Object.create(M.prototype)).constructor=M,(Y.prototype=Object.create(I.prototype)).constructor=Y,w})})(nP);const sP=async(t,e)=>{try{const a=await t.arrayBuffer(),n=new Response(a).body;if(!n)throw new Error("ReadableStream");const c=_7(n),f={type:"FeatureCollection",features:[]};if(e===void 0)for await(const h of c)f.features.push(h);return f}catch(a){throw console.error(a),new Error("Failed to parse FGB file")}};var rx={exports:{}},_3,_v;function oP(){if(_v)return _3;_v=1,_3=function(){return t};function t(){}return _3}(function(t){let e=function(){this.xmlSource="",this.metadata={},this.waypoints=[],this.tracks=[],this.routes=[]};e.prototype.parse=function(a){let n=this,c=new window.DOMParser;this.xmlSource=c.parseFromString(a,"text/xml");let f=this.xmlSource.querySelector("metadata");if(f!=null){this.metadata.name=this.getElementValue(f,"name"),this.metadata.desc=this.getElementValue(f,"desc"),this.metadata.time=this.getElementValue(f,"time");let E={},M=f.querySelector("author");if(M!=null){E.name=this.getElementValue(M,"name"),E.email={};let O=M.querySelector("email");O!=null&&(E.email.id=O.getAttribute("id"),E.email.domain=O.getAttribute("domain"));let H={},$=M.querySelector("link");$!=null&&(H.href=$.getAttribute("href"),H.text=this.getElementValue($,"text"),H.type=this.getElementValue($,"type")),E.link=H}this.metadata.author=E;let Y={},D=this.queryDirectSelector(f,"link");D!=null&&(Y.href=D.getAttribute("href"),Y.text=this.getElementValue(D,"text"),Y.type=this.getElementValue(D,"type"),this.metadata.link=Y)}var h=[].slice.call(this.xmlSource.querySelectorAll("wpt"));for(let E in h){var s=h[E];let M={};M.name=n.getElementValue(s,"name"),M.sym=n.getElementValue(s,"sym"),M.lat=parseFloat(s.getAttribute("lat")),M.lon=parseFloat(s.getAttribute("lon"));let Y=parseFloat(n.getElementValue(s,"ele"));M.ele=isNaN(Y)?null:Y,M.cmt=n.getElementValue(s,"cmt"),M.desc=n.getElementValue(s,"desc");let D=n.getElementValue(s,"time");M.time=D==null?null:new Date(D),n.waypoints.push(M)}var x=[].slice.call(this.xmlSource.querySelectorAll("rte"));for(let E in x){let M=x[E],Y={};Y.name=n.getElementValue(M,"name"),Y.cmt=n.getElementValue(M,"cmt"),Y.desc=n.getElementValue(M,"desc"),Y.src=n.getElementValue(M,"src"),Y.number=n.getElementValue(M,"number");let D=n.queryDirectSelector(M,"type");Y.type=D!=null?D.innerHTML:null;let O={},H=M.querySelector("link");H!=null&&(O.href=H.getAttribute("href"),O.text=n.getElementValue(H,"text"),O.type=n.getElementValue(H,"type")),Y.link=O;let $=[];var w=[].slice.call(M.querySelectorAll("rtept"));for(let Ae in w){let ce=w[Ae],he={};he.lat=parseFloat(ce.getAttribute("lat")),he.lon=parseFloat(ce.getAttribute("lon"));let se=parseFloat(n.getElementValue(ce,"ele"));he.ele=isNaN(se)?null:se;let ae=n.getElementValue(ce,"time");he.time=ae==null?null:new Date(ae),$.push(he)}Y.distance=n.calculDistance($),Y.elevation=n.calcElevation($),Y.slopes=n.calculSlope($,Y.distance.cumul),Y.points=$,n.routes.push(Y)}var I=[].slice.call(this.xmlSource.querySelectorAll("trk"));for(let E in I){let M=I[E],Y={};Y.name=n.getElementValue(M,"name"),Y.cmt=n.getElementValue(M,"cmt"),Y.desc=n.getElementValue(M,"desc"),Y.src=n.getElementValue(M,"src"),Y.number=n.getElementValue(M,"number");let D=n.queryDirectSelector(M,"type");Y.type=D!=null?D.innerHTML:null;let O={},H=M.querySelector("link");H!=null&&(O.href=H.getAttribute("href"),O.text=n.getElementValue(H,"text"),O.type=n.getElementValue(H,"type")),Y.link=O;let $=[],Ae=[].slice.call(M.querySelectorAll("trkpt"));for(let ce in Ae){var R=Ae[ce];let he={};he.lat=parseFloat(R.getAttribute("lat")),he.lon=parseFloat(R.getAttribute("lon"));let se=parseFloat(n.getElementValue(R,"ele"));he.ele=isNaN(se)?null:se;let ae=n.getElementValue(R,"time");he.time=ae==null?null:new Date(ae),$.push(he)}Y.distance=n.calculDistance($),Y.elevation=n.calcElevation($),Y.slopes=n.calculSlope($,Y.distance.cumul),Y.points=$,n.tracks.push(Y)}},e.prototype.getElementValue=function(a,n){let c=a.querySelector(n);return c!=null?c.innerHTML!=null?c.innerHTML:c.childNodes[0].data:c},e.prototype.queryDirectSelector=function(a,n){let c=a.querySelectorAll(n),f=c[0];if(c.length>1){let h=a.childNodes;for(idx in h)elem=h[idx],elem.tagName===n&&(f=elem)}return f},e.prototype.calculDistance=function(a){let n={},c=0,f=[];for(var h=0;h<a.length-1;h++)c+=this.calcDistanceBetween(a[h],a[h+1]),f[h]=c;return f[a.length-1]=c,n.total=c,n.cumul=f,n},e.prototype.calcDistanceBetween=function(a,n){let c={};c.lat=a.lat,c.lon=a.lon;let f={};f.lat=n.lat,f.lon=n.lon;var h=Math.PI/180,s=c.lat*h,x=f.lat*h,w=Math.sin((f.lat-c.lat)*h/2),I=Math.sin((f.lon-c.lon)*h/2),R=w*w+Math.cos(s)*Math.cos(x)*I*I;return 6371e3*(2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R)))},e.prototype.calcElevation=function(a){for(var n=0,c=0,f={},h=0;h<a.length-1;h++){let R=a[h+1].ele,E=a[h].ele;if(R!==null&&E!==null){let M=parseFloat(R)-parseFloat(E);M<0?c+=M:M>0&&(n+=M)}}for(var s=[],x=0,w=(h=0,a.length);h<w;h++)if(a[h].ele!==null){var I=parseFloat(a[h].ele);s.push(I),x+=I}return f.max=Math.max.apply(null,s)||null,f.min=Math.min.apply(null,s)||null,f.pos=Math.abs(n)||null,f.neg=Math.abs(c)||null,f.avg=x/s.length||null,f},e.prototype.calculSlope=function(a,n){let c=[];for(var f=0;f<a.length-1;f++){let h=a[f],s=100*(a[f+1].ele-h.ele)/(n[f+1]-n[f]);c.push(s)}return c},e.prototype.toGeoJSON=function(){var a={type:"FeatureCollection",features:[],properties:{name:this.metadata.name,desc:this.metadata.desc,time:this.metadata.time,author:this.metadata.author,link:this.metadata.link}};for(idx in this.tracks){let f=this.tracks[idx];var n={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}};for(idx in n.properties.name=f.name,n.properties.cmt=f.cmt,n.properties.desc=f.desc,n.properties.src=f.src,n.properties.number=f.number,n.properties.link=f.link,n.properties.type=f.type,f.points){let h=f.points[idx];(c=[]).push(h.lon),c.push(h.lat),c.push(h.ele),n.geometry.coordinates.push(c)}a.features.push(n)}for(idx in this.routes){let f=this.routes[idx];n={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}};for(idx in n.properties.name=f.name,n.properties.cmt=f.cmt,n.properties.desc=f.desc,n.properties.src=f.src,n.properties.number=f.number,n.properties.link=f.link,n.properties.type=f.type,f.points){let h=f.points[idx];var c;(c=[]).push(h.lon),c.push(h.lat),c.push(h.ele),n.geometry.coordinates.push(c)}a.features.push(n)}for(idx in this.waypoints){let f=this.waypoints[idx];(n={type:"Feature",geometry:{type:"Point",coordinates:[]},properties:{}}).properties.name=f.name,n.properties.sym=f.sym,n.properties.cmt=f.cmt,n.properties.desc=f.desc,n.geometry.coordinates=[f.lon,f.lat,f.ele],a.features.push(n)}return a},oP()(),t.exports=e})(rx);var lP=rx.exports;const AP=Lm(lP),cP=async t=>{try{const e=await t.text(),a=new AP;a.parse(e);const n={type:"FeatureCollection",features:[]};return a.tracks.forEach(c=>{if(c.points.length>0){const f=c.points.map(h=>[h.lon,h.lat]);n.features.push({type:"Feature",geometry:{type:"LineString",coordinates:f},properties:{}})}}),a.waypoints.forEach(c=>{n.features.push({type:"Feature",geometry:{type:"Point",coordinates:[c.lon,c.lat]},properties:{name:c.name}})}),a.routes.forEach(c=>{if(c.points.length>0){const f=c.points.map(h=>[h.lon,h.lat]);n.features.push({type:"Feature",geometry:{type:"LineString",coordinates:f},properties:{name:c.name}})}}),n}catch(e){throw console.error("GeoJSON parsing error:",e),new Error("Failed to parse GeoJSON file")}};var hP=ft('<div class="pointer-events-none absolute h-full w-full bg-slate-500 opacity-50"></div>');function uP(t,e){mi(e,!0);let a=si(e,"tempLayerEntries",15),n=si(e,"showDataEntry",15);const c=["csv","geojson","fgb","gpx"],f=I=>{const R=new Set;if(I.features.forEach(E=>{E.geometry&&E.geometry.type&&R.add(E.geometry.type)}),R.has("Point"))return"Point";if(R.has("LineString"))return"LineString";if(R.has("Polygon"))return"Polygon";if(R.has("MultiPoint"))return"Point";if(R.has("MultiLineString"))return"LineString";if(R.has("MultiPolygon"))return"Polygon"},h=async I=>{var D,O;let R;const E=(D=I.name.split(".").pop())==null?void 0:D.toLowerCase();if(!E||!c.includes(E)){oh("","error");return}switch((O=I.name.split(".").pop())==null?void 0:O.toLowerCase()){case"geojson":R=await b7(I);break;case"fgb":R=await sP(I);break;case"gpx":R=await cP(I);break;default:oh("","error");return}const M=f(R);if(!M){oh("","error");return}const Y=y7(R,M,I.name);if(!Y){oh("","error");return}a([...a(),Y]),n(Y),oh("","success")};Cr(()=>{e.dropFile&&h(e.dropFile)});var s=xi(),x=kt(s);{var w=I=>{var R=hP();Ve(I,R)};It(x,I=>{e.isDragover&&I(w)})}Ve(t,s),_i()}var dP=ft('<div class="absolute bottom-2 left-2 z-20"></div>');function fP(t,e){mi(e,!1);let a=Wr();Mr(()=>{da.onInitialized(c=>{if(c){const f=new Zg.ScaleControl({maxWidth:100,unit:"metric"});q(a).appendChild(f.onAdd(c))}})}),Vo();var n=dP();wn(n,c=>st(a,c),()=>q(a)),Ve(t,n),_i()}function gP(t){fP(t,{})}var pP=ft('<div class="grid h-[50px] w-[50px] shrink-0 cursor-grab place-items-center overflow-hidden rounded-full border-2"><svg class="h-full w-full scale-50" xmlns="http://www.w3.org/2000/svg" width="132" height="132" viewBox="0 0 132 132"><g transform="translate(47,0)"><path fill="000" d="m19 0 16.455 66H2.545L19 0Z"></path><path fill="#D9D9D9" d="M19 132 2.546 66h32.909L19 132Z"></path></g></svg></div>'),mP=ft('<div class="pointer-events-none absolute bottom-0 flex w-full items-center justify-center"><div class="bg-main pointer-events-auto grid h-[100px] w-[100px] place-items-center overflow-hidden rounded-full"><svg class="h-full w-full scale-50" xmlns="http://www.w3.org/2000/svg" width="132" height="132" viewBox="0 0 132 132"><g transform="translate(47,0)"><path fill="#000" d="m19 0 16.455 66H2.545L19 0Z"></path><path fill="#D9D9D9" d="M19 132 2.546 66h32.909L19 132Z"></path></g></svg></div></div>');function _P(t,e){mi(e,!0),Y3.registerPlugin(Fh);let a=$t(null);const n=x=>(x+180)%360-180;da.onRotate(x=>{!q(a)||x==null||q(a)&&Y3.set(q(a),{rotation:x*-1})}),Mr(()=>{q(a)&&Fh.create(q(a),{type:"rotation",inertia:!0,dragResistance:.5,onDrag(){const x=n(this.rotation);da.setBearing(x*-1)},onClick(){da.easeTo({bearing:0}),q(a)&&(q(a).style.transform="rotate(0deg)"),this.rotation=0,this.update()},onDragEnd(){const x=da.getBearing();x&&x>=-7&&x<=7&&da.easeTo({bearing:0})}})});var c=xi(),f=kt(c);{var h=x=>{var w=pP();wn(w,I=>st(a,I),()=>q(a)),Ve(x,w)},s=x=>{var w=mP(),I=Le(w);wn(I,R=>st(a,R),()=>q(a)),Ue(w),Ve(x,w)};It(f,x=>{v7()?x(h):x(s,!1)})}Ve(t,c),_i()}var bP=ft('<div role="button" tabindex="0"><!> <div class="flex flex-col gap-2"><div class="text-base font-bold"> </div></div></div>');function yP(t,e){mi(e,!0);let a=$t(0),n=$t(!1);da.onZoom(w=>{w&&st(a,w,!0)}),da.onInitialized(w=>{w&&st(a,w.getZoom(),!0)});var c=bP(),f=Le(c);_P(f,{get isHover(){return q(n)},set isHover(w){st(n,w,!0)}});var h=Ze(f,2),s=Le(h),x=Le(s,!0);Ue(s),Ue(h),Ue(c),di(w=>{Pr(c,1,`bg-main absolute bottom-12 right-0 flex h-auto w-[150px] gap-2 rounded-l-full p-2 text-sm text-white transition-opacity duration-200 ${(q(n)?"opacity-100":"opacity-80")??""}`),yi(x,w)},[()=>q(a).toFixed(1)]),fr("mouseenter",c,()=>st(n,!0)),fr("mouseleave",c,()=>st(n,!1)),Ve(t,c),_i()}const vP={street_view_sources:{type:"vector",url:`pmtiles://${F1}/THETA360.pmtiles`}},xP={id:"@street_view_line_layer",type:"line",source:"street_view_sources","source-layer":"THETA360_line",paint:{"line-color":"#08fa00","line-width":10,"line-opacity":.5,"line-blur":.5},layout:{visibility:"none","line-cap":"round","line-join":"round"}},wP={id:"@street_view_circle_layer",type:"circle",source:"street_view_sources","source-layer":"THETA360",minzoom:15,layout:{visibility:"none"},paint:{"circle-color":["case",["boolean",["feature-state","hover"],!1],"#00fad0","#08fa00"],"circle-radius":["case",["boolean",["feature-state","hover"],!1],20,12],"circle-opacity":["case",["boolean",["feature-state","hover"],!1],.8,.6],"circle-stroke-width":2,"circle-stroke-color":"#ffffff","circle-stroke-opacity":.5,"circle-blur":.3}};var BP=ft("<div></div>");function CP(t,e){mi(e,!0),da.onInitialized(h=>{});let a=null;const n=h=>{!h.features||h.features.length===0||(a!==null&&e.map.setFeatureState({source:"street_view_sources",sourceLayer:"THETA360",id:a},{hover:!1}),a=h.features[0].id,e.map.setFeatureState({source:"street_view_sources",sourceLayer:"THETA360",id:a},{hover:!0}),e.map.getCanvas().style.cursor="pointer")},c=()=>{a!==null&&(e.map.setFeatureState({source:"street_view_sources",sourceLayer:"THETA360",id:a},{hover:!1}),a=null),e.map.getCanvas().style.cursor=""};S3.subscribe(h=>{!e.map.getLayer("@street_view_line_layer")||!e.map.getLayer("@street_view_circle_layer")||(h?(e.map.setLayoutProperty("@street_view_line_layer","visibility","visible"),e.map.setLayoutProperty("@street_view_circle_layer","visibility","visible"),e.map.on("mousemove","@street_view_circle_layer",n),e.map.on("mouseleave","@street_view_circle_layer",c)):(e.map.setLayoutProperty("@street_view_line_layer","visibility","none"),e.map.setLayoutProperty("@street_view_circle_layer","visibility","none"),e.map.off("mousemove","@street_view_circle_layer",n),e.map.off("mouseleave","@street_view_circle_layer",c)))}),KA(()=>{da.getMap()});var f=BP();Ve(t,f),_i()}var MP=ft('<div class="pointer-events-none relative z-50 grid h-[100px] w-[100px] place-items-center svelte-17wdhqb"><div class="css-ripple-effect svelte-17wdhqb"></div> <div class="border-main absolute h-[12px] w-[12px] rounded-full border-[2px] bg-white svelte-17wdhqb"></div> <div class="border-main absolute h-[24px] w-[24px] rounded-full border-2 svelte-17wdhqb"></div> <div class="border-base absolute h-[20px] w-[20px] rounded-full border-2 svelte-17wdhqb"></div></div>');function RP(t,e){mi(e,!0);let a=$t(null),n=$t(null);Mr(()=>{q(a)&&e.show&&st(n,new Ps.Marker({element:q(a),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map))}),Cr(()=>{e.show?q(n)?q(n).setLngLat(e.lngLat):st(n,new Ps.Marker({element:q(a),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map)):q(n)&&(q(n).remove(),st(n,null))}),KA(()=>{var s;(s=q(n))==null||s.remove()});var c=xi(),f=kt(c);{var h=s=>{var x=MP();wn(x,w=>st(a,w),()=>q(a)),Ve(s,x)};It(f,s=>{e.show&&s(h)})}Ve(t,c),_i()}class qd{static set(e,a){this.cache.set(e,a)}static get(e){return this.cache.get(e)}static remove(e){this.cache.delete(e)}static clear(){this.cache.clear()}static has(e){return this.cache.has(e)}static keys(){return this.cache.keys()}}Ia(qd,"cache",new Map);var IP=ft("<div></div>");function UP(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(m6,"$clickableVectorIds",a),f=()=>zi(QA,"$mapMode",a),h=()=>zi(rg,"$DEBUG_MODE",a);let s=si(e,"markerLngLat",15),x=si(e,"featureMenuData",15),w=si(e,"showMarker",15),I=si(e,"clickedLayerIds",15),R=null,E=null;e.map.on("click",Y=>{if(e.showDataEntry)return;const D=["@street_view_circle_layer",...c()],O=e.map.queryRenderedFeatures(Y.point,{layers:D});if(!O.length){R!==null&&E!==null&&(e.map.setFeatureState({...E,id:R},{selected:!1}),R=null),x(null),I([]),s()?(s(null),w(!1)):(w(!0),s(Y.lngLat));return}if(f()==="edit"){const ae=O[0].layer.id,V=e.layerEntries.find(J=>J.id===ae);V&&to.set(V.id)}const H=O.map(ae=>ae.layer.id),$=e.layerEntries.filter(ae=>{if(ae.type==="raster"&&ae.interaction.clickable&&ae.style.visible){if(ae.metaData.location==="")return!0;if(ae.metaData.bounds&&JS(Y.lngLat,ae.metaData.bounds))return!0}}).map(ae=>ae.id);if(H.includes("@street_view_circle_layer")){Pl.set(!0);return}const Ae=[...H,...$];if(I(Ae.length>0?Ae:[]),O.length>0){const ae=O[0],V=ae.geometry.type==="Point"?ae.geometry.coordinates:[Y.lngLat.lng,Y.lngLat.lat],J=x7(ae,V);x(J)}h()&&console.warn(O);const ce=O[0],he=ce.id,se=qd.get(ce.layer.id);s(Y.lngLat),w(!0),E&&R!==null&&e.map.setFeatureState({...E,id:R},{selected:!1}),se&&(R=he,E=se,e.map.setFeatureState({...E,id:he},{selected:!0}))}),e.map.on("mousemove",Y=>{const D=[...c()],O=e.map.queryRenderedFeatures(Y.point,{layers:D});O.length>0?(e.map.getCanvas().style.cursor="pointer",e.toggleTooltip(Y,O[0])):(e.map.getCanvas().style.cursor="default",e.toggleTooltip())}),Cr(()=>{x()||R!==null&&E!==null&&(e.map.setFeatureState({...E,id:R},{selected:!1}),R=null)}),KA(()=>{da.getMap()});var M=IP();Ve(t,M),_i(),n()}const g={};g.MUNI_ARRAY={};g.MUNI_ARRAY[1100]="1,,1100,";g.MUNI_ARRAY[1101]="1,,1101,";g.MUNI_ARRAY[1102]="1,,1102,";g.MUNI_ARRAY[1103]="1,,1103,";g.MUNI_ARRAY[1104]="1,,1104,";g.MUNI_ARRAY[1105]="1,,1105,";g.MUNI_ARRAY[1106]="1,,1106,";g.MUNI_ARRAY[1107]="1,,1107,";g.MUNI_ARRAY[1108]="1,,1108,";g.MUNI_ARRAY[1109]="1,,1109,";g.MUNI_ARRAY[1110]="1,,1110,";g.MUNI_ARRAY[1202]="1,,1202,";g.MUNI_ARRAY[1203]="1,,1203,";g.MUNI_ARRAY[1204]="1,,1204,";g.MUNI_ARRAY[1205]="1,,1205,";g.MUNI_ARRAY[1206]="1,,1206,";g.MUNI_ARRAY[1207]="1,,1207,";g.MUNI_ARRAY[1208]="1,,1208,";g.MUNI_ARRAY[1209]="1,,1209,";g.MUNI_ARRAY[1210]="1,,1210,";g.MUNI_ARRAY[1211]="1,,1211,";g.MUNI_ARRAY[1212]="1,,1212,";g.MUNI_ARRAY[1213]="1,,1213,";g.MUNI_ARRAY[1214]="1,,1214,";g.MUNI_ARRAY[1215]="1,,1215,";g.MUNI_ARRAY[1216]="1,,1216,";g.MUNI_ARRAY[1217]="1,,1217,";g.MUNI_ARRAY[1218]="1,,1218,";g.MUNI_ARRAY[1219]="1,,1219,";g.MUNI_ARRAY[1220]="1,,1220,";g.MUNI_ARRAY[1221]="1,,1221,";g.MUNI_ARRAY[1222]="1,,1222,";g.MUNI_ARRAY[1223]="1,,1223,";g.MUNI_ARRAY[1224]="1,,1224,";g.MUNI_ARRAY[1225]="1,,1225,";g.MUNI_ARRAY[1226]="1,,1226,";g.MUNI_ARRAY[1227]="1,,1227,";g.MUNI_ARRAY[1228]="1,,1228,";g.MUNI_ARRAY[1229]="1,,1229,";g.MUNI_ARRAY[1230]="1,,1230,";g.MUNI_ARRAY[1231]="1,,1231,";g.MUNI_ARRAY[1233]="1,,1233,";g.MUNI_ARRAY[1234]="1,,1234,";g.MUNI_ARRAY[1235]="1,,1235,";g.MUNI_ARRAY[1236]="1,,1236,";g.MUNI_ARRAY[1303]="1,,1303,";g.MUNI_ARRAY[1304]="1,,1304,";g.MUNI_ARRAY[1331]="1,,1331,";g.MUNI_ARRAY[1332]="1,,1332,";g.MUNI_ARRAY[1333]="1,,1333,";g.MUNI_ARRAY[1334]="1,,1334,";g.MUNI_ARRAY[1337]="1,,1337,";g.MUNI_ARRAY[1343]="1,,1343,";g.MUNI_ARRAY[1345]="1,,1345,";g.MUNI_ARRAY[1346]="1,,1346,";g.MUNI_ARRAY[1347]="1,,1347,";g.MUNI_ARRAY[1361]="1,,1361,";g.MUNI_ARRAY[1362]="1,,1362,";g.MUNI_ARRAY[1363]="1,,1363,";g.MUNI_ARRAY[1364]="1,,1364,";g.MUNI_ARRAY[1367]="1,,1367,";g.MUNI_ARRAY[1370]="1,,1370,";g.MUNI_ARRAY[1371]="1,,1371,";g.MUNI_ARRAY[1391]="1,,1391,";g.MUNI_ARRAY[1392]="1,,1392,";g.MUNI_ARRAY[1393]="1,,1393,";g.MUNI_ARRAY[1394]="1,,1394,";g.MUNI_ARRAY[1395]="1,,1395,";g.MUNI_ARRAY[1396]="1,,1396,";g.MUNI_ARRAY[1397]="1,,1397,";g.MUNI_ARRAY[1398]="1,,1398,";g.MUNI_ARRAY[1399]="1,,1399,";g.MUNI_ARRAY[1400]="1,,1400,";g.MUNI_ARRAY[1401]="1,,1401,";g.MUNI_ARRAY[1402]="1,,1402,";g.MUNI_ARRAY[1403]="1,,1403,";g.MUNI_ARRAY[1404]="1,,1404,";g.MUNI_ARRAY[1405]="1,,1405,";g.MUNI_ARRAY[1406]="1,,1406,";g.MUNI_ARRAY[1407]="1,,1407,";g.MUNI_ARRAY[1408]="1,,1408,";g.MUNI_ARRAY[1409]="1,,1409,";g.MUNI_ARRAY[1423]="1,,1423,";g.MUNI_ARRAY[1424]="1,,1424,";g.MUNI_ARRAY[1425]="1,,1425,";g.MUNI_ARRAY[1427]="1,,1427,";g.MUNI_ARRAY[1428]="1,,1428,";g.MUNI_ARRAY[1429]="1,,1429,";g.MUNI_ARRAY[1430]="1,,1430,";g.MUNI_ARRAY[1431]="1,,1431,";g.MUNI_ARRAY[1432]="1,,1432,";g.MUNI_ARRAY[1433]="1,,1433,";g.MUNI_ARRAY[1434]="1,,1434,";g.MUNI_ARRAY[1436]="1,,1436,";g.MUNI_ARRAY[1437]="1,,1437,";g.MUNI_ARRAY[1438]="1,,1438,";g.MUNI_ARRAY[1452]="1,,1452,";g.MUNI_ARRAY[1453]="1,,1453,";g.MUNI_ARRAY[1454]="1,,1454,";g.MUNI_ARRAY[1455]="1,,1455,";g.MUNI_ARRAY[1456]="1,,1456,";g.MUNI_ARRAY[1457]="1,,1457,";g.MUNI_ARRAY[1458]="1,,1458,";g.MUNI_ARRAY[1459]="1,,1459,";g.MUNI_ARRAY[1460]="1,,1460,";g.MUNI_ARRAY[1461]="1,,1461,";g.MUNI_ARRAY[1462]="1,,1462,";g.MUNI_ARRAY[1463]="1,,1463,";g.MUNI_ARRAY[1464]="1,,1464,";g.MUNI_ARRAY[1465]="1,,1465,";g.MUNI_ARRAY[1468]="1,,1468,";g.MUNI_ARRAY[1469]="1,,1469,";g.MUNI_ARRAY[1470]="1,,1470,";g.MUNI_ARRAY[1471]="1,,1471,";g.MUNI_ARRAY[1472]="1,,1472,";g.MUNI_ARRAY[1481]="1,,1481,";g.MUNI_ARRAY[1482]="1,,1482,";g.MUNI_ARRAY[1483]="1,,1483,";g.MUNI_ARRAY[1484]="1,,1484,";g.MUNI_ARRAY[1485]="1,,1485,";g.MUNI_ARRAY[1486]="1,,1486,";g.MUNI_ARRAY[1487]="1,,1487,";g.MUNI_ARRAY[1511]="1,,1511,";g.MUNI_ARRAY[1512]="1,,1512,";g.MUNI_ARRAY[1513]="1,,1513,";g.MUNI_ARRAY[1514]="1,,1514,";g.MUNI_ARRAY[1516]="1,,1516,";g.MUNI_ARRAY[1517]="1,,1517,";g.MUNI_ARRAY[1518]="1,,1518,";g.MUNI_ARRAY[1519]="1,,1519,";g.MUNI_ARRAY[1520]="1,,1520,";g.MUNI_ARRAY[1543]="1,,1543,";g.MUNI_ARRAY[1544]="1,,1544,";g.MUNI_ARRAY[1545]="1,,1545,";g.MUNI_ARRAY[1546]="1,,1546,";g.MUNI_ARRAY[1547]="1,,1547,";g.MUNI_ARRAY[1549]="1,,1549,";g.MUNI_ARRAY[1550]="1,,1550,";g.MUNI_ARRAY[1552]="1,,1552,";g.MUNI_ARRAY[1555]="1,,1555,";g.MUNI_ARRAY[1559]="1,,1559,";g.MUNI_ARRAY[1560]="1,,1560,";g.MUNI_ARRAY[1561]="1,,1561,";g.MUNI_ARRAY[1562]="1,,1562,";g.MUNI_ARRAY[1563]="1,,1563,";g.MUNI_ARRAY[1564]="1,,1564,";g.MUNI_ARRAY[1571]="1,,1571,";g.MUNI_ARRAY[1575]="1,,1575,";g.MUNI_ARRAY[1578]="1,,1578,";g.MUNI_ARRAY[1581]="1,,1581,";g.MUNI_ARRAY[1584]="1,,1584,";g.MUNI_ARRAY[1585]="1,,1585,";g.MUNI_ARRAY[1586]="1,,1586,";g.MUNI_ARRAY[1601]="1,,1601,";g.MUNI_ARRAY[1602]="1,,1602,";g.MUNI_ARRAY[1604]="1,,1604,";g.MUNI_ARRAY[1607]="1,,1607,";g.MUNI_ARRAY[1608]="1,,1608,";g.MUNI_ARRAY[1609]="1,,1609,";g.MUNI_ARRAY[1610]="1,,1610,";g.MUNI_ARRAY[1631]="1,,1631,";g.MUNI_ARRAY[1632]="1,,1632,";g.MUNI_ARRAY[1633]="1,,1633,";g.MUNI_ARRAY[1634]="1,,1634,";g.MUNI_ARRAY[1635]="1,,1635,";g.MUNI_ARRAY[1636]="1,,1636,";g.MUNI_ARRAY[1637]="1,,1637,";g.MUNI_ARRAY[1638]="1,,1638,";g.MUNI_ARRAY[1639]="1,,1639,";g.MUNI_ARRAY[1641]="1,,1641,";g.MUNI_ARRAY[1642]="1,,1642,";g.MUNI_ARRAY[1643]="1,,1643,";g.MUNI_ARRAY[1644]="1,,1644,";g.MUNI_ARRAY[1645]="1,,1645,";g.MUNI_ARRAY[1646]="1,,1646,";g.MUNI_ARRAY[1647]="1,,1647,";g.MUNI_ARRAY[1648]="1,,1648,";g.MUNI_ARRAY[1649]="1,,1649,";g.MUNI_ARRAY[1661]="1,,1661,";g.MUNI_ARRAY[1662]="1,,1662,";g.MUNI_ARRAY[1663]="1,,1663,";g.MUNI_ARRAY[1664]="1,,1664,";g.MUNI_ARRAY[1665]="1,,1665,";g.MUNI_ARRAY[1667]="1,,1667,";g.MUNI_ARRAY[1668]="1,,1668,";g.MUNI_ARRAY[1691]="1,,1691,";g.MUNI_ARRAY[1692]="1,,1692,";g.MUNI_ARRAY[1693]="1,,1693,";g.MUNI_ARRAY[1694]="1,,1694,";g.MUNI_ARRAY[1695]="1,,1695,";g.MUNI_ARRAY[1696]="1,,1696,";g.MUNI_ARRAY[1697]="1,,1697,";g.MUNI_ARRAY[1698]="1,,1698,";g.MUNI_ARRAY[1699]="1,,1699,";g.MUNI_ARRAY[1700]="1,,1700,";g.MUNI_ARRAY[2201]="2,,2201,";g.MUNI_ARRAY[2202]="2,,2202,";g.MUNI_ARRAY[2203]="2,,2203,";g.MUNI_ARRAY[2204]="2,,2204,";g.MUNI_ARRAY[2205]="2,,2205,";g.MUNI_ARRAY[2206]="2,,2206,";g.MUNI_ARRAY[2207]="2,,2207,";g.MUNI_ARRAY[2208]="2,,2208,";g.MUNI_ARRAY[2209]="2,,2209,";g.MUNI_ARRAY[2210]="2,,2210,";g.MUNI_ARRAY[2301]="2,,2301,";g.MUNI_ARRAY[2303]="2,,2303,";g.MUNI_ARRAY[2304]="2,,2304,";g.MUNI_ARRAY[2307]="2,,2307,";g.MUNI_ARRAY[2321]="2,,2321,";g.MUNI_ARRAY[2323]="2,,2323,";g.MUNI_ARRAY[2343]="2,,2343,";g.MUNI_ARRAY[2361]="2,,2361,";g.MUNI_ARRAY[2362]="2,,2362,";g.MUNI_ARRAY[2367]="2,,2367,";g.MUNI_ARRAY[2381]="2,,2381,";g.MUNI_ARRAY[2384]="2,,2384,";g.MUNI_ARRAY[2387]="2,,2387,";g.MUNI_ARRAY[2401]="2,,2401,";g.MUNI_ARRAY[2402]="2,,2402,";g.MUNI_ARRAY[2405]="2,,2405,";g.MUNI_ARRAY[2406]="2,,2406,";g.MUNI_ARRAY[2408]="2,,2408,";g.MUNI_ARRAY[2411]="2,,2411,";g.MUNI_ARRAY[2412]="2,,2412,";g.MUNI_ARRAY[2423]="2,,2423,";g.MUNI_ARRAY[2424]="2,,2424,";g.MUNI_ARRAY[2425]="2,,2425,";g.MUNI_ARRAY[2426]="2,,2426,";g.MUNI_ARRAY[2441]="2,,2441,";g.MUNI_ARRAY[2442]="2,,2442,";g.MUNI_ARRAY[2443]="2,,2443,";g.MUNI_ARRAY[2445]="2,,2445,";g.MUNI_ARRAY[2446]="2,,2446,";g.MUNI_ARRAY[2450]="2,,2450,";g.MUNI_ARRAY[3201]="3,,3201,";g.MUNI_ARRAY[3202]="3,,3202,";g.MUNI_ARRAY[3203]="3,,3203,";g.MUNI_ARRAY[3205]="3,,3205,";g.MUNI_ARRAY[3206]="3,,3206,";g.MUNI_ARRAY[3207]="3,,3207,";g.MUNI_ARRAY[3208]="3,,3208,";g.MUNI_ARRAY[3209]="3,,3209,";g.MUNI_ARRAY[3210]="3,,3210,";g.MUNI_ARRAY[3211]="3,,3211,";g.MUNI_ARRAY[3213]="3,,3213,";g.MUNI_ARRAY[3214]="3,,3214,";g.MUNI_ARRAY[3215]="3,,3215,";g.MUNI_ARRAY[3216]="3,,3216,";g.MUNI_ARRAY[3301]="3,,3301,";g.MUNI_ARRAY[3302]="3,,3302,";g.MUNI_ARRAY[3303]="3,,3303,";g.MUNI_ARRAY[3321]="3,,3321,";g.MUNI_ARRAY[3322]="3,,3322,";g.MUNI_ARRAY[3366]="3,,3366,";g.MUNI_ARRAY[3381]="3,,3381,";g.MUNI_ARRAY[3402]="3,,3402,";g.MUNI_ARRAY[3441]="3,,3441,";g.MUNI_ARRAY[3461]="3,,3461,";g.MUNI_ARRAY[3482]="3,,3482,";g.MUNI_ARRAY[3483]="3,,3483,";g.MUNI_ARRAY[3484]="3,,3484,";g.MUNI_ARRAY[3485]="3,,3485,";g.MUNI_ARRAY[3501]="3,,3501,";g.MUNI_ARRAY[3503]="3,,3503,";g.MUNI_ARRAY[3506]="3,,3506,";g.MUNI_ARRAY[3507]="3,,3507,";g.MUNI_ARRAY[3524]="3,,3524,";g.MUNI_ARRAY[4100]="4,,4100,";g.MUNI_ARRAY[4101]="4,,4101,";g.MUNI_ARRAY[4102]="4,,4102,";g.MUNI_ARRAY[4103]="4,,4103,";g.MUNI_ARRAY[4104]="4,,4104,";g.MUNI_ARRAY[4105]="4,,4105,";g.MUNI_ARRAY[4202]="4,,4202,";g.MUNI_ARRAY[4203]="4,,4203,";g.MUNI_ARRAY[4205]="4,,4205,";g.MUNI_ARRAY[4206]="4,,4206,";g.MUNI_ARRAY[4207]="4,,4207,";g.MUNI_ARRAY[4208]="4,,4208,";g.MUNI_ARRAY[4209]="4,,4209,";g.MUNI_ARRAY[4211]="4,,4211,";g.MUNI_ARRAY[4212]="4,,4212,";g.MUNI_ARRAY[4213]="4,,4213,";g.MUNI_ARRAY[4214]="4,,4214,";g.MUNI_ARRAY[4215]="4,,4215,";g.MUNI_ARRAY[4216]="4,,4216,";g.MUNI_ARRAY[4301]="4,,4301,";g.MUNI_ARRAY[4302]="4,,4302,";g.MUNI_ARRAY[4321]="4,,4321,";g.MUNI_ARRAY[4322]="4,,4322,";g.MUNI_ARRAY[4323]="4,,4323,";g.MUNI_ARRAY[4324]="4,,4324,";g.MUNI_ARRAY[4341]="4,,4341,";g.MUNI_ARRAY[4361]="4,,4361,";g.MUNI_ARRAY[4362]="4,,4362,";g.MUNI_ARRAY[4401]="4,,4401,";g.MUNI_ARRAY[4404]="4,,4404,";g.MUNI_ARRAY[4406]="4,,4406,";g.MUNI_ARRAY[4421]="4,,4421,";g.MUNI_ARRAY[4422]="4,,4422,";g.MUNI_ARRAY[4423]="4,,4423,";g.MUNI_ARRAY[4424]="4,,4424,";g.MUNI_ARRAY[4444]="4,,4444,";g.MUNI_ARRAY[4445]="4,,4445,";g.MUNI_ARRAY[4501]="4,,4501,";g.MUNI_ARRAY[4505]="4,,4505,";g.MUNI_ARRAY[4581]="4,,4581,";g.MUNI_ARRAY[4606]="4,,4606,";g.MUNI_ARRAY[5201]="5,,5201,";g.MUNI_ARRAY[5202]="5,,5202,";g.MUNI_ARRAY[5203]="5,,5203,";g.MUNI_ARRAY[5204]="5,,5204,";g.MUNI_ARRAY[5206]="5,,5206,";g.MUNI_ARRAY[5207]="5,,5207,";g.MUNI_ARRAY[5209]="5,,5209,";g.MUNI_ARRAY[5210]="5,,5210,";g.MUNI_ARRAY[5211]="5,,5211,";g.MUNI_ARRAY[5212]="5,,5212,";g.MUNI_ARRAY[5213]="5,,5213,";g.MUNI_ARRAY[5214]="5,,5214,";g.MUNI_ARRAY[5215]="5,,5215,";g.MUNI_ARRAY[5303]="5,,5303,";g.MUNI_ARRAY[5327]="5,,5327,";g.MUNI_ARRAY[5346]="5,,5346,";g.MUNI_ARRAY[5348]="5,,5348,";g.MUNI_ARRAY[5349]="5,,5349,";g.MUNI_ARRAY[5361]="5,,5361,";g.MUNI_ARRAY[5363]="5,,5363,";g.MUNI_ARRAY[5366]="5,,5366,";g.MUNI_ARRAY[5368]="5,,5368,";g.MUNI_ARRAY[5434]="5,,5434,";g.MUNI_ARRAY[5463]="5,,5463,";g.MUNI_ARRAY[5464]="5,,5464,";g.MUNI_ARRAY[6201]="6,,6201,";g.MUNI_ARRAY[6202]="6,,6202,";g.MUNI_ARRAY[6203]="6,,6203,";g.MUNI_ARRAY[6204]="6,,6204,";g.MUNI_ARRAY[6205]="6,,6205,";g.MUNI_ARRAY[6206]="6,,6206,";g.MUNI_ARRAY[6207]="6,,6207,";g.MUNI_ARRAY[6208]="6,,6208,";g.MUNI_ARRAY[6209]="6,,6209,";g.MUNI_ARRAY[6210]="6,,6210,";g.MUNI_ARRAY[6211]="6,,6211,";g.MUNI_ARRAY[6212]="6,,6212,";g.MUNI_ARRAY[6213]="6,,6213,";g.MUNI_ARRAY[6301]="6,,6301,";g.MUNI_ARRAY[6302]="6,,6302,";g.MUNI_ARRAY[6321]="6,,6321,";g.MUNI_ARRAY[6322]="6,,6322,";g.MUNI_ARRAY[6323]="6,,6323,";g.MUNI_ARRAY[6324]="6,,6324,";g.MUNI_ARRAY[6341]="6,,6341,";g.MUNI_ARRAY[6361]="6,,6361,";g.MUNI_ARRAY[6362]="6,,6362,";g.MUNI_ARRAY[6363]="6,,6363,";g.MUNI_ARRAY[6364]="6,,6364,";g.MUNI_ARRAY[6365]="6,,6365,";g.MUNI_ARRAY[6366]="6,,6366,";g.MUNI_ARRAY[6367]="6,,6367,";g.MUNI_ARRAY[6381]="6,,6381,";g.MUNI_ARRAY[6382]="6,,6382,";g.MUNI_ARRAY[6401]="6,,6401,";g.MUNI_ARRAY[6402]="6,,6402,";g.MUNI_ARRAY[6403]="6,,6403,";g.MUNI_ARRAY[6426]="6,,6426,";g.MUNI_ARRAY[6428]="6,,6428,";g.MUNI_ARRAY[6461]="6,,6461,";g.MUNI_ARRAY[7201]="7,,7201,";g.MUNI_ARRAY[7202]="7,,7202,";g.MUNI_ARRAY[7203]="7,,7203,";g.MUNI_ARRAY[7204]="7,,7204,";g.MUNI_ARRAY[7205]="7,,7205,";g.MUNI_ARRAY[7207]="7,,7207,";g.MUNI_ARRAY[7208]="7,,7208,";g.MUNI_ARRAY[7209]="7,,7209,";g.MUNI_ARRAY[7210]="7,,7210,";g.MUNI_ARRAY[7211]="7,,7211,";g.MUNI_ARRAY[7212]="7,,7212,";g.MUNI_ARRAY[7213]="7,,7213,";g.MUNI_ARRAY[7214]="7,,7214,";g.MUNI_ARRAY[7301]="7,,7301,";g.MUNI_ARRAY[7303]="7,,7303,";g.MUNI_ARRAY[7308]="7,,7308,";g.MUNI_ARRAY[7322]="7,,7322,";g.MUNI_ARRAY[7342]="7,,7342,";g.MUNI_ARRAY[7344]="7,,7344,";g.MUNI_ARRAY[7362]="7,,7362,";g.MUNI_ARRAY[7364]="7,,7364,";g.MUNI_ARRAY[7367]="7,,7367,";g.MUNI_ARRAY[7368]="7,,7368,";g.MUNI_ARRAY[7402]="7,,7402,";g.MUNI_ARRAY[7405]="7,,7405,";g.MUNI_ARRAY[7407]="7,,7407,";g.MUNI_ARRAY[7408]="7,,7408,";g.MUNI_ARRAY[7421]="7,,7421,";g.MUNI_ARRAY[7422]="7,,7422,";g.MUNI_ARRAY[7423]="7,,7423,";g.MUNI_ARRAY[7444]="7,,7444,";g.MUNI_ARRAY[7445]="7,,7445,";g.MUNI_ARRAY[7446]="7,,7446,";g.MUNI_ARRAY[7447]="7,,7447,";g.MUNI_ARRAY[7461]="7,,7461,";g.MUNI_ARRAY[7464]="7,,7464,";g.MUNI_ARRAY[7465]="7,,7465,";g.MUNI_ARRAY[7466]="7,,7466,";g.MUNI_ARRAY[7481]="7,,7481,";g.MUNI_ARRAY[7482]="7,,7482,";g.MUNI_ARRAY[7483]="7,,7483,";g.MUNI_ARRAY[7484]="7,,7484,";g.MUNI_ARRAY[7501]="7,,7501,";g.MUNI_ARRAY[7502]="7,,7502,";g.MUNI_ARRAY[7503]="7,,7503,";g.MUNI_ARRAY[7504]="7,,7504,";g.MUNI_ARRAY[7505]="7,,7505,";g.MUNI_ARRAY[7521]="7,,7521,";g.MUNI_ARRAY[7522]="7,,7522,";g.MUNI_ARRAY[7541]="7,,7541,";g.MUNI_ARRAY[7542]="7,,7542,";g.MUNI_ARRAY[7543]="7,,7543,";g.MUNI_ARRAY[7544]="7,,7544,";g.MUNI_ARRAY[7545]="7,,7545,";g.MUNI_ARRAY[7546]="7,,7546,";g.MUNI_ARRAY[7547]="7,,7547,";g.MUNI_ARRAY[7548]="7,,7548,";g.MUNI_ARRAY[7561]="7,,7561,";g.MUNI_ARRAY[7564]="7,,7564,";g.MUNI_ARRAY[8201]="8,,8201,";g.MUNI_ARRAY[8202]="8,,8202,";g.MUNI_ARRAY[8203]="8,,8203,";g.MUNI_ARRAY[8204]="8,,8204,";g.MUNI_ARRAY[8205]="8,,8205,";g.MUNI_ARRAY[8207]="8,,8207,";g.MUNI_ARRAY[8208]="8,,8208,";g.MUNI_ARRAY[8210]="8,,8210,";g.MUNI_ARRAY[8211]="8,,8211,";g.MUNI_ARRAY[8212]="8,,8212,";g.MUNI_ARRAY[8214]="8,,8214,";g.MUNI_ARRAY[8215]="8,,8215,";g.MUNI_ARRAY[8216]="8,,8216,";g.MUNI_ARRAY[8217]="8,,8217,";g.MUNI_ARRAY[8219]="8,,8219,";g.MUNI_ARRAY[8220]="8,,8220,";g.MUNI_ARRAY[8221]="8,,8221,";g.MUNI_ARRAY[8222]="8,,8222,";g.MUNI_ARRAY[8223]="8,,8223,";g.MUNI_ARRAY[8224]="8,,8224,";g.MUNI_ARRAY[8225]="8,,8225,";g.MUNI_ARRAY[8226]="8,,8226,";g.MUNI_ARRAY[8227]="8,,8227,";g.MUNI_ARRAY[8228]="8,,8228,";g.MUNI_ARRAY[8229]="8,,8229,";g.MUNI_ARRAY[8230]="8,,8230,";g.MUNI_ARRAY[8231]="8,,8231,";g.MUNI_ARRAY[8232]="8,,8232,";g.MUNI_ARRAY[8233]="8,,8233,";g.MUNI_ARRAY[8234]="8,,8234,";g.MUNI_ARRAY[8235]="8,,8235,";g.MUNI_ARRAY[8236]="8,,8236,";g.MUNI_ARRAY[8302]="8,,8302,";g.MUNI_ARRAY[8309]="8,,8309,";g.MUNI_ARRAY[8310]="8,,8310,";g.MUNI_ARRAY[8341]="8,,8341,";g.MUNI_ARRAY[8364]="8,,8364,";g.MUNI_ARRAY[8442]="8,,8442,";g.MUNI_ARRAY[8443]="8,,8443,";g.MUNI_ARRAY[8447]="8,,8447,";g.MUNI_ARRAY[8521]="8,,8521,";g.MUNI_ARRAY[8542]="8,,8542,";g.MUNI_ARRAY[8546]="8,,8546,";g.MUNI_ARRAY[8564]="8,,8564,";g.MUNI_ARRAY[9201]="9,,9201,";g.MUNI_ARRAY[9202]="9,,9202,";g.MUNI_ARRAY[9203]="9,,9203,";g.MUNI_ARRAY[9204]="9,,9204,";g.MUNI_ARRAY[9205]="9,,9205,";g.MUNI_ARRAY[9206]="9,,9206,";g.MUNI_ARRAY[9208]="9,,9208,";g.MUNI_ARRAY[9209]="9,,9209,";g.MUNI_ARRAY[9210]="9,,9210,";g.MUNI_ARRAY[9211]="9,,9211,";g.MUNI_ARRAY[9213]="9,,9213,";g.MUNI_ARRAY[9214]="9,,9214,";g.MUNI_ARRAY[9215]="9,,9215,";g.MUNI_ARRAY[9216]="9,,9216,";g.MUNI_ARRAY[9301]="9,,9301,";g.MUNI_ARRAY[9342]="9,,9342,";g.MUNI_ARRAY[9343]="9,,9343,";g.MUNI_ARRAY[9344]="9,,9344,";g.MUNI_ARRAY[9345]="9,,9345,";g.MUNI_ARRAY[9361]="9,,9361,";g.MUNI_ARRAY[9364]="9,,9364,";g.MUNI_ARRAY[9384]="9,,9384,";g.MUNI_ARRAY[9386]="9,,9386,";g.MUNI_ARRAY[9407]="9,,9407,";g.MUNI_ARRAY[9411]="9,,9411,";g.MUNI_ARRAY[10201]="10,,10201,";g.MUNI_ARRAY[10202]="10,,10202,";g.MUNI_ARRAY[10203]="10,,10203,";g.MUNI_ARRAY[10204]="10,,10204,";g.MUNI_ARRAY[10205]="10,,10205,";g.MUNI_ARRAY[10206]="10,,10206,";g.MUNI_ARRAY[10207]="10,,10207,";g.MUNI_ARRAY[10208]="10,,10208,";g.MUNI_ARRAY[10209]="10,,10209,";g.MUNI_ARRAY[10210]="10,,10210,";g.MUNI_ARRAY[10211]="10,,10211,";g.MUNI_ARRAY[10212]="10,,10212,";g.MUNI_ARRAY[10344]="10,,10344,";g.MUNI_ARRAY[10345]="10,,10345,";g.MUNI_ARRAY[10366]="10,,10366,";g.MUNI_ARRAY[10367]="10,,10367,";g.MUNI_ARRAY[10382]="10,,10382,";g.MUNI_ARRAY[10383]="10,,10383,";g.MUNI_ARRAY[10384]="10,,10384,";g.MUNI_ARRAY[10421]="10,,10421,";g.MUNI_ARRAY[10424]="10,,10424,";g.MUNI_ARRAY[10425]="10,,10425,";g.MUNI_ARRAY[10426]="10,,10426,";g.MUNI_ARRAY[10428]="10,,10428,";g.MUNI_ARRAY[10429]="10,,10429,";g.MUNI_ARRAY[10443]="10,,10443,";g.MUNI_ARRAY[10444]="10,,10444,";g.MUNI_ARRAY[10448]="10,,10448,";g.MUNI_ARRAY[10449]="10,,10449,";g.MUNI_ARRAY[10464]="10,,10464,";g.MUNI_ARRAY[10521]="10,,10521,";g.MUNI_ARRAY[10522]="10,,10522,";g.MUNI_ARRAY[10523]="10,,10523,";g.MUNI_ARRAY[10524]="10,,10524,";g.MUNI_ARRAY[10525]="10,,10525,";g.MUNI_ARRAY[11100]="11,,11100,";g.MUNI_ARRAY[11101]="11,,11101,";g.MUNI_ARRAY[11102]="11,,11102,";g.MUNI_ARRAY[11103]="11,,11103,";g.MUNI_ARRAY[11104]="11,,11104,";g.MUNI_ARRAY[11105]="11,,11105,";g.MUNI_ARRAY[11106]="11,,11106,";g.MUNI_ARRAY[11107]="11,,11107,";g.MUNI_ARRAY[11108]="11,,11108,";g.MUNI_ARRAY[11109]="11,,11109,";g.MUNI_ARRAY[11110]="11,,11110,";g.MUNI_ARRAY[11201]="11,,11201,";g.MUNI_ARRAY[11202]="11,,11202,";g.MUNI_ARRAY[11203]="11,,11203,";g.MUNI_ARRAY[11206]="11,,11206,";g.MUNI_ARRAY[11207]="11,,11207,";g.MUNI_ARRAY[11208]="11,,11208,";g.MUNI_ARRAY[11209]="11,,11209,";g.MUNI_ARRAY[11210]="11,,11210,";g.MUNI_ARRAY[11211]="11,,11211,";g.MUNI_ARRAY[11212]="11,,11212,";g.MUNI_ARRAY[11214]="11,,11214,";g.MUNI_ARRAY[11215]="11,,11215,";g.MUNI_ARRAY[11216]="11,,11216,";g.MUNI_ARRAY[11217]="11,,11217,";g.MUNI_ARRAY[11218]="11,,11218,";g.MUNI_ARRAY[11219]="11,,11219,";g.MUNI_ARRAY[11221]="11,,11221,";g.MUNI_ARRAY[11222]="11,,11222,";g.MUNI_ARRAY[11223]="11,,11223,";g.MUNI_ARRAY[11224]="11,,11224,";g.MUNI_ARRAY[11225]="11,,11225,";g.MUNI_ARRAY[11227]="11,,11227,";g.MUNI_ARRAY[11228]="11,,11228,";g.MUNI_ARRAY[11229]="11,,11229,";g.MUNI_ARRAY[11230]="11,,11230,";g.MUNI_ARRAY[11231]="11,,11231,";g.MUNI_ARRAY[11232]="11,,11232,";g.MUNI_ARRAY[11233]="11,,11233,";g.MUNI_ARRAY[11234]="11,,11234,";g.MUNI_ARRAY[11235]="11,,11235,";g.MUNI_ARRAY[11237]="11,,11237,";g.MUNI_ARRAY[11238]="11,,11238,";g.MUNI_ARRAY[11239]="11,,11239,";g.MUNI_ARRAY[11240]="11,,11240,";g.MUNI_ARRAY[11241]="11,,11241,";g.MUNI_ARRAY[11242]="11,,11242,";g.MUNI_ARRAY[11243]="11,,11243,";g.MUNI_ARRAY[11245]="11,,11245,";g.MUNI_ARRAY[11301]="11,,11301,";g.MUNI_ARRAY[11324]="11,,11324,";g.MUNI_ARRAY[11326]="11,,11326,";g.MUNI_ARRAY[11327]="11,,11327,";g.MUNI_ARRAY[11341]="11,,11341,";g.MUNI_ARRAY[11342]="11,,11342,";g.MUNI_ARRAY[11343]="11,,11343,";g.MUNI_ARRAY[11346]="11,,11346,";g.MUNI_ARRAY[11347]="11,,11347,";g.MUNI_ARRAY[11348]="11,,11348,";g.MUNI_ARRAY[11349]="11,,11349,";g.MUNI_ARRAY[11361]="11,,11361,";g.MUNI_ARRAY[11362]="11,,11362,";g.MUNI_ARRAY[11363]="11,,11363,";g.MUNI_ARRAY[11365]="11,,11365,";g.MUNI_ARRAY[11369]="11,,11369,";g.MUNI_ARRAY[11381]="11,,11381,";g.MUNI_ARRAY[11383]="11,,11383,";g.MUNI_ARRAY[11385]="11,,11385,";g.MUNI_ARRAY[11408]="11,,11408,";g.MUNI_ARRAY[11442]="11,,11442,";g.MUNI_ARRAY[11246]="11,,11246,";g.MUNI_ARRAY[11464]="11,,11464,";g.MUNI_ARRAY[11465]="11,,11465,";g.MUNI_ARRAY[12100]="12,,12100,";g.MUNI_ARRAY[12101]="12,,12101,";g.MUNI_ARRAY[12102]="12,,12102,";g.MUNI_ARRAY[12103]="12,,12103,";g.MUNI_ARRAY[12104]="12,,12104,";g.MUNI_ARRAY[12105]="12,,12105,";g.MUNI_ARRAY[12106]="12,,12106,";g.MUNI_ARRAY[12202]="12,,12202,";g.MUNI_ARRAY[12203]="12,,12203,";g.MUNI_ARRAY[12204]="12,,12204,";g.MUNI_ARRAY[12205]="12,,12205,";g.MUNI_ARRAY[12206]="12,,12206,";g.MUNI_ARRAY[12207]="12,,12207,";g.MUNI_ARRAY[12208]="12,,12208,";g.MUNI_ARRAY[12210]="12,,12210,";g.MUNI_ARRAY[12211]="12,,12211,";g.MUNI_ARRAY[12212]="12,,12212,";g.MUNI_ARRAY[12213]="12,,12213,";g.MUNI_ARRAY[12215]="12,,12215,";g.MUNI_ARRAY[12216]="12,,12216,";g.MUNI_ARRAY[12217]="12,,12217,";g.MUNI_ARRAY[12218]="12,,12218,";g.MUNI_ARRAY[12219]="12,,12219,";g.MUNI_ARRAY[12220]="12,,12220,";g.MUNI_ARRAY[12221]="12,,12221,";g.MUNI_ARRAY[12222]="12,,12222,";g.MUNI_ARRAY[12223]="12,,12223,";g.MUNI_ARRAY[12224]="12,,12224,";g.MUNI_ARRAY[12225]="12,,12225,";g.MUNI_ARRAY[12226]="12,,12226,";g.MUNI_ARRAY[12227]="12,,12227,";g.MUNI_ARRAY[12228]="12,,12228,";g.MUNI_ARRAY[12229]="12,,12229,";g.MUNI_ARRAY[12230]="12,,12230,";g.MUNI_ARRAY[12231]="12,,12231,";g.MUNI_ARRAY[12232]="12,,12232,";g.MUNI_ARRAY[12233]="12,,12233,";g.MUNI_ARRAY[12234]="12,,12234,";g.MUNI_ARRAY[12235]="12,,12235,";g.MUNI_ARRAY[12236]="12,,12236,";g.MUNI_ARRAY[12237]="12,,12237,";g.MUNI_ARRAY[12238]="12,,12238,";g.MUNI_ARRAY[12322]="12,,12322,";g.MUNI_ARRAY[12329]="12,,12329,";g.MUNI_ARRAY[12342]="12,,12342,";g.MUNI_ARRAY[12347]="12,,12347,";g.MUNI_ARRAY[12349]="12,,12349,";g.MUNI_ARRAY[12239]="12,,12239,";g.MUNI_ARRAY[12403]="12,,12403,";g.MUNI_ARRAY[12409]="12,,12409,";g.MUNI_ARRAY[12410]="12,,12410,";g.MUNI_ARRAY[12421]="12,,12421,";g.MUNI_ARRAY[12422]="12,,12422,";g.MUNI_ARRAY[12423]="12,,12423,";g.MUNI_ARRAY[12424]="12,,12424,";g.MUNI_ARRAY[12426]="12,,12426,";g.MUNI_ARRAY[12427]="12,,12427,";g.MUNI_ARRAY[12441]="12,,12441,";g.MUNI_ARRAY[12443]="12,,12443,";g.MUNI_ARRAY[12463]="12,,12463,";g.MUNI_ARRAY[13101]="13,,13101,";g.MUNI_ARRAY[13102]="13,,13102,";g.MUNI_ARRAY[13103]="13,,13103,";g.MUNI_ARRAY[13104]="13,,13104,";g.MUNI_ARRAY[13105]="13,,13105,";g.MUNI_ARRAY[13106]="13,,13106,";g.MUNI_ARRAY[13107]="13,,13107,";g.MUNI_ARRAY[13108]="13,,13108,";g.MUNI_ARRAY[13109]="13,,13109,";g.MUNI_ARRAY[13110]="13,,13110,";g.MUNI_ARRAY[13111]="13,,13111,";g.MUNI_ARRAY[13112]="13,,13112,";g.MUNI_ARRAY[13113]="13,,13113,";g.MUNI_ARRAY[13114]="13,,13114,";g.MUNI_ARRAY[13115]="13,,13115,";g.MUNI_ARRAY[13116]="13,,13116,";g.MUNI_ARRAY[13117]="13,,13117,";g.MUNI_ARRAY[13118]="13,,13118,";g.MUNI_ARRAY[13119]="13,,13119,";g.MUNI_ARRAY[13120]="13,,13120,";g.MUNI_ARRAY[13121]="13,,13121,";g.MUNI_ARRAY[13122]="13,,13122,";g.MUNI_ARRAY[13123]="13,,13123,";g.MUNI_ARRAY[13201]="13,,13201,";g.MUNI_ARRAY[13202]="13,,13202,";g.MUNI_ARRAY[13203]="13,,13203,";g.MUNI_ARRAY[13204]="13,,13204,";g.MUNI_ARRAY[13205]="13,,13205,";g.MUNI_ARRAY[13206]="13,,13206,";g.MUNI_ARRAY[13207]="13,,13207,";g.MUNI_ARRAY[13208]="13,,13208,";g.MUNI_ARRAY[13209]="13,,13209,";g.MUNI_ARRAY[13210]="13,,13210,";g.MUNI_ARRAY[13211]="13,,13211,";g.MUNI_ARRAY[13212]="13,,13212,";g.MUNI_ARRAY[13213]="13,,13213,";g.MUNI_ARRAY[13214]="13,,13214,";g.MUNI_ARRAY[13215]="13,,13215,";g.MUNI_ARRAY[13218]="13,,13218,";g.MUNI_ARRAY[13219]="13,,13219,";g.MUNI_ARRAY[13220]="13,,13220,";g.MUNI_ARRAY[13221]="13,,13221,";g.MUNI_ARRAY[13222]="13,,13222,";g.MUNI_ARRAY[13223]="13,,13223,";g.MUNI_ARRAY[13224]="13,,13224,";g.MUNI_ARRAY[13225]="13,,13225,";g.MUNI_ARRAY[13227]="13,,13227,";g.MUNI_ARRAY[13228]="13,,13228,";g.MUNI_ARRAY[13229]="13,,13229,";g.MUNI_ARRAY[13303]="13,,13303,";g.MUNI_ARRAY[13305]="13,,13305,";g.MUNI_ARRAY[13307]="13,,13307,";g.MUNI_ARRAY[13308]="13,,13308,";g.MUNI_ARRAY[13361]="13,,13361,";g.MUNI_ARRAY[13362]="13,,13362,";g.MUNI_ARRAY[13363]="13,,13363,";g.MUNI_ARRAY[13364]="13,,13364,";g.MUNI_ARRAY[13381]="13,,13381,";g.MUNI_ARRAY[13382]="13,,13382,";g.MUNI_ARRAY[13401]="13,,13401,";g.MUNI_ARRAY[13402]="13,,13402,";g.MUNI_ARRAY[13421]="13,,13421,";g.MUNI_ARRAY[14100]="14,,14100,";g.MUNI_ARRAY[14101]="14,,14101,";g.MUNI_ARRAY[14102]="14,,14102,";g.MUNI_ARRAY[14103]="14,,14103,";g.MUNI_ARRAY[14104]="14,,14104,";g.MUNI_ARRAY[14105]="14,,14105,";g.MUNI_ARRAY[14106]="14,,14106,";g.MUNI_ARRAY[14107]="14,,14107,";g.MUNI_ARRAY[14108]="14,,14108,";g.MUNI_ARRAY[14109]="14,,14109,";g.MUNI_ARRAY[14110]="14,,14110,";g.MUNI_ARRAY[14111]="14,,14111,";g.MUNI_ARRAY[14112]="14,,14112,";g.MUNI_ARRAY[14113]="14,,14113,";g.MUNI_ARRAY[14114]="14,,14114,";g.MUNI_ARRAY[14115]="14,,14115,";g.MUNI_ARRAY[14116]="14,,14116,";g.MUNI_ARRAY[14117]="14,,14117,";g.MUNI_ARRAY[14118]="14,,14118,";g.MUNI_ARRAY[14130]="14,,14130,";g.MUNI_ARRAY[14131]="14,,14131,";g.MUNI_ARRAY[14132]="14,,14132,";g.MUNI_ARRAY[14133]="14,,14133,";g.MUNI_ARRAY[14134]="14,,14134,";g.MUNI_ARRAY[14135]="14,,14135,";g.MUNI_ARRAY[14136]="14,,14136,";g.MUNI_ARRAY[14137]="14,,14137,";g.MUNI_ARRAY[14150]="14,,14150,";g.MUNI_ARRAY[14151]="14,,14151,";g.MUNI_ARRAY[14152]="14,,14152,";g.MUNI_ARRAY[14153]="14,,14153,";g.MUNI_ARRAY[14201]="14,,14201,";g.MUNI_ARRAY[14203]="14,,14203,";g.MUNI_ARRAY[14204]="14,,14204,";g.MUNI_ARRAY[14205]="14,,14205,";g.MUNI_ARRAY[14206]="14,,14206,";g.MUNI_ARRAY[14207]="14,,14207,";g.MUNI_ARRAY[14208]="14,,14208,";g.MUNI_ARRAY[14210]="14,,14210,";g.MUNI_ARRAY[14211]="14,,14211,";g.MUNI_ARRAY[14212]="14,,14212,";g.MUNI_ARRAY[14213]="14,,14213,";g.MUNI_ARRAY[14214]="14,,14214,";g.MUNI_ARRAY[14215]="14,,14215,";g.MUNI_ARRAY[14216]="14,,14216,";g.MUNI_ARRAY[14217]="14,,14217,";g.MUNI_ARRAY[14218]="14,,14218,";g.MUNI_ARRAY[14301]="14,,14301,";g.MUNI_ARRAY[14321]="14,,14321,";g.MUNI_ARRAY[14341]="14,,14341,";g.MUNI_ARRAY[14342]="14,,14342,";g.MUNI_ARRAY[14361]="14,,14361,";g.MUNI_ARRAY[14362]="14,,14362,";g.MUNI_ARRAY[14363]="14,,14363,";g.MUNI_ARRAY[14364]="14,,14364,";g.MUNI_ARRAY[14366]="14,,14366,";g.MUNI_ARRAY[14382]="14,,14382,";g.MUNI_ARRAY[14383]="14,,14383,";g.MUNI_ARRAY[14384]="14,,14384,";g.MUNI_ARRAY[14401]="14,,14401,";g.MUNI_ARRAY[14402]="14,,14402,";g.MUNI_ARRAY[15100]="15,,15100,";g.MUNI_ARRAY[15101]="15,,15101,";g.MUNI_ARRAY[15102]="15,,15102,";g.MUNI_ARRAY[15103]="15,,15103,";g.MUNI_ARRAY[15104]="15,,15104,";g.MUNI_ARRAY[15105]="15,,15105,";g.MUNI_ARRAY[15106]="15,,15106,";g.MUNI_ARRAY[15107]="15,,15107,";g.MUNI_ARRAY[15108]="15,,15108,";g.MUNI_ARRAY[15202]="15,,15202,";g.MUNI_ARRAY[15204]="15,,15204,";g.MUNI_ARRAY[15205]="15,,15205,";g.MUNI_ARRAY[15206]="15,,15206,";g.MUNI_ARRAY[15208]="15,,15208,";g.MUNI_ARRAY[15209]="15,,15209,";g.MUNI_ARRAY[15210]="15,,15210,";g.MUNI_ARRAY[15211]="15,,15211,";g.MUNI_ARRAY[15212]="15,,15212,";g.MUNI_ARRAY[15213]="15,,15213,";g.MUNI_ARRAY[15216]="15,,15216,";g.MUNI_ARRAY[15217]="15,,15217,";g.MUNI_ARRAY[15218]="15,,15218,";g.MUNI_ARRAY[15222]="15,,15222,";g.MUNI_ARRAY[15223]="15,,15223,";g.MUNI_ARRAY[15224]="15,,15224,";g.MUNI_ARRAY[15225]="15,,15225,";g.MUNI_ARRAY[15226]="15,,15226,";g.MUNI_ARRAY[15227]="15,,15227,";g.MUNI_ARRAY[15307]="15,,15307,";g.MUNI_ARRAY[15342]="15,,15342,";g.MUNI_ARRAY[15361]="15,,15361,";g.MUNI_ARRAY[15385]="15,,15385,";g.MUNI_ARRAY[15405]="15,,15405,";g.MUNI_ARRAY[15461]="15,,15461,";g.MUNI_ARRAY[15482]="15,,15482,";g.MUNI_ARRAY[15504]="15,,15504,";g.MUNI_ARRAY[15581]="15,,15581,";g.MUNI_ARRAY[15586]="15,,15586,";g.MUNI_ARRAY[16201]="16,,16201,";g.MUNI_ARRAY[16202]="16,,16202,";g.MUNI_ARRAY[16204]="16,,16204,";g.MUNI_ARRAY[16205]="16,,16205,";g.MUNI_ARRAY[16206]="16,,16206,";g.MUNI_ARRAY[16207]="16,,16207,";g.MUNI_ARRAY[16208]="16,,16208,";g.MUNI_ARRAY[16209]="16,,16209,";g.MUNI_ARRAY[16210]="16,,16210,";g.MUNI_ARRAY[16211]="16,,16211,";g.MUNI_ARRAY[16321]="16,,16321,";g.MUNI_ARRAY[16322]="16,,16322,";g.MUNI_ARRAY[16323]="16,,16323,";g.MUNI_ARRAY[16342]="16,,16342,";g.MUNI_ARRAY[16343]="16,,16343,";g.MUNI_ARRAY[17201]="17,,17201,";g.MUNI_ARRAY[17202]="17,,17202,";g.MUNI_ARRAY[17203]="17,,17203,";g.MUNI_ARRAY[17204]="17,,17204,";g.MUNI_ARRAY[17205]="17,,17205,";g.MUNI_ARRAY[17206]="17,,17206,";g.MUNI_ARRAY[17207]="17,,17207,";g.MUNI_ARRAY[17209]="17,,17209,";g.MUNI_ARRAY[17210]="17,,17210,";g.MUNI_ARRAY[17211]="17,,17211,";g.MUNI_ARRAY[17212]="17,,17212,";g.MUNI_ARRAY[17324]="17,,17324,";g.MUNI_ARRAY[17361]="17,,17361,";g.MUNI_ARRAY[17365]="17,,17365,";g.MUNI_ARRAY[17384]="17,,17384,";g.MUNI_ARRAY[17386]="17,,17386,";g.MUNI_ARRAY[17407]="17,,17407,";g.MUNI_ARRAY[17461]="17,,17461,";g.MUNI_ARRAY[17463]="17,,17463,";g.MUNI_ARRAY[18201]="18,,18201,";g.MUNI_ARRAY[18202]="18,,18202,";g.MUNI_ARRAY[18204]="18,,18204,";g.MUNI_ARRAY[18205]="18,,18205,";g.MUNI_ARRAY[18206]="18,,18206,";g.MUNI_ARRAY[18207]="18,,18207,";g.MUNI_ARRAY[18208]="18,,18208,";g.MUNI_ARRAY[18209]="18,,18209,";g.MUNI_ARRAY[18210]="18,,18210,";g.MUNI_ARRAY[18322]="18,,18322,";g.MUNI_ARRAY[18382]="18,,18382,";g.MUNI_ARRAY[18404]="18,,18404,";g.MUNI_ARRAY[18423]="18,,18423,";g.MUNI_ARRAY[18442]="18,,18442,";g.MUNI_ARRAY[18481]="18,,18481,";g.MUNI_ARRAY[18483]="18,,18483,";g.MUNI_ARRAY[18501]="18,,18501,";g.MUNI_ARRAY[19201]="19,,19201,";g.MUNI_ARRAY[19202]="19,,19202,";g.MUNI_ARRAY[19204]="19,,19204,";g.MUNI_ARRAY[19205]="19,,19205,";g.MUNI_ARRAY[19206]="19,,19206,";g.MUNI_ARRAY[19207]="19,,19207,";g.MUNI_ARRAY[19208]="19,,19208,";g.MUNI_ARRAY[19209]="19,,19209,";g.MUNI_ARRAY[19210]="19,,19210,";g.MUNI_ARRAY[19211]="19,,19211,";g.MUNI_ARRAY[19212]="19,,19212,";g.MUNI_ARRAY[19213]="19,,19213,";g.MUNI_ARRAY[19214]="19,,19214,";g.MUNI_ARRAY[19346]="19,,19346,";g.MUNI_ARRAY[19364]="19,,19364,";g.MUNI_ARRAY[19365]="19,,19365,";g.MUNI_ARRAY[19366]="19,,19366,";g.MUNI_ARRAY[19368]="19,,19368,";g.MUNI_ARRAY[19384]="19,,19384,";g.MUNI_ARRAY[19422]="19,,19422,";g.MUNI_ARRAY[19423]="19,,19423,";g.MUNI_ARRAY[19424]="19,,19424,";g.MUNI_ARRAY[19425]="19,,19425,";g.MUNI_ARRAY[19429]="19,,19429,";g.MUNI_ARRAY[19430]="19,,19430,";g.MUNI_ARRAY[19442]="19,,19442,";g.MUNI_ARRAY[19443]="19,,19443,";g.MUNI_ARRAY[20201]="20,,20201,";g.MUNI_ARRAY[20202]="20,,20202,";g.MUNI_ARRAY[20203]="20,,20203,";g.MUNI_ARRAY[20204]="20,,20204,";g.MUNI_ARRAY[20205]="20,,20205,";g.MUNI_ARRAY[20206]="20,,20206,";g.MUNI_ARRAY[20207]="20,,20207,";g.MUNI_ARRAY[20208]="20,,20208,";g.MUNI_ARRAY[20209]="20,,20209,";g.MUNI_ARRAY[20210]="20,,20210,";g.MUNI_ARRAY[20211]="20,,20211,";g.MUNI_ARRAY[20212]="20,,20212,";g.MUNI_ARRAY[20213]="20,,20213,";g.MUNI_ARRAY[20214]="20,,20214,";g.MUNI_ARRAY[20215]="20,,20215,";g.MUNI_ARRAY[20217]="20,,20217,";g.MUNI_ARRAY[20218]="20,,20218,";g.MUNI_ARRAY[20219]="20,,20219,";g.MUNI_ARRAY[20220]="20,,20220,";g.MUNI_ARRAY[20303]="20,,20303,";g.MUNI_ARRAY[20304]="20,,20304,";g.MUNI_ARRAY[20305]="20,,20305,";g.MUNI_ARRAY[20306]="20,,20306,";g.MUNI_ARRAY[20307]="20,,20307,";g.MUNI_ARRAY[20309]="20,,20309,";g.MUNI_ARRAY[20321]="20,,20321,";g.MUNI_ARRAY[20323]="20,,20323,";g.MUNI_ARRAY[20324]="20,,20324,";g.MUNI_ARRAY[20349]="20,,20349,";g.MUNI_ARRAY[20350]="20,,20350,";g.MUNI_ARRAY[20361]="20,,20361,";g.MUNI_ARRAY[20362]="20,,20362,";g.MUNI_ARRAY[20363]="20,,20363,";g.MUNI_ARRAY[20382]="20,,20382,";g.MUNI_ARRAY[20383]="20,,20383,";g.MUNI_ARRAY[20384]="20,,20384,";g.MUNI_ARRAY[20385]="20,,20385,";g.MUNI_ARRAY[20386]="20,,20386,";g.MUNI_ARRAY[20388]="20,,20388,";g.MUNI_ARRAY[20402]="20,,20402,";g.MUNI_ARRAY[20403]="20,,20403,";g.MUNI_ARRAY[20404]="20,,20404,";g.MUNI_ARRAY[20407]="20,,20407,";g.MUNI_ARRAY[20409]="20,,20409,";g.MUNI_ARRAY[20410]="20,,20410,";g.MUNI_ARRAY[20411]="20,,20411,";g.MUNI_ARRAY[20412]="20,,20412,";g.MUNI_ARRAY[20413]="20,,20413,";g.MUNI_ARRAY[20414]="20,,20414,";g.MUNI_ARRAY[20415]="20,,20415,";g.MUNI_ARRAY[20416]="20,,20416,";g.MUNI_ARRAY[20417]="20,,20417,";g.MUNI_ARRAY[20422]="20,,20422,";g.MUNI_ARRAY[20423]="20,,20423,";g.MUNI_ARRAY[20425]="20,,20425,";g.MUNI_ARRAY[20429]="20,,20429,";g.MUNI_ARRAY[20430]="20,,20430,";g.MUNI_ARRAY[20432]="20,,20432,";g.MUNI_ARRAY[20446]="20,,20446,";g.MUNI_ARRAY[20448]="20,,20448,";g.MUNI_ARRAY[20450]="20,,20450,";g.MUNI_ARRAY[20451]="20,,20451,";g.MUNI_ARRAY[20452]="20,,20452,";g.MUNI_ARRAY[20481]="20,,20481,";g.MUNI_ARRAY[20482]="20,,20482,";g.MUNI_ARRAY[20485]="20,,20485,";g.MUNI_ARRAY[20486]="20,,20486,";g.MUNI_ARRAY[20521]="20,,20521,";g.MUNI_ARRAY[20541]="20,,20541,";g.MUNI_ARRAY[20543]="20,,20543,";g.MUNI_ARRAY[20561]="20,,20561,";g.MUNI_ARRAY[20562]="20,,20562,";g.MUNI_ARRAY[20563]="20,,20563,";g.MUNI_ARRAY[20583]="20,,20583,";g.MUNI_ARRAY[20588]="20,,20588,";g.MUNI_ARRAY[20590]="20,,20590,";g.MUNI_ARRAY[20602]="20,,20602,";g.MUNI_ARRAY[21201]="21,,21201,";g.MUNI_ARRAY[21202]="21,,21202,";g.MUNI_ARRAY[21203]="21,,21203,";g.MUNI_ARRAY[21204]="21,,21204,";g.MUNI_ARRAY[21205]="21,,21205,";g.MUNI_ARRAY[21206]="21,,21206,";g.MUNI_ARRAY[21207]="21,,21207,";g.MUNI_ARRAY[21208]="21,,21208,";g.MUNI_ARRAY[21209]="21,,21209,";g.MUNI_ARRAY[21210]="21,,21210,";g.MUNI_ARRAY[21211]="21,,21211,";g.MUNI_ARRAY[21212]="21,,21212,";g.MUNI_ARRAY[21213]="21,,21213,";g.MUNI_ARRAY[21214]="21,,21214,";g.MUNI_ARRAY[21215]="21,,21215,";g.MUNI_ARRAY[21216]="21,,21216,";g.MUNI_ARRAY[21217]="21,,21217,";g.MUNI_ARRAY[21218]="21,,21218,";g.MUNI_ARRAY[21219]="21,,21219,";g.MUNI_ARRAY[21220]="21,,21220,";g.MUNI_ARRAY[21221]="21,,21221,";g.MUNI_ARRAY[21302]="21,,21302,";g.MUNI_ARRAY[21303]="21,,21303,";g.MUNI_ARRAY[21341]="21,,21341,";g.MUNI_ARRAY[21361]="21,,21361,";g.MUNI_ARRAY[21362]="21,,21362,";g.MUNI_ARRAY[21381]="21,,21381,";g.MUNI_ARRAY[21382]="21,,21382,";g.MUNI_ARRAY[21383]="21,,21383,";g.MUNI_ARRAY[21401]="21,,21401,";g.MUNI_ARRAY[21403]="21,,21403,";g.MUNI_ARRAY[21404]="21,,21404,";g.MUNI_ARRAY[21421]="21,,21421,";g.MUNI_ARRAY[21501]="21,,21501,";g.MUNI_ARRAY[21502]="21,,21502,";g.MUNI_ARRAY[21503]="21,,21503,";g.MUNI_ARRAY[21504]="21,,21504,";g.MUNI_ARRAY[21505]="21,,21505,";g.MUNI_ARRAY[21506]="21,,21506,";g.MUNI_ARRAY[21507]="21,,21507,";g.MUNI_ARRAY[21521]="21,,21521,";g.MUNI_ARRAY[21604]="21,,21604,";g.MUNI_ARRAY[22100]="22,,22100,";g.MUNI_ARRAY[22101]="22,,22101,";g.MUNI_ARRAY[22102]="22,,22102,";g.MUNI_ARRAY[22103]="22,,22103,";g.MUNI_ARRAY[22130]="22,,22130,";g.MUNI_ARRAY[22138]="22,,22138,";g.MUNI_ARRAY[22139]="22,,22139,";g.MUNI_ARRAY[22140]="22,,22140,";g.MUNI_ARRAY[22203]="22,,22203,";g.MUNI_ARRAY[22205]="22,,22205,";g.MUNI_ARRAY[22206]="22,,22206,";g.MUNI_ARRAY[22207]="22,,22207,";g.MUNI_ARRAY[22208]="22,,22208,";g.MUNI_ARRAY[22209]="22,,22209,";g.MUNI_ARRAY[22210]="22,,22210,";g.MUNI_ARRAY[22211]="22,,22211,";g.MUNI_ARRAY[22212]="22,,22212,";g.MUNI_ARRAY[22213]="22,,22213,";g.MUNI_ARRAY[22214]="22,,22214,";g.MUNI_ARRAY[22215]="22,,22215,";g.MUNI_ARRAY[22216]="22,,22216,";g.MUNI_ARRAY[22219]="22,,22219,";g.MUNI_ARRAY[22220]="22,,22220,";g.MUNI_ARRAY[22221]="22,,22221,";g.MUNI_ARRAY[22222]="22,,22222,";g.MUNI_ARRAY[22223]="22,,22223,";g.MUNI_ARRAY[22224]="22,,22224,";g.MUNI_ARRAY[22225]="22,,22225,";g.MUNI_ARRAY[22226]="22,,22226,";g.MUNI_ARRAY[22301]="22,,22301,";g.MUNI_ARRAY[22302]="22,,22302,";g.MUNI_ARRAY[22304]="22,,22304,";g.MUNI_ARRAY[22305]="22,,22305,";g.MUNI_ARRAY[22306]="22,,22306,";g.MUNI_ARRAY[22325]="22,,22325,";g.MUNI_ARRAY[22341]="22,,22341,";g.MUNI_ARRAY[22342]="22,,22342,";g.MUNI_ARRAY[22344]="22,,22344,";g.MUNI_ARRAY[22424]="22,,22424,";g.MUNI_ARRAY[22429]="22,,22429,";g.MUNI_ARRAY[22461]="22,,22461,";g.MUNI_ARRAY[23100]="23,,23100,";g.MUNI_ARRAY[23101]="23,,23101,";g.MUNI_ARRAY[23102]="23,,23102,";g.MUNI_ARRAY[23103]="23,,23103,";g.MUNI_ARRAY[23104]="23,,23104,";g.MUNI_ARRAY[23105]="23,,23105,";g.MUNI_ARRAY[23106]="23,,23106,";g.MUNI_ARRAY[23107]="23,,23107,";g.MUNI_ARRAY[23108]="23,,23108,";g.MUNI_ARRAY[23109]="23,,23109,";g.MUNI_ARRAY[23110]="23,,23110,";g.MUNI_ARRAY[23111]="23,,23111,";g.MUNI_ARRAY[23112]="23,,23112,";g.MUNI_ARRAY[23113]="23,,23113,";g.MUNI_ARRAY[23114]="23,,23114,";g.MUNI_ARRAY[23115]="23,,23115,";g.MUNI_ARRAY[23116]="23,,23116,";g.MUNI_ARRAY[23201]="23,,23201,";g.MUNI_ARRAY[23202]="23,,23202,";g.MUNI_ARRAY[23203]="23,,23203,";g.MUNI_ARRAY[23204]="23,,23204,";g.MUNI_ARRAY[23205]="23,,23205,";g.MUNI_ARRAY[23206]="23,,23206,";g.MUNI_ARRAY[23207]="23,,23207,";g.MUNI_ARRAY[23208]="23,,23208,";g.MUNI_ARRAY[23209]="23,,23209,";g.MUNI_ARRAY[23210]="23,,23210,";g.MUNI_ARRAY[23211]="23,,23211,";g.MUNI_ARRAY[23212]="23,,23212,";g.MUNI_ARRAY[23213]="23,,23213,";g.MUNI_ARRAY[23214]="23,,23214,";g.MUNI_ARRAY[23215]="23,,23215,";g.MUNI_ARRAY[23216]="23,,23216,";g.MUNI_ARRAY[23217]="23,,23217,";g.MUNI_ARRAY[23219]="23,,23219,";g.MUNI_ARRAY[23220]="23,,23220,";g.MUNI_ARRAY[23221]="23,,23221,";g.MUNI_ARRAY[23222]="23,,23222,";g.MUNI_ARRAY[23223]="23,,23223,";g.MUNI_ARRAY[23224]="23,,23224,";g.MUNI_ARRAY[23225]="23,,23225,";g.MUNI_ARRAY[23226]="23,,23226,";g.MUNI_ARRAY[23227]="23,,23227,";g.MUNI_ARRAY[23228]="23,,23228,";g.MUNI_ARRAY[23229]="23,,23229,";g.MUNI_ARRAY[23230]="23,,23230,";g.MUNI_ARRAY[23231]="23,,23231,";g.MUNI_ARRAY[23232]="23,,23232,";g.MUNI_ARRAY[23233]="23,,23233,";g.MUNI_ARRAY[23234]="23,,23234,";g.MUNI_ARRAY[23235]="23,,23235,";g.MUNI_ARRAY[23236]="23,,23236,";g.MUNI_ARRAY[23237]="23,,23237,";g.MUNI_ARRAY[23238]="23,,23238,";g.MUNI_ARRAY[23302]="23,,23302,";g.MUNI_ARRAY[23342]="23,,23342,";g.MUNI_ARRAY[23361]="23,,23361,";g.MUNI_ARRAY[23362]="23,,23362,";g.MUNI_ARRAY[23424]="23,,23424,";g.MUNI_ARRAY[23425]="23,,23425,";g.MUNI_ARRAY[23427]="23,,23427,";g.MUNI_ARRAY[23441]="23,,23441,";g.MUNI_ARRAY[23442]="23,,23442,";g.MUNI_ARRAY[23445]="23,,23445,";g.MUNI_ARRAY[23446]="23,,23446,";g.MUNI_ARRAY[23447]="23,,23447,";g.MUNI_ARRAY[23501]="23,,23501,";g.MUNI_ARRAY[23561]="23,,23561,";g.MUNI_ARRAY[23562]="23,,23562,";g.MUNI_ARRAY[23563]="23,,23563,";g.MUNI_ARRAY[24201]="24,,24201,";g.MUNI_ARRAY[24202]="24,,24202,";g.MUNI_ARRAY[24203]="24,,24203,";g.MUNI_ARRAY[24204]="24,,24204,";g.MUNI_ARRAY[24205]="24,,24205,";g.MUNI_ARRAY[24207]="24,,24207,";g.MUNI_ARRAY[24208]="24,,24208,";g.MUNI_ARRAY[24209]="24,,24209,";g.MUNI_ARRAY[24210]="24,,24210,";g.MUNI_ARRAY[24211]="24,,24211,";g.MUNI_ARRAY[24212]="24,,24212,";g.MUNI_ARRAY[24214]="24,,24214,";g.MUNI_ARRAY[24215]="24,,24215,";g.MUNI_ARRAY[24216]="24,,24216,";g.MUNI_ARRAY[24303]="24,,24303,";g.MUNI_ARRAY[24324]="24,,24324,";g.MUNI_ARRAY[24341]="24,,24341,";g.MUNI_ARRAY[24343]="24,,24343,";g.MUNI_ARRAY[24344]="24,,24344,";g.MUNI_ARRAY[24441]="24,,24441,";g.MUNI_ARRAY[24442]="24,,24442,";g.MUNI_ARRAY[24443]="24,,24443,";g.MUNI_ARRAY[24461]="24,,24461,";g.MUNI_ARRAY[24470]="24,,24470,";g.MUNI_ARRAY[24471]="24,,24471,";g.MUNI_ARRAY[24472]="24,,24472,";g.MUNI_ARRAY[24543]="24,,24543,";g.MUNI_ARRAY[24561]="24,,24561,";g.MUNI_ARRAY[24562]="24,,24562,";g.MUNI_ARRAY[25201]="25,,25201,";g.MUNI_ARRAY[25202]="25,,25202,";g.MUNI_ARRAY[25203]="25,,25203,";g.MUNI_ARRAY[25204]="25,,25204,";g.MUNI_ARRAY[25206]="25,,25206,";g.MUNI_ARRAY[25207]="25,,25207,";g.MUNI_ARRAY[25208]="25,,25208,";g.MUNI_ARRAY[25209]="25,,25209,";g.MUNI_ARRAY[25210]="25,,25210,";g.MUNI_ARRAY[25211]="25,,25211,";g.MUNI_ARRAY[25212]="25,,25212,";g.MUNI_ARRAY[25213]="25,,25213,";g.MUNI_ARRAY[25214]="25,,25214,";g.MUNI_ARRAY[25383]="25,,25383,";g.MUNI_ARRAY[25384]="25,,25384,";g.MUNI_ARRAY[25425]="25,,25425,";g.MUNI_ARRAY[25441]="25,,25441,";g.MUNI_ARRAY[25442]="25,,25442,";g.MUNI_ARRAY[25443]="25,,25443,";g.MUNI_ARRAY[26100]="26,,26100,";g.MUNI_ARRAY[26101]="26,,26101,";g.MUNI_ARRAY[26102]="26,,26102,";g.MUNI_ARRAY[26103]="26,,26103,";g.MUNI_ARRAY[26104]="26,,26104,";g.MUNI_ARRAY[26105]="26,,26105,";g.MUNI_ARRAY[26106]="26,,26106,";g.MUNI_ARRAY[26107]="26,,26107,";g.MUNI_ARRAY[26108]="26,,26108,";g.MUNI_ARRAY[26109]="26,,26109,";g.MUNI_ARRAY[26110]="26,,26110,";g.MUNI_ARRAY[26111]="26,,26111,";g.MUNI_ARRAY[26201]="26,,26201,";g.MUNI_ARRAY[26202]="26,,26202,";g.MUNI_ARRAY[26203]="26,,26203,";g.MUNI_ARRAY[26204]="26,,26204,";g.MUNI_ARRAY[26205]="26,,26205,";g.MUNI_ARRAY[26206]="26,,26206,";g.MUNI_ARRAY[26207]="26,,26207,";g.MUNI_ARRAY[26208]="26,,26208,";g.MUNI_ARRAY[26209]="26,,26209,";g.MUNI_ARRAY[26210]="26,,26210,";g.MUNI_ARRAY[26211]="26,,26211,";g.MUNI_ARRAY[26212]="26,,26212,";g.MUNI_ARRAY[26213]="26,,26213,";g.MUNI_ARRAY[26214]="26,,26214,";g.MUNI_ARRAY[26303]="26,,26303,";g.MUNI_ARRAY[26322]="26,,26322,";g.MUNI_ARRAY[26343]="26,,26343,";g.MUNI_ARRAY[26344]="26,,26344,";g.MUNI_ARRAY[26364]="26,,26364,";g.MUNI_ARRAY[26365]="26,,26365,";g.MUNI_ARRAY[26366]="26,,26366,";g.MUNI_ARRAY[26367]="26,,26367,";g.MUNI_ARRAY[26407]="26,,26407,";g.MUNI_ARRAY[26463]="26,,26463,";g.MUNI_ARRAY[26465]="26,,26465,";g.MUNI_ARRAY[27100]="27,,27100,";g.MUNI_ARRAY[27102]="27,,27102,";g.MUNI_ARRAY[27103]="27,,27103,";g.MUNI_ARRAY[27104]="27,,27104,";g.MUNI_ARRAY[27106]="27,,27106,";g.MUNI_ARRAY[27107]="27,,27107,";g.MUNI_ARRAY[27108]="27,,27108,";g.MUNI_ARRAY[27109]="27,,27109,";g.MUNI_ARRAY[27111]="27,,27111,";g.MUNI_ARRAY[27113]="27,,27113,";g.MUNI_ARRAY[27114]="27,,27114,";g.MUNI_ARRAY[27115]="27,,27115,";g.MUNI_ARRAY[27116]="27,,27116,";g.MUNI_ARRAY[27117]="27,,27117,";g.MUNI_ARRAY[27118]="27,,27118,";g.MUNI_ARRAY[27119]="27,,27119,";g.MUNI_ARRAY[27120]="27,,27120,";g.MUNI_ARRAY[27121]="27,,27121,";g.MUNI_ARRAY[27122]="27,,27122,";g.MUNI_ARRAY[27123]="27,,27123,";g.MUNI_ARRAY[27124]="27,,27124,";g.MUNI_ARRAY[27125]="27,,27125,";g.MUNI_ARRAY[27126]="27,,27126,";g.MUNI_ARRAY[27127]="27,,27127,";g.MUNI_ARRAY[27128]="27,,27128,";g.MUNI_ARRAY[27140]="27,,27140,";g.MUNI_ARRAY[27141]="27,,27141,";g.MUNI_ARRAY[27142]="27,,27142,";g.MUNI_ARRAY[27143]="27,,27143,";g.MUNI_ARRAY[27144]="27,,27144,";g.MUNI_ARRAY[27145]="27,,27145,";g.MUNI_ARRAY[27146]="27,,27146,";g.MUNI_ARRAY[27147]="27,,27147,";g.MUNI_ARRAY[27202]="27,,27202,";g.MUNI_ARRAY[27203]="27,,27203,";g.MUNI_ARRAY[27204]="27,,27204,";g.MUNI_ARRAY[27205]="27,,27205,";g.MUNI_ARRAY[27206]="27,,27206,";g.MUNI_ARRAY[27207]="27,,27207,";g.MUNI_ARRAY[27208]="27,,27208,";g.MUNI_ARRAY[27209]="27,,27209,";g.MUNI_ARRAY[27210]="27,,27210,";g.MUNI_ARRAY[27211]="27,,27211,";g.MUNI_ARRAY[27212]="27,,27212,";g.MUNI_ARRAY[27213]="27,,27213,";g.MUNI_ARRAY[27214]="27,,27214,";g.MUNI_ARRAY[27215]="27,,27215,";g.MUNI_ARRAY[27216]="27,,27216,";g.MUNI_ARRAY[27217]="27,,27217,";g.MUNI_ARRAY[27218]="27,,27218,";g.MUNI_ARRAY[27219]="27,,27219,";g.MUNI_ARRAY[27220]="27,,27220,";g.MUNI_ARRAY[27221]="27,,27221,";g.MUNI_ARRAY[27222]="27,,27222,";g.MUNI_ARRAY[27223]="27,,27223,";g.MUNI_ARRAY[27224]="27,,27224,";g.MUNI_ARRAY[27225]="27,,27225,";g.MUNI_ARRAY[27226]="27,,27226,";g.MUNI_ARRAY[27227]="27,,27227,";g.MUNI_ARRAY[27228]="27,,27228,";g.MUNI_ARRAY[27229]="27,,27229,";g.MUNI_ARRAY[27230]="27,,27230,";g.MUNI_ARRAY[27231]="27,,27231,";g.MUNI_ARRAY[27232]="27,,27232,";g.MUNI_ARRAY[27301]="27,,27301,";g.MUNI_ARRAY[27321]="27,,27321,";g.MUNI_ARRAY[27322]="27,,27322,";g.MUNI_ARRAY[27341]="27,,27341,";g.MUNI_ARRAY[27361]="27,,27361,";g.MUNI_ARRAY[27362]="27,,27362,";g.MUNI_ARRAY[27366]="27,,27366,";g.MUNI_ARRAY[27381]="27,,27381,";g.MUNI_ARRAY[27382]="27,,27382,";g.MUNI_ARRAY[27383]="27,,27383,";g.MUNI_ARRAY[28100]="28,,28100,";g.MUNI_ARRAY[28101]="28,,28101,";g.MUNI_ARRAY[28102]="28,,28102,";g.MUNI_ARRAY[28105]="28,,28105,";g.MUNI_ARRAY[28106]="28,,28106,";g.MUNI_ARRAY[28107]="28,,28107,";g.MUNI_ARRAY[28108]="28,,28108,";g.MUNI_ARRAY[28109]="28,,28109,";g.MUNI_ARRAY[28110]="28,,28110,";g.MUNI_ARRAY[28111]="28,,28111,";g.MUNI_ARRAY[28201]="28,,28201,";g.MUNI_ARRAY[28202]="28,,28202,";g.MUNI_ARRAY[28203]="28,,28203,";g.MUNI_ARRAY[28204]="28,,28204,";g.MUNI_ARRAY[28205]="28,,28205,";g.MUNI_ARRAY[28206]="28,,28206,";g.MUNI_ARRAY[28207]="28,,28207,";g.MUNI_ARRAY[28208]="28,,28208,";g.MUNI_ARRAY[28209]="28,,28209,";g.MUNI_ARRAY[28210]="28,,28210,";g.MUNI_ARRAY[28212]="28,,28212,";g.MUNI_ARRAY[28213]="28,,28213,";g.MUNI_ARRAY[28214]="28,,28214,";g.MUNI_ARRAY[28215]="28,,28215,";g.MUNI_ARRAY[28216]="28,,28216,";g.MUNI_ARRAY[28217]="28,,28217,";g.MUNI_ARRAY[28218]="28,,28218,";g.MUNI_ARRAY[28219]="28,,28219,";g.MUNI_ARRAY[28220]="28,,28220,";g.MUNI_ARRAY[28221]="28,,28221,";g.MUNI_ARRAY[28222]="28,,28222,";g.MUNI_ARRAY[28223]="28,,28223,";g.MUNI_ARRAY[28224]="28,,28224,";g.MUNI_ARRAY[28225]="28,,28225,";g.MUNI_ARRAY[28226]="28,,28226,";g.MUNI_ARRAY[28227]="28,,28227,";g.MUNI_ARRAY[28228]="28,,28228,";g.MUNI_ARRAY[28229]="28,,28229,";g.MUNI_ARRAY[28301]="28,,28301,";g.MUNI_ARRAY[28365]="28,,28365,";g.MUNI_ARRAY[28381]="28,,28381,";g.MUNI_ARRAY[28382]="28,,28382,";g.MUNI_ARRAY[28442]="28,,28442,";g.MUNI_ARRAY[28443]="28,,28443,";g.MUNI_ARRAY[28446]="28,,28446,";g.MUNI_ARRAY[28464]="28,,28464,";g.MUNI_ARRAY[28481]="28,,28481,";g.MUNI_ARRAY[28501]="28,,28501,";g.MUNI_ARRAY[28585]="28,,28585,";g.MUNI_ARRAY[28586]="28,,28586,";g.MUNI_ARRAY[29201]="29,,29201,";g.MUNI_ARRAY[29202]="29,,29202,";g.MUNI_ARRAY[29203]="29,,29203,";g.MUNI_ARRAY[29204]="29,,29204,";g.MUNI_ARRAY[29205]="29,,29205,";g.MUNI_ARRAY[29206]="29,,29206,";g.MUNI_ARRAY[29207]="29,,29207,";g.MUNI_ARRAY[29208]="29,,29208,";g.MUNI_ARRAY[29209]="29,,29209,";g.MUNI_ARRAY[29210]="29,,29210,";g.MUNI_ARRAY[29211]="29,,29211,";g.MUNI_ARRAY[29212]="29,,29212,";g.MUNI_ARRAY[29322]="29,,29322,";g.MUNI_ARRAY[29342]="29,,29342,";g.MUNI_ARRAY[29343]="29,,29343,";g.MUNI_ARRAY[29344]="29,,29344,";g.MUNI_ARRAY[29345]="29,,29345,";g.MUNI_ARRAY[29361]="29,,29361,";g.MUNI_ARRAY[29362]="29,,29362,";g.MUNI_ARRAY[29363]="29,,29363,";g.MUNI_ARRAY[29385]="29,,29385,";g.MUNI_ARRAY[29386]="29,,29386,";g.MUNI_ARRAY[29401]="29,,29401,";g.MUNI_ARRAY[29402]="29,,29402,";g.MUNI_ARRAY[29424]="29,,29424,";g.MUNI_ARRAY[29425]="29,,29425,";g.MUNI_ARRAY[29426]="29,,29426,";g.MUNI_ARRAY[29427]="29,,29427,";g.MUNI_ARRAY[29441]="29,,29441,";g.MUNI_ARRAY[29442]="29,,29442,";g.MUNI_ARRAY[29443]="29,,29443,";g.MUNI_ARRAY[29444]="29,,29444,";g.MUNI_ARRAY[29446]="29,,29446,";g.MUNI_ARRAY[29447]="29,,29447,";g.MUNI_ARRAY[29449]="29,,29449,";g.MUNI_ARRAY[29450]="29,,29450,";g.MUNI_ARRAY[29451]="29,,29451,";g.MUNI_ARRAY[29452]="29,,29452,";g.MUNI_ARRAY[29453]="29,,29453,";g.MUNI_ARRAY[30201]="30,,30201,";g.MUNI_ARRAY[30202]="30,,30202,";g.MUNI_ARRAY[30203]="30,,30203,";g.MUNI_ARRAY[30204]="30,,30204,";g.MUNI_ARRAY[30205]="30,,30205,";g.MUNI_ARRAY[30206]="30,,30206,";g.MUNI_ARRAY[30207]="30,,30207,";g.MUNI_ARRAY[30208]="30,,30208,";g.MUNI_ARRAY[30209]="30,,30209,";g.MUNI_ARRAY[30304]="30,,30304,";g.MUNI_ARRAY[30341]="30,,30341,";g.MUNI_ARRAY[30343]="30,,30343,";g.MUNI_ARRAY[30344]="30,,30344,";g.MUNI_ARRAY[30361]="30,,30361,";g.MUNI_ARRAY[30362]="30,,30362,";g.MUNI_ARRAY[30366]="30,,30366,";g.MUNI_ARRAY[30381]="30,,30381,";g.MUNI_ARRAY[30382]="30,,30382,";g.MUNI_ARRAY[30383]="30,,30383,";g.MUNI_ARRAY[30390]="30,,30390,";g.MUNI_ARRAY[30391]="30,,30391,";g.MUNI_ARRAY[30392]="30,,30392,";g.MUNI_ARRAY[30401]="30,,30401,";g.MUNI_ARRAY[30404]="30,,30404,";g.MUNI_ARRAY[30406]="30,,30406,";g.MUNI_ARRAY[30421]="30,,30421,";g.MUNI_ARRAY[30422]="30,,30422,";g.MUNI_ARRAY[30424]="30,,30424,";g.MUNI_ARRAY[30427]="30,,30427,";g.MUNI_ARRAY[30428]="30,,30428,";g.MUNI_ARRAY[31201]="31,,31201,";g.MUNI_ARRAY[31202]="31,,31202,";g.MUNI_ARRAY[31203]="31,,31203,";g.MUNI_ARRAY[31204]="31,,31204,";g.MUNI_ARRAY[31302]="31,,31302,";g.MUNI_ARRAY[31325]="31,,31325,";g.MUNI_ARRAY[31328]="31,,31328,";g.MUNI_ARRAY[31329]="31,,31329,";g.MUNI_ARRAY[31364]="31,,31364,";g.MUNI_ARRAY[31370]="31,,31370,";g.MUNI_ARRAY[31371]="31,,31371,";g.MUNI_ARRAY[31372]="31,,31372,";g.MUNI_ARRAY[31384]="31,,31384,";g.MUNI_ARRAY[31386]="31,,31386,";g.MUNI_ARRAY[31389]="31,,31389,";g.MUNI_ARRAY[31390]="31,,31390,";g.MUNI_ARRAY[31401]="31,,31401,";g.MUNI_ARRAY[31402]="31,,31402,";g.MUNI_ARRAY[31403]="31,,31403,";g.MUNI_ARRAY[32201]="32,,32201,";g.MUNI_ARRAY[32202]="32,,32202,";g.MUNI_ARRAY[32203]="32,,32203,";g.MUNI_ARRAY[32204]="32,,32204,";g.MUNI_ARRAY[32205]="32,,32205,";g.MUNI_ARRAY[32206]="32,,32206,";g.MUNI_ARRAY[32207]="32,,32207,";g.MUNI_ARRAY[32209]="32,,32209,";g.MUNI_ARRAY[32343]="32,,32343,";g.MUNI_ARRAY[32386]="32,,32386,";g.MUNI_ARRAY[32441]="32,,32441,";g.MUNI_ARRAY[32448]="32,,32448,";g.MUNI_ARRAY[32449]="32,,32449,";g.MUNI_ARRAY[32501]="32,,32501,";g.MUNI_ARRAY[32505]="32,,32505,";g.MUNI_ARRAY[32525]="32,,32525,";g.MUNI_ARRAY[32526]="32,,32526,";g.MUNI_ARRAY[32527]="32,,32527,";g.MUNI_ARRAY[32528]="32,,32528,";g.MUNI_ARRAY[33100]="33,,33100,";g.MUNI_ARRAY[33101]="33,,33101,";g.MUNI_ARRAY[33102]="33,,33102,";g.MUNI_ARRAY[33103]="33,,33103,";g.MUNI_ARRAY[33104]="33,,33104,";g.MUNI_ARRAY[33202]="33,,33202,";g.MUNI_ARRAY[33203]="33,,33203,";g.MUNI_ARRAY[33204]="33,,33204,";g.MUNI_ARRAY[33205]="33,,33205,";g.MUNI_ARRAY[33207]="33,,33207,";g.MUNI_ARRAY[33208]="33,,33208,";g.MUNI_ARRAY[33209]="33,,33209,";g.MUNI_ARRAY[33210]="33,,33210,";g.MUNI_ARRAY[33211]="33,,33211,";g.MUNI_ARRAY[33212]="33,,33212,";g.MUNI_ARRAY[33213]="33,,33213,";g.MUNI_ARRAY[33214]="33,,33214,";g.MUNI_ARRAY[33215]="33,,33215,";g.MUNI_ARRAY[33216]="33,,33216,";g.MUNI_ARRAY[33346]="33,,33346,";g.MUNI_ARRAY[33423]="33,,33423,";g.MUNI_ARRAY[33445]="33,,33445,";g.MUNI_ARRAY[33461]="33,,33461,";g.MUNI_ARRAY[33586]="33,,33586,";g.MUNI_ARRAY[33606]="33,,33606,";g.MUNI_ARRAY[33622]="33,,33622,";g.MUNI_ARRAY[33623]="33,,33623,";g.MUNI_ARRAY[33643]="33,,33643,";g.MUNI_ARRAY[33663]="33,,33663,";g.MUNI_ARRAY[33666]="33,,33666,";g.MUNI_ARRAY[33681]="33,,33681,";g.MUNI_ARRAY[34100]="34,,34100,";g.MUNI_ARRAY[34101]="34,,34101,";g.MUNI_ARRAY[34102]="34,,34102,";g.MUNI_ARRAY[34103]="34,,34103,";g.MUNI_ARRAY[34104]="34,,34104,";g.MUNI_ARRAY[34105]="34,,34105,";g.MUNI_ARRAY[34106]="34,,34106,";g.MUNI_ARRAY[34107]="34,,34107,";g.MUNI_ARRAY[34108]="34,,34108,";g.MUNI_ARRAY[34202]="34,,34202,";g.MUNI_ARRAY[34203]="34,,34203,";g.MUNI_ARRAY[34204]="34,,34204,";g.MUNI_ARRAY[34205]="34,,34205,";g.MUNI_ARRAY[34207]="34,,34207,";g.MUNI_ARRAY[34208]="34,,34208,";g.MUNI_ARRAY[34209]="34,,34209,";g.MUNI_ARRAY[34210]="34,,34210,";g.MUNI_ARRAY[34211]="34,,34211,";g.MUNI_ARRAY[34212]="34,,34212,";g.MUNI_ARRAY[34213]="34,,34213,";g.MUNI_ARRAY[34214]="34,,34214,";g.MUNI_ARRAY[34215]="34,,34215,";g.MUNI_ARRAY[34302]="34,,34302,";g.MUNI_ARRAY[34304]="34,,34304,";g.MUNI_ARRAY[34307]="34,,34307,";g.MUNI_ARRAY[34309]="34,,34309,";g.MUNI_ARRAY[34368]="34,,34368,";g.MUNI_ARRAY[34369]="34,,34369,";g.MUNI_ARRAY[34431]="34,,34431,";g.MUNI_ARRAY[34462]="34,,34462,";g.MUNI_ARRAY[34545]="34,,34545,";g.MUNI_ARRAY[35201]="35,,35201,";g.MUNI_ARRAY[35202]="35,,35202,";g.MUNI_ARRAY[35203]="35,,35203,";g.MUNI_ARRAY[35204]="35,,35204,";g.MUNI_ARRAY[35206]="35,,35206,";g.MUNI_ARRAY[35207]="35,,35207,";g.MUNI_ARRAY[35208]="35,,35208,";g.MUNI_ARRAY[35210]="35,,35210,";g.MUNI_ARRAY[35211]="35,,35211,";g.MUNI_ARRAY[35212]="35,,35212,";g.MUNI_ARRAY[35213]="35,,35213,";g.MUNI_ARRAY[35215]="35,,35215,";g.MUNI_ARRAY[35216]="35,,35216,";g.MUNI_ARRAY[35305]="35,,35305,";g.MUNI_ARRAY[35321]="35,,35321,";g.MUNI_ARRAY[35341]="35,,35341,";g.MUNI_ARRAY[35343]="35,,35343,";g.MUNI_ARRAY[35344]="35,,35344,";g.MUNI_ARRAY[35502]="35,,35502,";g.MUNI_ARRAY[36201]="36,,36201,";g.MUNI_ARRAY[36202]="36,,36202,";g.MUNI_ARRAY[36203]="36,,36203,";g.MUNI_ARRAY[36204]="36,,36204,";g.MUNI_ARRAY[36205]="36,,36205,";g.MUNI_ARRAY[36206]="36,,36206,";g.MUNI_ARRAY[36207]="36,,36207,";g.MUNI_ARRAY[36208]="36,,36208,";g.MUNI_ARRAY[36301]="36,,36301,";g.MUNI_ARRAY[36302]="36,,36302,";g.MUNI_ARRAY[36321]="36,,36321,";g.MUNI_ARRAY[36341]="36,,36341,";g.MUNI_ARRAY[36342]="36,,36342,";g.MUNI_ARRAY[36368]="36,,36368,";g.MUNI_ARRAY[36383]="36,,36383,";g.MUNI_ARRAY[36387]="36,,36387,";g.MUNI_ARRAY[36388]="36,,36388,";g.MUNI_ARRAY[36401]="36,,36401,";g.MUNI_ARRAY[36402]="36,,36402,";g.MUNI_ARRAY[36403]="36,,36403,";g.MUNI_ARRAY[36404]="36,,36404,";g.MUNI_ARRAY[36405]="36,,36405,";g.MUNI_ARRAY[36468]="36,,36468,";g.MUNI_ARRAY[36489]="36,,36489,";g.MUNI_ARRAY[37201]="37,,37201,";g.MUNI_ARRAY[37202]="37,,37202,";g.MUNI_ARRAY[37203]="37,,37203,";g.MUNI_ARRAY[37204]="37,,37204,";g.MUNI_ARRAY[37205]="37,,37205,";g.MUNI_ARRAY[37206]="37,,37206,";g.MUNI_ARRAY[37207]="37,,37207,";g.MUNI_ARRAY[37208]="37,,37208,";g.MUNI_ARRAY[37322]="37,,37322,";g.MUNI_ARRAY[37324]="37,,37324,";g.MUNI_ARRAY[37341]="37,,37341,";g.MUNI_ARRAY[37364]="37,,37364,";g.MUNI_ARRAY[37386]="37,,37386,";g.MUNI_ARRAY[37387]="37,,37387,";g.MUNI_ARRAY[37403]="37,,37403,";g.MUNI_ARRAY[37404]="37,,37404,";g.MUNI_ARRAY[37406]="37,,37406,";g.MUNI_ARRAY[38201]="38,,38201,";g.MUNI_ARRAY[38202]="38,,38202,";g.MUNI_ARRAY[38203]="38,,38203,";g.MUNI_ARRAY[38204]="38,,38204,";g.MUNI_ARRAY[38205]="38,,38205,";g.MUNI_ARRAY[38206]="38,,38206,";g.MUNI_ARRAY[38207]="38,,38207,";g.MUNI_ARRAY[38210]="38,,38210,";g.MUNI_ARRAY[38213]="38,,38213,";g.MUNI_ARRAY[38214]="38,,38214,";g.MUNI_ARRAY[38215]="38,,38215,";g.MUNI_ARRAY[38356]="38,,38356,";g.MUNI_ARRAY[38386]="38,,38386,";g.MUNI_ARRAY[38401]="38,,38401,";g.MUNI_ARRAY[38402]="38,,38402,";g.MUNI_ARRAY[38422]="38,,38422,";g.MUNI_ARRAY[38442]="38,,38442,";g.MUNI_ARRAY[38484]="38,,38484,";g.MUNI_ARRAY[38488]="38,,38488,";g.MUNI_ARRAY[38506]="38,,38506,";g.MUNI_ARRAY[39201]="39,,39201,";g.MUNI_ARRAY[39202]="39,,39202,";g.MUNI_ARRAY[39203]="39,,39203,";g.MUNI_ARRAY[39204]="39,,39204,";g.MUNI_ARRAY[39205]="39,,39205,";g.MUNI_ARRAY[39206]="39,,39206,";g.MUNI_ARRAY[39208]="39,,39208,";g.MUNI_ARRAY[39209]="39,,39209,";g.MUNI_ARRAY[39210]="39,,39210,";g.MUNI_ARRAY[39211]="39,,39211,";g.MUNI_ARRAY[39212]="39,,39212,";g.MUNI_ARRAY[39301]="39,,39301,";g.MUNI_ARRAY[39302]="39,,39302,";g.MUNI_ARRAY[39303]="39,,39303,";g.MUNI_ARRAY[39304]="39,,39304,";g.MUNI_ARRAY[39305]="39,,39305,";g.MUNI_ARRAY[39306]="39,,39306,";g.MUNI_ARRAY[39307]="39,,39307,";g.MUNI_ARRAY[39341]="39,,39341,";g.MUNI_ARRAY[39344]="39,,39344,";g.MUNI_ARRAY[39363]="39,,39363,";g.MUNI_ARRAY[39364]="39,,39364,";g.MUNI_ARRAY[39386]="39,,39386,";g.MUNI_ARRAY[39387]="39,,39387,";g.MUNI_ARRAY[39401]="39,,39401,";g.MUNI_ARRAY[39402]="39,,39402,";g.MUNI_ARRAY[39403]="39,,39403,";g.MUNI_ARRAY[39405]="39,,39405,";g.MUNI_ARRAY[39410]="39,,39410,";g.MUNI_ARRAY[39411]="39,,39411,";g.MUNI_ARRAY[39412]="39,,39412,";g.MUNI_ARRAY[39424]="39,,39424,";g.MUNI_ARRAY[39427]="39,,39427,";g.MUNI_ARRAY[39428]="39,,39428,";g.MUNI_ARRAY[40100]="40,,40100,";g.MUNI_ARRAY[40101]="40,,40101,";g.MUNI_ARRAY[40103]="40,,40103,";g.MUNI_ARRAY[40105]="40,,40105,";g.MUNI_ARRAY[40106]="40,,40106,";g.MUNI_ARRAY[40107]="40,,40107,";g.MUNI_ARRAY[40108]="40,,40108,";g.MUNI_ARRAY[40109]="40,,40109,";g.MUNI_ARRAY[40130]="40,,40130,";g.MUNI_ARRAY[40131]="40,,40131,";g.MUNI_ARRAY[40132]="40,,40132,";g.MUNI_ARRAY[40133]="40,,40133,";g.MUNI_ARRAY[40134]="40,,40134,";g.MUNI_ARRAY[40135]="40,,40135,";g.MUNI_ARRAY[40136]="40,,40136,";g.MUNI_ARRAY[40137]="40,,40137,";g.MUNI_ARRAY[40202]="40,,40202,";g.MUNI_ARRAY[40203]="40,,40203,";g.MUNI_ARRAY[40204]="40,,40204,";g.MUNI_ARRAY[40205]="40,,40205,";g.MUNI_ARRAY[40206]="40,,40206,";g.MUNI_ARRAY[40207]="40,,40207,";g.MUNI_ARRAY[40210]="40,,40210,";g.MUNI_ARRAY[40211]="40,,40211,";g.MUNI_ARRAY[40212]="40,,40212,";g.MUNI_ARRAY[40213]="40,,40213,";g.MUNI_ARRAY[40214]="40,,40214,";g.MUNI_ARRAY[40215]="40,,40215,";g.MUNI_ARRAY[40216]="40,,40216,";g.MUNI_ARRAY[40217]="40,,40217,";g.MUNI_ARRAY[40218]="40,,40218,";g.MUNI_ARRAY[40219]="40,,40219,";g.MUNI_ARRAY[40220]="40,,40220,";g.MUNI_ARRAY[40221]="40,,40221,";g.MUNI_ARRAY[40223]="40,,40223,";g.MUNI_ARRAY[40224]="40,,40224,";g.MUNI_ARRAY[40225]="40,,40225,";g.MUNI_ARRAY[40226]="40,,40226,";g.MUNI_ARRAY[40227]="40,,40227,";g.MUNI_ARRAY[40228]="40,,40228,";g.MUNI_ARRAY[40229]="40,,40229,";g.MUNI_ARRAY[40230]="40,,40230,";g.MUNI_ARRAY[40231]="40,,40231,";g.MUNI_ARRAY[40341]="40,,40341,";g.MUNI_ARRAY[40342]="40,,40342,";g.MUNI_ARRAY[40343]="40,,40343,";g.MUNI_ARRAY[40344]="40,,40344,";g.MUNI_ARRAY[40345]="40,,40345,";g.MUNI_ARRAY[40348]="40,,40348,";g.MUNI_ARRAY[40349]="40,,40349,";g.MUNI_ARRAY[40381]="40,,40381,";g.MUNI_ARRAY[40382]="40,,40382,";g.MUNI_ARRAY[40383]="40,,40383,";g.MUNI_ARRAY[40384]="40,,40384,";g.MUNI_ARRAY[40401]="40,,40401,";g.MUNI_ARRAY[40402]="40,,40402,";g.MUNI_ARRAY[40421]="40,,40421,";g.MUNI_ARRAY[40447]="40,,40447,";g.MUNI_ARRAY[40448]="40,,40448,";g.MUNI_ARRAY[40503]="40,,40503,";g.MUNI_ARRAY[40522]="40,,40522,";g.MUNI_ARRAY[40544]="40,,40544,";g.MUNI_ARRAY[40601]="40,,40601,";g.MUNI_ARRAY[40602]="40,,40602,";g.MUNI_ARRAY[40604]="40,,40604,";g.MUNI_ARRAY[40605]="40,,40605,";g.MUNI_ARRAY[40608]="40,,40608,";g.MUNI_ARRAY[40609]="40,,40609,";g.MUNI_ARRAY[40610]="40,,40610,";g.MUNI_ARRAY[40621]="40,,40621,";g.MUNI_ARRAY[40625]="40,,40625,";g.MUNI_ARRAY[40642]="40,,40642,";g.MUNI_ARRAY[40646]="40,,40646,";g.MUNI_ARRAY[40647]="40,,40647,";g.MUNI_ARRAY[41201]="41,,41201,";g.MUNI_ARRAY[41202]="41,,41202,";g.MUNI_ARRAY[41203]="41,,41203,";g.MUNI_ARRAY[41204]="41,,41204,";g.MUNI_ARRAY[41205]="41,,41205,";g.MUNI_ARRAY[41206]="41,,41206,";g.MUNI_ARRAY[41207]="41,,41207,";g.MUNI_ARRAY[41208]="41,,41208,";g.MUNI_ARRAY[41209]="41,,41209,";g.MUNI_ARRAY[41210]="41,,41210,";g.MUNI_ARRAY[41327]="41,,41327,";g.MUNI_ARRAY[41341]="41,,41341,";g.MUNI_ARRAY[41345]="41,,41345,";g.MUNI_ARRAY[41346]="41,,41346,";g.MUNI_ARRAY[41387]="41,,41387,";g.MUNI_ARRAY[41401]="41,,41401,";g.MUNI_ARRAY[41423]="41,,41423,";g.MUNI_ARRAY[41424]="41,,41424,";g.MUNI_ARRAY[41425]="41,,41425,";g.MUNI_ARRAY[41441]="41,,41441,";g.MUNI_ARRAY[42201]="42,,42201,";g.MUNI_ARRAY[42202]="42,,42202,";g.MUNI_ARRAY[42203]="42,,42203,";g.MUNI_ARRAY[42204]="42,,42204,";g.MUNI_ARRAY[42205]="42,,42205,";g.MUNI_ARRAY[42207]="42,,42207,";g.MUNI_ARRAY[42208]="42,,42208,";g.MUNI_ARRAY[42209]="42,,42209,";g.MUNI_ARRAY[42210]="42,,42210,";g.MUNI_ARRAY[42211]="42,,42211,";g.MUNI_ARRAY[42212]="42,,42212,";g.MUNI_ARRAY[42213]="42,,42213,";g.MUNI_ARRAY[42214]="42,,42214,";g.MUNI_ARRAY[42307]="42,,42307,";g.MUNI_ARRAY[42308]="42,,42308,";g.MUNI_ARRAY[42321]="42,,42321,";g.MUNI_ARRAY[42322]="42,,42322,";g.MUNI_ARRAY[42323]="42,,42323,";g.MUNI_ARRAY[42383]="42,,42383,";g.MUNI_ARRAY[42391]="42,,42391,";g.MUNI_ARRAY[42411]="42,,42411,";g.MUNI_ARRAY[43100]="43,,43100,";g.MUNI_ARRAY[43101]="43,,43101,";g.MUNI_ARRAY[43102]="43,,43102,";g.MUNI_ARRAY[43103]="43,,43103,";g.MUNI_ARRAY[43104]="43,,43104,";g.MUNI_ARRAY[43105]="43,,43105,";g.MUNI_ARRAY[43202]="43,,43202,";g.MUNI_ARRAY[43203]="43,,43203,";g.MUNI_ARRAY[43204]="43,,43204,";g.MUNI_ARRAY[43205]="43,,43205,";g.MUNI_ARRAY[43206]="43,,43206,";g.MUNI_ARRAY[43208]="43,,43208,";g.MUNI_ARRAY[43210]="43,,43210,";g.MUNI_ARRAY[43211]="43,,43211,";g.MUNI_ARRAY[43212]="43,,43212,";g.MUNI_ARRAY[43213]="43,,43213,";g.MUNI_ARRAY[43214]="43,,43214,";g.MUNI_ARRAY[43215]="43,,43215,";g.MUNI_ARRAY[43216]="43,,43216,";g.MUNI_ARRAY[43348]="43,,43348,";g.MUNI_ARRAY[43364]="43,,43364,";g.MUNI_ARRAY[43367]="43,,43367,";g.MUNI_ARRAY[43368]="43,,43368,";g.MUNI_ARRAY[43369]="43,,43369,";g.MUNI_ARRAY[43403]="43,,43403,";g.MUNI_ARRAY[43404]="43,,43404,";g.MUNI_ARRAY[43423]="43,,43423,";g.MUNI_ARRAY[43424]="43,,43424,";g.MUNI_ARRAY[43425]="43,,43425,";g.MUNI_ARRAY[43428]="43,,43428,";g.MUNI_ARRAY[43432]="43,,43432,";g.MUNI_ARRAY[43433]="43,,43433,";g.MUNI_ARRAY[43441]="43,,43441,";g.MUNI_ARRAY[43442]="43,,43442,";g.MUNI_ARRAY[43443]="43,,43443,";g.MUNI_ARRAY[43444]="43,,43444,";g.MUNI_ARRAY[43447]="43,,43447,";g.MUNI_ARRAY[43468]="43,,43468,";g.MUNI_ARRAY[43482]="43,,43482,";g.MUNI_ARRAY[43484]="43,,43484,";g.MUNI_ARRAY[43501]="43,,43501,";g.MUNI_ARRAY[43505]="43,,43505,";g.MUNI_ARRAY[43506]="43,,43506,";g.MUNI_ARRAY[43507]="43,,43507,";g.MUNI_ARRAY[43510]="43,,43510,";g.MUNI_ARRAY[43511]="43,,43511,";g.MUNI_ARRAY[43512]="43,,43512,";g.MUNI_ARRAY[43513]="43,,43513,";g.MUNI_ARRAY[43514]="43,,43514,";g.MUNI_ARRAY[43531]="43,,43531,";g.MUNI_ARRAY[44201]="44,,44201,";g.MUNI_ARRAY[44202]="44,,44202,";g.MUNI_ARRAY[44203]="44,,44203,";g.MUNI_ARRAY[44204]="44,,44204,";g.MUNI_ARRAY[44205]="44,,44205,";g.MUNI_ARRAY[44206]="44,,44206,";g.MUNI_ARRAY[44207]="44,,44207,";g.MUNI_ARRAY[44208]="44,,44208,";g.MUNI_ARRAY[44209]="44,,44209,";g.MUNI_ARRAY[44210]="44,,44210,";g.MUNI_ARRAY[44211]="44,,44211,";g.MUNI_ARRAY[44212]="44,,44212,";g.MUNI_ARRAY[44213]="44,,44213,";g.MUNI_ARRAY[44214]="44,,44214,";g.MUNI_ARRAY[44322]="44,,44322,";g.MUNI_ARRAY[44341]="44,,44341,";g.MUNI_ARRAY[44461]="44,,44461,";g.MUNI_ARRAY[44462]="44,,44462,";g.MUNI_ARRAY[45201]="45,,45201,";g.MUNI_ARRAY[45202]="45,,45202,";g.MUNI_ARRAY[45203]="45,,45203,";g.MUNI_ARRAY[45204]="45,,45204,";g.MUNI_ARRAY[45205]="45,,45205,";g.MUNI_ARRAY[45206]="45,,45206,";g.MUNI_ARRAY[45207]="45,,45207,";g.MUNI_ARRAY[45208]="45,,45208,";g.MUNI_ARRAY[45209]="45,,45209,";g.MUNI_ARRAY[45341]="45,,45341,";g.MUNI_ARRAY[45361]="45,,45361,";g.MUNI_ARRAY[45382]="45,,45382,";g.MUNI_ARRAY[45383]="45,,45383,";g.MUNI_ARRAY[45401]="45,,45401,";g.MUNI_ARRAY[45402]="45,,45402,";g.MUNI_ARRAY[45403]="45,,45403,";g.MUNI_ARRAY[45404]="45,,45404,";g.MUNI_ARRAY[45405]="45,,45405,";g.MUNI_ARRAY[45406]="45,,45406,";g.MUNI_ARRAY[45421]="45,,45421,";g.MUNI_ARRAY[45429]="45,,45429,";g.MUNI_ARRAY[45430]="45,,45430,";g.MUNI_ARRAY[45431]="45,,45431,";g.MUNI_ARRAY[45441]="45,,45441,";g.MUNI_ARRAY[45442]="45,,45442,";g.MUNI_ARRAY[45443]="45,,45443,";g.MUNI_ARRAY[46201]="46,,46201,";g.MUNI_ARRAY[46203]="46,,46203,";g.MUNI_ARRAY[46204]="46,,46204,";g.MUNI_ARRAY[46206]="46,,46206,";g.MUNI_ARRAY[46208]="46,,46208,";g.MUNI_ARRAY[46210]="46,,46210,";g.MUNI_ARRAY[46213]="46,,46213,";g.MUNI_ARRAY[46214]="46,,46214,";g.MUNI_ARRAY[46215]="46,,46215,";g.MUNI_ARRAY[46216]="46,,46216,";g.MUNI_ARRAY[46217]="46,,46217,";g.MUNI_ARRAY[46218]="46,,46218,";g.MUNI_ARRAY[46219]="46,,46219,";g.MUNI_ARRAY[46220]="46,,46220,";g.MUNI_ARRAY[46221]="46,,46221,";g.MUNI_ARRAY[46222]="46,,46222,";g.MUNI_ARRAY[46223]="46,,46223,";g.MUNI_ARRAY[46224]="46,,46224,";g.MUNI_ARRAY[46225]="46,,46225,";g.MUNI_ARRAY[46303]="46,,46303,";g.MUNI_ARRAY[46304]="46,,46304,";g.MUNI_ARRAY[46392]="46,,46392,";g.MUNI_ARRAY[46404]="46,,46404,";g.MUNI_ARRAY[46452]="46,,46452,";g.MUNI_ARRAY[46468]="46,,46468,";g.MUNI_ARRAY[46482]="46,,46482,";g.MUNI_ARRAY[46490]="46,,46490,";g.MUNI_ARRAY[46491]="46,,46491,";g.MUNI_ARRAY[46492]="46,,46492,";g.MUNI_ARRAY[46501]="46,,46501,";g.MUNI_ARRAY[46502]="46,,46502,";g.MUNI_ARRAY[46505]="46,,46505,";g.MUNI_ARRAY[46523]="46,,46523,";g.MUNI_ARRAY[46524]="46,,46524,";g.MUNI_ARRAY[46525]="46,,46525,";g.MUNI_ARRAY[46527]="46,,46527,";g.MUNI_ARRAY[46529]="46,,46529,";g.MUNI_ARRAY[46530]="46,,46530,";g.MUNI_ARRAY[46531]="46,,46531,";g.MUNI_ARRAY[46532]="46,,46532,";g.MUNI_ARRAY[46533]="46,,46533,";g.MUNI_ARRAY[46534]="46,,46534,";g.MUNI_ARRAY[46535]="46,,46535,";g.MUNI_ARRAY[47201]="47,,47201,";g.MUNI_ARRAY[47205]="47,,47205,";g.MUNI_ARRAY[47207]="47,,47207,";g.MUNI_ARRAY[47208]="47,,47208,";g.MUNI_ARRAY[47209]="47,,47209,";g.MUNI_ARRAY[47210]="47,,47210,";g.MUNI_ARRAY[47211]="47,,47211,";g.MUNI_ARRAY[47212]="47,,47212,";g.MUNI_ARRAY[47213]="47,,47213,";g.MUNI_ARRAY[47214]="47,,47214,";g.MUNI_ARRAY[47215]="47,,47215,";g.MUNI_ARRAY[47301]="47,,47301,";g.MUNI_ARRAY[47302]="47,,47302,";g.MUNI_ARRAY[47303]="47,,47303,";g.MUNI_ARRAY[47306]="47,,47306,";g.MUNI_ARRAY[47308]="47,,47308,";g.MUNI_ARRAY[47311]="47,,47311,";g.MUNI_ARRAY[47313]="47,,47313,";g.MUNI_ARRAY[47314]="47,,47314,";g.MUNI_ARRAY[47315]="47,,47315,";g.MUNI_ARRAY[47324]="47,,47324,";g.MUNI_ARRAY[47325]="47,,47325,";g.MUNI_ARRAY[47326]="47,,47326,";g.MUNI_ARRAY[47327]="47,,47327,";g.MUNI_ARRAY[47328]="47,,47328,";g.MUNI_ARRAY[47329]="47,,47329,";g.MUNI_ARRAY[47348]="47,,47348,";g.MUNI_ARRAY[47350]="47,,47350,";g.MUNI_ARRAY[47353]="47,,47353,";g.MUNI_ARRAY[47354]="47,,47354,";g.MUNI_ARRAY[47355]="47,,47355,";g.MUNI_ARRAY[47356]="47,,47356,";g.MUNI_ARRAY[47357]="47,,47357,";g.MUNI_ARRAY[47358]="47,,47358,";g.MUNI_ARRAY[47359]="47,,47359,";g.MUNI_ARRAY[47360]="47,,47360,";g.MUNI_ARRAY[47361]="47,,47361,";g.MUNI_ARRAY[47362]="47,,47362,";g.MUNI_ARRAY[47375]="47,,47375,";g.MUNI_ARRAY[47381]="47,,47381,";g.MUNI_ARRAY[47382]="47,,47382,";const nx=t=>{const e=g.MUNI_ARRAY[t];if(!e)return"";const a=e.split(",");return`${a[1]}${a[3]}`},EP=async(t,e)=>{const a=`https://mreversegeocoder.gsi.go.jp/reverse-geocoder/LonLatToAddress?lat=${e}&lon=${t}`;try{const n=await fetch(a);if(n.ok){const c=await n.json();return`${nx(c.results.muniCd)}${c.results.lv01Nm===""?"":c.results.lv01Nm}`}else throw new Error("Failed to fetch")}catch(n){throw n instanceof Error?new Error(n.message):new Error("Unknown error occurred")}},FP=async t=>{const e=`https://msearch.gsi.go.jp/address-search/AddressSearch?q=${t}`;try{const a=await fetch(e,{method:"GET"});if(a.ok)return a.json()}catch(a){throw a instanceof Error?new Error(a.message):new Error("Unknown error occurred")}};var TP=(t,e,a)=>{e(null),a([])},SP=(t,e,a)=>e(q(a).id),YP=(t,e,a)=>st(e,{layerId:q(a).id,bool:!0},!0),NP=ft('<button class="duration-scale-100 relative grid h-[50px] w-[50px] shrink-0 cursor-pointer place-items-center overflow-hidden rounded-full bg-gray-500 transition-all hover:scale-110"><!></button>'),LP=ft('<div class="pointer-events-none absolute bottom-2 grid w-full place-items-center rounded-md"><div class="pointer-events-auto relative flex max-w-[calc(100vw-2rem)] gap-2 rounded-md bg-white p-4 px-6 transition-all duration-100"><button class="absolute right-0 top-0 rounded-full p-2"><!></button> <div class="flex grow flex-col gap-2"><div class="flex gap-2"></div> <div class="flex w-full flex-col items-center justify-center"><span class="text-accent text-xs"> </span> <span class="text-xs"> </span></div></div></div></div>');function PP(t,e){mi(e,!0);let a=si(e,"clickedLayerIds",15),n=si(e,"clickedLayerFeaturesData",15),c=$t(void 0),f=$t(void 0),h=ra(()=>a()?e.layerEntries.filter(E=>a().includes(E.id)):[]);Cr(()=>{(async()=>e.clickedLngLat&&(st(c,await void 0,!0),st(f,await void 0,!0),st(c,await EP(e.clickedLngLat.lng,e.clickedLngLat.lat),!0)))()});let s=$t(Jr({layerId:"",bool:!1}));const x=E=>{var Y;!n()||!((Y=n().find(D=>D.layerEntry.id===E))!=null&&Y.feature)||(n(null),a([]))};Cr(()=>{if(q(s).layerId&&a().length>0){const E=da.getMap();if(!E)return;const M=E.getLayer(q(s).layerId);if(!M)return;let Y=M.type;Y==="symbol"&&(Y="text"),E.setPaintProperty(`@highlight_${q(s).layerId}`,`${Y}-color`,q(s).bool?"#00d5ff":Yh),E.moveLayer(`@highlight_${q(s).layerId}`)}});var w=xi(),I=kt(w);{var R=E=>{var M=LP(),Y=Le(M),D=Le(Y);D.__click=[TP,n,a];var O=Le(D);vi(O,{icon:"material-symbols:close-rounded",class:"h-4 w-4 text-black"}),Ue(D);var H=Ze(D,2),$=Le(H);Ea($,29,()=>q(h),V=>V.id,(V,J)=>{var ge=NP();ge.__click=[SP,x,J],ge.__mousemove=[YP,s,J];var le=Le(ge);W8(le,{get layerEntry(){return q(J)}}),Ue(ge),fr("mouseleave",ge,()=>st(s,{layerId:q(J).id,bool:!1},!0)),B6(ge,()=>q8,()=>({duration:200})),Ve(V,ge)}),Ue($);var Ae=Ze($,2),ce=Le(Ae),he=Le(ce);Ue(ce);var se=Ze(ce,2),ae=Le(se,!0);Ue(se),Ue(Ae),Ue(H),Ue(Y),Ue(M),di((V,J)=>{yi(he,`${V??""}, ${J??""}`),yi(ae,q(c)??"-----")},[()=>e.clickedLngLat.lng.toFixed(6),()=>e.clickedLngLat.lat.toFixed(6)]),ba(3,M,()=>ds,()=>({duration:200,y:100,opacity:0})),Ve(E,M)};It(I,E=>{a().length>1&&e.clickedLngLat&&E(R)})}Ve(t,w),_i()}$a(["click","mousemove"]);var QP=ft('<div class="absolute translate-y-10 text-base font-bold svelte-1jmlcwl"> </div>'),kP=ft('<div class="pointer-events-none relative z-50 grid h-[100px] w-[100px] place-items-center svelte-1jmlcwl"><!> <div class="css-rotate-effect absolute h-[30px] w-[30px] rotate-45 border-2 border-white svelte-1jmlcwl"></div></div>');function DP(t,e){mi(e,!0);let a=$t(null),n=$t(null);Mr(()=>{q(a)&&e.show&&e.lngLat&&st(n,new Ps.Marker({element:q(a),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map))}),Cr(()=>{e.show?q(n)?q(n).setLngLat(e.lngLat):st(n,new Ps.Marker({element:q(a),anchor:"center",offset:[0,0]}).setLngLat(e.lngLat).addTo(e.map)):q(n)&&(q(n).remove(),st(n,null))}),KA(()=>{q(a)&&Y3.to(q(a),{scale:0,duration:.15,onComplete:()=>{var s;(s=q(n))==null||s.remove()}})});var c=xi(),f=kt(c);{var h=s=>{var x=kP(),w=Le(x);{var I=R=>{var E=QP(),M=Le(E,!0);Ue(E),di(Y=>yi(M,Y),[()=>e.feature.layer.metadata.titles?g6(e.feature.properties,e.feature.layer.metadata.titles):e.feature.layer.metadata.name]),Ve(R,E)};It(w,R=>{e.feature.layer.metadata&&R(I)})}Ga(2),Ue(x),wn(x,R=>st(a,R),()=>q(a)),Ve(s,x)};It(f,s=>{e.show&&e.feature&&s(h)})}Ve(t,c),_i()}const zP={v:{type:"vector",minzoom:4,maxzoom:16,tiles:["https://cyberjapandata.gsi.go.jp/xyz/optimal_bvmap-v1/{z}/{x}/{y}.pbf"],attribution:""}},ZP=[{id:"25000",minzoom:11,type:"line",source:"v","source-layer":"AdmBdry",filter:["==",["get","vt_code"],1221],layout:{"line-cap":"square"},paint:{"line-color":"rgba(68,0,128,1)","line-dasharray":[4,1,1,5],"line-opacity":["interpolate",["linear"],["zoom"],5,0,6,1],"line-width":1.5}},{id:"25000",minzoom:11,type:"line",source:"v","source-layer":"AdmBdry",filter:["==",["get","vt_code"],1212],layout:{"line-cap":"square"},paint:{"line-color":"rgba(68,0,128,1)","line-dasharray":[6,2,1,2,1,2],"line-opacity":["interpolate",["linear"],["zoom"],5,0,6,1],"line-width":1.5}},{id:"25000",type:"line",source:"v","source-layer":"AdmBdry",filter:["==",["get","vt_code"],1211],layout:{"line-cap":"round"},paint:{"line-color":"rgba(68,0,128,1)","line-dasharray":[7,5,.1,5],"line-opacity":["interpolate",["linear"],["zoom"],5,0,6,1],"line-width":["interpolate",["linear"],["zoom"],8,1,9,2.5]}},{id:"",maxzoom:8,type:"line",source:"v","source-layer":"AdmBdry",filter:["==",["get","vt_code"],1212],layout:{"line-cap":"square"},paint:{"line-color":"rgba(68,0,128,1)","line-dasharray":[7,5,.1,5],"line-opacity":["interpolate",["linear"],["zoom"],5,0,6,1],"line-width":1}},{id:"",maxzoom:8,type:"line",source:"v","source-layer":"AdmBdry",filter:["==",["get","vt_code"],1221],layout:{"line-cap":"square"},paint:{"line-color":"rgba(34,24,21,1)","line-width":1}},{id:"point",type:"symbol",source:"v","source-layer":"WRltLine",filter:["==",["geometry-type"],"Point"],layout:{"icon-allow-overlap":!0,"icon-image":"","icon-size":1.2,"icon-rotate":["get","vt_angle"],"icon-rotation-alignment":"map"}},{id:"",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["==",["geometry-type"],"Point"],["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]],16,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[0,1]]],["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]],17,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[1,2]]],["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]]],layout:{"icon-allow-overlap":!0,"icon-image":["match",["get","vt_code"],2901,"-20",2903,"-20",2904,"-20",7701,"-20",""],"icon-size":["let","size",["match",["get","vt_code"],7701,.7,.5],["interpolate",["linear"],["zoom"],15,["var","size"],17,["*",2,["var","size"]]]],"symbol-sort-key":["match",["get","vt_code"],2901,88,2903,50,2904,49,7701,111,0],"text-allow-overlap":!1,"text-font":["Noto Sans JP Light"],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],2901,10,7701,12,8],["interpolate",["linear"],["zoom"],15,["var","size"],17,["*",2,["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100},paint:{"text-color":["match",["get","vt_code"],7701,"rgba(0,0,0,1)","rgba(255,255,255,1)"]}},{id:"100",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["==",["geometry-type"],"Point"],["in",["get","vt_code"],["literal",[313,353,361,413,423,522,523,533,534,611,612,613,615,671,673,681,720,860,870,882,883,884,886,887,888,890,899,7104]]],["==",["get","vt_arrng"],2]],16,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[0,1]]],["in",["get","vt_code"],["literal",[313,353,361,413,423,522,523,533,534,611,612,613,615,671,673,681,720,860,870,882,883,884,886,887,888,890,899,7104]]],["==",["get","vt_arrng"],2]],17,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[1,2]]],["in",["get","vt_code"],["literal",[313,353,361,413,423,522,523,533,534,611,612,613,615,671,673,681,720,860,870,882,883,884,886,887,888,890,899,7104]]],["==",["get","vt_arrng"],2]]],layout:{"symbol-sort-key":["match",["get","vt_code"],110,17,120,31,130,19,140,8,150,176,210,37,212,182,220,72,311,11,312,20,313,148,314,15,315,21,316,30,321,23,322,22,323,52,331,50,332,51,333,10,334,42,341,28,342,41,343,49,344,12,345,48,346,38,347,47,348,14,351,9,352,["match",["get","vt_text"],"",6,40],353,147,361,175,411,32,412,86,413,145,421,33,422,74,423,146,431,64,432,84,441,63,511,85,521,76,522,130,523,108,531,95,532,80,533,106,534,115,611,100,612,131,613,101,614,183,615,104,621,36,623,184,631,69,632,70,633,71,634,93,641,185,642,186,651,94,652,187,653,127,654,188,661,128,662,129,671,118,672,189,673,137,681,119,710,190,720,155,730,191,800,35,810,29,820,24,822,78,830,55,831,57,832,77,833,192,840,44,841,43,842,58,843,59,850,39,860,117,870,116,880,98,881,99,882,123,883,134,884,125,885,68,886,121,887,132,888,138,889,97,890,158,899,160,999,193,1301,["match",["get","vt_text"],"",1,["","",""],2,3],1302,["match",["get","vt_text"],"",4,5],1303,["match",["get","vt_text"],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],6,7],1401,16,1402,25,1403,26,2901,92,2902,177,2903,54,2904,53,2941,34,2942,91,2943,87,2944,88,2945,46,3200,178,3201,107,3202,102,3203,103,3204,157,3205,18,3206,27,3211,135,3212,79,3213,89,3214,90,3215,159,3216,139,3217,136,3218,133,3221,75,3231,153,3232,154,3241,96,3242,124,3243,120,3244,122,3261,126,4101,143,4102,141,4103,142,4104,149,4105,151,5801,60,6301,144,6311,161,6312,162,6313,163,6314,164,6321,165,6322,166,6323,167,6324,168,6325,169,6326,170,6327,171,6331,56,6332,150,6341,81,6342,140,6351,109,6361,67,6362,105,6367,65,6368,66,6371,62,6373,83,6375,61,6376,73,6381,82,7101,112,7102,110,7103,113,7104,172,7105,179,7106,180,7107,194,7108,195,7111,196,7121,197,7122,198,7131,199,7188,181,7201,45,7202,200,7211,201,7212,202,7221,13,7288,203,7299,204,7601,173,7621,174,7711,114,8103,152,8105,156,0],"text-allow-overlap":!1,"text-anchor":["match",["get","vt_code"],[431,532,533,720],"top-left",[2941,2942,2943,2944,2945],"left",["case",["==",["get","arrng"],2],["case",["==",["get","vt_dsppos"],"LT"],"top-right",["==",["get","vt_dsppos"],"CT"],"right",["==",["get","vt_dsppos"],"RT"],"bottom-right",["==",["get","vt_dsppos"],"LC"],"top",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"bottom",["==",["get","vt_dsppos"],"LB"],"top-left",["==",["get","vt_dsppos"],"CB"],"left",["==",["get","vt_dsppos"],"RB"],"bottom-left","center"],["case",["==",["get","vt_dsppos"],"LT"],"top-left",["==",["get","vt_dsppos"],"CT"],"top",["==",["get","vt_dsppos"],"RT"],"top-right",["==",["get","vt_dsppos"],"LC"],"left",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"right",["==",["get","vt_dsppos"],"LB"],"bottom-left",["==",["get","vt_dsppos"],"CB"],"bottom",["==",["get","vt_dsppos"],"RB"],"bottom-right","center"]]],"text-font":["match",["get","vt_code"],[321,322,341,342,344,345,347,820,840,841,842],["literal",["Noto Sans JP Light"]],["literal",["Noto Sans JP Light"]]],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],[361,1403,7101,7102,7103,7201,7221],10,[334,730],11,[312,313,314,315,316,322,323,332,342,353,412,533,621,631,632,633,634,653,654,720,999,2941,2942,2943,2944,2945],12,[343,1402,7711],13,[311,346,347,413,422,1303],14,[210,220,321,331,352,411,421,423,431,432,441,511,521,522,523,531,532,534,611,612,613,615,651,661,662,671,672,673,681,1302],15,[130,1301,1401],16,[140,333,351],18,[110,120,341,344,345],20,[348,800,810,820,822,830,831,832,833,840,841,842,843,850,860,870,880,881,882,883,884,885,886,887,888,889,890,899],24,10],["interpolate",["linear"],["zoom"],4,["*",.6,["var","size"]],8,["var","size"],11,["match",["get","vt_code"],[1401,1402,1403],20,422,["*",.7,["var","size"]],["var","size"]],12,["var","size"],14,["var","size"],17,["match",["get","vt_code"],[412,422],["*",2,["var","size"]],["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100,"text-writing-mode":["vertical"]},paint:{"text-color":["match",["get","vt_code"],521,"rgba(0,0,255,1)",348,"rgba(175,74,24,1)",[411,412,413,421,422,423,431,432,441,860,2941,2942,2943,2944,2945],"rgba(19,97,69,1)",[7372,7711],"rgba(20,90,255,1)",7352,"rgba(200, 160, 60,1)",[2901,2903,2904],"rgba(255,255,255,1)",[321,322,341,344,345,820,840,841],"rgba(60,50,181,1)",220,"rgba(80,80,80,1)",312,"rgba(81,29,10,1)",[333,346],"rgba(96,25,134,1)",[511,522,523,531,532,534,611,612,613,614,615,621,623,631,632,633,634,641,642,651,652,653,654,661,662,671,672,673,681,720,730,870,880,881,882,883,884,885,886,887,888,889,890,899,999,3201,3202,3203,3204,3205,3206,3211,3212,3213,3214,3215,3216,3217,3218,3221,3231,3232,3241,3242,3243,3244],"rgba(50,50,50,1)","rgba(0,0,0,1)"],"text-halo-color":"rgba(255,255,255,1)","text-halo-width":1}},{id:"100",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["==",["geometry-type"],"Point"],["in",["get","vt_code"],["literal",[313,353,361,413,423,522,523,533,534,611,612,613,615,671,673,681,720,860,870,882,883,884,886,887,888,890,899,7104]]],["any",["==",["get","vt_arrng"],1],["!",["has","vt_arrng"]]]],16,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[0,1]]],["in",["get","vt_code"],["literal",[313,353,361,413,423,522,523,533,534,611,612,613,615,671,673,681,720,860,870,882,883,884,886,887,888,890,899,7104]]],["any",["==",["get","vt_arrng"],1],["!",["has","vt_arrng"]]]],17,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[1,2]]],["in",["get","vt_code"],["literal",[313,353,361,413,423,522,523,533,534,611,612,613,615,671,673,681,720,860,870,882,883,884,886,887,888,890,899,7104]]],["any",["==",["get","vt_arrng"],1],["!",["has","vt_arrng"]]]]],layout:{"symbol-sort-key":["match",["get","vt_code"],110,17,120,31,130,19,140,8,150,176,210,37,212,182,220,72,311,11,312,20,313,148,314,15,315,21,316,30,321,23,322,22,323,52,331,50,332,51,333,10,334,42,341,28,342,41,343,49,344,12,345,48,346,38,347,47,348,14,351,9,352,["match",["get","vt_text"],"",6,40],353,147,361,175,411,32,412,86,413,145,421,33,422,74,423,146,431,64,432,84,441,63,511,85,521,76,522,130,523,108,531,95,532,80,533,106,534,115,611,100,612,131,613,101,614,183,615,104,621,36,623,184,631,69,632,70,633,71,634,93,641,185,642,186,651,94,652,187,653,127,654,188,661,128,662,129,671,118,672,189,673,137,681,119,710,190,720,155,730,191,800,35,810,29,820,24,822,78,830,55,831,57,832,77,833,192,840,44,841,43,842,58,843,59,850,39,860,117,870,116,880,98,881,99,882,123,883,134,884,125,885,68,886,121,887,132,888,138,889,97,890,158,899,160,999,193,1301,["match",["get","vt_text"],"",1,["","",""],2,3],1302,["match",["get","vt_text"],"",4,5],1303,["match",["get","vt_text"],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],6,7],1401,16,1402,25,1403,26,2901,92,2902,177,2903,54,2904,53,2941,34,2942,91,2943,87,2944,88,2945,46,3200,178,3201,107,3202,102,3203,103,3204,157,3205,18,3206,27,3211,135,3212,79,3213,89,3214,90,3215,159,3216,139,3217,136,3218,133,3221,75,3231,153,3232,154,3241,96,3242,124,3243,120,3244,122,3261,126,4101,143,4102,141,4103,142,4104,149,4105,151,5801,60,6301,144,6311,161,6312,162,6313,163,6314,164,6321,165,6322,166,6323,167,6324,168,6325,169,6326,170,6327,171,6331,56,6332,150,6341,81,6342,140,6351,109,6361,67,6362,105,6367,65,6368,66,6371,62,6373,83,6375,61,6376,73,6381,82,7101,112,7102,110,7103,113,7104,172,7105,179,7106,180,7107,194,7108,195,7111,196,7121,197,7122,198,7131,199,7188,181,7201,45,7202,200,7211,201,7212,202,7221,13,7288,203,7299,204,7601,173,7621,174,7711,114,8103,152,8105,156,0],"text-allow-overlap":!1,"text-anchor":["match",["get","vt_code"],[431,532,533,720],"top-left",[2941,2942,2943,2944,2945],"left",["case",["==",["get","arrng"],2],["case",["==",["get","vt_dsppos"],"LT"],"top-right",["==",["get","vt_dsppos"],"CT"],"right",["==",["get","vt_dsppos"],"RT"],"bottom-right",["==",["get","vt_dsppos"],"LC"],"top",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"bottom",["==",["get","vt_dsppos"],"LB"],"top-left",["==",["get","vt_dsppos"],"CB"],"left",["==",["get","vt_dsppos"],"RB"],"bottom-left","center"],["case",["==",["get","vt_dsppos"],"LT"],"top-left",["==",["get","vt_dsppos"],"CT"],"top",["==",["get","vt_dsppos"],"RT"],"top-right",["==",["get","vt_dsppos"],"LC"],"left",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"right",["==",["get","vt_dsppos"],"LB"],"bottom-left",["==",["get","vt_dsppos"],"CB"],"bottom",["==",["get","vt_dsppos"],"RB"],"bottom-right","center"]]],"text-font":["match",["get","vt_code"],[321,322,341,342,344,345,347,820,840,841,842],["literal",["Noto Sans JP Light"]],["literal",["Noto Sans JP Light"]]],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],[361,1403,7101,7102,7103,7201,7221],10,[334,730],11,[312,313,314,315,316,322,323,332,342,353,412,533,621,631,632,633,634,653,654,720,999,2941,2942,2943,2944,2945],12,[343,1402,7711],13,[311,346,347,413,422,1303],14,[210,220,321,331,352,411,421,423,431,432,441,511,521,522,523,531,532,534,611,612,613,615,651,661,662,671,672,673,681,1302],15,[130,1301,1401],16,[140,333,351],18,[110,120,341,344,345],20,[348,800,810,820,822,830,831,832,833,840,841,842,843,850,860,870,880,881,882,883,884,885,886,887,888,889,890,899],24,10],["interpolate",["linear"],["zoom"],4,["*",.6,["var","size"]],8,["var","size"],11,["match",["get","vt_code"],[1401,1402,1403],20,422,["*",.7,["var","size"]],["var","size"]],12,["var","size"],14,["var","size"],17,["match",["get","vt_code"],[412,422],["*",2,["var","size"]],["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100,"text-writing-mode":["horizontal"]},paint:{"text-color":["match",["get","vt_code"],521,"rgba(0,0,255,1)",348,"rgba(175,74,24,1)",[411,412,413,421,422,423,431,432,441,860,2941,2942,2943,2944,2945],"rgba(19,97,69,1)",[7372,7711],"rgba(20,90,255,1)",7352,"rgba(200, 160, 60,1)",[2901,2903,2904],"rgba(255,255,255,1)",[321,322,341,344,345,820,840,841],"rgba(60,50,181,1)",220,"rgba(80,80,80,1)",312,"rgba(81,29,10,1)",[333,346],"rgba(96,25,134,1)",[511,522,523,531,532,534,611,612,613,614,615,621,623,631,632,633,634,641,642,651,652,653,654,661,662,671,672,673,681,720,730,870,880,881,882,883,884,885,886,887,888,889,890,899,999,3201,3202,3203,3204,3205,3206,3211,3212,3213,3214,3215,3216,3217,3218,3221,3231,3232,3241,3242,3243,3244],"rgba(50,50,50,1)","rgba(0,0,0,1)"],"text-halo-color":"rgba(255,255,255,1)","text-halo-width":1}},{id:"",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["==",["geometry-type"],"LineString"],["!",["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]]],16,["all",["==",["geometry-type"],"LineString"],["in",["get","vt_flag17"],["literal",[0,1]]],["!",["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]]],17,["all",["==",["geometry-type"],"LineString"],["in",["get","vt_flag17"],["literal",[1,2]]],["!",["in",["get","vt_code"],["literal",[2901,2903,2904,7701]]]]]],layout:{"icon-allow-overlap":!1,"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-rotation-alignment":"map","symbol-sort-key":["match",["get","vt_code"],110,17,120,31,130,19,140,8,150,176,210,37,212,182,220,72,311,11,312,20,313,148,314,15,315,21,316,30,321,23,322,22,323,52,331,50,332,51,333,10,334,42,341,28,342,41,343,49,344,12,345,48,346,38,347,47,348,14,351,9,352,["match",["get","vt_text"],"",6,40],353,147,361,175,411,32,412,86,413,145,421,33,422,74,423,146,431,64,432,84,441,63,511,85,521,76,522,130,523,108,531,95,532,80,533,106,534,115,611,100,612,131,613,101,614,183,615,104,621,36,623,184,631,69,632,70,633,71,634,93,641,185,642,186,651,94,652,187,653,127,654,188,661,128,662,129,671,118,672,189,673,137,681,119,710,190,720,155,730,191,800,35,810,29,820,24,822,78,830,55,831,57,832,77,833,192,840,44,841,43,842,58,843,59,850,39,860,117,870,116,880,98,881,99,882,123,883,134,884,125,885,68,886,121,887,132,888,138,889,97,890,158,899,160,999,193,1301,["match",["get","vt_text"],"",1,["","",""],2,3],1302,["match",["get","vt_text"],"",4,5],1303,["match",["get","vt_text"],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],6,7],1401,16,1402,25,1403,26,2901,92,2902,177,2903,54,2904,53,2941,34,2942,91,2943,87,2944,88,2945,46,3200,178,3201,107,3202,102,3203,103,3204,157,3205,18,3206,27,3211,135,3212,79,3213,89,3214,90,3215,159,3216,139,3217,136,3218,133,3221,75,3231,153,3232,154,3241,96,3242,124,3243,120,3244,122,3261,126,4101,143,4102,141,4103,142,4104,149,4105,151,5801,60,6301,144,6311,161,6312,162,6313,163,6314,164,6321,165,6322,166,6323,167,6324,168,6325,169,6326,170,6327,171,6331,56,6332,150,6341,81,6342,140,6351,109,6361,67,6362,105,6367,65,6368,66,6371,62,6373,83,6375,61,6376,73,6381,82,7101,112,7102,110,7103,113,7104,172,7105,179,7106,180,7107,194,7108,195,7111,196,7121,197,7122,198,7131,199,7188,181,7201,45,7202,200,7211,201,7212,202,7221,13,7288,203,7299,204,7601,173,7621,174,7711,114,8103,152,8105,156,0],"text-allow-overlap":!1,"text-font":["match",["get","vt_code"],[321,322,341,342,344,345,347,820,840,841,842],["literal",["Noto Sans JP Light"]],["literal",["Noto Sans JP Light"]]],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],[361,1403,7101,7102,7103,7201,7221],10,[334,730],11,[312,313,314,315,316,322,323,332,342,353,412,521,533,621,631,632,633,634,653,654,720,999,2941,2942,2943,2944,2945],12,[343,1402,7711],13,[311,346,347,413,422,1303],14,[210,220,321,331,352,411,421,423,431,432,441,511,522,523,531,532,534,611,612,613,615,651,661,662,671,672,673,681,1302],15,[130,1301,1401],16,[140,333,351],18,[110,120,341,344,345],20,[348,800,810,820,822,830,831,832,833,840,841,842,843,850,860,870,880,881,882,883,884,885,886,887,888,889,890,899],24,10],["interpolate",["linear"],["zoom"],4,["*",.6,["var","size"]],8,["var","size"],11,["match",["get","vt_code"],[1401,1402,1403],20,[422,531],["*",.7,["var","size"]],["var","size"]],12,["var","size"],14,["var","size"],17,["match",["get","vt_code"],[412,422],["*",2,["var","size"]],["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100,"text-radial-offset":.5,"text-variable-anchor":["center"],"text-writing-mode":["horizontal","vertical"]},paint:{"text-color":["match",["get","vt_code"],521,"rgba(0,0,255,1)",348,"rgba(175,74,24,1)",[411,412,413,421,422,423,431,432,441,860,2941,2942,2943,2944,2945],"rgba(19,97,69,1)",[7372,7711],"rgba(20,90,255,1)",7352,"rgba(200, 160, 60,1)",[2901,2903,2904],"rgba(255,255,255,1)",[321,322,341,344,345,820,840,841],"rgba(60,50,181,1)",220,"rgba(80,80,80,1)",312,"rgba(81,29,10,1)",[333,346],"rgba(96,25,134,1)",[511,522,523,531,532,534,611,612,613,614,615,621,623,631,632,633,634,641,642,651,652,653,654,661,662,671,672,673,681,720,730,870,880,881,882,883,884,885,886,887,888,889,890,899,999,3201,3202,3203,3204,3205,3206,3211,3212,3213,3214,3215,3216,3217,3218,3221,3231,3232,3241,3242,3243,3244],"rgba(50,50,50,1)","rgba(0,0,0,1)"],"text-halo-color":"rgba(255,255,255,1)","text-halo-width":1}},{id:"100",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["!=",["get","vt_text"],""],["==",["geometry-type"],"Point"],["in",["get","vt_code"],["literal",[110,120,130,140,210,220,311,312,314,315,316,321,322,323,331,332,333,334,341,342,343,344,345,346,347,348,351,352,411,412,421,422,431,432,441,511,521,531,532,634,651,800,810,820,822,830,831,832,840,841,842,843,850,880,881,885,889,2943,2944]]],["==",["get","vt_arrng"],2]],16,["all",["!=",["get","vt_text"],""],["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[0,1]]],["in",["get","vt_code"],["literal",[110,120,130,140,210,220,311,312,314,315,316,321,322,323,331,332,333,334,341,342,343,344,345,346,347,348,351,352,411,412,421,422,431,432,441,511,521,531,532,634,651,800,810,820,822,830,831,832,840,841,842,843,850,880,881,885,889,2943,2944]]],["==",["get","vt_arrng"],2]],17,["all",["!=",["get","vt_text"],""],["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[1,2]]],["in",["get","vt_code"],["literal",[110,120,130,140,210,220,311,312,314,315,316,321,322,323,331,332,333,334,341,342,343,344,345,346,347,348,351,352,411,412,421,422,431,432,441,511,521,531,532,634,651,800,810,820,822,830,831,832,840,841,842,843,850,880,881,885,889,2943,2944]]],["==",["get","vt_arrng"],2]]],layout:{"symbol-sort-key":["match",["get","vt_code"],110,17,120,31,130,19,140,8,150,176,210,37,212,182,220,72,311,11,312,20,313,148,314,15,315,21,316,30,321,23,322,22,323,52,331,50,332,51,333,10,334,42,341,28,342,41,343,49,344,12,345,48,346,38,347,47,348,14,351,9,352,["match",["get","vt_text"],"",6,40],353,147,361,175,411,32,412,86,413,145,421,33,422,74,423,146,431,64,432,84,441,63,511,85,521,76,522,130,523,108,531,95,532,80,533,106,534,115,611,100,612,131,613,101,614,183,615,104,621,36,623,184,631,69,632,70,633,71,634,93,641,185,642,186,651,94,652,187,653,127,654,188,661,128,662,129,671,118,672,189,673,137,681,119,710,190,720,155,730,191,800,35,810,29,820,24,822,78,830,55,831,57,832,77,833,192,840,44,841,43,842,58,843,59,850,39,860,117,870,116,880,98,881,99,882,123,883,134,884,125,885,68,886,121,887,132,888,138,889,97,890,158,899,160,999,193,1301,["match",["get","vt_text"],"",1,["","",""],2,3],1302,["match",["get","vt_text"],"",4,5],1303,["match",["get","vt_text"],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],6,7],1401,16,1402,25,1403,26,2901,92,2902,177,2903,54,2904,53,2941,34,2942,91,2943,87,2944,88,2945,46,3200,178,3201,107,3202,102,3203,103,3204,157,3205,18,3206,27,3211,135,3212,79,3213,89,3214,90,3215,159,3216,139,3217,136,3218,133,3221,75,3231,153,3232,154,3241,96,3242,124,3243,120,3244,122,3261,126,4101,143,4102,141,4103,142,4104,149,4105,151,5801,60,6301,144,6311,161,6312,162,6313,163,6314,164,6321,165,6322,166,6323,167,6324,168,6325,169,6326,170,6327,171,6331,56,6332,150,6341,81,6342,140,6351,109,6361,67,6362,105,6367,65,6368,66,6371,62,6373,83,6375,61,6376,73,6381,82,7101,112,7102,110,7103,113,7104,172,7105,179,7106,180,7107,194,7108,195,7111,196,7121,197,7122,198,7131,199,7188,181,7201,45,7202,200,7211,201,7212,202,7221,13,7288,203,7299,204,7601,173,7621,174,7711,114,8103,152,8105,156,0],"text-allow-overlap":!1,"text-anchor":["match",["get","vt_code"],[431,532,533,720],"top-left",[2941,2942,2943,2944,2945],"left",["case",["==",["get","arrng"],2],["case",["==",["get","vt_dsppos"],"LT"],"top-right",["==",["get","vt_dsppos"],"CT"],"right",["==",["get","vt_dsppos"],"RT"],"bottom-right",["==",["get","vt_dsppos"],"LC"],"top",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"bottom",["==",["get","vt_dsppos"],"LB"],"top-left",["==",["get","vt_dsppos"],"CB"],"left",["==",["get","vt_dsppos"],"RB"],"bottom-left","center"],["case",["==",["get","vt_dsppos"],"LT"],"top-left",["==",["get","vt_dsppos"],"CT"],"top",["==",["get","vt_dsppos"],"RT"],"top-right",["==",["get","vt_dsppos"],"LC"],"left",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"right",["==",["get","vt_dsppos"],"LB"],"bottom-left",["==",["get","vt_dsppos"],"CB"],"bottom",["==",["get","vt_dsppos"],"RB"],"bottom-right","center"]]],"text-font":["match",["get","vt_code"],[321,322,341,342,344,345,347,820,840,841,842],["literal",["Noto Sans JP Light"]],["literal",["Noto Sans JP Light"]]],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],[361,1403,7101,7102,7103,7201,7221],10,[334,730],11,[312,313,314,315,316,322,323,332,342,353,412,521,533,621,631,632,633,634,653,654,720,999,2941,2942,2943,2944,2945],12,[343,1402,7711],13,[311,346,347,413,422,1303],14,[210,220,321,331,352,411,421,423,431,432,441,511,522,523,531,532,534,611,612,613,615,651,661,662,671,672,673,681,1302],15,[130,1301,1401],16,[140,333,351],18,[110,120,341,344,345],20,[348,800,810,820,822,830,831,832,833,840,841,842,843,850,860,870,880,881,882,883,884,885,886,887,888,889,890,899],24,10],["interpolate",["linear"],["zoom"],4,["*",.6,["var","size"]],8,["match",["get","vt_code"],[343,352],["*",.9,["var","size"]],["var","size"]],11,["match",["get","vt_code"],[1401,1402,1403],20,[422,531],["*",.7,["var","size"]],["var","size"]],12,["var","size"],14,["match",["get","vt_code"],[412],["*",1.3,["var","size"]],["var","size"]],17,["match",["get","vt_code"],[412,422],["*",2,["var","size"]],["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100,"text-writing-mode":["vertical"]},paint:{"text-color":["match",["get","vt_code"],521,"rgba(0,0,255,1)",348,"rgba(175,74,24,1)",[411,412,413,421,422,423,431,432,441,860,2941,2942,2943,2944,2945],"rgba(19,97,69,1)",[7372,7711],"rgba(20,90,255,1)",7352,"rgba(200, 160, 60,1)",[2901,2903,2904],"rgba(255,255,255,1)",[321,322,341,344,345,820,840,841],"rgba(60,50,181,1)",220,"rgba(80,80,80,1)",312,"rgba(81,29,10,1)",[333,346],"rgba(96,25,134,1)",[511,522,523,531,532,534,611,612,613,614,615,621,623,631,632,633,634,641,642,651,652,653,654,661,662,671,672,673,681,720,730,870,880,881,882,883,884,885,886,887,888,889,890,899,999,3201,3202,3203,3204,3205,3206,3211,3212,3213,3214,3215,3216,3217,3218,3221,3231,3232,3241,3242,3243,3244],"rgba(50,50,50,1)","rgba(0,0,0,1)"],"text-halo-color":"rgba(255,255,255,1)","text-halo-width":1}},{id:"100",type:"symbol",source:"v","source-layer":"Anno",filter:["step",["zoom"],["all",["==",["geometry-type"],"Point"],["in",["get","vt_code"],["literal",[110,120,130,140,210,220,311,312,314,315,316,321,322,323,331,332,333,334,341,342,343,344,345,346,347,348,351,352,411,412,421,422,431,432,441,511,521,531,532,634,651,800,810,820,822,830,831,832,840,841,842,843,850,880,881,885,889,2943,2944]]],["any",["==",["get","vt_arrng"],1],["!",["has","vt_arrng"]]]],16,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[0,1]]],["in",["get","vt_code"],["literal",[110,120,130,140,210,220,311,312,314,315,316,321,322,323,331,332,333,334,341,342,343,344,345,346,347,348,351,352,411,412,421,422,431,432,441,511,521,531,532,634,651,800,810,820,822,830,831,832,840,841,842,843,850,880,881,885,889,2943,2944]]],["any",["==",["get","vt_arrng"],1],["!",["has","vt_arrng"]]]],17,["all",["==",["geometry-type"],"Point"],["in",["get","vt_flag17"],["literal",[1,2]]],["in",["get","vt_code"],["literal",[110,120,130,140,210,220,311,312,314,315,316,321,322,323,331,332,333,334,341,342,343,344,345,346,347,348,351,352,411,412,421,422,431,432,441,511,521,531,532,634,651,800,810,820,822,830,831,832,840,841,842,843,850,880,881,885,889,2943,2944]]],["any",["==",["get","vt_arrng"],1],["!",["has","vt_arrng"]]]]],layout:{"symbol-sort-key":["match",["get","vt_code"],110,17,120,31,130,19,140,8,150,176,210,37,212,182,220,72,311,11,312,20,313,148,314,15,315,21,316,30,321,23,322,22,323,52,331,50,332,51,333,10,334,42,341,28,342,41,343,49,344,12,345,48,346,38,347,47,348,14,351,9,352,["match",["get","vt_text"],"",6,40],353,147,361,175,411,32,412,86,413,145,421,33,422,74,423,146,431,64,432,84,441,63,511,85,521,76,522,130,523,108,531,95,532,80,533,106,534,115,611,100,612,131,613,101,614,183,615,104,621,36,623,184,631,69,632,70,633,71,634,93,641,185,642,186,651,94,652,187,653,127,654,188,661,128,662,129,671,118,672,189,673,137,681,119,710,190,720,155,730,191,800,35,810,29,820,24,822,78,830,55,831,57,832,77,833,192,840,44,841,43,842,58,843,59,850,39,860,117,870,116,880,98,881,99,882,123,883,134,884,125,885,68,886,121,887,132,888,138,889,97,890,158,899,160,999,193,1301,["match",["get","vt_text"],"",1,["","",""],2,3],1302,["match",["get","vt_text"],"",4,5],1303,["match",["get","vt_text"],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],6,7],1401,16,1402,25,1403,26,2901,92,2902,177,2903,54,2904,53,2941,34,2942,91,2943,87,2944,88,2945,46,3200,178,3201,107,3202,102,3203,103,3204,157,3205,18,3206,27,3211,135,3212,79,3213,89,3214,90,3215,159,3216,139,3217,136,3218,133,3221,75,3231,153,3232,154,3241,96,3242,124,3243,120,3244,122,3261,126,4101,143,4102,141,4103,142,4104,149,4105,151,5801,60,6301,144,6311,161,6312,162,6313,163,6314,164,6321,165,6322,166,6323,167,6324,168,6325,169,6326,170,6327,171,6331,56,6332,150,6341,81,6342,140,6351,109,6361,67,6362,105,6367,65,6368,66,6371,62,6373,83,6375,61,6376,73,6381,82,7101,112,7102,110,7103,113,7104,172,7105,179,7106,180,7107,194,7108,195,7111,196,7121,197,7122,198,7131,199,7188,181,7201,45,7202,200,7211,201,7212,202,7221,13,7288,203,7299,204,7601,173,7621,174,7711,114,8103,152,8105,156,0],"text-allow-overlap":!1,"text-anchor":["match",["get","vt_code"],[431,532,533,720],"top-left",[2941,2942,2943,2944,2945],"left",["case",["==",["get","arrng"],2],["case",["==",["get","vt_dsppos"],"LT"],"top-right",["==",["get","vt_dsppos"],"CT"],"right",["==",["get","vt_dsppos"],"RT"],"bottom-right",["==",["get","vt_dsppos"],"LC"],"top",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"bottom",["==",["get","vt_dsppos"],"LB"],"top-left",["==",["get","vt_dsppos"],"CB"],"left",["==",["get","vt_dsppos"],"RB"],"bottom-left","center"],["case",["==",["get","vt_dsppos"],"LT"],"top-left",["==",["get","vt_dsppos"],"CT"],"top",["==",["get","vt_dsppos"],"RT"],"top-right",["==",["get","vt_dsppos"],"LC"],"left",["==",["get","vt_dsppos"],"CC"],"center",["==",["get","vt_dsppos"],"RC"],"right",["==",["get","vt_dsppos"],"LB"],"bottom-left",["==",["get","vt_dsppos"],"CB"],"bottom",["==",["get","vt_dsppos"],"RB"],"bottom-right","center"]]],"text-font":["match",["get","vt_code"],[321,322,341,342,344,345,347,820,840,841,842],["literal",["Noto Sans JP Light"]],["literal",["Noto Sans JP Light"]]],"text-justify":"auto","text-size":["let","size",["match",["get","vt_code"],[361,1403,7101,7102,7103,7201,7221],10,[334,730],11,[312,313,314,315,316,322,323,332,342,353,412,521,533,621,631,632,633,634,653,654,720,999,2941,2942,2943,2944,2945],12,[343,1402,7711],13,[311,346,347,413,422,1303],14,[210,220,321,331,352,411,421,423,431,432,441,511,522,523,531,532,534,611,612,613,615,651,661,662,671,672,673,681,1302],15,[130,1301,1401],16,[140,333,351],18,[110,120,341,344,345],20,[348,800,810,820,822,830,831,832,833,840,841,842,843,850,860,870,880,881,882,883,884,885,886,887,888,889,890,899],24,10],["interpolate",["linear"],["zoom"],4,["*",.6,["var","size"]],8,["match",["get","vt_code"],[343,352],["*",.9,["var","size"]],["var","size"]],11,["match",["get","vt_code"],[1401,1402,1403],20,[422,531],["*",.7,["var","size"]],["var","size"]],12,["var","size"],14,["match",["get","vt_code"],[412],["*",1.3,["var","size"]],["var","size"]],17,["match",["get","vt_code"],[412,422],["*",2,["var","size"]],["var","size"]]]],"text-field":["get","vt_text"],"text-max-width":100,"text-writing-mode":["horizontal"]},paint:{"text-color":["match",["get","vt_code"],521,"rgba(0,0,255,1)",348,"rgba(175,74,24,1)",[411,412,413,421,422,423,431,432,441,860,2941,2942,2943,2944,2945],"rgba(19,97,69,1)",[7372,7711],"rgba(20,90,255,1)",7352,"rgba(200, 160, 60,1)",[2901,2903,2904],"rgba(255,255,255,1)",[321,322,341,344,345,820,840,841],"rgba(60,50,181,1)",220,"rgba(80,80,80,1)",312,"rgba(81,29,10,1)",[333,346],"rgba(96,25,134,1)",[511,522,523,531,532,534,611,612,613,614,615,621,623,631,632,633,634,641,642,651,652,653,654,661,662,671,672,673,681,720,730,870,880,881,882,883,884,885,886,887,888,889,890,899,999,3201,3202,3203,3204,3205,3206,3211,3212,3213,3214,3215,3216,3217,3218,3221,3231,3232,3241,3242,3243,3244],"rgba(50,50,50,1)","rgba(0,0,0,1)"],"text-halo-color":"rgba(255,255,255,1)","text-halo-width":1}}],sx={sources:zP,layers:ZP},HP=()=>sx.sources,OP=()=>sx.layers.filter(t=>t.type==="symbol"),ox=Qg.map(t=>t.id),XP=t=>{if(!ox.includes(t))throw new Error(`Invalid ID: ${t}`)};w7.forEach(t=>{try{XP(t)}catch(e){e instanceof Error&&(console.warn(`id: ${t}`),console.warn("id: ",ox.join(", ")),console.error(e.message))}});const VP={"fill-opacity":.4,"fill-color":Yh,"fill-outline-color":"#ffffff"},GP={"line-color":Yh,"line-opacity":1,"line-width":5},jP={"circle-color":Yh,"circle-radius":10,"circle-stroke-width":5,"circle-stroke-color":"#ffffff"},KP={"text-color":Yh,"text-halo-color":"#FFFFFF","text-halo-width":10,"text-opacity":1},$P=t=>{if(!t)return;const e=t.layerEntry,{format:a,style:n,metaData:c,properties:f,interaction:h,type:s}=e;if(e.type==="raster")return;const x=`@highlight_${e.id}`,w=`${e.id}_source`,I={id:x,source:w,maxzoom:24,minzoom:0};let R;if(s==="vector"){if((a.type==="mvt"||a.type==="pmtiles")&&"sourceLayer"in c&&(I["source-layer"]=c.sourceLayer),R=Ax(I,n),!R)return;switch(R.type){case"fill":R.paint=VP;break;case"line":R.paint=GP;break;case"circle":R.paint=jP;break;case"symbol":R.paint=KP;break}R.filter=["==",["id"],t.featureId]}return R},qP=t=>{const a=["match",["get",t.key]],{categories:n,values:c}=t.mapping;if(n.length!==c.length)return console.warn(""),"#ff0000";for(let f=0;f<n.length;f++)a.push(n[f],c[f]);return a.push("#00000000"),a},WP=t=>{const e=t.key,a=["step",["case",["==",["get",e],null],-9999,["!=",["to-number",["get",e],-9999],-9999],["to-number",["get",e],-9999],-9999]],{categories:n,values:c}=kg(t.mapping);return n.length!==c.length?(console.warn(""),"#ff0000"):(a.push("#00000000"),n.forEach((f,h)=>{a.push(f,c[h])}),a)},sp=t=>{const e=t.key,a=t.expressions.find(n=>n.key===e);if(!a)return console.warn(`: ${e}`),"#ff0000";switch(a.type){case"single":return a.mapping.value;case"match":return qP(a);case"step":return WP(a);default:return console.warn(`: ${e}`),"#ff0000"}},JP=t=>{const a=["match",["get",t.key]],{categories:n,values:c}=t.mapping;if(n.length!==c.length)return console.warn(""),0;for(let f=0;f<n.length;f++)a.push(n[f],c[f]);return a.push(0),a},eQ=t=>{const e=t.key,a=["step",["case",["==",["get",e],null],-9999,["!=",["to-number",["get",e],-9999],-9999],["to-number",["get",e],-9999],-9999]],{categories:n,values:c}=kg(t.mapping);return n.length!==c.length?(console.warn(""),0):(a.push(0),n.forEach((f,h)=>{a.push(f,c[h])}),a)},tQ=t=>{const{key:e,mapping:a}=t,[n,c]=a.range,[f,h]=a.values;return["interpolate",["linear"],["get",e],n,f,c,h]},lx=t=>{const e=t.key,a=t.expressions.find(n=>n.key===e);if(!a)return console.warn(`: ${e}`),0;switch(a.type){case"single":return a.mapping.value;case"match":return JP(a);case"linear":return tQ(a);case"step":return eQ(a);default:return console.warn(`: ${e}`),0}},b4=t=>["case",["boolean",["feature-state","selected"],!1],Yh,t],iQ=t=>["case",["boolean",["feature-state","selected"],!1],.8,t],aQ=(t,e)=>{const a=e.default,n=sp(e.colors),c=b4(n),f=iQ(e.opacity);return{...t,type:"fill",paint:{"fill-opacity":f,"fill-outline-color":"#00000000","fill-color":e.colors.show?c:"#00000000",...a&&a.fill?a.fill.paint:{}},layout:{...a&&a.fill?a.fill.layout:{}}}},rQ=(t,e)=>{const a=e.default,n=sp(e.colors),c=b4(n),f=lx(e.width);return{...t,type:"line",paint:{"line-opacity":e.colors.show?e.opacity:0,"line-color":e.colors.show?c:"#00000000","line-width":f,...e.lineStyle==="dashed"&&{"line-dasharray":[2,2]},...a&&a.line?a.line.paint:{}},layout:{...a&&a.line?a.line.layout:{}}}},nQ=(t,e,a)=>({...t,id:`${t.id}_outline`,type:"line",paint:{"line-color":e.color,"line-width":e.width,"line-opacity":a,...e.lineStyle==="dashed"&&{"line-dasharray":[2,2]}}}),sQ=(t,e)=>{const a=e.outline,n=e.default,c=sp(e.colors),f=b4(c),h=lx(e.radius);return{...t,type:"circle",paint:{"circle-opacity":e.colors.show?e.opacity:0,"circle-stroke-opacity":e.opacity,"circle-color":e.colors.show?f:"#00000000","circle-radius":h,"circle-stroke-color":a.show?e.outline.color:"#00000000","circle-stroke-width":a.show?e.outline.width:0,...n&&n.circle?n.circle.paint:{}},layout:{...n&&n.circle?n.circle.layout:{}}}},oQ=(t,e)=>{var h;const a=e.default,n=sp(e.colors),c=e.labels.key;return{...t,id:`${t.id}`,type:"symbol",paint:{"text-opacity":e.opacity,"icon-opacity":e.opacity,"text-color":n,"text-halo-color":"#FFFFFF","text-halo-width":2,...a&&a.symbol?a.symbol.paint:{}},layout:{"text-field":((h=e.labels.expressions.find(s=>s.key===c))==null?void 0:h.value)??"","text-size":12,"text-max-width":12,"text-font":["Noto Sans JP Light"],...a&&a.symbol?a.symbol.layout:{}}}},lQ=(t,e)=>{var w,I;const a=e.default,n=e.labels.key,c=e.labels.show,f=((w=e.labels.expressions.find(R=>R.key===n))==null?void 0:w.value)??"",h={"text-opacity":1,"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":2},s={"text-field":f,"text-size":12,"text-max-width":12,"text-font":["Noto Sans JP Light"]};return{...t,id:`${t.id}`,type:"symbol",paint:{...c?h:{},...c&&a&&a.symbol?a.symbol.paint:{},"icon-opacity":e.opacity},layout:{...c?s:{},...c&&a&&a.symbol?a.symbol.layout:{},"icon-image":["get","_prop_id"],"icon-size":((I=e.icon)==null?void 0:I.size)??.1,"icon-anchor":"bottom"}}},AQ=(t,e)=>{var f;const a=e.default,n=e.labels.key;return{...t,id:`${t.id}_label`,type:"symbol",paint:{"text-opacity":1,"icon-opacity":1,"text-color":"#000000","text-halo-color":"#FFFFFF","text-halo-width":2,...a?a.symbol.paint:{}},layout:{"text-field":((f=e.labels.expressions.find(h=>h.key===n))==null?void 0:f.value)??"","text-size":12,"text-max-width":12,"text-font":["Noto Sans JP Light"],...a?a.symbol.layout:{}}}},Ax=(t,e)=>{var a;switch(e.type){case"fill":return aQ(t,e);case"line":return rQ(t,e);case"circle":switch(e.markerType){case"icon":return(a=e.icon)!=null&&a.show?lQ(t,e):void 0;case"circle":return sQ(t,e);default:console.warn(` style.markerType: ${e.markerType} layer.id: ${t.id}`);return}case"symbol":return oQ(t,e);default:console.warn(`style.type: ${t.id}`);return}},bv=(t,e="main")=>{const a=[],n=[],c=[],f=[];qd.clear(),t.filter(s=>s.style.visible).reverse().forEach(s=>{var O;const x=e==="preview"?`${s.id}_${e}`:`${s.id}`,w=`${s.id}_${e}_source`,{format:I,style:R,metaData:E,interaction:M,type:Y}=s,D={id:x,source:w,maxzoom:24,minzoom:0,metadata:{name:E.name,location:E.location,titles:s.type==="vector"?s.properties.titles:null}};switch(Y){case"raster":{M.clickable&&f.push(x),R.type==="basemap"?a.push({...D,type:"raster",paint:{"raster-opacity":R.opacity,"raster-hue-rotate":R.hueRotate,"raster-brightness-max":R.brightnessMax,"raster-brightness-min":R.brightnessMin,"raster-saturation":R.saturation,"raster-contrast":R.contrast}}):R.type==="categorical"?a.push({...D,type:"raster",paint:{"raster-opacity":R.opacity}}):R.type==="dem"&&a.push({...D,type:"raster",paint:{"raster-opacity":R.opacity}});break}case"vector":{M.clickable&&(c.push(x),"sourceLayer"in E?qd.set(x,{source:w,sourceLayer:E.sourceLayer}):qd.set(x,{source:w})),(I.type==="mvt"||I.type==="pmtiles")&&"sourceLayer"in E&&(D["source-layer"]=E.sourceLayer);const H=Ax(D,R);if(H&&a.push(H),R.type==="fill"&&R.outline.show){const $=nQ(D,R.outline,R.opacity);a.push($)}if(R.labels.show&&!(R.type==="circle"&&R.markerType==="icon"&&((O=R.icon)!=null&&O.show))){const $=AQ(D,R);n.push($)}break}default:console.warn(`type: ${x}`);break}}),m6.set(c),B7.set(f);const h=Ho(r0)&&e==="main"?OP():[];return[...a,...h,...n]},cQ=t=>t.includes("{-y}")?"tms":"xyz",yv=async(t,e="main")=>{const a=await Promise.all(t.map(async(s,x)=>{const w={},I=`${s.id}_${e}_source`,{metaData:R,format:E,type:M,style:Y}=s;switch(M){case"raster":{E.type==="image"?Y.type==="dem"?w[I]={type:"raster",tiles:[`webgl://${E.url}?x={x}&y={y}&z={z}`],maxzoom:R.maxZoom,minzoom:R.minZoom,tileSize:R.tileSize,attribution:R.attribution,bounds:R.bounds??[-180,-85.051129,180,85.051129]}:w[I]={type:"raster",tiles:[E.url],maxzoom:R.maxZoom,minzoom:R.minZoom,scheme:cQ(E.url),tileSize:R.tileSize,attribution:R.attribution,bounds:R.bounds??[-180,-85.051129,180,85.051129]}:E.type==="pmtiles"&&(w[I]={type:"raster",url:`pmtiles://${E.url}`,maxzoom:R.maxZoom,minzoom:"minZoom"in R?R.minZoom:void 0,tileSize:R.tileSize,attribution:R.attribution,bounds:R.bounds??[-180,-85.051129,180,85.051129]});break}case"vector":{if(E.type==="geojson"||E.type==="fgb"){let D="";Po.has(s.id)?D=Po.get(s.id):E.type==="fgb"?(D=await ng(E.url),Po.set(s.id,D)):E.type==="geojson"&&(D=await _6(E.url),Po.set(s.id,D)),w[I]={type:"geojson",data:D,generateId:!0,maxzoom:R.maxZoom,attribution:R.attribution}}else E.type==="mvt"?w[I]={type:"vector",tiles:[E.url],maxzoom:R.maxZoom,minzoom:"minZoom"in R?R.minZoom:void 0,promoteId:"promoteId"in R?R.promoteId:void 0,attribution:R.attribution,bounds:R.bounds??[-180,-85.051129,180,85.051129]}:E.type==="pmtiles"&&(w[I]={type:"vector",url:`pmtiles://${E.url}`,maxzoom:R.maxZoom,minzoom:"minZoom"in R?R.minZoom:void 0,promoteId:"promoteId"in R?R.promoteId:void 0,attribution:R.attribution,bounds:R.bounds??[-180,-85.051129,180,85.051129]});break}default:console.warn(`Unknown layer: ${I}`);break}return{index:x,items:w}})),n=new Set,c=a.sort((s,x)=>s.index-x.index).map(s=>{const x=Object.keys(s.items)[0],I=s.items[x].attribution;return n.add(I),s.items}),f=Object.assign({},...c);n.size>0&&p6.set(Array.from(n));const h=Ho(r0)&&e==="main"?HP():{};return{...f,...h}};var hQ=ft("<!> <!> <!> <!> <!>",1),uQ=ft('<div role="region" class="relative h-full w-full"><div></div> <!> <!> <!> <!></div> <!>',1);function dQ(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(Yl,"$isTerrain3d",a),f=()=>zi(QA,"$mapMode",a),h=()=>zi(Pl,"$isStreetView",a);let s=si(e,"layerEntries",15),x=si(e,"tempLayerEntries",15),w=si(e,"showDataEntry",15),I=si(e,"featureMenuData",15),R=si(e,"showSelectionMarker",15),E=si(e,"selectionMarkerLngLat",15),M=$t(null),Y=$t(null),D=$t(Jr([])),O=null,H=$t(!1),$=$t(null),Ae=$t(null),ce=$t(!1),he=$t(null),se=$t(Jr([]));const ae=[136.91278,35.543576,136.92986,35.556704];Jr({type:"canvas",canvas:"canvas-layer",coordinates:[[ae[0],ae[3]],[ae[2],ae[3]],[ae[2],ae[1]],[ae[0],ae[1]]]});const V=async Qe=>{const it=await yv(Qe),rt=await bv(Qe);let Bt=w()?await yv([w()],"preview"):{};w()&&(Bt={...Bt,tile_grid:{type:"raster",tiles:["/tile_grid.png"],tileSize:256}});let yt=w()?await bv([w()],"preview"):[];w()&&(yt=[{id:"tile_grid",type:"raster",source:"tile_grid",paint:{"raster-opacity":.5}},...yt]);const Dt={source:"terrain",exaggeration:1};return{version:8,glyphs:b6,sprite:"https://gsi-cyberjapan.github.io/optimal_bvmap/sprite/std",sources:{terrain:{type:"raster-dem",tiles:[`terrain://${dr.url}?x={x}&y={y}&z={z}`],tileSize:256,minzoom:dr.sourceMinZoom,maxzoom:dr.sourceMaxZoom,attribution:dr.attribution,bounds:dr.bbox},...vP,...it,tile_index:{type:"vector",maxzoom:22,tiles:["tile_index://http://{z}/{x}/{y}.png?x={x}&y={y}&z={z}"]},...Bt},layers:[...rt,{id:"@overlay_layer",type:"background",paint:{"background-color":"#000000","background-opacity":w()?.7:0}},...yt,xP,wP],sky:{"sky-color":"#2baeff","sky-horizon-blend":.5,"horizon-color":"#ffffff","horizon-fog-blend":.5,"fog-color":"#2222ff","fog-ground-blend":.5,"atmosphere-blend":["interpolate",["linear"],["zoom"],0,1,10,1,12,0]},terrain:c()?Dt:void 0}};eg.subscribe(Qe=>{const it=s().filter(rt=>Qe.includes(rt.id));s(it.sort((rt,Bt)=>Qe.indexOf(rt.id)-Qe.indexOf(Bt.id)))}),Mr(async()=>{if(!s())return;const Qe=await V(s());!Qe||!q(M)||da.init(q(M),Qe)});const J=F6(async Qe=>{const it=await V(Qe);da.setStyle(it),da.terrainReload()},100);Cr(()=>{const Qe=Z7(s());J(Qe)}),Cr(()=>{w(),J(s())}),r0.subscribe(()=>{J(s())});const ge=(Qe,it)=>{if(q(Y)){if(!Qe||!it){st(H,!1);return}Qe&&(st($,Qe.lngLat,!0),st(Ae,it,!0),st(H,!0))}};Cr(()=>{I()||R(!1)});const le=()=>{const Qe=da.getMap();if(!Qe)return;Qe.getLayersOrder().forEach(rt=>{rt.startsWith("@highlight_")&&Qe.removeLayer(rt)})};Cr(()=>{if(q(se)){const Qe=da.getMap();if(!Qe)return;q(se).forEach(({layerEntry:it,feature:rt,featureId:Bt})=>{const yt=$P({layerEntry:it,featureId:Bt});yt&&Qe.addLayer(yt)})}else le()}),da.onInitialized(Qe=>{st(Y,Qe,!0)});const _e=Qe=>{Qe.preventDefault(),st(ce,!0)},ve=Qe=>{Qe.preventDefault(),st(ce,!1)},He=async Qe=>{Qe.preventDefault(),st(ce,!1);const it=Qe.dataTransfer;if(!it)return;const rt=it.files;if(!rt||rt.length===0)return;const Bt=rt[0];st(he,Bt,!0)};var nt=uQ(),$e=kt(nt),Je=Le($e);wn(Je,Qe=>st(M,Qe),()=>q(M));var gt=Ze(Je,2);gP(gt);var Rt=Ze(gt,2);yP(Rt,{});var Yt=Ze(Rt,2);PP(Yt,{get layerEntries(){return s()},get clickedLngLat(){return O},get clickedLayerIds(){return q(D)},set clickedLayerIds(Qe){st(D,Qe,!0)},get featureMenuData(){return I()},set featureMenuData(Qe){I(Qe)},get clickedLayerFeaturesData(){return q(se)},set clickedLayerFeaturesData(Qe){st(se,Qe,!0)}});var ot=Ze(Yt,2);rP(ot),Ue($e);var mt=Ze($e,2);{var je=Qe=>{var it=hQ(),rt=kt(it);uP(rt,{get map(){return q(Y)},get isDragover(){return q(ce)},set isDragover(Ct){st(ce,Ct,!0)},get dropFile(){return q(he)},set dropFile(Ct){st(he,Ct,!0)},get tempLayerEntries(){return x()},set tempLayerEntries(Ct){x(Ct)},get showDataEntry(){return w()},set showDataEntry(Ct){w(Ct)}});var Bt=Ze(rt,2);CP(Bt,{get map(){return q(Y)}});var yt=Ze(Bt,2);UP(yt,{get map(){return q(Y)},get showDataEntry(){return w()},get layerEntries(){return s()},toggleTooltip:ge,get markerLngLat(){return E()},set markerLngLat(Ct){E(Ct)},get featureMenuData(){return I()},set featureMenuData(Ct){I(Ct)},get showMarker(){return R()},set showMarker(Ct){R(Ct)},get clickedLayerIds(){return q(D)},set clickedLayerIds(Ct){st(D,Ct,!0)}});var Dt=Ze(yt,2);xb(Dt,E,Ct=>{RP(Ct,{get map(){return q(Y)},get show(){return R()},set show(Qt){R(Qt)},get lngLat(){return E()},set lngLat(Qt){E(Qt)}})});var Ot=Ze(Dt,2);xb(Ot,()=>q(H),Ct=>{DP(Ct,{get map(){return q(Y)},get feature(){return q(Ae)},get show(){return q(H)},set show(Qt){st(H,Qt,!0)},get lngLat(){return q($)},set lngLat(Qt){st($,Qt,!0)}})}),Ve(Qe,it)};It(mt,Qe=>{q(Y)&&Qe(je)})}di(()=>Pr(Je,1,`c-map-satellite absolute grow bg-black transition-opacity duration-500 ${(!e.showMapCanvas&&f()==="view"?"pointer-events-none bottom-0 left-0 h-full w-full opacity-0":h()&&f()==="small"?"bottom-2 left-2 z-20 h-[200px] w-[300px] overflow-hidden rounded-md border-4 border-white bg-white":"bottom-0 left-0 h-full w-full opacity-100")??""}`,"svelte-1rq0kpq")),fr("drop",$e,He),fr("dragover",$e,_e),fr("dragleave",$e,ve),Ve(t,nt),_i(),n()}var fQ=ft("<div> </div>");function gQ(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(Q1,"$notificationMessage",a);let f,h=$t("");Q1.subscribe(I=>{I&&!I.persistent&&(clearTimeout(f),f=setTimeout(()=>{Q1.set(null)},3e3)),st(h,(I==null?void 0:I.type)==="error"?"bg-red-500 text-base":(I==null?void 0:I.type)==="success"?"bg-accent text-base":(I==null?void 0:I.type)==="info"?"bg-main text-base":"",!0)}),Mr(()=>()=>{clearTimeout(f)});var s=xi(),x=kt(s);{var w=I=>{var R=fQ(),E=Le(R,!0);Ue(R),di(()=>{Pr(R,1,`pointer-events-none absolute right-0 top-[90px] z-30 grid place-items-center rounded-l-full px-6 py-2 shadow-md ${q(h)??""}`),yi(E,c().message)}),ba(3,R,()=>ds,()=>({duration:300,x:200})),Ve(I,R)};It(x,I=>{c()&&I(w)})}Ve(t,s),_i(),n()}const pQ=(t,e,a)=>{e()&&(Ch.add(e().id,q(a)),e(null))},mQ=(t,e)=>{e()&&(Ch.remove(e().id),e(null))};var _Q=ft('<div class="pointer-events-none absolute bottom-4 z-10 flex w-full items-center justify-center gap-4 p-4"><button class="c-btn-cancel pointer-events-auto px-4 text-lg"></button> <button class="c-btn-confirm pointer-events-auto px-6 text-lg"></button></div>');function bQ(t,e){mi(e,!0);let a=si(e,"showDataEntry",15),n=ra(()=>{if(a())return f6(a())});const c=x=>{x.key==="Escape"&&a(null)};var f=_Q();fr("keydown",Nm,c);var h=Le(f);h.__click=[mQ,a];var s=Ze(h,2);s.__click=[pQ,a,n],Ue(f),ba(3,f,()=>ds,()=>({duration:200,y:100,opacity:0})),Ve(t,f),_i()}$a(["click"]);/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:cx,setPrototypeOf:vv,isFrozen:yQ,getPrototypeOf:vQ,getOwnPropertyDescriptor:xQ}=Object;let{freeze:dn,seal:us,create:hx}=Object,{apply:gm,construct:pm}=typeof Reflect<"u"&&Reflect;dn||(dn=function(e){return e});us||(us=function(e){return e});gm||(gm=function(e,a,n){return e.apply(a,n)});pm||(pm=function(e,a){return new e(...a)});const v1=fn(Array.prototype.forEach),wQ=fn(Array.prototype.lastIndexOf),xv=fn(Array.prototype.pop),md=fn(Array.prototype.push),BQ=fn(Array.prototype.splice),X1=fn(String.prototype.toLowerCase),b3=fn(String.prototype.toString),wv=fn(String.prototype.match),_d=fn(String.prototype.replace),CQ=fn(String.prototype.indexOf),MQ=fn(String.prototype.trim),Es=fn(Object.prototype.hasOwnProperty),An=fn(RegExp.prototype.test),bd=RQ(TypeError);function fn(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var a=arguments.length,n=new Array(a>1?a-1:0),c=1;c<a;c++)n[c-1]=arguments[c];return gm(t,e,n)}}function RQ(t){return function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return pm(t,a)}}function Vi(t,e){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X1;vv&&vv(t,null);let n=e.length;for(;n--;){let c=e[n];if(typeof c=="string"){const f=a(c);f!==c&&(yQ(e)||(e[n]=f),c=f)}t[c]=!0}return t}function IQ(t){for(let e=0;e<t.length;e++)Es(t,e)||(t[e]=null);return t}function TA(t){const e=hx(null);for(const[a,n]of cx(t))Es(t,a)&&(Array.isArray(n)?e[a]=IQ(n):n&&typeof n=="object"&&n.constructor===Object?e[a]=TA(n):e[a]=n);return e}function yd(t,e){for(;t!==null;){const n=xQ(t,e);if(n){if(n.get)return fn(n.get);if(typeof n.value=="function")return fn(n.value)}t=vQ(t)}function a(){return null}return a}const Bv=dn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),y3=dn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),v3=dn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),UQ=dn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),x3=dn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),EQ=dn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Cv=dn(["#text"]),Mv=dn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),w3=dn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Rv=dn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),x1=dn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),FQ=us(/\{\{[\w\W]*|[\w\W]*\}\}/gm),TQ=us(/<%[\w\W]*|[\w\W]*%>/gm),SQ=us(/\$\{[\w\W]*/gm),YQ=us(/^data-[\-\w.\u00B7-\uFFFF]+$/),NQ=us(/^aria-[\-\w]+$/),ux=us(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),LQ=us(/^(?:\w+script|data):/i),PQ=us(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),dx=us(/^html$/i),QQ=us(/^[a-z][.\w]*(-[.\w]+)+$/i);var Iv=Object.freeze({__proto__:null,ARIA_ATTR:NQ,ATTR_WHITESPACE:PQ,CUSTOM_ELEMENT:QQ,DATA_ATTR:YQ,DOCTYPE_NAME:dx,ERB_EXPR:TQ,IS_ALLOWED_URI:ux,IS_SCRIPT_OR_DATA:LQ,MUSTACHE_EXPR:FQ,TMPLIT_EXPR:SQ});const vd={element:1,text:3,progressingInstruction:7,comment:8,document:9},kQ=function(){return typeof window>"u"?null:window},DQ=function(e,a){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const c="data-tt-policy-suffix";a&&a.hasAttribute(c)&&(n=a.getAttribute(c));const f="dompurify"+(n?"#"+n:"");try{return e.createPolicy(f,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}},Uv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function fx(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kQ();const e=Xt=>fx(Xt);if(e.version="3.2.5",e.removed=[],!t||!t.document||t.document.nodeType!==vd.document||!t.Element)return e.isSupported=!1,e;let{document:a}=t;const n=a,c=n.currentScript,{DocumentFragment:f,HTMLTemplateElement:h,Node:s,Element:x,NodeFilter:w,NamedNodeMap:I=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:R,DOMParser:E,trustedTypes:M}=t,Y=x.prototype,D=yd(Y,"cloneNode"),O=yd(Y,"remove"),H=yd(Y,"nextSibling"),$=yd(Y,"childNodes"),Ae=yd(Y,"parentNode");if(typeof h=="function"){const Xt=a.createElement("template");Xt.content&&Xt.content.ownerDocument&&(a=Xt.content.ownerDocument)}let ce,he="";const{implementation:se,createNodeIterator:ae,createDocumentFragment:V,getElementsByTagName:J}=a,{importNode:ge}=n;let le=Uv();e.isSupported=typeof cx=="function"&&typeof Ae=="function"&&se&&se.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:_e,ERB_EXPR:ve,TMPLIT_EXPR:He,DATA_ATTR:nt,ARIA_ATTR:$e,IS_SCRIPT_OR_DATA:Je,ATTR_WHITESPACE:gt,CUSTOM_ELEMENT:Rt}=Iv;let{IS_ALLOWED_URI:Yt}=Iv,ot=null;const mt=Vi({},[...Bv,...y3,...v3,...x3,...Cv]);let je=null;const Qe=Vi({},[...Mv,...w3,...Rv,...x1]);let it=Object.seal(hx(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),rt=null,Bt=null,yt=!0,Dt=!0,Ot=!1,Ct=!0,Qt=!1,ui=!0,Nt=!1,Zt=!1,oi=!1,fi=!1,Kt=!1,pt=!1,ci=!0,qi=!1;const Si="user-content-";let fa=!0,Ri=!1,ea={},wi=null;const ji=Vi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ha=null;const Rr=Vi({},["audio","video","img","source","image","track"]);let Ha=null;const Oa=Vi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),sa="http://www.w3.org/1998/Math/MathML",na="http://www.w3.org/2000/svg",va="http://www.w3.org/1999/xhtml";let ze=va,ie=!1,re=null;const fe=Vi({},[sa,na,va],b3);let xe=Vi({},["mi","mo","mn","ms","mtext"]),oe=Vi({},["annotation-xml"]);const ke=Vi({},["title","style","font","a","script"]);let Ge=null;const Ie=["application/xhtml+xml","text/html"],et="text/html";let Te=null,ne=null;const Se=a.createElement("form"),Ee=function(De){return De instanceof RegExp||De instanceof Function},Oe=function(){let De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ne&&ne===De)){if((!De||typeof De!="object")&&(De={}),De=TA(De),Ge=Ie.indexOf(De.PARSER_MEDIA_TYPE)===-1?et:De.PARSER_MEDIA_TYPE,Te=Ge==="application/xhtml+xml"?b3:X1,ot=Es(De,"ALLOWED_TAGS")?Vi({},De.ALLOWED_TAGS,Te):mt,je=Es(De,"ALLOWED_ATTR")?Vi({},De.ALLOWED_ATTR,Te):Qe,re=Es(De,"ALLOWED_NAMESPACES")?Vi({},De.ALLOWED_NAMESPACES,b3):fe,Ha=Es(De,"ADD_URI_SAFE_ATTR")?Vi(TA(Oa),De.ADD_URI_SAFE_ATTR,Te):Oa,ha=Es(De,"ADD_DATA_URI_TAGS")?Vi(TA(Rr),De.ADD_DATA_URI_TAGS,Te):Rr,wi=Es(De,"FORBID_CONTENTS")?Vi({},De.FORBID_CONTENTS,Te):ji,rt=Es(De,"FORBID_TAGS")?Vi({},De.FORBID_TAGS,Te):{},Bt=Es(De,"FORBID_ATTR")?Vi({},De.FORBID_ATTR,Te):{},ea=Es(De,"USE_PROFILES")?De.USE_PROFILES:!1,yt=De.ALLOW_ARIA_ATTR!==!1,Dt=De.ALLOW_DATA_ATTR!==!1,Ot=De.ALLOW_UNKNOWN_PROTOCOLS||!1,Ct=De.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Qt=De.SAFE_FOR_TEMPLATES||!1,ui=De.SAFE_FOR_XML!==!1,Nt=De.WHOLE_DOCUMENT||!1,fi=De.RETURN_DOM||!1,Kt=De.RETURN_DOM_FRAGMENT||!1,pt=De.RETURN_TRUSTED_TYPE||!1,oi=De.FORCE_BODY||!1,ci=De.SANITIZE_DOM!==!1,qi=De.SANITIZE_NAMED_PROPS||!1,fa=De.KEEP_CONTENT!==!1,Ri=De.IN_PLACE||!1,Yt=De.ALLOWED_URI_REGEXP||ux,ze=De.NAMESPACE||va,xe=De.MATHML_TEXT_INTEGRATION_POINTS||xe,oe=De.HTML_INTEGRATION_POINTS||oe,it=De.CUSTOM_ELEMENT_HANDLING||{},De.CUSTOM_ELEMENT_HANDLING&&Ee(De.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(it.tagNameCheck=De.CUSTOM_ELEMENT_HANDLING.tagNameCheck),De.CUSTOM_ELEMENT_HANDLING&&Ee(De.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(it.attributeNameCheck=De.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),De.CUSTOM_ELEMENT_HANDLING&&typeof De.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(it.allowCustomizedBuiltInElements=De.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Qt&&(Dt=!1),Kt&&(fi=!0),ea&&(ot=Vi({},Cv),je=[],ea.html===!0&&(Vi(ot,Bv),Vi(je,Mv)),ea.svg===!0&&(Vi(ot,y3),Vi(je,w3),Vi(je,x1)),ea.svgFilters===!0&&(Vi(ot,v3),Vi(je,w3),Vi(je,x1)),ea.mathMl===!0&&(Vi(ot,x3),Vi(je,Rv),Vi(je,x1))),De.ADD_TAGS&&(ot===mt&&(ot=TA(ot)),Vi(ot,De.ADD_TAGS,Te)),De.ADD_ATTR&&(je===Qe&&(je=TA(je)),Vi(je,De.ADD_ATTR,Te)),De.ADD_URI_SAFE_ATTR&&Vi(Ha,De.ADD_URI_SAFE_ATTR,Te),De.FORBID_CONTENTS&&(wi===ji&&(wi=TA(wi)),Vi(wi,De.FORBID_CONTENTS,Te)),fa&&(ot["#text"]=!0),Nt&&Vi(ot,["html","head","body"]),ot.table&&(Vi(ot,["tbody"]),delete rt.tbody),De.TRUSTED_TYPES_POLICY){if(typeof De.TRUSTED_TYPES_POLICY.createHTML!="function")throw bd('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof De.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw bd('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ce=De.TRUSTED_TYPES_POLICY,he=ce.createHTML("")}else ce===void 0&&(ce=DQ(M,c)),ce!==null&&typeof he=="string"&&(he=ce.createHTML(""));dn&&dn(De),ne=De}},ut=Vi({},[...y3,...v3,...UQ]),wt=Vi({},[...x3,...EQ]),Xe=function(De){let Ft=Ae(De);(!Ft||!Ft.tagName)&&(Ft={namespaceURI:ze,tagName:"template"});const ni=X1(De.tagName),Ui=X1(Ft.tagName);return re[De.namespaceURI]?De.namespaceURI===na?Ft.namespaceURI===va?ni==="svg":Ft.namespaceURI===sa?ni==="svg"&&(Ui==="annotation-xml"||xe[Ui]):!!ut[ni]:De.namespaceURI===sa?Ft.namespaceURI===va?ni==="math":Ft.namespaceURI===na?ni==="math"&&oe[Ui]:!!wt[ni]:De.namespaceURI===va?Ft.namespaceURI===na&&!oe[Ui]||Ft.namespaceURI===sa&&!xe[Ui]?!1:!wt[ni]&&(ke[ni]||!ut[ni]):!!(Ge==="application/xhtml+xml"&&re[De.namespaceURI]):!1},_t=function(De){md(e.removed,{element:De});try{Ae(De).removeChild(De)}catch{O(De)}},Wt=function(De,Ft){try{md(e.removed,{attribute:Ft.getAttributeNode(De),from:Ft})}catch{md(e.removed,{attribute:null,from:Ft})}if(Ft.removeAttribute(De),De==="is")if(fi||Kt)try{_t(Ft)}catch{}else try{Ft.setAttribute(De,"")}catch{}},ei=function(De){let Ft=null,ni=null;if(oi)De="<remove></remove>"+De;else{const Zi=wv(De,/^[\r\n\t ]+/);ni=Zi&&Zi[0]}Ge==="application/xhtml+xml"&&ze===va&&(De='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+De+"</body></html>");const Ui=ce?ce.createHTML(De):De;if(ze===va)try{Ft=new E().parseFromString(Ui,Ge)}catch{}if(!Ft||!Ft.documentElement){Ft=se.createDocument(ze,"template",null);try{Ft.documentElement.innerHTML=ie?he:Ui}catch{}}const Ei=Ft.body||Ft.documentElement;return De&&ni&&Ei.insertBefore(a.createTextNode(ni),Ei.childNodes[0]||null),ze===va?J.call(Ft,Nt?"html":"body")[0]:Nt?Ft.documentElement:Ei},ai=function(De){return ae.call(De.ownerDocument||De,De,w.SHOW_ELEMENT|w.SHOW_COMMENT|w.SHOW_TEXT|w.SHOW_PROCESSING_INSTRUCTION|w.SHOW_CDATA_SECTION,null)},tt=function(De){return De instanceof R&&(typeof De.nodeName!="string"||typeof De.textContent!="string"||typeof De.removeChild!="function"||!(De.attributes instanceof I)||typeof De.removeAttribute!="function"||typeof De.setAttribute!="function"||typeof De.namespaceURI!="string"||typeof De.insertBefore!="function"||typeof De.hasChildNodes!="function")},Tt=function(De){return typeof s=="function"&&De instanceof s};function Ht(Xt,De,Ft){v1(Xt,ni=>{ni.call(e,De,Ft,ne)})}const ta=function(De){let Ft=null;if(Ht(le.beforeSanitizeElements,De,null),tt(De))return _t(De),!0;const ni=Te(De.nodeName);if(Ht(le.uponSanitizeElement,De,{tagName:ni,allowedTags:ot}),De.hasChildNodes()&&!Tt(De.firstElementChild)&&An(/<[/\w!]/g,De.innerHTML)&&An(/<[/\w!]/g,De.textContent)||De.nodeType===vd.progressingInstruction||ui&&De.nodeType===vd.comment&&An(/<[/\w]/g,De.data))return _t(De),!0;if(!ot[ni]||rt[ni]){if(!rt[ni]&&Bi(ni)&&(it.tagNameCheck instanceof RegExp&&An(it.tagNameCheck,ni)||it.tagNameCheck instanceof Function&&it.tagNameCheck(ni)))return!1;if(fa&&!wi[ni]){const Ui=Ae(De)||De.parentNode,Ei=$(De)||De.childNodes;if(Ei&&Ui){const Zi=Ei.length;for(let Xa=Zi-1;Xa>=0;--Xa){const Qr=D(Ei[Xa],!0);Qr.__removalCount=(De.__removalCount||0)+1,Ui.insertBefore(Qr,H(De))}}}return _t(De),!0}return De instanceof x&&!Xe(De)||(ni==="noscript"||ni==="noembed"||ni==="noframes")&&An(/<\/no(script|embed|frames)/i,De.innerHTML)?(_t(De),!0):(Qt&&De.nodeType===vd.text&&(Ft=De.textContent,v1([_e,ve,He],Ui=>{Ft=_d(Ft,Ui," ")}),De.textContent!==Ft&&(md(e.removed,{element:De.cloneNode()}),De.textContent=Ft)),Ht(le.afterSanitizeElements,De,null),!1)},oa=function(De,Ft,ni){if(ci&&(Ft==="id"||Ft==="name")&&(ni in a||ni in Se))return!1;if(!(Dt&&!Bt[Ft]&&An(nt,Ft))){if(!(yt&&An($e,Ft))){if(!je[Ft]||Bt[Ft]){if(!(Bi(De)&&(it.tagNameCheck instanceof RegExp&&An(it.tagNameCheck,De)||it.tagNameCheck instanceof Function&&it.tagNameCheck(De))&&(it.attributeNameCheck instanceof RegExp&&An(it.attributeNameCheck,Ft)||it.attributeNameCheck instanceof Function&&it.attributeNameCheck(Ft))||Ft==="is"&&it.allowCustomizedBuiltInElements&&(it.tagNameCheck instanceof RegExp&&An(it.tagNameCheck,ni)||it.tagNameCheck instanceof Function&&it.tagNameCheck(ni))))return!1}else if(!Ha[Ft]){if(!An(Yt,_d(ni,gt,""))){if(!((Ft==="src"||Ft==="xlink:href"||Ft==="href")&&De!=="script"&&CQ(ni,"data:")===0&&ha[De])){if(!(Ot&&!An(Je,_d(ni,gt,"")))){if(ni)return!1}}}}}}return!0},Bi=function(De){return De!=="annotation-xml"&&wv(De,Rt)},Gt=function(De){Ht(le.beforeSanitizeAttributes,De,null);const{attributes:Ft}=De;if(!Ft||tt(De))return;const ni={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:je,forceKeepAttr:void 0};let Ui=Ft.length;for(;Ui--;){const Ei=Ft[Ui],{name:Zi,namespaceURI:Xa,value:Qr}=Ei,mr=Te(Zi);let Fa=Zi==="value"?Qr:MQ(Qr);if(ni.attrName=mr,ni.attrValue=Fa,ni.keepAttr=!0,ni.forceKeepAttr=void 0,Ht(le.uponSanitizeAttribute,De,ni),Fa=ni.attrValue,qi&&(mr==="id"||mr==="name")&&(Wt(Zi,De),Fa=Si+Fa),ui&&An(/((--!?|])>)|<\/(style|title)/i,Fa)){Wt(Zi,De);continue}if(ni.forceKeepAttr||(Wt(Zi,De),!ni.keepAttr))continue;if(!Ct&&An(/\/>/i,Fa)){Wt(Zi,De);continue}Qt&&v1([_e,ve,He],jl=>{Fa=_d(Fa,jl," ")});const Gl=Te(De.nodeName);if(oa(Gl,mr,Fa)){if(ce&&typeof M=="object"&&typeof M.getAttributeType=="function"&&!Xa)switch(M.getAttributeType(Gl,mr)){case"TrustedHTML":{Fa=ce.createHTML(Fa);break}case"TrustedScriptURL":{Fa=ce.createScriptURL(Fa);break}}try{Xa?De.setAttributeNS(Xa,Zi,Fa):De.setAttribute(Zi,Fa),tt(De)?_t(De):xv(e.removed)}catch{}}}Ht(le.afterSanitizeAttributes,De,null)},Cn=function Xt(De){let Ft=null;const ni=ai(De);for(Ht(le.beforeSanitizeShadowDOM,De,null);Ft=ni.nextNode();)Ht(le.uponSanitizeShadowNode,Ft,null),ta(Ft),Gt(Ft),Ft.content instanceof f&&Xt(Ft.content);Ht(le.afterSanitizeShadowDOM,De,null)};return e.sanitize=function(Xt){let De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ft=null,ni=null,Ui=null,Ei=null;if(ie=!Xt,ie&&(Xt="<!-->"),typeof Xt!="string"&&!Tt(Xt))if(typeof Xt.toString=="function"){if(Xt=Xt.toString(),typeof Xt!="string")throw bd("dirty is not a string, aborting")}else throw bd("toString is not a function");if(!e.isSupported)return Xt;if(Zt||Oe(De),e.removed=[],typeof Xt=="string"&&(Ri=!1),Ri){if(Xt.nodeName){const Qr=Te(Xt.nodeName);if(!ot[Qr]||rt[Qr])throw bd("root node is forbidden and cannot be sanitized in-place")}}else if(Xt instanceof s)Ft=ei("<!---->"),ni=Ft.ownerDocument.importNode(Xt,!0),ni.nodeType===vd.element&&ni.nodeName==="BODY"||ni.nodeName==="HTML"?Ft=ni:Ft.appendChild(ni);else{if(!fi&&!Qt&&!Nt&&Xt.indexOf("<")===-1)return ce&&pt?ce.createHTML(Xt):Xt;if(Ft=ei(Xt),!Ft)return fi?null:pt?he:""}Ft&&oi&&_t(Ft.firstChild);const Zi=ai(Ri?Xt:Ft);for(;Ui=Zi.nextNode();)ta(Ui),Gt(Ui),Ui.content instanceof f&&Cn(Ui.content);if(Ri)return Xt;if(fi){if(Kt)for(Ei=V.call(Ft.ownerDocument);Ft.firstChild;)Ei.appendChild(Ft.firstChild);else Ei=Ft;return(je.shadowroot||je.shadowrootmode)&&(Ei=ge.call(n,Ei,!0)),Ei}let Xa=Nt?Ft.outerHTML:Ft.innerHTML;return Nt&&ot["!doctype"]&&Ft.ownerDocument&&Ft.ownerDocument.doctype&&Ft.ownerDocument.doctype.name&&An(dx,Ft.ownerDocument.doctype.name)&&(Xa="<!DOCTYPE "+Ft.ownerDocument.doctype.name+`>
`+Xa),Qt&&v1([_e,ve,He],Qr=>{Xa=_d(Xa,Qr," ")}),ce&&pt?ce.createHTML(Xa):Xa},e.setConfig=function(){let Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Oe(Xt),Zt=!0},e.clearConfig=function(){ne=null,Zt=!1},e.isValidAttribute=function(Xt,De,Ft){ne||Oe({});const ni=Te(Xt),Ui=Te(De);return oa(ni,Ui,Ft)},e.addHook=function(Xt,De){typeof De=="function"&&md(le[Xt],De)},e.removeHook=function(Xt,De){if(De!==void 0){const Ft=wQ(le[Xt],De);return Ft===-1?void 0:BQ(le[Xt],Ft,1)[0]}return xv(le[Xt])},e.removeHooks=function(Xt){le[Xt]=[]},e.removeAllHooks=function(){le=Uv()},e}var zQ=fx(),ZQ=(t,e)=>e(null),HQ=ft('<a class="hover:text-accent transition-text flex w-full items-center justify-start gap-2 p-2 duration-150" target="_blank" rel="noopener noreferrer"><!> <span></span></a>'),OQ=ft("<div><!></div>"),XQ=ft('<div class="bg-main w-side-menu absolute left-0 top-0 z-20 flex h-full flex-col gap-2 overflow-hidden px-2 pt-4"><div class="flex w-full cursor-pointer justify-between pb-2"><button class="bg-base mr-auto cursor-pointer rounded-full p-2"><!></button></div> <div class="flex h-full flex-col gap-2 overflow-auto"><div class="flex shrink-0 grow flex-col gap-1 text-base"><div class="text-lg"> </div> <div> </div> <span> </span> <div class="font-bold"></div> <div class="aspect-video w-full rounded-lg"></div> <div class="font-bold"></div> <div> </div> <!> <div class="font-bold"></div> <!></div>  <div class="c-scroll flex h-full w-full grow flex-col overflow-y-auto"></div></div></div>');function VQ(t,e){mi(e,!0);let a=si(e,"showDataEntry",15),n=$t(null);const c=R=>{R.key==="Escape"&&a(null)},f=R=>{const E=/(https?:\/\/[^\s\]>,]+)/g,Y=R.replace(E,D=>`<a href="${D}" target="_blank" rel="noopener noreferrer">${D}</a>`).replace(/\n/g,"<br>");return zQ.sanitize(Y,{ALLOWED_TAGS:["a","br"],ALLOWED_ATTR:["href","target","rel"]})},h=async R=>{let E=null;if(R.metaData.bounds)E=R.metaData.bounds;else if(R.format.type==="fgb"||R.format.type==="geojson")try{let D;if(Po.has(R.id)?D=Po.get(R.id):R.format.type==="fgb"?(D=await ng(R.format.url),Po.set(R.id,D)):(D=await _6(R.format.url),Po.set(R.id,D)),!D)throw new Error("GeoJSON not found in cache");E=T3(D)}catch(D){console.error(D)}else R.metaData.location?E=X3(R.metaData.location):console.warn("",R.id);if(!E)throw new Error("Bounding box not found");const M=lm(E);return{style:{version:8,glyphs:b6,sources:{mierune_mono:{type:"raster",tiles:["https://tile.mierune.co.jp/mierune_mono/{z}/{x}/{y}.png"],tileSize:256,minzoom:0,maxzoom:18,attribution:'<a href="https://mierune.co.jp">MIERUNE Inc.</a> <a href="https://www.openmaptiles.org/" target="_blank">&copy; OpenMapTiles</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'},bbox:{type:"geojson",data:M}},layers:[{id:"mierune_mono_layer",source:"mierune_mono",type:"raster"},{id:"bbox_layer",source:"bbox",type:"fill",paint:{"fill-color":"#007508","fill-opacity":.5}},{id:"bbox_outline_layer",source:"bbox",type:"line",paint:{"line-color":"#FFFFFF","line-width":2}}]},bbox:E}};let s=null;Mr(()=>{Cr(()=>{a()&&(async()=>{const R=await h(a());s=new Zg.Map({container:q(n),style:R.style,bounds:X3(""),pitch:0,bearing:0}),s.fitBounds(R.bbox,{bearing:s.getBearing(),padding:10,duration:1e3}),s.on("load",()=>{s&&s.fitBounds(R.bbox,{bearing:s.getBearing(),padding:50,duration:0})})})()})}),KA(()=>{s&&(s.remove(),s=null)});var x=xi();fr("keydown",Nm,c);var w=kt(x);{var I=R=>{var E=XQ(),M=Le(E),Y=Le(M);Y.__click=[ZQ,a];var D=Le(Y);vi(D,{icon:"ep:back",class:"text-main h-4 w-4"}),Ue(Y),Ue(M);var O=Ze(M,2),H=Le(O),$=Le(H),Ae=Le($,!0);Ue($);var ce=Ze($,2),he=Le(ce,!0);Ue(ce);var se=Ze(ce,2),ae=Le(se);Ue(se);var V=Ze(se,4);wn(V,nt=>st(n,nt),()=>q(n));var J=Ze(V,4),ge=Le(J,!0);Ue(J);var le=Ze(J,2);{var _e=nt=>{var $e=HQ(),Je=Le($e);vi(Je,{icon:"el:download",class:"h-8 w-8"}),Ga(2),Ue($e),di(()=>{var gt;return ja($e,"href",(gt=a())==null?void 0:gt.metaData.downloadUrl)}),Ve(nt,$e)};It(le,nt=>{var $e;($e=a())!=null&&$e.metaData.downloadUrl&&nt(_e)})}var ve=Ze(le,4);{var He=nt=>{var $e=OQ(),Je=Le($e);x6(Je,()=>{var gt;return f((gt=a())==null?void 0:gt.metaData.description)},!1,!1),Ue($e),Ve(nt,$e)};It(ve,nt=>{a()&&nt(He)})}Ue(H),Ga(2),Ue(O),Ue(E),di(()=>{var nt,$e,Je,gt;yi(Ae,(nt=a())==null?void 0:nt.metaData.name),yi(he,($e=a())==null?void 0:$e.metaData.location),yi(ae,`${((Je=a())==null?void 0:Je.metaData.maxZoom)??""}`),yi(ge,(gt=a())==null?void 0:gt.metaData.attribution)}),ba(3,E,()=>ds,()=>({duration:300,x:-100,opacity:0})),Ve(R,E)};It(w,R=>{a()&&R(I)})}Ve(t,x),_i()}$a(["click"]);function Xo(t){return Array.isArray?Array.isArray(t):mx(t)==="[object Array]"}function GQ(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function jQ(t){return t==null?"":GQ(t)}function ao(t){return typeof t=="string"}function gx(t){return typeof t=="number"}function KQ(t){return t===!0||t===!1||$Q(t)&&mx(t)=="[object Boolean]"}function px(t){return typeof t=="object"}function $Q(t){return px(t)&&t!==null}function zn(t){return t!=null}function B3(t){return!t.trim().length}function mx(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const qQ="Incorrect 'index' type",WQ=t=>`Invalid value for key ${t}`,JQ=t=>`Pattern length exceeds max of ${t}.`,ek=t=>`Missing ${t} property in key`,tk=t=>`Property 'weight' in key '${t}' must be a positive integer`,Ev=Object.prototype.hasOwnProperty;class ik{constructor(e){this._keys=[],this._keyMap={};let a=0;e.forEach(n=>{let c=_x(n);this._keys.push(c),this._keyMap[c.id]=c,a+=c.weight}),this._keys.forEach(n=>{n.weight/=a})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function _x(t){let e=null,a=null,n=null,c=1,f=null;if(ao(t)||Xo(t))n=t,e=Fv(t),a=mm(t);else{if(!Ev.call(t,"name"))throw new Error(ek("name"));const h=t.name;if(n=h,Ev.call(t,"weight")&&(c=t.weight,c<=0))throw new Error(tk(h));e=Fv(h),a=mm(h),f=t.getFn}return{path:e,id:a,weight:c,src:n,getFn:f}}function Fv(t){return Xo(t)?t:t.split(".")}function mm(t){return Xo(t)?t.join("."):t}function ak(t,e){let a=[],n=!1;const c=(f,h,s)=>{if(zn(f))if(!h[s])a.push(f);else{let x=h[s];const w=f[x];if(!zn(w))return;if(s===h.length-1&&(ao(w)||gx(w)||KQ(w)))a.push(jQ(w));else if(Xo(w)){n=!0;for(let I=0,R=w.length;I<R;I+=1)c(w[I],h,s+1)}else h.length&&c(w,h,s+1)}};return c(t,ao(e)?e.split("."):e,0),n?a:a[0]}const rk={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},nk={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},sk={location:0,threshold:.6,distance:100},ok={useExtendedSearch:!1,getFn:ak,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ci={...nk,...rk,...sk,...ok};const lk=/[^ ]+/g;function Ak(t=1,e=3){const a=new Map,n=Math.pow(10,e);return{get(c){const f=c.match(lk).length;if(a.has(f))return a.get(f);const h=1/Math.pow(f,.5*t),s=parseFloat(Math.round(h*n)/n);return a.set(f,s),s},clear(){a.clear()}}}class y4{constructor({getFn:e=Ci.getFn,fieldNormWeight:a=Ci.fieldNormWeight}={}){this.norm=Ak(a,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((a,n)=>{this._keysMap[a.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ao(this.docs[0])?this.docs.forEach((e,a)=>{this._addString(e,a)}):this.docs.forEach((e,a)=>{this._addObject(e,a)}),this.norm.clear())}add(e){const a=this.size();ao(e)?this._addString(e,a):this._addObject(e,a)}removeAt(e){this.records.splice(e,1);for(let a=e,n=this.size();a<n;a+=1)this.records[a].i-=1}getValueForItemAtKeyId(e,a){return e[this._keysMap[a]]}size(){return this.records.length}_addString(e,a){if(!zn(e)||B3(e))return;let n={v:e,i:a,n:this.norm.get(e)};this.records.push(n)}_addObject(e,a){let n={i:a,$:{}};this.keys.forEach((c,f)=>{let h=c.getFn?c.getFn(e):this.getFn(e,c.path);if(zn(h)){if(Xo(h)){let s=[];const x=[{nestedArrIndex:-1,value:h}];for(;x.length;){const{nestedArrIndex:w,value:I}=x.pop();if(zn(I))if(ao(I)&&!B3(I)){let R={v:I,i:w,n:this.norm.get(I)};s.push(R)}else Xo(I)&&I.forEach((R,E)=>{x.push({nestedArrIndex:E,value:R})})}n.$[f]=s}else if(ao(h)&&!B3(h)){let s={v:h,n:this.norm.get(h)};n.$[f]=s}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function bx(t,e,{getFn:a=Ci.getFn,fieldNormWeight:n=Ci.fieldNormWeight}={}){const c=new y4({getFn:a,fieldNormWeight:n});return c.setKeys(t.map(_x)),c.setSources(e),c.create(),c}function ck(t,{getFn:e=Ci.getFn,fieldNormWeight:a=Ci.fieldNormWeight}={}){const{keys:n,records:c}=t,f=new y4({getFn:e,fieldNormWeight:a});return f.setKeys(n),f.setIndexRecords(c),f}function w1(t,{errors:e=0,currentLocation:a=0,expectedLocation:n=0,distance:c=Ci.distance,ignoreLocation:f=Ci.ignoreLocation}={}){const h=e/t.length;if(f)return h;const s=Math.abs(n-a);return c?h+s/c:s?1:h}function hk(t=[],e=Ci.minMatchCharLength){let a=[],n=-1,c=-1,f=0;for(let h=t.length;f<h;f+=1){let s=t[f];s&&n===-1?n=f:!s&&n!==-1&&(c=f-1,c-n+1>=e&&a.push([n,c]),n=-1)}return t[f-1]&&f-n>=e&&a.push([n,f-1]),a}const NA=32;function uk(t,e,a,{location:n=Ci.location,distance:c=Ci.distance,threshold:f=Ci.threshold,findAllMatches:h=Ci.findAllMatches,minMatchCharLength:s=Ci.minMatchCharLength,includeMatches:x=Ci.includeMatches,ignoreLocation:w=Ci.ignoreLocation}={}){if(e.length>NA)throw new Error(JQ(NA));const I=e.length,R=t.length,E=Math.max(0,Math.min(n,R));let M=f,Y=E;const D=s>1||x,O=D?Array(R):[];let H;for(;(H=t.indexOf(e,Y))>-1;){let ae=w1(e,{currentLocation:H,expectedLocation:E,distance:c,ignoreLocation:w});if(M=Math.min(ae,M),Y=H+I,D){let V=0;for(;V<I;)O[H+V]=1,V+=1}}Y=-1;let $=[],Ae=1,ce=I+R;const he=1<<I-1;for(let ae=0;ae<I;ae+=1){let V=0,J=ce;for(;V<J;)w1(e,{errors:ae,currentLocation:E+J,expectedLocation:E,distance:c,ignoreLocation:w})<=M?V=J:ce=J,J=Math.floor((ce-V)/2+V);ce=J;let ge=Math.max(1,E-J+1),le=h?R:Math.min(E+J,R)+I,_e=Array(le+2);_e[le+1]=(1<<ae)-1;for(let He=le;He>=ge;He-=1){let nt=He-1,$e=a[t.charAt(nt)];if(D&&(O[nt]=+!!$e),_e[He]=(_e[He+1]<<1|1)&$e,ae&&(_e[He]|=($[He+1]|$[He])<<1|1|$[He+1]),_e[He]&he&&(Ae=w1(e,{errors:ae,currentLocation:nt,expectedLocation:E,distance:c,ignoreLocation:w}),Ae<=M)){if(M=Ae,Y=nt,Y<=E)break;ge=Math.max(1,2*E-Y)}}if(w1(e,{errors:ae+1,currentLocation:E,expectedLocation:E,distance:c,ignoreLocation:w})>M)break;$=_e}const se={isMatch:Y>=0,score:Math.max(.001,Ae)};if(D){const ae=hk(O,s);ae.length?x&&(se.indices=ae):se.isMatch=!1}return se}function dk(t){let e={};for(let a=0,n=t.length;a<n;a+=1){const c=t.charAt(a);e[c]=(e[c]||0)|1<<n-a-1}return e}const Mg=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class yx{constructor(e,{location:a=Ci.location,threshold:n=Ci.threshold,distance:c=Ci.distance,includeMatches:f=Ci.includeMatches,findAllMatches:h=Ci.findAllMatches,minMatchCharLength:s=Ci.minMatchCharLength,isCaseSensitive:x=Ci.isCaseSensitive,ignoreDiacritics:w=Ci.ignoreDiacritics,ignoreLocation:I=Ci.ignoreLocation}={}){if(this.options={location:a,threshold:n,distance:c,includeMatches:f,findAllMatches:h,minMatchCharLength:s,isCaseSensitive:x,ignoreDiacritics:w,ignoreLocation:I},e=x?e:e.toLowerCase(),e=w?Mg(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const R=(M,Y)=>{this.chunks.push({pattern:M,alphabet:dk(M),startIndex:Y})},E=this.pattern.length;if(E>NA){let M=0;const Y=E%NA,D=E-Y;for(;M<D;)R(this.pattern.substr(M,NA),M),M+=NA;if(Y){const O=E-NA;R(this.pattern.substr(O),O)}}else R(this.pattern,0)}searchIn(e){const{isCaseSensitive:a,ignoreDiacritics:n,includeMatches:c}=this.options;if(e=a?e:e.toLowerCase(),e=n?Mg(e):e,this.pattern===e){let D={isMatch:!0,score:0};return c&&(D.indices=[[0,e.length-1]]),D}const{location:f,distance:h,threshold:s,findAllMatches:x,minMatchCharLength:w,ignoreLocation:I}=this.options;let R=[],E=0,M=!1;this.chunks.forEach(({pattern:D,alphabet:O,startIndex:H})=>{const{isMatch:$,score:Ae,indices:ce}=uk(e,D,O,{location:f+H,distance:h,threshold:s,findAllMatches:x,minMatchCharLength:w,includeMatches:c,ignoreLocation:I});$&&(M=!0),E+=Ae,$&&ce&&(R=[...R,...ce])});let Y={isMatch:M,score:M?E/this.chunks.length:1};return M&&c&&(Y.indices=R),Y}}class Xl{constructor(e){this.pattern=e}static isMultiMatch(e){return Tv(e,this.multiRegex)}static isSingleMatch(e){return Tv(e,this.singleRegex)}search(){}}function Tv(t,e){const a=t.match(e);return a?a[1]:null}class fk extends Xl{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const a=e===this.pattern;return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}class gk extends Xl{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class pk extends Xl{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const a=e.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}class mk extends Xl{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const a=!e.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,e.length-1]}}}class _k extends Xl{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const a=e.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class bk extends Xl{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const a=!e.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,e.length-1]}}}class vx extends Xl{constructor(e,{location:a=Ci.location,threshold:n=Ci.threshold,distance:c=Ci.distance,includeMatches:f=Ci.includeMatches,findAllMatches:h=Ci.findAllMatches,minMatchCharLength:s=Ci.minMatchCharLength,isCaseSensitive:x=Ci.isCaseSensitive,ignoreDiacritics:w=Ci.ignoreDiacritics,ignoreLocation:I=Ci.ignoreLocation}={}){super(e),this._bitapSearch=new yx(e,{location:a,threshold:n,distance:c,includeMatches:f,findAllMatches:h,minMatchCharLength:s,isCaseSensitive:x,ignoreDiacritics:w,ignoreLocation:I})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class xx extends Xl{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let a=0,n;const c=[],f=this.pattern.length;for(;(n=e.indexOf(this.pattern,a))>-1;)a=n+f,c.push([n,a-1]);const h=!!c.length;return{isMatch:h,score:h?0:1,indices:c}}}const _m=[fk,xx,pk,mk,bk,_k,gk,vx],Sv=_m.length,yk=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,vk="|";function xk(t,e={}){return t.split(vk).map(a=>{let n=a.trim().split(yk).filter(f=>f&&!!f.trim()),c=[];for(let f=0,h=n.length;f<h;f+=1){const s=n[f];let x=!1,w=-1;for(;!x&&++w<Sv;){const I=_m[w];let R=I.isMultiMatch(s);R&&(c.push(new I(R,e)),x=!0)}if(!x)for(w=-1;++w<Sv;){const I=_m[w];let R=I.isSingleMatch(s);if(R){c.push(new I(R,e));break}}}return c})}const wk=new Set([vx.type,xx.type]);class Bk{constructor(e,{isCaseSensitive:a=Ci.isCaseSensitive,ignoreDiacritics:n=Ci.ignoreDiacritics,includeMatches:c=Ci.includeMatches,minMatchCharLength:f=Ci.minMatchCharLength,ignoreLocation:h=Ci.ignoreLocation,findAllMatches:s=Ci.findAllMatches,location:x=Ci.location,threshold:w=Ci.threshold,distance:I=Ci.distance}={}){this.query=null,this.options={isCaseSensitive:a,ignoreDiacritics:n,includeMatches:c,minMatchCharLength:f,findAllMatches:s,ignoreLocation:h,location:x,threshold:w,distance:I},e=a?e:e.toLowerCase(),e=n?Mg(e):e,this.pattern=e,this.query=xk(this.pattern,this.options)}static condition(e,a){return a.useExtendedSearch}searchIn(e){const a=this.query;if(!a)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:c,ignoreDiacritics:f}=this.options;e=c?e:e.toLowerCase(),e=f?Mg(e):e;let h=0,s=[],x=0;for(let w=0,I=a.length;w<I;w+=1){const R=a[w];s.length=0,h=0;for(let E=0,M=R.length;E<M;E+=1){const Y=R[E],{isMatch:D,indices:O,score:H}=Y.search(e);if(D){if(h+=1,x+=H,n){const $=Y.constructor.type;wk.has($)?s=[...s,...O]:s.push(O)}}else{x=0,h=0,s.length=0;break}}if(h){let E={isMatch:!0,score:x/h};return n&&(E.indices=s),E}}return{isMatch:!1,score:1}}}const bm=[];function Ck(...t){bm.push(...t)}function ym(t,e){for(let a=0,n=bm.length;a<n;a+=1){let c=bm[a];if(c.condition(t,e))return new c(t,e)}return new yx(t,e)}const Rg={AND:"$and",OR:"$or"},vm={PATH:"$path",PATTERN:"$val"},xm=t=>!!(t[Rg.AND]||t[Rg.OR]),Mk=t=>!!t[vm.PATH],Rk=t=>!Xo(t)&&px(t)&&!xm(t),Yv=t=>({[Rg.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function wx(t,e,{auto:a=!0}={}){const n=c=>{let f=Object.keys(c);const h=Mk(c);if(!h&&f.length>1&&!xm(c))return n(Yv(c));if(Rk(c)){const x=h?c[vm.PATH]:f[0],w=h?c[vm.PATTERN]:c[x];if(!ao(w))throw new Error(WQ(x));const I={keyId:mm(x),pattern:w};return a&&(I.searcher=ym(w,e)),I}let s={children:[],operator:f[0]};return f.forEach(x=>{const w=c[x];Xo(w)&&w.forEach(I=>{s.children.push(n(I))})}),s};return xm(t)||(t=Yv(t)),n(t)}function Ik(t,{ignoreFieldNorm:e=Ci.ignoreFieldNorm}){t.forEach(a=>{let n=1;a.matches.forEach(({key:c,norm:f,score:h})=>{const s=c?c.weight:null;n*=Math.pow(h===0&&s?Number.EPSILON:h,(s||1)*(e?1:f))}),a.score=n})}function Uk(t,e){const a=t.matches;e.matches=[],zn(a)&&a.forEach(n=>{if(!zn(n.indices)||!n.indices.length)return;const{indices:c,value:f}=n;let h={indices:c,value:f};n.key&&(h.key=n.key.src),n.idx>-1&&(h.refIndex=n.idx),e.matches.push(h)})}function Ek(t,e){e.score=t.score}function Fk(t,e,{includeMatches:a=Ci.includeMatches,includeScore:n=Ci.includeScore}={}){const c=[];return a&&c.push(Uk),n&&c.push(Ek),t.map(f=>{const{idx:h}=f,s={item:e[h],refIndex:h};return c.length&&c.forEach(x=>{x(f,s)}),s})}class kh{constructor(e,a={},n){this.options={...Ci,...a},this.options.useExtendedSearch,this._keyStore=new ik(this.options.keys),this.setCollection(e,n)}setCollection(e,a){if(this._docs=e,a&&!(a instanceof y4))throw new Error(qQ);this._myIndex=a||bx(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){zn(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const a=[];for(let n=0,c=this._docs.length;n<c;n+=1){const f=this._docs[n];e(f,n)&&(this.removeAt(n),n-=1,c-=1,a.push(f))}return a}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:a=-1}={}){const{includeMatches:n,includeScore:c,shouldSort:f,sortFn:h,ignoreFieldNorm:s}=this.options;let x=ao(e)?ao(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Ik(x,{ignoreFieldNorm:s}),f&&x.sort(h),gx(a)&&a>-1&&(x=x.slice(0,a)),Fk(x,this._docs,{includeMatches:n,includeScore:c})}_searchStringList(e){const a=ym(e,this.options),{records:n}=this._myIndex,c=[];return n.forEach(({v:f,i:h,n:s})=>{if(!zn(f))return;const{isMatch:x,score:w,indices:I}=a.searchIn(f);x&&c.push({item:f,idx:h,matches:[{score:w,value:f,norm:s,indices:I}]})}),c}_searchLogical(e){const a=wx(e,this.options),n=(s,x,w)=>{if(!s.children){const{keyId:R,searcher:E}=s,M=this._findMatches({key:this._keyStore.get(R),value:this._myIndex.getValueForItemAtKeyId(x,R),searcher:E});return M&&M.length?[{idx:w,item:x,matches:M}]:[]}const I=[];for(let R=0,E=s.children.length;R<E;R+=1){const M=s.children[R],Y=n(M,x,w);if(Y.length)I.push(...Y);else if(s.operator===Rg.AND)return[]}return I},c=this._myIndex.records,f={},h=[];return c.forEach(({$:s,i:x})=>{if(zn(s)){let w=n(a,s,x);w.length&&(f[x]||(f[x]={idx:x,item:s,matches:[]},h.push(f[x])),w.forEach(({matches:I})=>{f[x].matches.push(...I)}))}}),h}_searchObjectList(e){const a=ym(e,this.options),{keys:n,records:c}=this._myIndex,f=[];return c.forEach(({$:h,i:s})=>{if(!zn(h))return;let x=[];n.forEach((w,I)=>{x.push(...this._findMatches({key:w,value:h[I],searcher:a}))}),x.length&&f.push({idx:s,item:h,matches:x})}),f}_findMatches({key:e,value:a,searcher:n}){if(!zn(a))return[];let c=[];if(Xo(a))a.forEach(({v:f,i:h,n:s})=>{if(!zn(f))return;const{isMatch:x,score:w,indices:I}=n.searchIn(f);x&&c.push({score:w,key:e,value:f,idx:h,norm:s,indices:I})});else{const{v:f,n:h}=a,{isMatch:s,score:x,indices:w}=n.searchIn(f);s&&c.push({score:x,key:e,value:f,norm:h,indices:w})}return c}}kh.version="7.1.0";kh.createIndex=bx;kh.parseIndex=ck;kh.config=Ci;kh.parseQuery=wx;Ck(Bk);var Tk=(t,e,a,n)=>{t.key==="Enter"&&!q(e)&&a(n())},Sk=ft('<div class="h-6 w-6 animate-spin cursor-pointer rounded-full border-2 border-gray-400 border-t-transparent"></div>'),Yk=(t,e,a)=>e(a()),Nk=ft("<button><!></button>"),Lk=ft('<div class="duration-15 pointer-events-auto relative flex w-full overflow-hidden rounded-full transition-all"><input type="text" class="bg-base focus:outline-hidden w-full rounded-md px-4 py-2" placeholder="/"> <div class="absolute right-1 top-2 grid place-self-center pr-2"><!></div></div>');function Pk(t,e){mi(e,!0);let a=si(e,"results",15),n=si(e,"inputSearchWord",15),c=$t(!1),f=$t(!1);const h=async M=>{if(!(!M||M.length<2)){M=M.trim(),st(c,!0);try{await e.searchFeature(M)}catch(Y){console.error(Y)}finally{st(c,!1)}}};Cr(()=>{n()||a(null)});var s=Lk(),x=Le(s);ks(x),x.__keydown=[Tk,f,h,n];var w=Ze(x,2),I=Le(w);{var R=M=>{var Y=Sk();Ve(M,Y)},E=M=>{var Y=Nk();Y.__click=[Yk,h,n];var D=Le(Y);const O=ra(()=>n().trim().length>1?" text-accent":"text-gray-400");vi(D,{icon:"stash:search-solid",get class(){return`h-6 w-6 ${q(O)??""}`}}),Ue(Y),di((H,$)=>{Y.disabled=H,Pr(Y,1,$)},[()=>n().trim().length<2,()=>C7(n().trim().length>1?"pointer-events-auto cursor-pointer":"pointer-events-none")]),Ve(M,Y)};It(I,M=>{q(c)?M(R):M(E,!1)})}Ue(w),Ue(s),fr("compositionstart",x,()=>st(f,!0)),fr("compositionend",x,()=>st(f,!1)),Dg(x,n),Ve(t,s),_i()}$a(["keydown","click"]);const wm=65536*65536,Nv=1/wm,Qk=12,Lv=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),C3=0,B1=1,xd=2,C1=5;class kk{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,a,n=this.length){for(;this.pos<n;){const c=this.readVarint(),f=c>>3,h=this.pos;this.type=c&7,e(f,a,this),this.pos===h&&this.skip(c)}return a}readMessage(e,a){return this.readFields(e,a,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*wm;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*wm;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const a=this.buf;let n,c;return c=a[this.pos++],n=c&127,c<128||(c=a[this.pos++],n|=(c&127)<<7,c<128)||(c=a[this.pos++],n|=(c&127)<<14,c<128)||(c=a[this.pos++],n|=(c&127)<<21,c<128)?n:(c=a[this.pos],n|=(c&15)<<28,Dk(n,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,a=this.pos;return this.pos=e,e-a>=Qk&&Lv?Lv.decode(this.buf.subarray(a,e)):Jk(this.buf,a,e)}readBytes(){const e=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,e);return this.pos=e,a}readPackedVarint(e=[],a){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readVarint(a));return e}readPackedSVarint(e=[]){const a=this.readPackedEnd();for(;this.pos<a;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const a=this.readPackedEnd();for(;this.pos<a;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const a=this.readPackedEnd();for(;this.pos<a;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const a=this.readPackedEnd();for(;this.pos<a;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const a=this.readPackedEnd();for(;this.pos<a;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const a=this.readPackedEnd();for(;this.pos<a;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const a=this.readPackedEnd();for(;this.pos<a;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const a=this.readPackedEnd();for(;this.pos<a;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===xd?this.readVarint()+this.pos:this.pos+1}skip(e){const a=e&7;if(a===C3)for(;this.buf[this.pos++]>127;);else if(a===xd)this.pos=this.readVarint()+this.pos;else if(a===C1)this.pos+=4;else if(a===B1)this.pos+=8;else throw new Error(`Unimplemented type: ${a}`)}writeTag(e,a){this.writeVarint(e<<3|a)}realloc(e){let a=this.length||16;for(;a<this.pos+e;)a*=2;if(a!==this.length){const n=new Uint8Array(a);n.set(this.buf),this.buf=n,this.dataView=new DataView(n.buffer),this.length=a}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*Nv),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*Nv),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){zk(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const a=this.pos;this.pos=eD(this.buf,e,this.pos);const n=this.pos-a;n>=128&&Pv(a,n,this),this.pos=a-1,this.writeVarint(n),this.pos+=n}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const a=e.length;this.writeVarint(a),this.realloc(a);for(let n=0;n<a;n++)this.buf[this.pos++]=e[n]}writeRawMessage(e,a){this.pos++;const n=this.pos;e(a,this);const c=this.pos-n;c>=128&&Pv(n,c,this),this.pos=n-1,this.writeVarint(c),this.pos+=c}writeMessage(e,a,n){this.writeTag(e,xd),this.writeRawMessage(a,n)}writePackedVarint(e,a){a.length&&this.writeMessage(e,Ok,a)}writePackedSVarint(e,a){a.length&&this.writeMessage(e,Xk,a)}writePackedBoolean(e,a){a.length&&this.writeMessage(e,jk,a)}writePackedFloat(e,a){a.length&&this.writeMessage(e,Vk,a)}writePackedDouble(e,a){a.length&&this.writeMessage(e,Gk,a)}writePackedFixed32(e,a){a.length&&this.writeMessage(e,Kk,a)}writePackedSFixed32(e,a){a.length&&this.writeMessage(e,$k,a)}writePackedFixed64(e,a){a.length&&this.writeMessage(e,qk,a)}writePackedSFixed64(e,a){a.length&&this.writeMessage(e,Wk,a)}writeBytesField(e,a){this.writeTag(e,xd),this.writeBytes(a)}writeFixed32Field(e,a){this.writeTag(e,C1),this.writeFixed32(a)}writeSFixed32Field(e,a){this.writeTag(e,C1),this.writeSFixed32(a)}writeFixed64Field(e,a){this.writeTag(e,B1),this.writeFixed64(a)}writeSFixed64Field(e,a){this.writeTag(e,B1),this.writeSFixed64(a)}writeVarintField(e,a){this.writeTag(e,C3),this.writeVarint(a)}writeSVarintField(e,a){this.writeTag(e,C3),this.writeSVarint(a)}writeStringField(e,a){this.writeTag(e,xd),this.writeString(a)}writeFloatField(e,a){this.writeTag(e,C1),this.writeFloat(a)}writeDoubleField(e,a){this.writeTag(e,B1),this.writeDouble(a)}writeBooleanField(e,a){this.writeVarintField(e,+a)}}function Dk(t,e,a){const n=a.buf;let c,f;if(f=n[a.pos++],c=(f&112)>>4,f<128||(f=n[a.pos++],c|=(f&127)<<3,f<128)||(f=n[a.pos++],c|=(f&127)<<10,f<128)||(f=n[a.pos++],c|=(f&127)<<17,f<128)||(f=n[a.pos++],c|=(f&127)<<24,f<128)||(f=n[a.pos++],c|=(f&1)<<31,f<128))return nh(t,c,e);throw new Error("Expected varint not more than 10 bytes")}function nh(t,e,a){return a?e*4294967296+(t>>>0):(e>>>0)*4294967296+(t>>>0)}function zk(t,e){let a,n;if(t>=0?(a=t%4294967296|0,n=t/4294967296|0):(a=~(-t%4294967296),n=~(-t/4294967296),a^4294967295?a=a+1|0:(a=0,n=n+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),Zk(a,n,e),Hk(n,e)}function Zk(t,e,a){a.buf[a.pos++]=t&127|128,t>>>=7,a.buf[a.pos++]=t&127|128,t>>>=7,a.buf[a.pos++]=t&127|128,t>>>=7,a.buf[a.pos++]=t&127|128,t>>>=7,a.buf[a.pos]=t&127}function Hk(t,e){const a=(t&7)<<4;e.buf[e.pos++]|=a|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127)))))}function Pv(t,e,a){const n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));a.realloc(n);for(let c=a.pos-1;c>=t;c--)a.buf[c+n]=a.buf[c]}function Ok(t,e){for(let a=0;a<t.length;a++)e.writeVarint(t[a])}function Xk(t,e){for(let a=0;a<t.length;a++)e.writeSVarint(t[a])}function Vk(t,e){for(let a=0;a<t.length;a++)e.writeFloat(t[a])}function Gk(t,e){for(let a=0;a<t.length;a++)e.writeDouble(t[a])}function jk(t,e){for(let a=0;a<t.length;a++)e.writeBoolean(t[a])}function Kk(t,e){for(let a=0;a<t.length;a++)e.writeFixed32(t[a])}function $k(t,e){for(let a=0;a<t.length;a++)e.writeSFixed32(t[a])}function qk(t,e){for(let a=0;a<t.length;a++)e.writeFixed64(t[a])}function Wk(t,e){for(let a=0;a<t.length;a++)e.writeSFixed64(t[a])}function Jk(t,e,a){let n="",c=e;for(;c<a;){const f=t[c];let h=null,s=f>239?4:f>223?3:f>191?2:1;if(c+s>a)break;let x,w,I;s===1?f<128&&(h=f):s===2?(x=t[c+1],(x&192)===128&&(h=(f&31)<<6|x&63,h<=127&&(h=null))):s===3?(x=t[c+1],w=t[c+2],(x&192)===128&&(w&192)===128&&(h=(f&15)<<12|(x&63)<<6|w&63,(h<=2047||h>=55296&&h<=57343)&&(h=null))):s===4&&(x=t[c+1],w=t[c+2],I=t[c+3],(x&192)===128&&(w&192)===128&&(I&192)===128&&(h=(f&15)<<18|(x&63)<<12|(w&63)<<6|I&63,(h<=65535||h>=1114112)&&(h=null))),h===null?(h=65533,s=1):h>65535&&(h-=65536,n+=String.fromCharCode(h>>>10&1023|55296),h=56320|h&1023),n+=String.fromCharCode(h),c+=s}return n}function eD(t,e,a){for(let n=0,c,f;n<e.length;n++){if(c=e.charCodeAt(n),c>55295&&c<57344)if(f)if(c<56320){t[a++]=239,t[a++]=191,t[a++]=189,f=c;continue}else c=f-55296<<10|c-56320|65536,f=null;else{c>56319||n+1===e.length?(t[a++]=239,t[a++]=191,t[a++]=189):f=c;continue}else f&&(t[a++]=239,t[a++]=191,t[a++]=189,f=null);c<128?t[a++]=c:(c<2048?t[a++]=c>>6|192:(c<65536?t[a++]=c>>12|224:(t[a++]=c>>18|240,t[a++]=c>>12&63|128),t[a++]=c>>6&63|128),t[a++]=c&63|128)}return a}function Sl(t,e){this.x=t,this.y=e}Sl.prototype={clone(){return new Sl(this.x,this.y)},add(t){return this.clone()._add(t)},sub(t){return this.clone()._sub(t)},multByPoint(t){return this.clone()._multByPoint(t)},divByPoint(t){return this.clone()._divByPoint(t)},mult(t){return this.clone()._mult(t)},div(t){return this.clone()._div(t)},rotate(t){return this.clone()._rotate(t)},rotateAround(t,e){return this.clone()._rotateAround(t,e)},matMult(t){return this.clone()._matMult(t)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(t){return this.x===t.x&&this.y===t.y},dist(t){return Math.sqrt(this.distSqr(t))},distSqr(t){const e=t.x-this.x,a=t.y-this.y;return e*e+a*a},angle(){return Math.atan2(this.y,this.x)},angleTo(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith(t){return this.angleWithSep(t.x,t.y)},angleWithSep(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult(t){const e=t[0]*this.x+t[1]*this.y,a=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=a,this},_add(t){return this.x+=t.x,this.y+=t.y,this},_sub(t){return this.x-=t.x,this.y-=t.y,this},_mult(t){return this.x*=t,this.y*=t,this},_div(t){return this.x/=t,this.y/=t,this},_multByPoint(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint(t){return this.x/=t.x,this.y/=t.y,this},_unit(){return this._div(this.mag()),this},_perp(){const t=this.y;return this.y=this.x,this.x=-t,this},_rotate(t){const e=Math.cos(t),a=Math.sin(t),n=e*this.x-a*this.y,c=a*this.x+e*this.y;return this.x=n,this.y=c,this},_rotateAround(t,e){const a=Math.cos(t),n=Math.sin(t),c=e.x+a*(this.x-e.x)-n*(this.y-e.y),f=e.y+n*(this.x-e.x)+a*(this.y-e.y);return this.x=c,this.y=f,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:Sl};Sl.convert=function(t){if(t instanceof Sl)return t;if(Array.isArray(t))return new Sl(+t[0],+t[1]);if(t.x!==void 0&&t.y!==void 0)return new Sl(+t.x,+t.y);throw new Error("Expected [x, y] or {x, y} point format")};class Bx{constructor(e,a,n,c,f){this.properties={},this.extent=n,this.type=0,this.id=void 0,this._pbf=e,this._geometry=-1,this._keys=c,this._values=f,e.readFields(tD,this,a)}loadGeometry(){const e=this._pbf;e.pos=this._geometry;const a=e.readVarint()+e.pos,n=[];let c,f=1,h=0,s=0,x=0;for(;e.pos<a;){if(h<=0){const w=e.readVarint();f=w&7,h=w>>3}if(h--,f===1||f===2)s+=e.readSVarint(),x+=e.readSVarint(),f===1&&(c&&n.push(c),c=[]),c&&c.push(new Sl(s,x));else if(f===7)c&&c.push(c[0].clone());else throw new Error(`unknown command ${f}`)}return c&&n.push(c),n}bbox(){const e=this._pbf;e.pos=this._geometry;const a=e.readVarint()+e.pos;let n=1,c=0,f=0,h=0,s=1/0,x=-1/0,w=1/0,I=-1/0;for(;e.pos<a;){if(c<=0){const R=e.readVarint();n=R&7,c=R>>3}if(c--,n===1||n===2)f+=e.readSVarint(),h+=e.readSVarint(),f<s&&(s=f),f>x&&(x=f),h<w&&(w=h),h>I&&(I=h);else if(n!==7)throw new Error(`unknown command ${n}`)}return[s,w,x,I]}toGeoJSON(e,a,n){const c=this.extent*Math.pow(2,n),f=this.extent*e,h=this.extent*a,s=this.loadGeometry();function x(E){return[(E.x+f)*360/c-180,360/Math.PI*Math.atan(Math.exp((1-(E.y+h)*2/c)*Math.PI))-90]}function w(E){return E.map(x)}let I;if(this.type===1){const E=[];for(const Y of s)E.push(Y[0]);const M=w(E);I=E.length===1?{type:"Point",coordinates:M[0]}:{type:"MultiPoint",coordinates:M}}else if(this.type===2){const E=s.map(w);I=E.length===1?{type:"LineString",coordinates:E[0]}:{type:"MultiLineString",coordinates:E}}else if(this.type===3){const E=aD(s),M=[];for(const Y of E)M.push(Y.map(w));I=M.length===1?{type:"Polygon",coordinates:M[0]}:{type:"MultiPolygon",coordinates:M}}else throw new Error("unknown feature type");const R={type:"Feature",geometry:I,properties:this.properties};return this.id!=null&&(R.id=this.id),R}}Bx.types=["Unknown","Point","LineString","Polygon"];function tD(t,e,a){t===1?e.id=a.readVarint():t===2?iD(a,e):t===3?e.type=a.readVarint():t===4&&(e._geometry=a.pos)}function iD(t,e){const a=t.readVarint()+t.pos;for(;t.pos<a;){const n=e._keys[t.readVarint()],c=e._values[t.readVarint()];e.properties[n]=c}}function aD(t){const e=t.length;if(e<=1)return[t];const a=[];let n,c;for(let f=0;f<e;f++){const h=rD(t[f]);h!==0&&(c===void 0&&(c=h<0),c===h<0?(n&&a.push(n),n=[t[f]]):n&&n.push(t[f]))}return n&&a.push(n),a}function rD(t){let e=0;for(let a=0,n=t.length,c=n-1,f,h;a<n;c=a++)f=t[a],h=t[c],e+=(h.x-f.x)*(f.y+h.y);return e}class nD{constructor(e,a){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(sD,this,a),this.length=this._features.length}feature(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];const a=this._pbf.readVarint()+this._pbf.pos;return new Bx(this._pbf,a,this.extent,this._keys,this._values)}}function sD(t,e,a){t===15?e.version=a.readVarint():t===1?e.name=a.readString():t===5?e.extent=a.readVarint():t===2?e._features.push(a.pos):t===3?e._keys.push(a.readString()):t===4&&e._values.push(oD(a))}function oD(t){let e=null;const a=t.readVarint()+t.pos;for(;t.pos<a;){const n=t.readVarint()>>3;e=n===1?t.readString():n===2?t.readFloat():n===3?t.readDouble():n===4?t.readVarint64():n===5?t.readVarint():n===6?t.readSVarint():n===7?t.readBoolean():null}return e}class lD{constructor(e,a){this.layers=e.readFields(AD,{},a)}}function AD(t,e,a){if(t===3){const n=new nD(a,a.readVarint()+a.pos);n.length&&(e[n.name]=n)}}const cD=async(t,{z:e,x:a,y:n},c,f)=>{const s=await new Ag(t).getZxy(e,a,n);if(!s||!s.data)throw new Error("");const w=new lD(new kk(s.data)).layers[c];if(!w)throw new Error("");for(let I=0;I<w.length;I++){const R=w.feature(I);if(R.id===f)return R.properties}return console.warn("  feature_id "),null};var hD=(t,e,a,n)=>{e(q(a)),n(e())},uD=ft('<button class="bg-sub flex w-full cursor-pointer items-center justify-center gap-2 rounded-full p-2 text-left text-white"> </button>'),dD=ft('<div class="c-scroll-hidden flex grow flex-col gap-4 overflow-y-auto overflow-x-hidden px-2 pb-4"></div>'),fD=(t,e,a)=>e(q(a)),gD=ft('<img alt="Icon" class="h-8 w-8 rounded-full object-cover">'),pD=ft('<button class="flex w-full cursor-pointer items-center justify-center gap-2 p-2 text-left text-base"><div class="grid shrink-0 place-items-center"><!></div> <div class="flex w-full flex-col justify-center gap-[1px]"><span> </span> <span class="text-xs"> </span></div></button>'),mD=ft('<div class="c-scroll-hidden flex grow flex-col divide-y-2 divide-gray-600 overflow-y-auto overflow-x-hidden px-2 pb-4"><!> <div class="h-[200px] w-full shrink-0"></div></div>'),_D=ft('<div class="bg-main w-side-menu absolute z-10 flex h-full flex-col gap-2 pt-[70px]"><div class="flex items-center justify-between p-2"><!></div> <!> <!> <div class="c-fog pointer-events-none absolute bottom-0 z-10 flex h-[100px] w-full items-end justify-center pb-4 svelte-acdvpo"></div></div>');function bD(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(Fs,"$isSideMenuType",a);let f=si(e,"featureMenuData",15),h=si(e,"inputSearchWord",15),s=si(e,"showSelectionMarker",15),x=si(e,"selectionMarkerLngLat",15),w=null;const I=100,R={};Mr(async()=>{w=await fetch(`${M7}/search_data.json`).then(Ae=>Ae.json()).then(Ae=>Ae).catch(Ae=>{console.error("Error fetching search data:",Ae)}),w.forEach(Ae=>{const ce=Ae.layer_id,he=Qg.find(ae=>ae.id===ce),se=he?he.metaData.location:null;se&&(R[ce]=se)})});let E=$t(Jr([]));const M=async Ae=>{if(Ae.propId){const ce=await cD(`${R7}/fac_search.pmtiles`,Ae.tile,Ae.layerId,Ae.featureId),he={layerId:Ae.layerId,properties:ce,point:Ae.point,featureId:Ae.featureId};f(he)}da.easeTo({center:Ae.point,zoom:17}),x(Ae.point),s(!0)},Y=async Ae=>{if(!w){console.error("Search data is not loaded yet.");return}const he=new kh(w,{keys:["search_values"],threshold:.1}).search(Ae,{limit:I}),se=he.map(J=>{const ge=J.item;return{name:ge.name,location:R[ge.layer_id]||null,tile:ge.tile_coords,point:ge.point,layerId:ge.layer_id,featureId:ge.feature_id,propId:ge.prop_id}}),V=(await FP(Ae)).slice(0,I-he.length).map(({geometry:{coordinates:J},properties:ge})=>{const le=ge.addressCode?nx(ge.addressCode):null;return{point:J,name:ge.title,location:le}});st(E,[...se,...V],!0)},D=["","",""];var O=xi(),H=kt(O);{var $=Ae=>{var ce=_D(),he=Le(ce),se=Le(he);Pk(se,{get layerEntries(){return e.layerEntries},searchFeature:le=>Y(le),get results(){return q(E)},set results(le){st(E,le,!0)},get inputSearchWord(){return h()},set inputSearchWord(le){h(le)}}),Ue(he);var ae=Ze(he,2);{var V=le=>{var _e=dD();Ea(_e,21,()=>D,pr,(ve,He)=>{var nt=uD();nt.__click=[hD,h,He,Y];var $e=Le(nt,!0);Ue(nt),di(()=>yi($e,q(He))),Ve(ve,nt)}),Ue(_e),Ve(le,_e)};It(ae,le=>{q(E)||le(V)})}var J=Ze(ae,2);{var ge=le=>{var _e=mD(),ve=Le(_e);Ea(ve,17,()=>q(E),pr,(He,nt)=>{var $e=pD();$e.__click=[fD,M,nt];var Je=Le($e),gt=Le(Je);{var Rt=it=>{var rt=gD();di(()=>ja(rt,"src",dg[q(nt).propId].image)),Ve(it,rt)};It(gt,it=>{q(nt).propId&&dg[q(nt).propId]&&it(Rt)})}Ue(Je);var Yt=Ze(Je,2),ot=Le(Yt),mt=Le(ot,!0);Ue(ot);var je=Ze(ot,2),Qe=Le(je,!0);Ue(je),Ue(Yt),Ue($e),di(()=>{yi(mt,q(nt).name),yi(Qe,q(nt).location??"---")}),Ve(He,$e)}),Ga(2),Ue(_e),Ve(le,_e)};It(J,le=>{q(E)&&le(ge)})}Ga(2),Ue(ce),ba(3,ce,()=>ds,()=>({duration:300,x:-100,opacity:0})),Ve(Ae,ce)};It(H,Ae=>{c()==="search"&&Ae($)})}Ve(t,O),_i(),n()}$a(["click"]);var yD=ft('<div class="absolute left-0 top-0 z-30 h-full w-full bg-black/50" role="button" tabindex="0"></div> <div class="bg-main absolute left-0 top-0 z-30 flex h-full w-[400px] flex-col gap-2 p-2 text-base"><div class="flex items-center justify-between"><!> <button class="bg-base cursor-pointer rounded-full p-2"><!></button></div> <ui><button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span class="select-none"></span></button> <button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span class="select-none"></span></button> <button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span class="select-none"></span></button></ui> <div class="w-hull bg-base h-[1px] rounded-full"></div> <ui><button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span class="select-none"></span></button> <button class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150"><!> <span class="select-none"></span></button> <a class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150" href="https://github.com/forestacdev/enshurin-viewer" target="_blank" rel="noopener noreferrer"><!> <span>GitHub</span></a> <a class="hover:text-accent transition-text flex w-full cursor-pointer items-center justify-start gap-2 p-2 duration-150" href="https://www.forest.ac.jp/" target="_blank" rel="noopener noreferrer"><!> <span>HP</span></a></ui> <ui class="mt-auto">Ver. 0.1.0 beta</ui></div>',1);function vD(t,e){mi(e,!1);const[a,n]=rr(),c=()=>zi(zo,"$showDataMenu",a),f=()=>zi(ig,"$showInfoDialog",a),h=()=>zi(ag,"$showTermsDialog",a),s=()=>zi(Qn,"$showSideMenu",a),x=()=>{Qn.set(!1),Fs.set("layer")},w=()=>{Qn.set(!1),Fs.set("search")},I=()=>{Qn.set(!1),zo.set(!c())},R=()=>{Qn.set(!1),ig.set(!f())},E=()=>{Qn.set(!1),ag.set(!h())};QA.subscribe(O=>{Qn.set(!1)}),Vo();var M=xi(),Y=kt(M);{var D=O=>{var H=yD(),$=kt(H);$.__click=()=>Qn.set(!1),$.__keydown=Qe=>{(Qe.key==="Enter"||Qe.key===" ")&&Qn.set(!1)};var Ae=Ze($,2),ce=Le(Ae),he=Le(ce);pN(he);var se=Ze(he,2);se.__click=()=>Qn.set(!1);var ae=Le(se);vi(ae,{icon:"material-symbols:close-rounded",class:"text-main h-4 w-4"}),Ue(se),Ue(ce);var V=Ze(ce,2),J=Le(V);J.__click=w;var ge=Le(J);vi(ge,{icon:"stash:search-solid",class:"h-8 w-8"}),Ga(2),Ue(J);var le=Ze(J,2);le.__click=x;var _e=Le(le);vi(_e,{icon:"ic:round-layers",class:"h-8 w-8"}),Ga(2),Ue(le);var ve=Ze(le,2);ve.__click=I;var He=Le(ve);vi(He,{icon:"material-symbols:data-saver-on-rounded",class:"h-8 w-8"}),Ga(2),Ue(ve),Ue(V);var nt=Ze(V,4),$e=Le(nt);$e.__click=E;var Je=Le($e);vi(Je,{icon:"majesticons:note-text",class:"h-8 w-8"}),Ga(2),Ue($e);var gt=Ze($e,2);gt.__click=R;var Rt=Le(gt);vi(Rt,{icon:"akar-icons:info-fill",class:"h-8 w-8"}),Ga(2),Ue(gt);var Yt=Ze(gt,2),ot=Le(Yt);vi(ot,{icon:"mdi:github",class:"h-8 w-8"}),Ga(2),Ue(Yt);var mt=Ze(Yt,2),je=Le(mt);vi(je,{icon:"mdi:web",class:"h-8 w-8"}),Ga(2),Ue(mt),Ue(nt),Ga(2),Ue(Ae),ba(3,$,()=>As,()=>({duration:200})),ba(3,Ae,()=>ds,()=>({duration:200,x:-100,opacity:0})),Ve(O,H)};It(Y,O=>{s()&&O(D)})}Ve(t,M),_i(),n()}$a(["click","keydown"]);var xD=ft('<div class="c-player-marker z-50 grid scale-75 place-items-center svelte-8jzl6m"><svg xmlns="http://www.w3.org/2000/svg" width="73" height="73" fill="none" class="svelte-8jzl6m"><path fill="#333" d="M36.5 2 59 64 36.5 50.5 14 64 36.5 2Z" class="svelte-8jzl6m"></path><path stroke="#333" d="M36.5 2 59 64 36.5 50.5 14 64 36.5 2Z" class="svelte-8jzl6m"></path></svg></div>');function wD(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(Pl,"$isStreetView",a);Mr(()=>{});var f=xi(),h=kt(f);{var s=x=>{var w=xD();Ve(x,w)};It(h,x=>{c()&&x(s)})}Ve(t,f),_i(),n()}/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.20.0
 * @author George Michael Brower
 * @license MIT
 */class so{constructor(e,a,n,c,f="div"){this.parent=e,this.object=a,this.property=n,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement(f),this.domElement.classList.add("controller"),this.domElement.classList.add(c),this.$name=document.createElement("div"),this.$name.classList.add("name"),so.nextNameID=so.nextNameID||0,this.$name.id=`lil-gui-name-${++so.nextNameID}`,this.$widget=document.createElement("div"),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.domElement.addEventListener("keydown",h=>h.stopPropagation()),this.domElement.addEventListener("keyup",h=>h.stopPropagation()),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(n)}name(e){return this._name=e,this.$name.textContent=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled?this:(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e),this)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(e){const a=this.parent.add(this.object,this.property,e);return a.name(this._name),this.destroy(),a}min(e){return this}max(e){return this}step(e){return this}decimals(e){return this}listen(e=!0){return this._listening=e,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const e=this.save();e!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=e}getValue(){return this.object[this.property]}setValue(e){return this.getValue()!==e&&(this.object[this.property]=e,this._callOnChange(),this.updateDisplay()),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class BD extends so{constructor(e,a,n){super(e,a,n,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function Bm(t){let e,a;return(e=t.match(/(#|0x)?([a-f0-9]{6})/i))?a=e[2]:(e=t.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?a=parseInt(e[1]).toString(16).padStart(2,0)+parseInt(e[2]).toString(16).padStart(2,0)+parseInt(e[3]).toString(16).padStart(2,0):(e=t.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(a=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),a?"#"+a:!1}const CD={isPrimitive:!0,match:t=>typeof t=="string",fromHexString:Bm,toHexString:Bm},u0={isPrimitive:!0,match:t=>typeof t=="number",fromHexString:t=>parseInt(t.substring(1),16),toHexString:t=>"#"+t.toString(16).padStart(6,0)},MD={isPrimitive:!1,match:t=>Array.isArray(t),fromHexString(t,e,a=1){const n=u0.fromHexString(t);e[0]=(n>>16&255)/255*a,e[1]=(n>>8&255)/255*a,e[2]=(n&255)/255*a},toHexString([t,e,a],n=1){n=255/n;const c=t*n<<16^e*n<<8^a*n<<0;return u0.toHexString(c)}},RD={isPrimitive:!1,match:t=>Object(t)===t,fromHexString(t,e,a=1){const n=u0.fromHexString(t);e.r=(n>>16&255)/255*a,e.g=(n>>8&255)/255*a,e.b=(n&255)/255*a},toHexString({r:t,g:e,b:a},n=1){n=255/n;const c=t*n<<16^e*n<<8^a*n<<0;return u0.toHexString(c)}},ID=[CD,u0,MD,RD];function UD(t){return ID.find(e=>e.match(t))}class ED extends so{constructor(e,a,n,c){super(e,a,n,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=UD(this.initialValue),this._rgbScale=c,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const f=Bm(this.$text.value);f&&this._setValueFromHexString(f)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){const a=this._format.fromHexString(e);this.setValue(a)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class M3 extends so{constructor(e,a,n){super(e,a,n,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",c=>{c.preventDefault(),this.getValue().call(this.object),this._callOnChange()}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class FD extends so{constructor(e,a,n,c,f,h){super(e,a,n,"number"),this._initInput(),this.min(c),this.max(f);const s=h!==void 0;this.step(s?h:this._getImplicitStep(),s),this.updateDisplay()}decimals(e){return this._decimals=e,this.updateDisplay(),this}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,a=!0){return this._step=e,this._stepExplicit=a,this}updateDisplay(){const e=this.getValue();if(this._hasSlider){let a=(e-this._min)/(this._max-this._min);a=Math.max(0,Math.min(a,1)),this.$fill.style.width=a*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?e:e.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;const a=()=>{let $=parseFloat(this.$input.value);isNaN($)||(this._stepExplicit&&($=this._snap($)),this.setValue(this._clamp($)))},n=$=>{const Ae=parseFloat(this.$input.value);isNaN(Ae)||(this._snapClampSetValue(Ae+$),this.$input.value=this.getValue())},c=$=>{$.key==="Enter"&&this.$input.blur(),$.code==="ArrowUp"&&($.preventDefault(),n(this._step*this._arrowKeyMultiplier($))),$.code==="ArrowDown"&&($.preventDefault(),n(this._step*this._arrowKeyMultiplier($)*-1))},f=$=>{this._inputFocused&&($.preventDefault(),n(this._step*this._normalizeMouseWheel($)))};let h=!1,s,x,w,I,R;const E=5,M=$=>{s=$.clientX,x=w=$.clientY,h=!0,I=this.getValue(),R=0,window.addEventListener("mousemove",Y),window.addEventListener("mouseup",D)},Y=$=>{if(h){const Ae=$.clientX-s,ce=$.clientY-x;Math.abs(ce)>E?($.preventDefault(),this.$input.blur(),h=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(Ae)>E&&D()}if(!h){const Ae=$.clientY-w;R-=Ae*this._step*this._arrowKeyMultiplier($),I+R>this._max?R=this._max-I:I+R<this._min&&(R=this._min-I),this._snapClampSetValue(I+R)}w=$.clientY},D=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",D)},O=()=>{this._inputFocused=!0},H=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",a),this.$input.addEventListener("keydown",c),this.$input.addEventListener("wheel",f,{passive:!1}),this.$input.addEventListener("mousedown",M),this.$input.addEventListener("focus",O),this.$input.addEventListener("blur",H)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const e=(H,$,Ae,ce,he)=>(H-$)/(Ae-$)*(he-ce)+ce,a=H=>{const $=this.$slider.getBoundingClientRect();let Ae=e(H,$.left,$.right,this._min,this._max);this._snapClampSetValue(Ae)},n=H=>{this._setDraggingStyle(!0),a(H.clientX),window.addEventListener("mousemove",c),window.addEventListener("mouseup",f)},c=H=>{a(H.clientX)},f=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",f)};let h=!1,s,x;const w=H=>{H.preventDefault(),this._setDraggingStyle(!0),a(H.touches[0].clientX),h=!1},I=H=>{H.touches.length>1||(this._hasScrollBar?(s=H.touches[0].clientX,x=H.touches[0].clientY,h=!0):w(H),window.addEventListener("touchmove",R,{passive:!1}),window.addEventListener("touchend",E))},R=H=>{if(h){const $=H.touches[0].clientX-s,Ae=H.touches[0].clientY-x;Math.abs($)>Math.abs(Ae)?w(H):(window.removeEventListener("touchmove",R),window.removeEventListener("touchend",E))}else H.preventDefault(),a(H.touches[0].clientX)},E=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",R),window.removeEventListener("touchend",E)},M=this._callOnFinishChange.bind(this),Y=400;let D;const O=H=>{if(Math.abs(H.deltaX)<Math.abs(H.deltaY)&&this._hasScrollBar)return;H.preventDefault();const Ae=this._normalizeMouseWheel(H)*this._step;this._snapClampSetValue(this.getValue()+Ae),this.$input.value=this.getValue(),clearTimeout(D),D=setTimeout(M,Y)};this.$slider.addEventListener("mousedown",n),this.$slider.addEventListener("touchstart",I,{passive:!1}),this.$slider.addEventListener("wheel",O,{passive:!1})}_setDraggingStyle(e,a="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle(`lil-gui-${a}`,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:a,deltaY:n}=e;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(a=0,n=-e.wheelDelta/120,n*=this._stepExplicit?1:10),a+-n}_arrowKeyMultiplier(e){let a=this._stepExplicit?1:10;return e.shiftKey?a*=10:e.altKey&&(a/=10),a}_snap(e){let a=0;return this._hasMin?a=this._min:this._hasMax&&(a=this._max),e-=a,e=Math.round(e/this._step)*this._step,e+=a,e=parseFloat(e.toPrecision(15)),e}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){const e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class TD extends so{constructor(e,a,n,c){super(e,a,n,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.options(c)}options(e){return this._values=Array.isArray(e)?e:Object.values(e),this._names=Array.isArray(e)?e:Object.keys(e),this.$select.replaceChildren(),this._names.forEach(a=>{const n=document.createElement("option");n.textContent=a,this.$select.appendChild(n)}),this.updateDisplay(),this}updateDisplay(){const e=this.getValue(),a=this._values.indexOf(e);return this.$select.selectedIndex=a,this.$display.textContent=a===-1?e:this._names[a],this}}class SD extends so{constructor(e,a,n){super(e,a,n,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("spellcheck","false"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",c=>{c.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}var YD=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
  background: var(--background-color);
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  height: var(--title-height);
  font-weight: 600;
  padding: 0 var(--padding);
  width: 100%;
  text-align: left;
  background: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui label, .lil-gui input, .lil-gui button {
  -webkit-tap-highlight-color: transparent;
}
.lil-gui input {
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
  -moz-appearance: textfield;
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input[type=checkbox] {
  appearance: none;
  width: var(--checkbox-size);
  height: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  border: none;
}
.lil-gui .controller button {
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
}
@media (hover: hover) {
  .lil-gui .controller button:hover {
    background: var(--hover-color);
  }
  .lil-gui .controller button:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui .controller button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function ND(t){const e=document.createElement("style");e.innerHTML=t;const a=document.querySelector("head link[rel=stylesheet], head style");a?document.head.insertBefore(e,a):document.head.appendChild(e)}let Qv=!1;class v4{constructor({parent:e,autoPlace:a=e===void 0,container:n,width:c,title:f="Controls",closeFolders:h=!1,injectStyles:s=!0,touchStyles:x=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("button"),this.$title.classList.add("title"),this.$title.setAttribute("aria-expanded",!0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(f),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),x&&this.domElement.classList.add("allow-touch-styles"),!Qv&&s&&(ND(YD),Qv=!0),n?n.appendChild(this.domElement):a&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),c&&this.domElement.style.setProperty("--width",c+"px"),this._closeFolders=h}add(e,a,n,c,f){if(Object(n)===n)return new TD(this,e,a,n);const h=e[a];switch(typeof h){case"number":return new FD(this,e,a,n,c,f);case"boolean":return new BD(this,e,a);case"string":return new SD(this,e,a);case"function":return new M3(this,e,a)}console.error(`gui.add failed
	property:`,a,`
	object:`,e,`
	value:`,h)}addColor(e,a,n=1){return new ED(this,e,a,n)}addFolder(e){const a=new v4({parent:this,title:e});return this.root._closeFolders&&a.close(),a}load(e,a=!0){return e.controllers&&this.controllers.forEach(n=>{n instanceof M3||n._name in e.controllers&&n.load(e.controllers[n._name])}),a&&e.folders&&this.folders.forEach(n=>{n._title in e.folders&&n.load(e.folders[n._title])}),this}save(e=!0){const a={controllers:{},folders:{}};return this.controllers.forEach(n=>{if(!(n instanceof M3)){if(n._name in a.controllers)throw new Error(`Cannot save GUI with duplicate property "${n._name}"`);a.controllers[n._name]=n.save()}}),e&&this.folders.forEach(n=>{if(n._title in a.folders)throw new Error(`Cannot save GUI with duplicate folder "${n._title}"`);a.folders[n._title]=n.save()}),a}open(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(e){this._closed!==e&&(this._closed=e,this._callOnOpenClose(this))}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const a=this.$children.clientHeight;this.$children.style.height=a+"px",this.domElement.classList.add("transition");const n=f=>{f.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",n))};this.$children.addEventListener("transitionend",n);const c=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=c+"px"})}),this}title(e){return this._title=e,this.$title.textContent=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(n=>n.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),this._onChange!==void 0&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onOpenClose(e){return this._onOpenClose=e,this}_callOnOpenClose(e){this.parent&&this.parent._callOnOpenClose(e),this._onOpenClose!==void 0&&this._onOpenClose.call(this,e)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach(a=>{e=e.concat(a.controllersRecursive())}),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach(a=>{e=e.concat(a.foldersRecursive())}),e}}const LD=[{id:"2d095ab2-c2c6-477e-ba12-daed8b8585be",angleX:345.6,angleY:33.12,angleZ:0},{id:"806d8a3d-5293-453e-9582-80004d2d06c6",angleX:0,angleY:180,angleZ:0},{id:"a4548c3b-a0b7-4ede-a138-c5dc6b875933",angleX:0,angleY:169.92,angleZ:0},{id:"7f74c57d-c9ef-42fc-9fb7-a27d06be2f84",angleX:0,angleY:195.48,angleZ:0},{id:"63fef656-419e-4d3a-9e54-bd3a7a87c682",angleX:0,angleY:22.68,angleZ:0},{id:"f0c9820f-5b58-48ee-99e5-7955e6158884",angleX:0,angleY:185.04,angleZ:0},{id:"bc9bbd19-91ef-4851-8182-3db226e0368d",angleX:0,angleY:190.08,angleZ:0},{id:"dcddcc93-94eb-4ef4-86b9-c02c3cf50bd9",angleX:0,angleY:331.56,angleZ:0},{id:"d3f205e4-2f37-44e5-a2df-04d5d312ed4d",angleX:0,angleY:0,angleZ:0},{id:"18720b37-aea0-46b7-a26e-3f517fab2963",angleX:0,angleY:178.92,angleZ:0},{id:"8eab0199-39e9-43f0-a6ff-b209c86c1190",angleX:6.48,angleY:174.24,angleZ:352.44},{id:"54bbbad1-16d6-41d3-9e02-a69b18a68818",angleX:0,angleY:169.56,angleZ:0},{id:"195b0c47-9ab8-4ef0-92ec-6dae7c45bf4d",angleX:0,angleY:121.32,angleZ:0},{id:"4e9ae76e-1cd1-40d8-842d-c73ea77d31c3",angleX:0,angleY:0,angleZ:0},{id:"5fbb39cc-da39-4993-aac1-da8fffa277b7",angleX:0,angleY:105.12,angleZ:345.96},{id:"c07bdcc3-4f9f-44b0-b3e8-3062d76c1755",angleX:10.44,angleY:149.76,angleZ:343.44},{id:"e48ce9ff-a7af-4303-82e4-907b63ae1f15",angleX:0,angleY:312.12,angleZ:0},{id:"fe8ce83a-1deb-4746-ad57-d065869542db",angleX:0,angleY:0,angleZ:0},{id:"92edfca3-f2cf-4712-947a-fd9ce9bd2443",angleX:351,angleY:24.84,angleZ:0},{id:"fb9da0b1-94b7-4d70-8311-a1b3815a6bf8",angleX:0,angleY:242.64,angleZ:0},{id:"784ffbf9-d075-4590-9f4d-88da92332743",angleX:0,angleY:160.92,angleZ:0},{id:"7d6c4174-0c20-43bf-bc33-1d1f8de0c67c",angleX:0,angleY:63.36,angleZ:0},{id:"f46fa0c6-29bf-4515-b3a8-625f3caf8915",angleX:0,angleY:210.24,angleZ:0},{id:"c4143759-f84c-4d16-b348-2db5c4586ef8",angleX:0,angleY:236.52,angleZ:0},{id:"68669c1b-3c4b-4648-af9b-2b06bbadb69e",angleX:0,angleY:339.12,angleZ:0},{id:"f0446006-4b3c-484d-a60f-89c1a35d440b",angleX:349.2,angleY:340.92,angleZ:357.12},{id:"ccb8bd2f-23d5-4110-8ccb-7896d1192715",angleX:0,angleY:202.32,angleZ:0},{id:"c5d29148-d5f9-4335-98cc-7ace506b0822",angleX:0,angleY:60.12,angleZ:0},{id:"5ceb5e76-be1a-4646-9169-c2621e61d1e1",angleX:0,angleY:309.24,angleZ:0},{id:"ebe9aeea-f131-459d-87e2-04d8567d642f",angleX:0,angleY:0,angleZ:0},{id:"72f6af4d-d44e-420c-b329-05ede39a7c04",angleX:0,angleY:338.04,angleZ:0},{id:"6cc0ab91-1a88-4215-9871-17ab4561a8c0",angleX:0,angleY:157.68,angleZ:0},{id:"820923e2-c0ca-43fd-b328-23c5524169ce",angleX:0,angleY:206.28,angleZ:0},{id:"954c4373-7a88-4b4b-89d4-22aa8ed866c1",angleX:12.6,angleY:243.36,angleZ:0},{id:"e6bdea15-6779-4521-b45e-63045ed19114",angleX:0,angleY:77.04,angleZ:0},{id:"5fd6f5be-c0b1-4bf7-9614-45b124600bad",angleX:0,angleY:159.84,angleZ:0},{id:"fafb18e7-fe8a-4dd8-9f29-7cb74f61803f",angleX:0,angleY:271.44,angleZ:0},{id:"6b1ccdb8-789d-4ae5-9115-d205b029913b",angleX:0,angleY:284.76,angleZ:14.76},{id:"99df69ad-ffe5-4b50-98f5-a8c8e904b322",angleX:0,angleY:22.68,angleZ:0},{id:"52f84182-eeb8-48ea-ab9e-59cc0c7b8f09",angleX:0,angleY:45.72,angleZ:0},{id:"d2c14319-9692-4c9a-bc20-cc115228ddc1",angleX:0,angleY:0,angleZ:0},{id:"24cb17a8-1535-41d6-b8c8-afe22460a5ce",angleX:0,angleY:54.72,angleZ:0},{id:"b993ed6d-ff21-4ed6-9e45-b3d43f918951",angleX:0,angleY:324.72,angleZ:0},{id:"3a1f6bbd-11ba-4350-a16d-7618f0ed6de1",angleX:0,angleY:0,angleZ:0},{id:"a27b8577-698c-4239-88db-f9f026c91fbb",angleX:0,angleY:329.04,angleZ:0},{id:"2f1d27bb-2011-4988-8def-272f2fc27a42",angleX:0,angleY:324.72,angleZ:0},{id:"eb3a85b9-38b7-4d54-aa0d-c478cb98f901",angleX:337.68,angleY:0,angleZ:0},{id:"642d6c4d-4733-4422-bfe8-2960f12caef7",angleX:0,angleY:32.4,angleZ:0},{id:"cf19f20d-94b7-4ae8-91c3-744f8dfa5aba",angleX:0,angleY:76.68,angleZ:0},{id:"2b3776ff-7665-4024-907b-72af43004e60",angleX:0,angleY:231.84,angleZ:0},{id:"81dd6481-87d4-46a7-9759-2cdbe8c32dbf",angleX:0,angleY:338.04,angleZ:0},{id:"644a68f5-b574-4cf6-818e-95b7c18e2c02",angleX:0,angleY:54.36,angleZ:0},{id:"bb6cab72-30a0-45cf-a8c2-ca1761381d4e",angleX:0,angleY:72.72,angleZ:0},{id:"266eed65-5752-44fc-95d8-0107a4124bc0",angleX:0,angleY:165.96,angleZ:0},{id:"00cff6a2-caeb-43c3-a967-b5c8cc2f386b",angleX:0,angleY:182.16,angleZ:0},{id:"18ef3957-8def-4643-9762-d56ac06ee276",angleX:8.28,angleY:235.08,angleZ:0},{id:"33494c1f-9292-4f10-ae1f-4598ba176230",angleX:0,angleY:0,angleZ:0},{id:"8e8da934-5ef1-4c9e-a4dc-742e0b0c68f3",angleX:0,angleY:0,angleZ:0},{id:"ff70f739-ecc3-4c95-8560-2cd9f0a7238e",angleX:0,angleY:226.08,angleZ:0},{id:"24d7e470-d984-476d-9cf3-e5531b7b413b",angleX:0,angleY:309.24,angleZ:0},{id:"16c58973-2bd5-4965-96e2-e0a98b807a9c",angleX:0,angleY:62.28,angleZ:0},{id:"82d238e7-2645-4664-b8ad-8011e91be5a5",angleX:10.08,angleY:180,angleZ:341.64},{id:"dca135b2-149d-426c-ac4e-1ca528788d14",angleX:0,angleY:347.76,angleZ:360},{id:"5581ce61-2ab5-4501-9b82-c8e7b7bcecc7",angleX:0,angleY:238.68,angleZ:0},{id:"9bb88468-a55e-4fb5-8a95-1d4a6b80de39",angleX:0,angleY:81.36,angleZ:0},{id:"b49e3c58-807e-4459-845a-6acec3e01c54",angleX:0,angleY:101.16,angleZ:0},{id:"81d26a76-c4a4-4a41-a4ac-40bae55cd83a",angleX:0,angleY:326.52,angleZ:0},{id:"e05a4426-a94c-4675-895d-837440e3f12e",angleX:18.36,angleY:306,angleZ:7.92},{id:"4966444b-f798-4492-88e7-59c9794d3a74",angleX:0,angleY:195.48,angleZ:0},{id:"785a861c-f536-471b-90db-9fb3fdd5414d",angleX:0,angleY:155.52,angleZ:0},{id:"4169e804-e082-46d5-8286-f170c4c6a6b6",angleX:0,angleY:40.32,angleZ:0},{id:"1068e5d1-c464-4506-89eb-153a71fa0dc0",angleX:0,angleY:351,angleZ:0},{id:"b25c999a-4d12-48ea-bdb7-00c6b9eb7e1e",angleX:0,angleY:271.08,angleZ:0},{id:"f8399f26-4b05-40db-b0d2-27564bdcd5eb",angleX:0,angleY:307.8,angleZ:0},{id:"e79d2113-b714-4743-98fa-db97f9efd9d8",angleX:0,angleY:313.56,angleZ:0},{id:"cde292ce-d6c5-42bb-88d4-2055c3498818",angleX:345.96,angleY:86.76,angleZ:345.96},{id:"51fc8a9c-4884-484c-ade7-aaf400f4b672",angleX:0,angleY:95.4,angleZ:0},{id:"75d09c4a-01a4-4ecc-8540-7856a9a87a64",angleX:0,angleY:169.56,angleZ:0},{id:"443b5e4a-cdd0-416f-ae3e-72b4807146eb",angleX:0,angleY:14.04,angleZ:0},{id:"c1a0e780-39fb-4b53-86d8-5c7027275f13",angleX:0,angleY:201.96,angleZ:0},{id:"7a0b51c3-20d1-4f83-9ccc-828db3e54b00",angleX:0,angleY:191.52,angleZ:0},{id:"31ae9696-1480-428e-8a95-1e5e39f02d94",angleX:0,angleY:323.64,angleZ:0},{id:"c175fcf3-baf9-4b8a-a5a6-f2cae26a2d70",angleX:0,angleY:202.32,angleZ:0},{id:"9ebe4076-473a-4896-9bb7-6ed2441b7637",angleX:0,angleY:180.36,angleZ:0},{id:"65236f73-de4a-4b11-9d79-1d99fe3bc60e",angleX:351.72,angleY:74.88,angleZ:0},{id:"494f8ad9-f560-4df8-b684-5eb2a993aaed",angleX:0,angleY:262.8,angleZ:0},{id:"f692e86a-2276-4ea7-bc91-87cd6ef3f93a",angleX:357.84,angleY:60.12,angleZ:0},{id:"e27f0531-fb28-4e32-b389-bf9beda7b936",angleX:0,angleY:157.68,angleZ:0},{id:"e9fa81f3-8e30-4c98-bbee-c43da9bee234",angleX:0,angleY:29.16,angleZ:0},{id:"089db877-2e33-4f84-b33d-b50fd80be429",angleX:0,angleY:0,angleZ:0},{id:"97e48621-d378-4a21-8705-cb76ca6a5dc8",angleX:0,angleY:230.04,angleZ:0},{id:"b8ad9125-4f3b-47cf-91d1-018dda7e3345",angleX:351.72,angleY:85.32,angleZ:0},{id:"9facc575-a168-4054-8259-14c7b17eb50e",angleX:0,angleY:162.36,angleZ:0},{id:"a2ca91d8-7d5c-4b43-ac8f-bd85c3f35f4b",angleX:345.6,angleY:106.2,angleZ:0},{id:"6b491c73-0a6b-4ab1-a70f-03aeeb0ab151",angleX:0,angleY:7.92,angleZ:0},{id:"00c21f02-7750-4f0c-928e-88ca235e9b67",angleX:0,angleY:244.8,angleZ:0},{id:"464fdb88-ae7c-40e2-a833-7a8aa93eb938",angleX:0,angleY:114.48,angleZ:0},{id:"c68adabc-1bbc-47ba-b17f-a92c9314fdee",angleX:0,angleY:137.52,angleZ:0},{id:"fdbfaac8-9ada-4d5e-ad8f-f19f94de7945",angleX:0,angleY:7.92,angleZ:0},{id:"2f877e3c-02d6-4cb0-b432-35a2db82a33b",angleX:0,angleY:156.6,angleZ:0},{id:"b98098a0-a39e-47e2-9ca6-ce2c918a80f1",angleX:0,angleY:186.12,angleZ:0},{id:"70603dac-68ec-451c-aa7d-4f7ae3ea60eb",angleX:0,angleY:335.16,angleZ:0},{id:"54f1a5ef-52f4-47fc-9143-6f5f47261e1e",angleX:0,angleY:122.76,angleZ:0},{id:"cbec785b-641f-4eb2-ade1-79e57b224973",angleX:0,angleY:151.92,angleZ:0},{id:"827c817d-0923-4613-a769-76d952e396ca",angleX:6.12,angleY:319.68,angleZ:6.12},{id:"266dc671-314c-4a04-b997-333cf4896954",angleX:0,angleY:345.96,angleZ:0},{id:"e6c26e1f-f9a3-4f3f-9d99-0e846e280a94",angleX:0,angleY:135.36,angleZ:0},{id:"b8f6bf36-930c-4825-91ef-c448ae0e39dc",angleX:0,angleY:10.44,angleZ:0},{id:"07e8d184-9438-42cb-a60f-2bbad92682bf",angleX:0,angleY:327.6,angleZ:0},{id:"57a943b7-7c43-435a-9986-855e58befdd0",angleX:347.76,angleY:119.16,angleZ:0},{id:"2f6d9aeb-0e31-4d9b-9cd9-d296be901ff3",angleX:0,angleY:198,angleZ:0},{id:"c3e1acad-e60c-4466-8969-ab3bcd17c88b",angleX:0,angleY:303.48,angleZ:0},{id:"1fa63746-5020-4965-bb7e-76f65702efca",angleX:0,angleY:349.92,angleZ:0},{id:"eea6f2b6-b4f0-4988-ba59-252f4128d6c2",angleX:0,angleY:311.4,angleZ:0},{id:"fbe68c4c-71d7-4a49-ad69-964cb9776db4",angleX:0,angleY:333.36,angleZ:10.44},{id:"3c1d1946-f830-40fb-92a4-c07ba33529aa",angleX:0,angleY:204.12,angleZ:0},{id:"127321ca-f0bf-4d7c-aae3-5daf4f2f8b9a",angleX:0,angleY:29.16,angleZ:0},{id:"c086e123-d912-4012-9fb9-843be0944551",angleX:0,angleY:74.88,angleZ:0},{id:"23345942-6797-4005-8427-440be93a2dcf",angleX:0,angleY:192.24,angleZ:0},{id:"521b00fd-916b-4b8f-a201-3494f4e24bc8",angleX:0,angleY:0,angleZ:0},{id:"0af2b4ad-9a68-4c25-accb-722d369ddbeb",angleX:0,angleY:159.84,angleZ:0},{id:"706fe51b-2ee6-4918-ab11-4311894ff7b8",angleX:0,angleY:203.4,angleZ:0},{id:"0640ba69-2e08-46fa-aba7-28434bd39191",angleX:0,angleY:0,angleZ:0},{id:"26e1f54b-a336-49e4-b1bc-9858a750edca",angleX:0,angleY:141.48,angleZ:0},{id:"13314772-fe08-4088-b84f-9c15282ae495",angleX:0,angleY:213.84,angleZ:0},{id:"b0397178-5992-4daf-8f35-2d052b0aa5cf",angleX:0,angleY:107.28,angleZ:0},{id:"1241a9d6-d02d-43ab-8ef7-db2659bb36b5",angleX:7.56,angleY:244.8,angleZ:357.12},{id:"a058fb1d-afae-4725-984e-7934b778356a",angleX:351.36,angleY:156.96,angleZ:0},{id:"de03328d-71af-4365-8764-84d8cc5089f3",angleX:0,angleY:249.48,angleZ:0},{id:"f9b52d3b-d30e-4182-8c5a-15abbc8ddaed",angleX:0,angleY:10.44,angleZ:0},{id:"568ad1ef-0e4c-4f03-b004-622f7bf8e006",angleX:0,angleY:329.04,angleZ:0},{id:"0262703d-7834-4cb1-9cfc-8be6243342f4",angleX:0,angleY:60.48,angleZ:0},{id:"c814cf7a-f863-4ac2-b526-9c38f91e08bf",angleX:0,angleY:23.76,angleZ:0},{id:"427e1816-3562-4b7c-8eca-cb70131701ef",angleX:0,angleY:262.8,angleZ:0},{id:"5c22abfd-3644-4edd-a1b9-7c32b259fd8e",angleX:0,angleY:54.72,angleZ:0},{id:"7f3d289a-1f2c-429e-bef4-c57f730585ef",angleX:0,angleY:19.44,angleZ:0},{id:"0afc7f0a-0f3e-4888-9ef0-d300085cfade",angleX:0,angleY:0,angleZ:0},{id:"4cd83911-d237-4c24-9ed1-006092ab130b",angleX:0,angleY:329.04,angleZ:0},{id:"16db3bc9-6993-4792-ba52-5b39c93be075",angleX:0,angleY:222.84,angleZ:0},{id:"8a56337d-cd4d-44ab-b528-796f8ea7696e",angleX:0,angleY:92.88,angleZ:0},{id:"79daf39d-f056-4789-a9de-0a307d0d807e",angleX:0,angleY:60.12,angleZ:0},{id:"eec3ff06-c48d-4f4b-83a4-4a860b9038f4",angleX:5.4,angleY:231.84,angleZ:0},{id:"05e29ea3-f816-4d65-9bf4-09d743346025",angleX:0,angleY:153.72,angleZ:0},{id:"8cfb95c6-ffa3-415c-961a-01d2186b5f3d",angleX:0,angleY:227.16,angleZ:0},{id:"055e5fdd-41d7-4a6a-b6e4-68651a9cef61",angleX:0,angleY:236.52,angleZ:0},{id:"b326084b-7beb-4a0e-abf6-cbf4ff93d7b5",angleX:0,angleY:0,angleZ:0},{id:"f4374c5c-1d71-44ba-a3d0-806b09f987a2",angleX:0,angleY:180,angleZ:0},{id:"1c7a4117-5cb8-45d6-95cb-ff3743f11e1b",angleX:0,angleY:159.84,angleZ:0},{id:"139b3d14-371a-41f1-bf72-13005c34146a",angleX:0,angleY:0,angleZ:0},{id:"eff8984a-a037-44a9-a6d3-b67271dca211",angleX:0,angleY:186.12,angleZ:0},{id:"7466df8e-abf4-4f95-9a7e-2687c83cc113",angleX:0,angleY:37.44,angleZ:0},{id:"64576b90-1086-48bf-b906-ec2c3e1bda83",angleX:0,angleY:208.44,angleZ:0},{id:"f8c23b76-cc99-4bc8-92de-e0b9c9375a63",angleX:0,angleY:284.76,angleZ:7.56},{id:"ff9bdda5-96a0-4e9b-b9df-d0c128331fc8",angleX:0,angleY:220.32,angleZ:0},{id:"1bb2789c-badb-4268-b009-2ea4e5b8faf9",angleX:0,angleY:309.6,angleZ:0},{id:"b5cc45cd-42b1-4a9c-b19d-37b2abb7d0f0",angleX:0,angleY:216.36,angleZ:0},{id:"cd12638a-9cca-482d-98ae-391beb963efa",angleX:0,angleY:0,angleZ:0},{id:"ef0c8a1d-58e0-48f8-9d3d-e7b6e67ee0b7",angleX:0,angleY:242.64,angleZ:0},{id:"81226ed7-6310-4831-bd7b-636532f7613c",angleX:0,angleY:28.08,angleZ:0},{id:"13da355c-334e-4d93-8345-87353b9afea0",angleX:352.44,angleY:0,angleZ:8.64},{id:"fb367185-f72c-4db1-94b5-64ae54218cff",angleX:0,angleY:291.24,angleZ:0},{id:"8a2df9a4-1d55-4822-a592-5d8c9321ff01",angleX:0,angleY:190.08,angleZ:0},{id:"2deaba17-ae58-40a8-ae7d-4860ffdbe26a",angleX:0,angleY:20.16,angleZ:0},{id:"6df1449f-fdcd-4b1b-9ad7-1cf143a3d7ed",angleX:0,angleY:360,angleZ:0},{id:"ccf7dfcc-20d0-445f-bfb4-decb932ddf1d",angleX:0,angleY:307.44,angleZ:0},{id:"6424ca53-dde9-42ba-97b1-ad1dd30dbac7",angleX:0,angleY:165.24,angleZ:0},{id:"5aee96c3-4935-4640-9fe8-5e98f4bbc5b5",angleX:341.28,angleY:64.44,angleZ:0},{id:"94af7119-caa8-4ce5-af26-b9957589fb4b",angleX:0,angleY:186.12,angleZ:0},{id:"01fe1f15-5bdd-4bad-bdad-60c5de5eda07",angleX:0,angleY:138.6,angleZ:0},{id:"3fbbb9ba-1375-401b-835e-37387f97edca",angleX:0,angleY:28.44,angleZ:0},{id:"adf966f7-68fc-46fd-ba46-7535aba56e22",angleX:0,angleY:163.8,angleZ:0},{id:"67efccb5-8f40-497b-9b79-044fddda80dc",angleX:0,angleY:323.64,angleZ:0},{id:"b4a9a9e2-de86-4d41-a537-3e58489a7191",angleX:0,angleY:224.64,angleZ:0},{id:"e4efc3ac-f20b-409f-8cf6-dab3aeca894d",angleX:345.6,angleY:116.64,angleZ:0},{id:"e97b4a79-0978-4964-84e5-d0ca6ce7c3ad",angleX:0,angleY:197.64,angleZ:0},{id:"461c6238-9b6e-4d2c-9f31-42bcd78603de",angleX:0,angleY:3.96,angleZ:0},{id:"6ce11aeb-6745-49bc-a714-3f7b0a1559f9",angleX:0,angleY:132.84,angleZ:0},{id:"7bb2a421-711c-47a1-b7e8-5c8c1c6b4bfe",angleX:339.12,angleY:97.56,angleZ:0},{id:"135c0d0c-c1bd-4cfa-8d2d-1d616bfed880",angleX:0,angleY:0,angleZ:0},{id:"58b858ee-0a42-4010-9209-f526403d093a",angleX:0,angleY:226.44,angleZ:0},{id:"45e39230-5f77-4846-bfed-c6f4a362ab1f",angleX:0,angleY:351.72,angleZ:0},{id:"1303c9e1-2989-4ee5-9299-26b696279400",angleX:0,angleY:172.8,angleZ:0},{id:"fe465e59-3a83-4d25-a01a-f532bd65a5c3",angleX:0,angleY:187.2,angleZ:0},{id:"616dd84d-0025-48cc-b52d-cac7a4a709f8",angleX:0,angleY:0,angleZ:0},{id:"a30042b7-0ccc-4250-bed1-3d4e1ec4623c",angleX:0,angleY:60.48,angleZ:0},{id:"f9b7e69e-7157-4363-8a6a-8a2559e63743",angleX:355.32,angleY:159.12,angleZ:345.24},{id:"f9d0c404-369b-4f24-beec-0aa0d485b123",angleX:349.56,angleY:70.56,angleZ:0},{id:"496180f0-b156-4aa9-ad0c-d27bbe140d43",angleX:0,angleY:72.72,angleZ:360},{id:"b69e4150-06e5-4d1e-a7e2-254f33f957bb",angleX:0,angleY:303.48,angleZ:0},{id:"ec9ebeb3-11d9-41d6-aa02-2baa52053d3f",angleX:0,angleY:109.8,angleZ:0},{id:"81ebd549-40bc-4c04-b74e-08cface71827",angleX:11.88,angleY:206.64,angleZ:0},{id:"2f762319-22bc-4b89-9bba-97449334362a",angleX:0,angleY:86.76,angleZ:0},{id:"71f48cf3-ac2d-4d82-b28e-e4cda20d7270",angleX:0,angleY:321.48,angleZ:0},{id:"bff7692f-d52a-4b7e-8c24-2b2d1ed6e507",angleX:0,angleY:7.92,angleZ:0},{id:"3388376e-f176-4b35-8b15-4f8540f6da3f",angleX:0,angleY:312.12,angleZ:0},{id:"bba56b57-83fa-4d64-8167-93c34d6d8c9e",angleX:0,angleY:326.88,angleZ:0},{id:"f79249c3-1aab-45f9-b9dd-47073e325e53",angleX:8.28,angleY:247.68,angleZ:0},{id:"57fa2dba-7969-499e-a643-bf842e0eb588",angleX:0,angleY:335.16,angleZ:0},{id:"b7d87fb6-f438-48fa-bc65-b147ac220a1a",angleX:0,angleY:299.16,angleZ:0},{id:"c905e285-74b5-4082-bea4-33dd5745d2fe",angleX:2.16,angleY:309.96,angleZ:0},{id:"e0fe4510-f608-4c2e-b0d7-3e03f4770db2",angleX:0,angleY:351,angleZ:0},{id:"59b13f27-ab1f-45b1-85b3-0b8319be1784",angleX:0,angleY:267.12,angleZ:0},{id:"24cfb458-cc7c-4e07-82d0-983b70a1d232",angleX:0,angleY:309.24,angleZ:0},{id:"b4535254-6c77-4314-b1d9-305ee4759c3e",angleX:0,angleY:314.28,angleZ:16.56},{id:"8df86ef1-3146-4b3a-bdb3-df139e1e8f8c",angleX:0,angleY:327.6,angleZ:0},{id:"932aa6cc-7d93-4d41-be02-62d3c1c1439d",angleX:6.12,angleY:212.4,angleZ:0},{id:"88dcee97-eab5-4a11-911f-c179a23ec6c5",angleX:0,angleY:111.24,angleZ:0},{id:"f05ddc85-486e-4202-aaa3-506cc0abd09c",angleX:0,angleY:285.12,angleZ:0},{id:"9194fe8f-b0d3-41e9-8973-323ddfa38bd3",angleX:0,angleY:70.56,angleZ:0},{id:"21c11e67-1420-4604-b83d-acbef8c086c6",angleX:0,angleY:0,angleZ:0},{id:"931205df-5fdb-43e3-92e4-2abd37476508",angleX:0,angleY:50.4,angleZ:0},{id:"fe110639-84f5-4e7c-959d-449dcdebe987",angleX:0,angleY:68.76,angleZ:0},{id:"80273d5e-62f3-470b-bea4-3f62172a8b54",angleX:0,angleY:72.72,angleZ:0},{id:"f476affe-ba2d-437d-8a86-30924d2799c5",angleX:0,angleY:147.6,angleZ:0},{id:"17c380bf-b136-4633-b553-ff814b6ad735",angleX:0,angleY:131.4,angleZ:0},{id:"8568780f-01a4-4fac-9849-cafc08adb69e",angleX:0,angleY:293.4,angleZ:0},{id:"fdd56e3b-43f5-4a42-a47b-28856757a6e3",angleX:6.12,angleY:262.08,angleZ:0},{id:"b8ebf798-5d71-4af8-9522-0a36affc9d4a",angleX:0,angleY:10.44,angleZ:0},{id:"30a2a136-ef7c-4eaa-83ee-9a7c1d868c1a",angleX:0,angleY:208.44,angleZ:0},{id:"472756ff-c3c8-42e0-b66c-ece0b95c3690",angleX:0,angleY:351,angleZ:0},{id:"8dc89cf0-1c20-446d-855b-c4bd26f9958e",angleX:0,angleY:23.76,angleZ:0},{id:"d194c8cc-563c-40f9-a26c-1c5647fab509",angleX:0,angleY:28.08,angleZ:0},{id:"dbc39770-ca89-4fe2-8244-45dae960414b",angleX:0,angleY:56.52,angleZ:0},{id:"d6912bbe-9517-461f-b8a4-1a38d8f0f7a9",angleX:0,angleY:284.4,angleZ:0},{id:"e92928ec-3225-4c37-97ff-9f7e55f574ce",angleX:0,angleY:27.72,angleZ:0},{id:"a10afb7e-3035-42c8-983c-d67e79b1dc2d",angleX:0,angleY:23.76,angleZ:0},{id:"82573989-b50c-4134-bf31-236b260ff200",angleX:0,angleY:50.4,angleZ:0},{id:"7667102b-b839-43bc-8c57-631ba3dead76",angleX:0,angleY:329.04,angleZ:0},{id:"cf8f6370-0d97-4f2f-9847-bd046105406e",angleX:0,angleY:50.4,angleZ:0},{id:"0a8f8d58-0a78-474a-bb2b-bb2b30063173",angleX:0,angleY:0,angleZ:0},{id:"694193c7-c04c-42cc-a808-a2518360477f",angleX:0,angleY:202.32,angleZ:0},{id:"a564eea2-6a66-45ed-862c-16ea7f4f7cae",angleX:0,angleY:0,angleZ:0},{id:"0bd7732c-d114-4d2a-b03a-577c3c9fef2d",angleX:0,angleY:186.12,angleZ:0},{id:"8b7ffc70-25d4-47d8-9603-92d7726da83b",angleX:353.88,angleY:0,angleZ:8.28},{id:"d8ebc819-f558-4bac-b7b6-0aac66a99889",angleX:0,angleY:89.28,angleZ:0},{id:"42e3e904-cf13-4f4c-8b2d-3c814d6e1800",angleX:0,angleY:114.12,angleZ:0},{id:"23f0d37b-ba5b-48ce-889f-2dcfc5040879",angleX:0,angleY:0,angleZ:0},{id:"ee517e53-1a1b-4f2b-b31d-6c95d2b377b7",angleX:0,angleY:30.96,angleZ:0},{id:"5c321f14-8758-4964-aa42-f9e7c99fd751",angleX:0,angleY:307.44,angleZ:0},{id:"e2ba912e-a4f6-474f-bfb2-1e766ca84d22",angleX:0,angleY:0,angleZ:0},{id:"4f82ab87-e97c-4dfc-aa78-4857ae45608b",angleX:0,angleY:222.48,angleZ:0},{id:"7d5560a2-3ac1-489e-a40c-c2a6039e2f2a",angleX:339.12,angleY:68.76,angleZ:0},{id:"5ee52673-2a57-489b-91f3-466389349890",angleX:0,angleY:307.44,angleZ:0},{id:"a5212668-5d65-4e52-8159-d63a3db3732f",angleX:0,angleY:224.64,angleZ:0},{id:"c57141a6-65a6-4af2-af39-a0b970410f43",angleX:0,angleY:307.44,angleZ:24.12},{id:"3a675c17-b2c2-401a-b539-b2086206f5ab",angleX:0,angleY:331.56,angleZ:0},{id:"da658994-fcef-4dbe-9a2b-a5381114945d",angleX:0,angleY:0,angleZ:0},{id:"b5841a24-ac4f-4919-b4af-9e4146fa1e92",angleX:0,angleY:275.76,angleZ:0},{id:"89705ef8-9552-4efa-9fb2-14353ef1bf2b",angleX:9.72,angleY:266.76,angleZ:10.44},{id:"05e35ec3-1de6-4a2b-8e88-7a063eedd6b4",angleX:0,angleY:295.2,angleZ:0},{id:"327657c4-eeec-4340-af76-31601379ea5f",angleX:0,angleY:6.12,angleZ:0},{id:"0adbba9c-1bc2-4724-af47-4b7d7817797f",angleX:6.12,angleY:270.36,angleZ:0},{id:"8db18b71-fb3f-434d-8274-9018ae63b1a6",angleX:0,angleY:253.8,angleZ:347.4},{id:"20f1cb19-cacc-458d-9a09-0f054f7bb572",angleX:0,angleY:297.72,angleZ:0},{id:"6ca30412-a8b3-4063-9253-bc070e799b65",angleX:0,angleY:292.68,angleZ:0},{id:"9c01f6dd-330e-4790-8def-2aa1a8f98e32",angleX:0,angleY:6.12,angleZ:0},{id:"5c1c2d16-043d-4426-b8ae-6ed7abe6a5f0",angleX:0,angleY:307.8,angleZ:0},{id:"365fc2ab-6d94-4e3a-b3cc-3682f655f723",angleX:0,angleY:0,angleZ:0},{id:"3fb80330-df57-4136-bde0-e58c52694b0d",angleX:7.56,angleY:122.76,angleZ:0},{id:"53dfc28b-360c-4bd8-9475-c75463fb72c7",angleX:13.32,angleY:209.52,angleZ:0},{id:"ba8a41c5-10f2-4d02-8e6a-3c41dfb76c6c",angleX:0,angleY:78.84,angleZ:0},{id:"2c14f116-9e57-48b8-877e-a0e6afa1af3d",angleX:0,angleY:32.4,angleZ:0},{id:"94635419-73c1-41a4-b538-41404ec0f8de",angleX:0,angleY:182.16,angleZ:0},{id:"f9d647ac-b302-4d4d-bba5-09ae63072e09",angleX:15.84,angleY:194.4,angleZ:0},{id:"2707d75f-a817-432c-ad2f-1898254b96d1",angleX:0,angleY:30.96,angleZ:0},{id:"074a24a3-1dc3-4665-a60b-16844dcb631d",angleX:0,angleY:0,angleZ:0},{id:"03fc32c8-ce1d-4baf-b9f7-a0bf75368f7f",angleX:0,angleY:214.2,angleZ:0},{id:"5fad5b80-2430-46e4-855d-3a6f8cf52a60",angleX:0,angleY:37.08,angleZ:0},{id:"22b39111-10bc-4225-b921-900c49ff0227",angleX:0,angleY:347.76,angleZ:0},{id:"10a31dda-7c52-471e-a3ff-7cb98549e323",angleX:0,angleY:202.32,angleZ:0},{id:"706ca097-5443-44ac-982a-38e62c94b9b4",angleX:0,angleY:14.04,angleZ:0},{id:"a92b4801-e484-4b07-9239-5f273a1de51e",angleX:0,angleY:178.92,angleZ:0},{id:"35481545-a12f-4266-b478-098ced1aa55d",angleX:0,angleY:199.8,angleZ:0},{id:"1793a433-4548-4c75-9f82-f471e93b00f2",angleX:0,angleY:325.44,angleZ:0},{id:"5c9ec8a7-8ed4-4a08-b275-9df589605138",angleX:0,angleY:3.96,angleZ:0},{id:"b69cf6a6-2f48-40bd-b4ad-0bcd12dbc4dd",angleX:0,angleY:200.16,angleZ:0},{id:"317dfec8-7d0d-401c-b89a-17c0f5cf1aab",angleX:0,angleY:202.32,angleZ:0},{id:"c1276f28-9463-43ba-977c-482990cdc03c",angleX:0,angleY:32.4,angleZ:0},{id:"cb883bc2-4ac9-4789-9bc1-a6b3c2defec1",angleX:0,angleY:0,angleZ:0},{id:"33e62202-dc05-4bb0-9c44-67fcc9d7a0ce",angleX:0,angleY:186.12,angleZ:0},{id:"2083b59c-46fd-44f7-bafe-3fb758d17dfd",angleX:0,angleY:78.84,angleZ:0},{id:"8c73d5a3-1327-4d66-85e6-29409ee23e87",angleX:0,angleY:89.28,angleZ:0},{id:"9f73ea95-33d8-4fde-89ba-a4733d147f52",angleX:0,angleY:47.88,angleZ:0},{id:"94c1cb2a-d7ff-4857-a8bc-4c6a5b5b535d",angleX:0,angleY:296.64,angleZ:0},{id:"446ef0fc-d1d0-45d7-b060-24ab6f01c50c",angleX:0,angleY:115.2,angleZ:0},{id:"ba20286d-17d3-474a-a228-2a5b3d58dfc9",angleX:4.32,angleY:307.8,angleZ:0},{id:"bd67aec1-68e1-4378-b343-934c8fd9d710",angleX:0,angleY:325.44,angleZ:0},{id:"7bbbf293-b395-4b87-b724-fec4408714db",angleX:0,angleY:333,angleZ:0},{id:"bdab5079-224d-48d7-bde6-e4d10164f5a2",angleX:20.88,angleY:155.88,angleZ:341.28},{id:"0d114500-bdb8-4663-ab70-6fe98b2732bb",angleX:0,angleY:204.12,angleZ:0},{id:"efc34cd3-9c24-4197-a58c-50c918aff8f4",angleX:0,angleY:275.76,angleZ:7.56},{id:"b7b3d4cf-c4ff-4978-bafe-7aecfa03b179",angleX:0,angleY:337.68,angleZ:0},{id:"c4ef8c64-8224-4997-b1d8-b6fdf4a0b1c8",angleX:20.16,angleY:226.44,angleZ:0},{id:"fb2cbc26-deb9-4b01-9cf2-34b3f52e6e5b",angleX:0,angleY:195.12,angleZ:0},{id:"f426ccfc-48b5-4a73-8454-6a5fa46542a5",angleX:0,angleY:0,angleZ:0},{id:"19ff8574-e1c3-4d3e-a16d-cac9bd29aded",angleX:10.08,angleY:238.68,angleZ:0},{id:"6f828589-123f-4d59-8154-69d8e8668d5d",angleX:351,angleY:333.36,angleZ:7.56},{id:"dbb7545a-b2ec-4c6e-bcd2-4b8988b25c10",angleX:0,angleY:186.12,angleZ:0},{id:"caf3c783-bb45-4c34-b3f8-32c00ca344a6",angleX:0,angleY:161.64,angleZ:0},{id:"f5c61239-6413-4819-8494-fea41c08e7a1",angleX:10.44,angleY:160.92,angleZ:0},{id:"92bc69d3-2d62-43b0-9572-650ff3bc80b3",angleX:0,angleY:88.92,angleZ:0},{id:"087aae56-999d-4a30-9d65-cd819e082cea",angleX:0,angleY:0,angleZ:0},{id:"4fd677ea-2f7d-4169-9354-033f54fa586c",angleX:0,angleY:271.44,angleZ:0},{id:"6df4c0b2-9db1-4a70-a532-485b4f65bc7d",angleX:0,angleY:208.44,angleZ:0},{id:"a242d955-9749-463b-8648-50ce9cb0ccad",angleX:0,angleY:0,angleZ:0},{id:"a1975f69-1e2f-4af8-8378-8f579b709f5e",angleX:0,angleY:347.76,angleZ:0},{id:"2da9a6d7-b6c7-4d16-820b-8b19c469824a",angleX:0,angleY:338.04,angleZ:0},{id:"ca799b01-f12e-427b-811b-621e202bff57",angleX:0,angleY:133.56,angleZ:0},{id:"25a95402-c89a-4a93-96c8-e437bab489e1",angleX:0,angleY:66.6,angleZ:0},{id:"9e1ef4f9-d7b5-4c71-808e-31c0fa3c7f00",angleX:0,angleY:28.08,angleZ:0},{id:"669166d1-1074-496d-8fb3-480f9891d533",angleX:0,angleY:0,angleZ:0},{id:"0d74dc48-0d79-4ed3-886e-4fbcc110069a",angleX:349.56,angleY:62.28,angleZ:0},{id:"cfa203fb-30d0-403e-8c15-5193730b497b",angleX:0,angleY:23.76,angleZ:0},{id:"b72fe2a1-f7f1-43da-9ed4-757410bdb6c2",angleX:349.56,angleY:81,angleZ:0},{id:"917fb0bf-bc0f-4f3d-b1ca-198ee49d9b5b",angleX:0,angleY:329.04,angleZ:0},{id:"3c232da5-3ffe-424b-9d19-4a4cedd6cfb3",angleX:0,angleY:37.08,angleZ:0},{id:"cb07ca41-65a8-4be9-b18f-e4bbe07572a7",angleX:0,angleY:74.88,angleZ:0},{id:"de9611da-d3df-42c8-84d9-a6c7980e3110",angleX:0,angleY:19.44,angleZ:0},{id:"1c4237a9-4e4d-4e91-ad89-99c6dd00871b",angleX:0,angleY:333.36,angleZ:0},{id:"fc09be2e-7c0e-497f-8ea0-ea1cb409fe86",angleX:351.72,angleY:0,angleZ:8.28},{id:"29744b53-07c0-4421-beb6-5dec80f3472f",angleX:0,angleY:125.28,angleZ:0},{id:"07b28994-daeb-43f2-98fc-f247f8910096",angleX:0,angleY:207.36,angleZ:0},{id:"3be778aa-0a96-4ec6-af1b-e8a485bbd219",angleX:0,angleY:224.28,angleZ:0},{id:"17aabe00-ae1a-45b2-a097-3bcaffe79727",angleX:0,angleY:320.04,angleZ:0},{id:"2eeef48d-7544-4e68-9318-d322fe459550",angleX:6.12,angleY:165.24,angleZ:0},{id:"8ded9c6e-e798-4d4f-aa09-99f79c5ed896",angleX:0,angleY:147.24,angleZ:0},{id:"7174be35-d269-4cc2-9916-3d590a8d6bf6",angleX:0,angleY:99.72,angleZ:0},{id:"10b2d859-7381-452d-8bbe-cd2eb18008f9",angleX:0,angleY:202.32,angleZ:0},{id:"03c3716f-ea72-4c03-8dc3-a110c5e7f434",angleX:0,angleY:311.4,angleZ:5.4},{id:"4268001f-1b49-4991-ac65-38f83131274b",angleX:0,angleY:40.32,angleZ:0},{id:"894193c6-1dfc-4b55-b90f-c6cae1de7740",angleX:0,angleY:234.72,angleZ:0},{id:"679337fd-22a1-4ba2-97d8-1329ebd8a2a2",angleX:0,angleY:226.44,angleZ:0},{id:"cc7f68db-6d56-43f1-9cae-32346925edc9",angleX:0,angleY:181.8,angleZ:0},{id:"1dc40771-453a-4f6e-827a-5148c6ce0709",angleX:0,angleY:48.6,angleZ:0},{id:"d74d78e4-8441-43f4-bea7-e4aa8d0254fe",angleX:0,angleY:258.12,angleZ:10.44},{id:"8c227b3d-b649-4d09-8a65-350bdd6eef62",angleX:0,angleY:232.56,angleZ:0},{id:"a8d7c849-6b45-457c-83d5-98fcaa376017",angleX:0,angleY:295.56,angleZ:0},{id:"d825c44d-7702-4803-8956-4637f36224d5",angleX:12.6,angleY:212.04,angleZ:351.72},{id:"a4d1e36b-896a-4ac0-8297-444a87db9a2a",angleX:0,angleY:311.4,angleZ:3.96},{id:"b7671365-2de5-4bac-8108-d6d20033e99d",angleX:0,angleY:299.16,angleZ:0},{id:"8eec979c-341e-45d5-ade7-d01f8a562d8a",angleX:0,angleY:94.68,angleZ:0},{id:"1962c76b-fff7-4cfa-9ceb-e45ed3b9bec0",angleX:0,angleY:304.56,angleZ:0},{id:"a121230b-121e-4c8f-8891-862bf463409d",angleX:0,angleY:41.4,angleZ:0},{id:"458b7055-3f1f-4990-b5d1-97a61ada9dac",angleX:0,angleY:267.12,angleZ:0},{id:"dc2cfdc3-dd1c-4884-81e5-79a497b900d1",angleX:0,angleY:343.8,angleZ:0},{id:"f34bf230-05fe-406c-8f73-ca1cbb31ef1d",angleX:0,angleY:54.72,angleZ:0},{id:"a5c6a3ee-5c9e-421e-a0c7-09595539adcf",angleX:345.6,angleY:41.4,angleZ:0},{id:"6a427e73-4f4b-4c62-a90e-42df3cb7ab77",angleX:0,angleY:157.68,angleZ:0},{id:"60e496aa-83ab-4b33-95d8-40ed966a067f",angleX:0,angleY:266.76,angleZ:0},{id:"23c336f1-547e-4545-90a0-879afeb8e6b4",angleX:0,angleY:34.2,angleZ:0},{id:"7b9a7c8e-99d2-48b3-98dc-cb085991380f",angleX:0,angleY:0,angleZ:0},{id:"855d2309-65d9-4450-96c7-a9678b97e5ad",angleX:0,angleY:203.76,angleZ:0},{id:"6a768950-e8b9-4010-99c2-4d3fec970c8b",angleX:358.56,angleY:116.64,angleZ:354.24},{id:"b8432c5e-9d98-4020-a648-dffce4c22506",angleX:0,angleY:14.04,angleZ:0},{id:"ea25a2c5-2a9a-4996-93f7-9b3678f48e0b",angleX:0,angleY:239.76,angleZ:0},{id:"27f210e9-d92c-41a7-8457-8db8e31f2aec",angleX:0,angleY:228.6,angleZ:0},{id:"df250a25-08e1-4387-b8d9-3374c5ca420b",angleX:0,angleY:226.8,angleZ:0},{id:"78182aab-0630-4fce-8984-248dd02fa580",angleX:0,angleY:12.24,angleZ:0},{id:"5ba44018-fffb-4100-8388-05958f6ae071",angleX:0,angleY:0,angleZ:0},{id:"1d7595fa-cfda-4e44-8ce0-0cff4d474577",angleX:13.32,angleY:185.4,angleZ:343.08},{id:"d96bff50-43e0-452a-b9e7-27bd2fce7bb1",angleX:0,angleY:22.68,angleZ:0},{id:"37239315-a051-40f4-af02-3c3c5817c5e4",angleX:348.48,angleY:95.4,angleZ:350.64},{id:"efe0f634-4911-4e5e-ae64-991185ef85a0",angleX:0,angleY:0,angleZ:0},{id:"3f274290-615a-41ee-a79f-4dbbe0c3211c",angleX:0,angleY:66.6,angleZ:0},{id:"a97b6488-d714-402e-a187-22a364703662",angleX:0,angleY:271.08,angleZ:0},{id:"dd154e89-a94f-410c-b7c4-59d150cb5000",angleX:0,angleY:0,angleZ:0},{id:"320e12c8-bf94-4618-9336-d0d2cd44404a",angleX:0,angleY:149.76,angleZ:0},{id:"4fc8744d-f079-4684-899c-cacb4e968f31",angleX:0,angleY:324.72,angleZ:0},{id:"a5e166dd-8ffe-481d-ad2c-08a89ab31b37",angleX:10.44,angleY:213.84,angleZ:342.36},{id:"39587c55-516c-4083-8289-14324d155078",angleX:0,angleY:41.4,angleZ:0},{id:"670f9e5e-6bad-4a71-90a0-7721ee0070f6",angleX:0,angleY:45.72,angleZ:0},{id:"ce356f46-e4d4-4e27-8cbc-dd8a486bacc3",angleX:0,angleY:0,angleZ:0},{id:"193f9f44-1c38-403b-ac33-b3e1bf985fd8",angleX:0,angleY:151.92,angleZ:0},{id:"82303ce9-c44f-485c-8a47-f2ee89602ff3",angleX:0,angleY:209.52,angleZ:0},{id:"8f379d46-1c3c-454e-a35f-0ba2a4d574c0",angleX:0,angleY:289.08,angleZ:0},{id:"236e48d9-35f6-4301-90a9-6622a0eea679",angleX:0,angleY:200.88,angleZ:0},{id:"60c76fda-3f94-4486-a4b9-3b336bc43387",angleX:0,angleY:103.32,angleZ:0},{id:"5085a435-966c-4be8-97cf-4ae1528e5814",angleX:0,angleY:19.44,angleZ:0},{id:"d06f0b4c-b988-4052-a5e0-1c39b5c2184a",angleX:0,angleY:0,angleZ:0},{id:"364dab4c-2e29-45b4-89a6-5045aebfdb65",angleX:5.4,angleY:258.12,angleZ:0},{id:"df6e9628-82de-4780-bd64-f43588856c64",angleX:18.36,angleY:256.68,angleZ:0},{id:"644f3ee8-9d12-4ea2-99e2-b25dfb10550d",angleX:0,angleY:24.84,angleZ:0},{id:"67b194b8-8d7a-4b47-a79c-7733997d9352",angleX:0,angleY:352.08,angleZ:0},{id:"44d5228f-c1f9-4219-996e-09a30657fcac",angleX:349.92,angleY:143.64,angleZ:0},{id:"ea3fa92d-44d2-441e-8f7a-cd86cba77edc",angleX:189.36,angleY:209.52,angleZ:171.36},{id:"a5513b66-9f5a-4ad3-a5f3-23ff7bd06837",angleX:0,angleY:46.44,angleZ:0},{id:"f677ec46-73e3-4b5a-8c26-9e93226637db",angleX:0,angleY:315.72,angleZ:0},{id:"9d1bc9b3-928b-42e0-9b60-fa966dd2c0dd",angleX:0,angleY:72.36,angleZ:0},{id:"f2336eb2-47a1-4a19-a0f3-b0630e46abe0",angleX:0,angleY:50.4,angleZ:0},{id:"7638d688-4c60-46dd-82b5-5d7239d43587",angleX:0,angleY:258.12,angleZ:0},{id:"517b05ee-1499-4591-b526-bcc34708f2ad",angleX:0,angleY:57.96,angleZ:0},{id:"4cf4ce3d-f946-4b29-90bd-4cff2ec7d38c",angleX:0,angleY:37.08,angleZ:0},{id:"95f8d47e-6b40-4de2-95f3-131cb66e054d",angleX:0,angleY:168.48,angleZ:0},{id:"b3e00b58-88db-46f2-bb5c-8abeb7fb013d",angleX:0,angleY:49.68,angleZ:0},{id:"56f35585-53b4-4bd0-bdb4-1951dddd6490",angleX:0,angleY:232.2,angleZ:0},{id:"2d241ebb-253b-491f-85af-c83e93c40c91",angleX:0,angleY:262.8,angleZ:0},{id:"d033d1c5-ffe3-4c47-a480-e8ac931458f3",angleX:0,angleY:232.56,angleZ:0},{id:"e1ba8326-93ef-49c8-83a9-219c066e01ca",angleX:0,angleY:309.24,angleZ:0},{id:"c77ad40e-ef62-4207-93d7-6dd2d239e8a0",angleX:0,angleY:76.68,angleZ:0},{id:"945ec9a9-13c9-48c2-8cdd-3bdd2705f776",angleX:0,angleY:62.64,angleZ:0},{id:"d51e0367-40fc-435c-8362-b7df137b4976",angleX:0,angleY:0,angleZ:0},{id:"e490d365-e5a6-434b-8321-810725115636",angleX:0,angleY:0,angleZ:0},{id:"02478e04-7660-482e-a4e7-6d2c97abdf83",angleX:0,angleY:0,angleZ:0},{id:"de722777-f747-4a24-a937-eadeac7360ae",angleX:0,angleY:266.76,angleZ:0},{id:"65eef926-db50-4964-a534-37c8241aa1be",angleX:0,angleY:20.16,angleZ:0},{id:"e15dba5b-eaa6-404b-9998-b8a234843c67",angleX:0,angleY:35.28,angleZ:0},{id:"8e1d21ba-a66c-42f3-8d96-b5064ad6a542",angleX:0,angleY:227.16,angleZ:0},{id:"8dc76222-a100-495c-a918-bbfe44981859",angleX:0,angleY:169.92,angleZ:0},{id:"21c62e27-ffb1-4230-9923-0d107f3325f9",angleX:0,angleY:34.2,angleZ:0},{id:"1ed62d31-bbdd-4001-967b-f90068148aef",angleX:0,angleY:50.4,angleZ:0},{id:"5e9d584a-38b0-470a-95c5-e065a1ee2c7e",angleX:0,angleY:172.8,angleZ:0},{id:"719e1ae5-59d3-4bf7-a4af-c859d6715fd5",angleX:0,angleY:37.08,angleZ:0},{id:"ac9a1dd3-29fe-4a58-b2bd-6097888e52ee",angleX:0,angleY:45.72,angleZ:0},{id:"ad497a45-7c06-45ed-b185-da9aad0c137b",angleX:0,angleY:19.44,angleZ:0},{id:"6a8bdc52-a134-485a-8b53-7fd06e47b2e1",angleX:0,angleY:43.56,angleZ:0},{id:"b087ba6e-86b3-45d0-b2c4-bb0bf7f6ffb4",angleX:0,angleY:280.44,angleZ:0},{id:"e64067a6-d27d-4fe9-98bc-c9eb439f179f",angleX:195.48,angleY:195.48,angleZ:173.16},{id:"71c4a3b6-1510-4f11-894a-a6e36ef7a514",angleX:0,angleY:0,angleZ:0},{id:"941a122f-3e22-4347-8fc0-c89fa468e3ca",angleX:18.36,angleY:218.52,angleZ:0},{id:"0c8e39b1-9554-4e66-93a2-3e5cfd972fc9",angleX:10.08,angleY:272.88,angleZ:0},{id:"a1761792-8f3f-4168-a266-5567b511757c",angleX:360,angleY:289.08,angleZ:11.52},{id:"de89e664-d968-4831-9b49-612c18c3fa98",angleX:0,angleY:360,angleZ:0},{id:"2f51b59b-a244-4be2-a47b-fee97eb656ac",angleX:0,angleY:0,angleZ:0},{id:"8ec6de53-fb02-405a-a416-8c182336bb03",angleX:355.32,angleY:32.4,angleZ:351.36},{id:"9b9343c2-b578-4891-9c13-0b00fd4ad4d4",angleX:0,angleY:129.96,angleZ:0},{id:"a97f9be5-c46c-441c-9771-e86abe742e6b",angleX:0,angleY:196.2,angleZ:0},{id:"0d798a6d-9274-4798-9c2f-4f4d4ec0dab7",angleX:0,angleY:207.36,angleZ:0},{id:"e9674cfb-dede-43e4-b01b-1bacd0437dc6",angleX:0,angleY:303.84,angleZ:0},{id:"6465d252-a339-4796-bd58-a844e63624c5",angleX:0,angleY:63.36,angleZ:0},{id:"26df64a9-0e67-4dfa-a278-6f4575b710ee",angleX:0,angleY:120.96,angleZ:0},{id:"26d2a316-286a-4c8e-b427-63d802cc1645",angleX:0,angleY:28.08,angleZ:0},{id:"f2c53bf0-6e5c-47e9-92d6-6c365a97df34",angleX:8.28,angleY:213.84,angleZ:345.6},{id:"4beaf9ec-b02d-4966-9e4c-a561946da0d7",angleX:0,angleY:37.08,angleZ:0},{id:"9866463a-57f2-47bf-b11f-2e5065f6f1a2",angleX:0,angleY:141.48,angleZ:0},{id:"727a4b43-9b11-4fa2-9b31-037d1ad91401",angleX:0,angleY:178.56,angleZ:0},{id:"b53f3879-6aaa-46f4-9dfb-66db3e2aeb9a",angleX:0,angleY:277.2,angleZ:0},{id:"0ba9a2dc-ff82-4706-afce-6d26e0c63412",angleX:0,angleY:0,angleZ:0},{id:"b217d1ab-256c-4568-b932-6bbfd78ff9b4",angleX:0,angleY:159.84,angleZ:0},{id:"e933fbf0-eb98-4003-b310-8b7d24d30e64",angleX:0,angleY:0,angleZ:0},{id:"4039a946-26d4-4548-b807-2c9ac30b634f",angleX:0,angleY:293.4,angleZ:0},{id:"3149a51f-6247-423f-9f80-a2a936cf9c6c",angleX:0,angleY:200.16,angleZ:0},{id:"9b19d4ea-15cf-4aa4-9498-33effa7566fc",angleX:7.56,angleY:193.32,angleZ:351.36},{id:"463b95cf-6228-4328-91fa-ae73a41fd7c9",angleX:0,angleY:16.56,angleZ:0},{id:"749b900e-6d84-4b39-9c7a-4c1ed8b03ade",angleX:0,angleY:72.72,angleZ:0},{id:"094e7771-463c-43ee-8041-27c10784117f",angleX:0,angleY:0,angleZ:0},{id:"519c8fa6-b59c-476e-bd0c-f3505df0db2a",angleX:0,angleY:68.76,angleZ:0},{id:"d1a4fbe7-3892-4a3c-93d7-69b634c31059",angleX:9.36,angleY:183.24,angleZ:340.92},{id:"0ee40bb3-c511-4921-93b1-6f8116e30a80",angleX:0,angleY:159.84,angleZ:343.08},{id:"18ba8de7-559b-448b-afbc-43b1f772a032",angleX:0,angleY:33.12,angleZ:0},{id:"08a0bdf0-92b7-404e-824b-4c095014d3d4",angleX:0,angleY:245.52,angleZ:0},{id:"85be33d8-dce9-4908-ae28-9664e356d90f",angleX:0,angleY:208.08,angleZ:0},{id:"6e67ba20-70e5-4bc9-b945-defd3d533e02",angleX:0,angleY:230.76,angleZ:0},{id:"134960b8-d860-4a6e-97d8-d44ab3ead114",angleX:0,angleY:178.56,angleZ:0},{id:"66facd05-aa77-40a0-81d4-56a3cf98bc3e",angleX:11.88,angleY:233.64,angleZ:0},{id:"d28ca4ff-9069-49ef-9f82-35c5c36a1645",angleX:0,angleY:74.88,angleZ:0},{id:"a1b1dc46-32c7-4d59-8507-d574aad93da7",angleX:0,angleY:0,angleZ:0},{id:"58f64df6-2619-4e54-9c75-3c28928a9ade",angleX:0,angleY:190.08,angleZ:0},{id:"b51031d9-070c-43dd-a18c-86bea63f3294",angleX:0,angleY:0,angleZ:0},{id:"cc16a40a-9cf4-4002-8e40-be3c24291b51",angleX:0,angleY:63.36,angleZ:0},{id:"8b0a9e1f-56fd-419b-832e-f870a15f2d09",angleX:0,angleY:312.84,angleZ:0},{id:"f3bf3352-baaf-4d6d-abf1-6112283e6c5d",angleX:0,angleY:147.6,angleZ:0},{id:"509ec8eb-af3e-4eea-9ad9-63c09520e0ca",angleX:10.44,angleY:195.48,angleZ:347.4},{id:"cea5569e-3e28-4617-8501-31d0a084c429",angleX:0,angleY:191.52,angleZ:335.16},{id:"c0e51d0b-0bda-473c-ad2c-e93545f12e99",angleX:0,angleY:182.88,angleZ:0},{id:"b8151278-cb6b-4cb9-98d7-a89d2736f6ac",angleX:0,angleY:209.52,angleZ:0},{id:"a91ac185-db81-46b7-bb73-82b32d160f8f",angleX:0,angleY:14.76,angleZ:0},{id:"f6999525-e1f5-404a-af19-f240cbbf3b0a",angleX:357.12,angleY:76.68,angleZ:0},{id:"ccd28872-8d1b-4cc0-9ef3-64b605433537",angleX:20.88,angleY:221.76,angleZ:0},{id:"1e62896d-26a7-441e-92e0-188507bbf6fa",angleX:0,angleY:324.72,angleZ:0},{id:"a93a22e6-2e1b-48ae-a101-de9b2d1dccdc",angleX:0,angleY:43.56,angleZ:0},{id:"d210c5e1-a262-4b91-93d4-6aab83cfbd32",angleX:16.2,angleY:242.64,angleZ:0},{id:"b2acda1c-1847-481e-825a-e0faaa5d1e54",angleX:0,angleY:329.04,angleZ:0},{id:"45375db3-cef9-4eb9-bedc-0c58e45b7401",angleX:181.44,angleY:262.08,angleZ:175.32},{id:"4a957cdd-aa62-4329-8df1-7bcfb303a4ce",angleX:0,angleY:183.96,angleZ:347.76},{id:"e5b4b2c2-85c9-4d81-8b3b-c28ffd720584",angleX:0,angleY:104.04,angleZ:351.72},{id:"15b77360-4bc1-4629-b1b4-faa2d98aa503",angleX:0,angleY:32.4,angleZ:0},{id:"88c082ad-1a8d-4c43-9d9f-0d47b1dafdfe",angleX:0,angleY:15.48,angleZ:0},{id:"e8da5890-0124-4611-bc7e-82a4f4acdb7c",angleX:0,angleY:320.04,angleZ:0},{id:"8e415b6d-4bb4-4483-b82d-4fceaa8d4d3d",angleX:0,angleY:244.8,angleZ:0},{id:"bf88a7d0-8d76-49ae-9fad-f1b94a76f586",angleX:343.8,angleY:54.72,angleZ:347.76},{id:"1d8d5060-0d6d-4236-af28-04508a87f241",angleX:0,angleY:35.28,angleZ:0},{id:"b95bca6e-e48b-4a74-ae3b-cd2d25930421",angleX:0,angleY:201.96,angleZ:0},{id:"3417255c-3fc0-407c-8c60-090b5ceae742",angleX:0,angleY:173.16,angleZ:0},{id:"e8851ee9-3850-4060-b471-e2c5d3d88450",angleX:0,angleY:24.12,angleZ:0},{id:"1fdceb48-0ea2-4a2e-9420-186cce851c6c",angleX:0,angleY:0,angleZ:0},{id:"424d4c7a-6ffb-406c-a684-e1c8a7c6996f",angleX:0,angleY:52.56,angleZ:0},{id:"84ec1edc-7833-4b58-9650-7526bd28480d",angleX:0,angleY:58.68,angleZ:0},{id:"3ac92678-2fd6-4d96-84e9-f54014077120",angleX:0,angleY:141.12,angleZ:0},{id:"fba8f184-81cc-44b7-b15e-ba35e10ebd77",angleX:0,angleY:178.92,angleZ:0},{id:"81ab1448-5193-4915-872a-d1ed701e46f7",angleX:0,angleY:38.52,angleZ:0},{id:"ca7fcfbb-24c4-4d89-8e59-58b92bb0d8ac",angleX:0,angleY:258.12,angleZ:347.04},{id:"12920ffc-cc51-42d9-a557-db6e40fb88fc",angleX:0,angleY:59.04,angleZ:0},{id:"a5c37d0f-c02e-42b1-a929-212ed237f22a",angleX:0,angleY:284.76,angleZ:0},{id:"ddacbaca-efd6-4d88-8d57-57be12b1020b",angleX:0,angleY:178.56,angleZ:0},{id:"9ff704c0-4583-45a0-bc66-6c8da9fc8d1e",angleX:0,angleY:39.6,angleZ:0},{id:"476085c8-ed40-48eb-8d40-47a054736110",angleX:0,angleY:22.32,angleZ:0},{id:"5f79e85e-2470-49c2-813b-6485bc3399c3",angleX:0,angleY:307.08,angleZ:0},{id:"b87fa39b-f6a8-4c34-b731-d9b790c43473",angleX:0,angleY:353.88,angleZ:0},{id:"fa1212a6-9370-4bd6-a982-0fd6fd0b1006",angleX:18.36,angleY:208.44,angleZ:0},{id:"78a4ffdc-9007-4c4c-800b-7bbabc0999ca",angleX:0,angleY:59.04,angleZ:355.32},{id:"3a341dec-229c-4afe-94ef-cf3f3b4b3a5a",angleX:0,angleY:320.04,angleZ:0},{id:"9349c037-143e-4240-9b2f-c4ef747fe8ef",angleX:356.4,angleY:99,angleZ:350.28},{id:"dbcbbebe-6d03-4a55-ad19-9ca7cf47417c",angleX:0,angleY:29.16,angleZ:0},{id:"19ae547c-4e29-44da-8868-b4fc838e4839",angleX:12.24,angleY:262.8,angleZ:0},{id:"9fa9957f-d302-4d81-bb82-db15dce6e2ff",angleX:20.16,angleY:224.28,angleZ:0},{id:"6ca2b11b-2e53-4c54-9204-a99e961a3929",angleX:0,angleY:297.72,angleZ:0},{id:"4cbdc906-c0a4-44f7-ab00-4785d777b5ff",angleX:351.36,angleY:28.08,angleZ:0},{id:"a71f4e63-9e0f-46b2-8426-1f69920d6326",angleX:0,angleY:19.44,angleZ:0},{id:"d7d33f9e-e9fa-440c-a8e1-b785c421877f",angleX:0,angleY:209.52,angleZ:0},{id:"3e967e87-673e-4f24-a454-89cedb3e333c",angleX:0,angleY:196.2,angleZ:0},{id:"3c89657d-27f5-4a9b-a9bf-638d4e09dc71",angleX:0,angleY:168.48,angleZ:0},{id:"b6ee4aff-0ccd-4765-b758-d170bc8ba161",angleX:0,angleY:165.24,angleZ:0},{id:"f11c10a4-adff-4521-8e87-319c60b0643d",angleX:8.28,angleY:214.2,angleZ:341.28},{id:"32981b18-835f-42ef-b964-5cdcf87b4532",angleX:0,angleY:0,angleZ:0},{id:"8149051c-97f8-44e4-a2d2-aae5a3f9c710",angleX:0,angleY:50.4,angleZ:0},{id:"e350ed05-21d1-47d0-8b72-168b96204748",angleX:0,angleY:0,angleZ:0},{id:"a021e503-b7b0-4750-8898-98157960490d",angleX:0,angleY:281.16,angleZ:0},{id:"5c845efc-a7e6-42cb-a94e-e5a0f9dba7b1",angleX:0,angleY:134.28,angleZ:0},{id:"1ac0608c-a91f-40de-aac4-3512f2b784a1",angleX:0,angleY:52.56,angleZ:0},{id:"9b9f6b0c-1479-409a-8980-d01aa8a339da",angleX:13.32,angleY:197.64,angleZ:347.04},{id:"0f16ce6c-6669-4c64-a19b-ab45653d42e9",angleX:0,angleY:81,angleZ:0},{id:"adb94e3c-8d9d-4886-b4e7-697d0790837d",angleX:0,angleY:230.76,angleZ:0},{id:"d39b8810-8ad8-49e4-b9c5-af7e730d3f95",angleX:0,angleY:287.28,angleZ:0},{id:"691efdc4-f708-4236-9c98-cfb01c23b585",angleX:345.24,angleY:78.12,angleZ:0},{id:"1fa9aab0-a50b-4c33-9c26-ef0b2b1338b1",angleX:0,angleY:101.88,angleZ:0},{id:"801d501e-e8b0-4a11-b7d6-c3a0313d7025",angleX:0,angleY:35.28,angleZ:0},{id:"ea66ea9b-15de-4bf4-acba-47f20931776b",angleX:353.16,angleY:183.24,angleZ:343.08},{id:"4968807f-2e15-4e4e-b467-2f1251c6e18e",angleX:0,angleY:0,angleZ:0},{id:"2a653b44-f364-48c3-9973-b859600e5fab",angleX:0,angleY:214.2,angleZ:0},{id:"ab50241e-9a34-49fc-89e5-195981460155",angleX:0,angleY:86.76,angleZ:0},{id:"bb37637e-63cb-4110-b17d-eaefc19b44f2",angleX:0,angleY:190.08,angleZ:353.88},{id:"c948ab91-a332-49db-a19b-069a442261e0",angleX:0,angleY:172.8,angleZ:0},{id:"dcabcb1b-6e32-4f2e-b912-2cb65cc71bd6",angleX:0,angleY:40.32,angleZ:0},{id:"95179f3c-f494-4b41-b06f-382e0f1f392c",angleX:0,angleY:0,angleZ:0},{id:"1c1760ca-4b99-43f4-8863-b54e0406c7c5",angleX:347.04,angleY:90.36,angleZ:0},{id:"448f5f27-4a71-4403-9cb3-020bc600e841",angleX:0,angleY:99,angleZ:0},{id:"b10ea466-d8a4-4963-91fa-91b775287eef",angleX:0,angleY:14.76,angleZ:0},{id:"300bdcfb-34e5-4138-89c4-2a35826ccb95",angleX:0,angleY:313.2,angleZ:0},{id:"65fced3c-43c5-4c48-b21c-1bfbfcf274b0",angleX:16.2,angleY:236.52,angleZ:0},{id:"d5551e25-17b0-41d4-8448-90b6a018f27e",angleX:0,angleY:311.4,angleZ:0},{id:"def021e9-dd7b-4135-9807-9f87014862bd",angleX:0,angleY:213.84,angleZ:0},{id:"ad54b9bd-ed72-484c-a412-06ecd74b9b8b",angleX:10.44,angleY:178.92,angleZ:336.96},{id:"64da752b-3aa5-4ac6-9661-381ecd331958",angleX:0,angleY:99,angleZ:0},{id:"c194f42e-7172-4a51-bf7c-3d6f7038e66b",angleX:0,angleY:72.36,angleZ:0},{id:"5e9ba957-4a3f-4e39-b998-d12ad75b80df",angleX:0,angleY:26.28,angleZ:0},{id:"5846bcba-ae9e-4d72-a07b-880da64ed856",angleX:0,angleY:342.36,angleZ:0},{id:"aaa1bb1f-0b12-40dd-8ac3-02e808a124fa",angleX:0,angleY:54.72,angleZ:0},{id:"98c848c4-a820-410f-857d-ed32a2f0cbbe",angleX:0,angleY:307.08,angleZ:0},{id:"4e89f410-240e-4c52-bd25-6e2cde156904",angleX:0,angleY:103.32,angleZ:0},{id:"f89db03c-45ad-4487-aa0a-077d332fbc3c",angleX:0,angleY:320.04,angleZ:0},{id:"4ecd8357-b544-47b6-ba5d-02778164f7c1",angleX:0,angleY:14.76,angleZ:11.52},{id:"8fd5ac3a-f31d-4ee0-becf-0c45fba523c0",angleX:0,angleY:329.04,angleZ:0},{id:"d9ccb49e-b01b-4203-ab6f-5212680d5c1f",angleX:0,angleY:32.4,angleZ:0},{id:"80f6ddd2-ebf1-4a81-afc0-440bd72b3ea6",angleX:0,angleY:133.56,angleZ:0},{id:"2835f9e9-14ba-45c4-87d4-2c8e8ce8a2cb",angleX:10.08,angleY:204.12,angleZ:0},{id:"30f72353-a57a-44b1-9855-f7f71c3e5946",angleX:0,angleY:314.28,angleZ:0},{id:"51950dc5-d1a6-48a4-aab9-ee6f31bede24",angleX:0,angleY:341.64,angleZ:0},{id:"47ad1f1c-3d30-409b-bf10-dca85548627c",angleX:0,angleY:58.68,angleZ:0},{id:"b8642a6c-c45a-48cd-a939-b6506d325bbd",angleX:0,angleY:227.88,angleZ:0},{id:"ce1da565-79e2-4fe2-9655-797defb45c07",angleX:0,angleY:167.76,angleZ:0},{id:"39d50ab3-2272-4278-a43e-e6b06424cfc4",angleX:0,angleY:10.08,angleZ:0},{id:"3cf00d95-8fdb-4be0-a23d-e8b6e3a5a996",angleX:0,angleY:45,angleZ:0},{id:"3ca4e5d5-0f35-4450-a913-d51f17be5dbf",angleX:0,angleY:37.08,angleZ:0},{id:"06722496-3521-4674-bb52-fc37324c2657",angleX:0,angleY:224.64,angleZ:0},{id:"cb10b8d3-63a4-49da-abaf-44ffe4a55006",angleX:0,angleY:27,angleZ:0},{id:"ff47fef4-a73f-4c97-b591-58341087c8ce",angleX:0,angleY:68.04,angleZ:0},{id:"f12f1612-cb80-4fb8-a126-3e74d3d75edb",angleX:0,angleY:147.6,angleZ:0},{id:"c7e6ce9e-b969-424c-9897-e69d4e53cb69",angleX:0,angleY:18,angleZ:0},{id:"3ea20ec5-ac62-46a3-95c7-fec11787dd3e",angleX:0,angleY:39.24,angleZ:0},{id:"9ee3649f-d170-4d77-8e35-b90ce6b96316",angleX:0,angleY:76.68,angleZ:0},{id:"fe926695-3085-49ff-be8a-ccb844a4856b",angleX:0,angleY:22.32,angleZ:0},{id:"49581320-ee5e-499a-97a2-484f44126322",angleX:0,angleY:41.4,angleZ:0},{id:"53684558-cf1a-4f49-96ba-43b463ae4d03",angleX:0,angleY:14.4,angleZ:0},{id:"9b20efd0-10be-4a6a-b3f4-ab938ea97103",angleX:0,angleY:59.04,angleZ:0},{id:"72cd96f6-7272-4b7f-bc9a-ffa96dd4b863",angleX:0,angleY:45.72,angleZ:0},{id:"8fcd5bfa-413f-4ba0-9f22-a7f7d60795ac",angleX:0,angleY:168.12,angleZ:0},{id:"c6c81ae5-d2c2-4ad7-9612-bb67161e5a07",angleX:0,angleY:22.32,angleZ:0},{id:"60d96844-6883-407a-9ad9-36921374ce73",angleX:0,angleY:222.84,angleZ:0},{id:"2d7faa3f-1cef-4cd3-8fa7-7d9d62800885",angleX:0,angleY:58.68,angleZ:0},{id:"b8fda886-166d-4709-93e3-80b4c3dbef1e",angleX:0,angleY:157.68,angleZ:0},{id:"54a89291-95d3-4d2a-94f0-7fbd5c2e45eb",angleX:0,angleY:244.8,angleZ:0},{id:"040c4c38-3793-447e-8925-4565b866d6b0",angleX:0,angleY:343.8,angleZ:0},{id:"b6ff807a-b8bc-46bc-b954-c53b9504090a",angleX:216.36,angleY:135.36,angleZ:208.44},{id:"1cd7f488-6785-4466-8225-bc1cc50a670a",angleX:0,angleY:326.52,angleZ:0},{id:"2393e56c-1bde-40b4-9a8e-d065f217cc39",angleX:0,angleY:30.24,angleZ:0},{id:"e71f4590-b5c1-4008-9c48-d504d4bb6cde",angleX:0,angleY:153.72,angleZ:349.92},{id:"42a3f7cd-4dbc-4145-8888-59f06a65e0e8",angleX:0,angleY:63.36,angleZ:0},{id:"967cfaa6-638b-45dc-89f6-f611ba2831c9",angleX:353.16,angleY:32.4,angleZ:3.24},{id:"a9b0e099-d983-4b54-82ec-17bc99adaec8",angleX:0,angleY:333.36,angleZ:0},{id:"3e2e9999-9dd2-454a-ad82-f95ccaf7b3ae",angleX:353.16,angleY:28.08,angleZ:0},{id:"220c4ff2-0036-434b-b44e-21831a61b087",angleX:355.32,angleY:23.76,angleZ:0},{id:"5434a8df-7f6f-4781-abb2-a221b37f3ef3",angleX:0,angleY:45.72,angleZ:0},{id:"033502e7-8d0a-4664-8840-ea65d8ee0d5b",angleX:0,angleY:329.04,angleZ:0},{id:"766c867b-515d-4857-bdca-7a4c1e919109",angleX:0,angleY:10.08,angleZ:0},{id:"41b095c3-2aaf-4981-b17e-4a8af9986a54",angleX:0,angleY:96.48,angleZ:0},{id:"259ba94e-229f-4840-926a-7f61a6a0e80d",angleX:8.28,angleY:199.8,angleZ:0},{id:"e695e7ac-f7ce-4561-b6b5-e39d9be2ca06",angleX:0,angleY:236.16,angleZ:0},{id:"47f2a7ef-d8d2-4016-a87a-488c0d6a19e9",angleX:0,angleY:0,angleZ:0},{id:"910aea77-e369-42e4-b9f6-1bf364c1c2b2",angleX:0,angleY:351,angleZ:0},{id:"bafecf6a-1ef9-4b9e-b863-a33b299e4ca3",angleX:16.2,angleY:236.52,angleZ:0},{id:"bef71fad-ae91-497d-9969-95597424551a",angleX:0,angleY:123.48,angleZ:0},{id:"7deca03d-bf24-4dcd-a916-d0adefc4f8ab",angleX:0,angleY:10.44,angleZ:0},{id:"e8e111a4-26e4-4708-bc1c-9a8e2d5ca334",angleX:0,angleY:68.76,angleZ:0},{id:"a522db07-460e-4fe5-a8a8-46be19ad25f3",angleX:349.2,angleY:88.2,angleZ:0},{id:"74445a2b-1ec2-4ee1-85e8-f7e796a436ab",angleX:0,angleY:0,angleZ:0},{id:"eb35b15d-df5b-4b47-86c5-7928794d280d",angleX:0,angleY:183.24,angleZ:349.2},{id:"6522c347-9ddf-43c1-8a0c-e803531dc626",angleX:0,angleY:29.16,angleZ:0},{id:"d0f4478e-72eb-4038-ab2b-7e4c11d194d6",angleX:0,angleY:87.12,angleZ:0},{id:"e8bdc348-f894-4be1-b369-041fdf782e19",angleX:0,angleY:68.76,angleZ:0},{id:"e479e06c-2008-484a-b4a7-e26ee3ce170c",angleX:0,angleY:224.64,angleZ:0},{id:"85e5f0c6-b4c1-4880-a338-167f31a62dd2",angleX:0,angleY:81,angleZ:0},{id:"0169db12-7b9f-4837-be47-92a4b1ca022c",angleX:0,angleY:0,angleZ:0},{id:"d134b448-477c-486e-a37a-7e3568d89a9e",angleX:0,angleY:333.72,angleZ:0},{id:"d595e049-58ca-40db-ac05-2ca68410b58b",angleX:345.24,angleY:90.36,angleZ:0},{id:"d135211f-6225-485d-b07b-02d43e4f92ce",angleX:0,angleY:336.96,angleZ:0},{id:"a79214de-8015-4a88-9687-6067b44d0454",angleX:0,angleY:170.64,angleZ:0},{id:"7e39156b-8340-4ccc-ac8f-db79f431167a",angleX:351.36,angleY:114.48,angleZ:349.2},{id:"b9def3bb-babb-47a4-8a21-23b1c6671928",angleX:0,angleY:302.4,angleZ:0},{id:"e35abee1-5e40-42ce-bb44-ba62aeb9aab3",angleX:0,angleY:293.4,angleZ:0},{id:"e687ee38-5263-47dc-91e8-50fdb9ec6ccd",angleX:0,angleY:37.08,angleZ:0},{id:"2836193e-7ee1-42ff-87df-78a938821d98",angleX:0,angleY:117.36,angleZ:0},{id:"223b753b-72ed-423b-a4c2-b69b6c7f2552",angleX:0,angleY:244.8,angleZ:0},{id:"ac782da0-e31e-475d-8045-1ca5b3d99eb3",angleX:0,angleY:120.96,angleZ:0},{id:"7a722d03-9277-4ab3-a9f0-96cb416e61a6",angleX:0,angleY:205.2,angleZ:0},{id:"326d0d41-9848-4628-9dab-5ea2b7823f1b",angleX:0,angleY:7.92,angleZ:0},{id:"a0ce5f4e-f0e2-4461-a0e9-29833bb65f5c",angleX:0,angleY:54.72,angleZ:0},{id:"4d73daff-75bb-42b8-be1a-e081561719d4",angleX:4.68,angleY:191.88,angleZ:0},{id:"a1cc3942-f584-419c-a2e9-d55496c370df",angleX:0,angleY:46.44,angleZ:0},{id:"1d09b7bd-e3d3-43f9-b8ef-fe0f26287879",angleX:0,angleY:342.36,angleZ:0},{id:"4c705ddb-cde8-4453-b066-9d078feb6365",angleX:0,angleY:311.4,angleZ:5.4},{id:"78a98b0e-c44d-4cba-ac8b-7427287f1565",angleX:0,angleY:0,angleZ:0},{id:"3a9ddf7f-73b4-48d1-bc0b-ac3eab562da2",angleX:351.36,angleY:14.76,angleZ:3.24},{id:"85d9257e-07c3-43a5-9b3e-0488404e1815",angleX:0,angleY:50.4,angleZ:0},{id:"31222481-5997-4f1e-9120-b417336352a0",angleX:0,angleY:19.44,angleZ:0},{id:"fe8a04b3-c467-4d28-8166-42de1b8ba3a9",angleX:0,angleY:315.36,angleZ:0},{id:"edc8e738-9733-42d5-9213-5fb93e913ff7",angleX:0,angleY:333.36,angleZ:0},{id:"d2382ee0-2975-4bf9-8820-bd742c1d9d99",angleX:0,angleY:346.68,angleZ:0},{id:"0689098e-f506-4966-8956-30534c424335",angleX:0,angleY:22.68,angleZ:0},{id:"594595a0-cec9-4d15-9411-e5f122e51f4f",angleX:0,angleY:226.44,angleZ:0},{id:"31512da1-7d0d-4bda-8a96-a5ca2aa240cd",angleX:0,angleY:147.6,angleZ:0},{id:"8cb91acf-fc4c-44c0-89c6-99929170135c",angleX:0,angleY:11.88,angleZ:0},{id:"ce3a25b4-2707-442f-a4ab-00cf788c06a7",angleX:0,angleY:247.68,angleZ:0},{id:"ea8f2bae-2a4a-4c40-8984-a19874608a13",angleX:0,angleY:7.92,angleZ:0},{id:"6e06943c-dde7-4cd0-bb91-9d999a394dac",angleX:0,angleY:90,angleZ:0},{id:"1136a825-2a6b-4ad8-820f-322ca7ee15fc",angleX:0,angleY:0,angleZ:0},{id:"b20c67e1-db2e-471b-bbcc-e30aeaa6ccdc",angleX:0,angleY:171.72,angleZ:0},{id:"da8976f0-526f-4628-b1e2-a3fcc869ec47",angleX:0,angleY:50.4,angleZ:0},{id:"7fa12fa9-8ea7-4a5e-bd59-e2429cb8ffc9",angleX:0,angleY:44.28,angleZ:0},{id:"f9144b1d-7b78-461e-a060-c468a55d88cf",angleX:0,angleY:94.68,angleZ:0},{id:"53b0f7da-5877-4411-9ff1-15dd78b23b3a",angleX:0,angleY:28.08,angleZ:0},{id:"e5435b9d-37a0-487c-b2bd-b6d1ff3dc958",angleX:0,angleY:160.92,angleZ:0},{id:"975fcd65-7f28-42d8-80c3-98852827d13e",angleX:0,angleY:28.44,angleZ:0},{id:"e8940989-07c6-4d41-bc07-c3e4ff6ccd3f",angleX:0,angleY:50.4,angleZ:0},{id:"1475c4fb-5988-4d8e-9722-5efeb59cdbec",angleX:0,angleY:222.84,angleZ:0},{id:"f036380d-5938-4aa7-8d4e-227cafe1a46f",angleX:0,angleY:236.16,angleZ:0},{id:"1c1d76af-ab6c-4f9a-ab5f-adc54f17edb4",angleX:0,angleY:0,angleZ:0},{id:"9b46b9b2-f339-45c8-9388-cbd5c63b0634",angleX:0,angleY:20.16,angleZ:0},{id:"ed4f8a25-33f9-4fbf-b885-e2f88b9ac632",angleX:0,angleY:178.56,angleZ:0},{id:"ef2965bc-be4c-4b60-acbb-e7c8082a1c30",angleX:0,angleY:19.44,angleZ:0},{id:"683b9e01-0c7d-4c18-aead-afba5ed9be41",angleX:0,angleY:76.68,angleZ:0},{id:"31968008-d7df-4065-9c7e-7725ba971c94",angleX:0,angleY:145.44,angleZ:0},{id:"7336a149-de77-471f-b21b-2f0239022886",angleX:0,angleY:37.08,angleZ:0},{id:"5ff11ab1-4c28-43b0-b886-29a7e1548b8d",angleX:0,angleY:64.8,angleZ:0},{id:"99fd4c96-10e6-49af-95fd-6f973f72681b",angleX:0,angleY:32.4,angleZ:0},{id:"06d7caca-9189-469f-9c7f-f37f39fa8f51",angleX:0,angleY:205.92,angleZ:0},{id:"a3927682-951f-4a44-8e61-d2eab672d59d",angleX:0,angleY:28.44,angleZ:0},{id:"ace8972d-1d68-4216-a4e2-ba673f6d5587",angleX:12.24,angleY:157.68,angleZ:0},{id:"1edd1b86-95f0-45cc-91f7-f1fa2d8380d0",angleX:0,angleY:346.68,angleZ:0},{id:"01271345-58bd-473f-b23b-be9d27c43932",angleX:0,angleY:14.04,angleZ:0},{id:"a087c253-319c-42a9-8e23-70383a0d3bf8",angleX:0,angleY:0,angleZ:0},{id:"67b25f87-61fd-40ee-a613-980ce7fb78f0",angleX:16.2,angleY:224.28,angleZ:0},{id:"ac8c9f39-29d1-4a1a-8ee5-b698fb61fbac",angleX:0,angleY:333.36,angleZ:0},{id:"24b39b48-0725-4048-b5bb-1911800c5865",angleX:0,angleY:0,angleZ:0},{id:"e4dc65a2-3b81-46bc-8dd2-9ec7797a3895",angleX:0,angleY:0,angleZ:0},{id:"63e5a4a1-0e19-4312-b449-c2706e65315b",angleX:341.64,angleY:19.44,angleZ:349.92},{id:"dc16d298-7da1-4357-95de-64c68178d65b",angleX:0,angleY:50.4,angleZ:0},{id:"d7acd25b-4b46-4fad-9863-41c70f62c9cc",angleX:353.16,angleY:28.08,angleZ:0},{id:"61ac4a60-ffc2-458a-9641-c4bee7dffbcb",angleX:0,angleY:0,angleZ:0},{id:"12ed5b78-44b8-4021-9beb-6f6b6beb4bc3",angleX:0,angleY:315.72,angleZ:0},{id:"da2803b7-828e-4302-9ed0-e0e235c28f0f",angleX:0,angleY:54.72,angleZ:0},{id:"856ef524-c08b-4fae-969e-e39528bd133a",angleX:0,angleY:0,angleZ:0},{id:"51f6faa5-800f-44e0-ad4b-61888aa3c122",angleX:0,angleY:58.68,angleZ:0},{id:"622a48cf-a1c2-4b09-94e5-ef1e14ca558f",angleX:0,angleY:196.2,angleZ:0},{id:"1a73bf99-9eb2-4b6d-a5c3-228e618239e2",angleX:0,angleY:324.72,angleZ:0},{id:"8a668232-6c14-4d7b-90b1-0c834b1629b3",angleX:0,angleY:99,angleZ:0},{id:"91cfba49-43e4-4c49-b859-a84b4c283cd2",angleX:0,angleY:206.28,angleZ:0},{id:"e51ef9f0-b844-4795-8376-bab6e57b477a",angleX:0,angleY:0,angleZ:0},{id:"12c3feed-d255-4aa9-bd9b-b305ed4248e1",angleX:0,angleY:32.4,angleZ:0},{id:"231e4f7d-1aae-47f2-9d82-7e8a873a3df4",angleX:0,angleY:41.4,angleZ:0},{id:"44a67a24-a31d-43b4-b5a0-c9d98f291965",angleX:0,angleY:279,angleZ:0},{id:"c4bd0c8a-6e96-4e37-9db8-b1fe65b51d2c",angleX:0,angleY:208.08,angleZ:0},{id:"b36f09c7-5648-42ec-86a5-a62de7bea673",angleX:349.2,angleY:114.48,angleZ:345.24},{id:"715dba68-9788-4f8c-8a9f-bdeb56c96bb1",angleX:349.2,angleY:98.28,angleZ:0},{id:"bda6aa3f-c55a-4fab-8b01-90a3fa497fb5",angleX:0,angleY:0,angleZ:0},{id:"64a8ca70-c167-453b-bb42-43774422538b",angleX:0,angleY:303.48,angleZ:0},{id:"f1a0215a-ddca-4bc0-af7c-77cc7fc3a9b8",angleX:0,angleY:0,angleZ:0},{id:"78471a59-4c3b-4a24-add0-dd2207e43952",angleX:0,angleY:74.88,angleZ:0},{id:"fa7bcc77-090c-4ac6-9044-c704f45d3fc4",angleX:0,angleY:0,angleZ:0},{id:"583798e3-aed0-4591-9696-7019284c3789",angleX:0,angleY:228.6,angleZ:0},{id:"cbfa771c-efc0-4dac-bd95-dd44645da9a6",angleX:0,angleY:0,angleZ:0},{id:"a0fa708b-29d6-408b-b05d-d2cc836eb01d",angleX:0,angleY:0,angleZ:0},{id:"9ac9a748-ea80-438e-8519-cfd395cf451d",angleX:0,angleY:222.48,angleZ:0},{id:"9ee50019-6791-419d-95a2-8bcdd99e8d3d",angleX:0,angleY:0,angleZ:0},{id:"71eed1ac-15b7-4ec2-95de-e7ad1e454bfd",angleX:349.2,angleY:78.12,angleZ:0},{id:"d88ec09a-fc64-4397-9c1f-1ceb9550c6f8",angleX:360,angleY:144.72,angleZ:345.24},{id:"faa6dfa7-0ece-4627-9cef-28bbae6b2a4f",angleX:18.36,angleY:244.8,angleZ:0},{id:"01361d02-745c-4e9a-a047-8730dc82a5be",angleX:0,angleY:36.36,angleZ:0},{id:"2050c1d9-7ba2-4e28-9aef-482a71e44f42",angleX:0,angleY:32.4,angleZ:0},{id:"3d3799f0-c7b9-4c26-9352-7cd92136f4eb",angleX:0,angleY:151.92,angleZ:0},{id:"c70b3407-8d39-4b04-b82d-517819cfd6e0",angleX:0,angleY:194.04,angleZ:0},{id:"c4b6997e-2e51-430c-8d3b-c3d0f21b3235",angleX:0,angleY:216.36,angleZ:0},{id:"fc829010-9584-4ae6-974c-82504709cccd",angleX:0,angleY:0,angleZ:0},{id:"41bcdc24-11f5-43a3-ba4a-0a8284e06376",angleX:0,angleY:0,angleZ:0},{id:"588f0755-6068-40d2-b895-39f3aae93a88",angleX:6.12,angleY:176.04,angleZ:343.8},{id:"70a6a957-bc0c-4c11-9819-4425fadb9791",angleX:0,angleY:81.36,angleZ:0},{id:"8ca98519-82b3-4ed1-87f2-4f10ca551a16",angleX:0,angleY:129.96,angleZ:0},{id:"c5c5fcaf-59a9-4ff6-bffb-7065ebca3148",angleX:0,angleY:0,angleZ:0},{id:"97586e39-037f-4fc8-ab00-77c0162c6ccb",angleX:173.88,angleY:121.32,angleZ:186.12},{id:"195f040b-77f0-439e-8048-f6f0cdf39036",angleX:0,angleY:90,angleZ:0},{id:"d0a13f8d-4abc-449f-b531-f1b65d7ed240",angleX:0,angleY:32.4,angleZ:0},{id:"fac1230b-390a-43fa-893b-780b07b79ed5",angleX:0,angleY:50.4,angleZ:0},{id:"c6f0f40f-d8a9-466d-a4c3-9c961debf457",angleX:0,angleY:338.04,angleZ:0},{id:"fb12c993-7ccb-403d-b688-265253e0b36a",angleX:0,angleY:28.08,angleZ:11.52},{id:"62deb07b-42d0-419a-8789-00136ea65f9c",angleX:0,angleY:240.48,angleZ:0},{id:"b4f1d2b9-b789-4681-8277-e56e1ced0a8f",angleX:0,angleY:0,angleZ:0},{id:"1942ca48-022f-4dc2-8387-3ce45c6ab5e9",angleX:12.24,angleY:236.52,angleZ:0},{id:"c3baa3f8-b39c-49de-a7b3-e140796477e7",angleX:353.16,angleY:45.72,angleZ:349.2},{id:"1f8b12b6-4345-4a9d-b9ff-7220aecfeea3",angleX:0,angleY:328.68,angleZ:0},{id:"b68270a6-0838-4452-b80c-df9571b999af",angleX:347.04,angleY:45.72,angleZ:353.16},{id:"a1298a00-f0a9-499f-a3f3-5fc7b7eb81da",angleX:0,angleY:302.4,angleZ:0},{id:"b3850a2b-81bd-412e-a0ca-7d0c5f46472e",angleX:0,angleY:3.96,angleZ:0},{id:"a9f5b418-ac6b-4991-bf30-aa9199844b97",angleX:0,angleY:351,angleZ:0},{id:"1ae51f92-3bbc-4633-944a-ba0b0a92fda3",angleX:355.68,angleY:28.08,angleZ:14.76},{id:"b4254232-91b6-475b-a62b-ec4826beefca",angleX:0,angleY:50.4,angleZ:0},{id:"f2e782ef-1e48-4869-9ca5-84c9ef90a83f",angleX:0,angleY:18.72,angleZ:0},{id:"e89486c7-2b5c-4818-ba19-8c6e1f440e16",angleX:0,angleY:226.44,angleZ:0},{id:"d09f0e9a-e4f8-4b94-b52e-36315da41f61",angleX:0,angleY:151.92,angleZ:0},{id:"fc0c6d77-2e00-416d-b0ae-b0fc5bdeb152",angleX:0,angleY:30.24,angleZ:0},{id:"068f7e8f-5f93-492f-b56a-3df3f34699b6",angleX:0,angleY:147.6,angleZ:0},{id:"962bc41e-8c73-4e48-bcb2-ef9017989360",angleX:349.2,angleY:25.56,angleZ:0},{id:"c82c4026-97bd-4d8a-8046-e12b6105ee01",angleX:0,angleY:324.72,angleZ:0},{id:"7d5dd334-7289-4558-b6d9-a06000266ca9",angleX:0,angleY:70.2,angleZ:0},{id:"d0c36669-654f-47c0-8328-1ba59e355ddc",angleX:0,angleY:288.36,angleZ:0},{id:"51d0b70f-c129-49f5-af5b-235a8361e485",angleX:0,angleY:165.24,angleZ:0},{id:"63f7ddea-2d54-4f29-85c5-559e5f666271",angleX:0,angleY:34.2,angleZ:0},{id:"43b155b2-c61d-45bc-9bc3-ea4abcbf02a6",angleX:0,angleY:174.24,angleZ:0},{id:"5dfc44b6-151e-495b-bf7b-9f4a9e46c3e4",angleX:0,angleY:202.32,angleZ:0},{id:"563cef06-c793-4536-8ec6-2e115b47fca1",angleX:0,angleY:20.88,angleZ:0},{id:"9529b440-0715-41fb-bb72-3c4bdd515447",angleX:0,angleY:54.72,angleZ:0},{id:"712bef4b-4914-4865-9c00-ae0694e51a0c",angleX:0,angleY:76.68,angleZ:0},{id:"0dd45b56-d274-45b6-9645-7ef09649d82d",angleX:0,angleY:338.04,angleZ:0},{id:"a0a2b1ad-79e6-4f48-853d-a7d238f8910e",angleX:0,angleY:32.4,angleZ:0},{id:"f411cb6d-0047-4947-bfc7-ccc9b67b40a0",angleX:0,angleY:14.04,angleZ:0},{id:"8f996a2a-bfce-4890-8319-98d0f575e181",angleX:0,angleY:338.04,angleZ:0},{id:"a380b961-ada7-446a-9ac3-4a6c50575f37",angleX:0,angleY:299.52,angleZ:0},{id:"032d41c6-b547-4e36-9be5-ebe73afd6c08",angleX:0,angleY:59.04,angleZ:0},{id:"3fee900b-4aed-49b8-aabb-a2c7bbc1a682",angleX:0,angleY:249.48,angleZ:0},{id:"ce82837f-c800-417b-a9d3-0a7dc8a54a58",angleX:0,angleY:341.64,angleZ:0},{id:"db5b590b-610e-4cee-ad40-30c237c69162",angleX:10.08,angleY:246.6,angleZ:0},{id:"99379a26-5e4f-4aa8-9091-e4b9bb2321bf",angleX:342.36,angleY:45.72,angleZ:0},{id:"c6aff4d5-cb14-4972-a278-51148ac01b3c",angleX:0,angleY:333.36,angleZ:0},{id:"f4ee80ef-1e60-4d9b-8ffb-8132bab84f60",angleX:0,angleY:335.16,angleZ:0},{id:"1eff1d82-5293-4d7f-bf64-b92c9190c214",angleX:0,angleY:32.4,angleZ:0},{id:"0aaa6e9f-d526-441f-8c84-d782c21ef7b5",angleX:0,angleY:0,angleZ:0},{id:"69f80a6e-a01e-49e8-b876-337ebef78b4d",angleX:0,angleY:35.64,angleZ:0},{id:"c445d9ef-460b-4a15-b519-d1480e76e5fd",angleX:0,angleY:138.6,angleZ:0},{id:"e4cce027-b9d5-4715-9455-c583fadb2c63",angleX:0,angleY:32.4,angleZ:0},{id:"d4329668-d86e-4bac-9d8e-413bc20c2b37",angleX:0,angleY:22.68,angleZ:0},{id:"34f20d32-b315-421c-88dc-3072b836dfe3",angleX:0,angleY:94.68,angleZ:0},{id:"0c9b4b83-8a1c-4938-91d3-23c94cdb9487",angleX:10.44,angleY:197.64,angleZ:341.28},{id:"06e4e24c-60d0-417e-b2ff-7f703836d0ac",angleX:0,angleY:238.68,angleZ:0},{id:"8b28fd1d-ac25-485a-b570-e1273dd451d8",angleX:0,angleY:0,angleZ:0},{id:"c03314ec-8e70-4b44-a459-17a9fff7d5ee",angleX:0,angleY:214.2,angleZ:0},{id:"973446b0-b2ee-46d7-9619-75f8c3d8b87e",angleX:0,angleY:120.96,angleZ:0},{id:"db6310f4-be11-4b24-a72a-5d0519a8b4bd",angleX:353.88,angleY:57.96,angleZ:0},{id:"85918fec-a579-4f06-9847-9f18a7db7775",angleX:18.36,angleY:234.72,angleZ:0},{id:"cbbd571b-a81d-4989-a5ed-54580847d302",angleX:0,angleY:50.4,angleZ:0},{id:"405c9f14-1ae5-415f-936b-ff063c47b518",angleX:351.36,angleY:130.68,angleZ:347.04},{id:"7b0105c4-0009-4037-9616-55e933c66a7b",angleX:353.16,angleY:88.2,angleZ:0},{id:"db5b5cdb-b71b-4a1a-8b44-8ce1869516dd",angleX:0,angleY:0,angleZ:0},{id:"76232003-917d-4ca0-9f22-a11a7a90121e",angleX:0,angleY:0,angleZ:0},{id:"294fa545-49bb-41ff-b26f-d30717588771",angleX:0,angleY:213.12,angleZ:0},{id:"e726ff05-2df8-48e7-8ceb-e24ab2d053ab",angleX:0,angleY:181.08,angleZ:0},{id:"356378ec-da9b-41ab-bd5f-cf64a07265d0",angleX:0,angleY:0,angleZ:0},{id:"55a34cc2-3172-4d25-8dbe-85b9c0886d96",angleX:0,angleY:238.68,angleZ:0},{id:"93e8a299-8d20-4309-ae8a-08de47d82225",angleX:0,angleY:84.96,angleZ:0},{id:"6ddc822d-13d1-4d2c-81ef-7d40c692a96e",angleX:0,angleY:0,angleZ:0},{id:"10362f0a-24ef-445d-85df-89dd4bbef96b",angleX:0,angleY:0,angleZ:0},{id:"0cff9dd4-2732-4a5c-ab8f-d73239959f21",angleX:0,angleY:119.16,angleZ:0},{id:"d392268c-9dfa-4bad-bd1c-dc5fd7dc66bf",angleX:0,angleY:0,angleZ:0},{id:"1f9567ed-cf5f-45d6-8436-ddb6d4df01fe",angleX:0,angleY:190.08,angleZ:0},{id:"b41b2e99-c591-42a0-a6fe-8d5a1a3997c5",angleX:14.04,angleY:252.72,angleZ:0},{id:"8a133f62-f50c-491e-a4f2-8236e1b843d3",angleX:353.16,angleY:128.88,angleZ:345.24},{id:"727d3d36-bfe2-4e06-9ce9-c10cea33ab67",angleX:0,angleY:198,angleZ:0},{id:"cf138767-03b4-4850-a59c-48b79fdc1e9e",angleX:0,angleY:151.92,angleZ:0},{id:"09598874-1f95-45a7-b5cb-58b4a4a2e977",angleX:6.12,angleY:186.12,angleZ:343.8},{id:"2f248dc8-ef52-4b1a-bccf-60c6fd2c2d56",angleX:0,angleY:326.52,angleZ:0},{id:"df54d410-c813-40a9-a92b-0f648c889502",angleX:0,angleY:319.68,angleZ:0},{id:"ebf45388-b5ea-42db-8a97-e066f113fa64",angleX:0,angleY:189.36,angleZ:0},{id:"0aa24c92-ac2e-4c93-9654-9f04152ca2d1",angleX:0,angleY:20.16,angleZ:0},{id:"598a3219-5b81-4de7-8966-6717ea360883",angleX:0,angleY:346.68,angleZ:0},{id:"01f39cd6-73ed-4682-b897-95ef88ca6fe1",angleX:0,angleY:116.64,angleZ:0},{id:"92540fda-4a4b-4a2d-aefa-833a5003975c",angleX:0,angleY:23.76,angleZ:0},{id:"2b374b5f-db9e-4c62-a814-e8c3bf802a0b",angleX:0,angleY:54.72,angleZ:0},{id:"da8766c4-9ba2-4802-8a01-4ae9ce8cd2d3",angleX:0,angleY:28.08,angleZ:0},{id:"e5c249ba-eb05-47b1-ab82-2618c3be256c",angleX:18.36,angleY:234.72,angleZ:0},{id:"24efbcaf-8c1f-41e4-865a-6c28f33a01d3",angleX:0,angleY:325.44,angleZ:0},{id:"871c4279-3526-4344-8a61-404ac2555490",angleX:0,angleY:279,angleZ:0},{id:"488af31c-5114-485c-94c8-5ea98eca3b82",angleX:346.68,angleY:23.76,angleZ:7.56},{id:"4a8299a5-6aab-43a4-b5bc-94cf225128aa",angleX:0,angleY:72.36,angleZ:0},{id:"d3ec7a23-6aa1-4156-b430-7bfa0de3648d",angleX:16.2,angleY:226.44,angleZ:0},{id:"f4607ee2-3261-4205-bad0-1a25887c0b71",angleX:0,angleY:297.36,angleZ:0},{id:"f99e35d3-48f7-4cfe-b322-2a91dbe8b0f3",angleX:0,angleY:353.88,angleZ:0},{id:"2aecb14b-f79a-4db0-9e68-9e414cd2470a",angleX:0,angleY:178.56,angleZ:0},{id:"f3a5ad8b-bc49-496a-9568-459423936e6e",angleX:0,angleY:32.4,angleZ:0},{id:"404deb90-80e9-41ce-856c-0555abad1956",angleX:0,angleY:35.28,angleZ:0},{id:"9deb4cf3-26fa-4f4d-9386-3d06a7a11c8a",angleX:349.2,angleY:244.8,angleZ:355.32},{id:"b6392cb0-f41e-413e-9e31-8db26983c6c2",angleX:0,angleY:112.32,angleZ:0},{id:"7b7e482f-b2db-4019-971e-092a6cb81068",angleX:353.88,angleY:62.28,angleZ:4.32},{id:"f8dd09a1-64c2-4188-b94c-32371da0a415",angleX:0,angleY:39.6,angleZ:0},{id:"6131c81d-91ff-412b-baec-8db09d924095",angleX:0,angleY:151.92,angleZ:0},{id:"19957077-2d7b-4547-a16c-26ec6860b2bb",angleX:0,angleY:125.64,angleZ:0},{id:"f08cacef-a65d-440a-aa9d-5f9ca7ec382f",angleX:0,angleY:315.36,angleZ:0},{id:"28e34c1a-a0c3-462a-adb9-31fc629eb43b",angleX:0,angleY:342.36,angleZ:0},{id:"a697322e-0504-4fd7-960c-2a62c9912ace",angleX:0,angleY:249.48,angleZ:0},{id:"79905f23-17a7-4014-a9c2-2b2891c9f539",angleX:0,angleY:290.52,angleZ:0},{id:"8ecef742-ad5b-41dd-a3a0-22b72e92640d",angleX:0,angleY:143.28,angleZ:0},{id:"bdcc3a3b-8810-48f9-b474-697ff2a4f840",angleX:0,angleY:182.88,angleZ:0},{id:"15449e18-6813-4d5c-b3c5-f891d460f2da",angleX:0,angleY:39.6,angleZ:0},{id:"7015f3db-75e6-497f-8207-41e0e314bdb3",angleX:0,angleY:156.6,angleZ:0},{id:"5ab40743-c5fc-4d21-b884-dcc9d5fbd1ed",angleX:0,angleY:78.84,angleZ:0},{id:"1ba02941-19ae-4a27-b5e1-ebdb53118d63",angleX:0,angleY:102.96,angleZ:0},{id:"e9aefd75-d134-43aa-a9be-b0e45c9500fa",angleX:0,angleY:23.76,angleZ:0},{id:"eb2eaba6-87b7-46bb-9b91-de7dd61f42a3",angleX:0,angleY:37.08,angleZ:0},{id:"490d89b8-88f8-4c79-94c2-b65f64e38be0",angleX:0,angleY:59.04,angleZ:0},{id:"ae69474f-f078-4316-8dae-088668b5b58d",angleX:0,angleY:187.56,angleZ:0},{id:"cc8d2f40-3316-40e0-ab18-a0ece7b31635",angleX:0,angleY:341.64,angleZ:0},{id:"790a4448-bc92-4bf4-8924-cfd8cd6fd59a",angleX:0,angleY:297.36,angleZ:0},{id:"9646e4cd-b143-442f-8448-8b61b093d2d3",angleX:16.2,angleY:176.04,angleZ:0},{id:"8ee31e23-5e40-4a77-a63c-fcf8431f092e",angleX:5.4,angleY:249.48,angleZ:355.32},{id:"a9ef9d47-9616-4982-9fc2-65520c2cf31b",angleX:0,angleY:63.36,angleZ:0},{id:"8045a611-dbb0-4d9d-af87-57eeb3e18e00",angleX:0,angleY:314.28,angleZ:0},{id:"985daecb-9aba-4375-8171-1de7324cbf3f",angleX:0,angleY:0,angleZ:0},{id:"2c770943-a210-4562-83df-0970055c2191",angleX:12.6,angleY:242.64,angleZ:0},{id:"40e284e9-ad5b-4fd4-9946-5976f9e8d28b",angleX:0,angleY:337.68,angleZ:0},{id:"160b0e27-fdd1-4634-84a6-d8f0d4d85db8",angleX:0,angleY:0,angleZ:0},{id:"454524a9-a7ca-487f-90ea-b843398ddbba",angleX:0,angleY:68.04,angleZ:0},{id:"c442cfc6-efce-4d2d-bf61-33ea041e0131",angleX:351.36,angleY:35.64,angleZ:0},{id:"f70e4db3-d3e7-4fc2-9803-bab72bf227ec",angleX:0,angleY:143.28,angleZ:0},{id:"3eda3dfe-cd97-4999-9d32-8a95b6800f3b",angleX:0,angleY:336.96,angleZ:0},{id:"6ecad57f-6553-4d86-9397-899b66334ce3",angleX:0,angleY:48.6,angleZ:0},{id:"2af5a053-3c57-4f09-b7f6-fc821685b83d",angleX:0,angleY:335.88,angleZ:0},{id:"02ec175d-e0d2-466c-8966-62f639dfceb2",angleX:0,angleY:108,angleZ:0},{id:"95e79626-e8c9-4926-80b6-5278d6d99b55",angleX:18.36,angleY:194.04,angleZ:356.04},{id:"3eb6481b-4b12-4fb1-a1ad-5e8c51535636",angleX:0,angleY:18.72,angleZ:0},{id:"b3cfe487-e614-4780-8aaa-60315e29a8da",angleX:10.44,angleY:72.36,angleZ:0},{id:"064e98b6-d554-45cc-ae93-55161a2c4ec9",angleX:0,angleY:194.04,angleZ:0},{id:"2c270ffa-0b58-474e-923b-7fc9454e85bd",angleX:353.16,angleY:118.44,angleZ:351.36},{id:"eaade75f-5546-4bdc-a9a6-b6d045629b6f",angleX:10.08,angleY:222.48,angleZ:0},{id:"03a875aa-66bb-4662-843b-ca4c1e0d56f1",angleX:0,angleY:193.32,angleZ:0},{id:"570572c3-6ce8-43ae-9c21-7b3a8a50d09e",angleX:0,angleY:94.68,angleZ:0},{id:"abfd0b5e-7755-40a1-be63-9999d4bf9902",angleX:0,angleY:0,angleZ:0},{id:"e19ed42a-285a-4b21-8f69-ce8c726878a0",angleX:0,angleY:119.16,angleZ:0},{id:"d2702623-c013-4fcc-8422-f93acf9b03dd",angleX:0,angleY:237.24,angleZ:0},{id:"086daa65-ce28-4d21-9229-561d5ee1f209",angleX:0,angleY:0,angleZ:0},{id:"250067b0-8ba7-40ad-848c-97116efe1611",angleX:0,angleY:86.76,angleZ:0},{id:"96148705-da01-4cd7-8f74-b0f758104a9e",angleX:0,angleY:76.68,angleZ:0},{id:"add4c811-60b6-4efc-b518-dea10d230419",angleX:0,angleY:64.44,angleZ:0},{id:"479137ed-bac4-4d0e-ad5c-5b4dee9add7d",angleX:0,angleY:0,angleZ:0},{id:"01ae8d6d-815c-4b47-92f5-2a59606008f4",angleX:0,angleY:208.8,angleZ:0},{id:"16fef51d-6254-4a9a-ac89-6129240bbd8d",angleX:0,angleY:186.12,angleZ:0},{id:"c8ffb6ca-4939-4a92-8332-827d859f3218",angleX:0,angleY:0,angleZ:0},{id:"e7cdba12-1f38-4cf7-adb7-04c0869ccd10",angleX:0,angleY:165.24,angleZ:0},{id:"90bea81b-96ec-46cf-a2c3-5f17b2080d11",angleX:0,angleY:7.92,angleZ:0},{id:"25384263-ba3d-449b-99eb-bf1267721af1",angleX:14.4,angleY:244.8,angleZ:0},{id:"4ceac926-7c78-44af-841c-b5eeb300a10c",angleX:19.44,angleY:264.24,angleZ:360},{id:"079e080a-b68b-4091-8d42-d547a4831123",angleX:0,angleY:103.32,angleZ:0},{id:"d9d07f77-b496-4332-8ea7-8f46e86cc60e",angleX:0,angleY:0,angleZ:0},{id:"eea058b4-250e-45ef-987c-2f5c52a9b27c",angleX:0,angleY:94.68,angleZ:0},{id:"97d910bb-d8a9-4069-b672-01efda751675",angleX:0,angleY:0,angleZ:0},{id:"ea70e8fd-d0ea-4540-ba5b-4a6914ed48e7",angleX:0,angleY:127.44,angleZ:0},{id:"900bfa65-5a78-4a72-acbe-972d52265c88",angleX:0,angleY:196.2,angleZ:0},{id:"b65c35b0-1c4d-45eb-af69-7f8dd532addb",angleX:0,angleY:333.36,angleZ:0},{id:"89cf4c5b-5def-4519-af5c-0edc8f0dc718",angleX:0,angleY:45.72,angleZ:0},{id:"0957ddd1-c390-46c4-9c62-700a0f0a2594",angleX:355.68,angleY:28.08,angleZ:0},{id:"581f103b-d48a-44fa-bc20-c2ca56edfad2",angleX:0,angleY:0,angleZ:0},{id:"19f651ba-f22c-4b23-985f-fd3a613d0f45",angleX:353.16,angleY:50.4,angleZ:347.04},{id:"75d13f51-2991-4073-8be1-1984b8ff8ffa",angleX:12.24,angleY:244.8,angleZ:0},{id:"46538cfb-2674-49a6-a7ef-d19e75bbce68",angleX:1.44,angleY:253.8,angleZ:10.44},{id:"0936f9d4-44a5-4023-bfd2-baabef3058b4",angleX:0,angleY:261,angleZ:0},{id:"cb769bd5-4972-45bb-97c1-989bedd259f3",angleX:10.08,angleY:258.84,angleZ:0},{id:"e564e77f-e329-4442-8ad0-f9551df4327a",angleX:6.12,angleY:242.64,angleZ:4.32},{id:"9d58b5be-8cf8-4169-8192-fc69ed4b111a",angleX:0,angleY:309.6,angleZ:0},{id:"ba44a2c4-7d17-4dac-bd4b-616e836cbf38",angleX:0,angleY:301.68,angleZ:0},{id:"f357a9ef-1bb4-4a28-a8df-50f59933f049",angleX:0,angleY:268.92,angleZ:0},{id:"5d8c8566-a9ee-4023-9e0c-cb5ecf0f6955",angleX:0,angleY:216.36,angleZ:0},{id:"1678d4a3-4f2c-45ba-88e7-bdc2243a0c73",angleX:0,angleY:68.04,angleZ:0},{id:"e7898d33-7209-4faf-9798-3bc4f056e648",angleX:0,angleY:30.24,angleZ:0},{id:"1d4de285-7442-42c7-bfaa-75fa448490b2",angleX:346.68,angleY:37.08,angleZ:10.44},{id:"ea7d9e53-a78d-40d0-a9b2-cef68498ca83",angleX:0,angleY:164.52,angleZ:0},{id:"52b33d61-e205-4adf-9378-6ed1371ca164",angleX:0,angleY:95.4,angleZ:0},{id:"64d00d9a-1c24-45f0-8a93-40bd14a3a111",angleX:0,angleY:213.84,angleZ:0},{id:"fc3c4cd9-c4db-4943-beea-4e6e76e7b1b7",angleX:0,angleY:329.04,angleZ:0},{id:"0d7601b4-0854-41a9-97fe-415c507c8895",angleX:0,angleY:10.44,angleZ:12.24},{id:"0dcc47f3-00ca-4ef0-9288-624aa91655cd",angleX:0,angleY:319.68,angleZ:0},{id:"13084852-6d40-44db-a7f2-d5a664b0499a",angleX:0,angleY:0,angleZ:0},{id:"7f76b592-4b04-45b3-a948-75ff5c5684ff",angleX:0,angleY:134.28,angleZ:0},{id:"d6bfca4d-6a23-42c1-b870-76e36788ac17",angleX:0,angleY:85.68,angleZ:0},{id:"0caae85e-22d3-4855-9ee4-a7843d1ad3a8",angleX:0,angleY:94.68,angleZ:0},{id:"b3c97ccc-1d3c-410d-8e9f-3a2c1861e5c6",angleX:0,angleY:120.96,angleZ:0},{id:"d849782a-52b5-4790-b764-e2da3bf1d1db",angleX:0,angleY:26.28,angleZ:0},{id:"c24891f1-1a4a-4f69-8497-4a61e1dde0dd",angleX:0,angleY:311.4,angleZ:0},{id:"37e33026-02f2-4291-9471-0be244492b30",angleX:0,angleY:10.44,angleZ:0},{id:"28d2c83f-9aba-41c8-85e4-5abe6c55a17d",angleX:0,angleY:28.08,angleZ:0},{id:"3fd52295-9e73-474b-a00d-562e2185be65",angleX:0,angleY:143.64,angleZ:0},{id:"de57865b-6555-4767-a507-59d0be717da6",angleX:0,angleY:28.08,angleZ:0},{id:"440d1594-91d6-4bd4-8ff0-0f9131b3b689",angleX:0,angleY:200.88,angleZ:0},{id:"e250192d-4adf-4cf0-92a7-0c4f74554058",angleX:0,angleY:41.4,angleZ:0},{id:"d9842ef8-5215-4383-9f0d-a41cc4c901c2",angleX:0,angleY:0,angleZ:0},{id:"73039ff0-0b29-4935-958b-ab24f8f15575",angleX:0,angleY:30.24,angleZ:0},{id:"1b04f135-abe6-4ca4-b1ba-747d01375428",angleX:0,angleY:189.36,angleZ:0},{id:"fd2f949a-e2b9-4aae-9178-ae7ef971710c",angleX:0,angleY:279,angleZ:0},{id:"59d88a82-0325-48fe-8866-35110448d632",angleX:0,angleY:301.68,angleZ:0},{id:"09d099c6-5a2b-4be2-a11e-81e95f427811",angleX:10.08,angleY:267.48,angleZ:356.04},{id:"326d8ce8-8235-4058-b61d-5a34b3cd6ddb",angleX:0,angleY:7.92,angleZ:0},{id:"d3e7e2b7-a928-4db8-bdab-fcaee3d6f11c",angleX:0,angleY:0,angleZ:0},{id:"a632d569-06e4-4fc1-8b5d-030e6a078090",angleX:10.08,angleY:242.64,angleZ:0},{id:"7ac02166-ba9a-4db5-b6fd-0ca3658ab68e",angleX:6.12,angleY:227.16,angleZ:14.76},{id:"91f325d3-8f3c-4944-8c71-a6c03e1172b9",angleX:14.4,angleY:255.24,angleZ:0},{id:"5bdb47c1-8ee0-4929-b3e4-82ef8761c0e0",angleX:0,angleY:346.68,angleZ:0},{id:"1fafdf37-dcfa-4a83-a4a3-5b36cbde5950",angleX:0,angleY:41.4,angleZ:0},{id:"e3e39c8a-0dd9-4c78-904b-c500ec33e66e",angleX:349.2,angleY:19.44,angleZ:0},{id:"3e5c37e4-1475-4235-bea9-73c51f70fdfd",angleX:0,angleY:14.76,angleZ:0},{id:"9b17acd8-c770-41c2-968c-8f14614683bb",angleX:0,angleY:212.4,angleZ:0},{id:"e3fd14ea-b1af-4b98-89ce-303adacd9297",angleX:0,angleY:315.72,angleZ:0},{id:"ac6970eb-3c1c-4622-8268-b51786696700",angleX:0,angleY:322.56,angleZ:0},{id:"0fffc947-5b57-4166-8b50-0640cee93698",angleX:32.4,angleY:190.08,angleZ:0},{id:"31c3415f-f53f-400a-9a4f-c09f3be88838",angleX:0,angleY:116.64,angleZ:0},{id:"fdc0a9e6-c5b4-47f2-995e-49c4bf097e65",angleX:0,angleY:0,angleZ:0},{id:"95b29f80-cad2-4bcc-a2c9-40091e2154c5",angleX:0,angleY:103.32,angleZ:0},{id:"6492acb3-b9b9-41bb-bee4-a027ef89acdf",angleX:355.32,angleY:163.08,angleZ:340.92},{id:"ec36de4e-c36e-4a8d-8a0b-01fa1de04e15",angleX:9.72,angleY:196.2,angleZ:352.08},{id:"8718c06a-c2b8-48a2-b4bc-078f5c8a7adb",angleX:0,angleY:30.24,angleZ:0},{id:"7c0d3cb7-4b9b-45e4-8889-6a6d92ec46db",angleX:0,angleY:178.56,angleZ:0},{id:"1eed5111-9456-4508-8c8f-d58613a851c3",angleX:0,angleY:187.92,angleZ:0},{id:"1c3d4fb2-00fe-4b44-9a44-11de47fbd620",angleX:0,angleY:0,angleZ:0},{id:"3c1d3e71-1b1b-4210-a37a-11ce6770a32b",angleX:0,angleY:0,angleZ:0},{id:"6d041cdb-7116-49d0-94cd-86af6eb3551c",angleX:0,angleY:204.12,angleZ:0},{id:"0da0c6d3-b8b3-45bf-8995-ff81e60584ba",angleX:0,angleY:68.04,angleZ:0},{id:"62d9361d-5a31-4400-9f7a-dba0e3d96999",angleX:0,angleY:0,angleZ:0},{id:"2ac67b62-4e68-4518-afa9-43db5759575f",angleX:355.32,angleY:130.68,angleZ:351.36},{id:"ec92c206-e93f-4d46-a6fa-433b814a46e3",angleX:0,angleY:85.68,angleZ:0},{id:"beaacaf9-5b07-431c-855b-35b6750e8a7b",angleX:0,angleY:0,angleZ:0},{id:"ce635c73-de94-4cc5-819c-a2309b99d979",angleX:0,angleY:234.72,angleZ:0},{id:"9e14059d-6e21-46a4-9b5c-fb8a519695d9",angleX:0,angleY:230.76,angleZ:0},{id:"c1821505-60da-4729-a48b-f2d57e9184c8",angleX:0,angleY:0,angleZ:0},{id:"e05a0215-0025-4c34-9576-7fd1add32e78",angleX:0,angleY:40.32,angleZ:0},{id:"66ad565f-3706-43fc-a992-f0c3c4afe8e2",angleX:0,angleY:191.88,angleZ:0},{id:"e13e652b-74e7-49f7-83b4-6529bf209e0c",angleX:13.32,angleY:270.36,angleZ:0},{id:"17dcb546-a93e-4d1b-abfe-d3d3dab1898a",angleX:0,angleY:74.88,angleZ:0},{id:"cbedb471-5d14-4efb-881b-57e839913302",angleX:0,angleY:182.88,angleZ:0},{id:"36119856-baba-42a1-a6e7-9421bb12fe7d",angleX:0,angleY:317.52,angleZ:0},{id:"4d710085-c3e9-4fc8-a3a5-a33b814dc342",angleX:0,angleY:81.36,angleZ:0},{id:"248f4eb5-0b95-4a62-91d2-651aae0507c0",angleX:0,angleY:147.6,angleZ:0},{id:"552910d4-2ac8-401b-b75f-2d2226a23281",angleX:0,angleY:90,angleZ:0},{id:"6c02d004-3b86-4ab8-807f-528b4cad2966",angleX:0,angleY:0,angleZ:0},{id:"27961c34-d642-4568-9637-b7d28cc2fdc4",angleX:16.2,angleY:218.52,angleZ:0},{id:"2a4a6362-daae-4ccf-ad2c-6c10ab96c749",angleX:0,angleY:169.56,angleZ:0},{id:"d344be2c-1ab9-4c32-9495-e89f92253b6b",angleX:352.08,angleY:165.96,angleZ:339.84},{id:"3c9ca04c-3102-4849-a2ac-817675643440",angleX:0,angleY:0,angleZ:0},{id:"409c928d-5dc2-44f2-b6ce-6813f443852a",angleX:0,angleY:6.12,angleZ:0},{id:"f0d9a181-dd63-46a0-9efb-709d1f540727",angleX:0,angleY:10.44,angleZ:0},{id:"c47ea933-7680-4f85-8881-09e2e6c935b6",angleX:0,angleY:307.44,angleZ:0},{id:"aa88708a-7623-4bb2-9807-bb2667dd4838",angleX:0,angleY:262.8,angleZ:6.12},{id:"d95d7167-97ed-42e1-bd17-265697a85cf4",angleX:360,angleY:72.36,angleZ:351.36},{id:"5475123a-4688-4516-9a72-1f8cf0cd6d90",angleX:0,angleY:327.6,angleZ:0},{id:"c6392bf8-be5d-4cd8-b77c-94cd23934a7e",angleX:0,angleY:0,angleZ:0},{id:"0da8e4ee-1147-4142-b3af-d4f6ff8884ae",angleX:349.2,angleY:37.08,angleZ:345.24},{id:"a2a22118-c554-46b5-b12b-6e02c6ec60c7",angleX:10.08,angleY:206.28,angleZ:0},{id:"88a4ccdd-ec23-4b79-81cf-621acdbd3ad2",angleX:0,angleY:216.36,angleZ:0},{id:"aa2bbf5a-2485-4912-a053-af9aedda62df",angleX:0,angleY:272.88,angleZ:0},{id:"f21606f7-0079-4656-a32b-89a91b0d9b94",angleX:0,angleY:257.4,angleZ:0},{id:"ea7c5f14-b812-4a92-bcbb-a38c54194c1a",angleX:0,angleY:30.24,angleZ:0},{id:"dd102186-5c5c-4a83-8ddf-00620baa4c9b",angleX:0,angleY:19.44,angleZ:0},{id:"77dbcf3a-01e9-4c27-adf5-085759ff211f",angleX:0,angleY:14.76,angleZ:0},{id:"98136e5b-bd0a-4646-a637-e3b6f713b2e6",angleX:0,angleY:125.64,angleZ:0},{id:"e367a09f-02ef-4313-a581-73cf61671e27",angleX:0,angleY:191.88,angleZ:0},{id:"1114ce7d-edf3-486e-b8c0-e1f5bc53f83d",angleX:0,angleY:0,angleZ:0},{id:"dcafa112-7cfd-4c88-bc74-9702042131cd",angleX:0,angleY:12.24,angleZ:0},{id:"32003666-c74a-4055-b80a-89ae01551511",angleX:0,angleY:125.64,angleZ:0},{id:"1bf23852-c1e4-49c8-a452-a7f892dce048",angleX:0,angleY:76.68,angleZ:0},{id:"4ad84cd1-0d99-4f77-84ff-4d866fbbf995",angleX:0,angleY:62.64,angleZ:0},{id:"db112114-e2b9-440a-a052-df6c3957c8e9",angleX:0,angleY:68.76,angleZ:0},{id:"58fe7c62-a785-4d02-87a7-517cda89ae6b",angleX:0,angleY:103.32,angleZ:0},{id:"7a6bfaf2-4cb3-4122-ba5c-555d1c55d109",angleX:0,angleY:129.96,angleZ:0},{id:"8dfcf3eb-f10f-44c6-be20-ecb2267b9e2a",angleX:0,angleY:275.04,angleZ:0},{id:"9c7a29f0-3d6f-403e-98d3-2cbf14a9aeb5",angleX:0,angleY:22.32,angleZ:0},{id:"6864ad80-dbfd-4e20-b5c8-0ee0b5ecdd6a",angleX:0,angleY:200.88,angleZ:0},{id:"d186d50e-e703-4473-924c-89165e8fa613",angleX:0,angleY:23.76,angleZ:0},{id:"36865d32-6f56-422b-8950-1663a396f6ef",angleX:0,angleY:0,angleZ:0},{id:"772fed6e-5fec-4ed9-b2d9-2e08132db144",angleX:0,angleY:0,angleZ:0},{id:"edcfb9a5-5d21-4d93-883a-d4214cb4b5f3",angleX:0,angleY:174.6,angleZ:0},{id:"e233f6c9-bcdb-4794-915d-2ed83b54ab89",angleX:0,angleY:26.28,angleZ:0},{id:"d37894a2-2891-44f2-8316-dd2780e1c963",angleX:0,angleY:257.4,angleZ:0},{id:"22095270-fe96-4e39-ba9a-93419c7158a7",angleX:0,angleY:317.52,angleZ:0},{id:"05a79888-459a-42cb-ab52-062611670bbe",angleX:14.04,angleY:228.6,angleZ:357.84},{id:"b13c6e6c-a24d-40c1-9ebd-cfb15c489a18",angleX:357.84,angleY:50.4,angleZ:349.2},{id:"9e6559ae-eae4-4970-81ae-f6cb875b6152",angleX:0,angleY:287.28,angleZ:0},{id:"ffbc46a4-c9a6-4bad-b507-a093e64c70f9",angleX:0,angleY:291.24,angleZ:0},{id:"312239f5-2dcc-47e1-b179-cab8e8de49a6",angleX:355.68,angleY:289.08,angleZ:0},{id:"0a3d4cee-1403-4294-bbb3-1c0e308b9ef6",angleX:355.32,angleY:50.4,angleZ:355.32},{id:"80d47a3d-bfb8-4485-afb2-d43ec208324e",angleX:0,angleY:291.24,angleZ:0},{id:"e827e651-ca3a-43b7-b96d-78ed947ce2a5",angleX:0,angleY:271.44,angleZ:0},{id:"9c00ac00-79ea-4fe0-9600-3b3db5e5beb3",angleX:0,angleY:50.4,angleZ:0},{id:"21c392c4-703e-484d-b7d5-6c3f9a100df6",angleX:0,angleY:28.08,angleZ:0},{id:"cf79be0b-79ae-4dba-bdfa-f64df3660b1c",angleX:14.04,angleY:169.92,angleZ:345.96},{id:"3a4c6d82-ef56-48ee-9617-41b013ce4156",angleX:0,angleY:345.6,angleZ:0},{id:"9c54b945-8869-4263-96aa-3496f0efa2a5",angleX:0,angleY:0,angleZ:0},{id:"574aadc2-cedf-4459-8c02-40ed033d2d9b",angleX:0,angleY:187.56,angleZ:0},{id:"bf2875fd-7f89-4649-9233-d045eced8c74",angleX:0,angleY:212.4,angleZ:0},{id:"36710822-b529-4bd0-b484-a74c779a21a7",angleX:0,angleY:151.92,angleZ:0},{id:"b829673b-655e-4904-a292-8671195ad0e9",angleX:0,angleY:63.36,angleZ:0},{id:"985e23d4-6714-4e32-a87f-ffc51c6ad20e",angleX:0,angleY:94.68,angleZ:0},{id:"f3750530-cc75-4ccf-ab52-02927e7ae23a",angleX:0,angleY:311.4,angleZ:0},{id:"3b817fc0-68b2-4d4e-9672-a742ab59634d",angleX:0,angleY:81,angleZ:0},{id:"9186108b-2ae9-48e5-b6ca-33be70f86b6e",angleX:19.44,angleY:252,angleZ:0},{id:"7876dc42-fc9a-487d-a422-455fd9a06395",angleX:0,angleY:174.24,angleZ:0},{id:"5416d3a3-48c2-44be-b3ea-34f23c466bea",angleX:0,angleY:182.88,angleZ:0},{id:"b5de7082-e92f-4da4-ad87-d96696b6201d",angleX:0,angleY:22.32,angleZ:0},{id:"dfd89ab7-2149-4943-ac5f-006865c0a70c",angleX:0,angleY:226.44,angleZ:0},{id:"b99fd132-ea80-4022-a78e-c8fba46e02de",angleX:0,angleY:0,angleZ:0},{id:"0a5e6996-755e-4ba9-8f29-07dc74c9e8e0",angleX:0,angleY:0,angleZ:0},{id:"ff62cd40-dec9-46f4-97b7-1addf333d5e9",angleX:0,angleY:167.76,angleZ:0},{id:"0ea00b0e-cc23-4929-8fa2-ae8b3b382f98",angleX:0,angleY:236.16,angleZ:0},{id:"3ace23b2-0302-413a-a3df-93bb6d241f06",angleX:360,angleY:153,angleZ:347.04},{id:"8fc553b0-3615-41db-a66a-7c43e60f37bd",angleX:7.92,angleY:96.84,angleZ:345.96},{id:"6be2f0d7-ce2d-456f-adf6-efb5f07b79e7",angleX:0,angleY:213.12,angleZ:0},{id:"bc2ca797-c824-4e56-8c0d-970e5157c91f",angleX:0,angleY:291.24,angleZ:0},{id:"3a6afc01-e883-46fb-848a-7d5d6dfa8f2e",angleX:0,angleY:0,angleZ:0},{id:"a2359f57-2380-48ab-a42f-224ad3d3f342",angleX:0,angleY:172.8,angleZ:0},{id:"cd62f21b-12ca-4327-a055-c152fb94f6cf",angleX:0,angleY:131.4,angleZ:345.6},{id:"1e8d9247-d495-457c-847f-9dcec39bb48f",angleX:0,angleY:173.16,angleZ:0},{id:"09122e6d-9667-4ba1-a9b7-2af5329b31c6",angleX:0,angleY:142.92,angleZ:349.2},{id:"3ae83907-2493-44da-8d4b-4f6759215c7a",angleX:0,angleY:251.64,angleZ:0},{id:"9887ef09-fbb7-4e00-a6c6-ef4bfd5d95d4",angleX:13.32,angleY:189.36,angleZ:0},{id:"be7556b7-ffd9-4d48-bcac-815ce309e087",angleX:0,angleY:0,angleZ:0},{id:"76963b5b-e9fd-4b97-ac2a-5d3a73ab141b",angleX:0,angleY:135.36,angleZ:0},{id:"412a3ee7-4923-4c09-8401-aa4af7384d63",angleX:0,angleY:262.8,angleZ:0},{id:"7f6fd20d-700d-4e59-ba88-3028f324e570",angleX:0,angleY:314.28,angleZ:0},{id:"8e5f6dc9-240c-4716-9a01-52f08337990d",angleX:0,angleY:115.2,angleZ:0},{id:"6319af2a-058b-46eb-a80c-fa63be0817f4",angleX:0,angleY:24.12,angleZ:0},{id:"312e87cd-36f0-4355-8f00-4e0f07d99381",angleX:0,angleY:314.28,angleZ:0},{id:"ff9cce5d-7330-40f2-8987-3b3937f9c5c6",angleX:0,angleY:342.36,angleZ:0},{id:"4be51075-7b71-446e-8507-b0f2f779b24e",angleX:27,angleY:208.08,angleZ:0},{id:"7108245b-9cba-4eab-a248-95014d0ec3f4",angleX:0,angleY:342.36,angleZ:0},{id:"bbec76b7-d04c-4f21-80f8-d08ef1a34e16",angleX:0,angleY:198,angleZ:0},{id:"dc44b3c8-f3e5-47e0-900b-f2ea4b4bf6e2",angleX:0,angleY:245.52,angleZ:0},{id:"da62b7ba-d3e0-4ba1-9070-357ff449a1e0",angleX:0,angleY:280.44,angleZ:0},{id:"ee4b6fae-1782-48ae-8452-f786392a6dbd",angleX:350.64,angleY:66.6,angleZ:0},{id:"8c129a4e-aa45-4f55-a5b3-15965306e8d8",angleX:0,angleY:333.36,angleZ:9.36},{id:"2b227179-667b-4cdc-88a1-33e62f95d861",angleX:0,angleY:173.88,angleZ:0},{id:"ae0e309e-2681-4547-9a8b-af877fbca3a4",angleX:0,angleY:307.44,angleZ:0},{id:"afac4c9a-dc69-42f6-884b-c9ec09474a3a",angleX:0,angleY:256.68,angleZ:0},{id:"315fcfdb-621a-4080-804b-3b162b32a846",angleX:355.68,angleY:324.72,angleZ:0},{id:"6377cfaf-a318-4a03-8290-50698407294c",angleX:352.08,angleY:1.8,angleZ:2.16},{id:"8449a526-efee-4ff3-8469-aeb9d29385e9",angleX:351,angleY:351,angleZ:0},{id:"6466187f-9f85-44ff-9af2-6c16f80d821d",angleX:0,angleY:0,angleZ:0},{id:"130419eb-ece7-43f3-9cd5-2b27c6dff44e",angleX:351.36,angleY:50.4,angleZ:0},{id:"1ead2685-c45e-4f68-b778-b3e12ec9de67",angleX:0,angleY:160.2,angleZ:0},{id:"c065dd74-53a9-4d38-9663-eea0014b5279",angleX:0,angleY:165.24,angleZ:0},{id:"7c7270be-4dc4-44cf-a1ab-b968be9690cb",angleX:10.44,angleY:178.56,angleZ:0},{id:"ca790cc3-7933-43cd-b1ce-d35543113afe",angleX:11.52,angleY:249.48,angleZ:0},{id:"085dd680-2e33-43c5-88fb-630e5d1d114c",angleX:0,angleY:50.4,angleZ:0},{id:"7f98e697-cd4b-4560-bce3-f749528741c4",angleX:0,angleY:23.76,angleZ:0},{id:"f3bc2075-a2d2-4156-b7a7-fc1e70723453",angleX:0,angleY:14.76,angleZ:0},{id:"6e48b15d-e4a6-4e94-a0ac-1ab7568dcc07",angleX:0,angleY:194.04,angleZ:0},{id:"8048e6d5-7db7-44b3-8629-536d3135f982",angleX:0,angleY:0,angleZ:0},{id:"58f7a229-ca31-4b78-898f-91d200bdb2f0",angleX:347.76,angleY:0,angleZ:0},{id:"2156d5ba-e23b-4b6f-989e-0bea69a5e8bf",angleX:0,angleY:289.08,angleZ:0},{id:"c07658b2-d564-4518-9440-ca7abf59f9b3",angleX:0,angleY:258.12,angleZ:0},{id:"b2ac6351-8eb0-4889-8c50-3b596f0e7d5a",angleX:0,angleY:0,angleZ:0},{id:"bdf48149-5364-4ae6-ba34-d6c5fe4546f5",angleX:0,angleY:0,angleZ:0},{id:"aadf9e11-9d16-427b-984a-b913762913fd",angleX:0,angleY:63.36,angleZ:0},{id:"730e925a-a009-42cd-9616-cadea21bc9e0",angleX:0,angleY:12.24,angleZ:0},{id:"f7405dac-3ae2-4753-b24b-04847f9916c6",angleX:0,angleY:20.16,angleZ:7.92},{id:"d39c18aa-df98-42ac-b525-f5682bcac076",angleX:0,angleY:190.08,angleZ:0},{id:"e03f1069-e1d6-4aa9-b719-1e7bf8b167d1",angleX:0,angleY:10.44,angleZ:0},{id:"031844db-aba2-4d45-8335-5d2198cfb63d",angleX:0,angleY:342.36,angleZ:0},{id:"ee336479-6d71-49e2-afbe-7294a79eba8b",angleX:0,angleY:68.04,angleZ:0},{id:"888951c8-de04-47b2-ba28-d35a69a560e6",angleX:0,angleY:0,angleZ:0},{id:"96ef3591-6146-46b1-a856-021320c1ba0a",angleX:10.44,angleY:178.56,angleZ:0},{id:"bc5d00b1-c8db-4351-ae7c-d9feeb6809e3",angleX:5.4,angleY:289.08,angleZ:0},{id:"3ed00d2b-dfbf-4fc3-a8cb-190ace6b6ab5",angleX:0,angleY:30.96,angleZ:0},{id:"7e524fee-a436-4391-9661-81af7cc4ed80",angleX:173.52,angleY:36.72,angleZ:175.68},{id:"65313b3e-e484-4ad4-98bb-cc78f0a47d99",angleX:0,angleY:165.24,angleZ:0},{id:"424fd014-1be7-4199-89b7-2020ed0e3fc6",angleX:0,angleY:0,angleZ:0},{id:"623ce13c-e497-4729-bb13-aa3a1ae676d3",angleX:351.36,angleY:338.04,angleZ:3.24},{id:"96155043-5669-4d00-aff7-2f3936853123",angleX:343.44,angleY:52.56,angleZ:0},{id:"728e9459-896b-4024-b261-738632bd795c",angleX:355.32,angleY:339.12,angleZ:0},{id:"39ca4fab-3670-4b56-9bf9-e625d13c65d8",angleX:12.24,angleY:267.12,angleZ:0},{id:"ea1875e8-2725-4857-8889-07034bb7ba36",angleX:0,angleY:299.16,angleZ:0},{id:"7aff8d49-8dd4-4ea3-a5ea-269d9b1dab46",angleX:0,angleY:333.36,angleZ:17.64},{id:"ea250fe7-499e-45cb-88ce-4ea2ea113d5c",angleX:0,angleY:187.92,angleZ:0},{id:"c1329cdc-0206-41fa-a33d-cb68b7c5acfc",angleX:0,angleY:271.44,angleZ:0},{id:"f8e83ff4-aad9-4cb4-8705-29588b331dce",angleX:2.16,angleY:107.64,angleZ:350.64},{id:"22bbc751-547c-4d67-ba57-a73c47255a54",angleX:0,angleY:235.08,angleZ:0},{id:"e2c81025-ce17-416d-bc6b-a6deb462fe0b",angleX:0,angleY:222.48,angleZ:0},{id:"a0d45386-200b-49bc-a7f8-61d6162ae671",angleX:0,angleY:333.36,angleZ:0},{id:"45d88fd5-117a-4da2-aa3a-c29fb8a87245",angleX:8.28,angleY:274.68,angleZ:0},{id:"e0d7b0c0-b21c-4809-af9e-2bcf161bd0e6",angleX:0,angleY:329.04,angleZ:0},{id:"ac8ce9c2-fac2-49c7-a22a-e414464cce4f",angleX:0,angleY:3.96,angleZ:0},{id:"026e4fa7-037c-4706-aef3-9154dd24116f",angleX:0,angleY:320.4,angleZ:0},{id:"57843219-294b-4b07-999b-04efd218c60a",angleX:0,angleY:311.4,angleZ:0},{id:"ca43997d-83ee-4ebf-aaa7-b9d90d9da820",angleX:0,angleY:113.04,angleZ:0},{id:"986ccf7d-3633-4260-a505-c5952024d833",angleX:0,angleY:0,angleZ:0},{id:"549a1928-7d28-4cc1-a733-bda34ed3f12f",angleX:0,angleY:131.4,angleZ:0},{id:"0dd20d70-c15a-4d44-b2a4-02dc60715c73",angleX:0,angleY:223.92,angleZ:0},{id:"396c43f0-6483-434a-9c85-0c18b7c86936",angleX:13.32,angleY:195.48,angleZ:0},{id:"afdac192-efe0-46b2-b132-d536428590f9",angleX:0,angleY:170.64,angleZ:0},{id:"6fd3623e-d278-4813-916d-d972f573976d",angleX:0,angleY:169.92,angleZ:0},{id:"1fb8b935-f66d-4567-8727-3b898657991e",angleX:15.84,angleY:183.96,angleZ:0},{id:"65277fbc-d690-4c78-9b32-7bb34a2aaf2a",angleX:0,angleY:20.52,angleZ:0},{id:"2d7a2457-887f-4912-83cd-17091bde93a2",angleX:0,angleY:343.8,angleZ:0},{id:"b57acf57-1e47-4f22-87bb-30cb180b5fcb",angleX:0,angleY:162.36,angleZ:0},{id:"db1a36c5-7f72-4eea-a13a-6bbc441e5f40",angleX:0,angleY:174.6,angleZ:0},{id:"ed714c7f-2f30-4467-b5c6-e39bc34149d6",angleX:0,angleY:26.28,angleZ:18.36},{id:"c2f09a85-d670-4e56-aafe-712d2c9cc22d",angleX:0,angleY:226.44,angleZ:0},{id:"ed8c88e6-d6b8-470e-920d-f585d8103f88",angleX:8.28,angleY:181.08,angleZ:345.6},{id:"427903f5-cdec-44d8-8377-a8079d60c3a8",angleX:0,angleY:277.2,angleZ:0},{id:"5e41f0a9-fa0b-485a-bcac-fa4b1a5e4290",angleX:0,angleY:217.44,angleZ:0},{id:"52be2af9-3eb2-460f-bdd5-13eb3f2b0536",angleX:0,angleY:3.96,angleZ:18.72},{id:"7fbea04d-4068-4899-aebc-5fcdc862256c",angleX:0,angleY:262.08,angleZ:0},{id:"d641a9c4-15f4-4ae3-a422-ccd9fad7c7ba",angleX:0,angleY:14.04,angleZ:0},{id:"b96afcb8-ce99-4412-883c-91666e6f2b26",angleX:0,angleY:202.32,angleZ:0},{id:"d3160fbf-1820-45f0-9d1f-d0c2aca53bbd",angleX:0,angleY:66.6,angleZ:0},{id:"2b4d9d07-b2e9-44dd-88bb-7bb7752a279c",angleX:0,angleY:204.48,angleZ:0},{id:"533f439c-ae42-4ff3-b115-176c7923a784",angleX:9.36,angleY:153,angleZ:351.36},{id:"f760447c-9285-421f-a9c6-92024a068025",angleX:0,angleY:258.12,angleZ:0},{id:"acbd7b3a-9acd-460c-8f1a-ad3880fc33dd",angleX:0,angleY:137.52,angleZ:0},{id:"219be8c4-23d7-4d75-82c8-3c6efc6df215",angleX:0,angleY:287.28,angleZ:0},{id:"1cf1359b-18c2-4725-b2dc-ac95dea73575",angleX:0,angleY:46.44,angleZ:0},{id:"29a0e438-0b1a-4c4f-b23e-58ce9bbc6a08",angleX:0,angleY:0,angleZ:0},{id:"3aa222a2-5532-4ee9-8cd6-98b6c23909d1",angleX:0,angleY:111.24,angleZ:0},{id:"9b86ef7f-d281-48e8-a143-1fbece8f511a",angleX:0,angleY:305.28,angleZ:0},{id:"d4c17d71-8ded-48ab-8e66-7523304076f1",angleX:0,angleY:72.36,angleZ:0},{id:"c32fd361-3eb2-45c3-93dd-42345e8b740e",angleX:0,angleY:0,angleZ:0},{id:"0b105b3a-b595-401f-a099-37d2f6a0d55b",angleX:0,angleY:279,angleZ:0},{id:"e232ad28-ede7-4303-b61e-7b6079342be1",angleX:0,angleY:216.36,angleZ:0},{id:"de61350b-5e51-454a-bb64-52f823789319",angleX:0,angleY:224.28,angleZ:0},{id:"c9c6397f-c01e-46b2-b3a0-2d8beab26db4",angleX:0,angleY:307.08,angleZ:0},{id:"5a9e20b3-7eea-4d51-9298-cd6eeae0915a",angleX:9.36,angleY:307.08,angleZ:13.32},{id:"6f17824d-a575-4355-8d47-1a92fdb98258",angleX:0,angleY:0,angleZ:0},{id:"5ba6ab59-2e7c-4a0f-8505-18466a82ac59",angleX:0,angleY:280.44,angleZ:0},{id:"8bc0bd92-a136-46bf-b96a-e966c027f242",angleX:0,angleY:195.12,angleZ:0},{id:"f3b8a9e8-acc0-4dda-a617-1a8f81672827",angleX:347.04,angleY:342.36,angleZ:1.44},{id:"f4c2ecd3-27da-4ff3-88e5-eba3aa6ceaad",angleX:0,angleY:0,angleZ:0},{id:"5c2dd7b4-9981-4d85-968c-49dcf977d1c8",angleX:0,angleY:0,angleZ:0},{id:"dcb26172-633b-4d39-8c55-ce553d678aab",angleX:339.84,angleY:0,angleZ:0},{id:"9d649fdc-12cf-4801-8956-5bd8776f9b77",angleX:0,angleY:0,angleZ:0},{id:"f713b505-1e45-4be6-a072-3d0a991219f6",angleX:0,angleY:204.12,angleZ:0},{id:"eca3fb09-df9d-4641-8cd9-619102dcd502",angleX:0,angleY:160.92,angleZ:0},{id:"32dd1e06-eb6b-4584-9865-f43175771c8e",angleX:0,angleY:160.92,angleZ:0},{id:"21ddaa75-45d4-4efb-9942-7b0249d0d5f3",angleX:173.52,angleY:20.16,angleZ:171.36},{id:"f0edd2b8-f291-40a1-bbe1-67b9fa4e8952",angleX:0,angleY:14.76,angleZ:0},{id:"21a43646-aa64-4fa2-9ff6-66b0adba7b5a",angleX:0,angleY:76.68,angleZ:0},{id:"1363508e-6c3c-45dc-9cce-c088de2507c7",angleX:0,angleY:0,angleZ:0},{id:"f50838b1-341c-4bb8-96b3-078d65716a99",angleX:0,angleY:309.6,angleZ:0},{id:"7188bf6c-88e1-4ea2-a3ee-e8a2482f03c8",angleX:0,angleY:0,angleZ:0},{id:"53fed3f0-99ea-450a-8b70-618cd708620e",angleX:0,angleY:0,angleZ:0},{id:"ff4df0ec-e461-4b29-ba62-d66bf54be88a",angleX:0,angleY:72.72,angleZ:0},{id:"1ab6040d-ee41-40ff-a272-bb3397435c11",angleX:0,angleY:37.08,angleZ:0},{id:"97b2c2ac-4cfc-493a-ac00-e44243de3f3a",angleX:353.88,angleY:35.28,angleZ:0},{id:"70c0df91-6e6b-4560-98e9-7da0293a679e",angleX:0,angleY:0,angleZ:0},{id:"99c8a287-27ed-4cf3-b0c9-55decdeb40d1",angleX:0,angleY:240.12,angleZ:0},{id:"3e98e418-445d-42c0-b430-a0ff5a188bc2",angleX:0,angleY:227.16,angleZ:0},{id:"95931023-ed0c-47b4-8f3b-680c2251688a",angleX:0,angleY:0,angleZ:0},{id:"2ce06809-7059-4af4-80d0-85967e08a5bb",angleX:0,angleY:50.4,angleZ:0},{id:"8f62b936-b075-49fe-af9f-79b828c6bee1",angleX:0,angleY:30.24,angleZ:0},{id:"90705712-862e-4dc7-92c8-61a5ddf73cd8",angleX:0,angleY:342.36,angleZ:0},{id:"0ff2a312-79ff-4082-9943-99c8913cdae4",angleX:0,angleY:345.6,angleZ:0},{id:"56ce3b39-e86c-4929-a9d6-767c8b47f8f3",angleX:0,angleY:0,angleZ:0},{id:"a0b53652-57dc-4415-9184-42728bfe6508",angleX:0,angleY:324.72,angleZ:0},{id:"80074aee-6a81-494b-9385-472bb8497e11",angleX:0,angleY:276.84,angleZ:0},{id:"328bd75d-358a-4745-aeeb-4fb693971225",angleX:0,angleY:32.4,angleZ:0},{id:"85cda45a-a1d9-4f25-abdd-6ced2099cc42",angleX:0,angleY:23.76,angleZ:0},{id:"73428c56-a67e-4f0f-9d4c-220fb78faf98",angleX:6.12,angleY:151.92,angleZ:0},{id:"70906ab0-fa5f-4d15-89c6-f73c714ac748",angleX:169.56,angleY:28.44,angleZ:173.52},{id:"0c7cbaf8-9054-443d-bcfe-741a50a81b96",angleX:0,angleY:54.72,angleZ:0},{id:"153e9b3c-b46f-4933-8714-b6bb0e641536",angleX:0,angleY:165.24,angleZ:0},{id:"18e20bef-6ade-4529-aac6-42f783b61bd1",angleX:0,angleY:180,angleZ:0},{id:"8b9367bf-9d05-4607-921c-dc95870bf801",angleX:0,angleY:0,angleZ:18.36},{id:"cb6b28cc-63b5-4763-bfac-157c75c57645",angleX:0,angleY:0,angleZ:0},{id:"91a8af96-2a7b-4100-843a-955cfea4c74c",angleX:0,angleY:323.64,angleZ:0},{id:"c1efde1f-315e-4702-87b5-1e48fb207a71",angleX:0,angleY:181.44,angleZ:0},{id:"7901450f-321f-4bca-b0e3-5cc7d4b193db",angleX:1.44,angleY:351,angleZ:0},{id:"82edeebc-6546-442e-a6a8-0411ba5da833",angleX:18.36,angleY:254.88,angleZ:0},{id:"0b036bf8-bdf7-43ac-bbc8-65d2d55f3e73",angleX:0,angleY:284.76,angleZ:0},{id:"ef17d55b-ee82-4eda-beb3-0d83a985bd11",angleX:0,angleY:202.32,angleZ:0},{id:"c227b194-0115-411b-8c3b-e1dc61d44562",angleX:0,angleY:91.08,angleZ:0},{id:"b3767913-c829-4a4f-a3cd-0e0c6f928c31",angleX:0,angleY:230.4,angleZ:0},{id:"e5ed916a-b32c-47f5-91c1-76f45fed6180",angleX:0,angleY:237.24,angleZ:0},{id:"93ddd9f9-778c-48c3-a4a4-75d172222bba",angleX:0,angleY:0,angleZ:0},{id:"37a9b608-cef0-4554-ba0f-bea8f0dc1952",angleX:0,angleY:214.2,angleZ:0},{id:"2108d930-8917-48b0-82d0-4c1e53a248b0",angleX:0,angleY:346.68,angleZ:0},{id:"cf471659-5ad9-4607-8ef4-973372b5085f",angleX:0,angleY:117.36,angleZ:0},{id:"d1b05d03-61dc-4a8e-915b-ed879d046912",angleX:0,angleY:311.4,angleZ:0},{id:"f569f6b0-6093-40a9-9e78-d7a45c862597",angleX:0,angleY:307.8,angleZ:0},{id:"891a6217-c721-4c0d-9535-46c269088859",angleX:0,angleY:41.4,angleZ:0},{id:"8ba550bf-e3fa-4f2c-bc56-d4a8a044f226",angleX:0,angleY:30.96,angleZ:0},{id:"5e4a1e5a-a2b8-451d-bfcd-4ce6d304e910",angleX:0,angleY:133.56,angleZ:0},{id:"c77d51e8-8795-4efa-be99-8111c305eeb2",angleX:0,angleY:338.04,angleZ:0},{id:"3e0f3b90-0936-4f8c-8a1e-1e63f4aef801",angleX:0,angleY:262.8,angleZ:0},{id:"9fb550b2-ce1e-42b2-89ff-1794de249e5f",angleX:11.52,angleY:138.96,angleZ:343.08},{id:"8ae3bfc8-b925-4079-9f24-e16d86608e0f",angleX:9.72,angleY:196.2,angleZ:0},{id:"37d67b73-6362-4b35-a1fc-44eade90bf1d",angleX:0,angleY:34.2,angleZ:0},{id:"57f27a9b-4e80-4b7c-9fe2-52dae29700b8",angleX:0,angleY:208.44,angleZ:0},{id:"fa605bb2-539f-4de6-8d64-0f907e828e5f",angleX:0,angleY:68.76,angleZ:0},{id:"56a8290e-d207-43c5-bff9-9d54f51138c4",angleX:0,angleY:60.12,angleZ:0},{id:"ef4688dd-14d2-48aa-8fa5-ccd1b03a0f78",angleX:0,angleY:213.12,angleZ:0},{id:"a508df73-4317-412e-ada9-7a5d2f008fa0",angleX:0,angleY:0,angleZ:16.2},{id:"ebc6b219-6504-4970-8ade-c1f5669ce2ca",angleX:0,angleY:160.2,angleZ:345.6},{id:"c308e107-102a-4684-886e-417b953e14c4",angleX:0,angleY:254.88,angleZ:0},{id:"0a3aa48b-f8e1-49e8-8d9f-b464d968c836",angleX:0,angleY:230.4,angleZ:0},{id:"f4f0fb84-39ff-467d-b1e9-576c5095af9a",angleX:0,angleY:0,angleZ:0},{id:"f89aa7e4-8b3f-432d-8949-35a25ccdc6bd",angleX:355.68,angleY:24.84,angleZ:0},{id:"fd30e166-f9a6-4ad4-933f-a801aa69c365",angleX:0,angleY:174.24,angleZ:0},{id:"8603044c-0c11-4626-a0b8-9798503d6bf3",angleX:0,angleY:135.36,angleZ:349.92},{id:"25a0fd2b-47e5-4f00-9d92-ebeb1ce428d1",angleX:349.92,angleY:48.6,angleZ:7.92},{id:"c2f25b03-462f-4768-9e3c-22d023a23fe8",angleX:0,angleY:217.44,angleZ:0},{id:"18908620-1d6c-4c56-832c-62c89cc4f08a",angleX:0,angleY:159.84,angleZ:0},{id:"0bdaa71b-bdaa-47d4-a83a-2c604be3bf97",angleX:0,angleY:135.36,angleZ:0},{id:"94ca22ee-35df-4bf3-8318-b19261b525d5",angleX:0,angleY:119.16,angleZ:0},{id:"f2bb7a38-14d9-4f7b-ab77-e6c8f98a962f",angleX:0,angleY:52.56,angleZ:0},{id:"a6f1f96d-3dca-4364-bc01-54f0bea42c53",angleX:0,angleY:126.72,angleZ:347.04},{id:"8d882d8c-a8b7-4534-8a1a-1a8df96c05b5",angleX:0,angleY:107.64,angleZ:0},{id:"6bdc4d1f-38de-45ef-af89-db77d153207b",angleX:0,angleY:319.68,angleZ:0},{id:"560f7876-dfdf-4147-ae40-e172c6ee2a5c",angleX:0,angleY:351,angleZ:0},{id:"82fa6a9f-a1df-4633-94aa-ac8434f94e53",angleX:0,angleY:0,angleZ:0},{id:"f480eada-b80e-4091-808a-ba5291f63b40",angleX:0,angleY:0,angleZ:0},{id:"31144530-ee3d-499f-b4a6-4a22cd1dfb06",angleX:0,angleY:287.28,angleZ:0},{id:"f3fdd6db-e3fe-4995-8466-1a0c255e4cf1",angleX:0,angleY:41.4,angleZ:0},{id:"9e53c1e5-259b-4f90-a70d-ebace09a0871",angleX:0,angleY:184.68,angleZ:0},{id:"c900c15b-d884-42f7-a899-6ac4f0d9b9aa",angleX:0,angleY:205.92,angleZ:0},{id:"dba84e3f-df21-4eed-8100-072e6babb05b",angleX:0,angleY:208.44,angleZ:0},{id:"b2c117aa-16cc-4cac-baca-fcf4b04300b0",angleX:0,angleY:351,angleZ:0},{id:"d5fedab7-9935-449b-b22a-592229e1810b",angleX:351.36,angleY:59.04,angleZ:349.2},{id:"faef51dc-a11f-44e1-b320-e3c16c57b8a2",angleX:349.2,angleY:345.24,angleZ:0},{id:"6491efb2-b26f-4092-8bb7-600c056b5e87",angleX:357.12,angleY:120.6,angleZ:347.04},{id:"065786e3-514d-4595-8f52-9d7b771450fc",angleX:0,angleY:320.04,angleZ:0},{id:"7095fa3a-5d82-4f97-855d-caed3323245d",angleX:0,angleY:246.6,angleZ:0},{id:"0da9703a-34c5-4070-9a9c-98833e36c175",angleX:8.28,angleY:153.36,angleZ:348.48},{id:"93c5ce67-1cfe-4e5c-a392-8a70401450f1",angleX:0,angleY:0,angleZ:0},{id:"6d0cc597-b3ba-48fb-b6e7-b351b6fb53b3",angleX:339.12,angleY:37.44,angleZ:0},{id:"49bda40e-2cb1-4979-853b-bc1a7429cafe",angleX:0,angleY:76.68,angleZ:0},{id:"570e9dab-5239-48a9-8c94-0109712348f7",angleX:0,angleY:0,angleZ:0},{id:"94d32d9d-942f-4b72-aa97-f547f095c935",angleX:0,angleY:320.04,angleZ:0},{id:"e04d1db8-ad94-4f67-8da1-0fac4420fc02",angleX:0,angleY:63.36,angleZ:0},{id:"f040638c-69b8-4b8c-acbf-36feb3c8b78e",angleX:0,angleY:19.44,angleZ:0},{id:"40fb911c-eaa2-4840-b93e-e9891b773c48",angleX:6.12,angleY:174.24,angleZ:0},{id:"3ab5824d-1091-47ba-be27-b0c6c3514c17",angleX:9.36,angleY:249.48,angleZ:0},{id:"2517fedb-b79e-465a-8753-7f692aa731d9",angleX:0,angleY:324.72,angleZ:5.4},{id:"0094c207-ce8f-4e95-b89a-594159762e34",angleX:0,angleY:109.08,angleZ:0},{id:"38ab41e1-5ff7-4c03-ae7a-999ecce87c6c",angleX:0,angleY:329.04,angleZ:0},{id:"0a8c9a37-280f-42cf-8736-78d96d4edc32",angleX:0,angleY:258.12,angleZ:0},{id:"c9602571-d542-4fcc-bdf1-5cfbfd887d40",angleX:0,angleY:244.8,angleZ:0},{id:"ffbcbfc0-2c7f-46c1-9ca7-fa10f28d810c",angleX:0,angleY:58.68,angleZ:0},{id:"cb26def4-08a0-4a01-95ed-1c417a0647cc",angleX:0,angleY:41.4,angleZ:0},{id:"8c685e65-e453-4dca-917b-9b5d9d9bbc24",angleX:0,angleY:27,angleZ:0},{id:"2b0928cb-e49f-430c-9c03-ab9a45958664",angleX:0,angleY:345.96,angleZ:0},{id:"afda7ee9-9ce5-47ec-a117-ffee0ba99450",angleX:0,angleY:66.6,angleZ:12.24},{id:"dbfcc025-9d2d-4789-b6bd-b2e25ccbbdd6",angleX:0,angleY:52.56,angleZ:0},{id:"3039f8f4-79fd-4838-9776-540cd54b9bd1",angleX:336.96,angleY:10.44,angleZ:0},{id:"44ee8f29-cea4-4909-a6ba-f9937a3aadca",angleX:0,angleY:32.4,angleZ:0},{id:"4b777e6c-10b2-4d78-ac05-1fa0c16005f2",angleX:0,angleY:258.12,angleZ:0},{id:"af0df66c-2eb3-4e99-9af8-cdb2a9a36183",angleX:0,angleY:236.16,angleZ:0},{id:"71b697ad-dc5c-4744-b45d-2f76b5ef8c84",angleX:17.64,angleY:275.76,angleZ:357.12},{id:"52e126d2-e92c-4c55-bb5d-88bb6521234d",angleX:0,angleY:6.12,angleZ:0},{id:"09bcf575-af67-42dd-a416-b1fc2cd45f05",angleX:0,angleY:44.28,angleZ:0},{id:"a6fa53ae-7db8-4ec7-8fd8-dd97614e7e86",angleX:10.44,angleY:178.56,angleZ:0},{id:"d2e9a15e-5169-49a7-a1da-1be09b39129f",angleX:7.56,angleY:253.8,angleZ:0},{id:"5021b1d7-9f31-455a-b94f-1c2daadb38bb",angleX:0,angleY:54.72,angleZ:0},{id:"c97bfd63-a4a8-4a76-a29e-3c48d6898b60",angleX:0,angleY:355.68,angleZ:0},{id:"9466d213-2ec6-4a0c-b257-264b7c5b2797",angleX:0,angleY:32.4,angleZ:0},{id:"53a62974-f116-49a2-88d3-efcfe96fc4ab",angleX:0,angleY:0,angleZ:0},{id:"87784aaf-5662-48f9-9771-a3371486e28b",angleX:0,angleY:331.56,angleZ:0},{id:"738a8817-f881-459b-a16c-47cf01a7f612",angleX:345.6,angleY:8.28,angleZ:6.12},{id:"52ff2d70-9eb4-4d1b-bd25-f3a061172e9e",angleX:341.28,angleY:39.6,angleZ:0},{id:"732a5441-b579-45d8-bb47-ce6cb9204142",angleX:0,angleY:246.6,angleZ:0},{id:"548f3fca-5f47-475d-8e17-df862c021869",angleX:173.88,angleY:360,angleZ:176.04},{id:"3c49904f-d56d-43eb-aed5-a046d04c1d72",angleX:357.12,angleY:132.84,angleZ:345.24},{id:"7e6b97e5-8f16-4bc4-a845-b81530026699",angleX:0,angleY:345.96,angleZ:0},{id:"f1bdd3a8-16fd-4069-a006-4a37968be2a0",angleX:0,angleY:304.92,angleZ:0},{id:"6c4cf0b4-5059-4592-aec7-11e860f5bf85",angleX:0,angleY:247.68,angleZ:0},{id:"46f5624e-9841-4749-86e2-85193657857e",angleX:355.68,angleY:320.04,angleZ:9.36},{id:"a1fa3281-c7dc-4453-8417-5e18c30ef06b",angleX:0,angleY:210.24,angleZ:0},{id:"06cd3fb7-8ce3-4efa-89b6-1c9d7a651978",angleX:0,angleY:201.96,angleZ:0},{id:"e4f94ef3-6d3c-45ea-b3f1-ab854e55da44",angleX:0,angleY:291.24,angleZ:0},{id:"f62ea0a7-b0d8-4c1b-bbbf-d1190a640637",angleX:0,angleY:186.48,angleZ:0},{id:"fac81733-4380-41d7-9410-61a991769f5f",angleX:0,angleY:22.68,angleZ:0},{id:"964963f0-d617-441d-8c8c-4bc9f58cc38d",angleX:0,angleY:16.2,angleZ:0},{id:"0c479c09-d52a-4eeb-bbbb-d2c39ff04bd1",angleX:0,angleY:322.56,angleZ:0},{id:"32c361b4-e67a-4a37-aa4a-b32aea31279c",angleX:0,angleY:329.04,angleZ:0},{id:"e269d548-00fd-41ac-8b4e-a38656b52262",angleX:0,angleY:112.32,angleZ:0},{id:"39e8583f-e24d-4fcd-ac90-16d5213012d2",angleX:0,angleY:321.48,angleZ:0},{id:"13b671e4-cb8c-44ac-bcb9-bc12fc2d97ba",angleX:0,angleY:108.36,angleZ:0},{id:"209e827d-b657-4a90-9196-b9f2454ee484",angleX:0,angleY:129.24,angleZ:0},{id:"b4f0d2f0-8a28-4942-b344-647a0b3d8ef0",angleX:0,angleY:137.52,angleZ:0},{id:"797b18b2-db96-4410-9ce3-f57844fba029",angleX:0,angleY:151.2,angleZ:0},{id:"8f9bdb58-6a6a-4be4-938e-29866dff2ab8",angleX:0,angleY:149.76,angleZ:0},{id:"24689de3-06d3-44e4-a64e-69b2e14377c1",angleX:341.64,angleY:70.56,angleZ:0},{id:"521aa3d7-3871-44f0-aa8e-4eb3ff143cae",angleX:0,angleY:204.12,angleZ:0},{id:"d109c653-fe9b-4313-96c9-53309d3d3fa0",angleX:0,angleY:198,angleZ:0},{id:"8689cc21-082f-4586-b70d-91d041c75348",angleX:352.08,angleY:113.04,angleZ:0},{id:"7733e3c3-c2f0-484a-ab9d-565b112b14e1",angleX:0,angleY:85.32,angleZ:0},{id:"cca83fed-9f35-40b7-9481-6c1f2d40350a",angleX:0,angleY:110.16,angleZ:0},{id:"42cf6d97-4e69-4cb1-9f54-3d4f2c4ffb48",angleX:0,angleY:200.16,angleZ:0},{id:"0e8f41bc-3670-4084-a702-c1b7a74ef8e4",angleX:0,angleY:226.8,angleZ:0},{id:"3e0cb013-d3db-45c2-a1a7-1b5088c7b2a4",angleX:0,angleY:186.12,angleZ:0},{id:"4096a3d2-e64d-4d70-b5af-1be812ec6db1",angleX:0,angleY:236.52,angleZ:0},{id:"a77c94b7-59dd-439b-b533-da692a05c496",angleX:0,angleY:222.12,angleZ:0},{id:"647f9c34-dbb8-47bc-ad92-a31ed7648688",angleX:0,angleY:10.08,angleZ:0},{id:"cae92209-9810-4c7d-a1ca-b62f2c66508d",angleX:0,angleY:199.8,angleZ:0},{id:"ca6c5a7b-249f-4486-953d-bfed218fd0df",angleX:347.4,angleY:60.12,angleZ:0},{id:"cc3a5f84-16d8-4486-b2d1-b3b11f5f3c93",angleX:0,angleY:163.8,angleZ:343.8},{id:"0886930d-5806-4c8a-8dba-a325ba79904c",angleX:0,angleY:244.8,angleZ:0},{id:"0d7cb416-cbdb-4e5d-8eb9-abf16f22c29e",angleX:0,angleY:133.56,angleZ:0},{id:"f3091844-c9bf-4018-a791-37441fdeb4dd",angleX:0,angleY:262.8,angleZ:0},{id:"9a16c3a5-7f2a-435f-b403-cdd5ed6fb094",angleX:7.56,angleY:118.44,angleZ:347.04},{id:"404ed5e0-e003-49cf-abe4-95f16ede434c",angleX:0,angleY:202.32,angleZ:0},{id:"96622d93-ea10-4d9f-8596-0960c78dea6f",angleX:0,angleY:127.44,angleZ:0},{id:"5bb02ad8-fc89-4dcb-994e-cc73939957ef",angleX:0,angleY:32.4,angleZ:0},{id:"03b6adf5-2b99-4537-b29a-05cacdecebce",angleX:0,angleY:112.32,angleZ:0},{id:"2a027938-9ad5-4ac6-8193-03c73558cdc8",angleX:0,angleY:101.88,angleZ:0},{id:"0135c15a-b396-4717-85c8-fc3335c8f8df",angleX:0,angleY:291.24,angleZ:0},{id:"e8847b7b-2831-4db7-9574-55727f5a7aa7",angleX:0,angleY:316.44,angleZ:0},{id:"485815b0-9d07-4199-9980-27e44efa470d",angleX:337.68,angleY:32.4,angleZ:0},{id:"28c3186f-5308-4ee5-ae23-708af9a54054",angleX:0,angleY:190.08,angleZ:0},{id:"16e3e9b5-63f8-43c0-9a30-414982aabcb5",angleX:0,angleY:197.64,angleZ:0},{id:"b229735b-eebc-4ca0-a05d-d03898945a06",angleX:355.68,angleY:346.68,angleZ:0},{id:"37ebed5b-2c90-4cf8-8d3c-d90d06b2eac7",angleX:0,angleY:230.4,angleZ:0},{id:"b13be940-4086-4e67-be73-ad8d9284a773",angleX:20.16,angleY:216.36,angleZ:6.12},{id:"7312de97-5ec0-4334-b344-514d8b8b4ea0",angleX:0,angleY:293.4,angleZ:0},{id:"684248d7-5f5c-4ba5-ae3e-c959aeb1b149",angleX:0,angleY:302.4,angleZ:0},{id:"613d8aec-b59b-450c-977b-c9f4a02174ad",angleX:187.92,angleY:246.6,angleZ:172.08},{id:"a331bf7f-a069-4064-853d-747fa9e8b90d",angleX:360,angleY:0,angleZ:14.04},{id:"81b0ca7b-de78-4b8e-9b20-6e27e74b0f39",angleX:0,angleY:0,angleZ:0},{id:"2590e02e-1d6a-49b5-a613-f274083a8ffe",angleX:0,angleY:186.12,angleZ:0},{id:"28c9d170-19ce-48af-95a6-0f5743c3c865",angleX:0,angleY:32.4,angleZ:0},{id:"19ec34f2-7fc6-41a3-b591-7348af18b5c5",angleX:0,angleY:163.8,angleZ:0},{id:"606c4136-f171-4635-8a3c-50af1ee236ae",angleX:0,angleY:0,angleZ:0},{id:"081d0301-7bb6-4319-8b7c-44fdd128c085",angleX:0,angleY:41.4,angleZ:0},{id:"2e08194d-077f-4a22-9e1e-447941e4aa2f",angleX:0,angleY:90,angleZ:0},{id:"5a3bf5a4-16b9-408a-84c9-57867e488296",angleX:10.44,angleY:147.6,angleZ:0},{id:"f70cf0c7-37fe-4194-835d-eb0e06c6ee7b",angleX:0,angleY:330.84,angleZ:13.32},{id:"63dc25ea-86af-4ae9-9eb7-0787aec7bf74",angleX:7.56,angleY:240.48,angleZ:0},{id:"fa637666-2dee-4e8b-bb70-6fccc316941d",angleX:0,angleY:311.4,angleZ:0},{id:"9f642f15-825c-4ad3-a6f5-4965b25e1469",angleX:10.44,angleY:165.24,angleZ:346.68},{id:"f7550f0c-3c2c-4bc1-9e8a-52719f8f076f",angleX:0,angleY:222.84,angleZ:0},{id:"3dd075e9-d1ca-4323-88dd-259738a8cae5",angleX:0,angleY:253.8,angleZ:0},{id:"0bec715c-685e-4250-90d8-ae40c987c010",angleX:0,angleY:0,angleZ:0},{id:"8a207fca-bd8d-4f56-b26a-ce0b270b4371",angleX:0,angleY:29.16,angleZ:0},{id:"e10acd49-dd03-4fb4-acef-10435b24a64e",angleX:0,angleY:30.24,angleZ:14.04},{id:"e6df18b4-5166-4c77-9d66-06316208d449",angleX:0,angleY:0,angleZ:0},{id:"233852b2-f212-40d2-ba60-9339b92902a3",angleX:0,angleY:253.8,angleZ:0},{id:"987baf1c-6b57-46e9-ba9a-d9d7f4c41ea0",angleX:0,angleY:262.8,angleZ:0},{id:"91464f1d-45dc-4751-9ed6-d5eff8912f66",angleX:0,angleY:320.04,angleZ:0},{id:"0234a5bf-1c24-40a7-883a-fc429fa08eef",angleX:5.4,angleY:231.84,angleZ:0},{id:"d457d19c-169f-48a8-a0c8-e66b8615be4f",angleX:10.44,angleY:165.24,angleZ:0},{id:"2468432f-2739-4043-9e94-6c5fef6af28e",angleX:6.12,angleY:147.6,angleZ:0},{id:"43f2dbc9-2db3-4cdc-8c3e-7ce1cb4bf010",angleX:0,angleY:209.52,angleZ:346.68},{id:"89089f0d-3d63-48e2-8e5c-77029069ccea",angleX:0,angleY:37.08,angleZ:0},{id:"2f2a9e8b-c465-43de-9cb5-a6abf447012b",angleX:0,angleY:81.36,angleZ:0},{id:"27b8300c-db8e-4e2b-bbea-f773ead10e46",angleX:0,angleY:159.84,angleZ:0},{id:"da1159fb-7014-4242-a12c-1fb8da74321f",angleX:0,angleY:0,angleZ:0},{id:"4848631b-2d8a-418a-b144-ae5c28b3305b",angleX:0,angleY:32.4,angleZ:0},{id:"edc0a62a-c02b-439e-aef2-bf0a169e4fe5",angleX:0,angleY:163.8,angleZ:0},{id:"e01930f4-2845-42a5-bc5e-b97683589e8b",angleX:345.6,angleY:29.16,angleZ:0},{id:"d8c5ffa2-e8f5-4d2d-9e87-c7dbd667a160",angleX:360,angleY:0,angleZ:20.88},{id:"5d98df17-fb2f-4be4-a236-f0a11ac9dffb",angleX:0,angleY:307.08,angleZ:0},{id:"ef90d3ac-d02d-43d7-ae76-22ef77ce984b",angleX:349.2,angleY:108.36,angleZ:351.36},{id:"d06e9149-d9ab-4134-9178-8f853234a866",angleX:18.36,angleY:198,angleZ:0},{id:"6de4190b-a079-4716-b445-da495500d147",angleX:0,angleY:220.32,angleZ:0},{id:"9af60c8c-6af8-4fd1-b2f9-05ad21d87115",angleX:0,angleY:0,angleZ:0},{id:"7fca20bb-fee8-4c98-a6ef-c5f38bf47027",angleX:0,angleY:0,angleZ:0},{id:"263f050a-2644-4e5c-ba20-0fd381ead593",angleX:0,angleY:214.2,angleZ:0},{id:"65594ba6-5a04-40f3-9432-d6124e5ffa5c",angleX:0,angleY:189.36,angleZ:0},{id:"86d310e1-28db-4afe-aaa9-7dba936cf548",angleX:0,angleY:297.72,angleZ:0},{id:"e54edefa-3fbf-4830-95b1-e094529b6914",angleX:0,angleY:0,angleZ:0},{id:"30649240-e8b2-4f08-ba7d-6de368172d76",angleX:0,angleY:74.88,angleZ:0},{id:"1a5066e4-5eaf-43cc-8892-d79d42c3bb29",angleX:0,angleY:295.2,angleZ:0},{id:"7c77deb5-726d-4089-a183-caa5cf4fd18d",angleX:0,angleY:120.96,angleZ:0},{id:"4fe64661-d64f-4367-b38c-298e20a1a90f",angleX:0,angleY:85.68,angleZ:0},{id:"655e6733-6bdf-4c79-bce0-3471608f9e89",angleX:0,angleY:127.44,angleZ:0},{id:"683152bd-96ec-4184-bb12-127e4fa7c1d5",angleX:0,angleY:192.24,angleZ:0},{id:"752c7400-0dc2-4f0d-9ce9-c2e39eea103b",angleX:0,angleY:116.64,angleZ:0},{id:"0b65ffcb-90fa-4fb6-98a4-f4b1f94c29c9",angleX:0,angleY:155.52,angleZ:0},{id:"2190cfe4-dca9-4ac8-b416-6571a1a8f232",angleX:0,angleY:143.64,angleZ:0},{id:"68e9566f-4fe8-4c5d-806f-111a39d98649",angleX:7.92,angleY:186.12,angleZ:347.76},{id:"eac96bc6-63b5-498d-89b5-a7ccb7634175",angleX:0,angleY:240.48,angleZ:0},{id:"0d7b10dc-7a69-43b2-8900-9d1cb91fc13a",angleX:0,angleY:10.08,angleZ:0},{id:"7c288b1b-5b08-436b-97c1-2c7358c3174c",angleX:0,angleY:226.44,angleZ:0},{id:"aae4245d-b43b-4e96-8985-9af33fc872fd",angleX:339.12,angleY:91.44,angleZ:0},{id:"3b4d216f-e6fc-49c2-a671-8456f091b2eb",angleX:0,angleY:205.92,angleZ:0},{id:"fbefe898-fcc9-4e3c-99b2-a4dd6a9c41d1",angleX:0,angleY:190.08,angleZ:0},{id:"2a4597a1-5d75-44a2-b82c-44c3032bd48b",angleX:0,angleY:159.84,angleZ:0},{id:"13757280-5fa3-4d28-8bd3-090995f04fa7",angleX:0,angleY:158.04,angleZ:0}],PD=`uniform samplerCube skybox;	
uniform vec3 rotationAngles;

varying vec4 coords;

// ---  ---
mat3 rotateY(float angle) {
    float s = sin(angle);
    float c = cos(angle);
    return mat3(
        c,  0, s,
        0,  1, 0,
       -s,  0, c
    );
}

mat3 rotateX(float angle) {
    float s = sin(angle);
    float c = cos(angle);
    return mat3(
        1,  0,  0,
        0,  c, -s,
        0,  s,  c
    );
}

mat3 rotateZ(float angle) {
    float s = sin(angle);
    float c = cos(angle);
    return mat3(
        c, -s,  0,
        s,  c,  0,
        0,  0,  1
    );
}

void main() {
    // X 
    vec3 correctedCoords = vec3(-coords.x, coords.y, coords.z);
    
    // Y  X  Z 
    // Y
    mat3 rotationMatrix = rotateY(-rotationAngles.y) * rotateX(-rotationAngles.x) * rotateZ(-rotationAngles.z);
    
    // 
    vec3 rotatedCoords = rotationMatrix * correctedCoords;
    
    // 
    gl_FragColor = textureCube(skybox, rotatedCoords);

    #include <tonemapping_fragment>
    #include <colorspace_fragment>
}`,QD=`varying vec4 coords;

void main()	{

	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

	coords = modelMatrix * vec4( position, 1.0 );

	gl_Position = projectionMatrix * mvPosition;

}`;function kD(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var GA=1,jA=2,vh=3,DD=4,Cm=5,kv=6378137,zD=6356752314e-3,Dv=.0066943799901413165,Wd=484813681109536e-20,St=Math.PI/2,ZD=.16666666666666666,HD=.04722222222222222,OD=.022156084656084655,jt=1e-10,Zr=.017453292519943295,ro=57.29577951308232,Aa=Math.PI/4,d0=Math.PI*2,Hr=3.14159265359,Bn={};Bn.greenwich=0;Bn.lisbon=-9.131906111111;Bn.paris=2.337229166667;Bn.bogota=-74.080916666667;Bn.madrid=-3.687938888889;Bn.rome=12.452333333333;Bn.bern=7.439583333333;Bn.jakarta=106.807719444444;Bn.ferro=-17.666666666667;Bn.brussels=4.367975;Bn.stockholm=18.058277777778;Bn.athens=23.7163375;Bn.oslo=10.722916666667;const XD={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.01},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var zv=/[\s_\-\/\(\)]/g;function zl(t,e){if(t[e])return t[e];for(var a=Object.keys(t),n=e.toLowerCase().replace(zv,""),c=-1,f,h;++c<a.length;)if(f=a[c],h=f.toLowerCase().replace(zv,""),h===n)return t[f]}function Mm(t){var e={},a=t.split("+").map(function(s){return s.trim()}).filter(function(s){return s}).reduce(function(s,x){var w=x.split("=");return w.push(!0),s[w[0].toLowerCase()]=w[1],s},{}),n,c,f,h={proj:"projName",datum:"datumCode",rf:function(s){e.rf=parseFloat(s)},lat_0:function(s){e.lat0=s*Zr},lat_1:function(s){e.lat1=s*Zr},lat_2:function(s){e.lat2=s*Zr},lat_ts:function(s){e.lat_ts=s*Zr},lon_0:function(s){e.long0=s*Zr},lon_1:function(s){e.long1=s*Zr},lon_2:function(s){e.long2=s*Zr},alpha:function(s){e.alpha=parseFloat(s)*Zr},gamma:function(s){e.rectified_grid_angle=parseFloat(s)},lonc:function(s){e.longc=s*Zr},x_0:function(s){e.x0=parseFloat(s)},y_0:function(s){e.y0=parseFloat(s)},k_0:function(s){e.k0=parseFloat(s)},k:function(s){e.k0=parseFloat(s)},a:function(s){e.a=parseFloat(s)},b:function(s){e.b=parseFloat(s)},r:function(s){e.a=e.b=parseFloat(s)},r_a:function(){e.R_A=!0},zone:function(s){e.zone=parseInt(s,10)},south:function(){e.utmSouth=!0},towgs84:function(s){e.datum_params=s.split(",").map(function(x){return parseFloat(x)})},to_meter:function(s){e.to_meter=parseFloat(s)},units:function(s){e.units=s;var x=zl(XD,s);x&&(e.to_meter=x.to_meter)},from_greenwich:function(s){e.from_greenwich=s*Zr},pm:function(s){var x=zl(Bn,s);e.from_greenwich=(x||parseFloat(s))*Zr},nadgrids:function(s){s==="@null"?e.datumCode="none":e.nadgrids=s},axis:function(s){var x="ewnsud";s.length===3&&x.indexOf(s.substr(0,1))!==-1&&x.indexOf(s.substr(1,1))!==-1&&x.indexOf(s.substr(2,1))!==-1&&(e.axis=s)},approx:function(){e.approx=!0}};for(n in a)c=a[n],n in h?(f=h[n],typeof f=="function"?f(c):e[f]=c):e[n]=c;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var f0=1,Cx=2,Mx=3,Ig=4,Rx=5,x4=-1,VD=/\s/,GD=/[A-Za-z]/,jD=/[A-Za-z84_]/,op=/[,\]]/,Ix=/[\d\.E\-\+]/;function Go(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=f0}Go.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==Ig)for(;VD.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case f0:return this.neutral(t);case Cx:return this.keyword(t);case Ig:return this.quoted(t);case Rx:return this.afterquote(t);case Mx:return this.number(t);case x4:return}};Go.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=Ig;return}if(op.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};Go.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=f0;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=f0,this.currentObject=this.stack.pop(),this.currentObject||(this.state=x4);return}};Go.prototype.number=function(t){if(Ix.test(t)){this.word+=t;return}if(op.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};Go.prototype.quoted=function(t){if(t==='"'){this.state=Rx;return}this.word+=t};Go.prototype.keyword=function(t){if(jD.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=f0;return}if(op.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};Go.prototype.neutral=function(t){if(GD.test(t)){this.word=t,this.state=Cx;return}if(t==='"'){this.word="",this.state=Ig;return}if(Ix.test(t)){this.word=t,this.state=Mx;return}if(op.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};Go.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===x4)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function KD(t){var e=new Go(t);return e.output()}function R3(t,e,a){Array.isArray(e)&&(a.unshift(e),e=null);var n=e?{}:t,c=a.reduce(function(f,h){return uh(h,f),f},n);e&&(t[e]=c)}function uh(t,e){if(!Array.isArray(t)){e[t]=!0;return}var a=t.shift();if(a==="PARAMETER"&&(a=t.shift()),t.length===1){if(Array.isArray(t[0])){e[a]={},uh(t[0],e[a]);return}e[a]=t[0];return}if(!t.length){e[a]=!0;return}if(a==="TOWGS84"){e[a]=t;return}if(a==="AXIS"){a in e||(e[a]=[]),e[a].push(t);return}Array.isArray(a)||(e[a]={});var n;switch(a){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[a]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&uh(t[2],e[a]);return;case"SPHEROID":case"ELLIPSOID":e[a]={name:t[0],a:t[1],rf:t[2]},t.length===4&&uh(t[3],e[a]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],R3(e,a,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],R3(e,a,t),e[a].type=a;return;default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return uh(t,e[a]);return R3(e,a,t)}}var $D=.017453292519943295,qD=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function WD(t,e){var a=e[0],n=e[1];!(a in t)&&n in t&&(t[a]=t[n],e.length===3&&(t[a]=e[2](t[a])))}function Js(t){return t*$D}function Ux(t){for(var e=Object.keys(t),a=0,n=e.length;a<n;++a){var c=e[a];qD.indexOf(c)!==-1&&JD(t[c]),typeof t[c]=="object"&&Ux(t[c])}}function JD(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var a="",n=0,c=t.AXIS.length;n<c;++n){var f=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];f[0].indexOf("north")!==-1||(f[0]==="y"||f[0]==="lat")&&f[1]==="north"?a+="n":f[0].indexOf("south")!==-1||(f[0]==="y"||f[0]==="lat")&&f[1]==="south"?a+="s":f[0].indexOf("east")!==-1||(f[0]==="x"||f[0]==="lon")&&f[1]==="east"?a+="e":(f[0].indexOf("west")!==-1||(f[0]==="x"||f[0]==="lon")&&f[1]==="west")&&(a+="w")}a.length===2&&(a+="u"),a.length===3&&(t.axis=a)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var h=t.GEOGCS;t.type==="GEOGCS"&&(h=t),h&&(h.DATUM?t.datumCode=h.DATUM.name.toLowerCase():t.datumCode=h.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),h.DATUM&&h.DATUM.SPHEROID&&(t.ellps=h.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=h.DATUM.SPHEROID.a,t.rf=parseFloat(h.DATUM.SPHEROID.rf,10)),h.DATUM&&h.DATUM.TOWGS84&&(t.datum_params=h.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function s(I){var R=t.to_meter||1;return I*R}var x=function(I){return WD(t,I)},w=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Js],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Js],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",Js],["lat0","latitude_of_origin",Js],["lat0","standard_parallel_1",Js],["lat1","standard_parallel_1",Js],["lat2","standard_parallel_2",Js],["azimuth","Azimuth"],["alpha","azimuth",Js],["srsCode","name"]];w.forEach(x),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=Js(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=Js(t.lat0>0?90:-90))}function Ex(t){var e=KD(t),a=e[0],n={};return uh(e,n),Ux(n),n[a]}function cn(t){var e=this;if(arguments.length===2){var a=arguments[1];typeof a=="string"?a.charAt(0)==="+"?cn[t]=Mm(arguments[1]):cn[t]=Ex(arguments[1]):cn[t]=a}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(n){Array.isArray(n)?cn.apply(e,n):cn(n)});if(typeof t=="string"){if(t in cn)return cn[t]}else"EPSG"in t?cn["EPSG:"+t.EPSG]=t:"ESRI"in t?cn["ESRI:"+t.ESRI]=t:"IAU2000"in t?cn["IAU2000:"+t.IAU2000]=t:console.log(t);return}}kD(cn);function ez(t){return typeof t=="string"}function tz(t){return t in cn}var iz=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function az(t){return iz.some(function(e){return t.indexOf(e)>-1})}var rz=["3857","900913","3785","102113"];function nz(t){var e=zl(t,"authority");if(e){var a=zl(e,"epsg");return a&&rz.indexOf(a)>-1}}function sz(t){var e=zl(t,"extension");if(e)return zl(e,"proj4")}function oz(t){return t[0]==="+"}function lz(t){if(ez(t)){if(tz(t))return cn[t];if(az(t)){var e=Ex(t);if(nz(e))return cn["EPSG:3857"];var a=sz(e);return a?Mm(a):e}if(oz(t))return Mm(t)}else return t}function Zv(t,e){t=t||{};var a,n;if(!e)return t;for(n in e)a=e[n],a!==void 0&&(t[n]=a);return t}function lo(t,e,a){var n=t*e;return a/Math.sqrt(1-n*n)}function x0(t){return t<0?-1:1}function qt(t){return Math.abs(t)<=Hr?t:t-x0(t)*d0}function Ls(t,e,a){var n=t*a,c=.5*t;return n=Math.pow((1-n)/(1+n),c),Math.tan(.5*(St-e))/n}function g0(t,e){for(var a=.5*t,n,c,f=St-2*Math.atan(e),h=0;h<=15;h++)if(n=t*Math.sin(f),c=St-2*Math.atan(e*Math.pow((1-n)/(1+n),a))-f,f+=c,Math.abs(c)<=1e-10)return f;return-9999}function Az(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=lo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function cz(t){var e=t.x,a=t.y;if(a*ro>90&&a*ro<-90&&e*ro>180&&e*ro<-180)return null;var n,c;if(Math.abs(Math.abs(a)-St)<=jt)return null;if(this.sphere)n=this.x0+this.a*this.k0*qt(e-this.long0),c=this.y0+this.a*this.k0*Math.log(Math.tan(Aa+.5*a));else{var f=Math.sin(a),h=Ls(this.e,a,f);n=this.x0+this.a*this.k0*qt(e-this.long0),c=this.y0-this.a*this.k0*Math.log(h)}return t.x=n,t.y=c,t}function hz(t){var e=t.x-this.x0,a=t.y-this.y0,n,c;if(this.sphere)c=St-2*Math.atan(Math.exp(-a/(this.a*this.k0)));else{var f=Math.exp(-a/(this.a*this.k0));if(c=g0(this.e,f),c===-9999)return null}return n=qt(this.long0+e/(this.a*this.k0)),t.x=n,t.y=c,t}var uz=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const dz={init:Az,forward:cz,inverse:hz,names:uz};function fz(){}function Hv(t){return t}var gz=["longlat","identity"];const pz={init:fz,forward:Hv,inverse:Hv,names:gz};var mz=[dz,pz],V1={},Ug=[];function Fx(t,e){var a=Ug.length;return t.names?(Ug[a]=t,t.names.forEach(function(n){V1[n.toLowerCase()]=a}),this):(console.log(e),!0)}function _z(t){if(!t)return!1;var e=t.toLowerCase();if(typeof V1[e]<"u"&&Ug[V1[e]])return Ug[V1[e]]}function bz(){mz.forEach(Fx)}const yz={start:bz,add:Fx,get:_z};var Ti={};Ti.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};Ti.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};Ti.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};Ti.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};Ti.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};Ti.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};Ti.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};Ti.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};Ti.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};Ti.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};Ti.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};Ti.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};Ti.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};Ti.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};Ti.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};Ti.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};Ti.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};Ti.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};Ti.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};Ti.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};Ti.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};Ti.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};Ti.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};Ti.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};Ti.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};Ti.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};Ti.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};Ti.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};Ti.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};Ti.hough={a:6378270,rf:297,ellipseName:"Hough"};Ti.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};Ti.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};Ti.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};Ti.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};Ti.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};Ti.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};Ti.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};Ti.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};Ti.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};Ti.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};Ti.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};Ti.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var vz=Ti.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ti.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function xz(t,e,a,n){var c=t*t,f=e*e,h=(c-f)/c,s=0;n?(t*=1-h*(ZD+h*(HD+h*OD)),c=t*t,h=0):s=Math.sqrt(h);var x=(c-f)/f;return{es:h,e:s,ep2:x}}function wz(t,e,a,n,c){if(!t){var f=zl(Ti,n);f||(f=vz),t=f.a,e=f.b,a=f.rf}return a&&!e&&(e=(1-1/a)*t),(a===0||Math.abs(t-e)<jt)&&(c=!0,e=t),{a:t,b:e,rf:a,sphere:c}}var G1={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};for(var Bz in G1){var Ov=G1[Bz];G1[Ov.datumName]=Ov}function Cz(t,e,a,n,c,f,h){var s={};return t===void 0||t==="none"?s.datum_type=Cm:s.datum_type=DD,e&&(s.datum_params=e.map(parseFloat),(s.datum_params[0]!==0||s.datum_params[1]!==0||s.datum_params[2]!==0)&&(s.datum_type=GA),s.datum_params.length>3&&(s.datum_params[3]!==0||s.datum_params[4]!==0||s.datum_params[5]!==0||s.datum_params[6]!==0)&&(s.datum_type=jA,s.datum_params[3]*=Wd,s.datum_params[4]*=Wd,s.datum_params[5]*=Wd,s.datum_params[6]=s.datum_params[6]/1e6+1)),h&&(s.datum_type=vh,s.grids=h),s.a=a,s.b=n,s.es=c,s.ep2=f,s}var Tx={};function Mz(t,e){var a=new DataView(e),n=Uz(a),c=Ez(a,n),f=Fz(a,c,n),h={header:c,subgrids:f};return Tx[t]=h,h}function Rz(t){if(t===void 0)return null;var e=t.split(",");return e.map(Iz)}function Iz(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Tx[t]||null,isNull:!1}}function dh(t){return t/3600*Math.PI/180}function Uz(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Ez(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Rm(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function Rm(t,e,a){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,a)))}function Fz(t,e,a){for(var n=176,c=[],f=0;f<e.nSubgrids;f++){var h=Sz(t,n,a),s=Yz(t,n,h,a),x=Math.round(1+(h.upperLongitude-h.lowerLongitude)/h.longitudeInterval),w=Math.round(1+(h.upperLatitude-h.lowerLatitude)/h.latitudeInterval);c.push({ll:[dh(h.lowerLongitude),dh(h.lowerLatitude)],del:[dh(h.longitudeInterval),dh(h.latitudeInterval)],lim:[x,w],count:h.gridNodeCount,cvs:Tz(s)}),n+=176+h.gridNodeCount*16}return c}function Tz(t){return t.map(function(e){return[dh(e.longitudeShift),dh(e.latitudeShift)]})}function Sz(t,e,a){return{name:Rm(t,e+8,e+16).trim(),parent:Rm(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,a),upperLatitude:t.getFloat64(e+88,a),lowerLongitude:t.getFloat64(e+104,a),upperLongitude:t.getFloat64(e+120,a),latitudeInterval:t.getFloat64(e+136,a),longitudeInterval:t.getFloat64(e+152,a),gridNodeCount:t.getInt32(e+168,a)}}function Yz(t,e,a,n){for(var c=e+176,f=16,h=[],s=0;s<a.gridNodeCount;s++){var x={latitudeShift:t.getFloat32(c+s*f,n),longitudeShift:t.getFloat32(c+s*f+4,n),latitudeAccuracy:t.getFloat32(c+s*f+8,n),longitudeAccuracy:t.getFloat32(c+s*f+12,n)};h.push(x)}return h}function oo(t,e){if(!(this instanceof oo))return new oo(t);e=e||function(w){if(w)throw w};var a=lz(t);if(typeof a!="object"){e("Could not parse to valid json: "+t);return}var n=oo.projections.get(a.projName);if(!n){e("Could not get projection name from: "+t);return}if(a.datumCode&&a.datumCode!=="none"){var c=zl(G1,a.datumCode);c&&(a.datum_params=a.datum_params||(c.towgs84?c.towgs84.split(","):null),a.ellps=c.ellipse,a.datumName=c.datumName?c.datumName:a.datumCode)}a.k0=a.k0||1,a.axis=a.axis||"enu",a.ellps=a.ellps||"wgs84",a.lat1=a.lat1||a.lat0;var f=wz(a.a,a.b,a.rf,a.ellps,a.sphere),h=xz(f.a,f.b,f.rf,a.R_A),s=Rz(a.nadgrids),x=a.datum||Cz(a.datumCode,a.datum_params,f.a,f.b,h.es,h.ep2,s);Zv(this,a),Zv(this,n),this.a=f.a,this.b=f.b,this.rf=f.rf,this.sphere=f.sphere,this.es=h.es,this.e=h.e,this.ep2=h.ep2,this.datum=x,this.init(),e(null,this)}oo.projections=yz;oo.projections.start();function Nz(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===GA?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===jA?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function Sx(t,e,a){var n=t.x,c=t.y,f=t.z?t.z:0,h,s,x,w;if(c<-St&&c>-1.001*St)c=-St;else if(c>St&&c<1.001*St)c=St;else{if(c<-St)return{x:-1/0,y:-1/0,z:t.z};if(c>St)return{x:1/0,y:1/0,z:t.z}}return n>Math.PI&&(n-=2*Math.PI),s=Math.sin(c),w=Math.cos(c),x=s*s,h=a/Math.sqrt(1-e*x),{x:(h+f)*w*Math.cos(n),y:(h+f)*w*Math.sin(n),z:(h*(1-e)+f)*s}}function Yx(t,e,a,n){var c=1e-12,f=c*c,h=30,s,x,w,I,R,E,M,Y,D,O,H,$,Ae,ce=t.x,he=t.y,se=t.z?t.z:0,ae,V,J;if(s=Math.sqrt(ce*ce+he*he),x=Math.sqrt(ce*ce+he*he+se*se),s/a<c){if(ae=0,x/a<c)return V=St,J=-n,{x:t.x,y:t.y,z:t.z}}else ae=Math.atan2(he,ce);w=se/x,I=s/x,R=1/Math.sqrt(1-e*(2-e)*I*I),Y=I*(1-e)*R,D=w*R,Ae=0;do Ae++,M=a/Math.sqrt(1-e*D*D),J=s*Y+se*D-M*(1-e*D*D),E=e*M/(M+J),R=1/Math.sqrt(1-E*(2-E)*I*I),O=I*(1-E)*R,H=w*R,$=H*Y-O*D,Y=O,D=H;while($*$>f&&Ae<h);return V=Math.atan(H/Math.abs(O)),{x:ae,y:V,z:J}}function Lz(t,e,a){if(e===GA)return{x:t.x+a[0],y:t.y+a[1],z:t.z+a[2]};if(e===jA){var n=a[0],c=a[1],f=a[2],h=a[3],s=a[4],x=a[5],w=a[6];return{x:w*(t.x-x*t.y+s*t.z)+n,y:w*(x*t.x+t.y-h*t.z)+c,z:w*(-s*t.x+h*t.y+t.z)+f}}}function Pz(t,e,a){if(e===GA)return{x:t.x-a[0],y:t.y-a[1],z:t.z-a[2]};if(e===jA){var n=a[0],c=a[1],f=a[2],h=a[3],s=a[4],x=a[5],w=a[6],I=(t.x-n)/w,R=(t.y-c)/w,E=(t.z-f)/w;return{x:I+x*R-s*E,y:-x*I+R+h*E,z:s*I-h*R+E}}}function M1(t){return t===GA||t===jA}function Qz(t,e,a){if(Nz(t,e)||t.datum_type===Cm||e.datum_type===Cm)return a;var n=t.a,c=t.es;if(t.datum_type===vh){var f=Xv(t,!1,a);if(f!==0)return;n=kv,c=Dv}var h=e.a,s=e.b,x=e.es;if(e.datum_type===vh&&(h=kv,s=zD,x=Dv),c===x&&n===h&&!M1(t.datum_type)&&!M1(e.datum_type))return a;if(a=Sx(a,c,n),M1(t.datum_type)&&(a=Lz(a,t.datum_type,t.datum_params)),M1(e.datum_type)&&(a=Pz(a,e.datum_type,e.datum_params)),a=Yx(a,x,h,s),e.datum_type===vh){var w=Xv(e,!0,a);if(w!==0)return}return a}function Xv(t,e,a){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var n={x:-a.x,y:a.y},c={x:Number.NaN,y:Number.NaN},f=[];e:for(var h=0;h<t.grids.length;h++){var s=t.grids[h];if(f.push(s.name),s.isNull){c=n;break}if(s.mandatory,s.grid===null){if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1;continue}for(var x=s.grid.subgrids,w=0,I=x.length;w<I;w++){var R=x[w],E=(Math.abs(R.del[1])+Math.abs(R.del[0]))/1e4,M=R.ll[0]-E,Y=R.ll[1]-E,D=R.ll[0]+(R.lim[0]-1)*R.del[0]+E,O=R.ll[1]+(R.lim[1]-1)*R.del[1]+E;if(!(Y>n.y||M>n.x||O<n.y||D<n.x)&&(c=kz(n,e,R),!isNaN(c.x)))break e}}return isNaN(c.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*ro+" "+n.y*ro+" tried: '"+f+"'"),-1):(a.x=-c.x,a.y=c.y,0)}function kz(t,e,a){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var c={x:t.x,y:t.y};c.x-=a.ll[0],c.y-=a.ll[1],c.x=qt(c.x-Math.PI)+Math.PI;var f=Vv(c,a);if(e){if(isNaN(f.x))return n;f.x=c.x-f.x,f.y=c.y-f.y;var h=9,s=1e-12,x,w;do{if(w=Vv(f,a),isNaN(w.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}x={x:c.x-(w.x+f.x),y:c.y-(w.y+f.y)},f.x+=x.x,f.y+=x.y}while(h--&&Math.abs(x.x)>s&&Math.abs(x.y)>s);if(h<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=qt(f.x+a.ll[0]),n.y=f.y+a.ll[1]}else isNaN(f.x)||(n.x=t.x+f.x,n.y=t.y+f.y);return n}function Vv(t,e){var a={x:t.x/e.del[0],y:t.y/e.del[1]},n={x:Math.floor(a.x),y:Math.floor(a.y)},c={x:a.x-1*n.x,y:a.y-1*n.y},f={x:Number.NaN,y:Number.NaN},h;if(n.x<0||n.x>=e.lim[0]||n.y<0||n.y>=e.lim[1])return f;h=n.y*e.lim[0]+n.x;var s={x:e.cvs[h][0],y:e.cvs[h][1]};h++;var x={x:e.cvs[h][0],y:e.cvs[h][1]};h+=e.lim[0];var w={x:e.cvs[h][0],y:e.cvs[h][1]};h--;var I={x:e.cvs[h][0],y:e.cvs[h][1]},R=c.x*c.y,E=c.x*(1-c.y),M=(1-c.x)*(1-c.y),Y=(1-c.x)*c.y;return f.x=M*s.x+E*x.x+Y*I.x+R*w.x,f.y=M*s.y+E*x.y+Y*I.y+R*w.y,f}function Gv(t,e,a){var n=a.x,c=a.y,f=a.z||0,h,s,x,w={};for(x=0;x<3;x++)if(!(e&&x===2&&a.z===void 0))switch(x===0?(h=n,"ew".indexOf(t.axis[x])!==-1?s="x":s="y"):x===1?(h=c,"ns".indexOf(t.axis[x])!==-1?s="y":s="x"):(h=f,s="z"),t.axis[x]){case"e":w[s]=h;break;case"w":w[s]=-h;break;case"n":w[s]=h;break;case"s":w[s]=-h;break;case"u":a[s]!==void 0&&(w.z=h);break;case"d":a[s]!==void 0&&(w.z=-h);break;default:return null}return w}function Nx(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function Dz(t){jv(t.x),jv(t.y)}function jv(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function zz(t,e){return(t.datum.datum_type===GA||t.datum.datum_type===jA||t.datum.datum_type===vh)&&e.datumCode!=="WGS84"||(e.datum.datum_type===GA||e.datum.datum_type===jA||e.datum.datum_type===vh)&&t.datumCode!=="WGS84"}function Eg(t,e,a,n){var c;Array.isArray(a)?a=Nx(a):a={x:a.x,y:a.y,z:a.z,m:a.m};var f=a.z!==void 0;if(Dz(a),t.datum&&e.datum&&zz(t,e)&&(c=new oo("WGS84"),a=Eg(t,c,a,n),t=c),n&&t.axis!=="enu"&&(a=Gv(t,!1,a)),t.projName==="longlat")a={x:a.x*Zr,y:a.y*Zr,z:a.z||0};else if(t.to_meter&&(a={x:a.x*t.to_meter,y:a.y*t.to_meter,z:a.z||0}),a=t.inverse(a),!a)return;if(t.from_greenwich&&(a.x+=t.from_greenwich),a=Qz(t.datum,e.datum,a),!!a)return e.from_greenwich&&(a={x:a.x-e.from_greenwich,y:a.y,z:a.z||0}),e.projName==="longlat"?a={x:a.x*ro,y:a.y*ro,z:a.z||0}:(a=e.forward(a),e.to_meter&&(a={x:a.x/e.to_meter,y:a.y/e.to_meter,z:a.z||0})),n&&e.axis!=="enu"?Gv(e,!0,a):(a&&!f&&delete a.z,a)}var Kv=oo("WGS84");function I3(t,e,a,n){var c,f,h;return Array.isArray(a)?(c=Eg(t,e,a,n)||{x:NaN,y:NaN},a.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof c.z=="number"?[c.x,c.y,c.z].concat(a.slice(3)):[c.x,c.y,a[2]].concat(a.slice(3)):[c.x,c.y].concat(a.slice(2)):[c.x,c.y]):(f=Eg(t,e,a,n),h=Object.keys(a),h.length===2||h.forEach(function(s){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(s==="x"||s==="y"||s==="z")return}else if(s==="x"||s==="y")return;f[s]=a[s]}),f)}function $v(t){return t instanceof oo?t:t.oProj?t.oProj:oo(t)}function On(t,e,a){t=$v(t);var n=!1,c;return typeof e>"u"?(e=t,t=Kv,n=!0):(typeof e.x<"u"||Array.isArray(e))&&(a=e,e=t,t=Kv,n=!0),e=$v(e),a?I3(t,e,a):(c={forward:function(f,h){return I3(t,e,f,h)},inverse:function(f,h){return I3(e,t,f,h)}},n&&(c.oProj=e),c)}var qv=6,Lx="AJSAJS",Px="AFAFAF",fh=65,bn=73,rs=79,Ld=86,Pd=90;const Zz={forward:Qx,inverse:Hz,toPoint:kx};function Qx(t,e){return e=e||5,Vz(Oz({lat:t[1],lon:t[0]}),e)}function Hz(t){var e=w4(zx(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function kx(t){var e=w4(zx(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function U3(t){return t*(Math.PI/180)}function Wv(t){return 180*(t/Math.PI)}function Oz(t){var e=t.lat,a=t.lon,n=6378137,c=.00669438,f=.9996,h,s,x,w,I,R,E,M=U3(e),Y=U3(a),D,O;O=Math.floor((a+180)/6)+1,a===180&&(O=60),e>=56&&e<64&&a>=3&&a<12&&(O=32),e>=72&&e<84&&(a>=0&&a<9?O=31:a>=9&&a<21?O=33:a>=21&&a<33?O=35:a>=33&&a<42&&(O=37)),h=(O-1)*6-180+3,D=U3(h),s=c/(1-c),x=n/Math.sqrt(1-c*Math.sin(M)*Math.sin(M)),w=Math.tan(M)*Math.tan(M),I=s*Math.cos(M)*Math.cos(M),R=Math.cos(M)*(Y-D),E=n*((1-c/4-3*c*c/64-5*c*c*c/256)*M-(3*c/8+3*c*c/32+45*c*c*c/1024)*Math.sin(2*M)+(15*c*c/256+45*c*c*c/1024)*Math.sin(4*M)-35*c*c*c/3072*Math.sin(6*M));var H=f*x*(R+(1-w+I)*R*R*R/6+(5-18*w+w*w+72*I-58*s)*R*R*R*R*R/120)+5e5,$=f*(E+x*Math.tan(M)*(R*R/2+(5-w+9*I+4*I*I)*R*R*R*R/24+(61-58*w+w*w+600*I-330*s)*R*R*R*R*R*R/720));return e<0&&($+=1e7),{northing:Math.round($),easting:Math.round(H),zoneNumber:O,zoneLetter:Xz(e)}}function w4(t){var e=t.northing,a=t.easting,n=t.zoneLetter,c=t.zoneNumber;if(c<0||c>60)return null;var f=.9996,h=6378137,s=.00669438,x,w=(1-Math.sqrt(1-s))/(1+Math.sqrt(1-s)),I,R,E,M,Y,D,O,H,$,Ae=a-5e5,ce=e;n<"N"&&(ce-=1e7),O=(c-1)*6-180+3,x=s/(1-s),D=ce/f,H=D/(h*(1-s/4-3*s*s/64-5*s*s*s/256)),$=H+(3*w/2-27*w*w*w/32)*Math.sin(2*H)+(21*w*w/16-55*w*w*w*w/32)*Math.sin(4*H)+151*w*w*w/96*Math.sin(6*H),I=h/Math.sqrt(1-s*Math.sin($)*Math.sin($)),R=Math.tan($)*Math.tan($),E=x*Math.cos($)*Math.cos($),M=h*(1-s)/Math.pow(1-s*Math.sin($)*Math.sin($),1.5),Y=Ae/(I*f);var he=$-I*Math.tan($)/M*(Y*Y/2-(5+3*R+10*E-4*E*E-9*x)*Y*Y*Y*Y/24+(61+90*R+298*E+45*R*R-252*x-3*E*E)*Y*Y*Y*Y*Y*Y/720);he=Wv(he);var se=(Y-(1+2*R+E)*Y*Y*Y/6+(5-2*E+28*R-3*E*E+8*x+24*R*R)*Y*Y*Y*Y*Y/120)/Math.cos($);se=O+Wv(se);var ae;if(t.accuracy){var V=w4({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});ae={top:V.lat,right:V.lon,bottom:he,left:se}}else ae={lat:he,lon:se};return ae}function Xz(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function Vz(t,e){var a="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+Gz(t.easting,t.northing,t.zoneNumber)+a.substr(a.length-5,e)+n.substr(n.length-5,e)}function Gz(t,e,a){var n=Dx(a),c=Math.floor(t/1e5),f=Math.floor(e/1e5)%20;return jz(c,f,n)}function Dx(t){var e=t%qv;return e===0&&(e=qv),e}function jz(t,e,a){var n=a-1,c=Lx.charCodeAt(n),f=Px.charCodeAt(n),h=c+t-1,s=f+e,x=!1;h>Pd&&(h=h-Pd+fh-1,x=!0),(h===bn||c<bn&&h>bn||(h>bn||c<bn)&&x)&&h++,(h===rs||c<rs&&h>rs||(h>rs||c<rs)&&x)&&(h++,h===bn&&h++),h>Pd&&(h=h-Pd+fh-1),s>Ld?(s=s-Ld+fh-1,x=!0):x=!1,(s===bn||f<bn&&s>bn||(s>bn||f<bn)&&x)&&s++,(s===rs||f<rs&&s>rs||(s>rs||f<rs)&&x)&&(s++,s===bn&&s++),s>Ld&&(s=s-Ld+fh-1);var w=String.fromCharCode(h)+String.fromCharCode(s);return w}function zx(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,a=null,n="",c,f=0;!/[A-Z]/.test(c=t.charAt(f));){if(f>=2)throw"MGRSPoint bad conversion from: "+t;n+=c,f++}var h=parseInt(n,10);if(f===0||f+3>e)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(f++);if(s<="A"||s==="B"||s==="Y"||s>="Z"||s==="I"||s==="O")throw"MGRSPoint zone letter "+s+" not handled: "+t;a=t.substring(f,f+=2);for(var x=Dx(h),w=Kz(a.charAt(0),x),I=$z(a.charAt(1),x);I<qz(s);)I+=2e6;var R=e-f;if(R%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var E=R/2,M=0,Y=0,D,O,H,$,Ae;return E>0&&(D=1e5/Math.pow(10,E),O=t.substring(f,f+E),M=parseFloat(O)*D,H=t.substring(f+E),Y=parseFloat(H)*D),$=M+w,Ae=Y+I,{easting:$,northing:Ae,zoneLetter:s,zoneNumber:h,accuracy:D}}function Kz(t,e){for(var a=Lx.charCodeAt(e-1),n=1e5,c=!1;a!==t.charCodeAt(0);){if(a++,a===bn&&a++,a===rs&&a++,a>Pd){if(c)throw"Bad character: "+t;a=fh,c=!0}n+=1e5}return n}function $z(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var a=Px.charCodeAt(e-1),n=0,c=!1;a!==t.charCodeAt(0);){if(a++,a===bn&&a++,a===rs&&a++,a>Ld){if(c)throw"Bad character: "+t;a=fh,c=!0}n+=1e5}return n}function qz(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Th(t,e,a){if(!(this instanceof Th))return new Th(t,e,a);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=a||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Th.fromMGRS=function(t){return new Th(kx(t))};Th.prototype.toMGRS=function(t){return Qx([this.x,this.y],t)};var Wz=1,Jz=.25,Jv=.046875,e6=.01953125,t6=.01068115234375,eZ=.75,tZ=.46875,iZ=.013020833333333334,aZ=.007120768229166667,rZ=.3645833333333333,nZ=.005696614583333333,sZ=.3076171875;function B4(t){var e=[];e[0]=Wz-t*(Jz+t*(Jv+t*(e6+t*t6))),e[1]=t*(eZ-t*(Jv+t*(e6+t*t6)));var a=t*t;return e[2]=a*(tZ-t*(iZ+t*aZ)),a*=t,e[3]=a*(rZ-t*nZ),e[4]=a*t*sZ,e}function Dh(t,e,a,n){return a*=e,e*=e,n[0]*t-a*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}var oZ=20;function C4(t,e,a){for(var n=1/(1-e),c=t,f=oZ;f;--f){var h=Math.sin(c),s=1-e*h*h;if(s=(Dh(c,h,Math.cos(c),a)-t)*(s*Math.sqrt(s))*n,c-=s,Math.abs(s)<jt)return c}return c}function lZ(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=B4(this.es),this.ml0=Dh(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function AZ(t){var e=t.x,a=t.y,n=qt(e-this.long0),c,f,h,s=Math.sin(a),x=Math.cos(a);if(this.es){var I=x*n,R=Math.pow(I,2),E=this.ep2*Math.pow(x,2),M=Math.pow(E,2),Y=Math.abs(x)>jt?Math.tan(a):0,D=Math.pow(Y,2),O=Math.pow(D,2);c=1-this.es*Math.pow(s,2),I=I/Math.sqrt(c);var H=Dh(a,s,x,this.en);f=this.a*(this.k0*I*(1+R/6*(1-D+E+R/20*(5-18*D+O+14*E-58*D*E+R/42*(61+179*O-O*D-479*D)))))+this.x0,h=this.a*(this.k0*(H-this.ml0+s*n*I/2*(1+R/12*(5-D+9*E+4*M+R/30*(61+O-58*D+270*E-330*D*E+R/56*(1385+543*O-O*D-3111*D))))))+this.y0}else{var w=x*Math.sin(n);if(Math.abs(Math.abs(w)-1)<jt)return 93;if(f=.5*this.a*this.k0*Math.log((1+w)/(1-w))+this.x0,h=x*Math.cos(n)/Math.sqrt(1-Math.pow(w,2)),w=Math.abs(h),w>=1){if(w-1>jt)return 93;h=0}else h=Math.acos(h);a<0&&(h=-h),h=this.a*this.k0*(h-this.lat0)+this.y0}return t.x=f,t.y=h,t}function cZ(t){var e,a,n,c,f=(t.x-this.x0)*(1/this.a),h=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+h/this.k0,a=C4(e,this.es,this.en),Math.abs(a)<St){var R=Math.sin(a),E=Math.cos(a),M=Math.abs(E)>jt?Math.tan(a):0,Y=this.ep2*Math.pow(E,2),D=Math.pow(Y,2),O=Math.pow(M,2),H=Math.pow(O,2);e=1-this.es*Math.pow(R,2);var $=f*Math.sqrt(e)/this.k0,Ae=Math.pow($,2);e=e*M,n=a-e*Ae/(1-this.es)*.5*(1-Ae/12*(5+3*O-9*Y*O+Y-4*D-Ae/30*(61+90*O-252*Y*O+45*H+46*Y-Ae/56*(1385+3633*O+4095*H+1574*H*O)))),c=qt(this.long0+$*(1-Ae/6*(1+2*O+Y-Ae/20*(5+28*O+24*H+8*Y*O+6*Y-Ae/42*(61+662*O+1320*H+720*H*O))))/E)}else n=St*x0(h),c=0;else{var s=Math.exp(f/this.k0),x=.5*(s-1/s),w=this.lat0+h/this.k0,I=Math.cos(w);e=Math.sqrt((1-Math.pow(I,2))/(1+Math.pow(x,2))),n=Math.asin(e),h<0&&(n=-n),x===0&&I===0?c=0:c=qt(Math.atan2(x,I)+this.long0)}return t.x=c,t.y=n,t}var hZ=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const j1={init:lZ,forward:AZ,inverse:cZ,names:hZ};function Zx(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function xn(t,e){t=Math.abs(t),e=Math.abs(e);var a=Math.max(t,e),n=Math.min(t,e)/(a||1);return a*Math.sqrt(1+Math.pow(n,2))}function uZ(t){var e=1+t,a=e-1;return a===0?t:t*Math.log(e)/a}function dZ(t){var e=Math.abs(t);return e=uZ(e*(1+e/(xn(1,e)+1))),t<0?-e:e}function M4(t,e){for(var a=2*Math.cos(2*e),n=t.length-1,c=t[n],f=0,h;--n>=0;)h=-f+a*c+t[n],f=c,c=h;return e+h*Math.sin(2*e)}function fZ(t,e){for(var a=2*Math.cos(e),n=t.length-1,c=t[n],f=0,h;--n>=0;)h=-f+a*c+t[n],f=c,c=h;return Math.sin(e)*h}function gZ(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function Hx(t,e,a){for(var n=Math.sin(e),c=Math.cos(e),f=Zx(a),h=gZ(a),s=2*c*h,x=-2*n*f,w=t.length-1,I=t[w],R=0,E=0,M=0,Y,D;--w>=0;)Y=E,D=R,E=I,R=M,I=-Y+s*E-x*R+t[w],M=-D+x*E+s*R;return s=n*h,x=c*f,[s*I-x*M,s*M+x*I]}function pZ(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(j1.init.apply(this),this.forward=j1.forward,this.inverse=j1.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),a=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),a=a*e,this.cgb[1]=a*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=a*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),a=a*e,this.cgb[2]=a*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=a*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),a=a*e,this.cgb[3]=a*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=a*(1237/630+e*(-12/5+e*(-24832/14175))),a=a*e,this.cgb[4]=a*(4174/315+e*(-144838/6237)),this.cbg[4]=a*(-734/315+e*(109598/31185)),a=a*e,this.cgb[5]=a*(601676/22275),this.cbg[5]=a*(444337/155925),a=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+a*(1/4+a*(1/64+a/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=a*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=a*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),a=a*e,this.utg[2]=a*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=a*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),a=a*e,this.utg[3]=a*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=a*(49561/161280+e*(-179/168+e*(6601661/7257600))),a=a*e,this.utg[4]=a*(-4583/161280+e*(108847/3991680)),this.gtu[4]=a*(34729/80640+e*(-3418889/1995840)),a=a*e,this.utg[5]=a*(-20648693/638668800),this.gtu[5]=a*(212378941/319334400);var n=M4(this.cbg,this.lat0);this.Zb=-this.Qn*(n+fZ(this.gtu,2*n))}function mZ(t){var e=qt(t.x-this.long0),a=t.y;a=M4(this.cbg,a);var n=Math.sin(a),c=Math.cos(a),f=Math.sin(e),h=Math.cos(e);a=Math.atan2(n,h*c),e=Math.atan2(f*c,xn(n,c*h)),e=dZ(Math.tan(e));var s=Hx(this.gtu,2*a,2*e);a=a+s[0],e=e+s[1];var x,w;return Math.abs(e)<=2.623395162778?(x=this.a*(this.Qn*e)+this.x0,w=this.a*(this.Qn*a+this.Zb)+this.y0):(x=1/0,w=1/0),t.x=x,t.y=w,t}function _Z(t){var e=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);a=(a-this.Zb)/this.Qn,e=e/this.Qn;var n,c;if(Math.abs(e)<=2.623395162778){var f=Hx(this.utg,2*a,2*e);a=a+f[0],e=e+f[1],e=Math.atan(Zx(e));var h=Math.sin(a),s=Math.cos(a),x=Math.sin(e),w=Math.cos(e);a=Math.atan2(h*w,xn(x,w*s)),e=Math.atan2(x,w*s),n=qt(e+this.long0),c=M4(this.cgb,a)}else n=1/0,c=1/0;return t.x=n,t.y=c,t}var bZ=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const K1={init:pZ,forward:mZ,inverse:_Z,names:bZ};function yZ(t,e){if(t===void 0){if(t=Math.floor((qt(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var vZ="etmerc";function xZ(){var t=yZ(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Zr,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,K1.init.apply(this),this.forward=K1.forward,this.inverse=K1.inverse}var wZ=["Universal Transverse Mercator System","utm"];const BZ={init:xZ,names:wZ,dependsOn:vZ};function R4(t,e){return Math.pow((1-t)/(1+t),e)}var CZ=20;function MZ(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Aa)/(Math.pow(Math.tan(.5*this.lat0+Aa),this.C)*R4(this.e*t,this.ratexp))}function RZ(t){var e=t.x,a=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*a+Aa),this.C)*R4(this.e*Math.sin(a),this.ratexp))-St,t.x=this.C*e,t}function IZ(t){for(var e=1e-14,a=t.x/this.C,n=t.y,c=Math.pow(Math.tan(.5*n+Aa)/this.K,1/this.C),f=CZ;f>0&&(n=2*Math.atan(c*R4(this.e*Math.sin(t.y),-.5*this.e))-St,!(Math.abs(n-t.y)<e));--f)t.y=n;return f?(t.x=a,t.y=n,t):null}const I4={init:MZ,forward:RZ,inverse:IZ};function UZ(){I4.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function EZ(t){var e,a,n,c;return t.x=qt(t.x-this.long0),I4.forward.apply(this,[t]),e=Math.sin(t.y),a=Math.cos(t.y),n=Math.cos(t.x),c=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*a*n),t.x=c*a*Math.sin(t.x),t.y=c*(this.cosc0*e-this.sinc0*a*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function FZ(t){var e,a,n,c,f;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,f=xn(t.x,t.y)){var h=2*Math.atan2(f,this.R2);e=Math.sin(h),a=Math.cos(h),c=Math.asin(a*this.sinc0+t.y*e*this.cosc0/f),n=Math.atan2(t.x*e,f*this.cosc0*a-t.y*this.sinc0*e)}else c=this.phic0,n=0;return t.x=n,t.y=c,I4.inverse.apply(this,[t]),t.x=qt(t.x+this.long0),t}var TZ=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const SZ={init:UZ,forward:EZ,inverse:FZ,names:TZ};function YZ(t,e,a){return e*=a,Math.tan(.5*(St+t))*Math.pow((1-e)/(1+e),.5*a)}function NZ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=jt&&(this.k0=.5*(1+x0(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=jt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=jt&&Math.abs(Math.cos(this.lat_ts))>jt&&(this.k0=.5*this.cons*lo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Ls(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=lo(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-St,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function LZ(t){var e=t.x,a=t.y,n=Math.sin(a),c=Math.cos(a),f,h,s,x,w,I,R=qt(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=jt&&Math.abs(a+this.lat0)<=jt?(t.x=NaN,t.y=NaN,t):this.sphere?(f=2*this.k0/(1+this.sinlat0*n+this.coslat0*c*Math.cos(R)),t.x=this.a*f*c*Math.sin(R)+this.x0,t.y=this.a*f*(this.coslat0*n-this.sinlat0*c*Math.cos(R))+this.y0,t):(h=2*Math.atan(this.ssfn_(a,n,this.e))-St,x=Math.cos(h),s=Math.sin(h),Math.abs(this.coslat0)<=jt?(w=Ls(this.e,a*this.con,this.con*n),I=2*this.a*this.k0*w/this.cons,t.x=this.x0+I*Math.sin(e-this.long0),t.y=this.y0-this.con*I*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<jt?(f=2*this.a*this.k0/(1+x*Math.cos(R)),t.y=f*s):(f=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*x*Math.cos(R))),t.y=f*(this.cosX0*s-this.sinX0*x*Math.cos(R))+this.y0),t.x=f*x*Math.sin(R)+this.x0,t))}function PZ(t){t.x-=this.x0,t.y-=this.y0;var e,a,n,c,f,h=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(h/(2*this.a*this.k0));return e=this.long0,a=this.lat0,h<=jt?(t.x=e,t.y=a,t):(a=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/h),Math.abs(this.coslat0)<jt?this.lat0>0?e=qt(this.long0+Math.atan2(t.x,-1*t.y)):e=qt(this.long0+Math.atan2(t.x,t.y)):e=qt(this.long0+Math.atan2(t.x*Math.sin(s),h*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=a,t)}else if(Math.abs(this.coslat0)<=jt){if(h<=jt)return a=this.lat0,e=this.long0,t.x=e,t.y=a,t;t.x*=this.con,t.y*=this.con,n=h*this.cons/(2*this.a*this.k0),a=this.con*g0(this.e,n),e=this.con*qt(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else c=2*Math.atan(h*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,h<=jt?f=this.X0:(f=Math.asin(Math.cos(c)*this.sinX0+t.y*Math.sin(c)*this.cosX0/h),e=qt(this.long0+Math.atan2(t.x*Math.sin(c),h*this.cosX0*Math.cos(c)-t.y*this.sinX0*Math.sin(c)))),a=-1*g0(this.e,Math.tan(.5*(St+f)));return t.x=e,t.y=a,t}var QZ=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const kZ={init:NZ,forward:LZ,inverse:PZ,names:QZ,ssfn_:YZ};function DZ(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),a=this.a,n=this.rf,c=1/n,f=2*c-Math.pow(c,2),h=this.e=Math.sqrt(f);this.R=this.k0*a*Math.sqrt(1-f)/(1-f*Math.pow(e,2)),this.alpha=Math.sqrt(1+f/(1-f)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),x=Math.log(Math.tan(Math.PI/4+t/2)),w=Math.log((1+h*e)/(1-h*e));this.K=s-this.alpha*x+this.alpha*h/2*w}function zZ(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),a=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+a)+this.K,c=2*(Math.atan(Math.exp(n))-Math.PI/4),f=this.alpha*(t.x-this.lambda0),h=Math.atan(Math.sin(f)/(Math.sin(this.b0)*Math.tan(c)+Math.cos(this.b0)*Math.cos(f))),s=Math.asin(Math.cos(this.b0)*Math.sin(c)-Math.sin(this.b0)*Math.cos(c)*Math.cos(f));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*h+this.x0,t}function ZZ(t){for(var e=t.x-this.x0,a=t.y-this.y0,n=e/this.R,c=2*(Math.atan(Math.exp(a/this.R))-Math.PI/4),f=Math.asin(Math.cos(this.b0)*Math.sin(c)+Math.sin(this.b0)*Math.cos(c)*Math.cos(n)),h=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(c))),s=this.lambda0+h/this.alpha,x=0,w=f,I=-1e3,R=0;Math.abs(w-I)>1e-7;){if(++R>20)return;x=1/this.alpha*(Math.log(Math.tan(Math.PI/4+f/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(w))/2)),I=w,w=2*Math.atan(Math.exp(x))-Math.PI/2}return t.x=s,t.y=w,t}var HZ=["somerc"];const OZ={init:DZ,forward:zZ,inverse:ZZ,names:HZ};var ch=1e-7;function XZ(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],a=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(a)!==-1}function VZ(){var t,e,a,n,c,f,h,s,x,w,I=0,R,E=0,M=0,Y=0,D=0,O=0,H=0;this.no_off=XZ(this),this.no_rot="no_rot"in this;var $=!1;"alpha"in this&&($=!0);var Ae=!1;if("rectified_grid_angle"in this&&(Ae=!0),$&&(H=this.alpha),Ae&&(I=this.rectified_grid_angle*Zr),$||Ae)E=this.longc;else if(M=this.long1,D=this.lat1,Y=this.long2,O=this.lat2,Math.abs(D-O)<=ch||(t=Math.abs(D))<=ch||Math.abs(t-St)<=ch||Math.abs(Math.abs(this.lat0)-St)<=ch||Math.abs(Math.abs(O)-St)<=ch)throw new Error;var ce=1-this.es;e=Math.sqrt(ce),Math.abs(this.lat0)>jt?(s=Math.sin(this.lat0),a=Math.cos(this.lat0),t=1-this.es*s*s,this.B=a*a,this.B=Math.sqrt(1+this.es*this.B*this.B/ce),this.A=this.B*this.k0*e/t,n=this.B*e/(a*Math.sqrt(t)),c=n*n-1,c<=0?c=0:(c=Math.sqrt(c),this.lat0<0&&(c=-c)),this.E=c+=n,this.E*=Math.pow(Ls(this.e,this.lat0,s),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=c=1),$||Ae?($?(R=Math.asin(Math.sin(H)/n),Ae||(I=H)):(R=I,H=Math.asin(n*Math.sin(R))),this.lam0=E-Math.asin(.5*(c-1/c)*Math.tan(R))/this.B):(f=Math.pow(Ls(this.e,D,Math.sin(D)),this.B),h=Math.pow(Ls(this.e,O,Math.sin(O)),this.B),c=this.E/f,x=(h-f)/(h+f),w=this.E*this.E,w=(w-h*f)/(w+h*f),t=M-Y,t<-Math.pi?Y-=d0:t>Math.pi&&(Y+=d0),this.lam0=qt(.5*(M+Y)-Math.atan(w*Math.tan(.5*this.B*(M-Y))/x)/this.B),R=Math.atan(2*Math.sin(this.B*qt(M-this.lam0))/(c-1/c)),I=H=Math.asin(n*Math.sin(R))),this.singam=Math.sin(R),this.cosgam=Math.cos(R),this.sinrot=Math.sin(I),this.cosrot=Math.cos(I),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(H))),this.lat0<0&&(this.u_0=-this.u_0)),c=.5*R,this.v_pole_n=this.ArB*Math.log(Math.tan(Aa-c)),this.v_pole_s=this.ArB*Math.log(Math.tan(Aa+c))}function GZ(t){var e={},a,n,c,f,h,s,x,w;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-St)>jt){if(h=this.E/Math.pow(Ls(this.e,t.y,Math.sin(t.y)),this.B),s=1/h,a=.5*(h-s),n=.5*(h+s),f=Math.sin(this.B*t.x),c=(a*this.singam-f*this.cosgam)/n,Math.abs(Math.abs(c)-1)<jt)throw new Error;w=.5*this.ArB*Math.log((1-c)/(1+c)),s=Math.cos(this.B*t.x),Math.abs(s)<ch?x=this.A*t.x:x=this.ArB*Math.atan2(a*this.cosgam+f*this.singam,s)}else w=t.y>0?this.v_pole_n:this.v_pole_s,x=this.ArB*t.y;return this.no_rot?(e.x=x,e.y=w):(x-=this.u_0,e.x=w*this.cosrot+x*this.sinrot,e.y=x*this.cosrot-w*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function jZ(t){var e,a,n,c,f,h,s,x={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(a=t.y,e=t.x):(a=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),n=Math.exp(-this.BrA*a),c=.5*(n-1/n),f=.5*(n+1/n),h=Math.sin(this.BrA*e),s=(h*this.cosgam+c*this.singam)/f,Math.abs(Math.abs(s)-1)<jt)x.x=0,x.y=s<0?-St:St;else{if(x.y=this.E/Math.sqrt((1+s)/(1-s)),x.y=g0(this.e,Math.pow(x.y,1/this.B)),x.y===1/0)throw new Error;x.x=-this.rB*Math.atan2(c*this.cosgam-h*this.singam,Math.cos(this.BrA*e))}return x.x+=this.lam0,x}var KZ=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const $Z={init:VZ,forward:GZ,inverse:jZ,names:KZ};function qZ(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<jt)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),a=Math.cos(this.lat1),n=lo(this.e,e,a),c=Ls(this.e,this.lat1,e),f=Math.sin(this.lat2),h=Math.cos(this.lat2),s=lo(this.e,f,h),x=Ls(this.e,this.lat2,f),w=Ls(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>jt?this.ns=Math.log(n/s)/Math.log(c/x):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(c,this.ns)),this.rh=this.a*this.f0*Math.pow(w,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function WZ(t){var e=t.x,a=t.y;Math.abs(2*Math.abs(a)-Math.PI)<=jt&&(a=x0(a)*(St-2*jt));var n=Math.abs(Math.abs(a)-St),c,f;if(n>jt)c=Ls(this.e,a,Math.sin(a)),f=this.a*this.f0*Math.pow(c,this.ns);else{if(n=a*this.ns,n<=0)return null;f=0}var h=this.ns*qt(e-this.long0);return t.x=this.k0*(f*Math.sin(h))+this.x0,t.y=this.k0*(this.rh-f*Math.cos(h))+this.y0,t}function JZ(t){var e,a,n,c,f,h=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(h*h+s*s),a=1):(e=-Math.sqrt(h*h+s*s),a=-1);var x=0;if(e!==0&&(x=Math.atan2(a*h,a*s)),e!==0||this.ns>0){if(a=1/this.ns,n=Math.pow(e/(this.a*this.f0),a),c=g0(this.e,n),c===-9999)return null}else c=-St;return f=qt(x/this.ns+this.long0),t.x=f,t.y=c,t}var eH=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const tH={init:qZ,forward:WZ,inverse:JZ,names:eH};function iH(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function aH(t){var e,a,n,c,f,h,s,x=t.x,w=t.y,I=qt(x-this.long0);return e=Math.pow((1+this.e*Math.sin(w))/(1-this.e*Math.sin(w)),this.alfa*this.e/2),a=2*(Math.atan(this.k*Math.pow(Math.tan(w/2+this.s45),this.alfa)/e)-this.s45),n=-I*this.alfa,c=Math.asin(Math.cos(this.ad)*Math.sin(a)+Math.sin(this.ad)*Math.cos(a)*Math.cos(n)),f=Math.asin(Math.cos(a)*Math.sin(n)/Math.cos(c)),h=this.n*f,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(c/2+this.s45),this.n),t.y=s*Math.cos(h)/1,t.x=s*Math.sin(h)/1,this.czech||(t.y*=-1,t.x*=-1),t}function rH(t){var e,a,n,c,f,h,s,x,w=t.x;t.x=t.y,t.y=w,this.czech||(t.y*=-1,t.x*=-1),h=Math.sqrt(t.x*t.x+t.y*t.y),f=Math.atan2(t.y,t.x),c=f/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/h,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(c)),a=Math.asin(Math.cos(n)*Math.sin(c)/Math.cos(e)),t.x=this.long0-a/this.alfa,s=e,x=0;var I=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(x=1),s=t.y,I+=1;while(x===0&&I<15);return I>=15?null:t}var nH=["Krovak","krovak"];const sH={init:iH,forward:aH,inverse:rH,names:nH};function un(t,e,a,n,c){return t*c-e*Math.sin(2*c)+a*Math.sin(4*c)-n*Math.sin(6*c)}function w0(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function B0(t){return .375*t*(1+.25*t*(1+.46875*t))}function C0(t){return .05859375*t*t*(1+.75*t)}function M0(t){return t*t*t*(35/3072)}function Sh(t,e,a){var n=e*a;return t/Math.sqrt(1-n*n)}function Vl(t){return Math.abs(t)<St?t:t-x0(t)*Math.PI}function Fg(t,e,a,n,c){var f,h;f=t/e;for(var s=0;s<15;s++)if(h=(t-(e*f-a*Math.sin(2*f)+n*Math.sin(4*f)-c*Math.sin(6*f)))/(e-2*a*Math.cos(2*f)+4*n*Math.cos(4*f)-6*c*Math.cos(6*f)),f+=h,Math.abs(h)<=1e-10)return f;return NaN}function oH(){this.sphere||(this.e0=w0(this.es),this.e1=B0(this.es),this.e2=C0(this.es),this.e3=M0(this.es),this.ml0=this.a*un(this.e0,this.e1,this.e2,this.e3,this.lat0))}function lH(t){var e,a,n=t.x,c=t.y;if(n=qt(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(c)*Math.sin(n)),a=this.a*(Math.atan2(Math.tan(c),Math.cos(n))-this.lat0);else{var f=Math.sin(c),h=Math.cos(c),s=Sh(this.a,this.e,f),x=Math.tan(c)*Math.tan(c),w=n*Math.cos(c),I=w*w,R=this.es*h*h/(1-this.es),E=this.a*un(this.e0,this.e1,this.e2,this.e3,c);e=s*w*(1-I*x*(1/6-(8-x+8*R)*I/120)),a=E-this.ml0+s*f/h*I*(.5+(5-x+6*R)*I/24)}return t.x=e+this.x0,t.y=a+this.y0,t}function AH(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,a=t.y/this.a,n,c;if(this.sphere){var f=a+this.lat0;n=Math.asin(Math.sin(f)*Math.cos(e)),c=Math.atan2(Math.tan(e),Math.cos(f))}else{var h=this.ml0/this.a+a,s=Fg(h,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-St)<=jt)return t.x=this.long0,t.y=St,a<0&&(t.y*=-1),t;var x=Sh(this.a,this.e,Math.sin(s)),w=x*x*x/this.a/this.a*(1-this.es),I=Math.pow(Math.tan(s),2),R=e*this.a/x,E=R*R;n=s-x*Math.tan(s)/w*R*R*(.5-(1+3*I)*R*R/24),c=R*(1-E*(I/3+(1+3*I)*I*E/15))/Math.cos(s)}return t.x=qt(c+this.long0),t.y=Vl(n),t}var cH=["Cassini","Cassini_Soldner","cass"];const hH={init:oH,forward:lH,inverse:AH,names:cH};function Ll(t,e){var a;return t>1e-7?(a=t*e,(1-t*t)*(e/(1-a*a)-.5/t*Math.log((1-a)/(1+a)))):2*e}var uH=1,dH=2,fH=3,gH=4;function pH(){var t=Math.abs(this.lat0);if(Math.abs(t-St)<jt?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<jt?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Ll(this.e,1),this.mmf=.5/(1-this.es),this.apa=CH(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Ll(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function mH(t){var e,a,n,c,f,h,s,x,w,I,R=t.x,E=t.y;if(R=qt(R-this.long0),this.sphere){if(f=Math.sin(E),I=Math.cos(E),n=Math.cos(R),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(a=this.mode===this.EQUIT?1+I*n:1+this.sinph0*f+this.cosph0*I*n,a<=jt)return null;a=Math.sqrt(2/a),e=a*I*Math.sin(R),a*=this.mode===this.EQUIT?f:this.cosph0*f-this.sinph0*I*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(E+this.lat0)<jt)return null;a=Aa-E*.5,a=2*(this.mode===this.S_POLE?Math.cos(a):Math.sin(a)),e=a*Math.sin(R),a*=n}}else{switch(s=0,x=0,w=0,n=Math.cos(R),c=Math.sin(R),f=Math.sin(E),h=Ll(this.e,f),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(s=h/this.qp,x=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:w=1+this.sinb1*s+this.cosb1*x*n;break;case this.EQUIT:w=1+x*n;break;case this.N_POLE:w=St+E,h=this.qp-h;break;case this.S_POLE:w=E-St,h=this.qp+h;break}if(Math.abs(w)<jt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:w=Math.sqrt(2/w),this.mode===this.OBLIQ?a=this.ymf*w*(this.cosb1*s-this.sinb1*x*n):a=(w=Math.sqrt(2/(1+x*n)))*s*this.ymf,e=this.xmf*w*x*c;break;case this.N_POLE:case this.S_POLE:h>=0?(e=(w=Math.sqrt(h))*c,a=n*(this.mode===this.S_POLE?w:-w)):e=a=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*a+this.y0,t}function _H(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,a=t.y/this.a,n,c,f,h,s,x,w;if(this.sphere){var I=0,R,E=0;if(R=Math.sqrt(e*e+a*a),c=R*.5,c>1)return null;switch(c=2*Math.asin(c),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(E=Math.sin(c),I=Math.cos(c)),this.mode){case this.EQUIT:c=Math.abs(R)<=jt?0:Math.asin(a*E/R),e*=E,a=I*R;break;case this.OBLIQ:c=Math.abs(R)<=jt?this.lat0:Math.asin(I*this.sinph0+a*E*this.cosph0/R),e*=E*this.cosph0,a=(I-Math.sin(c)*this.sinph0)*R;break;case this.N_POLE:a=-a,c=St-c;break;case this.S_POLE:c-=St;break}n=a===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,a)}else{if(w=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,a*=this.dd,x=Math.sqrt(e*e+a*a),x<jt)return t.x=this.long0,t.y=this.lat0,t;h=2*Math.asin(.5*x/this.rq),f=Math.cos(h),e*=h=Math.sin(h),this.mode===this.OBLIQ?(w=f*this.sinb1+a*h*this.cosb1/x,s=this.qp*w,a=x*this.cosb1*f-a*this.sinb1*h):(w=a*h/x,s=this.qp*w,a=x*f)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(a=-a),s=e*e+a*a,!s)return t.x=this.long0,t.y=this.lat0,t;w=1-s/this.qp,this.mode===this.S_POLE&&(w=-w)}n=Math.atan2(e,a),c=MH(Math.asin(w),this.apa)}return t.x=qt(this.long0+n),t.y=c,t}var bH=.3333333333333333,yH=.17222222222222222,vH=.10257936507936508,xH=.06388888888888888,wH=.0664021164021164,BH=.016415012942191543;function CH(t){var e,a=[];return a[0]=t*bH,e=t*t,a[0]+=e*yH,a[1]=e*xH,e*=t,a[0]+=e*vH,a[1]+=e*wH,a[2]=e*BH,a}function MH(t,e){var a=t+t;return t+e[0]*Math.sin(a)+e[1]*Math.sin(a+a)+e[2]*Math.sin(a+a+a)}var RH=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const IH={init:pH,forward:mH,inverse:_H,names:RH,S_POLE:uH,N_POLE:dH,EQUIT:fH,OBLIQ:gH};function Zl(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function UH(){Math.abs(this.lat1+this.lat2)<jt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=lo(this.e3,this.sin_po,this.cos_po),this.qs1=Ll(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=lo(this.e3,this.sin_po,this.cos_po),this.qs2=Ll(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ll(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>jt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function EH(t){var e=t.x,a=t.y;this.sin_phi=Math.sin(a),this.cos_phi=Math.cos(a);var n=Ll(this.e3,this.sin_phi),c=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,f=this.ns0*qt(e-this.long0),h=c*Math.sin(f)+this.x0,s=this.rh-c*Math.cos(f)+this.y0;return t.x=h,t.y=s,t}function FH(t){var e,a,n,c,f,h;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),c=0,e!==0&&(c=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?h=Math.asin((this.c-n*n)/(2*this.ns0)):(a=(this.c-n*n)/this.ns0,h=this.phi1z(this.e3,a)),f=qt(c/this.ns0+this.long0),t.x=f,t.y=h,t}function TH(t,e){var a,n,c,f,h,s=Zl(.5*e);if(t<jt)return s;for(var x=t*t,w=1;w<=25;w++)if(a=Math.sin(s),n=Math.cos(s),c=t*a,f=1-c*c,h=.5*f*f/n*(e/(1-x)-a/f+.5/t*Math.log((1-c)/(1+c))),s=s+h,Math.abs(h)<=1e-7)return s;return null}var SH=["Albers_Conic_Equal_Area","Albers","aea"];const YH={init:UH,forward:EH,inverse:FH,names:SH,phi1z:TH};function NH(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function LH(t){var e,a,n,c,f,h,s,x,w=t.x,I=t.y;return n=qt(w-this.long0),e=Math.sin(I),a=Math.cos(I),c=Math.cos(n),h=this.sin_p14*e+this.cos_p14*a*c,f=1,h>0||Math.abs(h)<=jt?(s=this.x0+this.a*f*a*Math.sin(n)/h,x=this.y0+this.a*f*(this.cos_p14*e-this.sin_p14*a*c)/h):(s=this.x0+this.infinity_dist*a*Math.sin(n),x=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*a*c)),t.x=s,t.y=x,t}function PH(t){var e,a,n,c,f,h;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(c=Math.atan2(e,this.rc),a=Math.sin(c),n=Math.cos(c),h=Zl(n*this.sin_p14+t.y*a*this.cos_p14/e),f=Math.atan2(t.x*a,e*this.cos_p14*n-t.y*this.sin_p14*a),f=qt(this.long0+f)):(h=this.phic0,f=0),t.x=f,t.y=h,t}var QH=["gnom"];const kH={init:NH,forward:LH,inverse:PH,names:QH};function DH(t,e){var a=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-a)<1e-6)return e<0?-1*St:St;for(var n=Math.asin(.5*e),c,f,h,s,x=0;x<30;x++)if(f=Math.sin(n),h=Math.cos(n),s=t*f,c=Math.pow(1-s*s,2)/(2*h)*(e/(1-t*t)-f/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),n+=c,Math.abs(c)<=1e-10)return n;return NaN}function zH(){this.sphere||(this.k0=lo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function ZH(t){var e=t.x,a=t.y,n,c,f=qt(e-this.long0);if(this.sphere)n=this.x0+this.a*f*Math.cos(this.lat_ts),c=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var h=Ll(this.e,Math.sin(a));n=this.x0+this.a*this.k0*f,c=this.y0+this.a*h*.5/this.k0}return t.x=n,t.y=c,t}function HH(t){t.x-=this.x0,t.y-=this.y0;var e,a;return this.sphere?(e=qt(this.long0+t.x/this.a/Math.cos(this.lat_ts)),a=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(a=DH(this.e,2*t.y*this.k0/this.a),e=qt(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=a,t}var OH=["cea"];const XH={init:zH,forward:ZH,inverse:HH,names:OH};function VH(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function GH(t){var e=t.x,a=t.y,n=qt(e-this.long0),c=Vl(a-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*c,t}function jH(t){var e=t.x,a=t.y;return t.x=qt(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Vl(this.lat0+(a-this.y0)/this.a),t}var KH=["Equirectangular","Equidistant_Cylindrical","eqc"];const $H={init:VH,forward:GH,inverse:jH,names:KH};var i6=20;function qH(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=w0(this.es),this.e1=B0(this.es),this.e2=C0(this.es),this.e3=M0(this.es),this.ml0=this.a*un(this.e0,this.e1,this.e2,this.e3,this.lat0)}function WH(t){var e=t.x,a=t.y,n,c,f,h=qt(e-this.long0);if(f=h*Math.sin(a),this.sphere)Math.abs(a)<=jt?(n=this.a*h,c=-1*this.a*this.lat0):(n=this.a*Math.sin(f)/Math.tan(a),c=this.a*(Vl(a-this.lat0)+(1-Math.cos(f))/Math.tan(a)));else if(Math.abs(a)<=jt)n=this.a*h,c=-1*this.ml0;else{var s=Sh(this.a,this.e,Math.sin(a))/Math.tan(a);n=s*Math.sin(f),c=this.a*un(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+s*(1-Math.cos(f))}return t.x=n+this.x0,t.y=c+this.y0,t}function JH(t){var e,a,n,c,f,h,s,x,w;if(n=t.x-this.x0,c=t.y-this.y0,this.sphere)if(Math.abs(c+this.a*this.lat0)<=jt)e=qt(n/this.a+this.long0),a=0;else{h=this.lat0+c/this.a,s=n*n/this.a/this.a+h*h,x=h;var I;for(f=i6;f;--f)if(I=Math.tan(x),w=-1*(h*(x*I+1)-x-.5*(x*x+s)*I)/((x-h)/I-1),x+=w,Math.abs(w)<=jt){a=x;break}e=qt(this.long0+Math.asin(n*Math.tan(x)/this.a)/Math.sin(a))}else if(Math.abs(c+this.ml0)<=jt)a=0,e=qt(this.long0+n/this.a);else{h=(this.ml0+c)/this.a,s=n*n/this.a/this.a+h*h,x=h;var R,E,M,Y,D;for(f=i6;f;--f)if(D=this.e*Math.sin(x),R=Math.sqrt(1-D*D)*Math.tan(x),E=this.a*un(this.e0,this.e1,this.e2,this.e3,x),M=this.e0-2*this.e1*Math.cos(2*x)+4*this.e2*Math.cos(4*x)-6*this.e3*Math.cos(6*x),Y=E/this.a,w=(h*(R*Y+1)-Y-.5*R*(Y*Y+s))/(this.es*Math.sin(2*x)*(Y*Y+s-2*h*Y)/(4*R)+(h-Y)*(R*M-2/Math.sin(2*x))-M),x-=w,Math.abs(w)<=jt){a=x;break}R=Math.sqrt(1-this.es*Math.pow(Math.sin(a),2))*Math.tan(a),e=qt(this.long0+Math.asin(n*R/this.a)/Math.sin(a))}return t.x=e,t.y=a,t}var eO=["Polyconic","poly"];const tO={init:qH,forward:WH,inverse:JH,names:eO};function iO(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function aO(t){var e,a=t.x,n=t.y,c=n-this.lat0,f=a-this.long0,h=c/Wd*1e-5,s=f,x=1,w=0;for(e=1;e<=10;e++)x=x*h,w=w+this.A[e]*x;var I=w,R=s,E=1,M=0,Y,D,O=0,H=0;for(e=1;e<=6;e++)Y=E*I-M*R,D=M*I+E*R,E=Y,M=D,O=O+this.B_re[e]*E-this.B_im[e]*M,H=H+this.B_im[e]*E+this.B_re[e]*M;return t.x=H*this.a+this.x0,t.y=O*this.a+this.y0,t}function rO(t){var e,a=t.x,n=t.y,c=a-this.x0,f=n-this.y0,h=f/this.a,s=c/this.a,x=1,w=0,I,R,E=0,M=0;for(e=1;e<=6;e++)I=x*h-w*s,R=w*h+x*s,x=I,w=R,E=E+this.C_re[e]*x-this.C_im[e]*w,M=M+this.C_im[e]*x+this.C_re[e]*w;for(var Y=0;Y<this.iterations;Y++){var D=E,O=M,H,$,Ae=h,ce=s;for(e=2;e<=6;e++)H=D*E-O*M,$=O*E+D*M,D=H,O=$,Ae=Ae+(e-1)*(this.B_re[e]*D-this.B_im[e]*O),ce=ce+(e-1)*(this.B_im[e]*D+this.B_re[e]*O);D=1,O=0;var he=this.B_re[1],se=this.B_im[1];for(e=2;e<=6;e++)H=D*E-O*M,$=O*E+D*M,D=H,O=$,he=he+e*(this.B_re[e]*D-this.B_im[e]*O),se=se+e*(this.B_im[e]*D+this.B_re[e]*O);var ae=he*he+se*se;E=(Ae*he+ce*se)/ae,M=(ce*he-Ae*se)/ae}var V=E,J=M,ge=1,le=0;for(e=1;e<=9;e++)ge=ge*V,le=le+this.D[e]*ge;var _e=this.lat0+le*Wd*1e5,ve=this.long0+J;return t.x=ve,t.y=_e,t}var nO=["New_Zealand_Map_Grid","nzmg"];const sO={init:iO,forward:aO,inverse:rO,names:nO};function oO(){}function lO(t){var e=t.x,a=t.y,n=qt(e-this.long0),c=this.x0+this.a*n,f=this.y0+this.a*Math.log(Math.tan(Math.PI/4+a/2.5))*1.25;return t.x=c,t.y=f,t}function AO(t){t.x-=this.x0,t.y-=this.y0;var e=qt(this.long0+t.x/this.a),a=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=a,t}var cO=["Miller_Cylindrical","mill"];const hO={init:oO,forward:lO,inverse:AO,names:cO};var uO=20;function dO(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=B4(this.es)}function fO(t){var e,a,n=t.x,c=t.y;if(n=qt(n-this.long0),this.sphere){if(!this.m)c=this.n!==1?Math.asin(this.n*Math.sin(c)):c;else for(var f=this.n*Math.sin(c),h=uO;h;--h){var s=(this.m*c+Math.sin(c)-f)/(this.m+Math.cos(c));if(c-=s,Math.abs(s)<jt)break}e=this.a*this.C_x*n*(this.m+Math.cos(c)),a=this.a*this.C_y*c}else{var x=Math.sin(c),w=Math.cos(c);a=this.a*Dh(c,x,w,this.en),e=this.a*n*w/Math.sqrt(1-this.es*x*x)}return t.x=e,t.y=a,t}function gO(t){var e,a,n,c;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n=n/(this.C_x*(this.m+Math.cos(e))),this.m?e=Zl((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=Zl(Math.sin(e)/this.n)),n=qt(n+this.long0),e=Vl(e)):(e=C4(t.y/this.a,this.es,this.en),c=Math.abs(e),c<St?(c=Math.sin(e),a=this.long0+t.x*Math.sqrt(1-this.es*c*c)/(this.a*Math.cos(e)),n=qt(a)):c-jt<St&&(n=this.long0)),t.x=n,t.y=e,t}var pO=["Sinusoidal","sinu"];const mO={init:dO,forward:fO,inverse:gO,names:pO};function _O(){}function bO(t){for(var e=t.x,a=t.y,n=qt(e-this.long0),c=a,f=Math.PI*Math.sin(a);;){var h=-(c+Math.sin(c)-f)/(1+Math.cos(c));if(c+=h,Math.abs(h)<jt)break}c/=2,Math.PI/2-Math.abs(a)<jt&&(n=0);var s=.900316316158*this.a*n*Math.cos(c)+this.x0,x=1.4142135623731*this.a*Math.sin(c)+this.y0;return t.x=s,t.y=x,t}function yO(t){var e,a;t.x-=this.x0,t.y-=this.y0,a=t.y/(1.4142135623731*this.a),Math.abs(a)>.999999999999&&(a=.999999999999),e=Math.asin(a);var n=qt(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),a=(2*e+Math.sin(2*e))/Math.PI,Math.abs(a)>1&&(a=1);var c=Math.asin(a);return t.x=n,t.y=c,t}var vO=["Mollweide","moll"];const xO={init:_O,forward:bO,inverse:yO,names:vO};function wO(){Math.abs(this.lat1+this.lat2)<jt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=w0(this.es),this.e1=B0(this.es),this.e2=C0(this.es),this.e3=M0(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=lo(this.e,this.sinphi,this.cosphi),this.ml1=un(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<jt?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=lo(this.e,this.sinphi,this.cosphi),this.ml2=un(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=un(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function BO(t){var e=t.x,a=t.y,n;if(this.sphere)n=this.a*(this.g-a);else{var c=un(this.e0,this.e1,this.e2,this.e3,a);n=this.a*(this.g-c)}var f=this.ns*qt(e-this.long0),h=this.x0+n*Math.sin(f),s=this.y0+this.rh-n*Math.cos(f);return t.x=h,t.y=s,t}function CO(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,a,n,c;this.ns>=0?(a=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(a=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var f=0;if(a!==0&&(f=Math.atan2(e*t.x,e*t.y)),this.sphere)return c=qt(this.long0+f/this.ns),n=Vl(this.g-a/this.a),t.x=c,t.y=n,t;var h=this.g-a/this.a;return n=Fg(h,this.e0,this.e1,this.e2,this.e3),c=qt(this.long0+f/this.ns),t.x=c,t.y=n,t}var MO=["Equidistant_Conic","eqdc"];const RO={init:wO,forward:BO,inverse:CO,names:MO};function IO(){this.R=this.a}function UO(t){var e=t.x,a=t.y,n=qt(e-this.long0),c,f;Math.abs(a)<=jt&&(c=this.x0+this.R*n,f=this.y0);var h=Zl(2*Math.abs(a/Math.PI));(Math.abs(n)<=jt||Math.abs(Math.abs(a)-St)<=jt)&&(c=this.x0,a>=0?f=this.y0+Math.PI*this.R*Math.tan(.5*h):f=this.y0+Math.PI*this.R*-Math.tan(.5*h));var s=.5*Math.abs(Math.PI/n-n/Math.PI),x=s*s,w=Math.sin(h),I=Math.cos(h),R=I/(w+I-1),E=R*R,M=R*(2/w-1),Y=M*M,D=Math.PI*this.R*(s*(R-Y)+Math.sqrt(x*(R-Y)*(R-Y)-(Y+x)*(E-Y)))/(Y+x);n<0&&(D=-D),c=this.x0+D;var O=x+R;return D=Math.PI*this.R*(M*O-s*Math.sqrt((Y+x)*(x+1)-O*O))/(Y+x),a>=0?f=this.y0+D:f=this.y0-D,t.x=c,t.y=f,t}function EO(t){var e,a,n,c,f,h,s,x,w,I,R,E,M;return t.x-=this.x0,t.y-=this.y0,R=Math.PI*this.R,n=t.x/R,c=t.y/R,f=n*n+c*c,h=-Math.abs(c)*(1+f),s=h-2*c*c+n*n,x=-2*h+1+2*c*c+f*f,M=c*c/x+(2*s*s*s/x/x/x-9*h*s/x/x)/27,w=(h-s*s/3/x)/x,I=2*Math.sqrt(-w/3),R=3*M/w/I,Math.abs(R)>1&&(R>=0?R=1:R=-1),E=Math.acos(R)/3,t.y>=0?a=(-I*Math.cos(E+Math.PI/3)-s/3/x)*Math.PI:a=-(-I*Math.cos(E+Math.PI/3)-s/3/x)*Math.PI,Math.abs(n)<jt?e=this.long0:e=qt(this.long0+Math.PI*(f-1+Math.sqrt(1+2*(n*n-c*c)+f*f))/2/n),t.x=e,t.y=a,t}var FO=["Van_der_Grinten_I","VanDerGrinten","vandg"];const TO={init:IO,forward:UO,inverse:EO,names:FO};function SO(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function YO(t){var e=t.x,a=t.y,n=Math.sin(t.y),c=Math.cos(t.y),f=qt(e-this.long0),h,s,x,w,I,R,E,M,Y,D,O,H,$,Ae,ce,he,se,ae,V,J,ge,le,_e;return this.sphere?Math.abs(this.sin_p12-1)<=jt?(t.x=this.x0+this.a*(St-a)*Math.sin(f),t.y=this.y0-this.a*(St-a)*Math.cos(f),t):Math.abs(this.sin_p12+1)<=jt?(t.x=this.x0+this.a*(St+a)*Math.sin(f),t.y=this.y0+this.a*(St+a)*Math.cos(f),t):(ae=this.sin_p12*n+this.cos_p12*c*Math.cos(f),he=Math.acos(ae),se=he?he/Math.sin(he):1,t.x=this.x0+this.a*se*c*Math.sin(f),t.y=this.y0+this.a*se*(this.cos_p12*n-this.sin_p12*c*Math.cos(f)),t):(h=w0(this.es),s=B0(this.es),x=C0(this.es),w=M0(this.es),Math.abs(this.sin_p12-1)<=jt?(I=this.a*un(h,s,x,w,St),R=this.a*un(h,s,x,w,a),t.x=this.x0+(I-R)*Math.sin(f),t.y=this.y0-(I-R)*Math.cos(f),t):Math.abs(this.sin_p12+1)<=jt?(I=this.a*un(h,s,x,w,St),R=this.a*un(h,s,x,w,a),t.x=this.x0+(I+R)*Math.sin(f),t.y=this.y0+(I+R)*Math.cos(f),t):(E=n/c,M=Sh(this.a,this.e,this.sin_p12),Y=Sh(this.a,this.e,n),D=Math.atan((1-this.es)*E+this.es*M*this.sin_p12/(Y*c)),O=Math.atan2(Math.sin(f),this.cos_p12*Math.tan(D)-this.sin_p12*Math.cos(f)),O===0?V=Math.asin(this.cos_p12*Math.sin(D)-this.sin_p12*Math.cos(D)):Math.abs(Math.abs(O)-Math.PI)<=jt?V=-Math.asin(this.cos_p12*Math.sin(D)-this.sin_p12*Math.cos(D)):V=Math.asin(Math.sin(f)*Math.cos(D)/Math.sin(O)),H=this.e*this.sin_p12/Math.sqrt(1-this.es),$=this.e*this.cos_p12*Math.cos(O)/Math.sqrt(1-this.es),Ae=H*$,ce=$*$,J=V*V,ge=J*V,le=ge*V,_e=le*V,he=M*V*(1-J*ce*(1-ce)/6+ge/8*Ae*(1-2*ce)+le/120*(ce*(4-7*ce)-3*H*H*(1-7*ce))-_e/48*Ae),t.x=this.x0+he*Math.sin(O),t.y=this.y0+he*Math.cos(O),t))}function NO(t){t.x-=this.x0,t.y-=this.y0;var e,a,n,c,f,h,s,x,w,I,R,E,M,Y,D,O,H,$,Ae,ce,he,se,ae,V;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*St*this.a?void 0:(a=e/this.a,n=Math.sin(a),c=Math.cos(a),f=this.long0,Math.abs(e)<=jt?h=this.lat0:(h=Zl(c*this.sin_p12+t.y*n*this.cos_p12/e),s=Math.abs(this.lat0)-St,Math.abs(s)<=jt?this.lat0>=0?f=qt(this.long0+Math.atan2(t.x,-t.y)):f=qt(this.long0-Math.atan2(-t.x,t.y)):f=qt(this.long0+Math.atan2(t.x*n,e*this.cos_p12*c-t.y*this.sin_p12*n))),t.x=f,t.y=h,t)):(x=w0(this.es),w=B0(this.es),I=C0(this.es),R=M0(this.es),Math.abs(this.sin_p12-1)<=jt?(E=this.a*un(x,w,I,R,St),e=Math.sqrt(t.x*t.x+t.y*t.y),M=E-e,h=Fg(M/this.a,x,w,I,R),f=qt(this.long0+Math.atan2(t.x,-1*t.y)),t.x=f,t.y=h,t):Math.abs(this.sin_p12+1)<=jt?(E=this.a*un(x,w,I,R,St),e=Math.sqrt(t.x*t.x+t.y*t.y),M=e-E,h=Fg(M/this.a,x,w,I,R),f=qt(this.long0+Math.atan2(t.x,t.y)),t.x=f,t.y=h,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),O=Math.atan2(t.x,t.y),Y=Sh(this.a,this.e,this.sin_p12),H=Math.cos(O),$=this.e*this.cos_p12*H,Ae=-$*$/(1-this.es),ce=3*this.es*(1-Ae)*this.sin_p12*this.cos_p12*H/(1-this.es),he=e/Y,se=he-Ae*(1+Ae)*Math.pow(he,3)/6-ce*(1+3*Ae)*Math.pow(he,4)/24,ae=1-Ae*se*se/2-he*se*se*se/6,D=Math.asin(this.sin_p12*Math.cos(se)+this.cos_p12*Math.sin(se)*H),f=qt(this.long0+Math.asin(Math.sin(O)*Math.sin(se)/Math.cos(D))),V=Math.sin(D),h=Math.atan2((V-this.es*ae*this.sin_p12)*Math.tan(D),V*(1-this.es)),t.x=f,t.y=h,t))}var LO=["Azimuthal_Equidistant","aeqd"];const PO={init:SO,forward:YO,inverse:NO,names:LO};function QO(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function kO(t){var e,a,n,c,f,h,s,x,w=t.x,I=t.y;return n=qt(w-this.long0),e=Math.sin(I),a=Math.cos(I),c=Math.cos(n),h=this.sin_p14*e+this.cos_p14*a*c,f=1,(h>0||Math.abs(h)<=jt)&&(s=this.a*f*a*Math.sin(n),x=this.y0+this.a*f*(this.cos_p14*e-this.sin_p14*a*c)),t.x=s,t.y=x,t}function DO(t){var e,a,n,c,f,h,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),a=Zl(e/this.a),n=Math.sin(a),c=Math.cos(a),h=this.long0,Math.abs(e)<=jt?(s=this.lat0,t.x=h,t.y=s,t):(s=Zl(c*this.sin_p14+t.y*n*this.cos_p14/e),f=Math.abs(this.lat0)-St,Math.abs(f)<=jt?(this.lat0>=0?h=qt(this.long0+Math.atan2(t.x,-t.y)):h=qt(this.long0-Math.atan2(-t.x,t.y)),t.x=h,t.y=s,t):(h=qt(this.long0+Math.atan2(t.x*n,e*this.cos_p14*c-t.y*this.sin_p14*n)),t.x=h,t.y=s,t))}var zO=["ortho"];const ZO={init:QO,forward:kO,inverse:DO,names:zO};var Za={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},ca={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function HO(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=St-Aa/2?this.face=Za.TOP:this.lat0<=-(St-Aa/2)?this.face=Za.BOTTOM:Math.abs(this.long0)<=Aa?this.face=Za.FRONT:Math.abs(this.long0)<=St+Aa?this.face=this.long0>0?Za.RIGHT:Za.LEFT:this.face=Za.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function OO(t){var e={x:0,y:0},a,n,c,f,h,s,x={value:0};if(t.x-=this.long0,this.es!==0?a=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):a=t.y,n=t.x,this.face===Za.TOP)f=St-a,n>=Aa&&n<=St+Aa?(x.value=ca.AREA_0,c=n-St):n>St+Aa||n<=-(St+Aa)?(x.value=ca.AREA_1,c=n>0?n-Hr:n+Hr):n>-(St+Aa)&&n<=-Aa?(x.value=ca.AREA_2,c=n+St):(x.value=ca.AREA_3,c=n);else if(this.face===Za.BOTTOM)f=St+a,n>=Aa&&n<=St+Aa?(x.value=ca.AREA_0,c=-n+St):n<Aa&&n>=-Aa?(x.value=ca.AREA_1,c=-n):n<-Aa&&n>=-(St+Aa)?(x.value=ca.AREA_2,c=-n-St):(x.value=ca.AREA_3,c=n>0?-n+Hr:-n-Hr);else{var w,I,R,E,M,Y,D;this.face===Za.RIGHT?n=xh(n,+St):this.face===Za.BACK?n=xh(n,3.14159265359):this.face===Za.LEFT&&(n=xh(n,-St)),E=Math.sin(a),M=Math.cos(a),Y=Math.sin(n),D=Math.cos(n),w=M*D,I=M*Y,R=E,this.face===Za.FRONT?(f=Math.acos(w),c=R1(f,R,I,x)):this.face===Za.RIGHT?(f=Math.acos(I),c=R1(f,R,-w,x)):this.face===Za.BACK?(f=Math.acos(-w),c=R1(f,R,-I,x)):this.face===Za.LEFT?(f=Math.acos(-I),c=R1(f,R,w,x)):(f=c=0,x.value=ca.AREA_0)}return s=Math.atan(12/Hr*(c+Math.acos(Math.sin(c)*Math.cos(Aa))-St)),h=Math.sqrt((1-Math.cos(f))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(c))))),x.value===ca.AREA_1?s+=St:x.value===ca.AREA_2?s+=Hr:x.value===ca.AREA_3&&(s+=1.5*Hr),e.x=h*Math.cos(s),e.y=h*Math.sin(s),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function XO(t){var e={lam:0,phi:0},a,n,c,f,h,s,x,w,I,R={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),a=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?R.value=ca.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(R.value=ca.AREA_1,a-=St):t.x<0&&-t.x>=Math.abs(t.y)?(R.value=ca.AREA_2,a=a<0?a+Hr:a-Hr):(R.value=ca.AREA_3,a+=St),I=Hr/12*Math.tan(a),h=Math.sin(I)/(Math.cos(I)-1/Math.sqrt(2)),s=Math.atan(h),c=Math.cos(a),f=Math.tan(n),x=1-c*c*f*f*(1-Math.cos(Math.atan(1/Math.cos(s)))),x<-1?x=-1:x>1&&(x=1),this.face===Za.TOP)w=Math.acos(x),e.phi=St-w,R.value===ca.AREA_0?e.lam=s+St:R.value===ca.AREA_1?e.lam=s<0?s+Hr:s-Hr:R.value===ca.AREA_2?e.lam=s-St:e.lam=s;else if(this.face===Za.BOTTOM)w=Math.acos(x),e.phi=w-St,R.value===ca.AREA_0?e.lam=-s+St:R.value===ca.AREA_1?e.lam=-s:R.value===ca.AREA_2?e.lam=-s-St:e.lam=s<0?-s-Hr:-s+Hr;else{var E,M,Y;E=x,I=E*E,I>=1?Y=0:Y=Math.sqrt(1-I)*Math.sin(s),I+=Y*Y,I>=1?M=0:M=Math.sqrt(1-I),R.value===ca.AREA_1?(I=M,M=-Y,Y=I):R.value===ca.AREA_2?(M=-M,Y=-Y):R.value===ca.AREA_3&&(I=M,M=Y,Y=-I),this.face===Za.RIGHT?(I=E,E=-M,M=I):this.face===Za.BACK?(E=-E,M=-M):this.face===Za.LEFT&&(I=E,E=M,M=-I),e.phi=Math.acos(-Y)-St,e.lam=Math.atan2(M,E),this.face===Za.RIGHT?e.lam=xh(e.lam,-St):this.face===Za.BACK?e.lam=xh(e.lam,-3.14159265359):this.face===Za.LEFT&&(e.lam=xh(e.lam,+St))}if(this.es!==0){var D,O,H;D=e.phi<0?1:0,O=Math.tan(e.phi),H=this.b/Math.sqrt(O*O+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-H*H)/(this.one_minus_f*H)),D&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function R1(t,e,a,n){var c;return t<jt?(n.value=ca.AREA_0,c=0):(c=Math.atan2(e,a),Math.abs(c)<=Aa?n.value=ca.AREA_0:c>Aa&&c<=St+Aa?(n.value=ca.AREA_1,c-=St):c>St+Aa||c<=-(St+Aa)?(n.value=ca.AREA_2,c=c>=0?c-Hr:c+Hr):(n.value=ca.AREA_3,c+=St)),c}function xh(t,e){var a=t+e;return a<-3.14159265359?a+=d0:a>3.14159265359&&(a-=d0),a}var VO=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const GO={init:HO,forward:OO,inverse:XO,names:VO};var Im=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Qd=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Ox=.8487,Xx=1.3523,Vx=ro/5,jO=1/Vx,gh=18,Tg=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},KO=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function $O(t,e,a,n){for(var c=e;n;--n){var f=t(c);if(c-=f,Math.abs(f)<a)break}return c}function qO(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function WO(t){var e=qt(t.x-this.long0),a=Math.abs(t.y),n=Math.floor(a*Vx);n<0?n=0:n>=gh&&(n=gh-1),a=ro*(a-jO*n);var c={x:Tg(Im[n],a)*e,y:Tg(Qd[n],a)};return t.y<0&&(c.y=-c.y),c.x=c.x*this.a*Ox+this.x0,c.y=c.y*this.a*Xx+this.y0,c}function JO(t){var e={x:(t.x-this.x0)/(this.a*Ox),y:Math.abs(t.y-this.y0)/(this.a*Xx)};if(e.y>=1)e.x/=Im[gh][0],e.y=t.y<0?-St:St;else{var a=Math.floor(e.y*gh);for(a<0?a=0:a>=gh&&(a=gh-1);;)if(Qd[a][0]>e.y)--a;else if(Qd[a+1][0]<=e.y)++a;else break;var n=Qd[a],c=5*(e.y-n[0])/(Qd[a+1][0]-n[0]);c=$O(function(f){return(Tg(n,f)-e.y)/KO(n,f)},c,jt,100),e.x/=Tg(Im[a],c),e.y=(5*a+c)*Zr,t.y<0&&(e.y=-e.y)}return e.x=qt(e.x+this.long0),e}var eX=["Robinson","robin"];const tX={init:qO,forward:WO,inverse:JO,names:eX};function iX(){this.name="geocent"}function aX(t){var e=Sx(t,this.es,this.a);return e}function rX(t){var e=Yx(t,this.es,this.a,this.b);return e}var nX=["Geocentric","geocentric","geocent","Geocent"];const sX={init:iX,forward:aX,inverse:rX,names:nX};var $r={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},wd={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function oX(){if(Object.keys(wd).forEach((function(a){if(typeof this[a]>"u")this[a]=wd[a].def;else{if(wd[a].num&&isNaN(this[a]))throw new Error("Invalid parameter value, must be numeric "+a+" = "+this[a]);wd[a].num&&(this[a]=parseFloat(this[a]))}wd[a].degrees&&(this[a]=this[a]*Zr)}).bind(this)),Math.abs(Math.abs(this.lat0)-St)<jt?this.mode=this.lat0<0?$r.S_POLE:$r.N_POLE:Math.abs(this.lat0)<jt?this.mode=$r.EQUIT:(this.mode=$r.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function lX(t){t.x-=this.long0;var e=Math.sin(t.y),a=Math.cos(t.y),n=Math.cos(t.x),c,f;switch(this.mode){case $r.OBLIQ:f=this.sinph0*e+this.cosph0*a*n;break;case $r.EQUIT:f=a*n;break;case $r.S_POLE:f=-e;break;case $r.N_POLE:f=e;break}switch(f=this.pn1/(this.p-f),c=f*a*Math.sin(t.x),this.mode){case $r.OBLIQ:f*=this.cosph0*e-this.sinph0*a*n;break;case $r.EQUIT:f*=e;break;case $r.N_POLE:f*=-(a*n);break;case $r.S_POLE:f*=a*n;break}var h,s;return h=f*this.cg+c*this.sg,s=1/(h*this.sw*this.h1+this.cw),c=(c*this.cg-f*this.sg)*this.cw*s,f=h*s,t.x=c*this.a,t.y=f*this.a,t}function AX(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},a,n,c;c=1/(this.pn1-t.y*this.sw),a=this.pn1*t.x*c,n=this.pn1*t.y*this.cw*c,t.x=a*this.cg+n*this.sg,t.y=n*this.cg-a*this.sg;var f=xn(t.x,t.y);if(Math.abs(f)<jt)e.x=0,e.y=t.y;else{var h,s;switch(s=1-f*f*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/f+f/this.pn1),h=Math.sqrt(1-s*s),this.mode){case $r.OBLIQ:e.y=Math.asin(h*this.sinph0+t.y*s*this.cosph0/f),t.y=(h-this.sinph0*Math.sin(e.y))*f,t.x*=s*this.cosph0;break;case $r.EQUIT:e.y=Math.asin(t.y*s/f),t.y=h*f,t.x*=s;break;case $r.N_POLE:e.y=Math.asin(h),t.y=-t.y;break;case $r.S_POLE:e.y=-Math.asin(h);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var cX=["Tilted_Perspective","tpers"];const hX={init:oX,forward:lX,inverse:AX,names:cX};function uX(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function dX(t){var e=t.x,a=t.y,n,c,f,h;if(e=e-this.long0,this.shape==="ellipse"){a=Math.atan(this.radius_p2*Math.tan(a));var s=this.radius_p/xn(this.radius_p*Math.cos(a),Math.sin(a));if(c=s*Math.cos(e)*Math.cos(a),f=s*Math.sin(e)*Math.cos(a),h=s*Math.sin(a),(this.radius_g-c)*c-f*f-h*h*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;n=this.radius_g-c,this.flip_axis?(t.x=this.radius_g_1*Math.atan(f/xn(h,n)),t.y=this.radius_g_1*Math.atan(h/n)):(t.x=this.radius_g_1*Math.atan(f/n),t.y=this.radius_g_1*Math.atan(h/xn(f,n)))}else this.shape==="sphere"&&(n=Math.cos(a),c=Math.cos(e)*n,f=Math.sin(e)*n,h=Math.sin(a),n=this.radius_g-c,this.flip_axis?(t.x=this.radius_g_1*Math.atan(f/xn(h,n)),t.y=this.radius_g_1*Math.atan(h/n)):(t.x=this.radius_g_1*Math.atan(f/n),t.y=this.radius_g_1*Math.atan(h/xn(f,n))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function fX(t){var e=-1,a=0,n=0,c,f,h,s;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),a=Math.tan(t.x/this.radius_g_1)*xn(1,n)):(a=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*xn(1,a));var x=n/this.radius_p;if(c=a*a+x*x+e*e,f=2*this.radius_g*e,h=f*f-4*c*this.C,h<0)return t.x=Number.NaN,t.y=Number.NaN,t;s=(-f-Math.sqrt(h))/(2*c),e=this.radius_g+s*e,a*=s,n*=s,t.x=Math.atan2(a,e),t.y=Math.atan(n*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),a=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+n*n)):(a=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+a*a)),c=a*a+n*n+e*e,f=2*this.radius_g*e,h=f*f-4*c*this.C,h<0)return t.x=Number.NaN,t.y=Number.NaN,t;s=(-f-Math.sqrt(h))/(2*c),e=this.radius_g+s*e,a*=s,n*=s,t.x=Math.atan2(a,e),t.y=Math.atan(n*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var gX=["Geostationary Satellite View","Geostationary_Satellite","geos"];const pX={init:uX,forward:dX,inverse:fX,names:gX};var Jd=1.340264,e0=-.081106,t0=893e-6,i0=.003796,Sg=Math.sqrt(3)/2;function mX(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function _X(t){var e=qt(t.x-this.long0),a=t.y,n=Math.asin(Sg*Math.sin(a)),c=n*n,f=c*c*c;return t.x=e*Math.cos(n)/(Sg*(Jd+3*e0*c+f*(7*t0+9*i0*c))),t.y=n*(Jd+e0*c+f*(t0+i0*c)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function bX(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,a=12,n=t.y,c,f,h,s,x,w;for(w=0;w<a&&(c=n*n,f=c*c*c,h=n*(Jd+e0*c+f*(t0+i0*c))-t.y,s=Jd+3*e0*c+f*(7*t0+9*i0*c),n-=x=h/s,!(Math.abs(x)<e));++w);return c=n*n,f=c*c*c,t.x=Sg*t.x*(Jd+3*e0*c+f*(7*t0+9*i0*c))/Math.cos(n),t.y=Math.asin(Math.sin(n)/Sg),t.x=qt(t.x+this.long0),t}var yX=["eqearth","Equal Earth","Equal_Earth"];const vX={init:mX,forward:_X,inverse:bX,names:yX};var p0=1e-10;function xX(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<p0)throw new Error;this.es?(this.en=B4(this.es),this.m1=Dh(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=BX,this.forward=wX):(Math.abs(this.phi1)+p0>=St?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=MX,this.forward=CX)}function wX(t){var e=qt(t.x-(this.long0||0)),a=t.y,n,c,f;return n=this.am1+this.m1-Dh(a,c=Math.sin(a),f=Math.cos(a),this.en),c=f*e/(n*Math.sqrt(1-this.es*c*c)),t.x=n*Math.sin(c),t.y=this.am1-n*Math.cos(c),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function BX(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,a,n,c;if(a=xn(t.x,t.y=this.am1-t.y),c=C4(this.am1+this.m1-a,this.es,this.en),(e=Math.abs(c))<St)e=Math.sin(c),n=a*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(c);else if(Math.abs(e-St)<=p0)n=0;else throw new Error;return t.x=qt(n+(this.long0||0)),t.y=Vl(c),t}function CX(t){var e=qt(t.x-(this.long0||0)),a=t.y,n,c;return c=this.cphi1+this.phi1-a,Math.abs(c)>p0?(t.x=c*Math.sin(n=e*Math.cos(a)/c),t.y=this.cphi1-c*Math.cos(n)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function MX(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,a,n=xn(t.x,t.y=this.cphi1-t.y);if(a=this.cphi1+this.phi1-n,Math.abs(a)>St)throw new Error;return Math.abs(Math.abs(a)-St)<=p0?e=0:e=n*Math.atan2(t.x,t.y)/Math.cos(a),t.x=qt(e+(this.long0||0)),t.y=Vl(a),t}var RX=["bonne","Bonne (Werner lat_1=90)"];const IX={init:xX,names:RX};function UX(t){t.Proj.projections.add(j1),t.Proj.projections.add(K1),t.Proj.projections.add(BZ),t.Proj.projections.add(SZ),t.Proj.projections.add(kZ),t.Proj.projections.add(OZ),t.Proj.projections.add($Z),t.Proj.projections.add(tH),t.Proj.projections.add(sH),t.Proj.projections.add(hH),t.Proj.projections.add(IH),t.Proj.projections.add(YH),t.Proj.projections.add(kH),t.Proj.projections.add(XH),t.Proj.projections.add($H),t.Proj.projections.add(tO),t.Proj.projections.add(sO),t.Proj.projections.add(hO),t.Proj.projections.add(mO),t.Proj.projections.add(xO),t.Proj.projections.add(RO),t.Proj.projections.add(TO),t.Proj.projections.add(PO),t.Proj.projections.add(ZO),t.Proj.projections.add(GO),t.Proj.projections.add(tX),t.Proj.projections.add(sX),t.Proj.projections.add(hX),t.Proj.projections.add(pX),t.Proj.projections.add(vX),t.Proj.projections.add(IX)}On.defaultDatum="WGS84";On.Proj=oo;On.WGS84=new On.Proj("WGS84");On.Point=Th;On.toPoint=Nx;On.defs=cn;On.nadgrid=Mz;On.transform=Eg;On.mgrs=Zz;On.version="__VERSION__";UX(On);const EX=async(t,{x:e,y:a,z:n})=>{const c=await fetch("http://127.0.0.1:8000/update_angle",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,angleX:e,angleY:a,angleZ:n})});if(!c.ok){console.error("Failed to update angles:",c.status);return}const f=await c.json();console.log("Updated data:",f)},E3=t=>t*(Math.PI/180);On.defs("EPSG:6677","+proj=tmerc +lat_0=36 +lon_0=139.833333333333 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs");var FX=ft('<div class="css-loading svelte-ms8nyw"><div class="css-spinner svelte-ms8nyw"></div></div>'),TX=(t,e)=>Oo(Pl,!1),SX=ft('<div class="bg-main absolute left-4 top-[10px] z-10 flex items-center justify-center gap-2 rounded-lg p-2 text-white svelte-ms8nyw"><button class="cursor-pointer rounded-md p-2 svelte-ms8nyw"><!></button> <span class="svelte-ms8nyw"> <span class="svelte-ms8nyw"></span></span></div>'),YX=(t,e,a)=>{e(q(a).featureData)},NX=ft('<button class="css-arrow svelte-ms8nyw"><!></button>'),LX=ft('<!> <div><div class="css-control-warp svelte-ms8nyw"><div class="css-control svelte-ms8nyw"><!></div></div></div>',1),PX=ft('<div><canvas class="h-full w-full svelte-ms8nyw"></canvas> <!></div>');function QX(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(rg,"$DEBUG_MODE",a),f=()=>zi(Pl,"$isStreetView",a),h="https://raw.githubusercontent.com/forestacdev/fac-cubemap-image/main/images/",s=75;new kf(0,0,0),new kf(0,10,0);let x=si(e,"cameraBearing",15),w=$t(null),I,R,E,M,Y=$t(!1),D=$t(null),O=$t(null);const H={skybox:{value:null},rotationAngles:{value:new kf}},$=new bb(10,16,16),Ae=new I7({uniforms:H,vertexShader:QD,fragmentShader:PD,side:U7,wireframe:!1});let ce,he={x:0,y:0,z:0},se,ae,V;const J=new v4;se=J.add(he,"x",0,360).listen(),ae=J.add(he,"y",0,360).listen(),V=J.add(he,"z",0,360).listen();const ge={updateAngle:()=>{EX(e.streetViewPoint.properties.ID,he)}};J.add(ge,"updateAngle").name("Update Angle");let le=[];const _e=je=>{const rt=new Q7({color:16711680,visible:!!c()});ve(),je.forEach(Bt=>{const yt=vb.degToRad(Bt.bearing),Dt=5*Math.sin(yt),Ot=-5*Math.cos(yt),Ct=new bb(.3,16,16),Qt=new yb(Ct,rt);Qt.name=Bt.featureData.properties.ID,Qt.position.set(Dt,0,Ot),I.add(Qt),le.push(Qt)})},ve=()=>{le.length>0&&(le.forEach(je=>{I.remove(je),je.geometry.dispose()}),le=[])},He=new Worker(new URL(""+new URL("../workers/worker-HhaZkm9-.js",import.meta.url).href,import.meta.url),{type:"module"}),nt=async je=>{if(!je)return;st(O,je,!0),st(Y,!0);const Qe=`${h}${je.properties.Name}`,it=je.properties.ID,rt=LD.find(yt=>yt.id===it),Bt=Qe.replace(".JPG","/");Qe&&(He.postMessage({urls:[`${Bt}face_1.jpg`,`${Bt}face_2.jpg`,`${Bt}face_3.jpg`,`${Bt}face_4.jpg`,`${Bt}face_5.jpg`,`${Bt}face_6.jpg`]}),He.onmessage=yt=>{if(yt.data.error){console.error(yt.data.error),st(Y,!1);return}const{blobUrls:Dt}=yt.data;new L7().load(Dt,Ct=>{Ct.colorSpace=P7,rt&&(he.x=rt.angleX,he.y=rt.angleY,he.z=rt.angleZ,c()&&(se.setValue(he.x),ae.setValue(he.y),V.setValue(he.z)),st(Y,!1),H.skybox.value=Ct,_e(e.nextPointData))},void 0,Ct=>console.error("",Ct))})},$e=()=>{if(!M)return;const je=window.innerWidth,Qe=window.innerHeight;M.setPixelRatio(Math.min(window.devicePixelRatio,2)),M.setSize(je,Qe),R.aspect=je/Qe,R.updateProjectionMatrix()};Mr(async()=>{if(!q(w))return;const je={width:q(w).clientWidth,height:q(w).clientHeight};if(I=new E7,R=new F7(s,je.width/je.height,.1,1e3),R.position.set(0,0,0),R.rotation.order="YXZ",I.add(R),R.aspect=je.width/je.height,R.updateProjectionMatrix(),E=new T7(R,q(w)),E.target.set(R.position.x,R.position.y,R.position.z+.01),E.dampingFactor=.1,E.rotateSpeed*=-1,E.enableDamping=!0,E.enablePan=!1,E.enableZoom=!1,E.maxZoom=1,ce=new yb($,Ae),I.add(ce),c()){const it=new S7(1e3);I.add(it);const rt=new Y7(10,16,10,64);I.add(rt)}M=new N7({canvas:q(w),alpha:!0}),M.setSize(q(w).clientWidth,q(w).clientHeight),M.setPixelRatio(Math.min(window.devicePixelRatio,2)),q(w).addEventListener("resize",$e),q(w).addEventListener("wheel",it=>{R.fov+=it.deltaY*.05*1,R.fov=Math.max(20,Math.min(100,R.fov)),R.updateProjectionMatrix()});const Qe=()=>{requestAnimationFrame(Qe),E.update();let it=vb.radToDeg(R.rotation.y);if(it=(it+360)%360,!q(D))return;q(D).style.transform=`rotateZ(${it}deg)`,x((it+180)%360);let rt=new kf(E3(he.x),E3(he.y),E3(he.z));H.rotationAngles.value=rt,M.render(I,R)};Qe()}),Pl.subscribe(async je=>{$e()});const Je=je=>{e.setPoint(je)};Cr(()=>nt(e.streetViewPoint));var gt=PX(),Rt=Le(gt);wn(Rt,je=>st(w,je),()=>q(w));var Yt=Ze(Rt,2);{var ot=je=>{var Qe=FX();Ve(je,Qe)},mt=je=>{var Qe=LX(),it=kt(Qe);{var rt=Qt=>{var ui=SX(),Nt=Le(ui);Nt.__click=[TX,f];var Zt=Le(Nt);vi(Zt,{icon:"ep:back",class:"h-4 w-4"}),Ue(Nt);var oi=Ze(Nt,2),fi=Le(oi);Ga(),Ue(oi),Ue(ui),di(()=>yi(fi,`:${e.streetViewPoint.properties.Date??""}`)),Ve(Qt,ui)};It(it,Qt=>{e.showThreeCanvas&&Qt(rt)})}var Bt=Ze(it,2),yt=Le(Bt),Dt=Le(yt),Ot=Le(Dt);{var Ct=Qt=>{var ui=xi(),Nt=kt(ui);Ea(Nt,17,()=>e.nextPointData,pr,(Zt,oi)=>{var fi=NX();fi.__click=[YX,Je,oi];var Kt=Le(fi);const pt=ra(()=>e.showThreeCanvas?128:64),ci=ra(()=>e.showThreeCanvas?128:64);vi(Kt,{icon:"ep:arrow-up-bold",get width(){return q(pt)},get height(){return q(ci)},class:"",get style(){return`transform: rotate(${q(oi).bearing??""}deg);`}}),Ue(fi),di(()=>hn(fi,`--angle: ${q(oi).bearing??""}deg; --distance: ${(e.showThreeCanvas?"175":"64")??""}px;`)),Ve(Zt,fi)}),Ve(Qt,ui)};It(Ot,Qt=>{e.nextPointData&&Qt(Ct)})}Ue(Dt),wn(Dt,Qt=>st(D,Qt),()=>q(D)),Ue(yt),Ue(Bt),di(()=>Pr(Bt,1,`css-3d pointer-events-none absolute bottom-0 grid w-full place-items-center p-0 ${(e.showThreeCanvas?" h-[400px]":" h-full")??""}`,"svelte-ms8nyw")),Ve(je,Qe)};It(Yt,je=>{q(Y)?je(ot):je(mt,!1)})}Ue(gt),di(()=>Pr(gt,1,`absolute z-10 flex overflow-hidden duration-500 ${(e.showThreeCanvas?"bottom-0 right-0 h-full w-full opacity-100":"pointer-events-none bottom-0 right-0 h-full w-full opacity-0")??""}`,"svelte-ms8nyw")),Ve(t,gt),_i(),n()}$a(["click"]);var kX=ft('<label> <input type="radio" class="hidden"></label>'),DX=ft('<div class="bg-main w-side-menu absolute z-10 flex h-full flex-col gap-2"><div class="flex items-center justify-between p-2"><span class="p-2 text-base text-lg"></span> <button class="bg-base rounded-full p-2"><!></button></div> <div class="c-scroll-hidden flex grow flex-col divide-y-2 overflow-y-auto overflow-x-hidden px-2 pb-4"><!> <!></div> <div class="c-fog pointer-events-none absolute bottom-0 z-10 flex h-[100px] w-full items-end justify-center pb-4 svelte-acdvpo"></div></div>');function zX(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(_b,"$showTerrainMenu",a),f=()=>zi(Yl,"$isTerrain3d",a),h=[];Yl.subscribe(R=>{const E=da.getMap();E&&(R?(E.setTerrain({source:"terrain",exaggeration:1}),E.easeTo({pitch:60})):(E.setTerrain(null),E.easeTo({pitch:0})))});let s=$t(Jr(io[0]));Jr([...io]),Cr(()=>{dr.url=q(s).tiles[0],dr.demType=q(s).demType,dr.sourceMinZoom=q(s).minzoom,dr.sourceMaxZoom=q(s).maxzoom,dr.bbox=q(s).bbox,dr.attribution=q(s).attribution,da.resetDem()});var x=xi(),w=kt(x);{var I=R=>{var E=DX(),M=Le(E),Y=Ze(Le(M),2);Y.__click=()=>{_b.set(!1)};var D=Le(Y);vi(D,{icon:"material-symbols:close-rounded",class:"text-main w-4] h-4"}),Ue(Y),Ue(M);var O=Ze(M,2),H=Le(O);kl(H,{label:"3D",get value(){return d6(),f()},set value(Ae){Oo(Yl,Ae)}});var $=Ze(H,2);Ea($,17,()=>io,pr,(Ae,ce)=>{var he=kX(),se=Le(he),ae=Ze(se);ks(ae);var V;Ue(he),di(()=>{Pr(he,1,`flex cursor-pointer items-center justify-between gap-2 p-2 text-left text-base ${(q(ce).id===q(s).id?"bg-accent text-main":"")??""}`),yi(se,`${q(ce).name??""} `),ja(ae,"id",q(ce).id),V!==(V=q(ce))&&(ae.value=(ae.__value=q(ce))==null?"":q(ce))}),zg(h,[],ae,()=>(q(ce),q(s)),J=>st(s,J)),Ve(Ae,he)}),Ue(O),Ga(2),Ue(E),ba(3,E,()=>ds,()=>({duration:300,x:-100,opacity:0})),Ve(R,E)};It(w,R=>{c()&&R(I)})}Ve(t,x),_i(),n()}$a(["click"]);var ZX=ft('<div class="bg-base absolute z-50"> </div>');function HX(t,e){mi(e,!1);const[a,n]=rr(),c=()=>zi(_N,"$tooltip",a);Vo();var f=xi(),h=kt(f);{var s=x=>{var w=ZX(),I=Le(w,!0);Ue(w),di(()=>{hn(w,`top: ${c().y+10}px;left: ${c().x+10}px;`),yi(I,c().text)}),Ve(x,w)};It(h,x=>{c().visible&&x(s)})}Ve(t,f),_i(),n()}const OX=""+new URL("../assets/2001.CwL8XJaL.svg",import.meta.url).href;var XX=ft('<div class="c-loading svelte-1wdd9k2"><div class="spinner svelte-1wdd9k2"></div> <img alt="Logo" class="absolute left-0 top-0 h-full w-full" width="800" height="1052"></div>');function VX(t,e){mi(e,!0);let a=$t(!1),n=$t(null);Mr(async()=>{await N1(1500),da.onInitialized(s=>{s?s.on("load",()=>{s.resize(),st(a,!1)}):(s.resize(),st(a,!1))})});var c=xi(),f=kt(c);{var h=s=>{var x=XX(),w=Ze(Le(x),2);ja(w,"src",OX),Ue(x),wn(x,I=>st(n,I),()=>q(n)),ba(3,x,()=>As,()=>({duration:300})),Ve(s,x)};It(f,s=>{q(a)&&s(h)})}Ve(t,c),_i()}var GX=ft('<div class="bg-main w-side-menu flex h-full shrink-0 flex-col"></div>'),jX=ft('<div class="relative flex h-full w-full grow"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <!>  <!> <!> <!> <!> <!>',1);function gV(t,e){mi(e,!0);const[a,n]=rr(),c=()=>zi(to,"$selectedLayerId",a),f=()=>zi(OA,"$isStyleEdit",a),h=()=>zi(Pl,"$isStreetView",a),s=()=>zi(QA,"$mapMode",a),x=()=>zi(Fs,"$isSideMenuType",a);let w=$t(Jr([])),I=ra(()=>[...Qg,...q(w)]),R=$t(Jr([])),E=$t(null),M=ra(()=>{const pt=q(R).find(ci=>ci.id===c());return pt&&f()?pt:null}),Y=$t(""),D=$t(null),O=$t(Jr({})),H=$t(null),$=$t(null),Ae=$t(Jr({type:"FeatureCollection",features:[]})),ce=$t(Jr({type:"FeatureCollection",features:[]})),he=$t(0),se=$t(!0),ae=$t(!1),V=$t(null),J=$t(!1),ge=$t(null);const le=document.createElement("div");document.body.appendChild(le),Mr(async()=>{A7(wD,{target:le,props:{cameraBearing:q(he),angleMarker:q(H)}}),st(Ae,await ng(`${F1}/nodes.fgb`),!0),st(ce,await ng(`${F1}/links.fgb`),!0),st(O,await fetch(`${F1}/node_connections.json`).then(pt=>pt.json()),!0),WI()});const _e=async pt=>{var fa;if(!pt)return;const ci=pt.properties.ID;qI(ci);const qi=(q(O)[ci]||[]).map(Ri=>q(Ae).features.find(ea=>ea.properties.ID===Ri)).filter(Ri=>Ri!==void 0).map(Ri=>({featureData:Ri,bearing:rB(pt,Ri)})),Si=da.getMap();Si&&(h()&&(ve(Si,pt.geometry.coordinates),Si.panTo(pt.geometry.coordinates,{duration:1e3,animate:!0})),q(H)&&q(H).remove(),st(H,new Ps.Marker({element:le,pitchAlignment:"map",rotationAlignment:"map",draggable:!0,rotation:-q(he)+180}).setLngLat(pt.geometry.coordinates).addTo(Si),!0),q(H).togglePopup(),st(D,qi,!0),st($,pt,!0),(fa=q(H))==null||fa.on("dragend",()=>{var wi;const Ri=(wi=q(H))==null?void 0:wi.getLngLat();if(!Ri)return;const ea=Fb([Ri.lng,Ri.lat],q(Ae));_e(ea)}))};Cr(()=>{q(he)&&q(H)&&q(H).setRotation(-q(he)+180)}),da.onClick(pt=>{if(!(!pt||s()==="edit")&&q(Ae).features.length>0){const ci=Fb([pt.lngLat.lng,pt.lngLat.lat],q(Ae));nB(ci,[pt.lngLat.lng,pt.lngLat.lat],{units:"meters"})<100&&_e(ci)}});const ve=(pt,ci)=>{const qi=pt.queryTerrainElevation(ci);pt.setCenterClampedToGround(!1),pt.setCenterElevation(qi??0),console.warn("elevation",qi),pt._elevationStart=pt._elevationTarget},He=pt=>{pt.setCenterClampedToGround(!0),pt.setCenterElevation(0),pt._elevationStart=pt._elevationTarget};Pl.subscribe(async pt=>{const ci=da.getMap();ci&&(pt?(ve(ci,q($).geometry.coordinates),ci.easeTo({center:q($).geometry.coordinates,zoom:20,duration:750,bearing:-q(he)+180,pitch:65}),await N1(750),st(se,!1),st(ae,!0),await N1(500),ci.setBearing(0),ci.setPitch(0),Oo(QA,"small")):(ci.easeTo({center:q($).geometry.coordinates,zoom:20,duration:0,bearing:-q(he)+180,pitch:65}),Oo(QA,"view"),st(se,!0),st(ae,!1),He(ci),await N1(300),ci.easeTo({zoom:17,bearing:0,pitch:0,duration:750})))}),eg.subscribe(pt=>{st(R,q(I).filter(ci=>pt.includes(ci.id)),!0)}),F6(pt=>{pt.forEach(ci=>{const qi=q(I).findIndex(Si=>Si.id===ci.id);qi!==-1&&(q(I)[qi]={...ci})})},100);var nt=jX(),$e=kt(nt),Je=Le($e);{var gt=pt=>{var ci=GX();ba(1,ci,()=>Dm,()=>({duration:1,delay:200,axis:"x"})),Ve(pt,ci)};It(Je,pt=>{x()&&pt(gt)})}var Rt=Ze(Je,2);eL(Rt,{get layerEntries(){return q(R)},set layerEntries(pt){st(R,pt,!0)},get tempLayerEntries(){return q(w)},set tempLayerEntries(pt){st(w,pt,!0)}});var Yt=Ze(Rt,2);bD(Yt,{get layerEntries(){return q(R)},get featureMenuData(){return q(V)},set featureMenuData(pt){st(V,pt,!0)},get inputSearchWord(){return q(Y)},set inputSearchWord(pt){st(Y,pt,!0)},get showSelectionMarker(){return q(J)},set showSelectionMarker(pt){st(J,pt,!0)},get selectionMarkerLngLat(){return q(ge)},set selectionMarkerLngLat(pt){st(ge,pt,!0)}});var ot=Ze(Yt,2);dQ(ot,{get streetViewLineData(){return q(ce)},get streetViewPointData(){return q(Ae)},get angleMarker(){return q(H)},get streetViewPoint(){return q($)},get showMapCanvas(){return q(se)},get layerEntries(){return q(R)},set layerEntries(pt){st(R,pt,!0)},get tempLayerEntries(){return q(w)},set tempLayerEntries(pt){st(w,pt,!0)},get showDataEntry(){return q(E)},set showDataEntry(pt){st(E,pt,!0)},get featureMenuData(){return q(V)},set featureMenuData(pt){st(V,pt,!0)},get showSelectionMarker(){return q(J)},set showSelectionMarker(pt){st(J,pt,!0)},get selectionMarkerLngLat(){return q(ge)},set selectionMarkerLngLat(pt){st(ge,pt,!0)}});var mt=Ze(ot,2);wN(mt,{});var je=Ze(mt,2);zY(je);var Qe=Ze(je,2);tP(Qe,{get layerEntry(){return q(M)},set layerEntry(pt){st(M,pt,!0)},get tempLayerEntries(){return q(w)},set tempLayerEntries(pt){st(w,pt,!0)}});var it=Ze(Qe,2);YY(it,{get layerEntries(){return q(R)},get featureMenuData(){return q(V)},set featureMenuData(pt){st(V,pt,!0)}});var rt=Ze(it,2);VQ(rt,{get showDataEntry(){return q(E)},set showDataEntry(pt){st(E,pt,!0)}});var Bt=Ze(rt,2);zX(Bt,{});var yt=Ze(Bt,2);{var Dt=pt=>{xI(pt,{get showDataEntry(){return q(E)},set showDataEntry(ci){st(E,ci,!0)}})};It(yt,pt=>{q(E)||pt(Dt)})}var Ot=Ze(yt,2);{var Ct=pt=>{bQ(pt,{get showDataEntry(){return q(E)},set showDataEntry(ci){st(E,ci,!0)}})};It(Ot,pt=>{q(E)&&pt(Ct)})}var Qt=Ze(Ot,2);QX(Qt,{get streetViewPoint(){return q($)},get nextPointData(){return q(D)},get showThreeCanvas(){return q(ae)},setPoint:_e,get cameraBearing(){return q(he)},set cameraBearing(pt){st(he,pt,!0)}}),Ue($e);var ui=Ze($e,2);HX(ui,{});var Nt=Ze(ui,2);vD(Nt,{});var Zt=Ze(Nt,2);gQ(Zt,{});var oi=Ze(Zt,2);BI(oi,{});var fi=Ze(oi,2);MI(fi,{});var Kt=Ze(fi,2);VX(Kt,{}),Ve(t,nt),_i(),n()}export{gV as component};
